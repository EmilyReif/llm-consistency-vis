/*! For license information please see main.644af6b5.js.LICENSE.txt */
(()=>{var __webpack_modules__={9:()=>{},43:(e,t,n)=>{"use strict";e.exports=n(202)},52:()=>{},78:(e,t)=>{"use strict";t.Lb=void 0;class n extends Error{constructor(){super("EmptyVectorError::the vectors being compared cannot be empty.")}}class r extends Error{constructor(){super("InvalidParameterType::the parameters must be arrays of numbers.")}}class i extends Error{constructor(){super("NotNumberVectorError::the vectors being compared must contain only numbers.")}}class a extends Error{constructor(){super("MissingVectorError::the vectors being compared must be provided.")}}class o extends Error{constructor(){super("ZeroVectorError::the vectors being compared cannot be all zeros.")}}t.Lb=(e,t)=>{let s=0,l=0,c=0;if(!e||!t)throw new a;if(!Array.isArray(e)||!Array.isArray(t))throw new r;if(!e.length||!t.length)throw new n;const u=Math.max(e.length,t.length);for(let n=0;n<u;n++){let r=e[n]||0,a=t[n]||0;if("number"!==typeof r||"number"!==typeof a)throw new i;s+=r*a,n<e.length&&(l+=e[n]*e[n]),n<t.length&&(c+=t[n]*t[n])}if(!l||!c)throw new o;return s/(Math.sqrt(l)*Math.sqrt(c))}},81:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InferenceSession:()=>f,Tensor:()=>h,env:()=>o,registerBackend:()=>a});const r={},i=[],a=(e,t,n)=>{if(!t||"function"!==typeof t.init||"function"!==typeof t.createSessionHandler)throw new TypeError("not a valid backend");{const a=r[e];if(void 0===a)r[e]={backend:t,priority:n};else{if(a.priority>n)return;if(a.priority===n&&a.backend!==t)throw new Error('cannot register backend "'.concat(e,'" using priority ').concat(n))}if(n>=0){const t=i.indexOf(e);-1!==t&&i.splice(t,1);for(let a=0;a<i.length;a++)if(r[i[a]].priority<=n)return void i.splice(a,0,e);i.push(e)}}};const o=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!==typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: ".concat(e));this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}},s="undefined"!==typeof BigInt64Array&&"function"===typeof BigInt64Array.from,l="undefined"!==typeof BigUint64Array&&"function"===typeof BigUint64Array.from,c=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),u=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);s&&(c.set("int64",BigInt64Array),u.set(BigInt64Array,"int64")),l&&(c.set("uint64",BigUint64Array),u.set(BigUint64Array,"uint64"));class d{constructor(e,t,n){let r,i,a;if("string"===typeof e)if(r=e,a=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{const n=c.get(e);if(void 0===n)throw new TypeError("Unsupported tensor type: ".concat(e,"."));if(Array.isArray(t))i=n.from(t);else{if(!(t instanceof n))throw new TypeError("A ".concat(r," tensor's data must be type of ").concat(n));i=t}}else if(a=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)r="string",i=e;else{if("boolean"!==t)throw new TypeError("Invalid element type of data array: ".concat(t,"."));r="bool",i=Uint8Array.from(e)}}else{const t=u.get(e.constructor);if(void 0===t)throw new TypeError("Unsupported type for tensor data: ".concat(e.constructor,"."));r=t,i=e}if(void 0===a)a=[i.length];else if(!Array.isArray(a))throw new TypeError("A tensor's dims must be a number array");const o=(e=>{let t=1;for(let n=0;n<e.length;n++){const r=e[n];if("number"!==typeof r||!Number.isSafeInteger(r))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(r));if(r<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(r));t*=r}return t})(a);if(o!==i.length)throw new Error("Tensor's size(".concat(o,") does not match data length(").concat(i.length,")."));this.dims=a,this.type=r,this.data=i,this.size=o}static bufferToTensor(e,t){if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");const{height:n,width:r}=t,i=t.norm;let a,o;a=void 0===i||void 0===i.mean?255:i.mean,o=void 0===i||void 0===i.bias?0:i.bias;const s=void 0!==t.bitmapFormat?t.bitmapFormat:"RGBA",l=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",c=n*r,u="RGBA"===l?new Float32Array(4*c):new Float32Array(3*c);let h=4,p=0,f=1,m=2,g=3,y=0,b=c,w=2*c,v=-1;"RGB"===s&&(h=3,p=0,f=1,m=2,g=-1),"RGBA"===l?v=3*c:"RBG"===l?(y=0,w=c,b=2*c):"BGR"===l&&(w=0,b=c,y=2*c);for(let d=0;d<c;d++,p+=h,m+=h,f+=h,g+=h)u[y++]=(e[p]+o)/a,u[b++]=(e[f]+o)/a,u[w++]=(e[m]+o)/a,-1!==v&&-1!==g&&(u[v++]=(e[g]+o)/a);return new d("float32",u,"RGBA"===l?[1,4,n,r]:[1,3,n,r])}static async fromImage(e,t){const n="undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement,r="undefined"!==typeof ImageData&&e instanceof ImageData,i="undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap,a="undefined"!==typeof String&&(e instanceof String||"string"===typeof e);let o,s={};if(n){const n=document.createElement("canvas"),r=n.getContext("2d");if(null==r)throw new Error("Can not access image data");{let i=e.naturalHeight,a=e.naturalWidth;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(i=t.resizedHeight,a=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(s.tensorFormat="RGBA",void 0!==t.height&&t.height!==i)throw new Error("Image input config height doesn't match HTMLImageElement height");if(s.height=i,void 0!==t.width&&t.width!==a)throw new Error("Image input config width doesn't match HTMLImageElement width");s.width=a}else s.tensorFormat="RGBA",s.height=i,s.width=a;n.width=a,n.height=i,r.drawImage(e,0,0,a,i),o=r.getImageData(0,0,a,i).data}}else{if(!r){if(i){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");if(void 0!==t.bitmapFormat)throw new Error("Image input config format must be defined for ImageBitmap");const n=document.createElement("canvas").getContext("2d");if(null!=n){const r=e.height,i=e.width;if(n.drawImage(e,0,0,i,r),o=n.getImageData(0,0,i,r).data,void 0!==t){if(void 0!==t.height&&t.height!==r)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=r,void 0!==t.width&&t.width!==i)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=i}else s.height=r,s.width=i;return d.bufferToTensor(o,s)}throw new Error("Can not access image data")}if(a)return new Promise(((n,r)=>{const i=document.createElement("canvas"),a=i.getContext("2d");if(!e||!a)return r();const o=new Image;o.crossOrigin="Anonymous",o.src=e,o.onload=()=>{i.width=o.width,i.height=o.height,a.drawImage(o,0,0,i.width,i.height);const e=a.getImageData(0,0,i.width,i.height);if(void 0!==t){if(void 0!==t.height&&t.height!==i.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=i.height,void 0!==t.width&&t.width!==i.width)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=i.width}else s.height=i.height,s.width=i.width;n(d.bufferToTensor(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{const n="RGBA";let r,i;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(r=t.resizedHeight,i=t.resizedWidth):(r=e.height,i=e.width),void 0!==t){if(s=t,void 0!==t.bitmapFormat&&t.bitmapFormat!==n)throw new Error("Image input config format must be RGBA for ImageData");s.bitmapFormat="RGBA"}else s.bitmapFormat="RGBA";if(s.height=r,s.width=i,void 0!==t){const t=document.createElement("canvas");t.width=i,t.height=r;const n=t.getContext("2d");if(null==n)throw new Error("Can not access image data");n.putImageData(e,0,0),o=n.getImageData(0,0,i,r).data}else o=e.data}}if(void 0!==o)return d.bufferToTensor(o,s);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){var t,n;const r=document.createElement("canvas").getContext("2d");let i;if(null==r)throw new Error("Can not access image data");{const a=this.dims[3],o=this.dims[2],s=this.dims[1],l=void 0!==e&&void 0!==e.format?e.format:"RGB",c=void 0!==e&&void 0!==(null===(t=e.norm)||void 0===t?void 0:t.mean)?e.norm.mean:255,u=void 0!==e&&void 0!==(null===(n=e.norm)||void 0===n?void 0:n.bias)?e.norm.bias:0,d=o*a;if(void 0!==e){if(void 0!==e.height&&e.height!==o)throw new Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==a)throw new Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===s&&"RGBA"!==e.format||3===s&&"RGB"!==e.format&&"BGR"!==e.format)throw new Error("Tensor format doesn't match input tensor dims")}const h=4;let p=0,f=1,m=2,g=3,y=0,b=d,w=2*d,v=-1;"RGBA"===l?(y=0,b=d,w=2*d,v=3*d):"RGB"===l?(y=0,b=d,w=2*d):"RBG"===l&&(y=0,w=d,b=2*d),i=r.createImageData(a,o);for(let e=0;e<o*a;p+=h,f+=h,m+=h,g+=h,e++)i.data[p]=(this.data[y++]-u)*c,i.data[f]=(this.data[b++]-u)*c,i.data[m]=(this.data[w++]-u)*c,i.data[g]=-1===v?255:(this.data[v++]-u)*c}return i}reshape(e){return new d(this.type,this.data,e)}}const h=d;class p{constructor(e){this.handler=e}async run(e,t,n){const r={};let i={};if("object"!==typeof e||null===e||e instanceof h||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let a=!0;if("object"===typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof h)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");a=!1;for(const e of t){if("string"!==typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError("'fetches' contains invalid output name: ".concat(e,"."));r[e]=null}if("object"===typeof n&&null!==n)i=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else{let e=!1;const o=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==o.indexOf(n)){const i=t[n];(null===i||i instanceof h)&&(e=!0,a=!1,r[n]=i)}if(e){if("object"===typeof n&&null!==n)i=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else i=t}}else if("undefined"!==typeof t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const l of this.inputNames)if("undefined"===typeof e[l])throw new Error("input '".concat(l,"' is missing in 'feeds'."));if(a)for(const l of this.outputNames)r[l]=null;const o=await this.handler.run(e,r,i),s={};for(const l in o)Object.hasOwnProperty.call(o,l)&&(s[l]=new h(o[l].type,o[l].data,o[l].dims));return s}static async create(e,t,n,a){let o,s={};if("string"===typeof e){if(o=e,"object"===typeof t&&null!==t)s=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(o=e,"object"===typeof t&&null!==t)s=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const r=e;let i=0,l=e.byteLength;if("object"===typeof t&&null!==t)s=t;else if("number"===typeof t){if(i=t,!Number.isSafeInteger(i))throw new RangeError("'byteOffset' must be an integer.");if(i<0||i>=r.byteLength)throw new RangeError("'byteOffset' is out of range [0, ".concat(r.byteLength,")."));if(l=e.byteLength-i,"number"===typeof n){if(l=n,!Number.isSafeInteger(l))throw new RangeError("'byteLength' must be an integer.");if(l<=0||i+l>r.byteLength)throw new RangeError("'byteLength' is out of range (0, ".concat(r.byteLength-i,"]."));if("object"===typeof a&&null!==a)s=a;else if("undefined"!==typeof a)throw new TypeError("'options' must be an object.")}else if("undefined"!==typeof n)throw new TypeError("'byteLength' must be a number.")}else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.");o=new Uint8Array(r,i,l)}}const l=(s.executionProviders||[]).map((e=>"string"===typeof e?e:e.name)),c=await(async e=>{const t=0===e.length?i:e,n=[];for(const i of t){const e=r[i];if(e){if(e.initialized)return e.backend;if(e.aborted)continue;const t=!!e.initPromise;try{return t||(e.initPromise=e.backend.init()),await e.initPromise,e.initialized=!0,e.backend}catch(a){t||n.push({name:i,err:a}),e.aborted=!0}finally{delete e.initPromise}}}throw new Error("no available backend found. ERR: ".concat(n.map((e=>"[".concat(e.name,"] ").concat(e.err))).join(", ")))})(l),u=await c.createSessionHandler(o,s);return new p(u)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const f=p},98:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ort-wasm-simd-threaded.jsep.666d0398a1e13e9c0c1d.wasm"},143:()=>{},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},191:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===a||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var v=w.prototype=new b;v.constructor=w,m(v,y.prototype),v.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!D.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+C(l,0):a,_(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),E(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var u=a+C(s=e[c],c);l+=E(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,i,u=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function F(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},z={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:F,forEach:function(e,t,n){F(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return F(e,(function(){t++})),t},toArray:function(e){return F(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.act=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!D.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,v(e),!m)if(null!==r(c))m=!0,P(x);else{var t=r(u);null!==t&&z(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,b(A),A=-1),f=!0;var a=p;try{for(v(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!E());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),v(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&z(_,d.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,D=!1,T=null,A=-1,S=5,C=-1;function E(){return!(t.unstable_now()-C<S)}function F(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?k():(D=!1,T=null)}}else D=!1}if("function"===typeof w)k=function(){w(F)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,I=M.port2;M.port1.onmessage=F,k=function(){I.postMessage(null)}}else k=function(){y(F,0)};function P(e){T=e,D||(D=!0,k())}function z(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(A),A=-1):g=!0,z(_,a-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,P(x))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},327:(e,t,n)=>{"use strict";var r,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(l,{getContext:()=>c.getContext,getVercelOidcToken:()=>u,getVercelOidcTokenSync:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of o(t))s.call(e,l)||l===n||i(e,l,{get:()=>t[l],enumerable:!(r=a(t,l))||r.enumerable});return e})(i({},"__esModule",{value:!0}),r));var c=n(812);async function u(){return""}function d(){return""}},330:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),o((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},431:(module,__unused_webpack_exports,__webpack_require__)=>{var e;self,e=__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(e,t,n)=>{var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return I.buffer!=z&&G(I.buffer),N}function i(){return I.buffer!=z&&G(I.buffer),O}function a(){return I.buffer!=z&&G(I.buffer),B}function o(){return I.buffer!=z&&G(I.buffer),L}function s(){return I.buffer!=z&&G(I.buffer),R}var l,c,u;e=e||{},l||(l=void 0!==e?e:{}),l.ready=new Promise((function(e,t){c=e,u=t}));var d,h,p,f,m,g,y=Object.assign({},l),b="./this.program",w=(e,t)=>{throw t},v="object"==typeof window,_="function"==typeof importScripts,x="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,k=l.ENVIRONMENT_IS_PTHREAD||!1,D="";function T(e){return l.locateFile?l.locateFile(e,D):D+e}if(x){let t;D=_?n(908).dirname(D)+"/":"//",g=()=>{m||(f=n(1384),m=n(908))},d=function(e,t){return g(),e=m.normalize(e),f.readFileSync(e,t?void 0:"utf8")},p=e=>((e=d(e,!0)).buffer||(e=new Uint8Array(e)),e),h=(e,t,n)=>{g(),e=m.normalize(e),f.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(b=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ce))throw e})),process.on("unhandledRejection",(function(e){throw e})),w=(e,t)=>{if(Q())throw process.exitCode=e,t;t instanceof ce||F("exiting due to exception: "+t),process.exit(e)},l.inspect=function(){return"[Emscripten Module object]"};try{t=n(9925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=t.Worker}else(v||_)&&(_?D=self.location.href:"undefined"!=typeof document&&document.currentScript&&(D=document.currentScript.src),r&&(D=r),D=0!==D.indexOf("blob:")?D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1):"",x||(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));x&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var A=console.log.bind(console),S=console.warn.bind(console);x&&(g(),A=e=>f.writeSync(1,e+"\n"),S=e=>f.writeSync(2,e+"\n"));var C,E=l.print||A,F=l.printErr||S;Object.assign(l,y),y=null,l.thisProgram&&(b=l.thisProgram),l.quit&&(w=l.quit),l.wasmBinary&&(C=l.wasmBinary);var M=l.noExitRuntime||!1;"object"!=typeof WebAssembly&&ae("no native wasm support detected");var I,P,z,N,O,B,L,R,j=!1,V="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function W(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&V)return V.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function q(e,t){return(e>>>=0)?W(i(),e,t):""}function U(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++>>>0]=224|o>>12}else{if(n+3>=r)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-i}function H(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){z=e,l.HEAP8=N=new Int8Array(e),l.HEAP16=new Int16Array(e),l.HEAP32=B=new Int32Array(e),l.HEAPU8=O=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAPU32=L=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=R=new Float64Array(e)}k&&(z=l.buffer);var K=l.INITIAL_MEMORY||16777216;if(k)I=l.wasmMemory,z=l.buffer;else if(l.wasmMemory)I=l.wasmMemory;else if(!((I=new WebAssembly.Memory({initial:K/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw F("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");I&&(z=I.buffer),K=z.byteLength,G(z);var Y,J=[],Z=[],X=[],$=[];function Q(){return M||!1}function ee(){var e=l.preRun.shift();J.unshift(e)}var te,ne=0,re=null,ie=null;function ae(e){throw k?postMessage({cmd:"onAbort",arg:e}):l.onAbort&&l.onAbort(e),F(e="Aborted("+e+")"),j=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function oe(){return te.startsWith("data:application/octet-stream;base64,")}function se(){var e=te;try{if(e==te&&C)return new Uint8Array(C);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}te="ort-wasm-threaded.wasm",oe()||(te=T(te));var le={};function ce(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ue(e){(e=fe.Vb[e])||ae(),fe.mc(e)}function de(e){var t=fe.Cc();if(!t)return 6;fe.ac.push(t),fe.Vb[e.Ub]=t,t.Ub=e.Ub;var n={cmd:"run",start_routine:e.Ic,arg:e.zc,pthread_ptr:e.Ub};return t.$b=()=>{n.time=performance.now(),t.postMessage(n,e.Nc)},t.loaded&&(t.$b(),delete t.$b),0}function he(e){if(k)return Ke(1,1,e);Q()||(fe.oc(),l.onExit&&l.onExit(e),j=!0),w(e,new ce(e))}function pe(e,t){if(!t&&k)throw ge(e),"unwind";Q()||k||(yt(),me(X),gt(0),rt[1].length&&it(1,10),rt[2].length&&it(2,10),fe.oc()),he(e)}var fe={Yb:[],ac:[],qc:[],Vb:{},fc:function(){k&&fe.Ec()},Pc:function(){},Ec:function(){fe.receiveObjectTransfer=fe.Gc,fe.threadInitTLS=fe.pc,fe.setExitStatus=fe.nc,M=!1},nc:function(){},oc:function(){for(var e of Object.values(fe.Vb))fe.mc(e);for(e of fe.Yb)e.terminate();fe.Yb=[]},mc:function(e){var t=e.Ub;delete fe.Vb[t],fe.Yb.push(e),fe.ac.splice(fe.ac.indexOf(e),1),e.Ub=0,xt(t)},Gc:function(){},pc:function(){fe.qc.forEach((e=>e()))},Fc:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ub&&(fe.Bc=e.Ub),n.targetThread&&n.targetThread!=pt()){var i=fe.Vb[n.Qc];i?i.postMessage(n,n.transferList):F('Internal error! Worker sent a message "'+r+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?Ve(n.queue):"spawnThread"===r?de(n):"cleanupThread"===r?ue(n.thread):"killThread"===r?(n=n.thread,r=fe.Vb[n],delete fe.Vb[n],r.terminate(),xt(n),fe.ac.splice(fe.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?fe.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.$b&&(e.$b(),delete e.$b)):"print"===r?E("Thread "+n.threadId+": "+n.text):"printErr"===r?F("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?l.onAbort&&l.onAbort(n.arg):r&&F("worker sent an unknown command "+r);fe.Bc=void 0},e.onerror=e=>{throw F("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},x&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:l.mainScriptUrlOrBlob||r,wasmMemory:I,wasmModule:P})},yc:function(){var e=T("ort-wasm-threaded.worker.js");fe.Yb.push(new Worker(e))},Cc:function(){return 0==fe.Yb.length&&(fe.yc(),fe.Fc(fe.Yb[0])),fe.Yb.pop()}};function me(e){for(;0<e.length;)e.shift()(l)}function ge(e){if(k)return Ke(2,0,e);try{pe(e)}catch(e){e instanceof ce||"unwind"==e||w(1,e)}}l.PThread=fe,l.establishStackSpace=function(){var e=pt(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],Tt(t,t-e),St(t)};var ye=[];function be(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=Y.get(e)),t}l.invokeEntryPoint=function(e,t){e=be(e)(t),Q()?fe.nc(e):kt(e)};var we,ve,_e=[],xe=0,ke=0;function De(e){this.Zb=e,this.Sb=e-24,this.xc=function(e){o()[this.Sb+4>>2>>>0]=e},this.bc=function(){return o()[this.Sb+4>>2>>>0]},this.wc=function(e){o()[this.Sb+8>>2>>>0]=e},this.Dc=function(){return o()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(e){e=e?1:0,t()[(this.Sb+12|0)>>>0]=e},this.uc=function(){return 0!=t()[(this.Sb+12|0)>>>0]},this.ic=function(e){e=e?1:0,t()[(this.Sb+13|0)>>>0]=e},this.kc=function(){return 0!=t()[(this.Sb+13|0)>>>0]},this.fc=function(e,t){this.cc(0),this.xc(e),this.wc(t),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(e){o()[this.Sb+16>>2>>>0]=e},this.tc=function(){return o()[this.Sb+16>>2>>>0]},this.vc=function(){if(Ft(this.bc()))return o()[this.Zb>>2>>>0];var e=this.tc();return 0!==e?e:this.Zb}}function Te(e){return mt(new De(e).Sb)}function Ae(e,t,n,r){return k?Ke(3,1,e,t,n,r):Se(e,t,n,r)}function Se(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return F("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var i=[];return k&&0===i.length?Ae(e,t,n,r):(e={Ic:n,Ub:e,zc:r,Nc:i},k?(e.Oc="spawnThread",postMessage(e,i),0):de(e))}function Ce(e,t,n){return k?Ke(4,1,e,t,n):0}function Ee(e,t){if(k)return Ke(5,1,e,t)}function Fe(e,t){if(k)return Ke(6,1,e,t)}function Me(e,t,n){if(k)return Ke(7,1,e,t,n)}function Ie(e,t,n){return k?Ke(8,1,e,t,n):0}function Pe(e,t){if(k)return Ke(9,1,e,t)}function ze(e,t,n){if(k)return Ke(10,1,e,t,n)}function Ne(e,t,n,r){if(k)return Ke(11,1,e,t,n,r)}function Oe(e,t,n,r){if(k)return Ke(12,1,e,t,n,r)}function Be(e,t,n,r){if(k)return Ke(13,1,e,t,n,r)}function Le(e){if(k)return Ke(14,1,e)}function Re(e,t){if(k)return Ke(15,1,e,t)}function je(e,t,n){if(k)return Ke(16,1,e,t,n)}function Ve(e){Atomics.store(a(),e>>2,1),pt()&&_t(e),Atomics.compareExchange(a(),e>>2,1,0)}function We(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function qe(e,t,n,r,i,a){return k?Ke(17,1,e,t,n,r,i,a):-52}function Ue(e,t,n,r,i,a){if(k)return Ke(18,1,e,t,n,r,i,a)}function He(e){var n=H(e)+1,r=ft(n);return r&&U(e,t(),r,n),r}function Ge(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(k)return Ke(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),l=new Date(i,6,1);i=s.getTimezoneOffset();var c=l.getTimezoneOffset(),u=Math.max(i,c);a()[e>>2>>>0]=60*u,a()[t>>2>>>0]=Number(i!=c),e=r(s),t=r(l),e=He(e),t=He(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function Ke(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=At();return e=e(),St(t),e}((()=>{for(var i=Ct(8*n),a=i>>3,o=0;o<n;o++){var l=r[2+o];s()[a+o>>>0]=l}return vt(e,n,i,t)}))}l.executeNotifiedProxyingQueue=Ve,ve=x?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:k?()=>performance.now()-l.__performance_now_clock_drift:()=>performance.now();var Ye,Je=[],Ze={};function Xe(){if(!Ye){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"};for(e in Ze)void 0===Ze[e]?delete t[e]:t[e]=Ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ye=n}return Ye}function $e(e,n){if(k)return Ke(20,1,e,n);var r=0;return Xe().forEach((function(i,a){var s=n+r;for(a=o()[e+4*a>>2>>>0]=s,s=0;s<i.length;++s)t()[(0|a++)>>>0]=i.charCodeAt(s);t()[(0|a)>>>0]=0,r+=i.length+1})),0}function Qe(e,t){if(k)return Ke(21,1,e,t);var n=Xe();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function et(e){return k?Ke(22,1,e):52}function tt(e,t,n,r){return k?Ke(23,1,e,t,n,r):52}function nt(e,t,n,r,i){return k?Ke(24,1,e,t,n,r,i):70}var rt=[null,[],[]];function it(e,t){var n=rt[e];0===t||10===t?((1===e?E:F)(W(n,0)),n.length=0):n.push(t)}function at(e,t,n,r){if(k)return Ke(25,1,e,t,n,r);for(var a=0,s=0;s<n;s++){var l=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var u=0;u<c;u++)it(e,i()[l+u>>>0]);a+=c}return o()[r>>2>>>0]=a,0}var ot=0;function st(e){return 0==e%4&&(0!=e%100||0==e%400)}var lt=[31,29,31,30,31,30,31,31,30,31,30,31],ct=[31,28,31,30,31,30,31,31,30,31,30,31];function ut(e,n,r,i){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return o(e,t,"0")}function l(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.Wb;for(e=new Date(new Date(e.Xb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(st(e.getFullYear())?lt:ct)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=l(t,e)?0>=l(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var d=a()[i+40>>2>>>0];for(var h in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:d?q(d):""},r=q(r),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(h,"g"),d[h]);var p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),f="January February March April May June July August September October November December".split(" ");for(h in d={"%a":function(e){return p[e.Tb].substring(0,3)},"%A":function(e){return p[e.Tb]},"%b":function(e){return f[e.ec].substring(0,3)},"%B":function(e){return f[e.ec]},"%C":function(e){return s((e.Xb+1900)/100|0,2)},"%d":function(e){return s(e.jc,2)},"%e":function(e){return o(e.jc,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return s(e.dc,2)},"%I":function(e){return 0==(e=e.dc)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ec-1;t+=(st(e.Xb+1900)?lt:ct)[n++]);return s(e.jc+t,3)},"%m":function(e){return s(e.ec+1,2)},"%M":function(e){return s(e.Kc,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.dc&&12>e.dc?"AM":"PM"},"%S":function(e){return s(e.Lc,2)},"%t":function(){return"\t"},"%u":function(e){return e.Tb||7},"%U":function(e){return s(Math.floor((e.Wb+7-e.Tb)/7),2)},"%V":function(e){var t=Math.floor((e.Wb+7-(e.Tb+6)%7)/7);if(2>=(e.Tb+371-e.Wb-2)%7&&t++,t)53==t&&(4==(n=(e.Tb+371-e.Wb)%7)||3==n&&st(e.Xb)||(t=1));else{t=52;var n=(e.Tb+7-e.Wb-1)%7;(4==n||5==n&&st(e.Xb%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Tb},"%W":function(e){return s(Math.floor((e.Wb+7-(e.Tb+6)%7)/7),2)},"%y":function(e){return(e.Xb+1900).toString().substring(2)},"%Y":function(e){return e.Xb+1900},"%z":function(e){var t=0<=(e=e.Jc);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\0\0"),d)r.includes(h)&&(r=r.replace(new RegExp(h,"g"),d[h](i)));return h=function(e){var t=Array(H(e)+1);return U(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),h.length>n?0:(function(e,n){t().set(e,n>>>0)}(h,e),h.length-1)}fe.fc();var dt=[null,he,ge,Ae,Ce,Ee,Fe,Me,Ie,Pe,ze,Ne,Oe,Be,Le,Re,je,qe,Ue,Ge,$e,Qe,et,tt,nt,at],ht={b:function(e){return ft(e+24)+24},n:function(e){return(e=new De(e)).uc()||(e.hc(!0),xe--),e.ic(!1),_e.push(e),e.sc(),e.vc()},ma:function(e){throw F("Unexpected exception thrown, this is not properly supported - aborting"),j=!0,e},x:function(){Dt(0);var e=_e.pop();if(e.Hc()&&!e.kc()){var t=e.Dc();t&&be(t)(e.Zb),Te(e.Zb)}ke=0},e:function(){var e=ke;if(!e)return ot=0;var t=new De(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Et(a,n,t.Sb+16))return ot=a,e}return ot=n,e},l:function(){var e=ke;if(!e)return ot=0;var t=new De(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Et(a,n,t.Sb+16))return ot=a,e}return ot=n,e},h:function(){var e=ke;if(!e)return ot=0;var t=new De(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Et(a,n,t.Sb+16))return ot=a,e}return ot=n,e},t:Te,M:function(){var e=_e.pop();e||ae("no exception to throw");var t=e.Zb;throw e.kc()||(_e.push(e),e.ic(!0),e.hc(!1),xe++),ke=t,t},c:function(e,t,n){throw new De(e).fc(t,n),ke=e,xe++,e},pa:function(){return xe},Fa:function(e){bt(e,!_,1,!v),fe.pc()},T:function(e){k?postMessage({cmd:"cleanupThread",thread:e}):ue(e)},xa:Se,j:function(e){throw ke||(ke=e),e},H:Ce,Ma:Ee,ua:Fe,wa:Me,oa:Ie,Ka:Pe,Ca:ze,Ja:Ne,V:Oe,va:Be,sa:Le,La:Re,ta:je,Ta:function(){},X:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(e,t,n,r){if(e==t)setTimeout((()=>Ve(r)));else if(k)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=fe.Vb[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(e,t){e=new Date(1e3*We(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},Qa:function(e,t){e=new Date(1e3*We(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Ra:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=i.getTimezoneOffset(),l=Math.min(s,o);return 0>n?a()[e+32>>2>>>0]=Number(o!=s&&l==r):0<n!=(l==r)&&(o=Math.max(s,o),t.setTime(t.getTime()+6e4*((0<n?l:o)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-i.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},Aa:qe,Ba:Ue,Sa:function e(t,n,r){e.Ac||(e.Ac=!0,Ge(t,n,r))},y:function(){ae("")},U:function(){if(!x&&!_){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";we||(we={}),we[e]||(we[e]=1,x&&(e="warning: "+e),F(e))}},ra:function(){return 4294901760},B:ve,Ia:function(e,t,n){i().copyWithin(e>>>0,t>>>0,t+n>>>0)},F:function(){return x?n(3993).cpus().length:navigator.hardwareConcurrency},Da:function(e,t,n){Je.length=t,n>>=3;for(var r=0;r<t;r++)Je[r]=s()[n+r>>>0];return(0>e?le[-e-1]:dt[e]).apply(null,Je)},qa:function(e){var t=i().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{I.grow(a-z.byteLength+65535>>>16),G(I.buffer);var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:$e,Ha:Qe,J:pe,I:et,S:tt,ga:nt,R:at,d:function(){return ot},na:function e(r,i){e.lc||(e.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(x)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>ae("randomDevice")}());for(var a=0;a<i;a++)t()[(r+a|0)>>>0]=e.lc();return 0},ia:function(e,t,n){var r=At();try{return be(e)(t,n)}catch(e){if(St(r),e!==e+0)throw e;Dt(1,0)}},ja:function(e,t,n){var r=At();try{return be(e)(t,n)}catch(e){if(St(r),e!==e+0)throw e;Dt(1,0)}},K:function(e){var t=At();try{return be(e)()}catch(e){if(St(t),e!==e+0)throw e;Dt(1,0)}},f:function(e,t){var n=At();try{return be(e)(t)}catch(e){if(St(n),e!==e+0)throw e;Dt(1,0)}},P:function(e,t,n){var r=At();try{return be(e)(t,n)}catch(e){if(St(r),e!==e+0)throw e;Dt(1,0)}},Q:function(e,t,n){var r=At();try{return be(e)(t,n)}catch(e){if(St(r),e!==e+0)throw e;Dt(1,0)}},k:function(e,t,n){var r=At();try{return be(e)(t,n)}catch(e){if(St(r),e!==e+0)throw e;Dt(1,0)}},p:function(e,t,n,r){var i=At();try{return be(e)(t,n,r)}catch(e){if(St(i),e!==e+0)throw e;Dt(1,0)}},q:function(e,t,n,r,i){var a=At();try{return be(e)(t,n,r,i)}catch(e){if(St(a),e!==e+0)throw e;Dt(1,0)}},N:function(e,t,n,r,i,a){var o=At();try{return be(e)(t,n,r,i,a)}catch(e){if(St(o),e!==e+0)throw e;Dt(1,0)}},s:function(e,t,n,r,i,a){var o=At();try{return be(e)(t,n,r,i,a)}catch(e){if(St(o),e!==e+0)throw e;Dt(1,0)}},w:function(e,t,n,r,i,a,o){var s=At();try{return be(e)(t,n,r,i,a,o)}catch(e){if(St(s),e!==e+0)throw e;Dt(1,0)}},L:function(e,t,n,r,i,a,o,s){var l=At();try{return be(e)(t,n,r,i,a,o,s)}catch(e){if(St(l),e!==e+0)throw e;Dt(1,0)}},E:function(e,t,n,r,i,a,o,s,l,c,u,d){var h=At();try{return be(e)(t,n,r,i,a,o,s,l,c,u,d)}catch(e){if(St(h),e!==e+0)throw e;Dt(1,0)}},aa:function(e,t,n,r,i,a,o,s){var l=At();try{return Rt(e,t,n,r,i,a,o,s)}catch(e){if(St(l),e!==e+0)throw e;Dt(1,0)}},_:function(e,t,n,r,i,a,o){var s=At();try{return It(e,t,n,r,i,a,o)}catch(e){if(St(s),e!==e+0)throw e;Dt(1,0)}},Z:function(e,t,n,r,i){var a=At();try{return jt(e,t,n,r,i)}catch(e){if(St(a),e!==e+0)throw e;Dt(1,0)}},ca:function(e,t,n,r){var i=At();try{return Bt(e,t,n,r)}catch(e){if(St(i),e!==e+0)throw e;Dt(1,0)}},$:function(e){var t=At();try{return Mt(e)}catch(e){if(St(t),e!==e+0)throw e;Dt(1,0)}},ba:function(e,t){var n=At();try{return Lt(e,t)}catch(e){if(St(n),e!==e+0)throw e;Dt(1,0)}},Y:function(e,t,n){var r=At();try{return Pt(e,t,n)}catch(e){if(St(r),e!==e+0)throw e;Dt(1,0)}},g:function(e){var t=At();try{be(e)()}catch(e){if(St(t),e!==e+0)throw e;Dt(1,0)}},r:function(e,t){var n=At();try{be(e)(t)}catch(e){if(St(n),e!==e+0)throw e;Dt(1,0)}},i:function(e,t,n){var r=At();try{be(e)(t,n)}catch(e){if(St(r),e!==e+0)throw e;Dt(1,0)}},ha:function(e,t,n,r){var i=At();try{be(e)(t,n,r)}catch(e){if(St(i),e!==e+0)throw e;Dt(1,0)}},m:function(e,t,n,r){var i=At();try{be(e)(t,n,r)}catch(e){if(St(i),e!==e+0)throw e;Dt(1,0)}},v:function(e,t,n,r,i){var a=At();try{be(e)(t,n,r,i)}catch(e){if(St(a),e!==e+0)throw e;Dt(1,0)}},u:function(e,t,n,r,i,a){var o=At();try{be(e)(t,n,r,i,a)}catch(e){if(St(o),e!==e+0)throw e;Dt(1,0)}},O:function(e,t,n,r,i,a,o){var s=At();try{be(e)(t,n,r,i,a,o)}catch(e){if(St(s),e!==e+0)throw e;Dt(1,0)}},A:function(e,t,n,r,i,a,o,s){var l=At();try{be(e)(t,n,r,i,a,o,s)}catch(e){if(St(l),e!==e+0)throw e;Dt(1,0)}},ka:function(e,t,n,r,i,a,o,s,l){var c=At();try{be(e)(t,n,r,i,a,o,s,l)}catch(e){if(St(c),e!==e+0)throw e;Dt(1,0)}},C:function(e,t,n,r,i,a,o,s,l,c,u){var d=At();try{be(e)(t,n,r,i,a,o,s,l,c,u)}catch(e){if(St(d),e!==e+0)throw e;Dt(1,0)}},D:function(e,t,n,r,i,a,o,s,l,c,u,d,h,p,f,m){var g=At();try{be(e)(t,n,r,i,a,o,s,l,c,u,d,h,p,f,m)}catch(e){if(St(g),e!==e+0)throw e;Dt(1,0)}},fa:function(e,t,n,r,i,a,o,s){var l=At();try{zt(e,t,n,r,i,a,o,s)}catch(e){if(St(l),e!==e+0)throw e;Dt(1,0)}},da:function(e,t,n,r,i,a,o,s,l,c,u,d){var h=At();try{Ot(e,t,n,r,i,a,o,s,l,c,u,d)}catch(e){if(St(h),e!==e+0)throw e;Dt(1,0)}},ea:function(e,t,n,r,i,a){var o=At();try{Nt(e,t,n,r,i,a)}catch(e){if(St(o),e!==e+0)throw e;Dt(1,0)}},o:function(e){return e},a:I||l.wasmMemory,G:function(e){ot=e},la:ut,z:function(e,t,n,r){return ut(e,t,n,r)}};!function(){function e(e,t){l.asm=e.exports,fe.qc.push(l.asm.sb),Y=l.asm.ub,Z.unshift(l.asm.Va),P=t,k||(ne--,l.monitorRunDependencies&&l.monitorRunDependencies(ne),0==ne&&(null!==re&&(clearInterval(re),re=null),ie&&(e=ie,ie=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!C&&(v||_)){if("function"==typeof fetch&&!te.startsWith("file://"))return fetch(te,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+te+"'";return e.arrayBuffer()})).catch((function(){return se()}));if(h)return new Promise((function(e,t){h(te,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return se()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){F("failed to asynchronously prepare wasm: "+e),ae(e)}))}var r={a:ht};if(k||(ne++,l.monitorRunDependencies&&l.monitorRunDependencies(ne)),l.instantiateWasm)try{return l.instantiateWasm(r,e)}catch(e){return F("Module.instantiateWasm callback failed with error: "+e),!1}(C||"function"!=typeof WebAssembly.instantiateStreaming||oe()||te.startsWith("file://")||x||"function"!=typeof fetch?n(t):fetch(te,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return F("wasm streaming compile failed: "+e),F("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(u)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.Va).apply(null,arguments)},l._OrtInit=function(){return(l._OrtInit=l.asm.Wa).apply(null,arguments)},l._OrtCreateSessionOptions=function(){return(l._OrtCreateSessionOptions=l.asm.Xa).apply(null,arguments)},l._OrtAppendExecutionProvider=function(){return(l._OrtAppendExecutionProvider=l.asm.Ya).apply(null,arguments)},l._OrtAddSessionConfigEntry=function(){return(l._OrtAddSessionConfigEntry=l.asm.Za).apply(null,arguments)},l._OrtReleaseSessionOptions=function(){return(l._OrtReleaseSessionOptions=l.asm._a).apply(null,arguments)},l._OrtCreateSession=function(){return(l._OrtCreateSession=l.asm.$a).apply(null,arguments)},l._OrtReleaseSession=function(){return(l._OrtReleaseSession=l.asm.ab).apply(null,arguments)},l._OrtGetInputCount=function(){return(l._OrtGetInputCount=l.asm.bb).apply(null,arguments)},l._OrtGetOutputCount=function(){return(l._OrtGetOutputCount=l.asm.cb).apply(null,arguments)},l._OrtGetInputName=function(){return(l._OrtGetInputName=l.asm.db).apply(null,arguments)},l._OrtGetOutputName=function(){return(l._OrtGetOutputName=l.asm.eb).apply(null,arguments)},l._OrtFree=function(){return(l._OrtFree=l.asm.fb).apply(null,arguments)},l._OrtCreateTensor=function(){return(l._OrtCreateTensor=l.asm.gb).apply(null,arguments)},l._OrtGetTensorData=function(){return(l._OrtGetTensorData=l.asm.hb).apply(null,arguments)},l._OrtReleaseTensor=function(){return(l._OrtReleaseTensor=l.asm.ib).apply(null,arguments)},l._OrtCreateRunOptions=function(){return(l._OrtCreateRunOptions=l.asm.jb).apply(null,arguments)},l._OrtAddRunConfigEntry=function(){return(l._OrtAddRunConfigEntry=l.asm.kb).apply(null,arguments)},l._OrtReleaseRunOptions=function(){return(l._OrtReleaseRunOptions=l.asm.lb).apply(null,arguments)},l._OrtRun=function(){return(l._OrtRun=l.asm.mb).apply(null,arguments)},l._OrtEndProfiling=function(){return(l._OrtEndProfiling=l.asm.nb).apply(null,arguments)};var pt=l._pthread_self=function(){return(pt=l._pthread_self=l.asm.ob).apply(null,arguments)},ft=l._malloc=function(){return(ft=l._malloc=l.asm.pb).apply(null,arguments)},mt=l._free=function(){return(mt=l._free=l.asm.qb).apply(null,arguments)},gt=l._fflush=function(){return(gt=l._fflush=l.asm.rb).apply(null,arguments)};l.__emscripten_tls_init=function(){return(l.__emscripten_tls_init=l.asm.sb).apply(null,arguments)};var yt=l.___funcs_on_exit=function(){return(yt=l.___funcs_on_exit=l.asm.tb).apply(null,arguments)},bt=l.__emscripten_thread_init=function(){return(bt=l.__emscripten_thread_init=l.asm.vb).apply(null,arguments)};l.__emscripten_thread_crashed=function(){return(l.__emscripten_thread_crashed=l.asm.wb).apply(null,arguments)};var wt,vt=l._emscripten_run_in_main_runtime_thread_js=function(){return(vt=l._emscripten_run_in_main_runtime_thread_js=l.asm.xb).apply(null,arguments)},_t=l.__emscripten_proxy_execute_task_queue=function(){return(_t=l.__emscripten_proxy_execute_task_queue=l.asm.yb).apply(null,arguments)},xt=l.__emscripten_thread_free_data=function(){return(xt=l.__emscripten_thread_free_data=l.asm.zb).apply(null,arguments)},kt=l.__emscripten_thread_exit=function(){return(kt=l.__emscripten_thread_exit=l.asm.Ab).apply(null,arguments)},Dt=l._setThrew=function(){return(Dt=l._setThrew=l.asm.Bb).apply(null,arguments)},Tt=l._emscripten_stack_set_limits=function(){return(Tt=l._emscripten_stack_set_limits=l.asm.Cb).apply(null,arguments)},At=l.stackSave=function(){return(At=l.stackSave=l.asm.Db).apply(null,arguments)},St=l.stackRestore=function(){return(St=l.stackRestore=l.asm.Eb).apply(null,arguments)},Ct=l.stackAlloc=function(){return(Ct=l.stackAlloc=l.asm.Fb).apply(null,arguments)},Et=l.___cxa_can_catch=function(){return(Et=l.___cxa_can_catch=l.asm.Gb).apply(null,arguments)},Ft=l.___cxa_is_pointer_type=function(){return(Ft=l.___cxa_is_pointer_type=l.asm.Hb).apply(null,arguments)},Mt=l.dynCall_j=function(){return(Mt=l.dynCall_j=l.asm.Ib).apply(null,arguments)},It=l.dynCall_iiiiij=function(){return(It=l.dynCall_iiiiij=l.asm.Jb).apply(null,arguments)},Pt=l.dynCall_jii=function(){return(Pt=l.dynCall_jii=l.asm.Kb).apply(null,arguments)},zt=l.dynCall_viiiiij=function(){return(zt=l.dynCall_viiiiij=l.asm.Lb).apply(null,arguments)},Nt=l.dynCall_vjji=function(){return(Nt=l.dynCall_vjji=l.asm.Mb).apply(null,arguments)},Ot=l.dynCall_viiijjjii=function(){return(Ot=l.dynCall_viiijjjii=l.asm.Nb).apply(null,arguments)},Bt=l.dynCall_iij=function(){return(Bt=l.dynCall_iij=l.asm.Ob).apply(null,arguments)},Lt=l.dynCall_ji=function(){return(Lt=l.dynCall_ji=l.asm.Pb).apply(null,arguments)},Rt=l.dynCall_iiiiiij=function(){return(Rt=l.dynCall_iiiiiij=l.asm.Qb).apply(null,arguments)},jt=l.dynCall_iiij=function(){return(jt=l.dynCall_iiij=l.asm.Rb).apply(null,arguments)};function Vt(){function e(){if(!wt&&(wt=!0,l.calledRun=!0,!j)&&(k||me(Z),c(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),!k)){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;){var e=l.postRun.shift();$.unshift(e)}me($)}}if(!(0<ne))if(k)c(l),k||me(Z),postMessage({cmd:"loaded"});else{if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)ee();me(J),0<ne||(l.setStatus?(l.setStatus("Running..."),setTimeout((function(){setTimeout((function(){l.setStatus("")}),1),e()}),1)):e())}}if(l.UTF8ToString=q,l.stringToUTF8=function(e,t,n){return U(e,i(),t,n)},l.lengthBytesUTF8=H,l.keepRuntimeAlive=Q,l.wasmMemory=I,l.stackSave=At,l.stackRestore=St,l.stackAlloc=Ct,l.ExitStatus=ce,l.PThread=fe,ie=function e(){wt||Vt(),wt||(ie=e)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return Vt(),e.ready});e.exports=i},932:(e,t,n)=>{var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,i,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){i=e,a=t}));var o,s,l,c,u,d,h=Object.assign({},t),p="./this.program",f=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b="";y?(b=g?n(908).dirname(b)+"/":"//",d=()=>{u||(c=n(1384),u=n(908))},o=function(e,t){return d(),e=u.normalize(e),c.readFileSync(e,t?void 0:"utf8")},l=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),s=(e,t,n)=>{d(),e=u.normalize(e),c.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof X))throw e})),process.on("unhandledRejection",(function(e){throw e})),f=(e,t)=>{if(x||0<V)throw process.exitCode=e,t;t instanceof X||_("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),r&&(b=r),b=0!==b.indexOf("blob:")?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var w,v=t.print||console.log.bind(console),_=t.printErr||console.warn.bind(console);Object.assign(t,h),h=null,t.thisProgram&&(p=t.thisProgram),t.quit&&(f=t.quit),t.wasmBinary&&(w=t.wasmBinary);var x=t.noExitRuntime||!1;"object"!=typeof WebAssembly&&K("no native wasm support detected");var k,D,T,A,S,C,E=!1,F="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function M(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&F)return F.decode(e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function I(e,t){return(e>>>=0)?M(A,e,t):""}function P(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++>>>0]=224|o>>12}else{if(n+3>=r)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-i}function z(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function N(){var e=k.buffer;D=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=S=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=C=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var O,B=[],L=[],R=[],j=[],V=0;function W(){var e=t.preRun.shift();B.unshift(e)}var q,U=0,H=null,G=null;function K(e){throw t.onAbort&&t.onAbort(e),_(e="Aborted("+e+")"),E=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function Y(){return q.startsWith("data:application/octet-stream;base64,")}if(q="ort-wasm.wasm",!Y()){var J=q;q=t.locateFile?t.locateFile(J,b):b+J}function Z(){var e=q;try{if(e==q&&w)return new Uint8Array(w);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){K(e)}}function X(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function $(e){for(;0<e.length;)e.shift()(t)}var Q=[],ee=0,te=0;function ne(e){this.Db=e,this.zb=e-24,this.Ub=function(e){C[this.zb+4>>2>>>0]=e},this.Eb=function(){return C[this.zb+4>>2>>>0]},this.Sb=function(e){C[this.zb+8>>2>>>0]=e},this.Wb=function(){return C[this.zb+8>>2>>>0]},this.Tb=function(){S[this.zb>>2>>>0]=0},this.Ib=function(e){T[(this.zb+12|0)>>>0]=e?1:0},this.Pb=function(){return 0!=T[(this.zb+12|0)>>>0]},this.Jb=function(e){T[(this.zb+13|0)>>>0]=e?1:0},this.Lb=function(){return 0!=T[(this.zb+13|0)>>>0]},this.Rb=function(e,t){this.Fb(0),this.Ub(e),this.Sb(t),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){S[this.zb>>2>>>0]+=1},this.Xb=function(){var e=S[this.zb>>2>>>0];return S[this.zb>>2>>>0]=e-1,1===e},this.Fb=function(e){C[this.zb+16>>2>>>0]=e},this.Ob=function(){return C[this.zb+16>>2>>>0]},this.Qb=function(){if(Ce(this.Eb()))return C[this.Db>>2>>>0];var e=this.Ob();return 0!==e?e:this.Db}}function re(e){return ve(new ne(e).zb)}var ie=[];function ae(e){var t=ie[e];return t||(e>=ie.length&&(ie.length=e+1),ie[e]=t=O.get(e)),t}function oe(e){var t=z(e)+1,n=we(t);return n&&P(e,T,n,t),n}var se={};function le(){if(!ce){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in se)void 0===se[e]?delete t[e]:t[e]=se[e];var n=[];for(e in t)n.push(e+"="+t[e]);ce=n}return ce}var ce,ue=[null,[],[]];function de(e,t){var n=ue[e];0===t||10===t?((1===e?v:_)(M(n,0)),n.length=0):n.push(t)}var he=0;function pe(e){return 0==e%4&&(0!=e%100||0==e%400)}var fe=[31,29,31,30,31,30,31,31,30,31,30,31],me=[31,28,31,30,31,30,31,31,30,31,30,31];function ge(e,t,n,r){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function a(e,t){return i(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Bb;for(e=new Date(new Date(e.Cb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(pe(e.getFullYear())?fe:me)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=o(t,e)?0>=o(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=S[r+40>>2>>>0];for(var u in r={$b:S[r>>2>>>0],Zb:S[r+4>>2>>>0],Gb:S[r+8>>2>>>0],Kb:S[r+12>>2>>>0],Hb:S[r+16>>2>>>0],Cb:S[r+20>>2>>>0],Ab:S[r+24>>2>>>0],Bb:S[r+28>>2>>>0],bc:S[r+32>>2>>>0],Yb:S[r+36>>2>>>0],ac:c?I(c):""},n=I(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(u,"g"),c[u]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(u in c={"%a":function(e){return d[e.Ab].substring(0,3)},"%A":function(e){return d[e.Ab]},"%b":function(e){return h[e.Hb].substring(0,3)},"%B":function(e){return h[e.Hb]},"%C":function(e){return a((e.Cb+1900)/100|0,2)},"%d":function(e){return a(e.Kb,2)},"%e":function(e){return i(e.Kb,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return a(e.Gb,2)},"%I":function(e){return 0==(e=e.Gb)?e=12:12<e&&(e-=12),a(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Hb-1;t+=(pe(e.Cb+1900)?fe:me)[n++]);return a(e.Kb+t,3)},"%m":function(e){return a(e.Hb+1,2)},"%M":function(e){return a(e.Zb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Gb&&12>e.Gb?"AM":"PM"},"%S":function(e){return a(e.$b,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ab||7},"%U":function(e){return a(Math.floor((e.Bb+7-e.Ab)/7),2)},"%V":function(e){var t=Math.floor((e.Bb+7-(e.Ab+6)%7)/7);if(2>=(e.Ab+371-e.Bb-2)%7&&t++,t)53==t&&(4==(n=(e.Ab+371-e.Bb)%7)||3==n&&pe(e.Cb)||(t=1));else{t=52;var n=(e.Ab+7-e.Bb-1)%7;(4==n||5==n&&pe(e.Cb%400-1))&&t++}return a(t,2)},"%w":function(e){return e.Ab},"%W":function(e){return a(Math.floor((e.Bb+7-(e.Ab+6)%7)/7),2)},"%y":function(e){return(e.Cb+1900).toString().substring(2)},"%Y":function(e){return e.Cb+1900},"%z":function(e){var t=0<=(e=e.Yb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),c)n.includes(u)&&(n=n.replace(new RegExp(u,"g"),c[u](r)));return u=function(e){var t=Array(z(e)+1);return P(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),u.length>t?0:(T.set(u,e>>>0),u.length-1)}var ye={a:function(e){return we(e+24)+24},m:function(e){return(e=new ne(e)).Pb()||(e.Ib(!0),ee--),e.Jb(!1),Q.push(e),e.Nb(),e.Qb()},ia:function(e){throw _("Unexpected exception thrown, this is not properly supported - aborting"),E=!0,e},w:function(){ke(0);var e=Q.pop();if(e.Xb()&&!e.Lb()){var t=e.Wb();t&&ae(t)(e.Db),re(e.Db)}te=0},d:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Se(a,n,t.zb+16))return he=a,e}return he=n,e},k:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Se(a,n,t.zb+16))return he=a,e}return he=n,e},g:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Se(a,n,t.zb+16))return he=a,e}return he=n,e},s:re,L:function(){var e=Q.pop();e||K("no exception to throw");var t=e.Db;throw e.Lb()||(Q.push(e),e.Jb(!0),e.Ib(!1),ee++),te=t,t},b:function(e,t,n){throw new ne(e).Rb(t,n),te=e,ee++,e},la:function(){return ee},i:function(e){throw te||(te=e),e},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){K("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){K("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(e,t){e=new Date(1e3*(C[e>>>2]+4294967296*S[e+4>>>2])),S[t>>2>>>0]=e.getUTCSeconds(),S[t+4>>2>>>0]=e.getUTCMinutes(),S[t+8>>2>>>0]=e.getUTCHours(),S[t+12>>2>>>0]=e.getUTCDate(),S[t+16>>2>>>0]=e.getUTCMonth(),S[t+20>>2>>>0]=e.getUTCFullYear()-1900,S[t+24>>2>>>0]=e.getUTCDay(),S[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(e,t){e=new Date(1e3*(C[e>>>2]+4294967296*S[e+4>>>2])),S[t>>2>>>0]=e.getSeconds(),S[t+4>>2>>>0]=e.getMinutes(),S[t+8>>2>>>0]=e.getHours(),S[t+12>>2>>>0]=e.getDate(),S[t+16>>2>>>0]=e.getMonth(),S[t+20>>2>>>0]=e.getFullYear()-1900,S[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);S[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,S[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),S[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},Fa:function(e){var t=new Date(S[e+20>>2>>>0]+1900,S[e+16>>2>>>0],S[e+12>>2>>>0],S[e+8>>2>>>0],S[e+4>>2>>>0],S[e>>2>>>0],0),n=S[e+32>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),s=Math.min(o,a);return 0>n?S[e+32>>2>>>0]=Number(a!=o&&s==r):0<n!=(s==r)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<n?s:a)-r))),S[e+24>>2>>>0]=t.getDay(),S[e+28>>2>>>0]=(t.getTime()-i.getTime())/864e5|0,S[e>>2>>>0]=t.getSeconds(),S[e+4>>2>>>0]=t.getMinutes(),S[e+8>>2>>>0]=t.getHours(),S[e+12>>2>>>0]=t.getDate(),S[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function e(t,n,r){e.Vb||(e.Vb=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var i=(new Date).getFullYear(),a=new Date(i,0,1),o=new Date(i,6,1);i=a.getTimezoneOffset();var s=o.getTimezoneOffset();S[e>>2>>>0]=60*Math.max(i,s),S[t>>2>>>0]=Number(i!=s),e=r(a),t=r(o),e=oe(e),t=oe(t),s<i?(C[n>>2>>>0]=e,C[n+4>>2>>>0]=t):(C[n>>2>>>0]=t,C[n+4>>2>>>0]=e)}(t,n,r))},B:function(){K("")},ma:function(){return 4294901760},I:y?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),xa:function(e,t,n){A.copyWithin(e>>>0,t>>>0,t+n>>>0)},G:function(e){var t=A.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r),i=i.min.call(i,4294901760,r+(65536-r%65536)%65536);e:{try{k.grow(i-D.byteLength+65535>>>16),N();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},va:function(e,t){var n=0;return le().forEach((function(r,i){var a=t+n;for(i=C[e+4*i>>2>>>0]=a,a=0;a<r.length;++a)T[(0|i++)>>>0]=r.charCodeAt(a);T[(0|i)>>>0]=0,n+=r.length+1})),0},wa:function(e,t){var n=le();C[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),C[t>>2>>>0]=r,0},ba:function(e){x||0<V||(xe(),$(R),_e(0),ue[1].length&&de(1,10),ue[2].length&&de(2,10)),x||0<V||(t.onExit&&t.onExit(e),E=!0),f(e,new X(e))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=C[t>>2>>>0],s=C[t+4>>2>>>0];t+=8;for(var l=0;l<s;l++)de(e,A[o+l>>>0]);i+=s}return C[r>>2>>>0]=i,0},c:function(){return he},ja:function e(t,r){e.Mb||(e.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(y)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>K("randomDevice")}());for(var i=0;i<r;i++)T[(t+i|0)>>>0]=e.Mb();return 0},ea:function(e,t,n){var r=De();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},fa:function(e,t,n){var r=De();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},J:function(e){var t=De();try{return ae(e)()}catch(e){if(Te(t),e!==e+0)throw e;ke(1,0)}},e:function(e,t){var n=De();try{return ae(e)(t)}catch(e){if(Te(n),e!==e+0)throw e;ke(1,0)}},N:function(e,t,n){var r=De();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},O:function(e,t,n){var r=De();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},j:function(e,t,n){var r=De();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},o:function(e,t,n,r){var i=De();try{return ae(e)(t,n,r)}catch(e){if(Te(i),e!==e+0)throw e;ke(1,0)}},p:function(e,t,n,r,i){var a=De();try{return ae(e)(t,n,r,i)}catch(e){if(Te(a),e!==e+0)throw e;ke(1,0)}},M:function(e,t,n,r,i,a){var o=De();try{return ae(e)(t,n,r,i,a)}catch(e){if(Te(o),e!==e+0)throw e;ke(1,0)}},r:function(e,t,n,r,i,a){var o=De();try{return ae(e)(t,n,r,i,a)}catch(e){if(Te(o),e!==e+0)throw e;ke(1,0)}},v:function(e,t,n,r,i,a,o){var s=De();try{return ae(e)(t,n,r,i,a,o)}catch(e){if(Te(s),e!==e+0)throw e;ke(1,0)}},K:function(e,t,n,r,i,a,o,s){var l=De();try{return ae(e)(t,n,r,i,a,o,s)}catch(e){if(Te(l),e!==e+0)throw e;ke(1,0)}},D:function(e,t,n,r,i,a,o,s,l,c,u,d){var h=De();try{return ae(e)(t,n,r,i,a,o,s,l,c,u,d)}catch(e){if(Te(h),e!==e+0)throw e;ke(1,0)}},X:function(e,t,n,r,i,a,o,s){var l=De();try{return Be(e,t,n,r,i,a,o,s)}catch(e){if(Te(l),e!==e+0)throw e;ke(1,0)}},V:function(e,t,n,r,i,a,o){var s=De();try{return Fe(e,t,n,r,i,a,o)}catch(e){if(Te(s),e!==e+0)throw e;ke(1,0)}},U:function(e,t,n,r,i){var a=De();try{return Le(e,t,n,r,i)}catch(e){if(Te(a),e!==e+0)throw e;ke(1,0)}},Z:function(e,t,n,r){var i=De();try{return Ne(e,t,n,r)}catch(e){if(Te(i),e!==e+0)throw e;ke(1,0)}},W:function(e){var t=De();try{return Ee(e)}catch(e){if(Te(t),e!==e+0)throw e;ke(1,0)}},Y:function(e,t){var n=De();try{return Oe(e,t)}catch(e){if(Te(n),e!==e+0)throw e;ke(1,0)}},T:function(e,t,n){var r=De();try{return Me(e,t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},f:function(e){var t=De();try{ae(e)()}catch(e){if(Te(t),e!==e+0)throw e;ke(1,0)}},q:function(e,t){var n=De();try{ae(e)(t)}catch(e){if(Te(n),e!==e+0)throw e;ke(1,0)}},h:function(e,t,n){var r=De();try{ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},da:function(e,t,n,r){var i=De();try{ae(e)(t,n,r)}catch(e){if(Te(i),e!==e+0)throw e;ke(1,0)}},l:function(e,t,n,r){var i=De();try{ae(e)(t,n,r)}catch(e){if(Te(i),e!==e+0)throw e;ke(1,0)}},t:function(e,t,n,r,i){var a=De();try{ae(e)(t,n,r,i)}catch(e){if(Te(a),e!==e+0)throw e;ke(1,0)}},u:function(e,t,n,r,i,a){var o=De();try{ae(e)(t,n,r,i,a)}catch(e){if(Te(o),e!==e+0)throw e;ke(1,0)}},x:function(e,t,n,r,i,a,o){var s=De();try{ae(e)(t,n,r,i,a,o)}catch(e){if(Te(s),e!==e+0)throw e;ke(1,0)}},z:function(e,t,n,r,i,a,o,s){var l=De();try{ae(e)(t,n,r,i,a,o,s)}catch(e){if(Te(l),e!==e+0)throw e;ke(1,0)}},ga:function(e,t,n,r,i,a,o,s,l){var c=De();try{ae(e)(t,n,r,i,a,o,s,l)}catch(e){if(Te(c),e!==e+0)throw e;ke(1,0)}},A:function(e,t,n,r,i,a,o,s,l,c,u){var d=De();try{ae(e)(t,n,r,i,a,o,s,l,c,u)}catch(e){if(Te(d),e!==e+0)throw e;ke(1,0)}},C:function(e,t,n,r,i,a,o,s,l,c,u,d,h,p,f,m){var g=De();try{ae(e)(t,n,r,i,a,o,s,l,c,u,d,h,p,f,m)}catch(e){if(Te(g),e!==e+0)throw e;ke(1,0)}},aa:function(e,t,n,r,i,a,o,s){var l=De();try{Ie(e,t,n,r,i,a,o,s)}catch(e){if(Te(l),e!==e+0)throw e;ke(1,0)}},_:function(e,t,n,r,i,a,o,s,l,c,u,d){var h=De();try{ze(e,t,n,r,i,a,o,s,l,c,u,d)}catch(e){if(Te(h),e!==e+0)throw e;ke(1,0)}},$:function(e,t,n,r,i,a){var o=De();try{Pe(e,t,n,r,i,a)}catch(e){if(Te(o),e!==e+0)throw e;ke(1,0)}},n:function(e){return e},F:function(e){he=e},ha:ge,y:function(e,t,n,r){return ge(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,k=t.asm.Ka,N(),O=t.asm.ib,L.unshift(t.asm.La),U--,t.monitorRunDependencies&&t.monitorRunDependencies(U),0==U&&(null!==H&&(clearInterval(H),H=null),G&&(e=G,G=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!w&&(m||g)){if("function"==typeof fetch&&!q.startsWith("file://"))return fetch(q,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+q+"'";return e.arrayBuffer()})).catch((function(){return Z()}));if(s)return new Promise((function(e,t){s(q,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return Z()}))}().then((function(e){return WebAssembly.instantiate(e,i)})).then((function(e){return e})).then(e,(function(e){_("failed to asynchronously prepare wasm: "+e),K(e)}))}var i={a:ye};if(U++,t.monitorRunDependencies&&t.monitorRunDependencies(U),t.instantiateWasm)try{return t.instantiateWasm(i,e)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(w||"function"!=typeof WebAssembly.instantiateStreaming||Y()||q.startsWith("file://")||y||"function"!=typeof fetch?r(n):fetch(q,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(n,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.La).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.Ma).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Na).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.Oa).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.Pa).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.Qa).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.Ra).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.Sa).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Ta).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Ua).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.Va).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Wa).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.Xa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.Ya).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.Za).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm._a).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.$a).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ab).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.bb).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.cb).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.db).apply(null,arguments)};var be,we=t._malloc=function(){return(we=t._malloc=t.asm.eb).apply(null,arguments)},ve=t._free=function(){return(ve=t._free=t.asm.fb).apply(null,arguments)},_e=t._fflush=function(){return(_e=t._fflush=t.asm.gb).apply(null,arguments)},xe=t.___funcs_on_exit=function(){return(xe=t.___funcs_on_exit=t.asm.hb).apply(null,arguments)},ke=t._setThrew=function(){return(ke=t._setThrew=t.asm.jb).apply(null,arguments)},De=t.stackSave=function(){return(De=t.stackSave=t.asm.kb).apply(null,arguments)},Te=t.stackRestore=function(){return(Te=t.stackRestore=t.asm.lb).apply(null,arguments)},Ae=t.stackAlloc=function(){return(Ae=t.stackAlloc=t.asm.mb).apply(null,arguments)},Se=t.___cxa_can_catch=function(){return(Se=t.___cxa_can_catch=t.asm.nb).apply(null,arguments)},Ce=t.___cxa_is_pointer_type=function(){return(Ce=t.___cxa_is_pointer_type=t.asm.ob).apply(null,arguments)},Ee=t.dynCall_j=function(){return(Ee=t.dynCall_j=t.asm.pb).apply(null,arguments)},Fe=t.dynCall_iiiiij=function(){return(Fe=t.dynCall_iiiiij=t.asm.qb).apply(null,arguments)},Me=t.dynCall_jii=function(){return(Me=t.dynCall_jii=t.asm.rb).apply(null,arguments)},Ie=t.dynCall_viiiiij=function(){return(Ie=t.dynCall_viiiiij=t.asm.sb).apply(null,arguments)},Pe=t.dynCall_vjji=function(){return(Pe=t.dynCall_vjji=t.asm.tb).apply(null,arguments)},ze=t.dynCall_viiijjjii=function(){return(ze=t.dynCall_viiijjjii=t.asm.ub).apply(null,arguments)},Ne=t.dynCall_iij=function(){return(Ne=t.dynCall_iij=t.asm.vb).apply(null,arguments)},Oe=t.dynCall_ji=function(){return(Oe=t.dynCall_ji=t.asm.wb).apply(null,arguments)},Be=t.dynCall_iiiiiij=function(){return(Be=t.dynCall_iiiiiij=t.asm.xb).apply(null,arguments)},Le=t.dynCall_iiij=function(){return(Le=t.dynCall_iiij=t.asm.yb).apply(null,arguments)};function Re(){function e(){if(!be&&(be=!0,t.calledRun=!0,!E)){if($(L),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();j.unshift(e)}$(j)}}if(!(0<U)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)W();$(B),0<U||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.UTF8ToString=I,t.stringToUTF8=function(e,t,n){return P(e,A,t,n)},t.lengthBytesUTF8=z,t.stackSave=De,t.stackRestore=Te,t.stackAlloc=Ae,G=function e(){be||Re(),be||(G=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return Re(),e.ready});e.exports=i},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,o(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),a=0;a<64;)i[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,n){for(var i,a=null,o=[],s=0,l=0;t<n;){var c=e[t++];switch(l){case 0:o[s++]=r[c>>2],i=(3&c)<<4,l=1;break;case 1:o[s++]=r[i|c>>4],i=(15&c)<<2,l=2;break;case 2:o[s++]=r[i|c>>6],o[s++]=r[63&c],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=r[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";n.decode=function(e,t,n){for(var r,a=n,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(o);switch(s){case 0:r=c,s=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:t[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error(o);return n-a},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function a(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:a,e.writeFloatBE=r?a:i,e.readFloatLE=r?o:s,e.readFloatBE=r?s:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function o(e,t,n){var r=e(t,n),i=2*(r>>31)+1,a=r>>>23&255,o=8388607&r;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function a(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:a,e.writeDoubleBE=r?a:i,e.readDoubleLE=r?o:s,e.readDoubleBE=r?s:o}():function(){function t(e,t,n,r,i,a){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,a+t),e(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))e(0,i,a+t),e(2146959360,i,a+n);else if(r>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=r*Math.pow(2,-l))>>>0,i,a+t),e((o<<31|l+1023<<20|1048576*s&1048575)>>>0,i,a+n)}}}function o(e,t,n,r,i){var a=e(r,i+t),o=e(r,i+n),s=2*(o>>31)+1,l=o>>>20&2047,c=4294967296*(1048575&o)+a;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,a,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(a=e(r),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],o=0;t<n;)(r=e[t++])<128?a[o++]=r:r>191&&r<224?a[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(r>>10),a[o++]=56320+(1023&r)):a[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},n.write=function(e,t,n){for(var r,i,a=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}},3442:(e,t)=>{"use strict";t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n},3720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=l(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=l(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return x}else{if(e<=-f)return k;if(e+1>=f)return _}return e<0?s(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=s(c(n,8)),a=g,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+l),n);if(l<8){var h=s(c(n,l));a=a.mul(h).add(s(d))}else a=(a=a.mul(i)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?u(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var h=4294967296,p=h*h,f=p/2,m=o(1<<24),g=o(0);n.ZERO=g;var y=o(0,!0);n.UZERO=y;var b=o(1);n.ONE=b;var w=o(1,!0);n.UONE=w;var v=o(-1);n.NEG_ONE=v;var _=l(-1,2147483647,!1);n.MAX_VALUE=_;var x=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var D=n.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low},D.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},D.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(c(e,6),this.unsigned),a=this,o="";;){var l=a.div(i),u=(a.sub(l.mul(i)).toInt()>>>0).toString(e);if((a=l).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},D.getHighBits=function(){return this.high},D.getHighBitsUnsigned=function(){return this.high>>>0},D.getLowBits=function(){return this.low},D.getLowBitsUnsigned=function(){return this.low>>>0},D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},D.isZero=function(){return 0===this.high&&0===this.low},D.eqz=D.isZero,D.isNegative=function(){return!this.unsigned&&this.high<0},D.isPositive=function(){return this.unsigned||this.high>=0},D.isOdd=function(){return 1==(1&this.low)},D.isEven=function(){return 0==(1&this.low)},D.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},D.eq=D.equals,D.notEquals=function(e){return!this.eq(e)},D.neq=D.notEquals,D.ne=D.notEquals,D.lessThan=function(e){return this.comp(e)<0},D.lt=D.lessThan,D.lessThanOrEqual=function(e){return this.comp(e)<=0},D.lte=D.lessThanOrEqual,D.le=D.lessThanOrEqual,D.greaterThan=function(e){return this.comp(e)>0},D.gt=D.greaterThan,D.greaterThanOrEqual=function(e){return this.comp(e)>=0},D.gte=D.greaterThanOrEqual,D.ge=D.greaterThanOrEqual,D.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},D.comp=D.compare,D.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},D.neg=D.negate,D.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,h=0,p=0,f=0;return p+=(f+=a+(65535&e.low))>>>16,h+=(p+=i+c)>>>16,u+=(h+=n+s)>>>16,u+=t+o,l((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},D.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},D.sub=D.subtract,D.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,c=e.high>>>16,u=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,y=0,b=0,w=0;return b+=(w+=o*p)>>>16,y+=(b+=a*p)>>>16,b&=65535,y+=(b+=o*h)>>>16,f+=(y+=i*p)>>>16,y&=65535,f+=(y+=a*h)>>>16,y&=65535,f+=(y+=o*u)>>>16,f+=n*p+i*h+a*u+o*c,l((b&=65535)<<16|(w&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},D.mul=D.multiply,D.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;a=y}else{if(this.eq(k))return e.eq(b)||e.eq(v)?k:e.eq(k)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:v:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(k))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:c(2,o-48),h=s(n),p=h.mul(e);p.isNegative()||p.gt(i);)p=(h=s(n-=u,this.unsigned)).mul(e);h.isZero()&&(h=b),a=a.add(h),i=i.sub(p)}return a},D.div=D.divide,D.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},D.mod=D.modulo,D.rem=D.modulo,D.not=function(){return l(~this.low,~this.high,this.unsigned)},D.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},D.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},D.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},D.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},D.shl=D.shiftLeft,D.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},D.shr=D.shiftRight,D.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},D.shru=D.shiftRightUnsigned,D.shr_u=D.shiftRightUnsigned,D.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},D.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},D.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},D.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},D.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1446:(e,t,n)=>{"use strict";var r,i,a,o=n(2100),s=o.Reader,l=o.Writer,c=o.util,u=o.roots.default||(o.roots.default={});u.onnx=((a={}).Version=(r={},(i=Object.create(r))[r[0]="_START_VERSION"]=0,i[r[1]="IR_VERSION_2017_10_10"]=1,i[r[2]="IR_VERSION_2017_10_30"]=2,i[r[3]="IR_VERSION_2017_11_3"]=3,i[r[4]="IR_VERSION_2019_1_22"]=4,i[r[5]="IR_VERSION"]=5,i),a.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.s=c.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.floats=c.emptyArray,e.prototype.ints=c.emptyArray,e.prototype.strings=c.emptyArray,e.prototype.tensors=c.emptyArray,e.prototype.graphs=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&u.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&u.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)u.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)u.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.AttributeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 21:r.refAttrName=e.string();break;case 13:r.docString=e.string();break;case 20:r.type=e.int32();break;case 2:r.f=e.float();break;case 3:r.i=e.int64();break;case 4:r.s=e.bytes();break;case 5:r.t=u.onnx.TensorProto.decode(e,e.uint32());break;case 6:r.g=u.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.floats.push(e.float());else r.floats.push(e.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.ints.push(e.int64());else r.ints.push(e.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(e.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(u.onnx.TensorProto.decode(e,e.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(u.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!c.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(c.isInteger(e.i)||e.i&&c.isInteger(e.i.low)&&c.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||c.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=u.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=u.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(c.isInteger(e.ints[t])||e.ints[t]&&c.isInteger(e.ints[t].low)&&c.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||c.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=u.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var n;if(n=u.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.AttributeProto)return e;var t=new u.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(c.Long?(t.i=c.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new c.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?c.base64.decode(e.s,t.s=c.newBuffer(c.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=u.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=u.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)c.Long?(t.ints[n]=c.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new c.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?c.base64.decode(e.strings[n],t.strings[n]=c.newBuffer(c.base64.length(e.strings[n])),0):e.strings[n].length&&(t.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=u.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=u.onnx.GraphProto.fromObject(e.graphs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),t.defaults){if(n.name="",n.f=0,c.Long){var r=new c.Long(0,0,!1);n.i=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.i=t.longs===String?"0":0;t.bytes===String?n.s="":(n.s=[],t.bytes!==Array&&(n.s=c.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=t.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(n.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?n.i=t.longs===String?String(e.i):e.i:n.i=t.longs===String?c.Long.prototype.toString.call(e.i):t.longs===Number?new c.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?c.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(n.t=u.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(n.g=u.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){n.floats=[];for(var i=0;i<e.floats.length;++i)n.floats[i]=t.json&&!isFinite(e.floats[i])?String(e.floats[i]):e.floats[i]}if(e.ints&&e.ints.length)for(n.ints=[],i=0;i<e.ints.length;++i)"number"==typeof e.ints[i]?n.ints[i]=t.longs===String?String(e.ints[i]):e.ints[i]:n.ints[i]=t.longs===String?c.Long.prototype.toString.call(e.ints[i]):t.longs===Number?new c.LongBits(e.ints[i].low>>>0,e.ints[i].high>>>0).toNumber():e.ints[i];if(e.strings&&e.strings.length)for(n.strings=[],i=0;i<e.strings.length;++i)n.strings[i]=t.bytes===String?c.base64.encode(e.strings[i],0,e.strings[i].length):t.bytes===Array?Array.prototype.slice.call(e.strings[i]):e.strings[i];if(e.tensors&&e.tensors.length)for(n.tensors=[],i=0;i<e.tensors.length;++i)n.tensors[i]=u.onnx.TensorProto.toObject(e.tensors[i],t);if(e.graphs&&e.graphs.length)for(n.graphs=[],i=0;i<e.graphs.length;++i)n.graphs[i]=u.onnx.GraphProto.toObject(e.graphs[i],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t}(),e}(),a.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&u.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.ValueInfoProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.type=u.onnx.TypeProto.decode(e,e.uint32());break;case 3:r.docString=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=u.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.ValueInfoProto)return e;var t=new u.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=u.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=u.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.input=c.emptyArray,e.prototype.output=c.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=c.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)u.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.NodeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 3:r.name=e.string();break;case 4:r.opType=e.string();break;case 7:r.domain=e.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(u.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:r.docString=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!c.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!c.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!c.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!c.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=u.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n}}return null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.NodeProto)return e;var t=new u.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=u.onnx.AttributeProto.fromObject(e.attribute[n])}}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r]}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=u.onnx.AttributeProto.toObject(e.attribute[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.irVersion=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=c.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&u.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)u.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)u.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.ModelProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.irVersion=e.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(u.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:r.producerName=e.string();break;case 3:r.producerVersion=e.string();break;case 4:r.domain=e.string();break;case 5:r.modelVersion=e.int64();break;case 6:r.docString=e.string();break;case 7:r.graph=u.onnx.GraphProto.decode(e,e.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(c.isInteger(e.irVersion)||e.irVersion&&c.isInteger(e.irVersion.low)&&c.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=u.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!c.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!c.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!c.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(c.isInteger(e.modelVersion)||e.modelVersion&&c.isInteger(e.modelVersion.low)&&c.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=u.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var n;if(n=u.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.ModelProto)return e;var t=new u.onnx.ModelProto;if(null!=e.irVersion&&(c.Long?(t.irVersion=c.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new c.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=u.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(c.Long?(t.modelVersion=c.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new c.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=u.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=u.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.opsetImport=[],n.metadataProps=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.irVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.irVersion=t.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",c.Long?(r=new c.Long(0,0,!1),n.modelVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.modelVersion=t.longs===String?"0":0,n.docString="",n.graph=null}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?n.irVersion=t.longs===String?String(e.irVersion):e.irVersion:n.irVersion=t.longs===String?c.Long.prototype.toString.call(e.irVersion):t.longs===Number?new c.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?n.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=t.longs===String?c.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new c.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(n.graph=u.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var i=0;i<e.opsetImport.length;++i)n.opsetImport[i]=u.onnx.OperatorSetIdProto.toObject(e.opsetImport[i],t)}if(e.metadataProps&&e.metadataProps.length)for(n.metadataProps=[],i=0;i<e.metadataProps.length;++i)n.metadataProps[i]=u.onnx.StringStringEntryProto.toObject(e.metadataProps[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.StringStringEntryProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!c.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!c.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.StringStringEntryProto)return e;var t=new u.onnx.StringStringEntryProto;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)u.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorAnnotation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorName=e.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!c.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=u.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorAnnotation)return e;var t=new u.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=u.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=u.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.node=c.emptyArray,e.prototype.name="",e.prototype.initializer=c.emptyArray,e.prototype.docString="",e.prototype.input=c.emptyArray,e.prototype.output=c.emptyArray,e.prototype.valueInfo=c.emptyArray,e.prototype.quantizationAnnotation=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)u.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)u.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)u.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)u.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)u.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)u.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.GraphProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(u.onnx.NodeProto.decode(e,e.uint32()));break;case 2:r.name=e.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(u.onnx.TensorProto.decode(e,e.uint32()));break;case 10:r.docString=e.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(u.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=u.onnx.NodeProto.verify(e.node[t]))return"node."+n}if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=u.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n}if(null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=u.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.GraphProto)return e;var t=new u.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=u.onnx.NodeProto.fromObject(e.node[n])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=u.onnx.TensorProto.fromObject(e.initializer[n])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=u.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=u.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=u.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=u.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var r=0;r<e.node.length;++r)n.node[r]=u.onnx.NodeProto.toObject(e.node[r],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],r=0;r<e.initializer.length;++r)n.initializer[r]=u.onnx.TensorProto.toObject(e.initializer[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],r=0;r<e.input.length;++r)n.input[r]=u.onnx.ValueInfoProto.toObject(e.input[r],t);if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=u.onnx.ValueInfoProto.toObject(e.output[r],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],r=0;r<e.valueInfo.length;++r)n.valueInfo[r]=u.onnx.ValueInfoProto.toObject(e.valueInfo[r],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=u.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dims=c.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=c.emptyArray,e.prototype.int32Data=c.emptyArray,e.prototype.stringData=c.emptyArray,e.prototype.int64Data=c.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=c.newBuffer([]),e.prototype.externalData=c.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=c.emptyArray,e.prototype.uint64Data=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&u.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)u.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.dims.push(e.int64());else r.dims.push(e.int64());break;case 2:r.dataType=e.int32();break;case 3:r.segment=u.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.floatData.push(e.float());else r.floatData.push(e.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.int32Data.push(e.int32());else r.int32Data.push(e.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(e.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.int64Data.push(e.int64());else r.int64Data.push(e.int64());break;case 8:r.name=e.string();break;case 12:r.docString=e.string();break;case 9:r.rawData=e.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:r.dataLocation=e.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.doubleData.push(e.double());else r.doubleData.push(e.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.uint64Data.push(e.uint64());else r.uint64Data.push(e.uint64());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(c.isInteger(e.dims[t])||e.dims[t]&&c.isInteger(e.dims[t].low)&&c.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!c.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=u.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!c.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||c.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(c.isInteger(e.int64Data[t])||e.int64Data[t]&&c.isInteger(e.int64Data[t].low)&&c.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||c.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=u.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(c.isInteger(e.uint64Data[t])||e.uint64Data[t]&&c.isInteger(e.uint64Data[t].low)&&c.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorProto)return e;var t=new u.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)c.Long?(t.dims[n]=c.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new c.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=u.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?c.base64.decode(e.stringData[n],t.stringData[n]=c.newBuffer(c.base64.length(e.stringData[n])),0):e.stringData[n].length&&(t.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)c.Long?(t.int64Data[n]=c.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new c.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?c.base64.decode(e.rawData,t.rawData=c.newBuffer(c.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=u.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)c.Long?(t.uint64Data[n]=c.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new c.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=c.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?c.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new c.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=u.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],r=0;r<e.floatData.length;++r)n.floatData[r]=t.json&&!isFinite(e.floatData[r])?String(e.floatData[r]):e.floatData[r];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],r=0;r<e.int32Data.length;++r)n.int32Data[r]=e.int32Data[r];if(e.stringData&&e.stringData.length)for(n.stringData=[],r=0;r<e.stringData.length;++r)n.stringData[r]=t.bytes===String?c.base64.encode(e.stringData[r],0,e.stringData[r].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[r]):e.stringData[r];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],r=0;r<e.int64Data.length;++r)"number"==typeof e.int64Data[r]?n.int64Data[r]=t.longs===String?String(e.int64Data[r]):e.int64Data[r]:n.int64Data[r]=t.longs===String?c.Long.prototype.toString.call(e.int64Data[r]):t.longs===Number?new c.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber():e.int64Data[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?c.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],r=0;r<e.doubleData.length;++r)n.doubleData[r]=t.json&&!isFinite(e.doubleData[r])?String(e.doubleData[r]):e.doubleData[r];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],r=0;r<e.uint64Data.length;++r)"number"==typeof e.uint64Data[r]?n.uint64Data[r]=t.longs===String?String(e.uint64Data[r]):e.uint64Data[r]:n.uint64Data[r]=t.longs===String?c.Long.prototype.toString.call(e.uint64Data[r]):t.longs===Number?new c.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0):e.uint64Data[r];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],r=0;r<e.externalData.length;++r)n.externalData[r]=u.onnx.StringStringEntryProto.toObject(e.externalData[r],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?u.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.begin=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.end=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorProto.Segment;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.begin=e.int64();break;case 2:r.end=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(c.isInteger(e.begin)||e.begin&&c.isInteger(e.begin.low)&&c.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(c.isInteger(e.end)||e.end&&c.isInteger(e.end.low)&&c.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TensorProto.Segment)return e;var t=new u.onnx.TensorProto.Segment;return null!=e.begin&&(c.Long?(t.begin=c.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new c.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(c.Long?(t.end=c.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new c.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.begin=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.begin=t.longs===String?"0":0;c.Long?(r=new c.Long(0,0,!1),n.end=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.end=t.longs===String?"0":0}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?n.begin=t.longs===String?String(e.begin):e.begin:n.begin=t.longs===String?c.Long.prototype.toString.call(e.begin):t.longs===Number?new c.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?c.Long.prototype.toString.call(e.end):t.longs===Number?new c.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),e}(),a.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dim=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)u.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorShapeProto;e.pos<n;){var i=e.uint32();i>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(u.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=u.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorShapeProto)return e;var t=new u.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=u.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var r=0;r<e.dim.length;++r)n.dim[r]=u.onnx.TensorShapeProto.Dimension.toObject(e.dim[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.dimValue=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:c.oneOfGetter(t=["dimValue","dimParam"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorShapeProto.Dimension;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.dimValue=e.int64();break;case 2:r.dimParam=e.string();break;case 3:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(c.isInteger(e.dimValue)||e.dimValue&&c.isInteger(e.dimValue.low)&&c.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!c.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!c.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TensorShapeProto.Dimension)return e;var t=new u.onnx.TensorShapeProto.Dimension;return null!=e.dimValue&&(c.Long?(t.dimValue=c.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new c.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?c.Long.prototype.toString.call(e.dimValue):t.longs===Number?new c.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(n.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs&&(n.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),a.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.tensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:c.oneOfGetter(t=["tensorType"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&u.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TypeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorType=u.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=u.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!c.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TypeProto)return e;var t=new u.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=u.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=u.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(n.value="tensorType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&u.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TypeProto.Tensor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=u.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!c.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=u.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t}return null},e.fromObject=function(e){if(e instanceof u.onnx.TypeProto.Tensor)return e;var t=new u.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=u.onnx.TensorShapeProto.fromObject(e.shape)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=u.onnx.TensorShapeProto.toObject(e.shape,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),a.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.domain="",e.prototype.version=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.OperatorSetIdProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.domain=e.string();break;case 2:r.version=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!c.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(c.isInteger(e.version)||e.version&&c.isInteger(e.version.low)&&c.isInteger(e.version.high))?"version: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.onnx.OperatorSetIdProto)return e;var t=new u.onnx.OperatorSetIdProto;return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(c.Long?(t.version=c.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.domain="",c.Long){var r=new c.Long(0,0,!1);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?c.Long.prototype.toString.call(e.version):t.longs===Number?new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a),e.exports=u},2100:(e,t,n)=>{"use strict";e.exports=n(9482)},9482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},1408:(e,t,n)=>{"use strict";e.exports=l;var r,i=n(9693),a=i.LongBits,o=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function h(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new a(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){r=e,l.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=a;var r=n(1408);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9693);function a(e){r.call(this,e)}a._configure=function(){i.Buffer&&(a.prototype._slice=i.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return r.asPromise(e,s,t,n,i,a);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):a},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?a:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:(e,t,n)=>{"use strict";e.exports=d;var r,i=n(9693),a=i.LongBits,o=i.base64,s=i.utf8;function l(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function p(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new l(e,t,n),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,a.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=a.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=a.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var y=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var n=d.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=h(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=a;var r=n(1173);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9693);function a(){r.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a._configure=function(){a.alloc=i._Buffer_allocUnsafe,a.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},a._configure()},7714:(e,t,n)=>{"use strict";t.R=void 0;const r=n(6919),i=n(7448);t.R=new class{async init(){}async createSessionHandler(e,t){const n=new r.Session(t);return await n.loadModel(e),new i.OnnxjsSessionHandler(n)}}},4200:(e,t,n)=>{"use strict";t.c8=t.rX=void 0;const r=n(1670),i=n(5381),a=n(2157),o=n(2306);t.rX=()=>{if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?(0,i.cpus)().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,a.initWasm)()}async createSessionHandler(e,t){const n=new o.OnnxruntimeWebAssemblySessionHandler;return await n.loadModel(e,t),Promise.resolve(n)}}},6018:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1670),t);const a=n(1670);{const e=n(7714).R;(0,a.registerBackend)("webgl",e,-10)}{const e=n(4200).c8;(0,a.registerBackend)("cpu",e,10),(0,a.registerBackend)("wasm",e,10),(0,a.registerBackend)("xnnpack",e,9)}},246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((e=>"".concat(this[e]))).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},7778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const r=n(1446),i=n(9395),a=n(9162),o=n(2517);var s=i.onnxruntime.experimental.fbs;class l{constructor(e){if(this._attributes=new Map,null!=e){for(const t of e)t instanceof r.onnx.AttributeProto?this._attributes.set(t.name,[l.getValue(t),l.getType(t)]):t instanceof s.Attribute&&this._attributes.set(t.name(),[l.getValue(t),l.getType(t)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,t,n){this._attributes.set(e,[n,t])}delete(e){this._attributes.delete(e)}getFloat(e,t){return this.get(e,"float",t)}getInt(e,t){return this.get(e,"int",t)}getString(e,t){return this.get(e,"string",t)}getTensor(e,t){return this.get(e,"tensor",t)}getFloats(e,t){return this.get(e,"floats",t)}getInts(e,t){return this.get(e,"ints",t)}getStrings(e,t){return this.get(e,"strings",t)}getTensors(e,t){return this.get(e,"tensors",t)}get(e,t,n){const r=this._attributes.get(e);if(void 0===r){if(void 0!==n)return n;throw new Error("required attribute not found: ".concat(e))}if(r[1]!==t)throw new Error("type mismatch: expected ".concat(t," but got ").concat(r[1]));return r[0]}static getType(e){const t=e instanceof r.onnx.AttributeProto?e.type:e.type();switch(t){case r.onnx.AttributeProto.AttributeType.FLOAT:return"float";case r.onnx.AttributeProto.AttributeType.INT:return"int";case r.onnx.AttributeProto.AttributeType.STRING:return"string";case r.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case r.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case r.onnx.AttributeProto.AttributeType.INTS:return"ints";case r.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case r.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: ".concat(r.onnx.AttributeProto.AttributeType[t]))}}static getValue(e){const t=e instanceof r.onnx.AttributeProto?e.type:e.type();if(t===r.onnx.AttributeProto.AttributeType.GRAPH||t===r.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const n=this.getValueNoCheck(e);if(t===r.onnx.AttributeProto.AttributeType.INT&&o.LongUtil.isLong(n))return o.LongUtil.longToNumber(n);if(t===r.onnx.AttributeProto.AttributeType.INTS){const e=n,t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];t[n]=o.LongUtil.longToNumber(r)}return t}if(t===r.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof r.onnx.AttributeProto?a.Tensor.fromProto(n):a.Tensor.fromOrtTensor(n);if(t===r.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof r.onnx.AttributeProto)return n.map((e=>a.Tensor.fromProto(e)));if(e instanceof s.Attribute)return n.map((e=>a.Tensor.fromOrtTensor(e)))}if(t===r.onnx.AttributeProto.AttributeType.STRING&&e instanceof r.onnx.AttributeProto){const e=n;return(0,o.decodeUtf8String)(e)}return t===r.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof r.onnx.AttributeProto?n.map(o.decodeUtf8String):n}static getValueNoCheck(e){return e instanceof r.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case r.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case r.onnx.AttributeProto.AttributeType.INT:return e.i;case r.onnx.AttributeProto.AttributeType.STRING:return e.s;case r.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case r.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case r.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case r.onnx.AttributeProto.AttributeType.INTS:return e.ints;case r.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case r.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case r.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error("unsupported attribute type: ".concat(r.onnx.AttributeProto.AttributeType[e.type]))}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case s.AttributeType.FLOAT:return e.f();case s.AttributeType.INT:return e.i();case s.AttributeType.STRING:return e.s();case s.AttributeType.TENSOR:return e.t();case s.AttributeType.GRAPH:return e.g();case s.AttributeType.FLOATS:return e.floatsArray();case s.AttributeType.INTS:{const t=[];for(let n=0;n<e.intsLength();n++)t.push(e.ints(n));return t}case s.AttributeType.STRINGS:{const t=[];for(let n=0;n<e.stringsLength();n++)t.push(e.strings(n));return t}case s.AttributeType.TENSORS:{const t=[];for(let n=0;n<e.tensorsLength();n++)t.push(e.tensors(n));return t}default:throw new Error("unsupported attribute type: ".concat(s.AttributeType[e.type()]))}}}t.Attribute=l},7091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.backend=void 0;const r=n(5038),i=new Map;async function a(e){const n=t.backend;if(void 0!==n[e]&&function(e){const t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose}(n[e])){const t=n[e];let r=t.initialize();if("object"==typeof r&&"then"in r&&(r=await r),r)return i.set(e,t),t}}t.backend={webgl:new r.WebGLBackend},t.resolveBackend=async function e(t){if(!t)return e(["webgl"]);{const e="string"==typeof t?[t]:t;for(const t of e){const e=i.get(t);if(e)return e;const n=await a(t);if(n)return n}}throw new Error("no available backend to use")}},5038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;const r=n(1670),i=n(6231),a=n(6416),o=n(7305);t.WebGLBackend=class{get contextId(){return r.env.webgl.contextId}set contextId(e){r.env.webgl.contextId=e}get matmulMaxBatchSize(){return r.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){r.env.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return r.env.webgl.textureCacheMode}set textureCacheMode(e){r.env.webgl.textureCacheMode=e}get pack(){return r.env.webgl.pack}set pack(e){r.env.webgl.pack=e}get async(){return r.env.webgl.async}set async(e){r.env.webgl.async=e}initialize(){try{return this.glContext=(0,o.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),i.Logger.setWithEnv(r.env),i.Logger.verbose("WebGLBackend","Created WebGLContext: ".concat(typeof this.glContext," with matmulMaxBatchSize: ").concat(this.matmulMaxBatchSize,"; textureCacheMode: ").concat(this.textureCacheMode,"; pack: ").concat(this.pack,"; async: ").concat(this.async,".")),!0}catch(e){return i.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. ".concat(e)),!1}}createSessionHandler(e){return new a.WebGLSessionHandler(this,e)}dispose(){this.glContext.dispose()}}},5107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;const r=n(2517),i=n(8520),a=n(5060),o=n(7859),s=n(9390);class l extends i.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new i.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new i.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}getPackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],r={},o="getOutputCoords";switch(t.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputPacked1DCoords(t,n);break;case 2:r[o]=this.getOutputPacked2DCoords(t,n);break;case 3:r[o]=this.getOutputPacked3DCoords(t,n);break;default:r[o]=this.getOutputPackedNDCoords(t,n)}const s="\n      void setOutput(vec4 val) {\n        ".concat((0,a.getGlsl)(this.context.glContext.version).output," = val;\n      }\n    ");return r.floatTextureSetRGBA=new i.GlslLibRoutine(s),r}getUnpackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],r={},o="getOutputCoords";switch(t.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputUnpacked1DCoords(t,n);break;case 2:r[o]=this.getOutputUnpacked2DCoords(t,n);break;case 3:r[o]=this.getOutputUnpacked3DCoords(t,n);break;case 4:r[o]=this.getOutputUnpacked4DCoords(t,n);break;case 5:r[o]=this.getOutputUnpacked5DCoords(t,n);break;case 6:r[o]=this.getOutputUnpacked6DCoords(t,n);break;default:throw new Error("Unsupported output dimensionality: ".concat(t.length))}const s="\n        void setOutput(float val) {\n          ".concat((0,a.getGlsl)(this.context.glContext.version).output," = vec4(val, 0, 0, 0);\n        }\n    ");return r.floatTextureSetR=new i.GlslLibRoutine(s),r}getOutputScalarCoords(){return new i.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(e,t){const n=t;let r="";return 1===n[0]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ".concat(n[1],".0);\n          }\n        "),new i.GlslLibRoutine(r)):1===n[1]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ".concat(n[0],".0);\n          }\n        "),new i.GlslLibRoutine(r)):(r="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(".concat(n[0],", ").concat(n[1],"));\n          return 2 * (resTexRC.y * ").concat(n[0]," + resTexRC.x);\n        }\n      "),new i.GlslLibRoutine(r))}getOutputPacked2DCoords(e,t){let n="";if(r.ArrayUtil.arraysEqual(e,t))return n="\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(".concat(t[0],", ").concat(t[1],"));\n        }\n      "),new i.GlslLibRoutine(n);const a=t,o=Math.ceil(e[1]/2);return n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(a[0],", ").concat(a[1],"));\n\n          int index = resTexRC.y * ").concat(a[0]," + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(o,") * 2;\n          int c = 2 * (index / ").concat(o,");\n\n          return ivec2(r, c);\n        }\n      "),new i.GlslLibRoutine(n)}getOutputPacked3DCoords(e,t){const n=[t[0],t[1]],r=Math.ceil(e[2]/2),a=r*Math.ceil(e[1]/2),o="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(n[0],", ").concat(n[1],"));\n          int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n          int b = index / ").concat(a,";\n          index -= b * ").concat(a,";\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(r,") * 2;\n          int c = 2 * (index / ").concat(r,");\n\n          return ivec3(b, r, c);\n        }\n      ");return new i.GlslLibRoutine(o)}getOutputPackedNDCoords(e,t){const n=[t[0],t[1]],r=Math.ceil(e[e.length-1]/2),a=r*Math.ceil(e[e.length-2]/2);let o=a,s="",l="b, r, c";for(let i=2;i<e.length-1;i++)o*=e[e.length-i-1],s="\n      int b".concat(i," = index / ").concat(o,";\n      index -= b").concat(i," * ").concat(o,";\n    ")+s,l="b".concat(i,", ")+l;const c="\n      ivec".concat(e.length," getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n        ").concat(s,"\n\n        int b = index / ").concat(a,";\n        index -= b * ").concat(a,";\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ").concat(r,") * 2;\n        int c = 2 * (index / ").concat(r,");\n\n        return ivec").concat(e.length,"(").concat(l,");\n      }\n    ");return new i.GlslLibRoutine(c)}getOutputUnpacked1DCoords(e,t){const n="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          return resTexRC.y * ").concat(t[0]," + resTexRC.x;\n        }\n      ");return new i.GlslLibRoutine(n)}getOutputUnpacked2DCoords(e,t){const n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          int r = index / ").concat(e[1],";\n          int c = index - r * ").concat(e[1],";\n          return ivec2(r, c);\n        }\n      ");return new i.GlslLibRoutine(n)}getOutputUnpacked3DCoords(e,t){let n="";const r=e.length;let a=null;r<2&&(a=[]),a=new Array(r-1),a[r-2]=e[r-1];for(let i=r-3;i>=0;--i)a[i]=a[i+1]*e[i+1];const o=["r","c","d"],s=a.map(((e,t)=>"int ".concat(o[t]," = index / ").concat(e,"; ").concat(t===a.length-1?"int ".concat(o[t+1]," = index - ").concat(o[t]," * ").concat(e):"index -= ".concat(o[t]," * ").concat(e),";"))).join("");return n="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec3(r, c, d);\n        }\n      "),new i.GlslLibRoutine(n)}getOutputUnpacked4DCoords(e,t){let n="";const r=e.length;let a=null;r<2&&(a=[]),a=new Array(r-1),a[r-2]=e[r-1];for(let i=r-3;i>=0;--i)a[i]=a[i+1]*e[i+1];const o=["r","c","d","d2"],s=a.map(((e,t)=>"int ".concat(o[t]," = index / ").concat(e,"; ").concat(t===a.length-1?"int ".concat(o[t+1]," = index - ").concat(o[t]," * ").concat(e):"index -= ".concat(o[t]," * ").concat(e),";"))).join("");return n="\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec4(r, c, d, d2);\n        }\n      "),new i.GlslLibRoutine(n)}getOutputUnpacked5DCoords(e,t){let n="";const r=e.length;let a=null;r<2&&(a=[]),a=new Array(r-1),a[r-2]=e[r-1];for(let i=r-3;i>=0;--i)a[i]=a[i+1]*e[i+1];const o=["r","c","d","d2","d3"],s=a.map(((e,t)=>"int ".concat(o[t]," = index / ").concat(e,"; ").concat(t===a.length-1?"int ".concat(o[t+1]," = index - ").concat(o[t]," * ").concat(e):"index -= ".concat(o[t]," * ").concat(e),";"))).join("");return n="\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec5(r, c, d, d2, d3);\n        }\n      "),new i.GlslLibRoutine(n)}getOutputUnpacked6DCoords(e,t){let n="";const r=e.length;let a=null;r<2&&(a=[]),a=new Array(r-1),a[r-2]=e[r-1];for(let i=r-3;i>=0;--i)a[i]=a[i+1]*e[i+1];const o=["r","c","d","d2","d3","d4"],s=a.map(((e,t)=>"int ".concat(o[t]," = index / ").concat(e,"; ").concat(t===a.length-1?"int ".concat(o[t+1]," = index - ").concat(o[t]," * ").concat(e):"index -= ".concat(o[t]," * ").concat(e),";"))).join("");return n="\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n         int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n         ").concat(s,"\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     "),new i.GlslLibRoutine(n)}getCommonUtilFuncs(){const e={};let t="uvFromFlat";e[t]=new i.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t="packedUVfrom1D",e[t]=new i.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom2D",e[t]=new i.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom3D",e[t]=new i.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="sampleTexture";const n=(0,a.getGlsl)(this.context.glContext.version);return e[t]=new i.GlslLibRoutine("\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ".concat(n.texture2D,"(textureSampler, uv).r;\n        }")),e}getInputsSamplingSnippets(){const e={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach(((n,r)=>{const i=this.context.inputTextureLayouts[r],a=(0,s.generateShaderFuncNameFromInputSamplerName)(n);i.isPacked?e[a]=this.getPackedSamplerFromInput(a,n,i):e[a]=this.getUnpackedSamplerFromInput(a,n,i);const o=(0,s.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(n);i.unpackedShape.length<=t.unpackedShape.length&&(i.isPacked?e[o]=this.getPackedSamplerAtOutputCoords(o,i,t,n):e[o]=this.getUnpackedSamplerAtOutputCoords(o,i,t,n))})),e}getPackedSamplerAtOutputCoords(e,t,n,a){const o=t.unpackedShape,l=n.unpackedShape,c=a,u=(0,s.generateShaderFuncNameFromInputSamplerName)(c),d=o.length,h=l.length,p=r.BroadcastUtil.getBroadcastDims(o,l),f=(0,s.getCoordsDataType)(h),m=h-d;let g;const y=(0,s.getGlChannels)();g=0===d?"":h<2&&p.length>=1?"coords = 0;":p.map((e=>"coords.".concat(y[e+m]," = 0;"))).join("\n");let b="";b=h<2&&d>0?"coords":o.map(((e,t)=>"coords.".concat(y[t+m]))).join(", ");let w="return outputValue;";const v=1===r.ShapeUtil.size(o),_=1===r.ShapeUtil.size(l);if(1!==d||v||_){if(v&&!_)w=1===h?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(p.length){const e=d-2,t=d-1;p.indexOf(e)>-1&&p.indexOf(t)>-1?w="return vec4(outputValue.x);":p.indexOf(e)>-1?w="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":p.indexOf(t)>-1&&(w="return vec4(outputValue.xx, outputValue.zz);")}}else w="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";const x="\n      vec4 ".concat(e,"() {\n        ").concat(f," coords = getOutputCoords();\n        \n        int lastDim = coords.").concat(y[h-1],";\n        coords.").concat(y[h-1]," = coords.").concat(y[h-2],";\n        coords.").concat(y[h-2]," = lastDim;\n      \n        ").concat(g,"\n        vec4 outputValue = ").concat(u,"(").concat(b,");\n        ").concat(w,"\n      }\n    ");return new i.GlslLibRoutine(x,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(e,t,n,a){const o=[n.width,n.height],l=[t.width,t.height],c=t.unpackedShape.length,u=n.unpackedShape.length,d=t.unpackedShape,h=n.unpackedShape,p=(0,s.generateShaderFuncNameFromInputSamplerName)(a);if(c===u&&r.ArrayUtil.arraysEqual(l,o)){const t="\n          float ".concat(e,"() {\n            return sampleTexture(").concat(a,", TexCoords);\n          }\n        ");return new i.GlslLibRoutine(t,["coordinates.sampleTexture"])}const f=(0,s.getCoordsDataType)(u),m=r.BroadcastUtil.getBroadcastDims(d,h),g=u-c;let y;const b=(0,s.getGlChannels)();y=0===c?"":u<2&&m.length>=1?"coords = 0;":m.map((e=>"coords.".concat(b[e+g]," = 0;"))).join("\n");let w="";w=u<2&&c>0?"coords":t.unpackedShape.map(((e,t)=>"coords.".concat(b[t+g]))).join(", ");const v="\n        float ".concat(e,"() {\n          ").concat(f," coords = getOutputCoords();\n          ").concat(y,"\n          return ").concat(p,"(").concat(w,");\n        }\n      ");return new i.GlslLibRoutine(v,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(e,t,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,n);case 2:return this.getPackedSampler2D(e,t,n);case 3:return this.getPackedSampler3D(e,t,n);default:return this.getPackedSamplerND(e,t,n)}}getUnpackedSamplerFromInput(e,t,n){const r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(e,t,n);case 1:return this.getUnpackedSampler1D(e,t,n);case 2:return this.getUnpackedSampler2D(e,t,n);case 3:return this.getUnpackedSampler3D(e,t,n);case 4:return this.getUnpackedSampler4D(e,t,n);case 5:return this.getUnpackedSampler5D(e,t,n);case 6:return this.getUnpackedSampler6D(e,t,n);default:throw new Error("Unsupported dimension ".concat(r.length,"-D"))}}getPackedSamplerScalar(e,t){const n="\n          vec4 ".concat(e,"() {\n            return ").concat((0,a.getGlsl)(this.context.glContext.version).texture2D,"(").concat(t,", halfCR);\n          }\n        ");return new i.GlslLibRoutine(n)}getPackedSampler1D(e,t,n){const r=[n.width,n.height],o=[r[1],r[0]],s=(0,a.getGlsl)(this.context.glContext.version),l="vec4 ".concat(e,"(int index) {\n      vec2 uv = packedUVfrom1D(\n      ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(s.texture2D,"(").concat(t,", uv);\n    }");return new i.GlslLibRoutine(l,["coordinates.packedUVfrom1D"])}getPackedSampler2D(e,t,n){const o=n.unpackedShape,s=[n.width,n.height],l=(0,a.getGlsl)(this.context.glContext.version),c=s[0],u=s[1];if(null!=s&&r.ArrayUtil.arraysEqual(o,s)){const n="vec4 ".concat(e,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(c,".0);\n        return ").concat(l.texture2D,"(").concat(t,", uv);\n      }");return new i.GlslLibRoutine(n)}const d=s,h=Math.ceil(o[1]/2),p="vec4 ".concat(e,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(d[1],", ").concat(d[0],", ").concat(h,", row, col);\n      return ").concat(l.texture2D,"(").concat(t,", uv);\n    }");return new i.GlslLibRoutine(p,["coordinates.packedUVfrom2D"])}getPackedSampler3D(e,t,n){const r=n.unpackedShape,o=[n.width,n.height],l=[o[0],o[1]],c=(0,a.getGlsl)(this.context.glContext.version);if(1===r[0]){const a=r.slice(1),o=[1,2],l=(0,s.squeezeInputShape)(r,a),c=["b","row","col"],u=JSON.parse(JSON.stringify(n));u.unpackedShape=l;const d=this.getPackedSamplerFromInput(e,t,u),h="".concat(d.routineBody,"\n      vec4 ").concat(e,"(int b, int row, int col) {\n        return ").concat(e,"(").concat((0,s.getSqueezedParams)(c,o),");\n      } ");return new i.GlslLibRoutine(h,d.dependencies)}const u=l[0],d=l[1],h=Math.ceil(r[2]/2),p="vec4 ".concat(e,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(u,", ").concat(h*Math.ceil(r[1]/2),", ").concat(h,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(t,", uv);}");return new i.GlslLibRoutine(p,["coordinates.packedUVfrom3D"])}getPackedSamplerND(e,t,n){const r=n.unpackedShape,o=r.length,s=[n.width,n.height],l=(0,a.getGlsl)(this.context.glContext.version),c=[s[0],s[1]],u=c[1],d=c[0],h=Math.ceil(r[o-1]/2);let p=h*Math.ceil(r[o-2]/2),f="int b, int row, int col",m="b * ".concat(p," + (row / 2) * ").concat(h," + (col / 2)");for(let i=2;i<o-1;i++)f="int b".concat(i,", ")+f,p*=r[o-i-1],m="b".concat(i," * ").concat(p," + ")+m;const g="vec4 ".concat(e,"(").concat(f,") {\n      int index = ").concat(m,";\n      int texR = index / ").concat(d,";\n      int texC = index - texR * ").concat(d,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(d,", ").concat(u,");\n      return ").concat(l.texture2D,"(").concat(t,", uv);\n    }");return new i.GlslLibRoutine(g)}getUnpackedSamplerScalar(e,t,n){const[r,a]=[n.width,n.height];if(1===r&&1===a){const n="\n          float ".concat(e,"() {\n            return sampleTexture(").concat(t,", halfCR);\n          }\n        ");return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}const o="\n        float ".concat(e,"() {\n          int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(r,", ").concat(a,");\n          vec2 uv = uvFromFlat(").concat(r,", ").concat(a,", offset_").concat(t,");\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(o,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(e,t,n){const r=n.width,a=n.height;if(1===a&&1===r){const n="\n        float ".concat(e,"(int index) {\n          return sampleTexture(").concat(t,", halfCR);\n        }\n      ");return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===a){const n="\n          float ".concat(e,"(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ").concat(r,".0, 0.5);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===r){const n="\n          float ".concat(e,"(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ").concat(a,".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}const o="\n        float ".concat(e,"(int index) {\n          vec2 uv = uvFromFlat(").concat(r,", ").concat(a,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(o,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(e,t,n){const a=n.unpackedShape,l=[n.height,n.width];if(null!=l&&r.ArrayUtil.arraysEqual(a,l)){const n="\n          float ".concat(e,"(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(").concat(l[1],".0, ").concat(l[0],".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}const{newShape:c,keptDims:u}=(0,o.squeezeShape)(a),d=c;if(d.length<a.length){const r=(0,s.squeezeInputShape)(a,d),o=JSON.parse(JSON.stringify(n));o.unpackedShape=r;const l=["col","row"],c="\n          ".concat(this.getUnpackedSamplerFromInput(e,t,o).routineBody,"\n          float ").concat(e,"(int row, int col) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(l,u),");\n          }\n        ");return new i.GlslLibRoutine(c,["coordinates.sampleTexture"])}const h=l[1],p=l[0];if(1===p){const n="\n          float ".concat(e,"(int row, int col) {\n            int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(h,", ").concat(p,");\n            float index = dot(vec3(row, col, offset_").concat(t,"), vec3(").concat(a[1],", 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===h){const n="\n          float ".concat(e,"(int row, int col) {\n            int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(h,", ").concat(p,");\n            float index = dot(vec3(row, col, offset_").concat(t,"), vec3(").concat(a[1],", 1, 1));\n            vec2 uv = vec2((index + 0.5) / ").concat(p,".0, 0.5);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const f="\n        float ".concat(e,"(int row, int col) {\n          int index = col * ").concat(a[1]," + row;\n          vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(f,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(e,t,n){const r=n.unpackedShape,a=r[1]*r[2],l=r[2],{newShape:c,keptDims:u}=(0,o.squeezeShape)(r),d=c;if(d.length<r.length){const a=(0,s.squeezeInputShape)(r,d),o=["batch","col","row"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=a;const c=this.getUnpackedSamplerFromInput(e,t,l),h=u.reverse(),p="\n          ".concat(c.routineBody,"\n          float ").concat(e,"(int batch, int row, int col) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(o,h),");\n          }\n        ");return new i.GlslLibRoutine(p,c.dependencies)}const h="\n          float ".concat(e,"(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ").concat(a," + col * ").concat(l," + row;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(t,", uv);\n          }\n      ");return new i.GlslLibRoutine(h,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(e,t,n){const r=n.unpackedShape,a=r[3],o=r[2]*a,s="\n        float ".concat(e,"(int row, int col, int depth, int depth2) {\n          int index = row * ").concat(r[1]*o," + col * ").concat(o," +\n              depth2 * ").concat(a," + depth;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(e,t,n){const r=n.unpackedShape,a=r[4],l=r[3]*a,c=r[2]*l,u=r[1]*c,{newShape:d,keptDims:h}=(0,o.squeezeShape)(r);if(d.length<r.length){const a=(0,s.squeezeInputShape)(r,d),o=["row","col","depth","depth2","depth3"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=a;const c="\n          ".concat(this.getUnpackedSamplerFromInput(e,t,l).routineBody,"\n          float ").concat(e,"(int row, int col, int depth, int depth2, int depth3) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(o,h),");\n          }\n        ");return new i.GlslLibRoutine(c,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const p="\n        float ".concat(e,"(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(l," +\n          depth3 * ").concat(a," + depth2;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(p,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(e,t,n){const r=n.unpackedShape,a=r[5],l=r[4]*a,c=r[3]*l,u=r[2]*c,d=r[1]*u,{newShape:h,keptDims:p}=(0,o.squeezeShape)(r);if(h.length<r.length){const a=(0,s.squeezeInputShape)(r,h),o=["row","col","depth","depth2","depth3","depth4"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=a;const c="\n            ".concat(this.getUnpackedSamplerFromInput(e,t,l).routineBody,"\n            float ").concat(e,"(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ").concat(e,"(").concat((0,s.getSqueezedParams)(o,p),");\n            }\n          ");return new i.GlslLibRoutine(c,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const f="\n          float ".concat(e,"(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ").concat(d," + col * ").concat(u," + depth * ").concat(c," +\n            depth2 * ").concat(l," + depth3 * ").concat(a," + depth4;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(f,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const e=this.context.outputTextureLayout,t=e.shape.length,n=e.strides,r=e.width,a=e.height,o=[];for(let i=0;i<t-1;++i)o.push("\n        c[".concat(i,"] = offset / ").concat(n[i],";")),o.push("\n        offset -= c[".concat(i,"] * ").concat(n[i],";"));o.push("\n        c[".concat(t-1,"] = offset;"));const s="\n      void toVec(vec2 texCoords, out int c[".concat(t,"]) {\n        int offset = coordsToOffset(texCoords, ").concat(r,", ").concat(a,");\n        ").concat(o.join(""),"\n      }\n      void toVec(int offset, out int c[").concat(t,"]) {\n        ").concat(o.join(""),"\n      }\n    ");return{toVec:new i.GlslLibRoutine(s,["coordinates.coordsToOffset"])}}valueFrom(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const r=this.context.inputTextureLayouts[n],a=(r.unpackedShape.length>0?r.unpackedShape:r.shape).length;let o="_".concat(t);e[o]=new i.GlslLibRoutine(this.getValueFromSingle(t,a,r.width,r.height,!1),["shapeUtils.indicesToOffset".concat(o),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),o+="_T",e[o]=new i.GlslLibRoutine(this.getValueFromSingle(t,a,r.width,r.height,!0),["shapeUtils.indicesToOffset".concat(o),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),e}getValueFromSingle(e,t,n,r,i){let o="_".concat(e);return i&&(o+="_T"),"\n        float ".concat(o,"(int m[").concat(t,"]) {\n          int offset = indicesToOffset").concat(o,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(r,");\n          float value = getColorAsFloat(").concat((0,a.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", coords));\n          return value;\n        }\n        ")}getPackedValueFrom(e,t,n,r,i){let o="_".concat(e,"_Pack");return i&&(o+="_T"),"\n        vec4 ".concat(o,"(int m[").concat(t,"]) {\n          int offset = indicesToOffset_").concat(e,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(r,");\n          return ").concat((0,a.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", coords);\n        }\n        ")}}t.CoordsGlslLib=l},8520:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(n=t.FunctionType||(t.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",t.GlslContext=class{constructor(e,t,n,r){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=n,this.outputTextureLayout=r}},t.GlslLib=class{constructor(e){this.context=e}},t.GlslLibRoutine=class{constructor(e,t){this.routineBody=e,this.dependencies=t}},t.GlslLibRoutineNode=class{constructor(e,t,n){this.name=e,this.dependencies=n||[],t&&(this.routineBody=t)}addDependency(e){e&&this.dependencies.push(e)}},t.TopologicalSortGlslRoutines=class{static returnOrderedNodes(e){if(!e||0===e.length)return[];if(1===e.length)return e;const t=new Set,n=new Set,r=new Array;return this.createOrderedNodes(e,t,n,r),r}static createOrderedNodes(e,t,n,r){for(let i=0;i<e.length;++i)this.dfsTraverse(e[i],t,n,r)}static dfsTraverse(e,t,n,r){if(!e||n.has(e.name))return;if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);const i=e.dependencies;if(i&&i.length>0)for(let a=0;a<i.length;++a)this.dfsTraverse(i[a],t,n,r);r.push(e),n.add(e.name),t.delete(e.name)}}},7341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;const r=n(8520);class i extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new r.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new r.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new r.GlslLibRoutine("\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ".concat(e,"\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        "))}}decodeUint8(){const e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new r.GlslLibRoutine("\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ".concat(e,"\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        "))}}static isLittleEndian(){const e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")}}t.EncodingGlslLib=i},9894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;const r=n(8520),i=n(5060);class a extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const e=(0,i.getGlsl)(this.context.glContext.version);return{setFragColor:new r.GlslLibRoutine("\n        void setFragColor(float value) {\n            ".concat(e.output," = encode(value);\n        }\n        "),["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new r.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}t.FragColorGlslLib=a},2848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;const n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(e){const t={};let r;for(;null!==(r=n.exec(e));){const e=r[3].split(",").map((e=>{const t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null})).filter((e=>null!==e));t[r[2]]={params:e,body:r[4]}}for(const n in t){const i="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",n),a=new RegExp(i,"gm");for(;null!==(r=a.exec(e));){const i=r[1],a=r[2],o=r[3].split(","),s=i?"".concat(i," ").concat(a,";"):"";let l=t[n].body,c="";t[n].params.forEach(((e,t)=>{e&&(c+="".concat(e.type," ").concat(e.name," = ").concat(o[t],";\n"))})),l="".concat(c,"\n ").concat(l),l=l.replace("return","".concat(a," = "));const u="\n      ".concat(s,"\n      {\n        ").concat(l,"\n      }\n      ");e=e.replace(r[0],u)}}return e.replace(n,"")}},8879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;const r=n(8520),i=n(2848),a=n(5483),o=n(5060);t.GlslPreprocessor=class{constructor(e,t,n,i){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new r.GlslContext(e,t,n,i),Object.keys(a.glslRegistry).forEach((e=>{const t=new a.glslRegistry[e](this.context);this.libs[e]=t}));const o=this.glslLibRoutineDependencyGraph;for(const a in this.libs){const e=this.libs[a].getFunctions();for(const t in e){const n=a+"."+t;let i;o[n]?(i=o[n],i.routineBody=e[t].routineBody):(i=new r.GlslLibRoutineNode(n,e[t].routineBody),o[n]=i);const s=e[t].dependencies;if(s)for(let e=0;e<s.length;++e)if(o[s[e]])i.addDependency(o[s[e]]);else{const t=new r.GlslLibRoutineNode(s[e]);o[s[e]]=t,i.addDependency(t)}}}}preprocess(){const e=this.context.programInfo;let t=e.shaderSource;return this.context.programInfo.hasMain||(t="".concat(t,"\n      ").concat((0,o.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length))),t=(0,i.replaceInlines)(t),"".concat((0,o.getFragShaderPreamble)(this.context.glContext.version),"\n    ").concat(this.getUniforms(e.inputNames,e.variables),"\n    ").concat(this.getImports(t),"\n    ").concat(t)}getImports(e){const t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";let n="";for(let r=0;r<t.length;++r){if(!t[r].routineBody)throw new Error("Missing body for the Glsl Library routine: ".concat(t[r].name));n+=t[r].routineBody+"\n"}return n}selectGlslLibRoutinesToBeIncluded(e){const t=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((n=>{const r=n.split(".")[1];-1!==e.indexOf(r)&&t.push(this.glslLibRoutineDependencyGraph[n])})),r.TopologicalSortGlslRoutines.returnOrderedNodes(t)}getUniforms(e,t){const n=[];if(e)for(const r of e)n.push("uniform sampler2D ".concat(r,";"));if(t)for(const r of t)n.push("uniform ".concat(r.type," ").concat(r.name).concat(r.arrayLength?"[".concat(r.arrayLength,"]"):"",";"));return n.join("\n")}}},5483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;const r=n(5107),i=n(7341),a=n(9894),o=n(2655),s=n(3891);t.glslRegistry={encoding:i.EncodingGlslLib,fragcolor:a.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:o.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},2655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;const r=n(8520);class i extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach(((n,i)=>{const a=this.context.inputTextureLayouts[i].unpackedShape;if(a.length<=e){const i=a.length,o=e-i,s="bcastIndices_".concat(n);let l="";for(let e=0;e<i;++e)l+="\n          realIndices[".concat(e,"] = int( mod(float(bcastedIndices[").concat(o+e,"]), ").concat(a[e],".0) );\n          ");const c="\n        void ".concat(s," (int bcastedIndices[").concat(e,"], out int realIndices[").concat(i,"]) {\n          ").concat(l,"\n        }\n        ");t[s]=new r.GlslLibRoutine(c)}})),t}bcastMatmulIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach(((n,i)=>{const a=this.context.inputTextureLayouts[i].shape;if(!(a.length<2||a.length>e)){const i=a.length,o=e-i,s="bcastMatmulIndices_".concat(n);let l="";for(let e=0;e<i-2;++e)l+="\n          realIndices[".concat(e,"] = int( mod(float(bcastedIndices[").concat(o+e,"]), ").concat(a[e],".0) );\n          ");const c="\n        void ".concat(s,"(int bcastedIndices[").concat(e,"], out int realIndices[").concat(i,"]) {\n          ").concat(l,"\n          realIndices[").concat(i-1,"] = bcastedIndices[").concat(e-1,"];\n          realIndices[").concat(i-2,"] = bcastedIndices[").concat(e-2,"];\n        }\n        ");t[s]=new r.GlslLibRoutine(c)}})),t}indicesToOffset(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const a=this.context.inputTextureLayouts[n].shape,o=this.context.inputTextureLayouts[n].strides,s=a.length;let l="indicesToOffset_".concat(t);e[l]=new r.GlslLibRoutine(i.indexToOffsetSingle(l,s,o)),l="indicesToOffset_".concat(t,"_T"),e[l]=new r.GlslLibRoutine(i.indexToOffsetSingle(l,s,o.slice().reverse()))})),e}static indexToOffsetSingle(e,t,n){let r="";for(let i=t-1;i>=0;--i)r+="\n        offset += indices[".concat(i,"] * ").concat(n[i],";\n        ");return"\n      int ".concat(e,"(int indices[").concat(t,"]) {\n        int offset = 0;\n        ").concat(r,"\n        return offset;\n      }\n      ")}offsetToIndices(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const a=this.context.inputTextureLayouts[n].shape,o=this.context.inputTextureLayouts[n].strides,s=a.length;let l="offsetToIndices_".concat(t);e[l]=new r.GlslLibRoutine(i.offsetToIndicesSingle(l,s,o)),l="offsetToIndices_".concat(t,"_T"),e[l]=new r.GlslLibRoutine(i.offsetToIndicesSingle(l,s,o.slice().reverse()))})),e}static offsetToIndicesSingle(e,t,n){const r=[];for(let i=0;i<t-1;++i)r.push("\n      indices[".concat(i,"] = offset / ").concat(n[i],";")),r.push("\n        offset -= indices[".concat(i,"] * ").concat(n[i],";"));return r.push("\n      indices[".concat(t-1,"] = offset;")),"\n      void ".concat(e,"(int offset, out int indices[").concat(t,"]) {\n        ").concat(r.join(""),"\n      }\n      ")}incrementIndices(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const i=this.context.inputTextureLayouts[n].shape,a=i.length,o="incrementIndices_".concat(t);let s="";for(let e=0;e<a;++e)s+="\n        shape[".concat(e,"] = ").concat(i[e],";");const l="\n        void ".concat(o,"(int axis, out int indices[").concat(a,"]) {\n          int shape[").concat(a,"];\n          ").concat(s,";\n          for(int i = ").concat(a," -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        ");e[o]=new r.GlslLibRoutine(l)})),e}}t.ShapeUtilsGlslLib=i},5060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;const n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},r={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function i(e){return 1===e?n:r}t.getGlsl=i,t.getVertexShaderSource=function(e){const t=i(e);return"".concat(t.version,"\n      precision highp float;\n      ").concat(t.attribute," vec3 position;\n      ").concat(t.attribute," vec2 textureCoord;\n\n      ").concat(t.varyingVertex," vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }")},t.getFragShaderPreamble=function(e){const t=i(e);return"".concat(t.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(t.varyingFrag," vec2 TexCoords;\n    ").concat(t.outputDeclaration,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    ")},t.getDefaultFragShaderMain=function(e,t){return"\n  void main() {\n    int indices[".concat(t,"];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ").concat(i(e).output," = result;\n  }\n  ")}},3891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;const r=n(8520);class i extends r.GlslLib{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(const i in t){const a="".concat(i,"Vec");let o="";for(let n=0;n<e;++n)o+="\n          dest[".concat(n,"] ").concat(t[i]," src[").concat(n,"];\n          ");const s="\n        void ".concat(a,"(int src[").concat(e,"], out int dest[").concat(e,"]) {\n          ").concat(o,"\n        }\n        ");n[a]=new r.GlslLibRoutine(s)}return n}copyVec(){const e=this.context.outputTextureLayout.shape.length;let t="";for(let r=0;r<e;++r)t+="\n        dest[".concat(r,"] = src[").concat(r,"];\n        ");const n="\n      void copyVec(int src[".concat(e,"], out int dest[").concat(e,"]) {\n        ").concat(t,"\n      }\n      ");return{copyVec:new r.GlslLibRoutine(n)}}setVecItem(){const e=this.context.outputTextureLayout.shape.length;let t="\n        if(index < 0)\n            index =".concat(e," + index;\n        if (index == 0)\n            m[0] = value;\n        ");for(let r=1;r<e-1;++r)t+="\n        else if (index == ".concat(r,")\n            m[").concat(r,"] = value;\n            ");t+="\n        else\n            m[".concat(e-1,"] = value;\n        ");const n="\n      void setVecItem(out int m[".concat(e,"], int index, int value) {\n        ").concat(t,"\n      }\n        ");return{setVecItem:new r.GlslLibRoutine(n)}}getVecItem(){const e=this.context.outputTextureLayout.shape.length;let t="\n        if(index < 0)\n            index = ".concat(e," + index;\n        if (index == 0)\n            return m[0];\n      ");for(let r=1;r<e-1;++r)t+="\n        else if (index == ".concat(r,")\n            return m[").concat(r,"];\n      ");t+="\n        else\n            return m[".concat(e-1,"];\n        ");const n="\n      int getVecItem(int m[".concat(e,"], int index) {\n        ").concat(t,"\n      }\n    ");return{getVecItem:new r.GlslLibRoutine(n)}}}t.VecGlslLib=i},8316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;const r=n(6231),i=n(9162),a=n(2517),o=n(2403),s=n(7019),l=n(8710),c=n(5611),u=n(4057),d=n(2039);t.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return(0,u.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,t)}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error("Input size mustn't be less than ".concat(e.inputNames.length,"."));if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const n=[];for(let l=0;l<e.inputNames.length;++l)n[l]=this.getOrCreateTextureData(t[l],e.inputTypes[l]);const r=((e,t)=>{const n=t.map((e=>"".concat(e.unpackedShape.join(","),";").concat(e.width,"x").concat(e.height))).join("_");let r=e.name;return e.cacheHint&&(r+="["+e.cacheHint+"]"),r+=":"+n,r})(e,n);let i=this.session.programManager.getArtifact(r);const a=i?i.programInfo:"function"==typeof e.get?e.get():e,o=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,a.output.dims,a.output.textureType),s=this.createTextureData(o,a.output.type);return i||(i=this.session.programManager.build(a,n,s),this.session.programManager.setArtifact(r,i)),this.runProgram(i,n,s),s}run(e,t){return this.executeProgram(e,t).tensor}runProgram(e,t,n){for(let r=0;r<t.length;++r)if(!!t[r].isPacked!=(e.programInfo.inputTypes[r]===d.TextureType.packed))throw new Error("input[".concat(r,"] property packed inconsistent"));if(!!n.isPacked!=(e.programInfo.output.textureType===d.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,n)}getOrCreateTextureData(e,t){let n=this.getTextureData(e.dataId,t===d.TextureType.packed);if(!n&&(n=this.getTextureData(e.dataId,t!==d.TextureType.packed),n))return t===d.TextureType.packed?this.pack(n):this.unpack(n);if(!n){const r=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,t);if(t===d.TextureType.packedLastDimension){const n=1,r=4,i=e.dims;if(4===i.length){const a=[i[0],Math.ceil(i[1]*i[2]*i[3]/r)],o=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,a,t);let s=e.numberData;if(i[1]*i[2]*i[3]%r!=0){const t=i[0],a=i[1]*i[2]*i[3],o=Math.ceil(a*n/r)*r;s=new Float32Array(t*o);for(let r=0;r<t;++r){const t=r*a,i=r*o+r%n*a;s.set(e.numberData.subarray(t,t+a),i)}}return this.createTextureData(o,e.type,s,e,1)}}if(t===d.TextureType.packed){const t=(0,u.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),r=this.createTextureData(t,e.type,e.numberData,e,1);n=this.pack(r)}else n=this.createTextureData(r,e.type,e.numberData,e,1)}return n}createTextureDataFromLayoutBindTensor(e,t,n,r){return this.createTextureData(e,t,n,r,1)}createTextureData(e,t,n,i,a){r.Logger.verbose("InferenceHandler","Creating TextureData: layout:[".concat(JSON.stringify(e),"]"));const o=this.session.textureManager.createTextureFromLayout(t,e,n,a);return this.createTextureDataFromTexture(e,t,o,i)}reshapeUnpacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked),r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:a.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}reshapePacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.packed);if((0,s.isReshapeCheap)(e.dims,t)){const r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:a.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}const r=(0,s.processDims3D)(e.dims),i=(0,s.processDims3D)(t),o=this.reshapePacked(e,r),l=this.run((0,s.createPackedReshape3DProgramInfoLoader)(this,o,i),[o]);return this.reshapePacked(l,t)}cast(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked);return this.createTextureDataFromTexture(n,t,n.texture).tensor}createTextureDataFromTexture(e,t,n,r,a){const o=Object.assign(Object.assign({},e),{tensor:r||new i.Tensor(e.unpackedShape,t,(e=>this.readTexture(o)),(async e=>this.readTextureAsync(o)),void 0,a),texture:n});return this.setTextureData(o.tensor.dataId,o,e.isPacked),o}getTextureData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.session.isInitializer(e)?this.session.setTextureData(e,t,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((e=>this.session.textureManager.releaseTexture(e))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((e=>this.session.textureManager.releaseTexture(e))),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,l.encodeAsUint8)(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,l.encodeAsUint8)(this,e))}pack(e){return this.executeProgram((0,o.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram((0,c.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}},1640:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;const o=n(2898),s=a(n(7839)),l=n(4196),c=n(2069),u=n(8138),d=n(9663),h=n(5193),p=n(7992),f=n(1253),m=n(4776),g=n(6572),y=n(3346),b=n(5623),w=n(2870),v=n(2143),_=n(4939),x=n(718),k=n(2268),D=n(8117),T=n(2278),A=n(5524),S=n(5975),C=n(3933),E=n(6558),F=n(5723),M=n(3738),I=a(n(4909)),P=n(8428),z=n(9793);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",I.abs],["Acos","","7+",I.acos],["Add","","7+",s.add],["And","","7+",s.and],["Asin","","7+",I.asin],["Atan","","7+",I.atan],["AveragePool","","7+",v.averagePool,v.parseAveragePoolAttributes],["BatchNormalization","","7+",o.batchNormalization,o.parseBatchNormalizationAttributes],["Cast","","6+",l.cast,l.parseCastAttributes],["Ceil","","6+",I.ceil],["Clip","","6-10",I.clip,I.parseClipAttributes],["Clip","","11+",I.clipV11],["Concat","","4+",c.concat,c.parseConcatAttributes],["Conv","","1+",u.conv,u.parseConvAttributes],["ConvTranspose","","1+",d.convTranspose,d.parseConvTransposeAttributes],["Cos","","7+",I.cos],["Div","","7+",s.div],["Dropout","","7+",I.identity],["DepthToSpace","","1+",h.depthToSpace,h.parseDepthToSpaceAttributes],["Equal","","7+",s.equal],["Elu","","6+",I.elu,I.parseEluAttributes],["Exp","","6+",I.exp],["Flatten","","1+",p.flatten,p.parseFlattenAttributes],["Floor","","6+",I.floor],["FusedConv","com.microsoft","1+",u.conv,u.parseConvAttributes],["Gather","","1+",f.gather,f.parseGatherAttributes],["Gemm","","7-10",m.gemm,m.parseGemmAttributesV7],["Gemm","","11+",m.gemm,m.parseGemmAttributesV11],["GlobalAveragePool","","1+",v.globalAveragePool,v.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",v.globalMaxPool],["Greater","","7+",s.greater],["Identity","","1+",I.identity],["ImageScaler","","1+",g.imageScaler,g.parseImageScalerAttributes],["InstanceNormalization","","6+",y.instanceNormalization,y.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",I.leakyRelu,I.parseLeakyReluAttributes],["Less","","7+",s.less],["Log","","6+",I.log],["MatMul","","1+",b.matMul,b.parseMatMulAttributes],["MaxPool","","1+",v.maxPool,v.parseMaxPoolAttributes],["Mul","","7+",s.mul],["Neg","","6+",I.neg],["Not","","1+",I.not],["Or","","7+",s.or],["Pad","","2-10",w.padV2,w.parsePadAttributesV2],["Pad","","11+",w.padV11,w.parsePadAttributesV11],["Pow","","7+",s.pow],["PRelu","","7+",s.pRelu],["ReduceLogSum","","1+",_.reduceLogSum,_.parseReduceAttributes],["ReduceMax","","1+",_.reduceMax,_.parseReduceAttributes],["ReduceMean","","1+",_.reduceMean,_.parseReduceAttributes],["ReduceMin","","1+",_.reduceMin,_.parseReduceAttributes],["ReduceProd","","1+",_.reduceProd,_.parseReduceAttributes],["ReduceSum","","1-12",_.reduceSum,_.parseReduceAttributes],["ReduceSumSquare","","1+",_.reduceLogSumSquare,_.parseReduceAttributes],["Relu","","6+",I.relu],["Reshape","","5+",x.reshape],["Resize","","10",k.resize,k.parseResizeAttributesV10],["Resize","","11+",k.resize,k.parseResizeAttributesV11],["Shape","","1+",D.shape],["Sigmoid","","6+",I.sigmoid],["Sin","","7+",I.sin],["Slice","","10+",T.sliceV10],["Slice","","1-9",T.slice,T.parseSliceAttributes],["Softmax","","1-12",A.softmax,A.parseSoftmaxAttributes],["Softmax","","13+",A.softmaxV13,A.parseSoftmaxAttributesV13],["Split","","2-12",S.split,S.parseSplitAttributes],["Sqrt","","6+",I.sqrt],["Squeeze","","1-12",C.squeeze,C.parseSqueezeAttributes],["Squeeze","","13+",C.squeezeV13],["Sub","","7+",s.sub],["Sum","","6+",E.sum],["Tan","","7+",I.tan],["Tanh","","6+",I.tanh],["Tile","","6+",F.tile],["Transpose","","1+",M.transpose,M.parseTransposeAttributes],["Upsample","","7-8",z.upsample,z.parseUpsampleAttributesV7],["Upsample","","9",z.upsample,z.parseUpsampleAttributesV9],["Unsqueeze","","1-12",P.unsqueeze,P.parseUnsqueezeAttributes],["Unsqueeze","","13+",P.unsqueezeV13],["Xor","","7+",s.xor]]},2898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;const r=n(246),i=n(5060),a=n(2039),o={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]};t.batchNormalization=(e,t,n)=>(l(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:()=>s(e,t,n)}),t)]),t.parseBatchNormalizationAttributes=e=>{const t=e.attributes.getFloat("epsilon",1e-5),n=e.attributes.getFloat("momentum",.9),i=e.attributes.getInt("spatial",1);return(0,r.createAttributeWithCacheKey)({epsilon:t,momentum:n,spatial:i})};const s=(e,t,n)=>{const r=(0,i.getGlsl)(e.session.backend.glContext.version),s=t[0].dims.length,[l,c]=e.calculateTextureWidthAndHeight(t[1].dims,a.TextureType.unpacked),u="\n  float process(int[".concat(s,"] indices) {\n    vec2 position = offsetToCoords(indices[1], ").concat(l,", ").concat(c,");\n    float scale = getColorAsFloat(").concat(r.texture2D,"(Scale, position));\n    float mean = getColorAsFloat(").concat(r.texture2D,"(Mean, position));\n    float variance = getColorAsFloat(").concat(r.texture2D,"(Variance, position));\n    float b = getColorAsFloat(").concat(r.texture2D,"(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(").concat(n.epsilon,")) ) + b;\n  }");return Object.assign(Object.assign({},o),{output:{dims:t[0].dims,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:u})},l=e=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");const t=e[0],n=e[1],r=e[2],i=e[3],a=e[4];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==i.dims.length||1!==a.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1]||a.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==i.type&&"float64"!==i.type||"float32"!==a.type&&"float64"!==a.type)throw new Error("invalid input tensor types.")}},7839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;const r=n(2517),i=n(8520),a=n(5060),o=n(2039);function s(){const e="add_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a + b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function l(){const e="div_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a / b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function c(){const e="mul_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a * b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function u(){const e="sub_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a - b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function d(){const e="equal_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function h(){const e="greater_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function p(){const e="less_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function f(){const e="and_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function m(){const e="or_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function g(){const e="xor_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function y(){return function(e){const t="".concat(e,"_");return{body:"\n  float ".concat(t,"(float a, float b) {\n    return ").concat(e,"(a, b);\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return ").concat(e,"(v1, v2);\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}("pow")}function b(){const e="prelu_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}t.glslAdd=s,t.glslDiv=l,t.glslMul=c,t.glslSub=u,t.glslEqual=d,t.glslGreater=h,t.glslLess=p,t.glslAnd=f,t.glslOr=m,t.glslXor=g,t.glslPow=y,t.glslPRelu=b;const w=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t[0].type,i=arguments.length>4?arguments[4]:void 0;const a=e.session.pack?o.TextureType.packed:o.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[a,a],cacheHint:i,get:()=>v(e,t,n,r)}},v=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t[0].type;const s=e.session.pack?o.TextureType.packed:o.TextureType.unpacked,l=!r.ShapeUtil.areEqual(t[0].dims,t[1].dims);let c=t[0].dims;const u=e.session.pack;if(l){const o=r.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!o)throw new Error("Can't perform binary op on the given tensors");c=o;const l=c.length,d=0!==t[0].dims.length?t[0].dims.length:1,h=0!==t[1].dims.length?t[1].dims.length:1,p=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",f=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",m=(0,a.getGlsl)(e.session.backend.glContext.version),g=u?"\n      ".concat(n.body,"\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ").concat(n.name,"(a, b);\n        ").concat(m.output," = result;\n      }"):"\n      ".concat(n.body,"\n      float process(int indices[").concat(l,"]) {\n        int aindices[").concat(d,"];\n        int bindices[").concat(h,"];\n        ").concat(p,"\n        ").concat(f,"\n        return ").concat(n.name,"(_A(aindices), _B(bindices));\n      }");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:c,type:i,textureType:s},shaderSource:g,hasMain:u}}const d=(0,a.getGlsl)(e.session.backend.glContext.version),h="\n    ".concat(n.body,"\n    void main() {\n      vec4 v1 = ").concat(d.texture2D,"(A, TexCoords);\n      vec4 v2 = ").concat(d.texture2D,"(B, TexCoords);\n      vec4 result = ").concat(n.name,"(v1, v2);\n      ").concat(d.output," = result;\n    }\n    ");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:t[0].dims,type:i,textureType:s},shaderSource:h,hasMain:!0}};t.add=(e,t)=>[e.run(w(e,t,s()),t)],t.and=(e,t)=>[e.run(w(e,t,f(),"bool"),t)],t.div=(e,t)=>[e.run(w(e,t,l()),t)],t.equal=(e,t)=>[e.run(w(e,t,d(),"bool"),t)],t.greater=(e,t)=>[e.run(w(e,t,h(),"bool"),t)],t.less=(e,t)=>[e.run(w(e,t,p(),"bool"),t)],t.mul=(e,t)=>[e.run(w(e,t,c()),t)],t.or=(e,t)=>[e.run(w(e,t,m(),"bool"),t)],t.pow=(e,t)=>[e.run(w(e,t,y()),t)],t.pRelu=(e,t)=>[e.run(w(e,t,b()),t)],t.sub=(e,t)=>[e.run(w(e,t,u()),t)],t.xor=(e,t)=>[e.run(w(e,t,g(),"bool"),t)]},4196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;const r=n(2517);t.cast=(e,t,n)=>(i(t),[e.cast(t[0],n)]),t.parseCastAttributes=e=>r.ProtoUtil.tensorDataTypeFromProto(e.attributes.getInt("to"));const i=e=>{if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.")}},1163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;const r=n(5060),i=n(2039),a=n(9390),o=n(2827);t.createPackedConcatProgramInfoLoader=(e,t,n)=>{const l=(c=t.length,u=n.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:c},((e,t)=>"X".concat(t))),inputTypes:Array(c).fill(i.TextureType.packed),cacheHint:u});var c,u;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,l)=>{const c=n[0].dims.slice();if(l>=c.length||l<-1*c.length)throw new Error("axis specified for concat doesn't match input dimensionality");l<0&&(l=c.length+l);const u=c.slice(0);for(let r=1;r<n.length;r++){const e=n[r].dims.slice();for(let t=0;t<c.length;t++)if(t===l)u[l]+=e[t];else if(c[t]!==e[t])throw new Error("non concat dimensions must match")}const d=u.length,h=(0,o.getChannels)("coords",d),p=(0,a.getCoordsDataType)(d),f=(0,o.unpackFromChannel)(),m=n.map((e=>e.dims)),g=(0,a.getGlChannels)(d),y=new Array(m.length-1);y[0]=m[0][l];for(let r=1;r<y.length;r++)y[r]=y[r-1]+m[r][l];const b=g[l],w=g.slice(-2),v=g.join();let _="if (".concat(b," < ").concat(y[0],") {\n        return getChannel(\n            getX0(").concat(v,"), vec2(").concat(w.join(),"));\n        }");for(let r=1;r<y.length;r++){const e=y[r-1];_+="\n            if (".concat(b," < ").concat(y[r],"  && ").concat(b," >= ").concat(y[r-1],") {\n              return getChannel(\n                getX").concat(r,"(").concat(s(g,b,e),"),\n                vec2(").concat(s(w,b,e),"));\n            }")}const x=y.length,k=y[y.length-1];_+="\n            return getChannel(\n              getX".concat(x,"(").concat(s(g,b,k),"),\n              vec2(").concat(s(w,b,k),"));");const D=(0,r.getGlsl)(e.session.backend.glContext.version),T="\n          ".concat(f,"\n          float getValue(").concat(g.map((e=>"int "+e)),") {\n            ").concat(_,"\n          }\n\n          void main() {\n            ").concat(p," coords = getOutputCoords();\n            int lastDim = coords.").concat(g[d-1],";\n            coords.").concat(g[d-1]," = coords.").concat(g[d-2],";\n            coords.").concat(g[d-2]," = lastDim;\n\n            vec4 result = vec4(getValue(").concat(h,"), 0., 0., 0.);\n\n            ").concat(h[d-1]," = ").concat(h[d-1]," + 1;\n            if (").concat(h[d-1]," < ").concat(u[d-1],") {\n              result.g = getValue(").concat(h,");\n            }\n\n            ").concat(h[d-2]," = ").concat(h[d-2]," + 1;\n            if (").concat(h[d-2]," < ").concat(u[d-2],") {\n              result.a = getValue(").concat(h,");\n            }\n\n            ").concat(h[d-1]," = ").concat(h[d-1]," - 1;\n            if (").concat(h[d-2]," < ").concat(u[d-2]," &&\n                ").concat(h[d-1]," < ").concat(u[d-1],") {\n              result.b = getValue(").concat(h,");\n            }\n            ").concat(D.output," = result;\n          }\n        ");return Object.assign(Object.assign({},t),{output:{dims:u,type:n[0].type,textureType:i.TextureType.packed},shaderSource:T,hasMain:!0})})(e,l,t,n.axis)})};const s=(e,t,n)=>{const r=e.indexOf(t);return e.map(((e,t)=>t===r?"".concat(e," - ").concat(n):e)).join()}},2069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;const r=n(246),i=n(2039),a=n(1163);t.concat=(e,t,n)=>(d(t),e.session.pack&&t[0].dims.length>1?[e.run((0,a.createPackedConcatProgramInfoLoader)(e,t,n),t)]:[e.run(o(e,t,n),t)]);const o=(e,t,n)=>{const r=(a=t.length,o=n.cacheKey,{name:"Concat",inputNames:Array.from({length:a},((e,t)=>"X".concat(t))),inputTypes:Array(a).fill(i.TextureType.unpacked),cacheHint:o});var a,o;return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const a=n[0].dims.slice();if(r>=a.length||r<-1*a.length)throw new Error("axis specified for concat doesn't match input dimensionality");r<0&&(r=a.length+r);const o=a.slice(0);for(let i=1;i<n.length;i++){const e=n[i].dims.slice();for(let t=0;t<a.length;t++)if(t===r)o[r]+=e[t];else if(a[t]!==e[t])throw new Error("non concat dimensions must match")}const d=o.length,h=new Array(n.length);let p=0;for(let i=0;i<h.length;++i)p+=n[i].dims[r],h[i]=p;let f="";f=n.length<5?s(h):l(h);const m="\n        ".concat(c(n.length,d),"\n        ").concat(u(h),"\n        ").concat(f,"\n        float process(int indices[").concat(d,"]) {\n          int textureIndex = getTextureWhereDataResides (indices[").concat(r,"]);\n\n          if(textureIndex != 0) {\n            indices[").concat(r,"] = indices[").concat(r,"] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }");return Object.assign(Object.assign({},t),{output:{dims:o,type:n[0].type,textureType:i.TextureType.unpacked},shaderSource:m})})(0,r,t,n.axis)})},s=e=>"int getTextureWhereDataResides(int index) {\n      ".concat(e.map(((e,t)=>"if(index<".concat(e,") {return ").concat(t,";}\n"))).join(""),"\n    }"),l=e=>s(e),c=(e,t)=>{const n=["float fetchDataFromCorrectTexture(int textureIndex, int indices[".concat(t,"]) {")];for(let r=0;r<e;++r)0===r?n.push("\tif (textureIndex == ".concat(r,") { return _X").concat(r,"(indices); }")):r===e-1?n.push("\telse { return _X".concat(r,"(indices); }")):n.push("\telse if (textureIndex == ".concat(r,") { return _X").concat(r,"(indices); }"));return n.push("\t}"),n.join("\n")},u=e=>{const t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let n=0;n<e.length;++n)0===n?t.push("\tif (index == ".concat(n,") { return ").concat(e[n],"; }")):n===e.length-1?t.push("\telse { return ".concat(e[n],"; }")):t.push("\telse if (index == ".concat(n,") { return ").concat(e[n],"; }"));return t.push("\t}"),t.join("\n")};t.parseConcatAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")});const d=e=>{if(!e||e.length<1)throw new Error("too few inputs");const t=e[0].type,n=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");for(const r of e){if(r.type!==t)throw new Error("input tensors should be one type");if(r.dims.length!==n)throw new Error("input tensors should have the same shape")}}},4770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;const r=n(6231),i=n(5060),a=n(2039),o=n(8138),s=n(2823);t.createUnpackedGroupedConvProgramInfoLoader=(e,t,n)=>{const l=(c=t.length>2,u=n.cacheKey,{name:"GroupedConv",inputNames:c?["X","W","Bias"]:["X","W"],inputTypes:c?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],cacheHint:u});var c,u;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,l)=>{const c=t.length>2?"value += getBias(output_channel);":"",u=t[0].dims.slice(),d=t[1].dims.slice(),h=d[0]/l.group;r.Logger.verbose("GroupedConv","autpPad:".concat(l.autoPad,", dilations:").concat(l.dilations,", group:").concat(l.group,", kernelShape:").concat(l.kernelShape,", pads:").concat(l.pads,", strides:").concat(l.strides));const p=(0,o.calculateOutputShape)(u,d,l.dilations,l.pads,l.strides),f=(0,i.getGlsl)(e.session.backend.glContext.version),{activationFunction:m,applyActivation:g}=(0,s.getActivationSnippet)(l),y="\n  const ivec2 strides = ivec2(".concat(l.strides[0],", ").concat(l.strides[1],");\n  const ivec2 pads = ivec2(").concat(l.pads[0],", ").concat(l.pads[1],");\n  ").concat(m,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ").concat(h,";\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ").concat(d[1],"; wInChannel++) {\n      int input_channel = group_id * ").concat(d[1]," + wInChannel;\n      for (int wHeight = 0; wHeight < ").concat(d[2],"; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ").concat(l.dilations[0],";\n\n        if (xHeight < 0 || xHeight >= ").concat(u[2],") {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ").concat(d[3],"; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ").concat(l.dilations[1],";\n          if (xWidth < 0 || xWidth >= ").concat(u[3],") {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ").concat(c,"\n    ").concat(g,"\n    ").concat(f.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:p,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:y,hasMain:!0})})(e,t,l,n)})}},1386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;const r=n(8138),i=n(8555),a=n(708);t.conv2DPackedPointwise=(e,t,n)=>{const i=t[0].dims,o=t[1].dims,s=(0,r.calculateOutputShape)(i,o,n.dilations,n.pads,n.strides),l=e.reshapePacked(t[0],[i[1],i[2]*i[3]]),c=e.reshapePacked(t[1],[o[0],o[1]]),u=t.length>2?[c,l,t[2]]:[c,l],d=e.run((0,a.createPackedMatmulProgramInfoLoader)(e,u,n),u);return e.reshapePacked(d,s)},t.conv2DPacked=(e,t,n)=>{const o=t[0].dims,s=t[1].dims,l=(0,r.calculateOutputShape)(o,s,n.dilations,n.pads,n.strides),c=e.run((0,i.createPackedIm2ColProgramInfoLoader)(e,t[0],t[1],l,n),[t[0]]),u=e.reshapePacked(t[1],[s[0],s[1]*s[2]*s[3]]),d=3===t.length?[u,c,t[2]]:[u,c],h=e.run((0,a.createPackedMatmulProgramInfoLoader)(e,d,n),d);return e.reshapePacked(h,l)}},9663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvTransposeAttributes=t.convTranspose=void 0;const r=n(246),i=n(5060),a=n(2039),o=n(2823),s=(e,t,n,r,i,a)=>(e-1)*t+n+(r-1)*i+1-a,l=(e,t,n,r,i)=>{const a=Math.floor(e/2);"SAME_UPPER"===t?(n[r]=a,n[i]=e-a):"SAME_LOWER"===t&&(n[r]=e-a,n[i]=a)};t.convTranspose=(e,t,n)=>(h(t,n),c(e,t,n));const c=(e,t,n)=>{const r=d(n,t);return[u(e,t,r)]},u=(e,t,n)=>e.run(((e,t,n)=>{const r=(s=t.length>2,l=n.cacheKey,{name:"ConvTranspose",inputNames:s?["X","W","B"]:["X","W"],inputTypes:s?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],cacheHint:l});var s,l;return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const s=t.length>2?"getB(output_channel)":"0.0",l=t[0].dims,c=t[1].dims,u=c[1],d=c[0]/r.group,h=[t[0].dims[0],t[1].dims[1]*r.group,...r.outputShape],p=(0,i.getGlsl)(e.session.backend.glContext.version),{activationFunction:f,applyActivation:m}=(0,o.getActivationSnippet)(r),g="\n  const ivec2 strides = ivec2(".concat(r.strides[0],", ").concat(r.strides[1],");\n  const ivec2 pads = ivec2(").concat(r.pads[0],", ").concat(r.pads[1],");\n  ").concat(f,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ").concat(u,";\n    int wOutChannel = output_channel - group_id * ").concat(u,";\n\n    float value = ").concat(s,";\n    for (int inChannelOffset = 0; inChannelOffset < ").concat(d,"; inChannelOffset++) {\n      int input_channel = group_id * ").concat(d," + inChannelOffset;\n      for (int wWOff = 0; wWOff < ").concat(c[2],"; wWOff++) {\n        for (int wHOff = 0; wHOff < ").concat(c[3],"; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ").concat(r.dilations[0],", wHOff * ").concat(r.dilations[1],");\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ").concat(l[2]," &&\n            wLocIn.y >= 0 && wLocIn.y < ").concat(l[3],"\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ").concat(m,"\n    ").concat(p.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:h,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:g,hasMain:!0})})(e,t,r,n)})})(e,t,n),t),d=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let o=2;o<t[1].dims.length;++o)n.push(t[1].dims[o]);const r=e.pads.slice(),i=e.outputShape.slice();((e,t,n,r,i,a,o,c)=>{const u=e.length-2,d=0===c.length;for(let h=0;h<u;++h){const p=d?e[h+2]*a[h]:c[h],f=s(e[h+2],a[h],i[h],t[h],n[h],p);l(f,r,i,h,h+u),d&&c.push(a[h]*(e[h+2]-1)+o[h]+(t[h]-1)*n[h]+1-i[h]-i[h+u])}})(t[0].dims,n,e.dilations,e.autoPad,r,e.strides,e.outputPadding,i);const a=Object.assign({},e);return Object.assign(a,{kernelShape:n,pads:r,outputShape:i,cacheKey:e.cacheKey}),a};t.parseConvTransposeAttributes=e=>{const t=e.attributes,n=(0,o.parseInternalActivationAttributes)(t),i=t.getString("auto_pad","NOTSET"),a=t.getInts("dilations",[1,1]),s=t.getInt("group",1),l=t.getInts("kernel_shape",[]),c=t.getInts("output_padding",[0,0]),u=t.getInts("output_shape",[]),d=t.getInts("pads",[0,0,0,0]),h=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:i,dilations:a,group:s,kernelShape:l,outputPadding:c,outputShape:u,pads:d,strides:h},n))};const h=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");const r=e[0].dims.length-2;if(t.dilations.length!==r)throw new Error("dilations should be ".concat(r,"D"));if(t.strides.length!==r)throw new Error("strides should be ".concat(r,"D"));if(t.pads.length!==2*r)throw new Error("pads should be ".concat(2*r,"D"));if(t.outputPadding.length!==r)throw new Error("output_padding should be ".concat(r,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvAttributes=t.conv=t.calculateOutputShape=void 0;const r=n(246),i=n(2517),a=n(4770),o=n(1386),s=n(9828),l=n(2823),c=n(3248),u=n(5623);t.calculateOutputShape=(e,t,n,r,i)=>{const a=e[0],o=e.slice(2),s=o.length,l=t[0],c=t.slice(2).map(((e,t)=>e+(e-1)*(n[t]-1))),u=o.map(((e,t)=>e+r[t]+r[t+s])).map(((e,t)=>Math.floor((e-c[t]+i[t])/i[t])));return[a,l].concat(...u)},t.conv=(e,t,n)=>(m(t,n),d(e,t,n));const d=(e,t,n)=>{const r=f(n,t),i=e.session.pack,s=1===r.kernelShape[0]&&1===r.kernelShape[1];return r.group>1?[e.run((0,a.createUnpackedGroupedConvProgramInfoLoader)(e,t,r),t)]:s&&i?[h(e,t,r)]:i&&4===t[0].dims.length&&1===t[0].dims[0]&&!s?[(0,o.conv2DPacked)(e,t,r)]:[p(e,t,r)]},h=(e,n,r)=>{const i=n[0].dims,a=n[1].dims,o=(0,t.calculateOutputShape)(i,a,r.dilations,r.pads,r.strides),s=e.reshapeUnpacked(n[0],[i[1],i[2]*i[3]]),l=e.reshapeUnpacked(n[1],[a[0],a[1]]),c=n.length>2?[l,s,n[2]]:[l,s],d=e.run((0,u.createMatmulProgramInfoLoader)(c,r),c);return e.reshapeUnpacked(d,o)},p=(e,n,r)=>{const i=n[0].dims,a=n[1].dims,o=(0,t.calculateOutputShape)(i,a,r.dilations,r.pads,r.strides),l=e.run((0,c.createIm2ColProgramInfoLoader)(e,n[0],n[1],o,r),[n[0]]),u=3===n.length?[l,n[1],n[2]]:[l,n[1]];return e.run((0,s.createDotProductProgramInfoLoader)(e,n,o,r),u)},f=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let i=2;i<t[1].dims.length;++i)n.push(t[1].dims[i]);const r=e.pads.slice();i.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,r,e.autoPad);const a=Object.assign({},e);return Object.assign(a,{kernelShape:n,pads:r,cacheKey:e.cacheKey}),a};t.parseConvAttributes=e=>{const t=e.attributes,n=(0,l.parseInternalActivationAttributes)(t),i=t.getString("auto_pad","NOTSET"),a=t.getInts("dilations",[1,1]),o=t.getInt("group",1),s=t.getInts("kernel_shape",[]),c=t.getInts("pads",[0,0,0,0]),u=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:i,dilations:a,group:o,kernelShape:s,pads:c,strides:u},n))};const m=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error("dilations should be ".concat(n,"D"));if(t.strides.length!==n)throw new Error("strides should be ".concat(n,"D"));if(t.pads.length!==2*n)throw new Error("pads should be ".concat(2*n,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;const r=n(3738);t.depthToSpace=(e,t,n)=>{i(t);const a=n.blocksize,o=a*a,s="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],l="DCR"===n.mode?[t[0].dims[0],a,a,t[0].dims[1]/o,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/o,a,a,t[0].dims[2],t[0].dims[3]],c=e.reshapeUnpacked(t[0],l),u={perm:s,cacheKey:"".concat(s)},[d]=(0,r.transpose)(e,[c],u),h=[t[0].dims[0],t[0].dims[1]/o,t[0].dims[2]*a,t[0].dims[3]*a];return[e.reshapeUnpacked(d,h)]},t.parseDepthToSpaceAttributes=e=>{const t=e.attributes.getInt("blocksize");if(t<1)throw new Error("blocksize must be >= 1, but got : ".concat(t," for DepthToSpace"));const n=e.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error("unrecognized mode: ".concat(n," for DepthToSpace"));return{mode:n,blocksize:t}};const i=e=>{if(1!==e.length)throw new Error("DepthToSpace expect 1 inputs, but got ".concat(e.length));if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;const r=n(2517),i=n(5060),a=n(2039),o=n(2823),s=n(3248);t.createDotProductProgramInfoLoader=(e,t,n,l)=>{const c=((e,t)=>({name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[a.TextureType.unpacked,a.TextureType.packedLastDimension,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.packedLastDimension],cacheKey:t.activationCacheKey}))(t.length>2,l);return Object.assign(Object.assign({},c),{get:()=>((e,t,n,l,c)=>{const u=n[0].dims,d=n[1].dims,h=[d[0],Math.ceil(u[1]*d[2]*d[3]/4)],p=(0,s.calculateIm2ColDims)(u,d,l),[f,m]=e.calculateTextureWidthAndHeight(h,a.TextureType.packedLastDimension),g=r.ShapeUtil.computeStrides(p),[y,b]=e.calculateTextureWidthAndHeight(p,a.TextureType.packedLastDimension),w=l.length,v=n.length<3?"0.0":"_B(b)",_=Math.ceil(u[1]*d[2]*d[3]/4),{activationFunction:x,applyActivation:k}=(0,o.getActivationSnippet)(c),D=(0,i.getGlsl)(e.session.backend.glContext.version),T="\n".concat(x,"\nfloat process(int indices[").concat(w,"]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ").concat(g[0]," + im2col[1] * ").concat(g[1]," + im2col[2] * ").concat(g[2],";\n  int kernelOffset = indices[1] * ").concat(h[1],";\n  float value = ").concat(v,";\n  for (int i = 0; i < ").concat(_,"; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ").concat(y,", ").concat(b,");\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ").concat(f,", ").concat(m,");\n    value += dot(").concat(D.texture2D,"(Im2Col, im2colCoords), ").concat(D.texture2D,"(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ").concat(k,"\n  return value;\n}");return Object.assign(Object.assign({},t),{output:{dims:l,type:n[0].type,textureType:a.TextureType.unpacked},shaderSource:T})})(e,c,t,n,l)})}},7992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;const r=n(2517);t.flatten=(e,t,n)=>{i(t,n);const a=r.ShapeUtil.flattenShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.parseFlattenAttributes=e=>e.attributes.getInt("axis",1);const i=(e,t)=>{if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");const n=e[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(t<-n||t>n)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.")}},2823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActivationSnippet=void 0;const r=n(2517),i=n(4909);t.getActivationSnippet=function(e){let t;switch(e.activation){case"Relu":t=(0,i.glslRelu)();break;case"Sigmoid":t=(0,i.glslSigmoid)();break;case"Clip":t=(0,i.glslClip)(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const n=t.name;return{activationFunction:t.body,applyActivation:"value = ".concat(n,"_(value);")}},t.parseInternalActivationAttributes=e=>{const t=e.getString("activation","");if("Clip"===t){const[n,i]=e.getFloats("activation_params",[r.MIN_CLIP,r.MAX_CLIP]);return{activation:t,clipMax:i,clipMin:n,activationCacheKey:"".concat(t,":").concat(n,",").concat(i)}}return{activation:t,activationCacheKey:t}}},1253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;const r=n(246),i=n(782),a=n(2517),o=n(2039);t.gather=(e,t,n)=>(c(t,n.axis),[e.run(l(e,t,n),t)]),t.parseGatherAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",0)});const s={name:"Gather",inputNames:["A","B"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked]},l=(e,t,n)=>{const r=Object.assign(Object.assign({},s),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const i=n[0].dims.slice(),s=n[1].dims.slice(),l=new Array(i.length+s.length-1);r=a.ShapeUtil.normalizeAxis(r,i.length);const c=[];for(let a=0;a<l.length;a++)a<r?(l[a]=i[a],c.push("inputIdx[".concat(a,"] = outputIdx[").concat(a,"];"))):a<r+s.length?(l[a]=s[a-r],c.push("indexDataIdx[".concat(a-r,"] = outputIdx[").concat(a,"];"))):(l[a]=i[a-s.length+1],c.push("inputIdx[".concat(a-s.length+1,"] = outputIdx[").concat(a,"];")));const u="\n      float process(int outputIdx[".concat(l.length||1,"]) {\n        int inputIdx[").concat(i.length,"];\n        int indexDataIdx[").concat(s.length||1,"];\n        indexDataIdx[0] = 0;\n        ").concat(c.join("\n        "),"\n        int idx = int(_B(indexDataIdx));\n        inputIdx[").concat(r,"] = idx < 0 ? idx + ").concat(i[r]," : idx;\n        return _A(inputIdx);\n      }");return Object.assign(Object.assign({},t),{output:{dims:l,type:n[0].type,textureType:o.TextureType.unpacked},shaderSource:u})})(0,r,t,n.axis)})},c=(e,t)=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");const n=e[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||t>n-1)throw new Error("Invalid axis.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.")}},4776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;const r=n(246),i=n(2517),a=n(2039);t.gemm=(e,t,n)=>(c(t,n),[e.run(s(t,n),t)]);const o=(e,t)=>{const n=0!==e.attributes.getInt("transA",0),i=0!==e.attributes.getInt("transB",0),a=e.attributes.getFloat("alpha",1),o=e.attributes.getFloat("beta",1);return(0,r.createAttributeWithCacheKey)({transA:n,transB:i,alpha:a,beta:o,isOptionalC:t})};t.parseGemmAttributesV7=e=>o(e,!1),t.parseGemmAttributesV11=e=>o(e,!0);const s=(e,t)=>{const n={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>l(n,e,t)})},l=(e,t,n)=>{const r=t[0].dims.slice(),o=t[1].dims.slice(),[s,l]=i.GemmUtil.getShapeOfGemmResult(r,n.transA,o,n.transB,3===t.length?t[2].dims:void 0),c=[s,l];if(!c)throw new Error("Can't use gemm on the given tensors");let u=r[r.length-1],d="";n.transA&&(u=r[0]),n.transA&&n.transB?d="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?d="value += _A_T(a) * _B(b);":!n.transA&&n.transB?d="value += _A(a) * _B_T(b);":n.transA||n.transB||(d="value += _A(a) * _B(b);");const h=c.length,p="\n      float process(int indices[".concat(h,"]) {\n          int a[").concat(h,"];\n          int b[").concat(h,"];\n          ").concat(3===t.length?"int c[".concat(t[2].dims.length,"];"):"","\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ").concat(3===t.length?"bcastIndices_C(indices, c);":"","\n\n          float value = 0.0;\n          for (int k=0; k<").concat(u,"; ++k) {\n              a[").concat(h-1,"] = k;\n              b[").concat(h-2,"] = k;\n              ").concat(d,"\n          }\n\n          value = value * alpha;\n          ").concat(3===t.length?"value += beta * _C(c);":"","\n          return value;\n      }");return Object.assign(Object.assign({},e),{output:{dims:c,type:t[0].type,textureType:a.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:p})},c=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}},8555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;const r=n(5060),i=n(2039),a=n(2827);t.createPackedIm2ColProgramInfoLoader=(e,t,n,o,s)=>{const l=(c=s.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[i.TextureType.packed],cacheHint:c});var c;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,o,s,l)=>{const c=n.dims,u=o.dims,d=s.length,h=[u[1]*u[2]*u[3],s[2]*s[3]],p=u[2]*u[3],f=(0,a.unpackFromChannel)(),m=(0,r.getGlsl)(e.session.backend.glContext.version);let g="";for(let r=0;r<=1;r++)for(let e=0;e<=1;e++)g+="\n            blockIndex = rc.x + ".concat(e,";\n            pos = rc.y + ").concat(r,";\n\n            if(blockIndex < ").concat(h[1]," && pos < ").concat(h[0],") {\n              offsetY = int(blockIndex / (").concat(s[d-1],")) * ").concat(l.strides[0]," -\n                ").concat(l.pads[0],";\n              d0 = offsetY + ").concat(l.dilations[0]," * (imod(pos, ").concat(p,") / ").concat(u[2],");\n\n              if(d0 < ").concat(c[2]," && d0 >= 0) {\n                offsetX = imod(blockIndex, ").concat(s[d-1],") * ").concat(l.strides[1]," -\n                  ").concat(l.pads[1],";\n                d1 = offsetX + ").concat(l.dilations[1]," * imod(imod(pos, ").concat(p,"), ").concat(u[2],");\n\n                if(d1 < ").concat(c[3]," && d1 >= 0) {\n\n                  ch = int(float(pos)/ ").concat(p,".);\n                    innerDims = vec2(d0, d1);\n                    result[").concat(2*r+e,"] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          ");const y="\n      ".concat(f,"\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ").concat(g,"\n          ").concat(m.output," = result;\n      }\n            ");return Object.assign(Object.assign({},t),{output:{dims:h,type:n.type,textureType:i.TextureType.packed},shaderSource:y,hasMain:!0})})(e,l,t,n,o,s)})}},3248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIm2ColDims=t.createIm2ColProgramInfoLoader=void 0;const r=n(2039);t.createIm2ColProgramInfoLoader=(e,n,i,a,o)=>{const s=(l=o.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[r.TextureType.unpacked],cacheHint:l});var l;return Object.assign(Object.assign({},s),{get:()=>((e,n,i,a,o,s)=>{const l=i.dims,c=a.dims,u=o.length,d=(0,t.calculateIm2ColDims)(l,c,o,4),h="\n        const int XC = ".concat(l[1],";\n        const int XH = ").concat(l[2],";\n        const int XW = ").concat(l[3],";\n        const int KH = ").concat(s.kernelShape[0],";\n        const int KW = ").concat(s.kernelShape[1],";\n        const int dilationH = ").concat(s.dilations[0],";\n        const int dilationW = ").concat(s.dilations[1],";\n        const int strideH = ").concat(s.strides[0],";\n        const int strideW = ").concat(s.strides[1],";\n        const int padH = ").concat(s.pads[0],";\n        const int padW = ").concat(s.pads[1],";\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[").concat(u,"]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[").concat(l.length,"];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        ");return Object.assign(Object.assign({},n),{output:{dims:d,type:i.type,textureType:r.TextureType.packedLastDimension},shaderSource:h})})(0,s,n,i,a,o)})},t.calculateIm2ColDims=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;return[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/r)]}},6572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;const r=n(246),i=n(2039);t.imageScaler=(e,t,n)=>(l(t),[e.run(o(e,t,n),t)]),t.parseImageScalerAttributes=e=>{const t=e.attributes.getFloat("scale"),n=e.attributes.getFloats("bias");return(0,r.createAttributeWithCacheKey)({scale:t,bias:n})};const a={name:"ImageScaler",inputNames:["X"],inputTypes:[i.TextureType.unpacked]},o=(e,t,n)=>{const r=Object.assign(Object.assign({},a),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const a=n[0].dims.slice(),o=a.length,l="\n      ".concat(s(r.bias.length),"\n      float process(int indices[").concat(o,"]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }");return Object.assign(Object.assign({},t),{output:{dims:a,type:n[0].type,textureType:i.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:r.bias.length,data:r.bias},{name:"scale",type:"float",data:r.scale}],shaderSource:l})})(0,r,t,n)})},s=e=>{const t=["float getBias(float bias[".concat(e,"], int channel) {")];for(let n=0;n<e;++n)0===n?t.push("\tif (channel == ".concat(n,") { return bias[").concat(n,"]; }")):n===e-1?t.push("\telse { return bias[".concat(n,"]; }")):t.push("\telse if (channel == ".concat(n,") { return bias[").concat(n,"]; }"));return t.push("\t}"),t.join("\n")},l=e=>{if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}},3346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;const r=n(5060),i=n(2039);t.instanceNormalization=(e,t,n)=>{c(t);const r=e.run(o(t[0]),t);return[e.run(l(e,t[0],n,r.dims),[t[0],r,t[1],t[2]])]},t.parseInstanceNormalizationAttributes=e=>e.attributes.getFloat("epsilon",1e-5);const a={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[i.TextureType.unpacked]},o=e=>Object.assign(Object.assign({},a),{get:()=>((e,t)=>{const n=t.dims.slice(),r=n[1],a=n[2]*n[3],o=[n[0],r],s="\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<".concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(").concat(a,");\n        temp = 0.0;\n        for(int a2=0; a2<").concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(").concat(a,");\n\n        return v;\n      }");return Object.assign(Object.assign({},e),{output:{dims:o,type:t.type,textureType:i.TextureType.packedLastDimension},shaderSource:s})})(a,e)}),s={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[i.TextureType.unpacked,i.TextureType.packedLastDimension,i.TextureType.unpacked,i.TextureType.unpacked]},l=(e,t,n,a)=>{const o=Object.assign(Object.assign({},s),{cacheHint:"".concat(n)});return Object.assign(Object.assign({},o),{get:()=>((e,t,n,a,o)=>{const s=(0,r.getGlsl)(e.session.backend.glContext.version),[l,c]=e.calculateTextureWidthAndHeight(o,i.TextureType.packedLastDimension),[u,d]=[l/4,c],h="\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ".concat(u,", ").concat(d,");\n        return ").concat(s.texture2D,"(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }");return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:i.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:a}],shaderSource:h})})(e,o,t,n,a)})},c=e=>{if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");const t=e[0],n=e[1],r=e[2];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;const r=n(2517),i=n(5060),a=n(2039),o=n(9390),s=n(2823),l=n(5623);t.createPackedMatmulProgramInfoLoader=(e,t,n)=>{const c=(u=t.length>2,d=n.activationCacheKey,{name:"MatMul (packed)",inputNames:u?["A","B","Bias"]:["A","B"],inputTypes:u?[a.TextureType.packed,a.TextureType.packed,a.TextureType.packed]:[a.TextureType.packed,a.TextureType.packed],cacheHint:d});var u,d;return Object.assign(Object.assign({},c),{get:()=>((e,t,n,c)=>{const u=n.length>2,d=u?"value += getBiasForMatmul();":"",h=n[0].dims,p=n[1].dims,f=r.BroadcastUtil.calcShape(h,p,!0),m=!r.ShapeUtil.areEqual(n[0].dims,n[1].dims);if(!f)throw new Error("Can't use matmul on the given tensors");const g=h[h.length-1],y=Math.ceil(g/2),b=h.length,w=p.length,v=(0,i.getGlsl)(e.session.backend.glContext.version),_=(0,o.getCoordsDataType)(f.length),x=f.length,k=(0,o.getGlChannels)(),{activationFunction:D,applyActivation:T}=(0,s.getActivationSnippet)(c),A=u?"".concat((0,l.getBiasForMatmul)(_,k,n[2].dims,f,!0)):"",S=m?"".concat(function(e,t,n,i){let a=[],o=[];const s=n[0].dims,l=n[1].dims,c=s.length,u=l.length,d=i.length,h=d-c,p=d-u;a=s.map(((e,n)=>"coords.".concat(t[n+h]))),a[c-1]="i*2",a.join(", "),o=l.map(((e,n)=>"coords.".concat(t[n+p]))),o[u-2]="i*2",o.join(", ");const f=r.BroadcastUtil.getBroadcastDims(s,i),m=r.BroadcastUtil.getBroadcastDims(l,i),g=f.map((e=>"coords.".concat(t[e+h]," = 0;"))).join("\n"),y=m.map((e=>"coords.".concat(t[e+p]," = 0;"))).join("\n"),b="int lastDim = coords.".concat(t[d-1],";\n  coords.").concat(t[d-1]," = coords.").concat(t[d-2],";\n  coords.").concat(t[d-2]," = lastDim;");return"\nvec4 getAAtOutCoordsMatmul(int i) {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(b,"\n  ").concat(g,"\n  vec4 outputValue = getA(").concat(a,");\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ").concat(e," coords = getOutputCoords();\n  ").concat(b,"\n  ").concat(y,"\n  vec4 outputValue = getB(").concat(o,");\n  return outputValue;\n}")}(_,k,n,f)):"",C=m?"getAAtOutCoordsMatmul(i)":"getA(".concat(function(e,t){let n="";for(let r=0;r<t-2;r++)n+="rc.".concat(e[r],", ");return n+="rc.".concat(e[t-2],", i*2"),n}(k,b),")"),E=m?"getBAtOutCoordsMatmul(i)":"getB(".concat(function(e,t){let n="";for(let r=0;r<t-2;r++)n+="rc.".concat(e[r],", ");return n+="i*2, rc.".concat(e[t-1]),n}(k,w),")"),F="\n            ".concat(S,"\n            ").concat(A,"\n            ").concat(D,"\n            void main() {\n              ").concat(m?"":"".concat(_," rc =\n          getOutputCoords(); int lastDim = rc.").concat(k[x-1],"; rc.").concat(k[x-1]," =\n          rc.").concat(k[x-2],"; rc.").concat(k[x-2]," = lastDim;\n      "),"\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ").concat(y,"; i++) {\n                vec4 a = ").concat(C,";\n                vec4 b = ").concat(E,";\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ").concat(d,"\n              ").concat(T,"\n              ").concat(v.output," = value;\n            }");return Object.assign(Object.assign({},t),{output:{dims:f,type:n[0].type,textureType:a.TextureType.packed},shaderSource:F,hasMain:!0})})(e,c,t,n)})}},5623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;const r=n(2517),i=n(2039),a=n(9390),o=n(2823),s=n(708);function l(e,t){const n=(s=e.length>2,l=t.activationCacheKey,{name:"MatMul",inputNames:s?["A","B","Bias"]:["A","B"],inputTypes:s?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:l});var s,l;return Object.assign(Object.assign({},n),{get:()=>function(e,t,n){const s=t[0].dims,l=t[1].dims,c=r.BroadcastUtil.calcShape(s,l,!0);if(!c)throw new Error("Can't use matmul on the given tensors");const d=(0,a.getCoordsDataType)(c.length),h=(0,a.getGlChannels)(),{activationFunction:p,applyActivation:f}=(0,o.getActivationSnippet)(n),m=t.length>2,g=m?"value += getBiasForMatmul();":"",y=m?"".concat(u(d,h,t[2].dims,c,!1)):"",b=c.length,w=s.length,v=l.length,_="\n    ".concat(p,"\n    ").concat(y,"\n    float process(int indices[").concat(b,"]) {\n        int a[").concat(w,"];\n        int b[").concat(v,"];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<").concat(s[s.length-1],"; ++k) {\n            a[").concat(w-1,"] = k;\n            b[").concat(v-2,"] = k;\n            value += _A(a) * _B(b);\n        }\n        ").concat(g,"\n        ").concat(f,"\n        return value;\n    }");return Object.assign(Object.assign({},e),{output:{dims:c,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:_})}(n,e,t)})}t.matMul=(e,t,n)=>(c(t),e.session.pack?[e.run((0,s.createPackedMatmulProgramInfoLoader)(e,t,n),t)]:[e.run(l(t,n),t)]),t.parseMatMulAttributes=e=>(0,o.parseInternalActivationAttributes)(e.attributes),t.createMatmulProgramInfoLoader=l;const c=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function u(e,t,n,i,a){let o="";const s=n.length,l=i.length,c=l-s;o=l<2&&s>0?"coords":n.map(((e,n)=>"coords.".concat(t[n+c]))).join(", ");const u=r.BroadcastUtil.getBroadcastDims(n,i).map((e=>"coords.".concat(t[e+c]," = 0;"))).join("\n");let d="vec4(outputValue.xx, outputValue.yy)";return 1===r.ShapeUtil.size(n)&&(d="vec4(outputValue.x)"),a?"\nvec4 getBiasForMatmul() {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(u,"\n  vec4 outputValue = getBias(").concat(o,");\n  return ").concat(d,";\n}"):"\nfloat getBiasForMatmul() {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(u,"\n  return getBias(coords.x);\n}")}t.getBiasForMatmul=u},2403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;const r=n(5060),i=n(2039),a=n(9390),o=n(2827),s={name:"pack",inputNames:["A"],inputTypes:[i.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=(e,t)=>Object.assign(Object.assign({},s),{get:()=>((e,t)=>{const n=(0,r.getGlsl)(e.session.backend.glContext.version),l=t.dims,c=l.length,u=t.dims.length,d=(0,a.getCoordsDataType)(u),h=(0,o.getChannels)("rc",u),p=(f=u,m=h,g=l[l.length-2],y=l[l.length-1],0===f||1===f?"":"\n    int r = ".concat(m[f-2],";\n    int c = ").concat(m[f-1],";\n    int rp1 = ").concat(m[f-2]," + 1;\n    int cp1 = ").concat(m[f-1]," + 1;\n    bool rEdge = rp1 >= ").concat(y,";\n    bool cEdge = cp1 >= ").concat(g,";\n    "));var f,m,g,y;let b;b=0===c?[1,1]:1===c?[l[0],1]:[l[u-1],l[u-2]];const w=function(e,t,n){if(0===e)return"false";if(1===e)return"rc > ".concat(t[0]);let r="";for(let i=e-2;i<e;i++)r+="".concat(n[i]," >= ").concat(t[i-e+2]),i<e-1&&(r+="||");return r}(u,b,h),v=function(e,t){const n=e.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return"getA(rc),\n            rc + 1 >= ".concat(e[0]," ? 0. : getA(rc + 1),\n            0, 0");let r="";if(n>2)for(let i=0;i<n-2;++i)r+="".concat(t[i],",");return"getA(".concat(r,"r, c),\n          rEdge ? 0. : getA(").concat(r,"rp1, c),\n          cEdge ? 0. : getA(").concat(r,"r, cp1),\n          rEdge || cEdge ? 0. : getA(").concat(r,"rp1, cp1)")}(l,h),_="\n        void main() {\n          ".concat(d," rc = getOutputCoords();\n\n          if(").concat(w,") {\n            ").concat(n.output," = vec4(0);\n          } else {\n            ").concat(p,"\n\n            ").concat(n.output," = vec4(").concat(v,");\n          }\n        }\n      ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:i.TextureType.packed},shaderSource:_})})(e,t)})},2827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;const r=n(9390);function i(e,t){return(0,r.getGlChannels)(t).map((t=>"".concat(e,".").concat(t)))}t.getVecChannels=i,t.getChannels=function(e,t){return 1===t?[e]:i(e,t)},t.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadAttributesV11=t.padV11=t.parsePadAttributesV2=t.padV2=void 0;const r=n(246),i=n(2517),a=n(5060),o=n(2039),s={name:"Pad",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.padV2=(e,t,n)=>(u(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>c(e,t[0],n)}),t)]),t.parsePadAttributesV2=e=>{const t=e.attributes.getString("mode","constant"),n=e.attributes.getFloat("value",0),i=e.attributes.getInts("pads");return(0,r.createAttributeWithCacheKey)({mode:t,value:n,pads:i})},t.padV11=(e,n,r)=>{d(n);const i=l(e,n,r);return(0,t.padV2)(e,[n[0]],i)},t.parsePadAttributesV11=e=>e.attributes.getString("mode","constant");const l=(e,t,n)=>{if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");const i=Array.from(t[1].integerData),a=t.length>=3?t[2].floatData[0]:0;return(0,r.createAttributeWithCacheKey)({mode:n,pads:i,value:a})},c=(e,t,n)=>{const r=i.ShapeUtil.padShape(t.dims.slice(),n.pads),a=r.length,s="\n      ".concat(h(e,t,n),"\n      float process(int[").concat(a,"] indices) {\n          return padA(indices);\n      }");return{name:"Pad",inputNames:["A"],inputTypes:[o.TextureType.unpacked],output:{dims:r,type:t.type,textureType:o.TextureType.unpacked},shaderSource:s}},u=e=>{if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},d=e=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(e.length>=3&&"string"===e[2].type)throw new Error("Invalid input type.")},h=(e,t,n)=>{const r=(0,a.getGlsl)(e.session.backend.glContext.version),[s,l]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),c=i.ShapeUtil.computeStrides(t.dims);switch(n.mode){case"constant":return p(r,t.dims,c,s,l,n.pads,n.value);case"reflect":return f(r,t.dims,c,s,l,n.pads);case"edge":return m(r,t.dims,c,s,l,n.pads);default:throw new Error("Invalid mode")}},p=(e,t,n,r,i,a,o)=>{const s=t.length;let l="";for(let c=s-1;c>=0;--c)l+="\n        k = m[".concat(c,"] - ").concat(a[c],";\n        if (k < 0)  return constant;\n        if (k >= ").concat(t[c],") return constant;\n        offset += k * ").concat(n[c],";\n        ");return"\n      float padA(int m[".concat(s,"]) {\n        const float constant = float(").concat(o,");\n        int offset = 0;\n        int k = 0;\n        ").concat(l,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(i,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")},f=(e,t,n,r,i,a)=>{const o=t.length;let s="";for(let l=o-1;l>=0;--l)s+="\n        k = m[".concat(l,"] - ").concat(a[l],";\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ").concat(2*(t[l]-1),";\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ").concat(t[l],") { k = _2n_1 - k; }\n        }\n        offset += k * ").concat(n[l],";\n        ");return"\n      float padA(int m[".concat(o,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(i,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")},m=(e,t,n,r,i,a)=>{const o=t.length;let s="";for(let l=o-1;l>=0;--l)s+="\n        k = m[".concat(l,"] - ").concat(a[l],";\n        if (k < 0)  k = 0;\n        if (k >= ").concat(t[l],") k = ").concat(t[l]-1,";\n        offset += k * ").concat(n[l],";\n      ");return"\n      float padA(int m[".concat(o,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(i,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")}},2143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;const r=n(246),i=n(2517),a=n(2039);t.averagePool=(e,t,n)=>{d(t);const r={name:"AveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>o(t,r,!1,n)}),t)]},t.parseAveragePoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),i=0!==e.attributes.getInt("count_include_pad",0),a=e.attributes.getInts("kernel_shape"),o=e.attributes.getInts("strides",[]),s=e.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:i,kernelShape:a,strides:o,pads:s})};const o=(e,t,n,r)=>{const[o,s]=l(e,r,n),c=i.ShapeUtil.size(o.kernelShape);let u="";o.countIncludePad?u+="value /= float(".concat(c,");"):u+="value /= float(".concat(c," - pad);");const d="\n        ".concat(h(e[0].dims,o,"value += _X(x);",u,"0.0"),"\n      ");return Object.assign(Object.assign({},t),{output:{dims:s,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:d})};t.globalAveragePool=(e,t,n)=>{d(t);const r={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:"".concat(n.countIncludePad)};return[e.run(Object.assign(Object.assign({},r),{get:()=>o(t,r,!0,n)}),t)]},t.parseGlobalAveragePoolAttributes=e=>{const t=0!==e.attributes.getInt("count_include_pad",0);return(0,r.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},t.maxPool=(e,t,n)=>{d(t);const r={name:"MaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>s(t,r,!1,n)}),t)]},t.parseMaxPoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),i=e.attributes.getInts("kernel_shape"),a=e.attributes.getInts("strides",[]),o=e.attributes.getInts("pads",[]),s=e.attributes.getInt("storage_order",0),l=e.attributes.getInts("dilations",[]);if(0!==s)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:i,strides:a,pads:o,storageOrder:s,dilations:l})};const s=(e,t,n,r)=>{const[i,o]=l(e,r,n),s="\n      ".concat(h(e[0].dims,i,"\n      value = max(_X(x), value);\n    ","","-1e5"),"\n    ");return Object.assign(Object.assign({},t),{output:{dims:o,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:s})},l=(e,t,n)=>{const r=e[0].dims.slice(),a=Object.hasOwnProperty.call(t,"dilations"),o=t.kernelShape.slice(),s=t.strides.slice(),l=a?t.dilations.slice():[],c=t.pads.slice();i.PoolConvUtil.adjustPoolAttributes(n,r,o,s,l,c);const u=i.PoolConvUtil.computePoolOutputShape(n,r,s,l,o,c,t.autoPad),d=Object.assign({},t);return a?Object.assign(d,{kernelShape:o,strides:s,pads:c,dilations:l,cacheKey:t.cacheKey}):Object.assign(d,{kernelShape:o,strides:s,pads:c,cacheKey:t.cacheKey}),[d,u]},c={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},u={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked]};t.globalMaxPool=(e,t)=>(d(t),[e.run(Object.assign(Object.assign({},u),{get:()=>s(t,u,!0,c)}),t)]);const d=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},h=(e,t,n,r,a)=>{const o=e.length;if(t.kernelShape.length<=2){const i=t.kernelShape[t.kernelShape.length-1],s=t.strides[t.strides.length-1],l=t.pads[t.pads.length/2-1],c=t.pads[t.pads.length-1],u=e[o-1];let d="",h="",p="";if(d=l+c!==0?"\n          for (int i = 0; i < ".concat(i,"; i++) {\n            x[").concat(o," - 1] = indices[").concat(o," - 1] * ").concat(s," - ").concat(l," + i;\n            if (x[").concat(o," - 1] < 0 || x[").concat(o," - 1] >= ").concat(u,") {\n              pad++;\n              continue;\n            }\n            ").concat(n,"\n          }"):"\n          for (int i = 0; i < ".concat(i,"; i++) {\n            x[").concat(o," - 1] = indices[").concat(o," - 1] * ").concat(s," - ").concat(l," + i;\n            ").concat(n,"\n          }"),2===t.kernelShape.length){const n=t.kernelShape[t.kernelShape.length-2],r=t.strides[t.strides.length-2],a=t.pads[t.pads.length/2-2],s=t.pads[t.pads.length-2],l=e[o-2];h=a+s!==0?"\n            for (int j = 0; j < ".concat(n,"; j++) {\n              x[").concat(o," - 2] = indices[").concat(o," - 2] * ").concat(r," - ").concat(a," + j;\n              if (x[").concat(o," - 2] < 0 || x[").concat(o," - 2] >= ").concat(l,") {\n                pad+= ").concat(i,";\n                continue;\n              }\n          "):"\n            for (int j = 0; j < ".concat(n,"; j++) {\n              x[").concat(o," - 2] = indices[").concat(o," - 2] * ").concat(r," - ").concat(a," + j;\n            "),p="\n          }\n        "}return"\n        float process(int indices[".concat(o,"]) {\n          int x[").concat(o,"];\n          copyVec(indices, x);\n\n          float value = ").concat(a,";\n          int pad = 0;\n          ").concat(h,"\n          ").concat(d,"\n          ").concat(p,"\n          ").concat(r,"\n          return value;\n        }\n      ")}{const s=i.ShapeUtil.size(t.kernelShape),l=i.ShapeUtil.computeStrides(t.kernelShape),c=l.length,u=t.pads.length,d=f(c),h=p(e,"inputDims"),m=p(t.pads,"pads"),g=p(l,"kernelStrides"),y=p(t.strides,"strides");let b="";return b=t.pads.reduce(((e,t)=>e+t))?"\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ".concat(n,"\n          }"):"\n          }\n          ".concat(n,"\n        "),"\n        ".concat(d,"\n        float process(int indices[").concat(o,"]) {\n          int x[").concat(o,"];\n          copyVec(indices, x);\n          int offset[").concat(c,"];\n          int pads[").concat(u,"];\n          int inputDims[").concat(o,"];\n          int kernelStrides[").concat(c,"];\n          int strides[").concat(c,"];\n          ").concat(m,"\n          ").concat(h,"\n          ").concat(y,"\n          ").concat(g,"\n\n          float value = ").concat(a,";\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ").concat(s,"; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ").concat(o," - ").concat(c,"; j < ").concat(o,"; j++) {\n              x[j] = indices[j] * strides[j - ").concat(o," + ").concat(c,"]\n                + offset[j - ").concat(o," + ").concat(c,"] - pads[j - 2];\n              ").concat(b,"\n          }\n          ").concat(r,"\n\n          return value;\n        }\n      ")}},p=(e,t)=>{let n="";for(let r=0;r<e.length;r++)n+="\n      ".concat(t,"[").concat(r,"] = ").concat(e[r],";\n    ");return n},f=e=>"\n  void offsetToIndices(int offset, int[".concat(e,"] strides, out int[").concat(e,"] indices) {\n    if (").concat(e," == 0) {\n      return;\n    }\n    for (int i = 0; i < ").concat(e," - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[").concat(e," - 1] = offset;\n  }")},4939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;const r=n(246),i=n(782),a=n(2517),o=n(2039),s=(e,t,n,r,i)=>{c(t);const a={name:r,inputNames:["A"],inputTypes:[o.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:()=>l(e,t,n,r,i,a)}),t)]};t.parseReduceAttributes=e=>{const t=e.attributes.getInts("axes",[]),n=1===e.attributes.getInt("keepdims",1);return(0,r.createAttributeWithCacheKey)({axes:t,keepDims:n})};const l=(e,t,n,r,i,s)=>{const l=[],c=t[0].dims.length||1,u=[],d=a.ShapeUtil.normalizeAxes(n.axes,t[0].dims.length),h=i(t,d);let p=h[1];for(let a=0;a<t[0].dims.length;a++)d.indexOf(a)>=0||0===d.length?(n.keepDims&&l.push(1),p="\n          for(int j".concat(a," = 0; j").concat(a," < ").concat(t[0].dims[a],"; j").concat(a,"++) {\n            inputIdx[").concat(a,"] = j").concat(a,";\n            ").concat(p,"\n          }")):(u.push("inputIdx[".concat(a,"] = outputIdx[").concat(l.length,"];")),l.push(t[0].dims[a]));const f="\n      float process(int outputIdx[".concat(l.length||1,"]) {\n        float value;                 // final result\n        int inputIdx[").concat(c,"];      // addressing input data\n        ").concat(u.join("\n"),"\n        ").concat(h[0],"       // init ops for reduce max/min\n        ").concat(p,"\n        ").concat(h[2],"       // final computation for reduce mean\n        return value;\n      }");return Object.assign(Object.assign({},s),{output:{dims:l,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:f})},c=e=>{if(!e||1!==e.length)throw new Error("Reduce op requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.reduceSum=(e,t,n)=>s(e,t,n,"ReduceSum",(()=>["value = 0.0;","value += _A(inputIdx);",""])),t.reduceMean=(e,t,n)=>s(e,t,n,"ReduceMean",((e,t)=>{let n=1;for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&(n*=e[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);","value /= ".concat(n,".;")]})),t.reduceMax=(e,t,n)=>s(e,t,n,"ReduceMax",((e,t)=>{const n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push("inputIdx[".concat(r,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = max(value, _A(inputIdx));",""]})),t.reduceMin=(e,t,n)=>s(e,t,n,"ReduceMin",((e,t)=>{const n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push("inputIdx[".concat(r,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = min(value, _A(inputIdx));",""]})),t.reduceProd=(e,t,n)=>s(e,t,n,"ReduceProd",(()=>["value = 1.0;","value *= _A(inputIdx);",""])),t.reduceLogSum=(e,t,n)=>s(e,t,n,"ReduceLogSum",(()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"])),t.reduceLogSumSquare=(e,t,n)=>s(e,t,n,"ReduceLogSumSquare",(()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]))},7019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;const r=n(2517),i=n(5060),a=n(2039),o=n(2827);t.createPackedReshape3DProgramInfoLoader=(e,t,n)=>{const s=(e=>({name:"Reshape (packed)",inputTypes:[a.TextureType.packed],inputNames:["A"],cacheHint:"".concat(e)}))(n);return Object.assign(Object.assign({},s),{get:()=>((e,t,n,s)=>{const l=t.dims,c=s;let u="";for(let r=0;r<4;r++){let e="";switch(r){case 0:e="outputCoords = rc;";break;case 1:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:e="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}u+="\n        ".concat(e,"\n        ").concat(r>0?"if(outputCoords.y < rows && outputCoords.z < cols){":"","\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(r,"] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ").concat(r>0?"}":"","\n      ")}const d=(0,i.getGlsl)(e.session.backend.glContext.version),h="\n      ".concat(function(e){const t=r.ShapeUtil.computeStrides(e),n=["b","r","c"],i="index";return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(t.map(((e,r)=>"int ".concat(n[r]," = ").concat(i," / ").concat(e,"; ").concat(r===t.length-1?"int ".concat(n[r+1]," = ").concat(i," - ").concat(n[r]," * ").concat(e):"index -= ".concat(n[r]," * ").concat(e),";"))).join(""),"\n      return ivec3(b, r, c);\n    }\n  ")}(l),"\n      ").concat(function(e){const t=r.ShapeUtil.computeStrides(e);return"\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ".concat(t[0]," + coords.z * ").concat(t[1]," + coords.y;\n  }\n")}(c),"\n      ").concat((0,o.unpackFromChannel)(),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ").concat(c[2],";\n        int cols = ").concat(c[1],";\n\n        ").concat(u,"\n        ").concat(d.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:c,type:t.type,textureType:a.TextureType.packed},shaderSource:h,hasMain:!0})})(e,t,s,n)})},t.processDims3D=function(e){if(0===e.length)return[1,1,1];let t=1;for(let n=0;n<e.length-2;++n)t*=e[n];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]]},t.isReshapeCheap=function(e,t){let n=!1;return n=0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2]),n}},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;const r=n(2517);t.reshape=(e,t)=>{const n=r.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],n)]:[e.reshapeUnpacked(t[0],n)]}},2268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;const r=n(5060),i=n(2039),a=n(9390),o=n(2827),s=n(9793),l={name:"Resize",inputNames:["A"],inputTypes:[i.TextureType.packed]};t.resize=(e,t,n)=>((0,s.validateInputs)(t,n),[e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:()=>c(e,t,n)}),t)]),t.parseResizeAttributesV10=e=>(0,s.parseUpsampleAttributes)(e,10),t.parseResizeAttributesV11=e=>(0,s.parseUpsampleAttributes)(e,11);const c=(e,t,n)=>{const s=(0,r.getGlsl)(e.session.backend.glContext.version),[c,d]=u(t,n);if(c.every((e=>1===e))&&"tf_crop_and_resize"!==n.coordinateTransformMode)return Object.assign(Object.assign({},l),{output:{dims:d,type:t[0].type,textureType:i.TextureType.packed},hasMain:!0,shaderSource:"void main() {\n                    vec4 v = ".concat(s.texture2D,"(X, TexCoords);\n                    ").concat(s.output," = v;\n                }")});const h=d.length;if(h<2)throw new Error("output dimension should be at least 2, but got ".concat(h));const p=d[h-2],f=d[h-1],m=t[0].dims;if(h!==m.length)throw new Error("output dimension should match input ".concat(m.length,", but got ").concat(h));const g=m[h-2],y=m[h-1],b=c[h-2],w=c[h-1];let v="";if("linear"!==n.mode)throw new Error("resize (packed) does not support mode: '".concat(n.mode,"'"));switch(n.coordinateTransformMode){case"asymmetric":v="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":v="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":v="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ".concat(f,".0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ").concat(p,".0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ").concat(f,".0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ").concat(p,".0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                ");break;case"align_corners":v="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(".concat(f,".0 - 1.0, ").concat(p,".0 - 1.0, ").concat(f,".0 - 1.0,\n                            ").concat(p,".0 - 1.0);\n                        vec4 original = vec4(").concat(y,".0 - 1.0, ").concat(g,".0 - 1.0, ").concat(y,".0 - 1.0,\n                            ").concat(g,".0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                ");break;default:throw new Error("resize (packed) does not support coordinateTransformMode:                                 '".concat(n.coordinateTransformMode,"'"))}const _=(0,a.getCoordsDataType)(h),x="\n            const vec2 inputWH = vec2(".concat(g,".0, ").concat(y,".0);\n            const vec4 scaleWHWH = vec4(float(").concat(b,"), float(").concat(w,"), float(").concat(b,"), float(").concat(w,"));\n            ").concat((0,o.unpackFromChannel)(),"\n            ").concat(v,"\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ").concat(_," rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ").concat(p-1,";\n                bool hasNextCol = rc.z < ").concat(f-1,";\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ").concat(s.output," = vec4(newValue);\n            }\n        ");return Object.assign(Object.assign({},l),{output:{dims:d,type:t[0].type,textureType:i.TextureType.packed},hasMain:!0,shaderSource:x})},u=(e,t)=>{const n=e[0].dims;let r,i=t.scales;if(0===i.length){const a=e[t.scalesInputIdx];if(a&&0!==a.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");i=d(a,t.mode,t.isResize)}else{const a=e[t.sizesInputIdx];if(!a||0===a.size)throw new Error("Either scales or sizes MUST be provided as input.");r=Array.from(a.integerData),i=h(r,n,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const a=r||n.map(((e,t)=>Math.floor(e*i[t])));return[i,a]},d=(e,t,n)=>{const r=Array.from(e.floatData);return(0,s.scalesValidation)(r,t,n),r},h=(e,t,n,r)=>{const i=t.length,a=new Array(i);for(let o=0,s=i;o<s;o++)if(0===t[o]){if(0!==e[o])throw new Error("Input dim is zero but required output dim is non-zero.");a[o]=1}else a[o]=e[o]/t[o];return(0,s.scalesValidation)(a,n,r),a}},8117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;const r=n(9162);t.shape=(e,t)=>(i(t),[new r.Tensor([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]);const i=e=>{if(!e||1!==e.length)throw new Error("Shape requires 1 input.")}},2278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;const r=n(246),i=n(782),a=n(2517),o=n(2039),s={name:"Slice",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.slice=(e,t,n)=>(c(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>l(e,t[0],n)}),t)]),t.parseSliceAttributes=e=>{const t=e.attributes.getInts("starts"),n=e.attributes.getInts("ends"),i=e.attributes.getInts("axes",[]);return(0,r.createAttributeWithCacheKey)({starts:t,ends:n,axes:i})};const l=(e,t,n)=>{const r=0===n.axes.length?t.dims.slice(0).map(((e,t)=>t)):n.axes,i=a.ShapeUtil.normalizeAxes(r,t.dims.length),l=n.starts.map(((e,n)=>e>t.dims[i[n]]-1?t.dims[i[n]]:a.ShapeUtil.normalizeAxis(e,t.dims[i[n]]))),c=n.ends.map(((e,n)=>e>t.dims[i[n]]-1?t.dims[i[n]]:a.ShapeUtil.normalizeAxis(e,t.dims[i[n]]))),u=t.dims.slice(),d=[];for(let a=0;a<i.length;a++)u[i[a]]=c[a]-l[a],l[a]>0&&d.push("outputIdx[".concat(i[a],"] += ").concat(l[a],";"));const h="\n      float process(int outputIdx[".concat(u.length,"]) {\n        ").concat(d.join("\n      "),"\n        return _A(outputIdx);\n      }");return Object.assign(Object.assign({},s),{output:{dims:u,type:t.type,textureType:o.TextureType.unpacked},shaderSource:h})},c=e=>{if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.sliceV10=(e,t)=>{d(t);const n=u(e,t);return[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>l(e,t[0],n)}),[t[0]])]};const u=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some((e=>1!==e)))throw new Error("currently non-1 steps is not supported for Slice");const n=Array.from(t[1].integerData),r=Array.from(t[2].integerData),i=t.length>=4?Array.from(t[3].integerData):[];return{starts:n,ends:r,axes:i,cacheKey:"".concat(i,";").concat(n,";").concat(r)}},d=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.")}},5524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;const r=n(246),i=n(2517),a=n(5060),o=n(2039),s=n(3738),l={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[o.TextureType.unpacked]},c={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked]},u={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]};t.softmax=(e,t,n)=>{m(t);const r=t[0].dims.slice(),a=i.ShapeUtil.normalizeAxis(n.axis,r.length),o=i.ShapeUtil.sizeToDimension(r,a),s=i.ShapeUtil.sizeFromDimension(r,a);return d(e,t,n,o,s)},t.parseSoftmaxAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",1)}),t.parseSoftmaxAttributesV13=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",-1)}),t.softmaxV13=(e,t,n)=>{m(t);const a=t[0].dims.slice(),o=i.ShapeUtil.normalizeAxis(n.axis,a.length),l=a.length,c=o!==l-1,u=[];let h,p=[],f=[];c&&(p=Array.from({length:l}).map(((e,t)=>t)),p[o]=l-1,p[l-1]=o,p.map((e=>u.push(a[e]))),h=(0,r.createAttributeWithCacheKey)({perm:p}),f=(0,s.transpose)(e,t,h));const g=c?i.ShapeUtil.sizeToDimension(u,l-1):i.ShapeUtil.sizeToDimension(a,l-1),y=c?i.ShapeUtil.sizeFromDimension(u,l-1):i.ShapeUtil.sizeFromDimension(a,l-1),b=d(e,c?f:t,n,g,y);return c?(0,s.transpose)(e,b,h):b};const d=(e,t,n,r,i)=>{const a=h(e,t[0],r,i,[r]),o=e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:()=>a}),t),s=p(e,t[0],r,i,a.output.dims,[r]),d=e.run(Object.assign(Object.assign({},c),{cacheHint:n.cacheKey,get:()=>s}),[t[0],o]),m=f(e,t[0],r,i,a.output.dims,s.output.dims);return[e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:()=>m}),[t[0],o,d])]},h=(e,t,n,r,i)=>{const[s,c]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),u=i.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length)throw new Error("Dimensionality of the output should be 1");if(i[0]!==n)throw new Error("Shape of the output should be equal to logical row count");const d=(0,a.getGlsl)(e.session.backend.glContext.version),h="\n      float process(int[".concat(u,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(r,";\n\n        float max = getColorAsFloat(").concat(d.texture2D,"(A, offsetToCoords(logical_row_start_offset, ").concat(s,",\n        ").concat(c," )));\n        for(int i=1; i<").concat(r,"; ++i)\n        {\n          float current = getColorAsFloat(").concat(d.texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(s,", ").concat(c,")));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }");return Object.assign(Object.assign({},l),{output:{dims:i,type:t.type,textureType:o.TextureType.unpacked},shaderSource:h})},p=(e,t,n,r,i,s)=>{const[l,u]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),d=s.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==s.length)throw new Error("Dimensionality of the output should be 1");if(s[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const h="\n      float process(int[".concat(d,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(r,";\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<").concat(r,"; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(").concat((0,a.getGlsl)(e.session.backend.glContext.version).texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(l,", ").concat(u,"))) - max);\n        }\n\n        return norm_factor;\n      }");return Object.assign(Object.assign({},c),{output:{dims:s,type:t.type,textureType:o.TextureType.unpacked},shaderSource:h})},f=(e,t,n,r,i,a)=>{const[s,l]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),c=t.dims.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length||1!==a.length)throw new Error("Dimensionality of the intermediate results should be 1");if(i[0]!==n||a[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const d="\n      float process(int[".concat(c,"] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ").concat(s,", ").concat(l,");\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ").concat(r,";\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }");return Object.assign(Object.assign({},u),{output:{dims:t.dims,type:t.type,textureType:o.TextureType.unpacked},shaderSource:d})},m=e=>{if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type")}},5975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;const r=n(246),i=n(2517),a=n(2039),o={name:"Split",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};t.split=(e,t,n)=>{c(t);const r=i.ShapeUtil.normalizeAxis(n.axis,t[0].dims.length),a=s(e,t,r,n),u=[];for(let i=0;i<a;++i)u.push(e.run(Object.assign(Object.assign({},o),{cacheHint:"".concat(n.cacheKey,";").concat(i),get:()=>l(e,t[0],n,r,i)}),t));return u},t.parseSplitAttributes=e=>{const t=e.attributes.getInt("axis",0),n=e.attributes.getInts("split",[]),i=e.outputs.length;return(0,r.createAttributeWithCacheKey)({axis:t,split:n,numOutputs:i})};const s=(e,t,n,r)=>{const[,a]=i.SplitUtil.splitShape(t[0].dims,n,r.split,r.numOutputs);return a.length},l=(e,t,n,r,s)=>{const[l,c]=i.SplitUtil.splitShape(t.dims,r,n.split,n.numOutputs),u=c[s],d=l[s],h="\n      float process(int indices[".concat(d.length,"]) {\n        indices[").concat(r,"] += ").concat(u,";\n        return _A(indices);\n      }\n    ");return Object.assign(Object.assign({},o),{cacheHint:"".concat(n.cacheKey,":").concat(s),output:{dims:d,type:t.type,textureType:a.TextureType.unpacked},shaderSource:h})},c=e=>{if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.")}},3933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqueezeAttributes=t.squeezeV13=t.squeeze=void 0;const r=n(2517);t.squeeze=(e,t,n)=>{i(t);const a=r.ShapeUtil.squeezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.squeezeV13=(e,n)=>(a(n),(0,t.squeeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseSqueezeAttributes=e=>e.attributes.getInts("axes");const i=e=>{if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},a=e=>{if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},6558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;const r=n(5060),i=n(2039);t.sum=(e,t)=>{o(t);const n={name:"Sum",inputNames:t.map(((e,t)=>"X".concat(t))),inputTypes:new Array(t.length).fill(i.TextureType.unpacked)};return[e.run(Object.assign(Object.assign({},n),{get:()=>a(e,t,n)}),t)]};const a=(e,t,n)=>{const a=(0,r.getGlsl)(e.session.backend.glContext.version),o=t[0].dims.slice(),s="\n      void main() {\n        vec4 result = ".concat(t.map(((e,t)=>"".concat(a.texture2D,"(X").concat(t,",TexCoords)"))).join(" + "),";\n        ").concat(a.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:o,type:t[0].type,textureType:i.TextureType.unpacked},hasMain:!0,shaderSource:s})},o=e=>{if(!e||0===e.length)throw new Error("Sum requires inputs.");const t=e[0].dims.length;for(let n=1;n<e.length;n++){if(t!==e[n].dims.length)throw new Error("Input shapes are mismatched.");for(let r=0;r<t;r++)if(e[0].dims[r]!==e[n].dims[r])throw new Error("Input shapes are not matched.")}if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");for(let n=1;n<e.length;n++)if(e[0].type!==e[n].type)throw new Error("Input types are not matched.")}},5723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;const r=n(782),i=n(2039);t.tile=(e,t)=>{o(t);const n={name:"Tile",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},n),{get:()=>a(e,t,n)}),t)]};const a=(e,t,n)=>{const r=t[0].dims.slice(),a=new Array(r.length),o=[];for(let i=0;i<r.length;i++)a[i]=r[i]*t[1].numberData[i],o.push("inputIdx[".concat(i,"] = int(mod(float(outputIdx[").concat(i,"]), ").concat(r[i],".));"));const s=a.length,l="\n      float process(int outputIdx[".concat(s,"]) {\n        int inputIdx[").concat(s,"];\n        ").concat(o.join("\n"),"\n        return _A(inputIdx);\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:a,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:l})},o=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.")}},3738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;const r=n(246),i=n(2517),a=n(2039),o={name:"Transpose",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};t.transpose=(e,t,n)=>(d(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:()=>s(e,t[0],n.perm)}),t)]),t.parseTransposeAttributes=e=>(0,r.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])});const s=(e,t,n)=>{const r=t.dims;n=l(r,n);const i=c(r,n),s=r.length,d="\n      ".concat(u("perm",n,s),"\n      float process(int indices[").concat(s,"]) {\n        int a[").concat(s,"];\n        perm(a, indices);\n        return _A(a);\n      }");return Object.assign(Object.assign({},o),{output:{dims:i,type:t.type,textureType:a.TextureType.unpacked},shaderSource:d})},l=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),c=(e,t)=>(t=l(e,t),i.ShapeUtil.sortBasedOnPerm(e,t)),u=(e,t,n)=>{const r=[];r.push("void ".concat(e,"(out int a[").concat(n,"], int src[").concat(n,"]) {"));for(let i=0;i<n;++i)r.push("\ta[".concat(t[i],"]=src[").concat(i,"];"));return r.push("\t}"),r.join("\n")},d=e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor")}},8710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;const r=n(5060),i=n(2039);t.encodeAsUint8=(e,t)=>{const n=t.shape,a=(0,r.getGlsl)(e.session.backend.glContext.version),o="\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ".concat(a.texture2D,"(X,TexCoords).r;\n      ").concat(a.output," = encodeAsUint8(value);\n    }"),s={name:"Uint8Encode",inputTypes:[i.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:i.TextureType.downloadUint8AsFloat},shaderSource:o,hasMain:!0};return e.executeProgram(s,[t.tensor])}},4909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sin=t.sigmoid=t.relu=t.not=t.neg=t.log=t.parseLeakyReluAttributes=t.leakyRelu=t.identity=t.floor=t.exp=t.parseEluAttributes=t.elu=t.cos=t.ceil=t.clipV11=t.parseClipAttributes=t.clip=t.atan=t.asin=t.acos=t.abs=t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslLeakyRelu=t.glslIdentity=t.glslClip=t.glslFloor=t.glslExp=t.glslElu=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=void 0;const r=n(246),i=n(2517),a=n(8520),o=n(5060),s=n(2039);function l(){return E("abs")}function c(){return E("acos")}function u(){return E("asin")}function d(){return E("atan")}function h(){return E("ceil")}function p(){return E("cos")}function f(e){const t="elu";return{body:"\n  const float alpha = float(".concat(e,");\n\n  float ").concat(t,"_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(").concat(t,"_(v.x), ").concat(t,"_(v.y), ").concat(t,"_(v.z), ").concat(t,"_(v.w));\n  }\n  "),name:t,type:a.FunctionType.ValueBased}}function m(){return E("exp")}function g(){return E("floor")}function y(e,t){const n="clip";return{body:"\n  const float min = float(".concat(e,");\n  const float max = float(").concat(t,");\n\n  float ").concat(n,"_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ").concat(n,"_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  "),name:n,type:a.FunctionType.ValueBased}}function b(){const e="indentity";return{body:"\n  float ".concat(e,"_(float a) {\n    return a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return v;\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function w(e){const t="leakyRelu";return{body:"\n  const float alpha = float(".concat(e,");\n\n  float ").concat(t,"_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(").concat(t,"_(v.x), ").concat(t,"_(v.y), ").concat(t,"_(v.z), ").concat(t,"_(v.w));\n  }\n  "),name:t,type:a.FunctionType.ValueBased}}function v(){return E("log")}function _(){const e="neg";return{body:"\n  float ".concat(e,"_(float a) {\n    return -a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return -v;\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function x(){const e="not";return{body:"\n  float ".concat(e,"_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ").concat(e,"_(bool a) {\n    return !a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ").concat(e,"_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function k(){return E("sin")}function D(){const e="relu";return{body:"\n  float ".concat(e,"_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function T(){const e="sigmoid";return{body:"\n  float ".concat(e,"_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function A(){return E("sqrt")}function S(){return E("tan")}function C(){const e="tanh";return{body:"\n  float ".concat(e,"_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function E(e){return{body:"\n  float ".concat(e,"_(float a) {\n    return ").concat(e,"(a);\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return ").concat(e,"(v);\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}t.glslAbs=l,t.glslAcos=c,t.glslAsin=u,t.glslAtan=d,t.glslCeil=h,t.glslCos=p,t.glslElu=f,t.glslExp=m,t.glslFloor=g,t.glslClip=y,t.glslIdentity=b,t.glslLeakyRelu=w,t.glslLog=v,t.glslNeg=_,t.glslNot=x,t.glslSin=k,t.glslRelu=D,t.glslSigmoid=T,t.glslSqrt=A,t.glslTan=S,t.glslTanh=C;const F=(e,t,n,r)=>{const i=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,a={name:n.name,inputTypes:[i],inputNames:["A"],cacheHint:r};return Object.assign(Object.assign({},a),{get:()=>((e,t,n,r)=>{const i=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,a=(0,o.getGlsl)(e.session.backend.glContext.version);return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:i},shaderSource:"\n     ".concat(r.body,"\n     void main() {\n       vec4 v = ").concat(a.texture2D,"(A, TexCoords);\n       v = ").concat(r.name,"_(v);\n       ").concat(a.output," = v;\n     }\n     "),hasMain:!0})})(e,a,t,n)})};t.abs=(e,t)=>[e.run(F(e,t[0],l()),t)],t.acos=(e,t)=>[e.run(F(e,t[0],c()),t)],t.asin=(e,t)=>[e.run(F(e,t[0],u()),t)],t.atan=(e,t)=>[e.run(F(e,t[0],d()),t)],t.clip=(e,t,n)=>[e.run(F(e,t[0],y(n.min,n.max),n.cacheKey),t)],t.parseClipAttributes=e=>(0,r.createAttributeWithCacheKey)({min:e.attributes.getFloat("min",i.MIN_CLIP),max:e.attributes.getFloat("max",i.MAX_CLIP)}),t.clipV11=(e,n)=>{const r=M(e,n);return(0,t.clip)(e,[n[0]],r)};const M=(e,t)=>{if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const n=t.length>=3?t[1].numberData[0]:i.MIN_CLIP,a=t.length>=3?t[2].numberData[0]:i.MAX_CLIP;return(0,r.createAttributeWithCacheKey)({min:n,max:a})};t.ceil=(e,t)=>[e.run(F(e,t[0],h()),t)],t.cos=(e,t)=>[e.run(F(e,t[0],p()),t)],t.elu=(e,t,n)=>[e.run(F(e,t[0],f(n.alpha),n.cacheKey),t)],t.parseEluAttributes=e=>(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",1)}),t.exp=(e,t)=>[e.run(F(e,t[0],m()),t)],t.floor=(e,t)=>[e.run(F(e,t[0],g()),t)],t.identity=(e,t)=>[e.run(F(e,t[0],b()),t)],t.leakyRelu=(e,t,n)=>[e.run(F(e,t[0],w(n.alpha),n.cacheKey),t)],t.parseLeakyReluAttributes=e=>(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",.01)}),t.log=(e,t)=>[e.run(F(e,t[0],v()),t)],t.neg=(e,t)=>[e.run(F(e,t[0],_()),t)],t.not=(e,t)=>[e.run(F(e,t[0],x()),t)],t.relu=(e,t)=>[e.run(F(e,t[0],D()),t)],t.sigmoid=(e,t)=>[e.run(F(e,t[0],T()),t)],t.sin=(e,t)=>[e.run(F(e,t[0],k()),t)],t.sqrt=(e,t)=>[e.run(F(e,t[0],A()),t)],t.tan=(e,t)=>[e.run(F(e,t[0],S()),t)],t.tanh=(e,t)=>[e.run(F(e,t[0],C()),t)]},5611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackProgramInfoLoader=t.createUnpackProgramInfo=void 0;const r=n(5060),i=n(2039),a=n(9390),o=n(2827),s={name:"unpack",inputNames:["A"],inputTypes:[i.TextureType.packed]};t.createUnpackProgramInfo=(e,t)=>{const n=t.dims.length,l=(0,o.getChannels)("rc",n),c=l.slice(-2),u=(0,a.getCoordsDataType)(n),d=(0,o.unpackFromChannel)(),h=0===t.dims.length?"":function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,l),p=n<=1?"rc":"vec2(".concat(c.join(","),")"),f="\n    ".concat(d,"\n    void main() {\n      ").concat(u," rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(").concat(h,");\n\n       ").concat((0,r.getGlsl)(e.session.backend.glContext.version).output," = vec4(getChannel(packedInput, ").concat(p,"), 0, 0, 0);\n     }\n   ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:i.TextureType.unpacked},shaderSource:f})},t.createUnpackProgramInfoLoader=(e,n)=>Object.assign(Object.assign({},s),{get:()=>(0,t.createUnpackProgramInfo)(e,n)})},8428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnsqueezeAttributes=t.unsqueezeV13=t.unsqueeze=void 0;const r=n(2517);t.unsqueeze=(e,t,n)=>{i(t);const a=r.ShapeUtil.unsqueezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.unsqueezeV13=(e,n)=>(a(n),(0,t.unsqueeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseUnsqueezeAttributes=e=>e.attributes.getInts("axes");const i=e=>{if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},a=e=>{if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},9793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalesValidation=t.validateInputs=t.parseUpsampleAttributes=t.parseUpsampleAttributesV9=t.parseUpsampleAttributesV7=t.upsample=void 0;const r=n(246),i=n(5060),a=n(2039),o={name:"Upsample",inputNames:["X"],inputTypes:[a.TextureType.unpacked]};t.upsample=(e,n,r)=>((0,t.validateInputs)(n,r),[e.run(Object.assign(Object.assign({},o),{cacheHint:r.cacheKey,get:()=>s(e,n,r)}),n)]),t.parseUpsampleAttributesV7=e=>(0,t.parseUpsampleAttributes)(e,7),t.parseUpsampleAttributesV9=e=>(0,t.parseUpsampleAttributes)(e,9),t.parseUpsampleAttributes=(e,n)=>{const i=n>=10,a=e.attributes.getString("mode","nearest");if("nearest"!==a&&"linear"!==a&&(n<11||"cubic"!==a))throw new Error("unrecognized mode: ".concat(a));let o=[];n<9&&(o=e.attributes.getFloats("scales"),(0,t.scalesValidation)(o,a,i));const s=e.attributes.getFloat("extrapolation_value",0),l=n>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(l))throw new Error("coordinate_transform_mode '".concat(l,"' is not supported"));const c="tf_crop_and_resize"===l,u=c,d="nearest"===a&&n>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(d))throw new Error("nearest_mode '".concat(d,"' is not supported"));const h=e.attributes.getFloat("cubic_coeff_a",-.75),p=0!==e.attributes.getInt("exclude_outside",0);if(p&&"cubic"!==a)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const f=n<11||"nearest"===a&&"asymmetric"===l&&"floor"===d;let m=0,g=0,y=0;return n>10?e.inputs.length>2?(m=1,g=2,y=3):(g=1,y=2):9===n&&(g=1),(0,r.createAttributeWithCacheKey)({opset:n,isResize:i,mode:a,scales:o,extrapolationValue:s,coordinateTransformMode:l,useExtrapolation:u,needRoiInput:c,nearestMode:d,cubicCoefficientA:h,excludeOutside:p,useNearest2xOptimization:f,roiInputIdx:m,scalesInputIdx:g,sizesInputIdx:y})};const s=(e,t,n)=>{const r=(0,i.getGlsl)(e.session.backend.glContext.version),[s,l]=e.calculateTextureWidthAndHeight(t[0].dims,a.TextureType.unpacked),c=t[0].dims.map(((e,t)=>Math.floor(e*n.scales[t]))),[u,d]=e.calculateTextureWidthAndHeight(c,a.TextureType.unpacked),h=c.length,p=new Array(h),f=new Array(h);let m="\n      int output_pitches[".concat(h,"];\n      int input_pitches[").concat(h,"];\n      ");for(let i=h-1;i>=0;i--)p[i]=i===h-1?1:p[i+1]*c[i+1],f[i]=i===h-1?1:f[i+1]*t[0].dims[i+1],m+="\n        output_pitches[".concat(i,"] = ").concat(p[i],";\n        input_pitches[").concat(i,"] = ").concat(f[i],";\n        ");const g="\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ".concat(s,", ").concat(l,");\n        float value = getColorAsFloat(").concat(r.texture2D,"(X, coords));\n        return value;\n      }\n      "),y="nearest"===n.mode?"\n    ".concat(g,"\n    float process(int indices[").concat(h,"]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(u,", ").concat(d,");\n\n      ").concat(m,"\n\n      int d, m;\n      for (int dim = 0; dim < ").concat(h,"; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }"):4===h?"\n    ".concat(g,"\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(u,", ").concat(d,");\n\n      ").concat(m,"\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (").concat(t[0].dims[2]," - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }"):"\n    ".concat(g,"\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(u,", ").concat(d,");\n\n      ").concat(m,"\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (").concat(t[0].dims[0]," - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }");return Object.assign(Object.assign({},o),{output:{dims:c,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:y,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map((e=>Math.ceil(e)))}]})};t.validateInputs=(e,t)=>{if(!e||t.opset<9&&1!==e.length||t.opset>=9&&t.opset<11&&2!==e.length||t.opset>=11&&e.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.")},t.scalesValidation=(e,t,n)=>{if(n){for(const r of e)if(r<=0)throw new Error("Scale value should be greater than 0.")}else for(const r of e)if(r<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error("'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ".concat(n?"Resize":"Upsample"," opeartor."))}},1958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const r=n(1670),i=n(6231),a=n(8879),o=n(5060);t.ProgramManager=class{constructor(e,t,n){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=n,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n){var r;this.profiler.event("op","ProgramManager.run ".concat(null!==(r=e.programInfo.name)&&void 0!==r?r:"unknown kernel"),(()=>{var r;const a=this.glContext.gl,o=e.program;a.useProgram(o);try{this.bindOutput(n),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,null!==(r=e.programInfo.variables)&&void 0!==r?r:[],t)}catch(t){throw i.Logger.error("ProgramManager",e.programInfo.shaderSource),t}this.profiler.event("backend","GlContext.draw()",(()=>{this.glContext.draw()}))}),this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((e=>this.glContext.deleteProgram(e.program)))}build(e,t,n){return this.profiler.event("backend","ProgramManager.build",(()=>{const r=new a.GlslPreprocessor(this.glContext,e,t,n),i=r.preprocess(),o=this.compile(i);return{programInfo:e,program:o,uniformLocations:this.getUniformLocations(o,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(o)}}))}compile(e){if(!this.vertexShader){i.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const e=(0,o.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}r.env.debug&&i.Logger.verbose("ProrgramManager","FragShader:\n".concat(e,"\n"));const t=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),n=this.glContext.createProgram(this.vertexShader,t);return this.glContext.deleteShader(t),n}bindOutput(e){const t=e.width,n=e.height;i.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h=".concat(t,"/").concat(n,", shape=").concat(e.shape,", type=").concat(e.tensor.type)),this.glContext.attachFramebuffer(e.texture,t,n)}bindAttributes(e){const t=e.position,n=e.textureCoord;this.glContext.setVertexAttributes(t,n),this.attributesBound=!0}bindUniforms(e,t,n){var r;const i=this.glContext.gl;let a=0;for(const{name:o,type:s,location:l,arrayLength:c}of e){const e=null===(r=t.find((e=>e.name===o)))||void 0===r?void 0:r.data;if("sampler2D"!==s&&!e)throw new Error("variable '".concat(o,"' does not have data defined in program info"));switch(s){case"sampler2D":this.bindTexture(n[a],l,a),a++;break;case"float":c?i.uniform1fv(l,e):i.uniform1f(l,e);break;case"int":c?i.uniform1iv(l,e):i.uniform1i(l,e);break;default:throw new Error("Uniform not implemented: ".concat(s))}}}bindTexture(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,t,n){const r=[];if(t)for(const i of t)r.push({name:i,type:"sampler2D",location:this.getUniformLocation(e,i)});if(n)for(const i of n)r.push(Object.assign(Object.assign({},i),{location:this.getUniformLocation(e,i.name)}));return r}getUniformLocation(e,t){const n=this.glContext.gl.getUniformLocation(e,t);if(null===n)throw new Error("Uniform ".concat(t," not found."));return n}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t)}}},6416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;const r=n(6231),i=n(1047),a=n(8316),o=n(1640),s=n(1958),l=n(7859),c=n(5702);t.WebGLSessionHandler=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new l.PreferLogicalStrategy(e.glContext.maxTextureSize),this.programManager=new s.ProgramManager(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new c.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new a.WebGLInferenceHandler(this)}onGraphInitialized(e){const t=e.getValues().filter((e=>-1===e.from&&e.tensor)).map((e=>e.tensor.dataId));this.initializers=new Set(t)}isInitializer(e){return!!this.initializers&&this.initializers.has(e)}addInitializer(e){this.initializers.add(e)}getTextureData(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((e=>this.textureManager.releaseTexture(e,!0))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((e=>this.textureManager.releaseTexture(e,!0))),this.unpackedTextureDataCache=new Map}resolve(e,t,n){const r=(0,i.resolveOperator)(e,t,o.WEBGL_OP_RESOLVE_RULES);return{impl:r.opImpl,context:r.opInit?r.opInit(e,n):e}}}},7769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;const r=n(6231);t.RedFloat32DataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1===t)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else{if(4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t}}encode(e,t){let n,i;return e.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),i=new Float32Array(e)),t*this.channelSize>e.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),i=e,n=this.allocate(t*this.channelSize),i.forEach(((e,t)=>n[t]=e))):(i=e,n=i),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter(((e,t)=>t%4==0)).subarray(0,t):e.subarray(0,t)}},t.RGBAFloatDataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(1!==t&&4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=n||e.FLOAT}encode(e,t){let n=e;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach(((e,t)=>n[4*t]=e))),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter(((e,t)=>t%4==0)).subarray(0,t):e.subarray(0,t)}},t.Uint8DataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else{if(4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t}}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error("Invalid array type: ".concat(e.constructor))}}},7859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;const r=n(6231),i=n(2517);function a(e,t){const n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:o(t,e).sort();let s=0;for(let o=0;o<e.length;++o){if(null!=a){if(a[s]===o&&1!==e[o])throw new Error("Can't squeeze axis ".concat(o," since its dim '").concat(e[o],"' is not 1"));(null==a[s]||a[s]>o)&&1===e[o]&&(n.push(e[o]),r.push(o)),a[s]<=o&&s++}1!==e[o]&&(n.push(e[o]),r.push(o))}return{newShape:n,keptDims:r}}function o(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),(0,i.assert)(e.every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but got axis ").concat(e))),(0,i.assert)(e.every(s),(()=>"All values in axis param must be integers but got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function s(e){return e%1==0}function l(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function c(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}t.AlwaysKeepOriginalSizeStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){if(0===e.length)return[1,1];const n=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const i=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce(((e,t)=>e*t)),a=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce(((e,t)=>e*t));if(!(i>n||a>n))return[i,a];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(e,", breakAxis:").concat(t.breakAxis))}const i=e.reduce(((e,t)=>e*t));let a=Math.floor(Math.sqrt(i));for(;a<n&&a<i&&i%a!=0;a++);if(a>=n||i%a!=0)throw new Error("The given dimensions are outside this GPU's boundaries: ".concat(e));return[a,i/a]}},t.PreferLogicalStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){const n=this.computeTexture(e,t);return t&&t.isPacked&&(n[0]/=2,n[1]/=2),t&&t.reverseWH?[n[1],n[0]]:n}computeTexture(e,t){const n=t&&t.isPacked;if(0===e.length)return n?[2,2]:[1,1];let i=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const n=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce(((e,t)=>e*t)),a=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce(((e,t)=>e*t));if(!(n>i||a>i))return[n,a];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(e,", breakAxis:").concat(t.breakAxis))}let o=e.slice(0);if(n&&(i*=2,o=o.map(((e,t)=>t>=o.length-2?o[t]%2==0?o[t]:o[t]+1:o[t])),1===o.length&&(o=[2,o[0]])),2!==o.length){const e=a(o);o=e.newShape}const s=l(o);return o.length<=1&&s<=i?[1,s]:2===o.length&&o[0]<=i&&o[1]<=i?o:3===o.length&&o[0]*o[1]<=i&&o[2]<=i?[o[0]*o[1],o[2]]:3===o.length&&o[0]<=i&&o[1]*o[2]<=i?[o[0],o[1]*o[2]]:4===o.length&&o[0]*o[1]*o[2]<=i&&o[3]<=i?[o[0]*o[1]*o[2],o[3]]:4===o.length&&o[0]<=i&&o[1]*o[2]*o[3]<=i?[o[0],o[1]*o[2]*o[3]]:n?c(s/4).map((e=>2*e)):c(s)}},t.squeezeShape=a,t.parseAxisParam=o,t.isInt=s,t.sizeFromShape=l,t.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},t.sizeToSquarishShape=c,t.getBatchDim=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return l(e.slice(0,e.length-t))}},4057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureLayoutFromShape=t.calculateTextureWidthAndHeight=t.createTextureLayoutFromTextureType=void 0;const r=n(2517),i=n(2039);t.createTextureLayoutFromTextureType=(e,n,r)=>{const a=r===i.TextureType.unpacked||r===i.TextureType.unpackedReversed?1:4,o=r===i.TextureType.packed,s=r===i.TextureType.unpackedReversed||r===i.TextureType.packed,l=r===i.TextureType.packedLastDimension?n.length-1:void 0,c=r===i.TextureType.packedLastDimension?n.map(((e,t)=>t===n.length-1?4*e:e)):void 0;return(0,t.createTextureLayoutFromShape)(e,n,a,c,{isPacked:o,reverseWH:s,breakAxis:l})},t.calculateTextureWidthAndHeight=(e,n,r)=>{const i=(0,t.createTextureLayoutFromTextureType)(e,n,r);return[i.width,i.height]},t.createTextureLayoutFromShape=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o=!(!a||!a.isPacked),[s,l]=e.computeTextureWH(o&&i||t,a),c=t.length;let u=t.slice(0);if(0===c&&(u=[1]),1===n)i=t;else if(o){if(4!==n)throw new Error("a packed texture must be 4-channel");i=t,c>0&&(u[c-1]=Math.ceil(u[c-1]/2)),c>1&&(u[c-2]=Math.ceil(u[c-2]/2))}else if(!i)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:l,channels:n,isPacked:o,shape:u,strides:r.ShapeUtil.computeStrides(u),unpackedShape:i,reversedWH:a&&a.reverseWH}}},5702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;const r=n(6231);t.TextureManager=class{constructor(e,t,n,r){this.glContext=e,this.layoutStrategy=t,this.profiler=n,this.config=r,this.pendingRead=new Map,r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,t,n,i){const a=this.toEncoderType(e),o=this.glContext.getEncoder(a,t.channels||1,i);if(t.isPacked&&1===i)throw new Error("not implemented");const s=t.width,l=t.height;let c,u;if(this.config.reuseTextures){c="".concat(s,"x").concat(l,"_").concat(o.format,"_").concat(o.internalFormat,"_").concat(o.textureType),u=this.inUseTextures.get(c),u||(u=[],this.inUseTextures.set(c,u));const t=this.idleTextures.get(c);if(t&&t.length>0){const r=t.pop();return u.push(r),1===i&&this.glContext.updateTexture(r,s,l,o,this.toTextureData(e,n)),r}}r.Logger.verbose("TextureManager","Creating new texture of size ".concat(t.width,"x").concat(t.height));const d=this.glContext.allocateTexture(s,l,o,this.toTextureData(e,n));return this.config.reuseTextures&&(u.push(d),this.textureLookup.set(d,c)),d}readTexture(e,t,n){return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",(()=>{const r=e.shape.reduce(((e,t)=>e*t))*n,i=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(t),n);return this.toTensorData(t,i)}))}async readTextureAsync(e,t,n){const r=e.tensor.dataId;if(n||(n=1),this.pendingRead.has(r)){const e=this.pendingRead.get(r);return new Promise((t=>null==e?void 0:e.push(t)))}return this.profiler.event("backend","TextureManager.readTextureAsync",(async()=>{this.pendingRead.set(r,[]);const i=e.shape.reduce(((e,t)=>e*t))*n;await this.glContext.createAndWaitForFence();const a=this.glContext.readTexture(e.texture,e.width,e.height,i,this.toEncoderType(t),n),o=this.toTensorData(t,a),s=this.pendingRead.get(r);return this.pendingRead.delete(r),null==s||s.forEach((e=>e(o))),o}))}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(()=>{const t=e.shape.reduce(((e,t)=>e*t)),n=this.glContext.readTexture(e.texture,e.width,e.height,4*t,"byte",4);return new Float32Array(n.buffer,n.byteOffset,t)}))}releaseTexture(e,t){let n;if(this.config.reuseTextures&&(n=this.textureLookup.get(e.texture),n)){t&&this.textureLookup.delete(n);const r=this.inUseTextures.get(n);if(r){const t=r.indexOf(e.texture);if(-1!==t){r.splice(t,1);let i=this.idleTextures.get(n);i||(i=[],this.idleTextures.set(n,i)),i.push(e.texture)}}}n&&!t||(r.Logger.verbose("TextureManager","Deleting texture of size ".concat(e.width,"x").concat(e.height)),this.glContext.deleteTexture(e.texture))}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error("TensorData type ".concat(e," is not supported"))}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(n=t.TextureType||(t.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},9390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;const r=n(2517);t.getPackedShape=function(e){const t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)},t.repeatedTry=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0;return new Promise(((r,i)=>{let a=0;const o=()=>{if(e())return void r();a++;const s=t(a);null!=n&&a>=n?i():setTimeout(o,s)};o()}))},t.generateShaderFuncNameFromInputSamplerName=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,(()=>"empty string found for sampler name")),"get"+e.charAt(0).toUpperCase()+e.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,(()=>"empty string found for sampler name")),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(e,t){let n=JSON.parse(JSON.stringify(e));return n=t,n},t.getSqueezedParams=function(e,t){return t.map((t=>e[t])).join(", ")},t.getCoordsDataType=function(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))},t.getGlChannels=function(){return["x","y","z","w","u","v"].slice(0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:6)}},7305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;const r=n(6231),i=n(1713),a={};function o(e){const t=function(){if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const e=document.createElement("canvas");return e.width=1,e.height=1,e}();let n;const a={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(n=t.getContext("webgl2",a),n))try{return new i.WebGLContext(n,2)}catch(e){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: ".concat(e))}if((!e||"webgl"===e)&&(n=t.getContext("webgl",a)||t.getContext("experimental-webgl",a),n))try{return new i.WebGLContext(n,1)}catch(e){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ".concat(e))}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){let n;t&&"webgl2"!==t||!("webgl2"in a)?t&&"webgl"!==t||!("webgl"in a)||(n=a.webgl):n=a.webgl2,n=n||o(t),t=t||1===n.version?"webgl":"webgl2";const r=n.gl;return a[t]=n,r.isContextLost()?(delete a[t],e(t)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},t.createNewWebGLContext=o},1713:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;const o=n(1670),s=a(n(7769)),l=n(9390);function c(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}t.linearSearchLastTrue=c,t.WebGLContext=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,t,n,r){const i=this.gl,a=i.createTexture();i.bindTexture(i.TEXTURE_2D,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const o=r?n.encode(r,e*t):null;return i.texImage2D(i.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,o),this.checkError(),a}updateTexture(e,t,n,r,i){const a=this.gl;a.bindTexture(a.TEXTURE_2D,e);const o=r.encode(i,t*n);a.texSubImage2D(a.TEXTURE_2D,0,0,0,t,n,r.format,r.textureType,o),this.checkError()}attachFramebuffer(e,t,n){const r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,t,n),r.scissor(0,0,t,n)}readTexture(e,t,n,r,i,a){const o=this.gl;a||(a=1),this.frameBufferBound||this.attachFramebuffer(e,t,n);const s=this.getEncoder(i,a),l=s.allocate(t*n);return o.bindTexture(o.TEXTURE_2D,e),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0),o.readPixels(0,0,t,n,o.RGBA,s.textureType,l),this.checkError(),s.decode(l,r)}isFramebufferReady(){return!0}getActiveTexture(){const e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,t){const n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError()}createProgram(e,t){const n=this.gl,r=n.createProgram();return n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),r}compileShader(e,t){const n=this.gl,r=n.createShader(t);if(!r)throw new Error("createShader() returned null with type ".concat(t));if(n.shaderSource(r,e),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: ".concat(n.getShaderInfoLog(r),"\nShader source:\n").concat(e));return r}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,t,n){const r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(n,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(o.env.debug){const e=this.gl,t=e.getError();let n="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:n="INVALID_ENUM";break;case e.INVALID_VALUE:n="INVALID_VALUE";break;case e.INVALID_OPERATION:n="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n="Unknown WebGL Error: ".concat(t.toString(16))}throw new Error(n)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(2===this.version)return new s.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new s.RGBAFloatDataEncoder(this.gl,t):new s.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new s.Uint8DataEncoder(this.gl,t);default:throw new Error("Invalid dataType: ".concat(e))}}clearActiveTextures(){const e=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");const n=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.checkError(),t}createFramebuffer(){const e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){const e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);const n=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(r),i}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const e=this.gl;let t,n,r,i,a;try{t=e.createTexture(),n=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,t);const o=2===this.version?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,o,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.enable(e.BLEND),r=e.createShader(e.VERTEX_SHADER),!!r&&(e.shaderSource(r,"void main(){}"),e.compileShader(r),i=e.createShader(e.FRAGMENT_SHADER),!!i&&(e.shaderSource(i,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(i),a=e.createProgram(),!!a&&(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),e.useProgram(a),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)))}finally{e.disable(e.BLEND),a&&e.deleteProgram(a),r&&e.deleteShader(r),i&&e.deleteShader(i),n&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(n)),t&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(t))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const e=this.gl,t=this.disjointTimerQueryWebgl2Extension,n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT)}}isTimerResultAvailable(e){let t=!1,n=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const r=this.gl,i=this.disjointTimerQueryWebgl2Extension;t=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE),n=r.getParameter(i.GPU_DISJOINT_EXT)}return t&&!n}getTimerResult(e){let t=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const n=this.gl;t=n.getQueryParameter(e,n.QUERY_RESULT),n.deleteQuery(e)}return t/1e6}async waitForQueryAndGetTime(e){return await(0,l.repeatedTry)((()=>this.isTimerResultAvailable(e))),this.getTimerResult(e)}async createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t;const n=e,r=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),t=null===r?()=>!0:()=>{const e=n.clientWaitSync(r,0,0);return e===n.ALREADY_SIGNALED||e===n.CONDITION_SATISFIED},{query:r,isFencePassed:t}}async pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=c(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||await(0,l.repeatedTry)((()=>(this.pollItems(),0===this.itemsToPoll.length)))}}},1036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;const r=n(6231);class i{constructor(e,t){this.op=e,this.node=t}}t.ExecutionPlan=class{constructor(e,t,n){this.graph=e,this.profiler=n,this.initialize(t)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",(()=>{const t=this.graph.getNodes();if(t.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map(((e,n)=>new i(e,t[n]))),this.reset(),this._starter=[],this._ops.forEach(((e,t)=>{let n=!0;for(const r of e.node.inputs)if(!this._values[r]&&-1===this.graph.getInputIndices().indexOf(r)){n=!1;break}n&&this._starter.push(t)}))}))}reset(){this._values=this.graph.getValues().map((e=>e.tensor))}async execute(e,t){return this.profiler.event("session","ExecutionPlan.execute",(async()=>{this.reset();const n=e.createInferenceHandler(),i=this.graph.getInputIndices();if(t.length!==i.length)throw new Error("number of input tensors don't match the number of inputs to the model: actual: ".concat(t.length," expected: ").concat(i.length));t.forEach(((e,t)=>{const n=i[t];this._values[n]=e}));const a=this._starter.slice(0),o=this.graph.getValues(),s=this.graph.getNodes();let l=0;for(;l<a.length;){const e=a[l++],t=this._ops[e],i=t.node.inputs.map((e=>this._values[e]));if(-1!==i.indexOf(void 0))throw new Error("unresolved input detected: op: ".concat(t.node));const c=i;r.Logger.verbose("ExecPlan","Runing op:".concat(t.node.name," (").concat(c.map(((e,n)=>"'".concat(t.node.inputs[n],"': ").concat(e.type,"[").concat(e.dims.join(","),"]"))).join(", "),")"));const u=await this.profiler.event("node",t.node.name,(async()=>t.op.impl(n,c,t.op.context)));if(u.length!==t.node.outputs.length)throw new Error("the size of output does not match model definition.");u.forEach(((e,n)=>{const r=t.node.outputs[n];if(this._values[r])throw new Error("output [".concat(r,"] already has value: op:").concat(t.node.name));this._values[r]=e}));const d=new Set;u.forEach(((e,n)=>{const r=t.node.outputs[n];for(const t of o[r].to){const e=s[t];let n=!0;for(const t of e.inputs)if(!this._values[t]){n=!1;break}n&&d.add(t)}})),a.push(...d)}const c=[];for(let e=0;e<this.graph.getOutputIndices().length;e++){const t=this.graph.getOutputIndices()[e],n=this._values[t];if(void 0===n)throw new Error("required output [".concat(t,"] does not have value"));0===t?await n.getData():n.data,c.push(n)}return r.Logger.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),c}))}}},7070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const r=n(1446),i=n(7778),a=n(9395),o=n(9162),s=n(2517);var l=a.onnxruntime.experimental.fbs;t.Graph={from:(e,t)=>new d(e,t)};class c{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=s.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class u{constructor(e,t){e instanceof r.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new i.Attribute(e.attribute)):e instanceof l.Node&&(this.name=null!=t?t:e.name(),this.opType=e.opType(),this.attributes=new i.Attribute(s.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class d{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof r.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof l.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}buildGraphFromOnnxFormat(e){const t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const n=new Map;if(!e.input)throw new Error("missing information in graph: input");const r=[];for(const i of e.input){if(t.has(i.name))throw new Error("duplicated input name: ".concat(i.name));const e=this._allData.push(new c(i))-1;t.set(i.name,e),r.push(i.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(const i of e.initializer){let e=t.get(i.name);if(void 0===e){const n=new c;n.type={shape:{dims:s.ProtoUtil.tensorDimsFromProto(i.dims)},tensorType:s.ProtoUtil.tensorDataTypeFromProto(i.dataType)},e=this._allData.push(n)-1,t.set(i.name,e)}this._allData[e]._from=-1,this._allData[e].tensor=o.Tensor.fromProto(i)}for(let i=0;i<this._allData.length;i++)this._allData[i].tensor||(this._allInputIndices.push(i),this._allInputNames.push(r[i]));if(!e.output)throw new Error("missing information in graph: output");for(const i of e.output){if(t.has(i.name))throw new Error("duplicated output name: ".concat(i.name));const e=this._allData.push(new c(i))-1;t.set(i.name,e),this._allOutputIndices.push(e),this._allOutputNames.push(i.name)}if(!e.node)throw new Error("missing information in graph: node");for(const i of e.node){if(!i.name)for(let t=0;;t++){const e="unnamed_".concat(i.opType,"_").concat(t);if(!n.has(e)){i.name=e;break}}if(n.has(i.name))throw new Error("duplicated node name: ".concat(i.name));const e=this._nodes.push(new u(i))-1;n.set(i.name,e)}for(let i=0;i<this._nodes.length;i++){const n=this._nodes[i],r=e.node[i];if(!r.output)throw new Error("missing output for node: ".concat(r.name));for(const e of r.output){let a=t.get(e);if(void 0===a&&(a=this._allData.push(new c)-1,t.set(e,a)),n.outputs.push(a),void 0!==this._allData[a]._from)throw new Error("multiple nodes output to one data value: ".concat(a));if(this._allData[a]._from=i,"Constant"===r.opType){if(!r.attribute||1!==r.attribute.length||!r.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!r.output||1!==r.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");n.outputs.pop(),n.executeNode=!1,this._allData[a]._from=-1,this._allData[a].tensor=o.Tensor.fromProto(r.attribute[0].t)}}}for(let i=0;i<this._nodes.length;i++){const n=this._nodes[i],r=e.node[i];if(!r.input)throw new Error("missing input for node: ".concat(r.name));for(const e of r.input){const a=t.get(e);if(void 0===a){if(""===e&&3===r.input.length&&"Resize"===r.opType)continue;throw new Error("unrecognized input '".concat(e,"' for node: ").concat(r.name))}n.inputs.push(a),this._allData[a]._to.push(i)}}return!0}buildGraphFromOrtFormat(e){var t,n,r;const i=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const a=new Map,d=[];for(let o=0;o<e.inputsLength();o++){const a=e.inputs(o);if(i.has(a))throw new Error("duplicated input name: ".concat(a));for(let o=0;o<e.nodeArgsLength();o++)if((null===(t=e.nodeArgs(o))||void 0===t?void 0:t.name())===a){const t=new c;if((null===(r=null===(n=e.nodeArgs(o))||void 0===n?void 0:n.type())||void 0===r?void 0:r.valueType())!==l.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const u=e.nodeArgs(o).type().value(new l.TensorTypeAndShape),h=s.ProtoUtil.tensorDataTypeFromProto(u.elemType()),p=u.shape(),f=[];for(let e=0;e<p.dimLength();e++)f.push(s.LongUtil.longToNumber(p.dim(e).value().dimValue()));t.type={shape:{dims:f},tensorType:h};const m=this._allData.push(t)-1;i.set(a,m),d.push(a)}}for(let l=0;l<e.initializersLength();l++){const t=e.initializers(l);let n=i.get(t.name());if(void 0===n){const e=new c,r=s.ProtoUtil.tensorDimsFromORTFormat(t),a=s.ProtoUtil.tensorDataTypeFromProto(t.dataType());e.type={shape:{dims:r},tensorType:a},n=this._allData.push(e)-1,i.set(t.name(),n)}this._allData[n]._from=-1,this._allData[n].tensor=o.Tensor.fromOrtTensor(t)}for(let o=0;o<this._allData.length;o++)this._allData[o].tensor||(this._allInputIndices.push(o),this._allInputNames.push(d[o]));for(let o=0;o<e.outputsLength();o++){const t=e.outputs(o);if(i.has(t))throw new Error("duplicated output name: ".concat(t));const n=this._allData.push(new c)-1;i.set(t,n),this._allOutputIndices.push(n),this._allOutputNames.push(t)}if(!e.nodes)throw new Error("missing information in graph: node");for(let o=0;o<e.nodesLength();o++){const t=e.nodes(o);let n=t.name();if(!n)for(let e=0;n="unnamed_".concat(t.opType(),"_").concat(e),a.has(n);e++);if(a.has(n))throw new Error("duplicated node name: ".concat(n));const r=this._nodes.push(new u(t,n))-1;a.set(n,r)}for(let s=0;s<this._nodes.length;s++){const t=this._nodes[s],n=e.nodes(s);if(null==n)throw new Error("No node exists at index ".concat(s));if(0===(null==n?void 0:n.outputsLength()))throw new Error("missing output for node: ".concat(n.name));for(let e=0;e<(null==n?void 0:n.outputsLength());e++){const r=null==n?void 0:n.outputs(e);let a=i.get(r);if(void 0===a&&(a=this._allData.push(new c)-1,i.set(r,a)),t.outputs.push(a),void 0!==this._allData[a]._from)throw new Error("multiple nodes output to one data value: ".concat(a));if(this._allData[a]._from=s,"Constant"===n.opType()){if(1!==n.attributesLength()||!n.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==n.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");t.outputs.pop(),t.executeNode=!1,this._allData[a]._from=-1,this._allData[a].tensor=o.Tensor.fromOrtTensor(n.attributes(0).t())}}}for(let o=0;o<this._nodes.length;o++){const t=this._nodes[o],n=e.nodes(o);if(0===n.inputsLength())throw new Error("missing input for node: ".concat(n.name));for(let e=0;e<n.inputsLength();e++){const r=n.inputs(e),a=i.get(r);if(void 0===a)throw new Error("unrecognized input '".concat(r,"' for node: ").concat(n.name()));t.inputs.push(a),this._allData[a]._to.push(o)}}}checkIsAcyclic(){const e=new Set;this._allInputIndices.forEach((t=>{this._allData[t]._to.forEach((t=>{e.add(t)}))}));const t=Array.from(e),n=new Array(this._nodes.length).fill("white");for(;t.length>0;){const e=t.pop();"gray"===n[e]?n[e]="black":(t.push(e),n[e]="gray",this._nodes[e].outputs.forEach((r=>{const i=this._allData[r];if(void 0!==i.tensor)throw new Error("node outputs should not be initialized");if(i._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");i._to.forEach((e=>{if("gray"===n[e])throw new Error("model graph is cyclic");"white"===n[e]&&t.push(e)}))})))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0;for(let t=0;t<this._nodes.length;t++)this._nodes[t].executeNode?e>0&&(this._nodes[t].inputs.forEach((n=>{const r=this._allData[n]._to.indexOf(t+e);-1!==r&&(this._allData[n]._to[r]=t)})),this._nodes[t].outputs.forEach((n=>{this._allData[n]._from&&this._allData[n]._from===t+e&&(this._allData[n]._from=t)}))):(e++,this._nodes[t].outputs.forEach((e=>{this._allData[e]._from=-2})),this._nodes.splice(t,1),t--);e=0;for(let t=0;t<this._allData.length;t++)if(-2!==this._allData[t].from||-1!==this._allOutputIndices.indexOf(t+e)){if(e>0){let n=-1;void 0!==this._allData[t].from&&-1!==this._allData[t].from?(n=this._nodes[this._allData[t].from].outputs.indexOf(t+e),-1!==n&&(this._nodes[this._allData[t].from].outputs[n]=t)):(n=this._allInputIndices.indexOf(t+e),-1!==n&&(this._allInputIndices[n]=t)),this._allData[t].to.forEach((r=>{n=this._nodes[r].inputs.indexOf(t+e),-1!==n&&(this._nodes[r].inputs[n]=t)})),0===this._allData[t].to.length&&(n=this._allOutputIndices.indexOf(t+e),-1!==n&&(this._allOutputIndices[n]=t))}}else e++,this._allData.splice(t,1),t--}deleteNode(e){const t=this._nodes[e];if(t.outputs.length>1)for(let s=1;s<t.outputs.length;s++)if(this._allData[t.outputs[s]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;const n=t.inputs[0],r=t.outputs[0],i=this._allData[r].to,a=this._allData[n].to.indexOf(e);if(-1===a)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n].to.splice(a,1),this._allData[r]._to=[];const o=this._allOutputIndices.indexOf(r);if(-1!==o&&(this._allOutputIndices[o]=n),i&&i.length>0)for(const s of i){const e=this._nodes[s].inputs.indexOf(r);if(-1===e)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[s].inputs[e]=n,this._allData[n].to.push(s)}}removeAllDropoutNodes(){let e=0;for(const t of this._nodes){if("Dropout"===t.opType){if(1!==t.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==t.outputs.length&&2!==t.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===t.outputs.length&&0!==this._allData[t.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(const t of this._nodes)"Identity"===t.opType&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const e of this._nodes)if("Conv"===e.opType){const n=this._allData[e.outputs[0]]._to;if(1===n.length&&this.isActivation(this._nodes[n[0]])){const r=this._nodes[n[0]];if("Clip"===r.opType)if(1===r.inputs.length)try{e.attributes.set("activation_params","floats",[r.attributes.getFloat("min"),r.attributes.getFloat("max")])}catch(t){e.attributes.set("activation_params","floats",[s.MIN_CLIP,s.MAX_CLIP])}else{if(!(r.inputs.length>=3&&void 0!==this._allData[r.inputs[1]].tensor&&void 0!==this._allData[r.inputs[2]].tensor))continue;e.attributes.set("activation_params","floats",[this._allData[r.inputs[1]].tensor.floatData[0],this._allData[r.inputs[2]].tensor.floatData[0]])}e.attributes.set("activation","string",r.opType),this.deleteNode(n[0])}}}}},6231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;const n={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},r={none:new class{log(e,t,n){}},console:new class{log(e,t,n){console.log("".concat(this.color(e)," ").concat(n?"\x1b[35m"+n+"\x1b[0m ":"").concat(t))}color(e){switch(e){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error("unsupported severity: ".concat(e))}}}},i={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let a={"":i};function o(e,t,n,r){if(void 0===t)return i=e,{verbose:o.verbose.bind(null,i),info:o.info.bind(null,i),warning:o.warning.bind(null,i),error:o.error.bind(null,i),fatal:o.fatal.bind(null,i)};if(void 0===n)s(e,t);else if("number"==typeof n&&void 0===r)s(e,t);else if("string"==typeof n&&void 0===r)s(e,n,0,t);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");s(e,n,0,t)}var i}function s(e,t,i,o){const s=a[o||""]||a[""];n[e]<n[s.minimalSeverity]||(s.logDateTime&&(t="".concat((new Date).toISOString(),"|").concat(t)),s.logSourceLocation,r[s.provider].log(e,t,o))}!function(e){function t(e){a={},n("",e||{})}function n(e,n){if("*"===e)t(n);else{const t=a[e]||i;a[e]={provider:n.provider||t.provider,minimalSeverity:n.minimalSeverity||t.minimalSeverity,logDateTime:void 0===n.logDateTime?t.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?t.logSourceLocation:n.logSourceLocation}}}e.verbose=function(t,n){e("verbose",t,n)},e.info=function(t,n){e("info",t,n)},e.warning=function(t,n){e("warning",t,n)},e.error=function(t,n){e("error",t,n)},e.fatal=function(t,n){e("fatal",t,n)},e.reset=t,e.set=n,e.setWithEnv=function(e){const t={};e.logLevel&&(t.minimalSeverity=e.logLevel),n("",t)}}(o||(o={})),t.Logger=o;class l{constructor(e,t,n,r,i,a){this.category=e,this.name=t,this.startTime=n,this.endCallback=r,this.timer=i,this.ctx=a}end(){return this.endCallback(this)}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class c{constructor(e,t,n,r){this.category=e,this.name=t,this.startTime=n,this.endTime=r}}t.Profiler=class{static create(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}constructor(e,t,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===n?5e3:n}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,t.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,t,n,r){const i=this._started?this.begin(e,t,r):void 0;let a=!1;const o=n();if(o&&"function"==typeof o.then)return a=!0,new Promise(((e,t)=>{o.then((async t=>{i&&await i.end(),e(t)}),(async e=>{i&&await i.end(),t(e)}))}));if(!a&&i){const e=i.end();if(e&&"function"==typeof e.then)return new Promise(((t,n)=>{e.then((()=>{t(o)}),(e=>{n(e)}))}))}return o}begin(e,n,r){if(!this._started)throw new Error("profiler is not started yet");if(void 0===r){const r=(0,t.now)();return this.flush(r),new l(e,n,r,(e=>this.endSync(e)))}{const t=r.beginTimer();return new l(e,n,0,(async e=>this.end(e)),t,r)}}async end(e){const t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new c(e.category,e.name,e.startTime,t)),this.flush(t))}endSync(e){const n=(0,t.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new c(e.category,e.name,e.startTime,n)),this.flush(n))}logOneEvent(e){t.Logger.verbose("Profiler.".concat(e.category),"".concat((e.endTime-e.startTime).toFixed(2),"ms on event '").concat(e.name,"' at ").concat(e.endTime.toFixed(2)))}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(const e=this._flushPointer;this._flushPointer<e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,t.now)()}}get started(){return this._started}},t.now="undefined"!=typeof performance&&performance.now?()=>performance.now():Date.now},2644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const r=n(5686),i=n(1446),a=n(7070),o=n(9395),s=n(2517);var l=o.onnxruntime.experimental.fbs;t.Model=class{constructor(){}load(e,t,n){if(!n)try{return void this.loadFromOnnxFormat(e,t)}catch(e){if(void 0!==n)throw e}this.loadFromOrtFormat(e,t)}loadFromOnnxFormat(e,t){const n=i.onnx.ModelProto.decode(e);if(s.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map((e=>({domain:e.domain,version:s.LongUtil.longToNumber(e.version)}))),this._graph=a.Graph.from(n.graph,t)}loadFromOrtFormat(e,t){const n=new r.flatbuffers.ByteBuffer(e),i=l.InferenceSession.getRootAsInferenceSession(n).model();if(s.LongUtil.longToNumber(i.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let r=0;r<i.opsetImportLength();r++){const e=i.opsetImport(r);this._opsets.push({domain:null==e?void 0:e.domain(),version:s.LongUtil.longToNumber(e.version())})}this._graph=a.Graph.from(i.graph(),t)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},1047:(e,t)=>{"use strict";function n(e,t){if(t.endsWith("+")){const n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=e}if(2===t.split("-").length){const n=t.split("-"),r=Number.parseInt(n[0],10),i=Number.parseInt(n[1],10);return!isNaN(r)&&!isNaN(i)&&r<=e&&e<=i}return Number.parseInt(t,10)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,r){for(const i of r){const r=i[0],a=i[1],o=i[2],s=i[3],l=i[4];if(e.opType===r)for(const e of t)if((e.domain===a||"ai.onnx"===e.domain&&""===a)&&n(e.version,o))return{opImpl:s,opInit:l}}throw new TypeError("cannot resolve operator '".concat(e.opType,"' with opsets: ").concat(t.map((e=>"".concat(e.domain||"ai.onnx"," v").concat(e.version))).join(", ")))}},9395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onnxruntime=void 0;const r=n(5686);var i,a;(function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.INT=2]="INT",e[e.STRING=3]="STRING",e[e.TENSOR=4]="TENSOR",e[e.GRAPH=5]="GRAPH",e[e.FLOATS=6]="FLOATS",e[e.INTS=7]="INTS",e[e.STRINGS=8]="STRINGS",e[e.TENSORS=9]="TENSORS",e[e.GRAPHS=10]="GRAPHS",e[e.SPARSE_TENSOR=11]="SPARSE_TENSOR",e[e.SPARSE_TENSORS=12]="SPARSE_TENSORS"}(t=e.AttributeType||(e.AttributeType={}))})((a=(i=t.onnxruntime||(t.onnxruntime={})).experimental||(i.experimental={})).fbs||(a.fbs={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VALUE=1]="VALUE",e[e.PARAM=2]="PARAM"}(t=e.DimensionValueType||(e.DimensionValueType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.UINT8=2]="UINT8",e[e.INT8=3]="INT8",e[e.UINT16=4]="UINT16",e[e.INT16=5]="INT16",e[e.INT32=6]="INT32",e[e.INT64=7]="INT64",e[e.STRING=8]="STRING",e[e.BOOL=9]="BOOL",e[e.FLOAT16=10]="FLOAT16",e[e.DOUBLE=11]="DOUBLE",e[e.UINT32=12]="UINT32",e[e.UINT64=13]="UINT64",e[e.COMPLEX64=14]="COMPLEX64",e[e.COMPLEX128=15]="COMPLEX128",e[e.BFLOAT16=16]="BFLOAT16"}(t=e.TensorDataType||(e.TensorDataType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.Primitive=0]="Primitive",e[e.Fused=1]="Fused"}(t=e.NodeType||(e.NodeType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.NONE=0]="NONE",e[e.tensor_type=1]="tensor_type",e[e.sequence_type=2]="sequence_type",e[e.map_type=3]="map_type"}(t=e.TypeInfoValue||(e.TypeInfoValue={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsShape(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dim(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}dimLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startShape(e){e.startObject(1)}static addDim(e,t){e.addFieldOffset(0,t,0)}static createDimVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startDimVector(e,t){e.startVector(4,t,4)}static endShape(e){return e.endObject()}static createShape(e,t){return n.startShape(e),n.addDim(e,t),n.endShape(e)}}t.Shape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimension(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimension(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}value(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}denotation(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimension(e){e.startObject(2)}static addValue(e,t){e.addFieldOffset(0,t,0)}static addDenotation(e,t){e.addFieldOffset(1,t,0)}static endDimension(e){return e.endObject()}static createDimension(e,t,r){return n.startDimension(e),n.addValue(e,t),n.addDenotation(e,r),n.endDimension(e)}}t.Dimension=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimensionValue(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimensionValue(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dimType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}dimParam(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimensionValue(e){e.startObject(3)}static addDimType(t,n){t.addFieldInt8(0,n,e.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static addDimParam(e,t){e.addFieldOffset(2,t,0)}static endDimensionValue(e){return e.endObject()}static createDimensionValue(e,t,r,i){return n.startDimensionValue(e),n.addDimType(e,t),n.addDimValue(e,r),n.addDimParam(e,i),n.endDimensionValue(e)}}t.DimensionValue=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorTypeAndShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorTypeAndShape(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}shape(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startTensorTypeAndShape(e){e.startObject(2)}static addElemType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(e,t){e.addFieldOffset(1,t,0)}static endTensorTypeAndShape(e){return e.endObject()}static createTensorTypeAndShape(e,t,r){return n.startTensorTypeAndShape(e),n.addElemType(e,t),n.addShape(e,r),n.endTensorTypeAndShape(e)}}t.TensorTypeAndShape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMapType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMapType(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}keyType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}valueType(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startMapType(e){e.startObject(2)}static addKeyType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(e,t){e.addFieldOffset(1,t,0)}static endMapType(e){return e.endObject()}static createMapType(e,t,r){return n.startMapType(e),n.addKeyType(e,t),n.addValueType(e,r),n.endMapType(e)}}t.MapType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSequenceType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSequenceType(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSequenceType(e){e.startObject(1)}static addElemType(e,t){e.addFieldOffset(0,t,0)}static endSequenceType(e){return e.endObject()}static createSequenceType(e,t){return n.startSequenceType(e),n.addElemType(e,t),n.endSequenceType(e)}}t.SequenceType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){(e.fbs||(e.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(e,t,n,r){return e.prep(4,12),e.writeInt32(r),e.writeInt32(n),e.writeInt32(t),e.offset()}}}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNodeEdge(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNodeEdge(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}nodeIndex(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0}inputEdges(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}inputEdgesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}outputEdges(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}outputEdgesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNodeEdge(e){e.startObject(3)}static addNodeIndex(e,t){e.addFieldInt32(0,t,0)}static addInputEdges(e,t){e.addFieldOffset(1,t,0)}static startInputEdgesVector(e,t){e.startVector(12,t,4)}static addOutputEdges(e,t){e.addFieldOffset(2,t,0)}static startOutputEdgesVector(e,t){e.startVector(12,t,4)}static endNodeEdge(e){return e.endObject()}static createNodeEdge(e,t,r,i){return n.startNodeEdge(e),n.addNodeIndex(e,t),n.addInputEdges(e,r),n.addOutputEdges(e,i),n.endNodeEdge(e)}}t.NodeEdge=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNode(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNode(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}sinceVersion(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0}index(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0}opType(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.NodeType.Primitive}executionProviderType(e){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null}inputs(e,t){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}attributes(t,n){let r=this.bb.__offset(this.bb_pos,24);return r?(n||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}attributesLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCounts(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}inputArgCountsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCountsArray(){let e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}implicitInputs(e,t){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}implicitInputsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNode(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDomain(e,t){e.addFieldOffset(2,t,0)}static addSinceVersion(e,t){e.addFieldInt32(3,t,0)}static addIndex(e,t){e.addFieldInt32(4,t,0)}static addOpType(e,t){e.addFieldOffset(5,t,0)}static addType(t,n){t.addFieldInt32(6,n,e.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(e,t){e.addFieldOffset(7,t,0)}static addInputs(e,t){e.addFieldOffset(8,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(9,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addAttributes(e,t){e.addFieldOffset(10,t,0)}static createAttributesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startAttributesVector(e,t){e.startVector(4,t,4)}static addInputArgCounts(e,t){e.addFieldOffset(11,t,0)}static createInputArgCountsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startInputArgCountsVector(e,t){e.startVector(4,t,4)}static addImplicitInputs(e,t){e.addFieldOffset(12,t,0)}static createImplicitInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startImplicitInputsVector(e,t){e.startVector(4,t,4)}static endNode(e){return e.endObject()}static createNode(e,t,r,i,a,o,s,l,c,u,d,h,p,f){return n.startNode(e),n.addName(e,t),n.addDocString(e,r),n.addDomain(e,i),n.addSinceVersion(e,a),n.addIndex(e,o),n.addOpType(e,s),n.addType(e,l),n.addExecutionProviderType(e,c),n.addInputs(e,u),n.addOutputs(e,d),n.addAttributes(e,h),n.addInputArgCounts(e,p),n.addImplicitInputs(e,f),n.endNode(e)}}t.Node=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsValueInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsValueInfo(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startValueInfo(e){e.startObject(3)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldOffset(2,t,0)}static endValueInfo(e){return e.endObject()}static createValueInfo(e,t,r,i){return n.startValueInfo(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,i),n.endValueInfo(e)}}t.ValueInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTypeInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTypeInfo(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}denotation(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}valueType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):e.experimental.fbs.TypeInfoValue.NONE}value(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}static startTypeInfo(e){e.startObject(3)}static addDenotation(e,t){e.addFieldOffset(0,t,0)}static addValueType(t,n){t.addFieldInt8(1,n,e.experimental.fbs.TypeInfoValue.NONE)}static addValue(e,t){e.addFieldOffset(2,t,0)}static endTypeInfo(e){return e.endObject()}static createTypeInfo(e,t,r,i){return n.startTypeInfo(e),n.addDenotation(e,t),n.addValueType(e,r),n.addValue(e,i),n.endTypeInfo(e)}}t.TypeInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsOperatorSetId(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsOperatorSetId(e,n){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}domain(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}version(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}static startOperatorSetId(e){e.startObject(2)}static addDomain(e,t){e.addFieldOffset(0,t,0)}static addVersion(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static endOperatorSetId(e){return e.endObject()}static createOperatorSetId(e,n,r){return t.startOperatorSetId(e),t.addDomain(e,n),t.addVersion(e,r),t.endOperatorSetId(e)}}e.OperatorSetId=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}dataType(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}rawData(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}rawDataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}rawDataArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}stringData(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringDataLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}static startTensor(e){e.startObject(6)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static addDataType(t,n){t.addFieldInt32(3,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(e,t){e.addFieldOffset(4,t,0)}static createRawDataVector(e,t){e.startVector(1,t.length,1);for(let n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()}static startRawDataVector(e,t){e.startVector(1,t,1)}static addStringData(e,t){e.addFieldOffset(5,t,0)}static createStringDataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringDataVector(e,t){e.startVector(4,t,4)}static endTensor(e){return e.endObject()}static createTensor(e,t,r,i,a,o,s){return n.startTensor(e),n.addName(e,t),n.addDocString(e,r),n.addDims(e,i),n.addDataType(e,a),n.addRawData(e,o),n.addStringData(e,s),n.endTensor(e)}}t.Tensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}values(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}indices(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSparseTensor(e){e.startObject(3)}static addValues(e,t){e.addFieldOffset(0,t,0)}static addIndices(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static endSparseTensor(e){return e.endObject()}static createSparseTensor(e,t,r,i){return n.startSparseTensor(e),n.addValues(e,t),n.addIndices(e,r),n.addDims(e,i),n.endSparseTensor(e)}}t.SparseTensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsAttribute(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsAttribute(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.AttributeType.UNDEFINED}f(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0}i(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}s(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}t(t){let n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}g(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}floats(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0}floatsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}floatsArray(){let e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}ints(e){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}intsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}strings(e,t){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringsLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}tensors(t,n){let r=this.bb.__offset(this.bb_pos,26);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}tensorsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}graphs(t,n){let r=this.bb.__offset(this.bb_pos,28);return r?(n||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}graphsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startAttribute(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(t,n){t.addFieldInt32(2,n,e.experimental.fbs.AttributeType.UNDEFINED)}static addF(e,t){e.addFieldFloat32(3,t,0)}static addI(e,t){e.addFieldInt64(4,t,e.createLong(0,0))}static addS(e,t){e.addFieldOffset(5,t,0)}static addT(e,t){e.addFieldOffset(6,t,0)}static addG(e,t){e.addFieldOffset(7,t,0)}static addFloats(e,t){e.addFieldOffset(8,t,0)}static createFloatsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()}static startFloatsVector(e,t){e.startVector(4,t,4)}static addInts(e,t){e.addFieldOffset(9,t,0)}static createIntsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startIntsVector(e,t){e.startVector(8,t,8)}static addStrings(e,t){e.addFieldOffset(10,t,0)}static createStringsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringsVector(e,t){e.startVector(4,t,4)}static addTensors(e,t){e.addFieldOffset(11,t,0)}static createTensorsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startTensorsVector(e,t){e.startVector(4,t,4)}static addGraphs(e,t){e.addFieldOffset(12,t,0)}static createGraphsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startGraphsVector(e,t){e.startVector(4,t,4)}static endAttribute(e){return e.endObject()}static createAttribute(e,t,r,i,a,o,s,l,c,u,d,h,p,f){return n.startAttribute(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,i),n.addF(e,a),n.addI(e,o),n.addS(e,s),n.addT(e,l),n.addG(e,c),n.addFloats(e,u),n.addInts(e,d),n.addStrings(e,h),n.addTensors(e,p),n.addGraphs(e,f),n.endAttribute(e)}}t.Attribute=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGraph(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGraph(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}initializers(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}initializersLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeArgs(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeArgsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}nodes(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}maxNodeIndex(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0}nodeEdges(t,n){let r=this.bb.__offset(this.bb_pos,12);return r?(n||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeEdgesLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}inputs(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}sparseInitializers(t,n){let r=this.bb.__offset(this.bb_pos,18);return r?(n||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}sparseInitializersLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGraph(e){e.startObject(8)}static addInitializers(e,t){e.addFieldOffset(0,t,0)}static createInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInitializersVector(e,t){e.startVector(4,t,4)}static addNodeArgs(e,t){e.addFieldOffset(1,t,0)}static createNodeArgsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeArgsVector(e,t){e.startVector(4,t,4)}static addNodes(e,t){e.addFieldOffset(2,t,0)}static createNodesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodesVector(e,t){e.startVector(4,t,4)}static addMaxNodeIndex(e,t){e.addFieldInt32(3,t,0)}static addNodeEdges(e,t){e.addFieldOffset(4,t,0)}static createNodeEdgesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeEdgesVector(e,t){e.startVector(4,t,4)}static addInputs(e,t){e.addFieldOffset(5,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(6,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addSparseInitializers(e,t){e.addFieldOffset(7,t,0)}static createSparseInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSparseInitializersVector(e,t){e.startVector(4,t,4)}static endGraph(e){return e.endObject()}static createGraph(e,t,r,i,a,o,s,l,c){return n.startGraph(e),n.addInitializers(e,t),n.addNodeArgs(e,r),n.addNodes(e,i),n.addMaxNodeIndex(e,a),n.addNodeEdges(e,o),n.addInputs(e,s),n.addOutputs(e,l),n.addSparseInitializers(e,c),n.endGraph(e)}}t.Graph=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsModel(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsModel(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}irVersion(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}opsetImport(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}opsetImportLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}producerName(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}producerVersion(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}modelVersion(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}docString(e){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null}graph(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}graphDocString(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null}static startModel(e){e.startObject(9)}static addIrVersion(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addOpsetImport(e,t){e.addFieldOffset(1,t,0)}static createOpsetImportVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOpsetImportVector(e,t){e.startVector(4,t,4)}static addProducerName(e,t){e.addFieldOffset(2,t,0)}static addProducerVersion(e,t){e.addFieldOffset(3,t,0)}static addDomain(e,t){e.addFieldOffset(4,t,0)}static addModelVersion(e,t){e.addFieldInt64(5,t,e.createLong(0,0))}static addDocString(e,t){e.addFieldOffset(6,t,0)}static addGraph(e,t){e.addFieldOffset(7,t,0)}static addGraphDocString(e,t){e.addFieldOffset(8,t,0)}static endModel(e){return e.endObject()}static createModel(e,t,r,i,a,o,s,l,c,u){return n.startModel(e),n.addIrVersion(e,t),n.addOpsetImport(e,r),n.addProducerName(e,i),n.addProducerVersion(e,a),n.addDomain(e,o),n.addModelVersion(e,s),n.addDocString(e,l),n.addGraph(e,c),n.addGraphDocString(e,u),n.endModel(e)}}t.Model=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKernelCreateInfos(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKernelCreateInfos(e,n){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}nodeIndices(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}nodeIndicesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeIndicesArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}kernelDefHashes(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}kernelDefHashesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startKernelCreateInfos(e){e.startObject(2)}static addNodeIndices(e,t){e.addFieldOffset(0,t,0)}static createNodeIndicesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startNodeIndicesVector(e,t){e.startVector(4,t,4)}static addKernelDefHashes(e,t){e.addFieldOffset(1,t,0)}static createKernelDefHashesVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startKernelDefHashesVector(e,t){e.startVector(8,t,8)}static endKernelCreateInfos(e){return e.endObject()}static createKernelCreateInfos(e,n,r){return t.startKernelCreateInfos(e),t.addNodeIndices(e,n),t.addKernelDefHashes(e,r),t.endKernelCreateInfos(e)}}e.KernelCreateInfos=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSubGraphSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSubGraphSessionState(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}graphId(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSubGraphSessionState(e){e.startObject(2)}static addGraphId(e,t){e.addFieldOffset(0,t,0)}static addSessionState(e,t){e.addFieldOffset(1,t,0)}static endSubGraphSessionState(e){let t=e.endObject();return e.requiredField(t,4),t}static createSubGraphSessionState(e,t,r){return n.startSubGraphSessionState(e),n.addGraphId(e,t),n.addSessionState(e,r),n.endSubGraphSessionState(e)}}t.SubGraphSessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSessionState(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}kernels(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}subGraphSessionStates(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}subGraphSessionStatesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSessionState(e){e.startObject(2)}static addKernels(e,t){e.addFieldOffset(0,t,0)}static addSubGraphSessionStates(e,t){e.addFieldOffset(1,t,0)}static createSubGraphSessionStatesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSubGraphSessionStatesVector(e,t){e.startVector(4,t,4)}static endSessionState(e){return e.endObject()}static createSessionState(e,t,r){return n.startSessionState(e),n.addKernels(e,t),n.addSubGraphSessionStates(e,r),n.endSessionState(e)}}t.SessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInferenceSession(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInferenceSession(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static bufferHasIdentifier(e){return e.__has_identifier("ORTM")}ortVersion(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}model(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startInferenceSession(e){e.startObject(3)}static addOrtVersion(e,t){e.addFieldOffset(0,t,0)}static addModel(e,t){e.addFieldOffset(1,t,0)}static addSessionState(e,t){e.addFieldOffset(2,t,0)}static endInferenceSession(e){return e.endObject()}static finishInferenceSessionBuffer(e,t){e.finish(t,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(e,t){e.finish(t,"ORTM",!0)}static createInferenceSession(e,t,r,i){return n.startInferenceSession(e),n.addOrtVersion(e,t),n.addModel(e,r),n.addSessionState(e,i),n.endInferenceSession(e)}}t.InferenceSession=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={}))},7448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;const r=n(1670),i=n(9162);t.OnnxjsSessionHandler=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,t,n){const a=new Map;for(const r in e)if(Object.hasOwnProperty.call(e,r)){const t=e[r];a.set(r,new i.Tensor(t.dims,t.type,void 0,void 0,t.data))}const o=await this.session.run(a),s={};return o.forEach(((e,t)=>{s[t]=new r.Tensor(e.type,e.data,e.dims)})),s}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const r=n(7067),i=n(1296),a=n(7091),o=n(1036),s=n(6231),l=n(2644);t.Session=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._initialized=!1,this.backendHint=e.backendHint,this.profiler=s.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,t,n){await this.profiler.event("session","Session.loadModel",(async()=>{const o=await(0,a.resolveBackend)(this.backendHint);if(this.sessionHandler=o.createSessionHandler(this.context),this._model=new l.Model,"string"==typeof e){const t=e.endsWith(".ort");if("undefined"==typeof fetch){const n=await(0,i.promisify)(r.readFile)(e);this.initialize(n,t)}else{const n=await fetch(e),r=await n.arrayBuffer();this.initialize(new Uint8Array(r),t)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{const r=new Uint8Array(e,t||0,n||e.byteLength);this.initialize(r)}}))}initialize(e,t){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(()=>{const n=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,n,t),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new o.ExecutionPlan(this._model.graph,this._ops,this.profiler)})),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(async()=>{const t=this.normalizeAndValidateInputs(e),n=await this._executionPlan.execute(this.sessionHandler,t);return this.createOutput(n)}))}normalizeAndValidateInputs(e){const t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error("incorrect input array length: expected ".concat(t.length," but got ").concat(e.length))}else{if(e.size!==t.length)throw new Error("incorrect input map size: expected ".concat(t.length," but got ").concat(e.size));const n=new Array(e.size);let r=0;for(let i=0;i<t.length;++i){const a=e.get(t[i]);if(!a)throw new Error("missing input tensor for: '".concat(name,"'"));n[r++]=a}e=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{const t=this._model.graph.getInputIndices(),n=this._model.graph.getValues(),r=new Array(t.length);for(let i=0;i<t.length;++i){const a=n[t[i]];r[i]=a.type.shape.dims,this.context.graphInputTypes.push(a.type.tensorType),this.context.graphInputDims.push(e[i].dims)}this.validateInputTensorDims(r,e,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,t){for(let n=0;n<t.length;n++){const r=e[n],i=t[n].type;if(r!==i)throw new Error("input tensor[".concat(n,"] check failed: expected type '").concat(r,"' but got ").concat(i))}}validateInputTensorDims(e,t,n){for(let r=0;r<t.length;r++){const i=e[r],a=t[r].dims;if(!this.compareTensorDims(i,a,n))throw new Error("input tensor[".concat(r,"] check failed: expected shape '[").concat(i.join(","),"]' but got [").concat(a.join(","),"]"))}}compareTensorDims(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]&&(!n||0!==e[r]))return!1;return!0}createOutput(e){const t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");const n=new Map;for(let r=0;r<t.length;++r)n.set(t[r],e[r]);return n}initializeOps(e){const t=e.getNodes();this._ops=new Array(t.length);for(let n=0;n<t.length;n++)this._ops[n]=this.sessionHandler.resolve(t[n],this._model.opsets,e)}}},9162:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const i=n(3442),a=r(n(3720)),o=n(1446),s=n(9395),l=n(2517);var c=s.onnxruntime.experimental.fbs;class u{get data(){if(void 0===this.cache){const e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[l.ShapeUtil.indicesToOffset(e,this.strides)]}set(e,t){this.data[l.ShapeUtil.indicesToOffset(e,this.strides)]=t}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=l.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.Guid.create();this.dims=e,this.type=t,this.dataProvider=n,this.asyncDataProvider=r,this.cache=a,this.dataId=o,this.size=l.ShapeUtil.validateDimsAndCalcSize(e);const s=this.size,c=void 0===n&&void 0===r&&void 0===a;if(void 0!==a&&a.length!==s)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===a||Array.isArray(a)&&a.every((e=>"string"==typeof e))))throw new TypeError("cache should be a string array");c&&(this.cache=new Array(s))}else{if(void 0!==a){const e=h(t);if(!(a instanceof e))throw new TypeError("cache should be type ".concat(e.name))}if(c){const e=new ArrayBuffer(s*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(e))}}(t));this.cache=function(e,t){return new(h(t))(e)}(e,t)}}}static fromProto(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=l.ProtoUtil.tensorDataTypeFromProto(e.dataType),n=l.ProtoUtil.tensorDimsFromProto(e.dims),r=new u(n,t);if("string"===t)e.stringData.forEach(((e,t)=>{r.data[t]=(0,l.decodeUtf8String)(e)}));else if(e.rawData&&"number"==typeof e.rawData.byteLength&&e.rawData.byteLength>0){const t=r.data,n=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),i=d(e.dataType),a=e.rawData.byteLength/i;if(e.rawData.byteLength%i!=0)throw new Error("invalid buffer length");if(t.length!==a)throw new Error("buffer length mismatch");for(let r=0;r<a;r++){const a=f(n,e.dataType,r*i);t[r]=a}}else{let t;switch(e.dataType){case o.onnx.TensorProto.DataType.FLOAT:t=e.floatData;break;case o.onnx.TensorProto.DataType.INT32:case o.onnx.TensorProto.DataType.INT16:case o.onnx.TensorProto.DataType.UINT16:case o.onnx.TensorProto.DataType.INT8:case o.onnx.TensorProto.DataType.UINT8:case o.onnx.TensorProto.DataType.BOOL:t=e.int32Data;break;case o.onnx.TensorProto.DataType.INT64:t=e.int64Data;break;case o.onnx.TensorProto.DataType.DOUBLE:t=e.doubleData;break;case o.onnx.TensorProto.DataType.UINT32:case o.onnx.TensorProto.DataType.UINT64:t=e.uint64Data;break;default:throw new Error("unspecific error")}if(null==t)throw new Error("failed to populate data from a tensorproto value");const n=r.data;if(n.length!==t.length)throw new Error("array length mismatch");for(let r=0;r<t.length;r++){const i=t[r];a.default.isLong(i)?n[r]=p(i,e.dataType):n[r]=i}}return r}static fromData(e,t,n){return new u(t,n,void 0,void 0,e)}static fromOrtTensor(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=l.ProtoUtil.tensorDimsFromORTFormat(e),n=l.ProtoUtil.tensorDataTypeFromProto(e.dataType()),r=new u(t,n);if("string"===n)for(let i=0;i<e.stringDataLength();i++)r.data[i]=e.stringData(i);else if(e.rawDataArray()&&"number"==typeof e.rawDataLength()&&e.rawDataLength()>0){const t=r.data,n=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),i=d(e.dataType()),a=e.rawDataLength()/i;if(e.rawDataLength()%i!=0)throw new Error("invalid buffer length");if(t.length!==a)throw new Error("buffer length mismatch");for(let r=0;r<a;r++){const a=f(n,e.dataType(),r*i);t[r]=a}}return r}}function d(e){switch(e){case o.onnx.TensorProto.DataType.UINT8:case o.onnx.TensorProto.DataType.INT8:case o.onnx.TensorProto.DataType.BOOL:return 1;case o.onnx.TensorProto.DataType.UINT16:case o.onnx.TensorProto.DataType.INT16:return 2;case o.onnx.TensorProto.DataType.FLOAT:case o.onnx.TensorProto.DataType.INT32:case o.onnx.TensorProto.DataType.UINT32:return 4;case o.onnx.TensorProto.DataType.INT64:case o.onnx.TensorProto.DataType.DOUBLE:case o.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(o.onnx.TensorProto.DataType[e]))}}function h(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function p(e,t){if(t===o.onnx.TensorProto.DataType.INT64||t===c.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==o.onnx.TensorProto.DataType.UINT32&&t!==c.TensorDataType.UINT32&&t!==o.onnx.TensorProto.DataType.UINT64&&t!==c.TensorDataType.UINT64)throw new TypeError("not a LONG type: ".concat(o.onnx.TensorProto.DataType[t]));if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function f(e,t,n){switch(t){case o.onnx.TensorProto.DataType.BOOL:case o.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case o.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case o.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case o.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case o.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case o.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case o.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case o.onnx.TensorProto.DataType.INT64:return p(a.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case o.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case o.onnx.TensorProto.DataType.UINT64:return p(a.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error("cannot read from DataView for type ".concat(o.onnx.TensorProto.DataType[t]))}}t.Tensor=u},2517:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;const i=n(5686),a=r(n(3720)),o=n(1446),s=n(9162);t.checkInputsShape=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!e||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].dims||e[i].dims.length!==n[i])return!1;return!0},t.assert=function(e,t){if(!e)throw new Error("string"==typeof t?t:t())},t.ArrayUtil=class{static arraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}};class l{static preprocessInputShapes(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]}static postprocessOutputShape(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop()}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=l;class c{static calcShape(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=t.length;if(0===r)return t;if(0===i)return e;const a=Math.max(e.length,t.length),o=new Array(a);if(n){if(r<2||i<2)return;const n=l.calcMatMulShape([e[r-2],e[r-1]],[t[i-2],t[i-1]]);if(void 0===n)return;[o[a-2],o[a-1]]=n}for(let s=n?3:1;s<=a;s++){const n=r-s<0?1:e[r-s],l=i-s<0?1:t[i-s];if(n!==l&&n>1&&l>1)return;o[a-s]=Math.max(n,l)}return o}static index(e,t){const n=new Array(t.length);return c.fillIndex(e,t,n),n}static fillIndex(e,t,n){const r=e.length-t.length;for(let i=0;i<t.length;i++)n[i]=e[r+i]%t[i]}static calc(e,t,n,r,i){const a=c.calcShape(e.dims,t.dims);if(a){if(r&&!h.areEqual(a,e.dims))return;const o=h.size(a),l=r?e:new s.Tensor(a,i||e.type);if(0===a.length)l.set([],n(e.get([]),t.get([])));else{const r=new Array(a.length),i=new Array(e.dims.length),s=new Array(t.dims.length);let u,d=0,h=0,p=!1,f=!1;0===e.dims.length&&(d=e.get([]),p=!0),0===t.dims.length&&(h=t.get([]),f=!0);for(let m=0;m<o;m++){u=m;for(let e=a.length-1;e>=0;e--)r[e]=u%a[e],u=Math.floor(u/a[e]);p||(c.fillIndex(r,e.dims,i),d=e.get(i)),f||(c.fillIndex(r,t.dims,s),h=t.get(s)),l.set(r,n(d,h))}}return l}}static isValidBroadcast(e,t){const n=e.length,r=t.length;if(n>r)return!1;for(let i=1;i<=n;i++)if(1!==e[n-i]&&e[n-i]!==t[r-i])return!1;return!0}static getBroadcastDims(e,t){const n=e.length,r=[];for(let i=0;i<n;i++){const a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}}t.BroadcastUtil=c,t.arrayCopyHelper=function(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let a=0;a<i;a++)e[n+a]=t[r+a]},t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,r,i){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let a,o,s;t?(a=e[1],o=e[0]):(a=e[0],o=e[1]);let l=-1;if(r?(s=n[0],l=1):(s=n[1],l=0),n[l]!==o)throw new Error("dimension mismatch");if(a<=0||s<=0||o<=0)throw new Error("invalid shape specified");if(i&&!c.isValidBroadcast(i,[a,s]))throw new Error("gemm: invalid bias shape for broadcast");return[a,s,o]}};class u{static tensorDataTypeFromProto(e){switch(e){case o.onnx.TensorProto.DataType.INT8:return"int8";case o.onnx.TensorProto.DataType.UINT8:return"uint8";case o.onnx.TensorProto.DataType.BOOL:return"bool";case o.onnx.TensorProto.DataType.INT16:return"int16";case o.onnx.TensorProto.DataType.UINT16:return"uint16";case o.onnx.TensorProto.DataType.INT32:return"int32";case o.onnx.TensorProto.DataType.UINT32:return"uint32";case o.onnx.TensorProto.DataType.FLOAT:return"float32";case o.onnx.TensorProto.DataType.DOUBLE:return"float64";case o.onnx.TensorProto.DataType.STRING:return"string";case o.onnx.TensorProto.DataType.INT64:return"int32";case o.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: ".concat(o.onnx.TensorProto.DataType[e]))}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return o.onnx.TensorProto.DataType.INT8;case"uint8":return o.onnx.TensorProto.DataType.UINT8;case"bool":return o.onnx.TensorProto.DataType.BOOL;case"int16":return o.onnx.TensorProto.DataType.INT16;case"uint16":return o.onnx.TensorProto.DataType.UINT16;case"int32":return o.onnx.TensorProto.DataType.INT32;case"uint32":return o.onnx.TensorProto.DataType.UINT32;case"float32":return o.onnx.TensorProto.DataType.FLOAT;case"float64":return o.onnx.TensorProto.DataType.DOUBLE;case"string":return o.onnx.TensorProto.DataType.STRING;case"int64":return o.onnx.TensorProto.DataType.INT64;case"uint64":return o.onnx.TensorProto.DataType.UINT64;default:throw new Error("unsupported data type: ".concat(e))}}static tensorDimsFromProto(e){return e.map((e=>a.default.isLong(e)?e.toNumber():e))}static tensorValueTypeFromProto(e){return{tensorType:u.tensorDataTypeFromProto(e.elemType),shape:{dims:u.tensorDimsFromProto(e.shape.dim.map((e=>e.dimValue)))}}}static tensorDimsFromORTFormat(e){const t=[];for(let n=0;n<e.dimsLength();n++)t.push(d.longToNumber(e.dims(n)));return t}static tensorAttributesFromORTFormat(e){const t=[];for(let n=0;n<e.attributesLength();n++)t.push(e.attributes(n));return t}}t.ProtoUtil=u;class d{static longToNumber(e,t){return a.default.isLong(e)?e.toNumber():e instanceof i.flatbuffers.Long?a.default.fromValue({low:e.low,high:e.high,unsigned:null!=t&&t}).toNumber():e}static isLong(e){return a.default.isLong(e)||e instanceof i.flatbuffers.Long}}t.LongUtil=d;class h{static size(e){return h.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error("invalid dimension of ".concat(t," for sizeFromDimension as Tensor has ").concat(e.length," dimensions."));return h.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error("invalid dimension of ".concat(t," for sizeToDimension as Tensor has ").concat(e.length," dimensions."));return h.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,n){let r=1;for(let i=t;i<n;i++){if(e[i]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[i]}return r}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}static transpose(e){return e.slice().reverse()}static indicesToOffset(e,t,n){void 0===n&&(n=e.length);let r=0;for(let i=0;i<n;++i)r+=t[i]*e[i];return r}static offsetToIndices(e,t){const n=t.length;if(0===n)return[];if(1===n)return[e*t[0]];const r=new Array(t.length);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(e/t[i]),e-=r[i]*t[i];return r[r.length-1]=e,r}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((e=>this.normalizeAxis(e,t)))}static incrementIndex(e,t,n){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=t.length;else if(n<=0||n>t.length)throw new Error("Incorrect axis to increment on");for(let r=n-1;r>=0&&(e[r]++,!(e[r]<t[r]));--r)e[r]=0}static calculateReshapedDims(e,t){if(0===t.length){if(0===e.length||1===h.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}const n=t.length,r=new Array(n);let i=-1,a=1;for(let s=0;s<n;s++){if(t[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===t[s]){if(-1!==i)throw new Error("at most one dimension in shape hints can be -1");i=s}else{if(0===t[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");r[s]=e[s]}else r[s]=t[s];a*=r[s]}}const o=h.size(e);if(-1!==i){if(o%a!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: [".concat(e,"] Output shape: [").concat(t,"]"));r[i]=o/a}else if(a!==o)throw new Error("reshapedDims and originalDims don't have matching sizes");return r}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){const n=e.length;return e.map(((e,r)=>e+t[r]+t[r+n]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let t=1;for(const n of e){if(!Number.isInteger(n))throw new TypeError("Invalid shape: ".concat(n," is not an integer"));if(n<0||n>2147483647)throw new TypeError("Invalid shape: length ".concat(n," is not allowed"));t*=n}return t}static flattenShape(e,t){t<0&&(t+=e.length);const n=e.reduce(((e,t)=>e*t),1),r=e.slice(t).reduce(((e,t)=>e*t),1);return[n/r,r]}static squeezeShape(e,t){const n=new Array;t=h.normalizeAxes(t,e.length);for(let r=0;r<e.length;r++){const i=t.indexOf(r)>=0;if(i&&1!==e[r])throw new Error("squeeze an axis of size different than 1");(0===t.length&&e[r]>1||t.length>0&&!i)&&n.push(e[r])}return n}static unsqueezeShape(e,t){const n=new Array(e.length+t.length);n.fill(0);for(let i=0;i<t.length;i++){const e=h.normalizeAxis(t[i],n.length);if(e>=n.length)throw new Error("'axes' has an out of range axis");if(0!==n[e])throw new Error("'axes' has a duplicate axis");n[e]=1}let r=0;for(let i=0;i<n.length;i++)0===n[i]&&(n[i]=e[r++]);if(r!==e.length)throw new Error("the unsqueezed dimension could not be established");return n}}t.ShapeUtil=h,t.MathUtil=class{static sqr(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let a=0;a<i;a++)e[n+a]+=Math.pow(t[r+a],2)}static axpy(e,t,n,r,i,a){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<i;o++)e[n+o]+=a*t[r+o]}static powx(e,t,n,r,i,a){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<i;o++)e[n+o]=Math.pow(t[r+o],a)}static mul(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let a=0;a<i;a++)e[n+a]=t[r+a]*e[n+a]}};class p{static splitShape(e,t,n,r){if(0===n.length){if(!r)throw new Error("need to know number of outputs when the 'split' attribute is not specified");p.determineSplit(e[t],r,n)}const i=[],a=[0];for(let o=0;o<n.length;++o){0!==o&&a.push(a[o-1]+n[o-1]);const r=e.slice();r[t]=n[o],i.push(r)}return[i,a]}static determineSplit(e,t,n){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<t;++r)n.push(e/t)}}t.SplitUtil=p;class f{static calcReduce(e,t,n,r,i){const a=e.dims.slice(0);0===t.length&&a.forEach(((e,n)=>t.push(n)));const o=f.calcReduceShape(a,t,!0),l=h.size(o),u=new s.Tensor(o,e.type),d=h.computeStrides(o),p=h.computeStrides(a),m=new Array(a.length);for(let s=0;s<l;s++){const n=h.offsetToIndices(s,d);c.fillIndex(n,a,m),u.set(n,f.calcReduceByAxis(e.numberData,t,a,0,h.indicesToOffset(m,p),r,i))}return n?u:new s.Tensor(f.calcReduceShape(a,t,n),u.type,void 0,void 0,u.data,u.dataId)}static calcReduceByAxis(e,t,n,r,i,a,o){let s=0;if(r>=t.length)return a(e[i]);const l=t[r],c=l>=n.length?1:h.size(n.slice(l+1));for(let u=0;u<n[l];u++)s=0===u?f.calcReduceByAxis(e,t,n,r+1,i,a,o):o(s,f.calcReduceByAxis(e,t,n,r+1,i,a,o)),i+=c;return s}static calcReduceShape(e,t,n){const r=e.slice();for(let i=0;i<t.length;i++)r[t[i]]=n?1:0;return r.filter((e=>0!==e))}}t.ReduceUtil=f;class m{static adjustPoolAttributes(e,t,n,r,i,a){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let o=0;o<t.length-2;o++)o>=n.length?n.push(t[o+2]):n[o]=t[o+2];for(let o=0;o<n.length;o++)if(o<r.length){if(r[o]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let o=0;o<n.length;o++)if(o<i.length){if(i[o]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(let o=0;o<2*n.length;o++)if(o<a.length){if(a[o]<0)throw new Error("pad should be greater than or equal to 1")}else a.push(0);for(let o=0;o<n.length;o++){if(n[o]<=0)throw new Error("kernel shapes need to be greater than 0");if(a[o]>=n[o]||a[o+n.length]>=n[o])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,n,r,i,a){if(a){if(i.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let o=0;o<e.length-2;o++)m.adjustPadAndReturnShape(e[o+2],t[o],n[o],r[o],i,o,o+e.length-2,a)}}static computePoolOutputShape(e,t,n,r,i,a,o){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const s=[t[0],t[1]];return m.computeShapeHelper(e,t,s,n,r,i,a,o),s}static computeConvOutputShape(e,t,n,r,i,a,o){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const s=[e[0],t[0]];return m.computeShapeHelper(!1,e,s,n,r,i,a,o),s}static computeShapeHelper(e,t,n,r,i,a,o,s){if(e)for(let l=0;l<t.length-2;l++)n.push(1);else for(let l=0;l<t.length-2;l++)n.push(m.adjustPadAndReturnShape(t[l+2],r[l],i[l],a[l],o,l,l+t.length-2,s))}static adjustPadAndReturnShape(e,t,n,r,i,a,o,s){const l=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+i[a]+i[o]-l)/t+1);switch(s){case"VALID":return i[a]=0,i[o]=0,Math.floor((e-l)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+r-e;return i[a]="SAME_LOWER"===s?Math.floor((n+1)/2):Math.floor(n/2),i[o]=n-i[a],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=m,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(e){return(new TextDecoder).decode(e)}},7967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,i)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((e=>{let[a,o]=e;const s=n?n+a:a;if("object"==typeof o)(0,t.iterateExtraOptions)(o,s+".",r,i);else if("string"==typeof o||"number"==typeof o)i(s,o.toString());else{if("boolean"!=typeof o)throw new Error("Can't handle extra config type: "+typeof o);i(s,o?"1":"0")}}))}},2157:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=t.initWasm=void 0;const s=n(1670),l=o(n(349)),c=n(6361),u=()=>!!s.env.wasm.proxy&&"undefined"!=typeof document;let d,h,p,f=!1,m=!1,g=!1;const y=[],b=[],w=[],v=[],_=[],x=[],k=()=>{if(f||!m||g||!d)throw new Error("worker not ready")},D=e=>{switch(e.data.type){case"init-wasm":f=!1,e.data.err?(g=!0,h[1](e.data.err)):(m=!0,h[0]());break;case"init-ort":e.data.err?p[1](e.data.err):p[0]();break;case"create_allocate":e.data.err?y.shift()[1](e.data.err):y.shift()[0](e.data.out);break;case"create_finalize":e.data.err?b.shift()[1](e.data.err):b.shift()[0](e.data.out);break;case"create":e.data.err?w.shift()[1](e.data.err):w.shift()[0](e.data.out);break;case"release":e.data.err?v.shift()[1](e.data.err):v.shift()[0]();break;case"run":e.data.err?_.shift()[1](e.data.err):_.shift()[0](e.data.out);break;case"end-profiling":e.data.err?x.shift()[1](e.data.err):x.shift()[0]()}},T="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;t.initWasm=async()=>{if(u()){if(m)return;if(f)throw new Error("multiple calls to 'initWasm()' detected.");if(g)throw new Error("previous call to 'initWasm()' failed.");return f=!0,void 0===s.env.wasm.wasmPaths&&T&&0!==T.indexOf("blob:")&&(s.env.wasm.wasmPaths=T.substr(0,+T.lastIndexOf("/")+1)),new Promise(((e,t)=>{null==d||d.terminate(),d=n(9710).Z(),d.onmessage=D,h=[e,t];const r={type:"init-wasm",in:s.env.wasm};d.postMessage(r)}))}return(0,c.initializeWebAssembly)(s.env.wasm)},t.initOrt=async(e,t)=>{if(u())return k(),new Promise(((n,r)=>{p=[n,r];const i={type:"init-ort",in:{numThreads:e,loggingLevel:t}};d.postMessage(i)}));l.initOrt(e,t)},t.createSessionAllocate=async e=>u()?(k(),new Promise(((t,n)=>{y.push([t,n]);const r={type:"create_allocate",in:{model:e}};d.postMessage(r,[e.buffer])}))):l.createSessionAllocate(e),t.createSessionFinalize=async(e,t)=>u()?(k(),new Promise(((n,r)=>{b.push([n,r]);const i={type:"create_finalize",in:{modeldata:e,options:t}};d.postMessage(i)}))):l.createSessionFinalize(e,t),t.createSession=async(e,t)=>u()?(k(),new Promise(((n,r)=>{w.push([n,r]);const i={type:"create",in:{model:e,options:t}};d.postMessage(i,[e.buffer])}))):l.createSession(e,t),t.releaseSession=async e=>{if(u())return k(),new Promise(((t,n)=>{v.push([t,n]);const r={type:"release",in:e};d.postMessage(r)}));l.releaseSession(e)},t.run=async(e,t,n,r,i)=>u()?(k(),new Promise(((a,o)=>{_.push([a,o]);const s={type:"run",in:{sessionId:e,inputIndices:t,inputs:n,outputIndices:r,options:i}};d.postMessage(s,l.extractTransferableBuffers(n))}))):l.run(e,t,n,r,i),t.endProfiling=async e=>{if(u())return k(),new Promise(((t,n)=>{x.push([t,n]);const r={type:"end-profiling",in:e};d.postMessage(r)}));l.endProfiling(e)}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(7967),i=n(4983),a=n(6361);t.setRunOptions=e=>{const t=(0,a.getInstance)();let n=0;const o=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let a=0;if(void 0!==(null==e?void 0:e.tag)&&(a=(0,i.allocWasmString)(e.tag,o)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,a),0===n)throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const a=(0,i.allocWasmString)(e,o),s=(0,i.allocWasmString)(r,o);if(0!==t._OrtAddRunConfigEntry(n,a,s))throw new Error("Can't set a run config entry: ".concat(e," - ").concat(r))})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),o.forEach(t._free),e}}},2306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const r=n(2806),i=n(1670),a=n(2850),o=n(2157);let s;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(e){const t=await fetch(e),n=await t.arrayBuffer();return(0,o.createSessionAllocate)(new Uint8Array(n))}async loadModel(e,t){if(s||(await(0,o.initOrt)(i.env.wasm.numThreads,(e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: ".concat(e))}})(i.env.logLevel)),s=!0),"string"==typeof e)if("undefined"==typeof fetch){const n=await(0,a.promisify)(r.readFile)(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSession)(n,t)}else{const n=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSessionFinalize)(n,t)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSession)(e,t)}async dispose(){return(0,o.releaseSession)(this.sessionId)}async run(e,t,n){const r=[],a=[];Object.entries(e).forEach((e=>{const t=e[0],n=e[1],i=this.inputNames.indexOf(t);if(-1===i)throw new Error("invalid input '".concat(t,"'"));r.push(n),a.push(i)}));const s=[];Object.entries(t).forEach((e=>{const t=e[0],n=this.outputNames.indexOf(t);if(-1===n)throw new Error("invalid output '".concat(t,"'"));s.push(n)}));const l=await(0,o.run)(this.sessionId,a,r.map((e=>[e.type,e.dims,e.data])),s,n),c={};for(let o=0;o<l.length;o++)c[this.outputNames[s[o]]]=new i.Tensor(l[o][0],l[o][2],l[o][1]);return c}startProfiling(){}endProfiling(){(0,o.endProfiling)(this.sessionId)}}},4919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(7967),i=n(4983),a=n(6361);t.setSessionOptions=e=>{const t=(0,a.getInstance)();let n=0;const o=[],s=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(s);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");const l=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: ".concat(e))}})(s.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(s.executionMode="sequential");const c=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: ".concat(e))}})(s.executionMode);let u=0;if(void 0!==(null==e?void 0:e.logId)&&(u=(0,i.allocWasmString)(e.logId,o)),void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));if(void 0===(null==e?void 0:e.enableProfiling)&&(s.enableProfiling=!1),n=t._OrtCreateSessionOptions(l,!!s.enableCpuMemArena,!!s.enableMemPattern,c,!!s.enableProfiling,0,u,s.logSeverityLevel,s.logVerbosityLevel),0===n)throw new Error("Can't create session options");return(null==e?void 0:e.executionProviders)&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error("not supported EP: ".concat(t))}const o=(0,i.allocWasmString)(t,n);if(0!==(0,a.getInstance)()._OrtAppendExecutionProvider(e,o))throw new Error("Can't append execution provider: ".concat(t))}})(n,e.executionProviders,o),void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const a=(0,i.allocWasmString)(e,o),s=(0,i.allocWasmString)(r,o);if(0!==t._OrtAddSessionConfigEntry(n,a,s))throw new Error("Can't set a session config entry: ".concat(e," - ").concat(r))})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),o.forEach(t._free),e}}},4983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(6361);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),i=n.lengthBytesUTF8(e)+1,a=n._malloc(i);return n.stringToUTF8(e,a,i),t.push(a),a}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(586),i=n(4919),a=n(4983),o=n(6361);t.initOrt=(e,t)=>{const n=(0,o.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error("Can't initialize onnxruntime. error code = ".concat(n))};const s=new Map;t.createSessionAllocate=e=>{const t=(0,o.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,o.getInstance)();let r=0,a=0,l=[];try{if([a,l]=(0,i.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],a),0===r)throw new Error("Can't create a session")}finally{n._free(e[0]),n._OrtReleaseSessionOptions(a),l.forEach(n._free)}const c=n._OrtGetInputCount(r),u=n._OrtGetOutputCount(r),d=[],h=[],p=[],f=[];for(let i=0;i<c;i++){const e=n._OrtGetInputName(r,i);if(0===e)throw new Error("Can't get an input name");h.push(e),d.push(n.UTF8ToString(e))}for(let i=0;i<u;i++){const e=n._OrtGetOutputName(r,i);if(0===e)throw new Error("Can't get an output name");f.push(e),p.push(n.UTF8ToString(e))}return s.set(r,[r,h,f]),[r,d,p]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,o.getInstance)(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],i=n[1],a=n[2];i.forEach(t._OrtFree),a.forEach(t._OrtFree),t._OrtReleaseSession(r),s.delete(e)};const l=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error("unsupported data type: ".concat(e))}},c=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error("unsupported data type: ".concat(e))}},u=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: ".concat(e))}};t.run=(e,t,n,i,d)=>{const h=(0,o.getInstance)(),p=s.get(e);if(!p)throw new Error("invalid session id");const f=p[0],m=p[1],g=p[2],y=t.length,b=i.length;let w=0,v=[];const _=[],x=[];try{[w,v]=(0,r.setRunOptions)(d);for(let t=0;t<y;t++){const e=n[t][0],r=n[t][1],i=n[t][2];let o,s;if(Array.isArray(i)){s=4*i.length,o=h._malloc(s),x.push(o);let e=o/4;for(let t=0;t<i.length;t++){if("string"!=typeof i[t])throw new TypeError("tensor data at index ".concat(t," is not a string"));h.HEAPU32[e++]=(0,a.allocWasmString)(i[t],x)}}else s=i.byteLength,o=h._malloc(s),x.push(o),h.HEAPU8.set(new Uint8Array(i.buffer,i.byteOffset,s),o);const c=h.stackSave(),u=h.stackAlloc(4*r.length);try{let t=u/4;r.forEach((e=>h.HEAP32[t++]=e));const n=h._OrtCreateTensor(l(e),o,s,u,r.length);if(0===n)throw new Error("Can't create a tensor");_.push(n)}finally{h.stackRestore(c)}}const e=h.stackSave(),o=h.stackAlloc(4*y),s=h.stackAlloc(4*y),p=h.stackAlloc(4*b),k=h.stackAlloc(4*b);try{let e=o/4,n=s/4,r=p/4,a=k/4;for(let i=0;i<y;i++)h.HEAPU32[e++]=_[i],h.HEAPU32[n++]=m[t[i]];for(let t=0;t<b;t++)h.HEAPU32[r++]=0,h.HEAPU32[a++]=g[i[t]];let l=h._OrtRun(f,s,o,y,k,b,p,w);const d=[];if(0===l)for(let t=0;t<b;t++){const e=h.HEAPU32[p/4+t],n=h.stackSave(),r=h.stackAlloc(16);let i,a=0;try{if(l=h._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==l)throw new Error("Can't access output tensor data. error code = ".concat(l));let t=r/4;const n=h.HEAPU32[t++];a=h.HEAPU32[t++];const o=h.HEAPU32[t++],s=h.HEAPU32[t++],p=[];for(let e=0;e<s;e++)p.push(h.HEAPU32[o/4+e]);h._OrtFree(o);const f=0===p.length?1:p.reduce(((e,t)=>e*t));if(i=c(n),"string"===i){const e=[];let t=a/4;for(let n=0;n<f;n++){const r=h.HEAPU32[t++],i=n===f-1?void 0:h.HEAPU32[t]-r;e.push(h.UTF8ToString(r,i))}d.push([i,p,e])}else{const e=new(u(i))(f);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(h.HEAPU8.subarray(a,a+e.byteLength)),d.push([i,p,e])}}finally{h.stackRestore(n),"string"===i&&a&&h._free(a),h._OrtReleaseTensor(e)}}if(0===l)return d;throw new Error("failed to call OrtRun(). error code = ".concat(l,"."))}finally{h.stackRestore(e)}}finally{_.forEach(h._OrtReleaseTensor),x.forEach(h._free),h._OrtReleaseRunOptions(w),v.forEach(h._free)}},t.endProfiling=e=>{const t=(0,o.getInstance)(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],i=t._OrtEndProfiling(r);if(0===i)throw new Error("Can't get an profile file name");t._OrtFree(i)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},6361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const s=a(n(6449)),l=o(n(932)),c=n(3474);let u,d=!1,h=!1,p=!1;const f=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(d)return Promise.resolve();if(h)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(p)throw new Error("previous call to 'initializeWebAssembly()' failed.");h=!0;const t=e.initTimeout,r=e.numThreads,i=e.simd,a=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),o=i&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m="string"==typeof e.wasmPaths?e.wasmPaths:void 0,g=f(!1,a),y=f(o,a),b="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let w=!1;const v=[];if(t>0&&v.push(new Promise((e=>{setTimeout((()=>{w=!0,e()}),t)}))),v.push(new Promise(((e,t)=>{const r=a?c:l.default,i={locateFile:(e,t)=>a&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):e===g?null!=b?b:(null!=m?m:t)+y:t+e};if(a)if("undefined"==typeof Blob)i.mainScriptUrlOrBlob=s.join("/","ort-wasm-threaded.js");else{const e="var ortWasmThreaded=(function(){var _scriptDir;return ".concat(r.toString(),"})();");i.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(i).then((t=>{h=!1,d=!0,u=t,e()}),(e=>{h=!1,p=!0,t(e)}))}))),await Promise.race(v),w)throw new Error("WebAssembly backend initializing failed due to timeout: ".concat(t,"ms"))},t.getInstance=()=>{if(d&&u)return u;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!d||h||p||(h=!0,null===(e=u.PThread)||void 0===e||e.terminateAllThreads(),u=void 0,h=!1,d=!1,p=!0)}},9710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(477),i=n.n(r);function a(){return i()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:e=>{"use strict";e.exports=function(e,t,n,r){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var o=i.URL||i.webkitURL,s=o.createObjectURL(a),l=new i[t](s,n);return o.revokeObjectURL(s),l}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}},4154:e=>{"use strict";e.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},1670:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{flatbuffers:()=>r});var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(e,t){this.low=0|e,this.high=0|t},r.Long.create=function(e,t){return 0==e&&0==t?r.Long.ZERO:new r.Long(e,t)},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},r.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(e){if(e)t=e;else var t=1024;this.bb=r.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var i=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},r.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},r.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},r.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},r.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},r.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},r.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},r.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},r.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},r.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},r.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},r.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},r.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},r.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},r.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},r.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},r.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},r.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},r.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},r.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},r.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},r.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,i=r.ByteBuffer.allocate(n);return i.setPosition(n-t),i.bytes().set(e.bytes(),n-t),i},r.Builder.prototype.addOffset=function(e){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-e+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var i=(n+2)*r.SIZEOF_SHORT;this.addInt16(i);var a=0,o=this.space;e:for(t=0;t<this.vtables.length;t++){var s=this.bb.capacity()-this.vtables[t];if(i==this.bb.readInt16(s)){for(var l=r.SIZEOF_SHORT;l<i;l+=r.SIZEOF_SHORT)if(this.bb.readInt16(o+l)!=this.bb.readInt16(s+l))continue e;a=this.vtables[t];break}}return a?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,a-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},r.Builder.prototype.finish=function(e,t,n){var i=n?r.SIZE_PREFIX_LENGTH:0;if(t){var a=t;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+i),a.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var o=r.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(a.charCodeAt(o))}this.prep(this.minalign,r.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},r.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},r.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+t))throw new Error("FlatBuffers: field "+t+" must be set")},r.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(r.SIZEOF_INT,e*t),this.prep(n,e*t)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var r,i=e.charCodeAt(n++);(r=i<55296||i>=56320?i:(i<<10)+e.charCodeAt(n++)+-56613888)<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),n=0;for(var a=this.space,o=this.bb.bytes();n<t.length;n++)o[a++]=t[n];return this.endVector()},r.Builder.prototype.createLong=function(e,t){return r.Long.create(e,t)},r.ByteBuffer=function(e){this.bytes_=e,this.position_=0},r.ByteBuffer.allocate=function(e){return new r.ByteBuffer(new Uint8Array(e))},r.ByteBuffer.prototype.clear=function(){this.position_=0},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(e){this.position_=e},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},r.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},r.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},r.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},r.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},r.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},r.ByteBuffer.prototype.readInt64=function(e){return new r.Long(this.readInt32(e),this.readInt32(e+4))},r.ByteBuffer.prototype.readUint64=function(e){return new r.Long(this.readUint32(e),this.readUint32(e+4))},r.ByteBuffer.prototype.readFloat32=function(e){return r.int32[0]=this.readInt32(e),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(e){return r.int32[r.isLittleEndian?0:1]=this.readInt32(e),r.int32[r.isLittleEndian?1:0]=this.readInt32(e+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},r.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},r.ByteBuffer.prototype.writeFloat32=function(e,t){r.float32[0]=t,this.writeInt32(e,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(e,t){r.float64[0]=t,this.writeInt32(e,r.int32[r.isLittleEndian?0:1]),this.writeInt32(e+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+t));return e},r.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},r.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},r.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),i="",a=0;if(e+=r.SIZEOF_INT,t===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;a<n;){var o,s=this.readUint8(e+a++);if(s<192)o=s;else{var l=this.readUint8(e+a++);if(s<224)o=(31&s)<<6|63&l;else{var c=this.readUint8(e+a++);o=s<240?(15&s)<<12|(63&l)<<6|63&c:(7&s)<<18|(63&l)<<12|(63&c)<<6|63&this.readUint8(e+a++)}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return i},r.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},r.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},r.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+r.SIZEOF_INT+t))return!1;return!0},r.ByteBuffer.prototype.createLong=function(e,t){return r.Long.create(e,t)}}},__webpack_module_cache__={};function __nested_webpack_require_817794__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_817794__),n.exports}__nested_webpack_require_817794__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_817794__.d(t,{a:t}),t},__nested_webpack_require_817794__.d=(e,t)=>{for(var n in t)__nested_webpack_require_817794__.o(t,n)&&!__nested_webpack_require_817794__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_817794__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_817794__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_817794__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_817794__(6018);return __nested_webpack_exports__})(),module.exports=e(__webpack_require__(81))},461:(e,t,n)=>{"use strict";e.exports=n(330)},499:()=>{},579:(e,t,n)=>{"use strict";e.exports=n(153)},603:()=>{},618:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ort.bundle.min.e9b190b6e2b022d973ff.mjs"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var O,B=Object.assign;function L(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var R=!1;function j(e,t){if(!e||R)return"";R=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{R=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function V(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case T:return"Profiler";case D:return"StrictMode";case E:return"Suspense";case F:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){X(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function ae(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,De=null;function Te(e){if(e=wi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function Ae(e){ke?De?De.push(e):De=[e]:ke=e}function Se(){if(ke){var e=ke,t=De;if(De=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Fe=!1;function Me(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Ce(e,t,n)}finally{Fe=!1,(null!==ke||null!==De)&&(Ee(),Se())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(u)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ue){Pe=!1}function Ne(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Be=null,Le=!1,Re=null,je={onError:function(e){Oe=!0,Be=e}};function Ve(e,t,n,r,i,a,o,s,l){Oe=!1,Be=null,Ne.apply(je,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(We(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ue(i),e;if(o===r)return Ue(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,kt,Dt,Tt,At=!1,St=[],Ct=null,Et=null,Ft=null,Mt=new Map,It=new Map,Pt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=bi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Rt(e,t,n){Lt(e)&&n.delete(t)}function jt(){At=!1,null!==Ct&&Lt(Ct)&&(Ct=null),null!==Et&&Lt(Et)&&(Et=null),null!==Ft&&Lt(Ft)&&(Ft=null),Mt.forEach(Rt),It.forEach(Rt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Wt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Et&&Vt(Et,e),null!==Ft&&Vt(Ft,e),Mt.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Pt.shift()}var qt=v.ReactCurrentBatchConfig,Ut=!0;function Ht(e,t,n,r){var i=wt,a=qt.transition;qt.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,qt.transition=a}}function Gt(e,t,n,r){var i=wt,a=qt.transition;qt.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ut){var i=Jt(e,t,n,r);if(null===i)Ur(e,t,r,Yt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ot(Ct,e,t,n,r,i),!0;case"dragenter":return Et=Ot(Et,e,t,n,r,i),!0;case"mouseover":return Ft=Ot(Ft,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Mt.set(a,Ot(Mt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Ot(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<zt.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&_t(a),null===(a=Jt(e,t,n,r))&&Ur(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Yt=null;function Jt(e,t,n,r){if(Yt=null,null!==(e=bi(e=_e(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=B({},cn,{view:0,detail:0}),hn=an(dn),pn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(pn),mn=an(B({},pn,{dataTransfer:0})),gn=an(B({},dn,{relatedTarget:0})),yn=an(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(bn),vn=an(B({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Dn}var An=B({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(An),Cn=an(B({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Fn=an(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=B({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Mn),Pn=[9,13,27,32],zn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var On=u&&"TextEvent"in window&&!Nn,Bn=u&&(!zn||Nn&&8<Nn&&11>=Nn),Ln=String.fromCharCode(32),Rn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ae(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Lr(e,0)}function Jn(e){if(K(vi(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}$n=Qn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Hn(t,Kn,e,_e(e)),Me(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,wr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Dr={};function Tr(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Dr)return kr[e]=n[t];return e}u&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ar=Tr("animationend"),Sr=Tr("animationiteration"),Cr=Tr("animationstart"),Er=Tr("transitionend"),Fr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Fr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Mr.length;Pr++){var zr=Mr[Pr];Ir(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}Ir(Ar,"onAnimationEnd"),Ir(Sr,"onAnimationIteration"),Ir(Cr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var u=Be;Oe=!1,Be=null,Le||(Le=!0,Re=u)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Br(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Br(i,s,c),a=l}}}if(Le)throw e=Re,Le=!1,Re=null,e}function Rr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Zt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=bi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=a,i=_e(n),o=[];e:{var s=Fr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Ar:case Sr:case Cr:l=yn;break;case Er:l=Fn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Ie(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:vi(l),p=null==c?s:vi(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,bi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(o,s,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(s=r?vi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(Un(s))if(Xn)g=or;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?vi(r):window,e){case"focusin":(Un(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,vr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":vr(o,n,i)}var b;if(zn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Wn?jn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Wn&&(b=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Wn=!0)),0<(y=Gr(r,w)).length&&(w=new vn(w,e,null,n,i),o.push({event:w,listeners:y}),b?w.data=b:null!==(b=Vn(n))&&(w.data=b))),(b=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Rn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!zn&&jn(e,t)?(e=en(),Qt=$t=Xt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=b))}Lr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ie(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ie(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ie(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Ie(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Zr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[pi]||null}var xi=[],ki=-1;function Di(e){return{current:e}}function Ti(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function Ai(e,t){ki++,xi[ki]=e.current,e.current=t}var Si={},Ci=Di(Si),Ei=Di(!1),Fi=Si;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(Ei),Ti(Ci)}function zi(e,t,n){if(Ci.current!==Si)throw Error(a(168));Ai(Ci,t),Ai(Ei,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return B({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Fi=Ci.current,Ai(Ci,e),Ai(Ei,Ei.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ei),Ti(Ci),Ai(Ci,e)):Ti(Ei),Ai(Ei,n)}var Li=null,Ri=!1,ji=!1;function Vi(e){null===Li?Li=[e]:Li.push(e)}function Wi(){if(!ji&&null!==Li){ji=!0;var e=0,t=wt;try{var n=Li;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Ri=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ke(Qe,Wi),i}finally{wt=t,ji=!1}}return null}var qi=[],Ui=0,Hi=null,Gi=0,Ki=[],Yi=0,Ji=null,Zi=1,Xi="";function $i(e,t){qi[Ui++]=Gi,qi[Ui++]=Hi,Hi=e,Gi=t}function Qi(e,t,n){Ki[Yi++]=Zi,Ki[Yi++]=Xi,Ki[Yi++]=Ji,Ji=e;var r=Zi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Zi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&($i(e,1),Qi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Ui],qi[Ui]=null,Gi=qi[--Ui],qi[Ui]=null;for(;e===Ji;)Ji=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null,Zi=Ki[--Yi],Ki[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Zi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function pa(){ra=na=null,ia=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=v.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&ba(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=zc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=zc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case x:return(t=Lc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case I:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:d(e,t,n,r,null);ya(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);ya(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),ia&&$i(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&$i(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&$i(i,m),c}function g(i,s,l,c){var u=N(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=p(i,m,b.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),s=o(w,s,g),null===d?u=w:d.sibling=w,d=w,m=y}if(b.done)return n(i,m),ia&&$i(i,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(i,b.value,c))&&(s=o(b,s,g),null===d?u=b:d.sibling=b,d=b);return ia&&$i(i,g),u}for(m=r(i,m);!b.done;g++,b=l.next())null!==(b=f(m,i,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(i,e)})),ia&&$i(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&ba(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=ga(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((a=Nc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=zc(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return s(r);case x:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Lc(o,r.mode,l)).return=r,r=a}return s(r);case I:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(N(o))return g(r,a,o,l);ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Bc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var va=wa(!0),_a=wa(!1),xa=Di(null),ka=null,Da=null,Ta=null;function Aa(){Ta=Da=ka=null}function Sa(e){var t=xa.current;Ti(xa),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ka=e,Ta=Da=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Fa(e){var t=e._currentValue;if(Ta!==e)if(e={context:e,memoizedValue:t,next:null},null===Da){if(null===ka)throw Error(a(308));Da=e,ka.dependencies={lanes:0,firstContext:e}}else Da=Da.next=e;return t}var Ma=null;function Ia(e){null===Ma?Ma=[e]:Ma.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,za(e,r)}function za(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,za(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,za(e,n)}function ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=B({},d,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=d}}function qa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua={},Ha=Di(Ua),Ga=Di(Ua),Ka=Di(Ua);function Ya(e){if(e===Ua)throw Error(a(174));return e}function Ja(e,t){switch(Ai(Ka,t),Ai(Ga,e),Ai(Ha,Ua),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ha),Ai(Ha,t)}function Za(){Ti(Ha),Ti(Ga),Ti(Ka)}function Xa(e){Ya(Ka.current);var t=Ya(Ha.current),n=le(t,e.type);t!==n&&(Ai(Ga,e),Ai(Ha,n))}function $a(e){Ga.current===e&&(Ti(Ha),Ti(Ga))}var Qa=Di(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=v.ReactCurrentDispatcher,io=v.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Qo:es,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(uo)}if(ro.current=$o,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function vo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ol|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function Do(e,t){var n=oo,r=wo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Oo(So.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Mo(9,Ao.bind(null,n,r,i,t),void 0,null),null===El)throw Error(a(349));0!==(30&ao)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Eo(e)}function So(e,t,n){return n((function(){Co(t)&&Eo(e)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Eo(e){var t=za(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return wo().memoizedState}function Po(e,t,n,r){var i=bo();oo.flags|=e,i.memoizedState=Mo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=wo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Mo(t,n,a,r))}oo.flags|=e,i.memoizedState=Mo(1|t,n,a,r)}function No(e,t){return Po(8390656,8,e,t)}function Oo(e,t){return zo(2048,8,e,t)}function Bo(e,t){return zo(4,2,e,t)}function Lo(e,t){return zo(4,4,e,t)}function Ro(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ro.bind(null,t,e),n)}function Vo(){}function Wo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Ol|=n,e.baseState=!0),t)}function Ho(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function Go(){return wo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Zo(t,n);else if(null!==(n=Pa(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Yo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ia(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Pa(e,t,i,r))&&(nc(n,e,r,i=ec()),Xo(n,t,r))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Zo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var $o={readContext:Fa,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Qo={readContext:Fa,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Fa,useEffect:No,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Ro.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Fo,useDebugValue:Vo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Ho.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=bo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===El)throw Error(a(349));0!==(30&ao)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,No(So.bind(null,r,o,e),[e]),r.flags|=2048,Mo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=El.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Zi&~(1<<32-ot(Zi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Fa,useCallback:Wo,useContext:Fa,useEffect:Oo,useImperativeHandle:jo,useInsertionEffect:Bo,useLayoutEffect:Lo,useMemo:qo,useReducer:_o,useRef:Io,useState:function(){return _o(vo)},useDebugValue:Vo,useDeferredValue:function(e){return Uo(wo(),so.memoizedState,e)},useTransition:function(){return[_o(vo)[0],wo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Do,useId:Go,unstable_isNewReconciler:!1},ts={readContext:Fa,useCallback:Wo,useContext:Fa,useEffect:Oo,useImperativeHandle:jo,useInsertionEffect:Bo,useLayoutEffect:Lo,useMemo:qo,useReducer:xo,useRef:Io,useState:function(){return xo(vo)},useDebugValue:Vo,useDeferredValue:function(e){var t=wo();return null===so?t.memoizedState=e:Uo(t,so.memoizedState,e)},useTransition:function(){return[xo(vo)[0],wo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Do,useId:Go,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),ja(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Fa(a):(i=Ii(t)?Fi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Fa(a):(a=Ii(t)?Fi:Ci.current,i.context=Mi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Wa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ul||(Ul=!0,Hl=r),ds(0,t)},n}function fs(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=v.ReactCurrentOwner,ws=!1;function vs(e,t,n,r){t.child=null===e?_a(t,null,n,r):va(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=go(e,t,n,r,a,i),n=yo(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,vs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ic(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Us(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Us(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return As(e,t,n,r,i)}function Ds(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Pl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Pl,Il),Il|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Pl,Il),Il|=r;return vs(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var a=Ii(n)?Fi:Ci.current;return a=Mi(t,a),Ea(t,i),n=go(e,t,n,r,a,i),r=yo(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,vs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function Ss(e,t,n,r,i){if(Ii(n)){var a=!0;Oi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qs(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fa(c):c=Mi(t,c=Ii(n)?Fi:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Wa(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Ei.current||Na?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Na||as(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ba(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fa(l):l=Mi(t,l=Ii(n)?Fi:Ci.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Na=!1,h=t.memoizedState,o.state=h,Wa(t,r,o,i);var f=t.memoizedState;s!==d||h!==f||Ei.current||Na?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(c=Na||as(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Bi(t,n,!1),Us(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=va(t,e.child,null,a),t.child=va(t,null,s,a)):vs(e,t,s,a),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?zi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(0,t.context,!1),Ja(e,t.containerInfo)}function Fs(e,t,n,r,i){return pa(),fa(i),t.flags|=256,vs(e,t,n,r),t.child}var Ms,Is,Ps,zs,Ns={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,o=Qa.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(Qa,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Oc(l,i,0,null),e=Nc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Ns,e):Ls(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Rs(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(o=Nc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&va(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Ns,o);if(0===(1&t.mode))return Rs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Rs(e,t,s,r=us(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=El)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,za(e,i),nc(r,e,i,-1))}return mc(),Rs(e,t,s,r=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Yi++]=Zi,Ki[Yi++]=Xi,Ki[Yi++]=Ji,Zi=e.id,Xi=e.overflow,Ji=t),t=Ls(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Nc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ls(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Rs(e,t,n,r){return null!==r&&fa(r),va(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(vs(e,t,r.children,n),0!==(2&(r=Qa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(Qa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ii(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,Za(),Ti(Ei),Ti(Ci),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Is(e,t),Gs(t),null;case 5:$a(t);var i=Ya(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=Ya(Ha.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Rr(Nr[i],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":Z(r,o),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Rr("invalid",r);break;case"textarea":ie(r,o),Rr("invalid",r)}for(var l in be(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Rr("scroll",r)}switch(n){case"input":G(r),Q(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),i=r;break;case"iframe":case"object":case"embed":Rr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Rr(Nr[i],e);i=r;break;case"source":Rr("error",e),i=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),i=r;break;case"details":Rr("toggle",e),i=r;break;case"input":Z(e,r),i=J(e,r),Rr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Rr("invalid",e)}for(o in be(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Rr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":G(e),Q(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)zs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Ka.current),Ya(Ha.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ti(Qa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qa.current)?0===zl&&(zl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Za(),Is(e,t),null===e&&Wr(t.stateNode.containerInfo),Gs(t),null;case 10:return Sa(t.type._context),Gs(t),null;case 19:if(Ti(Qa),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Hs(o,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(Qa,1&Qa.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Wl&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Qa.current,Ai(Qa,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Za(),Ti(Ei),Ti(Ci),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(Ti(Qa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Qa),null;case 4:return Za(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Ha.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Rr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},zs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Zs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Dc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Dc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||Qs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Wt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Zs&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Dc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));pl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Dc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Dc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Dc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Dc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),we(l,s);var u=we(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){Dc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Dc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Dc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(u=Zs)||d,ml(t,e),Zs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(f=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Dc(r,n,g)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==f?(f.return=p,$s=f):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Dc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Dc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Dc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){$s=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Js;var c=Zs;if(Js=o,(Zs=l)&&!c)for($s=i;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,$s=l):xl(i);for(;null!==a;)$s=a,wl(a,t,n),a=a.sibling;$s=i,Js=s,Zs=c}vl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):vl(e)}}function vl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&il(t)}catch(p){Dc(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function _l(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function xl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Dc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Dc(t,i,l)}}var a=t.return;try{il(t)}catch(l){Dc(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Dc(t,o,l)}}}catch(l){Dc(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var kl,Dl=Math.ceil,Tl=v.ReactCurrentDispatcher,Al=v.ReactCurrentOwner,Sl=v.ReactCurrentBatchConfig,Cl=0,El=null,Fl=null,Ml=0,Il=0,Pl=Di(0),zl=0,Nl=null,Ol=0,Bl=0,Ll=0,Rl=null,jl=null,Vl=0,Wl=1/0,ql=null,Ul=!1,Hl=null,Gl=null,Kl=!1,Yl=null,Jl=0,Zl=0,Xl=null,$l=-1,Ql=0;function ec(){return 0!==(6&Cl)?Xe():-1!==$l?$l:$l=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ml?Ml&-Ml:null!==ma.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,r){if(50<Zl)throw Zl=0,Xl=null,Error(a(185));yt(e,n,r),0!==(2&Cl)&&e===El||(e===El&&(0===(2&Cl)&&(Bl|=n),4===zl&&sc(e,Ml)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Wl=Xe()+500,Ri&&Wi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===El?Ml:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ri=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),oi((function(){0===(6&Cl)&&Wi()})),n=null;else{switch(vt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Ql=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===El?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var o=fc();for(El===e&&Ml===t||(ql=null,Wl=Xe()+500,hc(e,t));;)try{bc();break}catch(l){pc(e,l)}Aa(),Tl.current=o,Cl=i,null!==Fl?t=0:(El=null,Ml=0,t=zl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t)throw n=Nl,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=ac(e,o))),1===t))throw n=Nl,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,jl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,jl,ql),t);break}_c(e,jl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,jl,ql),r);break}_c(e,jl,ql);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Rl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=jl,jl=n,null!==t&&oc(t)),e}function oc(e){null===jl?jl=e:jl.push.apply(jl,e)}function sc(e,t){for(t&=~Ll,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Nl,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,jl,ql),rc(e,Xe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Wl=Xe()+500,Ri&&Wi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&xc();var t=Cl;Cl|=1;var n=Sl.transition,r=wt;try{if(Sl.transition=null,wt=1,e)return e()}finally{wt=r,Sl.transition=n,0===(6&(Cl=t))&&Wi()}}function dc(){Il=Pl.current,Ti(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Za(),Ti(Ei),Ti(Ci),no();break;case 5:$a(r);break;case 4:Za();break;case 13:case 19:Ti(Qa);break;case 10:Sa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Fl=e=Pc(e.current,null),Ml=Il=t,zl=0,Nl=null,Ll=Bl=Ol=0,jl=Rl=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(r=(n=Ma[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ma=null}return e}function pc(e,t){for(;;){var n=Fl;try{if(Aa(),ro.current=$o,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,Al.current=null,null===n||null===n.return){zl=1,Nl=t,Fl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&ms(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),fa(cs(c,l));break e}}o=c=cs(c,l),4!==zl&&(zl=2),null===Rl?Rl=[o]:Rl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Va(o,ps(0,c,t));break e;case 1:l=c;var b=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Va(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}vc(n)}catch(v){t=v,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function fc(){var e=Tl.current;return Tl.current=$o,null===e?$o:e}function mc(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===El||0===(268435455&Ol)&&0===(268435455&Bl)||sc(El,Ml)}function gc(e,t){var n=Cl;Cl|=2;var r=fc();for(El===e&&Ml===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Aa(),Cl=n,Tl.current=r,null!==Fl)throw Error(a(261));return El=null,Ml=0,zl}function yc(){for(;null!==Fl;)wc(Fl)}function bc(){for(;null!==Fl&&!Je();)wc(Fl)}function wc(e){var t=kl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?vc(e):Fl=t,Al.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Il)))return void(Fl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return zl=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===zl&&(zl=5)}function _c(e,t,n){var r=wt,i=Sl.transition;try{Sl.transition=null,wt=1,function(e,t,n,r){do{xc()}while(null!==Yl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===El&&(Fl=El=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ec(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Sl.transition,Sl.transition=null;var s=wt;wt=1;var l=Cl;Cl|=4,Al.current=null,function(e,t){if(ei=Ut,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===o&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(_){Dc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Ut=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ze(),Cl=l,wt=s,Sl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Jl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Zl++:(Zl=0,Xl=e):Zl=0,Wi()}(e,t,n,r)}finally{Sl.transition=i,wt=r}return null}function xc(){if(null!==Yl){var e=vt(Jl),t=Sl.transition,n=wt;try{if(Sl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Cl))throw Error(a(331));var i=Cl;for(Cl|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($s=u;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var p=(d=$s).sibling,f=d.return;if(al(d),d===u){$s=null;break}if(null!==p){p.return=f,$s=p;break}$s=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,$s=b;break e}$s=o.return}}var w=e.current;for($s=w;null!==$s;){var v=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==v)v.return=s,$s=v;else e:for(s=w;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Dc(l,l.return,x)}if(l===s){$s=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$s=_;break e}$s=l.return}}if(Cl=i,Wi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{wt=n,Sl.transition=t}}return!1}function kc(e,t,n){e=Ra(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Dc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ra(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Ml&n)===n&&(4===zl||3===zl&&(130023424&Ml)===Ml&&500>Xe()-Vl?hc(e,0):Ll|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=za(e,t))&&(yt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ac(e,n)}function Ec(e,t){return Ke(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Fc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Nc(n.children,i,o,t);case D:s=8,i|=8;break;case T:return(e=Mc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case E:return(e=Mc(13,n,t,i)).elementType=E,e.lanes=o,e;case F:return(e=Mc(19,n,t,i)).elementType=F,e.lanes=o,e;case P:return Oc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case S:s=9;break e;case C:s=11;break e;case M:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Nc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,s,l){return e=new Rc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Vc(e){if(!e)return Si;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ni(e,n,t)}return t}function Wc(e,t,n,r,i,a,o,s,l){return(e=jc(n,r,!0,e,0,a,0,s,l)).context=Vc(null),n=e.current,(a=La(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),ja(e,i,o)),o}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Es(t),pa();break;case 5:Xa(t);break;case 1:Ii(t.type)&&Oi(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(xa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(Qa,1&Qa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Ai(Qa,1&Qa.current),null!==(e=Us(e,t,n))?e.sibling:null);Ai(Qa,1&Qa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(Qa,Qa.current),r)break;return null;case 22:case 23:return t.lanes=0,Ds(e,t,n)}return Us(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Qi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Mi(t,Ci.current);Ea(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),vs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===M)return 14}return 2}(r),e=ns(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Es(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ba(e,t),Wa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Fs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Us(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),vs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Bs(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=va(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ai(xa,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ei.current){t=Us(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=La(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ca(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ca(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}vs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Fa(i)),t.flags|=1,vs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),xs(e,t,r,i=ns(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Ii(r)?(e=!0,Oi(t)):e=!1,Ea(t,n),os(t,r,i),ls(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ds(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Uc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Uc(o);a.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[fi]=o.current,Wr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Uc(l);s.call(e)}}var l=jc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fi]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Uc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[fi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Bt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Xe()),0===(6&Cl)&&(Wl=Xe()+500,Wi()))}break;case 13:uc((function(){var t=za(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=za(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=za(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Dt=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));K(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[wi,vi,_i,Ae,Se,cc]},tu={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(a(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,o,s),e[fi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},806:()=>{},812:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(o,{SYMBOL_FOR_REQ_CONTEXT:()=>s,getContext:()=>l}),e.exports=(t=o,((e,t,o,s)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of i(t))a.call(e,l)||l===o||n(e,l,{get:()=>t[l],enumerable:!(s=r(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),t));const s=Symbol.for("@vercel/request-context");function l(){var e,t,n;return null!==(e=null===(t=globalThis[s])||void 0===t||null===(n=t.get)||void 0===n?void 0:n.call(t))&&void 0!==e?e:{}}},837:()=>{},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,__webpack_require__.d(i,a),i}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/llm-consistency-vis/",__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{InferenceSession:()=>E,TRACE:()=>D,TRACE_FUNC_BEGIN:()=>A,TRACE_FUNC_END:()=>S,Tensor:()=>k,env:()=>y,registerBackend:()=>p});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{InferenceSession:()=>se,TRACE:()=>ne,TRACE_FUNC_BEGIN:()=>ie,TRACE_FUNC_END:()=>ae,Tensor:()=>te,default:()=>Hd,env:()=>R,registerBackend:()=>P});var n=__webpack_require__(43),r=__webpack_require__.t(n,2),i=__webpack_require__(391);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=new Map,h=[],p=(e,t,n)=>{if(!t||"function"!==typeof t.init||"function"!==typeof t.createInferenceSessionHandler)throw new TypeError("not a valid backend");{const r=d.get(e);if(void 0===r)d.set(e,{backend:t,priority:n});else{if(r.priority>n)return;if(r.priority===n&&r.backend!==t)throw new Error('cannot register backend "'.concat(e,'" using priority ').concat(n))}if(n>=0){const t=h.indexOf(e);-1!==t&&h.splice(t,1);for(let r=0;r<h.length;r++)if(d.get(h[r]).priority<=n)return void h.splice(r,0,e);h.push(e)}}},f=async e=>{const t=d.get(e);if(!t)return"backend not found.";if(t.initialized)return t.backend;if(t.aborted)return t.error;{const n=!!t.initPromise;try{return n||(t.initPromise=t.backend.init(e)),await t.initPromise,t.initialized=!0,t.backend}catch(F){return n||(t.error="".concat(F),t.aborted=!0),t.error}finally{delete t.initPromise}}};let m="warning";const g={wasm:{},webgl:{},webgpu:{},versions:{common:"1.21.0"},set logLevel(e){if(void 0!==e){if("string"!==typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: ".concat(e));m=e}},get logLevel(){return m}};Object.defineProperty(g,"logLevel",{enumerable:!0});const y=g,b=(e,t)=>{var n;if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");const{height:r,width:i}=t,a=null!==(n=t.norm)&&void 0!==n?n:{mean:255,bias:0};let o,s;var l,c;"number"===typeof a.mean?o=[a.mean,a.mean,a.mean,a.mean]:o=[a.mean[0],a.mean[1],a.mean[2],null!==(l=a.mean[3])&&void 0!==l?l:255];"number"===typeof a.bias?s=[a.bias,a.bias,a.bias,a.bias]:s=[a.bias[0],a.bias[1],a.bias[2],null!==(c=a.bias[3])&&void 0!==c?c:0];const u=void 0!==t.format?t.format:"RGBA",d=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",h=r*i,p="RGBA"===d?new Float32Array(4*h):new Float32Array(3*h);let f=4,m=0,g=1,y=2,b=3,w=0,v=h,_=2*h,k=-1;"RGB"===u&&(f=3,m=0,g=1,y=2,b=-1),"RGBA"===d?k=3*h:"RBG"===d?(w=0,_=h,v=2*h):"BGR"===d&&(_=0,v=h,w=2*h);for(let x=0;x<h;x++,m+=f,y+=f,g+=f,b+=f)p[w++]=(e[m]+s[0])/o[0],p[v++]=(e[g]+s[1])/o[1],p[_++]=(e[y]+s[2])/o[2],-1!==k&&-1!==b&&(p[k++]=(e[b]+s[3])/o[3]);return new x("float32",p,"RGBA"===d?[1,4,r,i]:[1,3,r,i])},w=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),v=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let _=!1;class x{constructor(e,t,n){let r,i;if((()=>{if(!_){_=!0;const e="undefined"!==typeof BigInt64Array&&BigInt64Array.from,t="undefined"!==typeof BigUint64Array&&BigUint64Array.from,n=globalThis.Float16Array,r="undefined"!==typeof n&&n.from;e&&(w.set("int64",BigInt64Array),v.set(BigInt64Array,"int64")),t&&(w.set("uint64",BigUint64Array),v.set(BigUint64Array,"uint64")),r?(w.set("float16",n),v.set(n,"float16")):w.set("float16",Uint16Array)}})(),"object"===typeof e&&"location"in e)switch(this.dataLocation=e.location,r=e.type,i=e.dims,e.location){case"cpu-pinned":{const t=w.get(r);if(!t)throw new TypeError('unsupported type "'.concat(r,'" to create tensor from pinned buffer'));if(!(e.data instanceof t))throw new TypeError("buffer should be of type ".concat(t.name));this.cpuData=e.data;break}case"texture":if("float32"!==r)throw new TypeError('unsupported type "'.concat(r,'" to create tensor from texture'));this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break;case"gpu-buffer":if("float32"!==r&&"float16"!==r&&"int32"!==r&&"int64"!==r&&"uint32"!==r&&"uint8"!==r&&"bool"!==r&&"uint4"!==r&&"int4"!==r)throw new TypeError('unsupported type "'.concat(r,'" to create tensor from gpu buffer'));this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break;case"ml-tensor":if("float32"!==r&&"float16"!==r&&"int32"!==r&&"int64"!==r&&"uint32"!==r&&"uint64"!==r&&"int8"!==r&&"uint8"!==r&&"bool"!==r&&"uint4"!==r&&"int4"!==r)throw new TypeError('unsupported type "'.concat(r,'" to create tensor from MLTensor'));this.mlTensorData=e.mlTensor,this.downloader=e.download,this.disposer=e.dispose;break;default:throw new Error("Tensor constructor: unsupported location '".concat(this.dataLocation,"'"))}else{let a,o;if("string"===typeof e)if(r=e,o=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");a=t}else{const n=w.get(e);if(void 0===n)throw new TypeError("Unsupported tensor type: ".concat(e,"."));if(Array.isArray(t)){if("float16"===e&&n===Uint16Array||"uint4"===e||"int4"===e)throw new TypeError("Creating a ".concat(e," tensor from number array is not supported. Please use ").concat(n.name," as data."));a="uint64"===e||"int64"===e?n.from(t,BigInt):n.from(t)}else if(t instanceof n)a=t;else if(t instanceof Uint8ClampedArray){if("uint8"!==e)throw new TypeError("A Uint8ClampedArray tensor's data must be type of uint8");a=Uint8Array.from(t)}else{if(!("float16"===e&&t instanceof Uint16Array&&n!==Uint16Array))throw new TypeError("A ".concat(r," tensor's data must be type of ").concat(n));a=new globalThis.Float16Array(t.buffer,t.byteOffset,t.length)}}else if(o=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)r="string",a=e;else{if("boolean"!==t)throw new TypeError("Invalid element type of data array: ".concat(t,"."));r="bool",a=Uint8Array.from(e)}}else if(e instanceof Uint8ClampedArray)r="uint8",a=Uint8Array.from(e);else{const t=v.get(e.constructor);if(void 0===t)throw new TypeError("Unsupported type for tensor data: ".concat(e.constructor,"."));r=t,a=e}if(void 0===o)o=[a.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");i=o,this.cpuData=a,this.dataLocation="cpu"}const a=(e=>{let t=1;for(let n=0;n<e.length;n++){const r=e[n];if("number"!==typeof r||!Number.isSafeInteger(r))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(r));if(r<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(r));t*=r}return t})(i);if(this.cpuData&&a!==this.cpuData.length&&("uint4"!==r&&"int4"!==r||Math.ceil(a/2)!==this.cpuData.length))throw new Error("Tensor's size(".concat(a,") does not match data length(").concat(this.cpuData.length,")."));this.type=r,this.dims=i,this.size=a}static async fromImage(e,t){return(async(e,t)=>{const n="undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement,r="undefined"!==typeof ImageData&&e instanceof ImageData,i="undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap,a="string"===typeof e;let o,s=null!==t&&void 0!==t?t:{};const l=()=>{if("undefined"!==typeof document)return document.createElement("canvas");if("undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},c=e=>"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas?e.getContext("2d"):null;if(n){const n=l();n.width=e.width,n.height=e.height;const r=c(n);if(null==r)throw new Error("Can not access image data");{let n=e.height,i=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(n=t.resizedHeight,i=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=n,s.width=i}else s.tensorFormat="RGBA",s.height=n,s.width=i;r.drawImage(e,0,0),o=r.getImageData(0,0,i,n).data}}else{if(!r){if(i){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");const n=l();n.width=e.width,n.height=e.height;const r=c(n);if(null!=r){const t=e.height,n=e.width;return r.drawImage(e,0,0,n,t),o=r.getImageData(0,0,n,t).data,s.height=t,s.width=n,b(o,s)}throw new Error("Can not access image data")}if(a)return new Promise(((t,n)=>{const r=l(),i=c(r);if(!e||!i)return n();const a=new Image;a.crossOrigin="Anonymous",a.src=e,a.onload=()=>{r.width=a.width,r.height=a.height,i.drawImage(a,0,0,r.width,r.height);const e=i.getImageData(0,0,r.width,r.height);s.height=r.height,s.width=r.width,t(b(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{let n,r;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(n=t.resizedHeight,r=t.resizedWidth):(n=e.height,r=e.width),void 0!==t&&(s=t),s.format="RGBA",s.height=n,s.width=r,void 0!==t){const t=l();t.width=r,t.height=n;const i=c(t);if(null==i)throw new Error("Can not access image data");i.putImageData(e,0,0),o=i.getImageData(0,0,r,n).data}else o=e.data}}if(void 0!==o)return b(o,s);throw new Error("Input data provided is not supported - aborted tensor creation")})(e,t)}static fromTexture(e,t){return((e,t)=>{const{width:n,height:r,download:i,dispose:a}=t;return new x({location:"texture",type:"float32",texture:e,dims:[1,r,n,4],download:i,dispose:a})})(e,t)}static fromGpuBuffer(e,t){return((e,t)=>{const{dataType:n,dims:r,download:i,dispose:a}=t;return new x({location:"gpu-buffer",type:null!==n&&void 0!==n?n:"float32",gpuBuffer:e,dims:r,download:i,dispose:a})})(e,t)}static fromMLTensor(e,t){return((e,t)=>{const{dataType:n,dims:r,download:i,dispose:a}=t;return new x({location:"ml-tensor",type:null!==n&&void 0!==n?n:"float32",mlTensor:e,dims:r,download:i,dispose:a})})(e,t)}static fromPinnedBuffer(e,t,n){return((e,t,n)=>new x({location:"cpu-pinned",type:e,data:t,dims:null!==n&&void 0!==n?n:[t.length]}))(e,t,n)}toDataURL(e){return((e,t)=>{const n="undefined"!==typeof document?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=e.dims[3],n.height=e.dims[2];const r=n.getContext("2d");if(null!=r){let i,a;void 0!==(null===t||void 0===t?void 0:t.tensorLayout)&&"NHWC"===t.tensorLayout?(i=e.dims[2],a=e.dims[3]):(i=e.dims[3],a=e.dims[2]);const o=void 0!==(null===t||void 0===t?void 0:t.format)?t.format:"RGB",s=null===t||void 0===t?void 0:t.norm;let l,c;void 0===s||void 0===s.mean?l=[255,255,255,255]:"number"===typeof s.mean?l=[s.mean,s.mean,s.mean,s.mean]:(l=[s.mean[0],s.mean[1],s.mean[2],0],void 0!==s.mean[3]&&(l[3]=s.mean[3])),void 0===s||void 0===s.bias?c=[0,0,0,0]:"number"===typeof s.bias?c=[s.bias,s.bias,s.bias,s.bias]:(c=[s.bias[0],s.bias[1],s.bias[2],0],void 0!==s.bias[3]&&(c[3]=s.bias[3]));const u=a*i;let d=0,h=u,p=2*u,f=-1;"RGBA"===o?(d=0,h=u,p=2*u,f=3*u):"RGB"===o?(d=0,h=u,p=2*u):"RBG"===o&&(d=0,p=u,h=2*u);for(let t=0;t<a;t++)for(let n=0;n<i;n++){const i=(e.data[d++]-c[0])*l[0],a=(e.data[h++]-c[1])*l[1],o=(e.data[p++]-c[2])*l[2],s=-1===f?255:(e.data[f++]-c[3])*l[3];r.fillStyle="rgba("+i+","+a+","+o+","+s+")",r.fillRect(n,t,1,1)}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported")}throw new Error("Can not access image data")})(this,e)}toImageData(e){return((e,t)=>{const n="undefined"!==typeof document?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d");let r;if(null==n)throw new Error("Can not access image data");{let i,a,o;void 0!==(null===t||void 0===t?void 0:t.tensorLayout)&&"NHWC"===t.tensorLayout?(i=e.dims[2],a=e.dims[1],o=e.dims[3]):(i=e.dims[3],a=e.dims[2],o=e.dims[1]);const s=void 0!==t&&void 0!==t.format?t.format:"RGB",l=null===t||void 0===t?void 0:t.norm;let c,u;void 0===l||void 0===l.mean?c=[255,255,255,255]:"number"===typeof l.mean?c=[l.mean,l.mean,l.mean,l.mean]:(c=[l.mean[0],l.mean[1],l.mean[2],255],void 0!==l.mean[3]&&(c[3]=l.mean[3])),void 0===l||void 0===l.bias?u=[0,0,0,0]:"number"===typeof l.bias?u=[l.bias,l.bias,l.bias,l.bias]:(u=[l.bias[0],l.bias[1],l.bias[2],0],void 0!==l.bias[3]&&(u[3]=l.bias[3]));const d=a*i;if(void 0!==t&&(void 0!==t.format&&4===o&&"RGBA"!==t.format||3===o&&"RGB"!==t.format&&"BGR"!==t.format))throw new Error("Tensor format doesn't match input tensor dims");const h=4;let p=0,f=1,m=2,g=3,y=0,b=d,w=2*d,v=-1;"RGBA"===s?(y=0,b=d,w=2*d,v=3*d):"RGB"===s?(y=0,b=d,w=2*d):"RBG"===s&&(y=0,w=d,b=2*d),r=n.createImageData(i,a);for(let t=0;t<a*i;p+=h,f+=h,m+=h,g+=h,t++)r.data[p]=(e.data[y++]-u[0])*c[0],r.data[f]=(e.data[b++]-u[1])*c[1],r.data[m]=(e.data[w++]-u[2])*c[2],r.data[g]=-1===v?255:(e.data[v++]-u[3])*c[3]}return r})(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw new Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;const t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}default:throw new Error("cannot get data from location: ".concat(this.dataLocation))}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if("none"===this.dataLocation)throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return((e,t)=>{switch(e.location){case"cpu":return new x(e.type,e.data,t);case"cpu-pinned":return new x({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new x({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new x({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});case"ml-tensor":return new x({location:"ml-tensor",mlTensor:e.mlTensor,type:e.type,dims:t});default:throw new Error("tensorReshape: tensor location ".concat(e.location," is not supported"))}})(this,e)}}const k=x,D=(e,t)=>{("undefined"===typeof g.trace?g.wasm.trace:g.trace)&&console.timeStamp("".concat(e,"::ORT::").concat(t))},T=(e,t)=>{var n;const r=(null===(n=(new Error).stack)||void 0===n?void 0:n.split(/\r\n|\r|\n/g))||[];let i=!1;for(let a=0;a<r.length;a++){if(i&&!r[a].includes("TRACE_FUNC")){let n="FUNC_".concat(e,"::").concat(r[a].trim().split(" ")[1]);return t&&(n+="::".concat(t)),void D("CPU",n)}r[a].includes("TRACE_FUNC")&&(i=!0)}},A=e=>{("undefined"===typeof g.trace?g.wasm.trace:g.trace)&&T("BEGIN",e)},S=e=>{("undefined"===typeof g.trace?g.wasm.trace:g.trace)&&T("END",e)};class C{constructor(e){this.handler=e}async run(e,t,n){A();const r={};let i={};if("object"!==typeof e||null===e||e instanceof k||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let a=!0;if("object"===typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof k)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");a=!1;for(const e of t){if("string"!==typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError("'fetches' contains invalid output name: ".concat(e,"."));r[e]=null}if("object"===typeof n&&null!==n)i=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else{let e=!1;const o=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==o.indexOf(n)){const i=t[n];(null===i||i instanceof k)&&(e=!0,a=!1,r[n]=i)}if(e){if("object"===typeof n&&null!==n)i=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else i=t}}else if("undefined"!==typeof t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const l of this.inputNames)if("undefined"===typeof e[l])throw new Error("input '".concat(l,"' is missing in 'feeds'."));if(a)for(const l of this.outputNames)r[l]=null;const o=await this.handler.run(e,r,i),s={};for(const l in o)if(Object.hasOwnProperty.call(o,l)){const e=o[l];s[l]=e instanceof k?e:new k(e.type,e.data,e.dims)}return S(),s}async release(){return this.handler.dispose()}static async create(e,t,n,r){let i;A();let a={};if("string"===typeof e){if(i=e,"object"===typeof t&&null!==t)a=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(i=e,"object"===typeof t&&null!==t)a=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const o=e;let s=0,l=e.byteLength;if("object"===typeof t&&null!==t)a=t;else if("number"===typeof t){if(s=t,!Number.isSafeInteger(s))throw new RangeError("'byteOffset' must be an integer.");if(s<0||s>=o.byteLength)throw new RangeError("'byteOffset' is out of range [0, ".concat(o.byteLength,")."));if(l=e.byteLength-s,"number"===typeof n){if(l=n,!Number.isSafeInteger(l))throw new RangeError("'byteLength' must be an integer.");if(l<=0||s+l>o.byteLength)throw new RangeError("'byteLength' is out of range (0, ".concat(o.byteLength-s,"]."));if("object"===typeof r&&null!==r)a=r;else if("undefined"!==typeof r)throw new TypeError("'options' must be an object.")}else if("undefined"!==typeof n)throw new TypeError("'byteLength' must be a number.")}else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.");i=new Uint8Array(o,s,l)}}const[o,s]=await(async e=>{const t=e.executionProviders||[],n=t.map((e=>"string"===typeof e?e:e.name)),r=0===n.length?h:n;let i;const a=[],o=new Set;for(const l of r){const e=await f(l);"string"===typeof e?a.push({name:l,err:e}):(i||(i=e),i===e&&o.add(l))}if(!i)throw new Error("no available backend found. ERR: ".concat(a.map((e=>"[".concat(e.name,"] ").concat(e.err))).join(", ")));for(const{name:l,err:c}of a)n.includes(l)&&console.warn('removing requested execution provider "'.concat(l,'" from session options because it is not available: ').concat(c));const s=t.filter((e=>o.has("string"===typeof e?e:e.name)));return[i,new Proxy(e,{get:(e,t)=>"executionProviders"===t?s:Reflect.get(e,t)})]})(a),l=await o.createInferenceSessionHandler(i,s);return S(),new C(l)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const E=C;var F,M,I,P,z,N,O,B,L,R,j,V,W,q,U,H,G,K,Y,J,Z,X,$,Q,ee,te,ne,re,ie,ae,oe,se,le=Object.defineProperty,ce=Object.getOwnPropertyDescriptor,ue=Object.getOwnPropertyNames,de=Object.prototype.hasOwnProperty,he=(F=function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(F,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):F),pe=(e,t)=>()=>(e&&(t=e(e=0)),t),fe=(e,t)=>{for(var n in t)le(e,n,{get:t[n],enumerable:!0})},me=e=>((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of ue(t))!de.call(e,i)&&i!==n&&le(e,i,{get:()=>t[i],enumerable:!(r=ce(t,i))||r.enumerable});return e})(le({},"__esModule",{value:!0}),e),ge=pe((()=>{M=new Map,I=[],P=(e,t,n)=>{if(!t||"function"!=typeof t.init||"function"!=typeof t.createInferenceSessionHandler)throw new TypeError("not a valid backend");{let r=M.get(e);if(void 0===r)M.set(e,{backend:t,priority:n});else{if(r.priority>n)return;if(r.priority===n&&r.backend!==t)throw new Error('cannot register backend "'.concat(e,'" using priority ').concat(n))}if(n>=0){let t=I.indexOf(e);-1!==t&&I.splice(t,1);for(let r=0;r<I.length;r++)if(M.get(I[r]).priority<=n)return void I.splice(r,0,e);I.push(e)}}},z=async e=>{let t=M.get(e);if(!t)return"backend not found.";if(t.initialized)return t.backend;if(t.aborted)return t.error;{let r=!!t.initPromise;try{return r||(t.initPromise=t.backend.init(e)),await t.initPromise,t.initialized=!0,t.backend}catch(n){return r||(t.error="".concat(n),t.aborted=!0),t.error}finally{delete t.initPromise}}},N=async e=>{let t,n=e.executionProviders||[],r=n.map((e=>"string"==typeof e?e:e.name)),i=0===r.length?I:r,a=[],o=new Set;for(let l of i){let e=await z(l);"string"==typeof e?a.push({name:l,err:e}):(t||(t=e),t===e&&o.add(l))}if(!t)throw new Error("no available backend found. ERR: ".concat(a.map((e=>"[".concat(e.name,"] ").concat(e.err))).join(", ")));for(let{name:l,err:c}of a)r.includes(l)&&console.warn('removing requested execution provider "'.concat(l,'" from session options because it is not available: ').concat(c));let s=n.filter((e=>o.has("string"==typeof e?e:e.name)));return[t,new Proxy(e,{get:(e,t)=>"executionProviders"===t?s:Reflect.get(e,t)})]}})),ye=pe((()=>{ge()})),be=pe((()=>{O="1.22.0-dev.20250409-89f8206ba4"})),we=pe((()=>{be(),B="warning",L={wasm:{},webgl:{},webgpu:{},versions:{common:O},set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: ".concat(e));B=e}},get logLevel(){return B}},Object.defineProperty(L,"logLevel",{enumerable:!0})})),ve=pe((()=>{we(),R=L})),_e=pe((()=>{j=(e,t)=>{let n=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=e.dims[3],n.height=e.dims[2];let r=n.getContext("2d");if(null!=r){let i,a;void 0!==(null===t||void 0===t?void 0:t.tensorLayout)&&"NHWC"===t.tensorLayout?(i=e.dims[2],a=e.dims[3]):(i=e.dims[3],a=e.dims[2]);let o,s,l=void 0!==(null===t||void 0===t?void 0:t.format)?t.format:"RGB",c=null===t||void 0===t?void 0:t.norm;void 0===c||void 0===c.mean?o=[255,255,255,255]:"number"==typeof c.mean?o=[c.mean,c.mean,c.mean,c.mean]:(o=[c.mean[0],c.mean[1],c.mean[2],0],void 0!==c.mean[3]&&(o[3]=c.mean[3])),void 0===c||void 0===c.bias?s=[0,0,0,0]:"number"==typeof c.bias?s=[c.bias,c.bias,c.bias,c.bias]:(s=[c.bias[0],c.bias[1],c.bias[2],0],void 0!==c.bias[3]&&(s[3]=c.bias[3]));let u=a*i,d=0,h=u,p=2*u,f=-1;"RGBA"===l?(d=0,h=u,p=2*u,f=3*u):"RGB"===l?(d=0,h=u,p=2*u):"RBG"===l&&(d=0,p=u,h=2*u);for(let t=0;t<a;t++)for(let n=0;n<i;n++){let i=(e.data[d++]-s[0])*o[0],a=(e.data[h++]-s[1])*o[1],l=(e.data[p++]-s[2])*o[2],c=-1===f?255:(e.data[f++]-s[3])*o[3];r.fillStyle="rgba("+i+","+a+","+l+","+c+")",r.fillRect(n,t,1,1)}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported")}throw new Error("Can not access image data")},V=(e,t)=>{let n,r=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d");if(null==r)throw new Error("Can not access image data");{let i,a,o;void 0!==(null===t||void 0===t?void 0:t.tensorLayout)&&"NHWC"===t.tensorLayout?(i=e.dims[2],a=e.dims[1],o=e.dims[3]):(i=e.dims[3],a=e.dims[2],o=e.dims[1]);let s,l,c=void 0!==t&&void 0!==t.format?t.format:"RGB",u=null===t||void 0===t?void 0:t.norm;void 0===u||void 0===u.mean?s=[255,255,255,255]:"number"==typeof u.mean?s=[u.mean,u.mean,u.mean,u.mean]:(s=[u.mean[0],u.mean[1],u.mean[2],255],void 0!==u.mean[3]&&(s[3]=u.mean[3])),void 0===u||void 0===u.bias?l=[0,0,0,0]:"number"==typeof u.bias?l=[u.bias,u.bias,u.bias,u.bias]:(l=[u.bias[0],u.bias[1],u.bias[2],0],void 0!==u.bias[3]&&(l[3]=u.bias[3]));let d=a*i;if(void 0!==t&&(void 0!==t.format&&4===o&&"RGBA"!==t.format||3===o&&"RGB"!==t.format&&"BGR"!==t.format))throw new Error("Tensor format doesn't match input tensor dims");let h=4,p=0,f=1,m=2,g=3,y=0,b=d,w=2*d,v=-1;"RGBA"===c?(y=0,b=d,w=2*d,v=3*d):"RGB"===c?(y=0,b=d,w=2*d):"RBG"===c&&(y=0,w=d,b=2*d),n=r.createImageData(i,a);for(let t=0;t<a*i;p+=h,f+=h,m+=h,g+=h,t++)n.data[p]=(e.data[y++]-l[0])*s[0],n.data[f]=(e.data[b++]-l[1])*s[1],n.data[m]=(e.data[w++]-l[2])*s[2],n.data[g]=-1===v?255:(e.data[v++]-l[3])*s[3]}return n}})),xe=pe((()=>{Te(),W=(e,t)=>{var n,r,i;if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");let a,o,{height:s,width:l}=t,c=null!==(n=t.norm)&&void 0!==n?n:{mean:255,bias:0};a="number"==typeof c.mean?[c.mean,c.mean,c.mean,c.mean]:[c.mean[0],c.mean[1],c.mean[2],null!==(r=c.mean[3])&&void 0!==r?r:255],o="number"==typeof c.bias?[c.bias,c.bias,c.bias,c.bias]:[c.bias[0],c.bias[1],c.bias[2],null!==(i=c.bias[3])&&void 0!==i?i:0];let u=void 0!==t.format?t.format:"RGBA",d=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",h=s*l,p="RGBA"===d?new Float32Array(4*h):new Float32Array(3*h),f=4,m=0,g=1,y=2,b=3,w=0,v=h,_=2*h,x=-1;"RGB"===u&&(f=3,m=0,g=1,y=2,b=-1),"RGBA"===d?x=3*h:"RBG"===d?(w=0,_=h,v=2*h):"BGR"===d&&(_=0,v=h,w=2*h);for(let k=0;k<h;k++,m+=f,y+=f,g+=f,b+=f)p[w++]=(e[m]+o[0])/a[0],p[v++]=(e[g]+o[1])/a[1],p[_++]=(e[y]+o[2])/a[2],-1!==x&&-1!==b&&(p[x++]=(e[b]+o[3])/a[3]);return new ee("float32",p,"RGBA"===d?[1,4,s,l]:[1,3,s,l])},q=async(e,t)=>{let n,r=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,i=typeof ImageData<"u"&&e instanceof ImageData,a=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,o="string"==typeof e,s=null!==t&&void 0!==t?t:{},l=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},c=e=>typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas?e.getContext("2d"):null;if(r){let r=l();r.width=e.width,r.height=e.height;let i=c(r);if(null==i)throw new Error("Can not access image data");{let r=e.height,a=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(r=t.resizedHeight,a=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=r,s.width=a}else s.tensorFormat="RGBA",s.height=r,s.width=a;i.drawImage(e,0,0),n=i.getImageData(0,0,a,r).data}}else{if(!i){if(a){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");let r=l();r.width=e.width,r.height=e.height;let i=c(r);if(null!=i){let t=e.height,r=e.width;return i.drawImage(e,0,0,r,t),n=i.getImageData(0,0,r,t).data,s.height=t,s.width=r,W(n,s)}throw new Error("Can not access image data")}if(o)return new Promise(((t,n)=>{let r=l(),i=c(r);if(!e||!i)return n();let a=new Image;a.crossOrigin="Anonymous",a.src=e,a.onload=()=>{r.width=a.width,r.height=a.height,i.drawImage(a,0,0,r.width,r.height);let e=i.getImageData(0,0,r.width,r.height);s.height=r.height,s.width=r.width,t(W(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{let r,i;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(r=t.resizedHeight,i=t.resizedWidth):(r=e.height,i=e.width),void 0!==t&&(s=t),s.format="RGBA",s.height=r,s.width=i,void 0!==t){let t=l();t.width=i,t.height=r;let a=c(t);if(null==a)throw new Error("Can not access image data");a.putImageData(e,0,0),n=a.getImageData(0,0,i,r).data}else n=e.data}}if(void 0!==n)return W(n,s);throw new Error("Input data provided is not supported - aborted tensor creation")},U=(e,t)=>{let{width:n,height:r,download:i,dispose:a}=t;return new ee({location:"texture",type:"float32",texture:e,dims:[1,r,n,4],download:i,dispose:a})},H=(e,t)=>{let{dataType:n,dims:r,download:i,dispose:a}=t;return new ee({location:"gpu-buffer",type:null!==n&&void 0!==n?n:"float32",gpuBuffer:e,dims:r,download:i,dispose:a})},G=(e,t)=>{let{dataType:n,dims:r,download:i,dispose:a}=t;return new ee({location:"ml-tensor",type:null!==n&&void 0!==n?n:"float32",mlTensor:e,dims:r,download:i,dispose:a})},K=(e,t,n)=>new ee({location:"cpu-pinned",type:e,data:t,dims:null!==n&&void 0!==n?n:[t.length]})})),ke=pe((()=>{Y=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),J=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Z=!1,X=()=>{if(!Z){Z=!0;let e=typeof BigInt64Array<"u"&&BigInt64Array.from,t=typeof BigUint64Array<"u"&&BigUint64Array.from,n=globalThis.Float16Array,r=typeof n<"u"&&n.from;e&&(Y.set("int64",BigInt64Array),J.set(BigInt64Array,"int64")),t&&(Y.set("uint64",BigUint64Array),J.set(BigUint64Array,"uint64")),r?(Y.set("float16",n),J.set(n,"float16")):Y.set("float16",Uint16Array)}}})),De=pe((()=>{Te(),$=e=>{let t=1;for(let n=0;n<e.length;n++){let r=e[n];if("number"!=typeof r||!Number.isSafeInteger(r))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(r));if(r<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(r));t*=r}return t},Q=(e,t)=>{switch(e.location){case"cpu":return new ee(e.type,e.data,t);case"cpu-pinned":return new ee({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new ee({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new ee({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});case"ml-tensor":return new ee({location:"ml-tensor",mlTensor:e.mlTensor,type:e.type,dims:t});default:throw new Error("tensorReshape: tensor location ".concat(e.location," is not supported"))}}})),Te=pe((()=>{_e(),xe(),ke(),De(),ee=class{constructor(e,t,n){let r,i;if(X(),"object"==typeof e&&"location"in e)switch(this.dataLocation=e.location,r=e.type,i=e.dims,e.location){case"cpu-pinned":{let t=Y.get(r);if(!t)throw new TypeError('unsupported type "'.concat(r,'" to create tensor from pinned buffer'));if(!(e.data instanceof t))throw new TypeError("buffer should be of type ".concat(t.name));this.cpuData=e.data;break}case"texture":if("float32"!==r)throw new TypeError('unsupported type "'.concat(r,'" to create tensor from texture'));this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break;case"gpu-buffer":if("float32"!==r&&"float16"!==r&&"int32"!==r&&"int64"!==r&&"uint32"!==r&&"uint8"!==r&&"bool"!==r&&"uint4"!==r&&"int4"!==r)throw new TypeError('unsupported type "'.concat(r,'" to create tensor from gpu buffer'));this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break;case"ml-tensor":if("float32"!==r&&"float16"!==r&&"int32"!==r&&"int64"!==r&&"uint32"!==r&&"uint64"!==r&&"int8"!==r&&"uint8"!==r&&"bool"!==r&&"uint4"!==r&&"int4"!==r)throw new TypeError('unsupported type "'.concat(r,'" to create tensor from MLTensor'));this.mlTensorData=e.mlTensor,this.downloader=e.download,this.disposer=e.dispose;break;default:throw new Error("Tensor constructor: unsupported location '".concat(this.dataLocation,"'"))}else{let a,o;if("string"==typeof e)if(r=e,o=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");a=t}else{let n=Y.get(e);if(void 0===n)throw new TypeError("Unsupported tensor type: ".concat(e,"."));if(Array.isArray(t)){if("float16"===e&&n===Uint16Array||"uint4"===e||"int4"===e)throw new TypeError("Creating a ".concat(e," tensor from number array is not supported. Please use ").concat(n.name," as data."));a="uint64"===e||"int64"===e?n.from(t,BigInt):n.from(t)}else if(t instanceof n)a=t;else if(t instanceof Uint8ClampedArray){if("uint8"!==e)throw new TypeError("A Uint8ClampedArray tensor's data must be type of uint8");a=Uint8Array.from(t)}else{if(!("float16"===e&&t instanceof Uint16Array&&n!==Uint16Array))throw new TypeError("A ".concat(r," tensor's data must be type of ").concat(n));a=new globalThis.Float16Array(t.buffer,t.byteOffset,t.length)}}else if(o=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");let t=typeof e[0];if("string"===t)r="string",a=e;else{if("boolean"!==t)throw new TypeError("Invalid element type of data array: ".concat(t,"."));r="bool",a=Uint8Array.from(e)}}else if(e instanceof Uint8ClampedArray)r="uint8",a=Uint8Array.from(e);else{let t=J.get(e.constructor);if(void 0===t)throw new TypeError("Unsupported type for tensor data: ".concat(e.constructor,"."));r=t,a=e}if(void 0===o)o=[a.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");i=o,this.cpuData=a,this.dataLocation="cpu"}let a=$(i);if(this.cpuData&&a!==this.cpuData.length&&("uint4"!==r&&"int4"!==r||Math.ceil(a/2)!==this.cpuData.length))throw new Error("Tensor's size(".concat(a,") does not match data length(").concat(this.cpuData.length,")."));this.type=r,this.dims=i,this.size=a}static async fromImage(e,t){return q(e,t)}static fromTexture(e,t){return U(e,t)}static fromGpuBuffer(e,t){return H(e,t)}static fromMLTensor(e,t){return G(e,t)}static fromPinnedBuffer(e,t,n){return K(e,t,n)}toDataURL(e){return j(this,e)}toImageData(e){return V(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw new Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}default:throw new Error("cannot get data from location: ".concat(this.dataLocation))}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if("none"===this.dataLocation)throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return Q(this,e)}}})),Ae=pe((()=>{Te(),te=ee})),Se=pe((()=>{we(),ne=(e,t)=>{(typeof L.trace>"u"?!L.wasm.trace:!L.trace)||console.timeStamp("".concat(e,"::ORT::").concat(t))},re=(e,t)=>{var n;let r=(null===(n=(new Error).stack)||void 0===n?void 0:n.split(/\r\n|\r|\n/g))||[],i=!1;for(let a=0;a<r.length;a++){if(i&&!r[a].includes("TRACE_FUNC")){let n="FUNC_".concat(e,"::").concat(r[a].trim().split(" ")[1]);return t&&(n+="::".concat(t)),void ne("CPU",n)}r[a].includes("TRACE_FUNC")&&(i=!0)}},ie=e=>{(typeof L.trace>"u"?!L.wasm.trace:!L.trace)||re("BEGIN",e)},ae=e=>{(typeof L.trace>"u"?!L.wasm.trace:!L.trace)||re("END",e)}})),Ce=pe((()=>{ge(),Ae(),Se(),oe=class e{constructor(e){this.handler=e}async run(e,t,n){ie();let r={},i={};if("object"!=typeof e||null===e||e instanceof te||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let a=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof te)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");a=!1;for(let e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError("'fetches' contains invalid output name: ".concat(e,"."));r[e]=null}if("object"==typeof n&&null!==n)i=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else{let e=!1,o=Object.getOwnPropertyNames(t);for(let n of this.outputNames)if(-1!==o.indexOf(n)){let i=t[n];(null===i||i instanceof te)&&(e=!0,a=!1,r[n]=i)}if(e){if("object"==typeof n&&null!==n)i=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else i=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let l of this.inputNames)if(typeof e[l]>"u")throw new Error("input '".concat(l,"' is missing in 'feeds'."));if(a)for(let l of this.outputNames)r[l]=null;let o=await this.handler.run(e,r,i),s={};for(let l in o)if(Object.hasOwnProperty.call(o,l)){let e=o[l];s[l]=e instanceof te?e:new te(e.type,e.data,e.dims)}return ae(),s}async release(){return this.handler.dispose()}static async create(t,n,r,i){ie();let a,o={};if("string"==typeof t){if(a=t,"object"==typeof n&&null!==n)o=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(a=t,"object"==typeof n&&null!==n)o=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else{if(!(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{let e=t,s=0,l=t.byteLength;if("object"==typeof n&&null!==n)o=n;else if("number"==typeof n){if(s=n,!Number.isSafeInteger(s))throw new RangeError("'byteOffset' must be an integer.");if(s<0||s>=e.byteLength)throw new RangeError("'byteOffset' is out of range [0, ".concat(e.byteLength,")."));if(l=t.byteLength-s,"number"==typeof r){if(l=r,!Number.isSafeInteger(l))throw new RangeError("'byteLength' must be an integer.");if(l<=0||s+l>e.byteLength)throw new RangeError("'byteLength' is out of range (0, ".concat(e.byteLength-s,"]."));if("object"==typeof i&&null!==i)o=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else if(typeof r<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");a=new Uint8Array(e,s,l)}}let[s,l]=await N(o),c=await s.createInferenceSessionHandler(a,l);return ae(),new e(c)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}get inputMetadata(){return this.handler.inputMetadata}get outputMetadata(){return this.handler.outputMetadata}}})),Ee=pe((()=>{Ce(),se=oe})),Fe=pe((()=>{})),Me=pe((()=>{})),Ie=pe((()=>{})),Pe=pe((()=>{})),ze={};fe(ze,{InferenceSession:()=>se,TRACE:()=>ne,TRACE_FUNC_BEGIN:()=>ie,TRACE_FUNC_END:()=>ae,Tensor:()=>te,env:()=>R,registerBackend:()=>P});var Ne=pe((()=>{ye(),ve(),Ee(),Ae(),Fe(),Me(),Se(),Ie(),Pe()})),Oe=pe((()=>{})),Be={};fe(Be,{default:()=>je});var Le,Re,je,Ve=pe((()=>{var e;Bd(),Mc(),Fc(),Le="ort-wasm-proxy-worker",(Re=(null===(e=globalThis.self)||void 0===e?void 0:e.name)===Le)&&(self.onmessage=e=>{let{type:t,in:n}=e.data;try{switch(t){case"init-wasm":pt(n.wasm).then((()=>{rd(n).then((()=>{postMessage({type:t})}),(e=>{postMessage({type:t,err:e})}))}),(e=>{postMessage({type:t,err:e})}));break;case"init-ep":{let{epName:e,env:r}=n;id(r,e).then((()=>{postMessage({type:t})}),(e=>{postMessage({type:t,err:e})}));break}case"copy-from":{let{buffer:e}=n,r=ld(e);postMessage({type:t,out:r});break}case"create":{let{model:e,options:r}=n;cd(e,r).then((e=>{postMessage({type:t,out:e})}),(e=>{postMessage({type:t,err:e})}));break}case"release":ud(n),postMessage({type:t});break;case"run":{let{sessionId:e,inputIndices:r,inputs:i,outputIndices:a,options:o}=n;hd(e,r,i,a,new Array(a.length).fill(null),o).then((e=>{e.some((e=>"cpu"!==e[3]))?postMessage({type:t,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:t,out:e},fd([...i,...e]))}),(e=>{postMessage({type:t,err:e})}));break}case"end-profiling":pd(n),postMessage({type:t})}}catch(r){postMessage({type:t,err:r})}}),je=Re?null:e=>new Worker(null!==e&&void 0!==e?e:Je,{type:"module",name:Le})})),We={};fe(We,{default:()=>He});var qe,Ue,He,Ge,Ke,Ye,Je,Ze,Xe,$e,Qe,et,tt,nt,rt,it,at,ot,st,lt,ct,ut,dt,ht,pt,ft,mt,gt,yt,bt,wt,vt,_t,xt,kt,Dt,Tt,At,St,Ct,Et,Ft,Mt,It,Pt,zt,Nt,Ot,Bt,Lt,Rt,jt,Vt,Wt,qt,Ut,Ht,Gt,Kt,Yt,Jt,Zt,Xt,$t,Qt,en,tn,nn,rn,an,on,sn,ln,cn,un,dn,hn,pn,fn,mn,gn,yn,bn,wn,vn,_n,xn,kn,Dn,Tn,An,Sn,Cn,En,Fn,Mn,In,Pn,zn,Nn,On,Bn,Ln,Rn,jn,Vn,Wn,qn,Un,Hn,Gn,Kn,Yn,Jn,Zn,Xn,$n,Qn,er,tr,nr,rr,ir,ar,or,sr,lr,cr,ur,dr,hr,pr,fr,mr,gr,yr,br,wr,vr,_r,xr,kr,Dr,Tr,Ar,Sr,Cr,Er,Fr,Mr,Ir,Pr,zr,Nr,Or,Br,Lr,Rr,jr,Vr,Wr,qr,Ur,Hr,Gr,Kr,Yr,Jr,Zr,Xr,$r,Qr,ei,ti,ni,ri,ii,ai,oi,si,li,ci,ui,di,hi,pi,fi,mi,gi,yi,bi,wi,vi,_i,xi,ki,Di,Ti,Ai,Si,Ci,Ei,Fi,Mi,Ii,Pi,zi,Ni,Oi,Bi,Li,Ri,ji,Vi,Wi,qi,Ui,Hi,Gi,Ki,Yi,Ji,Zi,Xi,$i,Qi,ea,ta,na,ra,ia,aa,oa,sa,la,ca,ua,da,ha,pa,fa,ma,ga,ya,ba,wa,va,_a,xa,ka,Da,Ta,Aa,Sa,Ca,Ea,Fa,Ma,Ia,Pa,za,Na,Oa,Ba,La,Ra,ja,Va,Wa,qa,Ua,Ha,Ga,Ka,Ya,Ja,Za,Xa,$a,Qa,eo,to,no,ro,io,ao,oo,so,lo,co,uo,ho,po,fo,mo,go,yo,bo,wo,vo,_o,xo,ko,Do,To,Ao,So,Co,Eo,Fo,Mo,Io,Po,zo,No,Oo,Bo,Lo,Ro,jo,Vo,Wo,qo,Uo,Ho,Go,Ko,Yo,Jo,Zo,Xo,$o,Qo,es,ts,ns,rs,is,as,os,ss,ls,cs,us,ds,hs,ps,fs,ms,gs,ys,bs,ws,vs,_s,xs,ks,Ds,Ts,As,Ss,Cs,Es,Fs,Ms,Is,Ps,zs,Ns,Os,Bs,Ls,Rs,js,Vs,Ws,qs,Us,Hs,Gs,Ks,Ys,Js,Zs,Xs,$s,Qs,el,tl,nl,rl,il,al,ol,sl,ll,cl,ul,dl,hl,pl,fl,ml,gl,yl,bl,wl,vl,_l,xl,kl,Dl,Tl,Al,Sl,Cl,El,Fl,Ml,Il,Pl,zl,Nl,Ol,Bl,Ll,Rl,jl,Vl,Wl,ql,Ul,Hl,Gl,Kl,Yl,Jl,Zl,Xl,$l,Ql,ec,tc,nc,rc,ic,ac,oc,sc,lc,cc,uc,dc,hc,pc,fc,mc,gc,yc,bc,wc,vc,_c,xc,kc,Dc,Tc,Ac,Sc,Cc,Ec=pe((()=>{var e;qe="file:///Users/emilyreif/Documents/github/llm-consistency-vis/node_modules/onnxruntime-web/dist/ort.bundle.min.mjs",Ue=async function(){var e,t;var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new Promise(((e,t)=>{n=e,r=t})),o="object"==typeof window,s=typeof WorkerGlobalScope<"u",c=s&&(null===(e=self.name)||void 0===e?void 0:e.startsWith("em-pthread"));i.mountExternalData=(e,t)=>{e.startsWith("./")&&(e=e.substring(2)),(i.Eb||(i.Eb=new Map)).set(e,t)},i.unmountExternalData=()=>{delete i.Eb};var u=null!==(t=globalThis.SharedArrayBuffer)&&void 0!==t?t:new WebAssembly.Memory({initial:0,maximum:0,pc:!0}).buffer.constructor;let d=e=>async function(){try{var t;if(i.Fb)throw Error("Session already started");let n=i.Fb={dc:arguments.length<=0?void 0:arguments[0],errors:[]},r=await e(...arguments);if(i.Fb!==n)throw Error("Session mismatch");null===(t=i.Jb)||void 0===t||t.flush();let a=n.errors;if(0<a.length){let e=await Promise.all(a);if(e=e.filter((e=>e)),0<e.length)throw Error(e.join("\n"))}return r}finally{i.Fb=null}};i.jsepInit=(e,t)=>{if("webgpu"===e){[i.Jb,i.Ub,i.Yb,i.Kb,i.Xb,i.jb,i.Zb,i.ac,i.Vb,i.Wb,i.$b]=t;let e=i.Jb;i.jsepRegisterBuffer=(t,n,r,i)=>e.registerBuffer(t,n,r,i),i.jsepGetBuffer=t=>e.getBuffer(t),i.jsepCreateDownloader=(t,n,r)=>e.createDownloader(t,n,r),i.jsepOnCreateSession=t=>{e.onCreateSession(t)},i.jsepOnReleaseSession=t=>{e.onReleaseSession(t)},i.jsepOnRunStart=t=>e.onRunStart(t),i.bc=(t,n)=>{e.upload(t,n)}}else if("webnn"===e){let e=t[0];[i.nc,i.Nb,i.webnnEnsureTensor,i.Ob,i.webnnDownloadTensor]=t.slice(1),i.webnnReleaseTensorId=i.Nb,i.webnnUploadTensor=i.Ob,i.webnnOnRunStart=t=>e.onRunStart(t),i.webnnOnRunEnd=e.onRunEnd.bind(e),i.webnnRegisterMLContext=(t,n)=>{e.registerMLContext(t,n)},i.webnnOnReleaseSession=t=>{e.onReleaseSession(t)},i.webnnCreateMLTensorDownloader=(t,n)=>e.createMLTensorDownloader(t,n),i.webnnRegisterMLTensor=(t,n,r,i)=>e.registerMLTensor(t,n,r,i),i.webnnCreateMLContext=t=>e.createMLContext(t),i.webnnRegisterMLConstant=(t,n,r,a,o,s)=>e.registerMLConstant(t,n,r,a,o,i.Eb,s),i.webnnRegisterGraphInput=e.registerGraphInput.bind(e),i.webnnIsGraphInput=e.isGraphInput.bind(e),i.webnnCreateTemporaryTensor=e.createTemporaryTensor.bind(e),i.webnnIsInt64Supported=e.isInt64Supported.bind(e)}};let h=()=>{let e=(e,t,n)=>function(){for(var r,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];let l=qt,c=null===(r=t)||void 0===r?void 0:r();o=e(...o);let u=null===(i=t)||void 0===i?void 0:i();return c!==u&&(e=u,n(c),t=n=null),qt!=l?new Promise(((e,t)=>{Jt={resolve:e,reject:t}})):o};(()=>{for(let t of["_OrtAppendExecutionProvider","_OrtCreateSession","_OrtRun","_OrtRunWithBinding","_OrtBindInput"])i[t]=e(i[t],(()=>i[t]),(e=>i[t]=e))})(),void 0!==d&&(i._OrtRun=d(i._OrtRun),i._OrtRunWithBinding=d(i._OrtRunWithBinding)),h=void 0};i.asyncInit=()=>{var e;null===(e=h)||void 0===e||e()};var p,f,m=Object.assign({},i),g=(e,t)=>{throw t},y="";(o||s)&&(s?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),qe&&(y=qe),y=y.startsWith("blob:")?"":y.slice(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1),s&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=async e=>{if(B(e))return new Promise(((t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n(r.status)},r.onerror=n,r.send(null)}));var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw Error(t.status+" : "+t.url)});var b=console.log.bind(console),w=console.error.bind(console),v=b,_=w;Object.assign(i,m),m=null;var x,k,D,T,A,S,C,E,F,M,I,P,z,N=i.wasmBinary,O=!1,B=e=>e.startsWith("file://");function L(){return x.buffer!=T.buffer&&Y(),T}function R(){return x.buffer!=T.buffer&&Y(),A}function j(){return x.buffer!=T.buffer&&Y(),S}function V(){return x.buffer!=T.buffer&&Y(),C}function W(){return x.buffer!=T.buffer&&Y(),E}function q(){return x.buffer!=T.buffer&&Y(),F}function U(){return x.buffer!=T.buffer&&Y(),M}function H(){return x.buffer!=T.buffer&&Y(),z}if(c){let e=function(t){try{var n=t.data,r=n.Bb;if("load"===r){let t=[];self.onmessage=e=>t.push(e),self.startWorker=()=>{postMessage({Bb:"loaded"});for(let n of t)e(n);self.onmessage=e};for(let e of n.Rb)i[e]&&!i[e].proxy||(i[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];postMessage({Bb:"callHandler",Qb:e,args:n})},"print"==e&&(v=i[e]),"printErr"==e&&(_=i[e]));x=n.kc,Y(),G(n.lc)}else if("run"===r){xe(n.Ab),yr(n.Ab,0,0,1,0,0),we(),Et(n.Ab),K||(pr(),K=!0);try{ke(n.fc,n.Hb)}catch(a){if("unwind"!=a)throw a}}else"setimmediate"!==n.target&&("checkMailbox"===r?K&&Ft():r&&(_("worker: received unknown command ".concat(r)),_(n)))}catch(a){throw br(),a}};var G,K=!1;_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.join(" "),console.error(t)},self.alert=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];postMessage({Bb:"alert",text:t.join(" "),ic:fr()})},self.onunhandledrejection=e=>{throw e.reason||e},self.onmessage=e}function Y(){var e=x.buffer;i.HEAP8=T=new Int8Array(e),i.HEAP16=S=new Int16Array(e),i.HEAPU8=A=new Uint8Array(e),i.HEAPU16=C=new Uint16Array(e),i.HEAP32=E=new Int32Array(e),i.HEAPU32=F=new Uint32Array(e),i.HEAPF32=M=new Float32Array(e),i.HEAPF64=z=new Float64Array(e),i.HEAP64=I=new BigInt64Array(e),i.HEAPU64=P=new BigUint64Array(e)}function J(){c?startWorker(i):ur.Ca()}c||(x=new WebAssembly.Memory({initial:256,maximum:65536,shared:!0}),Y());var Z,X=0,$=null;function Q(){if(0==--X&&$){var e=$;$=null,e()}}function ee(e){throw _(e="Aborted("+e+")"),O=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),r(e),e}function te(){return{a:{L:ie,Aa:re,b:Te,$:Se,A:Me,pa:Ie,X:Ne,Z:Oe,qa:Be,na:Le,ga:Re,ma:je,J:Ve,Y:We,V:Ue,oa:He,W:Ge,va:Je,E:nt,Q:it,O:ht,D:ft,u:mt,r:gt,P:yt,z:Tt,R:At,ja:St,T:Mt,aa:Pt,M:zt,F:Nt,ia:Et,sa:Ot,t:Rt,Ba:jt,w:$t,o:en,l:rn,c:st,n:on,j:un,v:dn,p:hn,f:pn,s:fn,m:mn,e:gn,k:yn,i:bn,g:wn,d:vn,da:_n,ea:Tn,fa:An,ba:Sn,ca:Cn,N:Mn,xa:In,ua:Nn,h:Ln,C:Rn,G:jn,ta:Pn,x:Vn,ra:Wn,U:qn,q:Fn,y:Un,K:Hn,S:Gn,za:Zn,ya:Xn,ka:tr,la:nr,_:pe,B:rr,I:ir,ha:ar,H:sr,a:x,wa:de}}}var ne={829644:(e,t,n,r,a)=>{if(void 0===i||!i.Eb)return 1;if((e=Fe(Number(e>>>0))).startsWith("./")&&(e=e.substring(2)),!(e=i.Eb.get(e)))return 2;if(t=Number(t>>>0),n=Number(n>>>0),r=Number(r>>>0),t+n>e.byteLength)return 3;try{let o=e.subarray(t,t+n);switch(a){case 0:R().set(o,r>>>0);break;case 1:i.mc?i.mc(r,o):i.bc(r,o);break;default:return 4}return 0}catch(o){return 4}},830468:(e,t,n)=>{i.Ob(e,R().subarray(t>>>0,t+n>>>0))},830532:()=>i.nc(),830574:e=>{i.Nb(e)},830611:()=>{i.Vb()},830642:()=>{i.Wb()},830671:()=>{i.$b()},830696:e=>i.Ub(e),830729:e=>i.Yb(e),830761:(e,t,n)=>{i.Kb(Number(e),Number(t),Number(n),!0)},830824:(e,t,n)=>{i.Kb(Number(e),Number(t),Number(n))},830881:()=>typeof wasmOffsetConverter<"u",830938:e=>{i.jb("Abs",e,void 0)},830989:e=>{i.jb("Neg",e,void 0)},831040:e=>{i.jb("Floor",e,void 0)},831093:e=>{i.jb("Ceil",e,void 0)},831145:e=>{i.jb("Reciprocal",e,void 0)},831203:e=>{i.jb("Sqrt",e,void 0)},831255:e=>{i.jb("Exp",e,void 0)},831306:e=>{i.jb("Erf",e,void 0)},831357:e=>{i.jb("Sigmoid",e,void 0)},831412:(e,t,n)=>{i.jb("HardSigmoid",e,{alpha:t,beta:n})},831491:e=>{i.jb("Log",e,void 0)},831542:e=>{i.jb("Sin",e,void 0)},831593:e=>{i.jb("Cos",e,void 0)},831644:e=>{i.jb("Tan",e,void 0)},831695:e=>{i.jb("Asin",e,void 0)},831747:e=>{i.jb("Acos",e,void 0)},831799:e=>{i.jb("Atan",e,void 0)},831851:e=>{i.jb("Sinh",e,void 0)},831903:e=>{i.jb("Cosh",e,void 0)},831955:e=>{i.jb("Asinh",e,void 0)},832008:e=>{i.jb("Acosh",e,void 0)},832061:e=>{i.jb("Atanh",e,void 0)},832114:e=>{i.jb("Tanh",e,void 0)},832166:e=>{i.jb("Not",e,void 0)},832217:(e,t,n)=>{i.jb("Clip",e,{min:t,max:n})},832286:e=>{i.jb("Clip",e,void 0)},832338:(e,t)=>{i.jb("Elu",e,{alpha:t})},832396:e=>{i.jb("Gelu",e,void 0)},832448:e=>{i.jb("Relu",e,void 0)},832500:(e,t)=>{i.jb("LeakyRelu",e,{alpha:t})},832564:(e,t)=>{i.jb("ThresholdedRelu",e,{alpha:t})},832634:(e,t)=>{i.jb("Cast",e,{to:t})},832692:e=>{i.jb("Add",e,void 0)},832743:e=>{i.jb("Sub",e,void 0)},832794:e=>{i.jb("Mul",e,void 0)},832845:e=>{i.jb("Div",e,void 0)},832896:e=>{i.jb("Pow",e,void 0)},832947:e=>{i.jb("Equal",e,void 0)},833e3:e=>{i.jb("Greater",e,void 0)},833055:e=>{i.jb("GreaterOrEqual",e,void 0)},833117:e=>{i.jb("Less",e,void 0)},833169:e=>{i.jb("LessOrEqual",e,void 0)},833228:(e,t,n,r,a)=>{i.jb("ReduceMean",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},833403:(e,t,n,r,a)=>{i.jb("ReduceMax",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},833577:(e,t,n,r,a)=>{i.jb("ReduceMin",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},833751:(e,t,n,r,a)=>{i.jb("ReduceProd",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},833926:(e,t,n,r,a)=>{i.jb("ReduceSum",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},834100:(e,t,n,r,a)=>{i.jb("ReduceL1",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},834273:(e,t,n,r,a)=>{i.jb("ReduceL2",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},834446:(e,t,n,r,a)=>{i.jb("ReduceLogSum",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},834623:(e,t,n,r,a)=>{i.jb("ReduceSumSquare",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},834803:(e,t,n,r,a)=>{i.jb("ReduceLogSumExp",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},834983:e=>{i.jb("Where",e,void 0)},835036:(e,t,n)=>{i.jb("Transpose",e,{perm:t?Array.from(W().subarray(Number(t)>>>0,Number(n)>>>0)):[]})},835160:(e,t,n,r)=>{i.jb("DepthToSpace",e,{blocksize:t,mode:Fe(n),format:r?"NHWC":"NCHW"})},835293:(e,t,n,r)=>{i.jb("DepthToSpace",e,{blocksize:t,mode:Fe(n),format:r?"NHWC":"NCHW"})},835426:(e,t,n,r,a,o,s,l,c,u,d,h,p,f,m)=>{i.jb("ConvTranspose",e,{format:c?"NHWC":"NCHW",autoPad:t,dilations:[n],group:r,kernelShape:[a],pads:[o,s],strides:[l],wIsConst:()=>!!L()[u>>>0],outputPadding:d?Array.from(W().subarray(Number(d)>>>0,Number(h)>>>0)):[],outputShape:p?Array.from(W().subarray(Number(p)>>>0,Number(f)>>>0)):[],activation:Fe(m)})},835859:(e,t,n,r,a,o,s,l,c,u,d,h,p,f)=>{i.jb("ConvTranspose",e,{format:l?"NHWC":"NCHW",autoPad:t,dilations:Array.from(W().subarray(Number(n)>>>0,2+(Number(n)>>>0)>>>0)),group:r,kernelShape:Array.from(W().subarray(Number(a)>>>0,2+(Number(a)>>>0)>>>0)),pads:Array.from(W().subarray(Number(o)>>>0,4+(Number(o)>>>0)>>>0)),strides:Array.from(W().subarray(Number(s)>>>0,2+(Number(s)>>>0)>>>0)),wIsConst:()=>!!L()[c>>>0],outputPadding:u?Array.from(W().subarray(Number(u)>>>0,Number(d)>>>0)):[],outputShape:h?Array.from(W().subarray(Number(h)>>>0,Number(p)>>>0)):[],activation:Fe(f)})},836520:(e,t,n,r,a,o,s,l,c,u,d,h,p,f,m)=>{i.jb("ConvTranspose",e,{format:c?"NHWC":"NCHW",autoPad:t,dilations:[n],group:r,kernelShape:[a],pads:[o,s],strides:[l],wIsConst:()=>!!L()[u>>>0],outputPadding:d?Array.from(W().subarray(Number(d)>>>0,Number(h)>>>0)):[],outputShape:p?Array.from(W().subarray(Number(p)>>>0,Number(f)>>>0)):[],activation:Fe(m)})},836953:(e,t,n,r,a,o,s,l,c,u,d,h,p,f)=>{i.jb("ConvTranspose",e,{format:l?"NHWC":"NCHW",autoPad:t,dilations:Array.from(W().subarray(Number(n)>>>0,2+(Number(n)>>>0)>>>0)),group:r,kernelShape:Array.from(W().subarray(Number(a)>>>0,2+(Number(a)>>>0)>>>0)),pads:Array.from(W().subarray(Number(o)>>>0,4+(Number(o)>>>0)>>>0)),strides:Array.from(W().subarray(Number(s)>>>0,2+(Number(s)>>>0)>>>0)),wIsConst:()=>!!L()[c>>>0],outputPadding:u?Array.from(W().subarray(Number(u)>>>0,Number(d)>>>0)):[],outputShape:h?Array.from(W().subarray(Number(h)>>>0,Number(p)>>>0)):[],activation:Fe(f)})},837614:(e,t)=>{i.jb("GlobalAveragePool",e,{format:t?"NHWC":"NCHW"})},837705:(e,t,n,r,a,o,s,l,c,u,d,h,p,f)=>{i.jb("AveragePool",e,{format:f?"NHWC":"NCHW",auto_pad:t,ceil_mode:n,count_include_pad:r,storage_order:a,dilations:o?Array.from(W().subarray(Number(o)>>>0,Number(s)>>>0)):[],kernel_shape:l?Array.from(W().subarray(Number(l)>>>0,Number(c)>>>0)):[],pads:u?Array.from(W().subarray(Number(u)>>>0,Number(d)>>>0)):[],strides:h?Array.from(W().subarray(Number(h)>>>0,Number(p)>>>0)):[]})},838184:(e,t)=>{i.jb("GlobalAveragePool",e,{format:t?"NHWC":"NCHW"})},838275:(e,t,n,r,a,o,s,l,c,u,d,h,p,f)=>{i.jb("AveragePool",e,{format:f?"NHWC":"NCHW",auto_pad:t,ceil_mode:n,count_include_pad:r,storage_order:a,dilations:o?Array.from(W().subarray(Number(o)>>>0,Number(s)>>>0)):[],kernel_shape:l?Array.from(W().subarray(Number(l)>>>0,Number(c)>>>0)):[],pads:u?Array.from(W().subarray(Number(u)>>>0,Number(d)>>>0)):[],strides:h?Array.from(W().subarray(Number(h)>>>0,Number(p)>>>0)):[]})},838754:(e,t)=>{i.jb("GlobalMaxPool",e,{format:t?"NHWC":"NCHW"})},838841:(e,t,n,r,a,o,s,l,c,u,d,h,p,f)=>{i.jb("MaxPool",e,{format:f?"NHWC":"NCHW",auto_pad:t,ceil_mode:n,count_include_pad:r,storage_order:a,dilations:o?Array.from(W().subarray(Number(o)>>>0,Number(s)>>>0)):[],kernel_shape:l?Array.from(W().subarray(Number(l)>>>0,Number(c)>>>0)):[],pads:u?Array.from(W().subarray(Number(u)>>>0,Number(d)>>>0)):[],strides:h?Array.from(W().subarray(Number(h)>>>0,Number(p)>>>0)):[]})},839316:(e,t)=>{i.jb("GlobalMaxPool",e,{format:t?"NHWC":"NCHW"})},839403:(e,t,n,r,a,o,s,l,c,u,d,h,p,f)=>{i.jb("MaxPool",e,{format:f?"NHWC":"NCHW",auto_pad:t,ceil_mode:n,count_include_pad:r,storage_order:a,dilations:o?Array.from(W().subarray(Number(o)>>>0,Number(s)>>>0)):[],kernel_shape:l?Array.from(W().subarray(Number(l)>>>0,Number(c)>>>0)):[],pads:u?Array.from(W().subarray(Number(u)>>>0,Number(d)>>>0)):[],strides:h?Array.from(W().subarray(Number(h)>>>0,Number(p)>>>0)):[]})},839878:(e,t,n,r,a)=>{i.jb("Gemm",e,{alpha:t,beta:n,transA:r,transB:a})},839982:e=>{i.jb("MatMul",e,void 0)},840036:(e,t,n,r)=>{i.jb("ArgMax",e,{keepDims:!!t,selectLastIndex:!!n,axis:r})},840144:(e,t,n,r)=>{i.jb("ArgMin",e,{keepDims:!!t,selectLastIndex:!!n,axis:r})},840252:(e,t)=>{i.jb("Softmax",e,{axis:t})},840315:(e,t)=>{i.jb("Concat",e,{axis:t})},840375:(e,t,n,r,a)=>{i.jb("Split",e,{axis:t,numOutputs:n,splitSizes:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},840531:e=>{i.jb("Expand",e,void 0)},840585:(e,t)=>{i.jb("Gather",e,{axis:Number(t)})},840656:(e,t)=>{i.jb("GatherElements",e,{axis:Number(t)})},840735:(e,t)=>{i.jb("GatherND",e,{batch_dims:Number(t)})},840814:(e,t,n,r,a,o,s,l,c,u,d)=>{i.jb("Resize",e,{antialias:t,axes:n?Array.from(W().subarray(Number(n)>>>0,Number(r)>>>0)):[],coordinateTransformMode:Fe(a),cubicCoeffA:o,excludeOutside:s,extrapolationValue:l,keepAspectRatioPolicy:Fe(c),mode:Fe(u),nearestMode:Fe(d)})},841176:(e,t,n,r,a,o,s)=>{i.jb("Slice",e,{starts:t?Array.from(W().subarray(Number(t)>>>0,Number(n)>>>0)):[],ends:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[],axes:o?Array.from(W().subarray(Number(o)>>>0,Number(s)>>>0)):[]})},841440:e=>{i.jb("Tile",e,void 0)},841492:(e,t,n)=>{i.jb("InstanceNormalization",e,{epsilon:t,format:n?"NHWC":"NCHW"})},841606:(e,t,n)=>{i.jb("InstanceNormalization",e,{epsilon:t,format:n?"NHWC":"NCHW"})},841720:e=>{i.jb("Range",e,void 0)},841773:(e,t)=>{i.jb("Einsum",e,{equation:Fe(t)})},841854:(e,t,n,r,a)=>{i.jb("Pad",e,{mode:t,value:n,pads:r?Array.from(W().subarray(Number(r)>>>0,Number(a)>>>0)):[]})},841997:(e,t,n,r,a,o)=>{i.jb("BatchNormalization",e,{epsilon:t,momentum:n,spatial:!!a,trainingMode:!!r,format:o?"NHWC":"NCHW"})},842166:(e,t,n,r,a,o)=>{i.jb("BatchNormalization",e,{epsilon:t,momentum:n,spatial:!!a,trainingMode:!!r,format:o?"NHWC":"NCHW"})},842335:(e,t,n)=>{i.jb("CumSum",e,{exclusive:Number(t),reverse:Number(n)})},842432:(e,t,n)=>{i.jb("DequantizeLinear",e,{axis:t,blockSize:n})},842522:(e,t,n,r,a)=>{i.jb("GridSample",e,{align_corners:t,mode:Fe(n),padding_mode:Fe(r),format:a?"NHWC":"NCHW"})},842692:(e,t,n,r,a)=>{i.jb("GridSample",e,{align_corners:t,mode:Fe(n),padding_mode:Fe(r),format:a?"NHWC":"NCHW"})},842862:(e,t)=>{i.jb("ScatterND",e,{reduction:Fe(t)})},842947:(e,t,n,r,a,o,s,l,c)=>{i.jb("Attention",e,{numHeads:t,isUnidirectional:n,maskFilterValue:r,scale:a,doRotary:o,qkvHiddenSizes:s?Array.from(W().subarray(Number(l)>>>0,Number(l)+s>>>0)):[],pastPresentShareBuffer:!!c})},843219:e=>{i.jb("BiasAdd",e,void 0)},843274:e=>{i.jb("BiasSplitGelu",e,void 0)},843335:e=>{i.jb("FastGelu",e,void 0)},843391:(e,t,n,r,a,o,s,l,c,u,d,h,p,f,m,g)=>{i.jb("Conv",e,{format:h?"NHWC":"NCHW",auto_pad:t,dilations:n?Array.from(W().subarray(Number(n)>>>0,Number(r)>>>0)):[],group:a,kernel_shape:o?Array.from(W().subarray(Number(o)>>>0,Number(s)>>>0)):[],pads:l?Array.from(W().subarray(Number(l)>>>0,Number(c)>>>0)):[],strides:u?Array.from(W().subarray(Number(u)>>>0,Number(d)>>>0)):[],w_is_const:()=>!!L()[Number(p)>>>0],activation:Fe(f),activation_params:m?Array.from(U().subarray(Number(m)>>>0,Number(g)>>>0)):[]})},843975:e=>{i.jb("Gelu",e,void 0)},844027:(e,t,n,r,a,o,s,l,c)=>{i.jb("GroupQueryAttention",e,{numHeads:t,kvNumHeads:n,scale:r,softcap:a,doRotary:o,rotaryInterleaved:s,smoothSoftmax:l,localWindowSize:c})},844244:(e,t,n,r)=>{i.jb("LayerNormalization",e,{axis:t,epsilon:n,simplified:!!r})},844355:(e,t,n,r)=>{i.jb("LayerNormalization",e,{axis:t,epsilon:n,simplified:!!r})},844466:(e,t,n,r,a,o)=>{i.jb("MatMulNBits",e,{k:t,n:n,accuracyLevel:r,bits:a,blockSize:o})},844593:(e,t,n,r,a,o)=>{i.jb("MultiHeadAttention",e,{numHeads:t,isUnidirectional:n,maskFilterValue:r,scale:a,doRotary:o})},844752:(e,t)=>{i.jb("QuickGelu",e,{alpha:t})},844816:(e,t,n,r,a)=>{i.jb("RotaryEmbedding",e,{interleaved:!!t,numHeads:n,rotaryEmbeddingDim:r,scale:a})},844955:(e,t,n)=>{i.jb("SkipLayerNormalization",e,{epsilon:t,simplified:!!n})},845057:(e,t,n)=>{i.jb("SkipLayerNormalization",e,{epsilon:t,simplified:!!n})},845159:(e,t,n,r)=>{i.jb("GatherBlockQuantized",e,{gatherAxis:t,quantizeAxis:n,blockSize:r})},845280:e=>{i.Zb(e)},845314:(e,t)=>i.ac(Number(e),Number(t),i.Fb.dc,i.Fb.errors)};function re(e,t,n){return Xt((async()=>{await i.Xb(Number(e),Number(t),Number(n))}))}function ie(){return typeof wasmOffsetConverter<"u"}class ae{constructor(e){l(this,"name","ExitStatus"),this.message="Program terminated with exit(".concat(e,")"),this.status=e}}var oe=e=>{e.terminate(),e.onmessage=()=>{}},se=[],le=e=>{0==fe.length&&(_e(),ve(fe[0]));var t=fe.pop();if(!t)return 6;me.push(t),ye[e.Ab]=t,t.Ab=e.Ab;var n={Bb:"run",fc:e.ec,Hb:e.Hb,Ab:e.Ab};return t.postMessage(n,e.Mb),0},ce=0,ue=function(e,t){for(var n=2*(arguments.length<=2?0:arguments.length-2),r=Sr(),i=Ar(8*n),a=i>>>3,o=0;o<(arguments.length<=2?0:arguments.length-2);o++){var s=o+2<2||arguments.length<=o+2?void 0:arguments[o+2];"bigint"==typeof s?(I[a+2*o]=1n,I[a+2*o+1]=s):(I[a+2*o]=0n,H()[a+2*o+1>>>0]=s)}return e=wr(e,0,n,i,t),Tr(r),e};function de(e){if(c)return ue(0,1,e);if(D=e,!(0<ce)){for(var t of me)oe(t);for(t of fe)oe(t);fe=[],me=[],ye={},O=!0}g(0,new ae(e))}function he(e){if(c)return ue(1,0,e);pe(e)}var pe=e=>{if(D=e,c)throw he(e),"unwind";de(e)},fe=[],me=[],ge=[],ye={},be=e=>{var t=e.Ab;delete ye[t],fe.push(e),me.splice(me.indexOf(e),1),e.Ab=0,vr(t)};function we(){ge.forEach((e=>e()))}var ve=e=>new Promise((t=>{e.onmessage=n=>{var r=(n=n.data).Bb;if(n.Gb&&n.Gb!=fr()){var a=ye[n.Gb];a?a.postMessage(n,n.Mb):_('Internal error! Worker sent a message "'.concat(r,'" to target pthread ').concat(n.Gb,", but that thread no longer exists!"))}else"checkMailbox"===r?Ft():"spawnThread"===r?le(n):"cleanupThread"===r?be(ye[n.hc]):"loaded"===r?(e.loaded=!0,t(e)):"alert"===r?alert("Thread ".concat(n.ic,": ").concat(n.text)):"setimmediate"===n.target?e.postMessage(n):"callHandler"===r?i[n.Qb](...n.args):r&&_("worker sent an unknown command ".concat(r))},e.onerror=e=>{throw _("worker sent an error! ".concat(e.filename,":").concat(e.lineno,": ").concat(e.message)),e};var n,r=[];for(n of[])i.propertyIsEnumerable(n)&&r.push(n);e.postMessage({Bb:"load",Rb:r,kc:x,lc:k})}));function _e(){var e=new Worker(new URL(__webpack_require__(618),__webpack_require__.b),{type:"module",workerData:"em-pthread",name:"em-pthread"});fe.push(e)}var xe=e=>{Y();var t=q()[e+52>>>2>>>0];e=q()[e+56>>>2>>>0],Dr(t,t-e),Tr(t)},ke=(e,t)=>{ce=0,e=Cr(e,t),0<ce?D=e:_r(e)};class De{constructor(e){this.Ib=e-24}}function Te(e,t,n){var r=new De(e>>>=0);throw t>>>=0,n>>>=0,q()[r.Ib+16>>>2>>>0]=0,q()[r.Ib+4>>>2>>>0]=t,q()[r.Ib+8>>>2>>>0]=n,e}function Ae(e,t,n,r){return c?ue(2,1,e,t,n,r):Se(e,t,n,r)}function Se(e,t,n,r){if(e>>>=0,n>>>=0,r>>>=0,void 0===u)return 6;var i=[];return c&&0===i.length?Ae(e,t>>>=0,n,r):(e={ec:n,Ab:e,Hb:r,Mb:i},c?(e.Bb="spawnThread",postMessage(e,i),0):le(e))}var Ce=typeof TextDecoder<"u"?new TextDecoder:void 0,Ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&Ce)return Ce.decode(e.buffer instanceof ArrayBuffer?e.subarray(t,n):e.slice(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r},Fe=(e,t)=>(e>>>=0)?Ee(R(),e,t):"";function Me(e,t,n){return c?ue(3,1,e,t,n):0}function Ie(e,t){if(c)return ue(4,1,e,t)}var Pe=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t},ze=(e,t,n)=>{var r=R();if(t>>>=0,0<n){var i=t;n=t+n-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(t>=n)break;r[t++>>>0]=o}else{if(2047>=o){if(t+1>=n)break;r[t++>>>0]=192|o>>6}else{if(65535>=o){if(t+2>=n)break;r[t++>>>0]=224|o>>12}else{if(t+3>=n)break;r[t++>>>0]=240|o>>18,r[t++>>>0]=128|o>>12&63}r[t++>>>0]=128|o>>6&63}r[t++>>>0]=128|63&o}}r[t>>>0]=0,e=t-i}else e=0;return e};function Ne(e,t){if(c)return ue(5,1,e,t)}function Oe(e,t,n){if(c)return ue(6,1,e,t,n)}function Be(e,t,n){return c?ue(7,1,e,t,n):0}function Le(e,t){if(c)return ue(8,1,e,t)}function Re(e,t,n){if(c)return ue(9,1,e,t,n)}function je(e,t,n,r){if(c)return ue(10,1,e,t,n,r)}function Ve(e,t,n,r){if(c)return ue(11,1,e,t,n,r)}function We(e,t,n,r){if(c)return ue(12,1,e,t,n,r)}function Ue(e){if(c)return ue(13,1,e)}function He(e,t){if(c)return ue(14,1,e,t)}function Ge(e,t,n){if(c)return ue(15,1,e,t,n)}var Ke,Ye,Je=()=>ee(""),Ze=e=>{for(var t="";R()[e>>>0];)t+=Ke[R()[e++>>>0]];return t},Xe={},$e={},Qe={};function et(e,t){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r=t.name;if(!e)throw new Ye('type "'.concat(r,'" must have a positive integer typeid pointer'));if($e.hasOwnProperty(e)){if(n.Sb)return;throw new Ye("Cannot register type '".concat(r,"' twice"))}$e[e]=t,delete Qe[e],Xe.hasOwnProperty(e)&&(t=Xe[e],delete Xe[e],t.forEach((e=>e())))}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}var tt=(e,t,n)=>{switch(t){case 1:return n?e=>L()[e>>>0]:e=>R()[e>>>0];case 2:return n?e=>j()[e>>>1>>>0]:e=>V()[e>>>1>>>0];case 4:return n?e=>W()[e>>>2>>>0]:e=>q()[e>>>2>>>0];case 8:return n?e=>I[e>>>3]:e=>P[e>>>3];default:throw new TypeError("invalid integer width (".concat(t,"): ").concat(e))}};function nt(e,t,n){n>>>=0,et(e>>>=0,{name:t=Ze(t>>>0),fromWireType:e=>e,toWireType:function(e,t){if("bigint"!=typeof t&&"number"!=typeof t)throw t=null===t?"null":"object"==(e=typeof t)||"array"===e||"function"===e?t.toString():""+t,new TypeError('Cannot convert "'.concat(t,'" to ').concat(this.name));return"number"==typeof t&&(t=BigInt(t)),t},Cb:rt,readValueFromPointer:tt(t,n,-1==t.indexOf("u")),Db:null})}var rt=8;function it(e,t,n,r){et(e>>>=0,{name:t=Ze(t>>>0),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:r},Cb:rt,readValueFromPointer:function(e){return this.fromWireType(R()[e>>>0])},Db:null})}var at=[],ot=[];function st(e){9<(e>>>=0)&&0==--ot[e+1]&&(ot[e]=void 0,at.push(e))}var lt=e=>{if(!e)throw new Ye("Cannot use deleted val. handle = "+e);return ot[e]},ct=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=at.pop()||ot.length;return ot[t]=e,ot[t+1]=1,t}};function ut(e){return this.fromWireType(q()[e>>>2>>>0])}var dt={name:"emscripten::val",fromWireType:e=>{var t=lt(e);return st(e),t},toWireType:(e,t)=>ct(t),Cb:rt,readValueFromPointer:ut,Db:null};function ht(e){return et(e>>>0,dt)}var pt=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(U()[e>>>2>>>0])};case 8:return function(e){return this.fromWireType(H()[e>>>3>>>0])};default:throw new TypeError("invalid float width (".concat(t,"): ").concat(e))}};function ft(e,t,n){n>>>=0,et(e>>>=0,{name:t=Ze(t>>>0),fromWireType:e=>e,toWireType:(e,t)=>t,Cb:rt,readValueFromPointer:pt(t,n),Db:null})}function mt(e,t,n,r,i){if(e>>>=0,n>>>=0,t=Ze(t>>>0),-1===i&&(i=4294967295),i=e=>e,0===r){var a=32-8*n;i=e=>e<<a>>>a}var o=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t};et(e,{name:t,fromWireType:i,toWireType:o,Cb:rt,readValueFromPointer:tt(t,n,0!==r),Db:null})}function gt(e,t,n){function r(e){var t=q()[e>>>2>>>0];return e=q()[e+4>>>2>>>0],new i(L().buffer,e,t)}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];et(e>>>=0,{name:n=Ze(n>>>0),fromWireType:r,Cb:rt,readValueFromPointer:r},{Sb:!0})}function yt(e,t){et(e>>>=0,{name:t=Ze(t>>>0),fromWireType:function(e){for(var t,n=q()[e>>>2>>>0],r=e+4,i=r,a=0;a<=n;++a){var o=r+a;a!=n&&0!=R()[o>>>0]||(i=Fe(i,o-i),void 0===t?t=i:(t+="\0",t+=i),i=o+1)}return mr(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;if(!(n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array))throw new Ye("Cannot pass non-string to std::string");var r=n?Pe(t):t.length,i=gr(4+r+1),a=i+4;if(q()[i>>>2>>>0]=r,n)ze(t,a,r+1);else if(n)for(n=0;n<r;++n){var o=t.charCodeAt(n);if(255<o)throw mr(i),new Ye("String has UTF-16 code units that do not fit in 8 bits");R()[a+n>>>0]=o}else for(n=0;n<r;++n)R()[a+n>>>0]=t[n];return null!==e&&e.push(mr,i),i},Cb:rt,readValueFromPointer:ut,Db(e){mr(e)}})}var bt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,wt=(e,t)=>{for(var n=e>>1,r=n+t/2;!(n>=r)&&V()[n>>>0];)++n;if(32<(n<<=1)-e&&bt)return bt.decode(R().slice(e,n));for(n="",r=0;!(r>=t/2);++r){var i=j()[e+2*r>>>1>>>0];if(0==i)break;n+=String.fromCharCode(i)}return n},vt=(e,t,n)=>{if(null!==n&&void 0!==n||(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var i=0;i<n;++i){var a=e.charCodeAt(i);j()[t>>>1>>>0]=a,t+=2}return j()[t>>>1>>>0]=0,t-r},_t=e=>2*e.length,xt=(e,t)=>{for(var n=0,r="";!(n>=t/4);){var i=W()[e+4*n>>>2>>>0];if(0==i)break;++n,65536<=i?(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i)):r+=String.fromCharCode(i)}return r},kt=(e,t,n)=>{if(null!==n&&void 0!==n||(n=2147483647),4>n)return 0;var r=t>>>=0;n=r+n-4;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),W()[t>>>2>>>0]=a,(t+=4)+4>n)break}return W()[t>>>2>>>0]=0,t-r},Dt=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t};function Tt(e,t,n){if(e>>>=0,t>>>=0,n=Ze(n>>>=0),2===t)var r=wt,i=vt,a=_t,o=e=>V()[e>>>1>>>0];else 4===t&&(r=xt,i=kt,a=Dt,o=e=>q()[e>>>2>>>0]);et(e,{name:n,fromWireType:e=>{for(var n,i=q()[e>>>2>>>0],a=e+4,s=0;s<=i;++s){var l=e+4+s*t;s!=i&&0!=o(l)||(a=r(a,l-a),void 0===n?n=a:(n+="\0",n+=a),a=l+t)}return mr(e),n},toWireType:(e,r)=>{if("string"!=typeof r)throw new Ye("Cannot pass non-string to C++ string type ".concat(n));var o=a(r),s=gr(4+o+t);return q()[s>>>2>>>0]=o/t,i(r,s+4,o+t),null!==e&&e.push(mr,s),s},Cb:rt,readValueFromPointer:ut,Db(e){mr(e)}})}function At(e,t){et(e>>>=0,{Tb:!0,name:t=Ze(t>>>0),Cb:0,fromWireType:()=>{},toWireType:()=>{}})}function St(e){yr(e>>>0,!s,1,!o,131072,!1),we()}var Ct=e=>{if(!O)try{if(e(),!(0<ce))try{c?_r(D):pe(D)}catch(t){t instanceof ae||"unwind"==t||g(0,t)}}catch(t){t instanceof ae||"unwind"==t||g(0,t)}};function Et(e){e>>>=0,"function"==typeof Atomics.jc&&(Atomics.jc(W(),e>>>2,e).value.then(Ft),e+=128,Atomics.store(W(),e>>>2,1))}var Ft=()=>{var e=fr();e&&(Et(e),Ct(kr))};function Mt(e,t){(e>>>=0)==t>>>0?setTimeout(Ft):c?postMessage({Gb:e,Bb:"checkMailbox"}):(e=ye[e])&&e.postMessage({Bb:"checkMailbox"})}var It=[];function Pt(e,t,n,r,i){for(t>>>=0,r/=2,It.length=r,n=i>>>0>>>3,i=0;i<r;i++)It[i]=I[n+2*i]?I[n+2*i+1]:H()[n+2*i+1>>>0];return(t?ne[t]:dr[e])(...It)}var zt=()=>{ce=0};function Nt(e){e>>>=0,c?postMessage({Bb:"cleanupThread",hc:e}):be(ye[e])}function Ot(e){}var Bt=(e,t)=>{var n=$e[e];if(void 0===n)throw e=hr(e),n=Ze(e),mr(e),new Ye("".concat(t," has unknown type ").concat(n));return n},Lt=(e,t,n)=>{var r=[];return e=e.toWireType(r,n),r.length&&(q()[t>>>2>>>0]=ct(r)),e};function Rt(e,t,n){return t>>>=0,n>>>=0,e=lt(e>>>0),t=Bt(t,"emval::as"),Lt(t,n,e)}function jt(e,t){return t>>>=0,e=lt(e>>>0),(t=Bt(t,"emval::as")).toWireType(null,e)}var Vt=e=>{try{e()}catch(t){ee(t)}},Wt=0,qt=null,Ut=0,Ht=[],Gt={},Kt={},Yt=0,Jt=null,Zt=[];function Xt(e){return function(){if(!O){if(0===Wt){var t=!1,n=!1;(t=>{e().then(t)})((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!O&&(Ut=e,t=!0,n)){Wt=2,Vt((()=>Mr(qt))),typeof MainLoop<"u"&&MainLoop.Pb&&MainLoop.resume(),e=!1;try{var r=function(){var e=W()[qt+8>>>2>>>0];return e=ur[Kt[e]],--ce,e()}()}catch(o){r=o,e=!0}var i=!1;if(!qt){var a=Jt;a&&(Jt=null,(e?a.reject:a.resolve)(r),i=!0)}if(e&&!i)throw r}})),n=!0,t||(Wt=1,qt=function(){var e=gr(65548),t=e+12;q()[e>>>2>>>0]=t,q()[e+4>>>2>>>0]=t+65536,t=Ht[0];var n=Gt[t];return void 0===n&&(n=Yt++,Gt[t]=n,Kt[n]=t),t=n,W()[e+8>>>2>>>0]=t,e}(),typeof MainLoop<"u"&&MainLoop.Pb&&MainLoop.pause(),Vt((()=>Er(qt))))}else 2===Wt?(Wt=0,Vt(Ir),mr(qt),qt=null,Zt.forEach(Ct)):ee("invalid state: ".concat(Wt));return Ut}}()}function $t(e){return e>>>=0,Xt((async()=>{var t=await lt(e);return ct(t)}))}var Qt=[];function en(e,t,n,r){return n>>>=0,r>>>=0,(e=Qt[e>>>0])(null,t=lt(t>>>0),n,r)}var tn={},nn=e=>{var t=tn[e];return void 0===t?Ze(e):t};function rn(e,t,n,r,i){return n>>>=0,r>>>=0,i>>>=0,(e=Qt[e>>>0])(t=lt(t>>>0),t[n=nn(n)],r,i)}var an=()=>"object"==typeof globalThis?globalThis:Function("return this")();function on(e){return 0==(e>>>=0)?ct(an()):(e=nn(e),ct(an()[e]))}var sn=e=>{var t=Qt.length;return Qt.push(e),t},ln=(e,t)=>{for(var n=Array(e),r=0;r<e;++r)n[r]=Bt(q()[t+4*r>>>2>>>0],"parameter "+r);return n},cn=(e,t)=>Object.defineProperty(t,"name",{value:e});function un(e,t,n){var r=(t=ln(e,t>>>0)).shift();e--;var i="return function (obj, func, destructorsRef, args) {\n",a=0,o=[];0===n&&o.push("obj");for(var s=["retType"],l=[r],c=0;c<e;++c)o.push("arg"+c),s.push("argType"+c),l.push(t[c]),i+="  var arg".concat(c," = argType").concat(c,".readValueFromPointer(args").concat(a?"+"+a:"",");\n"),a+=t[c].Cb;return i+="  var rv = ".concat(1===n?"new func":"func.call","(").concat(o.join(", "),");\n"),r.Tb||(s.push("emval_returnValue"),l.push(Lt),i+="  return emval_returnValue(retType, destructorsRef, rv);\n"),s.push(i+"};\n"),e=function(e){var t=Function;if(!(t instanceof Function))throw new TypeError("new_ called with constructor type ".concat(typeof t," which is not a function"));var n=cn(t.name||"unknownFunctionName",(function(){}));return n.prototype=t.prototype,n=new n,(e=t.apply(n,e))instanceof Object?e:n}(s)(...l),n="methodCaller<(".concat(t.map((e=>e.name)).join(", "),") => ").concat(r.name,">"),sn(cn(n,e))}function dn(e){return e=nn(e>>>0),ct(i[e])}function hn(e,t){return t>>>=0,e=lt(e>>>0),t=lt(t),ct(e[t])}function pn(e){9<(e>>>=0)&&(ot[e+1]+=1)}function fn(){return ct([])}function mn(e){e=lt(e>>>0);for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return ct(t)}function gn(e){return ct(nn(e>>>0))}function yn(){return ct({})}function bn(e){for(var t=lt(e>>>=0);t.length;){var n=t.pop();t.pop()(n)}st(e)}function wn(e,t,n){t>>>=0,n>>>=0,e=lt(e>>>0),t=lt(t),n=lt(n),e[t]=n}function vn(e,t){return t>>>=0,e=(e=Bt(e>>>0,"_emval_take_value")).readValueFromPointer(t),ct(e)}function _n(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),W()[t>>>2>>>0]=e.getUTCSeconds(),W()[t+4>>>2>>>0]=e.getUTCMinutes(),W()[t+8>>>2>>>0]=e.getUTCHours(),W()[t+12>>>2>>>0]=e.getUTCDate(),W()[t+16>>>2>>>0]=e.getUTCMonth(),W()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,W()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,W()[t+28>>>2>>>0]=e}var xn=e=>e%4==0&&(e%100!=0||e%400==0),kn=[0,31,60,91,121,152,182,213,244,274,305,335],Dn=[0,31,59,90,120,151,181,212,243,273,304,334];function Tn(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),W()[t>>>2>>>0]=e.getSeconds(),W()[t+4>>>2>>>0]=e.getMinutes(),W()[t+8>>>2>>>0]=e.getHours(),W()[t+12>>>2>>>0]=e.getDate(),W()[t+16>>>2>>>0]=e.getMonth(),W()[t+20>>>2>>>0]=e.getFullYear()-1900,W()[t+24>>>2>>>0]=e.getDay();var n=(xn(e.getFullYear())?kn:Dn)[e.getMonth()]+e.getDate()-1|0;W()[t+28>>>2>>>0]=n,W()[t+36>>>2>>>0]=-60*e.getTimezoneOffset(),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var r=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(n!=r&&e.getTimezoneOffset()==Math.min(r,n)),W()[t+32>>>2>>>0]=e}function An(e){e>>>=0;var t=new Date(W()[e+20>>>2>>>0]+1900,W()[e+16>>>2>>>0],W()[e+12>>>2>>>0],W()[e+8>>>2>>>0],W()[e+4>>>2>>>0],W()[e>>>2>>>0],0),n=W()[e+32>>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=new Date(t.getFullYear(),0,1).getTimezoneOffset(),o=Math.min(a,i);return 0>n?W()[e+32>>>2>>>0]=+(i!=a&&o==r):0<n!=(o==r)&&(i=Math.max(a,i),t.setTime(t.getTime()+6e4*((0<n?o:i)-r))),W()[e+24>>>2>>>0]=t.getDay(),n=(xn(t.getFullYear())?kn:Dn)[t.getMonth()]+t.getDate()-1|0,W()[e+28>>>2>>>0]=n,W()[e>>>2>>>0]=t.getSeconds(),W()[e+4>>>2>>>0]=t.getMinutes(),W()[e+8>>>2>>>0]=t.getHours(),W()[e+12>>>2>>>0]=t.getDate(),W()[e+16>>>2>>>0]=t.getMonth(),W()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),BigInt(isNaN(e)?-1:e/1e3)}function Sn(e,t,n,r,i,a,o){return c?ue(16,1,e,t,n,r,i,a,o):-52}function Cn(e,t,n,r,i,a){if(c)return ue(17,1,e,t,n,r,i,a)}var En={},Fn=()=>performance.timeOrigin+performance.now();function Mn(e,t){if(c)return ue(18,1,e,t);if(En[e]&&(clearTimeout(En[e].id),delete En[e]),!t)return 0;var n=setTimeout((()=>{delete En[e],Ct((()=>xr(e,performance.timeOrigin+performance.now())))}),t);return En[e]={id:n,qc:t},0}function In(e,t,n,r){e>>>=0,t>>>=0,n>>>=0,r>>>=0;var i=(new Date).getFullYear(),a=new Date(i,0,1).getTimezoneOffset();i=new Date(i,6,1).getTimezoneOffset();var o=Math.max(a,i);q()[e>>>2>>>0]=60*o,W()[t>>>2>>>0]=+(a!=i),e=(t=e=>{var t=Math.abs(e);return"UTC".concat(0<=e?"-":"+").concat(String(Math.floor(t/60)).padStart(2,"0")).concat(String(t%60).padStart(2,"0"))})(a),t=t(i),i<a?(ze(e,n,17),ze(t,r,17)):(ze(e,r,17),ze(t,n,17))}var Pn=()=>Date.now(),zn=1;function Nn(e,t,n){if(!(0<=e&&3>=e))return 28;if(0===e)e=Date.now();else{if(!zn)return 52;e=performance.timeOrigin+performance.now()}return I[n>>>0>>>3]=BigInt(Math.round(1e6*e)),0}var On=[],Bn=(e,t)=>{On.length=0;for(var n;n=R()[e++>>>0];){var r=105!=n;t+=(r&=112!=n)&&t%8?4:0,On.push(112==n?q()[t>>>2>>>0]:106==n?I[t>>>3]:105==n?W()[t>>>2>>>0]:H()[t>>>3>>>0]),t+=r?8:4}return On};function Ln(e,t,n){return e>>>=0,t=Bn(t>>>0,n>>>0),ne[e](...t)}function Rn(e,t,n){return e>>>=0,t=Bn(t>>>0,n>>>0),ne[e](...t)}var jn=()=>{};function Vn(e,t){return _(Fe(e>>>0,t>>>0))}var Wn=()=>{throw ce+=1,"unwind"};function qn(){return 4294901760}var Un=()=>navigator.hardwareConcurrency;function Hn(){return ee("Cannot use emscripten_pc_get_function without -sUSE_OFFSET_CONVERTER"),0}function Gn(e){e>>>=0;var t=R().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);e:{r=(Math.min(4294901760,65536*Math.ceil(Math.max(e,r)/65536))-x.buffer.byteLength+65535)/65536|0;try{x.grow(r),Y();var i=1;break e}catch(a){}i=void 0}if(i)return!0}return!1}var Kn=()=>(ee("Cannot use convertFrameToPC (needed by __builtin_return_address) without -sUSE_OFFSET_CONVERTER"),0),Yn={},Jn=e=>{e.forEach((e=>{var t=Kn();t&&(Yn[t]=e)}))};function Zn(){var e=Error().stack.toString().split("\n");return"Error"==e[0]&&e.shift(),Jn(e),Yn.Lb=Kn(),Yn.cc=e,Yn.Lb}function Xn(e,t,n){if(e>>>=0,t>>>=0,Yn.Lb==e)var r=Yn.cc;else"Error"==(r=Error().stack.toString().split("\n"))[0]&&r.shift(),Jn(r);for(var i=3;r[i]&&Kn()!=e;)++i;for(e=0;e<n&&r[e+i];++e)W()[t+4*e>>>2>>>0]=Kn();return e}var $n,Qn={},er=()=>{if(!$n){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"};for(e in Qn)void 0===Qn[e]?delete t[e]:t[e]=Qn[e];var n=[];for(e in t)n.push("".concat(e,"=").concat(t[e]));$n=n}return $n};function tr(e,t){if(c)return ue(19,1,e,t);e>>>=0,t>>>=0;var n=0;return er().forEach(((r,i)=>{var a=t+n;for(i=q()[e+4*i>>>2>>>0]=a,a=0;a<r.length;++a)L()[i++>>>0]=r.charCodeAt(a);L()[i>>>0]=0,n+=r.length+1})),0}function nr(e,t){if(c)return ue(20,1,e,t);e>>>=0,t>>>=0;var n=er();q()[e>>>2>>>0]=n.length;var r=0;return n.forEach((e=>r+=e.length+1)),q()[t>>>2>>>0]=r,0}function rr(e){return c?ue(21,1,e):52}function ir(e,t,n,r){return c?ue(22,1,e,t,n,r):52}function ar(e,t,n,r){return c?ue(23,1,e,t,n,r):70}var or=[null,[],[]];function sr(e,t,n,r){if(c)return ue(24,1,e,t,n,r);t>>>=0,n>>>=0,r>>>=0;for(var i=0,a=0;a<n;a++){var o=q()[t>>>2>>>0],s=q()[t+4>>>2>>>0];t+=8;for(var l=0;l<s;l++){var u=R()[o+l>>>0],d=or[e];0===u||10===u?((1===e?v:_)(Ee(d)),d.length=0):d.push(u)}i+=s}return q()[r>>>2>>>0]=i,0}c||function(){for(var e=i.numThreads-1;e--;)_e();se.unshift((()=>{var e;X++,e=()=>Q(),c?e():Promise.all(fe.map(ve)).then(e)}))}();for(var lr=Array(256),cr=0;256>cr;++cr)lr[cr]=String.fromCharCode(cr);Ke=lr,Ye=i.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},i.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},ot.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=()=>ot.length/2-5-at.length;var ur,dr=[de,he,Ae,Me,Ie,Ne,Oe,Be,Le,Re,je,Ve,We,Ue,He,Ge,Sn,Cn,Mn,tr,nr,rr,ir,ar,sr];!async function(){function e(e,t){return ur=e.exports,ur=function(){var e=ur,t={};for(let[n,r]of Object.entries(e))t[n]="function"==typeof r?function(){Ht.push(n);try{return r(...arguments)}finally{O||(Ht.pop(),qt&&1===Wt&&0===Ht.length&&(Wt=0,ce+=1,Vt(Fr),typeof Fibers<"u"&&Fibers.rc()))}}:r;return t}(),ur=function(){var e=ur,t=e=>t=>e(t)>>>0,n=e=>()=>e()>>>0;return(e=Object.assign({},e)).Da=t(e.Da),e.fb=n(e.fb),e.hb=t(e.hb),e.tb=t(e.tb),e.ub=n(e.ub),e.__cxa_get_exception_ptr=t(e.__cxa_get_exception_ptr),e}(),ge.push(ur.ib),k=t,Q(),ur}X++;var t=te();if(i.instantiateWasm)return new Promise((n=>{i.instantiateWasm(t,((t,r)=>{e(t,r),n(t.exports)}))}));if(c)return new Promise((t=>{G=n=>{var r=new WebAssembly.Instance(n,te());t(e(r,n))}}));null!==Z&&void 0!==Z||(Z=i.locateFile?i.locateFile?i.locateFile("ort-wasm-simd-threaded.jsep.wasm",y):y+"ort-wasm-simd-threaded.jsep.wasm":new URL(__webpack_require__(98),__webpack_require__.b).href);try{var n=await async function(e){var t=Z;if(!N&&"function"==typeof WebAssembly.instantiateStreaming&&!B(t))try{var n=fetch(t,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(n,e)}catch(r){_("wasm streaming compile failed: ".concat(r)),_("falling back to ArrayBuffer instantiation")}return async function(e,t){try{var n=await async function(e){if(!N)try{var t=await p(e);return new Uint8Array(t)}catch(n){}if(e==Z&&N)e=new Uint8Array(N);else{if(!f)throw"both async and sync fetching of the wasm failed";e=f(e)}return e}(e);return await WebAssembly.instantiate(n,t)}catch(r){_("failed to asynchronously prepare wasm: ".concat(r)),ee(r)}}(t,e)}(t);return e(n.instance,n.module)}catch(a){return r(a),Promise.reject(a)}}();var hr=e=>(hr=ur.Da)(e),pr=()=>(pr=ur.Ea)();i._OrtInit=(e,t)=>(i._OrtInit=ur.Fa)(e,t),i._OrtGetLastError=(e,t)=>(i._OrtGetLastError=ur.Ga)(e,t),i._OrtCreateSessionOptions=(e,t,n,r,a,o,s,l,c,u)=>(i._OrtCreateSessionOptions=ur.Ha)(e,t,n,r,a,o,s,l,c,u),i._OrtAppendExecutionProvider=(e,t,n,r,a)=>(i._OrtAppendExecutionProvider=ur.Ia)(e,t,n,r,a),i._OrtAddFreeDimensionOverride=(e,t,n)=>(i._OrtAddFreeDimensionOverride=ur.Ja)(e,t,n),i._OrtAddSessionConfigEntry=(e,t,n)=>(i._OrtAddSessionConfigEntry=ur.Ka)(e,t,n),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=ur.La)(e),i._OrtCreateSession=(e,t,n)=>(i._OrtCreateSession=ur.Ma)(e,t,n),i._OrtReleaseSession=e=>(i._OrtReleaseSession=ur.Na)(e),i._OrtGetInputOutputCount=(e,t,n)=>(i._OrtGetInputOutputCount=ur.Oa)(e,t,n),i._OrtGetInputOutputMetadata=(e,t,n,r)=>(i._OrtGetInputOutputMetadata=ur.Pa)(e,t,n,r),i._OrtFree=e=>(i._OrtFree=ur.Qa)(e),i._OrtCreateTensor=(e,t,n,r,a,o)=>(i._OrtCreateTensor=ur.Ra)(e,t,n,r,a,o),i._OrtGetTensorData=(e,t,n,r,a)=>(i._OrtGetTensorData=ur.Sa)(e,t,n,r,a),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=ur.Ta)(e),i._OrtCreateRunOptions=(e,t,n,r)=>(i._OrtCreateRunOptions=ur.Ua)(e,t,n,r),i._OrtAddRunConfigEntry=(e,t,n)=>(i._OrtAddRunConfigEntry=ur.Va)(e,t,n),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=ur.Wa)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=ur.Xa)(e),i._OrtBindInput=(e,t,n)=>(i._OrtBindInput=ur.Ya)(e,t,n),i._OrtBindOutput=(e,t,n,r)=>(i._OrtBindOutput=ur.Za)(e,t,n,r),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=ur._a)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=ur.$a)(e),i._OrtRunWithBinding=(e,t,n,r,a)=>(i._OrtRunWithBinding=ur.ab)(e,t,n,r,a),i._OrtRun=(e,t,n,r,a,o,s,l)=>(i._OrtRun=ur.bb)(e,t,n,r,a,o,s,l),i._OrtEndProfiling=e=>(i._OrtEndProfiling=ur.cb)(e),i._JsepOutput=(e,t,n)=>(i._JsepOutput=ur.db)(e,t,n),i._JsepGetNodeName=e=>(i._JsepGetNodeName=ur.eb)(e);var fr=()=>(fr=ur.fb)(),mr=i._free=e=>(mr=i._free=ur.gb)(e),gr=i._malloc=e=>(gr=i._malloc=ur.hb)(e),yr=(e,t,n,r,i,a)=>(yr=ur.kb)(e,t,n,r,i,a),br=()=>(br=ur.lb)(),wr=(e,t,n,r,i)=>(wr=ur.mb)(e,t,n,r,i),vr=e=>(vr=ur.nb)(e),_r=e=>(_r=ur.ob)(e),xr=(e,t)=>(xr=ur.pb)(e,t),kr=()=>(kr=ur.qb)(),Dr=(e,t)=>(Dr=ur.rb)(e,t),Tr=e=>(Tr=ur.sb)(e),Ar=e=>(Ar=ur.tb)(e),Sr=()=>(Sr=ur.ub)(),Cr=i.dynCall_ii=(e,t)=>(Cr=i.dynCall_ii=ur.vb)(e,t),Er=e=>(Er=ur.wb)(e),Fr=()=>(Fr=ur.xb)(),Mr=e=>(Mr=ur.yb)(e),Ir=()=>(Ir=ur.zb)();return i.stackSave=()=>Sr(),i.stackRestore=e=>Tr(e),i.stackAlloc=e=>Ar(e),i.setValue=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i8";switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":L()[e>>>0]=t;break;case"i16":j()[e>>>1>>>0]=t;break;case"i32":W()[e>>>2>>>0]=t;break;case"i64":I[e>>>3]=BigInt(t);break;case"float":U()[e>>>2>>>0]=t;break;case"double":H()[e>>>3>>>0]=t;break;case"*":q()[e>>>2>>>0]=t;break;default:ee("invalid type for setValue: ".concat(n))}},i.getValue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return L()[e>>>0];case"i16":return j()[e>>>1>>>0];case"i32":return W()[e>>>2>>>0];case"i64":return I[e>>>3];case"float":return U()[e>>>2>>>0];case"double":return H()[e>>>3>>>0];case"*":return q()[e>>>2>>>0];default:ee("invalid type for getValue: ".concat(t))}},i.UTF8ToString=Fe,i.stringToUTF8=ze,i.lengthBytesUTF8=Pe,function e(){if(0<X)$=e;else if(c)n(i),J();else{for(;0<se.length;)se.shift()(i);0<X?$=e:(i.calledRun=!0,O||(J(),n(i)))}}(),i.PTR_SIZE=4,a},He=Ue,(null===(e=globalThis.self)||void 0===e||null===(e=e.name)||void 0===e?void 0:e.startsWith("em-pthread"))&&Ue()})),Fc=pe((()=>{Oe(),Ge=typeof location>"u"?void 0:location.origin,Ke=!0,Ye=()=>{if(Ke){let e=URL;return new URL(new e(__webpack_require__(618),__webpack_require__.b).href,Ge).href}return"file:///Users/emilyreif/Documents/github/llm-consistency-vis/node_modules/onnxruntime-web/dist/ort.bundle.min.mjs"},Je=Ye(),Ze=()=>{if(Je&&!Je.startsWith("blob:"))return Je.substring(0,Je.lastIndexOf("/")+1)},Xe=(e,t)=>{try{let n=null!==t&&void 0!==t?t:Je;return(n?new URL(e,n):new URL(e)).origin===Ge}catch(n){return!1}},$e=(e,t)=>{let n=null!==t&&void 0!==t?t:Je;try{return(n?new URL(e,n):new URL(e)).href}catch(r){return}},Qe=(e,t)=>"".concat(null!==t&&void 0!==t?t:"./").concat(e),et=async e=>{let t=await(await fetch(e,{credentials:"same-origin"})).blob();return URL.createObjectURL(t)},tt=async e=>(await import(e)).default,nt=(Ve(),me(Be)).default,rt=async()=>{if(!Je)throw new Error("Failed to load proxy worker: cannot determine the script source URL.");if(Xe(Je))return[void 0,nt()];let e=await et(Je);return[e,nt(e)]},it=(Ec(),me(We)).default,at=async(e,t,n)=>{if(!e&&!t&&it&&Je&&Xe(Je))return[void 0,it];{let r="ort-wasm-simd-threaded.jsep.mjs",i=null!==e&&void 0!==e?e:$e(r,t),a=n&&i&&!Xe(i,t),o=a?await et(i):null!==i&&void 0!==i?i:Qe(r,t);return[a?o:void 0,await tt(o)]}}})),Mc=pe((()=>{Fc(),st=!1,lt=!1,ct=!1,ut=()=>{if(typeof SharedArrayBuffer>"u")return!1;try{return typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}},dt=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}},ht=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,19,1,17,0,65,1,253,15,65,2,253,15,65,3,253,15,253,147,2,11]))}catch(e){return!1}},pt=async e=>{var t,n;if(st)return Promise.resolve();if(lt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(ct)throw new Error("previous call to 'initializeWebAssembly()' failed.");lt=!0;let r=e.initTimeout,i=e.numThreads;if(!1!==e.simd)if("relaxed"===e.simd){if(!ht())throw new Error("Relaxed WebAssembly SIMD is not supported in the current environment.")}else if(!dt())throw new Error("WebAssembly SIMD is not supported in the current environment.");let a=ut();i>1&&!a&&(typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+i+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),console.warn("WebAssembly multi-threading is not supported in the current environment. Falling back to single-threading."),e.numThreads=i=1);let o=e.wasmPaths,s="string"==typeof o?o:void 0,l=null===o||void 0===o?void 0:o.mjs,c=null!==(t=null===l||void 0===l?void 0:l.href)&&void 0!==t?t:l,u=null===o||void 0===o?void 0:o.wasm,d=null!==(n=null===u||void 0===u?void 0:u.href)&&void 0!==n?n:u,h=e.wasmBinary,[p,f]=await at(c,s,i>1),m=!1,g=[];if(r>0&&g.push(new Promise((e=>{setTimeout((()=>{m=!0,e()}),r)}))),g.push(new Promise(((e,t)=>{let n={numThreads:i};if(h)n.wasmBinary=h;else if(d||s)n.locateFile=e=>null!==d&&void 0!==d?d:s+e;else if(c&&0!==c.indexOf("blob:"))n.locateFile=e=>new URL(e,c).href;else if(p){let e=Ze();e&&(n.locateFile=t=>e+t)}f(n).then((t=>{lt=!1,st=!0,ot=t,e(),p&&URL.revokeObjectURL(p)}),(e=>{lt=!1,ct=!0,t(e)}))}))),await Promise.race(g),m)throw new Error("WebAssembly backend initializing failed due to timeout: ".concat(r,"ms"))},ft=()=>{if(st&&ot)return ot;throw new Error("WebAssembly is not initialized yet.")}})),Ic=pe((()=>{Mc(),mt=(e,t)=>{let n=ft(),r=n.lengthBytesUTF8(e)+1,i=n._malloc(r);return n.stringToUTF8(e,i,r),t.push(i),i},gt=(e,t,n,r)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((e=>{let[i,a]=e,o=t?t+i:i;if("object"==typeof a)gt(a,o+".",n,r);else if("string"==typeof a||"number"==typeof a)r(o,a.toString());else{if("boolean"!=typeof a)throw new Error("Can't handle extra config type: ".concat(typeof a));r(o,a?"1":"0")}}))},yt=e=>{let t=ft(),n=t.stackSave();try{let n=t.PTR_SIZE,r=t.stackAlloc(2*n);t._OrtGetLastError(r,r+n);let i=Number(t.getValue(r,4===n?"i32":"i64")),a=t.getValue(r+n,"*"),o=a?t.UTF8ToString(a):"";throw new Error("".concat(e," ERROR_CODE: ").concat(i,", ERROR_MESSAGE: ").concat(o))}finally{t.stackRestore(n)}}})),Pc=pe((()=>{Mc(),Ic(),bt=e=>{let t=ft(),n=0,r=[],i=e||{};try{if(void 0===(null===e||void 0===e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null===e||void 0===e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));void 0===(null===e||void 0===e?void 0:e.terminate)&&(i.terminate=!1);let a=0;return void 0!==(null===e||void 0===e?void 0:e.tag)&&(a=mt(e.tag,r)),n=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,a),0===n&&yt("Can't create run options."),void 0!==(null===e||void 0===e?void 0:e.extra)&&gt(e.extra,"",new WeakSet,((e,i)=>{let a=mt(e,r),o=mt(i,r);0!==t._OrtAddRunConfigEntry(n,a,o)&&yt("Can't set a run config entry: ".concat(e," - ").concat(i,"."))})),[n,r]}catch(a){throw 0!==n&&t._OrtReleaseRunOptions(n),r.forEach((e=>t._free(e))),a}}})),zc=pe((()=>{Mc(),Ic(),wt=e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: ".concat(e))}},vt=e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: ".concat(e))}},_t=e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});let t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)},xt=(e,t,n,r)=>{let i=mt(t,r),a=mt(n,r);0!==ft()._OrtAddSessionConfigEntry(e,i,a)&&yt("Can't set a session config entry: ".concat(t," - ").concat(n,"."))},kt=async(e,t,n)=>{for(let r of t){let t="string"==typeof r?r:r.name,i=[];switch(t){case"webnn":if(t="WEBNN","string"!=typeof r){let t=null===r||void 0===r?void 0:r.deviceType;t&&xt(e,"deviceType",t,n)}break;case"webgpu":if(t="JS","string"!=typeof r){let t=r;if(null!==t&&void 0!==t&&t.preferredLayout){if("NCHW"!==t.preferredLayout&&"NHWC"!==t.preferredLayout)throw new Error("preferredLayout must be either 'NCHW' or 'NHWC': ".concat(t.preferredLayout));xt(e,"preferredLayout",t.preferredLayout,n)}}break;case"wasm":case"cpu":continue;default:throw new Error("not supported execution provider: ".concat(t))}let a=mt(t,n),o=i.length,s=0,l=0;if(o>0){s=ft()._malloc(o*ft().PTR_SIZE),n.push(s),l=ft()._malloc(o*ft().PTR_SIZE),n.push(l);for(let e=0;e<o;e++)ft().setValue(s+e*ft().PTR_SIZE,i[e][0],"*"),ft().setValue(l+e*ft().PTR_SIZE,i[e][1],"*")}0!==await ft()._OrtAppendExecutionProvider(e,a,s,l,o)&&yt("Can't append execution provider: ".concat(t,"."))}},Dt=async e=>{let t=ft(),n=0,r=[],i=e||{};_t(i);try{var a,o,s,l;let e=wt(null!==(a=i.graphOptimizationLevel)&&void 0!==a?a:"all"),c=vt(null!==(o=i.executionMode)&&void 0!==o?o:"sequential"),u="string"==typeof i.logId?mt(i.logId,r):0,d=null!==(s=i.logSeverityLevel)&&void 0!==s?s:2;if(!Number.isInteger(d)||d<0||d>4)throw new Error("log serverity level is not valid: ".concat(d));let h=null!==(l=i.logVerbosityLevel)&&void 0!==l?l:0;if(!Number.isInteger(h)||h<0||h>4)throw new Error("log verbosity level is not valid: ".concat(h));let p="string"==typeof i.optimizedModelFilePath?mt(i.optimizedModelFilePath,r):0;if(n=t._OrtCreateSessionOptions(e,!!i.enableCpuMemArena,!!i.enableMemPattern,c,!!i.enableProfiling,0,u,d,h,p),0===n&&yt("Can't create session options."),i.executionProviders&&await kt(n,i.executionProviders,r),void 0!==i.enableGraphCapture){if("boolean"!=typeof i.enableGraphCapture)throw new Error("enableGraphCapture must be a boolean value: ".concat(i.enableGraphCapture));xt(n,"enableGraphCapture",i.enableGraphCapture.toString(),r)}if(i.freeDimensionOverrides)for(let[a,o]of Object.entries(i.freeDimensionOverrides)){if("string"!=typeof a)throw new Error("free dimension override name must be a string: ".concat(a));if("number"!=typeof o||!Number.isInteger(o)||o<0)throw new Error("free dimension override value must be a non-negative integer: ".concat(o));let e=mt(a,r);0!==t._OrtAddFreeDimensionOverride(n,e,o)&&yt("Can't set a free dimension override: ".concat(a," - ").concat(o,"."))}return void 0!==i.extra&&gt(i.extra,"",new WeakSet,((e,t)=>{xt(n,e,t,r)})),[n,r]}catch(c){throw 0!==n&&0!==t._OrtReleaseSessionOptions(n)&&yt("Can't release session options."),r.forEach((e=>t._free(e))),c}}})),Nc=pe((()=>{Tt=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;case"int4":return 22;case"uint4":return 21;default:throw new Error("unsupported data type: ".concat(e))}},At=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";case 22:return"int4";case 21:return"uint4";default:throw new Error("unsupported data type: ".concat(e))}},St=(e,t)=>{let n=[-1,4,1,1,2,2,4,8,-1,1,2,8,4,8,-1,-1,-1,-1,-1,-1,-1,.5,.5][e],r="number"==typeof t?t:t.reduce(((e,t)=>e*t),1);return n>0?Math.ceil(r*n):void 0},Ct=e=>{switch(e){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: ".concat(e))}},Et=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: ".concat(e))}},Ft=e=>"float32"===e||"float16"===e||"int32"===e||"int64"===e||"uint32"===e||"uint8"===e||"bool"===e||"uint4"===e||"int4"===e,Mt=e=>"float32"===e||"float16"===e||"int32"===e||"int64"===e||"uint32"===e||"uint64"===e||"int8"===e||"uint8"===e||"bool"===e||"uint4"===e||"int4"===e,It=e=>{switch(e){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;case"ml-tensor":return 5;default:throw new Error("unsupported data location: ".concat(e))}}})),Oc=pe((()=>{Oe(),Pt=async e=>{if("string"==typeof e){let n=await fetch(e);if(!n.ok)throw new Error("failed to load external data file: ".concat(e));let r=n.headers.get("Content-Length"),i=r?parseInt(r,10):0;if(i<1073741824)return new Uint8Array(await n.arrayBuffer());{if(!n.body)throw new Error("failed to load external data file: ".concat(e,", no response body."));let r,a=n.body.getReader();try{r=new ArrayBuffer(i)}catch(t){if(!(t instanceof RangeError))throw t;{let e=Math.ceil(i/65536);r=new WebAssembly.Memory({initial:e,maximum:e}).buffer}}let o=0;for(;;){let{done:e,value:t}=await a.read();if(e)break;let n=t.byteLength;new Uint8Array(r,o,n).set(t),o+=n}return new Uint8Array(r,0,i)}}return e instanceof Blob?new Uint8Array(await e.arrayBuffer()):e instanceof Uint8Array?e:new Uint8Array(e)}})),Bc=pe((()=>{Nc(),zt=["V","I","W","E","F"],Nt=(e,t)=>{console.log("[".concat(zt[e],",").concat((new Date).toISOString(),"]").concat(t))},Lt=(e,t)=>{Ot=e,Bt=t},Rt=(e,t)=>{let n=Et(e);n>=Et(Ot)&&Nt(n,"function"==typeof t?t():t)},jt=function(){Bt&&Rt(...arguments)}})),Lc=pe((()=>{Vt=class{static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}},Wt=class{static calcShape(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.length,i=t.length;if(0===r)return t;if(0===i)return e;let a=Math.max(e.length,t.length),o=new Array(a);if(n){if(r<2||i<2)return;let n=Vt.calcMatMulShape([e[r-2],e[r-1]],[t[i-2],t[i-1]]);if(void 0===n)return;[o[a-2],o[a-1]]=n}for(let s=n?3:1;s<=a;s++){let n=r-s<0?1:e[r-s],l=i-s<0?1:t[i-s];if(n!==l&&n>1&&l>1)return;let c=Math.max(n,l);if(n&&l)o[a-s]=Math.max(n,l);else{if(c>1)return;o[a-s]=0}}return o}static isValidBroadcast(e,t){let n=e.length,r=t.length;if(n>r)return!1;for(let i=1;i<=n;i++)if(1!==e[n-i]&&e[n-i]!==t[r-i])return!1;return!0}},qt=class e{static size(t){return e.getSizeFromDimensionRange(t,0,t.length)}static convertShape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.length;if(0===n)return[];let r=new Array(n),i=n-1;for(;i>=0;){if(e[i]%t===0){r[i]=e[i]/t;break}if(t%e[i]!==0)throw new Error("cannot convert shape");r[i]=1,t/=e[i],i--}for(i--;i>=0;i--)r[i]=e[i];return r}static sizeFromDimension(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of ".concat(n," for sizeFromDimension as Tensor has ").concat(t.length," dimensions."));return e.getSizeFromDimensionRange(t,n,t.length)}static sizeToDimension(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of ".concat(n," for sizeToDimension as Tensor has ").concat(t.length," dimensions."));return e.getSizeFromDimensionRange(t,0,n)}static getSizeFromDimensionRange(e,t,n){let r=1;for(let i=t;i<n;i++){if(e[i]<0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains negative values in them.");r*=Number(e[i])}return r}static computeStrides(e){let t=e.length;if(0===t)return[];if(1===t)return[1];let n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((n=>this.normalizeAxis(n,null!==t&&void 0!==t?t:e.length)))}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){let n=e.length;return e.map(((e,r)=>e+t[r]+t[r+n]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}},Ut=class e{static adjustPoolAttributes(e,t,n,r,i,a){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let o=0;o<t.length-2;o++)o>=n.length?n.push(t[o+2]):n[o]=t[o+2];for(let o=0;o<n.length;o++)if(o<r.length){if(r[o]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let o=0;o<n.length;o++)if(o<i.length){if(i[o]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(let o=0;o<2*n.length;o++)if(o<a.length){if(a[o]<0)throw new Error("pad should be greater than or equal to 1")}else a.push(0);for(let o=0;o<n.length;o++){if(n[o]<=0)throw new Error("kernel shapes need to be greater than 0");if(a[o]>=n[o]||a[o+n.length]>=n[o])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(t,n,r,i,a,o,s){if(s){if(a.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(i.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let l=0;l<t.length-2;l++)e.adjustPadAndReturnShape(t[l+(o?1:2)],n[l],r[l],i[l],a,l,l+t.length-2,s)}}static computePoolOutputShape(t,n,r,i,a,o,s){if(n.length<=0)throw new Error("input shape must be of size greater than 0");let l=[n[0],n[1]];return e.computeShapeHelper(t,n,l,r,i,a,o,s),l}static computeConvOutputShape(t,n,r,i,a,o,s){if(t.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let l=[t[0],n[0]];return e.computeShapeHelper(!1,t,l,r,i,a,o,s),l}static computeShapeHelper(t,n,r,i,a,o,s,l){if(t)for(let e=0;e<n.length-2;e++)r.push(1);else for(let c=0;c<n.length-2;c++)r.push(e.adjustPadAndReturnShape(n[c+2],i[c],a[c],o[c],s,c,c+n.length-2,l))}static adjustPadAndReturnShape(e,t,n,r,i,a,o,s){let l=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+i[a]+i[o]-l)/t+1);switch(s){case"VALID":return i[a]=0,i[o]=0,Math.floor((e-l)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let n=((e+t-1)/t-1)*t+r-e;return i[a]=Math.floor("SAME_LOWER"===s?(n+1)/2:n/2),i[o]=n-i[a],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}},Ht=class{static getShapeOfGemmResult(e,t,n,r,i){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let a,o,s;t?(a=e[1],o=e[0]):(a=e[0],o=e[1]);let l=-1;if(r?(s=n[0],l=1):(s=n[1],l=0),n[l]!==o)throw new Error("dimension mismatch");if(a<=0||s<=0||o<=0)throw new Error("invalid shape specified");if(i&&!Wt.isValidBroadcast(i,[a,s]))throw new Error("gemm: invalid bias shape for broadcast");return[a,s,o]}},Gt=-34028234663852886e22,Kt=34028234663852886e22})),Rc=pe((()=>{Nc(),Yt=(e,t)=>new(Ct(t))(e)})),jc=pe((()=>{Bc(),Jt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.byteLength%8!==0)throw new Error("Invalid Uint8Array length - must be a multiple of 8 (BigInt).");let n=e.byteLength/8,r=new BigInt64Array(e.buffer,e.byteOffset,n),i=new Int32Array(n);for(let a=0;a<n;a++){let e=r[a];if(e>2147483647n||e<-2147483648n)throw new Error("Overflow occurred when converting BigInt to Int32 at index ".concat(a,": ").concat(e));i[a]=Number(e)}return t?new Uint8Array(i.buffer):i},Zt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.byteLength%4!==0)throw new Error("Invalid Uint8Array length - must be a multiple of 4 (Int32).");let n=e.byteLength/4,r=new Int32Array(e.buffer,e.byteOffset,n),i=BigInt64Array.from(r,BigInt);return t?new Uint8Array(i.buffer):i},Xt=1,$t=()=>Xt++,Qt=new Map([["float32",32],["float16",16],["int32",32],["uint32",32],["int64",64],["uint64",64],["int8",8],["uint8",8],["int4",4],["uint4",4]]),en=(e,t)=>{let n=Qt.get(e);if(!n)throw new Error("Unsupported data type.");return t.length>0?Math.ceil(t.reduce(((e,t)=>e*t))*n/8):0},tn=class{constructor(e){this.shouldConvertInt64toInt32=!1,this.isInt64ToInt32Converted=!1;let{sessionId:t,context:n,tensor:r,dataType:i,shape:a,shouldConvertInt64toInt32:o=!1}=e;this.sessionId=t,this.mlContext=n,this.mlTensor=r,this.dataType=i,this.tensorShape=a,this.shouldConvertInt64toInt32=o}get tensor(){return this.mlTensor}get type(){return this.dataType}get shape(){return this.tensorShape}get byteLength(){return en(this.dataType,this.tensorShape)}destroy(){jt("verbose",(()=>"[WebNN] TensorWrapper.destroy")),this.mlTensor.destroy()}write(e){this.mlContext.writeTensor(this.mlTensor,e)}async read(e,t){if(e){let e=await this.mlContext.readTensor(this.mlTensor),n=Zt(new Uint8Array(e));return t?void(t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).set(n):n.buffer}return t?this.mlContext.readTensor(this.mlTensor,t):this.mlContext.readTensor(this.mlTensor)}canReuseTensor(e,t,n){return this.mlContext===e&&this.dataType===t&&this.tensorShape.length===n.length&&this.tensorShape.every(((e,t)=>e===n[t]))}setIsInt64ToInt32Converted(e){this.isInt64ToInt32Converted=e}},nn=class{constructor(e,t){this.tensorManager=e,this.wrapper=t}get tensorWrapper(){return this.wrapper}releaseTensor(){this.tensorWrapper&&(this.tensorManager.releaseTensor(this.tensorWrapper),this.wrapper=void 0)}async ensureTensor(e,t,n,r){let i=t,a=this.tensorManager.getMLContext(e),o="int64"===i&&!a.opSupportLimits().input.dataTypes.includes("int64");if(o&&(i="int32",jt("verbose",(()=>"[WebNN] TensorIdTracker.ensureTensor: convert dataType from int64 to int32"))),this.wrapper){if(this.wrapper.canReuseTensor(a,i,n))return this.wrapper.tensor;if(r){if(this.wrapper.byteLength!==en(i,n))throw new Error("Unable to copy data to tensor with different size.");this.activeUpload=new Uint8Array(await this.wrapper.read())}this.tensorManager.releaseTensor(this.wrapper)}let s=typeof MLTensorUsage>"u"?void 0:MLTensorUsage.READ|MLTensorUsage.WRITE;return this.wrapper=await this.tensorManager.getCachedTensor(e,i,n,s,!0,!0,o),r&&this.activeUpload&&(this.wrapper.write(this.activeUpload),this.activeUpload=void 0),this.wrapper.tensor}upload(e){let t=e;if(this.wrapper){if(this.wrapper.shouldConvertInt64toInt32&&(t=Jt(e,!0),this.wrapper.setIsInt64ToInt32Converted(!0)),t.byteLength===this.wrapper.byteLength)return void this.wrapper.write(t);jt("verbose",(()=>"Data size does not match tensor size. Releasing tensor.")),this.releaseTensor()}this.activeUpload?this.activeUpload.set(t):this.activeUpload=new Uint8Array(t)}async download(e){var t,n;if(this.activeUpload){var r;let t=null!==(r=this.wrapper)&&void 0!==r&&r.isInt64ToInt32Converted?Zt(this.activeUpload):this.activeUpload;return e?void(e instanceof ArrayBuffer?new Uint8Array(e).set(t):new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(t)):t.buffer}if(!this.wrapper)throw new Error("Tensor has not been created.");return e?this.wrapper.read(null===(t=this.wrapper)||void 0===t?void 0:t.shouldConvertInt64toInt32,e):this.wrapper.read(null===(n=this.wrapper)||void 0===n?void 0:n.shouldConvertInt64toInt32)}},rn=class{constructor(e){this.backend=e,this.tensorTrackersById=new Map,this.freeTensors=[],this.externalTensors=new Set}getMLContext(e){let t=this.backend.getMLContext(e);if(!t)throw new Error("MLContext not found for session.");return t}reserveTensorId(){let e=$t();return this.tensorTrackersById.set(e,new nn(this)),e}releaseTensorId(e){let t=this.tensorTrackersById.get(e);t&&(this.tensorTrackersById.delete(e),t.tensorWrapper&&this.releaseTensor(t.tensorWrapper))}async ensureTensor(e,t,n,r,i){jt("verbose",(()=>"[WebNN] TensorManager.ensureTensor {tensorId: ".concat(t,", dataType: ").concat(n,", shape: ").concat(r,", copyOld: ").concat(i,"}")));let a=this.tensorTrackersById.get(t);if(!a)throw new Error("Tensor not found.");return a.ensureTensor(e,n,r,i)}upload(e,t){let n=this.tensorTrackersById.get(e);if(!n)throw new Error("Tensor not found.");n.upload(t)}async download(e,t){jt("verbose",(()=>"[WebNN] TensorManager.download {tensorId: ".concat(e,", dstBuffer: ").concat(null===t||void 0===t?void 0:t.byteLength,"}")));let n=this.tensorTrackersById.get(e);if(!n)throw new Error("Tensor not found.");return n.download(t)}releaseTensorsForSession(e){for(let t of this.freeTensors)t.sessionId===e&&t.destroy();this.freeTensors=this.freeTensors.filter((t=>t.sessionId!==e))}registerTensor(e,t,n,r){let i=this.getMLContext(e),a=$t(),o=new tn({sessionId:e,context:i,tensor:t,dataType:n,shape:r});return this.tensorTrackersById.set(a,new nn(this,o)),this.externalTensors.add(o),a}async getCachedTensor(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=this.getMLContext(e);for(let[c,u]of this.freeTensors.entries())if(u.canReuseTensor(s,t,n)){jt("verbose",(()=>"[WebNN] Reusing tensor {dataType: ".concat(t,", shape: ").concat(n,"}")));let r=this.freeTensors.splice(c,1)[0];return r.sessionId=e,r}jt("verbose",(()=>"[WebNN] MLContext.createTensor {dataType: ".concat(t,", shape: ").concat(n,"}")));let l=await s.createTensor({dataType:t,shape:n,dimensions:n,usage:r,writable:i,readable:a});return new tn({sessionId:e,context:s,tensor:l,dataType:t,shape:n,shouldConvertInt64toInt32:o})}releaseTensor(e){this.externalTensors.has(e)&&this.externalTensors.delete(e),this.freeTensors.push(e)}},an=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rn(...t)}})),Vc=pe((()=>{Nc(),Mc(),Rc(),jc(),Bc(),on=new Map([[1,"float32"],[10,"float16"],[6,"int32"],[12,"uint32"],[7,"int64"],[13,"uint64"],[22,"int4"],[21,"uint4"],[3,"int8"],[2,"uint8"],[9,"uint8"]]),sn=(e,t)=>{if(e===t)return!0;if(void 0===e||void 0===t)return!1;let n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.length===r.length&&n.every(((n,i)=>n===r[i]&&e[n]===t[n]))},ln=class{constructor(e){this.tensorManager=an(this),this.mlContextBySessionId=new Map,this.sessionIdsByMLContext=new Map,this.mlContextCache=[],this.sessionGraphInputs=new Map,this.temporaryGraphInputs=[],this.temporarySessionTensorIds=new Map,Lt(e.logLevel,!!e.debug)}get currentSessionId(){if(void 0===this.activeSessionId)throw new Error("No active session");return this.activeSessionId}onRunStart(e){jt("verbose",(()=>"[WebNN] onRunStart {sessionId: ".concat(e,"}"))),this.activeSessionId=e}onRunEnd(e){jt("verbose",(()=>"[WebNN] onRunEnd {sessionId: ".concat(e,"}")));let t=this.temporarySessionTensorIds.get(e);if(t){for(let e of t)jt("verbose",(()=>"[WebNN] releasing temporary tensor {tensorId: ".concat(e,"}"))),this.tensorManager.releaseTensorId(e);this.temporarySessionTensorIds.delete(e),this.activeSessionId=void 0}}async createMLContext(e){if(e instanceof GPUDevice){let t=this.mlContextCache.findIndex((t=>t.gpuDevice===e));if(-1!==t)return this.mlContextCache[t].mlContext;{let t=await navigator.ml.createContext(e);return this.mlContextCache.push({gpuDevice:e,mlContext:t}),t}}if(void 0===e){let e=this.mlContextCache.findIndex((e=>void 0===e.options&&void 0===e.gpuDevice));if(-1!==e)return this.mlContextCache[e].mlContext;{let e=await navigator.ml.createContext();return this.mlContextCache.push({mlContext:e}),e}}let t=this.mlContextCache.findIndex((t=>sn(t.options,e)));if(-1!==t)return this.mlContextCache[t].mlContext;{let t=await navigator.ml.createContext(e);return this.mlContextCache.push({options:e,mlContext:t}),t}}registerMLContext(e,t){this.mlContextBySessionId.set(e,t);let n=this.sessionIdsByMLContext.get(t);n||(n=new Set,this.sessionIdsByMLContext.set(t,n)),n.add(e),this.temporaryGraphInputs.length>0&&(this.sessionGraphInputs.set(e,this.temporaryGraphInputs),this.temporaryGraphInputs=[])}onReleaseSession(e){this.sessionGraphInputs.delete(e);let t=this.mlContextBySessionId.get(e);if(!t)return;this.tensorManager.releaseTensorsForSession(e),this.mlContextBySessionId.delete(e);let n=this.sessionIdsByMLContext.get(t);if(n.delete(e),0===n.size){this.sessionIdsByMLContext.delete(t);let e=this.mlContextCache.findIndex((e=>e.mlContext===t));-1!==e&&this.mlContextCache.splice(e,1)}}getMLContext(e){return this.mlContextBySessionId.get(e)}reserveTensorId(){return this.tensorManager.reserveTensorId()}releaseTensorId(e){jt("verbose",(()=>"[WebNN] releaseTensorId {tensorId: ".concat(e,"}"))),this.tensorManager.releaseTensorId(e)}async ensureTensor(e,t,n,r,i){let a=on.get(n);if(!a)throw new Error("Unsupported ONNX data type: ".concat(n));return this.tensorManager.ensureTensor(null!==e&&void 0!==e?e:this.currentSessionId,t,a,r,i)}async createTemporaryTensor(e,t,n){jt("verbose",(()=>"[WebNN] createTemporaryTensor {onnxDataType: ".concat(t,", shape: ").concat(n,"}")));let r=on.get(t);if(!r)throw new Error("Unsupported ONNX data type: ".concat(t));let i=this.tensorManager.reserveTensorId();await this.tensorManager.ensureTensor(e,i,r,n,!1);let a=this.temporarySessionTensorIds.get(e);return a?a.push(i):this.temporarySessionTensorIds.set(e,[i]),i}uploadTensor(e,t){if(!ft().shouldTransferToMLTensor)throw new Error("Trying to upload to a MLTensor while shouldTransferToMLTensor is false");jt("verbose",(()=>"[WebNN] uploadTensor {tensorId: ".concat(e,", data: ").concat(t.byteLength,"}"))),this.tensorManager.upload(e,t)}async downloadTensor(e,t){return this.tensorManager.download(e,t)}createMLTensorDownloader(e,t){return async()=>{let n=await this.tensorManager.download(e);return Yt(n,t)}}registerMLTensor(e,t,n,r){let i=on.get(n);if(!i)throw new Error("Unsupported ONNX data type: ".concat(n));let a=this.tensorManager.registerTensor(e,t,i,r);return jt("verbose",(()=>"[WebNN] registerMLTensor {tensor: ".concat(t,", dataType: ").concat(i,", dimensions: ").concat(r,"} -> {tensorId: ").concat(a,"}"))),a}registerMLConstant(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!a)throw new Error("External mounted files are not available.");let s=e;e.startsWith("./")&&(s=e.substring(2));let l=a.get(s);if(!l)throw new Error("File with name ".concat(s," not found in preloaded files."));if(t+n>l.byteLength)throw new Error("Out of bounds: data offset and length exceed the external file data size.");let c,u=l.slice(t,t+n).buffer;switch(i.dataType){case"float32":c=new Float32Array(u);break;case"float16":c=typeof Float16Array<"u"&&Float16Array.from?new Float16Array(u):new Uint16Array(u);break;case"int32":c=new Int32Array(u);break;case"uint32":c=new Uint32Array(u);break;case"int64":o?(c=Jt(new Uint8Array(u),!1),i.dataType="int32"):c=new BigInt64Array(u);break;case"uint64":c=new BigUint64Array(u);break;case"int8":c=new Int8Array(u);break;case"int4":case"uint4":case"uint8":c=new Uint8Array(u);break;default:throw new Error("Unsupported data type: ".concat(i.dataType," in creating WebNN Constant from external data."))}return jt("verbose",(()=>"[WebNN] registerMLConstant {dataType: ".concat(i.dataType,", shape: ").concat(i.shape,"}} ").concat(o?"(Note: it was int64 data type and registered to int32 as workaround)":""))),r.constant(i,c)}registerGraphInput(e){this.temporaryGraphInputs.push(e)}isGraphInput(e,t){let n=this.sessionGraphInputs.get(e);return!!n&&n.includes(t)}isInt64Supported(e){var t;return!(null===(t=this.mlContextBySessionId.get(e))||void 0===t||!t.opSupportLimits().input.dataTypes.includes("int64"))}flush(){}}})),Wc=pe((()=>{})),qc=pe((()=>{Bc(),Wc(),cn=new Map([[64,250],[128,200],[256,200],[512,200],[2048,230],[4096,200],[8192,50],[16384,50],[32768,50],[65536,50],[131072,50],[262144,50],[524288,50],[1048576,50],[2097152,30],[4194304,20],[8388608,10],[12582912,10],[16777216,10],[26214400,15],[33554432,22],[44236800,2],[58982400,6],[67108864,6],[134217728,6],[167772160,6]]),un=[],dn=e=>16*Math.ceil(Number(e)/16),hn=e=>{for(let t=0;t<un.length;t++){let n=un[t];if(e<=n)return n}return 16*Math.ceil(e/16)},pn=1,fn=()=>pn++,mn=async(e,t,n,r)=>{let i=dn(n),a=e.device.createBuffer({size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});try{let o=e.getCommandEncoder();e.endComputePass(),o.copyBufferToBuffer(t,0,a,0,i),e.flush(),await a.mapAsync(GPUMapMode.READ);let s=a.getMappedRange();if(r){let e=r();return e.set(new Uint8Array(s,0,n)),e}return new Uint8Array(s.slice(0,n))}finally{a.destroy()}},gn=class{constructor(e){this.backend=e,this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.buffersPending=[],this.capturedPendingBuffers=new Map;for(let[t]of cn)un.push(t),this.freeBuffers.set(t,[]),this.freeUniformBuffers.set(t,[]);this.sessionCount=0}upload(e,t){let n=t.buffer,r=t.byteOffset,i=t.byteLength,a=dn(i),o=this.storageCache.get(e);if(!o)throw new Error("gpu data for uploading does not exist");if(Number(o.originalSize)!==i)throw new Error("inconsistent data size. gpu data size=".concat(o.originalSize,", data size=").concat(i));let s=this.backend.device.createBuffer({mappedAtCreation:!0,size:a,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),l=s.getMappedRange();new Uint8Array(l).set(new Uint8Array(n,r,i)),s.unmap();let c=this.backend.device.createCommandEncoder();c.copyBufferToBuffer(s,0,o.gpuData.buffer,0,a),this.backend.device.queue.submit([c.finish()]),s.destroy(),jt("verbose",(()=>"[WebGPU] GpuDataManager.upload(id=".concat(e,")")))}memcpy(e,t){let n=this.storageCache.get(e);if(!n)throw new Error("source gpu data for memcpy does not exist");let r=this.storageCache.get(t);if(!r)throw new Error("destination gpu data for memcpy does not exist");if(n.originalSize!==r.originalSize)throw new Error("inconsistent source and destination gpu data size");let i=dn(n.originalSize),a=this.backend.getCommandEncoder();this.backend.endComputePass(),a.copyBufferToBuffer(n.gpuData.buffer,0,r.gpuData.buffer,0,i)}registerExternalBuffer(e,t,n){let r;if(n){if(r=n[0],e===n[1])return jt("verbose",(()=>"[WebGPU] GpuDataManager.registerExternalBuffer(size=".concat(t,") => id=").concat(r,", buffer is the same, skip."))),r;if(this.backend.capturedCommandList.has(this.backend.currentSessionId))throw new Error("Registering a different external buffer under graph capture mode is not supported yet.\n             Please use the previous external buffer!")}else r=fn();return this.storageCache.set(r,{gpuData:{id:r,type:0,buffer:e},originalSize:t}),jt("verbose",(()=>"[WebGPU] GpuDataManager.registerExternalBuffer(size=".concat(t,") => id=").concat(r,", registered."))),r}unregisterExternalBuffer(e){void 0!==e&&(this.storageCache.delete(e),jt("verbose",(()=>"[WebGPU] GpuDataManager.unregisterExternalBuffer() => id=".concat(e))))}create(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST,r=hn(e),i=(n&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE,a=(n&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM;if(i||a){let e=(i?this.freeBuffers:this.freeUniformBuffers).get(r);t=e&&e.length>0?e.pop():this.backend.device.createBuffer({size:r,usage:n})}else t=this.backend.device.createBuffer({size:r,usage:n});let o={id:fn(),type:0,buffer:t};return this.storageCache.set(o.id,{gpuData:o,originalSize:Number(e)}),jt("verbose",(()=>"[WebGPU] GpuDataManager.create(size=".concat(e,") => id=").concat(o.id))),o}get(e){var t;return null===(t=this.storageCache.get(e))||void 0===t?void 0:t.gpuData}release(e){let t="bigint"==typeof e?Number(e):e,n=this.storageCache.get(t);if(!n){if(0===this.storageCache.size)return 0;throw new Error("releasing data does not exist")}return jt("verbose",(()=>"[WebGPU] GpuDataManager.release(id=".concat(t,"), gpuDataId=").concat(n.gpuData.id))),this.storageCache.delete(t),this.buffersPending.push(n.gpuData.buffer),n.originalSize}async download(e,t){let n=this.storageCache.get(Number(e));if(!n)throw new Error("data does not exist");await mn(this.backend,n.gpuData.buffer,n.originalSize,t)}refreshPendingBuffers(){if(0!==this.buffersPending.length)if("default"===this.backend.sessionStatus){for(let e of this.buffersPending){let t=cn.get(e.size);if((e.usage&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE){let n=this.freeBuffers.get(e.size)||[];void 0===t||n.length>=t?e.destroy():n.push(e)}else if((e.usage&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM){let n=this.freeUniformBuffers.get(e.size)||[];void 0===t||n.length>=t?e.destroy():n.push(e)}else e.destroy()}this.buffersPending=[]}else{let e=this.capturedPendingBuffers.get(this.backend.currentSessionId);e||(e=[],this.capturedPendingBuffers.set(this.backend.currentSessionId,e));for(let t of this.buffersPending)e.push(t);this.buffersPending=[]}}dispose(){this.freeBuffers.forEach((e=>{e.forEach((e=>{e.destroy()}))})),this.freeUniformBuffers.forEach((e=>{e.forEach((e=>{e.destroy()}))})),this.storageCache.forEach((e=>{e.gpuData.buffer.destroy()})),this.capturedPendingBuffers.forEach((e=>{e.forEach((e=>{e.destroy()}))})),this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.capturedPendingBuffers=new Map}onCreateSession(){this.sessionCount+=1}onReleaseSession(e){let t=this.capturedPendingBuffers.get(e);t&&(t.forEach((e=>{e.destroy()})),this.capturedPendingBuffers.delete(e)),this.sessionCount-=1,0===this.sessionCount&&(jt("warning",(()=>"[WebGPU] Clearing webgpu buffer cache")),this.storageCache.forEach((e=>{e.gpuData.buffer.destroy()})),this.storageCache=new Map)}},yn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gn(...t)}})),Uc=pe((()=>{bn=class{constructor(e){Object.assign(this,e)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map((e=>"".concat(this[e]))).join(";")),this.key}},wn=e=>new bn(e)})),Hc=pe((()=>{Nc(),Lc(),vn=64,_n=(e,t)=>{if(3===t)throw new Error("vec3 has same alignment as vec4, use vec4 instead");switch(Number(e)){case 10:return t>1?"vec".concat(t,"<f16>"):"f16";case 1:return t>1?"vec".concat(t,"<f32>"):"f32";case 6:return t>1?"vec".concat(t,"<i32>"):"i32";case 12:return t>1?"vec".concat(t,"<u32>"):"u32";case 7:if(t>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","i32"];case 13:if(t>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","u32"];case 9:if(4!==t)throw new Error("bool must be vec4");return["u32","vec4<bool>"];case 22:return"i32";case 21:return"u32";default:throw new Error("Unknown data type: ".concat(e))}},xn=function(e){let t=_n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1);return"string"==typeof t?t:t[0]},kn=function(e){let t=_n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1);return"string"==typeof t?t:t[1]},Dn=function(){let e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((t=>{0!==t.length&&e.push({type:12,data:t},{type:12,data:qt.computeStrides(t)})})),e},Tn=e=>e%4===0?4:e%2===0?2:1,An=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"f32",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return t&&1!==t?"vec".concat(t,"<").concat(e,">(").concat(n,")"):"".concat(e,"(").concat(n,")")},Sn=(e,t,n)=>"f32"===e?n:1===t?"f32(".concat(n,")"):"vec".concat(t,"<f32>(").concat(n,")"),Cn=(e,t)=>4===t?"(".concat(e,".x + ").concat(e,".y + ").concat(e,".z + ").concat(e,".w)"):2===t?"(".concat(e,".x + ").concat(e,".y)"):3===t?"(".concat(e,".x + ").concat(e,".y + ").concat(e,".z)"):e,En=(e,t,n,r)=>e.startsWith("uniforms.")&&n>4?"string"==typeof t?"f16"===r?"".concat(e,"[(").concat(t,") / 8][(").concat(t,") % 8 / 4][(").concat(t,") % 8 % 4]"):"".concat(e,"[(").concat(t,") / 4][(").concat(t,") % 4]"):"f16"===r?"".concat(e,"[").concat(Math.floor(t/8),"][").concat(Math.floor(t%8/4),"][").concat(t%8%4,"]"):"".concat(e,"[").concat(Math.floor(t/4),"][").concat(t%4,"]"):n>1?"".concat(e,"[").concat(t,"]"):e,Fn=(e,t,n,r,i)=>{let a="number"==typeof n,o=a?n:n.length,s=[...new Array(o).keys()],l=o<2?"u32":o<=4?"vec".concat(o,"<u32>"):"array<u32, ".concat(o,">"),c=_n(t,i),u="string"==typeof c?c:c[1],d="string"==typeof c?c:c[0],h={indices:l,value:u,storage:d,tensor:t},p=e=>"string"==typeof e?e:"".concat(e,"u"),f={offsetToIndices:!1,indicesToOffset:!1,broadcastedIndicesToOffset:!1,set:!1,setByIndices:!1,get:!1,getByIndices:!1},m=a?"uniforms.":"",g="".concat(m).concat(e,"_shape"),y="".concat(m).concat(e,"_strides"),b="";for(let M=0;M<o-1;M++)b+="\n    let dim".concat(M," = current / ").concat(En(y,M,o),";\n    let rest").concat(M," = current % ").concat(En(y,M,o),";\n    indices[").concat(M,"] = dim").concat(M,";\n    current = rest").concat(M,";\n    ");b+="indices[".concat(o-1,"] = current;");let w=o<2?"":"\n  fn o2i_".concat(e,"(offset: u32) -> ").concat(h.indices," {\n    var indices: ").concat(h.indices,";\n    var current = offset;\n    ").concat(b,"\n    return indices;\n  }"),v=[];if(o>=2)for(let M=o-1;M>=0;M--)v.push("".concat(En(y,M,o)," * (indices[").concat(M,"])"));let _=o<2?"":"\n  fn i2o_".concat(e,"(indices: ").concat(h.indices,") -> u32 {\n    return ").concat(v.join("+"),";\n  }"),x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===o?"0u":"".concat(h.indices,"(").concat(t.map(p).join(","),")")},k=(e,t)=>"".concat(o<2?e:En(e,t,o)),D={},T=(t,n)=>(()=>{if(h.storage===h.value)return"".concat(e,"[").concat(t,"]=").concat(n,";");if("vec2<u32>"===h.storage&&"i32"===h.value)return"".concat(e,"[").concat(t,"]=vec2<u32>(u32(").concat(n,"), select(0u, 0xFFFFFFFFu, ").concat(n," < 0));");if("vec2<u32>"===h.storage&&"u32"===h.value)return"".concat(e,"[").concat(t,"]=vec2<u32>(u32(").concat(n,"), 0u);");if("u32"===h.storage&&"vec4<bool>"===h.value)return"".concat(e,"[").concat(t,"]=dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(").concat(n,"));");throw new Error("not supported combination of storage type ".concat(h.storage," and value type ").concat(h.value," yet"))})(),A=t=>(()=>{if(h.storage===h.value)return"".concat(e,"[").concat(t,"]");if("vec2<u32>"===h.storage&&"i32"===h.value)return"i32(".concat(e,"[").concat(t,"].x)");if("vec2<u32>"===h.storage&&"u32"===h.value)return"u32(".concat(e,"[").concat(t,"].x)");if("u32"===h.storage&&"vec4<bool>"===h.value)return"vec4<bool>(bool(".concat(e,"[").concat(t,"] & 0xFFu), bool(").concat(e,"[").concat(t,"] & 0xFF00u), bool(").concat(e,"[").concat(t,"] & 0xFF0000u), bool(").concat(e,"[").concat(t,"] & 0xFF000000u))");throw new Error("not supported combination of storage type ".concat(h.storage," and value type ").concat(h.value," yet"))})(),S=o<2?"":"\n  fn get_".concat(e,"ByIndices(indices: ").concat(h.indices,") -> ").concat(u," {\n    return ").concat(A("i2o_".concat(e,"(indices)")),";\n  }"),C=o<2?"":(()=>{let t=s.map((e=>"d".concat(e,": u32"))).join(", "),n=s.map((e=>"d".concat(e))).join(", ");return"\n  fn get_".concat(e,"(").concat(t,") -> ").concat(u," {\n    return get_").concat(e,"ByIndices(").concat(x(n),");\n  }")})(),E=o<2?"":"\n  fn set_".concat(e,"ByIndices(indices: ").concat(h.indices,", value: ").concat(u,") {\n    ").concat(T("i2o_".concat(e,"(indices)"),"value"),"\n  }"),F=o<2?"":(()=>{let t=s.map((e=>"d".concat(e,": u32"))).join(", "),n=s.map((e=>"d".concat(e))).join(", ");return"\n  fn set_".concat(e,"(").concat(t,", value: ").concat(u,") {\n    set_").concat(e,"ByIndices(").concat(x(n),", value);\n  }")})();return{impl:()=>{let e=[],t=!1;return f.offsetToIndices&&(e.push(w),t=!0),f.indicesToOffset&&(e.push(_),t=!0),f.broadcastedIndicesToOffset&&(Object.values(D).forEach((t=>e.push(t))),t=!0),f.set&&(e.push(F),t=!0),f.setByIndices&&(e.push(E),t=!0),f.get&&(e.push(C),t=!0),f.getByIndices&&(e.push(S),t=!0),!a&&t&&e.unshift("const ".concat(g," = ").concat(h.indices,"(").concat(n.join(","),");"),"const ".concat(y," = ").concat(h.indices,"(").concat(qt.computeStrides(n).join(","),");")),e.join("\n")},type:h,offsetToIndices:t=>(f.offsetToIndices=!0,o<2?t:"o2i_".concat(e,"(").concat(t,")")),indicesToOffset:t=>(f.indicesToOffset=!0,o<2?t:"i2o_".concat(e,"(").concat(t,")")),broadcastedIndicesToOffset:(t,n)=>{f.broadcastedIndicesToOffset=!0;let r="".concat(n.name,"broadcastedIndicesTo").concat(e,"Offset");if(r in D)return"".concat(r,"(").concat(t,")");let i=[];for(let e=o-1;e>=0;e--){let t=n.indicesGet("outputIndices",e+n.rank-o);i.push("".concat(k(y,e)," * (").concat(t," % ").concat(k(g,e),")"))}return D[r]="fn ".concat(r,"(outputIndices: ").concat(n.type.indices,") -> u32 {\n             return ").concat(i.length>0?i.join("+"):"0u",";\n           }"),"".concat(r,"(").concat(t,")")},indices:x,indicesGet:k,indicesSet:(e,t,n)=>o<2?"".concat(e,"=").concat(n,";"):"".concat(En(e,t,o),"=").concat(n,";"),set:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length!==o+1)throw new Error("indices length must be ".concat(o));let i=n[o];if("string"!=typeof i)throw new Error("value must be string");let a=n.slice(0,o).map(p).join(",");return 0===o?T("0u",i):1===o?T(a[0],i):(f.set=!0,f.setByIndices=!0,f.indicesToOffset=!0,"set_".concat(e,"(").concat(a,", ").concat(i,")"))},setByOffset:T,setByIndices:(t,n)=>o<2?T(t,n):(f.setByIndices=!0,f.indicesToOffset=!0,"set_".concat(e,"ByIndices(").concat(t,", ").concat(n,");")),get:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length!==o)throw new Error("indices length must be ".concat(o));let i=n.map(p).join(",");return 0===o?A("0u"):1===o?A(i[0]):(f.get=!0,f.getByIndices=!0,f.indicesToOffset=!0,"get_".concat(e,"(").concat(i,")"))},getByOffset:A,getByIndices:t=>o<2?A(t):(f.getByIndices=!0,f.indicesToOffset=!0,"get_".concat(e,"ByIndices(").concat(t,")")),usage:r,name:e,strides:y,shape:g,rank:o}},Mn=function(e,t,n){return Fn(e,t,n,"input",arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)},In=function(e,t,n){return Fn(e,t,n,"output",arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)},Pn=(e,t,n)=>Fn(e,t,n,"atomicOutput",1),zn=function(e,t,n){return Fn(e,t,n,"internal",arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)},Nn=class{constructor(e,t){this.normalizedDispatchGroup=e,this.limits=t,this.internalVariables=[],this.variables=[],this.uniforms=[],this.variableIndex=0}guardAgainstOutOfBoundsWorkgroupSizes(e){return"if (global_idx >= ".concat("number"==typeof e?"".concat(e,"u"):e,") { return; }")}mainStart(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t="number"==typeof e?e:e[0],n="number"==typeof e?1:e[1],r="number"==typeof e?1:e[2];if(t>this.limits.maxComputeWorkgroupSizeX||n>this.limits.maxComputeWorkgroupSizeY||r>this.limits.maxComputeWorkgroupSizeZ)throw new Error("workgroup size [".concat(t,", ").concat(n,", ").concat(r,"] exceeds the maximum workgroup size [").concat(this.limits.maxComputeWorkgroupSizeX,", ").concat(this.limits.maxComputeWorkgroupSizeY,", ").concat(this.limits.maxComputeWorkgroupSizeZ,"]."));if(t*n*r>this.limits.maxComputeInvocationsPerWorkgroup)throw new Error("workgroup size [".concat(t,", ").concat(n,", ").concat(r,"] exceeds the maximum workgroup invocations ").concat(this.limits.maxComputeInvocationsPerWorkgroup,"."));let i=1===this.normalizedDispatchGroup[1]&&1===this.normalizedDispatchGroup[2],a=i?"@builtin(global_invocation_id) global_id : vec3<u32>,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>,\n    @builtin(local_invocation_index) local_idx : u32,\n    @builtin(local_invocation_id) local_id : vec3<u32>":"@builtin(global_invocation_id) global_id : vec3<u32>,\n                                             @builtin(local_invocation_id) local_id : vec3<u32>,\n    @builtin(local_invocation_index) local_idx : u32,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>,\n    @builtin(num_workgroups) num_workgroups : vec3<u32>",o=i?"let global_idx = global_id.x;\n         let workgroup_index = workgroup_id.x;":"let workgroup_index = workgroup_id.z * num_workgroups[0] * num_workgroups[1] +\n             workgroup_id.y * num_workgroups[0] + workgroup_id.x;\n         let global_idx = workgroup_index * ".concat(t*n*r,"u + local_idx;");return"@compute @workgroup_size(".concat(t,", ").concat(n,", ").concat(r,")\n  fn main(").concat(a,") {\n    ").concat(o,"\n  ")}appendVariableUniforms(e){0!==e.rank&&(e.shape.startsWith("uniforms.")&&this.uniforms.push({name:e.shape.replace("uniforms.",""),type:"u32",length:e.rank}),e.strides.startsWith("uniforms.")&&this.uniforms.push({name:e.strides.replace("uniforms.",""),type:"u32",length:e.rank}))}declareVariable(e,t){if("internal"===e.usage)throw new Error("cannot use internal variable with declareVariable(). use registerInternalVariables() instead.");this.variables.push(e),this.appendVariableUniforms(e);let n="input"===e.usage?"read":"read_write",r="atomicOutput"===e.usage?"atomic<i32>":e.type.storage;return"@group(0) @binding(".concat(t,") var<storage, ").concat(n,"> ").concat(e.name,": array<").concat(r,">;")}declareVariables(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((e=>this.declareVariable(e,this.variableIndex++))).join("\n")}registerInternalVariable(e){if("internal"!==e.usage)throw new Error("cannot use input or output variable with registerInternalVariable(). use declareVariables() instead.");this.internalVariables.push(e),this.appendVariableUniforms(e)}registerInternalVariables(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>this.registerInternalVariable(e))),this}registerUniform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.uniforms.push({name:e,type:t,length:n}),this}registerUniforms(e){return this.uniforms=this.uniforms.concat(e),this}uniformDeclaration(){if(0===this.uniforms.length)return"";let e=[];for(let{name:t,type:n,length:r}of this.uniforms)if(r&&r>4)"f16"===n?e.push("@align(16) ".concat(t,":array<mat2x4<").concat(n,">, ").concat(Math.ceil(r/8),">")):e.push("".concat(t,":array<vec4<").concat(n,">, ").concat(Math.ceil(r/4),">"));else{let i=null==r||1===r?n:"vec".concat(r,"<").concat(n,">");e.push("".concat(t,":").concat(i))}return"\n      struct Uniforms { ".concat(e.join(", ")," };\n      @group(0) @binding(").concat(this.variableIndex,") var<uniform> uniforms: Uniforms;")}get additionalImplementations(){return this.uniformDeclaration()+this.variables.map((e=>e.impl())).join("\n")+this.internalVariables.map((e=>e.impl())).join("\n")}get variablesInfo(){if(0===this.uniforms.length)return;let e=e=>[12,10,1,6][["u32","f16","f32","i32"].indexOf(e)];return this.uniforms.map((t=>{var n;return[e(t.type),null!==(n=t.length)&&void 0!==n?n:1]}))}},On=(e,t)=>new Nn(e,t)})),Gc=pe((()=>{Nc(),Lc(),Uc(),Hc(),Bn=(e,t)=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if(0!==t.length&&t.length!==e[0].dims.length)throw new Error("perm size ".concat(t.length," does not match input rank ").concat(e[0].dims.length))},Ln=(e,t)=>0!==t.length?t:[...new Array(e).keys()].reverse(),Rn=(e,t)=>qt.sortBasedOnPerm(e,Ln(e.length,t)),jn=(e,t,n,r)=>{let i="fn perm(i: ".concat(r.type.indices,") -> ").concat(n.type.indices," {\n    var a: ").concat(n.type.indices,";");for(let a=0;a<t;++a)i+="a[".concat(e[a],"]=i[").concat(a,"];");return i+"return a;}"},Vn=(e,t)=>{let n=[],r=[];for(let i=0;i<e.length;++i)1!==e[i]&&n.push(e[i]),1!==e[t[i]]&&r.push(t[i]);return{newShape:n,newPerm:r}},Wn=(e,t)=>{let n=0;for(let r=0;r<e.length;++r)if(1!==t[e[r]]){if(e[r]<n)return!1;n=e[r]}return!0},qn=(e,t)=>{let n,r=e.dataType,i=e.dims.length,a=Ln(i,t),o=Rn(e.dims,a),s=e.dims,l=o;if(i<2||Wn(a,e.dims))return n=e=>{let t=Mn("input",r,s,4),n=In("output",r,l,4);return"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(t,n),"\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    output[global_idx] = input[global_idx];\n  }")},{name:"TransposeCopy",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let t=qt.size(o);return{outputs:[{dims:o,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(t/64/4)},programUniforms:[{type:12,data:Math.ceil(t/4)}]}},getShaderSource:n};let{newShape:c,newPerm:u}=Vn(e.dims,a),d=qt.areEqual(u,[2,3,1]),h=qt.areEqual(u,[3,1,2]);if(2===c.length||d||h){s=d?[c[0],c[1]*c[2]]:h?[c[0]*c[1],c[2]]:c,l=[s[1],s[0]];let t=16;return n=e=>{let n=Mn("a",r,s.length),i=In("output",r,l.length);return"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(n,i),"\n  var<workgroup> tile : array<array<").concat(i.type.value,", ").concat(t+1,">, ").concat(t,">;\n  ").concat(e.mainStart([t,t,1]),"\n    let stride = (uniforms.output_shape[1] - 1) / ").concat(t," + 1;\n    let workgroup_id_x = workgroup_index % stride;\n    let workgroup_id_y = workgroup_index / stride;\n    let input_col = workgroup_id_y * ").concat(t,"u + local_id.x;\n    let input_row = workgroup_id_x * ").concat(t,"u + local_id.y;\n    if (input_row < uniforms.a_shape[0] && input_col < uniforms.a_shape[1]) {\n      tile[local_id.y][local_id.x] = ").concat(n.getByIndices("".concat(n.type.indices,"(input_row, input_col)")),";\n    }\n    workgroupBarrier();\n\n    let output_col = workgroup_id_x * ").concat(t,"u + local_id.x;\n    let output_row = workgroup_id_y * ").concat(t,"u + local_id.y;\n    if (output_row < uniforms.output_shape[0] && output_col < uniforms.output_shape[1]) {\n      ").concat(i.setByIndices("".concat(i.type.indices,"(output_row, output_col)"),"tile[local_id.x][local_id.y]"),"\n    }\n  }")},{name:"TransposeShared",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let n=qt.size(o);return{outputs:[{dims:o,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(l[1]/t),y:Math.ceil(l[0]/t)},programUniforms:[{type:12,data:n},...Dn(s,l)]}},getShaderSource:n}}return n=e=>{let t=Mn("a",r,s.length),n=In("output",r,l.length);return"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(t,n),"\n\n  ").concat(jn(a,i,t,n),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n\n    let indices = ").concat(n.offsetToIndices("global_idx"),";\n    let aIndices = perm(indices);\n\n    ").concat(n.setByOffset("global_idx",t.getByIndices("aIndices")),"\n  }")},{name:"Transpose",shaderCache:{hint:"".concat(t),inputDependencies:["rank"]},getRunData:()=>{let t=qt.size(o);return{outputs:[{dims:o,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(t/64)},programUniforms:[{type:12,data:t},...Dn(s,l)]}},getShaderSource:n}},Un=(e,t)=>{Bn(e.inputs,t.perm),e.compute(qn(e.inputs[0],t.perm))},Hn=e=>wn({perm:e.perm})})),Kc=pe((()=>{Nc(),Lc(),Hc(),Yc(),Gc(),Gn={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate * candidate",logSumExp:"bestValue + exp(candidate)",l1:"bestValue + abs(candidate)",l2:"bestValue + candidate * candidate",logSum:"bestValue + candidate"},Kn={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate",logSumExp:"bestValue + candidate",l1:"bestValue + candidate",l2:"bestValue + candidate",logSum:"bestValue + candidate"},Yn={max:"_A[offset]",min:"_A[offset]",mean:"0",sum:"0",prod:"1",sumSquare:"0",logSumExp:"0",l1:"0",l2:"0",logSum:"0"},Jn={max:"bestValue",min:"bestValue",sum:"bestValue",prod:"bestValue",sumSquare:"bestValue",logSumExp:"log(bestValue)",l1:"bestValue",l2:"sqrt(bestValue)",logSum:"log(bestValue)"},Zn=(e,t)=>{let n=[];for(let r=t-e;r<t;++r)n.push(r);return n},Xn=(e,t)=>{let n=[],r=e.length;for(let i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((t=>e[t]))]},$n=(e,t)=>{let n=e.length+t.length,r=[],i=0;for(let a=0;a<n;a++)-1===t.indexOf(a)?r.push(e[i++]):r.push(1);return r},Qn=(e,t)=>{for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0},er=(e,t)=>{let n=[];if(!Qn(e,t)){for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);e.forEach((e=>n.push(e)))}return n},tr=(e,t,n,r,i,a,o)=>{let s=n[0].dims,l=qt.size(a),c=qt.size(o),u=Mn("_A",n[0].dataType,s),d=In("output",i,a),h=64;1===l&&(h=256);let p="\n          var<workgroup> aBestValues : array<f32, ".concat(h,">;\n       ");return{name:e,shaderCache:{hint:"".concat(t,";").concat(h),inputDependencies:["type"]},getShaderSource:e=>"\n        ".concat(e.registerUniform("reduceSize","u32").declareVariables(u,d),"\n        ").concat(p,"\n        fn DIV_CEIL(a : u32, b : u32) -> u32 {\n          return ((a - 1u) / b + 1u);\n         }\n         ").concat(e.mainStart(h),"\n\n          let outputIndex = global_idx / ").concat(h,";\n          let offset = outputIndex * uniforms.reduceSize;\n\n          var bestValue = f32(").concat(Yn[r],");\n          let Length = uniforms.reduceSize;\n          for (var k = local_idx; k < Length; k = k + ").concat(h,") {\n           let candidate = f32(").concat(u.getByOffset("offset + k"),");\n           bestValue = ").concat(Gn[r],";\n          }\n          aBestValues[local_idx] = bestValue;\n          workgroupBarrier();\n\n         var reduceSize = min(Length, ").concat(h,"u);\n         for (var currentSize = reduceSize / 2u; reduceSize > 1u;\n             currentSize = reduceSize / 2u) {\n           let interval = DIV_CEIL(reduceSize, 2u);\n           if (local_idx < currentSize) {\n            let candidate = aBestValues[local_idx + interval];\n            bestValue = ").concat(Kn[r],";\n            aBestValues[local_idx] = bestValue;\n           }\n           reduceSize = interval;\n           workgroupBarrier();\n         }\n\n         if (local_idx == 0u) {\n          ").concat(d.setByOffset("outputIndex","".concat("mean"===r?"".concat(d.type.storage,"(bestValue / f32(uniforms.reduceSize))"):"".concat(d.type.storage,"(").concat(Jn[r],")"))),";\n         }\n        }"),getRunData:()=>({outputs:[{dims:a,dataType:i}],dispatchGroup:{x:l},programUniforms:[{type:12,data:c}]})}},nr=(e,t,n,r)=>{let i=1===e.inputs.length?n:gr(e.inputs,n),a=i.axes;0===a.length&&!i.noopWithEmptyAxes&&(a=e.inputs[0].dims.map(((e,t)=>t)));let o=qt.normalizeAxes(a,e.inputs[0].dims.length),s=o,l=e.inputs[0],c=er(s,e.inputs[0].dims.length);c.length>0&&(l=e.compute(qn(e.inputs[0],c),{inputs:[0],outputs:[-1]})[0],s=Zn(s.length,l.dims.length));let[u,d]=Xn(l.dims,s),h=u;i.keepDims&&(h=$n(u,o)),e.compute(tr(t,i.cacheKey,[l],r,e.inputs[0].dataType,h,d),{inputs:[l]})},rr=(e,t)=>{nr(e,"ReduceMeanShared",t,"mean")},ir=(e,t)=>{nr(e,"ReduceL1Shared",t,"l1")},ar=(e,t)=>{nr(e,"ReduceL2Shared",t,"l2")},or=(e,t)=>{nr(e,"ReduceLogSumExpShared",t,"logSumExp")},sr=(e,t)=>{nr(e,"ReduceMaxShared",t,"max")},lr=(e,t)=>{nr(e,"ReduceMinShared",t,"min")},cr=(e,t)=>{nr(e,"ReduceProdShared",t,"prod")},ur=(e,t)=>{nr(e,"ReduceSumShared",t,"sum")},dr=(e,t)=>{nr(e,"ReduceSumSquareShared",t,"sumSquare")},hr=(e,t)=>{nr(e,"ReduceLogSumShared",t,"logSum")}})),Yc=pe((()=>{Nc(),Lc(),Uc(),Hc(),Kc(),pr=e=>{if(!e||0===e.length||e.length>2)throw new Error("Reduce op requires 1 or 2 inputs.");if(2===e.length&&1!==e[1].dims.length)throw new Error("Invalid axes input dims.")},fr=e=>["","","var value = ".concat(e.getByIndices("input_indices"),";"),""],mr=function(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=[],c=n[0].dims,u=c.length,d=qt.normalizeAxes(i,u),h=!s&&0===d.length;c.forEach(((e,t)=>{h||d.indexOf(t)>=0?o&&l.push(1):l.push(e)}));let p=l.length,f=qt.size(l);return{name:e,shaderCache:t,getShaderSource:e=>{let t=[],i=Mn("_A",n[0].dataType,u),s=In("output",a,p),l=r(i,s,d),f=l[2];for(let n=0,r=0;n<u;n++)h||d.indexOf(n)>=0?(o&&r++,f="for(var j".concat(n,": u32 = 0; j").concat(n," < ").concat(c[n],"; j").concat(n,"++) {\n                  ").concat(l[2].includes("last_index")?"let last_index = j".concat(n,";"):"","\n                  ").concat(i.indicesSet("input_indices",n,"j".concat(n)),"\n                  ").concat(f,"\n                }")):(t.push("".concat(i.indicesSet("input_indices",n,s.indicesGet("output_indices",r)),";")),r++);return"\n\n        ".concat(e.registerUniform("output_size","u32").declareVariables(i,s),"\n\n        ").concat(e.mainStart(),"\n          ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n          var input_indices: ").concat(i.type.indices,";\n          let output_indices = ").concat(s.offsetToIndices("global_idx"),";\n\n          ").concat(t.join("\n"),"\n          ").concat(l[0],"       // init ops for reduce max/min\n          ").concat(l[1],"\n          ").concat(f,"\n          ").concat(l[3],"\n          ").concat(4===l.length?s.setByOffset("global_idx","value"):l.slice(4).join("\n"),"\n        }")},getRunData:()=>({outputs:[{dims:l,dataType:a}],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:[{type:12,data:f},...Dn(c,l)]})}},gr=(e,t)=>{let n=[];return e[1].dims[0]>0&&e[1].getBigInt64Array().forEach((e=>n.push(Number(e)))),wn({axes:n,keepDims:t.keepDims,noopWithEmptyAxes:t.noopWithEmptyAxes})},yr=(e,t,n,r)=>{let i=e.inputs,a=1===i.length?n:gr(i,n);e.compute(mr(t,{hint:a.cacheKey,inputDependencies:["rank"]},[i[0]],a.noopWithEmptyAxes&&0===a.axes.length?fr:r,a.axes,i[0].dataType,a.keepDims,a.noopWithEmptyAxes),{inputs:[0]})},br=(e,t)=>{pr(e.inputs),yr(e,"ReduceLogSum",t,((e,t)=>["var value = ".concat(t.type.storage,"(0);"),"","value += ".concat(e.getByIndices("input_indices"),";"),"value = log(value);"]))},wr=(e,t)=>{pr(e.inputs),yr(e,"ReduceL1",t,((e,t)=>["var value = ".concat(t.type.storage,"(0);"),"","value += abs(".concat(e.getByIndices("input_indices"),");"),""]))},vr=(e,t)=>{pr(e.inputs),yr(e,"ReduceL2",t,((e,t)=>["var t = ".concat(t.type.value,"(0); var value = ").concat(t.type.value,"(0);"),"","t = ".concat(e.getByIndices("input_indices"),"; value += (t * t);"),"value = sqrt(value);"]))},_r=(e,t)=>{pr(e.inputs),yr(e,"ReduceLogSumExp",t,((e,t)=>["var value = ".concat(t.type.storage,"(0);"),"","value += exp(".concat(e.getByIndices("input_indices"),");"),"value = log(value);"]))},xr=(e,t)=>{pr(e.inputs),yr(e,"ReduceMax",t,((e,t,n)=>{let r=[];for(let i=0;i<e.rank;i++)(n.indexOf(i)>=0||0===n.length)&&r.push(e.indicesSet("input_indices",i,0));return["".concat(r.join("\n")),"var value = ".concat(e.getByIndices("input_indices"),";"),"value = max(value, ".concat(e.getByIndices("input_indices"),");"),""]}))},kr=(e,t)=>{pr(e.inputs),yr(e,"ReduceMean",t,((t,n,r)=>{let i=1;for(let a=0;a<t.rank;a++)(r.indexOf(a)>=0||0===r.length)&&(i*=e.inputs[0].dims[a]);return["var sum = f32(0);","","sum += f32(".concat(t.getByIndices("input_indices"),");"),"let value = ".concat(n.type.value,"(sum / ").concat(i,");")]}))},Dr=(e,t)=>{pr(e.inputs),yr(e,"ReduceMin",t,((e,t,n)=>{let r=[];for(let i=0;i<e.rank;i++)(n.indexOf(i)>=0||0===n.length)&&r.push("input_indices[".concat(i,"] = 0;"));return["".concat(r.join("\n")),"var value = ".concat(e.getByIndices("input_indices"),";"),"value = min(value, ".concat(e.getByIndices("input_indices"),");"),""]}))},Tr=(e,t)=>{pr(e.inputs),yr(e,"ReduceProd",t,((e,t)=>["var value = ".concat(t.type.storage,"(1);"),"","value *= ".concat(e.getByIndices("input_indices"),";"),""]))},Ar=(e,t)=>{pr(e.inputs),yr(e,"ReduceSum",t,((e,t)=>["var value = ".concat(t.type.storage,"(0);"),"","value += ".concat(e.getByIndices("input_indices"),";"),""]))},Sr=(e,t)=>{pr(e.inputs),yr(e,"ReduceSumSquare",t,((e,t)=>["var t = ".concat(t.type.value,"(0); var value = ").concat(t.type.value,"(0);"),"","t = ".concat(e.getByIndices("input_indices"),"; value += t * t;"),""]))},Cr=(e,t,n)=>{if(0===t.length)return n;let r=1,i=1;for(let a=0;a<t.length;a++)-1===t.indexOf(a)?r*=e[a]:i*=e[a];return i<32&&r>1024},Er=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?kr(e,t):rr(e,t)},Fr=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?wr(e,t):ir(e,t)},Mr=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?vr(e,t):ar(e,t)},Ir=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?_r(e,t):or(e,t)},Pr=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?xr(e,t):sr(e,t)},zr=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Dr(e,t):lr(e,t)},Nr=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Tr(e,t):cr(e,t)},Or=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Ar(e,t):ur(e,t)},Br=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Sr(e,t):dr(e,t)},Lr=(e,t)=>{Cr(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?br(e,t):hr(e,t)}})),Jc=pe((()=>{Nc(),Uc(),Yc(),Rr=e=>{if(!e||0===e.length||e.length>2)throw new Error("ArgMinMaxOp op requires 1 or 2 inputs.");if(1!==e[0].dataType)throw new Error("Invalid input type.")},jr=(e,t)=>{Rr(e.inputs);e.compute(mr("ArgMin",{hint:t.cacheKey,inputDependencies:["rank"]},[e.inputs[0]],((e,n,r)=>{let i=[];for(let t=0;t<e.rank;t++)(r.indexOf(t)>=0||0===r.length)&&i.push("input_indices[".concat(t,"] = 0;"));return["".concat(i.join("\n")),"var value = ".concat(e.getByIndices("input_indices"),";\nvar best_index : i32 = 0;"),"if (".concat(e.getByIndices("input_indices")," ").concat(t.selectLastIndex>0?"<=":"<"," value) {\n         value = ").concat(e.getByIndices("input_indices"),";\n         best_index = i32(last_index);\n       }"),"",n.setByOffset("global_idx","best_index")]}),[t.axis],7,t.keepDims),{inputs:[0]})},Vr=(e,t)=>{Rr(e.inputs);e.compute(mr("argMax",{hint:t.cacheKey,inputDependencies:["rank"]},[e.inputs[0]],((e,n,r)=>{let i=[];for(let t=0;t<e.rank;t++)(r.indexOf(t)>=0||0===r.length)&&i.push("input_indices[".concat(t,"] = 0;"));return["".concat(i.join("\n")),"var value = ".concat(e.getByIndices("input_indices"),";\nvar best_index : i32 = 0;"),"if (".concat(e.getByIndices("input_indices")," ").concat(t.selectLastIndex>0?">=":">"," value) {\n         value = ").concat(e.getByIndices("input_indices"),";\n         best_index = i32(last_index);\n       }"),"",n.setByOffset("global_idx","best_index")]}),[t.axis],7,t.keepDims),{inputs:[0]})},Wr=e=>wn(e)})),Zc=pe((()=>{Nc(),Lc(),Wc(),Hc(),qr=(e,t)=>{let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5];if(o&&s)throw new Error("Attention cannot have both past and attention_bias");if(3!==n.dims.length)throw new Error('Input "input" must have 3 dimensions');let l=n.dims[0],c=n.dims[1],u=n.dims[2];if(1!==i.dims.length)throw new Error('Input "bias" is expected to have 1 dimensions');if(2!==r.dims.length)throw new Error('Input "weights" is expected to have 2 dimensions');if(r.dims[0]!==u)throw new Error("Input 1 dimension 0 should have same length as dimension 2 of input 0");if(i.dims[0]!==r.dims[1])throw new Error('Input "bias" dimension 0 should have same length as dimension 1 of input "weights"');let d=i.dims[0]/3,h=d,p=h;if(t.qkvHiddenSizes.length>0){if(3!==t.qkvHiddenSizes.length)throw new Error("qkv_hidden_sizes attribute should have 3 elements");for(let e of t.qkvHiddenSizes)if(e%t.numHeads!==0)throw new Error("qkv_hidden_sizes should be divisible by num_heads");d=t.qkvHiddenSizes[0],h=t.qkvHiddenSizes[1],p=t.qkvHiddenSizes[2]}let f=c;if(d!==h)throw new Error("qkv_hidden_sizes first element should be same as the second");if(i.dims[0]!==d+h+p)throw new Error('Input "bias" dimension 0 should have same length as sum of Q/K/V hidden sizes');let m=0;if(o){if(h!==p)throw new Error('Input "past" expect k_hidden_size == v_hidden_size');if(5!==o.dims.length)throw new Error('Input "past" must have 5 dimensions');if(2!==o.dims[0])throw new Error('Input "past" first dimension must be 2');if(o.dims[1]!==l)throw new Error('Input "past" second dimension must be batch_size');if(o.dims[2]!==t.numHeads)throw new Error('Input "past" third dimension must be num_heads');if(o.dims[4]!==h/t.numHeads)throw new Error('Input "past" fifth dimension must be k_hidden_size / num_heads');t.pastPresentShareBuffer||(m=o.dims[3])}let g=f+m;if(a)throw new Error("Mask not supported");if(o)throw new Error("past is not supported");if(s){if(4!==s.dims.length)throw new Error('Input "attention_bias" must have 4 dimensions');if(s.dims[0]!==l||s.dims[1]!==t.numHeads||s.dims[2]!==c||s.dims[3]!==g)throw new Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:l,sequenceLength:c,pastSequenceLength:m,kvSequenceLength:f,totalSequenceLength:g,maxSequenceLength:-1,inputHiddenSize:u,hiddenSize:d,vHiddenSize:p,headSize:Math.floor(d/t.numHeads),vHeadSize:Math.floor(p/t.numHeads),numHeads:t.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:t.maskFilterValue,maskType:0,scale:t.scale,broadcastResPosBias:!1,passPastInKv:!1,qkvFormat:1}},Ur=(e,t,n)=>t&&e?"\n      let total_sequence_length_input = u32(".concat(t.getByOffset("0"),");\n      let present_sequence_length = max(total_sequence_length_input, uniforms.past_sequence_length);\n      let is_subsequent_prompt: bool = sequence_length > 1 && sequence_length != total_sequence_length_input;\n      let is_first_prompt: bool = is_subsequent_prompt == false && sequence_length == total_sequence_length_input;\n      total_sequence_length = u32(").concat(null===e||void 0===e?void 0:e.getByOffset("batchIdx"),") + 1;\n      var past_sequence_length: u32 = 0;\n      if (is_first_prompt == false) {\n        past_sequence_length = total_sequence_length - sequence_length;\n      }\n       "):"\n    ".concat(n?"let past_sequence_length = uniforms.past_sequence_length":"",";\n    let present_sequence_length = total_sequence_length;\n    "),Hr=(e,t,n,r,i,a,o,s)=>{let l=Tn(o?1:a),c=64,u=a/l;u<c&&(c=32);let d=Math.ceil(a/l/c),h=[{type:12,data:t},{type:12,data:n},{type:12,data:r},{type:12,data:i},{type:12,data:u},{type:12,data:d}],p=xn(e.dataType,l),f=kn(1,l),m=["type"];o&&m.push("type"),s&&m.push("type");return{name:"AttentionProbsSoftmax",shaderCache:{hint:"".concat(c,";").concat(p,";").concat(l),inputDependencies:m},getShaderSource:t=>{let n=In("x",e.dataType,e.dims,l),r=[n],i=o?Mn("seq_lens",o.dataType,o.dims):void 0;i&&r.push(i);let a=s?Mn("total_sequence_length_input",s.dataType,s.dims):void 0;a&&r.push(a);let u=kn(e.dataType);return"\n  var<workgroup> thread_max: array<f32, ".concat(c,">;\n  var<workgroup> thread_sum: array<f32, ").concat(c,">;\n  ").concat(t.registerUniforms([{name:"batch_size",type:"u32"},{name:"num_heads",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"sequence_length",type:"u32"},{name:"total_sequence_length",type:"u32"},{name:"elements_per_thread",type:"u32"}]).declareVariables(...r),"\n  ").concat(t.mainStart([c,1,1]),"\n    let batchIdx = workgroup_id.z / uniforms.num_heads;\n    let headIdx = workgroup_id.z % uniforms.num_heads;\n    let sequence_length = uniforms.sequence_length;\n    var total_sequence_length = uniforms.total_sequence_length;\n    ").concat(Ur(i,a,!1),"\n    let local_offset = local_idx * uniforms.elements_per_thread;\n    let offset = (global_idx / ").concat(c,") * uniforms.total_sequence_length + local_offset;\n    let seq_causal_length = ").concat(o?"u32(past_sequence_length + workgroup_id.y + 1)":"total_sequence_length",";\n    var thread_max_vector = ").concat(f,"(-3.402823e+38f);\n    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {\n      thread_max_vector = max(").concat(f,"(x[offset + i]), thread_max_vector);\n    }\n    thread_max[local_idx] = ").concat((()=>{switch(l){case 1:return"thread_max_vector";case 2:return"max(thread_max_vector.x, thread_max_vector.y)";case 4:return"max(max(thread_max_vector.x, thread_max_vector.y), max(thread_max_vector.z, thread_max_vector.w))";default:throw new Error("Unsupported components: ".concat(l))}})(),";\n    workgroupBarrier();\n\n    var max_value =  f32(-3.402823e+38f);\n    for (var i = 0u; i < ").concat(c,"; i++) {\n      max_value = max(thread_max[i], max_value);\n    }\n\n    var sum_vector = ").concat(f,"(0);\n    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {\n      sum_vector += exp(").concat(f,"(x[offset + i]) - max_value);\n    }\n    thread_sum[local_idx] = ").concat((()=>{switch(l){case 1:return"sum_vector";case 2:return"sum_vector.x + sum_vector.y";case 4:return"sum_vector.x + sum_vector.y + sum_vector.z + sum_vector.w";default:throw new Error("Unsupported components: ".concat(l))}})(),";\n    workgroupBarrier();\n\n    var sum: f32 = 0;\n    for (var i = 0u; i < ").concat(c,"; i++) {\n      sum += thread_sum[i];\n    }\n\n    if (sum == 0) {\n      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {\n        x[offset + i] = ").concat(n.type.value,"(").concat(u,"(1.0) / ").concat(u,"(seq_causal_length));\n      }\n    } else {\n      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {\n        var f32input = ").concat(f,"(x[offset + i]);\n        x[offset + i] = ").concat(n.type.value,"(exp(f32input - max_value) / sum);\n      }\n    }\n      ").concat(o?"\n        for (var total_seq_id: u32 = seq_causal_length; total_seq_id + local_offset < uniforms.total_sequence_length; total_seq_id++) {\n          x[offset + total_seq_id] = ".concat(n.type.value,"(").concat(u,"(0));\n        }"):"",";\n  }")},getRunData:()=>({outputs:[],dispatchGroup:{x:1,y:i,z:t*n},programUniforms:h})}},Gr=(e,t,n,r,i,a,o,s,l)=>{let c=o+a.kvSequenceLength,u=[a.batchSize,a.numHeads,a.sequenceLength,c],d=e>1&&r,h=a.kvNumHeads?a.kvNumHeads:a.numHeads,p=d?[a.batchSize,h,c,a.headSize]:void 0,f=a.nReps?a.nReps:1,m=0===a.scale?1/Math.sqrt(a.headSize):a.scale,g=Tn(a.headSize),y=a.headSize/g,b=12,w={x:Math.ceil(c/b),y:Math.ceil(a.sequenceLength/b),z:a.batchSize*a.numHeads},v=[{type:12,data:a.sequenceLength},{type:12,data:y},{type:12,data:c},{type:12,data:a.numHeads},{type:12,data:a.headSize},{type:1,data:m},{type:12,data:o},{type:12,data:a.kvSequenceLength},{type:12,data:f}],_=d&&r&&qt.size(r.dims)>0,x=["type","type"];_&&x.push("type"),i&&x.push("type"),s&&x.push("type"),l&&x.push("type");let k=[{dims:u,dataType:t.dataType,gpuDataType:0}];d&&k.push({dims:p,dataType:t.dataType,gpuDataType:0});return{name:"AttentionProbs",shaderCache:{hint:"".concat(g,";").concat(void 0!==i,";").concat(void 0!==r,";").concat(e),inputDependencies:x},getRunData:()=>({outputs:k,dispatchGroup:w,programUniforms:v}),getShaderSource:e=>{let a=Mn("q",t.dataType,t.dims,g),o=[a,Mn("key",n.dataType,n.dims,g)];if(_){let e=Mn("past_key",r.dataType,r.dims,g);o.push(e)}i&&o.push(Mn("attention_bias",i.dataType,i.dims));let c=s?Mn("seq_lens",s.dataType,s.dims):void 0;c&&o.push(c);let h=l?Mn("total_sequence_length_input",l.dataType,l.dims):void 0;h&&o.push(h);let m=In("output",t.dataType,u),y=[m];d&&y.push(In("present_key",t.dataType,p,g));let w=kn(1,g);return"\n  const TILE_SIZE = ".concat(b,"u;\n\n  var<workgroup> tileQ: array<").concat(a.type.storage,", ").concat(144,">;\n  var<workgroup> tileK: array<").concat(a.type.storage,", ").concat(144,">;\n  ").concat(e.registerUniforms([{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"alpha",type:"f32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}]).declareVariables(...o,...y),"\n  ").concat(e.mainStart([b,b,1]),"\n    // x holds the N and y holds the M\n    let headIdx = workgroup_id.z % uniforms.num_heads;\n    let kvHeadIdx = ").concat(1===f?"headIdx":"headIdx / uniforms.n_reps",";\n    let kv_num_heads = ").concat(1===f?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps",";\n    let batchIdx = workgroup_id.z / uniforms.num_heads;\n    let m = workgroup_id.y * TILE_SIZE;\n    let n = workgroup_id.x * TILE_SIZE;\n    let sequence_length = uniforms.M;\n    var total_sequence_length = uniforms.N;\n    ").concat(Ur(c,h,!0),"\n    let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx;\n    let qOffset = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;\n    ").concat(_&&d?"let pastKeyOffset = absKvHeadIdx * uniforms.past_sequence_length * uniforms.K;":"",";\n    let kOffset = absKvHeadIdx * uniforms.kv_sequence_length * uniforms.K;\n    ").concat(d?"let presentKeyOffset = absKvHeadIdx * uniforms.N * uniforms.K;":"","\n    var value = ").concat(w,"(0);\n    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n      if (global_id.y < uniforms.M && w + local_id.x < uniforms.K) {\n        tileQ[TILE_SIZE * local_id.y + local_id.x] = q[qOffset + local_id.y * uniforms.K + w + local_id.x];\n      }\n      if (n + local_id.y < uniforms.N && w + local_id.x < uniforms.K) {\n        var idx = TILE_SIZE * local_id.y + local_id.x;\n      ").concat(_&&d?"\n              if (n + local_id.y < past_sequence_length) {\n                tileK[idx] = past_key[pastKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x];\n              } else if (n + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {\n                tileK[idx] = key[kOffset + (n + local_id.y - past_sequence_length) * uniforms.K + w + local_id.x];\n              }":"\n          if (n + local_id.y < uniforms.kv_sequence_length) {\n            tileK[idx] = key[kOffset + (n + local_id.y) * uniforms.K + w + local_id.x];\n          }","\n      ").concat(d?"if (n + local_id.y < present_sequence_length) {\n        present_key[presentKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x] = tileK[idx];\n      }":"","\n      }\n      workgroupBarrier();\n\n      for (var k: u32 = 0u; k < TILE_SIZE && w+k < uniforms.K; k++) {\n          value += ").concat(w,"(tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * local_id.x + k]);\n      }\n\n      workgroupBarrier();\n    }\n\n    if (global_id.y < uniforms.M && global_id.x < total_sequence_length) {\n      let headOffset = workgroup_id.z * uniforms.M * uniforms.N;\n      let outputIdx = headOffset + global_id.y * uniforms.N + global_id.x;\n      var sum: f32 = ").concat((()=>{switch(g){case 1:return"value";case 2:return"value.x + value.y";case 4:return"value.x + value.y + value.z + value.w";default:throw new Error("Unsupported components: ".concat(g))}})(),";\n        output[outputIdx] = ").concat(m.type.value," (sum * uniforms.alpha) + ").concat(i?"attention_bias[outputIdx]":"0.0",";\n    }\n  }")}}},Kr=function(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=a+i.kvSequenceLength,c=i.nReps?i.nReps:1,u=i.vHiddenSize*c,d=e>1&&r,h=i.kvNumHeads?i.kvNumHeads:i.numHeads,p=d?[i.batchSize,h,l,i.headSize]:void 0,f=[i.batchSize,i.sequenceLength,u],m=12,g={x:Math.ceil(i.vHeadSize/m),y:Math.ceil(i.sequenceLength/m),z:i.batchSize*i.numHeads},y=[{type:12,data:i.sequenceLength},{type:12,data:l},{type:12,data:i.vHeadSize},{type:12,data:i.numHeads},{type:12,data:i.headSize},{type:12,data:u},{type:12,data:a},{type:12,data:i.kvSequenceLength},{type:12,data:c}],b=d&&r&&qt.size(r.dims)>0,w=["type","type"];b&&w.push("type"),o&&w.push("type"),s&&w.push("type");let v=[{dims:f,dataType:t.dataType,gpuDataType:0}];d&&v.push({dims:p,dataType:t.dataType,gpuDataType:0});return{name:"AttentionScore",shaderCache:{hint:"".concat(void 0!==r,";").concat(e),inputDependencies:w},getRunData:()=>({outputs:v,dispatchGroup:g,programUniforms:y}),getShaderSource:e=>{let i=Mn("probs",t.dataType,t.dims),a=[i,Mn("v",n.dataType,n.dims)];b&&a.push(Mn("past_value",r.dataType,r.dims));let l=o?Mn("seq_lens",o.dataType,o.dims):void 0;o&&a.push(l);let u=s?Mn("total_sequence_length_input",s.dataType,s.dims):void 0;s&&a.push(u);let h=[In("output",t.dataType,f)];d&&h.push(In("present_value",t.dataType,p));return"\n  const TILE_SIZE = ".concat(m,"u;\n  var<workgroup> tileQ: array<").concat(i.type.value,", ").concat(144,">;\n  var<workgroup> tileV: array<").concat(i.type.value,", ").concat(144,">;\n  ").concat(e.registerUniforms([{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"v_hidden_size",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}]).declareVariables(...a,...h),"\n  ").concat(e.mainStart([m,m,1]),"\n   let headIdx = workgroup_id.z % uniforms.num_heads;\n   let batchIdx = workgroup_id.z / uniforms.num_heads;\n   let kvHeadIdx = ").concat(1===c?"headIdx":"headIdx / uniforms.n_reps",";\n   let kv_num_heads = ").concat(1===c?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps",";\n   let m = global_id.y;\n   let n = global_id.x;\n   let sequence_length = uniforms.M;\n   var total_sequence_length = uniforms.K;\n   ").concat(Ur(l,u,!0),"\n   let offsetA = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;\n   let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx; // kvHeadIdx is relative to the batch\n   ").concat(b&&d?"let pastValueOffset = absKvHeadIdx * uniforms.N * uniforms.past_sequence_length + n;":"",";\n   let vOffset = absKvHeadIdx * uniforms.N * uniforms.kv_sequence_length + n;\n   ").concat(d?"let presentValueOffset = absKvHeadIdx * uniforms.N * uniforms.K + n;":"","\n   var value = ").concat(i.type.storage,"(0);\n   for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n      if (m < uniforms.M && w + local_id.x < uniforms.K) {\n        tileQ[TILE_SIZE * local_id.y + local_id.x] = probs[offsetA + w + local_id.x];\n      }\n      if (n < uniforms.N && w + local_id.y < uniforms.K) {\n        var idx = TILE_SIZE * local_id.y + local_id.x;\n        ").concat(b&&d?"\n        if (w + local_id.y < past_sequence_length) {\n          tileV[idx] = past_value[pastValueOffset + (w + local_id.y) * uniforms.N];\n        } else if (w + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {\n          tileV[idx] = v[vOffset + (w + local_id.y - past_sequence_length) * uniforms.N];\n        }\n      ":"\n            if (w + local_id.y < uniforms.kv_sequence_length) {\n              tileV[idx] = v[vOffset + (w + local_id.y) * uniforms.N];\n            }","\n        ").concat(d?"\n            if (w + local_id.y < present_sequence_length) {\n          present_value[presentValueOffset + (w + local_id.y) * uniforms.N] = tileV[idx];\n        }":"","\n      }\n     workgroupBarrier();\n     for (var k: u32 = 0u; k < TILE_SIZE && w+k < total_sequence_length; k++) {\n       value += tileQ[TILE_SIZE * local_id.y + k] * tileV[TILE_SIZE * k + local_id.x];\n     }\n     workgroupBarrier();\n   }\n\n   // we need to transpose output from BNSH_v to BSND_v\n   if (m < uniforms.M && n < uniforms.N) {\n     let outputIdx = batchIdx * uniforms.M * uniforms.v_hidden_size + m * uniforms.v_hidden_size\n       + headIdx * uniforms.N + n;\n     output[outputIdx] = value;\n   }\n  }")}}},Yr=function(e,t,n,r,i,a,o,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:void 0,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:void 0,h=Math.min(e.outputCount,1+(o?1:0)+(s?1:0)),p=h>1?c.pastSequenceLength:0,f=p+c.kvSequenceLength,m=l&&qt.size(l.dims)>0?l:void 0,g=[t,n];h>1&&o&&qt.size(o.dims)>0&&g.push(o),m&&g.push(m),u&&g.push(u),d&&g.push(d);let y=e.compute(Gr(h,t,n,o,m,c,p,u,d),{inputs:g,outputs:h>1?[-1,1]:[-1]})[0];e.compute(Hr(y,c.batchSize,c.numHeads,p,c.sequenceLength,f,u,d),{inputs:u&&d?[y,u,d]:[y],outputs:[]});let b=[y,r];h>1&&s&&qt.size(s.dims)>0&&b.push(s),u&&b.push(u),d&&b.push(d),e.compute(Kr(h,y,r,s,c,p,u,d),{inputs:b,outputs:h>1?[0,2]:[0]})},Jr=(e,t)=>{let n=[t.batchSize,t.numHeads,t.sequenceLength,t.headSize],r=t.sequenceLength,i=t.inputHiddenSize,a=t.headSize,o=12,s={x:Math.ceil(t.headSize/o),y:Math.ceil(t.sequenceLength/o),z:t.batchSize*t.numHeads},l=[e.inputs[0],e.inputs[1],e.inputs[2]],c=[{type:12,data:r},{type:12,data:i},{type:12,data:a},{type:12,data:t.numHeads},{type:12,data:t.headSize},{type:12,data:t.hiddenSize},{type:12,data:t.hiddenSize+t.hiddenSize+t.vHiddenSize}];return e.compute({name:"AttentionPrepare",shaderCache:{inputDependencies:["type","type","type"]},getRunData:()=>({outputs:[{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0},{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0},{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0}],dispatchGroup:s,programUniforms:c}),getShaderSource:e=>{let t=In("output_q",l[0].dataType,n),r=In("output_k",l[0].dataType,n),i=In("output_v",l[0].dataType,n),a=Mn("input",l[0].dataType,l[0].dims),s=Mn("weight",l[1].dataType,l[1].dims),c=Mn("bias",l[2].dataType,l[2].dims),u=a.type.storage;return"\n  const TILE_SIZE = ".concat(o,"u;\n  var<workgroup> tileInput: array<").concat(u,", ").concat(144,">;\n  var<workgroup> tileWeightQ: array<").concat(u,", ").concat(144,">;\n  var<workgroup> tileWeightK: array<").concat(u,", ").concat(144,">;\n  var<workgroup> tileWeightV: array<").concat(u,", ").concat(144,">;\n  ").concat(e.registerUniforms([{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"hidden_size",type:"u32"},{name:"ldb",type:"u32"}]).declareVariables(a,s,c,t,r,i),"\n  ").concat(e.mainStart([o,o,1]),"\n    let batchIndex = workgroup_id.z / uniforms.num_heads;\n    let headNumber = workgroup_id.z % uniforms.num_heads;\n    let m = global_id.y;\n    let n = global_id.x;\n\n    let inputOffset = batchIndex * (uniforms.M * uniforms.K) + m * uniforms.K;\n    let biasOffsetQ = headNumber * uniforms.head_size;\n    let biasOffsetK = uniforms.hidden_size + biasOffsetQ;\n    let biasOffsetV = uniforms.hidden_size + biasOffsetK;\n\n    var valueQ = ").concat(u,"(0);\n    var valueK = ").concat(u,"(0);\n    var valueV = ").concat(u,"(0);\n    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n      if (m < uniforms.M && w + local_id.x < uniforms.K) {\n        tileInput[TILE_SIZE * local_id.y + local_id.x] = input[inputOffset + w + local_id.x];\n      }\n      if (n < uniforms.N && w + local_id.y < uniforms.K) {\n        let offset = n + (w + local_id.y) * uniforms.ldb;\n        tileWeightQ[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetQ + offset];\n        tileWeightK[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetK + offset];\n        tileWeightV[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetV + offset];\n      }\n      workgroupBarrier();\n      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {\n        let inputTileOffset = TILE_SIZE * local_id.y + k;\n        let weightTileOffset = TILE_SIZE * k + local_id.x;\n        valueQ += tileInput[inputTileOffset] * tileWeightQ[weightTileOffset];\n        valueK += tileInput[inputTileOffset] * tileWeightK[weightTileOffset];\n        valueV += tileInput[inputTileOffset] * tileWeightV[weightTileOffset];\n      }\n\n      workgroupBarrier();\n    }\n\n    let headOffset = (m * uniforms.N + n) % uniforms.head_size;\n    valueQ += bias[headOffset + biasOffsetQ];\n    valueK += bias[headOffset + biasOffsetK];\n    valueV += bias[headOffset + biasOffsetV];\n\n    let offset = workgroup_id.z * uniforms.M * uniforms.N;\n    if (m < uniforms.M && n < uniforms.N) {\n      let outputIdx = offset + m * uniforms.N + n;\n      output_q[outputIdx] = valueQ;\n      output_k[outputIdx] = valueK;\n      output_v[outputIdx] = valueV;\n    }\n  }")}},{inputs:l,outputs:[-1,-1,-1]})},Zr=(e,t)=>{let n=qr(e.inputs,t),[r,i,a]=Jr(e,n);return Yr(e,r,i,a,e.inputs[4],void 0,void 0,void 0,e.inputs[5],n)}})),Xc=pe((()=>{Ne(),Nc(),Lc(),Uc(),Hc(),Xr=(e,t)=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs");let n=(e,t,n)=>{let r=t.length;if(r!==e.length)throw new Error("".concat(n,": num dimensions != ").concat(r));t.forEach(((t,r)=>{if(t!==e[r])throw new Error("".concat(n,": dim[").concat(r,"] do not match"))}))};if(e[0].dims.length>1){let r="NHWC"===t.format?t.spatial?e[0].dims.slice(-1):e[0].dims.slice(-1).concat(e[0].dims.slice(1,e[0].dims.length-1)):e[0].dims.slice(1,t.spatial?2:void 0);n(e[1].dims,r,"Invalid input scale"),n(e[2].dims,r,"Invalid input B"),n(e[3].dims,r,"Invalid input mean"),n(e[4].dims,r,"Invalid input var")}else n(e[1].dims,[1],"Invalid input scale"),n(e[2].dims,[1],"Invalid input B"),n(e[3].dims,[1],"Invalid input mean"),n(e[4].dims,[1],"Invalid input var")},$r=(e,t)=>{let{epsilon:n,spatial:r,format:i}=t,a=e[0].dims,o=r?Tn(a[a.length-1]):1,s="NHWC"===i&&a.length>1?o:1,l=qt.size(a)/o,c=r,u=c?a.length:a,d=Mn("x",e[0].dataType,e[0].dims,o),h=Mn("scale",e[1].dataType,e[1].dims,s),p=Mn("bias",e[2].dataType,e[2].dims,s),f=Mn("inputMean",e[3].dataType,e[3].dims,s),m=Mn("inputVar",e[4].dataType,e[4].dims,s),g=In("y",e[0].dataType,u,o);return{name:"BatchNormalization",shaderCache:{hint:"".concat(t.epsilon,"_").concat(t.format,"_").concat(r,"_").concat(o),inputDependencies:c?["rank","type","type","type","type"]:void 0},getShaderSource:e=>"\n  const epsilon = ".concat(n,";\n  ").concat(e.registerUniform("outputSize","u32").declareVariables(d,h,p,f,m,g),"\n  ").concat(e.mainStart(),"\n  ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n    var outputIndices = ").concat(g.offsetToIndices("global_idx * ".concat(o)),";\n    ").concat((()=>{let e="";if(r)e="let cOffset = ".concat(1===a.length?"0u":"NHWC"===i?"outputIndices[".concat(a.length-1,"] / ").concat(o):"outputIndices[1]",";");else if("NCHW"===i)e="\n            ".concat(g.indicesSet("outputIndices","0","0"),"\n            let cOffset = ").concat(g.indicesToOffset("outputIndices"),";");else{e="var cIndices = ".concat(h.type.indices,"(0);\n                       cIndices[0] = outputIndices[").concat(a.length-1,"];");for(let t=1;t<h.rank;t++)e+="cIndices[".concat(t,"] = outputIndices[").concat(t,"];");e+="let cOffset = ".concat(h.indicesToOffset("cIndices"),";")}return e})(),"\n    let scale = ").concat(h.getByOffset("cOffset"),";\n    let bias = ").concat(p.getByOffset("cOffset"),";\n    let inputMean = ").concat(f.getByOffset("cOffset"),";\n    let inputVar = ").concat(m.getByOffset("cOffset"),";\n    let x = ").concat(d.getByOffset("global_idx"),";\n    let value = (x - inputMean) * inverseSqrt(inputVar + epsilon) * scale + bias;\n    ").concat(g.setByOffset("global_idx","value"),"\n  }"),getRunData:()=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:c?[{type:12,data:l},...Dn(a)]:[{type:12,data:l}]})}},Qr=e=>wn(e),ei=(e,t)=>{let{inputs:n,outputCount:r}=e,i=Qr(u(u({},t),{},{outputCount:r}));if(R.webgpu.validateInputContent&&Xr(n,i),t.trainingMode)throw new Error("BatchNormalization trainingMode is not supported yet.");e.compute($r(n,i))}})),$c=pe((()=>{Lc(),Hc(),ti=e=>{if(3!==e[0].dims.length)throw new Error("input should have 3 dimensions");if(![320,640,1280].includes(e[0].dims[2]))throw new Error("number of channels should be 320, 640 or 1280");if(1!==e[1].dims.length)throw new Error("bias is expected to have 1 dimensions");if(e[0].dims[2]!==e[1].dims[0])throw new Error("last dimension of input and bias are not the same")},ni=e=>{let t=e[0].dims,n=e[0].dims[2],r=qt.size(t)/4,i=e[0].dataType,a=Mn("input",i,t,4),o=Mn("bias",i,[n],4),s=Mn("residual",i,t,4),l=In("output",i,t,4);return{name:"BiasAdd",getRunData:()=>({outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(r/64)}}),getShaderSource:e=>"\n  const channels = ".concat(n,"u / 4;\n  ").concat(e.declareVariables(a,o,s,l),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(r),"\n    let value = ").concat(a.getByOffset("global_idx"),"\n      + ").concat(o.getByOffset("global_idx % channels")," + ").concat(s.getByOffset("global_idx"),";\n    ").concat(l.setByOffset("global_idx","value"),"\n  }")}},ri=e=>{ti(e.inputs),e.compute(ni(e.inputs))}})),Qc=pe((()=>{Nc(),Lc(),Uc(),Hc(),ii=(e,t,n,r,i,a,o)=>{let s=Math.ceil(t/4),l="";l="string"==typeof i?"".concat(i,"(a)"):i("a");let c=Mn("inputData",n,[s],4),u=In("outputData",r,[s],4),d=[{name:"vec_size",type:"u32"}];return o&&d.push(...o),"\n      ".concat(e.registerUniforms(d).declareVariables(c,u),"\n\n  ").concat(null!==a&&void 0!==a?a:"","\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size"),"\n\n    let a = ").concat(c.getByOffset("global_idx"),";\n    ").concat(u.setByOffset("global_idx",l),"\n  }")},ai=function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.dataType,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=[{type:12,data:Math.ceil(qt.size(e.dims)/4)}];return o&&l.push(...o),{name:t,shaderCache:{hint:i,inputDependencies:["type"]},getShaderSource:t=>ii(t,qt.size(e.dims),e.dataType,a,n,r,s),getRunData:t=>({outputs:[{dims:e.dims,dataType:a}],dispatchGroup:{x:Math.ceil(qt.size(t[0].dims)/64/4)},programUniforms:l})}},oi=e=>{e.compute(ai(e.inputs[0],"Abs","abs"))},si=e=>{e.compute(ai(e.inputs[0],"Acos","acos"))},li=e=>{e.compute(ai(e.inputs[0],"Acosh","acosh"))},ci=e=>{e.compute(ai(e.inputs[0],"Asin","asin"))},ui=e=>{e.compute(ai(e.inputs[0],"Asinh","asinh"))},di=e=>{e.compute(ai(e.inputs[0],"Atan","atan"))},hi=e=>{e.compute(ai(e.inputs[0],"Atanh","atanh"))},pi=e=>wn(e),fi=(e,t)=>{let n;switch(t.to){case 10:n="vec4<f16>";break;case 1:n="vec4<f32>";break;case 12:n="vec4<u32>";break;case 6:n="vec4<i32>";break;case 9:n="vec4<bool>";break;default:throw new RangeError("not supported type (specified in attribute 'to' from 'Cast' operator): ".concat(t.to))}e.compute(ai(e.inputs[0],"Cast",n,void 0,t.cacheKey,t.to))},mi=e=>{let t,n,r=e.length>=2&&0!==e[1].data,i=e.length>=3&&0!==e[2].data;switch(e[0].dataType){case 1:t=r?e[1].getFloat32Array()[0]:-34028234663852886e22,n=i?e[2].getFloat32Array()[0]:34028234663852886e22;break;case 10:t=r?e[1].getUint16Array()[0]:64511,n=i?e[2].getUint16Array()[0]:31743;break;default:throw new Error("Unsupport data type")}return wn({min:t,max:n})},gi=(e,t)=>{let n=t||mi(e.inputs),r=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"Clip",(e=>"clamp(".concat(e,", vec4<").concat(r,">(uniforms.min), vec4<").concat(r,">(uniforms.max))")),void 0,n.cacheKey,void 0,[{type:e.inputs[0].dataType,data:n.min},{type:e.inputs[0].dataType,data:n.max}],[{name:"min",type:r},{name:"max",type:r}]),{inputs:[0]})},yi=e=>{e.compute(ai(e.inputs[0],"Ceil","ceil"))},bi=e=>{e.compute(ai(e.inputs[0],"Cos","cos"))},wi=e=>{e.compute(ai(e.inputs[0],"Cosh","cosh"))},vi=e=>wn(e),_i=(e,t)=>{let n=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"Elu",(e=>"elu_vf32(".concat(e,")")),"\n  const elu_alpha_ = ".concat(n,"(").concat(t.alpha,");\n\n  fn elu_f32(a: ").concat(n,") -> ").concat(n," {\n  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);\n  }\n\n  fn elu_vf32(v: vec4<").concat(n,">) -> vec4<").concat(n,"> {\n  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));\n  }"),t.cacheKey))},xi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"f32";return"\nconst r0: ".concat(e," = 0.3275911;\nconst r1: ").concat(e," = 0.254829592;\nconst r2: ").concat(e," = -0.284496736;\nconst r3: ").concat(e," = 1.421413741;\nconst r4: ").concat(e," = -1.453152027;\nconst r5: ").concat(e," = 1.061405429;\n\nfn erf_vf32(v: vec4<").concat(e,">) -> vec4<").concat(e,"> {\n  let absv = abs(v);\n  let x = 1.0 / (1.0 + r0 * absv);\n  return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));\n}")},ki=e=>{let t=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"Erf",(e=>"erf_vf32(".concat(e,")")),xi(t)))},Di=e=>{e.compute(ai(e.inputs[0],"Exp","exp"))},Ti=e=>{e.compute(ai(e.inputs[0],"Floor","floor"))},Ai=e=>{let t=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"Gelu",(e=>"0.5 * ".concat(e," * (1.0 + erf_vf32(").concat(e," * 0.7071067811865475))")),xi(t)))},Si=(e,t)=>{let n=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"LeakyRelu",(e=>"select(leaky_relu_alpha_ * ".concat(e,", ").concat(e,", ").concat(e," >= vec4<").concat(n,">(0.0))")),"const leaky_relu_alpha_ = ".concat(n,"(").concat(t.alpha,");"),t.cacheKey))},Ci=e=>{e.compute(ai(e.inputs[0],"Not",(e=>"!".concat(e))))},Ei=e=>{e.compute(ai(e.inputs[0],"Neg",(e=>"-".concat(e))))},Fi=e=>{e.compute(ai(e.inputs[0],"Reciprocal",(e=>"1.0/".concat(e))))},Mi=e=>{let t=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"Relu",(e=>"select(vec4<".concat(t,">(0.0), ").concat(e,", ").concat(e," > vec4<").concat(t,">(0.0))"))))},Ii=e=>{e.compute(ai(e.inputs[0],"Sigmoid",(e=>"(1.0 / (1.0 + exp(-".concat(e,")))"))))},Pi=e=>wn(e),zi=(e,t)=>{let n=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"HardSigmoid",(e=>"max(vec4<".concat(n,">(0.0), min(vec4<").concat(n,">(1.0), ").concat(t.alpha," * ").concat(e," + vec4<").concat(n,">(").concat(t.beta,")))")),void 0,t.cacheKey))},Ni=e=>{e.compute(ai(e.inputs[0],"Sin","sin"))},Oi=e=>{e.compute(ai(e.inputs[0],"Sinh","sinh"))},Bi=e=>{e.compute(ai(e.inputs[0],"Sqrt","sqrt"))},Li=e=>{e.compute(ai(e.inputs[0],"Tan","tan"))},Ri=e=>"sign(".concat(e,") * (1 - exp(-2 * abs(").concat(e,"))) / (1 + exp(-2 * abs(").concat(e,")))"),ji=e=>{e.compute(ai(e.inputs[0],"Tanh",Ri))},Vi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"f32";return"\nconst fast_gelu_a: ".concat(e," = 0.5;\nconst fast_gelu_b: ").concat(e," = 0.7978845608028654;\nconst fast_gelu_c: ").concat(e," = 0.035677408136300125;\n\nfn tanh_v(v: vec4<").concat(e,">) -> vec4<").concat(e,"> {\n  return ").concat(Ri("v"),";\n}\n")},Wi=e=>"(fast_gelu_a + fast_gelu_a * tanh_v(".concat(e," * (fast_gelu_c * ").concat(e," * ").concat(e," + fast_gelu_b))) * ").concat(e),qi=e=>{let t=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"FastGelu",Wi,Vi(t),void 0,e.inputs[0].dataType))},Ui=(e,t)=>{let n=kn(e.inputs[0].dataType);return e.compute(ai(e.inputs[0],"ThresholdedRelu",(e=>"select(vec4<".concat(n,">(0.0), ").concat(e,", ").concat(e," > thresholded_relu_alpha_)")),"const thresholded_relu_alpha_ = vec4<".concat(n,">(").concat(t.alpha,");"),t.cacheKey)),0},Hi=e=>{e.compute(ai(e.inputs[0],"Log","log"))},Gi=(e,t)=>"\nconst alpha = vec4<".concat(e,">(").concat(t,");\nconst one = ").concat(e,"(1.0);\nconst zero = ").concat(e,"(0.0);\n\nfn quick_gelu_impl(x: vec4<").concat(e,">) -> vec4<").concat(e,"> {\n  let v = x *alpha;\n  var x1 : vec4<").concat(e,">;\n  for (var i = 0; i < 4; i = i + 1) {\n    if (v[i] >= zero) {\n      x1[i] = one / (one + exp(-v[i]));\n    } else {\n      x1[i] = one - one / (one + exp(v[i]));\n    }\n  }\n  return x * x1;\n}\n"),Ki=e=>"quick_gelu_impl(".concat(e,")"),Yi=(e,t)=>{let n=kn(e.inputs[0].dataType);e.compute(ai(e.inputs[0],"QuickGelu",Ki,Gi(n,t.alpha),t.cacheKey,e.inputs[0].dataType))}})),eu=pe((()=>{Lc(),Hc(),Qc(),Ji=e=>{if(3!==e[0].dims.length)throw new Error("input should have 3 dimensions");if(![2560,5120,10240].includes(e[0].dims[2]))throw new Error("hidden state should be 2560, 5120 or 10240");if(1!==e[1].dims.length)throw new Error("bias is expected to have 1 dimensions");if(e[0].dims[2]!==e[1].dims[0])throw new Error("last dimension of input and bias are not the same")},Zi=e=>{let t=e[0].dims.slice();t[2]=t[2]/2;let n=Mn("input",e[0].dataType,e[0].dims,4),r=Mn("bias",e[0].dataType,[e[0].dims[2]],4),i=In("output",e[0].dataType,t,4),a=qt.size(t)/4,o=xn(e[0].dataType);return{name:"BiasSplitGelu",getRunData:()=>({outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(a/64)}}),getShaderSource:t=>"\n  const M_SQRT2 = sqrt(2.0);\n  const halfChannels = ".concat(e[0].dims[2]/4/2,"u;\n\n  ").concat(t.declareVariables(n,r,i),"\n\n  ").concat(xi(o),"\n\n  ").concat(t.mainStart(),"\n    ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes(a),"\n    let biasIdx = global_idx % halfChannels;\n    let batchIndex = global_idx / halfChannels;\n    let inputOffset = biasIdx + batchIndex * halfChannels * 2;\n    let valueLeft = input[inputOffset] + bias[biasIdx];\n    let valueRight = input[inputOffset + halfChannels] + bias[biasIdx + halfChannels];\n    let geluRight = valueRight * 0.5 * (erf_vf32(valueRight / M_SQRT2) + 1);\n\n    ").concat(i.setByOffset("global_idx","valueLeft * geluRight"),"\n  }")}},Xi=e=>{Ji(e.inputs),e.compute(Zi(e.inputs))}})),tu=pe((()=>{Nc(),Lc(),Hc(),$i=(e,t,n,r,i,a,o,s,l,c,u,d)=>{let h,p;"string"==typeof s?h=p=(e,t)=>"".concat(s,"((").concat(e,"),(").concat(t,"))"):"function"==typeof s?h=p=s:(h=s.scalar,p=s.vector);let f,m=In("outputData",u,r.length,4),g=Mn("aData",l,t.length,4),y=Mn("bData",c,n.length,4);if(i)if(a){let e=1===qt.size(t),r=1===qt.size(n),i=t.length>0&&t[t.length-1]%4===0,a=n.length>0&&n[n.length-1]%4===0;f=e||r?m.setByOffset("global_idx",p(e?"".concat(g.type.value,"(").concat(g.getByOffset("0"),".x)"):g.getByOffset("global_idx"),r?"".concat(y.type.value,"(").concat(y.getByOffset("0"),".x)"):y.getByOffset("global_idx"))):"\n            let outputIndices = ".concat(m.offsetToIndices("global_idx * 4u"),";\n            let offsetA = ").concat(g.broadcastedIndicesToOffset("outputIndices",m),";\n            let offsetB = ").concat(y.broadcastedIndicesToOffset("outputIndices",m),";\n            ").concat(m.setByOffset("global_idx",p(o||i?g.getByOffset("offsetA / 4u"):"".concat(g.type.value,"(").concat(g.getByOffset("offsetA / 4u"),"[offsetA % 4u])"),o||a?y.getByOffset("offsetB / 4u"):"".concat(y.type.value,"(").concat(y.getByOffset("offsetB / 4u"),"[offsetB % 4u])"))),"\n          ")}else f=m.setByOffset("global_idx",p(g.getByOffset("global_idx"),y.getByOffset("global_idx")));else{if(!a)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="aData[indexA".concat(t,"][componentA").concat(t,"]"),i="bData[indexB".concat(t,"][componentB").concat(t,"]");return"\n            let outputIndices".concat(t," = ").concat(m.offsetToIndices("global_idx * 4u + ".concat(t,"u")),";\n            let offsetA").concat(t," = ").concat(g.broadcastedIndicesToOffset("outputIndices".concat(t),m),";\n            let offsetB").concat(t," = ").concat(y.broadcastedIndicesToOffset("outputIndices".concat(t),m),";\n            let indexA").concat(t," = offsetA").concat(t," / 4u;\n            let indexB").concat(t," = offsetB").concat(t," / 4u;\n            let componentA").concat(t," = offsetA").concat(t," % 4u;\n            let componentB").concat(t," = offsetB").concat(t," % 4u;\n            ").concat(e,"[").concat(t,"] = ").concat(n,"(").concat(h(r,i),");\n          ")};f=9===u?"\n            var data = vec4<u32>(0);\n            ".concat(e("data",0,"u32"),"\n            ").concat(e("data",1,"u32"),"\n            ").concat(e("data",2,"u32"),"\n            ").concat(e("data",3,"u32"),"\n            outputData[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));"):"\n            ".concat(e("outputData[global_idx]",0),"\n            ").concat(e("outputData[global_idx]",1),"\n            ").concat(e("outputData[global_idx]",2),"\n            ").concat(e("outputData[global_idx]",3),"\n          ")}return"\n        ".concat(e.registerUniform("vec_size","u32").declareVariables(g,y,m),"\n\n        ").concat(null!==d&&void 0!==d?d:"","\n\n        ").concat(e.mainStart(),"\n        ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size"),"\n        ").concat(f,"\n      }")},Qi=function(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.dataType,s=n.dims.map((e=>{var t;return null!==(t=Number(e))&&void 0!==t?t:1})),l=r.dims.map((e=>{var t;return null!==(t=Number(e))&&void 0!==t?t:1})),c=!qt.areEqual(s,l),u=s,d=qt.size(s),h=!1,p=!1,f=[c];if(c){let e=Wt.calcShape(s,l,!1);if(!e)throw new Error("Can't perform binary op on the given tensors");u=e.slice(),d=qt.size(u);let t=1===qt.size(s),n=1===qt.size(l),r=s.length>0&&s[s.length-1]%4===0,i=l.length>0&&l[l.length-1]%4===0;f.push(t),f.push(n),f.push(r),f.push(i);let a=1;for(let o=1;o<u.length;o++){let e=s[s.length-o];if(e!==l[l.length-o])break;a*=e}a%4===0?(p=!0,h=!0):(t||n||r||i)&&(h=!0)}else h=!0;return f.push(h),{name:e,shaderCache:{hint:t+f.map((e=>e.toString())).join("_"),inputDependencies:["rank","rank"]},getShaderSource:e=>$i(e,s,l,u,h,c,p,i,n.dataType,r.dataType,o,a),getRunData:()=>({outputs:[{dims:u,dataType:o}],dispatchGroup:{x:Math.ceil(d/64/4)},programUniforms:[{type:12,data:Math.ceil(qt.size(u)/4)},...Dn(s,l,u)]})}},ea=(e,t,n,r,i,a)=>{e.compute(Qi(t,null!==i&&void 0!==i?i:"",e.inputs[0],e.inputs[1],n,r,a))},ta=e=>{ea(e,"Add",((e,t)=>"".concat(e,"+").concat(t)))},na=e=>{ea(e,"Div",((e,t)=>"".concat(e,"/").concat(t)))},ra=e=>{ea(e,"Equal",{scalar:(e,t)=>"u32(".concat(e,"==").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,"==").concat(t,")")},void 0,void 0,9)},ia=e=>{ea(e,"Mul",((e,t)=>"".concat(e,"*").concat(t)))},aa=e=>{let t=Mn("input",e.inputs[0].dataType,e.inputs[0].dims).type.value;ea(e,"Pow",{scalar:(e,t)=>"pow_custom(".concat(e,",").concat(t,")"),vector:(e,t)=>"pow_vector_custom(".concat(e,",").concat(t,")")},"\n    fn pow_custom(a : ".concat(t,", b : ").concat(t,") -> ").concat(t," {\n      if (b == ").concat(t,"(0.0)) {\n        return ").concat(t,"(1.0);\n      } else if (a < ").concat(t,"(0.0) && f32(b) != floor(f32(b))) {\n        return ").concat(t,"(pow(f32(a), f32(b))); // NaN\n      }\n      return select(sign(a), ").concat(t,"(1.0), round(f32(abs(b) % ").concat(t,"(2.0))) != 1.0) * ").concat(t,"(").concat("i32"===t?"round":"","(pow(f32(abs(a)), f32(b))));\n    }\n    fn pow_vector_custom(a : vec4<").concat(t,">, b : vec4<").concat(t,">) -> vec4<").concat(t,"> {\n      // TODO: implement vectorized pow\n      return vec4<").concat(t,">(pow_custom(a.x, b.x), pow_custom(a.y, b.y), pow_custom(a.z, b.z), pow_custom(a.w, b.w));\n    }\n      "))},oa=e=>{ea(e,"Sub",((e,t)=>"".concat(e,"-").concat(t)))},sa=e=>{ea(e,"Greater",{scalar:(e,t)=>"u32(".concat(e,">").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,">").concat(t,")")},void 0,void 0,9)},la=e=>{ea(e,"Less",{scalar:(e,t)=>"u32(".concat(e,"<").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,"<").concat(t,")")},void 0,void 0,9)},ca=e=>{ea(e,"GreaterOrEqual",{scalar:(e,t)=>"u32(".concat(e,">=").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,">=").concat(t,")")},void 0,void 0,9)},ua=e=>{ea(e,"LessOrEqual",{scalar:(e,t)=>"u32(".concat(e,"<=").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,"<=").concat(t,")")},void 0,void 0,9)}})),nu=pe((()=>{Nc(),Lc(),Uc(),Hc(),da=(e,t)=>{if(!e||e.length<1)throw new Error("too few inputs");let n=e[0],r=n.dataType,i=n.dims.length;e.forEach(((e,a)=>{if(0!==a){if(e.dataType!==r)throw new Error("input tensors should be one type");if(e.dims.length!==i)throw new Error("input tensors should have the same shape");e.dims.forEach(((e,r)=>{if(r!==t&&e!==n.dims[r])throw new Error("non concat dimensions must match")}))}}))},ha=(e,t)=>"\n  fn calculateInputIndex(index: u32) -> u32 {\n    let sizeInConcatAxis = array<u32, ".concat(e,"u>(").concat(t,");\n    for (var i: u32 = 0u; i < ").concat(e,"; i += 1u ) {\n      if (index < sizeInConcatAxis[i]) {\n        return i;\n      }\n    }\n    return ").concat(e,"u;\n  }"),pa=(e,t)=>{let n=e.length,r=[];for(let i=0;i<n;++i){let a=t.setByOffset("global_idx",e[i].getByIndices("indices"));1===n?r.push(a):0===i?r.push("if (inputIndex == ".concat(i,"u) { ").concat(a," }")):i===n-1?r.push("else { ".concat(a," }")):r.push("else if (inputIndex == ".concat(i,") { ").concat(a," }"))}return r.join("\n")},fa=(e,t,n,r)=>{let i=qt.size(n),a=new Array(e.length),o=new Array(e.length),s=0,l=[],c=[],u=[{type:12,data:i}];for(let f=0;f<e.length;++f)s+=e[f].dims[t],a[f]=s,c.push(e[f].dims.length),o[f]=Mn("input".concat(f),r,c[f]),l.push("rank"),u.push({type:12,data:a[f]});for(let f=0;f<e.length;++f)u.push(...Dn(e[f].dims));u.push(...Dn(n));let d=In("output",r,n.length),h=d.indicesGet("indices",t),p=Array.from(Array(a.length).keys()).map((e=>"uniforms.sizeInConcatAxis".concat(e))).join(",");return{name:"Concat",shaderCache:{hint:"".concat(t),inputDependencies:l},getRunData:()=>({outputs:[{dims:n,dataType:r}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:u}),getShaderSource:t=>"\n\n  ".concat((()=>{t.registerUniform("outputSize","u32");for(let n=0;n<e.length;n++)t.registerUniform("sizeInConcatAxis".concat(n),"u32");return t.declareVariables(...o,d)})(),"\n\n  ").concat(ha(a.length,p),"\n\n  ").concat(t.mainStart(),"\n    ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n\n    var indices = ").concat(d.offsetToIndices("global_idx"),";\n\n    let inputIndex = calculateInputIndex(").concat(h,");\n    if (inputIndex != 0u) {\n      let sizeInConcatAxis = array<u32, ").concat(a.length,"u>(").concat(p,");\n      ").concat(h," -= sizeInConcatAxis[inputIndex - 1u];\n    }\n\n    ").concat(pa(o,d),"\n  }")}},ma=(e,t)=>{let n=e.inputs,r=n[0].dims,i=qt.normalizeAxis(t.axis,r.length);da(n,i);let a=r.slice();a[i]=n.reduce(((e,t)=>e+(t.dims.length>i?t.dims[i]:0)),0);let o=n.filter((e=>qt.size(e.dims)>0));e.compute(fa(o,i,a,n[0].dataType),{inputs:o})},ga=e=>wn({axis:e.axis})})),ru=pe((()=>{Nc(),Lc(),ya=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"f32";switch(e.activation){case"Relu":return"value = max(value, ".concat(t,"(0.0));");case"Sigmoid":return"value = (".concat(t,"(1.0) / (").concat(t,"(1.0) + exp(-value)));");case"Clip":return"value = clamp(value, ".concat(t,"(").concat(n,"(uniforms.clip_min)), ").concat(t,"(").concat(n,"(uniforms.clip_max)));");case"HardSigmoid":return"value = max(".concat(t,"(0.0), min(").concat(t,"(1.0), ").concat(n,"(uniforms.alpha) * value + ").concat(n,"(uniforms.beta)));");case"LeakyRelu":return"value = select(".concat(n,"(uniforms.alpha) * value, value, value >= ").concat(t,"(0.0));");case"Tanh":return"let e2x = exp(-2.0 * abs(value));\n              value = sign(value) * (1.0 - e2x) / (1.0 + e2x);\n        ";case"":return"";default:throw new Error("Unsupported activation ".concat(e.activation))}},ba=(e,t)=>{"Clip"===e.activation?t.push({type:1,data:e.clipMax},{type:1,data:e.clipMin}):"HardSigmoid"===e.activation?t.push({type:1,data:e.alpha},{type:1,data:e.beta}):"LeakyRelu"===e.activation&&t.push({type:1,data:e.alpha})},wa=(e,t)=>{"Clip"===e.activation?t.push({name:"clip_max",type:"f32"},{name:"clip_min",type:"f32"}):"HardSigmoid"===e.activation?t.push({name:"alpha",type:"f32"},{name:"beta",type:"f32"}):"LeakyRelu"===e.activation&&t.push({name:"alpha",type:"f32"})},va=e=>{let t=(null===e||void 0===e?void 0:e.activation)||"";if("HardSigmoid"===t){let[n,r]=(null===e||void 0===e?void 0:e.activation_params)||[.2,.5];return{activation:t,alpha:n,beta:r}}if("Clip"===t){let[n,r]=(null===e||void 0===e?void 0:e.activation_params)||[Gt,Kt];return{activation:t,clipMax:r,clipMin:n}}if("LeakyRelu"===t){let[n]=(null===e||void 0===e?void 0:e.activation_params)||[.01];return{activation:t,alpha:n}}return{activation:t}}})),iu=pe((()=>{_a=(e,t)=>{switch(e){case 1:return t;case 2:return"vec2<".concat(t,">");case 3:return"vec3<".concat(t,">");case 4:return"vec4<".concat(t,">");default:throw new Error("".concat(e,"-component is not supported."))}},xa=e=>"\n      ".concat(e?"value = value + getBiasByOutputCoords(coords);":"","\n      ")})),au=pe((()=>{ka=e=>"\nfn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n}\nfn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n    i32(".concat(e,".x), i32(").concat(e,".y), i32(").concat(e,".z), 1));\n}\n")})),ou=pe((()=>{Nc(),Lc(),Hc(),ru(),Da=(e,t,n,r,i)=>{let a=r-n;return"\n      ".concat(Array.from({length:n}).map(((n,o)=>"\n      if (".concat(En(t.shape,o,t.rank)," != 1) {\n        ").concat(t.indicesSet(e,o,En(i,o+a,r)),"\n      } else {\n        ").concat(t.indicesSet(e,o,0),"\n      }"))).join(""),"\n")},Ta=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=e[0].dims,s=e[1].dims,l=o[o.length-2],c=s[s.length-1],u=o[o.length-1],d=Tn(c),h=Tn(u),p=Tn(l),f=qt.size(n)/d/p,m=e.length>2,g=r?r.slice(0,-2):n.slice(0,-2),y=[qt.size(g),l,c],b=[{type:12,data:f},{type:12,data:l},{type:12,data:c},{type:12,data:u}];ba(t,b),b.push(...Dn(g,o,s)),m&&b.push(...Dn(e[2].dims)),b.push(...Dn(y));return{name:"MatMulNaive",shaderCache:{hint:"".concat(t.activation,";").concat(d,";").concat(h,";").concat(p,";").concat(i),inputDependencies:m?["rank","rank","rank"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:a?a(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:b}),getShaderSource:r=>{let a=zn("batch_dims",e[0].dataType,g.length),l=Mn("a",e[0].dataType,o.length,h),c=Mn("b",e[1].dataType,s.length,d),u=In("output",e[0].dataType,y.length,d),f=xn(u.type.tensor),b=ya(t,u.type.value,f),w=[l,c],v="";if(m){let t=i?d:1;w.push(Mn("bias",e[2].dataType,e[2].dims.length,t)),v="".concat(i?"value += bias[col / ".concat(t,"];"):"value += ".concat(u.type.value,"(bias[row + i]);"))}let _=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"}];wa(t,_);return"\n  ".concat(r.registerUniforms(_).registerInternalVariables(a).declareVariables(...w,u),"\n  ").concat(r.mainStart(),"\n    ").concat(r.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let col = (global_idx % (uniforms.N / ").concat(d,")) * ").concat(d,";\n    var index1 = global_idx / (uniforms.N / ").concat(d,");\n    let stride1 = uniforms.M / ").concat(p,";\n    let row = (index1 % stride1) * ").concat(p,";\n    let batch = index1 / stride1;\n\n    ").concat(2===n.length?"":"let batch_indices = ".concat(a.offsetToIndices("batch"),";"),"\n\n    var a_indices: ").concat(l.type.indices,";\n    ").concat(Da("a_indices",l,l.rank-2,a.rank,"batch_indices"),"\n    ").concat(l.indicesSet("a_indices",l.rank-2,0),"\n    ").concat(l.indicesSet("a_indices",l.rank-1,0),"\n    let a_offset = ").concat(l.indicesToOffset("a_indices"),";\n\n    var b_indices: ").concat(c.type.indices,";\n    ").concat(Da("b_indices",c,c.rank-2,a.rank,"batch_indices"),"\n    ").concat(c.indicesSet("b_indices",c.rank-2,0),"\n    ").concat(c.indicesSet("b_indices",c.rank-1,0),"\n    let b_offset = ").concat(c.indicesToOffset("b_indices"),";\n    var values: array<").concat(u.type.value,", ").concat(p,">;\n    for (var k: u32 = 0u; k < uniforms.K; k = k + ").concat(h,") {\n      ").concat((()=>{let e="var a_data: ".concat(l.type.value,";");for(let t=0;t<h;t++)e+="\n              let b_data".concat(t," = b[(b_offset + (k + ").concat(t,") * uniforms.N + col) / ").concat(d,"];");for(let t=0;t<p;t++){e+="a_data = a[(a_offset + (row + ".concat(t,") * uniforms.K + k) / ").concat(h,"];");for(let n=0;n<h;n++)e+="\n            values[".concat(t,"] = fma(").concat(c.type.value,"(a_data").concat(1===h?"":"[".concat(n,"]"),"), b_data").concat(n,", values[").concat(t,"]);\n")}return e})(),"\n    }\n    for (var i = 0u; i < ").concat(p,"u; i++) {\n      var value = values[i];\n      ").concat(v,"\n      ").concat(b,"\n      let cur_indices = ").concat(u.type.indices,"(batch, row + i, col);\n      let offset = ").concat(u.indicesToOffset("cur_indices"),";\n      ").concat(u.setByOffset("offset / ".concat(d),"value"),";\n    }\n  }\n  ")}}}})),su=pe((()=>{Nc(),Lc(),Hc(),ru(),ou(),iu(),Aa=(e,t)=>e?"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          kStart + inputRow,\n          globalRowStart / innerElementSize + inputCol".concat(t?", batchIndices":"",");\n        "):"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          globalRow + innerRow,\n          kStart / innerElementSize + inputCol".concat(t?", batchIndices":"",");\n        "),Sa=(e,t)=>e?"\n        let ACached0 = mm_Asub[k * innerElementSize][localRow];\n        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];\n        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];\n        ".concat(3===t?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];","\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          acc[i] = BCached0 * ACached0[i] + acc[i];\n          acc[i] = BCached1 * ACached1[i] + acc[i];\n          acc[i] = BCached2 * ACached2[i] + acc[i];\n          ").concat(3===t?"":"acc[i] = BCached3 * ACached3[i] + acc[i];","\n        }"):"\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          let ACached = mm_Asub[tileRow + i][k];\n          acc[i] = BCached0 * ACached.x + acc[i];\n          acc[i] = BCached1 * ACached.y + acc[i];\n          acc[i] = BCached2 * ACached.z + acc[i];\n          ".concat(3===t?"":"acc[i] = BCached3 * ACached.w + acc[i];","\n        }"),Ca=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"f32",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:32,l=t[1]*e[1],c=t[0]*e[0],u=i?l:a,d=i?a:l,h=u/t[0],p=a/t[1];if((!i||4!==h||4!==e[1])&&(i||3!==h&&4!==h)||u%t[0]!==0||a%t[1]!==0||4!==e[0])throw new Error("If transposeA ".concat(i," is true, innerElementSize ").concat(h," and workPerThread[1] ").concat(e[1]," must be 4.\n      Otherwise, innerElementSize ").concat(h," must be 3 or 4.\n  tileAWidth ").concat(u," must be divisible by workgroupSize[0]").concat(t[0],". tileInner ").concat(a," must be divisible by workgroupSize[1] ").concat(t[1],". colPerThread ").concat(e[0]," must be 4."));return"\nvar<workgroup> mm_Asub: array<array<vec".concat(h,"<").concat(n,">, ").concat(u/h,">, ").concat(d,">;\nvar<workgroup> mm_Bsub: array<array<vec4<").concat(n,">, ").concat(c/e[0],">, ").concat(a,">;\n\nconst rowPerThread = ").concat(e[1],";\nconst colPerThread = ").concat(e[0],";\nconst innerElementSize = ").concat(h,";\nconst tileInner = ").concat(a,";\n\n@compute @workgroup_size(").concat(t[0],", ").concat(t[1],", ").concat(t[2],")\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n  let localRow = i32(localId.y);\n  let tileRow = localRow * rowPerThread;\n  let tileCol = i32(localId.x);\n\n  let globalRow =i32(globalId.y) * rowPerThread;\n  let globalCol = i32(globalId.x);\n  let batch = ").concat(o?"0":"i32(globalId.z)",";\n  ").concat(r?"let batchIndices = ".concat(r.offsetToIndices("u32(batch)"),";"):"","\n  let globalRowStart = i32(workgroupId.y) * ").concat(l,";\n\n  let num_tiles = ").concat(o?"".concat(Math.ceil(s/a)):"(uniforms.dim_inner - 1) / tileInner + 1",";\n  var kStart = ").concat(o?"i32(globalId.z) * ".concat(s):"0",";\n\n  var acc: array<vec4<").concat(n,">, rowPerThread>;\n\n  // Loop over shared dimension.\n  let tileRowB = localRow * ").concat(p,";\n  for (var t = 0; t < num_tiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let inputRow = tileRow + innerRow;\n          let inputCol = tileCol;\n          ").concat(Aa(i,r),"\n      }\n\n      // Load one tile of B into local memory.\n      for (var innerRow = 0; innerRow < ").concat(p,"; innerRow = innerRow + 1) {\n          let inputRow = tileRowB + innerRow;\n          let inputCol = tileCol;\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol").concat(r?", batchIndices":"",");\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {\n          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];\n          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];\n          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];\n          ").concat(3===h?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];","\n\n          ").concat(Sa(i,h),"\n      }\n\n      workgroupBarrier();\n  }\n\n  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\n  }\n}")},Ea=(e,t)=>e?"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              kStart + inputRow,\n              globalRowStart + inputCol".concat(t?", batchIndices":"",");\n            "):"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              globalRowStart + inputRow,\n              kStart + inputCol".concat(t?", batchIndices":"",");\n            "),Fa=e=>e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];",Ma=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"f32",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:32,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=e[1]*t[1],u=e[0]*t[0],d=i?c:a,h=i?a:c;if(h%t[1]!==0||d%t[0]!==0||a%t[1]!==0)throw new Error("tileAHight ".concat(h," must be divisible by workgroupSize[1]").concat(t[1],", tileAWidth ").concat(d," must be divisible by workgroupSize[0]").concat(t[0],", tileInner ").concat(a," must be divisible by workgroupSize[1]").concat(t[1]));let p=h/t[1],f=d/t[0],m=a/t[1],g=l?"\n    let localRow = i32(localId.y);\n    let localCol = i32(localId.x);\n    let globalRowStart = i32(workgroupId.y) * ".concat(c,";\n    let globalColStart = i32(workgroupId.x) * ").concat(u,";\n\n    // Loop over shared dimension.\n    for (var t = 0; t < num_tiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var inputRow = localRow; inputRow < ").concat(h,"; inputRow = inputRow + ").concat(t[1],") {\n        for (var inputCol = localCol; inputCol < ").concat(d,"; inputCol = inputCol + ").concat(t[0],") {\n          ").concat(Ea(i,r),"\n        }\n      }\n      // Load one tile of B into local memory.\n      for (var inputRow = localRow; inputRow < ").concat(a,"; inputRow = inputRow + ").concat(t[1],") {\n            for (var inputCol = localCol; inputCol < ").concat(u,"; inputCol = inputCol + ").concat(t[0],") {\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n            kStart + inputRow,\n            globalColStart + inputCol").concat(r?", batchIndices":"",");\n        }\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      var BCached : array<").concat(n,", colPerThread>;\n      for (var k = 0; k < tileInner; k = k + 1) {\n        for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n          BCached[inner] = mm_Bsub[k][localCol + inner * ").concat(t[0],"];\n        }\n        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let ACached = ").concat(i?"mm_Asub[k][localRow + innerRow * ".concat(t[1],"];"):"mm_Asub[localRow + innerRow * ".concat(t[1],"][k];"),"\n          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n            acc[innerRow][innerCol] = acc[innerRow][innerCol] +\n                ACached * BCached[innerCol];\n          }\n        }\n      }\n      workgroupBarrier();\n    }\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      let gRow = globalRowStart + localRow + innerRow * ").concat(t[1],";\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        let gCol = globalColStart + localCol + innerCol * ").concat(t[0],";\n        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\n      }\n    }\n    "):"\nlet tileRow = i32(localId.y) * rowPerThread;\nlet tileCol = i32(localId.x) * colPerThread;\n\nlet globalRow = i32(globalId.y) * rowPerThread;\nlet globalCol = i32(globalId.x) * colPerThread;\nlet globalRowStart = i32(workgroupId.y) * ".concat(c,";\n\nlet tileRowA = i32(localId.y) * ").concat(p,";\nlet tileColA = i32(localId.x) * ").concat(f,";\nlet tileRowB = i32(localId.y) * ").concat(m,";\n// Loop over shared dimension.\nfor (var t = 0; t < num_tiles; t = t + 1) {\n  // Load one tile of A into local memory.\n  for (var innerRow = 0; innerRow < ").concat(p,"; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < ").concat(f,"; innerCol = innerCol + 1) {\n      let inputRow = tileRowA + innerRow;\n      let inputCol = tileColA + innerCol;\n      ").concat(Ea(i,r),"\n    }\n  }\n\n  // Load one tile of B into local memory.\n  for (var innerRow = 0; innerRow < ").concat(m,"; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n      let inputRow = tileRowB + innerRow;\n      let inputCol = tileCol + innerCol;\n      mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n        kStart + inputRow,\n        globalCol + innerCol").concat(r?", batchIndices":"",");\n    }\n  }\n  kStart = kStart + tileInner;\n  workgroupBarrier();\n\n  // Compute acc values for a single thread.\n  var BCached : array<").concat(n,", colPerThread>;\n  for (var k = 0; k < tileInner; k = k + 1) {\n    for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n      BCached[inner] = mm_Bsub[k][tileCol + inner];\n    }\n\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      ").concat(Fa(i),"\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\n      }\n    }\n  }\n\n  workgroupBarrier();\n}\n\nfor (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n    mm_write(batch, globalRow + innerRow, globalCol + innerCol,\n        acc[innerRow][innerCol]);\n  }\n}\n");return"\n  var<workgroup> mm_Asub : array<array<".concat(n,", ").concat(d,">, ").concat(h,">;\n  var<workgroup> mm_Bsub : array<array<").concat(n,", ").concat(u,">, ").concat(a,">;\n  const rowPerThread = ").concat(e[1],";\n  const colPerThread = ").concat(e[0],";\n  const tileInner = ").concat(a,";\n\n@compute @workgroup_size(").concat(t[0],", ").concat(t[1],", ").concat(t[2],")\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n    let batch = ").concat(o?"0":"i32(globalId.z)",";\n    ").concat(r?"let batchIndices = ".concat(r.offsetToIndices("u32(batch)"),";"):"","\n    let num_tiles = ").concat(o?"".concat(Math.ceil(s/a)):"(uniforms.dim_inner - 1) / tileInner + 1",";\n    var kStart = ").concat(o?"i32(globalId.z) * ".concat(s):"0",";\n\n    var acc : array<array<").concat(n,", colPerThread>, rowPerThread>;\n    ").concat(g,"\n  }\n")},Ia=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],[a,o,s,l]=r,c=xn(r[0].type.tensor);return"\n    fn mm_readA(batch: i32, row: i32, colIn: i32, batchIndices: ".concat(a.type.indices,") -> ").concat(_a(e,c)," {\n      var value = ").concat(_a(e,c),"(0.0);\n      let col = colIn * ").concat(e,";\n      if(row < uniforms.dim_a_outer && col < uniforms.dim_inner)\n      {\n        var aIndices: ").concat(o.type.indices,";\n        ").concat(Da("aIndices",o,o.rank-2,a.rank,"batchIndices"),"\n        ").concat(o.indicesSet("aIndices",o.rank-2,"u32(row)"),"\n        ").concat(o.indicesSet("aIndices",o.rank-1,"u32(colIn)"),"\n        value = ").concat(o.getByIndices("aIndices"),";\n      }\n      return value;\n    }\n\n    fn mm_readB(batch: i32, row: i32, colIn: i32, batchIndices: ").concat(a.type.indices,") -> ").concat(_a(e,c)," {\n      var value = ").concat(_a(e,c),"(0.0);\n      let col = colIn * ").concat(e,";\n      if(row < uniforms.dim_inner && col < uniforms.dim_b_outer)\n      {\n        var bIndices: ").concat(s.type.indices,";\n        ").concat(Da("bIndices",s,s.rank-2,a.rank,"batchIndices"),"\n        ").concat(s.indicesSet("bIndices",s.rank-2,"u32(row)"),"\n        ").concat(s.indicesSet("bIndices",s.rank-1,"u32(colIn)"),"\n        value = ").concat(s.getByIndices("bIndices"),";\n      }\n      return value;\n    }\n\n    fn mm_write(batch: i32, row: i32, colIn: i32, valueIn: ").concat(_a(e,c),") {\n      let col = colIn * ").concat(e,";\n      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {\n        var value = valueIn;\n        let coords = vec3<i32>(batch, row, colIn);\n        ").concat(t?"value = value + ".concat(i?"bias[colIn]":"".concat(_a(e,c),"(bias[row])"),";"):"","\n        ").concat(n,"\n        ").concat(l.setByIndices("vec3<u32>(coords)","value"),"\n      }\n    }\n    ")},Pa=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=e[0].dims,s=e[1].dims,l=o.slice(0,-2),c=s.slice(0,-2),u=r?r.slice(0,-2):n.slice(0,-2),d=qt.size(u),h=o[o.length-2],p=o[o.length-1],f=s[s.length-1],m=p%4===0&&f%4===0,g=h<=8?[4,1,1]:[4,4,1],y=[8,8,1],b=[Math.ceil(f/y[0]/g[0]),Math.ceil(h/y[1]/g[1]),Math.ceil(d/y[2]/g[2])],w=m?4:1,v=[...l,h,p/w],_=v.length,x=[...c,p,f/w],k=x.length,D=[d,h,f/w],T=[{type:6,data:h},{type:6,data:f},{type:6,data:p}];ba(t,T),T.push(...Dn(u,v,x));let A=["rank","rank"],S=e.length>2;S&&(T.push(...Dn(e[2].dims)),A.push("rank")),T.push(...Dn(D));return{name:"MatMul",shaderCache:{hint:"".concat(g,";").concat(t.activation,";").concat(m,";").concat(i),inputDependencies:A},getRunData:()=>({outputs:[{dims:a?a(n):n,dataType:e[0].dataType}],dispatchGroup:{x:b[0],y:b[1],z:b[2]},programUniforms:T}),getShaderSource:n=>{let r=u.length,a=zn("batchDims",e[0].dataType,r,1),o=xn(e[0].dataType),s=Mn("a",e[0].dataType,_,w),l=Mn("b",e[1].dataType,k,w),c=In("result",e[0].dataType,D.length,w),d=[s,l];if(S){let t=i?w:1;d.push(Mn("bias",e[2].dataType,e[2].dims.length,t))}let h=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"}];wa(t,h);let p=xn(c.type.tensor),f=ya(t,c.type.value,p),b=Ia(w,S,f,[a,s,l,c],i);return"\n  ".concat(n.registerUniforms(h).registerInternalVariables(a).declareVariables(...d,c),"\n  ").concat(b,"\n  ").concat(m?Ca(g,y,o,a):Ma(g,y,o,a),"\n                   ")}}}})),lu=pe((()=>{Nc(),Bc(),Hc(),ru(),iu(),au(),su(),za=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:4,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:4,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"f32",u=e=>{switch(e){case 1:return"return w[row * i32(uniforms.w_shape[3]) + colIn];";case 4:return"return w[row * i32(uniforms.w_shape[3]) / 4 + colIn];";default:throw new Error("innerElementSize ".concat(e," is not supported."))}},d=e?"\n    let coord = vec4<i32>(batch, xRow, xCol, xCh);\n    ":"\n    let coord = vec4<i32>(batch, xCh, xRow, xCol);\n    ",h=e?"\n    let coords = vec4<i32>(\n      batch,\n      row / outWidth,\n      row % outWidth,\n      col);\n    ":"\n    let coords = vec4<i32>(\n      batch,\n      row,\n      col / outWidth,\n      col % outWidth);\n    ",p=e?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",f=e?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",m=e?"row":"col",g=e?"col":"row",y="\n    let inChannels = i32(uniforms.w_shape[2]);\n    let outWidth = ".concat(e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])",";\n    let outRow = ").concat(m," / outWidth;\n    let outCol = ").concat(m," % outWidth;\n\n    let WRow = ").concat(g," / (i32(uniforms.w_shape[1]) * inChannels);\n    let WCol = ").concat(g," / inChannels % i32(uniforms.w_shape[1]);\n    let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];\n    let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];\n    let xCh = ").concat(g," % inChannels;\n    var resData = ").concat(_a(o,c),"(0.0);\n    // The bounds checking is always needed since we use it to pad zero for\n    // the 'same' padding type.\n    if (xRow >= 0 && xRow < ").concat(p," && xCol >= 0 && xCol < ").concat(f,") {\n      ").concat(d,"\n      let xIndex = getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape));\n      ").concat((e=>{switch(e){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<".concat(c,">(x[xIndex], x[xIndex + 1], x[xIndex + 2]);");case 4:return"resData = x[xIndex / 4];";default:throw new Error("innerElementSize ".concat(e," is not supported."))}})(o),"\n    }\n    return resData;"),b=e?t&&r?"\n    let col = colIn * ".concat(o,";\n    ").concat(y):"\n    let col = colIn * ".concat(o,";\n    if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {\n      ").concat(y,"\n    }\n    return ").concat(_a(o,c),"(0.0);"):r&&n?"\n    let col = colIn * ".concat(o,";\n    ").concat(y):"\n    let col = colIn * ".concat(o,";\n    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {\n      ").concat(y,"\n    }\n    return ").concat(_a(o,c),"(0.0);"),w=e?r&&n?u(s):"\n    let col = colIn * ".concat(s,";\n    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {\n      ").concat(u(s),"\n    }\n    return ").concat(_a(s,c),"(0.0);"):"\n    let col = colIn * ".concat(s,";\n    if (row < uniforms.dim_inner && col < uniforms.dim_a_outer) {\n      ").concat(u(s),"\n    }\n    return ").concat(_a(s,c),"(0.0);"),v=_a(l,c),_=_a(e?o:s,c),x=_a(e?s:o,c),k=ya(a,v,c);return"\n    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ".concat(_," {\n      ").concat(e?b:w,"\n    }\n\n    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ").concat(x," {\n      ").concat(e?w:b,"\n    }\n\n    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ").concat(v,") {\n      let col = colIn * ").concat(l,";\n      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer)\n      {\n      var value = valueIn;\n      let outWidth = ").concat(e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])",";\n      ").concat(h,"\n      ").concat(xa(i),"\n      ").concat(k,"\n      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n      }\n    }")},Na=(e,t,n,r,i,a,o,s,l)=>{let c="NHWC"===t.format,u=c?e[0].dims[3]:e[0].dims[1],d=n[0],h=c?n[2]:n[3],p=c?n[1]:n[2],f=c?n[3]:n[1],m=c&&(u%4===0||u%3===0)&&f%4===0,g=c?f:h*p,y=c?h*p:f,b=[8,8,1],w=r<=8?[4,1,1]:[4,4,1],v=[Math.ceil(g/b[0]/w[0]),Math.ceil(y/b[1]/w[1]),Math.ceil(d/b[2]/w[2])];jt("verbose",(()=>"[conv2d_mm_webgpu] dispatch = ".concat(v)));let _=m?c&&u%4!==0?3:4:1,x=b[1]*w[1],k=b[0]*w[0],D=Math.max(b[0]*_,b[1]),T=r%x===0,A=i%k===0,S=a%D===0,C=m?[_,4,4]:[1,1,1],E=[{type:6,data:r},{type:6,data:i},{type:6,data:a},{type:6,data:[t.pads[0],t.pads[1]]},{type:6,data:t.strides},{type:6,data:t.dilations}];ba(t,E),E.push(...Dn(e[0].dims,e[1].dims));let F=["rank","rank"];o&&(E.push(...Dn(e[2].dims)),F.push("rank")),E.push(...Dn(n));return{name:"Conv2DMatMul",shaderCache:{hint:"".concat(t.cacheKey,";").concat(_,";").concat(m,";").concat(T,";").concat(A,";").concat(S,";").concat(x,";").concat(k,";").concat(D),inputDependencies:F},getRunData:()=>({outputs:[{dims:l?l(n):n,dataType:e[0].dataType}],dispatchGroup:{x:v[0],y:v[1],z:v[2]},programUniforms:E}),getShaderSource:r=>{let i=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"pad",type:"i32",length:2},{name:"stride",type:"i32",length:2},{name:"dilation",type:"i32",length:2}];wa(t,i);let a=m?4:1,l=xn(e[0].dataType),u="\n      fn setOutputAtIndex(flatIndex : i32, value : ".concat(m?"vec4<".concat(l,">"):l,") {\n        result[flatIndex] = ").concat(m?"vec4<".concat(l,">"):l,"(value);\n      }\n      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ").concat(m?"vec4<".concat(l,">"):l,") {\n        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));\n        setOutputAtIndex(flatIndex ").concat(m?"/ 4":"",", value);\n      }"),d=[Mn("x",e[0].dataType,e[0].dims.length,3===_?1:_),Mn("w",e[1].dataType,e[1].dims.length,a)],h=In("result",e[0].dataType,n.length,a);if(o){let t=Mn("bias",e[2].dataType,e[2].dims.length,a);d.push(t),u+="\n        fn getBiasByOutputCoords(coords : vec4<i32>) -> ".concat(m?"vec4<".concat(l,">"):l," {\n          return bias[coords.").concat(c?"w":"y").concat(m?"/ 4":"","];\n        }")}return"\n        ".concat(ka("uniforms.result_strides"),"\n        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,\n        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,\n        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };\n        ").concat(r.registerUniforms(i).declareVariables(...d,h),"\n        ").concat(u,"\n        ").concat(za(c,T,A,S,o,t,C[0],C[1],C[2],l),"\n        ").concat(m?Ca(w,b,l,void 0,!c,D):Ma(w,b,l,void 0,!c,D,!1,void 0,s))}}}})),cu=pe((()=>{Nc(),Bc(),Lc(),Hc(),ru(),iu(),Oa=e=>{let t=1;for(let n=0;n<e.length;n++)t*=e[n];return t},Ba=e=>"number"==typeof e?[e,e,e]:e,La=(e,t)=>t<=1?e:e+(e-1)*(t-1),Ra=function(e,t,n){let r=La(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)},ja=(e,t,n,r,i)=>{null==i&&(i=Ra(e,t[0],r[0]));let a=[0,0,0,n];for(let o=0;o<3;o++)e[o]+2*i>=t[o]&&(a[o]=Math.trunc((e[o]-t[o]+2*i)/r[o]+1));return a},Va=(e,t,n,r,i,a,o,s,l,c)=>{let u,d,h,p;if("VALID"===e&&(e=0),"number"==typeof e){u={top:e,bottom:e,left:e,right:e,front:e,back:e};let f=ja([t,n,r,1],[s,l,c],1,[i,a,o],e);d=f[0],h=f[1],p=f[2]}else if(Array.isArray(e)){if(!e.every(((e,t,n)=>e===n[0])))throw Error("Unsupported padding parameter: ".concat(e));u={top:e[0],bottom:e[1],left:e[2],right:e[3],front:e[4],back:e[5]};let f=ja([t,n,r,1],[s,l,c],1,[i,a,o],e[0]);d=f[0],h=f[1],p=f[2]}else{if("SAME_UPPER"!==e)throw Error("Unknown padding parameter: ".concat(e));{d=Math.ceil(t/i),h=Math.ceil(n/a),p=Math.ceil(r/o);let e=(d-1)*i+s-t,f=(h-1)*a+l-n,m=(p-1)*o+c-r,g=Math.floor(e/2),y=e-g,b=Math.floor(f/2),w=f-b,v=Math.floor(m/2);u={top:b,bottom:w,left:v,right:m-v,front:g,back:y}}}return{padInfo:u,outDepth:d,outHeight:h,outWidth:p}},Wa=function(e,t,n,r,i){let a,o,s,l,c,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";if("channelsLast"===d)[a,o,s,l,c]=e;else{if("channelsFirst"!==d)throw new Error("Unknown dataFormat ".concat(d));[a,c,o,s,l]=e}let[h,,p,f,m]=t,[g,y,b]=Ba(n),[w,v,_]=Ba(r),x=La(p,w),k=La(f,v),D=La(m,_),{padInfo:T,outDepth:A,outHeight:S,outWidth:C}=Va(i,o,s,l,g,y,b,x,k,D),E=u?h*c:h,F=[0,0,0,0,0];return"channelsFirst"===d?F=[a,E,A,S,C]:"channelsLast"===d&&(F=[a,A,S,C,E]),{batchSize:a,dataFormat:d,inDepth:o,inHeight:s,inWidth:l,inChannels:c,outDepth:A,outHeight:S,outWidth:C,outChannels:E,padInfo:T,strideDepth:g,strideHeight:y,strideWidth:b,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:x,effectiveFilterHeight:k,effectiveFilterWidth:D,dilationDepth:w,dilationHeight:v,dilationWidth:_,inShape:e,outShape:F,filterShape:t}},qa=(e,t,n,r,i,a)=>{let o="channelsLast"===a,s=(o?e[0].dims[3]:e[0].dims[1],{x:n.map(((e,t)=>t))}),l=[Math.ceil(Oa(s.x.map((e=>n[e])))/64),1,1];jt("verbose",(()=>"[conv3d_naive_webgpu] dispatch = ".concat(l)));let c=[{type:12,data:qt.size(n)},{type:12,data:r},{type:12,data:i},{type:12,data:t.strides},{type:12,data:t.dilations}];ba(t,c),c.push(...Dn(e[0].dims,e[1].dims));let u=["rank","rank"],d=3===e.length;d&&(c.push(...Dn(e[2].dims)),u.push("rank")),c.push(...Dn(n));return{name:"Conv3DNaive",shaderCache:{hint:"".concat(t.cacheKey,";").concat(o,";").concat(1,";").concat(d),inputDependencies:u},getRunData:()=>({outputs:[{dims:n,dataType:e[0].dataType}],dispatchGroup:{x:l[0],y:l[1],z:l[2]},programUniforms:c}),getShaderSource:a=>{let s=[{name:"output_size",type:"u32"},{name:"filter_dims",type:"u32",length:r.length},{name:"pads",type:"u32",length:i.length},{name:"strides",type:"u32",length:t.strides.length},{name:"dilations",type:"u32",length:t.dilations.length}];wa(t,s);let l=xn(e[0].dataType),c=Mn("x",e[0].dataType,e[0].dims.length,1),u=Mn("W",e[1].dataType,e[1].dims.length,1),h=[c,u],p=In("result",e[0].dataType,n.length,1),f="";if(d){let t=Mn("bias",e[2].dataType,e[2].dims.length,1);h.push(t),f+="\n        fn getBiasByOutputCoords(coords : array<u32, 5>) -> ".concat(l," {\n          return bias[").concat(En("coords",o?4:1,5)).concat("","];\n        }")}let m=_a(1,l),g=ya(t,m,l);return"\n            ".concat(f,"\n            fn getX(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {\n              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);\n              return ").concat(c.getByIndices("aIndices"),";\n            }\n            fn getW(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {\n              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);\n              return ").concat(u.getByIndices("aIndices"),";\n            }\n          ").concat(a.registerUniforms(s).declareVariables(...h,p),"\n          ").concat(a.mainStart(),"\n          ").concat(a.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n              let coords = ").concat(p.offsetToIndices("global_idx"),";\n              let batch = ").concat(En("coords",0,c.rank),";\n              let d2 = ").concat(En("coords",o?c.rank-1:1,c.rank),";\n              let xFRCCorner = vec3<u32>(").concat(En("coords",o?1:2,c.rank),",\n              ").concat(En("coords",o?2:3,c.rank),",\n              ").concat(En("coords",o?3:4,c.rank),") * uniforms.strides - uniforms.pads;\n              let xFCorner = xFRCCorner.x;\n              let xRCorner = xFRCCorner.y;\n              let xCCorner = xFRCCorner.z;\n              let xShapeY = ").concat(En("uniforms.x_shape",o?1:2,c.rank),";\n              let xShapeZ = ").concat(En("uniforms.x_shape",o?2:3,c.rank),";\n              let xShapeW = ").concat(En("uniforms.x_shape",o?3:4,c.rank),";\n              let xShapeU = ").concat(En("uniforms.x_shape",o?4:1,c.rank),";\n              let inputDepthNearestVec4 = (xShapeU / 4) * 4;\n              let inputDepthVec4Remainder = xShapeU % 4;\n\n              var value = 0.0;\n              for (var wF = 0u; wF < uniforms.filter_dims[0]; wF++) {\n                let xF = xFCorner + wF * uniforms.dilations[0];\n                if (xF < 0 || xF >= xShapeY) {\n                  continue;\n                }\n\n                for (var wR = 0u; wR < uniforms.filter_dims[1]; wR++) {\n                  let xR = xRCorner + wR * uniforms.dilations[1];\n                  if (xR < 0 || xR >= xShapeZ) {\n                    continue;\n                  }\n\n                  for (var wC = 0u; wC < uniforms.filter_dims[2]; wC++) {\n                    let xC = xCCorner + wC * uniforms.dilations[2];\n                    if (xC < 0 || xC >= xShapeW) {\n                      continue;\n                    }\n\n                    for (var d1 = 0u; d1 < inputDepthNearestVec4; d1 += 4) {\n                      ").concat(o?"let xValues = vec4<f32>(\n                               getX(batch, xF, xR, xC, d1),\n                               getX(batch, xF, xR, xC, d1 + 1),\n                               getX(batch, xF, xR, xC, d1 + 2),\n                               getX(batch, xF, xR, xC, d1 + 3));\n                            ":"let xValues = vec4<f32>(\n                               getX(batch, d1, xF, xR, xC),\n                               getX(batch, d1 + 1, xF, xR, xC),\n                               getX(batch, d1 + 2, xF, xR, xC),\n                               getX(batch, d1 + 3, xF, xR, xC));\n                            ","\n                            let wValues = vec4<f32>(\n                              getW(d2, d1, wF, wR, wC),\n                              getW(d2, d1 + 1, wF, wR, wC),\n                              getW(d2, d1 + 2, wF, wR, wC),\n                              getW(d2, d1 + 3, wF, wR, wC));\n                      value += dot(xValues, wValues);\n                    }\n                    if (inputDepthVec4Remainder == 1) {\n                        ").concat(o?"value += getX(batch, xF, xR, xC, inputDepthNearestVec4)\n                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);":"value += getX(batch, inputDepthNearestVec4, xF, xR, xC)\n                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);","\n                    } else if (inputDepthVec4Remainder == 2) {\n                      ").concat(o?"let xValues = vec2<f32>(\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4),\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1));\n                      ":"let xValues = vec2<f32>(\n                        getX(batch, inputDepthNearestVec4, xF, xR, xC),\n                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC));\n                    ","\n                    let wValues = vec2<f32>(\n                      getW(d2, inputDepthNearestVec4, wF, wR, wC),\n                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC));\n                      value += dot(xValues, wValues);\n                    } else if (inputDepthVec4Remainder == 3) {\n                      ").concat(o?"let xValues = vec3<f32>(\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4),\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1),\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 2));\n                      ":"let xValues = vec3<f32>(\n                        getX(batch, inputDepthNearestVec4, xF, xR, xC),\n                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC),\n                        getX(batch, inputDepthNearestVec4 + 2, xF, xR, xC));\n                    ","\n                    let wValues = vec3<f32>(\n                      getW(d2, inputDepthNearestVec4, wF, wR, wC),\n                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC),\n                      getW(d2, inputDepthNearestVec4 + 2, wF, wR, wC));\n                      value += dot(xValues, wValues);\n                    }\n                  }\n                }\n              }\n              ").concat(d?"value = value + getBiasByOutputCoords(coords)":"",";\n              ").concat(g,"\n              result[global_idx] = f32(value);\n          }")}}}})),uu=pe((()=>{Nc(),Lc(),Hc(),ru(),Ua=(e,t,n,r)=>{let i=e.length>2,a=i?"value += b[output_channel];":"",o=e[0].dims,s=e[1].dims,l="NHWC"===t.format,c=l?n[3]:n[1],u=c/t.group,d=l&&u>=4?Tn(c):1,h=qt.size(n)/d,p=[{type:12,data:h},{type:12,data:t.dilations},{type:12,data:[t.strides[0],t.strides[1]]},{type:12,data:[t.pads[0],t.pads[1]]},{type:12,data:u}];ba(t,p),p.push(...Dn(o,[s[0],s[1],s[2],s[3]/d]));let f=i?["rank","rank","rank"]:["rank","rank"];p.push(...Dn([n[0],n[1],n[2],n[3]/d]));return{name:"GroupedConv",shaderCache:{hint:"".concat(t.cacheKey,"_").concat(d),inputDependencies:f},getRunData:()=>({outputs:[{dims:r?r(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(h/64)},programUniforms:p}),getShaderSource:r=>{let c=In("output",e[0].dataType,n.length,d),u=xn(c.type.tensor),h=ya(t,c.type.value,u),p=Mn("x",e[0].dataType,o.length),f=Mn("w",e[1].dataType,s.length,d),m=[p,f];i&&m.push(Mn("b",e[2].dataType,e[2].dims,d));let g=[{name:"output_size",type:"u32"},{name:"dilations",type:"u32",length:t.dilations.length},{name:"strides",type:"u32",length:2},{name:"pads",type:"u32",length:2},{name:"output_channels_per_group",type:"u32"}];wa(t,g);let y=l?"\n      for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[0]; wHeight++) {\n        let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];\n\n        if (xHeight < 0u || xHeight >= uniforms.x_shape[1]) {\n          continue;\n        }\n\n        for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[1]; wWidth++) {\n          let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];\n          if (xWidth < 0u || xWidth >= uniforms.x_shape[2]) {\n            continue;\n          }\n\n          for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[2]; wInChannel++) {\n            let input_channel = in_channel_offset + wInChannel;\n            let xVal = ".concat(p.get("batch","xHeight","xWidth","input_channel"),";\n            let wVal = ").concat(f.get("wHeight","wWidth","wInChannel","output_channel"),";\n            value += xVal * wVal;\n          }\n        }\n      }\n      "):"\n      for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[1]; wInChannel++) {\n        let input_channel = in_channel_offset + wInChannel;\n        for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[2]; wHeight++) {\n          let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];\n\n          if (xHeight < 0u || xHeight >= uniforms.x_shape[2]) {\n            continue;\n          }\n\n          for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[3]; wWidth++) {\n            let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];\n            if (xWidth < 0u || xWidth >= uniforms.x_shape[3]) {\n              continue;\n            }\n\n            let xVal = ".concat(p.get("batch","input_channel","xHeight","xWidth"),";\n            let wVal = ").concat(f.get("output_channel","wInChannel","wHeight","wWidth"),";\n            value += xVal * wVal;\n          }\n        }\n      }\n      ");return"\n  ".concat(r.registerUniforms(g).declareVariables(...m,c),"\n\n  ").concat(r.mainStart(),"\n    ").concat(r.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n\n    let outputIndices = ").concat(c.offsetToIndices("global_idx"),";\n    let batch: u32 = outputIndices[0];\n    let output_channel: u32 = outputIndices[").concat(l?3:1,"];\n    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[").concat(l?1:2,"], outputIndices[").concat(l?2:3,"]) * uniforms.strides - uniforms.pads;\n    let group_id: u32 = output_channel * ").concat(d," / uniforms.output_channels_per_group;\n    var in_channel_offset = group_id * uniforms.w_shape[").concat(l?2:1,"];\n\n    var value: ").concat(c.type.value," = ").concat(c.type.value,"(0);\n    ").concat(y,"\n    ").concat(a,"\n    ").concat(h,"\n    ").concat(c.setByOffset("global_idx","value"),"\n  }")}}},Ha=(e,t,n,r)=>{let i=e.length>2,a=Tn(n[3]),o=Tn(n[2]),s=qt.size(n)/a/o,l=[e[0].dims[0],e[0].dims[1],e[0].dims[2],e[0].dims[3]/a],c=[e[1].dims[0],e[1].dims[1],e[1].dims[2],e[1].dims[3]/a],u=[n[0],n[1],n[2],n[3]/a],d=[{type:12,data:s},{type:6,data:[t.strides[0],t.strides[1]]},{type:6,data:[t.pads[0],t.pads[1]]}];ba(t,d),d.push(...Dn(l,c,u));let h=(o-1)*t.strides[1]+c[1];return{name:"GroupedConv-Vectorize",shaderCache:{hint:"".concat(t.cacheKey,";").concat(a,";").concat(o,";").concat(h,";").concat(c[0],";").concat(c[1]),inputDependencies:i?["rank","rank","type"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:r?r(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(s/64)},programUniforms:d}),getShaderSource:n=>{let r=In("output",e[0].dataType,u.length,a),s=xn(r.type.tensor),d=ya(t,r.type.value,s),p=Mn("x",e[0].dataType,l.length,a),f=Mn("w",e[1].dataType,c.length,a),m=[p,f];i&&m.push(Mn("b",e[2].dataType,e[2].dims,a));let g=i?"value += b[output_channel];":"",y=[{name:"output_size",type:"u32"},{name:"strides",type:"i32",length:2},{name:"pads",type:"i32",length:2}];return wa(t,y),"\n  ".concat(n.registerUniforms(y).declareVariables(...m,r),"\n  ").concat(n.mainStart(),"\n    ").concat(n.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let width0 = uniforms.output_shape[3];\n    let output_channel = global_idx % width0;\n    var index1 = global_idx / width0;\n    let width1 = uniforms.output_shape[2] / ").concat(o,"u;\n    let col = (index1 % width1) * ").concat(o,"u;\n    index1 = index1 / width1;\n    let row = index1 % uniforms.output_shape[1];\n    let batch = index1 / uniforms.output_shape[1];\n\n    let x_corner = vec2<i32>(i32(row), i32(col)) * uniforms.strides - uniforms.pads;\n\n    var x_vals: array<").concat(p.type.value,", ").concat(h,">;\n    var values: array<").concat(r.type.value,", ").concat(o,">;\n    let input_channel = output_channel;\n    // Use constant instead of uniform can give better performance for w's height/width.\n    for (var w_height: u32 = 0u; w_height < ").concat(c[0],"; w_height++) {\n      let x_height = x_corner.x + i32(w_height);\n      if (x_height >= 0 && u32(x_height) < uniforms.x_shape[1]) {\n        for (var i = 0; i < ").concat(h,"; i++) {\n          let x_width = x_corner.y + i;\n          if (x_width >= 0 && u32(x_width) < uniforms.x_shape[2]) {\n            x_vals[i] = ").concat(p.get("batch","u32(x_height)","u32(x_width)","input_channel"),";\n          } else {\n            x_vals[i] = ").concat(p.type.value,"(0);\n          }\n        }\n        for (var w_width: u32 = 0u; w_width < ").concat(c[1],"; w_width++) {\n          let w_val = ").concat(f.get("w_height","w_width","0","output_channel"),";\n          for (var i = 0u; i < ").concat(o,"u; i++) {\n            values[i] = fma(x_vals[i * u32(uniforms.strides[1]) + w_width], w_val, values[i]);\n          }\n        }\n      }\n    }\n\n    for (var i = 0u; i < ").concat(o,"u; i++) {\n      var value = values[i];\n      ").concat(g,"\n      ").concat(d,"\n      ").concat(r.set("batch","row","col + i","output_channel","value"),";\n    }\n  }")}}}})),du=pe((()=>{Lc(),lu(),cu(),su(),uu(),ru(),ou(),Gc(),Ga=(e,t,n,r,i,a)=>{let o=e[0],s=e.slice(a?1:2,a?3:4),l=s.length,c=t[0],u=t.slice(2).map(((e,t)=>e+(e-1)*(n[t]-1))),d=s.map(((e,t)=>e+r[t]+r[t+l])).map(((e,t)=>Math.floor((e-u[t]+i[t])/i[t])));return d.splice(0,0,o),d.splice(a?3:1,0,c),d},Ka=[2,3,1,0],Ya=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length>5)throw new Error("greater than 5D is not supported");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");if(e[0].dims["NHWC"===t.format?e[0].dims.length-1:1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");let n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error("dilations should be ".concat(n,"D"));if(t.strides.length!==n)throw new Error("strides should be ".concat(n,"D"));if(t.pads.length!==2*n)throw new Error("pads should be ".concat(2*n,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape")},Ja=(e,t)=>{let n=e.kernelShape.slice();n.length<t[1].dims.length-2&&n.push(...Array(t[1].dims.length-2-n.length).fill(0));for(let a=2;a<t[1].dims.length;++a)0===n[a-2]&&(n[a-2]=t[1].dims[a]);let r=e.pads.slice();Ut.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,r,"NHWC"===e.format,e.autoPad);let i=Object.assign({},e);return Object.assign(i,{kernelShape:n,pads:r}),i},Za=e=>{let t=va(e),n=e.format;return u(u({autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],format:n,dilations:e.dilations,group:e.group,kernelShape:e.kernel_shape,pads:e.pads,strides:e.strides,wIsConst:e.w_is_const()},t),{},{cacheKey:"".concat(e.format,";").concat(t.activation,";")})},Xa=(e,t,n,r)=>{var i;let a="NHWC"===n.format,o=Ga(t[0].dims,t[1].dims,n.dilations,n.pads,n.strides,a);if(1!==n.group){let i=[t[0]];if(a){var s;let r=null!==(s=e.kernelCustomData.wT)&&void 0!==s?s:e.compute(qn(t[1],Ka),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=r),i.push(r)}else i.push(t[1]);return 3===t.length&&i.push(t[2]),void(!e.adapterInfo.isArchitecture("ampere")&&a&&t[1].dims[0]===n.group&&1===t[1].dims[1]&&1===n.dilations[0]&&1===n.dilations[1]?e.compute(Ha(i,n,o,r),{inputs:i}):e.compute(Ua(i,n,o,r),{inputs:i}))}let l=3===t.length,c=t[0].dims[a?1:2],u=t[0].dims[a?2:3],d=t[0].dims[a?3:1],h=t[1].dims[2],p=t[1].dims[3],f=o[a?1:2],m=o[a?2:3],g=o[a?3:1],y=a&&h===c&&p===u&&0===n.pads[0]&&0===n.pads[1];if(y||1===h&&1===p&&1===n.dilations[0]&&1===n.dilations[1]&&1===n.strides[0]&&1===n.strides[1]&&0===n.pads[0]&&0===n.pads[1]){let i,s,h,p=o[0],w=[];if(a){var b;let r=null!==(b=e.kernelCustomData.wT)&&void 0!==b?b:e.compute(qn(t[1],Ka),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];if(n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=r),y){let e=c*u*d;i=t[0].reshape([1,p,e]),s=r.reshape([1,e,g]),h=[1,p,g]}else i=t[0].reshape([p,c*u,d]),s=r.reshape([1,d,g]),h=[p,f*m,g];w.push(i),w.push(s)}else i=t[0].reshape([p,d,c*u]),s=t[1].reshape([1,g,d]),h=[p,g,f*m],w.push(s),w.push(i);l&&w.push(t[2]);let v=h[2],_=w[0].dims[w[0].dims.length-1];return void(v<8&&_<8?e.compute(Ta(w,n,o,h,a,r),{inputs:w}):e.compute(Pa(w,n,o,h,a,r),{inputs:w}))}let w=null!==(i=e.kernelCustomData.wT)&&void 0!==i?i:e.compute(qn(t[1],Ka),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=w);let v=[t[0],w];l&&v.push(t[2]);let _=a?f*m:g,x=a?g:f*m,k=h*p*d;e.compute(Na(v,n,o,_,x,k,l,!0,r),{inputs:v})},$a=(e,t)=>{let n="NHWC"===t.format,r=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];3===e.inputs.length&&r.push(e.inputs[2]);let i=[0,t.pads[0],0,t.pads[1]],a=[1].concat(t.strides),o=[1].concat(t.dilations),s=[1].concat(t.kernelShape),l=Ja(u(u({},t),{},{pads:i,strides:a,dilations:o,kernelShape:s}),r);Xa(e,r,l,(e=>n?[e[0],e[2],e[3]]:[e[0],e[1],e[3]]))},Qa=(e,t,n)=>{let r="NHWC"===n.format?"channelsLast":"channelsFirst",i=Ja(n,t),a="NOTSET"===n.autoPad?n.pads:n.autoPad,o=Wa(t[0].dims,t[1].dims,n.strides,n.dilations,a,!1,r);e.compute(qa(t,i,o.outShape,[o.filterDepth,o.filterHeight,o.filterWidth],[o.padInfo.front,o.padInfo.top,o.padInfo.left],r))},eo=(e,t)=>{if(Ya(e.inputs,t),3===e.inputs[0].dims.length)$a(e,t);else if(5===e.inputs[0].dims.length)Qa(e,e.inputs,t);else{let n=Ja(t,e.inputs);Xa(e,e.inputs,n)}}})),hu=pe((()=>{Nc(),Bc(),Lc(),Hc(),to=(e,t,n)=>{let r=e.length>2,i=t.outputShape,a="NHWC"===t.format,o=t.group,s=e[1].dims,l=s[2]/o,c=s[3],u=a?Tn(l):1,d=a&&1===c&&l>=4,h=d?4*Math.floor(l/4):Math.floor(l/u)*u,p=l-h,f=a?Tn(c):1,m=a?1===c?u:f:1,g=qt.size(i)/f,y=[Math.ceil(g/64),1,1];jt("verbose",(()=>"[conv2d_backprop_webgpu] dispatch = ".concat(y)));let b=["rank","rank"],w=[t.strides[0],t.strides[1]],v=[t.kernelShape[a?1:2],t.kernelShape[a?2:3]],_=[t.dilations[0],t.dilations[1]],x=[v[0]+(t.dilations[0]<=1?0:(t.kernelShape[a?1:2]-1)*(t.dilations[0]-1)),v[1]+(t.dilations[1]<=1?0:(t.kernelShape[a?2:3]-1)*(t.dilations[1]-1))],k=[x[0]-1-Math.floor((t.pads[0]+t.pads[2])/2),x[1]-1-Math.floor((t.pads[1]+t.pads[3])/2)],D=[{type:12,data:g},{type:12,data:w},{type:12,data:v},{type:12,data:_},{type:12,data:x},{type:6,data:k},{type:12,data:h},{type:12,data:l},{type:12,data:c},...Dn(e[0].dims,e[1].dims)];r&&(D.push(...Dn(e[2].dims)),b.push("rank")),D.push(...Dn(i));return{name:"ConvTranspose2D",shaderCache:{hint:"".concat(t.cacheKey,";").concat(u).concat(m).concat(f).concat(d).concat(p),inputDependencies:b},getRunData:()=>({dispatchGroup:{x:y[0],y:y[1],z:y[2]},outputs:[{dims:n?n(i):i,dataType:e[0].dataType}],programUniforms:D}),getShaderSource:t=>{let n=[{name:"output_size",type:"u32"},{name:"strides",type:"u32",length:w.length},{name:"filter_dims",type:"u32",length:v.length},{name:"dilations",type:"u32",length:v.length},{name:"effective_filter_dims",type:"u32",length:x.length},{name:"pads",type:"i32",length:k.length},{name:"input_channels_per_group_int",type:"u32"},{name:"input_channels_per_group",type:"u32"},{name:"output_channels_per_group",type:"u32"}],o=xn(e[0].dataType),s=a?1:2,l=a?2:3,c=a?3:1,h=Mn("W",e[1].dataType,e[1].dims.length,m),g=Mn("Dy",e[0].dataType,e[0].dims.length,u),y=[g,h];r&&y.push(Mn("bias",e[2].dataType,[i[c]].length,f));let b=In("result",e[0].dataType,i.length,f),_="\n            let outputIndices = ".concat(b.offsetToIndices("global_idx * ".concat(f)),";\n            let batch = ").concat(b.indicesGet("outputIndices",0),";\n            let d1 = ").concat(b.indicesGet("outputIndices",c),";\n            let r = ").concat(b.indicesGet("outputIndices",s),";\n            let c = ").concat(b.indicesGet("outputIndices",l),";\n            let dyCorner = vec2<i32>(i32(r), i32(c)) - uniforms.pads;\n            let dyRCorner = dyCorner.x;\n            let dyCCorner = dyCorner.y;\n            let groupId = d1 / uniforms.output_channels_per_group;\n            let wOutChannel = d1 - groupId * uniforms.output_channels_per_group;\n            // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n            // ? = to be determined. : = across all values in that axis.\n            var dotProd = ").concat(b.type.value,"(0.0);\n            var wR: u32 = 0;\n            if (uniforms.dilations.x == 1) {\n              // Minimum wR >= 0 that satisfies (dyRCorner + wR) % (uniforms.strides.x) == 0\n              wR = u32(((dyRCorner + i32(uniforms.strides.x) - 1) / i32(uniforms.strides.x)) * i32(uniforms.strides.x) - dyRCorner);\n            }\n            for (; wR < uniforms.effective_filter_dims.x; wR = wR + 1) {\n              if (wR % uniforms.dilations.x != 0) {\n                continue;\n              }\n              let dyR = (").concat(o,"(dyRCorner) + ").concat(o,"(wR)) / ").concat(o,"(uniforms.strides[0]);\n              let wRPerm = uniforms.filter_dims.x - 1 - wR / uniforms.dilations.x;\n              if (dyR < 0.0 || dyR >= ").concat(o,"(uniforms.Dy_shape[").concat(s,"]) || fract(dyR) > 0.0 ||\n                  wRPerm < 0) {\n                continue;\n              }\n              let idyR: u32 = u32(dyR);\n              var wC: u32 = 0;\n              if (uniforms.dilations.y == 1) {\n                // Minimum wC >= 0 that satisfies (dyCCorner + wC) % (uniforms.strides.y) == 0\n                wC = u32(((dyCCorner + i32(uniforms.strides.y) - 1) / i32(uniforms.strides.y)) * i32(uniforms.strides.y) - dyCCorner);\n              }\n              for (; wC < uniforms.effective_filter_dims.y; wC = wC + 1) {\n                if (wC % uniforms.dilations.y != 0) {\n                  continue;\n                }\n                let dyC = (").concat(o,"(dyCCorner) + ").concat(o,"(wC)) / ").concat(o,"(uniforms.strides.y);\n                let wCPerm = uniforms.filter_dims.y - 1 - wC / uniforms.dilations.y;\n                if (dyC < 0.0 || dyC >= ").concat(o,"(uniforms.Dy_shape[").concat(l,"]) ||\n                    fract(dyC) > 0.0 || wCPerm < 0) {\n                  continue;\n                }\n                let idyC: u32 = u32(dyC);\n                var inputChannel = groupId * uniforms.input_channels_per_group;\n                ").concat(d?"\n                var x_offset = ".concat(g.indicesToOffset("".concat(g.type.indices,"(batch, idyR, idyC, inputChannel)"))," / ").concat(u,";\n                var w_offset = ").concat(h.indicesToOffset("".concat(h.type.indices,"(wRPerm, wCPerm, inputChannel, wOutChannel)"))," / ").concat(m,";\n                  "):"","\n                for (var d2: u32 = 0; d2 < uniforms.input_channels_per_group_int; d2 = d2 + ").concat(d?4:u,") {\n                  ").concat((()=>{let e="";if(d)4===u?e+="\n        let xValue = ".concat(g.getByOffset("x_offset"),";\n        let wValue = ").concat(h.getByOffset("w_offset"),";\n        dotProd = dotProd + dot(xValue, wValue);\n        x_offset += 1u;\n        w_offset += 1u;"):2===u?e+="\n          dotProd = dotProd + dot(vec4<".concat(o,">(").concat(g.getByOffset("x_offset"),", ").concat(g.getByOffset("x_offset + 1u"),"), vec4<").concat(o,">(").concat(h.getByOffset("w_offset"),", ").concat(h.getByOffset("w_offset + 1u"),"));\n          x_offset += 2u;\n          w_offset += 2u;"):1===u&&(e+="\n          dotProd = dotProd + dot(vec4<".concat(o,">(").concat(g.getByOffset("x_offset"),", ").concat(g.getByOffset("x_offset + 1u"),", ").concat(g.getByOffset("x_offset + 2u"),", ").concat(g.getByOffset("x_offset + 3u"),"), vec4<").concat(o,">(").concat(h.getByOffset("w_offset"),", ").concat(h.getByOffset("w_offset + 1u"),", ").concat(h.getByOffset("w_offset + 2u"),", ").concat(h.getByOffset("w_offset + 3u"),"));\n          x_offset += 4u;\n          w_offset += 4u;"));else if(e+="\n                  let xValue = ".concat(a?g.getByOffset("".concat(g.indicesToOffset("".concat(g.type.indices,"(batch, idyR, idyC, inputChannel)"))," / ").concat(u)):g.get("batch","inputChannel","idyR","idyC"),";\n        "),1===u)e+="\n          let w_offset = ".concat(h.indicesToOffset("".concat(h.type.indices,"(u32(wRPerm), u32(wCPerm), inputChannel, wOutChannel)")),";\n          let wValue = ").concat(h.getByOffset("w_offset / ".concat(m)),";\n          dotProd = dotProd + xValue * wValue;");else for(let t=0;t<u;t++)e+="\n            let wValue".concat(t," = ").concat(h.getByOffset("".concat(h.indicesToOffset("".concat(h.type.indices,"(u32(wRPerm), u32(wCPerm), inputChannel + ").concat(t,", wOutChannel)"))," / ").concat(m)),";\n            dotProd = dotProd + xValue[").concat(t,"] * wValue").concat(t,";");return e})(),"\n                  inputChannel = inputChannel + ").concat(d?4:u,";\n                }\n                ").concat((()=>{if(0===p)return"";if(!d)throw new Error("packInputAs4 ".concat(d," is not true."));let e="";if(1===u){e+="dotProd = dotProd";for(let t=0;t<p;t++)e+="\n            + ".concat(g.getByOffset("x_offset + ".concat(t))," * ").concat(h.getByOffset("w_offset + ".concat(t)));e+=";"}else if(2===u){if(2!==p)throw new Error("Invalid inputChannelsRemainder ".concat(p,"."));e+="\n          let xValue = ".concat(g.getByOffset("x_offset"),";\n          let wValue = ").concat(h.getByOffset("w_offset"),";\n          dotProd = dotProd + dot(xValue, wValue);")}return e})(),"\n                wC = wC + uniforms.strides.y - 1;\n              }\n              wR = wR + uniforms.strides[0] - 1;\n            }\n            let value = dotProd").concat(r?" + bias[d1 / ".concat(f,"]"):"",";\n            ").concat(b.setByOffset("global_idx","value"),";\n          ");return"\n    ".concat(t.registerUniforms(n).declareVariables(...y,b),"\n      ").concat(t.mainStart(),"\n      ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),";\n    ").concat(_,"}")}}}})),pu=pe((()=>{hu(),ru(),Gc(),no=(e,t,n,r,i,a)=>(e-1)*t+n+(r-1)*i+1-a,ro=(e,t,n,r,i)=>{let a=Math.floor(e/2);"SAME_UPPER"===t?(n[r]=a,n[i]=e-a):"SAME_LOWER"===t&&(n[r]=e-a,n[i]=a)},io=(e,t,n,r,i,a,o,s,l,c)=>{let u=e.length-2,d=0===c.length;l.length<u&&l.push(...Array(u-l.length).fill(0));let h=e[0],p=t[s?3:1]*i;for(let f=0,m=e.length-u-(s?1:0);f<u;++f,++m){let i=e[m],s=d?i*o[f]:c[f],h=no(i,o[f],a[f],t[m],n[f],s);ro(h,r,a,f,f+u),d&&c.push(o[f]*(i-1)+l[f]+(t[m]-1)*n[f]+1-a[f]-a[f+u])}c.splice(0,0,h),c.splice(s?3:1,0,p)},ao=(e,t)=>{let n=e.kernelShape.slice();if(0===e.kernelShape.length||0===e.kernelShape.reduce(((e,t)=>e*t),1)){n.length=0;for(let e=2;e<t[1].dims.length;++e)n.push(t[1].dims[e])}let r="NHWC"===e.format;n.splice(0,0,t[1].dims[0]),n.splice(r?3:1,0,t[1].dims[1]);let i=e.pads.slice(),a=e.outputShape.slice(),o=e.outputPadding.slice(),s=t[0].dims,l=e.dilations.slice();if(0===l.reduce(((e,t)=>e+t),0)){let e=t[0].dims.length-2;l=new Array(e).fill(1)}let c=e.strides.slice();if(0===c.reduce(((e,t)=>e+t),0)){let e=t[0].dims.length-2;c=new Array(e).fill(1)}io(s,n,l,e.autoPad,e.group,i,c,r,o,a);let u=Object.assign({},e);return Object.assign(u,{kernelShape:n,pads:i,outputPadding:o,outputShape:a,dilations:l,strides:c}),u},oo=e=>{let t=va(e),n=e.format,r=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][typeof e.autoPad>"u"?0:e.autoPad],i=e.dilations,a=e.group,o=e.kernelShape,s=e.pads,l=e.strides,c=e.wIsConst();return u(u({autoPad:r,format:n,dilations:i,group:a,kernelShape:o,outputPadding:e.outputPadding,outputShape:e.outputShape,pads:s,strides:l,wIsConst:c},t),{},{cacheKey:"".concat(e.format,";").concat(t.activation,";")})},so=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length&&3!==e[0].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");if(e[0].dims["NHWC"===t.format?e[0].dims.length-1:1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");let r=e[0].dims.length-2;if(t.dilations.reduce(((e,t)=>e+t),0)>0&&t.dilations.length!==r)throw new Error("dilations should be ".concat(r,"D"));if(t.strides.reduce(((e,t)=>e+t),0)>0&&t.strides.length!==r)throw new Error("strides should be ".concat(r,"D"));if(t.pads.reduce(((e,t)=>e+t),0)>0&&t.pads.length!==2*r)throw new Error("pads should be ".concat(2*r,"D"));if(t.outputPadding.length!==r&&0!==t.outputPadding.length)throw new Error("output_padding should be ".concat(r,"D"));if(t.kernelShape.reduce(((e,t)=>e+t),0)>0&&0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape")},lo=(e,t,n,r)=>{var i;let a=null!==(i=e.kernelCustomData.wT)&&void 0!==i?i:e.compute(qn(t[1],[2,3,0,1]),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=a);let o=[t[0],a];3===t.length&&o.push(t[2]),e.compute(to(o,n,r),{inputs:o})},co=(e,t)=>{let n="NHWC"===t.format,r=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];3===e.inputs.length&&r.push(e.inputs[2]);let i=t.kernelShape;(0===i.length||0===i[0])&&(i=[e.inputs[1].dims[2]]);let a=t.dilations;(0===a.length||0===a[0])&&(a=[1]);let o=t.strides;(0===o.length||0===o[0])&&(o=[1]);let s=t.pads;0===s.length&&(s=[0,0]),s=[0,s[0],0,s[1]],o=[1].concat(o),a=[1].concat(a),i=[1].concat(i);let l=t.outputPadding;l=[0].concat(l);let c=ao(u(u({},t),{},{pads:s,strides:o,dilations:a,kernelShape:i,outputPadding:l}),r);lo(e,r,c,(e=>n?[e[0],e[2],e[3]]:[e[0],e[1],e[3]]))},uo=(e,t)=>{if(so(e.inputs,t),3===e.inputs[0].dims.length)co(e,t);else{let n=ao(t,e.inputs);lo(e,e.inputs,n)}}})),fu=pe((()=>{Nc(),Lc(),Uc(),Hc(),ho=(e,t,n,r)=>{let i=qt.size(t),a=t.length,o=Mn("input",e,a),s=In("output",e,a),l=6===n.dataType?n.getInt32Array()[0]:Number(n.getBigInt64Array()[0]),c=qt.normalizeAxis(l,a);return{name:"CumSum",shaderCache:{hint:r.cacheKey,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:t,dataType:e}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:[{type:12,data:i},{type:12,data:c},...Dn(t,t)]}),getShaderSource:e=>{let t=" i32(".concat(o.indicesGet("inputIndices","uniforms.axis"),") "),n=En("uniforms.input_shape","uniforms.axis",a),i=r.reverse?t+(r.exclusive?" + 1":""):"0",l=r.reverse?n:t+(r.exclusive?"":" + 1");return"\n                ".concat(e.registerUniform("outputSize","u32").registerUniform("axis","u32").declareVariables(o,s),"\n                ").concat(e.mainStart(),"\n                  ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n                  var inputIndices = ").concat(s.offsetToIndices("global_idx"),";\n                  var sum = ").concat(s.type.value,"(0);\n                  let first : i32 = ").concat(i,";\n                  let last : i32 = ").concat(l,";\n                  for (var i : i32 = first; i < last; i++) {\n                    ").concat(o.indicesSet("inputIndices","uniforms.axis","u32(i)"),";\n                    sum = sum + ").concat(o.getByIndices("inputIndices"),";\n                  }\n                  ").concat(s.setByOffset("global_idx","sum"),";\n                }")}}},po=(e,t)=>{let n=e.inputs[0].dims,r=e.inputs[0].dataType,i=e.inputs[1];e.compute(ho(r,n,i,t),{inputs:[0]})},fo=e=>{let t=1===e.exclusive,n=1===e.reverse;return wn({exclusive:t,reverse:n})}})),mu=pe((()=>{Nc(),Lc(),Uc(),Hc(),mo=e=>{if(!e||1!==e.length)throw new Error("DepthToSpace requires 1 input.");if(4!==e[0].dims.length)throw new Error("DepthToSpace requires 4D input.")},go=(e,t,n,r)=>{let i=[];i.push("fn perm(i: ".concat(r.type.indices,") -> ").concat(n.type.indices," {\n    var a: ").concat(n.type.indices,";"));for(let a=0;a<t;++a)i.push(n.indicesSet("a",e[a],"i[".concat(a,"]")));return i.push("return a;}"),i.join("\n")},yo=(e,t)=>{let n,r,i,a,o,s,l="NHWC"===t.format,c=t.blocksize,u="DCR"===t.mode;l?([n,r,i,a]=e.dims,o=u?[n,r,i,c,c,a/c**2]:[n,r,i,a/c**2,c,c],s=u?[0,1,3,2,4,5]:[0,1,4,2,5,3]):([n,r,i,a]=[e.dims[0],e.dims[2],e.dims[3],e.dims[1]],o=u?[n,c,c,a/c**2,r,i]:[n,a/c**2,c,c,r,i],s=u?[0,3,4,1,5,2]:[0,1,4,2,5,3]);let d=e.reshape(o),h=d.dims.length,p=e.dataType,f=Mn("a",p,h),m=In("output",p,h);return{name:"DepthToSpace",shaderCache:{hint:"".concat(e.dims,";").concat(t.blocksize,";").concat(t.mode),inputDependencies:["rank"]},getRunData:e=>{let t=l?[n,r*c,i*c,a/c**2]:[n,a/c**2,r*c,i*c],o=qt.size(t),u=d.dims,h=qt.sortBasedOnPerm(u,s);return{outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(o/64)},programUniforms:[{type:12,data:o},...Dn(u,h)]}},getShaderSource:e=>"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(f,m),"\n\n  ").concat(go(s,h,f,m),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n\n    let indices = ").concat(m.offsetToIndices("global_idx"),";\n    let aIndices = perm(indices);\n\n    ").concat(m.setByOffset("global_idx",f.getByIndices("aIndices")),"\n  }")}},bo=(e,t)=>{mo(e.inputs),e.compute(yo(e.inputs[0],t))},wo=e=>wn({blocksize:e.blocksize,mode:e.mode,format:e.format})})),gu=pe((()=>{Nc(),Lc(),Uc(),Hc(),xo="^"+(_o="("+(vo="[a-zA-Z]|\\.\\.\\.")+")+")+"$",ko="^"+("("+_o+",)*"+_o)+"$",Do=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.symbolToIndices=new Map,this.inputIndex=e}addSymbol(e,t){let n=this.symbolToIndices.get(e);void 0===n?n=[t]:n.push(t),this.symbolToIndices.set(e,n)}},To=class{constructor(e,t){var n;this.equation=t,this.hasEllipsis=!1,this.symbolToInfo=new Map,this.lhs=new Array,this.outputDims=[];let[r,i]=t.includes("->")?t.split("->",2):[t,""];if(!r.match(RegExp(ko)))throw new Error("Invalid LHS term");if(r.split(",").forEach(((t,n)=>{let r=e[n].dims.slice();if(!t.match(RegExp(xo)))throw new Error("Invalid LHS term");let i=this.processTerm(t,!0,r,n);this.lhs.push(i)})),""===i)i+=[...this.symbolToInfo.entries()].filter((e=>{let[t,n]=e;return 1===n.count||"..."===t})).map((e=>{let[t]=e;return t})).join("");else if(!i.match(RegExp(_o)))throw new Error("Invalid RHS");null!==(n=i.match(RegExp(vo,"g")))&&void 0!==n&&n.forEach((e=>{if("..."===e)this.outputDims=this.outputDims.concat(this.ellipsisDims);else{let t=this.symbolToInfo.get(e);if(void 0===t)throw new Error("Invalid RHS symbol");this.outputDims.push(t.dimValue)}})),this.rhs=this.processTerm(i,!1,this.outputDims)}addSymbol(e,t,n){let r=this.symbolToInfo.get(e);if(void 0!==r){if(r.dimValue!==t&&1!==r.count)throw new Error("Dimension mismatch");r.count++,r.inputIndices.push(n)}else r={count:1,dimValue:t,inputIndices:[n]};this.symbolToInfo.set(e,r)}processTerm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=n.length,a=!1,o=[],s=0;if(!e.match(RegExp(xo))&&!t&&""!==e)throw new Error("Invalid LHS term");let l=e.match(RegExp(vo,"g")),c=new Do(r);return null!==l&&void 0!==l&&l.forEach(((e,u)=>{if("..."===e){if(a)throw new Error("Only one ellipsis is allowed per input term");a=!0;let e=i-l.length+1;if(e<0)throw new Error("Ellipsis out of bounds");if(o=n.slice(s,s+e),this.hasEllipsis){if(this.ellipsisDims.length!==o.length||this.ellipsisDims.toString()!==o.toString())throw new Error("Ellipsis dimensions mismatch")}else{if(!t)throw new Error("Ellipsis must be specified in the LHS");this.hasEllipsis=!0,this.ellipsisDims=o}for(let t=0;t<o.length;t++){let e=String.fromCharCode(48+t);c.addSymbol(e,u+t),this.addSymbol(e,n[s++],r)}}else c.addSymbol(e,u+(this.hasEllipsis?this.ellipsisDims.length-1:0)),this.addSymbol(e,n[s++],r)})),c}},Ao=e=>e+"_max",So=(e,t,n,r)=>{let i=e.map((e=>e.length)).map(((e,n)=>Mn("input".concat(n),t,e))),a=qt.size(r),o=In("output",t,r.length),s=[...n.symbolToInfo.keys()].filter((e=>!n.rhs.symbolToIndices.has(e)));return{name:"Einsum",shaderCache:{hint:n.equation,inputDependencies:e.map((()=>"rank"))},getRunData:()=>{let i=s.filter((e=>n.symbolToInfo.has(e))).map((e=>{var t;return{type:12,data:(null===(t=n.symbolToInfo.get(e))||void 0===t?void 0:t.dimValue)||0}}));i.push({type:12,data:a});let o=e.map(((e,t)=>[...Dn(e)])).reduce(((e,t)=>e.concat(t)),i);return o.push(...Dn(r)),{outputs:[{dims:r,dataType:t}],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:o}},getShaderSource:e=>{let t=[],r=[],a=[],l=[],c=[],u=n.symbolToInfo.size===n.rhs.symbolToIndices.size;n.symbolToInfo.forEach(((e,s)=>{if(n.rhs.symbolToIndices.has(s)){var u;let r=null===(u=n.rhs.symbolToIndices.get(s))||void 0===u?void 0:u[0];void 0!==r&&n.lhs.forEach(((n,a)=>{if(e.inputIndices.includes(a)){let e=n.symbolToIndices.get(s);if(void 0===e)throw new Error("Invalid symbol error");e.forEach((e=>{t.push("".concat(i[a].indicesSet("input".concat(a,"Indices"),e,o.indicesGet("outputIndices",r))))}))}}))}else n.lhs.forEach(((t,n)=>{if(e.inputIndices.includes(n)){let e=t.symbolToIndices.get(s);if(void 0===e)throw new Error("Invalid symbol error");e.forEach((e=>{r.push("".concat(i[n].indicesSet("input".concat(n,"Indices"),e,"".concat(s))))})),c.push("prod *= ".concat(i[n].getByIndices("input".concat(n,"Indices")),";"))}})),a.push("for(var ".concat(s,": u32 = 0; ").concat(s," < uniforms.").concat(Ao(s),"; ").concat(s,"++) {")),l.push("}")}));let d=u?[...t,"let sum = ".concat(i.map(((e,t)=>e.getByIndices("input".concat(t,"Indices")))).join(" * "),";")]:[...t,"var sum = 0.0;",...a,...r,"var prod = 1.0;",...c,"sum += prod;",...l];return"\n            ".concat(e.registerUniforms(s.map((e=>({name:"".concat(Ao(e)),type:"u32"})))).registerUniform("outputSize","u32").declareVariables(...i,o),"\n\n            ").concat(e.mainStart(),"\n            ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n            var outputIndices = ").concat(o.offsetToIndices("global_idx"),";\n            ").concat(i.map(((e,t)=>"var input".concat(t,"Indices: ").concat(i[t].type.indices,";"))).join("\n"),"\n            ").concat(d.join("\n"),";\n            ").concat(o.setByOffset("global_idx","sum"),";\n          }")}}},Co=(e,t)=>{let n=new To(e.inputs,t.equation),r=n.outputDims,i=e.inputs.map(((e,t)=>e.dims));e.compute(So(i,e.inputs[0].dataType,n,r))},Eo=e=>{let t=e.equation.replace(/\s+/g,"");return wn({equation:t})}})),yu=pe((()=>{Nc(),Lc(),Hc(),Fo=e=>{if(!e||2!==e.length)throw new Error("Expand requires 2 input.");let t=e[0].dims,n=Array.from(e[1].getBigInt64Array(),Number),r=n.length<t.length?0:n.length-t.length,i=t.length<n.length?0:t.length-n.length;for(;r<n.length&&i<t.length;++r,++i)if(n[r]!==t[i]&&1!==n[r]&&1!==t[i])throw new Error("Expand requires shape to be broadcastable to input")},Mo=(e,t)=>{let n=e.length-t.length,r=[];for(let i=0;i<n;++i)r.push(e[i]);for(let i=0;i<t.length;++i)r.push(1===t[i]?e[i+n]:t[i]);return r},Io=(e,t)=>e.length>t.length?Mo(e,t):Mo(t,e),Po=e=>{let t=e[0].dims,n=Array.from(e[1].getBigInt64Array(),Number),r=Io(t,n),i=e[0].dataType,a=9===i||1===qt.size(t),o=9===i||t.length>0&&t[t.length-1]%4===0?4:1,s=a||r.length>0&&r[r.length-1]%4===0?4:1,l=Math.ceil(qt.size(r)/s),c=[{type:12,data:l},...Dn(t,r)];return{name:"Expand",shaderCache:{hint:"".concat(r.length,";").concat(o).concat(s),inputDependencies:["rank"]},getShaderSource:e=>{let n,a=Mn("input",i,t.length,o),l=In("output",i,r.length,s);if(9===i){let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"\n          let outputIndices".concat(t," = ").concat(l.offsetToIndices("outputOffset + ".concat(t,"u")),";\n          let offset").concat(t," = ").concat(a.broadcastedIndicesToOffset("outputIndices".concat(t),l),";\n          let index").concat(t," = offset").concat(t," / 4u;\n          let component").concat(t," = offset").concat(t," % 4u;\n          ").concat(e,"[").concat(t,"] = ").concat(n,"(").concat(a.getByOffset("index".concat(t)),"[component").concat(t,"]);\n        ")};n="\n        let outputOffset = global_idx * ".concat(s,";\n        var data = vec4<u32>(0);\n        ").concat(e("data",0,"u32"),"\n        ").concat(e("data",1,"u32"),"\n        ").concat(e("data",2,"u32"),"\n        ").concat(e("data",3,"u32"),"\n        ").concat(l.setByOffset("global_idx","data"),"\n      }")}else n="\n        let outputIndices = ".concat(l.offsetToIndices("global_idx * ".concat(s)),";\n        let inputOffset = ").concat(a.broadcastedIndicesToOffset("outputIndices",l),";\n        let data = ").concat(l.type.value,"(").concat(a.getByOffset("inputOffset / ".concat(o)),");\n        ").concat(l.setByOffset("global_idx","data"),"\n      }");return"\n    ".concat(e.registerUniform("vec_size","u32").declareVariables(a,l),"\n    ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size"),"\n    ").concat(n)},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:c})}},zo=e=>{Fo(e.inputs),e.compute(Po(e.inputs),{inputs:[0]})}})),bu=pe((()=>{Nc(),Lc(),Hc(),Qc(),No=e=>{let t=e[0].dataType,n=qt.size(e[0].dims),r=qt.size(e[1].dims),i=r%4===0;return{name:"FastGeluWithBias",shaderCache:{hint:"".concat(i),inputDependencies:["type","type"]},getShaderSource:e=>{let n=Mn("x",t,[1],4),r=Mn("bias",t,[1],4),a=In("y",t,[1],4),o=e=>"\n      let bias".concat(e,"_offset: u32 = (global_idx * 4 + ").concat(e,") % uniforms.bias_size;\n      let bias").concat(e," = ").concat(r.getByOffset("bias".concat(e,"_offset / 4")),"[bias").concat(e,"_offset % 4];"),s=i?"\n      let bias = ".concat(r.getByOffset("global_idx % (uniforms.bias_size / 4)"),";"):"".concat(o(0)).concat(o(1)).concat(o(2)).concat(o(3),"\n      let bias = ").concat(n.type.value,"(bias0, bias1, bias2, bias3);");return"".concat(e.registerUniforms([{name:"output_vec_size",type:"u32"},{name:"bias_size",type:"u32"}]).declareVariables(n,r,a),"\n\n    ").concat(Vi(kn(t)),"\n\n    ").concat(e.mainStart(vn),"\n      ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_vec_size"),"\n\n      let x = ").concat(n.getByOffset("global_idx"),";\n      ").concat(s,"\n      let x_in = x + bias;\n      ").concat(a.setByOffset("global_idx",Wi("x_in")),"\n    }")},getRunData:e=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],programUniforms:[{type:12,data:Math.ceil(n/4)},{type:12,data:r}],dispatchGroup:{x:Math.ceil(n/vn/4)}})}},Oo=e=>{e.inputs.length<2||0===qt.size(e.inputs[1].dims)?qi(e):e.compute(No(e.inputs))}})),wu=pe((()=>{Nc(),Lc(),Uc(),Hc(),Bo=e=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.")},Lo=(e,t)=>{let n=e[0].dims,r=e[1].dims,i=n.length,a=qt.normalizeAxis(t.axis,i),o=n.slice(0);o.splice(a,1,...r);let s=n[a],l=9===e[0].dataType?4:1,c=Math.ceil(qt.size(o)/l),u=[{type:12,data:c},{type:6,data:s},{type:12,data:a},...Dn(e[0].dims,e[1].dims,o)];return{name:"Gather",shaderCache:{hint:t.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:o,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:u}),getShaderSource:t=>{let n,s=Mn("data",e[0].dataType,e[0].dims.length,l),c=Mn("inputIndices",e[1].dataType,e[1].dims.length),u=In("output",e[0].dataType,o.length,l),d=e=>{let t=r.length,n="var indicesIndices".concat(e,"  = ").concat(c.type.indices,"(0);");for(let r=0;r<t;r++)n+="".concat(t>1?"indicesIndices".concat(e,"[").concat(r,"]"):"indicesIndices".concat(e)," = ").concat(o.length>1?"outputIndices".concat(e,"[uniforms.axis + ").concat(r,"]"):"outputIndices".concat(e),";");n+="\n          var idx".concat(e," = ").concat(c.getByIndices("indicesIndices".concat(e)),";\n          if (idx").concat(e," < 0) {\n            idx").concat(e," = idx").concat(e," + uniforms.axisDimLimit;\n          }\n          var dataIndices").concat(e," : ").concat(s.type.indices,";\n        ");for(let r=0,s=0;r<i;r++)r===a?(n+="".concat(i>1?"dataIndices".concat(e,"[").concat(r,"]"):"dataIndices".concat(e)," = u32(idx").concat(e,");"),s+=t):(n+="".concat(i>1?"dataIndices".concat(e,"[").concat(r,"]"):"dataIndices".concat(e)," = ").concat(o.length>1?"outputIndices".concat(e,"[").concat(s,"]"):"outputIndices".concat(e),";"),s++);return n};if(9===e[0].dataType){let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"\n          let outputIndices".concat(t," = ").concat(u.offsetToIndices("outputOffset + ".concat(t,"u")),";\n          ").concat(d(t),";\n          let offset").concat(t," = ").concat(s.indicesToOffset("dataIndices".concat(t)),";\n          let index").concat(t," = offset").concat(t," / 4u;\n          let component").concat(t," = offset").concat(t," % 4u;\n          ").concat(e,"[").concat(t,"] = ").concat(n,"(").concat(s.getByOffset("index".concat(t)),"[component").concat(t,"]);\n        ")};n="\n        let outputOffset = global_idx * ".concat(l,";\n        var value = vec4<u32>(0);\n        ").concat(e("value",0,"u32"),"\n        ").concat(e("value",1,"u32"),"\n        ").concat(e("value",2,"u32"),"\n        ").concat(e("value",3,"u32"),"\n        ").concat(u.setByOffset("global_idx","value"),"\n      ")}else n="\n      let outputIndices = ".concat(u.offsetToIndices("global_idx"),";\n      ").concat(d(""),";\n      let value = ").concat(s.getByIndices("dataIndices"),";\n      ").concat(u.setByOffset("global_idx","value"),";\n      ");return"\n      ".concat(t.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(s,c,u),"\n      ").concat(t.mainStart(),"\n        ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n        ").concat(n,"\n      }")}}},Ro=e=>wn({axis:e.axis}),jo=(e,t)=>{let n=e.inputs;Bo(n),e.compute(Lo(e.inputs,t))}})),vu=pe((()=>{Nc(),Lc(),Hc(),Vo=(e,t,n,r,i,a,o,s,l)=>{let c=[{type:12,data:a},{type:12,data:r},{type:12,data:i},{type:12,data:n},{type:12,data:o},{type:12,data:s},{type:12,data:l}],u=[a];c.push(...Dn(t.dims,u));return e.compute({name:"computeSliceOffsets",shaderCache:{hint:"".concat(i.length,"_").concat(n.length),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:u,dataType:e.inputs[1].dataType}],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:c}),getShaderSource:e=>{let r=[Mn("indices_data",t.dataType,t.dims.length),In("input_slice_offsets_data",12,1,1)],a=[{name:"output_size",type:"u32"},{name:"batch_dims",type:"u32"},{name:"input_dims",type:"u32",length:i.length},{name:"sizes_from_slice_dims_data",type:"u32",length:n.length},{name:"num_slices_per_batch",type:"u32"},{name:"input_batch_stride",type:"u32"},{name:"num_slice_dims",type:"u32"}];return"\n  ".concat(e.registerUniforms(a).declareVariables(...r),"\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let batch_idx = global_idx / uniforms.num_slices_per_batch;\n    let base_offset = batch_idx * uniforms.input_batch_stride;\n\n    let slice_indices_base_offset = global_idx * uniforms.num_slice_dims;\n    var relative_slice_offset = 0;\n    for (var dim_idx = 0u; dim_idx < uniforms.num_slice_dims; dim_idx ++) {\n      var index = i32(indices_data[dim_idx + slice_indices_base_offset].x);\n      let input_dim_idx = uniforms.batch_dims + dim_idx;\n      if (index < 0) {\n        ").concat(1===i.length?"index += i32(uniforms.input_dims);":"index += i32(uniforms.input_dims[input_dim_idx]);","\n      }\n      ").concat(1===n.length?"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data);":"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data[dim_idx]);","\n    }\n\n    input_slice_offsets_data[global_idx] =  base_offset + u32(relative_slice_offset);\n  }")}},{inputs:[t],outputs:[-1]})[0]},Wo=(e,t)=>{let n=e.inputs,r=n[0].dims,i=n[0].dataType,a=n[1].dims,o=a[a.length-1],s=qt.sizeToDimension(a,a.length-1),l=qt.sizeFromDimension(r,t.batchDims+o),c=qt.sizeToDimension(r,t.batchDims),u=qt.sizeFromDimension(r,t.batchDims),d=s/c,h=new Array(o),p=l;for(let w=0;w<o;++w)h[o-1-w]=p,p*=r[t.batchDims+o-1-w];let f=Vo(e,n[1],h,t.batchDims,r,s,d,u,o),m=t.batchDims+o;if(m>r.length)throw new Error("last dimension of indices must not be larger than rank of input tensor");let g=a.slice(0,-1).concat(r.slice(m)),y=qt.size(g),b=[{type:12,data:y},{type:12,data:l},...Dn(n[0].dims,f.dims,g)];e.compute({name:"GatherND",shaderCache:{hint:t.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:g,dataType:i}],dispatchGroup:{x:Math.ceil(y/64)},programUniforms:b}),getShaderSource:e=>{let t=Mn("data",n[0].dataType,n[0].dims.length),r=Mn("slice_offsets",12,f.dims.length),i=In("output",n[0].dataType,g.length);return"\n          ".concat(e.registerUniform("output_size","u32").registerUniform("slice_size","u32").declareVariables(t,r,i),"\n            ").concat(e.mainStart(),"\n            ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n          let slice_offset = slice_offsets[global_idx / uniforms.slice_size];\n          output[global_idx] = data[u32(slice_offset) + global_idx % uniforms.slice_size];\n        }")}},{inputs:[n[0],f]})},qo=e=>({batchDims:e.batch_dims,cacheKey:""})})),_u=pe((()=>{Nc(),Lc(),Uc(),Hc(),Uo=(e,t)=>{if(e.length<3||e.length>4)throw new Error("GatherBlockQuantized requires 3 or 4 inputs.");let n=qt.normalizeAxis(t.quantizeAxis,e[0].dims.length),r=t.blockSize,i=e[0],a=e[2],o=4===e.length?e[3]:void 0;if(a.dims.length!==i.dims.length||!i.dims.map(((e,t)=>t===n?Math.ceil(e/r)===a.dims[t]:e===a.dims[t])).reduce(((e,t)=>e&&t),!0))throw new Error("Scales must have the same rank as the input tensor and the dims should match except on gatherAxis.");if(o){if(o.dataType!==i.dataType)throw new Error("Zero point must have the same data type as the input tensor.");if(o.dims.length!==a.dims.length||!o.dims.map(((e,t)=>e===a.dims[t])).reduce(((e,t)=>e&&t),!0))throw new Error("Zero point must have the same rank as the input tensor and the dims should match except on quantizeAxis.")}},Ho=(e,t)=>{let n=e[0].dims,r=e[1].dims,i=n.length,a=qt.normalizeAxis(t.gatherAxis,i),o=qt.normalizeAxis(t.quantizeAxis,i),s=n.slice(0);s.splice(a,1,...r);let l=qt.size(s),c=e[2].dataType,u=22===e[0].dataType,d=[{type:12,data:l},{type:12,data:o},{type:12,data:a},{type:12,data:t.blockSize},...Dn(...e.map(((e,t)=>e.dims)),s)];return{name:"GatherBlockQuantized",shaderCache:{hint:"".concat(t.cacheKey,";").concat(e.filter(((e,t)=>1!==t)).map((e=>e.dims.join("_"))).join(";")),inputDependencies:Array.from({length:e.length},((e,t)=>"rank"))},getRunData:()=>({outputs:[{dims:s,dataType:c}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:d}),getShaderSource:t=>{let i=Mn("data",e[0].dataType,e[0].dims.length),o=Mn("inputIndices",e[1].dataType,e[1].dims.length),l=Mn("scales",e[2].dataType,e[2].dims.length),d=e.length>3?Mn("zeroPoint",e[3].dataType,e[3].dims.length):void 0,h=In("output",c,s.length),p=[i,o,l];d&&p.push(d);return"\n        ".concat(t.registerUniforms([{name:"output_size",type:"u32"},{name:"quantize_axis",type:"u32"},{name:"gather_axis",type:"u32"},{name:"block_size",type:"u32"}]).declareVariables(...p,h),"\n        ").concat(t.mainStart(),"\n        let output_indices = ").concat(h.offsetToIndices("global_idx"),";\n        var indices_indices = ").concat(o.type.indices,"(0);\n        ").concat(r.length>1?"\n          for (var i: u32 = 0; i < ".concat(r.length,"; i++) {\n            let index = ").concat(h.indicesGet("output_indices","uniforms.gather_axis + i"),";\n            ").concat(o.indicesSet("indices_indices","i","index"),";\n          }"):"indices_indices = ".concat(h.indicesGet("output_indices","uniforms.gather_axis"),";"),";\n        var data_indices = ").concat(i.type.indices,"(0);\n        for (var i: u32 = 0; i < uniforms.gather_axis; i++) {\n          let index = ").concat(h.indicesGet("output_indices","i"),";\n          ").concat(i.indicesSet("data_indices","i","index"),";\n        }\n        var index_from_indices = ").concat(o.getByIndices("indices_indices"),";\n        if (index_from_indices < 0) {\n          index_from_indices += ").concat(n[a],";\n        }\n        ").concat(i.indicesSet("data_indices","uniforms.gather_axis","u32(index_from_indices)"),";\n        for (var i = uniforms.gather_axis + 1; i < ").concat(s.length,"; i++) {\n          let index = ").concat(h.indicesGet("output_indices","i + ".concat(r.length," - 1")),";\n          ").concat(i.indicesSet("data_indices","i","index"),";\n        }\n        let data_offset = ").concat(i.indicesToOffset("data_indices"),";\n        let data_index = data_offset % 8;\n        // Convert 4-bit packed data to 8-bit packed data.\n        let packed_4bit_quantized_data = ").concat(i.getByOffset("data_offset / 8"),";\n        let packed_8bit_quantized_data = (packed_4bit_quantized_data >> (4 * (data_index % 2))) & 0x0f0f0f0f;\n        let quantized_data_vec = ").concat(u?"unpack4xI8":"unpack4xU8","(u32(packed_8bit_quantized_data));\n        let quantized_data = quantized_data_vec[data_index / 2];\n        var scale_indices = data_indices;\n        let quantize_axis_index = ").concat(l.indicesGet("data_indices","uniforms.quantize_axis")," / uniforms.block_size;\n        ").concat(l.indicesSet("scale_indices","uniforms.quantize_axis","quantize_axis_index"),";\n        var scale = ").concat(l.getByIndices("scale_indices"),";\n        ").concat(d?"\n              let zero_point_indices = scale_indices;\n              let zero_point_offset = ".concat(d.indicesToOffset("zero_point_indices"),";\n              let zero_point_index = zero_point_offset % 8;\n              let packed_4bit_zero_points = ").concat(d.getByOffset("zero_point_offset / 8"),";\n              let packed_8bit_zero_points = (packed_4bit_zero_points >> (4 * (zero_point_index % 2))) & 0x0f0f0f0f;\n              let zero_point_vec = ").concat(u?"unpack4xI8":"unpack4xU8","(u32(packed_8bit_zero_points));\n              let zero_point = zero_point_vec[zero_point_index / 2];"):"var zero_point = 0",";\n        let dequantized_data = ").concat(kn(c),"(quantized_data - zero_point) * scale;\n        ").concat(h.setByOffset("global_idx","dequantized_data"),";\n    }")}}},Go=(e,t)=>{let n=e.inputs;Uo(n,t),e.compute(Ho(e.inputs,t))},Ko=e=>wn({blockSize:e.blockSize,gatherAxis:e.gatherAxis,quantizeAxis:e.quantizeAxis})})),xu=pe((()=>{Nc(),Lc(),Uc(),Hc(),Yo=e=>{if(!e||2!==e.length)throw new Error("GatherElements requires 2 inputs.");if(e[0].dims.length<1)throw new Error("GatherElements requires that the data input be rank >= 1.");if(e[0].dims.length!==e[1].dims.length)throw new Error("GatherElements requires that the data input and\n                     indices input tensors be of same rank.")},Jo=(e,t)=>{let n=e[0].dims,r=e[0].dataType,i=n.length,a=e[1].dims,o=e[1].dataType,s=qt.normalizeAxis(t.axis,i),l=n[s],c=a.slice(0),u=qt.size(c),d=Mn("input",r,i),h=Mn("indicesInput",o,a.length),p=In("output",r,c.length),f=[{type:12,data:u},{type:6,data:l},{type:12,data:s}];return f.push(...Dn(n,a,c)),{name:"GatherElements",shaderCache:{inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:c,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(u/64)},programUniforms:f}),getShaderSource:e=>"\n      ".concat(e.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(d,h,p),"\n      ").concat(e.mainStart(),"\n      ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n\n      let outputIndices = ").concat(p.offsetToIndices("global_idx"),";\n\n      var idx = ").concat(h.getByOffset("global_idx"),";\n      if (idx < 0) {\n        idx = idx + uniforms.axisDimLimit;\n      }\n      var inputIndices = ").concat(d.type.indices,"(outputIndices);\n      ").concat(d.indicesSet("inputIndices","uniforms.axis","u32(idx)"),";\n      let value = ").concat(d.getByIndices("inputIndices"),";\n\n      ").concat(p.setByOffset("global_idx","value"),";\n  }")}},Zo=e=>wn({axis:e.axis}),Xo=(e,t)=>{let n=e.inputs;Yo(n),e.compute(Jo(e.inputs,t))}})),ku=pe((()=>{Nc(),Lc(),Hc(),$o=e=>{if(!e)throw new Error("Input is missing");if(e.length<2||e.length>3)throw new Error("Invaid input number.");if(3===e.length&&e[2].dims.length>2)throw new Error("Invalid input shape of C");if(e[0].dataType!==e[1].dataType||3===e.length&&e[0].dataType!==e[2].dataType)throw new Error("Input types are mismatched")},Qo=(e,t)=>{let n=e[0].dims.slice(),r=e[1].dims.slice(),[i,a,o]=Ht.getShapeOfGemmResult(n,t.transA,r,t.transB,3===e.length?e[2].dims:void 0),s=[i,a];if(!s)throw new Error("Can't use gemm on the given tensors");let l=16,c=Math.ceil(a/l),u=Math.ceil(i/l),d=(qt.size(s),[{type:12,data:c},{type:12,data:i},{type:12,data:a},{type:12,data:o},{type:1,data:t.alpha},{type:1,data:t.beta}]),h=["type","type"];3===e.length&&(d.push(...Dn(e[2].dims)),h.push("rank")),d.push(...Dn(s));return{name:"GemmShared",shaderCache:{hint:"".concat(t.cacheKey),inputDependencies:h},getRunData:()=>({outputs:[{dims:s,dataType:e[0].dataType}],dispatchGroup:{x:c*u},programUniforms:d}),getShaderSource:n=>{let r=Mn("a",e[0].dataType,e[0].dims),i=Mn("b",e[1].dataType,e[1].dims),a=null,o=[r,i];3===e.length&&(a=Mn("c",e[2].dataType,e[2].dims.length),o.push(a));let c=In("output",e[0].dataType,s.length);o.push(c);let u="",d="";t.transA&&t.transB?(d="\n      var col = tile_row_start + local_id.x;\n      var row = k_start + local_id.y;\n      if (col < uniforms.M && row < uniforms.K) {\n        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];\n      } else {\n        tile_a[local_id.y][local_id.x] = ".concat(r.type.value,"(0);\n      }\n\n      col = k_start + local_id.x;\n      row = tile_col_start + local_id.y;\n      if (col < uniforms.K && row < uniforms.N) {\n        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];\n      } else {\n        tile_b[local_id.y][local_id.x] = ").concat(i.type.value,"(0);\n      }\n      "),u="value += tile_a[k][local_id.y] * tile_b[local_id.x][k];"):t.transA&&!t.transB?(d="\n      var col = tile_row_start + local_id.x;\n      var row = k_start + local_id.y;\n      if (col < uniforms.M && row < uniforms.K) {\n        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];\n      } else {\n        tile_a[local_id.y][local_id.x] = ".concat(r.type.value,"(0);\n      }\n\n      col = tile_col_start + local_id.x;\n      row = k_start + local_id.y;\n      if (col < uniforms.N && row < uniforms.K) {\n        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];\n      } else {\n        tile_b[local_id.y][local_id.x] = ").concat(i.type.value,"(0);\n      }\n      "),u="value += tile_a[k][local_id.y] * tile_b[k][local_id.x];"):!t.transA&&t.transB?(d="\n      var col = k_start + local_id.x;\n      var row = tile_row_start + local_id.y;\n      if (col < uniforms.K && row < uniforms.M) {\n        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];\n      } else {\n        tile_a[local_id.y][local_id.x] = ".concat(r.type.value,"(0);\n      }\n\n      col = k_start + local_id.x;\n      row = tile_col_start + local_id.y;\n      if (col < uniforms.K && row < uniforms.N) {\n        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];\n      } else {\n        tile_b[local_id.y][local_id.x] = ").concat(i.type.value,"(0);\n      }\n      "),u="value += tile_a[local_id.y][k] * tile_b[local_id.x][k];"):!t.transA&&!t.transB&&(d="\n      var col = k_start + local_id.x;\n      var row = tile_row_start + local_id.y;\n      if (col < uniforms.K && row < uniforms.M) {\n        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];\n      } else {\n        tile_a[local_id.y][local_id.x] = ".concat(r.type.value,"(0);\n      }\n\n      col = tile_col_start + local_id.x;\n      row = k_start + local_id.y;\n      if (col < uniforms.N && row < uniforms.K) {\n        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];\n      } else {\n        tile_b[local_id.y][local_id.x] = ").concat(i.type.value,"(0);\n      }\n      "),u="value += tile_a[local_id.y][k] * tile_b[k][local_id.x];");let h=1===t.alpha?"":"value *= uniforms.alpha;";return"\n  ".concat(n.registerUniforms([{name:"num_tile_n",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}]).declareVariables(...o),"\n  var<workgroup> tile_a: array<array<").concat(r.type.storage,", ").concat(l,">, ").concat(l,">;\n  var<workgroup> tile_b: array<array<").concat(i.type.storage,", ").concat(l,">, ").concat(l,">;\n  ").concat(n.mainStart([l,l,1]),"\n    let tile_col_start = (workgroup_index % uniforms.num_tile_n) * ").concat(l,";\n    let tile_row_start = (workgroup_index / uniforms.num_tile_n) * ").concat(l,";\n    let num_tiles = (uniforms.K - 1) / ").concat(l," + 1;\n    var k_start = 0u;\n    var value = ").concat(c.type.value,"(0);\n    for (var t: u32 = 0u; t < num_tiles; t++) {\n      ").concat(d,"\n      k_start = k_start + ").concat(l,";\n      workgroupBarrier();\n\n      for (var k: u32 = 0u; k < ").concat(l,"; k++) {\n        ").concat(u,"\n      }\n      workgroupBarrier();\n    }\n\n    ").concat(h,"\n    let m = tile_row_start + local_id.y;\n    let n = tile_col_start + local_id.x;\n    ").concat(null!=a?"let cOffset = ".concat(a.broadcastedIndicesToOffset("vec2(m, n)",c),"; value += ").concat(c.type.value,"(uniforms.beta) * ").concat(a.getByOffset("cOffset"),";"):"","\n    if (m < uniforms.M && n < uniforms.N) {\n      output[m * uniforms.N + n] = value;\n    }\n  }")}}},es=e=>({transA:e.transA,transB:e.transB,alpha:e.alpha,beta:e.beta,cacheKey:"".concat(e.transA,";").concat(e.transB,";").concat(1===e.alpha)}),ts=(e,t)=>{$o(e.inputs),e.compute(Qo(e.inputs,t))}})),Du=pe((()=>{Nc(),Lc(),Uc(),Hc(),[ns,rs,is,as]=[0,1,2,3],os=e=>{if(4!==e[0].dims.length)throw new Error("only 4-D tensor is supported.");if(e[0].dims.length!==e[1].dims.length)throw new Error("input dimensions must be equal to grid dimensions");if(e[0].dims.length-2!==e[1].dims[e[1].dims.length-1])throw new Error("last dimension of grid must be equal to ".concat(e[0].dims.length-2));if(e[0].dims[0]!==e[1].dims[0])throw new Error("grid batch size must match input batch size")},ss=e=>"\n  fn gs_bicubic_interpolate(p: mat4x4<".concat(e,">, x: f32, y: f32) -> ").concat(e," {\n    var v: vec4<f32>;\n    var coeffs = gs_get_cubic_coeffs(x);\n    for (var i = 0; i < 4; i++) {\n      v[i] = coeffs[0] * p[i][0] + coeffs[1] * p[i][1] + coeffs[2] * p[i][2] + coeffs[3] * p[i][3];\n    }\n    coeffs = gs_get_cubic_coeffs(y);\n    let pixel = ").concat(e,"(coeffs[0] * v[0] + coeffs[1] * v[1] + coeffs[2] * v[2] + coeffs[3] * v[3]);\n    return pixel;\n  }\n"),ls=e=>"\n  fn gs_denormalize(n: f32, length: i32) -> f32 {\n    ".concat(0===e.alignCorners?"\n    // alignCorners: false => [-1, 1] to [-0.5, length - 0.5]\n    return ((n + 1.0) * f32(length) - 1.0) / 2.0;\n    ":"\n    // alignCorners: true => [-1, 1] to [0, length - 1]\n    return (n + 1.0) / 2.0 * (f32(length - 1));\n    ","\n  }\n"),cs=e=>"\n  ".concat("reflection"===e.paddingMode?"\n      fn gs_reflect(x: i32, x_min: f32, x_max: f32) -> u32 {\n        var dx = 0.0;\n        var fx = f32(x);\n        let range = x_max - x_min;\n        if (fx < x_min) {\n          dx = x_min - fx;\n          let n = u32(dx / range);\n          let r = dx - f32(n) * range;\n          if (n % 2 == 0) {\n            fx = x_min + r;\n          } else {\n            fx = x_max - r;\n          }\n        } else if (fx > x_max) {\n          dx = fx - x_max;\n          let n = u32(dx / range);\n          let r = dx - f32(n) * range;\n          if (n % 2 == 0) {\n            fx = x_max - r;\n          } else {\n            fx = x_min + r;\n          }\n        }\n        return u32(fx);\n      }":"","\n"),us=(e,t,n)=>"\n  fn pixel_at_grid(r: i32, c: i32, H: i32, W: i32, batch: u32, channel: u32, border: vec4<f32>) -> ".concat(t," {\n     var pixel = ").concat(t,"(0);\n     var indices = vec4<u32>(0);\n     indices[").concat(ns,"] = batch;\n     indices[").concat(rs,"] = channel;")+(()=>{switch(n.paddingMode){case"zeros":return"\n          if (r >= 0 && r < H && c >=0 && c < W) {\n            indices[".concat(is,"] = u32(r);\n            indices[").concat(as,"] = u32(c);\n          } else {\n            return ").concat(t,"(0);\n          }\n        ");case"border":return"\n          indices[".concat(is,"] = u32(clamp(r, 0, H - 1));\n          indices[").concat(as,"] = u32(clamp(c, 0, W - 1));\n        ");case"reflection":return"\n          indices[".concat(is,"] = gs_reflect(r, border[1], border[3]);\n          indices[").concat(as,"] = gs_reflect(c, border[0], border[2]);\n        ");default:throw new Error("padding mode ".concat(n.paddingMode," is not supported"))}})()+"\n    return ".concat(e.getByIndices("indices"),";\n  }\n"),ds=(e,t,n)=>(()=>{switch(n.mode){case"nearest":return"\n          let result = pixel_at_grid(i32(round(y)), i32(round(x)), H_in, W_in, indices[".concat(ns,"], indices[").concat(rs,"], border);\n        ");case"bilinear":return"\n          let x1 = i32(floor(x));\n          let y1 = i32(floor(y));\n          let x2 = x1 + 1;\n          let y2 = y1 + 1;\n\n          let p11 = pixel_at_grid(y1, x1, H_in, W_in, indices[".concat(ns,"], indices[").concat(rs,"], border);\n          let p12 = pixel_at_grid(y1, x2, H_in, W_in, indices[").concat(ns,"], indices[").concat(rs,"], border);\n          let p21 = pixel_at_grid(y2, x1, H_in, W_in, indices[").concat(ns,"], indices[").concat(rs,"], border);\n          let p22 = pixel_at_grid(y2, x2, H_in, W_in, indices[").concat(ns,"], indices[").concat(rs,"], border);\n\n          let dx2 = ").concat(t,"(f32(x2) - x);\n          let dx1 = ").concat(t,"(x - f32(x1));\n          let dy2 = ").concat(t,"(f32(y2) - y);\n          let dy1 = ").concat(t,"(y - f32(y1));\n          let result = dy2 * (dx2 * p11 + dx1 * p12) + dy1 * (dx2 * p21 + dx1 * p22);\n        ");case"bicubic":return"\n          let x0 = i32(floor(x)) - 1;\n          let y0 = i32(floor(y)) - 1;\n          var p: mat4x4<".concat(t,">;\n          for (var h = 0; h < 4; h++) {\n            for (var w = 0; w < 4; w++) {\n              p[h][w] = pixel_at_grid(h + y0, w + x0, H_in, W_in, indices[").concat(ns,"], indices[").concat(rs,"], border);\n            }\n          }\n\n          let dx = x - f32(x0 + 1);\n          let dy = y - f32(y0 + 1);\n          let result = gs_bicubic_interpolate(p, dx, dy);\n        ");default:throw new Error("mode ".concat(n.mode," is not supported"))}})()+"".concat(e.setByOffset("global_idx","result")),hs=(e,t)=>{let n=Mn("x",e[0].dataType,e[0].dims.length),r=[e[1].dims[0],e[1].dims[1],e[1].dims[2]],i=Mn("grid",e[1].dataType,r.length,2),a=[e[0].dims[0],e[0].dims[1],e[1].dims[1],e[1].dims[2]];"NHWC"===t.format&&(a=[e[0].dims[0],e[1].dims[1],e[1].dims[2],e[0].dims[3]],[ns,rs,is,as]=[0,3,1,2]);let o=In("output",e[0].dataType,a.length),s=n.type.value,l=[{type:12,data:qt.size(a)},...Dn(e[0].dims,r,a)];return{name:"GridSample",shaderCache:{hint:"".concat(t.cacheKey),inputDependencies:["type","type"]},getRunData:e=>{let t=qt.size(a);return{outputs:[{dims:a,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(t/64)},programUniforms:l}},getShaderSource:e=>"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(n,i,o),"\n  ").concat("\n  fn gs_get_cubic_coeffs(x: f32) -> vec4<f32> {\n    let cubic_alpha = -0.75f;\n    let x_abs = abs(x);\n    var coeffs: vec4<f32>;\n    coeffs[0] = (((cubic_alpha * (x_abs + 1) - 5 * cubic_alpha) * (x_abs + 1) + 8 * cubic_alpha) * (x_abs + 1) - 4 * cubic_alpha);\n    coeffs[1] = (((cubic_alpha + 2) * x_abs - (cubic_alpha + 3)) * x_abs * x_abs + 1);\n    coeffs[2] = (((cubic_alpha + 2) * (1 - x_abs) - (cubic_alpha + 3)) * (1 - x_abs) * (1 - x_abs) + 1);\n    coeffs[3] = (((cubic_alpha * (2 - x_abs) - 5 * cubic_alpha) * (2 - x_abs) + 8 * cubic_alpha) * (2 - x_abs) - 4 * cubic_alpha);\n    return coeffs;\n  }\n","\n  ").concat(ss(s),"\n  ").concat(ls(t),"\n  ").concat(cs(t),"\n  ").concat(us(n,s,t),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n      let H_in = i32(uniforms.x_shape[").concat(is,"]);\n      let W_in = i32(uniforms.x_shape[").concat(as,"]);\n\n      ").concat(0===t.alignCorners?"\n      let x_min = -0.5;\n      let x_max = f32(W_in) - 0.5;\n      let y_min = -0.5;\n      let y_max = f32(H_in) - 0.5;\n      ":"\n      let x_min = 0.0;\n      let x_max = f32(W_in) - 1.0;\n      let y_min = 0.0;\n      let y_max = f32(H_in) - 1.0;\n      ",";\n      let border = vec4<f32>(x_min, y_min, x_max, y_max);\n\n      let indices = ").concat(o.offsetToIndices("global_idx"),";\n      var grid_indices = vec3<u32>(indices[").concat(ns,"], indices[").concat(is,"], indices[").concat(as,"]);\n      let nxy = ").concat(i.getByIndices("grid_indices"),";\n      var x = gs_denormalize(f32(nxy[0]), W_in);\n      var y = gs_denormalize(f32(nxy[1]), H_in);\n\n      ").concat(ds(o,s,t),"\n  }")}},ps=(e,t)=>{os(e.inputs),e.compute(hs(e.inputs,t))},fs=e=>wn({alignCorners:e.align_corners,mode:e.mode,paddingMode:e.padding_mode,format:e.format})})),Tu=pe((()=>{Nc(),Lc(),Uc(),Wc(),Zc(),Hc(),Gc(),ms=(e,t)=>e.length>t&&e[t].dims.length>0?e[t]:void 0,gs=(e,t)=>{let n=e[0],r=ms(e,1),i=ms(e,2),a=ms(e,3),o=ms(e,4),s=ms(e,5),l=ms(e,6),c=ms(e,7);if(3!==n.dims.length&&5!==n.dims.length)throw new Error("Input query is expected to have 3 or 5 dimensions");let u,d=n.dims[0],h=n.dims[1],p=3===n.dims.length?n.dims[2]:t.numHeads*n.dims[4],f=h,m=0,g=0,y=Math.floor(p/t.numHeads);if(l&&c&&qt.size(l.dims)&&qt.size(c.dims)){if(4!==l.dims.length)throw new Error('Input "past_key" is expected to have 4 dimensions');if(l.dims[0]!==d||l.dims[1]!==t.numHeads||l.dims[3]!==y)throw new Error('Input "past_key" shape (batch_size, num_heads, past_sequence_length, head_size)');if(c.dims[0]!==d||c.dims[1]!==t.numHeads||c.dims[3]!==y)throw new Error('Input "past_value" shape (batch_size, num_heads, past_sequence_length, head_size)');if(l.dims[2]!==c.dims[2])throw new Error('Input "past_key" and "past_value" shall have same dim 2 (past_sequence_length)');if(4!==c.dims.length)throw new Error('Input "past_value" is expected to have 4 dimensions');m=l.dims[2],g=l.dims[2]}else if(l&&qt.size(l.dims)||c&&qt.size(c.dims))throw new Error('Input "past_key" and "past_value" shall be both present or both absent');if(r&&qt.size(r.dims)>0){if(3!==n.dims.length)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(r.dims.length<3||r.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(n.dims[0]!==r.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(3===r.dims.length){if(r.dims[2]!==n.dims[2])throw new Error('Input "query" and "key" shall have same dim 2 (hidden_size)');u=2,f=r.dims[1]}else if(5===r.dims.length){if(r.dims[2]!==t.numHeads||2!==r.dims[3]||r.dims[4]!==y)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(i)throw new Error('Expect "value" be none when "key" has packed kv format.');u=5,f=r.dims[1]}else{if(r.dims[1]!==t.numHeads||r.dims[3]!==y)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');u=0,f=r.dims[2]}}else{if(5!==n.dims.length)throw new Error('Input "query" is expected to have 5 dimensions when key is empty');if(n.dims[2]!==t.numHeads||3!==n.dims[3])throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');u=3}if(a&&qt.size(a.dims)>0){if(1!==a.dims.length)throw new Error('Input "bias" is expected to have 1 dimension');if(r&&5===r.dims.length&&2===r.dims[3])throw new Error("bias is not allowed for packed kv.")}let b=m+f,w=0;if(o&&qt.size(o.dims)>0){w=8;let e=o.dims;throw 1===e.length?e[0]===d?w=1:e[0]===3*d+2&&(w=3):2===e.length&&e[0]===d&&e[1]===b&&(w=5),8===w?new Error('Input "key_padding_mask" shape shall be (batch_size) or (batch_size, total_sequence_length)'):new Error("Mask not supported")}let v=!1,_=p;if(i&&qt.size(i.dims)>0){if(3!==i.dims.length&&4!==i.dims.length)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(n.dims[0]!==i.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(3===i.dims.length){if(f!==i.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');_=i.dims[2]}else{if(f!==i.dims[2])throw new Error('Input "key" and "value" shall have the same dim 2 (kv_sequence_length)');_=i.dims[1]*i.dims[3],v=!0}}if(o&&qt.size(o.dims)>0)throw new Error("Key padding mask is not supported");if(s&&qt.size(s.dims)>0){if(4!==s.dims.length)throw new Error('Input "attention_bias" is expected to have 4 dimensions');if(s.dims[0]!==d||s.dims[1]!==t.numHeads||s.dims[2]!==h||s.dims[3]!==b)throw new Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:d,sequenceLength:h,pastSequenceLength:m,kvSequenceLength:f,totalSequenceLength:b,maxSequenceLength:g,inputHiddenSize:0,hiddenSize:p,vHiddenSize:_,headSize:y,vHeadSize:Math.floor(_/t.numHeads),numHeads:t.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:t.maskFilterValue,maskType:w,scale:t.scale,broadcastResPosBias:!1,passPastInKv:v,qkvFormat:u}},ys=e=>wn(u({},e)),bs=wn({perm:[0,2,1,3]}),ws=(e,t,n,r,i,a,o)=>{let s=[r,i,a],l=qt.size(s),c=[{type:12,data:l},{type:12,data:o},{type:12,data:a}];return e.compute({name:"MultiHeadAttentionAddBias",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:s,dataType:t.dataType,gpuDataType:0}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:c}),getShaderSource:e=>{let r=In("qkv_with_bias",t.dataType,s),i=Mn("qkv",t.dataType,s),a=Mn("bias",n.dataType,s);return"\n  ".concat(e.registerUniforms([{name:"output_size",type:"u32"},{name:"bias_offset",type:"u32"},{name:"hidden_size",type:"u32"}]).declareVariables(i,a,r),"\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let bias_offset_idx = (global_idx % uniforms.hidden_size) + uniforms.bias_offset;\n\n    qkv_with_bias[global_idx] = qkv[global_idx] + bias[bias_offset_idx];\n  }")}},{inputs:[t,n],outputs:[-1]})[0]},vs=(e,t,n,r,i,a,o,s)=>{let l=a;if(o&&qt.size(o.dims)>0){if(1===r)throw new Error("AddBiasReshape is not implemented. Please export your model with packed QKV or KV");return l=ws(e,a,o,t,r,n*i,s),l=l.reshape([t,r,n,i]),1===n||1===r?l:e.compute(qn(l,bs.perm),{inputs:[l],outputs:[-1]})[0]}return 3===a.dims.length&&(l=a.reshape([t,r,n,i])),1===n||1===r?l:e.compute(qn(l,bs.perm),{inputs:[l],outputs:[-1]})[0]},_s=(e,t)=>{let n=gs(e.inputs,t),r=e.inputs[0],i=ms(e.inputs,1),a=ms(e.inputs,2),o=ms(e.inputs,3),s=ms(e.inputs,4),l=ms(e.inputs,5),c=ms(e.inputs,6),u=ms(e.inputs,7);if(5===r.dims.length)throw new Error("Packed QKV is not implemented");if(5===(null===i||void 0===i?void 0:i.dims.length))throw new Error("Packed KV is not implemented");let d=i&&a&&4===i.dims.length&&4===a.dims.length,h=vs(e,n.batchSize,n.numHeads,n.sequenceLength,n.headSize,r,o,0);if(d)return Yr(e,h,i,a,s,void 0,c,u,l,n);if(!i||!a)throw new Error("key and value must be provided");let p=vs(e,n.batchSize,n.numHeads,n.kvSequenceLength,n.headSize,i,o,n.hiddenSize),f=vs(e,n.batchSize,n.numHeads,n.kvSequenceLength,n.vHeadSize,a,o,2*n.hiddenSize);Yr(e,h,p,f,s,void 0,c,u,l,n)}})),Au=pe((()=>{Nc(),Lc(),Uc(),Hc(),xs=e=>{if(!e||e.length<1)throw new Error("too few inputs")},ks=(e,t)=>{let n=[],r=t.numOutputs;return e[1].dims[0]>0&&(e[1].getBigInt64Array().forEach((e=>n.push(Number(e)))),r=n.length),wn({numOutputs:r,axis:t.axis,splitSizes:n})},Ds=e=>"\nfn calculateOutputIndex(index: u32) -> u32 {\n    for (var i: u32 = 0u; i < ".concat(e,"u; i += 1u ) {\n    if (index < ").concat(En("uniforms.size_in_split_axis","i",e),") {\n        return i;\n    }\n    }\n    return ").concat(e,"u;\n}"),Ts=e=>{let t=e.length,n=[];for(let r=0;r<t;++r){let i=e[r].setByIndices("indices","input[global_idx]");1===t?n.push(i):0===r?n.push("if (output_number == ".concat(r,"u) { ").concat(i," }")):r===t-1?n.push("else { ".concat(i," }")):n.push("else if (output_number == ".concat(r,") { ").concat(i," }"))}return"\n      fn writeBufferData(output_number: u32, indices: ".concat(e[0].type.indices,", global_idx: u32) {\n        ").concat(n.join("\n"),"\n      }")},As=(e,t)=>{let n=e[0].dims,r=qt.size(n),i=e[0].dataType,a=qt.normalizeAxis(t.axis,n.length),o=new Array(t.numOutputs),s=Mn("input",i,n.length),l=new Array(t.numOutputs),c=[],u=[],d=0,h=[{type:12,data:r}];for(let p=0;p<t.numOutputs;p++){d+=t.splitSizes[p],l[p]=d;let r=n.slice();r[a]=t.splitSizes[p],u.push(r),o[p]=In("output".concat(p),i,r.length),c.push({dims:u[p],dataType:e[0].dataType})}h.push({type:12,data:l},...Dn(n,...u));return{name:"Split",shaderCache:{hint:t.cacheKey,inputDependencies:["rank"]},getShaderSource:e=>"\n  ".concat(e.registerUniform("input_size","u32").registerUniform("size_in_split_axis","u32",l.length).declareVariables(s,...o),"\n  ").concat(Ds(l.length),"\n  ").concat(Ts(o),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.input_size"),"\n\n    var indices = ").concat(s.offsetToIndices("global_idx"),";\n    var index = ").concat(s.indicesGet("indices",a),";\n    let output_number = calculateOutputIndex(index);\n    if (output_number != 0) {\n      index -= ").concat(En("uniforms.size_in_split_axis","output_number - 1u",l.length),";\n      ").concat(s.indicesSet("indices",a,"index"),";\n    }\n    writeBufferData(output_number, indices, global_idx);\n  }"),getRunData:()=>({outputs:c,dispatchGroup:{x:Math.ceil(r/64)},programUniforms:h})}},Ss=(e,t)=>{xs(e.inputs);let n=1===e.inputs.length?t:ks(e.inputs,t);e.compute(As(e.inputs,n),{inputs:[0]})},Cs=e=>{let t=e.axis,n=e.splitSizes,r=e.numOutputs<0?n.length:e.numOutputs;if(r!==n.length)throw new Error("numOutputs and splitSizes lengh must be equal");return wn({axis:t,numOutputs:r,splitSizes:n})}})),Su=pe((()=>{Nc(),Lc(),Uc(),Hc(),Es=(e,t)=>{let[n,r,i,a]=e,{numHeads:o,rotaryEmbeddingDim:s}=t;if(3!==n.dims.length&&4!==n.dims.length)throw new Error("Input 'x' is expected to have 3 or 4 dimensions, got ".concat(n.dims.length));if(!qt.areEqual(r.dims,[])&&!qt.areEqual(r.dims,[1])&&2!==r.dims.length)throw new Error("Input 'position_ids' is expected to have 0, 1, or 2 dimensions, got ".concat(r.dims.length));if(2!==i.dims.length)throw new Error("Input 'cos_cache' is expected to have 2 dimensions, got ".concat(i.dims.length));if(2!==a.dims.length)throw new Error("Input 'sin_cache' is expected to have 2 dimensions, got ".concat(a.dims.length));if(!qt.areEqual(i.dims,a.dims))throw new Error("Inputs 'cos_cache' and 'sin_cache' are expected to have the same shape");if(s>0&&0===o)throw new Error("num_heads must be provided if rotary_embedding_dim is specified");let l=n.dims[0],c=n.dims[n.dims.length-2],u=i.dims[0],d=qt.sizeFromDimension(n.dims,1)/c,h=0===s?2*i.dims[1]:d/o;if(s>h)throw new Error("rotary_embedding_dim must be less than or equal to head_size");if(2===r.dims.length){if(l!==r.dims[0])throw new Error("Input 'position_ids' dimension 0 should be of size batch_size, got ".concat(r.dims[0]));if(c!==r.dims[1])throw new Error("Input 'position_ids' dimension 1 should be of size sequence_length, got ".concat(r.dims[1]))}if(h/2!==i.dims[1]&&s/2!==i.dims[1])throw new Error("Input 'cos_cache' dimension 1 should be same as head_size / 2 or rotary_embedding_dim / 2, got ".concat(i.dims[1]));if(c>u)throw new Error("Updating cos_cache and sin_cache in RotaryEmbedding is not currently supported")},Fs=(e,t)=>{let{interleaved:n,numHeads:r,rotaryEmbeddingDim:i,scale:a}=t,o=e[0].dims[0],s=qt.sizeFromDimension(e[0].dims,1),l=e[0].dims[e[0].dims.length-2],c=s/l,u=e[2].dims[1],d=0===i?2*u:c/r,h=new Array(o,l,c/d,d-u),p=qt.computeStrides(h),f=[{type:1,data:a},{type:12,data:h},{type:12,data:p},...3===e[0].dims.length?new Array({type:12,data:[s,c,d,1]}):[],...4===e[0].dims.length?new Array({type:12,data:[s,d,l*d,1]}):[],...Dn(e[0].dims,e[1].dims,e[2].dims,e[3].dims,e[0].dims)];return{name:"RotaryEmbedding",shaderCache:{hint:wn({interleaved:n}).cacheKey,inputDependencies:["rank","rank","rank","rank"]},getShaderSource:t=>{let r=Mn("input",e[0].dataType,e[0].dims.length),i=Mn("position_ids",e[1].dataType,e[1].dims.length),a=Mn("cos_cache",e[2].dataType,e[2].dims.length),o=Mn("sin_cache",e[3].dataType,e[3].dims.length),s=In("output",e[0].dataType,e[0].dims.length);return t.registerUniforms([{name:"scale",type:"f32"},{name:"global_shape",type:"u32",length:h.length},{name:"global_strides",type:"u32",length:p.length},{name:"input_output_strides",type:"u32",length:p.length}]),"\n        ".concat(t.declareVariables(r,i,a,o,s),"\n\n        ").concat(t.mainStart(vn),"\n          let half_rotary_emb_dim = uniforms.").concat(a.name,"_shape[1];\n          let bsnh = global_idx / uniforms.global_strides % uniforms.global_shape;\n          let size = uniforms.global_shape[0] * uniforms.global_strides[0];\n          ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("size"),"\n\n          if (bsnh[3] < half_rotary_emb_dim) {\n            let position_ids_idx =\n                ").concat(i.broadcastedIndicesToOffset("bsnh.xy",In("",i.type.tensor,2)),";\n            let position_id =\n                u32(").concat(i.getByOffset("position_ids_idx"),") + select(0, bsnh[1], position_ids_idx == 0);\n            let i = dot(bsnh, uniforms.input_output_strides) + select(0, bsnh[3], ").concat(n,");\n            let j = i + select(half_rotary_emb_dim, 1, ").concat(n,");\n            let re = ").concat(r.getByOffset("i")," * ").concat(a.get("position_id","bsnh[3]")," -\n                ").concat(r.getByOffset("j")," * ").concat(o.get("position_id","bsnh[3]"),";\n            ").concat(s.setByOffset("i","re"),"\n            let im = ").concat(r.getByOffset("i")," * ").concat(o.get("position_id","bsnh[3]")," +\n                ").concat(r.getByOffset("j")," * ").concat(a.get("position_id","bsnh[3]"),";\n            ").concat(s.setByOffset("j","im"),"\n          } else {\n            let k = dot(bsnh, uniforms.input_output_strides) + half_rotary_emb_dim;\n            ").concat(s.setByOffset("k",r.getByOffset("k")),"\n          }\n        }")},getRunData:()=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(qt.size(h)/vn)},programUniforms:f})}},Ms=(e,t)=>{Es(e.inputs,t),e.compute(Fs(e.inputs,t))}})),Cu=pe((()=>{Uc(),Nc(),Zc(),Tu(),Au(),Gc(),Su(),Hc(),Is=(e,t)=>{if(t.doRotary&&e.length<=7)throw new Error("cos_cache and sin_cache inputs are required if do_rotary is specified");let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4];if(0!==t.doRotary&&e.length<=7)throw new Error("cos_cast and sin_cache are expected if do_rotary attribute is non-zero");if(-1!==t.localWindowSize)throw new Error("Local attention is not supported");if(0!==t.softcap)throw new Error("Softcap is not supported");if(0!==t.rotaryInterleaved)throw new Error("Rotary interleaved is not supported");if(t.smoothSoftmax)throw new Error("Smooth softmax is not supported");if(3!==n.dims.length&&5!==n.dims.length)throw new Error("Input query is expected to have 3 or 5 dimensions");let s=n.dims[0],l=n.dims[1],c=3===n.dims.length?n.dims[2]:t.numHeads*n.dims[4],u=l,d=0,h=!r||0===r.dims.length,p=Math.floor(h?c/(t.numHeads+2*t.kvNumHeads):c/t.numHeads);h&&(c=p*t.numHeads);let f=a&&0!==a.dims.length,m=o&&0!==o.dims.length;if(f&&4===a.dims.length&&a.dims[0]===s&&a.dims[1]!==t.kvNumHeads&&a.dims[2]===t.kvNumHeads&&a.dims[3]===p)throw new Error("BSNH pastKey/pastValue is not supported");if(f&&m){if(4!==a.dims.length)throw new Error('Input "past_key" is expected to have 4 dimensions');if(4!==o.dims.length)throw new Error('Input "past_value" is expected to have 4 dimensions');d=a.dims[2]}else if(f||m)throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let g=1;if(r&&r.dims.length>0){if(3!==n.dims.length)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(r.dims.length<3||r.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(n.dims[0]!==r.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(3===r.dims.length){if(n.dims[2]%r.dims[2]!==0)throw new Error('Dimension 2 of "query" should be a multiple of "key"');u=r.dims[1]}else if(5===r.dims.length){if(r.dims[2]!==t.numHeads||2!==r.dims[3]||r.dims[4]!==p)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(i)throw new Error('Expect "value" be none when "key" has packed kv format.');u=r.dims[1]}else{if(r.dims[1]!==t.numHeads||r.dims[3]!==p)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');u=r.dims[2]}}else{if(3!==n.dims.length&&5!==n.dims.length)throw new Error('Input "query" is expected to have 3 or 5 dimensions when key is empty');if(5===n.dims.length&&(n.dims[2]!==t.numHeads||3!==n.dims[3]))throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');g=3}let y=!1,b=t.kvNumHeads?p*t.kvNumHeads:c;if(i&&i.dims.length>0){if(3!==i.dims.length&&4!==i.dims.length)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(n.dims[0]!==i.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(3===i.dims.length){if(u!==i.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');b=i.dims[2]}else{if(u!==i.dims[2])throw new Error('Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)');b=i.dims[1]*i.dims[3],y=!0}}let w=e.length>4?e[5]:void 0;if(w&&1!==w.dims.length&&w.dims[0]!==s)throw new Error('Input "seqlens" is expected to have 1 dimension and the same dim 0 as batch_size');return{batchSize:s,sequenceLength:l,pastSequenceLength:d,kvSequenceLength:u,totalSequenceLength:-1,maxSequenceLength:-1,inputHiddenSize:0,hiddenSize:c,vHiddenSize:b,headSize:p,vHeadSize:Math.floor(b/t.kvNumHeads),numHeads:t.numHeads,kvNumHeads:t.kvNumHeads,nReps:t.numHeads/t.kvNumHeads,pastPresentShareBuffer:!1,maskType:0,scale:t.scale,broadcastResPosBias:!1,passPastInKv:y,qkvFormat:g}},Ps=wn({perm:[0,2,1,3]}),zs=(e,t,n)=>{let r=t,i=n.kvNumHeads;return 3===t.dims.length&&0!==n.kvSequenceLength&&(r=t.reshape([n.batchSize,n.kvSequenceLength,i,n.headSize]),r=e.compute(qn(r,Ps.perm),{inputs:[r],outputs:[-1]})[0]),r},Ns=(e,t,n,r)=>{let i=[e*t],a=e*t,o=[{type:12,data:a},{type:12,data:t},{type:12,data:e}];return{name:"GeneratePositionIds",shaderCache:{hint:"".concat(e,";").concat(t),inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:i,dataType:7}],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:o}),getShaderSource:e=>{let t=Mn("seq_lens",n.dataType,n.dims),a=Mn("total_seq_lens",r.dataType,r.dims),o=In("pos_ids",7,i);return"\n  ".concat(e.registerUniforms([{name:"output_size",type:"u32"},{name:"sequence_length",type:"u32"},{name:"batch_size",type:"u32"}]).declareVariables(t,a,o),"\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let total_sequence_length = u32(").concat(a.getByOffset("0"),");\n    let is_subsequent_prompt = uniforms.sequence_length > 1 && uniforms.sequence_length != total_sequence_length;\n    let is_first_prompt = !is_subsequent_prompt && uniforms.sequence_length == total_sequence_length;\n    let batch_idx = global_idx / uniforms.sequence_length;\n    let sequence_idx = i32(global_idx % uniforms.sequence_length);\n    var pos_id: i32 = 0;\n    let seqlen = ").concat(t.getByOffset("batch_idx"),";\n    let total_seqlen = seqlen + 1;\n    if (is_first_prompt) {\n      if (sequence_idx < total_seqlen) {\n        pos_id = sequence_idx;\n      } else {\n        pos_id = 1;\n      }\n      ").concat(o.setByOffset("global_idx","pos_id"),"\n    } else if (is_subsequent_prompt) {\n      let past_seqlen = total_seqlen - i32(uniforms.sequence_length);\n      if (past_seqlen + sequence_idx < total_seqlen) {\n        pos_id = past_seqlen + sequence_idx;\n      } else {\n        pos_id = 1;\n      }\n      ").concat(o.setByOffset("global_idx","pos_id"),"\n    } else if (global_idx < uniforms.batch_size) {\n      ").concat(o.setByOffset("global_idx","seqlen"),"\n    };\n  }\n  ")}}},Os=(e,t)=>{var n;let r=Is(e.inputs,t);if(5===e.inputs[0].dims.length)throw new Error("Packed QKV is not implemented");if(5===(null===(n=e.inputs[1])||void 0===n?void 0:n.dims.length))throw new Error("Packed KV is not implemented");let i,a,o=e.inputs[0],s=e.inputs[1]&&e.inputs[1].dims.length>0?e.inputs[1]:void 0,l=e.inputs[2]&&e.inputs[2].dims.length>0?e.inputs[2]:void 0,c=e.inputs[3]&&0!==e.inputs[3].dims.length?e.inputs[3]:void 0,u=e.inputs[4]&&0!==e.inputs[4].dims.length?e.inputs[4]:void 0,d=e.inputs.length>4?e.inputs[5]:void 0,h=e.inputs.length>5?e.inputs[6]:void 0,p=r.kvNumHeads?r.kvNumHeads:r.numHeads,f=wn({axis:2,numOutputs:3,splitSizes:[r.numHeads*r.headSize,p*r.headSize,p*r.headSize]}),[m,g,y]=s||l?[o,s,l]:e.compute(As([o],f),{inputs:[o],outputs:[-1,-1,-1]});if(t.doRotary){let n=e.compute(Ns(r.batchSize,r.sequenceLength,d,h),{inputs:[d,h],outputs:[-1]})[0],o=e.inputs[7],s=e.inputs[8],l=wn({interleaved:0!==t.rotaryInterleaved,numHeads:r.numHeads,rotaryEmbeddingDim:0,scale:t.scale}),c=[m,n,o,s],u=[-1];i=e.compute(Fs(c,l),{inputs:c,outputs:u})[0],c.splice(0,1,g);let p=wn({interleaved:0!==t.rotaryInterleaved,numHeads:r.kvNumHeads,rotaryEmbeddingDim:0,scale:t.scale});a=e.compute(Fs(c,p),{inputs:c,outputs:u})[0]}let b=vs(e,r.batchSize,r.numHeads,r.sequenceLength,r.headSize,t.doRotary?i:m,void 0,0),w=zs(e,t.doRotary?a:g,r),v=zs(e,y,r);Yr(e,b,w,v,void 0,void 0,c,u,void 0,r,d,h)}})),Eu=pe((()=>{Nc(),Lc(),Gc(),Hc(),Bs=(e,t,n,r,i,a,o,s)=>{let l=Tn(a),c=1===l?"f32":"vec".concat(l,"f"),u=1===l?"vec2f":"mat2x".concat(l,"f"),d=i*o,h=64;1===d&&(h=256);let p=[i,o,a/l],f=[i,o,2],m=[];m.push(...Dn(p,f));return e.compute({name:"InstanceNormComputeChannelScaleShift",shaderCache:{hint:"".concat(l,";").concat(s,";").concat(h),inputDependencies:["rank","type","type"]},getRunData:()=>({outputs:[{dims:f,dataType:1}],dispatchGroup:{x:d},programUniforms:m}),getShaderSource:e=>{let i=Mn("x",t.dataType,3,l),a=[i,Mn("scale",n.dataType,n.dims),Mn("bias",r.dataType,r.dims),In("output",1,3,2)];return"\n  var<workgroup> workgroup_shared : array<".concat(u,", ").concat(h,">;\n  const workgroup_size = ").concat(h,"u;\n  ").concat(e.declareVariables(...a),"\n  ").concat(e.mainStart(h),"\n    let batch = workgroup_index / uniforms.x_shape[1];\n    let channel = workgroup_index % uniforms.x_shape[1];\n    let hight = uniforms.x_shape[2];\n    // initialize workgroup memory\n    var sum = ").concat(c,"(0);\n    var squared_sum = ").concat(c,"(0);\n    for (var h = local_idx; h < hight; h += workgroup_size) {\n      let value = ").concat(c,"(").concat(i.get("batch","channel","h"),");\n      sum += value;\n      squared_sum += value * value;\n    }\n    workgroup_shared[local_idx] = ").concat(u,"(sum, squared_sum);\n    workgroupBarrier();\n\n    for (var currSize = workgroup_size >> 1;  currSize > 0; currSize = currSize >> 1) {\n      if (local_idx < currSize) {\n        workgroup_shared[local_idx] = workgroup_shared[local_idx] + workgroup_shared[local_idx + currSize];\n      }\n      workgroupBarrier();\n    }\n    if (local_idx == 0) {\n      let sum_final = ").concat(Cn("workgroup_shared[0][0]",l)," / f32(hight * ").concat(l,");\n      let squared_sum_final = ").concat(Cn("workgroup_shared[0][1]",l)," / f32(hight * ").concat(l,");\n\n      let inv_std_dev = inverseSqrt(squared_sum_final - sum_final * sum_final + f32(").concat(s,"));\n      let channel_scale = inv_std_dev * f32(scale[channel]);\n      let channel_shift = f32(bias[channel]) - sum_final * channel_scale;\n      output[workgroup_index] = vec2f(channel_scale, channel_shift);\n    }\n  }")}},{inputs:[t,n,r],outputs:[-1]})[0]},Ls=(e,t,n)=>{let r=t[0].dims,i=r,a=r[0],o=r[1],s=qt.sizeFromDimension(r,2),l=Tn(s),c=qt.size(i)/l,u=Bs(e,t[0],t[1],t[2],a,s,o,n.epsilon),d=[a,o,s/l],h=[a,o];e.compute({name:"InstanceNormalization",shaderCache:{hint:"".concat(l),inputDependencies:["type","none"]},getRunData:()=>({outputs:[{dims:i,dataType:t[0].dataType}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:[{type:12,data:c},...Dn(d,h,d)]}),getShaderSource:e=>{let n=Mn("x",t[0].dataType,d.length,l),r=Mn("scale_shift",1,h.length,2),i=In("output",t[0].dataType,d.length,l),a=[n,r,i];return"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(...a),"\n  ").concat(e.mainStart(),"\n  ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n      let outputIndices = ").concat(i.offsetToIndices("global_idx"),";\n      let batch = outputIndices[0];\n      let channel = outputIndices[1];\n      let scale_shift = ").concat(r.getByIndices("vec2<u32>(batch, channel)"),";\n      let value = ").concat(n.getByOffset("global_idx")," * ").concat(i.type.value,"(scale_shift.x) + ").concat(i.type.value,"(scale_shift.y);\n      ").concat(i.setByOffset("global_idx","value"),";\n  }")}},{inputs:[t[0],u]})},Rs=(e,t,n)=>{let r=t[0].dims,i=r,a=r[0],o=r[r.length-1],s=qt.sizeFromDimension(r,1)/o,l=Tn(o),c=qt.size(i)/l,u=[{type:12,data:s},{type:12,data:Math.floor(o/l)}],d=!1,h=[0,r.length-1];for(let m=0;m<r.length-2;m++)d=d||1!==r[m+1],h.push(m+1);d=d&&1!==r[r.length-1];let p=d?e.compute(qn(e.inputs[0],h),{inputs:[e.inputs[0]],outputs:[-1]})[0]:e.inputs[0].reshape(Array.from({length:r.length},((e,t)=>r[h[t]]))),f=Bs(e,p,t[1],t[2],a,s,o,n.epsilon);e.compute({name:"InstanceNormalizationNHWC",shaderCache:{hint:"".concat(l),inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:i,dataType:t[0].dataType}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:u}),getShaderSource:e=>{let n=xn(t[0].dataType),r=1===l?"vec2f":"mat".concat(l,"x2f"),a=e=>{let t=0===e?"x":"y",r=1===l?"f32":"vec".concat(l,"f");switch(l){case 1:return"".concat(n,"(").concat(r,"(scale.").concat(t,"))");case 2:return"vec2<".concat(n,">(").concat(r,"(scale[0].").concat(t,", scale[1].").concat(t,"))");case 4:return"vec4<".concat(n,">(").concat(r,"(scale[0].").concat(t,", scale[1].").concat(t,", scale[2].").concat(t,", scale[3].").concat(t,"))");default:throw new Error("Not supported compoents ".concat(l))}},o=Mn("input",t[0].dataType,t[0].dims,l),s=In("output",t[0].dataType,i,l);return"\n  @group(0) @binding(0) var<storage, read> input : array<".concat(o.type.storage,">;\n  @group(0) @binding(1) var<storage, read> scale_input : array<").concat(r,">;\n  @group(0) @binding(2) var<storage, read_write> output : array<").concat(s.type.storage,">;\n  struct Uniforms {H: u32, C : u32};\n  @group(0) @binding(3) var<uniform> uniforms: Uniforms;\n\n  ").concat(e.mainStart(),"\n    let current_image_number = global_idx / (uniforms.C * uniforms.H);\n    let current_channel_number = global_idx % uniforms.C;\n\n    let scale_offset = current_image_number * uniforms.C + current_channel_number;\n    let scale = scale_input[scale_offset];\n    output[global_idx] = fma(input[global_idx], ").concat(a(0),", ").concat(a(1),");\n  }")}},{inputs:[t[0],f]})},js=(e,t)=>{"NHWC"===t.format?Rs(e,e.inputs,t):Ls(e,e.inputs,t)}})),Fu=pe((()=>{Nc(),Lc(),Hc(),Vs=e=>{if(!e||e.length<2)throw new Error("layerNorm requires at least 2 inputs.")},Ws=(e,t,n)=>{let r=t.simplified,i=e[0].dims,a=e[1],o=!r&&e[2],s=i,l=qt.normalizeAxis(t.axis,i.length),c=qt.sizeToDimension(i,l),u=qt.sizeFromDimension(i,l),d=qt.size(a.dims),h=o?qt.size(o.dims):0;if(d!==u||o&&h!==u)throw new Error("Size of X.shape()[axis:] == ".concat(u,".\n       Size of scale and bias (if provided) must match this.\n       Got scale size of ").concat(d," and bias size of ").concat(h));let p=[];for(let v=0;v<i.length;++v)v<l?p.push(i[v]):p.push(1);let f=Tn(u),m=["type","type"],g=[{type:12,data:c},{type:1,data:u},{type:12,data:Math.floor(u/f)},{type:1,data:t.epsilon}];o&&m.push("type");let y=n>1,b=n>2,w=[{dims:s,dataType:e[0].dataType}];return y&&w.push({dims:p,dataType:1}),b&&w.push({dims:p,dataType:1}),{name:"LayerNormalization",shaderCache:{hint:"".concat(f,";").concat(n,";").concat(r),inputDependencies:m},getRunData:()=>({outputs:w,dispatchGroup:{x:Math.ceil(c/64)},programUniforms:g}),getShaderSource:t=>{let n=xn(e[0].dataType),i=[Mn("x",e[0].dataType,e[0].dims,f),Mn("scale",a.dataType,a.dims,f)];o&&i.push(Mn("bias",o.dataType,o.dims,f)),i.push(In("output",e[0].dataType,s,f)),y&&i.push(In("mean_data_output",1,p)),b&&i.push(In("inv_std_output",1,p));return"\n  ".concat(t.registerUniforms([{name:"norm_count",type:"u32"},{name:"norm_size",type:"f32"},{name:"norm_size_vectorized",type:"u32"},{name:"epsilon",type:"f32"}]).declareVariables(...i),"\n  ").concat(t.mainStart(),"\n    ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.norm_count"),"\n    let offset = global_idx * uniforms.norm_size_vectorized;\n    var mean_vector = ").concat(An("f32",f),";\n    var mean_square_vector = ").concat(An("f32",f),";\n\n    for (var h: u32 = 0u; h < uniforms.norm_size_vectorized; h++) {\n      let value = ").concat(Sn(n,f,"x[h + offset]"),";\n      mean_vector += value;\n      mean_square_vector += value * value;\n    }\n    let mean = ").concat(Cn("mean_vector",f)," / uniforms.norm_size;\n    let inv_std_dev = inverseSqrt(").concat(Cn("mean_square_vector",f)," / uniforms.norm_size ").concat(r?"":"- mean * mean"," + uniforms.epsilon);\n\n    for (var j: u32 = 0; j < uniforms.norm_size_vectorized; j++) {\n      let f32input = ").concat(Sn(n,f,"x[j + offset]"),";\n      let f32scale = ").concat(Sn(n,f,"scale[j]"),";\n      output[j + offset] = ").concat(i[0].type.value,"((f32input ").concat(r?"":"- mean",") * inv_std_dev * f32scale\n        ").concat(o?"+ ".concat(Sn(n,f,"bias[j]")):"","\n      );\n    }\n\n    ").concat(y?"mean_data_output[global_idx] = mean":"",";\n    ").concat(b?"inv_std_output[global_idx] = inv_std_dev":"",";\n  }")}}},qs=(e,t)=>{Vs(e.inputs),e.compute(Ws(e.inputs,t,e.outputCount))}})),Mu=pe((()=>{Lc(),ou(),su(),Us=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.")},Hs=e=>{Us(e.inputs);let t=Wt.calcShape(e.inputs[0].dims,e.inputs[1].dims,!0);if(!t)throw new Error("Can't use matmul on the given tensors");let n=t[t.length-1],r=e.inputs[0].dims[e.inputs[0].dims.length-1];if(n<8&&r<8)e.compute(Ta(e.inputs,{activation:""},t));else{let i=t[t.length-2],a=qt.size(e.inputs[0].dims.slice(0,-2)),o=qt.size(e.inputs[1].dims.slice(0,-2));if(1!==a&&1===i&&1===o){let i=[1,a,n],o=[e.inputs[0].reshape([1,a,r]),e.inputs[1].reshape([1,r,n])];e.compute(Pa(o,{activation:""},t,i),{inputs:o})}else e.compute(Pa(e.inputs,{activation:""},t))}}})),Iu=pe((()=>{Nc(),Lc(),Uc(),Hc(),Gs=(e,t)=>{if(e.length<3||e.length>4)throw new Error("MatMulNBits requires 3 or 4 inputs");let n=e[0],r=n.dims.length;if(n.dims[r-1]!==t.k)throw new Error("The last dim of input shape does not match the k value");let i=Math.floor((t.k+t.blockSize-1)/t.blockSize),a=t.blockSize/8*t.bits,o=e[1];if(!qt.areEqual(o.dims,[t.n,i,a]))throw new Error("The second inputs must be 3D tensor with shape N X nBlocksPerCol X blobSize");let s=e[2].dims;if(qt.size(s)!==t.n*i)throw new Error("scales input size error.");if(4===e.length){let n=e[3].dims,r=t.bits>4?t.n*i:t.n*Math.floor((i+1)/2);if(qt.size(n)!==r)throw new Error("zeroPoints input size error.")}},Ks=(e,t)=>{let n=e[0].dims,r=n.length,i=n[r-2],a=t.k,o=t.n,s=n.slice(0,r-2),l=qt.size(s),c=e[1].dims[2]/4,u=e[0].dataType,d=Tn(t.k),h=Tn(c),p=Tn(o),f=s.concat([i,o]),m=i>1&&o/p%2===0?2:1,g=qt.size(f)/p/m,y=64,b=[],w=[l,i,a/d],v=qt.convertShape(e[1].dims).slice();v.splice(-1,1,c/h),b.push(...Dn(w)),b.push(...Dn(v)),b.push(...Dn(e[2].dims)),4===e.length&&b.push(...Dn(qt.convertShape(e[3].dims)));let _=[l,i,o/p];b.push(...Dn(_));return{name:"MatMulNBits",shaderCache:{hint:"".concat(t.blockSize,";").concat(t.bits,";").concat(d,";").concat(h,";").concat(p,";").concat(m,";").concat(y),inputDependencies:Array(e.length).fill("rank")},getRunData:()=>({outputs:[{dims:f,dataType:u}],dispatchGroup:{x:g},programUniforms:b}),getShaderSource:n=>{let r=w.length,i=Mn("a",e[0].dataType,r,d),a=Mn("b",12,v.length,h),o=Mn("scales",e[2].dataType,e[2].dims.length),s=[i,a,o],l=4===e.length?Mn("zero_points",12,e[3].dims.length):void 0;l&&s.push(l);let u=_.length,f=In("output",e[0].dataType,u,p),g=xn(e[0].dataType),b=(()=>{switch(d){case 1:return"array<".concat(g,", 8>");case 2:return"mat4x2<".concat(g,">");case 4:return"mat2x4<".concat(g,">");default:throw new Error("".concat(d,"-component is not supported."))}})();return"\n        var<workgroup> workgroup_shared: array<".concat(f.type.value,", ").concat(m*y,">;\n        ").concat(n.declareVariables(...s,f),"\n        ").concat(n.mainStart([y,1,1]),"\n          let output_indices = ").concat(f.offsetToIndices("(global_idx / ".concat(y,") * ").concat(m)),";\n          let col = output_indices[2];\n          let row = output_indices[1];\n          let batch = output_indices[0];\n          let nBlocksPerCol = uniforms.b_shape[1];\n\n          for (var block = local_id.x; block < nBlocksPerCol; block += ").concat(y,") {\n            //process one block\n            var word_offset: u32 = block * ").concat(t.blockSize/d,";\n            ").concat((()=>{let e="\n            var col_index = col * ".concat(p,";\n            ").concat(l?"\n            let zero_point_bytes_per_col = (nBlocksPerCol + 1) / 2;\n            var zero_point_byte_count: u32;\n            var zero_point_word_index: u32;\n            var zero_point_byte_offset: u32;\n            let zero_point_nibble_offset: u32 = block & 0x1u;\n            var zero_point_bits_offset: u32;\n            var zero_point_word: u32;":"\n            // The default zero point is 8 for unsigned 4-bit quantization.\n            let zero_point = ".concat(g,"(8);"),"\n            ");for(let t=0;t<p*m;t++)e+="\n            let scale".concat(t," = ").concat(o.getByOffset("col_index * nBlocksPerCol + block"),";\n            ").concat(l?"\n            zero_point_byte_count = col_index * zero_point_bytes_per_col + (block >> 0x1u);\n            zero_point_word_index = zero_point_byte_count >> 0x2u;\n            zero_point_byte_offset = zero_point_byte_count & 0x3u;\n            zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);\n            zero_point_word = ".concat(l.getByOffset("zero_point_word_index")," >> zero_point_bits_offset;\n            let zero_point").concat(t," = ").concat(g,"((zero_point_word) & 0xFu);"):"","\n            col_index += 1;");return e})(),"\n            for (var word: u32 = 0; word < ").concat(c,"; word += ").concat(h,") {\n              ").concat((()=>{let e="col_index = col * ".concat(p,";");for(let t=0;t<p*m;t++)e+="\n            let b".concat(t,"_data = ").concat(a.getByIndices("".concat(a.type.indices,"(col_index, block, word)")),";\n            col_index += 1;");return e+="\n            var b_value: u32;\n            let b_mask: u32 = 0x0F0F0F0Fu;\n            var b_value_lower: vec4<u32>;\n            var b_value_upper: vec4<u32>;\n            var b_quantized_values: ".concat(b,";\n            var b_dequantized_values: ").concat(b,";"),e})(),"\n              for (var i: u32 = 0; i < ").concat(h,"; i++) {\n                ").concat((()=>{let e="\n          // reuse a data\n            var input_offset = ".concat(i.indicesToOffset("".concat(i.type.indices,"(batch, row, word_offset)")),";\n            var a_data: ").concat(b,";\n            for (var j: u32 = 0; j < ").concat(8/d,"; j++) {\n              a_data[j] = ").concat(i.getByOffset("input_offset"),";\n              input_offset++;\n            }\n          ");for(let t=0;t<p*m;t++)e+="\n            b_value = ".concat("b".concat(t,1===h?"_data":"_data[i]"),";\n            b_value_lower = unpack4xU8(b_value & b_mask);\n            b_value_upper = unpack4xU8((b_value >> 4) & b_mask);\n            b_quantized_values = ").concat(b,"(").concat(Array.from({length:4},((e,t)=>"".concat(g,"(b_value_lower[").concat(t,"]), ").concat(g,"(b_value_upper[").concat(t,"])"))).join(", "),");\n            b_dequantized_values = ").concat(1===d?"".concat(b,"(").concat(Array.from({length:8},((e,n)=>"(b_quantized_values[".concat(n,"] - ").concat(l?"zero_point".concat(t):"zero_point",") * scale").concat(t))).join(", "),");"):"(b_quantized_values - ".concat(b,"(").concat(Array(8).fill("".concat(l?"zero_point".concat(t):"zero_point")).join(","),")) * scale").concat(t,";"),";\n            workgroup_shared[local_id.x * ").concat(m," + ").concat(Math.floor(t/p),"]").concat(p>1?"[".concat(t%p,"]"):""," += ").concat(Array.from({length:8/d},((e,t)=>"".concat(1===d?"a_data[".concat(t,"] * b_dequantized_values[").concat(t,"]"):"dot(a_data[".concat(t,"], b_dequantized_values[").concat(t,"])")))).join(" + "),";\n          ");return e})(),"\n                word_offset += ").concat(8/d,";\n              }\n            }\n          }\n          workgroupBarrier();\n\n          if (local_id.x < ").concat(m,") {\n            var output_value: ").concat(f.type.value," = ").concat(f.type.value,"(0);\n            var workgroup_shared_offset: u32 = local_id.x;\n            for (var b: u32 = 0u; b < ").concat(y,"u; b++) {\n              output_value += workgroup_shared[workgroup_shared_offset];\n              workgroup_shared_offset += ").concat(m,";\n            }\n            ").concat(f.setByIndices("".concat(f.type.indices,"(batch, row, col + local_id.x)"),"output_value"),";\n          }\n        }")}}},Ys=(e,t)=>{let n=e[0].dims,r=n.length,i=n[r-2],a=t.k,o=t.n,s=n.slice(0,r-2),l=qt.size(s),c=e[1].dims[2]/4,u=e[0].dataType,d=Tn(t.k),h=Tn(c),p=s.concat([i,o]),f=o%8===0?8:o%4===0?4:1,m=128/f,g=m*h*8,y=g/d,b=g/t.blockSize,w=qt.size(p)/f,v=[],_=[l,i,a/d],x=qt.convertShape(e[1].dims).slice();x.splice(-1,1,c/h),v.push(...Dn(_)),v.push(...Dn(x)),v.push(...Dn(e[2].dims)),4===e.length&&v.push(...Dn(qt.convertShape(e[3].dims)));let k=[l,i,o];v.push(...Dn(k));return{name:"BlockwiseMatMulNBits32",shaderCache:{hint:"".concat(t.blockSize,";").concat(d,";").concat(h,";").concat(m,";").concat(f),inputDependencies:Array(e.length).fill("rank")},getRunData:()=>({outputs:[{dims:p,dataType:u}],dispatchGroup:{x:w},programUniforms:v}),getShaderSource:n=>{let r=_.length,i=Mn("a",e[0].dataType,r,d),a=Mn("b",12,x.length,h),o=Mn("scales",e[2].dataType,e[2].dims.length),s=[i,a,o],l=4===e.length?Mn("zero_points",12,e[3].dims.length):void 0;l&&s.push(l);let c=k.length,u=In("output",e[0].dataType,c),p=xn(e[0].dataType);return"\n        var<workgroup> sub_a: array<".concat(i.type.value,", ").concat(y,">;\n        var<workgroup> inter_results: array<array<").concat(u.type.value,", ").concat(m,">, ").concat(f,">;\n        ").concat(n.declareVariables(...s,u),"\n        ").concat(n.mainStart([m,f,1]),"\n          let output_indices = ").concat(u.offsetToIndices("workgroup_index * ".concat(f)),";\n          let col = output_indices[2];\n          let row = output_indices[1];\n          let batch = output_indices[0];\n          let n_blocks_per_col = uniforms.b_shape[1];\n          let num_tiles =  (n_blocks_per_col - 1) / ").concat(b," + 1;\n\n          // Loop over shared dimension.\n          for (var tile: u32 = 0; tile < num_tiles; tile += 1) {\n            let a_col_start = tile * ").concat(y,";\n            // load one tile A data into shared memory.\n            for (var a_offset = local_idx; a_offset < ").concat(y,"; a_offset += ").concat(128,")\n            {\n              let a_col = a_col_start + a_offset;\n              if (a_col < uniforms.a_shape[2])\n              {\n                sub_a[a_offset] = ").concat(i.getByIndices("".concat(i.type.indices,"(batch, row, a_col)")),";\n              } else {\n                sub_a[a_offset] = ").concat(i.type.value,"(0);\n              }\n            }\n            workgroupBarrier();\n\n            // each thread process one block\n            let b_row = col + local_id.y;\n            let block = tile * ").concat(b," + local_id.x;\n            ").concat(l?"\n            let zero_point_bytes_per_col = (n_blocks_per_col + 1) / 2;\n            let zero_point_byte_count = b_row * zero_point_bytes_per_col + (block >> 0x1u);\n            let zero_point_word_index = zero_point_byte_count >> 0x2u;\n            let zero_point_byte_offset = zero_point_byte_count & 0x3u;\n            let zero_point_nibble_offset: u32 = block & 0x1u;\n            let zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);\n            let zero_point_word = ".concat(l.getByOffset("zero_point_word_index")," >> zero_point_bits_offset;\n            let zero_point = ").concat(p,"((zero_point_word) & 0xFu);"):"\n            // The default zero point is 8 for unsigned 4-bit quantization.\n            let zero_point = ".concat(p,"(8);"),"\n            let scale = ").concat(o.getByOffset("b_row * n_blocks_per_col + block"),";\n            let b_data = ").concat(a.getByIndices("".concat(a.type.indices,"(b_row, block, 0)")),";\n            var word_offset = local_id.x * ").concat(t.blockSize/d,";\n            for (var i: u32 = 0; i < ").concat(h,"; i++) {\n              ").concat((()=>{switch(d){case 1:return"\n          let a_data0 = vec4<".concat(p,">(sub_a[word_offset], sub_a[word_offset + 1], sub_a[word_offset + 2], sub_a[word_offset + 3]);\n          let a_data1 = vec4<").concat(p,">(sub_a[word_offset + 4], sub_a[word_offset + 5], sub_a[word_offset + 6], sub_a[word_offset + 7]);");case 2:return"\n          let a_data0 = vec4<".concat(p,">(sub_a[word_offset], sub_a[word_offset + 1]);\n          let a_data1 = vec4<").concat(p,">(sub_a[word_offset + 2], sub_a[word_offset + 3]);");case 4:return"\n          let a_data0 = sub_a[word_offset];\n          let a_data1 = sub_a[word_offset + 1];";default:throw new Error("".concat(d,"-component is not supported."))}})(),"\n              let b_value = ").concat(1===h?"b_data":"b_data[i]",";\n              let b_value_lower = unpack4xU8(b_value & 0x0F0F0F0Fu);\n              let b_value_upper = unpack4xU8((b_value >> 4) & 0x0F0F0F0Fu);\n              let b_quantized_values = mat2x4<").concat(p,">(").concat(Array.from({length:4},((e,t)=>"".concat(p,"(b_value_lower[").concat(t,"]), ").concat(p,"(b_value_upper[").concat(t,"])"))).join(", "),");\n              let b_dequantized_values = (b_quantized_values - mat2x4<").concat(p,">(").concat(Array(8).fill("zero_point").join(","),")) * scale;\n              inter_results[local_id.y][local_id.x] += ").concat(Array.from({length:2},((e,t)=>"".concat("dot(a_data".concat(t,", b_dequantized_values[").concat(t,"])")))).join(" + "),";\n              word_offset += ").concat(8/d,";\n            }\n            workgroupBarrier();\n          }\n\n          if (local_idx < ").concat(f,") {\n            var output_value: ").concat(u.type.value," = ").concat(u.type.value,"(0);\n            for (var b = 0u; b < ").concat(m,"; b++) {\n              output_value += inter_results[local_idx][b];\n            }\n            if (col + local_idx < uniforms.output_shape[2])\n            {\n              ").concat(u.setByIndices("".concat(u.type.indices,"(batch, row, col + local_idx)"),"output_value"),"\n            }\n          }\n        }")}}},Js=(e,t)=>{Gs(e.inputs,t),32===t.blockSize&&e.adapterInfo.isVendor("intel")&&e.adapterInfo.isArchitecture("gen-12lp")?e.compute(Ys(e.inputs,t)):e.compute(Ks(e.inputs,t))},Zs=e=>wn(e)})),Pu=pe((()=>{Nc(),Lc(),Hc(),Xs=e=>{if(!e||e.length<1)throw new Error("Too few inputs");if(1!==e[0].dataType&&10!==e[0].dataType)throw new Error("Input type must be float or float16.");if(e.length>=2){let t=2*e[0].dims.length===e[1].dims[0];if(4===e.length&&(t=2*e[3].dims[0]===e[1].dims[0]),!t)throw new Error("The pads should be a 1D tensor of shape [2 * input_rank] or [2 * num_axes].")}},$s=(e,t,n)=>{let r="";for(let i=t-1;i>=0;--i)r+="\n            k = i32(".concat(e.indicesGet("indices",i),") - ").concat(En("uniforms.pads",i,n),";\n            if (k < 0) {\n              break;\n            }\n            if (k >= i32(").concat(En("uniforms.x_shape",i,t),")) {\n              break;\n            }\n            offset += k * i32(").concat(En("uniforms.x_strides",i,t),");\n        ");return"\n          value = ".concat(e.type.value,"(uniforms.constant_value);\n          for (var i = 0; i < 1; i++) {\n            var offset = 0;\n            var k = 0;\n            ").concat(r,"\n            value = x[offset];\n          }\n      ")},Qs=(e,t,n)=>{let r="";for(let i=t-1;i>=0;--i)r+="\n                k = i32(".concat(e.indicesGet("indices",i),") - ").concat(En("uniforms.pads",i,n),";\n                if (k < 0) {\n                  k = -k;\n                }\n                {\n                  let _2n_1 = 2 * (i32(").concat(En("uniforms.x_shape",i,t),") - 1);\n                  k = k % _2n_1;\n                  if(k >= i32(").concat(En("uniforms.x_shape",i,t),")) {\n                    k = _2n_1 - k;\n                  }\n                }\n                offset += k * i32(").concat(En("uniforms.x_strides",i,t),");\n            ");return"\n              var offset = 0;\n              var k = 0;\n              ".concat(r,"\n              value = x[offset];\n          ")},el=(e,t,n)=>{let r="";for(let i=t-1;i>=0;--i)r+="\n                k = i32(".concat(e.indicesGet("indices",i),") - ").concat(En("uniforms.pads",i,n),";\n                if (k < 0) {\n                  k = 0;\n                }\n                if (k >= i32(").concat(En("uniforms.x_shape",i,t),")) {\n                  k = i32(").concat(En("uniforms.x_shape",i,t),") - 1;\n                }\n                offset += k * i32(").concat(En("uniforms.x_strides",i,t),");\n            ");return"\n              var offset = 0;\n              var k = 0;\n              ".concat(r,"\n              value = x[offset];\n          ")},tl=(e,t,n)=>{let r="";for(let i=t-1;i>=0;--i)r+="\n                k = i32(".concat(e.indicesGet("indices",i),") - ").concat(En("uniforms.pads",i,n),";\n                if (k < 0)  {\n                  k += i32(").concat(En("uniforms.x_shape",i,t),"]);\n                }\n                if (k >= i32(").concat(En("uniforms.x_shape",i,t),")) {\n                  k -= i32(").concat(En("uniforms.x_shape",i,t),");\n                }\n                offset += k * i32(").concat(En("uniforms.x_strides",i,t),");\n            ");return"\n              var offset = 0;\n              var k = 0;\n              ".concat(r,"\n              value = x[offset];\n          ")},nl=(e,t,n)=>{switch(n.mode){case 0:return $s(e,t,n.pads.length);case 1:return Qs(e,t,n.pads.length);case 2:return el(e,t,n.pads.length);case 3:return tl(e,t,n.pads.length);default:throw new Error("Invalid mode")}},rl=(e,t)=>{let n=qt.padShape(e[0].dims.slice(),t.pads),r=e[0].dims,i=[{type:12,data:qt.size(n)},{type:6,data:t.pads}],a=e.length>=3&&e[2].data;0===t.mode&&i.push({type:a?e[2].dataType:1,data:t.value}),i.push(...Dn(e[0].dims,n));return{name:"Pad",shaderCache:{hint:"".concat(t.mode).concat(a),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(qt.size(n)/64)},programUniforms:i}),getShaderSource:i=>{let o=In("output",e[0].dataType,n.length),s=Mn("x",e[0].dataType,r.length),l=s.type.value,c=nl(o,r.length,t),u=[{name:"output_size",type:"u32"},{name:"pads",type:"i32",length:t.pads.length}];return 0===t.mode&&u.push({name:"constant_value",type:a?l:"f32"}),"\n            ".concat(i.registerUniforms(u).declareVariables(s,o),"\n            ").concat(i.mainStart(),"\n            ").concat(i.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n\n            let indices = ").concat(o.offsetToIndices("global_idx"),";\n\n            var value = ").concat(l,"(0);\n            ").concat(c,"\n            output[global_idx] = value;\n        }")}}},il=(e,t)=>{if(e.length>1){let n=e[1].getBigInt64Array(),r=e.length>=3&&e[2].data?10===e[2].dataType?e[2].getUint16Array()[0]:e[2].getFloat32Array()[0]:0,i=e[0].dims.length,a=new Int32Array(2*i).fill(0);if(e.length>=4){let t=e[3].getBigInt64Array();for(let e=0;e<t.length;e++)a[Number(t[e])]=Number(n[e]),a[Number(t[e])+i]=Number(n[e+t.length])}else n.forEach(((e,t)=>a[Number(t)]=Number(e)));let o=[];return a.forEach((e=>o.push(e))),{mode:t.mode,value:r,pads:o}}return t},al=(e,t)=>{Xs(e.inputs);let n=il(e.inputs,t);e.compute(rl(e.inputs,n),{inputs:[0]})}})),zu=pe((()=>{Ne(),Nc(),Lc(),Hc(),ol=e=>{if(R.webgpu.validateInputContent&&(!e||1!==e.length))throw new Error("Pool ops requires 1 input.")},sl=(e,t,n)=>{let r="NHWC"===t.format,i=e.dims.slice();r&&i.splice(1,0,i.pop());let a=Object.hasOwnProperty.call(t,"dilations"),o=t.kernelShape.slice(),s=t.strides.slice(),l=a?t.dilations.slice():[],c=t.pads.slice();Ut.adjustPoolAttributes(n,i,o,s,l,c);let u=Ut.computePoolOutputShape(n,i,s,l,o,c,t.autoPad),d=Object.assign({},t);a?Object.assign(d,{kernelShape:o,strides:s,pads:c,dilations:l,cacheKey:t.cacheKey}):Object.assign(d,{kernelShape:o,strides:s,pads:c,cacheKey:t.cacheKey});let h=u.slice();return h.push(h.splice(1,1)[0]),[d,r?h:u]},ll=(e,t)=>{let n="NHWC"===t.format,r=[{type:12,data:qt.size(e)},{type:12,data:qt.size(t.kernelShape)}],i=[{name:"outputSize",type:"u32"},{name:"kernelSize",type:"u32"}];if(t.kernelShape.length<=2){let e=t.kernelShape[t.kernelShape.length-1],n=t.strides[t.strides.length-1],a=t.pads[t.pads.length/2-1],o=t.pads[t.pads.length-1],s=!!(a+o);r.push({type:12,data:e},{type:12,data:n},{type:12,data:a},{type:12,data:o}),i.push({name:"kw",type:"u32"},{name:"sw",type:"u32"},{name:"pwStart",type:"u32"},{name:"pwEnd",type:"u32"});let l=!1;if(2===t.kernelShape.length){let e=t.kernelShape[t.kernelShape.length-2],n=t.strides[t.strides.length-2],a=t.pads[t.pads.length/2-2],o=t.pads[t.pads.length-2];l=!!(a+o),r.push({type:12,data:e},{type:12,data:n},{type:12,data:a},{type:12,data:o}),i.push({name:"kh",type:"u32"},{name:"sh",type:"u32"},{name:"phStart",type:"u32"},{name:"phEnd",type:"u32"})}return[r,i,!0,s,l]}{if(n)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let e=qt.computeStrides(t.kernelShape);r.push({type:12,data:e},{type:12,data:t.pads},{type:12,data:t.strides}),i.push({name:"kernelStrides",type:"u32",length:e.length},{name:"pads",type:"u32",length:t.pads.length},{name:"strides",type:"u32",length:t.strides.length});let a=t.pads.reduce(((e,t)=>e+t));return[r,i,!!a,!1,!1]}},cl=(e,t,n,r,i,a,o,s,l,c,u,d)=>{let h="NHWC"===i.format,p=t.type.value,f=In("output",t.type.tensor,r);if(i.kernelShape.length<=2){let r="",c="",m="",g=n-(h?2:1);if(r=u?"\n                for (var i: u32 = 0u; i < uniforms.kw; i++) {\n                  xIndices[".concat(g,"] = indices[").concat(g,"] * uniforms.sw - uniforms.pwStart + i;\n                  if (xIndices[").concat(g,"] < 0 || xIndices[").concat(g,"]\n                      >= uniforms.x_shape[").concat(g,"]) {\n                    pad++;\n                    continue;\n                  }\n                  let x_val = x[").concat(t.indicesToOffset("xIndices"),"];\n                  ").concat(a,"\n                }"):"\n                for (var i: u32 = 0u; i < uniforms.kw; i++) {\n                  xIndices[".concat(g,"] = indices[").concat(g,"] * uniforms.sw - uniforms.pwStart + i;\n                  let x_val = x[").concat(t.indicesToOffset("xIndices"),"];\n                  ").concat(a,"\n                }"),2===i.kernelShape.length){let e=n-(h?3:2);c=d?"\n                for (var j: u32 = 0u; j < uniforms.kh; j++) {\n                  xIndices[".concat(e,"] = indices[").concat(e,"] * uniforms.sh - uniforms.phStart + j;\n                  if (xIndices[").concat(e,"] < 0 || xIndices[").concat(e,"] >= uniforms.x_shape[").concat(e,"]) {\n                    pad += i32(uniforms.kw);\n                    continue;\n                  }\n              "):"\n                for (var j: u32 = 0u; j < uniforms.kh; j++) {\n                  xIndices[".concat(e,"] = indices[").concat(e,"] * uniforms.sh - uniforms.phStart + j;\n                "),m="\n              }\n            "}return"\n            ".concat(e.registerUniforms(l).declareVariables(t,f),"\n\n            ").concat(e.mainStart(),"\n              ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n\n              let indices = ").concat(f.offsetToIndices("global_idx"),";\n              var xIndices = ").concat(f.offsetToIndices("global_idx"),";\n\n              var value = ").concat(p,"(").concat(s,");\n              var pad = 0;\n              ").concat(c,"\n              ").concat(r,"\n              ").concat(m,"\n              ").concat(o,"\n\n              output[global_idx] = value;\n            }")}{if(h)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let r=i.kernelShape.length,u=i.pads.length,d="";return d=c?"\n                if (xIndices[j] >= uniforms.x_shape[j]) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                let x_val = x[".concat(t.indicesToOffset("xIndices"),"];\n                ").concat(a,"\n              }"):"\n              }\n              let x_val = x[".concat(t.indicesToOffset("xIndices"),"];\n              ").concat(a,"\n            "),"\n            ".concat(e.registerUniforms(l).declareVariables(t,f),"\n\n            ").concat(e.mainStart(),"\n              ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n              let indices = ").concat(f.offsetToIndices("global_idx"),";\n              var xIndices = ").concat(f.offsetToIndices("global_idx"),";\n\n              var offsets: array<u32, ").concat(r,">;\n\n              var value = ").concat(p,"(").concat(s,");\n              var pad = 0;\n              var isPad = false;\n\n              for (var i: u32 = 0u; i < uniforms.kernelSize; i++) {\n                var offset = i;\n                for (var j = 0u; j < ").concat(r-1,"u; j++) {\n                  offsets[j] = offset / ").concat(En("uniforms.kernelStrides","j",r),";\n                  offset -= offsets[j] * ").concat(En("uniforms.kernelStrides","j",r),";\n                }\n                offsets[").concat(r-1,"] = offset;\n\n                isPad = false;\n                for (var j = ").concat(n-r,"u; j < ").concat(n,"u; j++) {\n                  xIndices[j] = indices[j] * ").concat(En("uniforms.strides","j - ".concat(n-r,"u"),r),"\n                    + offsets[j - ").concat(n-r,"u] - ").concat(En("uniforms.pads","j - 2u",u),";\n                  ").concat(d,"\n              }\n              ").concat(o,"\n\n              output[global_idx] = value;\n            }")}},ul=e=>"".concat(e.format,";").concat(e.ceilMode,";").concat(e.autoPad,";").concat(e.kernelShape.length),dl=e=>"".concat(ul(e),";").concat(e.countIncludePad),hl=e=>"".concat(ul(e),";").concat(e.storageOrder,";").concat(e.dilations),pl=e=>({format:e.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],ceilMode:e.ceil_mode,kernelShape:e.kernel_shape,strides:e.strides,pads:e.pads}),fl=(e,t,n,r)=>{let[i,a]=sl(t,r,n),o=Mn("x",t.dataType,t.dims.length),s=o.type.value,l="";i.countIncludePad?l+="value /= ".concat(s,"(uniforms.kernelSize);"):l+="value /= ".concat(s,"(i32(uniforms.kernelSize) - pad);");let[c,u,d,h,p]=ll(a,i);c.push(...Dn(t.dims,a));return{name:e,shaderCache:{hint:"".concat(r.cacheKey,";").concat(d,";").concat(h,";").concat(p),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:a,dataType:t.dataType}],dispatchGroup:{x:Math.ceil(qt.size(a)/64)},programUniforms:c}),getShaderSource:e=>cl(e,o,t.dims.length,a.length,i,"value += x_val;",l,0,u,d,h,p)}},ml=e=>{let t=0!==e.count_include_pad,n=pl(e);if(0!==n.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");let r=u(u({countIncludePad:t},n),{},{cacheKey:""});return u(u({},r),{},{cacheKey:dl(r)})},gl=(e,t)=>{ol(e.inputs),e.compute(fl("AveragePool",e.inputs[0],!1,t))},yl={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[]},bl=e=>{let t=e.format;return u(u({format:t},yl),{},{cacheKey:t})},wl=(e,t)=>{ol(e.inputs),e.compute(fl("GlobalAveragePool",e.inputs[0],!0,t))},vl=(e,t,n,r)=>{let[i,a]=sl(t,r,n),o=Mn("x",t.dataType,t.dims.length),[s,l,c,u,d]=ll(a,i);return s.push(...Dn(t.dims,a)),{name:e,shaderCache:{hint:"".concat(r.cacheKey,";").concat(c,";").concat(u,";").concat(d),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:a,dataType:t.dataType}],dispatchGroup:{x:Math.ceil(qt.size(a)/64)},programUniforms:s}),getShaderSource:e=>cl(e,o,t.dims.length,a.length,i,"\n      value = max(x_val, value);\n    ","",10===t.dataType?-65504:-1e5,l,c,u,d)}},_l=(e,t)=>{ol(e.inputs),e.compute(vl("MaxPool",e.inputs[0],!1,t))},xl=e=>{let t=e.storage_order,n=e.dilations,r=pl(e);if(0!==t)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==r.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");let i=u(u({storageOrder:t,dilations:n},r),{},{cacheKey:""});return u(u({},i),{},{cacheKey:hl(i)})},kl=e=>{let t=e.format;return u(u({format:t},yl),{},{cacheKey:t})},Dl=(e,t)=>{ol(e.inputs),e.compute(vl("GlobalMaxPool",e.inputs[0],!0,t))}})),Nu=pe((()=>{Nc(),Lc(),Uc(),Hc(),Tl=(e,t)=>{if(e.length<2||e.length>3)throw new Error("DequantizeLinear requires 2 or 3 inputs.");if(3===e.length&&e[1].dims===e[2].dims)throw new Error("x-scale and x-zero-point must have the same shape.");if(3===e.length&&e[0].dataType!==e[2].dataType)throw new Error("x and x-zero-point must have the same data type.");if(6===e[0].dataType&&e.length>2)throw new Error("In the case of dequantizing int32 there is no zero point.");if(0!==e[1].dims.length&&1!==e[1].dims.length&&e[1].dims.length!==e[0].dims.length)throw new Error("scale input must be a scalar, a 1D tensor, or have the same rank as the input tensor.");if(e.length>2){if(e[0].dataType!==e[2].dataType)throw new Error("x and x-zero-point must have the same data type.");if(e[1].dims.length!==e[2].dims.length)throw new Error("scale and zero-point inputs must have the same rank.");if(!e[1].dims.map(((t,n)=>t===e[2].dims[n])).reduce(((e,t)=>e&&t),!0))throw new Error("scale and zero-point inputs must have the same shape.")}if(t.blockSize>0){if(0===e[1].dims.length||1===e[1].dims.length&&1===e[1].dims[0])throw new Error("blockSize must be set only for block quantization.");if(!e[1].dims.map(((n,r)=>r===t.axis||n===e[0].dims[r])).reduce(((e,t)=>e&&t),!0))throw new Error("For block qunatization, scale input shape to match the input shape except for the axis");if(e[1].dims.length!==e[0].dims.length)throw new Error("For block qunatization the scale input rank must be the same as the x rank.");let n=e[0].dims[t.axis],r=e[1].dims[t.axis];if(t.blockSize<Math.ceil(n/r)||t.blockSize>Math.ceil(n/(r-1)-1))throw new Error("blockSize must be with in the range [ceil(dI / Si), ceil(dI / (Si - 1) - 1)].")}},Al=(e,t)=>{let n=qt.normalizeAxis(t.axis,e[0].dims.length),r=e[0].dataType,i=3===r,a=e[0].dims,o=e[1].dataType,s=qt.size(a),l=3===r||2===r,c=l?[Math.ceil(qt.size(e[0].dims)/4)]:e[0].dims,u=e[1].dims,d=e.length>2?e[2]:void 0,h=d?l?[Math.ceil(qt.size(d.dims)/4)]:d.dims:void 0,p=0===u.length||1===u.length&&1===u[0],f=!1===p&&1===u.length,m=Tn(s),g=p&&(!l||4===m),y=g?m:1,b=g&&!l?m:1,w=Mn("input",l?12:r,c.length,b),v=Mn("scale",o,u.length),_=d?Mn("zero_point",l?12:r,h.length):void 0,x=In("output",o,a.length,y),k=[w,v];_&&k.push(_);let D=[c,u];d&&D.push(h);let T=[{type:12,data:s/y},{type:12,data:n},{type:12,data:t.blockSize},...Dn(...D,a)];return{name:"DequantizeLinear",shaderCache:{hint:t.cacheKey,inputDependencies:_?["rank","rank","rank"]:["rank","rank"]},getShaderSource:e=>"\n      ".concat(e.registerUniforms([{name:"output_size",type:"u32"},{name:"axis",type:"u32"},{name:"block_size",type:"u32"}]).declareVariables(...k,x),"\n      ").concat(e.mainStart(),"\n          ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n          let output_indices = ").concat(x.offsetToIndices("global_idx"),";\n\n          // Set input x\n          ").concat(l?"\n            let input = ".concat(w.getByOffset("global_idx / 4"),";\n            let x_vec = ").concat(i?"unpack4xI8(input)":"unpack4xU8(input)",";\n            let x_value = ").concat(1===y?"x_vec[global_idx % 4]":"x_vec",";"):"let x_value = ".concat(w.getByOffset("global_idx"),";"),";\n\n          // Set scale input\n          ").concat(p?"let scale_value= ".concat(v.getByOffset("0")):f?"\n            let scale_index = ".concat(x.indicesGet("output_indices","uniforms.axis"),";\n            let scale_value= ").concat(v.getByOffset("scale_index"),";"):"\n            var scale_indices: ".concat(v.type.indices," = output_indices;\n            let index = ").concat(v.indicesGet("scale_indices","uniforms.axis")," / uniforms.block_size;\n            ").concat(v.indicesSet("scale_indices","uniforms.axis","index"),";\n            let scale_value= ").concat(v.getByIndices("scale_indices"),";"),";\n\n          // Set zero-point input\n          ").concat(_?p?l?"\n                let zero_point_input = ".concat(_.getByOffset("0"),";\n                let zero_point_vec =  ").concat(i?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)",";\n                let zero_point_value= zero_point_vec[0]"):"let zero_point_value = ".concat(_.getByOffset("0")):f?l?"\n                let zero_point_index = ".concat(x.indicesGet("output_indices","uniforms.axis"),";\n                let zero_point_input = ").concat(_.getByOffset("zero_point_index / 4"),";\n                let zero_point_vec =  ").concat(i?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)",";\n                let zero_point_value = zero_point_vec[zero_point_index % 4]"):"\n                let zero_point_index = ".concat(x.indicesGet("output_indices","uniforms.axis"),";\n                let zero_point_value = ").concat(_.getByOffset("zero_point_index"),";"):l?"\n                let zero_point_offset = ".concat(v.indicesToOffset("scale_indices"),";\n                let zero_point_input = ").concat(_.getByOffset("zero_point_offset / 4"),";\n                let zero_point_vec = ").concat(i?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)",";\n                let zero_point_value = zero_point_vec[zero_point_offset % 4];"):"let zero_point_value = ".concat(_.getByIndices("scale_indices"),";"):"let zero_point_value = ".concat(l?i?"i32":"u32":w.type.value,"(0);"),";\n      // Compute and write output\n      ").concat(x.setByOffset("global_idx","".concat(x.type.value,"(x_value - zero_point_value) * scale_value")),";\n      }"),getRunData:()=>({outputs:[{dims:a,dataType:o}],dispatchGroup:{x:Math.ceil(s/y/64),y:1,z:1},programUniforms:T})}},Sl=(e,t)=>{Tl(e.inputs,t),e.compute(Al(e.inputs,t))},Cl=e=>wn({axis:e.axis,blockSize:e.blockSize})})),Ou=pe((()=>{Ne(),Nc(),Hc(),El=(e,t,n)=>{if(e===t||e<t&&n<0||e>t&&n>0)throw new Error("Range these inputs' contents are invalid.")},Fl=(e,t,n,r)=>{let i=Math.abs(Math.ceil((t-e)/n)),a=[i],o=i,s=[{type:12,data:o},{type:r,data:e},{type:r,data:n},...Dn(a)];return{name:"Range",shaderCache:{hint:"".concat(r)},getShaderSource:e=>{let t=In("output",r,a.length),n=t.type.value,i=[{name:"outputSize",type:"u32"},{name:"start",type:n},{name:"delta",type:n}];return"\n        ".concat(e.registerUniforms(i).declareVariables(t),"\n        ").concat(e.mainStart(),"\n        ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n        output[global_idx] = uniforms.start + ").concat(n,"(global_idx) * uniforms.delta;\n      }")},getRunData:()=>({outputs:[{dims:a,dataType:r}],dispatchGroup:{x:Math.ceil(o/64)},programUniforms:s})}},Ml=e=>{let t=0,n=0,r=0;6===e.inputs[0].dataType?(t=e.inputs[0].getInt32Array()[0],n=e.inputs[1].getInt32Array()[0],r=e.inputs[2].getInt32Array()[0]):1===e.inputs[0].dataType&&(t=e.inputs[0].getFloat32Array()[0],n=e.inputs[1].getFloat32Array()[0],r=e.inputs[2].getFloat32Array()[0]),R.webgpu.validateInputContent&&El(t,n,r),e.compute(Fl(t,n,r,e.inputs[0].dataType),{inputs:[]})}})),Bu=pe((()=>{Nc(),Lc(),Uc(),Hc(),Il=(e,t,n,r)=>{if("none"!==e&&"i32"!==r&&"u32"!==r&&"f32"!==r)throw new Error("Input ".concat(r," is not supported with reduction ").concat(e,"."));let i="{\n                var oldValue = 0;\n                loop {\n                  let newValueF32 =",a=";\n                  let newValue = bitcast<i32>(newValueF32);\n                  let res = atomicCompareExchangeWeak(&".concat(t,", oldValue, newValue);\n                  if res.exchanged {\n                    break;\n                  }\n                  oldValue = res.old_value;\n                }\n              }");switch(e){case"none":return"".concat(t,"=").concat(n,";");case"add":return"i32"===r||"u32"===r?"atomicAdd(&".concat(t,", bitcast<").concat(r,">(").concat(n,"));"):"\n              ".concat(i,"bitcast<").concat(r,">(oldValue) + (").concat(n,")").concat(a);case"max":return"i32"===r||"u32"===r?"atomicMax(&".concat(t,", bitcast<").concat(r,">(").concat(n,"));"):"\n                ".concat(i,"max(bitcast<f32>(oldValue), (").concat(n,"))").concat(a);case"min":return"i32"===r||"u32"===r?"atomicMin(&".concat(t,", bitcast<").concat(r,">(").concat(n,"));"):"".concat(i,"min(bitcast<").concat(r,">(oldValue), (").concat(n,"))").concat(a);case"mul":return"".concat(i,"(bitcast<").concat(r,">(oldValue) * (").concat(n,"))").concat(a);default:throw new Error("Reduction ".concat(e," is not supported."))}},Pl=(e,t)=>"".concat(1===e?"\n    let element_count_dim = uniforms.output_strides;\n    let dim_value = uniforms.output_shape;":"\n    let element_count_dim = uniforms.output_strides[".concat(t?"i - indices_start":"i","];\n    let dim_value = uniforms.output_shape[").concat(t?"i - indices_start":"i"," + uniforms.last_index_dimension];"),"\n    \n    if (index >= 0) {\n      if (index >= i32(dim_value)) {\n        index = i32(dim_value - 1);\n      }\n    } else {\n      if (index < -i32(dim_value)) {\n        index = 0;\n      } else {\n        index += i32(dim_value);\n      }\n    }\n    data_offset += u32((u32(index) * element_count_dim));"),zl=(e,t,n)=>"for (var i = 0u; i < uniforms.num_updates_elements; i++) {\n        let value = updates[uniforms.num_updates_elements * ".concat(n?"global_idx":"idx"," + i];\n        ").concat(Il(e.reduction,"output[data_offset + i]","value",t),"\n      }"),Nl=(e,t)=>{let n=e[0].dims,r=e[1].dims,i=n,a=Math.ceil(qt.size(r)/1),o=r[r.length-1],s=qt.sizeFromDimension(n,o),l=qt.sizeFromDimension(r,0)/o,c=[{type:12,data:a},{type:12,data:o},{type:12,data:s},...Dn(e[1].dims,e[2].dims,i)];return{name:"ScatterND",shaderCache:{hint:"".concat(t.cacheKey,"_").concat(t.reduction),inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:i,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:c}),getShaderSource:r=>{let a=Mn("indices",e[1].dataType,e[1].dims.length),o=Mn("updates",e[2].dataType,e[2].dims.length,1),s="none"!==t.reduction&&""!==t.reduction?Pn("output",e[0].dataType,i.length):In("output",e[0].dataType,i.length,1);return"\n      ".concat(r.registerUniform("output_size","u32").registerUniform("last_index_dimension","u32").registerUniform("num_updates_elements","u32").declareVariables(a,o,s),"\n      ").concat(r.mainStart(),"\n        ").concat(r.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n  var hasDuplicates = false;\n  if (").concat("none"===t.reduction,") {\n    for (var i = 0; i < ").concat(l,"; i = i + 1) {\n      for (var j = i + 1; j < ").concat(l,"; j = j + 1) {\n        var index_i = i32(indices[i].x);\n        var index_j = i32(indices[j].x);\n        if (index_i == index_j) {\n          hasDuplicates = true;\n          break;\n        }\n      }\n      if (hasDuplicates) {\n        break;\n      }\n    }\n  }\n\n  if (").concat("none"===t.reduction," && hasDuplicates) {\n    if (global_idx != 0u) {\n      return;\n    }\n    // Process each index-update pair individually when duplicates exist\n    for (var idx = 0u; idx < ").concat(l,"u; idx++) {\n      var data_offset = 0u;\n      for (var i = 0u; i < uniforms.last_index_dimension; i++) {\n        var index = i32(indices[idx * uniforms.last_index_dimension + i].x);\n        ").concat(Pl(n.length,!1),"\n      }\n      ").concat(zl(t,s.type.value,!1),"\n    }\n    return;\n  }\n\n  var data_offset = 0u;\n  var indices_start = uniforms.last_index_dimension * global_idx;\n  var indices_end = indices_start + uniforms.last_index_dimension;\n  for (var i = indices_start; i < indices_end; i++) {\n    var index = i32(indices[i].x);\n    ").concat(Pl(n.length,!0),"\n  }\n  ").concat(zl(t,s.type.value,!0),"\n  }")}}},Ol=e=>wn({reduction:e.reduction}),Bl=(e,t)=>{e.compute(Nl(e.inputs,t),{inputs:[e.inputs[1],e.inputs[2]],outputs:[]})}})),Lu=pe((()=>{Nc(),Lc(),Uc(),Hc(),Ll=(e,t)=>{if(e.every((e=>e>0||(()=>{throw new Error("Resize requires scales input values to be positive")}))),e.length>0)if("linear"===t.mode){if(!(2===e.length||3===e.length||4===e.length&&1===e[0]&&1===e[1]||4===e.length&&1===e[0]&&1===e[3]||5===e.length&&1===e[0]&&1===e[1]))throw new Error("For linear mode, Resize requires scales to be 2D, 3D, 4D with either two outermost or one innermost and\n            one outermost scale values equal to 1, or 5D with two outermost scale values equal to 1")}else if("cubic"===t.mode&&!(2===e.length||4===e.length&&1===e[0]&&1===e[1]||4===e.length&&1===e[0]&&1===e[3]))throw new Error("Resize requires scales input size to be 2 or 4 for cubic mode")},Rl=(e,t,n)=>{t.every((e=>e>=0&&e<n||(()=>{throw new Error("Resize requires axes input values to be positive and less than rank")})));let r=new Array(n).fill(1);return t.forEach(((t,n)=>r[t]=e[n])),r},jl=(e,t,n,r,i,a)=>{let[o,s,l]=n>10?[1,2,3]:[-1,e.length>1?1:-1,-1],c=e[0].dims.length;if(o>0&&e.length>o&&e[o].dims.length>0)e[o].getFloat32Array().forEach((e=>a.push(e)));else if("tf_crop_and_resize"===t.coordinateTransformMode)throw new Error("Resize requires RoI input to be specified when coordinateTransformMode is tfCropAndResize");if(s>0&&e.length>s&&1===e[s].dims.length&&e[s].dims[0]>0){if(e[s].getFloat32Array().forEach((e=>r.push(e))),0!==r.length&&r.length!==c&&n>=18&&r.length!==t.axes.length)throw new Error("Resize requires scales input size to be same as input rank or axes size for opset 18 and up");Ll(r,t),t.axes.length>0&&Rl(r,t.axes,c).forEach(((e,t)=>r[t]=e))}if(l>0&&e.length>l&&1===e[l].dims.length&&e[l].dims[0]>0&&(e[l].getBigInt64Array().forEach((e=>i.push(Number(e)))),0!==i.length&&i.length!==c&&n>=18&&i.length!==t.axes.length))throw new Error("Resize requires sizes input size to be same as input rank or axes size for opset 18 and up");if(t.axes.length>0){if(0!==r.length&&r.length!==t.axes.length)throw new Error('Resize requires "scales" input size to be of axes rank when axes attributes is specified');if(0!==i.length&&i.length!==t.axes.length)throw new Error('Resize requires "sizes" input size to be of rank axes rank when axes attributes is specified')}if(typeof r<"u"&&typeof i<"u"&&r.length>0&&i.length>c)throw new Error("Resize requires only of scales or sizes to be specified")},Vl=(e,t,n,r)=>"\n  // The whole part and the fractional part are calculated separately due to inaccuracy of floating\n  // point division. As an example, f32(21) / f32(7) may evaluate to 2.99... instead of 3, causing an\n  // offset-by-one error later in floor().\n  let big = (".concat(e,") * (").concat(t,");\n  let whole = ").concat(r,"(big / (").concat(n,"));\n  let fract = ").concat(r,"(big % (").concat(n,")) / ").concat(r,"(").concat(n,");\n  return whole + fract;\n"),Wl=(e,t)=>"fn getOriginalCoordinateFromResizedCoordinate(xResized: u32, xScale: f32, lengthResized: u32,\n     lengthOriginal: u32, roiStart: f32, roiEnd: f32) -> ".concat(t," { ")+(()=>{switch(e){case"asymmetric":return"\n          if (xScale < 1.0 || floor(xScale) != xScale) {\n            return ".concat(t,"(xResized) / ").concat(t,"(xScale);\n          } else {\n            ").concat(Vl("xResized","lengthOriginal","lengthResized",t),"\n          }\n        ");case"pytorch_half_pixel":return"if (lengthResized > 1) {\n                    return (".concat(t,"(xResized) + 0.5) / ").concat(t,"(xScale) - 0.5;\n                  } else {\n                    return 0.0;\n                  }");case"tf_half_pixel_for_nn":return"return (".concat(t,"(xResized) + 0.5) / ").concat(t,"(xScale);");case"align_corners":return"if (lengthResized == 1) {\n                    return 0.0;\n                  } else {\n                    ".concat(Vl("xResized","lengthOriginal - 1","lengthResized - 1",t),"\n                  }");case"tf_crop_and_resize":return"if (lengthResized > 1) {\n                    return ".concat(t,"(roiStart) * ").concat(t,"(lengthOriginal - 1) +\n                        (").concat(t,"(xResized) * ").concat(t,"(roiEnd - roiStart) * ").concat(t,"(lengthOriginal - 1)) /\n                        ").concat(t,"(lengthResized - 1);\n                  } else {\n                    return 0.5 * ").concat(t,"(roiStart + roiEnd) * ").concat(t,"(lengthOriginal - 1);\n                  }");case"half_pixel_symmetric":return"const outputWidth = ".concat(t,"xScale * ").concat(t,"(lengthResized);\n                  const adjustment = ").concat(t,"(lengthResized) / outputWidth;\n                  const center = ").concat(t,"(lengthOriginal) / 2;\n                  const offset = center * (1 - adjustment);\n                  return offset + ((").concat(t,"(xResized) + 0.5) / ").concat(t,"(xScale)) - 0.5;");case"half_pixel":return"return ((".concat(t,"(xResized) + 0.5) / ").concat(t,"(xScale)) - 0.5;");default:throw new Error("Coordinate transform mode ".concat(e," is not supported"))}})()+"}",ql=(e,t,n)=>"fn getNearestPixelFromOriginal(xOriginal: ".concat(n,", isDownSample: bool) -> ").concat(n," {")+(()=>{switch(e){case"round_prefer_ceil":return"if (fract(xOriginal) == 0.5) {             return ceil(xOriginal);           } else {             return round(xOriginal);           }";case"floor":return"return floor(xOriginal);";case"ceil":return"return ceil(xOriginal);";case"round_prefer_floor":return"if (fract(xOriginal) == 0.5) {                     return floor(xOriginal);                   } else {                     return round(xOriginal);                   }";default:if(t<11)return"if (isDownSample)                     {                       return ceil(xOriginal);                     } else {                       return xOriginal;                     }";throw new Error("Nearest mode ".concat(e," is not supported"))}})()+"}",Ul=(e,t,n)=>{let r=new Array(n).fill(0).concat(new Array(n).fill(1)),i=0===e.length?r:e.slice();return t.length>0?(t.forEach(((e,a)=>{r[e]=i[a],r[a+n]=i[t.length+a]})),r):i},Hl=(e,t,n,r)=>{let i=[];if(n.length>0)if(r.length>0){if(e.forEach((e=>i.push(e))),Math.max(...r)>e.length)throw new Error("axes is out of bound");r.forEach(((e,t)=>i[e]=n[t]))}else n.forEach((e=>i.push(e)));else{if(0===t.length)throw new Error("Resize requires either scales or sizes.");i=e.map(((e,n)=>Math.round(e*t[n])))}return i},Gl=(e,t,n)=>{let r=(()=>{switch(n.keepAspectRatioPolicy){case"not_larger":return n.axes.length>0?Math.min(...n.axes.map((e=>t[e])),Number.MAX_VALUE):Math.min(...t,Number.MAX_VALUE);case"not_smaller":return n.axes.length>0?Math.max(...n.axes.map((e=>t[e])),Number.MIN_VALUE):Math.max(...t,Number.MIN_VALUE);default:throw new Error("Keep aspect ratio policy ".concat(n.keepAspectRatioPolicy," is not supported"))}})();t.fill(1,0,t.length);let i=e.slice();return n.axes.length>0?(n.axes.forEach((e=>t[e]=r)),n.axes.forEach((n=>i[n]=Math.round(e[n]*t[n])))):(t.fill(r,0,t.length),i.forEach(((e,n)=>i[n]=Math.round(e*t[n])))),i},Kl=(e,t,n,r,i)=>"\n    fn calculateOriginalIndicesFromOutputIndices(output_indices: ".concat(e.type.indices,") -> array<").concat(e.type.value,", ").concat(n.length,"> {\n      var original_indices: array<").concat(e.type.value,", ").concat(n.length,">;\n      for (var i:u32 = 0; i < ").concat(n.length,"; i++) {\n        var output_index = ").concat(e.indicesGet("output_indices","i"),";\n        var scale = ").concat(En("uniforms.scales","i",r),";\n        var roi_low = ").concat(En("uniforms.roi","i",i),";\n        var roi_hi = ").concat(En("uniforms.roi","i + ".concat(t.length),i),";\n        if (scale == 1.0) {\n          original_indices[i] = ").concat(e.type.value,"(output_index);\n        } else {\n          var input_shape_i = ").concat(En("uniforms.input_shape","i",t.length),";\n          var output_shape_i = ").concat(En("uniforms.output_shape","i",n.length),";\n          original_indices[i] = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,\n                                                                           input_shape_i, roi_low, roi_hi);\n        }\n      }\n      return original_indices;\n    }"),Yl=(e,t,n,r,i,a,o)=>"\n    fn calculateInputIndicesFromOutputIndices(output_indices: ".concat(t.type.indices,") -> ").concat(e.type.indices," {\n      var input_indices: ").concat(e.type.indices,";\n      for (var i:u32 = 0; i < ").concat(r.length,"; i++) {\n        var output_index = ").concat(t.indicesGet("output_indices","i"),";\n        var input_index: u32;\n        var scale = ").concat(En("uniforms.scales","i",i),";\n        if (scale == 1.0) {\n          input_index = output_index;\n        } else {\n          var roi_low = ").concat(En("uniforms.roi","i",a),";\n          var roi_hi = ").concat(En("uniforms.roi","i + ".concat(n.length),a),";\n          var input_shape_i = ").concat(En("uniforms.input_shape","i",n.length),";\n          var output_shape_i = ").concat(En("uniforms.output_shape","i",r.length),";\n          var original_idx = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,\n                                                                        input_shape_i, roi_low, roi_hi);\n          if (!").concat(o," || (original_idx >= 0 && original_idx < ").concat(t.type.value,"(input_shape_i))) {\n            if (original_idx < 0) {\n              input_index = 0;\n            } else if (original_idx > ").concat(t.type.value,"(input_shape_i - 1)) {\n              input_index = input_shape_i - 1;\n            } else {\n              input_index = u32(getNearestPixelFromOriginal(original_idx, scale < 1));\n            }\n          } else {\n            input_index = u32(original_idx);\n          }\n        }\n        ").concat(e.indicesSet("input_indices","i","input_index"),"\n      }\n      return input_indices;\n    }"),Jl=(e,t)=>"\n    fn checkInputIndices(input_indices: ".concat(e.type.indices,") -> bool {\n      for (var i:u32 = 0; i < ").concat(t.length,"; i++) {\n        var input_index = ").concat(e.indicesGet("input_indices","i"),";\n        if (input_index < 0 || input_index >= ").concat(En("uniforms.input_shape","i",t.length),") {\n          return false;\n        }\n      }\n      return true;\n    }"),Zl=(e,t,n,r)=>e.rank>r?"\n    ".concat(e.indicesSet("input_indices",t,"channel"),";\n    ").concat(e.indicesSet("input_indices",n,"batch"),";\n"):"",Xl=(e,t,n,r,i)=>{let[a,o,s,l]=2===n.length?[-1,0,1,-1]:[0,2,3,1],c=e.type.value;return"\n    fn getInputValue(batch: u32, channel: u32, row: u32, col: u32) -> ".concat(c," {\n      var input_indices: ").concat(e.type.indices,";\n      ").concat(e.indicesSet("input_indices",o,"max(0, min(row, ".concat(n[o]," - 1))")),";\n      ").concat(e.indicesSet("input_indices",s,"max(0, min(col, ".concat(n[s]," - 1))")),";\n      ").concat(Zl(e,l,a,2),"\n      return ").concat(e.getByIndices("input_indices"),";\n    }\n\n    fn bilinearInterpolation(output_indices: ").concat(t.type.indices,") -> ").concat(c," {\n      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);\n      var row:").concat(c," = originalIndices[").concat(o,"];\n      var col:").concat(c," = originalIndices[").concat(s,"];\n      ").concat(r?"if (row < 0 || row > (".concat(n[o]," - 1) || col < 0 || col > (").concat(n[s]," - 1)) {\n        return ").concat(i,";\n      }"):"",";\n      row = max(0, min(row, ").concat(n[o]," - 1));\n      col = max(0, min(col, ").concat(n[s]," - 1));\n      var row1: u32 = u32(row);\n      var col1: u32 = u32(col);\n      var row2: u32 = u32(row + 1);\n      var col2: u32 = u32(col + 1);\n      var channel: u32 = ").concat(n.length>2?"u32(originalIndices[".concat(l,"])"):"0",";\n      var batch: u32 =  ").concat(n.length>2?"u32(originalIndices[".concat(a,"])"):"0",";\n      var x11: ").concat(c," = getInputValue(batch, channel, row1, col1);\n      var x12: ").concat(c," = getInputValue(batch, channel, row1, col2);\n      var x21: ").concat(c," = getInputValue(batch, channel, row2, col1);\n      var x22: ").concat(c," = getInputValue(batch, channel, row2, col2);\n      var dx1: ").concat(c," = abs(row - ").concat(c,"(row1));\n      var dx2: ").concat(c," = abs(").concat(c,"(row2) - row);\n      var dy1: ").concat(c," = abs(col - ").concat(c,"(col1));\n      var dy2: ").concat(c," = abs(").concat(c,"(col2) - col);\n      if (row1 == row2) {\n        dx1 = 0.5;\n        dx2 = 0.5;\n      }\n      if (col1 == col2) {\n        dy1 = 0.5;\n        dy2 = 0.5;\n      }\n      return (x11 * dx2 * dy2 + x12 * dx2 * dy1 + x21 * dx1 * dy2 + x22 * dx1 * dy1);\n    }")},$l=(e,t,n,r,i,a,o,s,l,c)=>{let u=2===n.length,[d,h]=u?[0,1]:[2,3],p=e.type.value,f=o=>{let u=o===d?"row":"col";return"\n      fn ".concat(u,"CubicInterpolation(input_indices: ").concat(e.type.indices,", output_indices: ").concat(t.type.indices,") -> ").concat(p," {\n        var output_index = ").concat(t.indicesGet("output_indices",o),";\n        var originalIdx: ").concat(p," = getOriginalCoordinateFromResizedCoordinate(output_index, ").concat(i[o],",\n        ").concat(r[o],", ").concat(n[o],", ").concat(a[o],", ").concat(a[o]," + ").concat(n.length,");\n        var fractOriginalIdx: ").concat(p," = originalIdx - floor(originalIdx);\n        var coefs = getCubicInterpolationCoefs(fractOriginalIdx);\n\n        if (").concat(s," && (originalIdx < 0 || originalIdx > (").concat(n[o]," - 1))) {\n          return ").concat(l,";\n        }\n        var data: array<").concat(p,", 4> = array<").concat(p,", 4>(0.0, 0.0, 0.0, 0.0);\n        for (var i: i32 = -1; i < 3; i++) {\n          var ").concat(u,": ").concat(p," = originalIdx + ").concat(p,"(i);\n          if (").concat(u," < 0 || ").concat(u," >= ").concat(n[o],") {\n            ").concat(c?"coefs[i + 1] = 0.0;\n                        continue;":s?"return ".concat(l,";"):"".concat(u," = max(0, min(").concat(u,", ").concat(n[o]," - 1));"),";\n          }\n        var input_indices_copy: ").concat(e.type.indices," = input_indices;\n          ").concat(e.indicesSet("input_indices_copy",o,"u32(".concat(u,")")),";\n          data[i + 1] = ").concat(o===d?e.getByIndices("input_indices_copy"):"rowCubicInterpolation(input_indices_copy, output_indices)",";\n        }\n        return cubicInterpolation1D(data, coefs);\n      }")};return"\n    ".concat(f(d),";\n    ").concat(f(h),";\n  fn getCubicInterpolationCoefs(s: ").concat(p,") -> array<").concat(p,", 4> {\n    var absS = abs(s);\n    var coeffs: array<").concat(p,", 4> = array<").concat(p,", 4>(0.0, 0.0, 0.0, 0.0);\n    var oneMinusAbsS: ").concat(p," = 1.0 - absS;\n    var twoMinusAbsS: ").concat(p," = 2.0 - absS;\n    var onePlusAbsS: ").concat(p," = 1.0 + absS;\n    coeffs[0] = ((").concat(o," * onePlusAbsS - 5 * ").concat(o,") * onePlusAbsS + 8 * ").concat(o,") * onePlusAbsS - 4 * ").concat(o,";\n    coeffs[1] = ((").concat(o," + 2) * absS - (").concat(o," + 3)) * absS * absS + 1;\n    coeffs[2] = ((").concat(o," + 2) * oneMinusAbsS - (").concat(o," + 3)) * oneMinusAbsS * oneMinusAbsS + 1;\n    coeffs[3] = ((").concat(o," * twoMinusAbsS - 5 * ").concat(o,") * twoMinusAbsS + 8 * ").concat(o,") * twoMinusAbsS - 4 * ").concat(o,";\n    return coeffs;\n  }\n\n  fn cubicInterpolation1D(x: array<").concat(p,", 4>, coefs: array<").concat(p,", 4>) -> ").concat(p," {\n    var coefsSum: ").concat(p," = coefs[0] + coefs[1] + coefs[2] + coefs[3];\n    return (x[0] * coefs[0] + x[1] * coefs[1]+ x[2] * coefs[2]+ x[3] * coefs[3]) / coefsSum;\n  }\n\n  fn bicubicInterpolation(output_indices: ").concat(t.type.indices,") -> ").concat(p," {\n    var input_indices: ").concat(e.type.indices," = output_indices;\n    return colCubicInterpolation(input_indices, output_indices);\n  }\n    ")},Ql=(e,t,n,r,i)=>{let[a,o,s,l,c]=3===n.length?[-1,0,1,2,-1]:[0,2,3,4,1],u=e.type.value;return"\n    fn getInputValue(batch: u32, channel: u32, depth:u32, height: u32, width: u32) -> ".concat(u," {\n      var input_indices: ").concat(e.type.indices,";\n      ").concat(e.indicesSet("input_indices",o,"max(0, min(depth, ".concat(n[o]," - 1))")),";\n      ").concat(e.indicesSet("input_indices",s,"max(0, min(height, ".concat(n[s]," - 1))")),";\n      ").concat(e.indicesSet("input_indices",l,"max(0, min(width, ".concat(n[l]," - 1))")),";\n      ").concat(Zl(e,c,a,3),"\n      return ").concat(e.getByIndices("input_indices"),";\n    }\n\n    fn trilinearInterpolation(output_indices: ").concat(t.type.indices,") -> ").concat(u," {\n      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);\n      var depth:").concat(u," = originalIndices[").concat(o,"];\n      var height:").concat(u," = originalIndices[").concat(s,"];\n      var width:").concat(u," = originalIndices[").concat(l,"];\n      ").concat(r?"if (depth < 0 || depth > (".concat(n[o]," - 1) || height < 0 || height > (").concat(n[s]," - 1) || width < 0 || (width > ").concat(n[l]," - 1)) {\n      return ").concat(i,";\n        }"):"",";\n\n    depth = max(0, min(depth, ").concat(n[o]," - 1));\n      height = max(0, min(height, ").concat(n[s]," - 1));\n      width = max(0, min(width, ").concat(n[l]," - 1));\n      var depth1: u32 = u32(depth);\n      var height1: u32 = u32(height);\n      var width1: u32 = u32(width);\n      var depth2: u32 = u32(depth + 1);\n      var height2: u32 = u32(height + 1);\n      var width2: u32 = u32(width + 1);\n      var channel: u32 = ").concat(n.length>3?"u32(originalIndices[".concat(c,"])"):"0",";\n      var batch: u32 =  ").concat(n.length>3?"u32(originalIndices[".concat(a,"])"):"0",";\n\n      var x111: ").concat(u," = getInputValue(batch, channel, depth1, height1, width1);\n      var x112: ").concat(u," = getInputValue(batch, channel, depth1, height1, width2);\n      var x121: ").concat(u," = getInputValue(batch, channel, depth1, height2, width1);\n      var x122: ").concat(u," = getInputValue(batch, channel, depth1, height2, width2);\n      var x211: ").concat(u," = getInputValue(batch, channel, depth2, height1, width1);\n      var x212: ").concat(u," = getInputValue(batch, channel, depth2, height1, width2);\n      var x221: ").concat(u," = getInputValue(batch, channel, depth2, height2, width1);\n      var x222: ").concat(u," = getInputValue(batch, channel, depth2, height2, width2);\n      var dx1: ").concat(u," = abs(depth - ").concat(u,"(depth1));\n      var dx2: ").concat(u," = abs(").concat(u,"(depth2) - depth);\n      var dy1: ").concat(u," = abs(height - ").concat(u,"(height1));\n      var dy2: ").concat(u," = abs(").concat(u,"(height2) - height);\n      var dz1: ").concat(u," = abs(width - ").concat(u,"(width1));\n      var dz2: ").concat(u," = abs(").concat(u,"(width2) - width);\n      if (depth1 == depth2) {\n        dx1 = 0.5;\n        dx2 = 0.5;\n      }\n      if (height1 == height2) {\n        dy1 = 0.5;\n        dy2 = 0.5;\n      }\n      if (width1 == width2) {\n        dz1 = 0.5;\n        dz2 = 0.5;\n      }\n      return (x111 * dx2 * dy2 * dz2 + x112 * dx2 * dy2 * dz1 + x121 * dx2 * dy1 *dz2 + x122 * dx2 * dy1 * dz1 +\n              x211 * dx1 * dy2 * dz2 + x212 * dx1 * dy2 * dz1 + x221 * dx1 * dy1 *dz2 + x222 * dx1 * dy1 * dz1);\n    }")},ec=(e,t,n,r,i,a)=>{let o=e.dims,s=Ul(a,t.axes,o.length),l=Hl(o,r,i,t.axes),c=r.slice();0===r.length&&(c=o.map(((e,t)=>0===e?1:l[t]/e)),"stretch"!==t.keepAspectRatioPolicy&&(l=Gl(o,c,t)));let u=In("output",e.dataType,l.length),d=Mn("input",e.dataType,o.length),h=qt.size(l),p=o.length===l.length&&o.every(((e,t)=>e===l[t])),f="tf_crop_and_resize"===t.coordinateTransformMode,m=t.extrapolationValue,g=d.type.value;return{name:"Resize",shaderCache:{hint:"".concat(t.cacheKey,"|").concat(n,"|").concat(c.length>0?"cubic"===t.mode?c:c.length:"","|").concat(i.length>0?i:"","|").concat(s.length>0?s:"","|").concat(p,"|").concat("nearest"===t.mode?o.length:o),inputDependencies:["rank"]},getShaderSource:e=>"\n      ".concat(p?"":"\n      ".concat(Wl(t.coordinateTransformMode,g),";\n      ").concat((()=>{switch(t.mode){case"nearest":return"\n              ".concat(Jl(d,o),";\n              ").concat(ql(t.nearestMode,n,g),";\n              ").concat(Yl(d,u,o,l,c.length,s.length,f),";\n              ");case"linear":return"\n              ".concat(Kl(u,o,l,c.length,s.length),";\n              ").concat((()=>{if(2===o.length||4===o.length)return"".concat(Xl(d,u,o,f,m));if(3===o.length||5===o.length)return"".concat(Ql(d,u,o,f,m));throw Error("Linear mode only supports input dims 2, 3, 4 and 5 are supported in linear mode.")})(),";\n            ");case"cubic":return"\n            ".concat((()=>{if(2===o.length||4===o.length)return"".concat($l(d,u,o,l,c,s,t.cubicCoeffA,f,t.extrapolationValue,t.excludeOutside));throw Error("Cubic mode only supports input dims 2 and 4 are supported in linear mode.")})(),";\n            ");default:throw Error("Invalid resize mode")}})(),";\n      "),"\n      ").concat(e.registerUniform("output_size","u32").registerUniform("scales","f32",c.length).registerUniform("roi","f32",s.length).declareVariables(d,u),"\n      ").concat(e.mainStart(),"\n        ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n        ").concat(p?"output[global_idx] = input[global_idx];":"\n        let output_indices = ".concat(u.offsetToIndices("global_idx"),";\n        var input_indices: ").concat(d.type.indices,";\n        ").concat((()=>{switch(t.mode){case"nearest":return"input_indices = calculateInputIndicesFromOutputIndices(output_indices);\n                if (checkInputIndices(input_indices)) {\n                  output[global_idx] = ".concat(d.getByIndices("input_indices"),";\n                } else {\n                  output[global_idx] = ").concat(t.extrapolationValue,";\n                }");case"linear":return"output[global_idx] = ".concat(2===o.length||4===o.length?"bilinearInterpolation":"trilinearInterpolation","(output_indices);");case"cubic":return"output[global_idx] = bicubicInterpolation(output_indices);";default:throw Error("Unsupported resize mode: ".concat(t.mode))}})(),";\n"),"\n      }"),getRunData:()=>({outputs:[{dims:l,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(h/64)},programUniforms:[{type:12,data:h},{type:1,data:c},{type:1,data:s},...Dn(o,l)]})}},tc=e=>{let t=e.customDataBuffer;return new Uint32Array(t,t.byteOffset,1)[0]},nc=(e,t)=>{let n=[],r=[],i=[],a=tc(e);if(0!==t.antialias)throw Error("Only default value (0) for Antialias attribute is supported");jl(e.inputs,t,a,n,r,i),e.compute(ec(e.inputs[0],t,a,n,r,i),{inputs:[0]})},rc=e=>{let t=e.antialias,n=e.axes,r=e.coordinateTransformMode,i=e.cubicCoeffA,a=0!==e.excludeOutside,o=e.extrapolationValue,s=e.keepAspectRatioPolicy,l=e.mode,c=""===e.nearestMode?"simple":e.nearestMode;return wn({antialias:t,axes:n,coordinateTransformMode:r,cubicCoeffA:i,excludeOutside:a,extrapolationValue:o,keepAspectRatioPolicy:s,mode:l,nearestMode:c})}})),Ru=pe((()=>{Nc(),Lc(),Hc(),ic=e=>{if(!e||e.length<3)throw new Error("layerNorm requires at least 3 inputs.");let t=e[0],n=e[1],r=e[2];if(t.dataType!==n.dataType||t.dataType!==r.dataType)throw new Error("All inputs must have the same data type");if(3!==t.dims.length&&2!==t.dims.length)throw new Error("Input must be 2D or 3D");if(3!==n.dims.length&&2!==n.dims.length)throw new Error("Skip must be 2D or 3D");let i=t.dims[t.dims.length-1],a=t.dims[t.dims.length-2];if(n.dims[n.dims.length-1]!==i)throw new Error("Skip must have the same hidden size as input");if(n.dims[n.dims.length-2]!==a)throw new Error("Skip must have the same sequence length as input");if(1!==r.dims.length)throw new Error("Gamma must be 1D");if(r.dims[r.dims.length-1]!==i)throw new Error("Gamma must have the same hidden size as input");if(e.length>3){let t=e[3];if(1!==t.dims.length)throw new Error("Beta must be 1D");if(t.dims[t.dims.length-1]!==i)throw new Error("Beta must have the same hidden size as input")}if(e.length>4){let t=e[4];if(1!==t.dims.length)throw new Error("Bias must be 1D");if(t.dims[t.dims.length-1]!==i)throw new Error("Bias must have the same hidden size as input")}},ac=(e,t,n,r)=>{let i=t.simplified,a=e[0].dims,o=qt.size(a),s=a,l=o,c=a.slice(-1)[0],u=r?a.slice(0,-1).concat(1):[],d=!i&&e.length>3,h=e.length>4,p=r&&n>1,f=r&&n>2,m=n>3,g=64,y=Tn(c),b=[{type:12,data:l},{type:12,data:y},{type:12,data:c},{type:1,data:t.epsilon}],w=[{dims:s,dataType:e[0].dataType}];return n>1&&w.push({dims:u,dataType:1}),n>2&&w.push({dims:u,dataType:1}),n>3&&w.push({dims:a,dataType:e[0].dataType}),{name:"SkipLayerNormalization",shaderCache:{hint:"".concat(y,";").concat(p,";").concat(f,";").concat(m),inputDependencies:e.map(((e,t)=>"type"))},getShaderSource:t=>{let n=[Mn("x",e[0].dataType,e[0].dims,y),Mn("skip",e[1].dataType,e[1].dims,y),Mn("gamma",e[2].dataType,e[2].dims,y)];d&&n.push(Mn("beta",e[3].dataType,e[3].dims,y)),h&&n.push(Mn("bias",e[4].dataType,e[4].dims,y)),n.push(In("output",e[0].dataType,s,y)),p&&n.push(In("mean_output",1,u)),f&&n.push(In("inv_std_output",1,u)),m&&n.push(In("input_skip_bias_sum",e[0].dataType,s,y));let r=xn(e[0].dataType),a=xn(1,y);return"\n\n      ".concat(t.registerUniforms([{name:"output_size",type:"u32"},{name:"components",type:"u32"},{name:"hidden_size",type:"u32"},{name:"epsilon",type:"f32"}]).declareVariables(...n),"\n      var<workgroup> sum_shared : array<").concat(a,", ").concat(g,">;\n      var<workgroup> sum_squared_shared : array<").concat(a,", ").concat(g,">;\n\n      ").concat(t.mainStart([g,1,1]),"\n        let ix = local_id.x;\n        let iy = global_id.x / ").concat(g,";\n\n        let hidden_size_vectorized: u32 = uniforms.hidden_size / uniforms.components;\n        var stride = hidden_size_vectorized / ").concat(g,";\n        let offset = ix * stride + iy * hidden_size_vectorized;\n        let offset1d = stride * ix;\n        if (ix == ").concat(63,") {\n          stride = hidden_size_vectorized - stride * ix;\n        }\n        for (var i: u32 = 0; i < stride; i++) {\n          let skip_value = skip[offset + i];\n          let bias_value = ").concat(h?"bias[offset1d + i]":r+"(0.0)",";\n          let input_value = x[offset + i];\n          let value = input_value + skip_value + bias_value;\n          ").concat(m?"input_skip_bias_sum[offset + i] = value;":"","\n          output[offset + i] = value;\n          let f32_value = ").concat(Sn(r,y,"value"),";\n          sum_shared[ix] += f32_value;\n          sum_squared_shared[ix] += f32_value * f32_value;\n        }\n        workgroupBarrier();\n\n        var reduce_size : u32 = ").concat(g,";\n        for (var curr_size = reduce_size >> 1;  curr_size > 0; curr_size = reduce_size >> 1) {\n          reduce_size = curr_size + (reduce_size & 1);\n          if (ix < curr_size) {\n            sum_shared[ix] += sum_shared[ix + reduce_size];\n            sum_squared_shared[ix] += sum_squared_shared[ix + reduce_size];\n          }\n          workgroupBarrier();\n        }\n\n        let sum = sum_shared[0];\n        let square_sum = sum_squared_shared[0];\n        let mean = ").concat(Cn("sum",y)," / f32(uniforms.hidden_size);\n        let inv_std_dev = inverseSqrt(").concat(Cn("square_sum",y)," / f32(uniforms.hidden_size) ").concat(i?"":"- mean * mean"," + uniforms.epsilon);\n        ").concat(p?"mean_output[global_idx] = mean;":"","\n        ").concat(f?"inv_std_output[global_idx] = inv_std_dev;":"","\n\n        for (var i: u32 = 0; i < stride; i++) {\n          output[offset + i] = (output[offset + i] ").concat(i?"":"- ".concat(r,"(mean)"),") *\n            ").concat(r,"(inv_std_dev) * gamma[offset1d + i]\n            ").concat(d?"+ beta[offset1d + i]":"",";\n        }\n      }")},getRunData:()=>({outputs:w,dispatchGroup:{x:Math.ceil(l/c)},programUniforms:b})}},oc=(e,t)=>{ic(e.inputs);let n=[0];e.outputCount>1&&n.push(-3),e.outputCount>2&&n.push(-3),e.outputCount>3&&n.push(3),e.compute(ac(e.inputs,t,e.outputCount,!1),{outputs:n})}})),ju=pe((()=>{Nc(),Lc(),Uc(),Hc(),sc=(e,t)=>{if(!e||e.length<1)throw new Error("too few inputs");if(0!==t.axes.length){if(t.axes.length!==t.starts.length||t.axes.length!==t.ends.length)throw new Error("axes, starts and ends must have the same length")}else if(t.starts.length!==t.ends.length)throw new Error("starts and ends must have the same length");e.slice(1).forEach(((t,n)=>{if(6!==e[n+1].dataType&&7!==e[n+1].dataType)throw new Error("Input ".concat(n," must be an array of int32 or int64"))}))},lc=(e,t)=>{let n=[];if(e.length>t)if(7===e[t].dataType)e[t].getBigInt64Array().forEach((e=>n.push(Number(e))));else{if(6!==e[t].dataType)throw new Error("Input ".concat(t," must be an array of int32 or int64"));e[t].getInt32Array().forEach((e=>n.push(Number(e))))}return n},cc=(e,t)=>{if(e.length>1){let t=lc(e,1),n=lc(e,2),r=lc(e,3);return 0===r.length&&(r=[...Array(e[0].dims.length).keys()]),wn({starts:t,ends:n,axes:r})}return t},uc=(e,t,n,r,i)=>{let a=e;return e<0&&(a+=n[r[t]]),i[t]<0?Math.max(0,Math.min(a,n[r[t]]-1)):Math.max(0,Math.min(a,n[r[t]]))},dc=(e,t,n)=>"fn calculateInputIndices(output_indices: ".concat(t.type.indices,") -> ").concat(e.type.indices," {\n          var input_indices: ").concat(e.type.indices,";\n          var carry = 0u;\n          for (var i = ").concat(n.length,"; i >= 0; i--) {\n            let input_shape_i = ").concat(En("uniforms.input_shape","i",n.length),";\n            let steps_i = ").concat(En("uniforms.steps","i",n.length),";\n            let signs_i = ").concat(En("uniforms.signs","i",n.length),";\n            let starts_i = ").concat(En("uniforms.starts","i",n.length),";\n            var output_index = ").concat(t.indicesGet("output_indices","i"),";\n            var input_index = output_index * steps_i + starts_i + carry;\n            carry = input_index / input_shape_i;\n            input_index = input_index % input_shape_i;\n            if (signs_i < 0) {\n              input_index = input_shape_i - input_index - 1u + starts_i;\n            }\n            ").concat(e.indicesSet("input_indices","i","input_index"),";\n          }\n          return input_indices;\n      }"),hc=(e,t)=>{let n=e[0].dims,r=qt.size(n),i=t.axes.length>0?qt.normalizeAxes(t.axes,n.length):[...Array(n.length).keys()],a=lc(e,4);a.forEach((e=>0!==e||(()=>{throw new Error("step cannot be 0")}))),0===a.length&&(a=Array(i.length).fill(1));let o=t.starts.map(((e,t)=>uc(e,t,n,i,a))),s=t.ends.map(((e,t)=>uc(e,t,n,i,a)));if(i.length!==o.length||i.length!==s.length)throw new Error("start, ends and axes should have the same number of elements");if(i.length!==n.length)for(let g=0;g<n.length;++g)i.includes(g)||(o.splice(g,0,0),s.splice(g,0,n[g]),a.splice(g,0,1));let l=a.map((e=>Math.sign(e)));a.forEach(((e,t,n)=>{if(e<0){let r=(s[t]-o[t])/e,i=o[t],l=i+r*a[t];o[t]=l,s[t]=i,n[t]=-e}}));let c=n.slice(0);i.forEach(((e,t)=>{c[e]=Math.ceil((s[e]-o[e])/a[e])}));let u={dims:c,dataType:e[0].dataType},d=In("output",e[0].dataType,c.length),h=Mn("input",e[0].dataType,e[0].dims.length),p=qt.size(c),f=[{name:"outputSize",type:"u32"},{name:"starts",type:"u32",length:o.length},{name:"signs",type:"i32",length:l.length},{name:"steps",type:"u32",length:a.length}],m=[{type:12,data:p},{type:12,data:o},{type:6,data:l},{type:12,data:a},...Dn(e[0].dims,c)];return{name:"Slice",shaderCache:{hint:"".concat(l.length,"_").concat(o.length,"_").concat(a.length),inputDependencies:["rank"]},getShaderSource:e=>"\n      ".concat(e.registerUniforms(f).declareVariables(h,d),"\n        ").concat(dc(h,d,n),"\n        ").concat(e.mainStart(),"\n          ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n          let output_indices = ").concat(d.offsetToIndices("global_idx"),";\n          let input_indices = calculateInputIndices(output_indices);\n          ").concat(d.setByOffset("global_idx",h.getByIndices("input_indices")),"\n      }"),getRunData:()=>({outputs:[u],dispatchGroup:{x:Math.ceil(r/64)},programUniforms:m})}},pc=(e,t)=>{sc(e.inputs,t);let n=cc(e.inputs,t);e.compute(hc(e.inputs,n),{inputs:[0]})},fc=e=>{let t=e.starts,n=e.ends,r=e.axes;return wn({starts:t,ends:n,axes:r})}})),Vu=pe((()=>{Nc(),Lc(),Uc(),Gc(),Hc(),mc=e=>{if(!e||1!==e.length)throw new Error("Softmax op requires 1 input.")},gc=(e,t)=>{let n,r=e.inputs[0],i=r.dims,a=qt.size(i),o=i.length,s=qt.normalizeAxis(t.axis,o),l=s<i.length-1,c=[];l?(c=Array.from({length:o},((e,t)=>t)),c[s]=o-1,c[o-1]=s,n=e.compute(qn(r,c),{inputs:[r],outputs:[-1]})[0]):n=r;let u=n.dims,d=u[o-1],h=a/d,p=Tn(d),f=d/p,m=64;1===h&&(m=256);let g=Mn("x",n.dataType,n.dims,p),y=In("result",n.dataType,n.dims,p),b=g.type.value,w="f32"===xn(n.dataType)?"var threadMax = ".concat(b,"(-3.402823e+38f);"):"var threadMax = ".concat(b,"(-65504.0h);"),v=e.compute({name:"Softmax",shaderCache:{hint:"".concat(p,";").concat(m),inputDependencies:["type"]},getRunData:()=>({outputs:[{dims:u,dataType:n.dataType}],dispatchGroup:{x:h},programUniforms:[{type:6,data:f}]}),getShaderSource:e=>"\n      var<workgroup> rowMaxShared : ".concat(b,";\n      var<workgroup> rowSumShared : ").concat(b,";\n      var<workgroup> threadShared : array<").concat(b,", ").concat(m,">;\n\n      fn getValue(row: i32, col: i32, row_stride: i32) -> ").concat(b," {\n        let index = row * row_stride + col;\n        return x[index];\n      }\n\n      fn setValue(row: i32, col: i32, row_stride: i32, value: ").concat(b,") {\n        let index = row * row_stride + col;\n        result[index] = value;\n      }\n      ").concat(e.registerUniform("packedCols","i32").declareVariables(g,y),"\n      ").concat(e.mainStart(m),"\n        let gindex = i32(global_idx);\n        let lindex = i32(local_idx);\n        const wg = ").concat(m,";\n        let row = gindex / wg;\n        let cols = uniforms.packedCols;\n        let row_stride : i32 = uniforms.packedCols;\n\n        // find the rows max\n        ").concat(w,"\n        for (var col = lindex; col < cols; col += wg) {\n          let value = getValue(row, col, row_stride);\n          threadMax = max(threadMax, value);\n        }\n        if (lindex < cols) {\n          threadShared[lindex] = threadMax;\n        }\n        workgroupBarrier();\n\n        var reduceSize = min(cols, wg);\n        for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {\n          reduceSize = currSize + (reduceSize & 1);\n          if (lindex < currSize) {\n            threadShared[lindex] = max(threadShared[lindex], threadShared[lindex + reduceSize]);\n          }\n          workgroupBarrier();\n        }\n        if (lindex == 0) {\n          rowMaxShared = ").concat(b,"(").concat(((e,t)=>4===t?"max(max(".concat(e,".x, ").concat(e,".y), max(").concat(e,".z, ").concat(e,".w))"):2===t?"max(".concat(e,".x, ").concat(e,".y)"):3===t?"max(max(".concat(e,".x, ").concat(e,".y), ").concat(e,".z)"):e)("threadShared[0]",p),");\n        }\n        workgroupBarrier();\n\n        // find the rows sum\n        var threadSum = ").concat(b,"(0.0);\n        for (var col = lindex; col < cols; col += wg) {\n          let subExp = exp(getValue(row, col, row_stride) - rowMaxShared);\n          threadSum += subExp;\n        }\n        threadShared[lindex] = threadSum;\n        workgroupBarrier();\n\n        for (var currSize = wg >> 1;  currSize > 0; currSize = currSize >> 1) {\n          if (lindex < currSize) {\n            threadShared[lindex] = threadShared[lindex] + threadShared[lindex + currSize];\n          }\n          workgroupBarrier();\n        }\n        if (lindex == 0) {\n          rowSumShared = ").concat(b,"(").concat(Cn("threadShared[0]",p),");\n        }\n        workgroupBarrier();\n\n        // calculate final value for each element in the row\n        for (var col = lindex; col < cols; col += wg) {\n          let value = exp(getValue(row, col, row_stride) - rowMaxShared) / rowSumShared;\n          setValue(row, col, row_stride, value);\n        }\n      }")},{inputs:[n],outputs:[l?-1:0]})[0];l&&e.compute(qn(v,c),{inputs:[v]})},yc=(e,t)=>{mc(e.inputs),gc(e,t)},bc=e=>wn({axis:e.axis})})),Wu=pe((()=>{Nc(),Lc(),Hc(),wc=e=>Array.from(e.getBigInt64Array(),Number),vc=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 inputs.");if(1!==e[0].dataType&&10!==e[0].dataType&&6!==e[0].dataType&&12!==e[0].dataType)throw new Error("Tile only support float, float16, int32, and uint32 data types");if(7!==e[1].dataType)throw new Error("Tile `repeats` input should be of int64 data type");if(1!==e[1].dims.length)throw new Error("Tile `repeats` input should be 1-D");if(wc(e[1]).length!==e[0].dims.length)throw new Error("Tile `repeats` input should have same number of elements as rank of input data tensor")},_c=(e,t)=>{let n=[];for(let r=0;r<e.length;++r)n.push(e[r]*t[r]);return n},xc=(e,t)=>{let n=e[0].dims,r=null!==t&&void 0!==t?t:wc(e[1]),i=_c(n,r),a=qt.size(i),o=e[0].dataType,s=Mn("input",o,n.length),l=In("output",o,i.length);return{name:"Tile",shaderCache:{hint:"".concat(r),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:i,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:[{type:12,data:a},...Dn(e[0].dims,i)]}),getShaderSource:e=>"\n      const inputShape = ".concat(s.indices(...n),";\n      ").concat(e.registerUniform("output_size","u32").declareVariables(s,l),"\n      ").concat(e.mainStart(),"\n      ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n      let output_indices = ").concat(l.offsetToIndices("global_idx"),";\n      var input_indices: ").concat(s.type.indices,";\n      for (var i = 0; i < ").concat(n.length,"; i++) {\n        let input_dim_i = ").concat(s.indicesGet("uniforms.input_shape","i"),";\n        let input_dim_value = ").concat(l.indicesGet("output_indices","i"),"  % input_dim_i;\n\n        ").concat(s.indicesSet("input_indices","i","input_dim_value"),"\n      }\n      ").concat(l.setByOffset("global_idx",s.getByIndices("input_indices")),"\n    }")}},kc=e=>{vc(e.inputs),e.compute(xc(e.inputs),{inputs:[0]})}})),qu=pe((()=>{Nc(),Lc(),Hc(),Dc=(e,t,n,r,i)=>{let a,o=In("output_data",i,n.length,4),s=Mn("a_data",t[1].dataType,t[1].dims.length,4),l=Mn("b_data",t[2].dataType,t[2].dims.length,4),c=Mn("c_data",t[0].dataType,t[0].dims.length,4),u=(e,t,n)=>"select(".concat(t,", ").concat(e,", ").concat(n,")");if(r){let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="a_data[index_a".concat(t,"][component_a").concat(t,"]"),i="b_data[index_b".concat(t,"][component_b").concat(t,"]"),a="bool(c_data[index_c".concat(t,"] & (0xffu << (component_c").concat(t," * 8)))");return"\n            let output_indices".concat(t," = ").concat(o.offsetToIndices("global_idx * 4u + ".concat(t,"u")),";\n            let offset_a").concat(t," = ").concat(s.broadcastedIndicesToOffset("output_indices".concat(t),o),";\n            let offset_b").concat(t," = ").concat(l.broadcastedIndicesToOffset("output_indices".concat(t),o),";\n            let offset_c").concat(t," = ").concat(c.broadcastedIndicesToOffset("output_indices".concat(t),o),";\n            let index_a").concat(t," = offset_a").concat(t," / 4u;\n            let index_b").concat(t," = offset_b").concat(t," / 4u;\n            let index_c").concat(t," = offset_c").concat(t," / 4u;\n            let component_a").concat(t," = offset_a").concat(t," % 4u;\n            let component_b").concat(t," = offset_b").concat(t," % 4u;\n            let component_c").concat(t," = offset_c").concat(t," % 4u;\n            ").concat(e,"[").concat(t,"] = ").concat(n,"(").concat(u(r,i,a),");\n          ")};a=9===i?"\n            var data = vec4<u32>(0);\n            ".concat(e("data",0,"u32"),"\n            ").concat(e("data",1,"u32"),"\n            ").concat(e("data",2,"u32"),"\n            ").concat(e("data",3,"u32"),"\n            output_data[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));"):"\n            ".concat(e("output_data[global_idx]",0),"\n            ").concat(e("output_data[global_idx]",1),"\n            ").concat(e("output_data[global_idx]",2),"\n            ").concat(e("output_data[global_idx]",3),"\n          ")}else a=o.setByOffset("global_idx",u(s.getByOffset("global_idx"),l.getByOffset("global_idx"),c.getByOffset("global_idx")));return"\n        ".concat(e.registerUniform("vec_size","u32").declareVariables(c,s,l,o),"\n        ").concat(e.mainStart(),"\n        ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size"),"\n        ").concat(a,"\n      }")},Tc=e=>{let t=e[1].dims,n=e[2].dims,r=e[0].dims,i=e[1].dataType,a=!(qt.areEqual(t,n)&&qt.areEqual(n,r)),o=t,s=qt.size(t);if(a){let e=Wt.calcShape(Wt.calcShape(t,n,!1),r,!1);if(!e)throw new Error("Can't perform where op on the given tensors");o=e,s=qt.size(o)}let l=Math.ceil(s/4);return{name:"Where",shaderCache:{inputDependencies:["rank","rank","rank"]},getShaderSource:t=>Dc(t,e,o,a,i),getRunData:()=>({outputs:[{dims:o,dataType:i}],dispatchGroup:{x:Math.ceil(s/64/4)},programUniforms:[{type:12,data:l},...Dn(r,t,n,o)]})}},Ac=e=>{e.compute(Tc(e.inputs))}})),Uu=pe((()=>{Jc(),Zc(),Xc(),$c(),eu(),tu(),nu(),du(),pu(),fu(),mu(),gu(),yu(),bu(),wu(),vu(),_u(),xu(),ku(),Du(),Cu(),Eu(),Fu(),Mu(),Iu(),Tu(),Pu(),zu(),Nu(),Ou(),Bu(),Yc(),Lu(),Su(),Ru(),ju(),Vu(),Au(),Wu(),Gc(),Qc(),qu(),Sc=new Map([["Abs",[oi]],["Acos",[si]],["Acosh",[li]],["Add",[ta]],["ArgMax",[Vr,Wr]],["ArgMin",[jr,Wr]],["Asin",[ci]],["Asinh",[ui]],["Atan",[di]],["Atanh",[hi]],["Attention",[Zr]],["AveragePool",[gl,ml]],["BatchNormalization",[ei]],["BiasAdd",[ri]],["BiasSplitGelu",[Xi]],["Cast",[fi,pi]],["Ceil",[yi]],["Clip",[gi]],["Concat",[ma,ga]],["Conv",[eo,Za]],["ConvTranspose",[uo,oo]],["Cos",[bi]],["Cosh",[wi]],["CumSum",[po,fo]],["DepthToSpace",[bo,wo]],["DequantizeLinear",[Sl,Cl]],["Div",[na]],["Einsum",[Co,Eo]],["Elu",[_i,vi]],["Equal",[ra]],["Erf",[ki]],["Exp",[Di]],["Expand",[zo]],["FastGelu",[Oo]],["Floor",[Ti]],["FusedConv",[eo,Za]],["Gather",[jo,Ro]],["GatherElements",[Xo,Zo]],["GatherBlockQuantized",[Go,Ko]],["GatherND",[Wo,qo]],["Gelu",[Ai]],["Gemm",[ts,es]],["GlobalAveragePool",[wl,bl]],["GlobalMaxPool",[Dl,kl]],["Greater",[sa]],["GreaterOrEqual",[ca]],["GridSample",[ps,fs]],["GroupQueryAttention",[Os]],["HardSigmoid",[zi,Pi]],["InstanceNormalization",[js]],["LayerNormalization",[qs]],["LeakyRelu",[Si,vi]],["Less",[la]],["LessOrEqual",[ua]],["Log",[Hi]],["MatMul",[Hs]],["MatMulNBits",[Js,Zs]],["MaxPool",[_l,xl]],["Mul",[ia]],["MultiHeadAttention",[_s,ys]],["Neg",[Ei]],["Not",[Ci]],["Pad",[al]],["Pow",[aa]],["QuickGelu",[Yi,vi]],["Range",[Ml]],["Reciprocal",[Fi]],["ReduceMin",[zr]],["ReduceMean",[Er]],["ReduceMax",[Pr]],["ReduceSum",[Or]],["ReduceProd",[Nr]],["ReduceL1",[Fr]],["ReduceL2",[Mr]],["ReduceLogSum",[Lr]],["ReduceLogSumExp",[Ir]],["ReduceSumSquare",[Br]],["Relu",[Mi]],["Resize",[nc,rc]],["RotaryEmbedding",[Ms]],["ScatterND",[Bl,Ol]],["Sigmoid",[Ii]],["Sin",[Ni]],["Sinh",[Oi]],["Slice",[pc,fc]],["SkipLayerNormalization",[oc]],["Split",[Ss,Cs]],["Sqrt",[Bi]],["Softmax",[yc,bc]],["Sub",[oa]],["Tan",[Li]],["Tanh",[ji]],["ThresholdedRelu",[Ui,vi]],["Tile",[kc]],["Transpose",[Un,Hn]],["Where",[Ac]]])})),Hu=pe((()=>{Ne(),Bc(),Hc(),Cc=class{constructor(e){this.backend=e,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n,r,i){ie(e.programInfo.name);let a=this.backend.device,o=this.backend.getComputePassEncoder();this.backend.writeTimestamp(2*this.backend.pendingDispatchNumber);let s=[];for(let c of t)s.push({binding:s.length,resource:{buffer:c.buffer}});for(let c of n)s.push({binding:s.length,resource:{buffer:c.buffer}});i&&s.push({binding:s.length,resource:i});let l=a.createBindGroup({layout:e.computePipeline.getBindGroupLayout(0),entries:s,label:e.programInfo.name});if("capturing"===this.backend.sessionStatus){let t={kernelId:this.backend.currentKernelId,computePipeline:e.computePipeline,bindGroup:l,dispatchGroup:r};this.backend.capturedCommandList.get(this.backend.currentSessionId).push(t)}o.setPipeline(e.computePipeline),o.setBindGroup(0,l),o.dispatchWorkgroups(...r),this.backend.writeTimestamp(2*this.backend.pendingDispatchNumber+1),this.backend.pendingDispatchNumber++,(this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber||"at-passes"===this.backend.queryType)&&this.backend.endComputePass(),this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber&&this.backend.flush(),ae(e.programInfo.name)}dispose(){}build(e,t){ie(e.name);let n=this.backend.device,r=[];[{feature:"shader-f16",extension:"f16"},{feature:"subgroups",extension:"subgroups"}].forEach((e=>{n.features.has(e.feature)&&r.push("enable ".concat(e.extension,";"))}));let i=On(t,this.backend.device.limits),a=e.getShaderSource(i),o="".concat(r.join("\n"),"\n").concat(i.additionalImplementations,"\n").concat(a),s=n.createShaderModule({code:o,label:e.name});jt("verbose",(()=>"[WebGPU] ".concat(e.name," shader code: ").concat(o)));let l=n.createComputePipeline({compute:{module:s,entryPoint:"main"},layout:"auto",label:e.name});return ae(e.name),{programInfo:e,computePipeline:l,uniformVariablesInfo:i.variablesInfo}}normalizeDispatchGroupSize(e){let t="number"==typeof e?e:e.x,n="number"==typeof e?1:e.y||1,r="number"==typeof e?1:e.z||1,i=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(t<=i&&n<=i&&r<=i)return[t,n,r];let a=t*n*r,o=Math.ceil(Math.sqrt(a));if(o>i){if(o=Math.ceil(Math.cbrt(a)),o>i)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[o,o,o]}return[o,o,1]}}})),Gu={};fe(Gu,{WebGpuBackend:()=>Zu});var Ku,Yu,Ju,Zu,Xu=pe((()=>{Ne(),Nc(),Bc(),Rc(),qc(),Uu(),Hu(),Ku=(e,t)=>{if(t.length!==e.length)throw new Error("inputDependencies length ".concat(t.length," is not equal to inputTensors length ").concat(e.length,"."));let n=[];for(let r=0;r<e.length;++r){let i=e[r].dataType;switch(t[r]){case"none":n.push("");break;case"type":n.push("".concat(i));break;case"rank":{let t=e[r].dims.length;n.push("".concat(i,";").concat(t));break}case"dims":{let t=e[r].dims.join(",");n.push("".concat(i,";").concat(t));break}default:throw new Error("unsupported input dependency: ".concat(t[r]))}}return n.join("|")},Yu=(e,t,n)=>{var r,i,a;let o=e.name;return null!==(r=e.shaderCache)&&void 0!==r&&r.hint&&(o+="["+e.shaderCache.hint+"]"),o+=":"+n+":".concat(Ku(t,null!==(i=null===(a=e.shaderCache)||void 0===a?void 0:a.inputDependencies)&&void 0!==i?i:new Array(t.length).fill("dims"))),o},Ju=class{constructor(e){e&&(this.architecture=e.architecture,this.vendor=e.vendor)}isArchitecture(e){return this.architecture===e}isVendor(e){return this.vendor===e}},Zu=class{constructor(){this.currentSessionId=null,this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.maxDispatchNumber=16,this.pendingDispatchNumber=0,this.pendingKernels=[],this.pendingQueries=new Map,this.sessionStatus="default",this.capturedCommandList=new Map,this.capturedPendingKernels=new Map,this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(null===this.currentKernelId)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let e=this.kernelCustomData.get(this.currentKernelId);return e||(e={},this.kernelCustomData.set(this.currentKernelId,e)),e}async initialize(e,t){this.env=e;let n=[],r={requiredLimits:{maxComputeWorkgroupStorageSize:t.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:t.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:t.limits.maxStorageBufferBindingSize,maxBufferSize:t.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:t.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:t.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:t.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:t.limits.maxComputeWorkgroupSizeZ},requiredFeatures:n},i=e=>t.features.has(e)&&n.push(e)&&!0;i("chromium-experimental-timestamp-query-inside-passes")||i("timestamp-query"),i("shader-f16"),i("subgroups"),this.device=await t.requestDevice(r),this.adapterInfo=new Ju(t.info||await t.requestAdapterInfo()),this.gpuDataManager=yn(this),this.programManager=new Cc(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,Lt(e.logLevel,!!e.debug),this.device.onuncapturederror=e=>{e.error instanceof GPUValidationError&&console.error("An uncaught WebGPU validation error was raised: ".concat(e.error.message))},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:t,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){let e=this.getCommandEncoder(),t={};"at-passes"===this.queryType&&(t.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:2*this.pendingDispatchNumber,endOfPassWriteIndex:2*this.pendingDispatchNumber+1}),this.computePassEncoder=e.beginComputePass(t)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;let e;ie(),this.endComputePass(),"none"!==this.queryType&&(this.commandEncoder.resolveQuerySet(this.querySet,0,2*this.pendingDispatchNumber,this.queryResolveBuffer,0),e=this.device.createBuffer({size:2*this.pendingDispatchNumber*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(e,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,e,0,2*this.pendingDispatchNumber*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,"none"!==this.queryType&&e.mapAsync(GPUMapMode.READ).then((()=>{let t=new BigUint64Array(e.getMappedRange()),n=this.pendingQueries.get(e);for(let e=0;e<t.length/2;e++){var r;let i=n[e],a=i.kernelId,o=this.kernels.get(a),s=o.kernelType,l=o.kernelName,c=i.programName,u=i.inputTensorViews,d=i.outputTensorViews,h=t[2*e],p=t[2*e+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=h);let f=Number(h-this.queryTimeBase),m=Number(p-this.queryTimeBase);if(!Number.isSafeInteger(f)||!Number.isSafeInteger(m))throw new RangeError("incorrect timestamp range");if(null!==(r=this.env.webgpu.profiling)&&void 0!==r&&r.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:u.map((e=>({dims:e.dims,dataType:At(e.dataType)}))),outputsMetadata:d.map((e=>({dims:e.dims,dataType:At(e.dataType)}))),kernelId:a,kernelType:s,kernelName:l,programName:c,startTime:f,endTime:m});else{let e="";u.forEach(((t,n)=>{e+="input[".concat(n,"]: [").concat(t.dims,"] | ").concat(At(t.dataType),", ")}));let t="";d.forEach(((e,n)=>{t+="output[".concat(n,"]: [").concat(e.dims,"] | ").concat(At(e.dataType),", ")})),console.log('[profiling] kernel "'.concat(a,"|").concat(s,"|").concat(l,"|").concat(c,'" ').concat(e).concat(t,"execution time: ").concat(m-f," ns"))}ne("GPU","".concat(c,"::").concat(h,"::").concat(p))}e.unmap(),this.pendingQueries.delete(e)})),ae()}run(e,t,n,r,i,a){ie(e.name);let o=[];for(let b=0;b<t.length;++b){let e=t[b].data;if(0===e)continue;let n=this.gpuDataManager.get(e);if(!n)throw new Error("no GPU data for input: ".concat(e));o.push(n)}let{outputs:s,dispatchGroup:l,programUniforms:c}=e.getRunData(t),u=0===n.length?s.map(((e,t)=>t)):n;if(u.length!==s.length)throw new Error("Output size ".concat(u.length," must be equal to ").concat(s.length,"."));let d,h=[],p=[];for(let b=0;b<s.length;++b){if(!Number.isInteger(u[b])||u[b]<-3||u[b]>=a)throw new Error("Invalid output index: ".concat(u[b]));if(-3===u[b])continue;let e=-1===u[b],t=-2===u[b],n=e||t?i(s[b].dataType,s[b].dims):r(u[b],s[b].dataType,s[b].dims);if(h.push(n),0===n.data)continue;let o=this.gpuDataManager.get(n.data);if(!o)throw new Error("no GPU data for output: ".concat(n.data));if(e&&this.temporaryData.push(o),t){let e=this.kernelPersistentData.get(this.currentKernelId);e||(e=[],this.kernelPersistentData.set(this.currentKernelId,e)),e.push(o)}p.push(o)}if(o.length!==t.length||p.length!==h.length){if(0===p.length)return ae(e.name),h;throw new Error("Program ".concat(e.name," has zero-sized tensor(s) in inputs or outputs. This is not supported now."))}if(c){let e=0,t=[];c.forEach((n=>{let r="number"==typeof n.data?[n.data]:n.data;if(0===r.length)return;let i,a,o=10===n.type?2:4;10===n.type?(a=r.length>4?16:r.length>2?8:r.length*o,i=r.length>4?16:o*r.length):(a=r.length<=2?r.length*o:16,i=16),e=Math.ceil(e/a)*a,t.push(e);let s=10===n.type?8:4;e+=r.length>4?Math.ceil(r.length/s)*i:r.length*o}));let n=16;e=Math.ceil(e/n)*n;let r=new ArrayBuffer(e);c.forEach(((e,n)=>{let i=t[n],a="number"==typeof e.data?[e.data]:e.data;if(6===e.type)new Int32Array(r,i,a.length).set(a);else if(12===e.type)new Uint32Array(r,i,a.length).set(a);else if(10===e.type)new Uint16Array(r,i,a.length).set(a);else{if(1!==e.type)throw new Error("Unsupported uniform type: ".concat(At(e.type)));new Float32Array(r,i,a.length).set(a)}}));let i=this.gpuDataManager.create(e,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(i.buffer,0,r,0,e),this.gpuDataManager.release(i.id),d={offset:0,size:e,buffer:i.buffer}}let f=this.programManager.normalizeDispatchGroupSize(l),m=1===f[1]&&1===f[2],g=Yu(e,t,m),y=this.programManager.getArtifact(g);if(y||(y=this.programManager.build(e,f),this.programManager.setArtifact(g,y),jt("info",(()=>"[artifact] key: ".concat(g,", programName: ").concat(e.name)))),c&&y.uniformVariablesInfo){if(c.length!==y.uniformVariablesInfo.length)throw new Error("Uniform variables count mismatch: expect ".concat(y.uniformVariablesInfo.length,", got ").concat(c.length,' in program "').concat(y.programInfo.name,'".'));for(let e=0;e<c.length;e++){let t=c[e],n=t.type,r="number"==typeof t.data?1:t.data.length,[i,a]=y.uniformVariablesInfo[e];if(n!==i||r!==a)throw new Error("Uniform variable ".concat(e," mismatch: expect type ").concat(i," with size ").concat(a,", got type ").concat(n," with size ").concat(r,' in program "').concat(y.programInfo.name,'".'))}}if(jt("info",(()=>'[ProgramManager] run "'.concat(e.name,'" (key=').concat(g,") with ").concat(f[0],"x").concat(f[1],"x").concat(f[2]))),"none"!==this.queryType||"capturing"===this.sessionStatus){let e={kernelId:this.currentKernelId,programName:y.programInfo.name,inputTensorViews:t,outputTensorViews:h};this.pendingKernels.push(e),"capturing"===this.sessionStatus&&this.capturedPendingKernels.get(this.currentSessionId).push(e)}return this.programManager.run(y,o,p,f,d),ae(e.name),h}upload(e,t){this.gpuDataManager.upload(e,t)}memcpy(e,t){this.gpuDataManager.memcpy(e,t)}async download(e,t){await this.gpuDataManager.download(e,t)}alloc(e){return this.gpuDataManager.create(e).id}free(e){return this.gpuDataManager.release(e)}createKernel(e,t,n,r){let i=Sc.get(e);if(!i)throw new Error("kernel not implemented: ".concat(e));let a={kernelType:e,kernelName:r,kernelEntry:i[0],attributes:[i[1],n]};this.kernels.set(t,a)}releaseKernel(e){let t=this.kernelPersistentData.get(e);if(t){for(let e of t)this.gpuDataManager.release(e.id);this.kernelPersistentData.delete(e)}this.kernelCustomData.delete(e),this.kernels.delete(e)}computeKernel(e,t,n){let r=this.kernels.get(e);if(!r)throw new Error("kernel not created: ".concat(e));let i=r.kernelType,a=r.kernelName,o=r.kernelEntry,s=r.attributes;if(null!==this.currentKernelId)throw new Error('kernel "['.concat(i,"] ").concat(a,'" is not allowed to be called recursively'));this.currentKernelId=e,s[0]&&(s[1]=s[0](s[1]),s[0]=void 0),jt("info",(()=>'[WebGPU] Start to run kernel "['.concat(i,"] ").concat(a,'"...')));let l=this.env.debug;this.temporaryData=[];try{return l&&this.device.pushErrorScope("validation"),o(t,s[1]),0}catch(c){return n.push(Promise.resolve('[WebGPU] Kernel "['.concat(i,"] ").concat(a,'" failed. ').concat(c))),1}finally{l&&n.push(this.device.popErrorScope().then((e=>e?'GPU validation error for kernel "['.concat(i,"] ").concat(a,'": ').concat(e.message):null)));for(let e of this.temporaryData)this.gpuDataManager.release(e.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(e,t,n,r){let i=this.sessionExternalDataMapping.get(e);i||(i=new Map,this.sessionExternalDataMapping.set(e,i));let a=i.get(t),o=this.gpuDataManager.registerExternalBuffer(n,r,a);return i.set(t,[o,n]),o}unregisterBuffers(e){let t=this.sessionExternalDataMapping.get(e);t&&(t.forEach((e=>this.gpuDataManager.unregisterExternalBuffer(e[0]))),this.sessionExternalDataMapping.delete(e))}getBuffer(e){let t=this.gpuDataManager.get(e);if(!t)throw new Error("no GPU data for buffer: ".concat(e));return t.buffer}createDownloader(e,t,n){return async()=>{let r=await mn(this,e,t);return Yt(r.buffer,n)}}writeTimestamp(e){"inside-passes"===this.queryType&&this.computePassEncoder.writeTimestamp(this.querySet,e)}setQueryType(){var e;this.queryType="none",("default"===(null===(e=this.env.webgpu.profiling)||void 0===e?void 0:e.mode)||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),"none"!==this.queryType&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:2*this.maxDispatchNumber}),this.queryResolveBuffer=this.device.createBuffer({size:2*this.maxDispatchNumber*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){jt("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){jt("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){jt("info","replay"),this.sessionStatus="replaying";let e=this.capturedCommandList.get(this.currentSessionId),t=this.capturedPendingKernels.get(this.currentSessionId),n=e.length;this.pendingKernels=[];for(let r=0;r<n;r++){let n=this.getComputePassEncoder(),i=e[r];this.writeTimestamp(2*this.pendingDispatchNumber),n.setPipeline(i.computePipeline),n.setBindGroup(0,i.bindGroup),n.dispatchWorkgroups(...i.dispatchGroup),this.writeTimestamp(2*this.pendingDispatchNumber+1),this.pendingDispatchNumber++,"none"!==this.queryType&&this.pendingKernels.push(t[r]),(this.pendingDispatchNumber>=this.maxDispatchNumber||"at-passes"===this.queryType)&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onCreateSession(){this.gpuDataManager.onCreateSession()}onReleaseSession(e){this.unregisterBuffers(e),this.capturedCommandList.has(e)&&this.capturedCommandList.delete(e),this.capturedPendingKernels.has(e)&&this.capturedPendingKernels.delete(e),this.gpuDataManager.onReleaseSession(e)}onRunStart(e){this.currentSessionId=e,this.setQueryType()}}})),$u={};fe($u,{init:()=>td});var Qu,ed,td,nd,rd,id,ad,od,sd,ld,cd,ud,dd,hd,pd,fd,md,gd,yd,bd,wd,vd,_d,xd,kd,Dd,Td,Ad,Sd,Cd,Ed,Fd,Md,Id,Pd,zd,Nd,Od=pe((()=>{Nc(),Bc(),Lc(),Vc(),Qu=class e{constructor(e,t,n,r){this.module=e,this.dataType=t,this.data=n,this.dims=r}getFloat32Array(){if(1!==this.dataType)throw new Error("Invalid data type");let e=qt.size(this.dims);return 0===e?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,e)}getBigInt64Array(){if(7!==this.dataType)throw new Error("Invalid data type");let e=qt.size(this.dims);return 0===e?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,e)}getInt32Array(){if(6!==this.dataType)throw new Error("Invalid data type");let e=qt.size(this.dims);return 0===e?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,e)}getUint16Array(){if(10!==this.dataType&&4!==this.dataType)throw new Error("Invalid data type");let e=qt.size(this.dims);return 0===e?new Uint16Array:new Uint16Array(this.module.HEAP8.buffer,this.data,e)}reshape(t){if(qt.size(t)!==qt.size(this.dims))throw new Error("Invalid new shape");return new e(this.module,this.dataType,this.data,t)}},ed=class{constructor(e,t,n){this.module=e,this.backend=t,this.customDataOffset=0,this.customDataSize=0,this.adapterInfo=t.adapterInfo;let r=e.PTR_SIZE,i=n/e.PTR_SIZE,a=4===r?"i32":"i64";this.opKernelContext=Number(e.getValue(r*i++,a));let o=Number(e.getValue(r*i++,a));this.outputCount=Number(e.getValue(r*i++,a)),this.customDataOffset=Number(e.getValue(r*i++,"*")),this.customDataSize=Number(e.getValue(r*i++,a));let s=[];for(let l=0;l<o;l++){let t=Number(e.getValue(r*i++,a)),n=Number(e.getValue(r*i++,"*")),o=Number(e.getValue(r*i++,a)),l=[];for(let s=0;s<o;s++)l.push(Number(e.getValue(r*i++,a)));s.push(new Qu(e,t,n,l))}this.inputs=s}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}compute(e,t){var n,r,i;let a=null!==(n=null===t||void 0===t||null===(r=t.inputs)||void 0===r?void 0:r.map((e=>"number"==typeof e?this.inputs[e]:e)))&&void 0!==n?n:this.inputs,o=null!==(i=null===t||void 0===t?void 0:t.outputs)&&void 0!==i?i:[];return this.backend.run(e,a,o,((e,t,n)=>new Qu(this.module,t,this.output(e,n),n)),((e,t)=>{let n=St(e,t);if(!n)throw new Error("Unsupported data type: ".concat(e));let r=n>0?this.backend.gpuDataManager.create(n).id:0;return new Qu(this.module,e,r,t)}),this.outputCount)}output(e,t){let n=this.module.stackSave();try{let n=this.module.PTR_SIZE,r=4===n?"i32":"i64",i=this.module.stackAlloc((1+t.length)*n);this.module.setValue(i,t.length,r);for(let e=0;e<t.length;e++)this.module.setValue(i+n*(e+1),t[e],r);return this.module._JsepOutput(this.opKernelContext,e,i)}catch(r){throw new Error("Failed to generate kernel's output[".concat(e,"] with dims [").concat(t,"]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ").concat(r))}finally{this.module.stackRestore(n)}}},td=async(e,t,n,r)=>{let i=t.jsepInit;if(!i)throw new Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if("webgpu"===e){let e=new(0,(Xu(),me(Gu)).WebGpuBackend);await e.initialize(n,r),i("webgpu",[e,t=>e.alloc(Number(t)),t=>e.free(t),function(n,r,i){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])jt("verbose",(()=>"[WebGPU] jsepCopyGpuToGpu: src=".concat(Number(n),", dst=").concat(Number(r),", size=").concat(Number(i)))),e.memcpy(Number(n),Number(r));else{jt("verbose",(()=>"[WebGPU] jsepCopyCpuToGpu: dataOffset=".concat(Number(n),", gpuDataId=").concat(Number(r),", size=").concat(Number(i))));let a=t.HEAPU8.subarray(Number(n>>>0),Number(n>>>0)+Number(i));e.upload(Number(r),a)}},async(n,r,i)=>{jt("verbose",(()=>"[WebGPU] jsepCopyGpuToCpu: gpuDataId=".concat(n,", dataOffset=").concat(r,", size=").concat(i))),await e.download(Number(n),(()=>t.HEAPU8.subarray(Number(r)>>>0,Number(r+i)>>>0)))},(n,r,i)=>e.createKernel(n,Number(r),i,t.UTF8ToString(t._JsepGetNodeName(Number(r)))),t=>e.releaseKernel(t),(n,r,i,a)=>{jt("verbose",(()=>"[WebGPU] jsepRun: sessionHandle=".concat(i,", kernel=").concat(n,", contextDataOffset=").concat(r)));let o=new ed(t,e,Number(r));return e.computeKernel(Number(n),o,a)},()=>e.captureBegin(),()=>e.captureEnd(),()=>e.replay()])}else{let e=new ln(n);i("webnn",[e,()=>e.reserveTensorId(),t=>e.releaseTensorId(t),async(t,n,r,i,a)=>e.ensureTensor(t,n,r,i,a),(t,n)=>{e.uploadTensor(t,n)},async(t,n)=>e.downloadTensor(t,n)])}}})),Bd=pe((()=>{Pc(),zc(),Nc(),Mc(),Ic(),Oc(),nd=(e,t)=>{0!==ft()._OrtInit(e,t)&&yt("Can't initialize onnxruntime.")},rd=async e=>{nd(e.wasm.numThreads,Et(e.logLevel))},id=async(e,t)=>{var n,r;null===(n=(r=ft()).asyncInit)||void 0===n||n.call(r);{let n=(Od(),me($u)).init;if("webgpu"===t){if(typeof navigator>"u"||!navigator.gpu)throw new Error("WebGPU is not supported in current environment");let t=e.webgpu.adapter;if(t){if("object"!=typeof t.limits||"object"!=typeof t.features||"function"!=typeof t.requestDevice)throw new Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{let n=e.webgpu.powerPreference;if(void 0!==n&&"low-power"!==n&&"high-performance"!==n)throw new Error('Invalid powerPreference setting: "'.concat(n,'"'));let r=e.webgpu.forceFallbackAdapter;if(void 0!==r&&"boolean"!=typeof r)throw new Error('Invalid forceFallbackAdapter setting: "'.concat(r,'"'));if(t=await navigator.gpu.requestAdapter({powerPreference:n,forceFallbackAdapter:r}),!t)throw new Error('Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.')}await n("webgpu",ft(),e,t)}if("webnn"===t){if(typeof navigator>"u"||!navigator.ml)throw new Error("WebNN is not supported in current environment");await n("webnn",ft(),e)}}},ad=new Map,od=e=>{let t=ft(),n=t.stackSave();try{let n=t.PTR_SIZE,r=t.stackAlloc(2*n);0!==t._OrtGetInputOutputCount(e,r,r+n)&&yt("Can't get session input/output count.");let i=4===n?"i32":"i64";return[Number(t.getValue(r,i)),Number(t.getValue(r+n,i))]}finally{t.stackRestore(n)}},sd=(e,t)=>{let n=ft(),r=n.stackSave(),i=0;try{let r=n.PTR_SIZE,a=n.stackAlloc(2*r);0!==n._OrtGetInputOutputMetadata(e,t,a,a+r)&&yt("Can't get session input/output metadata.");let o=Number(n.getValue(a,"*"));i=Number(n.getValue(a+r,"*"));let s=n.HEAP32[i/4];if(0===s)return[o,0];let l=n.HEAPU32[i/4+1],c=[];for(let e=0;e<l;e++){let t=Number(n.getValue(i+8+e*r,"*"));c.push(0!==t?n.UTF8ToString(t):Number(n.getValue(i+8+(e+l)*r,"*")))}return[o,s,c]}finally{n.stackRestore(r),0!==i&&n._OrtFree(i)}},ld=e=>{let t=ft(),n=t._malloc(e.byteLength);if(0===n)throw new Error("Can't create a session. failed to allocate a buffer of size ".concat(e.byteLength,"."));return t.HEAPU8.set(e,n),[n,e.byteLength]},cd=async(e,t)=>{let n,r,i=ft();Array.isArray(e)?[n,r]=e:e.buffer===i.HEAPU8.buffer?[n,r]=[e.byteOffset,e.byteLength]:[n,r]=ld(e);let a=0,o=0,s=0,l=[],c=[],u=[];try{var d,h;if([o,l]=await Dt(t),null!==t&&void 0!==t&&t.externalData&&i.mountExternalData){let e=[];for(let n of t.externalData){let t="string"==typeof n?n:n.path;e.push(Pt("string"==typeof n?n:n.data).then((e=>{i.mountExternalData(t,e)})))}await Promise.all(e)}for(let n of null!==(p=null===t||void 0===t?void 0:t.executionProviders)&&void 0!==p?p:[]){var p;if("webnn"===("string"==typeof n?n:n.name)){if(i.shouldTransferToMLTensor=!1,"string"!=typeof n){let e=n,t=null===e||void 0===e?void 0:e.context,r=null===e||void 0===e?void 0:e.gpuDevice,a=null===e||void 0===e?void 0:e.deviceType,o=null===e||void 0===e?void 0:e.powerPreference;i.currentContext=t||(r?await i.webnnCreateMLContext(r):await i.webnnCreateMLContext({deviceType:a,powerPreference:o}))}else i.currentContext=await i.webnnCreateMLContext();break}}a=await i._OrtCreateSession(n,r,o),null!==(d=i.webgpuOnCreateSession)&&void 0!==d&&d.call(i,a),0===a&&yt("Can't create a session."),null!==(h=i.jsepOnCreateSession)&&void 0!==h&&h.call(i),i.currentContext&&(i.webnnRegisterMLContext(a,i.currentContext),i.currentContext=void 0,i.shouldTransferToMLTensor=!0);let[e,g]=od(a),y=!(null===t||void 0===t||!t.enableGraphCapture),b=[],w=[],v=[],_=[],x=[];for(let t=0;t<e;t++){let[e,n,r]=sd(a,t);0===e&&yt("Can't get an input name."),c.push(e);let o=i.UTF8ToString(e);b.push(o),v.push(0===n?{name:o,isTensor:!1}:{name:o,isTensor:!0,type:At(n),shape:r})}for(let n=0;n<g;n++){let[r,o,s]=sd(a,n+e);0===r&&yt("Can't get an output name."),u.push(r);let l=i.UTF8ToString(r);w.push(l),_.push(0===o?{name:l,isTensor:!1}:{name:l,isTensor:!0,type:At(o),shape:s});{var f,m;if(y&&void 0===(null===t||void 0===t?void 0:t.preferredOutputLocation)){x.push("gpu-buffer");continue}let e="string"==typeof(null===t||void 0===t?void 0:t.preferredOutputLocation)?t.preferredOutputLocation:null!==(f=null===t||void 0===t||null===(m=t.preferredOutputLocation)||void 0===m?void 0:m[l])&&void 0!==f?f:"cpu";if("cpu"!==e&&"cpu-pinned"!==e&&"gpu-buffer"!==e&&"ml-tensor"!==e)throw new Error("Not supported preferred output location: ".concat(e,"."));if(y&&"gpu-buffer"!==e)throw new Error("Not supported preferred output location: ".concat(e,". Only 'gpu-buffer' location is supported when enableGraphCapture is true."));x.push(e)}}let k=null;return x.some((e=>"gpu-buffer"===e||"ml-tensor"===e))&&(s=i._OrtCreateBinding(a),0===s&&yt("Can't create IO binding."),k={handle:s,outputPreferredLocations:x,outputPreferredLocationsEncoded:x.map((e=>It(e)))}),ad.set(a,[a,c,u,k,y,!1]),[a,b,w,v,_]}catch(Pv){throw c.forEach((e=>i._OrtFree(e))),u.forEach((e=>i._OrtFree(e))),0!==s&&0!==i._OrtReleaseBinding(s)&&yt("Can't release IO binding."),0!==a&&0!==i._OrtReleaseSession(a)&&yt("Can't release session."),Pv}finally{var g;i._free(n),0!==o&&0!==i._OrtReleaseSessionOptions(o)&&yt("Can't release session options."),l.forEach((e=>i._free(e))),null===(g=i.unmountExternalData)||void 0===g||g.call(i)}},ud=e=>{var t,n,r;let i=ft(),a=ad.get(e);if(!a)throw new Error("cannot release session. invalid session id: ".concat(e));let[o,s,l,c,u]=a;c&&(u&&0!==i._OrtClearBoundOutputs(c.handle)&&yt("Can't clear bound outputs."),0!==i._OrtReleaseBinding(c.handle)&&yt("Can't release IO binding.")),null!==(t=i.jsepOnReleaseSession)&&void 0!==t&&t.call(i,e),null!==(n=i.webnnOnReleaseSession)&&void 0!==n&&n.call(i,e),null!==(r=i.webgpuOnReleaseSession)&&void 0!==r&&r.call(i,e),s.forEach((e=>i._OrtFree(e))),l.forEach((e=>i._OrtFree(e))),0!==i._OrtReleaseSession(o)&&yt("Can't release session."),ad.delete(e)},dd=async function(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!e)return void t.push(0);let s,l,c=ft(),u=c.PTR_SIZE,d=e[0],h=e[1],p=e[3],f=p;if("string"===d&&("gpu-buffer"===p||"ml-tensor"===p))throw new Error("String tensor is not supported on GPU.");if(o&&"gpu-buffer"!==p)throw new Error("External buffer must be provided for input/output index ".concat(a," when enableGraphCapture is true."));if("gpu-buffer"===p){let t=e[2].gpuBuffer;l=St(Tt(d),h);{let e=c.jsepRegisterBuffer;if(!e)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');s=e(r,a,t,l)}}else if("ml-tensor"===p){let t=e[2].mlTensor;l=St(Tt(d),h);let n=c.webnnRegisterMLTensor;if(!n)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');s=n(r,t,Tt(d),h)}else{let t=e[2];if(Array.isArray(t)){l=u*t.length,s=c._malloc(l),n.push(s);for(let e=0;e<t.length;e++){if("string"!=typeof t[e])throw new TypeError("tensor data at index ".concat(e," is not a string"));c.setValue(s+e*u,mt(t[e],n),"*")}}else{let e=c.webnnIsGraphInput;if("string"!==d&&e){if(e(r,c.UTF8ToString(i))){let e=Tt(d);l=St(e,h),f="ml-tensor";let n=c.webnnCreateTemporaryTensor,i=c.webnnUploadTensor;if(!n||!i)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');let a=await n(r,e,h);i(a,new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),s=a}else l=t.byteLength,s=c._malloc(l),n.push(s),c.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,l),s)}else l=t.byteLength,s=c._malloc(l),n.push(s),c.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,l),s)}}let m=c.stackSave(),g=c.stackAlloc(4*h.length);try{h.forEach(((e,t)=>c.setValue(g+t*u,e,4===u?"i32":"i64")));let e=c._OrtCreateTensor(Tt(d),s,l,g,h.length,It(f));0===e&&yt("Can't create tensor for input/output. session=".concat(r,", index=").concat(a,".")),t.push(e)}finally{c.stackRestore(m)}},hd=async(e,t,n,r,i,a)=>{let o=ft(),s=o.PTR_SIZE,l=ad.get(e);if(!l)throw new Error("cannot run inference. invalid session id: ".concat(e));let c=l[0],u=l[1],d=l[2],h=l[3],p=l[4],f=l[5],m=t.length,g=r.length,y=0,b=[],w=[],v=[],_=[],x=o.stackSave(),k=o.stackAlloc(m*s),D=o.stackAlloc(m*s),T=o.stackAlloc(g*s),A=o.stackAlloc(g*s);try{var S,C;[y,b]=bt(a);for(let r=0;r<m;r++)await dd(n[r],w,_,e,u[t[r]],t[r],p);for(let t=0;t<g;t++)await dd(i[t],v,_,e,d[r[t]],m+r[t],p);for(let e=0;e<m;e++)o.setValue(k+e*s,w[e],"*"),o.setValue(D+e*s,u[t[e]],"*");for(let e=0;e<g;e++)o.setValue(T+e*s,v[e],"*"),o.setValue(A+e*s,d[r[e]],"*");if(h&&!f){let{handle:n,outputPreferredLocations:a,outputPreferredLocationsEncoded:s}=h;if(u.length!==m)throw new Error("input count from feeds (".concat(m,") is expected to be always equal to model's input count (").concat(u.length,")."));for(let r=0;r<m;r++){let i=t[r];0!==await o._OrtBindInput(n,u[i],w[r])&&yt("Can't bind input[".concat(r,"] for session=").concat(e,"."))}for(let t=0;t<g;t++){var E;let l=r[t];null!==(E=i[t])&&void 0!==E&&E[3]?0!==o._OrtBindOutput(n,d[l],v[t],0)&&yt("Can't bind pre-allocated output[".concat(t,"] for session=").concat(e,".")):0!==o._OrtBindOutput(n,d[l],0,s[l])&&yt("Can't bind output[".concat(t,"] to ").concat(a[t]," for session=").concat(e,"."))}ad.set(e,[c,u,d,h,p,!0])}let l;null!==(S=o.jsepOnRunStart)&&void 0!==S&&S.call(o,c),null===(C=o.webnnOnRunStart)||void 0===C||C.call(o,c),l=h?await o._OrtRunWithBinding(c,h.handle,g,T,y):await o._OrtRun(c,D,k,m,A,g,T,y),0!==l&&yt("failed to call OrtRun().");let x=[];for(let t=0;t<g;t++){let n=Number(o.getValue(T+t*s,"*"));if(n===v[t]){x.push(i[t]);continue}let a,l=o.stackSave(),u=o.stackAlloc(4*s),d=!1,p=0;try{0!==o._OrtGetTensorData(n,u,u+s,u+2*s,u+3*s)&&yt("Can't access output tensor data on index ".concat(t,"."));let i=4===s?"i32":"i64",l=Number(o.getValue(u,i));p=o.getValue(u+s,"*");let c=o.getValue(u+2*s,"*"),f=Number(o.getValue(u+3*s,i)),m=[];for(let e=0;e<f;e++)m.push(Number(o.getValue(c+e*s,i)));0!==o._OrtFree(c)&&yt("Can't free memory for tensor dims.");let g=m.reduce(((e,t)=>e*t),1);a=At(l);let y=null===h||void 0===h?void 0:h.outputPreferredLocations[r[t]];if("string"===a){if("gpu-buffer"===y||"ml-tensor"===y)throw new Error("String tensor is not supported on GPU.");let e=[];for(let t=0;t<g;t++){let n=o.getValue(p+t*s,"*"),r=o.getValue(p+(t+1)*s,"*"),i=t===g-1?void 0:r-n;e.push(o.UTF8ToString(n,i))}x.push([a,m,e,"cpu"])}else if("gpu-buffer"===y&&g>0){let e=o.jsepGetBuffer;if(!e)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let t=e(p),r=St(l,g);if(void 0===r||!Ft(a))throw new Error("Unsupported data type: ".concat(a));d=!0,x.push([a,m,{gpuBuffer:t,download:o.jsepCreateDownloader(t,r,a),dispose:()=>{0!==o._OrtReleaseTensor(n)&&yt("Can't release tensor.")}},"gpu-buffer"])}else if("ml-tensor"===y&&g>0){let t=o.webnnEnsureTensor,r=o.webnnIsInt64Supported;if(!t||!r)throw new Error('preferredLocation "ml-tensor" is not supported without using WebNN.');if(void 0===St(l,g)||!Mt(a))throw new Error("Unsupported data type: ".concat(a));if("int64"===a&&!r(e))throw new Error('preferredLocation "ml-tensor" for int64 output is not supported by current WebNN Context.');let i=await t(e,p,l,m,!1);d=!0,x.push([a,m,{mlTensor:i,download:o.webnnCreateMLTensorDownloader(p,a),dispose:()=>{o.webnnReleaseTensorId(p),o._OrtReleaseTensor(n)}},"ml-tensor"])}else{let e=new(Ct(a))(g);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(o.HEAPU8.subarray(p,p+e.byteLength)),x.push([a,m,e,"cpu"])}}finally{var F;o.stackRestore(l),"string"===a&&p&&o._free(p),d||o._OrtReleaseTensor(n),null===(F=o.webnnOnRunEnd)||void 0===F||F.call(o,c)}}return h&&!p&&(0!==o._OrtClearBoundOutputs(h.handle)&&yt("Can't clear bound outputs."),ad.set(e,[c,u,d,h,p,!1])),x}finally{o.stackRestore(x),w.forEach((e=>o._OrtReleaseTensor(e))),v.forEach((e=>o._OrtReleaseTensor(e))),_.forEach((e=>o._free(e))),0!==y&&o._OrtReleaseRunOptions(y),b.forEach((e=>o._free(e)))}},pd=e=>{let t=ft(),n=ad.get(e);if(!n)throw new Error("invalid session id");let r=n[0],i=t._OrtEndProfiling(r);0===i&&yt("Can't get an profile file name."),t._OrtFree(i)},fd=e=>{let t=[];for(let n of e){let e=n[2];!Array.isArray(e)&&"buffer"in e&&t.push(e.buffer)}return t}})),Ld=pe((()=>{Ne(),Bd(),Mc(),Fc(),md=()=>!!R.wasm.proxy&&typeof document<"u",yd=!1,bd=!1,wd=!1,xd=new Map,kd=(e,t)=>{let n=xd.get(e);n?n.push(t):xd.set(e,[t])},Dd=()=>{if(yd||!bd||wd||!gd)throw new Error("worker not ready")},Td=e=>{switch(e.data.type){case"init-wasm":yd=!1,e.data.err?(wd=!0,_d[1](e.data.err)):(bd=!0,_d[0]()),vd&&(URL.revokeObjectURL(vd),vd=void 0);break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let t=xd.get(e.data.type);e.data.err?t.shift()[1](e.data.err):t.shift()[0](e.data.out);break}}},Ad=async()=>{if(!bd){if(yd)throw new Error("multiple calls to 'initWasm()' detected.");if(wd)throw new Error("previous call to 'initWasm()' failed.");if(yd=!0,md())return new Promise(((e,t)=>{var n;null!==(n=gd)&&void 0!==n&&n.terminate(),rt().then((n=>{let[r,i]=n;try{(gd=i).onerror=e=>t(e),gd.onmessage=Td,_d=[e,t];let n={type:"init-wasm",in:R};!n.in.wasm.wasmPaths&&(r||Ke)&&(n.in.wasm.wasmPaths={wasm:new URL(__webpack_require__(98),__webpack_require__.b).href}),gd.postMessage(n),vd=r}catch(a){t(a)}}),t)}));try{await pt(R.wasm),await rd(R),bd=!0}catch(F){throw wd=!0,F}finally{yd=!1}}},Sd=async e=>{if(md())return Dd(),new Promise(((t,n)=>{kd("init-ep",[t,n]);let r={type:"init-ep",in:{epName:e,env:R}};gd.postMessage(r)}));await id(R,e)},Cd=async e=>md()?(Dd(),new Promise(((t,n)=>{kd("copy-from",[t,n]);let r={type:"copy-from",in:{buffer:e}};gd.postMessage(r,[e.buffer])}))):ld(e),Ed=async(e,t)=>{if(md()){if(null!==t&&void 0!==t&&t.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Dd(),new Promise(((n,r)=>{kd("create",[n,r]);let i={type:"create",in:{model:e,options:u({},t)}},a=[];e instanceof Uint8Array&&a.push(e.buffer),gd.postMessage(i,a)}))}return cd(e,t)},Fd=async e=>{if(md())return Dd(),new Promise(((t,n)=>{kd("release",[t,n]);let r={type:"release",in:e};gd.postMessage(r)}));ud(e)},Md=async(e,t,n,r,i,a)=>{if(md()){if(n.some((e=>"cpu"!==e[3])))throw new Error("input tensor on GPU is not supported for proxy.");if(i.some((e=>e)))throw new Error("pre-allocated output tensor is not supported for proxy.");return Dd(),new Promise(((i,o)=>{kd("run",[i,o]);let s=n,l={type:"run",in:{sessionId:e,inputIndices:t,inputs:s,outputIndices:r,options:a}};gd.postMessage(l,fd(s))}))}return hd(e,t,n,r,i,a)},Id=async e=>{if(md())return Dd(),new Promise(((t,n)=>{kd("end-profiling",[t,n]);let r={type:"end-profiling",in:e};gd.postMessage(r)}));pd(e)}})),Rd=pe((()=>{Ne(),Ld(),Nc(),Oe(),Oc(),Pd=(e,t)=>{switch(e.location){case"cpu":return[e.type,e.dims,e.data,"cpu"];case"gpu-buffer":return[e.type,e.dims,{gpuBuffer:e.gpuBuffer},"gpu-buffer"];case"ml-tensor":return[e.type,e.dims,{mlTensor:e.mlTensor},"ml-tensor"];default:throw new Error("invalid data location: ".concat(e.location," for ").concat(t()))}},zd=e=>{switch(e[3]){case"cpu":return new te(e[0],e[2],e[1]);case"gpu-buffer":{let t=e[0];if(!Ft(t))throw new Error("not supported data type: ".concat(t," for deserializing GPU tensor"));let{gpuBuffer:n,download:r,dispose:i}=e[2];return te.fromGpuBuffer(n,{dataType:t,dims:e[1],download:r,dispose:i})}case"ml-tensor":{let t=e[0];if(!Mt(t))throw new Error("not supported data type: ".concat(t," for deserializing MLTensor tensor"));let{mlTensor:n,download:r,dispose:i}=e[2];return te.fromMLTensor(n,{dataType:t,dims:e[1],download:r,dispose:i})}default:throw new Error("invalid data location: ".concat(e[3]))}},Nd=class{async fetchModelAndCopyToWasmMemory(e){return Cd(await Pt(e))}async loadModel(e,t){let n;ie(),n="string"==typeof e?await this.fetchModelAndCopyToWasmMemory(e):e,[this.sessionId,this.inputNames,this.outputNames,this.inputMetadata,this.outputMetadata]=await Ed(n,t),ae()}async dispose(){return Fd(this.sessionId)}async run(e,t,n){ie();let r=[],i=[];Object.entries(e).forEach((e=>{let t=e[0],n=e[1],a=this.inputNames.indexOf(t);if(-1===a)throw new Error("invalid input '".concat(t,"'"));r.push(n),i.push(a)}));let a=[],o=[];Object.entries(t).forEach((e=>{let t=e[0],n=e[1],r=this.outputNames.indexOf(t);if(-1===r)throw new Error("invalid output '".concat(t,"'"));a.push(n),o.push(r)}));let s=r.map(((e,t)=>Pd(e,(()=>'input "'.concat(this.inputNames[i[t]],'"'))))),l=a.map(((e,t)=>e?Pd(e,(()=>'output "'.concat(this.outputNames[o[t]],'"'))):null)),c=await Md(this.sessionId,i,s,o,l,n),u={};for(let h=0;h<c.length;h++){var d;u[this.outputNames[o[h]]]=null!==(d=a[h])&&void 0!==d?d:zd(c[h])}return ae(),u}startProfiling(){}endProfiling(){Id(this.sessionId)}}})),jd={};fe(jd,{OnnxruntimeWebAssemblyBackend:()=>Wd,initializeFlags:()=>Vd,wasmBackend:()=>qd});var Vd,Wd,qd,Ud=pe((()=>{Ne(),Ld(),Rd(),Vd=()=>{("number"!=typeof R.wasm.initTimeout||R.wasm.initTimeout<0)&&(R.wasm.initTimeout=0);let e=R.wasm.simd;if("boolean"!=typeof e&&void 0!==e&&"fixed"!==e&&"relaxed"!==e&&(console.warn('Property "env.wasm.simd" is set to unknown value "'.concat(e,'". Reset it to `false` and ignore SIMD feature checking.')),R.wasm.simd=!1),"boolean"!=typeof R.wasm.proxy&&(R.wasm.proxy=!1),"boolean"!=typeof R.wasm.trace&&(R.wasm.trace=!1),"number"!=typeof R.wasm.numThreads||!Number.isInteger(R.wasm.numThreads)||R.wasm.numThreads<=0)if(typeof self<"u"&&!self.crossOriginIsolated)R.wasm.numThreads=1;else{let e=typeof navigator>"u"?he("node:os").cpus().length:navigator.hardwareConcurrency;R.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},Wd=class{async init(e){Vd(),await Ad(),await Sd(e)}async createInferenceSessionHandler(e,t){let n=new Nd;return await n.loadModel(e,t),n}},qd=new Wd}));Ne(),Ne(),Ne();var Hd=ze;{let e=(Ud(),me(jd)).wasmBackend;P("webgpu",e,5),P("webnn",e,5),P("cpu",e,10),P("wasm",e,10)}Object.defineProperty(R.versions,"web",{value:"1.22.0-dev.20250409-89f8206ba4",enumerable:!0});const Gd=["skip_prompt","callback_function","token_callback_function","skip_special_tokens","decode_kwargs"],Kd=["encoder_outputs","input_ids","decoder_input_ids"],Yd=["past_key_values"],Jd=["encode_function","merge_function","modality_input_name","modality_output_name","input_ids","attention_mask","position_ids","inputs_embeds","past_key_values","generation_config","logits_processor"],Zd=["input_ids","pixel_values","attention_mask"],Xd=["decoder_input_ids"],$d=["inputs","generation_config","logits_processor","stopping_criteria","streamer"],Qd=["inputs","generation_config","logits_processor","stopping_criteria"],eh=["input_ids","attention_mask","pixel_values","image_sizes","position_ids","inputs_embeds","past_key_values","generation_config","logits_processor"],th=["logits"],nh=["resize_mode","fill_color","interpolation","size"],rh=["tools","documents","chat_template","add_generation_prompt","tokenize","padding","truncation","max_length","return_tensor","return_dict","tokenizer_kwargs"];var ih={"onnxruntime-common":t=>{t.exports=e},"onnxruntime-web":e=>{e.exports=t},"?2ce3":()=>{},"?7a2c":()=>{},"?a42a":()=>{},"?2b25":()=>{},"?569f":()=>{},"?3f59":()=>{},"?154a":()=>{},"./node_modules/@huggingface/jinja/dist/index.js":(e,t,n)=>{n.r(t),n.d(t,{Environment:()=>ne,Interpreter:()=>re,Template:()=>de,parse:()=>R,tokenize:()=>d});var r=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",NullLiteral:"NullLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndSet:"EndSet",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator",Macro:"Macro",EndMacro:"EndMacro",Break:"Break",Continue:"Continue"}),i=Object.freeze({set:r.Set,for:r.For,in:r.In,is:r.Is,if:r.If,else:r.Else,endset:r.EndSet,endif:r.EndIf,elif:r.ElseIf,endfor:r.EndFor,and:r.And,or:r.Or,not:r.Not,"not in":r.NotIn,macro:r.Macro,endmacro:r.EndMacro,break:r.Break,continue:r.Continue,true:r.BooleanLiteral,false:r.BooleanLiteral,none:r.NullLiteral,True:r.BooleanLiteral,False:r.BooleanLiteral,None:r.NullLiteral}),a=class{constructor(e,t){this.value=e,this.type=t}};function o(e){return/\w/.test(e)}function s(e){return/[0-9]/.test(e)}var c=[["{%",r.OpenStatement],["%}",r.CloseStatement],["{{",r.OpenExpression],["}}",r.CloseExpression],["(",r.OpenParen],[")",r.CloseParen],["{",r.OpenCurlyBracket],["}",r.CloseCurlyBracket],["[",r.OpenSquareBracket],["]",r.CloseSquareBracket],[",",r.Comma],[".",r.Dot],[":",r.Colon],["|",r.Pipe],["<=",r.ComparisonBinaryOperator],[">=",r.ComparisonBinaryOperator],["==",r.ComparisonBinaryOperator],["!=",r.ComparisonBinaryOperator],["<",r.ComparisonBinaryOperator],[">",r.ComparisonBinaryOperator],["+",r.AdditiveBinaryOperator],["-",r.AdditiveBinaryOperator],["*",r.MultiplicativeBinaryOperator],["/",r.MultiplicativeBinaryOperator],["%",r.MultiplicativeBinaryOperator],["=",r.Equals]],u=new Map([["n","\n"],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function d(e){const t=[],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.endsWith("\n")&&(e=e.slice(0,-1)),e=e.replace(/{#[^]*?#}/g,"{##}"),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%]})\n/g,"$1")),e.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let l=0;const d=e=>{let t="";for(;e(n[l]);)if("\\"!==n[l]){if(t+=n[l++],l>=n.length)throw new SyntaxError("Unexpected end of input")}else{if(++l,l>=n.length)throw new SyntaxError("Unexpected end of input");const e=n[l++],r=u.get(e);if(void 0===r)throw new SyntaxError("Unexpected escaped character: ".concat(e));t+=r}return t};e:for(;l<n.length;){var h;const e=null===(h=t.at(-1))||void 0===h?void 0:h.type;if(void 0===e||e===r.CloseStatement||e===r.CloseExpression){let e="";for(;l<n.length&&("{"!==n[l]||"%"!==n[l+1]&&"{"!==n[l+1]);)e+=n[l++];if(e.length>0){t.push(new a(e,r.Text));continue}}d((e=>/\s/.test(e)));const u=n[l];if("-"===u||"+"===u){var p;const e=null===(p=t.at(-1))||void 0===p?void 0:p.type;if(e===r.Text||void 0===e)throw new SyntaxError("Unexpected character: ".concat(u));switch(e){case r.Identifier:case r.NumericLiteral:case r.BooleanLiteral:case r.NullLiteral:case r.StringLiteral:case r.CloseParen:case r.CloseSquareBracket:break;default:{++l;const e=d(s);t.push(new a("".concat(u).concat(e),e.length>0?r.NumericLiteral:r.UnaryOperator));continue}}}for(const[r,i]of c){if(n.slice(l,l+r.length)===r){t.push(new a(r,i)),l+=r.length;continue e}}if("'"!==u&&'"'!==u)if(s(u)){const e=d(s);t.push(new a(e,r.NumericLiteral))}else{if(!o(u))throw new SyntaxError("Unexpected character: ".concat(u));{var f;const e=d(o),n=Object.hasOwn(i,e)?i[e]:r.Identifier;n===r.In&&(null===(f=t.at(-1))||void 0===f?void 0:f.type)===r.Not?(t.pop(),t.push(new a("not in",r.NotIn))):t.push(new a(e,n))}}else{++l;const e=d((e=>e!==u));t.push(new a(e,r.StringLiteral)),++l}}return t}var h=class{constructor(){l(this,"type","Statement")}},p=class extends h{constructor(e){super(),l(this,"type","Program"),this.body=e}},f=class extends h{constructor(e,t,n){super(),l(this,"type","If"),this.test=e,this.body=t,this.alternate=n}},m=class extends h{constructor(e,t,n,r){super(),l(this,"type","For"),this.loopvar=e,this.iterable=t,this.body=n,this.defaultBlock=r}},g=class extends h{constructor(){super(...arguments),l(this,"type","Break")}},y=class extends h{constructor(){super(...arguments),l(this,"type","Continue")}},b=class extends h{constructor(e,t,n){super(),l(this,"type","Set"),this.assignee=e,this.value=t,this.body=n}},w=class extends h{constructor(e,t,n){super(),l(this,"type","Macro"),this.name=e,this.args=t,this.body=n}},v=class extends h{constructor(){super(...arguments),l(this,"type","Expression")}},_=class extends v{constructor(e,t,n){super(),l(this,"type","MemberExpression"),this.object=e,this.property=t,this.computed=n}},x=class extends v{constructor(e,t){super(),l(this,"type","CallExpression"),this.callee=e,this.args=t}},k=class extends v{constructor(e){super(),l(this,"type","Identifier"),this.value=e}},D=class extends v{constructor(e){super(),l(this,"type","Literal"),this.value=e}},T=class extends D{constructor(){super(...arguments),l(this,"type","NumericLiteral")}},A=class extends D{constructor(){super(...arguments),l(this,"type","StringLiteral")}},S=class extends D{constructor(){super(...arguments),l(this,"type","BooleanLiteral")}},C=class extends D{constructor(){super(...arguments),l(this,"type","NullLiteral")}},E=class extends D{constructor(){super(...arguments),l(this,"type","ArrayLiteral")}},F=class extends D{constructor(){super(...arguments),l(this,"type","TupleLiteral")}},M=class extends D{constructor(){super(...arguments),l(this,"type","ObjectLiteral")}},I=class extends v{constructor(e,t,n){super(),l(this,"type","BinaryExpression"),this.operator=e,this.left=t,this.right=n}},P=class extends v{constructor(e,t){super(),l(this,"type","FilterExpression"),this.operand=e,this.filter=t}},z=class extends v{constructor(e,t){super(),l(this,"type","SelectExpression"),this.iterable=e,this.test=t}},N=class extends v{constructor(e,t,n){super(),l(this,"type","TestExpression"),this.operand=e,this.negate=t,this.test=n}},O=class extends v{constructor(e,t){super(),l(this,"type","UnaryExpression"),this.operator=e,this.argument=t}},B=class extends v{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(),l(this,"type","SliceExpression"),this.start=e,this.stop=t,this.step=n}},L=class extends v{constructor(e,t){super(),l(this,"type","KeywordArgumentExpression"),this.key=e,this.value=t}};function R(e){const t=new p([]);let n=0;function i(t,r){const i=e[n++];if(!i||i.type!==t)throw new Error("Parser Error: ".concat(r,". ").concat(i.type," !== ").concat(t,"."));return i}function a(){switch(e[n].type){case r.Text:return new A(i(r.Text,"Expected text token").value);case r.OpenStatement:return function(){let t;switch(i(r.OpenStatement,"Expected opening statement token"),e[n].type){case r.Set:++n,t=function(){const t=u();if(s(r.Equals)){++n;const e=u();return new b(t,e,[])}{const s=[];for(i(r.CloseStatement,"Expected %} token");(null===(o=e[n])||void 0===o?void 0:o.type)!==r.OpenStatement||(null===(l=e[n+1])||void 0===l?void 0:l.type)!==r.EndSet;){var o,l;const e=a();s.push(e)}return i(r.OpenStatement,"Expected {% token"),i(r.EndSet,"Expected endset token"),new b(t,null,s)}}(),i(r.CloseStatement,"Expected closing statement token");break;case r.If:++n,t=l(),i(r.OpenStatement,"Expected {% token"),i(r.EndIf,"Expected endif token"),i(r.CloseStatement,"Expected %} token");break;case r.Macro:++n,t=function(){const e=H();if("Identifier"!==e.type)throw new SyntaxError("Expected identifier following macro statement");const t=j();i(r.CloseStatement,"Expected closing statement token");const n=[];for(;o(r.OpenStatement,r.EndMacro);)n.push(a());return new w(e,t,n)}(),i(r.OpenStatement,"Expected {% token"),i(r.EndMacro,"Expected endmacro token"),i(r.CloseStatement,"Expected %} token");break;case r.For:++n,t=function(){const e=c(!0);if(!(e instanceof k||e instanceof F))throw new SyntaxError("Expected identifier/tuple for the loop variable, got ".concat(e.type," instead"));i(r.In,"Expected `in` keyword following loop variable");const t=u();i(r.CloseStatement,"Expected closing statement token");const l=[];for(;o(r.OpenStatement,r.EndFor)&&o(r.OpenStatement,r.Else);)l.push(a());const d=[];if(s(r.OpenStatement,r.Else))for(++n,++n,i(r.CloseStatement,"Expected closing statement token");o(r.OpenStatement,r.EndFor);)d.push(a());return new m(e,t,l,d)}(),i(r.OpenStatement,"Expected {% token"),i(r.EndFor,"Expected endfor token"),i(r.CloseStatement,"Expected %} token");break;case r.Break:++n,i(r.CloseStatement,"Expected closing statement token"),t=new g;break;case r.Continue:++n,i(r.CloseStatement,"Expected closing statement token"),t=new y;break;default:throw new SyntaxError("Unknown statement type: ".concat(e[n].type))}return t}();case r.OpenExpression:return function(){i(r.OpenExpression,"Expected opening expression token");const e=u();return i(r.CloseExpression,"Expected closing expression token"),e}();default:throw new SyntaxError("Unexpected token type: ".concat(e[n].type))}}function o(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n+r.length<=e.length&&r.some(((t,r)=>t!==e[n+r].type))}function s(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n+r.length<=e.length&&r.every(((t,r)=>t===e[n+r].type))}function l(){var t,o;const c=u();i(r.CloseStatement,"Expected closing statement token");const d=[],h=[];for(;(null===(p=e[n])||void 0===p?void 0:p.type)!==r.OpenStatement||(null===(m=e[n+1])||void 0===m?void 0:m.type)!==r.ElseIf&&(null===(g=e[n+1])||void 0===g?void 0:g.type)!==r.Else&&(null===(y=e[n+1])||void 0===y?void 0:y.type)!==r.EndIf;){var p,m,g,y;d.push(a())}if((null===(t=e[n])||void 0===t?void 0:t.type)===r.OpenStatement&&(null===(o=e[n+1])||void 0===o?void 0:o.type)!==r.EndIf)if(++n,s(r.ElseIf))i(r.ElseIf,"Expected elseif token"),h.push(l());else for(i(r.Else,"Expected else token"),i(r.CloseStatement,"Expected closing statement token");(null===(b=e[n])||void 0===b?void 0:b.type)!==r.OpenStatement||(null===(w=e[n+1])||void 0===w?void 0:w.type)!==r.EndIf;){var b,w;h.push(a())}return new f(c,d,h)}function c(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?H:u,t=[e()],i=s(r.Comma);for(;i&&(++n,t.push(e()),s(r.Comma)););return i?new F(t):t[0]}function u(){return function(){const e=d();if(s(r.If)){++n;const t=d();if(s(r.Else)){++n;const r=d();return new f(t,[e],[r])}return new z(e,t)}return e}()}function d(){let t=h();for(;s(r.Or);){const r=e[n];++n;const i=h();t=new I(r,t,i)}return t}function h(){let t=v();for(;s(r.And);){const r=e[n];++n;const i=v();t=new I(r,t,i)}return t}function v(){let t;for(;s(r.Not);){const r=e[n];++n;const i=v();t=new O(r,i)}return null!==t&&void 0!==t?t:function(){let t=D();for(;s(r.ComparisonBinaryOperator)||s(r.In)||s(r.NotIn);){const r=e[n];++n;const i=D();t=new I(r,t,i)}return t}()}function D(){let t=q();for(;s(r.AdditiveBinaryOperator);){const r=e[n];++n;const i=q();t=new I(r,t,i)}return t}function R(e){let t=new x(e,j());return t=W(t),s(r.OpenParen)&&(t=R(t)),t}function j(){i(r.OpenParen,"Expected opening parenthesis for arguments list");const e=function(){const e=[];for(;!s(r.CloseParen);){let t=u();if(s(r.Equals)){if(++n,!(t instanceof k))throw new SyntaxError("Expected identifier for keyword argument");const e=u();t=new L(t,e)}e.push(t),s(r.Comma)&&++n}return e}();return i(r.CloseParen,"Expected closing parenthesis for arguments list"),e}function V(){const e=[];let t=!1;for(;!s(r.CloseSquareBracket);)s(r.Colon)?(e.push(void 0),++n,t=!0):(e.push(u()),s(r.Colon)&&(++n,t=!0));if(0===e.length)throw new SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new B(...e)}return e[0]}function W(t){for(;s(r.Dot)||s(r.OpenSquareBracket);){const a=e[n];let o;++n;const s=a.type!==r.Dot;if(s)o=V(),i(r.CloseSquareBracket,"Expected closing square bracket");else if(o=H(),"Identifier"!==o.type)throw new SyntaxError("Expected identifier following dot operator");t=new _(t,o,s)}return t}function q(){let t=U();for(;s(r.MultiplicativeBinaryOperator);){const r=e[n];++n;const i=U();t=new I(r,t,i)}return t}function U(){let e=function(){let e=function(){const e=W(H());return s(r.OpenParen)?R(e):e}();for(;s(r.Pipe);){++n;let t=H();if(!(t instanceof k))throw new SyntaxError("Expected identifier for the filter");s(r.OpenParen)&&(t=R(t)),e=new P(e,t)}return e}();for(;s(r.Is);){++n;const t=s(r.Not);t&&++n;let i=H();if(i instanceof S?i=new k(i.value.toString()):i instanceof C&&(i=new k("none")),!(i instanceof k))throw new SyntaxError("Expected identifier for the test");e=new N(e,t,i)}return e}function H(){const t=e[n];switch(t.type){case r.NumericLiteral:return++n,new T(Number(t.value));case r.StringLiteral:return++n,new A(t.value);case r.BooleanLiteral:return++n,new S("true"===t.value.toLowerCase());case r.NullLiteral:return++n,new C(null);case r.Identifier:return++n,new k(t.value);case r.OpenParen:{++n;const t=c();if(e[n].type!==r.CloseParen)throw new SyntaxError("Expected closing parenthesis, got ".concat(e[n].type," instead"));return++n,t}case r.OpenSquareBracket:{++n;const e=[];for(;!s(r.CloseSquareBracket);)e.push(u()),s(r.Comma)&&++n;return++n,new E(e)}case r.OpenCurlyBracket:{++n;const e=new Map;for(;!s(r.CloseCurlyBracket);){const t=u();i(r.Colon,"Expected colon between key and value in object literal");const a=u();e.set(t,a),s(r.Comma)&&++n}return++n,new M(e)}default:throw new SyntaxError("Unexpected token: ".concat(t.type))}}for(;n<e.length;)t.body.push(a());return t}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===t&&(t=e,e=0);const r=[];for(let i=e;i<t;i+=n)r.push(i);return r}function V(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=Math.sign(r);i>=0?(t=(null!==t&&void 0!==t?t:t=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),n=(null!==n&&void 0!==n?n:n=e.length)<0?Math.max(e.length+n,0):Math.min(n,e.length)):(t=(null!==t&&void 0!==t?t:t=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),n=(null!==n&&void 0!==n?n:n=-1)<-1?Math.max(e.length+n,-1):Math.min(n,e.length-1));const a=[];for(let o=t;i*o<i*n;o+=r)a.push(e[o]);return a}function W(e){return e.replace(/\b\w/g,(e=>e.toUpperCase()))}var q=class extends Error{},U=class extends Error{},H=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;l(this,"type","RuntimeValue"),l(this,"value",void 0),l(this,"builtins",new Map),this.value=e}__bool__(){return new Y(!!this.value)}},G=class extends H{constructor(){super(...arguments),l(this,"type","NumericValue")}},K=class extends H{constructor(){super(...arguments),l(this,"type","StringValue"),l(this,"builtins",new Map([["upper",new Q((()=>new K(this.value.toUpperCase())))],["lower",new Q((()=>new K(this.value.toLowerCase())))],["strip",new Q((()=>new K(this.value.trim())))],["title",new Q((()=>new K(W(this.value))))],["length",new G(this.value.length)],["rstrip",new Q((()=>new K(this.value.trimEnd())))],["lstrip",new Q((()=>new K(this.value.trimStart())))],["startswith",new Q((e=>{if(0===e.length)throw new Error("startswith() requires at least one argument");const t=e[0];if(!(t instanceof K))throw new Error("startswith() argument must be a string");return new Y(this.value.startsWith(t.value))}))],["endswith",new Q((e=>{if(0===e.length)throw new Error("endswith() requires at least one argument");const t=e[0];if(!(t instanceof K))throw new Error("endswith() argument must be a string");return new Y(this.value.endsWith(t.value))}))],["split",new Q((e=>{var t,n;const r=null!==(t=e[0])&&void 0!==t?t:new ee;if(!(r instanceof K||r instanceof ee))throw new Error("sep argument must be a string or null");const i=null!==(n=e[1])&&void 0!==n?n:new G(-1);if(!(i instanceof G))throw new Error("maxsplit argument must be a number");let a=[];if(r instanceof ee){const e=this.value.trimStart();for(const{0:t,index:n}of e.matchAll(/\S+/g)){if(-1!==i.value&&a.length>=i.value&&void 0!==n){a.push(t+e.slice(n+t.length));break}a.push(t)}}else{if(""===r.value)throw new Error("empty separator");a=this.value.split(r.value),-1!==i.value&&a.length>i.value&&a.push(a.splice(i.value).join(r.value))}return new X(a.map((e=>new K(e))))}))]]))}},Y=class extends H{constructor(){super(...arguments),l(this,"type","BooleanValue")}},J=class extends H{constructor(){super(...arguments),l(this,"type","ObjectValue"),l(this,"builtins",new Map([["get",new Q((e=>{var t,n;let[r,i]=e;if(!(r instanceof K))throw new Error("Object key must be a string: got ".concat(r.type));return null!==(t=null!==(n=this.value.get(r.value))&&void 0!==n?n:i)&&void 0!==t?t:new ee}))],["items",new Q((()=>new X(Array.from(this.value.entries()).map((e=>{let[t,n]=e;return new X([new K(t),n])})))))]]))}__bool__(){return new Y(this.value.size>0)}},Z=class extends J{constructor(){super(...arguments),l(this,"type","KeywordArgumentsValue")}},X=class extends H{constructor(){super(...arguments),l(this,"type","ArrayValue"),l(this,"builtins",new Map([["length",new G(this.value.length)]]))}__bool__(){return new Y(this.value.length>0)}},$=class extends X{constructor(){super(...arguments),l(this,"type","TupleValue")}},Q=class extends H{constructor(){super(...arguments),l(this,"type","FunctionValue")}},ee=class extends H{constructor(){super(...arguments),l(this,"type","NullValue")}},te=class extends H{constructor(){super(...arguments),l(this,"type","UndefinedValue")}},ne=class{constructor(e){l(this,"variables",new Map([["namespace",new Q((e=>{if(0===e.length)return new J(new Map);if(1!==e.length||!(e[0]instanceof J))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]}))]])),l(this,"tests",new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof Q],["odd",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "odd" to type: '.concat(e.type));return e.value%2!==0}],["even",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "even" to type: '.concat(e.type));return e.value%2===0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["none",e=>"NullValue"===e.type],["string",e=>"StringValue"===e.type],["number",e=>"NumericValue"===e.type],["integer",e=>"NumericValue"===e.type&&Number.isInteger(e.value)],["iterable",e=>"ArrayValue"===e.type||"StringValue"===e.type],["mapping",e=>"ObjectValue"===e.type],["lower",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value],["eq",(e,t)=>e.value===t.value]])),this.parent=e}set(e,t){return this.declareVariable(e,ie(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError("Variable already declared: ".concat(e));return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error("Unknown variable: ".concat(e))}lookupVariable(e){try{var t;return null!==(t=this.resolve(e).variables.get(e))&&void 0!==t?t:new te}catch(n){return new te}}},re=class{constructor(e){l(this,"global",void 0),this.global=null!==e&&void 0!==e?e:new ne}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const n=this.evaluate(e.left,t);switch(e.operator.value){case"and":return n.__bool__().value?this.evaluate(e.right,t):n;case"or":return n.__bool__().value?n:this.evaluate(e.right,t)}const r=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new Y(n.value==r.value);case"!=":return new Y(n.value!=r.value)}if(n instanceof te||r instanceof te)throw new Error("Cannot perform operation on undefined values");if(n instanceof ee||r instanceof ee)throw new Error("Cannot perform operation on null values");if(n instanceof G&&r instanceof G)switch(e.operator.value){case"+":return new G(n.value+r.value);case"-":return new G(n.value-r.value);case"*":return new G(n.value*r.value);case"/":return new G(n.value/r.value);case"%":return new G(n.value%r.value);case"<":return new Y(n.value<r.value);case">":return new Y(n.value>r.value);case">=":return new Y(n.value>=r.value);case"<=":return new Y(n.value<=r.value)}else if(n instanceof X&&r instanceof X){if("+"===e.operator.value)return new X(n.value.concat(r.value))}else if(r instanceof X){const t=void 0!==r.value.find((e=>e.value===n.value));switch(e.operator.value){case"in":return new Y(t);case"not in":return new Y(!t)}}if((n instanceof K||r instanceof K)&&"+"===e.operator.value)return new K(n.value.toString()+r.value.toString());if(n instanceof K&&r instanceof K)switch(e.operator.value){case"in":return new Y(r.value.includes(n.value));case"not in":return new Y(!r.value.includes(n.value))}if(n instanceof K&&r instanceof J)switch(e.operator.value){case"in":return new Y(r.value.has(n.value));case"not in":return new Y(!r.value.has(n.value))}throw new SyntaxError('Unknown operator "'.concat(e.operator.value,'" between ').concat(n.type," and ").concat(r.type))}evaluateArguments(e,t){const n=[],r=new Map;for(const i of e)if("KeywordArgumentExpression"===i.type){const e=i;r.set(e.key.value,this.evaluate(e.value,t))}else{if(r.size>0)throw new Error("Positional arguments must come before keyword arguments");n.push(this.evaluate(i,t))}return[n,r]}evaluateFilterExpression(e,t){const n=this.evaluate(e.operand,t);if("Identifier"===e.filter.type){const t=e.filter;if("tojson"===t.value)return new K(ae(n));if(n instanceof X)switch(t.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new G(n.value.length);case"reverse":return new X(n.value.reverse());case"sort":return new X(n.value.sort(((e,t)=>{if(e.type!==t.type)throw new Error("Cannot compare different types: ".concat(e.type," and ").concat(t.type));switch(e.type){case"NumericValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw new Error("Cannot compare type: ".concat(e.type))}})));case"join":return new K(n.value.map((e=>e.value)).join(""));case"string":return new K(ae(n));default:throw new Error("Unknown ArrayValue filter: ".concat(t.value))}else if(n instanceof K)switch(t.value){case"length":return new G(n.value.length);case"upper":return new K(n.value.toUpperCase());case"lower":return new K(n.value.toLowerCase());case"title":return new K(W(n.value));case"capitalize":return new K(n.value.charAt(0).toUpperCase()+n.value.slice(1));case"trim":return new K(n.value.trim());case"indent":return new K(n.value.split("\n").map(((e,t)=>0===t||0===e.length?e:"    "+e)).join("\n"));case"join":case"string":return n;default:throw new Error("Unknown StringValue filter: ".concat(t.value))}else{if(n instanceof G){if("abs"===t.value)return new G(Math.abs(n.value));throw new Error("Unknown NumericValue filter: ".concat(t.value))}if(n instanceof J)switch(t.value){case"items":return new X(Array.from(n.value.entries()).map((e=>{let[t,n]=e;return new X([new K(t),n])})));case"length":return new G(n.value.size);default:throw new Error("Unknown ObjectValue filter: ".concat(t.value))}}throw new Error('Cannot apply filter "'.concat(t.value,'" to type: ').concat(n.type))}if("CallExpression"===e.filter.type){const h=e.filter;if("Identifier"!==h.callee.type)throw new Error("Unknown filter: ".concat(h.callee.type));const p=h.callee.value;if("tojson"===p){var r;const[,e]=this.evaluateArguments(h.args,t),i=null!==(r=e.get("indent"))&&void 0!==r?r:new ee;if(!(i instanceof G||i instanceof ee))throw new Error("If set, indent must be a number");return new K(ae(n,i.value))}if("join"===p){var i,a;let e;if(n instanceof K)e=Array.from(n.value);else{if(!(n instanceof X))throw new Error('Cannot apply filter "'.concat(p,'" to type: ').concat(n.type));e=n.value.map((e=>e.value))}const[r,o]=this.evaluateArguments(h.args,t),s=null!==(i=null!==(a=r.at(0))&&void 0!==a?a:o.get("separator"))&&void 0!==i?i:new K("");if(!(s instanceof K))throw new Error("separator must be a string");return new K(e.join(s.value))}if(n instanceof X){switch(p){case"selectattr":case"rejectattr":{const e="selectattr"===p;if(n.value.some((e=>!(e instanceof J))))throw new Error("`".concat(p,"` can only be applied to array of objects"));if(h.args.some((e=>"StringLiteral"!==e.type)))throw new Error("arguments of `".concat(p,"` must be strings"));const[r,i,a]=h.args.map((e=>this.evaluate(e,t)));let o;if(i){const e=t.tests.get(i.value);if(!e)throw new Error("Unknown test: ".concat(i.value));o=e}else o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].__bool__().value};const s=n.value.filter((t=>{const n=t.value.get(r.value),i=!!n&&o(n,a);return e?i:!i}));return new X(s)}case"map":{const[,e]=this.evaluateArguments(h.args,t);if(e.has("attribute")){const t=e.get("attribute");if(!(t instanceof K))throw new Error("attribute must be a string");const r=e.get("default"),i=n.value.map((e=>{var n,i;if(!(e instanceof J))throw new Error("items in map must be an object");return null!==(n=null!==(i=e.value.get(t.value))&&void 0!==i?i:r)&&void 0!==n?n:new te}));return new X(i)}throw new Error("`map` expressions without `attribute` set are not currently supported.")}}throw new Error("Unknown ArrayValue filter: ".concat(p))}if(n instanceof K){if("indent"===p){var o,s,l,c,u,d;const[e,r]=this.evaluateArguments(h.args,t),i=null!==(o=null!==(s=e.at(0))&&void 0!==s?s:r.get("width"))&&void 0!==o?o:new G(4);if(!(i instanceof G))throw new Error("width must be a number");const a=null!==(l=null!==(c=e.at(1))&&void 0!==c?c:r.get("first"))&&void 0!==l?l:new Y(!1),p=null!==(u=null!==(d=e.at(2))&&void 0!==d?d:r.get("blank"))&&void 0!==u?u:new Y(!1),f=n.value.split("\n"),m=" ".repeat(i.value),g=f.map(((e,t)=>!a.value&&0===t||!p.value&&0===e.length?e:m+e));return new K(g.join("\n"))}throw new Error("Unknown StringValue filter: ".concat(p))}throw new Error('Cannot apply filter "'.concat(p,'" to type: ').concat(n.type))}throw new Error("Unknown filter: ".concat(e.filter.type))}evaluateTestExpression(e,t){const n=this.evaluate(e.operand,t),r=t.tests.get(e.test.value);if(!r)throw new Error("Unknown test: ".concat(e.test.value));const i=r(n);return new Y(e.negate?!i:i)}evaluateUnaryExpression(e,t){const n=this.evaluate(e.argument,t);if("not"===e.operator.value)return new Y(!n.value);throw new SyntaxError("Unknown operator: ".concat(e.operator.value))}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let n="";for(const r of e){const e=this.evaluate(r,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(n+=e.value)}return new K(n)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const[n,r]=this.evaluateArguments(e.args,t);r.size>0&&n.push(new Z(r));const i=this.evaluate(e.callee,t);if("FunctionValue"!==i.type)throw new Error("Cannot call something that is not a function: got ".concat(i.type));return i.value(n,t)}evaluateSliceExpression(e,t,n){if(!(e instanceof X||e instanceof K))throw new Error("Slice object must be an array or string");const r=this.evaluate(t.start,n),i=this.evaluate(t.stop,n),a=this.evaluate(t.step,n);if(!(r instanceof G||r instanceof te))throw new Error("Slice start must be numeric or undefined");if(!(i instanceof G||i instanceof te))throw new Error("Slice stop must be numeric or undefined");if(!(a instanceof G||a instanceof te))throw new Error("Slice step must be numeric or undefined");return e instanceof X?new X(V(e.value,r.value,i.value,a.value)):new K(V(Array.from(e.value),r.value,i.value,a.value).join(""))}evaluateMemberExpression(e,t){const n=this.evaluate(e.object,t);let r,i;if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(n,e.property,t);r=this.evaluate(e.property,t)}else r=new K(e.property.value);if(n instanceof J){var a;if(!(r instanceof K))throw new Error("Cannot access property with non-string: got ".concat(r.type));i=null!==(a=n.value.get(r.value))&&void 0!==a?a:n.builtins.get(r.value)}else if(n instanceof X||n instanceof K)if(r instanceof G)i=n.value.at(r.value),n instanceof K&&(i=new K(n.value.at(r.value)));else{if(!(r instanceof K))throw new Error("Cannot access property with non-string/non-number: got ".concat(r.type));i=n.builtins.get(r.value)}else{if(!(r instanceof K))throw new Error("Cannot access property with non-string: got ".concat(r.type));i=n.builtins.get(r.value)}return i instanceof H?i:new te}evaluateSet(e,t){const n=e.value?this.evaluate(e.value,t):this.evaluateBlock(e.body,t);if("Identifier"===e.assignee.type){const r=e.assignee.value;t.setVariable(r,n)}else{if("MemberExpression"!==e.assignee.type)throw new Error("Invalid LHS inside assignment expression: ".concat(JSON.stringify(e.assignee)));{const r=e.assignee,i=this.evaluate(r.object,t);if(!(i instanceof J))throw new Error("Cannot assign to member of non-object");if("Identifier"!==r.property.type)throw new Error("Cannot assign to member with non-identifier property");i.value.set(r.property.value,n)}}return new ee}evaluateIf(e,t){const n=this.evaluate(e.test,t);return this.evaluateBlock(n.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const n=new ne(t);let r,i;if("SelectExpression"===e.iterable.type){const t=e.iterable;i=this.evaluate(t.iterable,n),r=t.test}else i=this.evaluate(e.iterable,n);if(!(i instanceof X))throw new Error("Expected iterable type in for loop: got ".concat(i.type));const a=[],o=[];for(let u=0;u<i.value.length;++u){const t=new ne(n),s=i.value[u];let l;if("Identifier"===e.loopvar.type)l=t=>t.setVariable(e.loopvar.value,s);else{if("TupleLiteral"!==e.loopvar.type)throw new Error("Invalid loop variable(s): ".concat(e.loopvar.type));{const t=e.loopvar;if("ArrayValue"!==s.type)throw new Error("Cannot unpack non-iterable type: ".concat(s.type));const n=s;if(t.value.length!==n.value.length)throw new Error("Too ".concat(t.value.length>n.value.length?"few":"many"," items to unpack"));l=e=>{for(let r=0;r<t.value.length;++r){if("Identifier"!==t.value[r].type)throw new Error("Cannot unpack non-identifier type: ".concat(t.value[r].type));e.setVariable(t.value[r].value,n.value[r])}}}}if(r){l(t);if(!this.evaluate(r,t).__bool__().value)continue}a.push(s),o.push(l)}let s="",l=!0;for(let u=0;u<a.length;++u){const t=new Map([["index",new G(u+1)],["index0",new G(u)],["revindex",new G(a.length-u)],["revindex0",new G(a.length-u-1)],["first",new Y(0===u)],["last",new Y(u===a.length-1)],["length",new G(a.length)],["previtem",u>0?a[u-1]:new te],["nextitem",u<a.length-1?a[u+1]:new te]]);n.setVariable("loop",new J(t)),o[u](n);try{s+=this.evaluateBlock(e.body,n).value}catch(c){if(c instanceof U)continue;if(c instanceof q)break;throw c}l=!1}if(l){s+=this.evaluateBlock(e.defaultBlock,n).value}return new K(s)}evaluateMacro(e,t){return t.setVariable(e.name.value,new Q(((t,n)=>{var r;const i=new ne(n);let a;"KeywordArgumentsValue"===(null===(r=(t=t.slice()).at(-1))||void 0===r?void 0:r.type)&&(a=t.pop());for(let l=0;l<e.args.length;++l){const n=e.args[l],r=t[l];if("Identifier"===n.type){const e=n;if(!r)throw new Error("Missing positional argument: ".concat(e.value));i.setVariable(e.value,r)}else{if("KeywordArgumentExpression"!==n.type)throw new Error("Unknown argument type: ".concat(n.type));{var o,s;const e=n,t=null!==(o=null!==r&&void 0!==r?r:null===(s=a)||void 0===s?void 0:s.value.get(e.key.value))&&void 0!==o?o:this.evaluate(e.value,i);i.setVariable(e.key.value,t)}}}return this.evaluateBlock(e.body,i)}))),new ee}evaluate(e,t){if(void 0===e)return new te;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"Macro":return this.evaluateMacro(e,t);case"Break":throw new q;case"Continue":throw new U;case"NumericLiteral":return new G(Number(e.value));case"StringLiteral":return new K(e.value);case"BooleanLiteral":return new Y(e.value);case"NullLiteral":return new ee(e.value);case"ArrayLiteral":return new X(e.value.map((e=>this.evaluate(e,t))));case"TupleLiteral":return new $(e.value.map((e=>this.evaluate(e,t))));case"ObjectLiteral":{const n=new Map;for(const[r,i]of e.value){const e=this.evaluate(r,t);if(!(e instanceof K))throw new Error("Object keys must be strings: got ".concat(e.type));n.set(e.value,this.evaluate(i,t))}return new J(n)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);default:throw new SyntaxError("Unknown node type: ".concat(e.type))}}};function ie(e){switch(typeof e){case"number":return new G(e);case"string":return new K(e);case"boolean":return new Y(e);case"undefined":return new te;case"object":return null===e?new ee:Array.isArray(e)?new X(e.map(ie)):new J(new Map(Object.entries(e).map((e=>{let[t,n]=e;return[t,ie(n)]}))));case"function":return new Q(((t,n)=>{var r;const i=null!==(r=e(...t.map((e=>e.value))))&&void 0!==r?r:null;return ie(i)}));default:throw new Error("Cannot convert to runtime value: ".concat(e))}}function ae(e,t,n){const r=null!==n&&void 0!==n?n:0;switch(e.type){case"NullValue":case"UndefinedValue":return"null";case"NumericValue":case"StringValue":case"BooleanValue":return JSON.stringify(e.value);case"ArrayValue":case"ObjectValue":{const n=t?" ".repeat(t):"",i="\n"+n.repeat(r),a=i+n;if("ArrayValue"===e.type){const n=e.value.map((e=>ae(e,t,r+1)));return t?"[".concat(a).concat(n.join(",".concat(a))).concat(i,"]"):"[".concat(n.join(", "),"]")}{const n=Array.from(e.value.entries()).map((e=>{let[n,i]=e;const o='"'.concat(n,'": ').concat(ae(i,t,r+1));return t?"".concat(a).concat(o):o}));return t?"{".concat(n.join(",")).concat(i,"}"):"{".concat(n.join(", "),"}")}}default:throw new Error("Cannot convert to JSON: ".concat(e.type))}}var oe="\n",se={MultiplicativeBinaryOperator:2,AdditiveBinaryOperator:1,ComparisonBinaryOperator:0};function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"{%- "+t.join(" ")+" -%}"}function ce(e,t,n){return e.map((e=>function(e,t,n){const r=n.repeat(t);switch(e.type){case"Program":return ce(e.body,t,n);case"If":return function(e,t,n){const r=n.repeat(t),i=[];let a=e;for(;a&&(i.push({test:a.test,body:a.body}),1===a.alternate.length&&"If"===a.alternate[0].type);)a=a.alternate[0];let o=r+le("if",ue(i[0].test))+oe+ce(i[0].body,t+1,n);for(let s=1;s<i.length;s++)o+=oe+r+le("elif",ue(i[s].test))+oe+ce(i[s].body,t+1,n);a&&a.alternate.length>0&&(o+=oe+r+le("else")+oe+ce(a.alternate,t+1,n));return o+=oe+r+le("endif"),o}(e,t,n);case"For":return function(e,t,n){const r=n.repeat(t);let i="";if("SelectExpression"===e.iterable.type){const t=e.iterable;i="".concat(ue(t.iterable)," if ").concat(ue(t.test))}else i=ue(e.iterable);let a=r+le("for",ue(e.loopvar),"in",i)+oe+ce(e.body,t+1,n);e.defaultBlock.length>0&&(a+=oe+r+le("else")+oe+ce(e.defaultBlock,t+1,n));return a+=oe+r+le("endfor"),a}(e,t,n);case"Set":return function(e,t,n){const r=n.repeat(t),i=ue(e.assignee),a=e.value?ue(e.value):"",o=r+le("set","".concat(i).concat(e.value?" = "+a:""));if(0===e.body.length)return o;return o+oe+ce(e.body,t+1,n)+oe+r+le("endset")}(e,t,n);case"Macro":return function(e,t,n){const r=n.repeat(t),i=e.args.map(ue).join(", ");return r+le("macro","".concat(e.name.value,"(").concat(i,")"))+oe+ce(e.body,t+1,n)+oe+r+le("endmacro")}(e,t,n);case"Break":return r+le("break");case"Continue":return r+le("continue");default:return r+"{{- "+ue(e)+" -}}"}}(e,t,n))).join(oe)}function ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;switch(e.type){case"Identifier":return e.value;case"NullLiteral":return"none";case"NumericLiteral":case"BooleanLiteral":return"".concat(e.value);case"StringLiteral":return JSON.stringify(e.value);case"BinaryExpression":{var n;const r=e,i=null!==(n=se[r.operator.type])&&void 0!==n?n:0,a=ue(r.left,i),o=ue(r.right,i+1),s="".concat(a," ").concat(r.operator.value," ").concat(o);return i<t?"(".concat(s,")"):s}case"UnaryExpression":{const t=e;return t.operator.value+("not"===t.operator.value?" ":"")+ue(t.argument,1/0)}case"LogicalNegationExpression":return"not ".concat(ue(e.argument,1/0));case"CallExpression":{const t=e,n=t.args.map((e=>ue(e,-1))).join(", ");return"".concat(ue(t.callee,-1),"(").concat(n,")")}case"MemberExpression":{const t=e;let n=ue(t.object,-1);"Identifier"!==t.object.type&&(n="(".concat(n,")"));let r=ue(t.property,-1);return t.computed||"Identifier"===t.property.type||(r="(".concat(r,")")),t.computed?"".concat(n,"[").concat(r,"]"):"".concat(n,".").concat(r)}case"FilterExpression":{const t=e,n=ue(t.operand,1/0);return"CallExpression"===t.filter.type?"".concat(n," | ").concat(ue(t.filter,-1)):"".concat(n," | ").concat(t.filter.value)}case"SelectExpression":{const t=e;return"".concat(ue(t.iterable,-1)," | select(").concat(ue(t.test,-1),")")}case"TestExpression":{const t=e;return"".concat(ue(t.operand,-1)," is").concat(t.negate?" not":""," ").concat(t.test.value)}case"ArrayLiteral":case"TupleLiteral":{const t=e.value.map((e=>ue(e,-1))),n="ArrayLiteral"===e.type?"[]":"()";return"".concat(n[0]).concat(t.join(", ")).concat(n[1])}case"ObjectLiteral":{const t=Array.from(e.value.entries()).map((e=>{let[t,n]=e;return"".concat(ue(t,-1),": ").concat(ue(n,-1))}));return"{ ".concat(t.join(", ")," }")}case"SliceExpression":{const t=e,n=t.start?ue(t.start,-1):"",r=t.stop?ue(t.stop,-1):"",i=t.step?":".concat(ue(t.step,-1)):"";return"".concat(n,":").concat(r).concat(i)}case"KeywordArgumentExpression":{const t=e;return"".concat(t.key.value,"=").concat(ue(t.value,-1))}case"If":{const t=e,n=ue(t.test,-1),r=ue(t.body[0],0),i=ue(t.alternate[0],-1);return"".concat(r," if ").concat(n," else ").concat(i)}default:throw new Error("Unknown expression type: ".concat(e.type))}}var de=class{constructor(e){l(this,"parsed",void 0);const t=d(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=R(t)}render(e){const t=new ne;if(t.set("false",!1),t.set("true",!0),t.set("raise_exception",(e=>{throw new Error(e)})),t.set("range",j),e)for(const[n,r]of Object.entries(e))t.set(n,r);return new re(t).run(this.parsed).value}format(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t";const n="number"===typeof t?" ".repeat(t):t;return ce(e.body,0,n).replace(/\n$/,"")}(this.parsed,(null===e||void 0===e?void 0:e.indent)||"\t")}}},"./src/backends/onnx.js":(e,t,n)=>{var r,i;n.r(t),n.d(t,{Tensor:()=>l.Tensor,createInferenceSession:()=>y,deviceToExecutionProviders:()=>m,isONNXProxy:()=>v,isONNXTensor:()=>b});var a=n("./src/env.js"),o=n("?2ce3"),s=n("onnxruntime-web"),l=n("onnxruntime-common");const c=Object.freeze({auto:null,gpu:null,cpu:"cpu",wasm:"wasm",webgpu:"webgpu",cuda:"cuda",dml:"dml",webnn:{name:"webnn",deviceType:"cpu"},"webnn-npu":{name:"webnn",deviceType:"npu"},"webnn-gpu":{name:"webnn",deviceType:"gpu"},"webnn-cpu":{name:"webnn",deviceType:"cpu"}}),u=[];let d,h;const p=Symbol.for("onnxruntime");if(p in globalThis)h=globalThis[p];else if(a.apis.IS_NODE_ENV){switch(h=null!==o&&void 0!==o?o:i||(i=n.t(o,2)),process.platform){case"win32":u.push("dml");break;case"linux":"x64"===process.arch&&u.push("cuda")}u.push("cpu"),d=["cpu"]}else h=s,a.apis.IS_WEBNN_AVAILABLE&&u.push("webnn-npu","webnn-gpu","webnn-cpu","webnn"),a.apis.IS_WEBGPU_AVAILABLE&&u.push("webgpu"),u.push("wasm"),d=["wasm"];const f=h.InferenceSession;function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return d;switch(e){case"auto":return u;case"gpu":return u.filter((e=>["webgpu","cuda","dml","webnn-gpu"].includes(e)))}var t;if(u.includes(e))return[null!==(t=c[e])&&void 0!==t?t:e];throw new Error('Unsupported device: "'.concat(e,'". Should be one of: ').concat(u.join(", "),"."))}let g=null;async function y(e,t,n){g&&await g;const r=f.create(e,t);null!==g&&void 0!==g||(g=r);const i=await r;return i.config=n,i}function b(e){return e instanceof h.Tensor}const w=null===(r=h)||void 0===r?void 0:r.env;function v(){var e;return null===w||void 0===w||null===(e=w.wasm)||void 0===e?void 0:e.proxy}null!==w&&void 0!==w&&w.wasm&&("undefined"!==typeof ServiceWorkerGlobalScope&&self instanceof ServiceWorkerGlobalScope||w.wasm.wasmPaths||(w.wasm.wasmPaths="https://cdn.jsdelivr.net/npm/@huggingface/transformers@".concat(a.env.version,"/dist/")),w.wasm.proxy=!1),null!==w&&void 0!==w&&w.webgpu&&(w.webgpu.powerPreference="high-performance"),a.env.backends.onnx=w},"./src/base/feature_extraction_utils.js":(e,t,n)=>{n.r(t),n.d(t,{FeatureExtractor:()=>o,validate_audio_inputs:()=>s});var r=n("./src/utils/constants.js"),i=n("./src/utils/generic.js"),a=n("./src/utils/hub.js");class o extends i.Callable{constructor(e){super(),this.config=e}static async from_pretrained(e,t){return new this(await(0,a.getModelJSON)(e,r.FEATURE_EXTRACTOR_NAME,!0,t))}}function s(e,t){var n,r;if(!(e instanceof Float32Array||e instanceof Float64Array))throw new Error("".concat(t," expects input to be a Float32Array or a Float64Array, but got ").concat(null!==(n=null===e||void 0===e||null===(r=e.constructor)||void 0===r?void 0:r.name)&&void 0!==n?n:typeof e," instead. ")+"If using the feature extractor directly, remember to use `read_audio(url, sampling_rate)` to obtain the raw audio data of the file/url.")}},"./src/base/image_processors_utils.js":(e,t,n)=>{n.r(t),n.d(t,{ImageProcessor:()=>w,center_to_corners_format:()=>d,post_process_instance_segmentation:()=>b,post_process_object_detection:()=>h,post_process_panoptic_segmentation:()=>y,post_process_semantic_segmentation:()=>p});var r=n("./src/utils/generic.js"),i=n("./src/utils/tensor.js"),a=n("./src/utils/maths.js"),o=(n("./src/utils/image.js"),n("./src/utils/core.js")),s=n("./src/utils/hub.js"),l=n("./src/utils/constants.js");function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=e/t;let o=(0,a.bankers_round)(i)*t;return null!==r&&o>r&&(o=Math.floor(i)*t),o<n&&(o=Math.ceil(i)*t),o}function u(e,t){let[n,r]=e;return[Math.max(Math.floor(n/t),1)*t,Math.max(Math.floor(r/t),1)*t]}function d(e){let[t,n,r,i]=e;return[t-r/2,n-i/2,t+r/2,n+i/2]}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=e.logits,o=e.pred_boxes,[s,l,c]=i.dims;if(null!==n&&n.length!==s)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let u=[];for(let h=0;h<s;++h){let e=null!==n?n[h]:null,s={boxes:[],classes:[],scores:[]},p=i[h],f=o[h];for(let n=0;n<l;++n){let i,o=p[n],l=[];if(r){i=o.sigmoid().data;for(let e=0;e<i.length;++e)i[e]>t&&l.push(e)}else{let e=(0,a.max)(o.data)[1];if(e===c-1)continue;if(i=(0,a.softmax)(o.data),i[e]<t)continue;l.push(e)}for(const t of l){let r=f[n].data;r=d(r),null!==e&&(r=r.map(((t,n)=>t*e[(n+1)%2]))),s.boxes.push(r),s.classes.push(t),s.scores.push(i[t])}}u.push(s)}return u}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.logits,r=n.dims[0];if(null!==t&&t.length!==r)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const a=[];for(let o=0;o<r;++o){const e=null!==t?t[o]:null;let r=n[o];null!==e&&(r=(0,i.interpolate)(r,e,"bilinear",!1));const[s,l]=null!==e&&void 0!==e?e:r.dims.slice(-2),c=new i.Tensor("int32",new Int32Array(s*l),[s,l]),u=r[0].data,d=c.data;for(let t=1;t<r.dims[0];++t){const e=r[t].data;for(let n=0;n<e.length;++n)e[n]>u[n]&&(u[n]=e[n],d[n]=t)}const h=new Array(r.dims[0]);for(let t=0;t<d.length;++t){const e=d[t];h[e]=e}const p=h.filter((e=>void 0!==e));a.push({segmentation:c,labels:p})}return a}function f(e,t,n,r){const i=[],o=[],s=[];for(let l=0;l<e.dims[0];++l){const c=e[l],u=t[l],d=(0,a.max)(c.data)[1];if(d===r)continue;const h=(0,a.softmax)(c.data)[d];h>n&&(i.push(u),o.push(h),s.push(d))}return[i,o,s]}function m(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.8;const a=[];let o=0,s=0;const l=t[n].data;for(let u=0;u<e.length;++u)e[u]===n&&(a.push(u),++o),l[u]>=r&&++s;let c=o>0&&s>0;if(c){c=o/s>i}return[c,a]}function g(e,t,n,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const[s,l]=null!==o&&void 0!==o?o:e[0].dims,c=new i.Tensor("int32",new Int32Array(s*l),[s,l]),u=[];if(null!==o)for(let m=0;m<e.length;++m)e[m]=(0,i.interpolate)(e[m],o,"bilinear",!1);const d=new Int32Array(e[0].data.length),h=new Float32Array(e[0].data.length);for(let i=0;i<e.length;++i){let n=t[i];const r=e[i].data;for(let e=0;e<r.length;++e)r[e]*=n,r[e]>h[e]&&(d[e]=i,h[e]=r[e])}let p=0;const f=c.data;for(let i=0;i<n.length;++i){const o=n[i],[s,l]=m(d,e,i,r,a);if(s){++p;for(const e of l)f[e]=p;u.push({id:p,label_id:o,score:t[i]})}}return[c,u]}function y(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===s&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),s=new Set);const c=null!==(t=e.class_queries_logits)&&void 0!==t?t:e.logits,u=(null!==(n=e.masks_queries_logits)&&void 0!==n?n:e.pred_masks).sigmoid();let[d,h,p]=c.dims;if(p-=1,null!==l&&l.length!==d)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let m=[];for(let y=0;y<d;++y){let e=null!==l?l[y]:null,t=c[y],n=u[y],[d,h,b]=f(t,n,r,p);if(0===b.length){let[t,r]=null!==e&&void 0!==e?e:n.dims.slice(-2),a=new i.Tensor("int32",new Int32Array(t*r).fill(-1),[t,r]);m.push({segmentation:a,segments_info:[]});continue}let[w,v]=g(d,h,b,a,o,s,e);m.push({segmentation:w,segments_info:v})}return m}function b(e){throw new Error("`post_process_instance_segmentation` is not yet implemented.")}class w extends r.Callable{constructor(e){var t,n,r,i,a,o,s,l,c,u;super(),this.image_mean=null!==(t=e.image_mean)&&void 0!==t?t:e.mean,this.image_std=null!==(n=e.image_std)&&void 0!==n?n:e.std,this.resample=null!==(r=e.resample)&&void 0!==r?r:2,this.do_rescale=null===(i=e.do_rescale)||void 0===i||i,this.rescale_factor=null!==(a=e.rescale_factor)&&void 0!==a?a:1/255,this.do_normalize=e.do_normalize,this.do_thumbnail=e.do_thumbnail,this.size=null!==(o=e.size)&&void 0!==o?o:e.image_size,this.do_resize=null!==(s=e.do_resize)&&void 0!==s?s:void 0!==this.size,this.size_divisibility=null!==(l=e.size_divisibility)&&void 0!==l?l:e.size_divisor,this.do_center_crop=e.do_center_crop,this.crop_size=e.crop_size,this.do_convert_rgb=null===(c=e.do_convert_rgb)||void 0===c||c,this.do_crop_margin=e.do_crop_margin,this.pad_size=e.pad_size,this.do_pad=e.do_pad,this.min_pixels=e.min_pixels,this.max_pixels=e.max_pixels,this.do_pad&&!this.pad_size&&this.size&&void 0!==this.size.width&&void 0!==this.size.height&&(this.pad_size=this.size),this.do_flip_channel_order=null!==(u=e.do_flip_channel_order)&&void 0!==u&&u,this.config=e}async thumbnail(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=e.height,i=e.width,a=t.height,o=t.width;let s=Math.min(r,a),l=Math.min(i,o);return s===r&&l===i?e:(r>i?l=Math.floor(i*s/r):i>r&&(s=Math.floor(r*l/i)),await e.resize(l,s,{resample:n}))}async crop_margin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;const n=e.clone().grayscale(),r=(0,a.min)(n.data)[0],i=(0,a.max)(n.data)[0]-r;if(0===i)return e;const o=t/255;let s=n.width,l=n.height,c=0,u=0;const d=n.data;for(let a=0;a<n.height;++a){const e=a*n.width;for(let t=0;t<n.width;++t)(d[e+t]-r)/i<o&&(s=Math.min(s,t),l=Math.min(l,a),c=Math.max(c,t),u=Math.max(u,a))}return e=await e.crop([s,l,c,u])}pad_image(e,t,n){let{mode:r="constant",center:i=!1,constant_values:a=0}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[s,l,c]=t;let u,d;if("number"===typeof n?(u=n,d=n):"square"===n?u=d=Math.max(s,l):(u=n.width,d=n.height),u!==l||d!==s){const n=new Float32Array(u*d*c);if(Array.isArray(a))for(let e=0;e<n.length;++e)n[e]=a[e%c];else 0!==a&&n.fill(a);const[h,p]=i?[Math.floor((u-l)/2),Math.floor((d-s)/2)]:[0,0];for(let t=0;t<s;++t){const r=(t+p)*u,i=t*l;for(let t=0;t<l;++t){const a=(r+t+h)*c,o=(i+t)*c;for(let t=0;t<c;++t)n[a+t]=e[o+t]}}if("symmetric"===r){if(i)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const t=s-1,r=l-1;for(let i=0;i<d;++i){const a=i*u,d=(0,o.calculateReflectOffset)(i,t)*l;for(let t=0;t<u;++t){if(i<s&&t<l)continue;const u=(a+t)*c,h=(d+(0,o.calculateReflectOffset)(t,r))*c;for(let t=0;t<c;++t)n[u+t]=e[h+t]}}}e=n,t=[d,u,c]}return[e,t]}rescale(e){for(let t=0;t<e.length;++t)e[t]=this.rescale_factor*e[t]}get_resize_output_image_size(e,t){const[n,r]=e.size;let i,a;if(this.do_thumbnail){const{height:e,width:n}=t;i=Math.min(e,n)}else if(Number.isInteger(t)){var o;i=t,a=null!==(o=this.config.max_size)&&void 0!==o?o:i}else void 0!==t&&(i=t.shortest_edge,a=t.longest_edge);if(void 0!==i||void 0!==a){const e=void 0===i?1:Math.max(i/n,i/r),t=n*e,o=r*e,s=void 0===a?1:Math.min(a/t,a/o);let l=Math.floor(Number((t*s).toFixed(2))),c=Math.floor(Number((o*s).toFixed(2)));return void 0!==this.size_divisibility&&([l,c]=u([l,c],this.size_divisibility)),[l,c]}if(void 0!==t&&void 0!==t.width&&void 0!==t.height){let e=t.width,i=t.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let t=i/r,a=e/n;Math.abs(1-a)<Math.abs(1-t)?t=a:a=t,i=c(t*r,this.config.ensure_multiple_of),e=c(a*n,this.config.ensure_multiple_of)}return[e,i]}if(void 0!==this.size_divisibility)return u([n,r],this.size_divisibility);if(void 0!==this.min_pixels&&void 0!==this.max_pixels){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3136,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1003520;if(e<n||t<n)throw new Error("height:".concat(e," or width:").concat(t," must be larger than factor:").concat(n));if(Math.max(e,t)/Math.min(e,t)>200)throw new Error("absolute aspect ratio must be smaller than 200, got ".concat(Math.max(e,t)/Math.min(e,t)));let a=Math.round(e/n)*n,o=Math.round(t/n)*n;if(a*o>i){const r=Math.sqrt(e*t/i);a=Math.floor(e/r/n)*n,o=Math.floor(t/r/n)*n}else if(a*o<r){const i=Math.sqrt(r/(e*t));a=Math.ceil(e*i/n)*n,o=Math.ceil(t*i/n)*n}return[a,o]}(r,n,this.config.patch_size*this.config.merge_size,this.min_pixels,this.max_pixels)}throw new Error("Could not resize image due to unsupported `this.size` option in config: ".concat(JSON.stringify(t)))}async resize(e){const[t,n]=this.get_resize_output_image_size(e,this.size);return await e.resize(t,n,{resample:this.resample})}async preprocess(e){let{do_normalize:t=null,do_pad:n=null,do_convert_rgb:r=null,do_convert_grayscale:a=null,do_flip_channel_order:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.do_crop_margin&&(e=await this.crop_margin(e));const[s,l]=e.size;if((null!==r&&void 0!==r?r:this.do_convert_rgb)?e=e.rgb():a&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let t,n;Number.isInteger(this.crop_size)?(t=this.crop_size,n=this.crop_size):(t=this.crop_size.width,n=this.crop_size.height),e=await e.center_crop(t,n)}const c=[e.height,e.width];let d=Float32Array.from(e.data),h=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(d),null!==t&&void 0!==t?t:this.do_normalize){let t=this.image_mean;Array.isArray(this.image_mean)||(t=new Array(e.channels).fill(t));let n=this.image_std;if(Array.isArray(this.image_std)||(n=new Array(e.channels).fill(t)),t.length!==e.channels||n.length!==e.channels)throw new Error("When set to arrays, the length of `image_mean` (".concat(t.length,") and `image_std` (").concat(n.length,") must match the number of channels in the image (").concat(e.channels,")."));for(let r=0;r<d.length;r+=e.channels)for(let i=0;i<e.channels;++i)d[r+i]=(d[r+i]-t[i])/n[i]}if(null!==n&&void 0!==n?n:this.do_pad)if(this.pad_size){const t=this.pad_image(d,[e.height,e.width,e.channels],this.pad_size);[d,h]=t}else if(this.size_divisibility){const[e,t]=u([h[1],h[0]],this.size_divisibility);[d,h]=this.pad_image(d,h,{width:e,height:t})}if(null!==o&&void 0!==o?o:this.do_flip_channel_order){if(3!==h[2])throw new Error("Flipping channel order is only supported for RGB images.");for(let e=0;e<d.length;e+=3){const t=d[e];d[e]=d[e+2],d[e+2]=t}}return{original_size:[l,s],reshaped_input_size:c,pixel_values:new i.Tensor("float32",d,h).permute(2,0,1)}}async _call(e){Array.isArray(e)||(e=[e]);const t=await Promise.all(e.map((e=>this.preprocess(e)))),n=(0,i.stack)(t.map((e=>e.pixel_values)),0);return{pixel_values:n,original_sizes:t.map((e=>e.original_size)),reshaped_input_sizes:t.map((e=>e.reshaped_input_size))}}static async from_pretrained(e,t){return new this(await(0,s.getModelJSON)(e,l.IMAGE_PROCESSOR_NAME,!0,t))}}},"./src/base/processing_utils.js":(e,t,n)=>{n.r(t),n.d(t,{Processor:()=>o});var r=n("./src/utils/constants.js"),i=n("./src/utils/generic.js"),a=n("./src/utils/hub.js");class o extends i.Callable{constructor(e,t){super(),this.config=e,this.components=t}get image_processor(){return this.components.image_processor}get tokenizer(){return this.components.tokenizer}get feature_extractor(){return this.components.feature_extractor}apply_chat_template(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.tokenizer)throw new Error("Unable to apply chat template without a tokenizer.");return this.tokenizer.apply_chat_template(e,u({tokenize:!1},t))}batch_decode(){if(!this.tokenizer)throw new Error("Unable to decode without a tokenizer.");return this.tokenizer.batch_decode(...arguments)}decode(){if(!this.tokenizer)throw new Error("Unable to decode without a tokenizer.");return this.tokenizer.decode(...arguments)}async _call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of[this.image_processor,this.feature_extractor,this.tokenizer])if(i)return i(e,...n);throw new Error("No image processor, feature extractor, or tokenizer found.")}static async from_pretrained(e,t){const[n,i]=await Promise.all([this.uses_processor_config?(0,a.getModelJSON)(e,r.PROCESSOR_NAME,!0,t):{},Promise.all(this.classes.filter((e=>e in this)).map((async n=>{const r=await this[n].from_pretrained(e,t);return[n.replace(/_class$/,""),r]}))).then(Object.fromEntries)]);return new this(n,i)}}l(o,"classes",["image_processor_class","tokenizer_class","feature_extractor_class"]),l(o,"uses_processor_config",!1)},"./src/configs.js":(e,t,n)=>{n.r(t),n.d(t,{AutoConfig:()=>c,PretrainedConfig:()=>s,getKeyValueShapes:()=>o});var r=n("./src/utils/core.js"),i=n("./src/utils/hub.js");function a(e){const t={};let n={};switch(e.model_type){case"llava":case"paligemma":case"gemma3":case"florence2":case"llava_onevision":case"idefics3":case"ultravox":case"smolvlm":n=a(e.text_config);break;case"moondream1":n=a(e.phi_config);break;case"musicgen":n=a(e.decoder);break;case"multi_modality":n=a(e.language_config);break;case"gpt2":case"gptj":case"jais":case"codegen":case"gpt_bigcode":t.num_heads="n_head",t.num_layers="n_layer",t.hidden_size="n_embd";break;case"gpt_neox":case"stablelm":case"opt":case"falcon":t.num_heads="num_attention_heads",t.num_layers="num_hidden_layers",t.hidden_size="hidden_size";break;case"llama":case"olmo":case"olmo2":case"mobilellm":case"granite":case"cohere":case"mistral":case"starcoder2":case"qwen2":case"qwen2_vl":case"phi":case"phi3":case"phi3_v":t.num_heads="num_key_value_heads",t.num_layers="num_hidden_layers",t.hidden_size="hidden_size",t.num_attention_heads="num_attention_heads";break;case"qwen3":case"gemma":case"gemma2":case"gemma3_text":case"glm":case"helium":t.num_heads="num_key_value_heads",t.num_layers="num_hidden_layers",t.dim_kv="head_dim";break;case"openelm":t.num_heads="num_kv_heads",t.num_layers="num_transformer_layers",t.dim_kv="head_dim";break;case"gpt_neo":case"donut-swin":t.num_heads="num_heads",t.num_layers="num_layers",t.hidden_size="hidden_size";break;case"bloom":t.num_heads="n_head",t.num_layers="n_layer",t.hidden_size="hidden_size";break;case"mpt":t.num_heads="n_heads",t.num_layers="n_layers",t.hidden_size="d_model";break;case"exaone":t.num_heads="num_key_value_heads",t.num_layers="num_layers",t.dim_kv="head_dim",t.num_attention_heads="num_attention_heads";break;case"t5":case"mt5":case"longt5":t.num_decoder_layers="num_decoder_layers",t.num_decoder_heads="num_heads",t.decoder_dim_kv="d_kv",t.num_encoder_layers="num_layers",t.num_encoder_heads="num_heads",t.encoder_dim_kv="d_kv";break;case"bart":case"mbart":case"marian":case"whisper":case"lite-whisper":case"m2m_100":case"blenderbot":case"blenderbot-small":case"florence2_language":t.num_decoder_layers="decoder_layers",t.num_decoder_heads="decoder_attention_heads",t.decoder_hidden_size="d_model",t.num_encoder_layers="encoder_layers",t.num_encoder_heads="encoder_attention_heads",t.encoder_hidden_size="d_model";break;case"speecht5":t.num_decoder_layers="decoder_layers",t.num_decoder_heads="decoder_attention_heads",t.decoder_hidden_size="hidden_size",t.num_encoder_layers="encoder_layers",t.num_encoder_heads="encoder_attention_heads",t.encoder_hidden_size="hidden_size";break;case"trocr":t.num_encoder_layers=t.num_decoder_layers="decoder_layers",t.num_encoder_heads=t.num_decoder_heads="decoder_attention_heads",t.encoder_hidden_size=t.decoder_hidden_size="d_model";break;case"musicgen_decoder":t.num_encoder_layers=t.num_decoder_layers="num_hidden_layers",t.num_encoder_heads=t.num_decoder_heads="num_attention_heads",t.encoder_hidden_size=t.decoder_hidden_size="hidden_size";break;case"moonshine":t.num_decoder_layers="decoder_num_hidden_layers",t.num_decoder_heads="decoder_num_key_value_heads",t.num_encoder_layers="encoder_num_hidden_layers",t.num_encoder_heads="encoder_num_key_value_heads",t.encoder_hidden_size=t.decoder_hidden_size="hidden_size";break;case"vision-encoder-decoder":const i=a(e.decoder),o="num_decoder_layers"in i,s=(0,r.pick)(e,["model_type","is_encoder_decoder"]);return o?(s.num_decoder_layers=i.num_decoder_layers,s.num_decoder_heads=i.num_decoder_heads,s.decoder_hidden_size=i.decoder_hidden_size,s.num_encoder_layers=i.num_encoder_layers,s.num_encoder_heads=i.num_encoder_heads,s.encoder_hidden_size=i.encoder_hidden_size):(s.num_layers=i.num_layers,s.num_heads=i.num_heads,s.hidden_size=i.hidden_size),s}const i=u(u({},n),(0,r.pick)(e,["model_type","multi_query","is_encoder_decoder"]));for(const r in t)i[r]=e[t[r]];return i}function o(e){let{prefix:t="past_key_values",batch_size:n=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={},i=e.normalized_config;if(i.is_encoder_decoder&&"num_encoder_heads"in i&&"num_decoder_heads"in i){var a,o;const e=null!==(a=i.encoder_dim_kv)&&void 0!==a?a:i.encoder_hidden_size/i.num_encoder_heads,s=null!==(o=i.decoder_dim_kv)&&void 0!==o?o:i.decoder_hidden_size/i.num_decoder_heads,l=[n,i.num_encoder_heads,0,e],c=[n,i.num_decoder_heads,0,s];for(let n=0;n<i.num_decoder_layers;++n)r["".concat(t,".").concat(n,".encoder.key")]=l,r["".concat(t,".").concat(n,".encoder.value")]=l,r["".concat(t,".").concat(n,".decoder.key")]=c,r["".concat(t,".").concat(n,".decoder.value")]=c}else{var s,l;const e=i.num_heads,a=i.num_layers,o=null!==(s=i.dim_kv)&&void 0!==s?s:i.hidden_size/(null!==(l=i.num_attention_heads)&&void 0!==l?l:e);if("falcon"===i.model_type){const i=[n*e,0,o];for(let e=0;e<a;++e)r["".concat(t,".").concat(e,".key")]=i,r["".concat(t,".").concat(e,".value")]=i}else if(i.multi_query){const i=[n*e,0,2*o];for(let e=0;e<a;++e)r["".concat(t,".").concat(e,".key_value")]=i}else if("bloom"===i.model_type){const i=[n*e,o,0],s=[n*e,0,o];for(let e=0;e<a;++e)r["".concat(t,".").concat(e,".key")]=i,r["".concat(t,".").concat(e,".value")]=s}else if("openelm"===i.model_type)for(let i=0;i<a;++i){const a=[n,e[i],0,o];r["".concat(t,".").concat(i,".key")]=a,r["".concat(t,".").concat(i,".value")]=a}else{const i=[n,e,0,o];for(let e=0;e<a;++e)r["".concat(t,".").concat(e,".key")]=i,r["".concat(t,".").concat(e,".value")]=i}}return r}class s{constructor(e){l(this,"model_type",null),l(this,"is_encoder_decoder",!1),l(this,"max_position_embeddings",void 0),l(this,"transformers.js_config",void 0),Object.assign(this,e),this.normalized_config=a(this)}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:a=!1,revision:o="main"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!n||n instanceof s||(n=new s(n));const l=null!==n&&void 0!==n?n:await async function(e,t){return await(0,i.getModelJSON)(e,"config.json",!0,t)}(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:a,revision:o});return new this(l)}}class c{static async from_pretrained(){return s.from_pretrained(...arguments)}}},"./src/env.js":(e,t,n)=>{var r,i;n.r(t),n.d(t,{apis:()=>y,env:()=>x});var a=n("?569f"),o=n("?3f59"),s=n("?154a");const l="undefined"!==typeof window&&"undefined"!==typeof window.document,c="undefined"!==typeof self&&"DedicatedWorkerGlobalScope"===(null===(r=self.constructor)||void 0===r?void 0:r.name),u="undefined"!==typeof self&&"caches"in self,d="undefined"!==typeof navigator&&"gpu"in navigator,h="undefined"!==typeof navigator&&"ml"in navigator,p="undefined"!==typeof process,f=p&&"node"===(null===(i=process)||void 0===i||null===(i=i.release)||void 0===i?void 0:i.name),m=!k(a),g=!k(o),y=Object.freeze({IS_BROWSER_ENV:l,IS_WEBWORKER_ENV:c,IS_WEB_CACHE_AVAILABLE:u,IS_WEBGPU_AVAILABLE:d,IS_WEBNN_AVAILABLE:h,IS_PROCESS_AVAILABLE:p,IS_NODE_ENV:f,IS_FS_AVAILABLE:m,IS_PATH_AVAILABLE:g}),b=m&&g;let w="./";if(b){const e=Object({}).url;e?w=o.dirname(o.dirname(s.fileURLToPath(e))):"undefined"!==typeof __dirname&&(w=o.dirname(__dirname))}const v=b?o.join(w,"/.cache/"):null,_="/models/",x={version:"3.5.2",backends:{onnx:{}},allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!(l||c),localModelPath:b?o.join(w,_):_,useFS:m,useBrowserCache:u,useFSCache:m,cacheDir:v,useCustomCache:!1,customCache:null};function k(e){return 0===Object.keys(e).length}},"./src/generation/configuration_utils.js":(e,t,n)=>{n.r(t),n.d(t,{GenerationConfig:()=>i});var r=n("./src/utils/core.js");class i{constructor(e){l(this,"max_length",20),l(this,"max_new_tokens",null),l(this,"min_length",0),l(this,"min_new_tokens",null),l(this,"early_stopping",!1),l(this,"max_time",null),l(this,"do_sample",!1),l(this,"num_beams",1),l(this,"num_beam_groups",1),l(this,"penalty_alpha",null),l(this,"use_cache",!0),l(this,"temperature",1),l(this,"top_k",50),l(this,"top_p",1),l(this,"typical_p",1),l(this,"epsilon_cutoff",0),l(this,"eta_cutoff",0),l(this,"diversity_penalty",0),l(this,"repetition_penalty",1),l(this,"encoder_repetition_penalty",1),l(this,"length_penalty",1),l(this,"no_repeat_ngram_size",0),l(this,"bad_words_ids",null),l(this,"force_words_ids",null),l(this,"renormalize_logits",!1),l(this,"constraints",null),l(this,"forced_bos_token_id",null),l(this,"forced_eos_token_id",null),l(this,"remove_invalid_values",!1),l(this,"exponential_decay_length_penalty",null),l(this,"suppress_tokens",null),l(this,"streamer",null),l(this,"begin_suppress_tokens",null),l(this,"forced_decoder_ids",null),l(this,"guidance_scale",null),l(this,"num_return_sequences",1),l(this,"output_attentions",!1),l(this,"output_hidden_states",!1),l(this,"output_scores",!1),l(this,"return_dict_in_generate",!1),l(this,"pad_token_id",null),l(this,"bos_token_id",null),l(this,"eos_token_id",null),l(this,"encoder_no_repeat_ngram_size",0),l(this,"decoder_start_token_id",null),l(this,"generation_kwargs",{}),Object.assign(this,(0,r.pick)(e,Object.getOwnPropertyNames(this)))}}},"./src/generation/logits_process.js":(e,t,n)=>{n.r(t),n.d(t,{ClassifierFreeGuidanceLogitsProcessor:()=>y,ForcedBOSTokenLogitsProcessor:()=>l,ForcedEOSTokenLogitsProcessor:()=>c,LogitsProcessor:()=>a,LogitsProcessorList:()=>s,LogitsWarper:()=>o,MinLengthLogitsProcessor:()=>f,MinNewTokensLengthLogitsProcessor:()=>m,NoBadWordsLogitsProcessor:()=>g,NoRepeatNGramLogitsProcessor:()=>h,RepetitionPenaltyLogitsProcessor:()=>p,SuppressTokensAtBeginLogitsProcessor:()=>u,TemperatureLogitsWarper:()=>b,TopKLogitsWarper:()=>v,TopPLogitsWarper:()=>w,WhisperTimeStampLogitsProcessor:()=>d});var r=n("./src/utils/generic.js"),i=(n("./src/utils/tensor.js"),n("./src/utils/maths.js"));class a extends r.Callable{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class o extends r.Callable{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class s extends r.Callable{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,t){let n=t;for(const r of this.processors)n=r(e,n);return n}[Symbol.iterator](){return this.processors.values()}}class l extends a{constructor(e){super(),this.bos_token_id=e}_call(e,t){for(let n=0;n<e.length;++n)if(1===e[n].length){const e=t[n].data;e.fill(-1/0),e[this.bos_token_id]=0}return t}}class c extends a{constructor(e,t){super(),this.max_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(let n=0;n<e.length;++n)if(e[n].length===this.max_length-1){const e=t[n].data;e.fill(-1/0);for(const t of this.eos_token_id)e[t]=0}return t}}class u extends a{constructor(e,t){super(),this.begin_suppress_tokens=e,this.begin_index=t}_call(e,t){for(let n=0;n<e.length;++n)if(e[n].length===this.begin_index){const e=t[n].data;for(const t of this.begin_suppress_tokens)e[t]=-1/0}return t}}class d extends a{constructor(e,t){super(),this.eos_token_id=Array.isArray(e.eos_token_id)?e.eos_token_id[0]:e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=t.length,t.at(-1)===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,t){for(let n=0;n<e.length;++n){const r=t[n].data;if(r[this.no_timestamps_token_id]=-1/0,e[n].length===this.begin_index-1){r.fill(-1/0),r[this.timestamp_begin]=0;continue}const a=e[n].slice(this.begin_index),o=a.length>=1&&a[a.length-1]>=this.timestamp_begin,s=a.length<2||a[a.length-2]>=this.timestamp_begin;if(o&&(s?r.subarray(this.timestamp_begin).fill(-1/0):r.subarray(0,this.eos_token_id).fill(-1/0)),e[n].length===this.begin_index&&null!==this.max_initial_timestamp_index){const e=this.timestamp_begin+this.max_initial_timestamp_index;r.subarray(e+1).fill(-1/0)}const l=(0,i.log_softmax)(r),c=Math.log(l.subarray(this.timestamp_begin).map(Math.exp).reduce(((e,t)=>e+t)));c>(0,i.max)(l.subarray(0,this.timestamp_begin))[0]&&r.subarray(0,this.timestamp_begin).fill(-1/0)}return t}}class h extends a{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const t=e.length,n=[];for(let a=0;a<t+1-this.no_repeat_ngram_size;++a){const t=[];for(let n=0;n<this.no_repeat_ngram_size;++n)t.push(e[a+n]);n.push(t.map(Number))}const r=new Map;for(const a of n){var i;const e=a.slice(0,a.length-1),t=JSON.stringify(e),n=null!==(i=r.get(t))&&void 0!==i?i:[];n.push(a[a.length-1]),r.set(t,n)}return r}getGeneratedNgrams(e,t){var n;const r=t.slice(t.length+1-this.no_repeat_ngram_size,t.length);return null!==(n=e.get(JSON.stringify(r.map(Number))))&&void 0!==n?n:[]}calcBannedNgramTokens(e){const t=[];if(e.length+1<this.no_repeat_ngram_size)return t;{const t=this.getNgrams(e);return this.getGeneratedNgrams(t,e)}}_call(e,t){for(let n=0;n<e.length;++n){const r=t[n].data,i=this.calcBannedNgramTokens(e[n]);for(const e of i)r[e]=-1/0}return t}}class p extends a{constructor(e){super(),this.penalty=e}_call(e,t){for(let n=0;n<e.length;++n){const r=t[n].data;for(const t of new Set(e[n])){const e=Number(t);r[e]<0?r[e]*=this.penalty:r[e]/=this.penalty}}return t}}class f extends a{constructor(e,t){super(),this.min_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(let n=0;n<e.length;++n)if(e[n].length<this.min_length){const e=t[n].data;for(const t of this.eos_token_id)e[t]=-1/0}return t}}class m extends a{constructor(e,t,n){super(),this.prompt_length_to_skip=e,this.min_new_tokens=t,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,t){for(let n=0;n<e.length;++n){if(e[n].length-this.prompt_length_to_skip<this.min_new_tokens){const e=t[n].data;for(const t of this.eos_token_id)e[t]=-1/0}}return t}}class g extends a{constructor(e,t){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(let n=0;n<e.length;++n){const r=t[n].data,i=e[n];for(const e of this.bad_words_ids){if(i.length<e.length-1)continue;let t=!0;for(let n=1;n<=e.length-1;++n)if(e.at(-n-1)!=i.at(-n)){t=!1;break}t&&(r[e.at(-1)]=-1/0)}}return t}}class y extends a{constructor(e){if(super(),e<=1)throw new Error("Require guidance scale >1 to use the classifier free guidance processor, got guidance scale ".concat(e,"."));this.guidance_scale=e}_call(e,t){if(t.dims[0]!==2*e.length)throw new Error("Logits should have twice the batch size of the input ids, the first half of batches corresponding to the conditional inputs, and the second half of batches corresponding to the unconditional inputs. Got "+"batch size ".concat(t.dims[0]," for the logits and ").concat(e.length," for the input ids."));const n=e.length,r=t.slice([0,n],null),i=t.slice([n,t.dims[0]],null);for(let a=0;a<i.data.length;++a)i.data[a]+=(r.data[a]-i.data[a])*this.guidance_scale;return i}}class b extends o{constructor(e){if(super(),"number"!==typeof e||e<=0){let t="`temperature` (=".concat(e,") must be a strictly positive float, otherwise your next token scores will be invalid.");0===e&&(t+=" If you're looking for greedy decoding strategies, set `do_sample=false`.")}this.temperature=e}_call(e,t){const n=t.data;for(let r=0;r<n.length;++r)n[r]/=this.temperature;return t}}class w extends o{constructor(e){let{filter_value:t=-1/0,min_tokens_to_keep:n=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),e<0||e>1)throw new Error("`top_p` must be a float > 0 and < 1, but is ".concat(e));if(!Number.isInteger(n)||n<1)throw new Error("`min_tokens_to_keep` must be a positive integer, but is ".concat(n));this.top_p=e,this.filter_value=t,this.min_tokens_to_keep=n}}class v extends o{constructor(e){let{filter_value:t=-1/0,min_tokens_to_keep:n=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),!Number.isInteger(e)||e<0)throw new Error("`top_k` must be a positive integer, but is ".concat(e));this.top_k=Math.max(e,n),this.filter_value=t}}},"./src/generation/logits_sampler.js":(e,t,n)=>{n.r(t),n.d(t,{LogitsSampler:()=>o});var r=n("./src/utils/generic.js"),i=n("./src/utils/tensor.js"),a=n("./src/utils/maths.js");n("./src/generation/configuration_utils.js");class o extends r.Callable{constructor(e){super(),this.generation_config=e}async _call(e){return this.sample(e)}async sample(e){throw Error("sample should be implemented in subclasses.")}getLogits(e,t){let n=e.dims.at(-1),r=e.data;if(-1===t)r=r.slice(-n);else{let e=t*n;r=r.slice(e,e+n)}return r}randomSelect(e){let t=0;for(let r=0;r<e.length;++r)t+=e[r];let n=Math.random()*t;for(let r=0;r<e.length;++r)if(n-=e[r],n<=0)return r;return 0}static getSampler(e){if(e.do_sample)return new l(e);if(e.num_beams>1)return new c(e);if(e.num_return_sequences>1)throw Error("num_return_sequences has to be 1 when doing greedy search, but is ".concat(e.num_return_sequences,"."));return new s(e)}}class s extends o{async sample(e){const t=(0,a.max)(e.data)[1];return[[BigInt(t),0]]}}class l extends o{async sample(e){let t=e.dims.at(-1);this.generation_config.top_k>0&&(t=Math.min(this.generation_config.top_k,t));const[n,r]=await(0,i.topk)(e,t),o=(0,a.softmax)(n.data);return Array.from({length:this.generation_config.num_beams},(()=>{const e=this.randomSelect(o);return[r.data[e],Math.log(o[e])]}))}}class c extends o{async sample(e){let t=e.dims.at(-1);this.generation_config.top_k>0&&(t=Math.min(this.generation_config.top_k,t));const[n,r]=await(0,i.topk)(e,t),o=(0,a.softmax)(n.data);return Array.from({length:this.generation_config.num_beams},((e,t)=>[r.data[t],Math.log(o[t])]))}}},"./src/generation/stopping_criteria.js":(e,t,n)=>{n.r(t),n.d(t,{EosTokenCriteria:()=>s,InterruptableStoppingCriteria:()=>l,MaxLengthCriteria:()=>o,StoppingCriteria:()=>i,StoppingCriteriaList:()=>a});var r=n("./src/utils/generic.js");class i extends r.Callable{_call(e,t){throw Error("StoppingCriteria needs to be subclassed")}}class a extends r.Callable{constructor(){super(),this.criteria=[]}push(e){this.criteria.push(e)}extend(e){e instanceof a?e=e.criteria:e instanceof i&&(e=[e]),this.criteria.push(...e)}_call(e,t){const n=new Array(e.length).fill(!1);for(const i of this.criteria){const a=i(e,t);for(let e=0;e<n.length;++e){var r;n[r=e]||(n[r]=a[e])}}return n}[Symbol.iterator](){return this.criteria.values()}}class o extends i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.max_length=e,this.max_position_embeddings=t}_call(e){return e.map((e=>e.length>=this.max_length))}}class s extends i{constructor(e){super(),Array.isArray(e)||(e=[e]),this.eos_token_id=e}_call(e,t){return e.map((e=>{const t=e.at(-1);return this.eos_token_id.some((e=>t==e))}))}}class l extends i{constructor(){super(),this.interrupted=!1}interrupt(){this.interrupted=!0}reset(){this.interrupted=!1}_call(e,t){return new Array(e.length).fill(this.interrupted)}}},"./src/generation/streamers.js":(e,t,n)=>{n.r(t),n.d(t,{BaseStreamer:()=>s,TextStreamer:()=>c,WhisperTextStreamer:()=>d});var r=n("./src/utils/core.js"),i=n("./src/tokenizers.js"),o=n("./src/env.js");class s{put(e){throw Error("Not implemented")}end(){throw Error("Not implemented")}}const l=o.apis.IS_PROCESS_AVAILABLE?e=>process.stdout.write(e):e=>console.log(e);class c extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{skip_prompt:n=!1,callback_function:r=null,token_callback_function:i=null,skip_special_tokens:o=!0,decode_kwargs:s={}}=t,c=a(t,Gd);super(),this.tokenizer=e,this.skip_prompt=n,this.callback_function=null!==r&&void 0!==r?r:l,this.token_callback_function=i,this.decode_kwargs=u(u({skip_special_tokens:o},s),c),this.token_cache=[],this.print_len=0,this.next_tokens_are_prompt=!0}put(e){var t;if(e.length>1)throw Error("TextStreamer only supports batch size of 1");const n=this.next_tokens_are_prompt;if(n&&(this.next_tokens_are_prompt=!1,this.skip_prompt))return;const a=e[0];null===(t=this.token_callback_function)||void 0===t||t.call(this,a),this.token_cache=(0,r.mergeArrays)(this.token_cache,a);const o=this.tokenizer.decode(this.token_cache,this.decode_kwargs);let s;n||o.endsWith("\n")?(s=o.slice(this.print_len),this.token_cache=[],this.print_len=0):o.length>0&&(0,i.is_chinese_char)(o.charCodeAt(o.length-1))?(s=o.slice(this.print_len),this.print_len+=s.length):(s=o.slice(this.print_len,o.lastIndexOf(" ")+1),this.print_len+=s.length),this.on_finalized_text(s,!1)}end(){let e;if(this.token_cache.length>0){e=this.tokenizer.decode(this.token_cache,this.decode_kwargs).slice(this.print_len),this.token_cache=[],this.print_len=0}else e="";this.next_tokens_are_prompt=!0,this.on_finalized_text(e,!0)}on_finalized_text(e,t){var n,r;e.length>0&&(null===(n=this.callback_function)||void 0===n||n.call(this,e));t&&this.callback_function===l&&o.apis.IS_PROCESS_AVAILABLE&&(null===(r=this.callback_function)||void 0===r||r.call(this,"\n"))}}class d extends c{constructor(e){let{skip_prompt:t=!1,callback_function:n=null,token_callback_function:r=null,on_chunk_start:i=null,on_chunk_end:a=null,on_finalize:o=null,time_precision:s=.02,skip_special_tokens:l=!0,decode_kwargs:c={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,{skip_prompt:t,skip_special_tokens:l,callback_function:n,token_callback_function:r,decode_kwargs:c}),this.timestamp_begin=e.timestamp_begin,this.on_chunk_start=i,this.on_chunk_end=a,this.on_finalize=o,this.time_precision=s,this.waiting_for_timestamp=!1}put(e){if(e.length>1)throw Error("WhisperTextStreamer only supports batch size of 1");const t=e[0];if(1===t.length){const e=Number(t[0])-this.timestamp_begin;if(e>=0){var n;const a=e*this.time_precision;var r,i;if(this.waiting_for_timestamp)null===(r=this.on_chunk_end)||void 0===r||r.call(this,a);else null===(i=this.on_chunk_start)||void 0===i||i.call(this,a);return this.waiting_for_timestamp=!this.waiting_for_timestamp,void(null===(n=this.token_callback_function)||void 0===n||n.call(this,t))}}return super.put(e)}end(){var e;super.end(),null===(e=this.on_finalize)||void 0===e||e.call(this)}}},"./src/models.js":(e,t,n)=>{n.r(t),n.d(t,{ASTForAudioClassification:()=>Sn,ASTModel:()=>An,ASTPreTrainedModel:()=>Tn,AlbertForMaskedLM:()=>Nt,AlbertForQuestionAnswering:()=>zt,AlbertForSequenceClassification:()=>Pt,AlbertModel:()=>It,AlbertPreTrainedModel:()=>Mt,AutoModel:()=>su,AutoModelForAudioClassification:()=>Au,AutoModelForAudioFrameClassification:()=>Cu,AutoModelForAudioTextToText:()=>Bu,AutoModelForCTC:()=>Tu,AutoModelForCausalLM:()=>fu,AutoModelForDepthEstimation:()=>Iu,AutoModelForDocumentQuestionAnswering:()=>Eu,AutoModelForImageClassification:()=>bu,AutoModelForImageFeatureExtraction:()=>Nu,AutoModelForImageMatting:()=>Fu,AutoModelForImageSegmentation:()=>wu,AutoModelForImageTextToText:()=>Ou,AutoModelForImageToImage:()=>Mu,AutoModelForMaskGeneration:()=>Du,AutoModelForMaskedLM:()=>mu,AutoModelForNormalEstimation:()=>Pu,AutoModelForObjectDetection:()=>xu,AutoModelForPoseEstimation:()=>zu,AutoModelForQuestionAnswering:()=>gu,AutoModelForSemanticSegmentation:()=>vu,AutoModelForSeq2SeqLM:()=>uu,AutoModelForSequenceClassification:()=>lu,AutoModelForSpeechSeq2Seq:()=>du,AutoModelForTextToSpectrogram:()=>hu,AutoModelForTextToWaveform:()=>pu,AutoModelForTokenClassification:()=>cu,AutoModelForUniversalSegmentation:()=>_u,AutoModelForVision2Seq:()=>yu,AutoModelForXVector:()=>Su,AutoModelForZeroShotObjectDetection:()=>ku,BartForConditionalGeneration:()=>Kt,BartForSequenceClassification:()=>Yt,BartModel:()=>Gt,BartPretrainedModel:()=>Ht,BaseModelOutput:()=>le,BeitForImageClassification:()=>Aa,BeitModel:()=>Ta,BeitPreTrainedModel:()=>Da,BertForMaskedLM:()=>de,BertForQuestionAnswering:()=>fe,BertForSequenceClassification:()=>he,BertForTokenClassification:()=>pe,BertModel:()=>ue,BertPreTrainedModel:()=>ce,BlenderbotForConditionalGeneration:()=>nn,BlenderbotModel:()=>tn,BlenderbotPreTrainedModel:()=>en,BlenderbotSmallForConditionalGeneration:()=>on,BlenderbotSmallModel:()=>an,BlenderbotSmallPreTrainedModel:()=>rn,BloomForCausalLM:()=>Oi,BloomModel:()=>Ni,BloomPreTrainedModel:()=>zi,CLIPModel:()=>Zn,CLIPPreTrainedModel:()=>Jn,CLIPSegForImageSegmentation:()=>pr,CLIPSegModel:()=>hr,CLIPSegPreTrainedModel:()=>dr,CLIPTextModel:()=>Xn,CLIPTextModelWithProjection:()=>$n,CLIPVisionModel:()=>Qn,CLIPVisionModelWithProjection:()=>er,CamembertForMaskedLM:()=>We,CamembertForQuestionAnswering:()=>He,CamembertForSequenceClassification:()=>qe,CamembertForTokenClassification:()=>Ue,CamembertModel:()=>Ve,CamembertPreTrainedModel:()=>je,CausalLMOutput:()=>Uu,CausalLMOutputWithPast:()=>Hu,ChineseCLIPModel:()=>or,ChineseCLIPPreTrainedModel:()=>ar,ClapAudioModelWithProjection:()=>dl,ClapModel:()=>cl,ClapPreTrainedModel:()=>ll,ClapTextModelWithProjection:()=>ul,CodeGenForCausalLM:()=>zr,CodeGenModel:()=>Pr,CodeGenPreTrainedModel:()=>Ir,CohereForCausalLM:()=>si,CohereModel:()=>oi,CoherePreTrainedModel:()=>ai,ConvBertForMaskedLM:()=>Fe,ConvBertForQuestionAnswering:()=>Pe,ConvBertForSequenceClassification:()=>Me,ConvBertForTokenClassification:()=>Ie,ConvBertModel:()=>Ee,ConvBertPreTrainedModel:()=>Ce,ConvNextForImageClassification:()=>jo,ConvNextModel:()=>Ro,ConvNextPreTrainedModel:()=>Lo,ConvNextV2ForImageClassification:()=>qo,ConvNextV2Model:()=>Wo,ConvNextV2PreTrainedModel:()=>Vo,DFineForObjectDetection:()=>Ka,DFineModel:()=>Ga,DFinePreTrainedModel:()=>Ha,DPTForDepthEstimation:()=>yo,DPTModel:()=>go,DPTPreTrainedModel:()=>mo,DacDecoderModel:()=>gc,DacDecoderOutput:()=>pc,DacEncoderModel:()=>mc,DacEncoderOutput:()=>hc,DacModel:()=>fc,DacPreTrainedModel:()=>dc,DebertaForMaskedLM:()=>Ye,DebertaForQuestionAnswering:()=>Xe,DebertaForSequenceClassification:()=>Je,DebertaForTokenClassification:()=>Ze,DebertaModel:()=>Ke,DebertaPreTrainedModel:()=>Ge,DebertaV2ForMaskedLM:()=>et,DebertaV2ForQuestionAnswering:()=>rt,DebertaV2ForSequenceClassification:()=>tt,DebertaV2ForTokenClassification:()=>nt,DebertaV2Model:()=>Qe,DebertaV2PreTrainedModel:()=>$e,DecisionTransformerModel:()=>Hl,DecisionTransformerPreTrainedModel:()=>Ul,DeiTForImageClassification:()=>eo,DeiTModel:()=>Qa,DeiTPreTrainedModel:()=>$a,DepthAnythingForDepthEstimation:()=>wo,DepthAnythingPreTrainedModel:()=>bo,DepthProForDepthEstimation:()=>To,DepthProPreTrainedModel:()=>Do,DetrForObjectDetection:()=>Ea,DetrForSegmentation:()=>Fa,DetrModel:()=>Ca,DetrObjectDetectionOutput:()=>Ma,DetrPreTrainedModel:()=>Sa,DetrSegmentationOutput:()=>Ia,Dinov2ForImageClassification:()=>Go,Dinov2Model:()=>Ho,Dinov2PreTrainedModel:()=>Uo,Dinov2WithRegistersForImageClassification:()=>Jo,Dinov2WithRegistersModel:()=>Yo,Dinov2WithRegistersPreTrainedModel:()=>Ko,DistilBertForMaskedLM:()=>ct,DistilBertForQuestionAnswering:()=>lt,DistilBertForSequenceClassification:()=>ot,DistilBertForTokenClassification:()=>st,DistilBertModel:()=>at,DistilBertPreTrainedModel:()=>it,DonutSwinModel:()=>Bo,DonutSwinPreTrainedModel:()=>Oo,EfficientNetForImageClassification:()=>kl,EfficientNetModel:()=>xl,EfficientNetPreTrainedModel:()=>_l,ElectraForMaskedLM:()=>Oe,ElectraForQuestionAnswering:()=>Re,ElectraForSequenceClassification:()=>Be,ElectraForTokenClassification:()=>Le,ElectraModel:()=>Ne,ElectraPreTrainedModel:()=>ze,EsmForMaskedLM:()=>ht,EsmForSequenceClassification:()=>pt,EsmForTokenClassification:()=>ft,EsmModel:()=>dt,EsmPreTrainedModel:()=>ut,ExaoneForCausalLM:()=>Gr,ExaoneModel:()=>Hr,ExaonePreTrainedModel:()=>Ur,FalconForCausalLM:()=>sl,FalconModel:()=>ol,FalconPreTrainedModel:()=>al,FastViTForImageClassification:()=>ca,FastViTModel:()=>la,FastViTPreTrainedModel:()=>sa,Florence2ForConditionalGeneration:()=>Vn,Florence2PreTrainedModel:()=>jn,GLPNForDepthEstimation:()=>No,GLPNModel:()=>zo,GLPNPreTrainedModel:()=>Po,GPT2LMHeadModel:()=>gr,GPT2Model:()=>mr,GPT2PreTrainedModel:()=>fr,GPTBigCodeForCausalLM:()=>Mr,GPTBigCodeModel:()=>Fr,GPTBigCodePreTrainedModel:()=>Er,GPTJForCausalLM:()=>Cr,GPTJModel:()=>Sr,GPTJPreTrainedModel:()=>Ar,GPTNeoForCausalLM:()=>xr,GPTNeoModel:()=>_r,GPTNeoPreTrainedModel:()=>vr,GPTNeoXForCausalLM:()=>Tr,GPTNeoXModel:()=>Dr,GPTNeoXPreTrainedModel:()=>kr,Gemma2ForCausalLM:()=>pi,Gemma2Model:()=>hi,Gemma2PreTrainedModel:()=>di,Gemma3ForCausalLM:()=>gi,Gemma3Model:()=>mi,Gemma3PreTrainedModel:()=>fi,GemmaForCausalLM:()=>ui,GemmaModel:()=>ci,GemmaPreTrainedModel:()=>li,GlmForCausalLM:()=>qr,GlmModel:()=>Wr,GlmPreTrainedModel:()=>Vr,GraniteForCausalLM:()=>ii,GraniteModel:()=>ri,GranitePreTrainedModel:()=>ni,GroundingDinoForObjectDetection:()=>Xo,GroundingDinoPreTrainedModel:()=>Zo,GroupViTModel:()=>oa,GroupViTPreTrainedModel:()=>aa,HeliumForCausalLM:()=>jr,HeliumModel:()=>Rr,HeliumPreTrainedModel:()=>Lr,HieraForImageClassification:()=>ro,HieraModel:()=>no,HieraPreTrainedModel:()=>to,HubertForCTC:()=>Os,HubertForSequenceClassification:()=>Bs,HubertModel:()=>Ns,HubertPreTrainedModel:()=>zs,IJepaForImageClassification:()=>Yi,IJepaModel:()=>Ki,IJepaPreTrainedModel:()=>Gi,Idefics3ForConditionalGeneration:()=>Hn,Idefics3PreTrainedModel:()=>Un,ImageMattingOutput:()=>Gu,JAISLMHeadModel:()=>wr,JAISModel:()=>br,JAISPreTrainedModel:()=>yr,JinaCLIPModel:()=>lr,JinaCLIPPreTrainedModel:()=>sr,JinaCLIPTextModel:()=>cr,JinaCLIPVisionModel:()=>ur,LiteWhisperForConditionalGeneration:()=>Mn,LlamaForCausalLM:()=>Br,LlamaModel:()=>Or,LlamaPreTrainedModel:()=>Nr,LlavaForConditionalGeneration:()=>Bn,LlavaOnevisionForConditionalGeneration:()=>Ln,LlavaPreTrainedModel:()=>On,LongT5ForConditionalGeneration:()=>Vt,LongT5Model:()=>jt,LongT5PreTrainedModel:()=>Rt,M2M100ForConditionalGeneration:()=>us,M2M100Model:()=>cs,M2M100PreTrainedModel:()=>ls,MBartForCausalLM:()=>Qt,MBartForConditionalGeneration:()=>Xt,MBartForSequenceClassification:()=>$t,MBartModel:()=>Zt,MBartPreTrainedModel:()=>Jt,MPNetForMaskedLM:()=>xt,MPNetForQuestionAnswering:()=>Tt,MPNetForSequenceClassification:()=>kt,MPNetForTokenClassification:()=>Dt,MPNetModel:()=>_t,MPNetPreTrainedModel:()=>vt,MT5ForConditionalGeneration:()=>Ut,MT5Model:()=>qt,MT5PreTrainedModel:()=>Wt,MarianMTModel:()=>ss,MarianModel:()=>os,MarianPreTrainedModel:()=>as,MaskFormerForInstanceSegmentation:()=>Io,MaskFormerModel:()=>Mo,MaskFormerPreTrainedModel:()=>Fo,MaskedLMOutput:()=>Wu,Metric3DForDepthEstimation:()=>So,Metric3DPreTrainedModel:()=>Ao,Metric3Dv2ForDepthEstimation:()=>Eo,Metric3Dv2PreTrainedModel:()=>Co,MgpstrForSceneTextRecognition:()=>Zl,MgpstrModelOutput:()=>Yl,MgpstrPreTrainedModel:()=>Jl,MimiDecoderModel:()=>uc,MimiDecoderOutput:()=>sc,MimiEncoderModel:()=>cc,MimiEncoderOutput:()=>oc,MimiModel:()=>lc,MimiPreTrainedModel:()=>ac,MistralForCausalLM:()=>tl,MistralModel:()=>el,MistralPreTrainedModel:()=>Qs,MobileBertForMaskedLM:()=>yt,MobileBertForQuestionAnswering:()=>wt,MobileBertForSequenceClassification:()=>bt,MobileBertModel:()=>gt,MobileBertPreTrainedModel:()=>mt,MobileLLMForCausalLM:()=>Jr,MobileLLMModel:()=>Yr,MobileLLMPreTrainedModel:()=>Kr,MobileNetV1ForImageClassification:()=>Fl,MobileNetV1ForSemanticSegmentation:()=>Ml,MobileNetV1Model:()=>El,MobileNetV1PreTrainedModel:()=>Cl,MobileNetV2ForImageClassification:()=>zl,MobileNetV2ForSemanticSegmentation:()=>Nl,MobileNetV2Model:()=>Pl,MobileNetV2PreTrainedModel:()=>Il,MobileNetV3ForImageClassification:()=>Ll,MobileNetV3ForSemanticSegmentation:()=>Rl,MobileNetV3Model:()=>Bl,MobileNetV3PreTrainedModel:()=>Ol,MobileNetV4ForImageClassification:()=>Wl,MobileNetV4ForSemanticSegmentation:()=>ql,MobileNetV4Model:()=>Vl,MobileNetV4PreTrainedModel:()=>jl,MobileViTForImageClassification:()=>fa,MobileViTModel:()=>pa,MobileViTPreTrainedModel:()=>ha,MobileViTV2ForImageClassification:()=>ya,MobileViTV2Model:()=>ga,MobileViTV2PreTrainedModel:()=>ma,ModelOutput:()=>se,ModernBertForMaskedLM:()=>ye,ModernBertForSequenceClassification:()=>be,ModernBertForTokenClassification:()=>we,ModernBertModel:()=>ge,ModernBertPreTrainedModel:()=>me,Moondream1ForConditionalGeneration:()=>Rn,MoonshineForConditionalGeneration:()=>zn,MoonshineModel:()=>Pn,MoonshinePreTrainedModel:()=>In,MptForCausalLM:()=>Ri,MptModel:()=>Li,MptPreTrainedModel:()=>Bi,MultiModalityCausalLM:()=>Kl,MultiModalityPreTrainedModel:()=>Gl,MusicgenForCausalLM:()=>Al,MusicgenForConditionalGeneration:()=>Sl,MusicgenModel:()=>Tl,MusicgenPreTrainedModel:()=>Dl,NomicBertModel:()=>_e,NomicBertPreTrainedModel:()=>ve,OPTForCausalLM:()=>Wi,OPTModel:()=>Vi,OPTPreTrainedModel:()=>ji,Olmo2ForCausalLM:()=>ti,Olmo2Model:()=>ei,Olmo2PreTrainedModel:()=>Qr,OlmoForCausalLM:()=>$r,OlmoModel:()=>Xr,OlmoPreTrainedModel:()=>Zr,OpenELMForCausalLM:()=>wi,OpenELMModel:()=>bi,OpenELMPreTrainedModel:()=>yi,OwlViTForObjectDetection:()=>va,OwlViTModel:()=>wa,OwlViTPreTrainedModel:()=>ba,Owlv2ForObjectDetection:()=>ka,Owlv2Model:()=>xa,Owlv2PreTrainedModel:()=>_a,PaliGemmaForConditionalGeneration:()=>qn,PaliGemmaPreTrainedModel:()=>Wn,PatchTSMixerForPrediction:()=>nc,PatchTSMixerModel:()=>tc,PatchTSMixerPreTrainedModel:()=>ec,PatchTSTForPrediction:()=>Ql,PatchTSTModel:()=>$l,PatchTSTPreTrainedModel:()=>Xl,Phi3ForCausalLM:()=>Pi,Phi3Model:()=>Ii,Phi3PreTrainedModel:()=>Mi,Phi3VForCausalLM:()=>Yn,Phi3VPreTrainedModel:()=>Kn,PhiForCausalLM:()=>Fi,PhiModel:()=>Ei,PhiPreTrainedModel:()=>Ci,PreTrainedModel:()=>oe,PretrainedMixin:()=>_c,PvtForImageClassification:()=>Qi,PvtModel:()=>$i,PvtPreTrainedModel:()=>Xi,PyAnnoteForAudioFrameClassification:()=>bs,PyAnnoteModel:()=>ys,PyAnnotePreTrainedModel:()=>gs,QuestionAnsweringModelOutput:()=>qu,Qwen2ForCausalLM:()=>xi,Qwen2Model:()=>_i,Qwen2PreTrainedModel:()=>vi,Qwen2VLForConditionalGeneration:()=>Si,Qwen2VLPreTrainedModel:()=>Ai,Qwen3ForCausalLM:()=>Ti,Qwen3Model:()=>Di,Qwen3PreTrainedModel:()=>ki,RFDetrForObjectDetection:()=>qa,RFDetrModel:()=>Wa,RFDetrObjectDetectionOutput:()=>Ua,RFDetrPreTrainedModel:()=>Va,RTDetrForObjectDetection:()=>Na,RTDetrModel:()=>za,RTDetrObjectDetectionOutput:()=>Oa,RTDetrPreTrainedModel:()=>Pa,RTDetrV2ForObjectDetection:()=>Ra,RTDetrV2Model:()=>La,RTDetrV2ObjectDetectionOutput:()=>ja,RTDetrV2PreTrainedModel:()=>Ba,ResNetForImageClassification:()=>oo,ResNetModel:()=>ao,ResNetPreTrainedModel:()=>io,RoFormerForMaskedLM:()=>De,RoFormerForQuestionAnswering:()=>Se,RoFormerForSequenceClassification:()=>Te,RoFormerForTokenClassification:()=>Ae,RoFormerModel:()=>ke,RoFormerPreTrainedModel:()=>xe,RobertaForMaskedLM:()=>cn,RobertaForQuestionAnswering:()=>hn,RobertaForSequenceClassification:()=>un,RobertaForTokenClassification:()=>dn,RobertaModel:()=>ln,RobertaPreTrainedModel:()=>sn,SamImageSegmentationOutput:()=>is,SamModel:()=>rs,SamPreTrainedModel:()=>ns,SapiensForDepthEstimation:()=>xo,SapiensForNormalEstimation:()=>ko,SapiensForSemanticSegmentation:()=>_o,SapiensPreTrainedModel:()=>vo,SegformerForImageClassification:()=>gl,SegformerForSemanticSegmentation:()=>yl,SegformerModel:()=>ml,SegformerPreTrainedModel:()=>fl,Seq2SeqLMOutput:()=>Lu,SequenceClassifierOutput:()=>Ru,SiglipModel:()=>nr,SiglipPreTrainedModel:()=>tr,SiglipTextModel:()=>rr,SiglipVisionModel:()=>ir,SmolVLMForConditionalGeneration:()=>Gn,SnacDecoderModel:()=>vc,SnacEncoderModel:()=>wc,SnacModel:()=>bc,SnacPreTrainedModel:()=>yc,SpeechT5ForSpeechToText:()=>Ys,SpeechT5ForTextToSpeech:()=>Js,SpeechT5HifiGan:()=>Zs,SpeechT5Model:()=>Ks,SpeechT5PreTrainedModel:()=>Gs,SqueezeBertForMaskedLM:()=>Ct,SqueezeBertForQuestionAnswering:()=>Ft,SqueezeBertForSequenceClassification:()=>Et,SqueezeBertModel:()=>St,SqueezeBertPreTrainedModel:()=>At,StableLmForCausalLM:()=>vl,StableLmModel:()=>wl,StableLmPreTrainedModel:()=>bl,Starcoder2ForCausalLM:()=>il,Starcoder2Model:()=>rl,Starcoder2PreTrainedModel:()=>nl,StyleTextToSpeech2Model:()=>Hs,StyleTextToSpeech2PreTrainedModel:()=>Us,Swin2SRForImageSuperResolution:()=>fo,Swin2SRModel:()=>po,Swin2SRPreTrainedModel:()=>ho,SwinForImageClassification:()=>co,SwinForSemanticSegmentation:()=>uo,SwinModel:()=>lo,SwinPreTrainedModel:()=>so,T5ForConditionalGeneration:()=>Lt,T5Model:()=>Bt,T5PreTrainedModel:()=>Ot,TableTransformerForObjectDetection:()=>Za,TableTransformerModel:()=>Ja,TableTransformerObjectDetectionOutput:()=>Xa,TableTransformerPreTrainedModel:()=>Ya,TokenClassifierOutput:()=>Vu,TrOCRForCausalLM:()=>$s,TrOCRPreTrainedModel:()=>Xs,UltravoxModel:()=>ic,UltravoxPreTrainedModel:()=>rc,UniSpeechForCTC:()=>ks,UniSpeechForSequenceClassification:()=>Ds,UniSpeechModel:()=>xs,UniSpeechPreTrainedModel:()=>_s,UniSpeechSatForAudioFrameClassification:()=>Es,UniSpeechSatForCTC:()=>Ss,UniSpeechSatForSequenceClassification:()=>Cs,UniSpeechSatModel:()=>As,UniSpeechSatPreTrainedModel:()=>Ts,ViTForImageClassification:()=>Hi,ViTMAEModel:()=>ta,ViTMAEPreTrainedModel:()=>ea,ViTMSNForImageClassification:()=>ia,ViTMSNModel:()=>ra,ViTMSNPreTrainedModel:()=>na,ViTModel:()=>Ui,ViTPreTrainedModel:()=>qi,VisionEncoderDecoderModel:()=>Nn,VitMatteForImageMatting:()=>da,VitMattePreTrainedModel:()=>ua,VitPoseForPoseEstimation:()=>Zi,VitPosePreTrainedModel:()=>Ji,VitsModel:()=>pl,VitsModelOutput:()=>Ku,VitsPreTrainedModel:()=>hl,Wav2Vec2BertForCTC:()=>Is,Wav2Vec2BertForSequenceClassification:()=>Ps,Wav2Vec2BertModel:()=>Ms,Wav2Vec2BertPreTrainedModel:()=>Fs,Wav2Vec2ForAudioFrameClassification:()=>ms,Wav2Vec2ForCTC:()=>ps,Wav2Vec2ForSequenceClassification:()=>fs,Wav2Vec2Model:()=>hs,Wav2Vec2PreTrainedModel:()=>ds,WavLMForAudioFrameClassification:()=>qs,WavLMForCTC:()=>js,WavLMForSequenceClassification:()=>Vs,WavLMForXVector:()=>Ws,WavLMModel:()=>Rs,WavLMPreTrainedModel:()=>Ls,WeSpeakerResNetModel:()=>vs,WeSpeakerResNetPreTrainedModel:()=>ws,WhisperForConditionalGeneration:()=>Fn,WhisperModel:()=>En,WhisperPreTrainedModel:()=>Cn,XLMForQuestionAnswering:()=>bn,XLMForSequenceClassification:()=>gn,XLMForTokenClassification:()=>yn,XLMModel:()=>fn,XLMPreTrainedModel:()=>pn,XLMRobertaForMaskedLM:()=>_n,XLMRobertaForQuestionAnswering:()=>Dn,XLMRobertaForSequenceClassification:()=>xn,XLMRobertaForTokenClassification:()=>kn,XLMRobertaModel:()=>vn,XLMRobertaPreTrainedModel:()=>wn,XLMWithLMHeadModel:()=>mn,XVectorOutput:()=>ju,YolosForObjectDetection:()=>es,YolosModel:()=>Qo,YolosObjectDetectionOutput:()=>ts,YolosPreTrainedModel:()=>$o});var r=n("./src/configs.js"),i=n("./src/backends/onnx.js"),o=n("./src/utils/dtypes.js"),s=n("./src/utils/generic.js"),c=n("./src/utils/core.js"),d=n("./src/utils/hub.js"),h=n("./src/utils/constants.js"),p=n("./src/generation/logits_process.js"),f=n("./src/generation/configuration_utils.js"),m=n("./src/utils/tensor.js"),g=n("./src/utils/image.js"),y=n("./src/utils/maths.js"),b=n("./src/generation/stopping_criteria.js"),w=n("./src/generation/logits_sampler.js"),v=n("./src/env.js"),_=n("./src/models/whisper/generation_whisper.js"),x=n("./src/models/whisper/common_whisper.js");const k=0,D=1,T=2,A=3,S=4,C=5,E=6,M=7,I=8,P=9,z=10,N=11,O=new Map,B=new Map,L=new Map;async function R(e,t,n){return Object.fromEntries(await Promise.all(Object.keys(t).map((async a=>{const{buffer_or_path:s,session_options:l,session_config:c}=await async function(e,t,n){var a,s,l,c,h,p,f,m,g;let y=null!==(a=null===(s=n.config)||void 0===s?void 0:s["transformers.js_config"])&&void 0!==a?a:{},b=null!==(l=n.device)&&void 0!==l?l:y.device;b&&"string"!==typeof b&&(b.hasOwnProperty(t)?b=b[t]:(console.warn('device not specified for "'.concat(t,'". Using the default device.')),b=null));const w=null!==b&&void 0!==b?b:v.apis.IS_NODE_ENV?"cpu":"wasm",_=(0,i.deviceToExecutionProviders)(w),x=null!==(c=y.device_config)&&void 0!==c?c:{};x.hasOwnProperty(w)&&(y=u(u({},y),x[w]));let k=null!==(h=n.dtype)&&void 0!==h?h:y.dtype;var D;if("string"!==typeof k&&(k&&k.hasOwnProperty(t)?k=k[t]:(k=null!==(D=o.DEFAULT_DEVICE_DTYPE_MAPPING[w])&&void 0!==D?D:o.DATA_TYPES.fp32,console.warn('dtype not specified for "'.concat(t,'". Using the default dtype (').concat(k,") for this device (").concat(w,").")))),k===o.DATA_TYPES.auto){let e=y.dtype;var T,A;"string"!==typeof e&&(e=null===(T=e)||void 0===T?void 0:T[t]),k=e&&e!==o.DATA_TYPES.auto&&o.DATA_TYPES.hasOwnProperty(e)?e:null!==(A=o.DEFAULT_DEVICE_DTYPE_MAPPING[w])&&void 0!==A?A:o.DATA_TYPES.fp32}const S=k;if(!o.DEFAULT_DTYPE_SUFFIX_MAPPING.hasOwnProperty(S))throw new Error("Invalid dtype: ".concat(S,". Should be one of: ").concat(Object.keys(o.DATA_TYPES).join(", ")));if(S===o.DATA_TYPES.fp16&&"webgpu"===w&&!await(0,o.isWebGpuFp16Supported)())throw new Error("The device (".concat(w,") does not support fp16."));const C=y.kv_cache_dtype,E=C?"string"===typeof C?C:null!==(p=C[S])&&void 0!==p?p:"float32":void 0;if(E&&!["float32","float16"].includes(E))throw new Error("Invalid kv_cache_dtype: ".concat(E,". Should be one of: float32, float16"));const F={dtype:S,kv_cache_dtype:E,device:w},M=o.DEFAULT_DTYPE_SUFFIX_MAPPING[S],I="".concat(t).concat(M,".onnx"),P="".concat(null!==(f=n.subfolder)&&void 0!==f?f:"","/").concat(I),z=u({},n.session_options);null!==(m=z.executionProviders)&&void 0!==m||(z.executionProviders=_);const N=y.free_dimension_overrides;var O;N?null!==(O=z.freeDimensionOverrides)&&void 0!==O||(z.freeDimensionOverrides=N):w.startsWith("webnn")&&!z.freeDimensionOverrides&&console.warn('WebNN does not currently support dynamic shapes and requires \'free_dimension_overrides\' to be set in config.json, preferably as a field within config["transformers.js_config"]["device_config"]["'.concat(w,'"]. ')+"When 'free_dimension_overrides' is not set, you may experience significant performance degradation.");const B=v.apis.IS_NODE_ENV&&v.env.useFSCache,L=(0,d.getModelFile)(e,P,!0,n,B),R=null!==(g=n.use_external_data_format)&&void 0!==g?g:y.use_external_data_format;let j=[];if(R){let r;r="object"===typeof R?R.hasOwnProperty(I)?R[I]:!!R.hasOwnProperty(t)&&R[t]:R;const i=+r;if(i>d.MAX_EXTERNAL_DATA_CHUNKS)throw new Error("The number of external data chunks (".concat(i,") exceeds the maximum allowed value (").concat(d.MAX_EXTERNAL_DATA_CHUNKS,")."));for(let t=0;t<i;++t){var V;const r="".concat(I,"_data").concat(0===t?"":"_"+t),i="".concat(null!==(V=n.subfolder)&&void 0!==V?V:"","/").concat(r);j.push(new Promise((async(t,a)=>{const o=await(0,d.getModelFile)(e,i,!0,n,B);t(o instanceof Uint8Array?{path:r,data:o}:r)})))}}else void 0!==z.externalData&&(j=z.externalData.map((async t=>{if("string"===typeof t.data){const r=await(0,d.getModelFile)(e,t.data,!0,n);return u(u({},t),{},{data:r})}return t})));if(j.length>0){const e=await Promise.all(j);v.apis.IS_NODE_ENV||(z.externalData=e)}if("webgpu"===w){const e=(0,r.getKeyValueShapes)(n.config,{prefix:"present"});if(Object.keys(e).length>0&&!(0,i.isONNXProxy)()){const t={};for(const n in e)t[n]="gpu-buffer";z.preferredOutputLocation=t}}return{buffer_or_path:await L,session_options:z,session_config:F}}(e,t[a],n);return[a,await(0,i.createInferenceSession)(s,l,c)]}))))}async function j(e,t,n){return Object.fromEntries(await Promise.all(Object.keys(t).map((async r=>[r,await(0,d.getModelJSON)(e,t[r],!1,n)]))))}let V=Promise.resolve();async function W(e,t){const n=function(e,t){const n=Object.create(null),r=[];for(const s of e.inputNames){const e=t[s];e instanceof m.Tensor?n[s]=(0,i.isONNXProxy)()?e.clone():e:r.push(s)}if(r.length>0)throw new Error('An error occurred during model execution: "Missing the following inputs: '.concat(r.join(", "),"."));const a=Object.keys(t).length,o=e.inputNames.length;if(a>o){let n=Object.keys(t).filter((t=>!e.inputNames.includes(t)));console.warn("WARNING: Too many inputs were provided (".concat(a," > ").concat(o,'). The following inputs will be ignored: "').concat(n.join(", "),'".'))}return n}(e,t);try{const t=Object.fromEntries(Object.entries(n).map((e=>{let[t,n]=e;return[t,n.ort_tensor]}))),r=()=>e.run(t);return q(await(v.apis.IS_BROWSER_ENV||v.apis.IS_WEBWORKER_ENV?V=V.then(r):r()))}catch(F){const t=Object.fromEntries(Object.entries(n).map((e=>{let[t,n]=e;const r={type:n.type,dims:n.dims,location:n.location};return"gpu-buffer"!==r.location&&(r.data=n.data),[t,r]})));throw console.error('An error occurred during model execution: "'.concat(F,'".')),console.error("Inputs given to model:",t),F}}function q(e){for(let t in e)(0,i.isONNXTensor)(e[t])?e[t]=new m.Tensor(e[t]):"object"===typeof e[t]&&q(e[t]);return e}function U(e){if(e instanceof m.Tensor)return e;if(0===e.length)throw Error("items must be non-empty");if(Array.isArray(e[0])){if(e.some((t=>t.length!==e[0].length)))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new m.Tensor("int64",BigInt64Array.from(e.flat().map((e=>BigInt(e)))),[e.length,e[0].length])}return new m.Tensor("int64",BigInt64Array.from(e.map((e=>BigInt(e)))),[1,e.length])}function H(e){return new m.Tensor("bool",[e],[1])}async function G(e,t){let{encoder_outputs:n,input_ids:r,decoder_input_ids:i}=t,o=a(t,Kd);if(!n){const r=(0,c.pick)(t,e.sessions.model.inputNames);n=(await K(e,r)).last_hidden_state}o.input_ids=i,o.encoder_hidden_states=n,e.sessions.decoder_model_merged.inputNames.includes("encoder_attention_mask")&&(o.encoder_attention_mask=t.attention_mask);return await J(e,o,!0)}async function K(e,t){const n=e.sessions.model,r=(0,c.pick)(t,n.inputNames);if(n.inputNames.includes("inputs_embeds")&&!r.inputs_embeds){if(!t.input_ids)throw new Error("Both `input_ids` and `inputs_embeds` are missing in the model inputs.");r.inputs_embeds=await e.encode_text({input_ids:t.input_ids})}if(n.inputNames.includes("token_type_ids")&&!r.token_type_ids){if(!r.input_ids)throw new Error("Both `input_ids` and `token_type_ids` are missing in the model inputs.");r.token_type_ids=(0,m.zeros_like)(r.input_ids)}if(n.inputNames.includes("pixel_mask")&&!r.pixel_mask){if(!r.pixel_values)throw new Error("Both `pixel_values` and `pixel_mask` are missing in the model inputs.");const e=r.pixel_values.dims;r.pixel_mask=(0,m.ones)([e[0],e[2],e[3]])}return await W(n,r)}async function Y(e,t){const n=await e.encode(t);return await e.decode(n)}async function J(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.sessions[n?"decoder_model_merged":"model"],{past_key_values:i}=t,o=a(t,Yd);if(r.inputNames.includes("use_cache_branch")&&(o.use_cache_branch=H(!!i)),r.inputNames.includes("position_ids")&&o.attention_mask&&!o.position_ids){const t=["paligemma","gemma3_text","gemma3"].includes(e.config.model_type)?1:0;o.position_ids=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{input_ids:r,inputs_embeds:i,attention_mask:a}=e,{data:o,dims:s}=te(a,n);let l=new m.Tensor("int64",o,s);if(t){const e=-(null!==r&&void 0!==r?r:i).dims.at(1);l=l.slice(null,[e,null])}return l}(o,i,t)}e.addPastKeyValues(o,i);const s=(0,c.pick)(o,r.inputNames);return await W(r,s)}function Z(e){let{modality_token_id:t,inputs_embeds:n,modality_features:r,input_ids:i,attention_mask:a}=e;const o=i.tolist().map((e=>e.reduce(((e,n,r)=>(n==t&&e.push(r),e)),[]))),s=o.reduce(((e,t)=>e+t.length),0),l=r.dims[0];if(s!==l)throw new Error("Number of tokens and features do not match: tokens: ".concat(s,", features ").concat(l));let c=0;for(let u=0;u<o.length;++u){const e=o[u],t=n[u];for(let n=0;n<e.length;++n)t[e[n]].data.set(r[c++].data)}return{inputs_embeds:n,attention_mask:a}}function X(e){let{image_token_id:t,inputs_embeds:n,image_features:r,input_ids:i,attention_mask:a}=e;return Z({modality_token_id:t,inputs_embeds:n,modality_features:r,input_ids:i,attention_mask:a})}async function $(e,t){let{encode_function:n,merge_function:r,modality_input_name:i,modality_output_name:o,input_ids:s=null,attention_mask:l=null,position_ids:c=null,inputs_embeds:d=null,past_key_values:h=null,generation_config:p=null,logits_processor:f=null}=t,g=a(t,Jd);const y=g[i];if(!d)if(d=await e.encode_text(u({input_ids:s},g)),y&&1!==s.dims[1]){const e=await n(u({[i]:y},g));({inputs_embeds:d,attention_mask:l}=r({[o]:e,inputs_embeds:d,input_ids:s,attention_mask:l}))}else if(h&&y&&1===s.dims[1]){const e=s.dims[1],t=Object.values(h)[0].dims.at(-2);l=(0,m.cat)([(0,m.ones)([s.dims[0],t]),l.slice(null,[l.dims[1]-e,l.dims[1]])],1)}if(!c&&"qwen2_vl"===e.config.model_type){const{image_grid_thw:t,video_grid_thw:n}=g;[c]=e.get_rope_index(s,t,n,l)}return await J(e,{inputs_embeds:d,past_key_values:h,attention_mask:l,position_ids:c,generation_config:p,logits_processor:f},!0)}async function Q(e,t){return await $(e,u(u({},t),{},{modality_input_name:"audio_values",modality_output_name:"audio_features",encode_function:e.encode_audio.bind(e),merge_function:e._merge_input_ids_with_audio_features.bind(e)}))}async function ee(e,t){return await $(e,u(u({},t),{},{modality_input_name:"pixel_values",modality_output_name:"image_features",encode_function:e.encode_image.bind(e),merge_function:e._merge_input_ids_with_image_features.bind(e)}))}function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[n,r]=e.dims,i=e.data,a=new BigInt64Array(i.length);for(let o=0;o<n;++o){const e=o*r;let n=BigInt(t);for(let t=0;t<r;++t){const r=e+t;0n===i[r]?a[r]=BigInt(1):(a[r]=n,n+=i[r])}}return{data:a,dims:e.dims}}function ne(e,t,n,r){if(n.past_key_values){const t=Object.values(n.past_key_values)[0].dims.at(-2),{input_ids:r,attention_mask:i}=n;if(i&&i.dims[1]>r.dims[1]);else if(t<r.dims[1])n.input_ids=r.slice(null,[t,null]);else if(null!=e.config.image_token_index&&r.data.some((t=>t==e.config.image_token_index))){const i=e.config.num_image_tokens;if(!i)throw new Error("`num_image_tokens` is missing in the model configuration.");const a=r.dims[1]-(t-i);n.input_ids=r.slice(null,[-a,null]),n.attention_mask=(0,m.ones)([1,t+a])}}return n}function re(e,t,n,r){return n.past_key_values&&(t=t.map((e=>[e.at(-1)]))),u(u({},n),{},{decoder_input_ids:U(t)})}function ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.config.is_encoder_decoder?re(e,...n):ne(e,...n)}function ae(e,t,n,r){const i=!!n.past_key_values;if(null!==r.guidance_scale&&r.guidance_scale>1&&(i?n.input_ids=(0,m.cat)([n.input_ids,n.input_ids],0):(n.input_ids=(0,m.cat)([n.input_ids,(0,m.full_like)(n.input_ids,BigInt(r.pad_token_id))],0),n.attention_mask=(0,m.cat)([n.attention_mask,(0,m.full_like)(n.attention_mask,0n)],0))),!i&&n.pixel_values||(n.pixel_values=(0,m.full)([0,0,3,384,384],1)),i){const e=0,t=1,r=e>0?1:0,i=1;n.images_seq_mask=new m.Tensor("bool",new Array(e+t).fill(!0).fill(!1,0,t),[i,e+t]),n.images_emb_mask=new m.Tensor("bool",new Array(e).fill(!!r),[i,1,e])}return n}class oe extends s.Callable{constructor(e,t,n){var r;super(),l(this,"main_input_name","input_ids"),l(this,"forward_params",["input_ids","attention_mask"]),this.config=e,this.sessions=t,this.configs=n;const i=L.get(this.constructor),a=O.get(i);switch(this.can_generate=!1,this._forward=null,this._prepare_inputs_for_generation=null,a){case S:this.can_generate=!0,this._forward=J,this._prepare_inputs_for_generation=ne;break;case T:case A:case M:this.can_generate=!0,this._forward=G,this._prepare_inputs_for_generation=re;break;case D:this._forward=G;break;case E:this.can_generate=!0,this._forward=ee,this._prepare_inputs_for_generation=ie;break;case z:this.can_generate=!0,this._forward=Q,this._prepare_inputs_for_generation=ie;break;case P:this.can_generate=!0,this._prepare_inputs_for_generation=ie;break;case I:this.can_generate=!0,this._prepare_inputs_for_generation=ae;break;case N:this._forward=Y;break;default:this._forward=K}this.can_generate&&this.forward_params.push("past_key_values"),this.custom_config=null!==(r=this.config["transformers.js_config"])&&void 0!==r?r:{}}async dispose(){const e=[];for(const n of Object.values(this.sessions)){var t;null!==n&&void 0!==n&&null!==(t=n.handler)&&void 0!==t&&t.dispose&&e.push(n.handler.dispose())}return await Promise.all(e)}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:i=null,local_files_only:a=!1,revision:o="main",model_file_name:s=null,subfolder:l="onnx",device:c=null,dtype:u=null,use_external_data_format:d=null,session_options:p={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f={progress_callback:t,config:n,cache_dir:i,local_files_only:a,revision:o,model_file_name:s,subfolder:l,device:c,dtype:u,use_external_data_format:d,session_options:p};const m=L.get(this),g=O.get(m);let y;var b;if(n=f.config=await r.AutoConfig.from_pretrained(e,f),g===S)y=await Promise.all([R(e,{model:null!==(b=f.model_file_name)&&void 0!==b?b:"model"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===T||g===A)y=await Promise.all([R(e,{model:"encoder_model",decoder_model_merged:"decoder_model_merged"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===C)y=await Promise.all([R(e,{model:"vision_encoder",prompt_encoder_mask_decoder:"prompt_encoder_mask_decoder"},f)]);else if(g===D)y=await Promise.all([R(e,{model:"encoder_model",decoder_model_merged:"decoder_model_merged"},f)]);else if(g===E){const t={embed_tokens:"embed_tokens",vision_encoder:"vision_encoder",decoder_model_merged:"decoder_model_merged"};n.is_encoder_decoder&&(t.model="encoder_model"),y=await Promise.all([R(e,t,f),j(e,{generation_config:"generation_config.json"},f)])}else if(g===z){const t={embed_tokens:"embed_tokens",audio_encoder:"audio_encoder",decoder_model_merged:"decoder_model_merged"};y=await Promise.all([R(e,t,f),j(e,{generation_config:"generation_config.json"},f)])}else if(g===M)y=await Promise.all([R(e,{model:"text_encoder",decoder_model_merged:"decoder_model_merged",encodec_decode:"encodec_decode"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===I)y=await Promise.all([R(e,{prepare_inputs_embeds:"prepare_inputs_embeds",model:"language_model",lm_head:"lm_head",gen_head:"gen_head",gen_img_embeds:"gen_img_embeds",image_decode:"image_decode"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===P)y=await Promise.all([R(e,{prepare_inputs_embeds:"prepare_inputs_embeds",model:"model",vision_encoder:"vision_encoder"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===N)y=await Promise.all([R(e,{encoder_model:"encoder_model",decoder_model:"decoder_model"},f)]);else{var w;if(g!==k){var v;const e=null!==m&&void 0!==m?m:null===(v=n)||void 0===v?void 0:v.model_type;"custom"!==e&&console.warn("Model type for '".concat(e,"' not found, assuming encoder-only architecture. Please report this at ").concat(h.GITHUB_ISSUE_URL,"."))}y=await Promise.all([R(e,{model:null!==(w=f.model_file_name)&&void 0!==w?w:"model"},f)])}return new this(n,...y)}async _call(e){return await this.forward(e)}async forward(e){return await this._forward(this,e)}get generation_config(){var e,t;return null!==(e=null===(t=this.configs)||void 0===t?void 0:t.generation_config)&&void 0!==e?e:null}_get_logits_warper(e){const t=new p.LogitsProcessorList;return null!==e.temperature&&1!==e.temperature&&t.push(new p.TemperatureLogitsWarper(e.temperature)),null!==e.top_k&&0!==e.top_k&&t.push(new p.TopKLogitsWarper(e.top_k)),null!==e.top_p&&e.top_p<1&&t.push(new p.TopPLogitsWarper(e.top_p)),t}_get_logits_processor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=new p.LogitsProcessorList;if(null!==e.repetition_penalty&&1!==e.repetition_penalty&&r.push(new p.RepetitionPenaltyLogitsProcessor(e.repetition_penalty)),null!==e.no_repeat_ngram_size&&e.no_repeat_ngram_size>0&&r.push(new p.NoRepeatNGramLogitsProcessor(e.no_repeat_ngram_size)),null!==e.bad_words_ids&&r.push(new p.NoBadWordsLogitsProcessor(e.bad_words_ids,e.eos_token_id)),null!==e.min_length&&null!==e.eos_token_id&&e.min_length>0&&r.push(new p.MinLengthLogitsProcessor(e.min_length,e.eos_token_id)),null!==e.min_new_tokens&&null!==e.eos_token_id&&e.min_new_tokens>0&&r.push(new p.MinNewTokensLengthLogitsProcessor(t,e.min_new_tokens,e.eos_token_id)),null!==e.forced_bos_token_id&&r.push(new p.ForcedBOSTokenLogitsProcessor(e.forced_bos_token_id)),null!==e.forced_eos_token_id&&r.push(new p.ForcedEOSTokenLogitsProcessor(e.max_length,e.forced_eos_token_id)),null!==e.begin_suppress_tokens){const n=t>1||null===e.forced_bos_token_id?t:t+1;r.push(new p.SuppressTokensAtBeginLogitsProcessor(e.begin_suppress_tokens,n))}return null!==e.guidance_scale&&e.guidance_scale>1&&r.push(new p.ClassifierFreeGuidanceLogitsProcessor(e.guidance_scale)),null!==n&&r.extend(n),r}_prepare_generation_config(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.GenerationConfig;const i=u({},this.config);for(const o of["decoder","generator","text_config"])o in i&&Object.assign(i,i[o]);const a=new r(i);return Object.assign(a,null!==(n=this.generation_config)&&void 0!==n?n:{}),e&&Object.assign(a,e),t&&Object.assign(a,(0,c.pick)(t,Object.getOwnPropertyNames(a))),a}_get_stopping_criteria(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new b.StoppingCriteriaList;var r;null!==e.max_length&&n.push(new b.MaxLengthCriteria(e.max_length,null!==(r=this.config.max_position_embeddings)&&void 0!==r?r:null));return null!==e.eos_token_id&&n.push(new b.EosTokenCriteria(e.eos_token_id)),t&&n.extend(t),n}_validate_model_class(){if(!this.can_generate){const e=[Ic,Oc,Mc,Ac],t=L.get(this.constructor),n=new Set,r=this.config.model_type;for(const a of e){const e=a.get(r);e&&n.add(e[0])}let i="The current model class (".concat(t,") is not compatible with `.generate()`, as it doesn't have a language model head.");throw n.size>0&&(i+=" Please use the following class instead: ".concat([...n].join(", "))),Error(i)}}prepare_inputs_for_generation(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._prepare_inputs_for_generation(this,...t)}_update_model_kwargs_for_generation(e){let{generated_input_ids:t,outputs:n,model_inputs:r,is_encoder_decoder:i}=e;return r.past_key_values=this.getPastKeyValues(n,r.past_key_values),r.input_ids=new m.Tensor("int64",t.flat(),[t.length,1]),i||(r.attention_mask=(0,m.cat)([r.attention_mask,(0,m.ones)([r.attention_mask.dims[0],1])],1)),r.position_ids=null,r}_prepare_model_inputs(e){let{inputs:t,bos_token_id:n,model_kwargs:r}=e;const i=(0,c.pick)(r,this.forward_params),a=this.main_input_name;if(a in i){if(t)throw new Error("`inputs`: {inputs}` were passed alongside {input_name} which is not allowed. Make sure to either pass {inputs} or {input_name}=...")}else i[a]=t;return{inputs_tensor:i[a],model_inputs:i,model_input_name:a}}async _prepare_encoder_decoder_kwargs_for_generation(e){let{inputs_tensor:t,model_inputs:n,model_input_name:r,generation_config:i}=e;if(this.sessions.model.inputNames.includes("inputs_embeds")&&!n.inputs_embeds&&"_prepare_inputs_embeds"in this){const{input_ids:e,pixel_values:t,attention_mask:r}=n,i=a(n,Zd),o=await this._prepare_inputs_embeds(n);n=u(u({},i),(0,c.pick)(o,["inputs_embeds","attention_mask"]))}let{last_hidden_state:o}=await K(this,n);if(null!==i.guidance_scale&&i.guidance_scale>1)o=(0,m.cat)([o,(0,m.full_like)(o,0)],0),"attention_mask"in n&&(n.attention_mask=(0,m.cat)([n.attention_mask,(0,m.zeros_like)(n.attention_mask)],0));else if(n.decoder_input_ids){const e=U(n.decoder_input_ids).dims[0];if(e!==o.dims[0]){if(1!==o.dims[0])throw new Error("The encoder outputs have a different batch size (".concat(o.dims[0],") than the decoder inputs (").concat(e,")."));o=(0,m.cat)(Array.from({length:e},(()=>o)),0)}}return n.encoder_outputs=o,n}_prepare_decoder_input_ids_for_generation(e){let{batch_size:t,model_input_name:n,model_kwargs:r,decoder_start_token_id:i,bos_token_id:o,generation_config:s}=e,{decoder_input_ids:l}=r,c=a(r,Xd);if(!(l instanceof m.Tensor)){if(l)Array.isArray(l[0])||(l=Array.from({length:t},(()=>l)));else if(null!==i&&void 0!==i||(i=o),"musicgen"===this.config.model_type)l=Array.from({length:t*this.config.decoder.num_codebooks},(()=>[i]));else if(Array.isArray(i)){if(i.length!==t)throw new Error("`decoder_start_token_id` expcted to have length ".concat(t," but got ").concat(i.length));l=i}else l=Array.from({length:t},(()=>[i]));l=U(l)}return r.decoder_attention_mask=(0,m.ones_like)(l),{input_ids:l,model_inputs:c}}async generate(e){let{inputs:t=null,generation_config:n=null,logits_processor:r=null,stopping_criteria:i=null,streamer:o=null}=e,s=a(e,$d);this._validate_model_class(),n=this._prepare_generation_config(n,s);let{inputs_tensor:l,model_inputs:c,model_input_name:d}=this._prepare_model_inputs({inputs:t,model_kwargs:s});const h=this.config.is_encoder_decoder;let p;h&&("encoder_outputs"in c||(c=await this._prepare_encoder_decoder_kwargs_for_generation({inputs_tensor:l,model_inputs:c,model_input_name:d,generation_config:n}))),h?({input_ids:p,model_inputs:c}=this._prepare_decoder_input_ids_for_generation({batch_size:c[d].dims.at(0),model_input_name:d,model_kwargs:c,decoder_start_token_id:n.decoder_start_token_id,bos_token_id:n.bos_token_id,generation_config:n})):p=c[d];let f=p.dims.at(-1);null!==n.max_new_tokens&&(n.max_length=f+n.max_new_tokens);const g=this._get_logits_processor(n,f,r),y=this._get_stopping_criteria(n,i),b=c[d].dims.at(0),v=w.LogitsSampler.getSampler(n),_=new Array(b).fill(0),x=p.tolist();let k;o&&o.put(x);let D={};for(;;){if(c=this.prepare_inputs_for_generation(x,c,n),k=await this.forward(c),n.output_attentions&&n.return_dict_in_generate){const e=this.getAttentions(k);for(const t in e)t in D||(D[t]=[]),D[t].push(e[t])}const e=g(x,k.logits.slice(null,-1,null)),t=[];for(let n=0;n<e.dims.at(0);++n){const r=e[n],i=await v(r);for(const[e,a]of i){const r=BigInt(e);_[n]+=a,x[n].push(r),t.push([r]);break}}o&&o.put(t);if(y(x).every((e=>e)))break;c=this._update_model_kwargs_for_generation({generated_input_ids:t,outputs:k,model_inputs:c,is_encoder_decoder:h})}o&&o.end();const T=this.getPastKeyValues(k,c.past_key_values,!0),A=new m.Tensor("int64",x.flat(),[x.length,x[0].length]);if(n.return_dict_in_generate)return u({sequences:A,past_key_values:T},D);for(const a of Object.values(k))"gpu-buffer"===a.location&&a.dispose();return A}getPastKeyValues(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Object.create(null);for(const i in e)if(i.startsWith("present")){const a=i.replace("present","past_key_values"),o=i.includes("encoder");if(r[a]=o&&t?t[a]:e[i],t&&(!o||n)){const e=t[a];"gpu-buffer"===e.location&&e.dispose()}}return r}getAttentions(e){const t={};for(const n of["cross_attentions","encoder_attentions","decoder_attentions"])for(const r in e)r.startsWith(n)&&(n in t||(t[n]=[]),t[n].push(e[r]));return t}addPastKeyValues(e,t){if(t)Object.assign(e,t);else{var n,i,a,o,s,l;const t=null!==(n=this.sessions.decoder_model_merged)&&void 0!==n?n:this.sessions.model,c=null!==(i=null===t||void 0===t||null===(a=t.config)||void 0===a?void 0:a.kv_cache_dtype)&&void 0!==i?i:"float32",u="float16"===c?new m.DataTypeMap.float16:[],d=null!==(o=null===(s=null!==(l=e[this.main_input_name])&&void 0!==l?l:e.attention_mask)||void 0===s||null===(s=s.dims)||void 0===s?void 0:s[0])&&void 0!==o?o:1,h=(0,r.getKeyValueShapes)(this.config,{batch_size:d});for(const n in h)e[n]=new m.Tensor(c,u,h[n])}}async encode_image(e){let{pixel_values:t}=e;const n=(await W(this.sessions.vision_encoder,{pixel_values:t})).image_features;return this.config.num_image_tokens||(console.warn("The number of image tokens was not set in the model configuration. "+"Setting it to the number of features detected by the vision encoder (".concat(n.dims[1],").")),this.config.num_image_tokens=n.dims[1]),n}async encode_text(e){let{input_ids:t}=e;return(await W(this.sessions.embed_tokens,{input_ids:t})).inputs_embeds}async encode_audio(e){let{audio_values:t}=e;return(await W(this.sessions.audio_encoder,{audio_values:t})).audio_features}}class se{}class le extends se{constructor(e){let{last_hidden_state:t,hidden_states:n=null,attentions:r=null}=e;super(),this.last_hidden_state=t,this.hidden_states=n,this.attentions=r}}class ce extends oe{}class ue extends ce{}class de extends ce{async _call(e){return new Wu(await super._call(e))}}class he extends ce{async _call(e){return new Ru(await super._call(e))}}class pe extends ce{async _call(e){return new Vu(await super._call(e))}}class fe extends ce{async _call(e){return new qu(await super._call(e))}}class me extends oe{}class ge extends me{}class ye extends me{async _call(e){return new Wu(await super._call(e))}}class be extends me{async _call(e){return new Ru(await super._call(e))}}class we extends me{async _call(e){return new Vu(await super._call(e))}}class ve extends oe{}class _e extends ve{}class xe extends oe{}class ke extends xe{}class De extends xe{async _call(e){return new Wu(await super._call(e))}}class Te extends xe{async _call(e){return new Ru(await super._call(e))}}class Ae extends xe{async _call(e){return new Vu(await super._call(e))}}class Se extends xe{async _call(e){return new qu(await super._call(e))}}class Ce extends oe{}class Ee extends Ce{}class Fe extends Ce{async _call(e){return new Wu(await super._call(e))}}class Me extends Ce{async _call(e){return new Ru(await super._call(e))}}class Ie extends Ce{async _call(e){return new Vu(await super._call(e))}}class Pe extends Ce{async _call(e){return new qu(await super._call(e))}}class ze extends oe{}class Ne extends ze{}class Oe extends ze{async _call(e){return new Wu(await super._call(e))}}class Be extends ze{async _call(e){return new Ru(await super._call(e))}}class Le extends ze{async _call(e){return new Vu(await super._call(e))}}class Re extends ze{async _call(e){return new qu(await super._call(e))}}class je extends oe{}class Ve extends je{}class We extends je{async _call(e){return new Wu(await super._call(e))}}class qe extends je{async _call(e){return new Ru(await super._call(e))}}class Ue extends je{async _call(e){return new Vu(await super._call(e))}}class He extends je{async _call(e){return new qu(await super._call(e))}}class Ge extends oe{}class Ke extends Ge{}class Ye extends Ge{async _call(e){return new Wu(await super._call(e))}}class Je extends Ge{async _call(e){return new Ru(await super._call(e))}}class Ze extends Ge{async _call(e){return new Vu(await super._call(e))}}class Xe extends Ge{async _call(e){return new qu(await super._call(e))}}class $e extends oe{}class Qe extends $e{}class et extends $e{async _call(e){return new Wu(await super._call(e))}}class tt extends $e{async _call(e){return new Ru(await super._call(e))}}class nt extends $e{async _call(e){return new Vu(await super._call(e))}}class rt extends $e{async _call(e){return new qu(await super._call(e))}}class it extends oe{}class at extends it{}class ot extends it{async _call(e){return new Ru(await super._call(e))}}class st extends it{async _call(e){return new Vu(await super._call(e))}}class lt extends it{async _call(e){return new qu(await super._call(e))}}class ct extends it{async _call(e){return new Wu(await super._call(e))}}class ut extends oe{}class dt extends ut{}class ht extends ut{async _call(e){return new Wu(await super._call(e))}}class pt extends ut{async _call(e){return new Ru(await super._call(e))}}class ft extends ut{async _call(e){return new Vu(await super._call(e))}}class mt extends oe{}class gt extends mt{}class yt extends mt{async _call(e){return new Wu(await super._call(e))}}class bt extends mt{async _call(e){return new Ru(await super._call(e))}}class wt extends mt{async _call(e){return new qu(await super._call(e))}}class vt extends oe{}class _t extends vt{}class xt extends vt{async _call(e){return new Wu(await super._call(e))}}class kt extends vt{async _call(e){return new Ru(await super._call(e))}}class Dt extends vt{async _call(e){return new Vu(await super._call(e))}}class Tt extends vt{async _call(e){return new qu(await super._call(e))}}class At extends oe{}class St extends At{}class Ct extends At{async _call(e){return new Wu(await super._call(e))}}class Et extends At{async _call(e){return new Ru(await super._call(e))}}class Ft extends At{async _call(e){return new qu(await super._call(e))}}class Mt extends oe{}class It extends Mt{}class Pt extends Mt{async _call(e){return new Ru(await super._call(e))}}class zt extends Mt{async _call(e){return new qu(await super._call(e))}}class Nt extends Mt{async _call(e){return new Wu(await super._call(e))}}class Ot extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","encoder_outputs","decoder_input_ids","decoder_attention_mask","past_key_values"])}}class Bt extends Ot{}class Lt extends Ot{}class Rt extends oe{}class jt extends Rt{}class Vt extends Rt{}class Wt extends oe{}class qt extends Wt{}class Ut extends Wt{}class Ht extends oe{}class Gt extends Ht{}class Kt extends Ht{}class Yt extends Ht{async _call(e){return new Ru(await super._call(e))}}class Jt extends oe{}class Zt extends Jt{}class Xt extends Jt{}class $t extends Jt{async _call(e){return new Ru(await super._call(e))}}class Qt extends Jt{}class en extends oe{}class tn extends en{}class nn extends en{}class rn extends oe{}class an extends rn{}class on extends rn{}class sn extends oe{}class ln extends sn{}class cn extends sn{async _call(e){return new Wu(await super._call(e))}}class un extends sn{async _call(e){return new Ru(await super._call(e))}}class dn extends sn{async _call(e){return new Vu(await super._call(e))}}class hn extends sn{async _call(e){return new qu(await super._call(e))}}class pn extends oe{}class fn extends pn{}class mn extends pn{async _call(e){return new Wu(await super._call(e))}}class gn extends pn{async _call(e){return new Ru(await super._call(e))}}class yn extends pn{async _call(e){return new Vu(await super._call(e))}}class bn extends pn{async _call(e){return new qu(await super._call(e))}}class wn extends oe{}class vn extends wn{}class _n extends wn{async _call(e){return new Wu(await super._call(e))}}class xn extends wn{async _call(e){return new Ru(await super._call(e))}}class kn extends wn{async _call(e){return new Vu(await super._call(e))}}class Dn extends wn{async _call(e){return new qu(await super._call(e))}}class Tn extends oe{}class An extends Tn{}class Sn extends Tn{}class Cn extends oe{constructor(){super(...arguments),l(this,"requires_attention_mask",!1),l(this,"main_input_name","input_features"),l(this,"forward_params",["input_features","attention_mask","decoder_input_ids","decoder_attention_mask","past_key_values"])}}class En extends Cn{}class Fn extends Cn{_prepare_generation_config(e,t){return super._prepare_generation_config(e,t,_.WhisperGenerationConfig)}_retrieve_init_tokens(e){const t=[e.decoder_start_token_id];let n=e.language;const r=e.task;if(e.is_multilingual){n||(console.warn("No language specified - defaulting to English (en)."),n="en");const i=(0,x.whisper_language_to_code)(n),a="<|".concat(i,"|>");t.push(e.lang_to_id[a]),t.push(e.task_to_id[null!==r&&void 0!==r?r:"transcribe"])}else if(n||r)throw new Error("Cannot specify `task` or `language` for an English-only model. If the model is intended to be multilingual, pass `is_multilingual=true` to generate, or update the generation config.");return!e.return_timestamps&&e.no_timestamps_token_id&&t.at(-1)!==e.no_timestamps_token_id?t.push(e.no_timestamps_token_id):e.return_timestamps&&t.at(-1)===e.no_timestamps_token_id&&(console.warn("<|notimestamps|> prompt token is removed from generation_config since `return_timestamps` is set to `true`."),t.pop()),t.filter((e=>null!=e))}async generate(e){var t;let{inputs:n=null,generation_config:r=null,logits_processor:i=null,stopping_criteria:o=null}=e,s=a(e,Qd);r=this._prepare_generation_config(r,s);const l=null!==(t=s.decoder_input_ids)&&void 0!==t?t:this._retrieve_init_tokens(r);if(r.return_timestamps&&(null!==i&&void 0!==i||(i=new p.LogitsProcessorList),i.push(new p.WhisperTimeStampLogitsProcessor(r,l))),r.begin_suppress_tokens&&(null!==i&&void 0!==i||(i=new p.LogitsProcessorList),i.push(new p.SuppressTokensAtBeginLogitsProcessor(r.begin_suppress_tokens,l.length))),r.return_token_timestamps){if(!r.alignment_heads)throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");"translate"===r.task&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),r.output_attentions=!0,r.return_dict_in_generate=!0}const c=await super.generate(u({inputs:n,generation_config:r,logits_processor:i,decoder_input_ids:l},s));return r.return_token_timestamps&&(c.token_timestamps=this._extract_token_timestamps(c,r.alignment_heads,r.num_frames)),c}_extract_token_timestamps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.02;if(!e.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");null==n&&console.warn("`num_frames` has not been set, meaning the entire audio will be analyzed. This may lead to inaccurate token-level timestamps for short audios (< 30 seconds).");let i=this.config.median_filter_width;void 0===i&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),i=7);const a=e.cross_attentions,o=Array.from({length:this.config.decoder_layers},((e,t)=>(0,m.cat)(a.map((e=>e[t])),2))),s=(0,m.stack)(t.map((e=>{let[t,r]=e;if(t>=o.length)throw new Error("Layer index ".concat(t," is out of bounds for cross attentions (length ").concat(o.length,")."));return n?o[t].slice(null,r,null,[0,n]):o[t].slice(null,r)}))).transpose(1,0,2,3),[l,u]=(0,m.std_mean)(s,-2,0,!0),d=s.clone();for(let c=0;c<d.dims[0];++c){const e=d[c];for(let t=0;t<e.dims[0];++t){const n=e[t],r=l[c][t][0].data,a=u[c][t][0].data;for(let e=0;e<n.dims[0];++e){let t=n[e].data;for(let e=0;e<t.length;++e)t[e]=(t[e]-a[e])/r[e];t.set((0,y.medianFilter)(t,i))}}}const h=[(0,m.mean)(d,1)],p=e.sequences.dims,f=new m.Tensor("float32",new Float32Array(p[0]*p[1]),p);for(let m=0;m<p[0];++m){const e=h[m].neg().squeeze_(0),[t,n]=(0,y.dynamic_time_warping)(e.tolist()),i=Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n])),a=(0,c.mergeArrays)([1],i).map((e=>!!e)),o=[];for(let s=0;s<a.length;++s)a[s]&&o.push(n[s]*r);f[m].data.set(o,1)}return f}}class Mn extends Fn{}class In extends oe{constructor(){super(...arguments),l(this,"requires_attention_mask",!1),l(this,"main_input_name","input_values"),l(this,"forward_params",["input_values","decoder_input_ids","past_key_values"])}}class Pn extends In{}class zn extends In{}class Nn extends oe{constructor(){super(...arguments),l(this,"main_input_name","pixel_values"),l(this,"forward_params",["pixel_values","decoder_input_ids","encoder_hidden_states","past_key_values"])}}class On extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","pixel_values","position_ids","past_key_values"])}}class Bn extends On{_merge_input_ids_with_image_features(e){let{inputs_embeds:t,image_features:n,input_ids:r,attention_mask:i}=e;const a=this.config.image_token_index,o=r.tolist().map((e=>e.findIndex((e=>e==a)))),s=o.every((e=>-1===e)),l=o.every((e=>-1!==e));if(!s&&!l)throw new Error("Every input should contain either 0 or 1 image token.");if(s)return{inputs_embeds:t,attention_mask:i};const c=[],u=[];for(let d=0;d<o.length;++d){const e=o[d],r=t[d],a=n[d],s=i[d];c.push((0,m.cat)([r.slice([0,e]),a,r.slice([e+1,r.dims[0]])],0)),u.push((0,m.cat)([s.slice([0,e]),(0,m.ones)([a.dims[0]]),s.slice([e+1,s.dims[0]])],0))}return{inputs_embeds:(0,m.stack)(c,0),attention_mask:(0,m.stack)(u,0)}}}class Ln extends Bn{}class Rn extends Bn{}class jn extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","inputs_embeds","attention_mask","pixel_values","encoder_outputs","decoder_input_ids","decoder_inputs_embeds","decoder_attention_mask","past_key_values"]),l(this,"main_input_name","inputs_embeds")}}class Vn extends jn{_merge_input_ids_with_image_features(e){let{inputs_embeds:t,image_features:n,input_ids:r,attention_mask:i}=e;return{inputs_embeds:(0,m.cat)([n,t],1),attention_mask:(0,m.cat)([(0,m.ones)(n.dims.slice(0,2)),i],1)}}async _prepare_inputs_embeds(e){let t,n,{input_ids:r,pixel_values:i,inputs_embeds:a,attention_mask:o}=e;if(!r&&!i)throw new Error("Either `input_ids` or `pixel_values` should be provided.");return r&&(t=await this.encode_text({input_ids:r})),i&&(n=await this.encode_image({pixel_values:i})),t&&n?({inputs_embeds:a,attention_mask:o}=this._merge_input_ids_with_image_features({inputs_embeds:t,image_features:n,input_ids:r,attention_mask:o})):a=t||n,{inputs_embeds:a,attention_mask:o}}async forward(e){let{input_ids:t,pixel_values:n,attention_mask:r,decoder_input_ids:i,decoder_attention_mask:a,encoder_outputs:o,past_key_values:s,inputs_embeds:l,decoder_inputs_embeds:c}=e;if(l||({inputs_embeds:l,attention_mask:r}=await this._prepare_inputs_embeds({input_ids:t,pixel_values:n,inputs_embeds:l,attention_mask:r})),!o){let{last_hidden_state:e}=await K(this,{inputs_embeds:l,attention_mask:r});o=e}if(!c){if(!i)throw new Error("Either `decoder_input_ids` or `decoder_inputs_embeds` should be provided.");c=await this.encode_text({input_ids:i})}const u={inputs_embeds:c,attention_mask:a,encoder_attention_mask:r,encoder_hidden_states:o,past_key_values:s};return await J(this,u,!0)}}class Wn extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","pixel_values","position_ids","past_key_values"])}}class qn extends Wn{_merge_input_ids_with_image_features(e){const t=e.image_features.dims.at(-1),n=e.image_features.view(-1,t);return X(u(u({image_token_id:this.config.image_token_index},e),{},{image_features:n}))}}class Un extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","pixel_values","pixel_attention_mask","position_ids","past_key_values"])}}class Hn extends Un{async encode_image(e){let{pixel_values:t,pixel_attention_mask:n}=e;return(await W(this.sessions.vision_encoder,{pixel_values:t,pixel_attention_mask:n})).image_features}_merge_input_ids_with_image_features(e){const t=e.image_features.dims.at(-1),n=e.image_features.view(-1,t);return X(u(u({image_token_id:this.config.image_token_id},e),{},{image_features:n}))}}class Gn extends Hn{}class Kn extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","inputs_embeds","attention_mask","position_ids","pixel_values","image_sizes","past_key_values"])}}class Yn extends Kn{async forward(e){let{input_ids:t=null,attention_mask:n=null,pixel_values:r=null,image_sizes:i=null,position_ids:o=null,inputs_embeds:s=null,past_key_values:l=null,generation_config:c=null,logits_processor:u=null}=e;a(e,eh);if(!s){let e;if(r&&1!==t.dims[1]){if(!i)throw new Error("`image_sizes` must be provided when `pixel_values` is provided.");({image_features:e}=await W(this.sessions.vision_encoder,{pixel_values:r,image_sizes:i}))}else{const t=this.config.normalized_config.hidden_size;e=new m.Tensor("float32",[],[0,t])}({inputs_embeds:s}=await W(this.sessions.prepare_inputs_embeds,{input_ids:t,image_features:e}))}return await J(this,{inputs_embeds:s,past_key_values:l,attention_mask:n,position_ids:o,generation_config:c,logits_processor:u},!1)}}class Jn extends oe{}class Zn extends Jn{}class Xn extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class $n extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class Qn extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"vision_model"}))}}class er extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"vision_model"}))}}class tr extends oe{}class nr extends tr{}class rr extends tr{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class ir extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"vision_model"}))}}class ar extends oe{}class or extends ar{}class sr extends oe{}class lr extends sr{async forward(e){const t=!e.input_ids,n=!e.pixel_values;if(t&&n)throw new Error("Either `input_ids` or `pixel_values` should be provided.");if(t&&(e.input_ids=(0,m.ones)([e.pixel_values.dims[0],1])),n){const{image_size:t}=this.config.vision_config;e.pixel_values=(0,m.full)([0,3,t,t],0)}const{text_embeddings:r,image_embeddings:i,l2norm_text_embeddings:a,l2norm_image_embeddings:o}=await super.forward(e),s={};return t||(s.text_embeddings=r,s.l2norm_text_embeddings=a),n||(s.image_embeddings=i,s.l2norm_image_embeddings=o),s}}class cr extends sr{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class ur extends sr{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"vision_model"}))}}class dr extends oe{}class hr extends dr{}class pr extends dr{}class fr extends oe{}class mr extends fr{}class gr extends fr{}class yr extends oe{}class br extends yr{}class wr extends yr{}class vr extends oe{}class _r extends vr{}class xr extends vr{}class kr extends oe{}class Dr extends kr{}class Tr extends kr{}class Ar extends oe{}class Sr extends Ar{}class Cr extends Ar{}class Er extends oe{}class Fr extends Er{}class Mr extends Er{}class Ir extends oe{}class Pr extends Ir{}class zr extends Ir{}class Nr extends oe{}class Or extends Nr{}class Br extends Nr{}class Lr extends oe{}class Rr extends Lr{}class jr extends Lr{}class Vr extends oe{}class Wr extends Vr{}class qr extends Vr{}class Ur extends oe{}class Hr extends Ur{}class Gr extends Ur{}class Kr extends oe{}class Yr extends Kr{}class Jr extends Kr{}class Zr extends oe{}class Xr extends Zr{}class $r extends Zr{}class Qr extends oe{}class ei extends Qr{}class ti extends Qr{}class ni extends oe{}class ri extends ni{}class ii extends ni{}class ai extends oe{}class oi extends ai{}class si extends ai{}class li extends oe{}class ci extends li{}class ui extends li{}class di extends oe{}class hi extends di{}class pi extends di{}class fi extends oe{}class mi extends fi{}class gi extends fi{}class yi extends oe{}class bi extends yi{}class wi extends yi{}class vi extends oe{}class _i extends vi{}class xi extends vi{}class ki extends oe{}class Di extends ki{}class Ti extends ki{}class Ai extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","position_ids","past_key_values","pixel_values","image_grid_thw"])}}class Si extends Ai{get_rope_index(e,t,n,r){var i;const{vision_config:a,image_token_id:o,video_token_id:s,vision_start_token_id:l}=this.config,c=null!==(i=a.spatial_merge_size)&&void 0!==i?i:2,u=[];if(t||n){let i=e.tolist();r||(r=(0,m.ones_like)(e));const a=r.tolist(),d=Array.from({length:3},(t=>Array.from({length:e.dims[0]},(t=>Array.from({length:e.dims[1]},(e=>1)))))),h=t?t.tolist():[],p=n?n.tolist():[];let f=0,g=0;for(let e=0;e<i.length;++e){const t=i[e].filter(((t,n)=>1==a[e][n])),n=t.reduce(((e,t,n)=>(t==l&&e.push(n),e)),[]),r=n.map((e=>t[e+1])),m=r.filter((e=>e==o)).length,b=r.filter((e=>e==s)).length;let w=[],v=0,_=m,x=b;for(let e=0;e<r.length;++e){const e=t.findIndex(((e,t)=>t>v&&e==o)),n=t.findIndex(((e,t)=>t>v&&e==s)),r=_>0&&-1!==e?e:t.length+1,i=x>0&&-1!==n?n:t.length+1;let a,l,u,d;r<i?([l,u,d]=h[f],++f,--_,a=r):([l,u,d]=p[g],++g,--x,a=i);const[m,b,k]=[Number(l),Math.floor(Number(u)/c),Math.floor(Number(d)/c)],D=a-v,T=w.length>0?(0,y.max)(w.at(-1))[0]+1:0;w.push(Array.from({length:3*D},((e,t)=>T+t%D)));const A=D+T,S=m*b*k,C=Array.from({length:S},((e,t)=>A+Math.floor(t/(b*k)))),E=Array.from({length:S},((e,t)=>A+Math.floor(t/k)%b)),F=Array.from({length:S},((e,t)=>A+t%k));w.push([C,E,F].flat()),v=a+S}if(v<t.length){const e=w.length>0?(0,y.max)(w.at(-1))[0]+1:0,n=t.length-v;w.push(Array.from({length:3*n},((t,r)=>e+r%n)))}const k=w.reduce(((e,t)=>e+t.length),0),D=new Array(k);let T=0;for(let e=0;e<3;++e)for(let t=0;t<w.length;++t){const n=w[t],r=n.length/3;for(let t=e*r;t<(e+1)*r;++t)D[T++]=n[t]}let A=0;const S=a[e];for(let i=0;i<S.length;++i)if(1==S[i]){for(let t=0;t<3;++t)d[t][e][i]=D[t*k/3+A];++A}const C=(0,y.max)(D)[0];u.push(C+1-i[e].length)}return[new m.Tensor("int64",d.flat(1/0),[3,e.dims[0],e.dims[1]]),new m.Tensor("int64",u,[u.length,1])]}if(r){const{data:e,dims:t}=te(r),n=BigInt64Array.from({length:3*e.length},((t,n)=>e[n%e.length])),i=Array.from({length:t[0]},((n,r)=>(0,y.max)(e.subarray(t[1]*r,t[1]*(r+1)))[0]+1n+BigInt(t[1])));return[new m.Tensor("int64",n,[3,...t]),new m.Tensor("int64",i,[i.length,1])]}{const[t,n]=e.dims,r=BigInt64Array.from({length:3*t*n},((e,r)=>BigInt(Math.floor(r%n/t))));return[new m.Tensor("int64",r,[3,...e.dims]),(0,m.zeros)([t,1])]}}async encode_image(e){let{pixel_values:t,image_grid_thw:n}=e;return(await W(this.sessions.vision_encoder,{pixel_values:t,grid_thw:n})).image_features}_merge_input_ids_with_image_features(e){return X(u({image_token_id:this.config.image_token_id},e))}prepare_inputs_for_generation(e,t,n){if(t.attention_mask&&!t.position_ids)if(t.past_key_values){t.pixel_values=null;const e=BigInt(Object.values(t.past_key_values)[0].dims.at(-2)),n=t.rope_deltas.map((t=>e+t));t.position_ids=(0,m.stack)([n,n,n],0)}else[t.position_ids,t.rope_deltas]=this.get_rope_index(t.input_ids,t.image_grid_thw,t.video_grid_thw,t.attention_mask);return t}}class Ci extends oe{}class Ei extends Ci{}class Fi extends Ci{}class Mi extends oe{}class Ii extends Mi{}class Pi extends Mi{}class zi extends oe{}class Ni extends zi{}class Oi extends zi{}class Bi extends oe{}class Li extends Bi{}class Ri extends Bi{}class ji extends oe{}class Vi extends ji{}class Wi extends ji{}class qi extends oe{}class Ui extends qi{}class Hi extends qi{async _call(e){return new Ru(await super._call(e))}}class Gi extends oe{}class Ki extends Gi{}class Yi extends Gi{async _call(e){return new Ru(await super._call(e))}}class Ji extends oe{}class Zi extends Ji{}class Xi extends oe{}class $i extends Xi{}class Qi extends Xi{async _call(e){return new Ru(await super._call(e))}}class ea extends oe{}class ta extends ea{}class na extends oe{}class ra extends na{}class ia extends na{async _call(e){return new Ru(await super._call(e))}}class aa extends oe{}class oa extends aa{}class sa extends oe{}class la extends sa{}class ca extends sa{async _call(e){return new Ru(await super._call(e))}}class ua extends oe{}class da extends ua{async _call(e){return new Gu(await super._call(e))}}class ha extends oe{}class pa extends ha{}class fa extends ha{async _call(e){return new Ru(await super._call(e))}}class ma extends oe{}class ga extends ma{}class ya extends ma{async _call(e){return new Ru(await super._call(e))}}class ba extends oe{}class wa extends ba{}class va extends ba{}class _a extends oe{}class xa extends _a{}class ka extends _a{}class Da extends oe{}class Ta extends Da{}class Aa extends Da{async _call(e){return new Ru(await super._call(e))}}class Sa extends oe{}class Ca extends Sa{}class Ea extends Sa{async _call(e){return new Ma(await super._call(e))}}class Fa extends Sa{async _call(e){return new Ia(await super._call(e))}}class Ma extends se{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class Ia extends se{constructor(e){let{logits:t,pred_boxes:n,pred_masks:r}=e;super(),this.logits=t,this.pred_boxes=n,this.pred_masks=r}}class Pa extends oe{}class za extends Pa{}class Na extends Pa{async _call(e){return new Oa(await super._call(e))}}class Oa extends se{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class Ba extends oe{}class La extends Ba{}class Ra extends Ba{async _call(e){return new ja(await super._call(e))}}class ja extends Oa{}class Va extends oe{}class Wa extends Va{}class qa extends Va{async _call(e){return new Ua(await super._call(e))}}class Ua extends Oa{}class Ha extends oe{}class Ga extends Ha{}class Ka extends Ha{async _call(e){return new Oa(await super._call(e))}}class Ya extends oe{}class Ja extends Ya{}class Za extends Ya{async _call(e){return new Xa(await super._call(e))}}class Xa extends Ma{}class $a extends oe{}class Qa extends $a{}class eo extends $a{async _call(e){return new Ru(await super._call(e))}}class to extends oe{}class no extends to{}class ro extends to{async _call(e){return new Ru(await super._call(e))}}class io extends oe{}class ao extends io{}class oo extends io{async _call(e){return new Ru(await super._call(e))}}class so extends oe{}class lo extends so{}class co extends so{async _call(e){return new Ru(await super._call(e))}}class uo extends so{}class ho extends oe{}class po extends ho{}class fo extends ho{}class mo extends oe{}class go extends mo{}class yo extends mo{}class bo extends oe{}class wo extends bo{}class vo extends oe{}class _o extends vo{}class xo extends vo{}class ko extends vo{}class Do extends oe{}class To extends Do{}class Ao extends oe{}class So extends Ao{}class Co extends oe{}class Eo extends Co{}class Fo extends oe{}class Mo extends Fo{}class Io extends Fo{}class Po extends oe{}class zo extends Po{}class No extends Po{}class Oo extends oe{}class Bo extends Oo{}class Lo extends oe{}class Ro extends Lo{}class jo extends Lo{async _call(e){return new Ru(await super._call(e))}}class Vo extends oe{}class Wo extends Vo{}class qo extends Vo{async _call(e){return new Ru(await super._call(e))}}class Uo extends oe{}class Ho extends Uo{}class Go extends Uo{async _call(e){return new Ru(await super._call(e))}}class Ko extends oe{}class Yo extends Ko{}class Jo extends Ko{async _call(e){return new Ru(await super._call(e))}}class Zo extends oe{}class Xo extends Zo{}class $o extends oe{}class Qo extends $o{}class es extends $o{async _call(e){return new ts(await super._call(e))}}class ts extends se{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class ns extends oe{}class rs extends ns{async get_image_embeddings(e){let{pixel_values:t}=e;return await K(this,{pixel_values:t})}async forward(e){if(e.image_embeddings&&e.image_positional_embeddings||(e=u(u({},e),await this.get_image_embeddings(e))),!e.input_labels&&e.input_points){const t=e.input_points.dims.slice(0,-1),n=t.reduce(((e,t)=>e*t),1);e.input_labels=new m.Tensor("int64",new BigInt64Array(n).fill(1n),t)}const t={image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings};return e.input_points&&(t.input_points=e.input_points),e.input_labels&&(t.input_labels=e.input_labels),e.input_boxes&&(t.input_boxes=e.input_boxes),await W(this.sessions.prompt_encoder_mask_decoder,t)}async _call(e){return new is(await super._call(e))}}class is extends se{constructor(e){let{iou_scores:t,pred_masks:n}=e;super(),this.iou_scores=t,this.pred_masks=n}}class as extends oe{}class os extends as{}class ss extends as{}class ls extends oe{}class cs extends ls{}class us extends ls{}class ds extends oe{}class hs extends ds{}class ps extends ds{async _call(e){return new Uu(await super._call(e))}}class fs extends ds{async _call(e){return new Ru(await super._call(e))}}class ms extends ds{async _call(e){return new Vu(await super._call(e))}}class gs extends oe{}class ys extends gs{}class bs extends gs{async _call(e){return new Vu(await super._call(e))}}class ws extends oe{}class vs extends ws{}class _s extends oe{}class xs extends _s{}class ks extends _s{async _call(e){return new Uu(await super._call(e))}}class Ds extends _s{async _call(e){return new Ru(await super._call(e))}}class Ts extends oe{}class As extends Ts{}class Ss extends Ts{async _call(e){return new Uu(await super._call(e))}}class Cs extends Ts{async _call(e){return new Ru(await super._call(e))}}class Es extends Ts{async _call(e){return new Vu(await super._call(e))}}class Fs extends oe{}class Ms extends Fs{}class Is extends Fs{async _call(e){return new Uu(await super._call(e))}}class Ps extends Fs{async _call(e){return new Ru(await super._call(e))}}class zs extends oe{}class Ns extends ds{}class Os extends ds{async _call(e){return new Uu(await super._call(e))}}class Bs extends ds{async _call(e){return new Ru(await super._call(e))}}class Ls extends oe{}class Rs extends Ls{}class js extends Ls{async _call(e){return new Uu(await super._call(e))}}class Vs extends Ls{async _call(e){return new Ru(await super._call(e))}}class Ws extends Ls{async _call(e){return new ju(await super._call(e))}}class qs extends Ls{async _call(e){return new Vu(await super._call(e))}}class Us extends oe{}class Hs extends Us{}class Gs extends oe{}class Ks extends Gs{}class Ys extends Gs{}class Js extends Gs{async generate_speech(e,t){let{threshold:n=.5,minlenratio:r=0,maxlenratio:i=20,vocoder:a=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o={input_ids:e},{encoder_outputs:s,encoder_attention_mask:l}=await K(this,o),c=s.dims[1]/this.config.reduction_factor,u=Math.floor(c*i),d=Math.floor(c*r),h=this.config.num_mel_bins;let p=[],f=null,g=null,y=0;for(;;){++y;const e=H(!!g);let r;r=g?g.output_sequence_out:new m.Tensor("float32",new Float32Array(h),[1,1,h]);let i={use_cache_branch:e,output_sequence:r,encoder_attention_mask:l,speaker_embeddings:t,encoder_hidden_states:s};this.addPastKeyValues(i,f),g=await W(this.sessions.decoder_model_merged,i),f=this.getPastKeyValues(g,f);const{prob:a,spectrum:o}=g;if(p.push(o),y>=d&&(Array.from(a.data).filter((e=>e>=n)).length>0||y>=u))break}const b=(0,m.cat)(p),{waveform:w}=await W(a.sessions.model,{spectrogram:b});return{spectrogram:b,waveform:w}}}class Zs extends oe{constructor(){super(...arguments),l(this,"main_input_name","spectrogram")}}class Xs extends oe{}class $s extends Xs{}class Qs extends oe{}class el extends Qs{}class tl extends Qs{}class nl extends oe{}class rl extends nl{}class il extends nl{}class al extends oe{}class ol extends al{}class sl extends al{}class ll extends oe{}class cl extends ll{}class ul extends ll{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class dl extends ll{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"audio_model"}))}}class hl extends oe{}class pl extends hl{async _call(e){return new Ku(await super._call(e))}}class fl extends oe{}class ml extends fl{}class gl extends fl{}class yl extends fl{}class bl extends oe{}class wl extends bl{}class vl extends bl{}class _l extends oe{}class xl extends _l{}class kl extends _l{async _call(e){return new Ru(await super._call(e))}}class Dl extends oe{}class Tl extends Dl{}class Al extends Dl{}class Sl extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","encoder_outputs","decoder_input_ids","decoder_attention_mask","past_key_values"])}_apply_and_filter_by_delay_pattern_mask(e){const[t,n]=e.dims,r=this.config.decoder.num_codebooks,i=n-r;let a=0;for(let l=0;l<e.size;++l){if(e.data[l]===this.config.decoder.pad_token_id)continue;const t=l%n-Math.floor(l/n)%r;t>0&&t<=i&&(e.data[a++]=e.data[l])}const o=Math.floor(t/r),s=a/(o*r);return new m.Tensor(e.type,e.data.slice(0,a),[o,r,s])}prepare_inputs_for_generation(e,t,n){let r=structuredClone(e);for(let i=0;i<r.length;++i)for(let e=0;e<r[i].length;++e)i%this.config.decoder.num_codebooks>=e&&(r[i][e]=BigInt(this.config.decoder.pad_token_id));null!==n.guidance_scale&&n.guidance_scale>1&&(r=r.concat(r));return super.prepare_inputs_for_generation(r,t,n)}async generate(e){const t=await super.generate(e),n=this._apply_and_filter_by_delay_pattern_mask(t).unsqueeze_(0),{audio_values:r}=await W(this.sessions.encodec_decode,{audio_codes:n});return r}}class Cl extends oe{}class El extends Cl{}class Fl extends Cl{async _call(e){return new Ru(await super._call(e))}}class Ml extends Cl{}class Il extends oe{}class Pl extends Il{}class zl extends Il{async _call(e){return new Ru(await super._call(e))}}class Nl extends Il{}class Ol extends oe{}class Bl extends Ol{}class Ll extends Ol{async _call(e){return new Ru(await super._call(e))}}class Rl extends Ol{}class jl extends oe{}class Vl extends jl{}class Wl extends jl{async _call(e){return new Ru(await super._call(e))}}class ql extends jl{}class Ul extends oe{}class Hl extends Ul{}class Gl extends oe{}class Kl extends Gl{constructor(){super(...arguments),l(this,"forward_params",["input_ids","pixel_values","images_seq_mask","images_emb_mask","attention_mask","position_ids","past_key_values"]),this._generation_mode="text"}async forward(e){var t;const n=null!==(t=this._generation_mode)&&void 0!==t?t:"text";let r;if("text"!==n&&e.past_key_values){const t=this.sessions.gen_img_embeds,n=(0,c.pick)({image_ids:e.input_ids},t.inputNames);r=await W(t,n)}else{const t=this.sessions.prepare_inputs_embeds,n=(0,c.pick)(e,t.inputNames);r=await W(t,n)}const i=u(u({},e),r),a=await J(this,i),o=this.sessions["text"===n?"lm_head":"gen_head"];if(!o)throw new Error('Unable to find "'.concat(o,'" generation head'));const s=await W(o,(0,c.pick)(a,o.inputNames));return u(u(u({},r),a),s)}async generate(e){return this._generation_mode="text",super.generate(e)}async generate_images(e){var t;this._generation_mode="image";const n=(null!==(t=e.inputs)&&void 0!==t?t:e[this.main_input_name]).dims[1],r=(await super.generate(e)).slice(null,[n,null]),i=this.sessions.image_decode,{decoded_image:a}=await W(i,{generated_tokens:r}),o=a.add_(1).mul_(127.5).clamp_(0,255).to("uint8"),s=[];for(const l of o){const e=g.RawImage.fromTensor(l);s.push(e)}return s}}class Yl extends se{constructor(e){let{char_logits:t,bpe_logits:n,wp_logits:r}=e;super(),this.char_logits=t,this.bpe_logits=n,this.wp_logits=r}get logits(){return[this.char_logits,this.bpe_logits,this.wp_logits]}}class Jl extends oe{}class Zl extends Jl{async _call(e){return new Yl(await super._call(e))}}class Xl extends oe{}class $l extends Xl{}class Ql extends Xl{}class ec extends oe{}class tc extends ec{}class nc extends ec{}class rc extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","position_ids","audio_values","past_key_values"])}}class ic extends rc{_merge_input_ids_with_audio_features(e){const t=e.audio_features.dims.at(-1),n=e.audio_features.view(-1,t);return function(e){let{audio_token_id:t,inputs_embeds:n,audio_features:r,input_ids:i,attention_mask:a}=e;return Z({modality_token_id:t,inputs_embeds:n,modality_features:r,input_ids:i,attention_mask:a})}(u(u({audio_token_id:this.config.ignore_index},e),{},{audio_features:n}))}}class ac extends oe{constructor(){super(...arguments),l(this,"main_input_name","input_values"),l(this,"forward_params",["input_values"])}}class oc extends se{constructor(e){let{audio_codes:t}=e;super(),this.audio_codes=t}}class sc extends se{constructor(e){let{audio_values:t}=e;super(),this.audio_values=t}}class lc extends ac{async encode(e){return new oc(await W(this.sessions.encoder_model,e))}async decode(e){return new sc(await W(this.sessions.decoder_model,e))}}class cc extends ac{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"encoder_model"}))}}class uc extends ac{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"decoder_model"}))}}class dc extends oe{constructor(){super(...arguments),l(this,"main_input_name","input_values"),l(this,"forward_params",["input_values"])}}class hc extends se{constructor(e){let{audio_codes:t}=e;super(),this.audio_codes=t}}class pc extends se{constructor(e){let{audio_values:t}=e;super(),this.audio_values=t}}class fc extends dc{async encode(e){return new hc(await W(this.sessions.encoder_model,e))}async decode(e){return new pc(await W(this.sessions.decoder_model,e))}}class mc extends dc{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"encoder_model"}))}}class gc extends dc{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"decoder_model"}))}}class yc extends oe{constructor(){super(...arguments),l(this,"main_input_name","input_values"),l(this,"forward_params",["input_values"])}}class bc extends yc{async encode(e){return await W(this.sessions.encoder_model,e)}async decode(e){return await W(this.sessions.decoder_model,e)}}class wc extends yc{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"encoder_model"}))}}class vc extends yc{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"decoder_model"}))}}class _c{static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:i=null,local_files_only:a=!1,revision:o="main",model_file_name:s=null,subfolder:l="onnx",device:c=null,dtype:u=null,use_external_data_format:d=null,session_options:h={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const p={progress_callback:t,config:n,cache_dir:i,local_files_only:a,revision:o,model_file_name:s,subfolder:l,device:c,dtype:u,use_external_data_format:d,session_options:h};if(p.config=await r.AutoConfig.from_pretrained(e,p),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);const f=p.config.model_type;for(const r of this.MODEL_CLASS_MAPPINGS){let t=r.get(f);if(!t){for(const e of r.values())if(e[0]===f){t=e;break}if(!t)continue}return await t[1].from_pretrained(e,p)}if(this.BASE_IF_FAIL)return ou.has(f)||console.warn('Unknown model class "'.concat(f,'", attempting to construct from base class.')),await oe.from_pretrained(e,p);throw Error("Unsupported model type: ".concat(f))}}l(_c,"MODEL_CLASS_MAPPINGS",null),l(_c,"BASE_IF_FAIL",!1);const xc=new Map([["bert",["BertModel",ue]],["modernbert",["ModernBertModel",ge]],["nomic_bert",["NomicBertModel",_e]],["roformer",["RoFormerModel",ke]],["electra",["ElectraModel",Ne]],["esm",["EsmModel",dt]],["convbert",["ConvBertModel",Ee]],["camembert",["CamembertModel",Ve]],["deberta",["DebertaModel",Ke]],["deberta-v2",["DebertaV2Model",Qe]],["mpnet",["MPNetModel",_t]],["albert",["AlbertModel",It]],["distilbert",["DistilBertModel",at]],["roberta",["RobertaModel",ln]],["xlm",["XLMModel",fn]],["xlm-roberta",["XLMRobertaModel",vn]],["clap",["ClapModel",cl]],["clip",["CLIPModel",Zn]],["clipseg",["CLIPSegModel",hr]],["chinese_clip",["ChineseCLIPModel",or]],["siglip",["SiglipModel",nr]],["jina_clip",["JinaCLIPModel",lr]],["mobilebert",["MobileBertModel",gt]],["squeezebert",["SqueezeBertModel",St]],["wav2vec2",["Wav2Vec2Model",hs]],["wav2vec2-bert",["Wav2Vec2BertModel",Ms]],["unispeech",["UniSpeechModel",xs]],["unispeech-sat",["UniSpeechSatModel",As]],["hubert",["HubertModel",Ns]],["wavlm",["WavLMModel",Rs]],["audio-spectrogram-transformer",["ASTModel",An]],["vits",["VitsModel",pl]],["pyannote",["PyAnnoteModel",ys]],["wespeaker-resnet",["WeSpeakerResNetModel",vs]],["detr",["DetrModel",Ca]],["rt_detr",["RTDetrModel",za]],["rt_detr_v2",["RTDetrV2Model",La]],["rf_detr",["RFDetrModel",Wa]],["d_fine",["DFineModel",Ga]],["table-transformer",["TableTransformerModel",Ja]],["vit",["ViTModel",Ui]],["ijepa",["IJepaModel",Ki]],["pvt",["PvtModel",$i]],["vit_msn",["ViTMSNModel",ra]],["vit_mae",["ViTMAEModel",ta]],["groupvit",["GroupViTModel",oa]],["fastvit",["FastViTModel",la]],["mobilevit",["MobileViTModel",pa]],["mobilevitv2",["MobileViTV2Model",ga]],["owlvit",["OwlViTModel",wa]],["owlv2",["Owlv2Model",xa]],["beit",["BeitModel",Ta]],["deit",["DeiTModel",Qa]],["hiera",["HieraModel",no]],["convnext",["ConvNextModel",Ro]],["convnextv2",["ConvNextV2Model",Wo]],["dinov2",["Dinov2Model",Ho]],["dinov2_with_registers",["Dinov2WithRegistersModel",Yo]],["resnet",["ResNetModel",ao]],["swin",["SwinModel",lo]],["swin2sr",["Swin2SRModel",po]],["donut-swin",["DonutSwinModel",Bo]],["yolos",["YolosModel",Qo]],["dpt",["DPTModel",go]],["glpn",["GLPNModel",zo]],["hifigan",["SpeechT5HifiGan",Zs]],["efficientnet",["EfficientNetModel",xl]],["decision_transformer",["DecisionTransformerModel",Hl]],["patchtst",["PatchTSTForPrediction",$l]],["patchtsmixer",["PatchTSMixerForPrediction",tc]],["mobilenet_v1",["MobileNetV1Model",El]],["mobilenet_v2",["MobileNetV2Model",Pl]],["mobilenet_v3",["MobileNetV3Model",Bl]],["mobilenet_v4",["MobileNetV4Model",Vl]],["maskformer",["MaskFormerModel",Mo]],["mgp-str",["MgpstrForSceneTextRecognition",Zl]],["style_text_to_speech_2",["StyleTextToSpeech2Model",Hs]]]),kc=new Map([["t5",["T5Model",Bt]],["longt5",["LongT5Model",jt]],["mt5",["MT5Model",qt]],["bart",["BartModel",Gt]],["mbart",["MBartModel",Zt]],["marian",["MarianModel",os]],["whisper",["WhisperModel",En]],["m2m_100",["M2M100Model",cs]],["blenderbot",["BlenderbotModel",tn]],["blenderbot-small",["BlenderbotSmallModel",an]]]),Dc=new Map([["mimi",["MimiModel",lc]],["dac",["DacModel",fc]],["snac",["SnacModel",bc]]]),Tc=new Map([["bloom",["BloomModel",Ni]],["jais",["JAISModel",br]],["gpt2",["GPT2Model",mr]],["gptj",["GPTJModel",Sr]],["gpt_bigcode",["GPTBigCodeModel",Fr]],["gpt_neo",["GPTNeoModel",_r]],["gpt_neox",["GPTNeoXModel",Dr]],["codegen",["CodeGenModel",Pr]],["llama",["LlamaModel",Or]],["exaone",["ExaoneModel",Hr]],["olmo",["OlmoModel",Xr]],["olmo2",["Olmo2Model",ei]],["mobilellm",["MobileLLMModel",Yr]],["granite",["GraniteModel",ri]],["cohere",["CohereModel",oi]],["gemma",["GemmaModel",ci]],["gemma2",["Gemma2Model",hi]],["gemma3_text",["Gemma3Model",mi]],["helium",["HeliumModel",Rr]],["glm",["GlmModel",Wr]],["openelm",["OpenELMModel",bi]],["qwen2",["Qwen2Model",_i]],["qwen3",["Qwen3Model",Di]],["phi",["PhiModel",Ei]],["phi3",["Phi3Model",Ii]],["mpt",["MptModel",Li]],["opt",["OPTModel",Vi]],["mistral",["MistralModel",el]],["starcoder2",["Starcoder2Model",rl]],["falcon",["FalconModel",ol]],["stablelm",["StableLmModel",wl]]]),Ac=new Map([["speecht5",["SpeechT5ForSpeechToText",Ys]],["whisper",["WhisperForConditionalGeneration",Fn]],["lite-whisper",["LiteWhisperForConditionalGeneration",Mn]],["moonshine",["MoonshineForConditionalGeneration",zn]]]),Sc=new Map([["speecht5",["SpeechT5ForTextToSpeech",Js]]]),Cc=new Map([["vits",["VitsModel",pl]],["musicgen",["MusicgenForConditionalGeneration",Sl]]]),Ec=new Map([["bert",["BertForSequenceClassification",he]],["modernbert",["ModernBertForSequenceClassification",be]],["roformer",["RoFormerForSequenceClassification",Te]],["electra",["ElectraForSequenceClassification",Be]],["esm",["EsmForSequenceClassification",pt]],["convbert",["ConvBertForSequenceClassification",Me]],["camembert",["CamembertForSequenceClassification",qe]],["deberta",["DebertaForSequenceClassification",Je]],["deberta-v2",["DebertaV2ForSequenceClassification",tt]],["mpnet",["MPNetForSequenceClassification",kt]],["albert",["AlbertForSequenceClassification",Pt]],["distilbert",["DistilBertForSequenceClassification",ot]],["roberta",["RobertaForSequenceClassification",un]],["xlm",["XLMForSequenceClassification",gn]],["xlm-roberta",["XLMRobertaForSequenceClassification",xn]],["bart",["BartForSequenceClassification",Yt]],["mbart",["MBartForSequenceClassification",$t]],["mobilebert",["MobileBertForSequenceClassification",bt]],["squeezebert",["SqueezeBertForSequenceClassification",Et]]]),Fc=new Map([["bert",["BertForTokenClassification",pe]],["modernbert",["ModernBertForTokenClassification",we]],["roformer",["RoFormerForTokenClassification",Ae]],["electra",["ElectraForTokenClassification",Le]],["esm",["EsmForTokenClassification",ft]],["convbert",["ConvBertForTokenClassification",Ie]],["camembert",["CamembertForTokenClassification",Ue]],["deberta",["DebertaForTokenClassification",Ze]],["deberta-v2",["DebertaV2ForTokenClassification",nt]],["mpnet",["MPNetForTokenClassification",Dt]],["distilbert",["DistilBertForTokenClassification",st]],["roberta",["RobertaForTokenClassification",dn]],["xlm",["XLMForTokenClassification",yn]],["xlm-roberta",["XLMRobertaForTokenClassification",kn]]]),Mc=new Map([["t5",["T5ForConditionalGeneration",Lt]],["longt5",["LongT5ForConditionalGeneration",Vt]],["mt5",["MT5ForConditionalGeneration",Ut]],["bart",["BartForConditionalGeneration",Kt]],["mbart",["MBartForConditionalGeneration",Xt]],["marian",["MarianMTModel",ss]],["m2m_100",["M2M100ForConditionalGeneration",us]],["blenderbot",["BlenderbotForConditionalGeneration",nn]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",on]]]),Ic=new Map([["bloom",["BloomForCausalLM",Oi]],["gpt2",["GPT2LMHeadModel",gr]],["jais",["JAISLMHeadModel",wr]],["gptj",["GPTJForCausalLM",Cr]],["gpt_bigcode",["GPTBigCodeForCausalLM",Mr]],["gpt_neo",["GPTNeoForCausalLM",xr]],["gpt_neox",["GPTNeoXForCausalLM",Tr]],["codegen",["CodeGenForCausalLM",zr]],["llama",["LlamaForCausalLM",Br]],["exaone",["ExaoneForCausalLM",Gr]],["olmo",["OlmoForCausalLM",$r]],["olmo2",["Olmo2ForCausalLM",ti]],["mobilellm",["MobileLLMForCausalLM",Jr]],["granite",["GraniteForCausalLM",ii]],["cohere",["CohereForCausalLM",si]],["gemma",["GemmaForCausalLM",ui]],["gemma2",["Gemma2ForCausalLM",pi]],["gemma3_text",["Gemma3ForCausalLM",gi]],["helium",["HeliumForCausalLM",jr]],["glm",["GlmForCausalLM",qr]],["openelm",["OpenELMForCausalLM",wi]],["qwen2",["Qwen2ForCausalLM",xi]],["qwen3",["Qwen3ForCausalLM",Ti]],["phi",["PhiForCausalLM",Fi]],["phi3",["Phi3ForCausalLM",Pi]],["mpt",["MptForCausalLM",Ri]],["opt",["OPTForCausalLM",Wi]],["mbart",["MBartForCausalLM",Qt]],["mistral",["MistralForCausalLM",tl]],["starcoder2",["Starcoder2ForCausalLM",il]],["falcon",["FalconForCausalLM",sl]],["trocr",["TrOCRForCausalLM",$s]],["stablelm",["StableLmForCausalLM",vl]],["phi3_v",["Phi3VForCausalLM",Yn]]]),Pc=new Map([["multi_modality",["MultiModalityCausalLM",Kl]]]),zc=new Map([["bert",["BertForMaskedLM",de]],["modernbert",["ModernBertForMaskedLM",ye]],["roformer",["RoFormerForMaskedLM",De]],["electra",["ElectraForMaskedLM",Oe]],["esm",["EsmForMaskedLM",ht]],["convbert",["ConvBertForMaskedLM",Fe]],["camembert",["CamembertForMaskedLM",We]],["deberta",["DebertaForMaskedLM",Ye]],["deberta-v2",["DebertaV2ForMaskedLM",et]],["mpnet",["MPNetForMaskedLM",xt]],["albert",["AlbertForMaskedLM",Nt]],["distilbert",["DistilBertForMaskedLM",ct]],["roberta",["RobertaForMaskedLM",cn]],["xlm",["XLMWithLMHeadModel",mn]],["xlm-roberta",["XLMRobertaForMaskedLM",_n]],["mobilebert",["MobileBertForMaskedLM",yt]],["squeezebert",["SqueezeBertForMaskedLM",Ct]]]),Nc=new Map([["bert",["BertForQuestionAnswering",fe]],["roformer",["RoFormerForQuestionAnswering",Se]],["electra",["ElectraForQuestionAnswering",Re]],["convbert",["ConvBertForQuestionAnswering",Pe]],["camembert",["CamembertForQuestionAnswering",He]],["deberta",["DebertaForQuestionAnswering",Xe]],["deberta-v2",["DebertaV2ForQuestionAnswering",rt]],["mpnet",["MPNetForQuestionAnswering",Tt]],["albert",["AlbertForQuestionAnswering",zt]],["distilbert",["DistilBertForQuestionAnswering",lt]],["roberta",["RobertaForQuestionAnswering",hn]],["xlm",["XLMForQuestionAnswering",bn]],["xlm-roberta",["XLMRobertaForQuestionAnswering",Dn]],["mobilebert",["MobileBertForQuestionAnswering",wt]],["squeezebert",["SqueezeBertForQuestionAnswering",Ft]]]),Oc=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Nn]],["idefics3",["Idefics3ForConditionalGeneration",Hn]],["smolvlm",["SmolVLMForConditionalGeneration",Gn]]]),Bc=new Map([["llava",["LlavaForConditionalGeneration",Bn]],["llava_onevision",["LlavaOnevisionForConditionalGeneration",Ln]],["moondream1",["Moondream1ForConditionalGeneration",Rn]],["florence2",["Florence2ForConditionalGeneration",Vn]],["qwen2-vl",["Qwen2VLForConditionalGeneration",Si]],["idefics3",["Idefics3ForConditionalGeneration",Hn]],["smolvlm",["SmolVLMForConditionalGeneration",Gn]],["paligemma",["PaliGemmaForConditionalGeneration",qn]]]),Lc=new Map([["ultravox",["UltravoxModel",ic]]]),Rc=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Nn]]]),jc=new Map([["vit",["ViTForImageClassification",Hi]],["ijepa",["IJepaForImageClassification",Yi]],["pvt",["PvtForImageClassification",Qi]],["vit_msn",["ViTMSNForImageClassification",ia]],["fastvit",["FastViTForImageClassification",ca]],["mobilevit",["MobileViTForImageClassification",fa]],["mobilevitv2",["MobileViTV2ForImageClassification",ya]],["beit",["BeitForImageClassification",Aa]],["deit",["DeiTForImageClassification",eo]],["hiera",["HieraForImageClassification",ro]],["convnext",["ConvNextForImageClassification",jo]],["convnextv2",["ConvNextV2ForImageClassification",qo]],["dinov2",["Dinov2ForImageClassification",Go]],["dinov2_with_registers",["Dinov2WithRegistersForImageClassification",Jo]],["resnet",["ResNetForImageClassification",oo]],["swin",["SwinForImageClassification",co]],["segformer",["SegformerForImageClassification",gl]],["efficientnet",["EfficientNetForImageClassification",kl]],["mobilenet_v1",["MobileNetV1ForImageClassification",Fl]],["mobilenet_v2",["MobileNetV2ForImageClassification",zl]],["mobilenet_v3",["MobileNetV3ForImageClassification",Ll]],["mobilenet_v4",["MobileNetV4ForImageClassification",Wl]]]),Vc=new Map([["detr",["DetrForObjectDetection",Ea]],["rt_detr",["RTDetrForObjectDetection",Na]],["rt_detr_v2",["RTDetrV2ForObjectDetection",Ra]],["rf_detr",["RFDetrForObjectDetection",qa]],["d_fine",["DFineForObjectDetection",Ka]],["table-transformer",["TableTransformerForObjectDetection",Za]],["yolos",["YolosForObjectDetection",es]]]),Wc=new Map([["owlvit",["OwlViTForObjectDetection",va]],["owlv2",["Owlv2ForObjectDetection",ka]],["grounding-dino",["GroundingDinoForObjectDetection",Xo]]]),qc=new Map([["detr",["DetrForSegmentation",Fa]],["clipseg",["CLIPSegForImageSegmentation",pr]]]),Uc=new Map([["segformer",["SegformerForSemanticSegmentation",yl]],["sapiens",["SapiensForSemanticSegmentation",_o]],["swin",["SwinForSemanticSegmentation",uo]],["mobilenet_v1",["MobileNetV1ForSemanticSegmentation",Ml]],["mobilenet_v2",["MobileNetV2ForSemanticSegmentation",Nl]],["mobilenet_v3",["MobileNetV3ForSemanticSegmentation",Rl]],["mobilenet_v4",["MobileNetV4ForSemanticSegmentation",ql]]]),Hc=new Map([["detr",["DetrForSegmentation",Fa]],["maskformer",["MaskFormerForInstanceSegmentation",Io]]]),Gc=new Map([["sam",["SamModel",rs]]]),Kc=new Map([["wav2vec2",["Wav2Vec2ForCTC",ps]],["wav2vec2-bert",["Wav2Vec2BertForCTC",Is]],["unispeech",["UniSpeechForCTC",ks]],["unispeech-sat",["UniSpeechSatForCTC",Ss]],["wavlm",["WavLMForCTC",js]],["hubert",["HubertForCTC",Os]]]),Yc=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",fs]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",Ps]],["unispeech",["UniSpeechForSequenceClassification",Ds]],["unispeech-sat",["UniSpeechSatForSequenceClassification",Cs]],["wavlm",["WavLMForSequenceClassification",Vs]],["hubert",["HubertForSequenceClassification",Bs]],["audio-spectrogram-transformer",["ASTForAudioClassification",Sn]]]),Jc=new Map([["wavlm",["WavLMForXVector",Ws]]]),Zc=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",Es]],["wavlm",["WavLMForAudioFrameClassification",qs]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",ms]],["pyannote",["PyAnnoteForAudioFrameClassification",bs]]]),Xc=new Map([["vitmatte",["VitMatteForImageMatting",da]]]),$c=new Map([["patchtst",["PatchTSTForPrediction",Ql]],["patchtsmixer",["PatchTSMixerForPrediction",nc]]]),Qc=new Map([["swin2sr",["Swin2SRForImageSuperResolution",fo]]]),eu=new Map([["dpt",["DPTForDepthEstimation",yo]],["depth_anything",["DepthAnythingForDepthEstimation",wo]],["glpn",["GLPNForDepthEstimation",No]],["sapiens",["SapiensForDepthEstimation",xo]],["depth_pro",["DepthProForDepthEstimation",To]],["metric3d",["Metric3DForDepthEstimation",So]],["metric3dv2",["Metric3Dv2ForDepthEstimation",Eo]]]),tu=new Map([["sapiens",["SapiensForNormalEstimation",ko]]]),nu=new Map([["vitpose",["VitPoseForPoseEstimation",Zi]]]),ru=new Map([["clip",["CLIPVisionModelWithProjection",er]],["siglip",["SiglipVisionModel",ir]],["jina_clip",["JinaCLIPVisionModel",ur]]]),iu=[[xc,k],[kc,D],[Tc,S],[Dc,N],[Ec,k],[Fc,k],[Mc,T],[Ac,T],[Ic,S],[Pc,I],[zc,k],[Nc,k],[Oc,A],[Bc,E],[Lc,z],[jc,k],[qc,k],[Hc,k],[Uc,k],[Xc,k],[$c,k],[Qc,k],[eu,k],[tu,k],[nu,k],[Vc,k],[Wc,k],[Gc,C],[Kc,k],[Yc,k],[Sc,T],[Cc,k],[Jc,k],[Zc,k],[ru,k]];for(const[a,l]of iu)for(const[e,t]of a.values())O.set(e,l),L.set(t,e),B.set(e,t);const au=[["MusicgenForConditionalGeneration",Sl,M],["Phi3VForCausalLM",Yn,P],["CLIPTextModelWithProjection",$n,k],["SiglipTextModel",rr,k],["JinaCLIPTextModel",cr,k],["ClapTextModelWithProjection",ul,k],["ClapAudioModelWithProjection",dl,k],["DacEncoderModel",mc,k],["DacDecoderModel",gc,k],["MimiEncoderModel",cc,k],["MimiDecoderModel",uc,k],["SnacEncoderModel",wc,k],["SnacDecoderModel",vc,k]];for(const[a,l,u]of au)O.set(a,u),L.set(l,a),B.set(a,l);const ou=new Map([["modnet",qc],["birefnet",qc],["isnet",qc],["ben",qc]]);for(const[a,l]of ou.entries())l.set(a,["PreTrainedModel",oe]),O.set(a,k),L.set(oe,a),B.set(a,oe);class su extends _c{}l(su,"MODEL_CLASS_MAPPINGS",iu.map((e=>e[0]))),l(su,"BASE_IF_FAIL",!0);class lu extends _c{}l(lu,"MODEL_CLASS_MAPPINGS",[Ec]);class cu extends _c{}l(cu,"MODEL_CLASS_MAPPINGS",[Fc]);class uu extends _c{}l(uu,"MODEL_CLASS_MAPPINGS",[Mc]);class du extends _c{}l(du,"MODEL_CLASS_MAPPINGS",[Ac]);class hu extends _c{}l(hu,"MODEL_CLASS_MAPPINGS",[Sc]);class pu extends _c{}l(pu,"MODEL_CLASS_MAPPINGS",[Cc]);class fu extends _c{}l(fu,"MODEL_CLASS_MAPPINGS",[Ic]);class mu extends _c{}l(mu,"MODEL_CLASS_MAPPINGS",[zc]);class gu extends _c{}l(gu,"MODEL_CLASS_MAPPINGS",[Nc]);class yu extends _c{}l(yu,"MODEL_CLASS_MAPPINGS",[Oc]);class bu extends _c{}l(bu,"MODEL_CLASS_MAPPINGS",[jc]);class wu extends _c{}l(wu,"MODEL_CLASS_MAPPINGS",[qc]);class vu extends _c{}l(vu,"MODEL_CLASS_MAPPINGS",[Uc]);class _u extends _c{}l(_u,"MODEL_CLASS_MAPPINGS",[Hc]);class xu extends _c{}l(xu,"MODEL_CLASS_MAPPINGS",[Vc]);class ku extends _c{}l(ku,"MODEL_CLASS_MAPPINGS",[Wc]);class Du extends _c{}l(Du,"MODEL_CLASS_MAPPINGS",[Gc]);class Tu extends _c{}l(Tu,"MODEL_CLASS_MAPPINGS",[Kc]);class Au extends _c{}l(Au,"MODEL_CLASS_MAPPINGS",[Yc]);class Su extends _c{}l(Su,"MODEL_CLASS_MAPPINGS",[Jc]);class Cu extends _c{}l(Cu,"MODEL_CLASS_MAPPINGS",[Zc]);class Eu extends _c{}l(Eu,"MODEL_CLASS_MAPPINGS",[Rc]);class Fu extends _c{}l(Fu,"MODEL_CLASS_MAPPINGS",[Xc]);class Mu extends _c{}l(Mu,"MODEL_CLASS_MAPPINGS",[Qc]);class Iu extends _c{}l(Iu,"MODEL_CLASS_MAPPINGS",[eu]);class Pu extends _c{}l(Pu,"MODEL_CLASS_MAPPINGS",[tu]);class zu extends _c{}l(zu,"MODEL_CLASS_MAPPINGS",[nu]);class Nu extends _c{}l(Nu,"MODEL_CLASS_MAPPINGS",[ru]);class Ou extends _c{}l(Ou,"MODEL_CLASS_MAPPINGS",[Bc]);class Bu extends _c{}l(Bu,"MODEL_CLASS_MAPPINGS",[Lc]);class Lu extends se{constructor(e){let{logits:t,past_key_values:n,encoder_outputs:r,decoder_attentions:i=null,cross_attentions:a=null}=e;super(),this.logits=t,this.past_key_values=n,this.encoder_outputs=r,this.decoder_attentions=i,this.cross_attentions=a}}class Ru extends se{constructor(e){let{logits:t}=e,n=a(e,th);super(),this.logits=t;const r=Object.values(n);r.length>0&&(this.attentions=r)}}class ju extends se{constructor(e){let{logits:t,embeddings:n}=e;super(),this.logits=t,this.embeddings=n}}class Vu extends se{constructor(e){let{logits:t}=e;super(),this.logits=t}}class Wu extends se{constructor(e){let{logits:t}=e;super(),this.logits=t}}class qu extends se{constructor(e){let{start_logits:t,end_logits:n}=e;super(),this.start_logits=t,this.end_logits=n}}class Uu extends se{constructor(e){let{logits:t}=e;super(),this.logits=t}}class Hu extends se{constructor(e){let{logits:t,past_key_values:n}=e;super(),this.logits=t,this.past_key_values=n}}class Gu extends se{constructor(e){let{alphas:t}=e;super(),this.alphas=t}}class Ku extends se{constructor(e){let{waveform:t,spectrogram:n}=e;super(),this.waveform=t,this.spectrogram=n}}},"./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js":(e,t,n)=>{n.r(t),n.d(t,{ASTFeatureExtractor:()=>a});var r=n("./src/base/feature_extraction_utils.js"),i=(n("./src/utils/tensor.js"),n("./src/utils/audio.js"));class a extends r.FeatureExtractor{constructor(e){super(e);const t=this.config.sampling_rate,n=(0,i.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);this.mel_filters=n,this.window=(0,i.window_function)(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}async _extract_fbank_features(e,t){return(0,i.spectrogram)(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){(0,r.validate_audio_inputs)(e,"ASTFeatureExtractor");const t=await this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const e=2*this.std,n=t.data;for(let t=0;t<n.length;++t)n[t]=(n[t]-this.mean)/e}return{input_values:t.unsqueeze_(0)}}}},"./src/models/auto/feature_extraction_auto.js":(e,t,n)=>{n.r(t),n.d(t,{AutoFeatureExtractor:()=>o});var r=n("./src/utils/constants.js"),i=n("./src/utils/hub.js"),a=(n("./src/base/feature_extraction_utils.js"),n("./src/models/feature_extractors.js"));class o{static async from_pretrained(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await(0,i.getModelJSON)(e,r.FEATURE_EXTRACTOR_NAME,!0,t),o=n.feature_extractor_type,s=a[o];if(!s)throw new Error("Unknown feature_extractor_type: '".concat(o,"'. Please report this at ").concat(r.GITHUB_ISSUE_URL,"."));return new s(n)}}},"./src/models/auto/image_processing_auto.js":(e,t,n)=>{n.r(t),n.d(t,{AutoImageProcessor:()=>s});var r=n("./src/utils/constants.js"),i=n("./src/utils/hub.js"),a=n("./src/base/image_processors_utils.js"),o=n("./src/models/image_processors.js");class s{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=await(0,i.getModelJSON)(e,r.IMAGE_PROCESSOR_NAME,!0,n),l=null!==(t=s.image_processor_type)&&void 0!==t?t:s.feature_extractor_type;let c=o[l];return c||(void 0!==l&&console.warn("Image processor type '".concat(l,"' not found, assuming base ImageProcessor. Please report this at ").concat(r.GITHUB_ISSUE_URL,".")),c=a.ImageProcessor),new c(s)}}},"./src/models/auto/processing_auto.js":(e,t,n)=>{n.r(t),n.d(t,{AutoProcessor:()=>c});var r=n("./src/utils/constants.js"),i=n("./src/utils/hub.js"),a=n("./src/base/processing_utils.js"),o=n("./src/models/processors.js"),s=n("./src/models/image_processors.js"),l=n("./src/models/feature_extractors.js");class c{static async from_pretrained(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await(0,i.getModelJSON)(e,r.IMAGE_PROCESSOR_NAME,!0,t),{image_processor_type:c,feature_extractor_type:u,processor_class:d}=n;if(d&&o[d])return o[d].from_pretrained(e,t);if(!c&&!u)throw new Error("No `image_processor_type` or `feature_extractor_type` found in the config.");const h={};if(c){const e=s[c];if(!e)throw new Error("Unknown image_processor_type: '".concat(c,"'."));h.image_processor=new e(n)}if(u){const e=s[u];if(e)h.image_processor=new e(n);else{const e=l[u];if(!e)throw new Error("Unknown feature_extractor_type: '".concat(u,"'."));h.feature_extractor=new e(n)}}return new a.Processor({},h)}}},"./src/models/beit/image_processing_beit.js":(e,t,n)=>{n.r(t),n.d(t,{BeitFeatureExtractor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}},"./src/models/bit/image_processing_bit.js":(e,t,n)=>{n.r(t),n.d(t,{BitImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}},"./src/models/chinese_clip/image_processing_chinese_clip.js":(e,t,n)=>{n.r(t),n.d(t,{ChineseCLIPFeatureExtractor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}},"./src/models/clap/feature_extraction_clap.js":(e,t,n)=>{n.r(t),n.d(t,{ClapFeatureExtractor:()=>a});var r=n("./src/base/feature_extraction_utils.js"),i=(n("./src/utils/tensor.js"),n("./src/utils/audio.js"));class a extends r.FeatureExtractor{constructor(e){super(e),this.mel_filters=(0,i.mel_filter_bank)(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=(0,i.mel_filter_bank)(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=(0,i.window_function)(this.config.fft_window_size,"hann")}async _get_input_mel(e,t,n,r){let i,a=!1;const o=e.length-t;if(o>0){if("rand_trunc"!==n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));{a=!0;const n=Math.floor(Math.random()*(o+1));e=e.subarray(n,n+t),i=await this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples)}}else{if(o<0){let n=new Float64Array(t);if(n.set(e),"repeat"===r)for(let r=e.length;r<t;r+=e.length)n.set(e.subarray(0,Math.min(e.length,t-r)),r);else if("repeatpad"===r)for(let t=e.length;t<-o;t+=e.length)n.set(e,t);e=n}if("fusion"===n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));i=await this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples)}return i.unsqueeze_(0)}async _extract_fbank_features(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,i.spectrogram)(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:t,log_mel:"dB",max_num_frames:n,do_pad:!1,transpose:!0})}async _call(e){let{max_length:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.validate_audio_inputs)(e,"ClapFeatureExtractor");return{input_features:(await this._get_input_mel(e,null!==t&&void 0!==t?t:this.config.nb_max_samples,this.config.truncation,this.config.padding)).unsqueeze_(0)}}}},"./src/models/clip/image_processing_clip.js":(e,t,n)=>{n.r(t),n.d(t,{CLIPFeatureExtractor:()=>a,CLIPImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/convnext/image_processing_convnext.js":(e,t,n)=>{n.r(t),n.d(t,{ConvNextFeatureExtractor:()=>a,ConvNextImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{constructor(e){var t;super(e),this.crop_pct=null!==(t=this.config.crop_pct)&&void 0!==t?t:.875}async resize(e){var t;const n=null===(t=this.size)||void 0===t?void 0:t.shortest_edge;if(void 0===n)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(n<384){const t=Math.floor(n/this.crop_pct),[r,i]=this.get_resize_output_image_size(e,{shortest_edge:t});e=await e.resize(r,i,{resample:this.resample}),e=await e.center_crop(n,n)}else e=await e.resize(n,n,{resample:this.resample});return e}}class a extends i{}},"./src/models/dac/feature_extraction_dac.js":(e,t,n)=>{n.r(t),n.d(t,{DacFeatureExtractor:()=>i});var r=n("./src/models/encodec/feature_extraction_encodec.js");class i extends r.EncodecFeatureExtractor{}},"./src/models/deit/image_processing_deit.js":(e,t,n)=>{n.r(t),n.d(t,{DeiTFeatureExtractor:()=>a,DeiTImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/detr/image_processing_detr.js":(e,t,n)=>{n.r(t),n.d(t,{DetrFeatureExtractor:()=>o,DetrImageProcessor:()=>a});var r=n("./src/base/image_processors_utils.js"),i=n("./src/utils/tensor.js");class a extends r.ImageProcessor{async _call(e){const t=await super._call(e),n=[t.pixel_values.dims[0],64,64],r=(0,i.full)(n,1n);return u(u({},t),{},{pixel_mask:r})}post_process_object_detection(){return(0,r.post_process_object_detection)(...arguments)}post_process_panoptic_segmentation(){return(0,r.post_process_panoptic_segmentation)(...arguments)}post_process_instance_segmentation(){return(0,r.post_process_instance_segmentation)(...arguments)}}class o extends a{}},"./src/models/donut/image_processing_donut.js":(e,t,n)=>{n.r(t),n.d(t,{DonutFeatureExtractor:()=>a,DonutImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{pad_image(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,a,o]=t;let s=this.image_mean;Array.isArray(this.image_mean)||(s=new Array(o).fill(s));let l=this.image_std;Array.isArray(l)||(l=new Array(o).fill(s));const c=s.map(((e,t)=>-e/l[t]));return super.pad_image(e,t,n,u({center:!0,constant_values:c},r))}}class a extends i{}},"./src/models/dpt/image_processing_dpt.js":(e,t,n)=>{n.r(t),n.d(t,{DPTFeatureExtractor:()=>a,DPTImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/efficientnet/image_processing_efficientnet.js":(e,t,n)=>{n.r(t),n.d(t,{EfficientNetImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{constructor(e){var t;super(e),this.include_top=null===(t=this.config.include_top)||void 0===t||t,this.include_top&&(this.image_std=this.image_std.map((e=>e*e)))}}},"./src/models/encodec/feature_extraction_encodec.js":(e,t,n)=>{n.r(t),n.d(t,{EncodecFeatureExtractor:()=>a});var r=n("./src/base/feature_extraction_utils.js"),i=n("./src/utils/tensor.js");class a extends r.FeatureExtractor{async _call(e){(0,r.validate_audio_inputs)(e,"EncodecFeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));const t=this.config.feature_size;if(e.length%t!==0)throw new Error("The length of the audio data must be a multiple of the number of channels (".concat(t,")."));const n=[1,t,e.length/t];return{input_values:new i.Tensor("float32",e,n)}}}},"./src/models/feature_extractors.js":(e,t,n)=>{n.r(t),n.d(t,{ASTFeatureExtractor:()=>r.ASTFeatureExtractor,ClapFeatureExtractor:()=>a.ClapFeatureExtractor,DacFeatureExtractor:()=>o.DacFeatureExtractor,EncodecFeatureExtractor:()=>i.EncodecFeatureExtractor,ImageFeatureExtractor:()=>m.ImageProcessor,MoonshineFeatureExtractor:()=>s.MoonshineFeatureExtractor,PyAnnoteFeatureExtractor:()=>l.PyAnnoteFeatureExtractor,SeamlessM4TFeatureExtractor:()=>c.SeamlessM4TFeatureExtractor,SnacFeatureExtractor:()=>u.SnacFeatureExtractor,SpeechT5FeatureExtractor:()=>d.SpeechT5FeatureExtractor,Wav2Vec2FeatureExtractor:()=>h.Wav2Vec2FeatureExtractor,WeSpeakerFeatureExtractor:()=>p.WeSpeakerFeatureExtractor,WhisperFeatureExtractor:()=>f.WhisperFeatureExtractor});var r=n("./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js"),i=n("./src/models/encodec/feature_extraction_encodec.js"),a=n("./src/models/clap/feature_extraction_clap.js"),o=n("./src/models/dac/feature_extraction_dac.js"),s=n("./src/models/moonshine/feature_extraction_moonshine.js"),l=n("./src/models/pyannote/feature_extraction_pyannote.js"),c=n("./src/models/seamless_m4t/feature_extraction_seamless_m4t.js"),u=n("./src/models/snac/feature_extraction_snac.js"),d=n("./src/models/speecht5/feature_extraction_speecht5.js"),h=n("./src/models/wav2vec2/feature_extraction_wav2vec2.js"),p=n("./src/models/wespeaker/feature_extraction_wespeaker.js"),f=n("./src/models/whisper/feature_extraction_whisper.js"),m=n("./src/base/image_processors_utils.js")},"./src/models/florence2/processing_florence2.js":(e,t,n)=>{n.r(t),n.d(t,{Florence2Processor:()=>o});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js");class o extends r.Processor{constructor(e,t){super(e,t);const{tasks_answer_post_processing_type:n,task_prompts_without_inputs:r,task_prompts_with_input:i}=this.image_processor.config;this.tasks_answer_post_processing_type=new Map(Object.entries(null!==n&&void 0!==n?n:{})),this.task_prompts_without_inputs=new Map(Object.entries(null!==r&&void 0!==r?r:{})),this.task_prompts_with_input=new Map(Object.entries(null!==i&&void 0!==i?i:{})),this.regexes={quad_boxes:/(.+?)<loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)>/gm,bboxes:/([^<]+)?<loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)>/gm},this.size_per_bin=1e3}construct_prompts(e){"string"===typeof e&&(e=[e]);const t=[];for(const n of e)if(this.task_prompts_without_inputs.has(n))t.push(this.task_prompts_without_inputs.get(n));else{for(const[e,r]of this.task_prompts_with_input)if(n.includes(e)){t.push(r.replaceAll("{input}",n).replaceAll(e,""));break}t.length!==e.length&&t.push(n)}return t}post_process_generation(e,t,n){var r;const i=null!==(r=this.tasks_answer_post_processing_type.get(t))&&void 0!==r?r:"pure_text";let a;switch(e=e.replaceAll("<s>","").replaceAll("</s>",""),i){case"pure_text":a=e;break;case"description_with_bboxes":case"bboxes":case"phrase_grounding":case"ocr":const r="ocr"===i?"quad_boxes":"bboxes",s=e.matchAll(this.regexes[r]),l=[],c=[];for(const[e,t,...i]of s){var o;l.push(t?t.trim():null!==(o=l.at(-1))&&void 0!==o?o:""),c.push(i.map(((e,t)=>(Number(e)+.5)/this.size_per_bin*n[t%2])))}a={labels:l,[r]:c};break;default:throw new Error('Task "'.concat(t,'" (of type "').concat(i,'") not yet implemented.'))}return{[t]:a}}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&!t)throw new Error("Either text or images must be provided");const r=await this.image_processor(e,n),i=t?this.tokenizer(t,n):{};return u(u({},r),i)}}l(o,"tokenizer_class",a.AutoTokenizer),l(o,"image_processor_class",i.AutoImageProcessor)},"./src/models/glpn/image_processing_glpn.js":(e,t,n)=>{n.r(t),n.d(t,{GLPNFeatureExtractor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}},"./src/models/grounding_dino/image_processing_grounding_dino.js":(e,t,n)=>{n.r(t),n.d(t,{GroundingDinoImageProcessor:()=>a});var r=n("./src/base/image_processors_utils.js"),i=n("./src/utils/tensor.js");class a extends r.ImageProcessor{async _call(e){const t=await super._call(e),n=t.pixel_values.dims,r=(0,i.ones)([n[0],n[2],n[3]]);return u(u({},t),{},{pixel_mask:r})}}},"./src/models/grounding_dino/processing_grounding_dino.js":(e,t,n)=>{n.r(t),n.d(t,{GroundingDinoProcessor:()=>c});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js"),o=n("./src/base/image_processors_utils.js");function s(e,t){const n=e.dims.at(-1)-1,r=e.tolist();r.fill(!1,0,1),r.fill(!1,n);const i=t.tolist();return r.map(((e,t)=>e?t:null)).filter((e=>null!==e)).map((e=>i[e]))}class c extends r.Processor{async _call(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e?await this.image_processor(e,n):{};return u(u({},t?this.tokenizer(t,n):{}),r)}post_process_grounded_object_detection(e,t){let{box_threshold:n=.25,text_threshold:r=.25,target_sizes:i=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{logits:a,pred_boxes:l}=e,c=a.dims[0];if(null!==i&&i.length!==c)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const u=a.dims.at(1),d=a.sigmoid(),h=d.max(-1).tolist(),p=l.tolist().map((e=>e.map((e=>(0,o.center_to_corners_format)(e))))),f=[];for(let o=0;o<c;++o){const e=null!==i?i[o]:null;null!==e&&(p[o]=p[o].map((t=>t.map(((t,n)=>t*e[(n+1)%2])))));const a=h[o],l=[],c=[],m=[];for(let i=0;i<u;++i){const e=a[i];if(e<=n)continue;const u=p[o][i],h=d[o][i];l.push(e),m.push(u);const f=s(h.gt(r),t[o]);c.push(f)}f.push({scores:l,boxes:m,labels:this.batch_decode(c)})}return f}}l(c,"tokenizer_class",a.AutoTokenizer),l(c,"image_processor_class",i.AutoImageProcessor)},"./src/models/idefics3/image_processing_idefics3.js":(e,t,n)=>{n.r(t),n.d(t,{Idefics3ImageProcessor:()=>a});var r=n("./src/base/image_processors_utils.js"),i=n("./src/utils/tensor.js");class a extends r.ImageProcessor{constructor(e){var t;super(e),this.do_image_splitting=null===(t=e.do_image_splitting)||void 0===t||t,this.max_image_size=e.max_image_size}get_resize_for_vision_encoder(e,t){let[n,r]=e.dims.slice(-2);const i=r/n;return r>=n?(r=Math.ceil(r/t)*t,n=Math.floor(r/i),n=Math.ceil(n/t)*t):(n=Math.ceil(n/t)*t,r=Math.floor(n*i),r=Math.ceil(r/t)*t),{height:n,width:r}}async _call(e){let t,{do_image_splitting:n=null,return_row_col_info:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)){if(0===e.length||!e[0])throw new Error("No images provided.");t=Array.isArray(e[0])?e:[e]}else t=[[e]];let a=[],o=[],s=[];const l=[],c=[];for(const u of t){let e=await Promise.all(u.map((e=>this.preprocess(e))));l.push(...e.map((e=>e.original_size))),c.push(...e.map((e=>e.reshaped_input_size))),e.forEach((e=>e.pixel_values.unsqueeze_(0)));const{longest_edge:t}=this.max_image_size;let r;if(null!==n&&void 0!==n?n:this.do_image_splitting){let n=new Array(e.length),a=new Array(e.length);r=await Promise.all(e.map((async(e,r)=>{const o=this.get_resize_for_vision_encoder(e.pixel_values,t),s=await(0,i.interpolate_4d)(e.pixel_values,{size:[o.height,o.width]}),{frames:l,num_splits_h:c,num_splits_w:u}=await this.split_image(s,this.max_image_size);return n[r]=c,a[r]=u,(0,i.cat)(l,0)}))),o.push(n),s.push(a)}else{const n=[t,t];r=await Promise.all(e.map((e=>(0,i.interpolate_4d)(e.pixel_values,{size:n})))),o.push(new Array(e.length).fill(0)),s.push(new Array(e.length).fill(0))}a.push((0,i.cat)(r,0))}const d=a.length,[h,p,f,m]=a[0].dims;let g,y;if(1===d)g=a[0].unsqueeze_(0),y=(0,i.full)([d,h,f,m],!0);else{const e=Math.max(...a.map((e=>e.dims.at(0))));y=(0,i.full)([d,e,f,m],!0);const t=y.data,n=e*f*m;for(let r=0;r<d;++r){const o=a[r].dims[0];if(o<e){a[r]=(0,i.cat)([a[r],(0,i.full)([e-o,p,f,m],0)],0);const s=r*n+o*f*m,l=(r+1)*n;t.fill(!1,s,l)}}g=(0,i.stack)(a,0)}return u({pixel_values:g,pixel_attention_mask:y,original_sizes:l,reshaped_input_sizes:c},r?{rows:o,cols:s}:{})}async split_image(e,t){let{longest_edge:n}=t;const r=n,a=n,o=[],[s,l]=e.dims.slice(-2);let c=0,u=0;if(s>r||l>a){c=Math.ceil(s/r),u=Math.ceil(l/a);const t=Math.ceil(s/c),n=Math.ceil(l/u);for(let r=0;r<c;++r)for(let a=0;a<u;++a){let d,h,p,f;r===c-1?(h=s-t,f=s):(h=r*t,f=(r+1)*t),a===u-1?(d=l-n,p=l):(d=a*n,p=(a+1)*n);const m=[h,d],g=[f,p],y=await(0,i.slice)(e,m,g,[2,3]);o.push(y)}const d=r,h=a;s===d&&l===h||(e=await(0,i.interpolate_4d)(e,{size:[d,h]}))}return o.push(e),{frames:o,num_splits_h:c,num_splits_w:u}}}},"./src/models/idefics3/processing_idefics3.js":(e,t,n)=>{n.r(t),n.d(t,{Idefics3Processor:()=>c});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js"),o=(n("./src/utils/image.js"),n("./src/utils/core.js"));function s(e,t,n,r,i,a){return 0===e&&0===t?function(e,t,n,r){return"".concat(t)+"".concat(r)+n.repeat(e)+"".concat(t)}(n,r,i,a):function(e,t,n,r,i,a){let o="";for(let s=0;s<t;++s){for(let t=0;t<n;++t)o+=r+"<row_".concat(s+1,"_col_").concat(t+1,">")+i.repeat(e);o+="\n"}return o+="\n".concat(r)+"".concat(a)+i.repeat(e)+"".concat(r),o}(n,e,t,r,i,a)}class c extends r.Processor{constructor(){super(...arguments),l(this,"fake_image_token","<fake_token_around_image>"),l(this,"image_token","<image>"),l(this,"global_img_token","<global-img>")}async _call(e){var t,n,r;let i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!==(t=l.return_row_col_info)&&void 0!==t||(l.return_row_col_info=!0),a&&(i=await this.image_processor(a,l)),Array.isArray(e)||(e=[e]);const c=null!==(n=i.rows)&&void 0!==n?n:[new Array(e.length).fill(0)],d=null!==(r=i.cols)&&void 0!==r?r:[new Array(e.length).fill(0)],h=this.config.image_seq_len,p=[],f=[];for(let u=0;u<e.length;++u){const t=e[u],n=c[u],r=d[u];p.push((0,o.count)(t,this.image_token));const i=n.map(((e,t)=>s(e,r[t],h,this.fake_image_token,this.image_token,this.global_img_token))),a=t.split(this.image_token);if(0===a.length)throw new Error("The image token should be present in the text.");let l=a[0];for(let e=0;e<i.length;++e)l+=i[e]+a[e+1];f.push(l)}return u(u({},this.tokenizer(f)),i)}}l(c,"image_processor_class",i.AutoImageProcessor),l(c,"tokenizer_class",a.AutoTokenizer),l(c,"uses_processor_config",!0)},"./src/models/image_processors.js":(e,t,n)=>{n.r(t),n.d(t,{BeitFeatureExtractor:()=>r.BeitFeatureExtractor,BitImageProcessor:()=>i.BitImageProcessor,CLIPFeatureExtractor:()=>o.CLIPFeatureExtractor,CLIPImageProcessor:()=>o.CLIPImageProcessor,ChineseCLIPFeatureExtractor:()=>a.ChineseCLIPFeatureExtractor,ConvNextFeatureExtractor:()=>s.ConvNextFeatureExtractor,ConvNextImageProcessor:()=>s.ConvNextImageProcessor,DPTFeatureExtractor:()=>d.DPTFeatureExtractor,DPTImageProcessor:()=>d.DPTImageProcessor,DeiTFeatureExtractor:()=>l.DeiTFeatureExtractor,DeiTImageProcessor:()=>l.DeiTImageProcessor,DetrFeatureExtractor:()=>c.DetrFeatureExtractor,DetrImageProcessor:()=>c.DetrImageProcessor,DonutFeatureExtractor:()=>u.DonutFeatureExtractor,DonutImageProcessor:()=>u.DonutImageProcessor,EfficientNetImageProcessor:()=>h.EfficientNetImageProcessor,GLPNFeatureExtractor:()=>p.GLPNFeatureExtractor,GroundingDinoImageProcessor:()=>f.GroundingDinoImageProcessor,Idefics3ImageProcessor:()=>m.Idefics3ImageProcessor,JinaCLIPImageProcessor:()=>y.JinaCLIPImageProcessor,LlavaOnevisionImageProcessor:()=>b.LlavaOnevisionImageProcessor,Mask2FormerImageProcessor:()=>w.Mask2FormerImageProcessor,MaskFormerFeatureExtractor:()=>v.MaskFormerFeatureExtractor,MaskFormerImageProcessor:()=>v.MaskFormerImageProcessor,MobileNetV1FeatureExtractor:()=>_.MobileNetV1FeatureExtractor,MobileNetV1ImageProcessor:()=>_.MobileNetV1ImageProcessor,MobileNetV2FeatureExtractor:()=>x.MobileNetV2FeatureExtractor,MobileNetV2ImageProcessor:()=>x.MobileNetV2ImageProcessor,MobileNetV3FeatureExtractor:()=>k.MobileNetV3FeatureExtractor,MobileNetV3ImageProcessor:()=>k.MobileNetV3ImageProcessor,MobileNetV4FeatureExtractor:()=>D.MobileNetV4FeatureExtractor,MobileNetV4ImageProcessor:()=>D.MobileNetV4ImageProcessor,MobileViTFeatureExtractor:()=>T.MobileViTFeatureExtractor,MobileViTImageProcessor:()=>T.MobileViTImageProcessor,NougatImageProcessor:()=>A.NougatImageProcessor,OwlViTFeatureExtractor:()=>C.OwlViTFeatureExtractor,OwlViTImageProcessor:()=>C.OwlViTImageProcessor,Owlv2ImageProcessor:()=>S.Owlv2ImageProcessor,Phi3VImageProcessor:()=>E.Phi3VImageProcessor,PvtImageProcessor:()=>F.PvtImageProcessor,Qwen2VLImageProcessor:()=>M.Qwen2VLImageProcessor,RTDetrImageProcessor:()=>I.RTDetrImageProcessor,SamImageProcessor:()=>P.SamImageProcessor,SegformerFeatureExtractor:()=>z.SegformerFeatureExtractor,SegformerImageProcessor:()=>z.SegformerImageProcessor,SiglipImageProcessor:()=>N.SiglipImageProcessor,SmolVLMImageProcessor:()=>O.SmolVLMImageProcessor,Swin2SRImageProcessor:()=>B.Swin2SRImageProcessor,VLMImageProcessor:()=>g.VLMImageProcessor,ViTFeatureExtractor:()=>L.ViTFeatureExtractor,ViTImageProcessor:()=>L.ViTImageProcessor,VitMatteImageProcessor:()=>R.VitMatteImageProcessor,VitPoseImageProcessor:()=>j.VitPoseImageProcessor,YolosFeatureExtractor:()=>V.YolosFeatureExtractor,YolosImageProcessor:()=>V.YolosImageProcessor});var r=n("./src/models/beit/image_processing_beit.js"),i=n("./src/models/bit/image_processing_bit.js"),a=n("./src/models/chinese_clip/image_processing_chinese_clip.js"),o=n("./src/models/clip/image_processing_clip.js"),s=n("./src/models/convnext/image_processing_convnext.js"),l=n("./src/models/deit/image_processing_deit.js"),c=n("./src/models/detr/image_processing_detr.js"),u=n("./src/models/donut/image_processing_donut.js"),d=n("./src/models/dpt/image_processing_dpt.js"),h=n("./src/models/efficientnet/image_processing_efficientnet.js"),p=n("./src/models/glpn/image_processing_glpn.js"),f=n("./src/models/grounding_dino/image_processing_grounding_dino.js"),m=n("./src/models/idefics3/image_processing_idefics3.js"),g=n("./src/models/janus/image_processing_janus.js"),y=n("./src/models/jina_clip/image_processing_jina_clip.js"),b=n("./src/models/llava_onevision/image_processing_llava_onevision.js"),w=n("./src/models/mask2former/image_processing_mask2former.js"),v=n("./src/models/maskformer/image_processing_maskformer.js"),_=n("./src/models/mobilenet_v1/image_processing_mobilenet_v1.js"),x=n("./src/models/mobilenet_v2/image_processing_mobilenet_v2.js"),k=n("./src/models/mobilenet_v3/image_processing_mobilenet_v3.js"),D=n("./src/models/mobilenet_v4/image_processing_mobilenet_v4.js"),T=n("./src/models/mobilevit/image_processing_mobilevit.js"),A=n("./src/models/nougat/image_processing_nougat.js"),S=n("./src/models/owlv2/image_processing_owlv2.js"),C=n("./src/models/owlvit/image_processing_owlvit.js"),E=n("./src/models/phi3_v/image_processing_phi3_v.js"),F=n("./src/models/pvt/image_processing_pvt.js"),M=n("./src/models/qwen2_vl/image_processing_qwen2_vl.js"),I=n("./src/models/rt_detr/image_processing_rt_detr.js"),P=n("./src/models/sam/image_processing_sam.js"),z=n("./src/models/segformer/image_processing_segformer.js"),N=n("./src/models/siglip/image_processing_siglip.js"),O=n("./src/models/smolvlm/image_processing_smolvlm.js"),B=n("./src/models/swin2sr/image_processing_swin2sr.js"),L=n("./src/models/vit/image_processing_vit.js"),R=n("./src/models/vitmatte/image_processing_vitmatte.js"),j=n("./src/models/vitpose/image_processing_vitpose.js"),V=n("./src/models/yolos/image_processing_yolos.js")},"./src/models/janus/image_processing_janus.js":(e,t,n)=>{n.r(t),n.d(t,{VLMImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{constructor(e){super(u({do_pad:!0,pad_size:{width:e.image_size,height:e.image_size}},e)),this.constant_values=this.config.background_color.map((e=>e*this.rescale_factor))}pad_image(e,t,n,r){return super.pad_image(e,t,n,u({constant_values:this.constant_values,center:!0},r))}}},"./src/models/janus/processing_janus.js":(e,t,n)=>{n.r(t),n.d(t,{VLChatProcessor:()=>d});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js"),o=n("./src/utils/core.js"),s=n("./src/utils/tensor.js"),c=n("./src/utils/image.js");class d extends r.Processor{constructor(e,t){super(e,t),this.image_tag=this.config.image_tag,this.image_start_tag=this.config.image_start_tag,this.image_end_tag=this.config.image_end_tag,this.num_image_tokens=this.config.num_image_tokens}async _call(e){let{images:t=null,chat_template:n="default"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?Array.isArray(t)||(t=[t]):t=await Promise.all(e.filter((e=>e.images)).flatMap((e=>e.images)).map((e=>c.RawImage.read(e))));const r=this.tokenizer,i=e=>r.encode(e,{add_special_tokens:!1}),a=r.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0,chat_template:n}).split(this.image_tag),l=a.length-1;if(t.length!==l)throw new Error("Number of images provided (".concat(t.length,') does not match number of "').concat(this.image_tag,'" image tags (').concat(l,")"));const[d,h,p]=r.model.convert_tokens_to_ids([this.image_tag,this.image_start_tag,this.image_end_tag]);let f=i(a[0]),m=new Array(f.length).fill(!1);for(let s=1;s<a.length;++s){const e=new Array(this.num_image_tokens).fill(d),t=i(a[s]);f=(0,o.mergeArrays)(f,[h],e,[p],t);const n=new Array(this.num_image_tokens).fill(!0);m=(0,o.mergeArrays)(m,[!1],n,[!1],new Array(t.length).fill(!1))}const g=[1,f.length],y={input_ids:new s.Tensor("int64",f,g),attention_mask:new s.Tensor("int64",new Array(f.length).fill(1),g),images_seq_mask:new s.Tensor("bool",m,g),images_emb_mask:new s.Tensor("bool",new Array(l*this.num_image_tokens).fill(!0),[1,l,this.num_image_tokens])};if(t&&t.length>0){const e=await this.image_processor(t);return e.pixel_values.unsqueeze_(0),u(u({},y),e)}return y}}l(d,"image_processor_class",i.AutoImageProcessor),l(d,"tokenizer_class",a.AutoTokenizer),l(d,"uses_processor_config",!0)},"./src/models/jina_clip/image_processing_jina_clip.js":(e,t,n)=>{n.r(t),n.d(t,{JinaCLIPImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{constructor(e){const{resize_mode:t,fill_color:n,interpolation:r,size:i}=e,o="squash"===t?{width:i,height:i}:"shortest"===t?{shortest_edge:i}:{longest_edge:i},s="bicubic"===r?3:2;super(u(u({},a(e,nh)),{},{size:o,resample:s,do_center_crop:!0,crop_size:i,do_normalize:!0}))}}},"./src/models/jina_clip/processing_jina_clip.js":(e,t,n)=>{n.r(t),n.d(t,{JinaCLIPProcessor:()=>o});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js");class o extends r.Processor{async _call(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&!t)throw new Error("Either text or images must be provided");const r=e?this.tokenizer(e,n):{},i=t?await this.image_processor(t,n):{};return u(u({},r),i)}}l(o,"tokenizer_class",a.AutoTokenizer),l(o,"image_processor_class",i.AutoImageProcessor)},"./src/models/llava_onevision/image_processing_llava_onevision.js":(e,t,n)=>{n.r(t),n.d(t,{LlavaOnevisionImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}},"./src/models/mask2former/image_processing_mask2former.js":(e,t,n)=>{n.r(t),n.d(t,{Mask2FormerImageProcessor:()=>i});var r=n("./src/models/maskformer/image_processing_maskformer.js");class i extends r.MaskFormerImageProcessor{}},"./src/models/maskformer/image_processing_maskformer.js":(e,t,n)=>{n.r(t),n.d(t,{MaskFormerFeatureExtractor:()=>a,MaskFormerImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{post_process_panoptic_segmentation(){return(0,r.post_process_panoptic_segmentation)(...arguments)}post_process_instance_segmentation(){return(0,r.post_process_instance_segmentation)(...arguments)}}class a extends i{}},"./src/models/mgp_str/processing_mgp_str.js":(e,t,n)=>{n.r(t),n.d(t,{MgpstrProcessor:()=>c});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js"),o=n("./src/utils/maths.js");const s={char:["char_decode",1],bpe:["bpe_decode",2],wp:["wp_decode",102]};class c extends r.Processor{get char_tokenizer(){return this.components.char_tokenizer}get bpe_tokenizer(){return this.components.bpe_tokenizer}get wp_tokenizer(){return this.components.wp_tokenizer}_decode_helper(e,t){if(!s.hasOwnProperty(t))throw new Error("Format ".concat(t," is not supported."));const[n,r]=s[t],i=this[n].bind(this),[a,l]=e.dims,c=[],u=[],d=e.tolist();for(let s=0;s<a;++s){const e=d[s],t=[],n=[];for(let a=1;a<l;++a){const[i,s]=(0,o.max)((0,o.softmax)(e[a]));if(n.push(i),s==r)break;t.push(s)}const i=n.length>0?n.reduce(((e,t)=>e*t),1):0;u.push(t),c.push(i)}return[i(u),c]}char_decode(e){return this.char_tokenizer.batch_decode(e).map((e=>e.replaceAll(" ","")))}bpe_decode(e){return this.bpe_tokenizer.batch_decode(e)}wp_decode(e){return this.wp_tokenizer.batch_decode(e).map((e=>e.replaceAll(" ","")))}batch_decode(e){let[t,n,r]=e;const[i,a]=this._decode_helper(t,"char"),[s,l]=this._decode_helper(n,"bpe"),[c,u]=this._decode_helper(r,"wp"),d=[],h=[];for(let p=0;p<i.length;++p){const[e,t]=(0,o.max)([a[p],l[p],u[p]]);d.push([i[p],s[p],c[p]][t]),h.push(e)}return{generated_text:d,scores:h,char_preds:i,bpe_preds:s,wp_preds:c}}static async from_pretrained(){const e=await super.from_pretrained(...arguments),t=await a.AutoTokenizer.from_pretrained("Xenova/gpt2"),n=await a.AutoTokenizer.from_pretrained("Xenova/bert-base-uncased");return e.components={image_processor:e.image_processor,char_tokenizer:e.tokenizer,bpe_tokenizer:t,wp_tokenizer:n},e}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=await this.image_processor(e);return t&&(n.labels=this.tokenizer(t).input_ids),n}}l(c,"tokenizer_class",a.AutoTokenizer),l(c,"image_processor_class",i.AutoImageProcessor)},"./src/models/mobilenet_v1/image_processing_mobilenet_v1.js":(e,t,n)=>{n.r(t),n.d(t,{MobileNetV1FeatureExtractor:()=>a,MobileNetV1ImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/mobilenet_v2/image_processing_mobilenet_v2.js":(e,t,n)=>{n.r(t),n.d(t,{MobileNetV2FeatureExtractor:()=>a,MobileNetV2ImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/mobilenet_v3/image_processing_mobilenet_v3.js":(e,t,n)=>{n.r(t),n.d(t,{MobileNetV3FeatureExtractor:()=>a,MobileNetV3ImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/mobilenet_v4/image_processing_mobilenet_v4.js":(e,t,n)=>{n.r(t),n.d(t,{MobileNetV4FeatureExtractor:()=>a,MobileNetV4ImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/mobilevit/image_processing_mobilevit.js":(e,t,n)=>{n.r(t),n.d(t,{MobileViTFeatureExtractor:()=>a,MobileViTImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/moonshine/feature_extraction_moonshine.js":(e,t,n)=>{n.r(t),n.d(t,{MoonshineFeatureExtractor:()=>a});var r=n("./src/base/feature_extraction_utils.js"),i=n("./src/utils/tensor.js");class a extends r.FeatureExtractor{async _call(e){(0,r.validate_audio_inputs)(e,"MoonshineFeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));const t=[1,e.length];return{input_values:new i.Tensor("float32",e,t)}}}},"./src/models/moonshine/processing_moonshine.js":(e,t,n)=>{n.r(t),n.d(t,{MoonshineProcessor:()=>o});var r=n("./src/models/auto/feature_extraction_auto.js"),i=n("./src/tokenizers.js"),a=n("./src/base/processing_utils.js");class o extends a.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",i.AutoTokenizer),l(o,"feature_extractor_class",r.AutoFeatureExtractor)},"./src/models/nougat/image_processing_nougat.js":(e,t,n)=>{n.r(t),n.d(t,{NougatImageProcessor:()=>i});var r=n("./src/models/donut/image_processing_donut.js");class i extends r.DonutImageProcessor{}},"./src/models/owlv2/image_processing_owlv2.js":(e,t,n)=>{n.r(t),n.d(t,{Owlv2ImageProcessor:()=>i});var r=n("./src/models/owlvit/image_processing_owlvit.js");class i extends r.OwlViTImageProcessor{}},"./src/models/owlvit/image_processing_owlvit.js":(e,t,n)=>{n.r(t),n.d(t,{OwlViTFeatureExtractor:()=>a,OwlViTImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{post_process_object_detection(){return(0,r.post_process_object_detection)(...arguments)}}class a extends i{}},"./src/models/owlvit/processing_owlvit.js":(e,t,n)=>{n.r(t),n.d(t,{OwlViTProcessor:()=>o});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js");class o extends r.Processor{}l(o,"tokenizer_class",a.AutoTokenizer),l(o,"image_processor_class",i.AutoImageProcessor)},"./src/models/paligemma/processing_paligemma.js":(e,t,n)=>{n.r(t),n.d(t,{PaliGemmaProcessor:()=>s});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js");const o="<image>";class s extends r.Processor{async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t||(console.warn("You are using PaliGemma without a text prefix. It will perform as a picture-captioning model."),t=""),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const r=this.tokenizer.bos_token,i=this.image_processor.config.image_seq_length;let a;t.some((e=>e.includes(o)))?a=t.map((e=>{const t=e.replaceAll(o,o.repeat(i)),n=t.lastIndexOf(o),a=-1===n?0:n+7;return t.slice(0,a)+r+t.slice(a)+"\n"})):(console.warn("You are passing both `text` and `images` to `PaliGemmaProcessor`. The processor expects special image tokens in the text, as many tokens as there are images per each text. It is recommended to add `<image>` tokens in the very beginning of your text. For this call, we will infer how many images each text has and add special tokens."),a=t.map((t=>function(e,t,n,r,i){return"".concat(r.repeat(n*i)).concat(t).concat(e,"\n")}(t,r,i,o,e.length))));const s=this.tokenizer(a,n);return u(u({},await this.image_processor(e,n)),s)}}l(s,"tokenizer_class",a.AutoTokenizer),l(s,"image_processor_class",i.AutoImageProcessor),l(s,"uses_processor_config",!1)},"./src/models/phi3_v/image_processing_phi3_v.js":(e,t,n)=>{n.r(t),n.d(t,{Phi3VImageProcessor:()=>d});var r=n("./src/base/image_processors_utils.js"),i=n("./src/utils/tensor.js");const a=336,o=[2,3],{ceil:s,floor:l,sqrt:c}=Math;class d extends r.ImageProcessor{constructor(e){super(u(u({},e),{},{do_normalize:!0,do_pad:!0,pad_size:"custom",do_convert_rgb:!0,do_resize:!0})),this._num_crops=e.num_crops}calc_num_image_tokens_from_image_size(e,t){const{num_img_tokens:n}=this.config;return l((l(t/a)*l(e/a)+1)*n+1+(l(t/a)+1)*c(n))}get_resize_output_image_size(e,t){const n=this._num_crops,[r,i]=e.size;let a=r/i,o=1;for(;o*Math.ceil(o/a)<=n;)o+=1;o-=1;const s=Math.floor(336*o);return[s,Math.floor(s/a)]}pad_image(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,o]=t,l=a*s(i/a),c=a*s(o/a),d=[1,1,1].map(((e,t)=>(e-this.image_mean[t])/this.image_std[t]));return super.pad_image(e,t,{width:c,height:l},u({center:!0,constant_values:d},r))}async _call(e){let{num_crops:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._num_crops=null!==t&&void 0!==t?t:t=this.config.num_crops,t<4||c(t)%1!==0)throw new Error("num_crops must be a square number >= 4");Array.isArray(e)||(e=[e]);const n=e.length,r=await Promise.all(e.map((e=>this.preprocess(e)))),u=r.map((e=>e.original_size)),d=r.map((e=>e.reshaped_input_size)),h=[];for(const{pixel_values:s}of r){s.unsqueeze_(0);const[e,n]=s.dims.slice(-2),r=await(0,i.interpolate_4d)(s,{size:[a,a],mode:"bicubic"});if(t>0){const u=[],d=c(t),p=l(n/d),f=l(e/d);for(let t=0;t<d;++t)for(let r=0;r<d;++r){let a,l,c,h;t===d-1?(l=e-f,h=e):(l=t*f,h=(t+1)*f),r===d-1?(a=n-p,c=n):(a=r*p,c=(r+1)*p);const m=[l,a],g=[h,c],y=await(0,i.slice)(s,m,g,o);u.push(y)}const m=await(0,i.interpolate_4d)((0,i.cat)(u,0),{size:[a,a],mode:"bicubic"});h.push((0,i.cat)([r,m],0))}else h.push(r)}const p=(0,i.stack)(h,0),f=d.map((e=>e.map((e=>a*s(e/a))))),m=new i.Tensor("int64",f.flat(),[n,2]),g=f.map((e=>{let[t,n]=e;return this.calc_num_image_tokens_from_image_size(n,t)}));return{pixel_values:p,original_sizes:u,reshaped_input_sizes:d,image_sizes:m,num_img_tokens:g}}}},"./src/models/phi3_v/processing_phi3_v.js":(e,t,n)=>{n.r(t),n.d(t,{Phi3VProcessor:()=>c});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js");n("./src/utils/image.js");const o="<|image|>",s=/<\|image_\d+\|>/g;class c extends r.Processor{async _call(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{padding:i=!0,truncation:a=!0,num_crops:l=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(e)||(e=[e]),r){n=await this.image_processor(r,{num_crops:l});const{num_img_tokens:c}=n,u=e.map(((e,t)=>e.split(s).join(o.repeat(c[t]))));t=this.tokenizer(u,{padding:i,truncation:a});const d=this.tokenizer.model.convert_tokens_to_ids([o])[0];t.input_ids.map_((e=>e==d?-e:e))}else t=this.tokenizer(e);return u(u({},t),n)}}l(c,"image_processor_class",i.AutoImageProcessor),l(c,"tokenizer_class",a.AutoTokenizer)},"./src/models/processors.js":(e,t,n)=>{n.r(t),n.d(t,{Florence2Processor:()=>r.Florence2Processor,GroundingDinoProcessor:()=>i.GroundingDinoProcessor,Idefics3Processor:()=>a.Idefics3Processor,JinaCLIPProcessor:()=>s.JinaCLIPProcessor,MgpstrProcessor:()=>l.MgpstrProcessor,MoonshineProcessor:()=>c.MoonshineProcessor,OwlViTProcessor:()=>u.OwlViTProcessor,PaliGemmaProcessor:()=>h.PaliGemmaProcessor,Phi3VProcessor:()=>d.Phi3VProcessor,PyAnnoteProcessor:()=>p.PyAnnoteProcessor,Qwen2VLProcessor:()=>f.Qwen2VLProcessor,SamProcessor:()=>m.SamProcessor,SmolVLMProcessor:()=>g.SmolVLMProcessor,SpeechT5Processor:()=>y.SpeechT5Processor,UltravoxProcessor:()=>b.UltravoxProcessor,VLChatProcessor:()=>o.VLChatProcessor,Wav2Vec2Processor:()=>w.Wav2Vec2Processor,Wav2Vec2ProcessorWithLM:()=>v.Wav2Vec2ProcessorWithLM,WhisperProcessor:()=>_.WhisperProcessor});var r=n("./src/models/florence2/processing_florence2.js"),i=n("./src/models/grounding_dino/processing_grounding_dino.js"),a=n("./src/models/idefics3/processing_idefics3.js"),o=n("./src/models/janus/processing_janus.js"),s=n("./src/models/jina_clip/processing_jina_clip.js"),l=n("./src/models/mgp_str/processing_mgp_str.js"),c=n("./src/models/moonshine/processing_moonshine.js"),u=n("./src/models/owlvit/processing_owlvit.js"),d=n("./src/models/phi3_v/processing_phi3_v.js"),h=n("./src/models/paligemma/processing_paligemma.js"),p=n("./src/models/pyannote/processing_pyannote.js"),f=n("./src/models/qwen2_vl/processing_qwen2_vl.js"),m=n("./src/models/sam/processing_sam.js"),g=n("./src/models/smolvlm/processing_smolvlm.js"),y=n("./src/models/speecht5/processing_speecht5.js"),b=n("./src/models/ultravox/processing_ultravox.js"),w=n("./src/models/wav2vec2/processing_wav2vec2.js"),v=n("./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js"),_=n("./src/models/whisper/processing_whisper.js")},"./src/models/pvt/image_processing_pvt.js":(e,t,n)=>{n.r(t),n.d(t,{PvtImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}},"./src/models/pyannote/feature_extraction_pyannote.js":(e,t,n)=>{n.r(t),n.d(t,{PyAnnoteFeatureExtractor:()=>o});var r=n("./src/base/feature_extraction_utils.js"),i=n("./src/utils/tensor.js"),a=n("./src/utils/maths.js");class o extends r.FeatureExtractor{async _call(e){(0,r.validate_audio_inputs)(e,"PyAnnoteFeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));const t=[1,1,e.length];return{input_values:new i.Tensor("float32",e,t)}}samples_to_frames(e){return(e-this.config.offset)/this.config.step}post_process_speaker_diarization(e,t){const n=t/this.samples_to_frames(t)/this.config.sampling_rate,r=[];for(const i of e.tolist()){const e=[];let t=-1;for(let n=0;n<i.length;++n){const r=(0,a.softmax)(i[n]),[o,s]=(0,a.max)(r),[l,c]=[n,n+1];s!==t?(t=s,e.push({id:s,start:l,end:c,score:o})):(e.at(-1).end=c,e.at(-1).score+=o)}r.push(e.map((e=>{let{id:t,start:r,end:i,score:a}=e;return{id:t,start:r*n,end:i*n,confidence:a/(i-r)}})))}return r}}},"./src/models/pyannote/processing_pyannote.js":(e,t,n)=>{n.r(t),n.d(t,{PyAnnoteProcessor:()=>a});var r=n("./src/base/processing_utils.js"),i=n("./src/models/pyannote/feature_extraction_pyannote.js");class a extends r.Processor{async _call(e){return await this.feature_extractor(e)}post_process_speaker_diarization(){return this.feature_extractor.post_process_speaker_diarization(...arguments)}get sampling_rate(){return this.feature_extractor.config.sampling_rate}}l(a,"feature_extractor_class",i.PyAnnoteFeatureExtractor)},"./src/models/qwen2_vl/image_processing_qwen2_vl.js":(e,t,n)=>{n.r(t),n.d(t,{Qwen2VLImageProcessor:()=>a});var r=n("./src/base/image_processors_utils.js"),i=n("./src/utils/tensor.js");class a extends r.ImageProcessor{async _call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const{pixel_values:a,original_sizes:o,reshaped_input_sizes:s}=await super._call(e,...n);let l=a;const{temporal_patch_size:c,merge_size:u,patch_size:d}=this.config;1===l.dims[0]&&(l=(0,i.cat)(Array.from({length:c},(()=>l)),0));const h=l.dims[0]/c,p=l.dims[1],f=Math.floor(l.dims[2]/d),m=Math.floor(l.dims[3]/d);return{pixel_values:l.view(h,c,p,Math.floor(f/u),u,d,Math.floor(m/u),u,d).permute(0,3,6,4,7,2,1,5,8).view(h*f*m,p*c*d*d),image_grid_thw:new i.Tensor("int64",[h,f,m],[1,3]),original_sizes:o,reshaped_input_sizes:s}}}},"./src/models/qwen2_vl/processing_qwen2_vl.js":(e,t,n)=>{n.r(t),n.d(t,{Qwen2VLProcessor:()=>o});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js"),a=n("./src/tokenizers.js");n("./src/utils/image.js");class o extends r.Processor{async _call(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(e)||(e=[e]),r&&(t=await this.image_processor(r),n=t.image_grid_thw),n){let t=this.image_processor.config.merge_size**2,r=0;const i=n.tolist();e=e.map((e=>{for(;e.includes("<|image_pad|>");){const n=Number(i[r++].reduce(((e,t)=>e*t),1n));e=e.replace("<|image_pad|>","<|placeholder|>".repeat(Math.floor(n/t)))}return e.replaceAll("<|placeholder|>","<|image_pad|>")}))}return u(u({},this.tokenizer(e)),t)}}l(o,"image_processor_class",i.AutoImageProcessor),l(o,"tokenizer_class",a.AutoTokenizer)},"./src/models/rt_detr/image_processing_rt_detr.js":(e,t,n)=>{n.r(t),n.d(t,{RTDetrImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{post_process_object_detection(){return(0,r.post_process_object_detection)(...arguments)}}},"./src/models/sam/image_processing_sam.js":(e,t,n)=>{n.r(t),n.d(t,{SamImageProcessor:()=>o});var r=n("./src/base/image_processors_utils.js"),i=n("./src/utils/core.js"),a=n("./src/utils/tensor.js");class o extends r.ImageProcessor{reshape_input_points(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=structuredClone(e);let o=(0,i.calculateDimensions)(e);if(3===o.length)r||(o=[1,...o]),e=[e];else if(4!==o.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let i=0;i<e.length;++i){let r=t[i],a=n[i],o=[a[0]/r[0],a[1]/r[1]];for(let t=0;t<e[i].length;++t)for(let n=0;n<e[i][t].length;++n)for(let r=0;r<e[i][t][n].length;++r)e[i][t][n][r]*=o[r%2]}return new a.Tensor("float32",Float32Array.from(e.flat(1/0)),o)}add_input_labels(e,t){let n=(0,i.calculateDimensions)(e);if(2===n.length)n=[1,...n],e=[e];else if(3!==n.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(n.some(((e,n)=>e!==t.dims[n])))throw Error("The first ".concat(n.length," dimensions of 'input_points' and 'input_labels' must be the same."));return new a.Tensor("int64",e.flat(1/0).map(BigInt),n)}async _call(e){let{input_points:t=null,input_labels:n=null,input_boxes:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=await super._call(e);if(t&&(i.input_points=this.reshape_input_points(t,i.original_sizes,i.reshaped_input_sizes)),n){if(!i.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");i.input_labels=this.add_input_labels(n,i.input_points)}return r&&(i.input_boxes=this.reshape_input_points(r,i.original_sizes,i.reshaped_input_sizes,!0)),i}async post_process_masks(e,t,n){let{mask_threshold:r=0,binarize:i=!0,pad_size:o=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=[];o=null!==o&&void 0!==o?o:this.pad_size;const l=[o.height,o.width];for(let c=0;c<t.length;++c){const o=t[c],u=n[c];let d=await(0,a.interpolate_4d)(e[c],{mode:"bilinear",size:l});if(d=d.slice(null,null,[0,u[0]],[0,u[1]]),d=await(0,a.interpolate_4d)(d,{mode:"bilinear",size:o}),i){const e=d.data,t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)e[n]>r&&(t[n]=1);d=new a.Tensor("bool",t,d.dims)}s.push(d)}return s}generate_crop_boxes(e,t){let{crop_n_layers:n=0,overlap_ratio:r=512/1500,points_per_crop:i=32,crop_n_points_downscale_factor:a=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}}}},"./src/models/sam/processing_sam.js":(e,t,n)=>{n.r(t),n.d(t,{SamProcessor:()=>a});var r=n("./src/base/processing_utils.js"),i=n("./src/models/auto/image_processing_auto.js");class a extends r.Processor{async _call(){return await this.image_processor(...arguments)}post_process_masks(){return this.image_processor.post_process_masks(...arguments)}reshape_input_points(){return this.image_processor.reshape_input_points(...arguments)}}l(a,"image_processor_class",i.AutoImageProcessor)},"./src/models/seamless_m4t/feature_extraction_seamless_m4t.js":(e,t,n)=>{n.r(t),n.d(t,{SeamlessM4TFeatureExtractor:()=>o});var r=n("./src/base/feature_extraction_utils.js"),i=n("./src/utils/tensor.js"),a=n("./src/utils/audio.js");class o extends r.FeatureExtractor{constructor(e){super(e);const t=this.config.sampling_rate,n=(0,a.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);this.mel_filters=n,this.window=(0,a.window_function)(400,"povey",{periodic:!1})}async _extract_fbank_features(e,t){return e=e.map((e=>32768*e)),(0,a.spectrogram)(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){let{padding:t=!0,pad_to_multiple_of:n=2,do_normalize_per_mel_bins:a=!0,return_attention_mask:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.validate_audio_inputs)(e,"SeamlessM4TFeatureExtractor");let s,l=await this._extract_fbank_features(e,this.config.max_length);if(a){const[e,t]=l.dims,n=l.data;for(let r=0;r<t;++r){let i=0;for(let l=0;l<e;++l)i+=n[l*t+r];const a=i/e;let o=0;for(let l=0;l<e;++l)o+=(n[l*t+r]-a)**2;o/=e-1;const s=Math.sqrt(o+1e-7);for(let l=0;l<e;++l){const e=l*t+r;n[e]=(n[e]-a)/s}}}if(t){const[e,t]=l.dims,r=l.data,a=e%n;if(a>0){const n=new Float32Array(t*(e+a));n.set(r),n.fill(this.config.padding_value,r.length);const c=e+a;l=new i.Tensor(l.type,n,[c,t]),o&&(s=new i.Tensor("int64",new BigInt64Array(c),[1,c]),s.data.fill(1n,0,e))}}const[c,u]=l.dims,d=this.config.stride;if(0!==c%d)throw new Error("The number of frames (".concat(c,") must be a multiple of the stride (").concat(d,")."));const h=l.view(1,Math.floor(c/d),u*d),p={input_features:h};if(o){const e=h.dims[1],t=new BigInt64Array(e);if(s){const e=s.data;for(let n=1,r=0;n<c;n+=d,++r)t[r]=e[n]}else t.fill(1n);p.attention_mask=new i.Tensor("int64",t,[1,e])}return p}}},"./src/models/segformer/image_processing_segformer.js":(e,t,n)=>{n.r(t),n.d(t,{SegformerFeatureExtractor:()=>a,SegformerImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{post_process_semantic_segmentation(){return(0,r.post_process_semantic_segmentation)(...arguments)}}class a extends i{}},"./src/models/siglip/image_processing_siglip.js":(e,t,n)=>{n.r(t),n.d(t,{SiglipImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}},"./src/models/smolvlm/image_processing_smolvlm.js":(e,t,n)=>{n.r(t),n.d(t,{SmolVLMImageProcessor:()=>r.Idefics3ImageProcessor});var r=n("./src/models/idefics3/image_processing_idefics3.js")},"./src/models/smolvlm/processing_smolvlm.js":(e,t,n)=>{n.r(t),n.d(t,{SmolVLMProcessor:()=>r.Idefics3Processor});var r=n("./src/models/idefics3/processing_idefics3.js")},"./src/models/snac/feature_extraction_snac.js":(e,t,n)=>{n.r(t),n.d(t,{SnacFeatureExtractor:()=>i});var r=n("./src/models/dac/feature_extraction_dac.js");class i extends r.DacFeatureExtractor{}},"./src/models/speecht5/feature_extraction_speecht5.js":(e,t,n)=>{n.r(t),n.d(t,{SpeechT5FeatureExtractor:()=>i});var r=n("./src/base/feature_extraction_utils.js");class i extends r.FeatureExtractor{}},"./src/models/speecht5/processing_speecht5.js":(e,t,n)=>{n.r(t),n.d(t,{SpeechT5Processor:()=>o});var r=n("./src/base/processing_utils.js"),i=n("./src/tokenizers.js"),a=n("./src/models/auto/feature_extraction_auto.js");class o extends r.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",i.AutoTokenizer),l(o,"feature_extractor_class",a.AutoFeatureExtractor)},"./src/models/swin2sr/image_processing_swin2sr.js":(e,t,n)=>{n.r(t),n.d(t,{Swin2SRImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{pad_image(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,a,o]=t;return super.pad_image(e,t,{width:a+(n-a%n)%n,height:i+(n-i%n)%n},u({mode:"symmetric",center:!1,constant_values:-1},r))}}},"./src/models/ultravox/processing_ultravox.js":(e,t,n)=>{n.r(t),n.d(t,{UltravoxProcessor:()=>o});var r=n("./src/models/auto/feature_extraction_auto.js"),i=n("./src/tokenizers.js"),a=n("./src/base/processing_utils.js");class o extends a.Processor{async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(e))throw new Error("Batched inputs are not supported yet.");let r={};if(t){const i=t.length,{input_features:a}=await this.feature_extractor(t,u(u({},n),{},{max_length:i})),o=Math.round(i/this.config.encoder_ds_factor+1e-4),s=1+Math.ceil(o/this.config.stack_factor);r.audio_token_len=[s],r.audio_values=a;const l=this.config.audio_placeholder;if(!e.includes(l))throw new Error("The input text does not contain the image token ".concat(l,"."));e=e.replaceAll(l,l.repeat(s))}const i=this.tokenizer(e,u({add_special_tokens:!1},n));return u(u({},i),r)}}l(o,"tokenizer_class",i.AutoTokenizer),l(o,"feature_extractor_class",r.AutoFeatureExtractor),l(o,"uses_processor_config",!0)},"./src/models/vit/image_processing_vit.js":(e,t,n)=>{n.r(t),n.d(t,{ViTFeatureExtractor:()=>a,ViTImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{}class a extends i{}},"./src/models/vitmatte/image_processing_vitmatte.js":(e,t,n)=>{n.r(t),n.d(t,{VitMatteImageProcessor:()=>a});var r=n("./src/base/image_processors_utils.js"),i=n("./src/utils/tensor.js");class a extends r.ImageProcessor{async _call(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const n=await Promise.all(e.map((e=>this.preprocess(e)))),r=await Promise.all(t.map((e=>this.preprocess(e,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})))),a=(0,i.stack)(n.map(((e,t)=>(0,i.cat)([e.pixel_values,r[t].pixel_values],0))),0);return{pixel_values:a,original_sizes:n.map((e=>e.original_size)),reshaped_input_sizes:n.map((e=>e.reshaped_input_size))}}}},"./src/models/vitpose/image_processing_vitpose.js":(e,t,n)=>{n.r(t),n.d(t,{VitPoseImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{post_process_pose_estimation(e,t){let{threshold:n=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.tolist(),[i,a,o,s]=e.dims,l=[];for(let c=0;c<i;++c){const e=r[c],i=t[c],a=[];for(let t=0;t<i.length;++t){const r=i[t],l=[],c=[],u=[],d=r.at(-2)/s,h=r.at(-1)/o;for(let t=0;t<e.length;++t){let[r,i]=[0,0],a=0,o=-1/0;const s=e[t];for(let e=0;e<s.length;++e){const t=s[e];for(let n=0;n<t.length;++n){const s=t[n];a+=s,o=Math.max(o,s),r+=(n+.5)*s,i+=e*s}}if(null!=n&&o<n)continue;const p=[d*r/a,h*i/a];l.push(p),u.push(t),c.push(o)}a.push({bbox:r,scores:c,labels:u,keypoints:l})}l.push(a)}return l}}},"./src/models/wav2vec2/feature_extraction_wav2vec2.js":(e,t,n)=>{n.r(t),n.d(t,{Wav2Vec2FeatureExtractor:()=>a});var r=n("./src/base/feature_extraction_utils.js"),i=n("./src/utils/tensor.js");class a extends r.FeatureExtractor{_zero_mean_unit_var_norm(e){const t=e.reduce(((e,t)=>e+t),0),n=t/e.length,r=e.reduce(((e,t)=>e+(t-n)**2),0)/e.length;return e.map((e=>(e-n)/Math.sqrt(r+1e-7)))}async _call(e){(0,r.validate_audio_inputs)(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let t=e;this.config.do_normalize&&(t=this._zero_mean_unit_var_norm(t));const n=[1,t.length];return{input_values:new i.Tensor("float32",t,n),attention_mask:new i.Tensor("int64",new BigInt64Array(t.length).fill(1n),n)}}}},"./src/models/wav2vec2/processing_wav2vec2.js":(e,t,n)=>{n.r(t),n.d(t,{Wav2Vec2Processor:()=>o});var r=n("./src/tokenizers.js"),i=n("./src/models/auto/feature_extraction_auto.js"),a=n("./src/base/processing_utils.js");class o extends a.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",r.AutoTokenizer),l(o,"feature_extractor_class",i.AutoFeatureExtractor)},"./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js":(e,t,n)=>{n.r(t),n.d(t,{Wav2Vec2ProcessorWithLM:()=>o});var r=n("./src/tokenizers.js"),i=n("./src/models/auto/feature_extraction_auto.js"),a=n("./src/base/processing_utils.js");class o extends a.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",r.AutoTokenizer),l(o,"feature_extractor_class",i.AutoFeatureExtractor)},"./src/models/wespeaker/feature_extraction_wespeaker.js":(e,t,n)=>{n.r(t),n.d(t,{WeSpeakerFeatureExtractor:()=>a});var r=n("./src/base/feature_extraction_utils.js"),i=(n("./src/utils/tensor.js"),n("./src/utils/audio.js"));class a extends r.FeatureExtractor{constructor(e){super(e);const t=this.config.sampling_rate,n=(0,i.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);this.mel_filters=n,this.window=(0,i.window_function)(400,"hamming",{periodic:!1}),this.min_num_frames=this.config.min_num_frames}async _extract_fbank_features(e){return e=e.map((e=>32768*e)),(0,i.spectrogram)(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,transpose:!0,min_num_frames:this.min_num_frames})}async _call(e){(0,r.validate_audio_inputs)(e,"WeSpeakerFeatureExtractor");const t=(await this._extract_fbank_features(e)).unsqueeze_(0);if(null===this.config.fbank_centering_span){const e=t.mean(1).data,n=t.data,[r,i,a]=t.dims;for(let t=0;t<r;++t){const r=t*i*a,o=t*a;for(let t=0;t<i;++t){const i=r+t*a;for(let t=0;t<a;++t)n[i+t]-=e[o+t]}}}return{input_features:t}}}},"./src/models/whisper/common_whisper.js":(e,t,n)=>{n.r(t),n.d(t,{WHISPER_LANGUAGE_MAPPING:()=>i,WHISPER_TO_LANGUAGE_CODE_MAPPING:()=>a,whisper_language_to_code:()=>o});const r=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],i=new Map(r),a=new Map([...r.map((e=>{let[t,n]=e;return[n,t]})),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);function o(e){e=e.toLowerCase();let t=a.get(e);if(void 0===t){const n=e.match(/^<\|([a-z]{2})\|>$/);if(n&&(e=n[1]),!i.has(e)){const t=2===e.length?i.keys():i.values();throw new Error('Language "'.concat(e,'" is not supported. Must be one of: ').concat(JSON.stringify(Array.from(t))))}t=e}return t}},"./src/models/whisper/feature_extraction_whisper.js":(e,t,n)=>{n.r(t),n.d(t,{WhisperFeatureExtractor:()=>o});var r=n("./src/base/feature_extraction_utils.js"),i=(n("./src/utils/tensor.js"),n("./src/utils/audio.js")),a=n("./src/utils/maths.js");class o extends r.FeatureExtractor{constructor(e){var t,n;super(e),null!==(n=(t=this.config).mel_filters)&&void 0!==n||(t.mel_filters=(0,i.mel_filter_bank)(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney")),this.window=(0,i.window_function)(this.config.n_fft,"hann")}async _extract_fbank_features(e){const t=await(0,i.spectrogram)(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:Math.min(Math.floor(e.length/this.config.hop_length),this.config.nb_max_frames)}),n=t.data,r=(0,a.max)(n)[0];for(let i=0;i<n.length;++i)n[i]=(Math.max(n[i],r-8)+4)/4;return t}async _call(e){let t,{max_length:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.validate_audio_inputs)(e,"WhisperFeatureExtractor");const i=null!==n&&void 0!==n?n:this.config.n_samples;e.length>i?(e.length>this.config.n_samples&&console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),t=e.slice(0,i)):(t=new Float32Array(i),t.set(e));return{input_features:(await this._extract_fbank_features(t)).unsqueeze_(0)}}}},"./src/models/whisper/generation_whisper.js":(e,t,n)=>{n.r(t),n.d(t,{WhisperGenerationConfig:()=>i});var r=n("./src/generation/configuration_utils.js");class i extends r.GenerationConfig{constructor(){super(...arguments),l(this,"return_timestamps",null),l(this,"return_token_timestamps",null),l(this,"num_frames",null),l(this,"alignment_heads",null),l(this,"task",null),l(this,"language",null),l(this,"no_timestamps_token_id",null),l(this,"prompt_ids",null),l(this,"is_multilingual",null),l(this,"lang_to_id",null),l(this,"task_to_id",null),l(this,"max_initial_timestamp_index",1)}}},"./src/models/whisper/processing_whisper.js":(e,t,n)=>{n.r(t),n.d(t,{WhisperProcessor:()=>o});var r=n("./src/models/auto/feature_extraction_auto.js"),i=n("./src/tokenizers.js"),a=n("./src/base/processing_utils.js");class o extends a.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",i.AutoTokenizer),l(o,"feature_extractor_class",r.AutoFeatureExtractor)},"./src/models/yolos/image_processing_yolos.js":(e,t,n)=>{n.r(t),n.d(t,{YolosFeatureExtractor:()=>a,YolosImageProcessor:()=>i});var r=n("./src/base/image_processors_utils.js");class i extends r.ImageProcessor{post_process_object_detection(){return(0,r.post_process_object_detection)(...arguments)}}class a extends i{}},"./src/ops/registry.js":(e,t,n)=>{n.r(t),n.d(t,{TensorOpRegistry:()=>c});var r=n("./src/backends/onnx.js"),i=n("./src/utils/tensor.js"),a=n("./src/env.js");const o=a.apis.IS_BROWSER_ENV||a.apis.IS_WEBWORKER_ENV,s=async(e,t,n)=>{const a=await(0,r.createInferenceSession)(new Uint8Array(e),t);let s=Promise.resolve();return async e=>{const t=(0,r.isONNXProxy)(),l=Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[n,(t?r.clone():r).ort_tensor]}))),c=await(s=o?s.then((()=>a.run(l))):a.run(l));return Array.isArray(n)?n.map((e=>new i.Tensor(c[e]))):new i.Tensor(c[n])}};class c{static get nearest_interpolate_4d(){return this._nearest_interpolate_4d||(this._nearest_interpolate_4d=s([8,10,18,0,58,129,1,10,41,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,18,10,4,109,111,100,101,34,7,110,101,97,114,101,115,116,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,21],this.session_options,"y")),this._nearest_interpolate_4d}static get bilinear_interpolate_4d(){return this._bilinear_interpolate_4d||(this._bilinear_interpolate_4d=s([8,9,18,0,58,128,1,10,40,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,17,10,4,109,111,100,101,34,6,108,105,110,101,97,114,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,20],this.session_options,"y")),this._bilinear_interpolate_4d}static get bicubic_interpolate_4d(){return this._bicubic_interpolate_4d||(this._bicubic_interpolate_4d=s([8,9,18,0,58,127,10,39,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,16,10,4,109,111,100,101,34,5,99,117,98,105,99,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,20],this.session_options,"y")),this._bicubic_interpolate_4d}static get matmul(){return this._matmul||(this._matmul=s([8,9,18,0,58,55,10,17,10,1,97,10,1,98,18,1,99,34,6,77,97,116,77,117,108,18,1,114,90,9,10,1,97,18,4,10,2,8,1,90,9,10,1,98,18,4,10,2,8,1,98,9,10,1,99,18,4,10,2,8,1,66,2,16,20],this.session_options,"c")),this._matmul}static get stft(){return this._stft||(this._stft=s([8,7,18,0,58,148,1,10,38,10,1,115,10,1,106,10,1,119,10,1,108,18,1,111,34,4,83,84,70,84,42,15,10,8,111,110,101,115,105,100,101,100,24,1,160,1,2,18,1,115,90,26,10,1,115,18,21,10,19,8,1,18,15,10,3,18,1,98,10,3,18,1,115,10,3,18,1,99,90,11,10,1,106,18,6,10,4,8,7,18,0,90,16,10,1,119,18,11,10,9,8,1,18,5,10,3,18,1,119,90,11,10,1,108,18,6,10,4,8,7,18,0,98,31,10,1,111,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,102,10,3,18,1,100,10,3,18,1,99,66,2,16,17],this.session_options,"o")),this._stft}static get rfft(){return this._rfft||(this._rfft=s([8,9,18,0,58,97,10,33,10,1,120,10,0,10,1,97,18,1,121,34,3,68,70,84,42,15,10,8,111,110,101,115,105,100,101,100,24,1,160,1,2,18,1,100,90,21,10,1,120,18,16,10,14,8,1,18,10,10,3,18,1,115,10,3,18,1,99,90,11,10,1,97,18,6,10,4,8,7,18,0,98,21,10,1,121,18,16,10,14,8,1,18,10,10,3,18,1,115,10,3,18,1,99,66,2,16,20],this.session_options,"y")),this._rfft}static get top_k(){return this._top_k||(this._top_k=s([8,10,18,0,58,73,10,18,10,1,120,10,1,107,18,1,118,18,1,105,34,4,84,111,112,75,18,1,116,90,9,10,1,120,18,4,10,2,8,1,90,15,10,1,107,18,10,10,8,8,7,18,4,10,2,8,1,98,9,10,1,118,18,4,10,2,8,1,98,9,10,1,105,18,4,10,2,8,7,66,2,16,21],this.session_options,["v","i"])),this._top_k}static get slice(){return this._slice||(this._slice=s([8,7,18,0,58,96,10,25,10,1,120,10,1,115,10,1,101,10,1,97,10,1,116,18,1,121,34,5,83,108,105,99,101,18,1,114,90,9,10,1,120,18,4,10,2,8,1,90,9,10,1,115,18,4,10,2,8,7,90,9,10,1,101,18,4,10,2,8,7,90,9,10,1,97,18,4,10,2,8,7,90,9,10,1,116,18,4,10,2,8,7,98,9,10,1,121,18,4,10,2,8,1,66,2,16,13],this.session_options,"y")),this._slice}}l(c,"session_options",{})},"./src/pipelines.js":(e,t,n)=>{n.r(t),n.d(t,{AudioClassificationPipeline:()=>F,AutomaticSpeechRecognitionPipeline:()=>I,BackgroundRemovalPipeline:()=>O,DepthEstimationPipeline:()=>q,DocumentQuestionAnsweringPipeline:()=>j,FeatureExtractionPipeline:()=>C,FillMaskPipeline:()=>_,ImageClassificationPipeline:()=>z,ImageFeatureExtractionPipeline:()=>E,ImageSegmentationPipeline:()=>N,ImageToImagePipeline:()=>W,ImageToTextPipeline:()=>P,ObjectDetectionPipeline:()=>L,Pipeline:()=>y,QuestionAnsweringPipeline:()=>v,SummarizationPipeline:()=>k,Text2TextGenerationPipeline:()=>x,TextClassificationPipeline:()=>b,TextGenerationPipeline:()=>A,TextToAudioPipeline:()=>V,TokenClassificationPipeline:()=>w,TranslationPipeline:()=>D,ZeroShotAudioClassificationPipeline:()=>M,ZeroShotClassificationPipeline:()=>S,ZeroShotImageClassificationPipeline:()=>B,ZeroShotObjectDetectionPipeline:()=>R,pipeline:()=>G});var r=n("./src/tokenizers.js"),i=n("./src/models.js"),a=n("./src/models/auto/processing_auto.js"),o=(n("./src/base/processing_utils.js"),n("./src/utils/generic.js")),s=n("./src/utils/core.js"),c=n("./src/utils/maths.js"),d=n("./src/utils/audio.js"),h=n("./src/utils/tensor.js"),p=n("./src/utils/image.js");async function f(e){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>p.RawImage.read(e))))}async function m(e,t){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>"string"===typeof e||e instanceof URL?(0,d.read_audio)(e,t):e instanceof Float64Array?new Float32Array(e):e)))}function g(e,t){t&&(e=e.map((e=>0|e)));const[n,r,i,a]=e;return{xmin:n,ymin:r,xmax:i,ymax:a}}class y extends o.Callable{constructor(e){let{task:t,model:n,tokenizer:r=null,processor:i=null}=e;super(),this.task=t,this.model=n,this.tokenizer=r,this.processor=i}async dispose(){await this.model.dispose()}}class b extends y{constructor(e){super(e)}async _call(e){let{top_k:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),i="multi_label_classification"===this.model.config.problem_type?e=>e.sigmoid():e=>new h.Tensor("float32",(0,c.softmax)(e.data),e.dims),a=this.model.config.id2label,o=[];for(const s of r.logits){const e=i(s),n=await(0,h.topk)(e,t),r=n[0].tolist(),l=n[1].tolist().map(((e,t)=>({label:a?a[e]:"LABEL_".concat(e),score:r[t]})));1===t?o.push(...l):o.push(l)}return Array.isArray(e)||1===t?o:o[0]}}class w extends y{constructor(e){super(e)}async _call(e){let{ignore_labels:t=["O"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),r=this.tokenizer(n?e:[e],{padding:!0,truncation:!0}),i=(await this.model(r)).logits,a=this.model.config.id2label,o=[];for(let s=0;s<i.dims[0];++s){const e=r.input_ids[s],n=i[s],l=[];for(let r=0;r<n.dims[0];++r){const i=n[r],o=(0,c.max)(i.data)[1],s=a?a[o]:"LABEL_".concat(o);if(t.includes(s))continue;const u=this.tokenizer.decode([e[r].item()],{skip_special_tokens:!0});if(""===u)continue;const d=(0,c.softmax)(i.data);l.push({entity:s,score:d[o],index:r,word:u})}o.push(l)}return n?o:o[0]}}class v extends y{constructor(e){super(e)}async _call(e,t){let{top_k:n=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.tokenizer(e,{text_pair:t,padding:!0,truncation:!0}),{start_logits:i,end_logits:a}=await this.model(r),o=r.input_ids.tolist(),l=r.attention_mask.tolist(),u=this.tokenizer.all_special_ids,d=[];for(let h=0;h<i.dims[0];++h){const e=o[h],t=e.findIndex((e=>e==this.tokenizer.sep_token_id)),r=(l[h].map(((n,r)=>1==n&&(0===r||r>t&&-1===u.findIndex((t=>t==e[r]))))),i[h].tolist()),p=a[h].tolist();for(let n=1;n<r.length;++n)(0==l[h]||n<=t||-1!==u.findIndex((t=>t==e[n])))&&(r[n]=-1/0,p[n]=-1/0);const f=(0,c.softmax)(r).map(((e,t)=>[e,t])),m=(0,c.softmax)(p).map(((e,t)=>[e,t]));f[0][0]=0,m[0][0]=0;const g=(0,s.product)(f,m).filter((e=>e[0][1]<=e[1][1])).map((e=>[e[0][1],e[1][1],e[0][0]*e[1][0]])).sort(((e,t)=>t[2]-e[2]));for(let i=0;i<Math.min(g.length,n);++i){const[t,n,r]=g[i],a=e.slice(t,n+1),o=this.tokenizer.decode(a,{skip_special_tokens:!0});d.push({answer:o,score:r})}}return 1===n?d[0]:d}}class _ extends y{constructor(e){super(e)}async _call(e){let{top_k:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),{logits:r}=await this.model(n),i=[],a=n.input_ids.tolist();for(let o=0;o<a.length;++o){const e=a[o],n=e.findIndex((e=>e==this.tokenizer.mask_token_id));if(-1===n)throw Error("Mask token (".concat(this.tokenizer.mask_token,") not found in text."));const s=r[o][n],l=await(0,h.topk)(new h.Tensor("float32",(0,c.softmax)(s.data),s.dims),t),u=l[0].tolist(),d=l[1].tolist();i.push(d.map(((t,r)=>{const i=e.slice();return i[n]=t,{score:u[r],token:Number(t),token_str:this.tokenizer.decode([t]),sequence:this.tokenizer.decode(i,{skip_special_tokens:!0})}})))}return Array.isArray(e)?i:i[0]}}class x extends y{constructor(e){super(e),l(this,"_key","generated_text")}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]),this.model.config.prefix&&(e=e.map((e=>this.model.config.prefix+e)));const n=this.model.config.task_specific_params;n&&n[this.task]&&n[this.task].prefix&&(e=e.map((e=>n[this.task].prefix+e)));const r=this.tokenizer,i={padding:!0,truncation:!0};let a;a=this instanceof D&&"_build_translation_inputs"in r?r._build_translation_inputs(e,i,t):r(e,i);const o=await this.model.generate(u(u({},a),t));return r.batch_decode(o,{skip_special_tokens:!0}).map((e=>({[this._key]:e})))}}class k extends x{constructor(e){super(e),l(this,"_key","summary_text")}}class D extends x{constructor(e){super(e),l(this,"_key","translation_text")}}function T(e){return Array.isArray(e)&&e.every((e=>"role"in e&&"content"in e))}class A extends y{constructor(e){super(e)}async _call(e){var t,n;let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!1,o=!1;if("string"===typeof e)r=e=[e];else if(Array.isArray(e)&&e.every((e=>"string"===typeof e)))a=!0,r=e;else{if(T(e))e=[e];else{if(!Array.isArray(e)||!e.every(T))throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");a=!0}o=!0,r=e.map((e=>this.tokenizer.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0})))}const s=null!==(t=i.add_special_tokens)&&void 0!==t&&t,l=!o&&(null===(n=i.return_full_text)||void 0===n||n);this.tokenizer.padding_side="left";const c=this.tokenizer(r,{add_special_tokens:s,padding:!0,truncation:!0}),d=await this.model.generate(u(u({},c),i)),h=this.tokenizer.batch_decode(d,{skip_special_tokens:!0});let p;!l&&c.input_ids.dims.at(-1)>0&&(p=this.tokenizer.batch_decode(c.input_ids,{skip_special_tokens:!0}).map((e=>e.length)));const f=Array.from({length:e.length},(e=>[]));for(let u=0;u<h.length;++u){const t=Math.floor(u/d.dims[0]*e.length);p&&(h[u]=h[u].slice(p[t])),f[t].push({generated_text:o?[...e[t],{role:"assistant",content:h[u]}]:h[u]})}return a||1!==f.length?f:f[0]}}class S extends y{constructor(e){var t;super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map((e=>{let[t,n]=e;return[t.toLowerCase(),n]}))),this.entailment_id=this.label2id.entailment,void 0===this.entailment_id&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=null!==(t=this.label2id.contradiction)&&void 0!==t?t:this.label2id.not_entailment,void 0===this.contradiction_id&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,t){let{hypothesis_template:n="This example is {}.",multi_label:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Array.isArray(e);i||(e=[e]),Array.isArray(t)||(t=[t]);const a=t.map((e=>n.replace("{}",e))),o=r||1===t.length,s=[];for(const l of e){const e=[];for(const t of a){const n=this.tokenizer(l,{text_pair:t,padding:!0,truncation:!0}),r=await this.model(n);o?e.push([r.logits.data[this.contradiction_id],r.logits.data[this.entailment_id]]):e.push(r.logits.data[this.entailment_id])}const n=o?e.map((e=>(0,c.softmax)(e)[1])):(0,c.softmax)(e),r=n.map(((e,t)=>[e,t])).sort(((e,t)=>t[0]-e[0]));s.push({sequence:l,labels:r.map((e=>t[e[1]])),scores:r.map((e=>e[0]))})}return i?s:s[0]}}class C extends y{constructor(e){super(e)}async _call(e){var t,n;let{pooling:r="none",normalize:i=!1,quantize:a=!1,precision:o="binary"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=this.tokenizer(e,{padding:!0,truncation:!0}),l=await this.model(s);let c=null!==(t=null!==(n=l.last_hidden_state)&&void 0!==n?n:l.logits)&&void 0!==t?t:l.token_embeddings;if("none"===r);else if("mean"===r)c=(0,h.mean_pooling)(c,s.attention_mask);else{if("cls"!==r)throw Error("Pooling method '".concat(r,"' not supported."));c=c.slice(null,0)}return i&&(c=c.normalize(2,-1)),a&&(c=(0,h.quantize_embeddings)(c,o)),c}}class E extends y{constructor(e){super(e)}async _call(e){let{pool:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await f(e),{pixel_values:r}=await this.processor(n),i=await this.model({pixel_values:r});let a;if(t){if(!("pooler_output"in i))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");a=i.pooler_output}else{var o,s;a=null!==(o=null!==(s=i.last_hidden_state)&&void 0!==s?s:i.logits)&&void 0!==o?o:i.image_embeds}return a}}class F extends y{constructor(e){super(e)}async _call(e){let{top_k:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.processor.feature_extractor.config.sampling_rate,r=await m(e,n),i=this.model.config.id2label,a=[];for(const o of r){const e=await this.processor(o),n=(await this.model(e)).logits[0],r=await(0,h.topk)(new h.Tensor("float32",(0,c.softmax)(n.data),n.dims),t),s=r[0].tolist(),l=r[1].tolist().map(((e,t)=>({label:i?i[e]:"LABEL_".concat(e),score:s[t]})));a.push(l)}return Array.isArray(e)?a:a[0]}}class M extends y{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a sound of {}."}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=!Array.isArray(e);r&&(e=[e]);const i=t.map((e=>n.replace("{}",e))),a=this.tokenizer(i,{padding:!0,truncation:!0}),o=this.processor.feature_extractor.config.sampling_rate,s=await m(e,o),l=[];for(const d of s){const e=await this.processor(d),n=await this.model(u(u({},a),e)),r=(0,c.softmax)(n.logits_per_audio.data);l.push([...r].map(((e,n)=>({score:e,label:t[n]}))))}return r?l[0]:l}}class I extends y{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(this.model.config.model_type){case"whisper":case"lite-whisper":return this._call_whisper(e,t);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,t);case"moonshine":return this._call_moonshine(e,t);default:throw new Error("AutomaticSpeechRecognitionPipeline does not support model type '".concat(this.model.config.model_type,"'."))}}async _call_wav2vec2(e,t){t.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),t.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const n=!Array.isArray(e);n&&(e=[e]);const r=this.processor.feature_extractor.config.sampling_rate,i=await m(e,r),a=[];for(const o of i){const e=await this.processor(o),t=(await this.model(e)).logits[0],n=[];for(const i of t)n.push((0,c.max)(i.data)[1]);const r=this.tokenizer.decode(n);a.push({text:r})}return n?a[0]:a}async _call_whisper(e,t){var n,r,i,a;const o=null!==(n=t.return_timestamps)&&void 0!==n&&n,s=null!==(r=t.chunk_length_s)&&void 0!==r?r:0,l=null!==(i=t.force_full_sequences)&&void 0!==i&&i;let d=null!==(a=t.stride_length_s)&&void 0!==a?a:null;const h=u({},t);"word"===o&&(h.return_token_timestamps=!0,h.return_timestamps=!1);const p=!Array.isArray(e);p&&(e=[e]);const f=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,g=this.processor.feature_extractor.config.hop_length,y=this.processor.feature_extractor.config.sampling_rate,b=await m(e,y),w=[];for(const m of b){let e=[];if(s>0){if(null===d)d=s/6;else if(s<=d)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const t=y*s,n=y*d,r=t-2*n;let i=0;for(;;){const a=i+t,o=m.subarray(i,a),s=await this.processor(o),l=0===i,c=a>=m.length;if(e.push({stride:[o.length,l?0:n,c?0:n],input_features:s.input_features,is_last:c}),c)break;i+=r}}else e=[{stride:[m.length,0,0],input_features:(await this.processor(m)).input_features,is_last:!0}];for(const r of e){h.num_frames=Math.floor(r.stride[0]/g);const e=await this.model.generate(u({inputs:r.input_features},h));"word"===o?(r.tokens=e.sequences.tolist()[0],r.token_timestamps=e.token_timestamps.tolist()[0].map((e=>(0,c.round)(e,2)))):r.tokens=e[0].tolist(),r.stride=r.stride.map((e=>e/y))}const[t,n]=this.tokenizer._decode_asr(e,{time_precision:f,return_timestamps:o,force_full_sequences:l});w.push(u({text:t},n))}return p?w[0]:w}async _call_moonshine(e,t){const n=!Array.isArray(e);n&&(e=[e]);const r=this.processor.feature_extractor.config.sampling_rate,i=await m(e,r),a=[];for(const o of i){const e=await this.processor(o),n=6*Math.floor(o.length/r),i=await this.model.generate(u(u({max_new_tokens:n},t),e)),s=this.processor.batch_decode(i,{skip_special_tokens:!0})[0];a.push({text:s})}return n?a[0]:a}}class P extends y{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),r=await f(e),{pixel_values:i}=await this.processor(r),a=[];for(const o of i){o.dims=[1,...o.dims];const e=await this.model.generate(u({inputs:o},t)),n=this.tokenizer.batch_decode(e,{skip_special_tokens:!0}).map((e=>({generated_text:e.trim()})));a.push(n)}return n?a:a[0]}}class z extends y{constructor(e){super(e)}async _call(e){let{top_k:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await f(e),{pixel_values:r}=await this.processor(n),i=await this.model({pixel_values:r}),a=this.model.config.id2label,o=[];for(const s of i.logits){const e=await(0,h.topk)(new h.Tensor("float32",(0,c.softmax)(s.data),s.dims),t),n=e[0].tolist(),r=e[1].tolist().map(((e,t)=>({label:a?a[e]:"LABEL_".concat(e),score:n[t]})));o.push(r)}return Array.isArray(e)?o:o[0]}}class N extends y{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e){let{threshold:t=.5,mask_threshold:n=.5,overlap_mask_area_threshold:r=.8,label_ids_to_fuse:i=null,target_sizes:a=null,subtask:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)&&1!==e.length)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const s=await f(e),l=s.map((e=>[e.height,e.width])),c=await this.processor(s),{inputNames:u,outputNames:d}=this.model.sessions.model;if(!u.includes("pixel_values")){if(1!==u.length)throw Error("Expected a single input name, but got ".concat(u.length," inputs: ").concat(u,"."));const e=u[0];if(e in c)throw Error("Input name ".concat(e," already exists in the inputs."));c[e]=c.pixel_values}const h=await this.model(c);let m=null;if(null!==o)m=this.subtasks_mapping[o];else if(this.processor.image_processor)for(const[p,f]of Object.entries(this.subtasks_mapping))if(f in this.processor.image_processor){m=this.processor.image_processor[f].bind(this.processor.image_processor),o=p;break}const g=this.model.config.id2label,y=[];if(o)if("panoptic"===o||"instance"===o){const e=m(h,t,n,r,i,null!==a&&void 0!==a?a:l)[0],o=e.segmentation;for(const t of e.segments_info){const e=new Uint8ClampedArray(o.data.length);for(let r=0;r<o.data.length;++r)o.data[r]===t.id&&(e[r]=255);const n=new p.RawImage(e,o.dims[1],o.dims[0],1);y.push({score:t.score,label:g[t.label_id],mask:n})}}else{if("semantic"!==o)throw Error("Subtask ".concat(o," not supported."));{const{segmentation:e,labels:t}=m(h,null!==a&&void 0!==a?a:l)[0];for(const n of t){const t=new Uint8ClampedArray(e.data.length);for(let i=0;i<e.data.length;++i)e.data[i]===n&&(t[i]=255);const r=new p.RawImage(t,e.dims[1],e.dims[0],1);y.push({score:null,label:g[n],mask:r})}}}else{const e=1e-5,t=h[d[0]];for(let n=0;n<l.length;++n){const r=l[n],i=t[n];i.data.some((t=>t<-e||t>1+e))&&i.sigmoid_();const a=await p.RawImage.fromTensor(i.mul_(255).to("uint8")).resize(r[1],r[0]);y.push({label:null,score:null,mask:a})}}return y}}class O extends N{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)&&1!==e.length)throw Error("Background removal pipeline currently only supports a batch size of 1.");const n=await f(e),r=await super._call(e,t);return n.map(((e,t)=>{const n=e.clone();return n.putAlpha(r[t].mask),n}))}}class B extends y{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a photo of {}"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Array.isArray(e),i=await f(e),a=t.map((e=>n.replace("{}",e))),o=this.tokenizer(a,{padding:"siglip"!==this.model.config.model_type||"max_length",truncation:!0}),{pixel_values:s}=await this.processor(i),l=await this.model(u(u({},o),{},{pixel_values:s})),d="siglip"===this.model.config.model_type?e=>e.sigmoid().data:e=>(0,c.softmax)(e.data),h=[];for(const c of l.logits_per_image){const e=[...d(c)].map(((e,n)=>({score:e,label:t[n]})));e.sort(((e,t)=>t.score-e.score)),h.push(e)}return r?h:h[0]}}class L extends y{constructor(e){super(e)}async _call(e){let{threshold:t=.9,percentage:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(r&&1!==e.length)throw Error("Object detection pipeline currently only supports a batch size of 1.");const i=await f(e),a=n?null:i.map((e=>[e.height,e.width])),{pixel_values:o,pixel_mask:s}=await this.processor(i),l=await this.model({pixel_values:o,pixel_mask:s}),c=this.processor.image_processor.post_process_object_detection(l,t,a),u=this.model.config.id2label,d=c.map((e=>e.boxes.map(((t,r)=>({score:e.scores[r],label:u[e.classes[r]],box:g(t,!n)})))));return r?d:d[0]}}class R extends y{constructor(e){super(e)}async _call(e,t){let{threshold:n=.1,top_k:r=null,percentage:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Array.isArray(e),o=await f(e),s=this.tokenizer(t,{padding:!0,truncation:!0}),l=await this.processor(o),c=[];for(let d=0;d<o.length;++d){const e=o[d],a=i?null:[[e.height,e.width]],h=l.pixel_values[d].unsqueeze_(0),p=await this.model(u(u({},s),{},{pixel_values:h}));let f;if("post_process_grounded_object_detection"in this.processor){const e=this.processor.post_process_grounded_object_detection(p,s.input_ids,{box_threshold:n,text_threshold:n,target_sizes:a})[0];f=e.boxes.map(((t,n)=>({score:e.scores[n],label:e.labels[n],box:g(t,!i)})))}else{const e=this.processor.image_processor.post_process_object_detection(p,n,a,!0)[0];f=e.boxes.map(((n,r)=>({score:e.scores[r],label:t[e.classes[r]],box:g(n,!i)})))}f.sort(((e,t)=>t.score-e.score)),null!==r&&(f=f.slice(0,r)),c.push(f)}return a?c:c[0]}}class j extends y{constructor(e){super(e)}async _call(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(await f(e))[0],{pixel_values:i}=await this.processor(r),a="<s_docvqa><s_question>".concat(t,"</s_question><s_answer>"),o=this.tokenizer(a,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,s=await this.model.generate(u({inputs:i,max_length:this.model.config.decoder.max_position_embeddings,decoder_input_ids:o},n)),l=this.tokenizer.batch_decode(s)[0].match(/<s_answer>(.*?)<\/s_answer>/);let c=null;return l&&l.length>=2&&(c=l[1].trim()),[{answer:c}]}}class V extends y{constructor(e){var t;super(e),l(this,"DEFAULT_VOCODER_ID","Xenova/speecht5_hifigan"),this.vocoder=null!==(t=e.vocoder)&&void 0!==t?t:null}async _call(e){let{speaker_embeddings:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processor?this._call_text_to_spectrogram(e,{speaker_embeddings:t}):this._call_text_to_waveform(e)}async _call_text_to_waveform(e){const t=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:n}=await this.model(t),r=this.model.config.sampling_rate;return new d.RawAudio(n.data,r)}async _call_text_to_spectrogram(e,t){let{speaker_embeddings:n}=t;if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await i.AutoModel.from_pretrained(this.DEFAULT_VOCODER_ID,{dtype:"fp32"})),("string"===typeof n||n instanceof URL)&&(n=new Float32Array(await(await fetch(n)).arrayBuffer())),n instanceof Float32Array)n=new h.Tensor("float32",n,[1,n.length]);else if(!(n instanceof h.Tensor))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:r}=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:a}=await this.model.generate_speech(r,n,{vocoder:this.vocoder}),o=this.processor.feature_extractor.config.sampling_rate;return new d.RawAudio(a.data,o)}}class W extends y{constructor(e){super(e)}async _call(e){const t=await f(e),n=await this.processor(t),r=await this.model(n),i=[];for(const a of r.reconstruction){const e=a.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");i.push(p.RawImage.fromTensor(e))}return i.length>1?i:i[0]}}class q extends y{constructor(e){super(e)}async _call(e){const t=await f(e),n=await this.processor(t),{predicted_depth:r}=await this.model(n),i=[];for(let a=0;a<t.length;++a){const e=r[a],[n,o]=e.dims.slice(-2),[s,l]=t[a].size,c=(await(0,h.interpolate_4d)(e.view(1,1,n,o),{size:[l,s],mode:"bilinear"})).view(l,s),u=c.min().item(),d=c.max().item(),f=c.sub(u).div_(d-u).mul_(255).to("uint8").unsqueeze(0),m=p.RawImage.fromTensor(f);i.push({predicted_depth:c,depth:m})}return i.length>1?i:i[0]}}const U=Object.freeze({"text-classification":{tokenizer:r.AutoTokenizer,pipeline:b,model:i.AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:r.AutoTokenizer,pipeline:w,model:i.AutoModelForTokenClassification,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:r.AutoTokenizer,pipeline:v,model:i.AutoModelForQuestionAnswering,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:r.AutoTokenizer,pipeline:_,model:i.AutoModelForMaskedLM,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:r.AutoTokenizer,pipeline:k,model:i.AutoModelForSeq2SeqLM,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:r.AutoTokenizer,pipeline:D,model:i.AutoModelForSeq2SeqLM,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:r.AutoTokenizer,pipeline:x,model:i.AutoModelForSeq2SeqLM,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:r.AutoTokenizer,pipeline:A,model:i.AutoModelForCausalLM,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:r.AutoTokenizer,pipeline:S,model:i.AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:F,model:i.AutoModelForAudioClassification,processor:a.AutoProcessor,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:r.AutoTokenizer,pipeline:M,model:i.AutoModel,processor:a.AutoProcessor,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:r.AutoTokenizer,pipeline:I,model:[i.AutoModelForSpeechSeq2Seq,i.AutoModelForCTC],processor:a.AutoProcessor,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:r.AutoTokenizer,pipeline:V,model:[i.AutoModelForTextToWaveform,i.AutoModelForTextToSpectrogram],processor:[a.AutoProcessor,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:r.AutoTokenizer,pipeline:P,model:i.AutoModelForVision2Seq,processor:a.AutoProcessor,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:z,model:i.AutoModelForImageClassification,processor:a.AutoProcessor,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:N,model:[i.AutoModelForImageSegmentation,i.AutoModelForSemanticSegmentation,i.AutoModelForUniversalSegmentation],processor:a.AutoProcessor,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"background-removal":{pipeline:O,model:[i.AutoModelForImageSegmentation,i.AutoModelForSemanticSegmentation,i.AutoModelForUniversalSegmentation],processor:a.AutoProcessor,default:{model:"Xenova/modnet"},type:"image"},"zero-shot-image-classification":{tokenizer:r.AutoTokenizer,pipeline:B,model:i.AutoModel,processor:a.AutoProcessor,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:L,model:i.AutoModelForObjectDetection,processor:a.AutoProcessor,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:r.AutoTokenizer,pipeline:R,model:i.AutoModelForZeroShotObjectDetection,processor:a.AutoProcessor,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:r.AutoTokenizer,pipeline:j,model:i.AutoModelForDocumentQuestionAnswering,processor:a.AutoProcessor,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:W,model:i.AutoModelForImageToImage,processor:a.AutoProcessor,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:q,model:i.AutoModelForDepthEstimation,processor:a.AutoProcessor,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:r.AutoTokenizer,pipeline:C,model:i.AutoModel,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:a.AutoProcessor,pipeline:E,model:[i.AutoModelForImageFeatureExtraction,i.AutoModel],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),H=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function G(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{progress_callback:r=null,config:i=null,cache_dir:a=null,local_files_only:o=!1,revision:l="main",device:c=null,dtype:u=null,subfolder:d="onnx",use_external_data_format:h=null,model_file_name:p=null,session_options:f={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=null!==(t=H[e])&&void 0!==t?t:e;const m=U[e.split("_",1)[0]];if(!m)throw Error("Unsupported pipeline: ".concat(e,". Must be one of [").concat(Object.keys(U),"]"));n||(n=m.default.model,console.log('No model specified. Using default model: "'.concat(n,'".')));const g={progress_callback:r,config:i,cache_dir:a,local_files_only:o,revision:l,device:c,dtype:u,subfolder:d,use_external_data_format:h,model_file_name:p,session_options:f},y=new Map([["tokenizer",m.tokenizer],["model",m.model],["processor",m.processor]]),b=await async function(e,t,n){const r=Object.create(null),i=[];for(const[a,o]of e.entries()){if(!o)continue;let e;e=Array.isArray(o)?new Promise((async(e,r)=>{let i;for(const c of o){if(null===c)return void e(null);try{return void e(await c.from_pretrained(t,n))}catch(l){var a,s;if(null!==(a=l.message)&&void 0!==a&&a.includes("Unsupported model type"))i=l;else{if(null===(s=l.message)||void 0===s||!s.includes("Could not locate file"))return void r(l);i=l}}}r(i)})):o.from_pretrained(t,n),r[a]=e,i.push(e)}await Promise.all(i);for(const[a,o]of Object.entries(r))r[a]=await o;return r}(y,n,g);b.task=e,(0,s.dispatchCallback)(r,{status:"ready",task:e,model:n});return new(0,m.pipeline)(b)}},"./src/tokenizers.js":(e,t,n)=>{n.r(t),n.d(t,{AlbertTokenizer:()=>Se,AutoTokenizer:()=>wt,BartTokenizer:()=>Ve,BertTokenizer:()=>Ae,BlenderbotSmallTokenizer:()=>pt,BlenderbotTokenizer:()=>ht,BloomTokenizer:()=>He,CLIPTokenizer:()=>lt,CamembertTokenizer:()=>Oe,CodeGenTokenizer:()=>st,CodeLlamaTokenizer:()=>Ye,CohereTokenizer:()=>yt,ConvBertTokenizer:()=>Pe,DebertaTokenizer:()=>Fe,DebertaV2Tokenizer:()=>Me,DistilBertTokenizer:()=>Ne,ElectraTokenizer:()=>Le,EsmTokenizer:()=>Qe,FalconTokenizer:()=>Xe,GPT2Tokenizer:()=>je,GPTNeoXTokenizer:()=>$e,GemmaTokenizer:()=>tt,Grok1Tokenizer:()=>nt,HerbertTokenizer:()=>Ie,LlamaTokenizer:()=>Ke,M2M100Tokenizer:()=>at,MBart50Tokenizer:()=>qe,MBartTokenizer:()=>We,MPNetTokenizer:()=>Ze,MarianTokenizer:()=>ut,MgpstrTokenizer:()=>bt,MobileBertTokenizer:()=>Ce,NllbTokenizer:()=>it,NougatTokenizer:()=>mt,PreTrainedTokenizer:()=>Te,Qwen2Tokenizer:()=>et,RoFormerTokenizer:()=>ze,RobertaTokenizer:()=>Ue,SiglipTokenizer:()=>ct,SpeechT5Tokenizer:()=>ft,SqueezeBertTokenizer:()=>Ee,T5Tokenizer:()=>Re,TokenizerModel:()=>A,VitsTokenizer:()=>gt,Wav2Vec2CTCTokenizer:()=>dt,WhisperTokenizer:()=>ot,XLMRobertaTokenizer:()=>Je,XLMTokenizer:()=>Be,is_chinese_char:()=>v});var r=n("./src/utils/generic.js"),i=n("./src/utils/core.js"),o=n("./src/utils/hub.js"),s=n("./src/utils/maths.js"),c=n("./src/utils/tensor.js"),d=n("./src/utils/data-structures.js"),h=n("./node_modules/@huggingface/jinja/dist/index.js"),p=n("./src/models/whisper/common_whisper.js");async function f(e,t){const n=await Promise.all([(0,o.getModelJSON)(e,"tokenizer.json",!0,t),(0,o.getModelJSON)(e,"tokenizer_config.json",!0,t)]);return null!==t.legacy&&(n[1].legacy=t.legacy),n}function m(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==e.Regex){let t=e.Regex.replace(/\\([#&~])/g,"$1");for(const[e,n]of D)t=t.replaceAll(e,n);return new RegExp(t,"gu")}if(void 0!==e.String){const n=(0,i.escapeRegExp)(e.String);return new RegExp(t?n:"(".concat(n,")"),"gu")}return console.warn("Unknown pattern type:",e),null}function g(e){return new Map(Object.entries(e))}function y(e){const t=e.dims;switch(t.length){case 1:return e.tolist();case 2:if(1!==t[0])throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return e.tolist()[0];default:throw new Error("Expected tensor to have 1-2 dimensions, got ".concat(t.length,"."))}}function b(e){return e.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function w(e){return e.replace(/(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD69-\uDD6D\uDEAB\uDEAC\uDEFC-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDFB8-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD0\uDFD2\uDFE1\uDFE2]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42\uDF5A]|\uD80D[\uDC40\uDC47-\uDC55]|\uD818[\uDD1E-\uDD2F]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])/g,"")}function v(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}const _="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",x=new RegExp("^[".concat(_,"]+$"),"gu"),k=".,!?\u2026\u3002\uff0c\u3001\u0964\u06d4\u060c",D=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"],[" ?[^(\\s|[".concat(k,"])]+")," ?[^\\s".concat(k,"]+")]]);class T{constructor(e){var t,n,r,i,a;this.content=e.content,this.id=e.id,this.single_word=null!==(t=e.single_word)&&void 0!==t&&t,this.lstrip=null!==(n=e.lstrip)&&void 0!==n&&n,this.rstrip=null!==(r=e.rstrip)&&void 0!==r&&r,this.special=null!==(i=e.special)&&void 0!==i&&i,this.normalized=null!==(a=e.normalized)&&void 0!==a?a:null}}class A extends r.Callable{constructor(e){var t;super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=null!==(t=this.config.fuse_unk)&&void 0!==t&&t}static fromConfig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];switch(e.type){case"WordPiece":return new S(e);case"Unigram":return new C(e,...n);case"BPE":return new M(e);default:if(e.vocab)return Array.isArray(e.vocab)?new C(e,...n):Object.hasOwn(e,"continuing_subword_prefix")&&Object.hasOwn(e,"unk_token")?Object.hasOwn(e,"merges")?new M(e):new S(e):new I(e,...n);throw new Error("Unknown TokenizerModel type: ".concat(e.type))}}_call(e){return e=this.encode(e),this.fuse_unk&&(e=function(e,t,n){const r=[];let i=0;for(;i<e.length;){var a;if(r.push(e[i]),(null!==(a=t.get(e[i]))&&void 0!==a?a:n)===n)for(;++i<e.length&&(null!==(o=t.get(e[i]))&&void 0!==o?o:n)===n;){var o;t.get(r.at(-1))!==n&&(r[r.length-1]+=e[i])}else++i}return r}(e,this.tokens_to_ids,this.unk_token_id)),e}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map((e=>{var t;return null!==(t=this.tokens_to_ids.get(e))&&void 0!==t?t:this.unk_token_id}))}convert_ids_to_tokens(e){return e.map((e=>{var t;return null!==(t=this.vocab[e])&&void 0!==t?t:this.unk_token}))}}class S extends A{constructor(e){var t;super(e),this.tokens_to_ids=g(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=null!==(t=e.max_input_chars_per_word)&&void 0!==t?t:100,this.vocab=new Array(this.tokens_to_ids.size);for(const[n,r]of this.tokens_to_ids)this.vocab[r]=n}encode(e){const t=[];for(const n of e){const e=[...n];if(e.length>this.max_input_chars_per_word){t.push(this.unk_token);continue}let r=!1,i=0;const a=[];for(;i<e.length;){let t=e.length,n=null;for(;i<t;){let r=e.slice(i,t).join("");if(i>0&&(r=this.config.continuing_subword_prefix+r),this.tokens_to_ids.has(r)){n=r;break}--t}if(null===n){r=!0;break}a.push(n),i=t}r?t.push(this.unk_token):t.push(...a)}return t}}class C extends A{constructor(e,t){super(e);const n=e.vocab.length;this.vocab=new Array(n),this.scores=new Array(n);for(let r=0;r<n;++r)[this.vocab[r],this.scores[r]]=e.vocab[r];this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map(((e,t)=>[e,t]))),this.bos_token=" ",this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.unk_token=this.vocab[this.unk_token_id],this.minScore=(0,s.min)(this.scores)[0],this.unk_score=this.minScore-10,this.scores[this.unk_token_id]=this.unk_score,this.trie=new d.CharTrie,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const t=e.chars;let n=0;for(;n<t.length;){let r=!1;const a=[],o=t.slice(n).join(""),s=this.trie.commonPrefixSearch(o);for(const t of s){a.push(t);const o=this.tokens_to_ids.get(t),s=this.scores[o],l=(0,i.len)(t);e.insert(n,l,s,o),r||1!==l||(r=!0)}r||e.insert(n,1,this.unk_score,this.unk_token_id),n+=1}}tokenize(e){const t=new d.TokenLattice(e,this.bos_token_id,this.eos_token_id);return this.populateNodes(t),t.tokens()}encode(e){const t=[];for(const n of e){const e=this.tokenize(n);t.push(...e)}return t}}const E=(()=>{const e=[...Array.from({length:"~".charCodeAt(0)-"!".charCodeAt(0)+1},((e,t)=>t+"!".charCodeAt(0))),...Array.from({length:"\xac".charCodeAt(0)-"\xa1".charCodeAt(0)+1},((e,t)=>t+"\xa1".charCodeAt(0))),...Array.from({length:"\xff".charCodeAt(0)-"\xae".charCodeAt(0)+1},((e,t)=>t+"\xae".charCodeAt(0)))],t=e.slice();let n=0;for(let i=0;i<256;++i)e.includes(i)||(e.push(i),t.push(256+n),n+=1);const r=t.map((e=>String.fromCharCode(e)));return Object.fromEntries(e.map(((e,t)=>[e,r[t]])))})(),F=(0,i.reverseDictionary)(E);class M extends A{constructor(e){var t,n,r;super(e),this.tokens_to_ids=g(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[a,o]of this.tokens_to_ids)this.vocab[o]=a;const i=Array.isArray(e.merges[0]);this.merges=i?e.merges:e.merges.map((e=>e.split(" ",2))),this.bpe_ranks=new Map(this.merges.map(((e,t)=>[JSON.stringify(e),t]))),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=null!==(t=e.continuing_subword_suffix)&&void 0!==t?t:null,this.byte_fallback=null!==(n=this.config.byte_fallback)&&void 0!==n&&n,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=null!==(r=this.config.ignore_merges)&&void 0!==r&&r,this.max_length_to_cache=256,this.cache_capacity=1e4,this.cache=new d.LRUCache(this.cache_capacity)}clear_cache(){this.cache.clear()}bpe(e){if(0===e.length)return[];const t=this.cache.get(e);if(void 0!==t)return t;const n=Array.from(e);this.end_of_word_suffix&&(n[n.length-1]+=this.end_of_word_suffix);let r=[];if(n.length>1){const e=new d.PriorityQueue(((e,t)=>e.score<t.score));let t={token:n[0],bias:0,prev:null,next:null},i=t;for(let r=1;r<n.length;++r){const t={bias:r/n.length,token:n[r],prev:i,next:null};i.next=t,this._add_node(e,i),i=t}for(;!e.isEmpty();){const n=e.pop();if(n.deleted||!n.next||n.next.deleted)continue;if(n.deleted=!0,n.next.deleted=!0,n.prev){const e=u({},n.prev);n.prev.deleted=!0,n.prev=e,e.prev?e.prev.next=e:t=e}const r={token:n.token+n.next.token,bias:n.bias,prev:n.prev,next:n.next.next};r.prev?(r.prev.next=r,this._add_node(e,r.prev)):t=r,r.next&&(r.next.prev=r,this._add_node(e,r))}for(let n=t;null!==n;n=n.next)r.push(n.token)}else r=n;if(this.continuing_subword_suffix)for(let i=0;i<r.length-1;++i)r[i]+=this.continuing_subword_suffix;return e.length<this.max_length_to_cache&&this.cache.put(e,r),r}_add_node(e,t){const n=this.bpe_ranks.get(JSON.stringify([t.token,t.next.token]));void 0!==n&&(t.score=n+t.bias,e.push(t))}encode(e){const t=[];for(const n of e){if(this.ignore_merges&&this.tokens_to_ids.has(n)){t.push(n);continue}const e=this.bpe(n);for(const n of e)if(this.tokens_to_ids.has(n))t.push(n);else if(this.byte_fallback){const e=Array.from(this.text_encoder.encode(n)).map((e=>"<0x".concat(e.toString(16).toUpperCase().padStart(2,"0"),">")));e.every((e=>this.tokens_to_ids.has(e)))?t.push(...e):t.push(this.unk_token)}else t.push(this.unk_token)}return t}}class I extends A{constructor(e,t){super(e),this.tokens_to_ids=g(t.target_lang?e.vocab[t.target_lang]:e.vocab),this.bos_token=t.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=t.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=t.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[n,r]of this.tokens_to_ids)this.vocab[r]=n}encode(e){return e}}class P extends r.Callable{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"BertNormalizer":return new H(e);case"Precompiled":return new ye(e);case"Sequence":return new U(e);case"Replace":return new z(e);case"NFC":return new O(e);case"NFD":return new B(e);case"NFKC":return new L(e);case"NFKD":return new R(e);case"Strip":return new j(e);case"StripAccents":return new V(e);case"Lowercase":return new W(e);case"Prepend":return new q(e);default:throw new Error("Unknown Normalizer type: ".concat(e.type))}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class z extends P{normalize(e){const t=m(this.config.pattern);return null===t?e:e.replaceAll(t,this.config.content)}}class N extends P{constructor(){super(...arguments),l(this,"form",void 0)}normalize(e){return e=e.normalize(this.form)}}class O extends N{constructor(){super(...arguments),l(this,"form","NFC")}}class B extends N{constructor(){super(...arguments),l(this,"form","NFD")}}class L extends N{constructor(){super(...arguments),l(this,"form","NFKC")}}class R extends N{constructor(){super(...arguments),l(this,"form","NFKD")}}class j extends P{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class V extends P{normalize(e){return e=w(e)}}class W extends P{normalize(e){return e=e.toLowerCase()}}class q extends P{normalize(e){return e=this.config.prepend+e}}class U extends P{constructor(e){super(e),this.normalizers=e.normalizers.map((e=>P.fromConfig(e)))}normalize(e){return this.normalizers.reduce(((e,t)=>t.normalize(e)),e)}}class H extends P{_tokenize_chinese_chars(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n];v(r.charCodeAt(0))?(t.push(" "),t.push(r),t.push(" ")):t.push(r)}return t.join("")}stripAccents(e){return e.normalize("NFD").replace(/(?:[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD69-\uDD6D\uDEAB\uDEAC\uDEFC-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74\uDFBB-\uDFC0\uDFCE\uDFD0\uDFD2\uDFE1\uDFE2]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42\uDF5A]|\uD80D[\uDC40\uDC47-\uDC55]|\uD818[\uDD1E-\uDD29\uDD2D-\uDD2F]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])/g,"")}_is_control(e){switch(e){case"\t":case"\n":case"\r":return!1;default:return/^[\0-\x1F\x7F-\x9F]|(?:[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F])|(?:[\uE000-\uF8FF]|[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD])|(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])$/.test(e)}}_clean_text(e){const t=[];for(const n of e){const e=n.charCodeAt(0);0===e||65533===e||this._is_control(n)||(/^\s$/.test(n)?t.push(" "):t.push(n))}return t.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),!1!==this.config.strip_accents&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class G extends r.Callable{static fromConfig(e){if(null===e)return null;switch(e.type){case"BertPreTokenizer":return new K(e);case"Sequence":return new be(e);case"Whitespace":return new we(e);case"WhitespaceSplit":return new ve(e);case"Metaspace":return new me(e);case"ByteLevel":return new Y(e);case"Split":return new J(e);case"Punctuation":return new Z(e);case"Digits":return new X(e);case"Replace":return new _e(e);default:throw new Error("Unknown PreTokenizer type: ".concat(e.type))}}pre_tokenize_text(e,t){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,t){return(Array.isArray(e)?e.map((e=>this.pre_tokenize_text(e,t))):this.pre_tokenize_text(e,t)).flat()}_call(e,t){return this.pre_tokenize(e,t)}}class K extends G{constructor(e){super(),this.pattern=new RegExp("[^\\s".concat(_,"]+|[").concat(_,"]"),"gu")}pre_tokenize_text(e,t){return e.trim().match(this.pattern)||[]}}class Y extends G{constructor(e){var t;super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=null===(t=this.config.use_regex)||void 0===t||t,this.pattern=/'s|'t|'re|'ve|'m|'ll|'d| ?(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])+| ?(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDD40-\uDD49\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDED0-\uDEE3\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59\uDFF0-\uDFF9]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD818[\uDD30-\uDD39]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDD70-\uDD79\uDE80-\uDE96]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9\uDDF1-\uDDFA]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+| ?(?:[\0-\x08\x0E-\x1F!-\/:-@\[-`\{-\x9F\xA1-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C8B-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u2FFF\u3001-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u3191\u3196-\u319F\u31C0-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7CE\uA7CF\uA7D2\uA7D4\uA7DD-\uA7F1\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD\uFEFE\uFF00-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDBF\uDDF4-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE3F\uDE49-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD24-\uDD2F\uDD3A-\uDD3F\uDD66-\uDD6E\uDD86-\uDE5F\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEC1\uDEC5-\uDEFF\uDF28-\uDF2F\uDF46-\uDF50\uDF55-\uDF6F\uDF82-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDF7F\uDF8A\uDF8C\uDF8D\uDF8F\uDFB6\uDFB8-\uDFD0\uDFD2\uDFD4-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEBF\uDECA-\uDECF\uDEE4-\uDEFF\uDF1B-\uDF2F\uDF3C-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFBF\uDFE1-\uDFEF\uDFFA-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDF4F\uDF5A-\uDFAF\uDFB1-\uDFBF\uDFD5-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD812-\uD817\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD836\uD83D\uD83F\uD87C\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDC5F]|\uD810[\uDFFB-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD818[\uDC00-\uDCFF\uDD1E-\uDD2F\uDD3A-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6F\uDEBF\uDECA-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDD3F\uDD6D-\uDD6F\uDD7A-\uDE3F\uDE97-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFE\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD833[\uDC00-\uDCEF\uDCFA-\uDFFF]|\uD834[\uDC00-\uDEBF\uDED4-\uDEDF\uDEF4-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDEEF\uDEFA-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDCEF\uDCFA-\uDDCF\uDDEE\uDDEF\uDDFB-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4A\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCAC\uDCB0\uDCB5-\uDD00\uDD2E\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFEF]|\uD87B[\uDE5E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(?!(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g,this.byte_encoder=E,this.text_encoder=new TextEncoder}pre_tokenize_text(e,t){this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e);return(this.use_regex?e.match(this.pattern)||[]:[e]).map((e=>Array.from(this.text_encoder.encode(e),(e=>this.byte_encoder[e])).join("")))}}class J extends G{constructor(e){super(),this.config=e,this.pattern=m(this.config.pattern,this.config.invert)}pre_tokenize_text(e,t){var n;return null===this.pattern?[]:this.config.invert?e.match(this.pattern)||[]:"removed"===(null===(n=this.config.behavior)||void 0===n?void 0:n.toLowerCase())?e.split(this.pattern).filter((e=>e)):function(e,t){const n=[];let r=0;for(const i of e.matchAll(t)){const t=i[0];r<i.index&&n.push(e.slice(r,i.index)),t.length>0&&n.push(t),r=i.index+t.length}return r<e.length&&n.push(e.slice(r)),n}(e,this.pattern)}}class Z extends G{constructor(e){super(),this.config=e,this.pattern=new RegExp("[^".concat(_,"]+|[").concat(_,"]+"),"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class X extends G{constructor(e){super(),this.config=e;const t="[^\\d]+|\\d".concat(this.config.individual_digits?"":"+");this.pattern=new RegExp(t,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class $ extends r.Callable{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"TemplateProcessing":return new te(e);case"ByteLevel":return new ne(e);case"RobertaProcessing":return new ee(e);case"BertProcessing":return new Q(e);case"Sequence":return new re(e);default:throw new Error("Unknown PostProcessor type: ".concat(e.type))}}post_process(e){throw Error("post_process should be implemented in subclass.")}_call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.post_process(e,...n)}}class Q extends ${constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n&&(e=(0,i.mergeArrays)([this.cls],e,[this.sep]));let r=new Array(e.length).fill(0);if(null!==t){const a=n&&this instanceof ee?[this.sep]:[],o=n?[this.sep]:[];e=(0,i.mergeArrays)(e,a,t,o),r=(0,i.mergeArrays)(r,new Array(t.length+a.length+o.length).fill(1))}return{tokens:e,token_type_ids:r}}}class ee extends Q{}class te extends ${constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null===t?this.single:this.pair;let a=[],o=[];for(const s of r)"SpecialToken"in s?n&&(a.push(s.SpecialToken.id),o.push(s.SpecialToken.type_id)):"Sequence"in s&&("A"===s.Sequence.id?(a=(0,i.mergeArrays)(a,e),o=(0,i.mergeArrays)(o,new Array(e.length).fill(s.Sequence.type_id))):"B"===s.Sequence.id&&(a=(0,i.mergeArrays)(a,t),o=(0,i.mergeArrays)(o,new Array(t.length).fill(s.Sequence.type_id))));return{tokens:a,token_type_ids:o}}}class ne extends ${post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&(e=(0,i.mergeArrays)(e,t)),{tokens:e}}}class re extends ${constructor(e){super(e),this.processors=e.processors.map((e=>$.fromConfig(e)))}post_process(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const i of this.processors)if(i instanceof ne){if(e=i.post_process(e).tokens,n){n=i.post_process(n).tokens}}else{const a=i.post_process(e,n,r);e=a.tokens,t=a.token_type_ids}return{tokens:e,token_type_ids:t}}}class ie extends r.Callable{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(null===e)return null;switch(e.type){case"WordPiece":return new ce(e);case"Metaspace":return new ge(e);case"ByteLevel":return new ue(e);case"Replace":return new ae(e);case"ByteFallback":return new oe(e);case"Fuse":return new se(e);case"Strip":return new le(e);case"Sequence":return new he(e);case"CTC":return new de(e);case"BPEDecoder":return new pe(e);default:throw new Error("Unknown Decoder type: ".concat(e.type))}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class ae extends ie{decode_chain(e){const t=m(this.config.pattern);return null===t?e:e.map((e=>e.replaceAll(t,this.config.content)))}}class oe extends ie{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const t=[];let n=[];for(const r of e){let e=null;if(6===r.length&&r.startsWith("<0x")&&r.endsWith(">")){const t=parseInt(r.slice(3,5),16);isNaN(t)||(e=t)}if(null!==e)n.push(e);else{if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}t.push(r)}}if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}return t}}class se extends ie{decode_chain(e){return[e.join("")]}}class le extends ie{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map((e=>{let t=0;for(let r=0;r<this.start&&e[r]===this.content;++r)t=r+1;let n=e.length;for(let r=0;r<this.stop;++r){const t=e.length-r-1;if(e[t]!==this.content)break;n=t}return e.slice(t,n)}))}}class ce extends ie{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map(((e,t)=>(0!==t&&(e=e.startsWith(this.config.prefix)?e.replace(this.config.prefix,""):" "+e),this.cleanup&&(e=b(e)),e)))}}class ue extends ie{constructor(e){super(e),this.byte_decoder=F,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const t=e.join(""),n=new Uint8Array([...t].map((e=>this.byte_decoder[e])));return this.text_decoder.decode(n)}decode_chain(e){const t=[];let n=[];for(const r of e)void 0!==this.added_tokens.find((e=>e.content===r))?(n.length>0&&(t.push(this.convert_tokens_to_string(n)),n=[]),t.push(r)):n.push(r);return n.length>0&&t.push(this.convert_tokens_to_string(n)),t}}class de extends ie{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(0===e.length)return"";const t=[e[0]];for(let i=1;i<e.length;++i)e[i]!==t.at(-1)&&t.push(e[i]);const n=t.filter((e=>e!==this.pad_token));let r=n.join("");return this.cleanup&&(r=b(r).replaceAll(this.word_delimiter_token," ").trim()),r}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class he extends ie{constructor(e){super(e),this.decoders=e.decoders.map((e=>ie.fromConfig(e)))}decode_chain(e){return this.decoders.reduce(((e,t)=>t.decode_chain(e)),e)}}class pe extends ie{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map(((t,n)=>t.replaceAll(this.suffix,n===e.length-1?"":" ")))}}class fe extends ie{decode_chain(e){let t="";for(let n=1;n<e.length;n+=2)t+=e[n];return[t]}}class me extends G{constructor(e){var t;super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=null!==(t=e.prepend_scheme)&&void 0!==t?t:"always"}pre_tokenize_text(e){let{section_index:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!n.startsWith(this.replacement)&&("always"===this.prepend_scheme||"first"===this.prepend_scheme&&0===t)&&(n=this.strRep+n),[n]}}class ge extends ie{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const t=[];for(let n=0;n<e.length;++n){let r=e[n].replaceAll(this.replacement," ");this.addPrefixSpace&&0==n&&r.startsWith(" ")&&(r=r.substring(1)),t.push(r)}return t}}class ye extends P{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){if((e=(e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,"")).replace(/[\u0009\u000A\u000C\u000D\u00A0\u1680\u2000-\u200F\u2028\u2029\u202F\u205F\u2581\u3000\uFEFF\uFFFD]/gm," ")).includes("\uff5e")){const t=e.split("\uff5e");e=t.map((e=>e.normalize("NFKC"))).join("\uff5e")}else e=e.normalize("NFKC");return e}}class be extends G{constructor(e){super(),this.tokenizers=e.pretokenizers.map((e=>G.fromConfig(e)))}pre_tokenize_text(e,t){return this.tokenizers.reduce(((e,n)=>n.pre_tokenize(e,t)),[e])}}class we extends G{constructor(e){super()}pre_tokenize_text(e,t){return e.match(/\w+|[^\w\s]+/g)||[]}}class ve extends G{constructor(e){super()}pre_tokenize_text(e,t){return function(e){return e.match(/\S+/g)||[]}(e)}}class _e extends G{constructor(e){super(),this.config=e,this.pattern=m(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,t){return null===this.pattern?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const xe=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function ke(e,t,n,r){for(const a of Object.keys(e)){const o=t-e[a].length,s=n(a),l=new Array(o).fill(s);e[a]="right"===r?(0,i.mergeArrays)(e[a],l):(0,i.mergeArrays)(l,e[a])}}function De(e,t){for(const n of Object.keys(e))e[n].length=t}class Te extends r.Callable{constructor(e,t){var n,r,i,a;super(),l(this,"return_token_type_ids",!1),l(this,"padding_side","right"),this._tokenizer_config=t,this.normalizer=P.fromConfig(e.normalizer),this.pre_tokenizer=G.fromConfig(e.pre_tokenizer),this.model=A.fromConfig(e.model,t),this.post_processor=$.fromConfig(e.post_processor),this.decoder=ie.fromConfig(e.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const o of e.added_tokens){const e=new T(o);this.added_tokens.push(e),this.model.tokens_to_ids.set(e.content,e.id),this.model.vocab[e.id]=e.content,e.special&&(this.special_tokens.push(e.content),this.all_special_ids.push(e.id))}if(this.additional_special_tokens=null!==(n=t.additional_special_tokens)&&void 0!==n?n:[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_splitter=new d.DictionarySplitter(this.added_tokens.map((e=>e.content))),this.added_tokens_map=new Map(this.added_tokens.map((e=>[e.content,e]))),this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.bos_token=this.getToken("bos_token"),this.bos_token_id=this.model.tokens_to_ids.get(this.bos_token),this.eos_token=this.getToken("eos_token"),this.eos_token_id=this.model.tokens_to_ids.get(this.eos_token),this.model_max_length=t.model_max_length,this.remove_space=t.remove_space,this.clean_up_tokenization_spaces=null===(r=t.clean_up_tokenization_spaces)||void 0===r||r,this.do_lowercase_and_remove_accent=null!==(i=t.do_lowercase_and_remove_accent)&&void 0!==i&&i,t.padding_side&&(this.padding_side=t.padding_side),this.legacy=!1,this.chat_template=null!==(a=t.chat_template)&&void 0!==a?a:null,Array.isArray(this.chat_template)){const e=Object.create(null);for(const{name:t,template:n}of this.chat_template){if("string"!==typeof t||"string"!==typeof n)throw new Error('Chat template must be a list of objects with "name" and "template" properties');e[t]=n}this.chat_template=e}this._compiled_template_cache=new Map}getToken(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t){const e=this._tokenizer_config[r];if(e){if("object"===typeof e){if("AddedToken"===e.__type)return e.content;throw Error("Unknown token: ".concat(e))}return e}}return null}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:i=!1,revision:a="main",legacy:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(...await f(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:i,revision:a,legacy:o}))}_call(e){var t;let{text_pair:n=null,add_special_tokens:r=!0,padding:i=!1,truncation:a=null,max_length:o=null,return_tensor:l=!0,return_token_type_ids:u=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=Array.isArray(e);let h;if(d){if(0===e.length)throw Error("text array must be non-empty");if(null!==n){if(!Array.isArray(n))throw Error("text_pair must also be an array");if(e.length!==n.length)throw Error("text and text_pair must have the same length");h=e.map(((e,t)=>this._encode_plus(e,{text_pair:n[t],add_special_tokens:r,return_token_type_ids:u})))}else h=e.map((e=>this._encode_plus(e,{add_special_tokens:r,return_token_type_ids:u})))}else{if(null===e||void 0===e)throw Error("text may not be null or undefined");if(Array.isArray(n))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");h=[this._encode_plus(e,{text_pair:n,add_special_tokens:r,return_token_type_ids:u})]}if(null===o?o=this.model_max_length:null===a&&(!0===i?(console.warn("`max_length` is ignored when `padding: true` and there is no truncation strategy. To pad to max length, use `padding: 'max_length'`."),o=this.model_max_length):!1===i&&(console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation: true` to explicitly truncate examples to max length."),a=!0)),!0===i&&(o=Math.min((0,s.max)(h.map((e=>e.input_ids.length)))[0],null!==o&&void 0!==o?o:1/0)),o=Math.min(o,null!==(t=this.model_max_length)&&void 0!==t?t:1/0),i||a)for(let s=0;s<h.length;++s)h[s].input_ids.length!==o&&(h[s].input_ids.length>o?a&&De(h[s],o):i&&ke(h[s],o,(e=>"input_ids"===e?this.pad_token_id:0),this.padding_side));const p={};if(l){if((!i||!a)&&h.some((e=>{for(const n of Object.keys(e)){var t;if(e[n].length!==(null===(t=h[0][n])||void 0===t?void 0:t.length))return!0}return!1})))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const e=[h.length,h[0].input_ids.length];for(const t of Object.keys(h[0]))p[t]=new c.Tensor("int64",BigInt64Array.from(h.flatMap((e=>e[t])).map(BigInt)),e)}else{for(const e of Object.keys(h[0]))p[e]=h.map((t=>t[e]));if(!d)for(const e of Object.keys(p))p[e]=p[e][0]}return p}_encode_text(e){if(null===e)return null;const t=this.added_tokens_splitter.split(e);for(let r=0;r<t.length;++r){const e=this.added_tokens_map.get(t[r]);e&&(e.lstrip&&r>0&&(t[r-1]=t[r-1].trimEnd()),e.rstrip&&r<t.length-1&&(t[r+1]=t[r+1].trimStart()))}const n=t.flatMap(((e,t)=>{if(0===e.length)return[];if(this.added_tokens_map.has(e))return[e];if(!0===this.remove_space&&(e=e.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(e=function(e){return w(e.toLowerCase())}(e)),null!==this.normalizer&&(e=this.normalizer(e)),0===e.length)return[];const n=null!==this.pre_tokenizer?this.pre_tokenizer(e,{section_index:t}):[e];return this.model(n)}));return n}_encode_plus(e){let{text_pair:t=null,add_special_tokens:n=!0,return_token_type_ids:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{tokens:i,token_type_ids:a}=this._tokenize_helper(e,{pair:t,add_special_tokens:n}),o=this.model.convert_tokens_to_ids(i),s={input_ids:o,attention_mask:new Array(o.length).fill(1)};return(null!==r&&void 0!==r?r:this.return_token_type_ids)&&a&&(s.token_type_ids=a),s}_tokenize_helper(e){let{pair:t=null,add_special_tokens:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this._encode_text(e),a=this._encode_text(t);return this.post_processor?this.post_processor(r,a,{add_special_tokens:n}):{tokens:(0,i.mergeArrays)(null!==r&&void 0!==r?r:[],null!==a&&void 0!==a?a:[])}}tokenize(e){let{pair:t=null,add_special_tokens:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._tokenize_helper(e,{pair:t,add_special_tokens:n}).tokens}encode(e){let{text_pair:t=null,add_special_tokens:n=!0,return_token_type_ids:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._encode_plus(e,{text_pair:t,add_special_tokens:n,return_token_type_ids:r}).input_ids}batch_decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof c.Tensor&&(e=e.tolist()),e.map((e=>this.decode(e,t)))}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof c.Tensor&&(e=y(e)),!Array.isArray(e)||0===e.length||!(0,i.isIntegralNumber)(e[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(e,t)}decode_single(e,t){let{skip_special_tokens:n=!1,clean_up_tokenization_spaces:r=null}=t,i=this.model.convert_ids_to_tokens(e);n&&(i=i.filter((e=>!this.special_tokens.includes(e))));let a=this.decoder?this.decoder(i):i.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(a=a.replaceAll(this.decoder.end_of_word_suffix," "),n&&(a=a.trim())),(null!==r&&void 0!==r?r:this.clean_up_tokenization_spaces)&&(a=b(a)),a}get_chat_template(){let{chat_template:e=null,tools:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.chat_template&&"object"===typeof this.chat_template){const n=this.chat_template;if(null!==e&&Object.hasOwn(n,e))e=n[e];else if(null===e)if(null!==t&&"tool_use"in n)e=n.tool_use;else{if(!("default"in n))throw Error("This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available "+"template names are ".concat(Object.keys(n).sort(),"."));e=n.default}}else if(null===e){if(!this.chat_template)throw Error("Cannot use apply_chat_template() because tokenizer.chat_template is not set and no template argument was passed! For information about writing templates and setting the tokenizer.chat_template attribute, please see the documentation at https://huggingface.co/docs/transformers/main/en/chat_templating");e=this.chat_template}return e}apply_chat_template(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{tools:n=null,documents:r=null,chat_template:i=null,add_generation_prompt:o=!1,tokenize:s=!0,padding:l=!1,truncation:c=!1,max_length:d=null,return_tensor:p=!0,return_dict:f=!1,tokenizer_kwargs:m={}}=t,g=a(t,rh);if(i=this.get_chat_template({chat_template:i,tools:n}),"string"!==typeof i)throw Error("chat_template must be a string, but got ".concat(typeof i));let y=this._compiled_template_cache.get(i);void 0===y&&(y=new h.Template(i),this._compiled_template_cache.set(i,y));const b=Object.create(null);for(const a of xe){const e=this.getToken(a);e&&(b[a]=e)}const w=y.render(u(u({messages:e,add_generation_prompt:o,tools:n,documents:r},b),g));if(s){const e=this._call(w,u({add_special_tokens:!1,padding:l,truncation:c,max_length:d,return_tensor:p},m));return f?e:e.input_ids}return w}}class Ae extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Se extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Ce extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Ee extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Fe extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Me extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Ie extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Pe extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class ze extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Ne extends Te{}class Oe extends Te{}class Be extends Te{constructor(e,t){super(e,t),l(this,"return_token_type_ids",!0),console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}}class Le extends Te{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Re extends Te{}class je extends Te{}class Ve extends Te{}class We extends Te{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return rt(this,e,t,n)}}class qe extends We{}class Ue extends Te{}class He extends Te{}const Ge="\u2581";class Ke extends Te{constructor(e,t){var n;super(e,t),l(this,"padding_side","left"),this.legacy=null===(n=t.legacy)||void 0===n||n,this.legacy||(this.normalizer=null,this.pre_tokenizer=new me({replacement:Ge,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(e){if(null===e)return null;if(this.legacy||0===e.length)return super._encode_text(e);let t=super._encode_text(Ge+e.replaceAll(Ge," "));return t.length>1&&t[0]===Ge&&this.special_tokens.includes(t[1])&&(t=t.slice(1)),t}}class Ye extends Te{}class Je extends Te{}class Ze extends Te{}class Xe extends Te{}class $e extends Te{}class Qe extends Te{}class et extends Te{}class tt extends Te{}class nt extends Te{}function rt(e,t,n,r){if(!("language_codes"in e)||!Array.isArray(e.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in e)||!(e.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in e)||"function"!==typeof e.lang_to_token)throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const i=r.src_lang,a=r.tgt_lang;if(!e.language_codes.includes(a))throw new Error('Target language code "'.concat(a,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));if(void 0!==i){if(!e.language_codes.includes(i))throw new Error('Source language code "'.concat(i,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));for(const t of e.post_processor.config.single)if("SpecialToken"in t&&e.languageRegex.test(t.SpecialToken.id)){t.SpecialToken.id=e.lang_to_token(i);break}}return r.forced_bos_token_id=e.model.convert_tokens_to_ids([e.lang_to_token(a)])[0],e._call(t,n)}class it extends Te{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return rt(this,e,t,n)}}class at extends Te{constructor(e,t){super(e,t),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))).map((e=>e.slice(2,-2))),this.lang_to_token=e=>"__".concat(e,"__")}_build_translation_inputs(e,t,n){return rt(this,e,t,n)}}class ot extends Te{get timestamp_begin(){return this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1}_decode_asr(e){let{return_timestamps:t=!1,return_language:n=!1,time_precision:r=null,force_full_sequences:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)throw Error("Must specify time_precision");let a=null;const o="word"===t;function l(){return{language:a,timestamp:[null,null],text:""}}const c=[];let u=l(),d=0;const h=this.timestamp_begin,f=h+1500;let m=[],g=[],y=!1,b=null;const w=new Set(this.all_special_ids);for(const k of e){const e=k.tokens,n=o?k.token_timestamps:null;let i=null,v=h;if("stride"in k){const[t,n,a]=k.stride;if(d-=n,b=t-a,n&&(v=n/r+h),a)for(let o=e.length-1;o>=0;--o){const t=Number(e[o]);if(t>=h){if(null!==i&&(t-h)*r<b)break;i=t}}}let _=[],D=[];for(let b=0;b<e.length;++b){const k=Number(e[b]);if(w.has(k)){const e=this.decode([k]),n=p.WHISPER_LANGUAGE_MAPPING.get(e.slice(2,-2));if(void 0!==n){if(null!==a&&n!==a&&!t){m.push(_);const e=this.findLongestCommonSequence(m)[0],t=this.decode(e);u.text=t,c.push(u),m=[],_=[],u=l()}a=u.language=n}}else if(k>=h&&k<=f){const e=(k-h)*r+d,t=(0,s.round)(e,2);if(null!==i&&k>=i)y=!0;else if(y||m.length>0&&k<v)y=!1;else if(null===u.timestamp[0])u.timestamp[0]=t;else if(t===u.timestamp[0]);else{u.timestamp[1]=t,m.push(_),o&&g.push(D);const[e,n]=this.findLongestCommonSequence(m,g),r=this.decode(e);u.text=r,o&&(u.words=this.collateWordTimestamps(e,n,a)),c.push(u),m=[],_=[],g=[],D=[],u=l()}}else if(_.push(k),o){let e,t=(0,s.round)(n[b]+d,2);if(b+1<n.length){e=(0,s.round)(n[b+1]+d,2);const i=this.decode([k]);x.test(i)&&(e=(0,s.round)(Math.min(t+r,e),2))}else e=null;D.push([t,e])}}if("stride"in k){const[e,t,n]=k.stride;d+=e-n}_.length>0?(m.push(_),o&&g.push(D)):m.every((e=>0===e.length))&&(u=l(),m=[],_=[],g=[],D=[])}if(m.length>0){if(i&&t)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[e,n]=this.findLongestCommonSequence(m,g),r=this.decode(e);u.text=r,o&&(u.words=this.collateWordTimestamps(e,n,a)),c.push(u)}let v=Object.create(null);const _=c.map((e=>e.text)).join("");if(t||n){for(let e=0;e<c.length;++e){const r=c[e];t||delete r.timestamp,n||delete r.language}if(o){const e=[];for(const t of c)for(const n of t.words)e.push(n);v={chunks:e}}else v={chunks:c}}return[_,v]}findLongestCommonSequence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e[0],r=n.length,i=[];const a=Array.isArray(t)&&t.length>0;let o=a?[]:null,s=a?t[0]:null;for(let l=1;l<e.length;++l){const c=e[l];let u=0,d=[r,r,0,0];const h=c.length;for(let e=1;e<r+h;++e){const i=Math.max(0,r-e),o=Math.min(r,r+h-e),p=n.slice(i,o),f=Math.max(0,e-r),m=Math.min(h,e),g=c.slice(f,m);if(p.length!==g.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");let y;y=a?p.filter(((e,n)=>e===g[n]&&s[i+n]<=t[l][f+n])).length:p.filter(((e,t)=>e===g[t])).length;const b=y/e+e/1e4;y>1&&b>u&&(u=b,d=[i,o,f,m])}const[p,f,m,g]=d,y=Math.floor((f+p)/2),b=Math.floor((g+m)/2);i.push(...n.slice(0,y)),n=c.slice(b),r=n.length,a&&(o.push(...s.slice(0,y)),s=t[l].slice(b))}return i.push(...n),a?(o.push(...s),[i,o]):[i,[]]}collateWordTimestamps(e,t,n){const[r,i,a]=this.combineTokensIntoWords(e,n),o=[];for(let s=0;s<r.length;++s){const e=a[s];o.push({text:r[s],timestamp:[t[e.at(0)][0],t[e.at(-1)][1]]})}return o}combineTokensIntoWords(e,t){let n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\"'\u201c\xa1\xbf([{-",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\"'.\u3002,\uff0c!\uff01?\uff1f:\uff1a\u201d)]}\u3001";return["chinese","japanese","thai","lao","myanmar"].includes(t=null!==t&&void 0!==t?t:"english")?[n,r,i]=this.splitTokensOnUnicode(e):[n,r,i]=this.splitTokensOnSpaces(e),this.mergePunctuations(n,r,i,a,o)}decode(e,t){let n;return null!==t&&void 0!==t&&t.decode_with_timestamps?(e instanceof c.Tensor&&(e=y(e)),n=this.decodeWithTimestamps(e,t)):n=super.decode(e,t),n}decodeWithTimestamps(e,t){var n;const r=null!==(n=null===t||void 0===t?void 0:t.time_precision)&&void 0!==n?n:.02,i=Array.from(this.all_special_ids).at(-1)+1;let a=[[]];for(let o of e)if(o=Number(o),o>=i){const e=((o-i)*r).toFixed(2);a.push("<|".concat(e,"|>")),a.push([])}else a[a.length-1].push(o);return a=a.map((e=>"string"===typeof e?e:super.decode(e,t))),a.join("")}splitTokensOnUnicode(e){const t=this.decode(e,{decode_with_timestamps:!0}),n=[],r=[],i=[];let a=[],o=[],s=0;for(let l=0;l<e.length;++l){const c=e[l];a.push(c),o.push(l);const u=this.decode(a,{decode_with_timestamps:!0});u.includes("\ufffd")&&"\ufffd"!==t[s+u.indexOf("\ufffd")]||(n.push(u),r.push(a),i.push(o),a=[],o=[],s+=u.length)}return[n,r,i]}splitTokensOnSpaces(e){const[t,n,r]=this.splitTokensOnUnicode(e),i=[],a=[],o=[],s=new RegExp("^[".concat(_,"]$"),"gu");for(let l=0;l<t.length;++l){const e=t[l],c=n[l],u=r[l],d=c[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),h=e.startsWith(" "),p=e.trim(),f=s.test(p);if(d||h||f||0===i.length)i.push(e),a.push(c),o.push(u);else{const t=i.length-1;i[t]+=e,a[t].push(...c),o[t].push(...u)}}return[i,a,o]}mergePunctuations(e,t,n,r,a){const o=structuredClone(e),s=structuredClone(t),l=structuredClone(n);let c=o.length-2,u=o.length-1;for(;c>=0;)o[c].startsWith(" ")&&r.includes(o[c].trim())?(o[u]=o[c]+o[u],s[u]=(0,i.mergeArrays)(s[c],s[u]),l[u]=(0,i.mergeArrays)(l[c],l[u]),o[c]="",s[c]=[],l[c]=[]):u=c,--c;for(c=0,u=1;u<o.length;)!o[c].endsWith(" ")&&a.includes(o[u])?(o[c]+=o[u],s[c]=(0,i.mergeArrays)(s[c],s[u]),l[c]=(0,i.mergeArrays)(l[c],l[u]),o[u]="",s[u]=[],l[u]=[]):c=u,++u;return[o.filter((e=>e)),s.filter((e=>e.length>0)),l.filter((e=>e.length>0))]}}class st extends Te{}class lt extends Te{}class ct extends Te{}class ut extends Te{constructor(e,t){super(e,t),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter((e=>this.languageRegex.test(e))),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(null===e)return null;const[t,...n]=e.trim().split(this.languageRegex);if(0===n.length)return super._encode_text(t);if(2===n.length){const[e,t]=n;return this.supported_language_codes.includes(e)||console.warn('Unsupported language code "'.concat(e,'" detected, which may lead to unexpected behavior. Should be one of: ').concat(JSON.stringify(this.supported_language_codes))),(0,i.mergeArrays)([e],super._encode_text(t))}}}class dt extends Te{}class ht extends Te{}class pt extends Te{}class ft extends Te{}class mt extends Te{}class gt extends Te{constructor(e,t){super(e,t),this.decoder=new fe({})}}class yt extends Te{}class bt extends Te{}class wt{static async from_pretrained(e){var t,n;let{progress_callback:r=null,config:i=null,cache_dir:a=null,local_files_only:o=!1,revision:s="main",legacy:l=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[c,u]=await f(e,{progress_callback:r,config:i,cache_dir:a,local_files_only:o,revision:s,legacy:l}),d=null!==(t=null===(n=u.tokenizer_class)||void 0===n?void 0:n.replace(/Fast$/,""))&&void 0!==t?t:"PreTrainedTokenizer";let h=this.TOKENIZER_CLASS_MAPPING[d];return h||(console.warn('Unknown tokenizer class "'.concat(d,'", attempting to construct from base class.')),h=Te),new h(c,u)}}l(wt,"TOKENIZER_CLASS_MAPPING",{T5Tokenizer:Re,DistilBertTokenizer:Ne,CamembertTokenizer:Oe,DebertaTokenizer:Fe,DebertaV2Tokenizer:Me,BertTokenizer:Ae,HerbertTokenizer:Ie,ConvBertTokenizer:Pe,RoFormerTokenizer:ze,XLMTokenizer:Be,ElectraTokenizer:Le,MobileBertTokenizer:Ce,SqueezeBertTokenizer:Ee,AlbertTokenizer:Se,GPT2Tokenizer:je,BartTokenizer:Ve,MBartTokenizer:We,MBart50Tokenizer:qe,RobertaTokenizer:Ue,WhisperTokenizer:ot,CodeGenTokenizer:st,CLIPTokenizer:lt,SiglipTokenizer:ct,MarianTokenizer:ut,BloomTokenizer:He,NllbTokenizer:it,M2M100Tokenizer:at,LlamaTokenizer:Ke,CodeLlamaTokenizer:Ye,XLMRobertaTokenizer:Je,MPNetTokenizer:Ze,FalconTokenizer:Xe,GPTNeoXTokenizer:$e,EsmTokenizer:Qe,Wav2Vec2CTCTokenizer:dt,BlenderbotTokenizer:ht,BlenderbotSmallTokenizer:pt,SpeechT5Tokenizer:ft,NougatTokenizer:mt,VitsTokenizer:gt,Qwen2Tokenizer:et,GemmaTokenizer:tt,Grok1Tokenizer:nt,CohereTokenizer:yt,MgpstrTokenizer:bt,PreTrainedTokenizer:Te})},"./src/utils/audio.js":(e,t,n)=>{n.r(t),n.d(t,{RawAudio:()=>x,hamming:()=>h,hanning:()=>d,mel_filter_bank:()=>y,read_audio:()=>c,spectrogram:()=>w,window_function:()=>v});var r=n("./src/utils/hub.js"),i=n("./src/utils/maths.js"),a=n("./src/utils/core.js"),o=n("./src/env.js"),s=n("?7a2c"),l=n("./src/utils/tensor.js");async function c(e,t){if("undefined"===typeof AudioContext)throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const n=await(await(0,r.getFile)(e)).arrayBuffer(),i=new AudioContext({sampleRate:t});"undefined"===typeof t&&console.warn("No sampling rate provided, using default of ".concat(i.sampleRate,"Hz."));const a=await i.decodeAudioData(n);let o;if(2===a.numberOfChannels){const e=Math.sqrt(2),t=a.getChannelData(0),n=a.getChannelData(1);o=new Float32Array(t.length);for(let r=0;r<a.length;++r)o[r]=e*(t[r]+n[r])/2}else o=a.getChannelData(0);return o}function u(e,t){if(e<1)return new Float64Array;if(1===e)return new Float64Array([1]);const n=1-t,r=2*Math.PI/(e-1),i=new Float64Array(e);for(let a=0;a<e;++a)i[a]=t-n*Math.cos(a*r);return i}function d(e){return u(e,.5)}function h(e){return u(e,.54)}const p={htk:e=>2595*Math.log10(1+e/700),kaldi:e=>1127*Math.log(1+e/700),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:27/Math.log(6.4);return e>=t?n+Math.log(e/t)*r:3*e/200}};function f(e){const t=p[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map((e=>t(e)))}const m={htk:e=>700*(10**(e/2595)-1),kaldi:e=>700*(Math.exp(e/1127)-1),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.log(6.4)/27;return e>=n?t*Math.exp(r*(e-n)):200*e/3}};function g(e,t,n){const r=(t-e)/(n-1);return Float64Array.from({length:n},((t,n)=>e+r*n))}function y(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"htk",s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(null!==a&&"slaney"!==a)throw new Error('norm must be one of null or "slaney"');if(e<2)throw new Error("Require num_frequency_bins: ".concat(e," >= 2"));if(n>r)throw new Error("Require min_frequency: ".concat(n," <= max_frequency: ").concat(r));const l=g(f(n,o),f(r,o),t+2);let c,u=function(e){const t=m[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map((e=>t(e)))}(l,o);if(s){const t=i/(2*(e-1));c=f(Float64Array.from({length:e},((e,n)=>n*t)),o),u=l}else c=g(0,Math.floor(i/2),e);const d=function(e,t){const n=Float64Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n])),r=Array.from({length:e.length},(()=>new Array(t.length)));for(let o=0;o<e.length;++o){const n=r[o];for(let r=0;r<t.length;++r)n[r]=t[r]-e[o]}const i=t.length-2,a=Array.from({length:i},(()=>new Array(e.length)));for(let o=0;o<e.length;++o){const e=r[o];for(let t=0;t<i;++t){const r=-e[t]/n[t],i=e[t+2]/n[t+1];a[t][o]=Math.max(0,Math.min(r,i))}}return a}(c,u);if(null!==a&&"slaney"===a)for(let h=0;h<t;++h){const t=d[h],n=2/(u[h+2]-u[h]);for(let r=0;r<e;++r)t[r]*=n}return d}function b(e,t,n,r,a){if(n<=0)throw new Error("reference must be greater than zero");if(r<=0)throw new Error("min_value must be greater than zero");n=Math.max(r,n);const o=Math.log10(n);for(let i=0;i<e.length;++i)e[i]=t*Math.log10(Math.max(r,e[i])-o);if(null!==a){if(a<=0)throw new Error("db_range must be greater than zero");const t=(0,i.max)(e)[0]-a;for(let n=0;n<e.length;++n)e[n]=Math.max(e[n],t)}return e}async function w(e,t,n,r){let{fft_length:o=null,power:s=1,center:c=!0,pad_mode:u="reflect",onesided:d=!0,preemphasis:h=null,mel_filters:p=null,mel_floor:f=1e-10,log_mel:m=null,reference:g=1,min_value:y=1e-10,db_range:w=null,remove_dc_offset:v=null,min_num_frames:_=null,max_num_frames:x=null,do_pad:k=!0,transpose:D=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const T=t.length;if(null===o&&(o=n),n>o)throw Error("frame_length (".concat(n,") may not be larger than fft_length (").concat(o,")"));if(T!==n)throw new Error("Length of the window (".concat(T,") must equal frame_length (").concat(n,")"));if(r<=0)throw new Error("hop_length must be greater than zero");if(null===s&&null!==p)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(c){if("reflect"!==u)throw new Error('pad_mode="'.concat(u,'" not implemented yet.'));const t=Math.floor((o-1)/2)+1;e=function(e,t,n){const r=new e.constructor(e.length+t+n),i=e.length-1;for(let a=0;a<e.length;++a)r[t+a]=e[a];for(let o=1;o<=t;++o)r[t-o]=e[(0,a.calculateReflectOffset)(o,i)];for(let o=1;o<=n;++o)r[i+t+o]=e[(0,a.calculateReflectOffset)(i-o,i)];return r}(e,t,t)}let A=Math.floor(1+Math.floor((e.length-n)/r));null!==_&&A<_&&(A=_);const S=d?Math.floor(o/2)+1:o;let C=A,E=A;null!==x&&(x>A?k&&(E=x):E=C=x);const F=new i.FFT(o),M=new Float64Array(o),I=new Float64Array(F.outputBufferSize),P=new Float32Array(S*E);for(let i=0;i<C;++i){const a=i*r,o=Math.min(e.length-a,n);o!==n&&M.fill(0,0,n);for(let t=0;t<o;++t)M[t]=e[a+t];if(v){let e=0;for(let n=0;n<o;++n)e+=M[n];const t=e/o;for(let n=0;n<o;++n)M[n]-=t}if(null!==h){for(let e=o-1;e>=1;--e)M[e]-=h*M[e-1];M[0]*=1-h}for(let e=0;e<t.length;++e)M[e]*=t[e];F.realTransform(I,M);for(let e=0;e<S;++e){const t=e<<1;P[e*E+i]=I[t]**2+I[t+1]**2}}if(null!==s&&2!==s){const e=2/s;for(let t=0;t<P.length;++t)P[t]**=e}const z=p.length;let N=await(0,l.matmul)(new l.Tensor("float32",p.flat(),[z,S]),new l.Tensor("float32",P,[S,E]));D&&(N=N.transpose(1,0));const O=N.data;for(let i=0;i<O.length;++i)O[i]=Math.max(f,O[i]);if(null!==s&&null!==m){const e=Math.min(O.length,C*z);switch(m){case"log":for(let t=0;t<e;++t)O[t]=Math.log(O[t]);break;case"log10":for(let t=0;t<e;++t)O[t]=Math.log10(O[t]);break;case"dB":if(1===s)!function(e){b(e,20,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(O,g,y,w);else{if(2!==s)throw new Error("Cannot use log_mel option '".concat(m,"' with power ").concat(s));!function(e){b(e,10,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(O,g,y,w)}break;default:throw new Error("log_mel must be one of null, 'log', 'log10' or 'dB'. Got '".concat(m,"'"))}}return N}function v(e,t){let{periodic:n=!0,frame_length:r=null,center:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=n?e+1:e;let o;switch(t){case"boxcar":o=new Float64Array(a).fill(1);break;case"hann":case"hann_window":o=d(a);break;case"hamming":o=h(a);break;case"povey":o=d(a).map((e=>Math.pow(e,.85)));break;default:throw new Error("Unknown window type ".concat(t,"."))}if(n&&(o=o.subarray(0,e)),null===r)return o;if(e>r)throw new Error("Length of the window (".concat(e,") may not be larger than frame_length (").concat(r,")"));return o}function _(e,t,n){for(let r=0;r<n.length;++r)e.setUint8(t+r,n.charCodeAt(r))}class x{constructor(e,t){this.audio=e,this.sampling_rate=t}toWav(){return function(e,t){let n=44;const r=new ArrayBuffer(n+4*e.length),i=new DataView(r);_(i,0,"RIFF"),i.setUint32(4,36+4*e.length,!0),_(i,8,"WAVE"),_(i,12,"fmt "),i.setUint32(16,16,!0),i.setUint16(20,3,!0),i.setUint16(22,1,!0),i.setUint32(24,t,!0),i.setUint32(28,4*t,!0),i.setUint16(32,4,!0),i.setUint16(34,32,!0),_(i,36,"data"),i.setUint32(40,4*e.length,!0);for(let a=0;a<e.length;++a,n+=4)i.setFloat32(n,e[a],!0);return r}(this.audio,this.sampling_rate)}toBlob(){const e=this.toWav();return new Blob([e],{type:"audio/wav"})}async save(e){let t;if(o.apis.IS_BROWSER_ENV){if(o.apis.IS_WEBWORKER_ENV)throw new Error("Unable to save a file from a Web Worker.");t=a.saveBlob}else{if(!o.apis.IS_FS_AVAILABLE)throw new Error("Unable to save because filesystem is disabled in this environment.");t=async(e,t)=>{let n=await t.arrayBuffer();s.writeFileSync(e,Buffer.from(n))}}await t(e,this.toBlob())}}},"./src/utils/constants.js":(e,t,n)=>{n.r(t),n.d(t,{CHAT_TEMPLATE_NAME:()=>l,CONFIG_NAME:()=>i,FEATURE_EXTRACTOR_NAME:()=>a,GENERATION_CONFIG_NAME:()=>c,GITHUB_ISSUE_URL:()=>r,IMAGE_PROCESSOR_NAME:()=>o,PROCESSOR_NAME:()=>s});const r="https://github.com/huggingface/transformers.js/issues/new/choose",i="config.json",a="preprocessor_config.json",o=a,s="processor_config.json",l="chat_template.json",c="generation_config.json"},"./src/utils/core.js":(e,t,n)=>{function r(e,t){e&&e(t)}function i(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[n,t]})))}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){var t;return"TypedArray"===(null===e||void 0===e||null===(t=e.prototype)||void 0===t||null===(t=t.__proto__)||void 0===t||null===(t=t.constructor)||void 0===t?void 0:t.name)}function s(e){return Number.isInteger(e)||"bigint"===typeof e}function l(e){return null===e||void 0===e||-1===e}function c(e){const t=[];let n=e;for(;Array.isArray(n);)t.push(n.length),n=n[0];return t}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=e[t];if(void 0!==r)return delete e[t],r;if(void 0===n)throw Error("Key ".concat(t," does not exist in object."));return n}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply([],t)}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e.flatMap((e=>t.map((t=>[e,t]))))))}function p(e,t){return Math.abs((e+t)%(2*t)-t)}function f(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.click(),r.remove(),URL.revokeObjectURL(n)}function m(e,t){return Object.assign({},...t.map((t=>{if(void 0!==e[t])return{[t]:e[t]}})))}function g(e){let t=0;for(const n of e)++t;return t}function y(e,t){let n=0;for(const r of e)r===t&&++n;return n}n.r(t),n.d(t,{calculateDimensions:()=>c,calculateReflectOffset:()=>p,count:()=>y,dispatchCallback:()=>r,escapeRegExp:()=>a,isIntegralNumber:()=>s,isNullishDimension:()=>l,isTypedArray:()=>o,len:()=>g,mergeArrays:()=>d,pick:()=>m,pop:()=>u,product:()=>h,reverseDictionary:()=>i,saveBlob:()=>f})},"./src/utils/data-structures.js":(e,t,n)=>{n.r(t),n.d(t,{CharTrie:()=>i,DictionarySplitter:()=>l,LRUCache:()=>c,PriorityQueue:()=>r,TokenLattice:()=>o});class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>e>t,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;this._heap=[],this._comparator=e,this._maxSize=t}get size(){return this._heap.length}isEmpty(){return 0===this.size}peek(){return this._heap[0]}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.extend(t)}extend(e){for(const t of e)if(this.size<this._maxSize)this._heap.push(t),this._siftUp();else{const e=this._smallest();this._comparator(t,this._heap[e])&&(this._heap[e]=t,this._siftUpFrom(e))}return this.size}pop(){const e=this.peek(),t=this.size-1;return t>0&&this._swap(0,t),this._heap.pop(),this._siftDown(),e}replace(e){const t=this.peek();return this._heap[0]=e,this._siftDown(),t}_parent(e){return(e+1>>>1)-1}_left(e){return 1+(e<<1)}_right(e){return e+1<<1}_greater(e,t){return this._comparator(this._heap[e],this._heap[t])}_swap(e,t){const n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n}_siftUp(){this._siftUpFrom(this.size-1)}_siftUpFrom(e){for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const t=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,t),e=t}}_smallest(){return 2**Math.floor(Math.log2(this.size))-1}}class i{constructor(){this.root=a.default()}extend(e){for(const t of e)this.push(t)}push(e){let t=this.root;for(const n of e){let e=t.children.get(n);void 0===e&&(e=a.default(),t.children.set(n,e)),t=e}t.isLeaf=!0}*commonPrefixSearch(e){let t=this.root;if(void 0===t)return;let n="";for(const r of e){if(n+=r,t=t.children.get(r),void 0===t)return;t.isLeaf&&(yield n)}}}class a{constructor(e,t){this.isLeaf=e,this.children=t}static default(){return new a(!1,new Map)}}class o{constructor(e,t,n){this.chars=Array.from(e),this.len=this.chars.length,this.bosTokenId=t,this.eosTokenId=n,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},(()=>[])),this.endNodes=Array.from({length:this.len+1},(()=>[]));const r=new s(this.bosTokenId,0,0,0,0),i=new s(this.eosTokenId,1,this.len,0,0);this.nodes.push(r.clone()),this.nodes.push(i.clone()),this.beginNodes[this.len].push(i),this.endNodes[0].push(r)}insert(e,t,n,r){const i=this.nodes.length,a=new s(r,i,e,t,n);this.beginNodes[e].push(a),this.endNodes[e+t].push(a),this.nodes.push(a)}viterbi(){const e=this.len;let t=0;for(;t<=e;){if(0==this.beginNodes[t].length)return[];for(let e of this.beginNodes[t]){e.prev=null;let n=0,r=null;for(let i of this.endNodes[t]){const t=i.backtraceScore+e.score;(null===r||t>n)&&(r=i.clone(),n=t)}if(null===r)return[];e.prev=r,e.backtraceScore=n}++t}const n=[],r=this.beginNodes[e][0].prev;if(null===r)return[];let i=r.clone();for(;null!==i.prev;){n.push(i.clone());const e=i.clone();i=e.prev.clone()}return n.reverse(),n}piece(e){return this.chars.slice(e.pos,e.pos+e.length).join("")}tokens(){return this.viterbi().map((e=>this.piece(e)))}tokenIds(){return this.viterbi().map((e=>e.tokenId))}}class s{constructor(e,t,n,r,i){this.tokenId=e,this.nodeId=t,this.pos=n,this.length=r,this.score=i,this.prev=null,this.backtraceScore=0}clone(){const e=new s(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}class l{constructor(e){this.trie=this._buildTrie(e)}_buildTrie(e){const t=Object.create(null);for(const a of e){let e=t;for(let t=0;t<a.length;++t){var n,r,i;e=null!==(i=(n=e)[r=a[t]])&&void 0!==i?i:n[r]=Object.create(null)}e.end=a}return t}split(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;){let a=this.trie,o=null,s=i;for(;s<n&&(a=a[e[s]]);)a.end&&(o=a.end),++s;o?(i>r&&t.push(e.slice(r,i)),t.push(o),i+=o.length,r=i):++i}return r<n&&t.push(e.slice(r)),t}}class c{constructor(e){this.capacity=e,this.cache=new Map}get(e){if(!this.cache.has(e))return;const t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}put(e,t){this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,t),this.cache.size>this.capacity&&this.cache.delete(this.cache.keys().next().value)}clear(){this.cache.clear()}}},"./src/utils/devices.js":(e,t,n)=>{n.r(t),n.d(t,{DEVICE_TYPES:()=>r});const r=Object.freeze({auto:"auto",gpu:"gpu",cpu:"cpu",wasm:"wasm",webgpu:"webgpu",cuda:"cuda",dml:"dml",webnn:"webnn","webnn-npu":"webnn-npu","webnn-gpu":"webnn-gpu","webnn-cpu":"webnn-cpu"})},"./src/utils/dtypes.js":(e,t,n)=>{n.r(t),n.d(t,{DATA_TYPES:()=>o,DEFAULT_DEVICE_DTYPE_MAPPING:()=>s,DEFAULT_DTYPE_SUFFIX_MAPPING:()=>l,isWebGpuFp16Supported:()=>a});var r=n("./src/env.js"),i=n("./src/utils/devices.js");const a=function(){let e;return async function(){if(void 0===e)if(r.apis.IS_WEBGPU_AVAILABLE)try{const t=await navigator.gpu.requestAdapter();e=t.features.has("shader-f16")}catch(F){e=!1}else e=!1;return e}}(),o=Object.freeze({auto:"auto",fp32:"fp32",fp16:"fp16",q8:"q8",int8:"int8",uint8:"uint8",q4:"q4",bnb4:"bnb4",q4f16:"q4f16"}),s=Object.freeze({[i.DEVICE_TYPES.wasm]:o.q8}),l=Object.freeze({[o.fp32]:"",[o.fp16]:"_fp16",[o.int8]:"_int8",[o.uint8]:"_uint8",[o.q8]:"_quantized",[o.q4]:"_q4",[o.q4f16]:"_q4f16",[o.bnb4]:"_bnb4"})},"./src/utils/generic.js":(e,t,n)=>{n.r(t),n.d(t,{Callable:()=>r});const r=class{constructor(){let e=function(){return e._call(...arguments)};return Object.setPrototypeOf(e,new.target.prototype)}_call(){throw Error("Must implement _call method in subclass")}}},"./src/utils/hub.js":(e,t,n)=>{n.r(t),n.d(t,{MAX_EXTERNAL_DATA_CHUNKS:()=>s,getFile:()=>p,getModelFile:()=>g,getModelJSON:()=>y});var r=n("?7a2c"),i=n("?a42a"),a=n("./src/env.js"),o=n("./src/utils/core.js");const s=100,l={txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"};class c{constructor(e){if(this.filePath=e,this.headers=new Headers,this.exists=r.existsSync(e),this.exists){this.status=200,this.statusText="OK";let t=r.statSync(e);this.headers.set("content-length",t.size.toString()),this.updateContentType();const n=r.createReadStream(e);this.body=new ReadableStream({start(e){n.on("data",(t=>e.enqueue(t))),n.on("end",(()=>e.close())),n.on("error",(t=>e.error(t)))},cancel(){n.destroy()}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){var e;const t=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",null!==(e=l[t])&&void 0!==e?e:"application/octet-stream")}clone(){let e=new c(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await r.promises.readFile(this.filePath)).buffer}async blob(){const e=await r.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await r.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function d(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{t=new URL(e)}catch(i){return!1}return!(n&&!n.includes(t.protocol))&&!(r&&!r.includes(t.hostname))}const h=/^(\b[\w\-.]+\b\/)?\b[\w\-.]{1,96}\b$/;async function p(e){var t;if(a.env.useFS&&!d(e,["http:","https:","blob:"]))return new c(e instanceof URL?"file:"===e.protocol?e.pathname:e.toString():e);if("undefined"!==typeof process&&"node"===(null===(t=process)||void 0===t||null===(t=t.release)||void 0===t?void 0:t.name)){var n;const t=!(null===(n={NODE_ENV:"production",PUBLIC_URL:"/llm-consistency-vis",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===n||!n.TESTING_REMOTELY),s=a.env.version,l=new Headers;l.set("User-Agent","transformers.js/".concat(s,"; is_ci/").concat(t,";"));if(d(e,["http:","https:"],["huggingface.co","hf.co"])){var r,i,o;const e=null!==(r=null===(i={NODE_ENV:"production",PUBLIC_URL:"/llm-consistency-vis",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===i?void 0:i.HF_TOKEN)&&void 0!==r?r:null===(o={NODE_ENV:"production",PUBLIC_URL:"/llm-consistency-vis",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===o?void 0:o.HF_ACCESS_TOKEN;e&&l.set("Authorization","Bearer ".concat(e))}return fetch(e,{headers:l})}return fetch(e)}const f={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};class m{constructor(e){this.path=e}async match(e){let t=i.join(this.path,e),n=new c(t);return n.exists?n:void 0}async put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=i.join(this.path,e);try{const e=t.headers.get("Content-Length"),o=parseInt(null!==e&&void 0!==e?e:"0");let s=0;await r.promises.mkdir(i.dirname(a),{recursive:!0});const l=r.createWriteStream(a),c=t.body.getReader();for(;;){const{done:e,value:t}=await c.read();if(e)break;await new Promise(((e,n)=>{l.write(t,(t=>{t?n(t):e()}))})),s+=t.length;null===n||void 0===n||n({progress:o?s/o*100:0,loaded:s,total:o})}l.close()}catch(o){try{await r.promises.unlink(a)}catch(s){}throw o}}}async function g(e,t){var n,r;let i,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!a.env.allowLocalModels){if(l.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!a.env.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}if((0,o.dispatchCallback)(l.progress_callback,{status:"initiate",name:e,file:t}),!i&&a.env.useCustomCache){if(!a.env.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!a.env.customCache.match||!a.env.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");i=a.env.customCache}if(!i&&a.env.useBrowserCache){if("undefined"===typeof caches)throw Error("Browser cache is not available in this environment.");try{i=await caches.open("transformers-cache")}catch(F){console.warn("An error occurred while opening the browser cache:",F)}}if(!i&&a.env.useFSCache){var y;if(!a.apis.IS_FS_AVAILABLE)throw Error("File System Cache is not available in this environment.");i=new m(null!==(y=l.cache_dir)&&void 0!==y?y:a.env.cacheDir)}const w=null!==(n=l.revision)&&void 0!==n?n:"main",v=b(e,t),_=function(e){return!!h.test(e)&&!e.includes("..")&&!e.includes("--")&&!e.endsWith(".git")&&!e.endsWith(".ipynb")}(e),x=_?b(a.env.localModelPath,v):v,k=b(a.env.remoteHost,a.env.remotePathTemplate.replaceAll("{model}",e).replaceAll("{revision}",encodeURIComponent(w)),t);let D;const T=i instanceof m?"main"===w?v:b(e,w,t):k;let A,S=!1;i&&(A=await async function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let i of n)try{let t=await e.match(i);if(t)return t}catch(F){continue}}(i,x,T));const C=void 0!==A;if(void 0===A){if(a.env.allowLocalModels){if(d(v,["http:","https:"])){if(l.local_files_only)throw new Error("`local_files_only=true`, but attempted to load a remote file from: ".concat(v,"."));if(!a.env.allowRemoteModels)throw new Error("`env.allowRemoteModels=false`, but attempted to load a remote file from: ".concat(v,"."))}else try{A=await p(x),D=x}catch(F){console.warn('Unable to load from local path "'.concat(x,'": "').concat(F,'"'))}}if(void 0===A||404===A.status){if(l.local_files_only||!a.env.allowRemoteModels){if(s)throw Error('`local_files_only=true` or `env.allowRemoteModels=false` and file was not found locally at "'.concat(x,'".'));return null}if(!_)throw Error('Local file missing at "'.concat(x,'" and download aborted due to invalid model ID "').concat(e,'".'));if(A=await p(k),200!==A.status)return function(e,t,n){var r;if(!n)return null;const i=null!==(r=f[e])&&void 0!==r?r:"Error (".concat(e,") occurred while trying to load file");throw Error("".concat(i,': "').concat(t,'".'))}(A.status,k,s);D=T}S=i&&"undefined"!==typeof Response&&A instanceof Response&&200===A.status}let E;if((0,o.dispatchCallback)(l.progress_callback,{status:"download",name:e,file:t}),!a.apis.IS_NODE_ENV||!g){let n;l.progress_callback?C&&"undefined"!==typeof navigator&&/firefox/i.test(navigator.userAgent)?(n=new Uint8Array(await A.arrayBuffer()),(0,o.dispatchCallback)(l.progress_callback,{status:"progress",name:e,file:t,progress:100,loaded:n.length,total:n.length})):n=await async function(e,t){const n=e.headers.get("Content-Length");null===n&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let r=parseInt(null!==n&&void 0!==n?n:"0"),i=new Uint8Array(r),a=0;const o=e.body.getReader();async function s(){const{done:e,value:n}=await o.read();if(e)return;const l=a+n.length;if(l>r){r=l;const e=new Uint8Array(r);e.set(i),i=e}i.set(n,a),a=l;return t({progress:a/r*100,loaded:a,total:r}),s()}return await s(),i}(A,(n=>{(0,o.dispatchCallback)(l.progress_callback,u({status:"progress",name:e,file:t},n))})):n=new Uint8Array(await A.arrayBuffer()),E=n}if(S&&D&&void 0===await i.match(D)&&(E?await i.put(D,new Response(E,{headers:A.headers})).catch((e=>{console.warn("Unable to add response to browser cache: ".concat(e,"."))})):await i.put(D,A,l.progress_callback)),(0,o.dispatchCallback)(l.progress_callback,{status:"done",name:e,file:t}),E){if(!a.apis.IS_NODE_ENV&&g)throw new Error("Cannot return path in a browser environment.");return E}if(A instanceof c)return A.filePath;const M=await(null===(r=i)||void 0===r?void 0:r.match(D));if(M instanceof c)return M.filePath;if(M instanceof Response)return new Uint8Array(await M.arrayBuffer());if("string"===typeof M)return M;throw new Error("Unable to get model file path or buffer.")}async function y(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=await g(e,t,n,r,!1);if(null===i)return{};const a=new TextDecoder("utf-8").decode(i);return JSON.parse(a)}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=t.map(((e,n)=>(n&&(e=e.replace(new RegExp("^/"),"")),n!==t.length-1&&(e=e.replace(new RegExp("/$"),"")),e))),t.join("/")}},"./src/utils/image.js":(e,t,n)=>{n.r(t),n.d(t,{RawImage:()=>f,load_image:()=>m});var r=n("./src/utils/core.js"),i=n("./src/utils/hub.js"),a=n("./src/env.js"),o=n("./src/utils/tensor.js"),s=n("?2b25");let l,c,u;const d=a.apis.IS_BROWSER_ENV||a.apis.IS_WEBWORKER_ENV;if(d)l=(e,t)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(e,t)},u=self.createImageBitmap,c=self.ImageData;else{if(!s)throw new Error("Unable to load image processing library.");u=async e=>{const t=(await e.metadata()).channels,{data:n,info:r}=await e.rotate().raw().toBuffer({resolveWithObject:!0}),i=new f(new Uint8ClampedArray(n),r.width,r.height,r.channels);return void 0!==t&&t!==r.channels&&i.convert(t),i}}const h={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},p=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class f{constructor(e,t,n,r){this.data=e,this.width=t,this.height=n,this.channels=r}get size(){return[this.width,this.height]}static async read(e){if(e instanceof f)return e;if("string"===typeof e||e instanceof URL)return await this.fromURL(e);if(e instanceof Blob)return await this.fromBlob(e);if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return this.fromCanvas(e);throw new Error("Unsupported input type: ".concat(typeof e))}static fromCanvas(e){if(!d)throw new Error("fromCanvas() is only supported in browser environments.");const t=e.getContext("2d").getImageData(0,0,e.width,e.height).data;return new f(t,e.width,e.height,4)}static async fromURL(e){const t=await(0,i.getFile)(e);if(200!==t.status)throw new Error('Unable to read image from "'.concat(e,'" (').concat(t.status," ").concat(t.statusText,")"));const n=await t.blob();return this.fromBlob(n)}static async fromBlob(e){if(d){const t=await u(e),n=l(t.width,t.height).getContext("2d");return n.drawImage(t,0,0),new this(n.getImageData(0,0,t.width,t.height).data,t.width,t.height,4)}{const t=s(await e.arrayBuffer());return await u(t)}}static fromTensor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CHW";if(3!==e.dims.length)throw new Error("Tensor should have 3 dimensions, but has ".concat(e.dims.length," dimensions."));if("CHW"===t)e=e.transpose(1,2,0);else if("HWC"!==t)throw new Error("Unsupported channel format: ".concat(t));if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error("Unsupported tensor type: ".concat(e.type));switch(e.dims[2]){case 1:case 2:case 3:case 4:return new f(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error("Unsupported number of channels: ".concat(e.dims[2]))}}grayscale(){if(1===this.channels)return this;const e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let t=0,n=0;t<this.data.length;t+=this.channels){const r=this.data[t],i=this.data[t+1],a=this.data[t+2];e[n++]=Math.round(.2989*r+.587*i+.114*a)}break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,1)}rgb(){if(3===this.channels)return this;const e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t];break;case 4:for(let t=0,n=0;t<this.data.length;t+=4)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2];break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,3)}rgba(){if(4===this.channels)return this;const e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=255;break;case 3:for(let t=0,n=0;t<this.data.length;t+=3)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2],e[n++]=255;break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,4)}putAlpha(e){if(e.width!==this.width||e.height!==this.height)throw new Error("Expected mask size to be ".concat(this.width,"x").concat(this.height,", but got ").concat(e.width,"x").concat(e.height));if(1!==e.channels)throw new Error("Expected mask to have 1 channel, but got ".concat(e.channels));const t=this.data,n=e.data,r=this.width*this.height;if(3===this.channels){const e=new Uint8ClampedArray(4*r);for(let i=0,a=0,o=0;i<r;++i)e[o++]=t[a++],e[o++]=t[a++],e[o++]=t[a++],e[o++]=n[i];return this._update(e,this.width,this.height,4)}if(4===this.channels){for(let e=0;e<r;++e)t[4*e+3]=n[e];return this}throw new Error("Expected image to have 3 or 4 channels, but got ".concat(this.channels))}async resize(e,t){var n;let{resample:i=2}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.width===e&&this.height===t)return this;let a=null!==(n=h[i])&&void 0!==n?n:i;const o=(0,r.isNullishDimension)(e),s=(0,r.isNullishDimension)(t);if(o&&s)return this;if(o?e=t/this.height*this.width:s&&(t=e/this.width*this.height),d){const n=this.channels,r=this.toCanvas(),i=l(e,t).getContext("2d");i.drawImage(r,0,0,e,t);return new f(i.getImageData(0,0,e,t).data,e,t,4).convert(n)}{let n=this.toSharp();switch(a){case"box":case"hamming":"box"!==a&&"hamming"!==a||(console.warn("Resampling method ".concat(a," is not yet supported. Using bilinear instead.")),a="bilinear");case"nearest":case"bilinear":case"bicubic":n=n.affine([e/this.width,0,0,t/this.height],{interpolator:a});break;case"lanczos":n=n.resize({width:e,height:t,fit:"fill",kernel:"lanczos3"});break;default:throw new Error("Resampling method ".concat(a," is not supported."))}return await u(n)}}async pad(e){let[t,n,r,i]=e;if(t=Math.max(t,0),n=Math.max(n,0),r=Math.max(r,0),i=Math.max(i,0),0===t&&0===n&&0===r&&0===i)return this;if(d){const e=this.channels,a=this.toCanvas(),o=this.width+t+n,s=this.height+r+i,c=l(o,s).getContext("2d");c.drawImage(a,0,0,this.width,this.height,t,r,this.width,this.height);return new f(c.getImageData(0,0,o,s).data,o,s,4).convert(e)}{const e=this.toSharp().extend({left:t,right:n,top:r,bottom:i});return await u(e)}}async crop(e){let[t,n,r,i]=e;if(t=Math.max(t,0),n=Math.max(n,0),r=Math.min(r,this.width-1),i=Math.min(i,this.height-1),0===t&&0===n&&r===this.width-1&&i===this.height-1)return this;const a=r-t+1,o=i-n+1;if(d){const e=this.channels,r=this.toCanvas(),i=l(a,o).getContext("2d");i.drawImage(r,t,n,a,o,0,0,a,o);return new f(i.getImageData(0,0,a,o).data,a,o,4).convert(e)}{const e=this.toSharp().extract({left:t,top:n,width:a,height:o});return await u(e)}}async center_crop(e,t){if(this.width===e&&this.height===t)return this;const n=(this.width-e)/2,r=(this.height-t)/2;if(d){const i=this.channels,a=this.toCanvas(),o=l(e,t).getContext("2d");let s=0,c=0,u=0,d=0;n>=0?s=n:u=-n,r>=0?c=r:d=-r,o.drawImage(a,s,c,e,t,u,d,e,t);return new f(o.getImageData(0,0,e,t).data,e,t,4).convert(i)}{let i=this.toSharp();if(n>=0&&r>=0)i=i.extract({left:Math.floor(n),top:Math.floor(r),width:e,height:t});else if(n<=0&&r<=0){const a=Math.floor(-r),o=Math.floor(-n);i=i.extend({top:a,left:o,right:e-this.width-o,bottom:t-this.height-a})}else{let a=[0,0],o=0;r<0?(a[0]=Math.floor(-r),a[1]=t-this.height-a[0]):o=Math.floor(r);let s=[0,0],l=0;n<0?(s[0]=Math.floor(-n),s[1]=e-this.width-s[0]):l=Math.floor(n),i=i.extend({top:a[0],bottom:a[1],left:s[0],right:s[1]}).extract({left:l,top:o,width:e,height:t})}return await u(i)}}async toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!d)throw new Error("toBlob() is only supported in browser environments.");const n=this.toCanvas();return await n.convertToBlob({type:e,quality:t})}toTensor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CHW",t=new o.Tensor("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if("HWC"===e);else{if("CHW"!==e)throw new Error("Unsupported channel format: ".concat(e));t=t.permute(2,0,1)}return t}toCanvas(){if(!d)throw new Error("toCanvas() is only supported in browser environments.");const e=this.clone().rgba(),t=l(e.width,e.height),n=new c(e.data,e.width,e.height);return t.getContext("2d").putImageData(n,0,0),t}split(){const{data:e,width:t,height:n,channels:r}=this,i=e.constructor,a=e.length/r,o=Array.from({length:r},(()=>new i(a)));for(let s=0;s<a;++s){const t=r*s;for(let n=0;n<r;++n)o[n][s]=e[t+n]}return o.map((e=>new f(e,t,n,1)))}_update(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.data=e,this.width=t,this.height=n,null!==r&&(this.channels=r),this}clone(){return new f(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this}async save(e){if(!d){if(a.apis.IS_FS_AVAILABLE){const t=this.toSharp();return await t.toFile(e)}throw new Error("Unable to save the image because filesystem is disabled in this environment.")}{var t;if(a.apis.IS_WEBWORKER_ENV)throw new Error("Unable to save an image from a Web Worker.");const n=e.split(".").pop().toLowerCase(),i=null!==(t=p.get(n))&&void 0!==t?t:"image/png",o=await this.toBlob(i);(0,r.saveBlob)(e,o)}}toSharp(){if(d)throw new Error("toSharp() is only supported in server-side environments.");return s(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}const m=f.read.bind(f)},"./src/utils/maths.js":(e,t,n)=>{function r(e,t,n){let[r,i,a]=t,[o,s]=n;const l=s/a,c=o/i,u=new e.constructor(o*s*r),d=i*a,h=o*s;for(let p=0;p<o;++p)for(let t=0;t<s;++t){const n=p*s+t,o=(t+.5)/l-.5,f=(p+.5)/c-.5;let m=Math.floor(o),g=Math.floor(f);const y=Math.min(m+1,a-1),b=Math.min(g+1,i-1);m=Math.max(m,0),g=Math.max(g,0);const w=o-m,v=f-g,_=(1-w)*(1-v),x=w*(1-v),k=(1-w)*v,D=w*v,T=g*a,A=b*a,S=T+m,C=T+y,E=A+m,F=A+y;for(let t=0;t<r;++t){const r=t*d;u[t*h+n]=_*e[r+S]+x*e[r+C]+k*e[r+E]+D*e[r+F]}}return u}function i(e,t,n){const r=new Array(n.length),i=new Array(n.length);for(let s=n.length-1,l=1;s>=0;--s)i[s]=l,r[s]=t[n[s]],l*=r[s];const a=n.map(((e,t)=>i[n.indexOf(t)])),o=new e.constructor(e.length);for(let s=0;s<e.length;++s){let n=0;for(let e=t.length-1,r=s;e>=0;--e)n+=r%t[e]*a[e],r=Math.floor(r/t[e]);o[n]=e[s]}return[o,r]}function a(e){const t=d(e)[0],n=e.map((e=>Math.exp(e-t))),r=n.reduce(((e,t)=>e+t),0),i=n.map((e=>e/r));return i}function o(e){const t=d(e)[0];let n=0;for(let a=0;a<e.length;++a)n+=Math.exp(e[a]-t);const r=Math.log(n),i=e.map((e=>e-t-r));return i}function s(e,t){let n=0;for(let r=0;r<e.length;++r)n+=e[r]*t[r];return n}function l(e,t){return s(e,t)/(c(e)*c(t))}function c(e){return Math.sqrt(e.reduce(((e,t)=>e+t*t),0))}function u(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]<t&&(t=e[r],n=r);return[t,n]}function d(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]>t&&(t=e[r],n=r);return[t,n]}function h(e){return e>0&&0===(e&e-1)}n.r(t),n.d(t,{FFT:()=>m,bankers_round:()=>b,cos_sim:()=>l,dot:()=>s,dynamic_time_warping:()=>w,interpolate_data:()=>r,log_softmax:()=>o,magnitude:()=>c,max:()=>d,medianFilter:()=>g,min:()=>u,permute_data:()=>i,round:()=>y,softmax:()=>a});class p{constructor(e){if(this.size=0|e,this.size<=1||!h(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(2*this.size);for(let n=0;n<this.table.length;n+=2){const e=Math.PI*n/this.size;this.table[n]=Math.cos(e),this.table[n+1]=-Math.sin(e)}let t=0;for(let n=1;this.size>n;n<<=1)++t;this._width=t%2===0?t-1:t,this._bitrev=new Int32Array(1<<this._width);for(let n=0;n<this._bitrev.length;++n){this._bitrev[n]=0;for(let e=0;e<this._width;e+=2){const t=this._width-e-2;this._bitrev[n]|=(n>>>e&3)<<t}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,t){const n=t||new Array(e.length>>>1);for(let r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n}toComplexArray(e,t){const n=t||this.createComplexArray();for(let r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n}transform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,1)}realTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._realTransform4(e,t,1)}inverseTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,-1);for(let n=0;n<e.length;++n)e[n]/=this.size}_transform4(e,t,n){const r=this._csize;let i,a,o=1<<this._width,s=r/o<<1;const l=this._bitrev;if(4===s)for(i=0,a=0;i<r;i+=s,++a){const n=l[a];this._singleTransform2(t,e,i,n,o)}else for(i=0,a=0;i<r;i+=s,++a){const r=l[a];this._singleTransform4(t,e,i,r,o,n)}const c=this.table;for(o>>=2;o>=2;o>>=2){s=r/o<<1;const t=s>>>2;for(i=0;i<r;i+=s){const r=i+t-1;for(let a=i,s=0;a<r;a+=2,s+=o){const r=a,i=r+t,o=i+t,l=o+t,u=e[r],d=e[r+1],h=e[i],p=e[i+1],f=e[o],m=e[o+1],g=e[l],y=e[l+1],b=c[s],w=n*c[s+1],v=h*b-p*w,_=h*w+p*b,x=c[2*s],k=n*c[2*s+1],D=f*x-m*k,T=f*k+m*x,A=c[3*s],S=n*c[3*s+1],C=g*A-y*S,E=g*S+y*A,F=u+D,M=d+T,I=u-D,P=d-T,z=v+C,N=_+E,O=n*(v-C),B=n*(_-E);e[r]=F+z,e[r+1]=M+N,e[i]=I+B,e[i+1]=P-O,e[o]=F-z,e[o+1]=M-N,e[l]=I-B,e[l+1]=P+O}}}}_singleTransform2(e,t,n,r,i){const a=e[r],o=e[r+1],s=e[r+i],l=e[r+i+1];t[n]=a+s,t[n+1]=o+l,t[n+2]=a-s,t[n+3]=o-l}_singleTransform4(e,t,n,r,i,a){const o=2*i,s=3*i,l=e[r],c=e[r+1],u=e[r+i],d=e[r+i+1],h=e[r+o],p=e[r+o+1],f=e[r+s],m=e[r+s+1],g=l+h,y=c+p,b=l-h,w=c-p,v=u+f,_=d+m,x=a*(u-f),k=a*(d-m);t[n]=g+v,t[n+1]=y+_,t[n+2]=b+k,t[n+3]=w-x,t[n+4]=g-v,t[n+5]=y-_,t[n+6]=b-k,t[n+7]=w+x}_realTransform4(e,t,n){const r=this._csize;let i,a,o=1<<this._width,s=r/o<<1;const l=this._bitrev;if(4===s)for(i=0,a=0;i<r;i+=s,++a){const n=l[a];this._singleRealTransform2(t,e,i,n>>>1,o>>>1)}else for(i=0,a=0;i<r;i+=s,++a){const r=l[a];this._singleRealTransform4(t,e,i,r>>>1,o>>>1,n)}const c=this.table;for(o>>=2;o>=2;o>>=2){s=r/o<<1;const t=s>>>1,a=t>>>1,l=a>>>1;for(i=0;i<r;i+=s)for(let r=0,s=0;r<=l;r+=2,s+=o){const o=i+r,u=o+a,d=u+a,h=d+a,p=e[o],f=e[o+1],m=e[u],g=e[u+1],y=e[d],b=e[d+1],w=e[h],v=e[h+1],_=p,x=f,k=c[s],D=n*c[s+1],T=m*k-g*D,A=m*D+g*k,S=c[2*s],C=n*c[2*s+1],E=y*S-b*C,F=y*C+b*S,M=c[3*s],I=n*c[3*s+1],P=w*M-v*I,z=w*I+v*M,N=_+E,O=x+F,B=_-E,L=x-F,R=T+P,j=A+z,V=n*(T-P),W=n*(A-z);if(e[o]=N+R,e[o+1]=O+j,e[u]=B+W,e[u+1]=L-V,0===r){e[d]=N-R,e[d+1]=O-j;continue}if(r===l)continue;const q=i+a-r,U=i+t-r;e[q]=B-n*W,e[q+1]=-L-n*V,e[U]=N-n*R,e[U+1]=n*j-O}}const u=r>>>1;for(let d=2;d<u;d+=2)e[r-d]=e[d],e[r-d+1]=-e[d+1]}_singleRealTransform2(e,t,n,r,i){const a=e[r],o=e[r+i];t[n]=a+o,t[n+1]=0,t[n+2]=a-o,t[n+3]=0}_singleRealTransform4(e,t,n,r,i,a){const o=2*i,s=3*i,l=e[r],c=e[r+i],u=e[r+o],d=e[r+s],h=l+u,p=l-u,f=c+d,m=a*(c-d);t[n]=h+f,t[n+1]=0,t[n+2]=p,t[n+3]=-m,t[n+4]=h-f,t[n+5]=0,t[n+6]=p,t[n+7]=m}}class f{constructor(e){const t=2*(e-1),n=2*(2*e-1),r=2**Math.ceil(Math.log2(n));this.bufferSize=r,this._a=t;const i=new Float64Array(n),a=new Float64Array(r);this._chirpBuffer=new Float64Array(r),this._buffer1=new Float64Array(r),this._buffer2=new Float64Array(r),this._outBuffer1=new Float64Array(r),this._outBuffer2=new Float64Array(r);const o=-2*Math.PI/e,s=Math.cos(o),l=Math.sin(o);for(let c=0;c<n>>1;++c){const t=(c+1-e)**2/2,n=Math.sqrt(s**2+l**2)**t,r=t*Math.atan2(l,s),o=2*c;i[o]=n*Math.cos(r),i[o+1]=n*Math.sin(r),a[o]=i[o],a[o+1]=-i[o+1]}this._slicedChirpBuffer=i.subarray(t,n),this._f=new p(r>>1),this._f.transform(this._chirpBuffer,a)}_transform(e,t,n){const r=this._buffer1,i=this._buffer2,a=this._outBuffer1,o=this._outBuffer2,s=this._chirpBuffer,l=this._slicedChirpBuffer,c=this._a;if(n)for(let u=0;u<l.length;u+=2){const e=u+1,n=t[u>>1];r[u]=n*l[u],r[e]=n*l[e]}else for(let u=0;u<l.length;u+=2){const e=u+1;r[u]=t[u]*l[u]-t[e]*l[e],r[e]=t[u]*l[e]+t[e]*l[u]}this._f.transform(a,r);for(let u=0;u<s.length;u+=2){const e=u+1;i[u]=a[u]*s[u]-a[e]*s[e],i[e]=a[u]*s[e]+a[e]*s[u]}this._f.inverseTransform(o,i);for(let u=0;u<o.length;u+=2){const t=o[u+c],n=o[u+c+1],r=l[u],i=l[u+1];e[u]=t*r-n*i,e[u+1]=t*i+n*r}}transform(e,t){this._transform(e,t,!1)}realTransform(e,t){this._transform(e,t,!0)}}class m{constructor(e){this.fft_length=e,this.isPowerOfTwo=h(e),this.isPowerOfTwo?(this.fft=new p(e),this.outputBufferSize=2*e):(this.fft=new f(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,t){this.fft.realTransform(e,t)}transform(e,t){this.fft.transform(e,t)}}function g(e,t){if(t%2===0||t<=0)throw new Error("Window size must be a positive odd number");const n=new e.constructor(e.length),r=new e.constructor(t),i=Math.floor(t/2);for(let a=0;a<e.length;++a){let t=0;for(let n=-i;n<=i;++n){let i=a+n;i<0?i=Math.abs(i):i>=e.length&&(i=2*(e.length-1)-i),r[t++]=e[i]}r.sort(),n[a]=r[i]}return n}function y(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function b(e){const t=Math.round(e);return Math.abs(e)%1===.5?t%2===0?t:t-1:t}function w(e){const t=e.length,n=e[0].length,r=[t+1,n+1],i=Array.from({length:r[0]},(()=>Array(r[1]).fill(1/0)));i[0][0]=0;const a=Array.from({length:r[0]},(()=>Array(r[1]).fill(-1)));for(let u=1;u<r[1];++u)for(let t=1;t<r[0];++t){const n=i[t-1][u-1],r=i[t-1][u],o=i[t][u-1];let s,l;n<r&&n<o?(s=n,l=0):r<n&&r<o?(s=r,l=1):(s=o,l=2),i[t][u]=e[t-1][u-1]+s,a[t][u]=l}for(let u=0;u<r[1];++u)a[0][u]=2;for(let u=0;u<r[0];++u)a[u][0]=1;let o=t,s=n,l=[],c=[];for(;o>0||s>0;)switch(l.push(o-1),c.push(s-1),a[o][s]){case 0:--o,--s;break;case 1:--o;break;case 2:--s;break;default:throw new Error("Internal error in dynamic time warping. Unexpected trace[".concat(o,", ").concat(s,"]. Please file a bug report."))}return l.reverse(),c.reverse(),[l,c]}},"./src/utils/tensor.js":(e,t,n)=>{n.r(t),n.d(t,{DataTypeMap:()=>o,Tensor:()=>s,cat:()=>x,full:()=>C,full_like:()=>E,interpolate:()=>u,interpolate_4d:()=>d,layer_norm:()=>b,matmul:()=>h,mean:()=>A,mean_pooling:()=>y,ones:()=>F,ones_like:()=>M,permute:()=>c,quantize_embeddings:()=>N,rand:()=>z,rfft:()=>p,slice:()=>g,stack:()=>k,std_mean:()=>T,topk:()=>f,zeros:()=>I,zeros_like:()=>P});var r=n("./src/utils/maths.js"),i=n("./src/backends/onnx.js"),a=n("./src/ops/registry.js");const o=Object.freeze({float32:Float32Array,float16:"undefined"!==typeof Float16Array?Float16Array:Uint16Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array,uint4:Uint8Array,int4:Int8Array});class s{get dims(){return this.ort_tensor.dims}set dims(e){this.ort_tensor.dims=e}get type(){return this.ort_tensor.type}get data(){return this.ort_tensor.data}get size(){return this.ort_tensor.size}get location(){return this.ort_tensor.location}constructor(){return l(this,"ort_tensor",void 0),(0,i.isONNXTensor)(arguments.length<=0?void 0:arguments[0])?this.ort_tensor=arguments.length<=0?void 0:arguments[0]:this.ort_tensor=new i.Tensor(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),new Proxy(this,{get:(e,t)=>{if("string"===typeof t){let n=Number(t);if(Number.isInteger(n))return e._getitem(n)}return e[t]},set:(e,t,n)=>e[t]=n})}dispose(){this.ort_tensor.dispose()}*[Symbol.iterator](){const[e,...t]=this.dims;if(t.length>0){const n=t.reduce(((e,t)=>e*t));for(let r=0;r<e;++r)yield this._subarray(r,n,t)}else yield*this.data}_getitem(e){const[t,...n]=this.dims;if(e=_(e,t),n.length>0){const t=n.reduce(((e,t)=>e*t));return this._subarray(e,t,n)}return new s(this.type,[this.data[e]],n)}indexOf(e){const t=this.data;for(let n=0;n<t.length;++n)if(t[n]==e)return n;return-1}_subarray(e,t,n){const r=e*t,i=(e+1)*t,a="subarray"in this.data?this.data.subarray(r,i):this.data.slice(r,i);return new s(this.type,a,n)}item(){const e=this.data;if(1!==e.length)throw new Error("a Tensor with ".concat(e.length," elements cannot be converted to Scalar"));return e[0]}tolist(){return function(e,t){const n=e.length,r=t.reduce(((e,t)=>e*t));if(n!==r)throw Error("cannot reshape array of size ".concat(n," into shape (").concat(t,")"));let i=e;for(let a=t.length-1;a>=0;a--)i=i.reduce(((e,n)=>{let r=e[e.length-1];return r.length<t[a]?r.push(n):e.push([n]),e}),[[]]);return i[0]}(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){const e=this.data;for(let t=0;t<e.length;++t)e[t]=1/(1+Math.exp(-e[t]));return this}map(e){return this.clone().map_(e)}map_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]=e(t[n],n,t);return this}mul(e){return this.clone().mul_(e)}mul_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]*=e;return this}div(e){return this.clone().div_(e)}div_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]/=e;return this}add(e){return this.clone().add_(e)}add_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]+=e;return this}sub(e){return this.clone().sub_(e)}sub_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]-=e;return this}clone(){return new s(this.type,this.data.slice(),this.dims.slice())}slice(){const e=[],t=[];for(let s=0;s<this.dims.length;++s){let n=s<0||arguments.length<=s?void 0:arguments[s];if(null===n||void 0===n)t.push([0,this.dims[s]]),e.push(this.dims[s]);else if("number"===typeof n)n=_(n,this.dims[s],s),t.push([n,n+1]);else{if(!Array.isArray(n)||2!==n.length)throw new Error("Invalid slice: ".concat(n));{let[r,i]=n;if(r=null===r?0:_(r,this.dims[s],s,!1),i=null===i?this.dims[s]:_(i,this.dims[s],s,!1),r>i)throw new Error("Invalid slice: ".concat(n));const a=[Math.max(r,0),Math.min(i,this.dims[s])];t.push(a),e.push(a[1]-a[0])}}}const n=t.map((e=>{let[t,n]=e;return n-t})),r=n.reduce(((e,t)=>e*t)),i=this.data,a=new i.constructor(r),o=this.stride();for(let s=0;s<r;++s){let e=0;for(let r=n.length-1,i=s;r>=0;--r){const a=n[r];e+=(i%a+t[r][0])*o[r],i=Math.floor(i/a)}a[s]=i[e]}return new s(this.type,a,e)}permute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(this,t)}transpose(){return this.permute(...arguments)}sum(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.norm(1,e,t)}norm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fro",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("fro"===e)e=2;else if("string"===typeof e)throw Error("Unsupported norm: ".concat(e));const r=this.data,i=(t,n)=>t+n**e;if(null===t){const t=r.reduce(i,0)**(1/e);return new s(this.type,[t],[])}const[a,o,l]=D(i,this,t,n);if(1!==e)for(let s=0;s<o.length;++s)o[s]=o[s]**(1/e);return new s(a,o,l)}normalize_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=_(t,this.dims.length);const n=this.norm(e,t,!0),r=this.data,i=n.data;for(let a=0;a<r.length;++a){let e=0;for(let n=this.dims.length-1,r=a,i=1;n>=0;--n){const a=this.dims[n];if(n!==t){e+=r%a*i,i*=this.dims[n]}r=Math.floor(r/a)}r[a]/=i[e]}return this}normalize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.clone().normalize_(e,t)}stride(){return function(e){const t=new Array(e.length);for(let n=e.length-1,r=1;n>=0;--n)t[n]=r,r*=e[n];return t}(this.dims)}squeeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new s(this.type,this.data,w(this.dims,e))}squeeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=w(this.dims,e),this}unsqueeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new s(this.type,this.data,v(this.dims,e))}unsqueeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=v(this.dims,e),this}flatten_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t=(t+this.dims.length)%this.dims.length;let n=this.dims.slice(0,e),r=this.dims.slice(e,t+1),i=this.dims.slice(t+1);return this.dims=[...n,r.reduce(((e,t)=>e*t),1),...i],this}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.clone().flatten_(e,t)}view(){let e=-1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(let a=0;a<n.length;++a)if(-1===n[a]){if(-1!==e)throw new Error("Only one dimension can be inferred");e=a}const i=this.data;if(-1!==e){const t=n.reduce(((t,n,r)=>r!==e?t*n:t),1);n[e]=i.length/t}return new s(this.type,i,n)}neg_(){const e=this.data;for(let t=0;t<e.length;++t)e[t]=-e[t];return this}neg(){return this.clone().neg_()}gt(e){const t=new Uint8Array(this.data.length),n=this.data;for(let r=0;r<n.length;++r)t[r]=n[r]>e?1:0;return new s("bool",t,this.dims)}lt(e){const t=new Uint8Array(this.data.length),n=this.data;for(let r=0;r<n.length;++r)t[r]=n[r]<e?1:0;return new s("bool",t,this.dims)}clamp_(e,t){const n=this.data;for(let r=0;r<n.length;++r)n[r]=Math.min(Math.max(n[r],e),t);return this}clamp(e,t){return this.clone().clamp_(e,t)}round_(){const e=this.data;for(let t=0;t<e.length;++t)e[t]=Math.round(e[t]);return this}round(){return this.clone().round_()}mean(){return A(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}min(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e){const e=(0,r.min)(this.data)[0];return new s(this.type,[e],[])}const[n,i,a]=D(((e,t)=>Math.min(e,t)),this,e,t,1/0);return new s(n,i,a)}max(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e){const e=(0,r.max)(this.data)[0];return new s(this.type,[e],[])}const[n,i,a]=D(((e,t)=>Math.max(e,t)),this,e,t,-1/0);return new s(n,i,a)}argmin(){if(null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null))throw new Error("`dim !== null` not yet implemented.");const e=(0,r.min)(this.data)[1];return new s("int64",[BigInt(e)],[])}argmax(){if(null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null))throw new Error("`dim !== null` not yet implemented.");const e=(0,r.max)(this.data)[1];return new s("int64",[BigInt(e)],[])}to(e){if(this.type===e)return this;if(!o.hasOwnProperty(e))throw new Error("Unsupported type: ".concat(e));let t;const n=["int64","uint64"].includes(this.type),r=["int64","uint64"].includes(e);return n&&!r?t=Number:!n&&r&&(t=BigInt),new s(e,o[e].from(this.data,t),this.dims)}}function c(e,t){const[n,i]=(0,r.permute_data)(e.data,e.dims,t);return new s(e.type,n,i)}function u(e,t){var n;let[i,a]=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bilinear",l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const c=null!==(n=e.dims.at(-3))&&void 0!==n?n:1,u=e.dims.at(-2),d=e.dims.at(-1);let h=(0,r.interpolate_data)(e.data,[c,u,d],[i,a],o,l);return new s(e.type,h,[c,i,a])}async function d(e){let t,n,{size:r=null,mode:i="bilinear"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(4!==e.dims.length)throw new Error("`interpolate_4d` currently only supports 4D input.");if(!r)throw new Error("`interpolate_4d` requires a `size` argument.");if(2===r.length)t=[...e.dims.slice(0,2),...r];else if(3===r.length)t=[e.dims[0],...r];else{if(4!==r.length)throw new Error("`size` must be of length 2, 3, or 4.");t=r}if("nearest"===i)n=await a.TensorOpRegistry.nearest_interpolate_4d;else if("bilinear"===i)n=await a.TensorOpRegistry.bilinear_interpolate_4d;else{if("bicubic"!==i)throw new Error("Unsupported mode: ".concat(i));n=await a.TensorOpRegistry.bicubic_interpolate_4d}const o=new s("int64",new BigInt64Array(t.map(BigInt)),[t.length]);return await n({x:e,s:o})}async function h(e,t){const n=await a.TensorOpRegistry.matmul;return await n({a:e,b:t})}async function p(e,t){const n=await a.TensorOpRegistry.rfft;return await n({x:e,a:t})}async function f(e,t){const n=await a.TensorOpRegistry.top_k;return t=null==t?e.dims.at(-1):Math.min(t,e.dims.at(-1)),await n({x:e,k:new s("int64",[BigInt(t)],[1])})}const m=e=>new s("int64",e,[e.length]);async function g(e,t,n,r,i){const o=await a.TensorOpRegistry.slice;return await o({x:e,s:m(t),e:m(n),a:m(r),t:m(null!==i&&void 0!==i?i:new Array(r.length).fill(1))})}function y(e,t){const n=e.data,r=t.data,i=[e.dims[0],e.dims[2]],a=new n.constructor(i[0]*i[1]),[o,l,c]=e.dims;let u=0;for(let s=0;s<o;++s){const e=s*c*l;for(let t=0;t<c;++t){let i=0,o=0;const d=s*l,h=e+t;for(let e=0;e<l;++e){const t=Number(r[d+e]);o+=t,i+=n[h+e*c]*t}const p=i/o;a[u++]=p}}return new s(e.type,a,i)}function b(e,t){let{eps:n=1e-5}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(2!==e.dims.length)throw new Error("`layer_norm` currently only supports 2D input.");const[r,i]=e.dims;if(1!==t.length&&t[0]!==i)throw new Error("`normalized_shape` must be a 1D array with shape `[input.dims[1]]`.");const[a,o]=T(e,1,0,!0),l=a.data,c=o.data,u=e.data,d=new u.constructor(u.length);for(let s=0;s<r;++s){const e=s*i;for(let t=0;t<i;++t){const r=e+t;d[r]=(u[r]-c[s])/(l[s]+n)}}return new s(e.type,d,e.dims)}function w(e,t){return e=e.slice(),null===t?e=e.filter((e=>1!==e)):"number"===typeof t?1===e[t]&&e.splice(t,1):Array.isArray(t)&&(e=e.filter(((e,n)=>1!==e||!t.includes(n)))),e}function v(e,t){return t=_(t,e.length+1),(e=e.slice()).splice(t,0,1),e}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e<-t||e>=t){if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])throw new Error("IndexError: index ".concat(e," is out of bounds for dimension").concat(null===n?"":" "+n," with size ").concat(t));return e<-t?0:t}return e<0&&(e=(e%t+t)%t),e}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=_(t,e[0].dims.length);const n=e[0].dims.slice();n[t]=e.reduce(((e,n)=>e+n.dims[t]),0);const r=n.reduce(((e,t)=>e*t),1),i=new e[0].data.constructor(r),a=e[0].type;if(0===t){let t=0;for(const n of e){const e=n.data;i.set(e,t),t+=e.length}}else{let r=0;for(let a=0;a<e.length;++a){const{data:o,dims:s}=e[a];for(let e=0;e<o.length;++e){let a=0;for(let i=s.length-1,o=e,l=1;i>=0;--i){const e=s[i];let c=o%e;i===t&&(c+=r),a+=c*l,l*=n[i],o=Math.floor(o/e)}i[a]=o[e]}r+=s[t]}}return new s(a,i,n)}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return x(e.map((e=>e.unsqueeze(t))),t)}function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=t.data,o=t.dims;n=_(n,o.length);const s=o.slice();s[n]=1;const l=new a.constructor(a.length/o[n]);null!==i&&l.fill(i);for(let c=0;c<a.length;++c){let t=0;for(let e=o.length-1,r=c,i=1;e>=0;--e){const a=o[e];if(e!==n){t+=r%a*i,i*=s[e]}r=Math.floor(r/a)}l[t]=e(l[t],a[c],c,t)}return r||s.splice(n,1),[t.type,l,s]}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=e.data,a=e.dims;if(null===t){const t=i.reduce(((e,t)=>e+t),0),r=t/i.length,a=Math.sqrt(i.reduce(((e,t)=>e+(t-r)**2),0)/(i.length-n)),o=new s(e.type,[r],[]);return[new s(e.type,[a],[]),o]}t=_(t,a.length);const o=A(e,t,r),l=o.data,[c,u,d]=D(((e,t,n,r)=>e+(t-l[r])**2),e,t,r);for(let s=0;s<u.length;++s)u[s]=Math.sqrt(u[s]/(a[t]-n));return[new s(c,u,d),o]}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.dims,i=e.data;if(null===t){const t=i.reduce(((e,t)=>e+t),0);return new s(e.type,[t/i.length],[])}t=_(t,r.length);const[a,o,l]=D(((e,t)=>e+t),e,t,n);if(1!==r[t])for(let s=0;s<o.length;++s)o[s]/=r[t];return new s(a,o,l)}function S(e,t,n,r){const i=e.reduce(((e,t)=>e*t),1);return new s(n,new r(i).fill(t),e)}function C(e,t){let n,r;if("number"===typeof t)n="float32",r=Float32Array;else if("bigint"===typeof t)n="int64",r=BigInt64Array;else{if("boolean"!==typeof t)throw new Error("Unsupported data type: ".concat(typeof t));n="bool",r=Uint8Array}return S(e,t,n,r)}function E(e,t){return C(e.dims,t)}function F(e){return S(e,1n,"int64",BigInt64Array)}function M(e){return F(e.dims)}function I(e){return S(e,0n,"int64",BigInt64Array)}function P(e){return I(e.dims)}function z(e){const t=e.reduce(((e,t)=>e*t),1);return new s("float32",Float32Array.from({length:t},(()=>Math.random())),e)}function N(e,t){if(2!==e.dims.length)throw new Error("The tensor must have 2 dimensions");if(e.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(t))throw new Error("The precision must be either 'binary' or 'ubinary'");const n="binary"===t,r=n?"int8":"uint8",i=n?Int8Array:Uint8Array,a=e.data,o=new i(a.length/8);for(let s=0;s<a.length;++s){const e=a[s]>0?1:0,t=Math.floor(s/8),r=s%8;o[t]|=e<<7-r,n&&0===r&&(o[t]-=128)}return new s(r,o,[e.dims[0],e.dims[1]/8])}},"./src/utils/video.js":(e,t,n)=>{n.r(t),n.d(t,{RawVideo:()=>o,RawVideoFrame:()=>a,load_video:()=>s});var r=n("./src/utils/image.js"),i=n("./src/env.js");class a{constructor(e,t){this.image=e,this.timestamp=t}}class o{constructor(e,t){e.length>0&&e[0]instanceof r.RawImage&&(e=e.map(((n,r)=>new a(n,(r+1)/(e.length+1)*t)))),this.frames=e,this.duration=t}get width(){return this.frames[0].image.width}get height(){return this.frames[0].image.height}get fps(){return this.frames.length/this.duration}}async function s(e){let{num_frames:t=null,fps:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i.apis.IS_BROWSER_ENV)throw new Error("`load_video` is currently only supported in browser environments.");if(null==t&&null==n)throw new Error("Either num_frames or fps must be provided.");const s=[],l=document.createElement("video");if(l.crossOrigin="anonymous",l.muted=!0,"string"===typeof e)l.src=e;else if(e instanceof Blob)l.src=URL.createObjectURL(e);else{if(!(e instanceof HTMLVideoElement))throw new Error("Invalid URL or video element provided.");l.src=e.src}if(await new Promise((e=>l.onloadedmetadata=e)),l.seekable.start(0)===l.seekable.end(0)){const e=await fetch(l.src),t=await e.blob();l.src=URL.createObjectURL(t),await new Promise((e=>l.onloadedmetadata=e))}const c=l.duration;let u,d;null!=t?(u=t,d=1===t?0:c/(t-1)):(d=1/n,u=Math.floor(c/d));let h=[];for(let r=0;r<u;++r)h.push(1===t?c/2:r*d);const p=document.createElement("canvas");p.width=l.videoWidth,p.height=l.videoHeight;const f=p.getContext("2d",{willReadFrequently:!0});for(const i of h){l.currentTime=i,await new Promise((e=>{l.onseeked=e})),f.drawImage(l,0,0,p.width,p.height);const e=f.getImageData(0,0,p.width,p.height),t=new r.RawImage(e.data,p.width,p.height,4),n=new a(t,i);s.push(n)}return l.remove(),new o(s,c)}}},ah={};function oh(e){var t=ah[e];if(void 0!==t)return t.exports;var n=ah[e]={exports:{}};return ih[e](n,n.exports,oh),n.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;oh.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);oh.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,oh.d(i,a),i}})(),oh.d=(e,t)=>{for(var n in t)oh.o(t,n)&&!oh.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},oh.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),oh.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var sh={};(()=>{oh.r(sh),oh.d(sh,{ASTFeatureExtractor:()=>d.ASTFeatureExtractor,ASTForAudioClassification:()=>n.ASTForAudioClassification,ASTModel:()=>n.ASTModel,ASTPreTrainedModel:()=>n.ASTPreTrainedModel,AlbertForMaskedLM:()=>n.AlbertForMaskedLM,AlbertForQuestionAnswering:()=>n.AlbertForQuestionAnswering,AlbertForSequenceClassification:()=>n.AlbertForSequenceClassification,AlbertModel:()=>n.AlbertModel,AlbertPreTrainedModel:()=>n.AlbertPreTrainedModel,AlbertTokenizer:()=>r.AlbertTokenizer,AudioClassificationPipeline:()=>t.AudioClassificationPipeline,AutoConfig:()=>i.AutoConfig,AutoFeatureExtractor:()=>h.AutoFeatureExtractor,AutoImageProcessor:()=>m.AutoImageProcessor,AutoModel:()=>n.AutoModel,AutoModelForAudioClassification:()=>n.AutoModelForAudioClassification,AutoModelForAudioFrameClassification:()=>n.AutoModelForAudioFrameClassification,AutoModelForAudioTextToText:()=>n.AutoModelForAudioTextToText,AutoModelForCTC:()=>n.AutoModelForCTC,AutoModelForCausalLM:()=>n.AutoModelForCausalLM,AutoModelForDepthEstimation:()=>n.AutoModelForDepthEstimation,AutoModelForDocumentQuestionAnswering:()=>n.AutoModelForDocumentQuestionAnswering,AutoModelForImageClassification:()=>n.AutoModelForImageClassification,AutoModelForImageFeatureExtraction:()=>n.AutoModelForImageFeatureExtraction,AutoModelForImageMatting:()=>n.AutoModelForImageMatting,AutoModelForImageSegmentation:()=>n.AutoModelForImageSegmentation,AutoModelForImageTextToText:()=>n.AutoModelForImageTextToText,AutoModelForImageToImage:()=>n.AutoModelForImageToImage,AutoModelForMaskGeneration:()=>n.AutoModelForMaskGeneration,AutoModelForMaskedLM:()=>n.AutoModelForMaskedLM,AutoModelForNormalEstimation:()=>n.AutoModelForNormalEstimation,AutoModelForObjectDetection:()=>n.AutoModelForObjectDetection,AutoModelForPoseEstimation:()=>n.AutoModelForPoseEstimation,AutoModelForQuestionAnswering:()=>n.AutoModelForQuestionAnswering,AutoModelForSemanticSegmentation:()=>n.AutoModelForSemanticSegmentation,AutoModelForSeq2SeqLM:()=>n.AutoModelForSeq2SeqLM,AutoModelForSequenceClassification:()=>n.AutoModelForSequenceClassification,AutoModelForSpeechSeq2Seq:()=>n.AutoModelForSpeechSeq2Seq,AutoModelForTextToSpectrogram:()=>n.AutoModelForTextToSpectrogram,AutoModelForTextToWaveform:()=>n.AutoModelForTextToWaveform,AutoModelForTokenClassification:()=>n.AutoModelForTokenClassification,AutoModelForUniversalSegmentation:()=>n.AutoModelForUniversalSegmentation,AutoModelForVision2Seq:()=>n.AutoModelForVision2Seq,AutoModelForXVector:()=>n.AutoModelForXVector,AutoModelForZeroShotObjectDetection:()=>n.AutoModelForZeroShotObjectDetection,AutoProcessor:()=>b.AutoProcessor,AutoTokenizer:()=>r.AutoTokenizer,AutomaticSpeechRecognitionPipeline:()=>t.AutomaticSpeechRecognitionPipeline,BackgroundRemovalPipeline:()=>t.BackgroundRemovalPipeline,BartForConditionalGeneration:()=>n.BartForConditionalGeneration,BartForSequenceClassification:()=>n.BartForSequenceClassification,BartModel:()=>n.BartModel,BartPretrainedModel:()=>n.BartPretrainedModel,BartTokenizer:()=>r.BartTokenizer,BaseModelOutput:()=>n.BaseModelOutput,BaseStreamer:()=>w.BaseStreamer,BeitFeatureExtractor:()=>f.BeitFeatureExtractor,BeitForImageClassification:()=>n.BeitForImageClassification,BeitModel:()=>n.BeitModel,BeitPreTrainedModel:()=>n.BeitPreTrainedModel,BertForMaskedLM:()=>n.BertForMaskedLM,BertForQuestionAnswering:()=>n.BertForQuestionAnswering,BertForSequenceClassification:()=>n.BertForSequenceClassification,BertForTokenClassification:()=>n.BertForTokenClassification,BertModel:()=>n.BertModel,BertPreTrainedModel:()=>n.BertPreTrainedModel,BertTokenizer:()=>r.BertTokenizer,BitImageProcessor:()=>f.BitImageProcessor,BlenderbotForConditionalGeneration:()=>n.BlenderbotForConditionalGeneration,BlenderbotModel:()=>n.BlenderbotModel,BlenderbotPreTrainedModel:()=>n.BlenderbotPreTrainedModel,BlenderbotSmallForConditionalGeneration:()=>n.BlenderbotSmallForConditionalGeneration,BlenderbotSmallModel:()=>n.BlenderbotSmallModel,BlenderbotSmallPreTrainedModel:()=>n.BlenderbotSmallPreTrainedModel,BlenderbotSmallTokenizer:()=>r.BlenderbotSmallTokenizer,BlenderbotTokenizer:()=>r.BlenderbotTokenizer,BloomForCausalLM:()=>n.BloomForCausalLM,BloomModel:()=>n.BloomModel,BloomPreTrainedModel:()=>n.BloomPreTrainedModel,BloomTokenizer:()=>r.BloomTokenizer,CLIPFeatureExtractor:()=>f.CLIPFeatureExtractor,CLIPImageProcessor:()=>f.CLIPImageProcessor,CLIPModel:()=>n.CLIPModel,CLIPPreTrainedModel:()=>n.CLIPPreTrainedModel,CLIPSegForImageSegmentation:()=>n.CLIPSegForImageSegmentation,CLIPSegModel:()=>n.CLIPSegModel,CLIPSegPreTrainedModel:()=>n.CLIPSegPreTrainedModel,CLIPTextModel:()=>n.CLIPTextModel,CLIPTextModelWithProjection:()=>n.CLIPTextModelWithProjection,CLIPTokenizer:()=>r.CLIPTokenizer,CLIPVisionModel:()=>n.CLIPVisionModel,CLIPVisionModelWithProjection:()=>n.CLIPVisionModelWithProjection,CamembertForMaskedLM:()=>n.CamembertForMaskedLM,CamembertForQuestionAnswering:()=>n.CamembertForQuestionAnswering,CamembertForSequenceClassification:()=>n.CamembertForSequenceClassification,CamembertForTokenClassification:()=>n.CamembertForTokenClassification,CamembertModel:()=>n.CamembertModel,CamembertPreTrainedModel:()=>n.CamembertPreTrainedModel,CamembertTokenizer:()=>r.CamembertTokenizer,CausalLMOutput:()=>n.CausalLMOutput,CausalLMOutputWithPast:()=>n.CausalLMOutputWithPast,ChineseCLIPFeatureExtractor:()=>f.ChineseCLIPFeatureExtractor,ChineseCLIPModel:()=>n.ChineseCLIPModel,ChineseCLIPPreTrainedModel:()=>n.ChineseCLIPPreTrainedModel,ClapAudioModelWithProjection:()=>n.ClapAudioModelWithProjection,ClapFeatureExtractor:()=>d.ClapFeatureExtractor,ClapModel:()=>n.ClapModel,ClapPreTrainedModel:()=>n.ClapPreTrainedModel,ClapTextModelWithProjection:()=>n.ClapTextModelWithProjection,ClassifierFreeGuidanceLogitsProcessor:()=>_.ClassifierFreeGuidanceLogitsProcessor,CodeGenForCausalLM:()=>n.CodeGenForCausalLM,CodeGenModel:()=>n.CodeGenModel,CodeGenPreTrainedModel:()=>n.CodeGenPreTrainedModel,CodeGenTokenizer:()=>r.CodeGenTokenizer,CodeLlamaTokenizer:()=>r.CodeLlamaTokenizer,CohereForCausalLM:()=>n.CohereForCausalLM,CohereModel:()=>n.CohereModel,CoherePreTrainedModel:()=>n.CoherePreTrainedModel,CohereTokenizer:()=>r.CohereTokenizer,ConvBertForMaskedLM:()=>n.ConvBertForMaskedLM,ConvBertForQuestionAnswering:()=>n.ConvBertForQuestionAnswering,ConvBertForSequenceClassification:()=>n.ConvBertForSequenceClassification,ConvBertForTokenClassification:()=>n.ConvBertForTokenClassification,ConvBertModel:()=>n.ConvBertModel,ConvBertPreTrainedModel:()=>n.ConvBertPreTrainedModel,ConvBertTokenizer:()=>r.ConvBertTokenizer,ConvNextFeatureExtractor:()=>f.ConvNextFeatureExtractor,ConvNextForImageClassification:()=>n.ConvNextForImageClassification,ConvNextImageProcessor:()=>f.ConvNextImageProcessor,ConvNextModel:()=>n.ConvNextModel,ConvNextPreTrainedModel:()=>n.ConvNextPreTrainedModel,ConvNextV2ForImageClassification:()=>n.ConvNextV2ForImageClassification,ConvNextV2Model:()=>n.ConvNextV2Model,ConvNextV2PreTrainedModel:()=>n.ConvNextV2PreTrainedModel,DFineForObjectDetection:()=>n.DFineForObjectDetection,DFineModel:()=>n.DFineModel,DFinePreTrainedModel:()=>n.DFinePreTrainedModel,DPTFeatureExtractor:()=>f.DPTFeatureExtractor,DPTForDepthEstimation:()=>n.DPTForDepthEstimation,DPTImageProcessor:()=>f.DPTImageProcessor,DPTModel:()=>n.DPTModel,DPTPreTrainedModel:()=>n.DPTPreTrainedModel,DacDecoderModel:()=>n.DacDecoderModel,DacDecoderOutput:()=>n.DacDecoderOutput,DacEncoderModel:()=>n.DacEncoderModel,DacEncoderOutput:()=>n.DacEncoderOutput,DacFeatureExtractor:()=>d.DacFeatureExtractor,DacModel:()=>n.DacModel,DacPreTrainedModel:()=>n.DacPreTrainedModel,DataTypeMap:()=>l.DataTypeMap,DebertaForMaskedLM:()=>n.DebertaForMaskedLM,DebertaForQuestionAnswering:()=>n.DebertaForQuestionAnswering,DebertaForSequenceClassification:()=>n.DebertaForSequenceClassification,DebertaForTokenClassification:()=>n.DebertaForTokenClassification,DebertaModel:()=>n.DebertaModel,DebertaPreTrainedModel:()=>n.DebertaPreTrainedModel,DebertaTokenizer:()=>r.DebertaTokenizer,DebertaV2ForMaskedLM:()=>n.DebertaV2ForMaskedLM,DebertaV2ForQuestionAnswering:()=>n.DebertaV2ForQuestionAnswering,DebertaV2ForSequenceClassification:()=>n.DebertaV2ForSequenceClassification,DebertaV2ForTokenClassification:()=>n.DebertaV2ForTokenClassification,DebertaV2Model:()=>n.DebertaV2Model,DebertaV2PreTrainedModel:()=>n.DebertaV2PreTrainedModel,DebertaV2Tokenizer:()=>r.DebertaV2Tokenizer,DecisionTransformerModel:()=>n.DecisionTransformerModel,DecisionTransformerPreTrainedModel:()=>n.DecisionTransformerPreTrainedModel,DeiTFeatureExtractor:()=>f.DeiTFeatureExtractor,DeiTForImageClassification:()=>n.DeiTForImageClassification,DeiTImageProcessor:()=>f.DeiTImageProcessor,DeiTModel:()=>n.DeiTModel,DeiTPreTrainedModel:()=>n.DeiTPreTrainedModel,DepthAnythingForDepthEstimation:()=>n.DepthAnythingForDepthEstimation,DepthAnythingPreTrainedModel:()=>n.DepthAnythingPreTrainedModel,DepthEstimationPipeline:()=>t.DepthEstimationPipeline,DepthProForDepthEstimation:()=>n.DepthProForDepthEstimation,DepthProPreTrainedModel:()=>n.DepthProPreTrainedModel,DetrFeatureExtractor:()=>f.DetrFeatureExtractor,DetrForObjectDetection:()=>n.DetrForObjectDetection,DetrForSegmentation:()=>n.DetrForSegmentation,DetrImageProcessor:()=>f.DetrImageProcessor,DetrModel:()=>n.DetrModel,DetrObjectDetectionOutput:()=>n.DetrObjectDetectionOutput,DetrPreTrainedModel:()=>n.DetrPreTrainedModel,DetrSegmentationOutput:()=>n.DetrSegmentationOutput,Dinov2ForImageClassification:()=>n.Dinov2ForImageClassification,Dinov2Model:()=>n.Dinov2Model,Dinov2PreTrainedModel:()=>n.Dinov2PreTrainedModel,Dinov2WithRegistersForImageClassification:()=>n.Dinov2WithRegistersForImageClassification,Dinov2WithRegistersModel:()=>n.Dinov2WithRegistersModel,Dinov2WithRegistersPreTrainedModel:()=>n.Dinov2WithRegistersPreTrainedModel,DistilBertForMaskedLM:()=>n.DistilBertForMaskedLM,DistilBertForQuestionAnswering:()=>n.DistilBertForQuestionAnswering,DistilBertForSequenceClassification:()=>n.DistilBertForSequenceClassification,DistilBertForTokenClassification:()=>n.DistilBertForTokenClassification,DistilBertModel:()=>n.DistilBertModel,DistilBertPreTrainedModel:()=>n.DistilBertPreTrainedModel,DistilBertTokenizer:()=>r.DistilBertTokenizer,DocumentQuestionAnsweringPipeline:()=>t.DocumentQuestionAnsweringPipeline,DonutFeatureExtractor:()=>f.DonutFeatureExtractor,DonutImageProcessor:()=>f.DonutImageProcessor,DonutSwinModel:()=>n.DonutSwinModel,DonutSwinPreTrainedModel:()=>n.DonutSwinPreTrainedModel,EfficientNetForImageClassification:()=>n.EfficientNetForImageClassification,EfficientNetImageProcessor:()=>f.EfficientNetImageProcessor,EfficientNetModel:()=>n.EfficientNetModel,EfficientNetPreTrainedModel:()=>n.EfficientNetPreTrainedModel,ElectraForMaskedLM:()=>n.ElectraForMaskedLM,ElectraForQuestionAnswering:()=>n.ElectraForQuestionAnswering,ElectraForSequenceClassification:()=>n.ElectraForSequenceClassification,ElectraForTokenClassification:()=>n.ElectraForTokenClassification,ElectraModel:()=>n.ElectraModel,ElectraPreTrainedModel:()=>n.ElectraPreTrainedModel,ElectraTokenizer:()=>r.ElectraTokenizer,EncodecFeatureExtractor:()=>d.EncodecFeatureExtractor,EosTokenCriteria:()=>v.EosTokenCriteria,EsmForMaskedLM:()=>n.EsmForMaskedLM,EsmForSequenceClassification:()=>n.EsmForSequenceClassification,EsmForTokenClassification:()=>n.EsmForTokenClassification,EsmModel:()=>n.EsmModel,EsmPreTrainedModel:()=>n.EsmPreTrainedModel,EsmTokenizer:()=>r.EsmTokenizer,ExaoneForCausalLM:()=>n.ExaoneForCausalLM,ExaoneModel:()=>n.ExaoneModel,ExaonePreTrainedModel:()=>n.ExaonePreTrainedModel,FFT:()=>c.FFT,FalconForCausalLM:()=>n.FalconForCausalLM,FalconModel:()=>n.FalconModel,FalconPreTrainedModel:()=>n.FalconPreTrainedModel,FalconTokenizer:()=>r.FalconTokenizer,FastViTForImageClassification:()=>n.FastViTForImageClassification,FastViTModel:()=>n.FastViTModel,FastViTPreTrainedModel:()=>n.FastViTPreTrainedModel,FeatureExtractionPipeline:()=>t.FeatureExtractionPipeline,FeatureExtractor:()=>u.FeatureExtractor,FillMaskPipeline:()=>t.FillMaskPipeline,Florence2ForConditionalGeneration:()=>n.Florence2ForConditionalGeneration,Florence2PreTrainedModel:()=>n.Florence2PreTrainedModel,Florence2Processor:()=>y.Florence2Processor,ForcedBOSTokenLogitsProcessor:()=>_.ForcedBOSTokenLogitsProcessor,ForcedEOSTokenLogitsProcessor:()=>_.ForcedEOSTokenLogitsProcessor,GLPNFeatureExtractor:()=>f.GLPNFeatureExtractor,GLPNForDepthEstimation:()=>n.GLPNForDepthEstimation,GLPNModel:()=>n.GLPNModel,GLPNPreTrainedModel:()=>n.GLPNPreTrainedModel,GPT2LMHeadModel:()=>n.GPT2LMHeadModel,GPT2Model:()=>n.GPT2Model,GPT2PreTrainedModel:()=>n.GPT2PreTrainedModel,GPT2Tokenizer:()=>r.GPT2Tokenizer,GPTBigCodeForCausalLM:()=>n.GPTBigCodeForCausalLM,GPTBigCodeModel:()=>n.GPTBigCodeModel,GPTBigCodePreTrainedModel:()=>n.GPTBigCodePreTrainedModel,GPTJForCausalLM:()=>n.GPTJForCausalLM,GPTJModel:()=>n.GPTJModel,GPTJPreTrainedModel:()=>n.GPTJPreTrainedModel,GPTNeoForCausalLM:()=>n.GPTNeoForCausalLM,GPTNeoModel:()=>n.GPTNeoModel,GPTNeoPreTrainedModel:()=>n.GPTNeoPreTrainedModel,GPTNeoXForCausalLM:()=>n.GPTNeoXForCausalLM,GPTNeoXModel:()=>n.GPTNeoXModel,GPTNeoXPreTrainedModel:()=>n.GPTNeoXPreTrainedModel,GPTNeoXTokenizer:()=>r.GPTNeoXTokenizer,Gemma2ForCausalLM:()=>n.Gemma2ForCausalLM,Gemma2Model:()=>n.Gemma2Model,Gemma2PreTrainedModel:()=>n.Gemma2PreTrainedModel,Gemma3ForCausalLM:()=>n.Gemma3ForCausalLM,Gemma3Model:()=>n.Gemma3Model,Gemma3PreTrainedModel:()=>n.Gemma3PreTrainedModel,GemmaForCausalLM:()=>n.GemmaForCausalLM,GemmaModel:()=>n.GemmaModel,GemmaPreTrainedModel:()=>n.GemmaPreTrainedModel,GemmaTokenizer:()=>r.GemmaTokenizer,GlmForCausalLM:()=>n.GlmForCausalLM,GlmModel:()=>n.GlmModel,GlmPreTrainedModel:()=>n.GlmPreTrainedModel,GraniteForCausalLM:()=>n.GraniteForCausalLM,GraniteModel:()=>n.GraniteModel,GranitePreTrainedModel:()=>n.GranitePreTrainedModel,Grok1Tokenizer:()=>r.Grok1Tokenizer,GroundingDinoForObjectDetection:()=>n.GroundingDinoForObjectDetection,GroundingDinoImageProcessor:()=>f.GroundingDinoImageProcessor,GroundingDinoPreTrainedModel:()=>n.GroundingDinoPreTrainedModel,GroundingDinoProcessor:()=>y.GroundingDinoProcessor,GroupViTModel:()=>n.GroupViTModel,GroupViTPreTrainedModel:()=>n.GroupViTPreTrainedModel,HeliumForCausalLM:()=>n.HeliumForCausalLM,HeliumModel:()=>n.HeliumModel,HeliumPreTrainedModel:()=>n.HeliumPreTrainedModel,HerbertTokenizer:()=>r.HerbertTokenizer,HieraForImageClassification:()=>n.HieraForImageClassification,HieraModel:()=>n.HieraModel,HieraPreTrainedModel:()=>n.HieraPreTrainedModel,HubertForCTC:()=>n.HubertForCTC,HubertForSequenceClassification:()=>n.HubertForSequenceClassification,HubertModel:()=>n.HubertModel,HubertPreTrainedModel:()=>n.HubertPreTrainedModel,IJepaForImageClassification:()=>n.IJepaForImageClassification,IJepaModel:()=>n.IJepaModel,IJepaPreTrainedModel:()=>n.IJepaPreTrainedModel,Idefics3ForConditionalGeneration:()=>n.Idefics3ForConditionalGeneration,Idefics3ImageProcessor:()=>f.Idefics3ImageProcessor,Idefics3PreTrainedModel:()=>n.Idefics3PreTrainedModel,Idefics3Processor:()=>y.Idefics3Processor,ImageClassificationPipeline:()=>t.ImageClassificationPipeline,ImageFeatureExtractionPipeline:()=>t.ImageFeatureExtractionPipeline,ImageFeatureExtractor:()=>d.ImageFeatureExtractor,ImageMattingOutput:()=>n.ImageMattingOutput,ImageProcessor:()=>p.ImageProcessor,ImageSegmentationPipeline:()=>t.ImageSegmentationPipeline,ImageToImagePipeline:()=>t.ImageToImagePipeline,ImageToTextPipeline:()=>t.ImageToTextPipeline,InterruptableStoppingCriteria:()=>v.InterruptableStoppingCriteria,JAISLMHeadModel:()=>n.JAISLMHeadModel,JAISModel:()=>n.JAISModel,JAISPreTrainedModel:()=>n.JAISPreTrainedModel,JinaCLIPImageProcessor:()=>f.JinaCLIPImageProcessor,JinaCLIPModel:()=>n.JinaCLIPModel,JinaCLIPPreTrainedModel:()=>n.JinaCLIPPreTrainedModel,JinaCLIPProcessor:()=>y.JinaCLIPProcessor,JinaCLIPTextModel:()=>n.JinaCLIPTextModel,JinaCLIPVisionModel:()=>n.JinaCLIPVisionModel,LiteWhisperForConditionalGeneration:()=>n.LiteWhisperForConditionalGeneration,LlamaForCausalLM:()=>n.LlamaForCausalLM,LlamaModel:()=>n.LlamaModel,LlamaPreTrainedModel:()=>n.LlamaPreTrainedModel,LlamaTokenizer:()=>r.LlamaTokenizer,LlavaForConditionalGeneration:()=>n.LlavaForConditionalGeneration,LlavaOnevisionForConditionalGeneration:()=>n.LlavaOnevisionForConditionalGeneration,LlavaOnevisionImageProcessor:()=>f.LlavaOnevisionImageProcessor,LlavaPreTrainedModel:()=>n.LlavaPreTrainedModel,LogitsProcessor:()=>_.LogitsProcessor,LogitsProcessorList:()=>_.LogitsProcessorList,LogitsWarper:()=>_.LogitsWarper,LongT5ForConditionalGeneration:()=>n.LongT5ForConditionalGeneration,LongT5Model:()=>n.LongT5Model,LongT5PreTrainedModel:()=>n.LongT5PreTrainedModel,M2M100ForConditionalGeneration:()=>n.M2M100ForConditionalGeneration,M2M100Model:()=>n.M2M100Model,M2M100PreTrainedModel:()=>n.M2M100PreTrainedModel,M2M100Tokenizer:()=>r.M2M100Tokenizer,MBart50Tokenizer:()=>r.MBart50Tokenizer,MBartForCausalLM:()=>n.MBartForCausalLM,MBartForConditionalGeneration:()=>n.MBartForConditionalGeneration,MBartForSequenceClassification:()=>n.MBartForSequenceClassification,MBartModel:()=>n.MBartModel,MBartPreTrainedModel:()=>n.MBartPreTrainedModel,MBartTokenizer:()=>r.MBartTokenizer,MPNetForMaskedLM:()=>n.MPNetForMaskedLM,MPNetForQuestionAnswering:()=>n.MPNetForQuestionAnswering,MPNetForSequenceClassification:()=>n.MPNetForSequenceClassification,MPNetForTokenClassification:()=>n.MPNetForTokenClassification,MPNetModel:()=>n.MPNetModel,MPNetPreTrainedModel:()=>n.MPNetPreTrainedModel,MPNetTokenizer:()=>r.MPNetTokenizer,MT5ForConditionalGeneration:()=>n.MT5ForConditionalGeneration,MT5Model:()=>n.MT5Model,MT5PreTrainedModel:()=>n.MT5PreTrainedModel,MarianMTModel:()=>n.MarianMTModel,MarianModel:()=>n.MarianModel,MarianPreTrainedModel:()=>n.MarianPreTrainedModel,MarianTokenizer:()=>r.MarianTokenizer,Mask2FormerImageProcessor:()=>f.Mask2FormerImageProcessor,MaskFormerFeatureExtractor:()=>f.MaskFormerFeatureExtractor,MaskFormerForInstanceSegmentation:()=>n.MaskFormerForInstanceSegmentation,MaskFormerImageProcessor:()=>f.MaskFormerImageProcessor,MaskFormerModel:()=>n.MaskFormerModel,MaskFormerPreTrainedModel:()=>n.MaskFormerPreTrainedModel,MaskedLMOutput:()=>n.MaskedLMOutput,MaxLengthCriteria:()=>v.MaxLengthCriteria,Metric3DForDepthEstimation:()=>n.Metric3DForDepthEstimation,Metric3DPreTrainedModel:()=>n.Metric3DPreTrainedModel,Metric3Dv2ForDepthEstimation:()=>n.Metric3Dv2ForDepthEstimation,Metric3Dv2PreTrainedModel:()=>n.Metric3Dv2PreTrainedModel,MgpstrForSceneTextRecognition:()=>n.MgpstrForSceneTextRecognition,MgpstrModelOutput:()=>n.MgpstrModelOutput,MgpstrPreTrainedModel:()=>n.MgpstrPreTrainedModel,MgpstrProcessor:()=>y.MgpstrProcessor,MgpstrTokenizer:()=>r.MgpstrTokenizer,MimiDecoderModel:()=>n.MimiDecoderModel,MimiDecoderOutput:()=>n.MimiDecoderOutput,MimiEncoderModel:()=>n.MimiEncoderModel,MimiEncoderOutput:()=>n.MimiEncoderOutput,MimiModel:()=>n.MimiModel,MimiPreTrainedModel:()=>n.MimiPreTrainedModel,MinLengthLogitsProcessor:()=>_.MinLengthLogitsProcessor,MinNewTokensLengthLogitsProcessor:()=>_.MinNewTokensLengthLogitsProcessor,MistralForCausalLM:()=>n.MistralForCausalLM,MistralModel:()=>n.MistralModel,MistralPreTrainedModel:()=>n.MistralPreTrainedModel,MobileBertForMaskedLM:()=>n.MobileBertForMaskedLM,MobileBertForQuestionAnswering:()=>n.MobileBertForQuestionAnswering,MobileBertForSequenceClassification:()=>n.MobileBertForSequenceClassification,MobileBertModel:()=>n.MobileBertModel,MobileBertPreTrainedModel:()=>n.MobileBertPreTrainedModel,MobileBertTokenizer:()=>r.MobileBertTokenizer,MobileLLMForCausalLM:()=>n.MobileLLMForCausalLM,MobileLLMModel:()=>n.MobileLLMModel,MobileLLMPreTrainedModel:()=>n.MobileLLMPreTrainedModel,MobileNetV1FeatureExtractor:()=>f.MobileNetV1FeatureExtractor,MobileNetV1ForImageClassification:()=>n.MobileNetV1ForImageClassification,MobileNetV1ForSemanticSegmentation:()=>n.MobileNetV1ForSemanticSegmentation,MobileNetV1ImageProcessor:()=>f.MobileNetV1ImageProcessor,MobileNetV1Model:()=>n.MobileNetV1Model,MobileNetV1PreTrainedModel:()=>n.MobileNetV1PreTrainedModel,MobileNetV2FeatureExtractor:()=>f.MobileNetV2FeatureExtractor,MobileNetV2ForImageClassification:()=>n.MobileNetV2ForImageClassification,MobileNetV2ForSemanticSegmentation:()=>n.MobileNetV2ForSemanticSegmentation,MobileNetV2ImageProcessor:()=>f.MobileNetV2ImageProcessor,MobileNetV2Model:()=>n.MobileNetV2Model,MobileNetV2PreTrainedModel:()=>n.MobileNetV2PreTrainedModel,MobileNetV3FeatureExtractor:()=>f.MobileNetV3FeatureExtractor,MobileNetV3ForImageClassification:()=>n.MobileNetV3ForImageClassification,MobileNetV3ForSemanticSegmentation:()=>n.MobileNetV3ForSemanticSegmentation,MobileNetV3ImageProcessor:()=>f.MobileNetV3ImageProcessor,MobileNetV3Model:()=>n.MobileNetV3Model,MobileNetV3PreTrainedModel:()=>n.MobileNetV3PreTrainedModel,MobileNetV4FeatureExtractor:()=>f.MobileNetV4FeatureExtractor,MobileNetV4ForImageClassification:()=>n.MobileNetV4ForImageClassification,MobileNetV4ForSemanticSegmentation:()=>n.MobileNetV4ForSemanticSegmentation,MobileNetV4ImageProcessor:()=>f.MobileNetV4ImageProcessor,MobileNetV4Model:()=>n.MobileNetV4Model,MobileNetV4PreTrainedModel:()=>n.MobileNetV4PreTrainedModel,MobileViTFeatureExtractor:()=>f.MobileViTFeatureExtractor,MobileViTForImageClassification:()=>n.MobileViTForImageClassification,MobileViTImageProcessor:()=>f.MobileViTImageProcessor,MobileViTModel:()=>n.MobileViTModel,MobileViTPreTrainedModel:()=>n.MobileViTPreTrainedModel,MobileViTV2ForImageClassification:()=>n.MobileViTV2ForImageClassification,MobileViTV2Model:()=>n.MobileViTV2Model,MobileViTV2PreTrainedModel:()=>n.MobileViTV2PreTrainedModel,ModelOutput:()=>n.ModelOutput,ModernBertForMaskedLM:()=>n.ModernBertForMaskedLM,ModernBertForSequenceClassification:()=>n.ModernBertForSequenceClassification,ModernBertForTokenClassification:()=>n.ModernBertForTokenClassification,ModernBertModel:()=>n.ModernBertModel,ModernBertPreTrainedModel:()=>n.ModernBertPreTrainedModel,Moondream1ForConditionalGeneration:()=>n.Moondream1ForConditionalGeneration,MoonshineFeatureExtractor:()=>d.MoonshineFeatureExtractor,MoonshineForConditionalGeneration:()=>n.MoonshineForConditionalGeneration,MoonshineModel:()=>n.MoonshineModel,MoonshinePreTrainedModel:()=>n.MoonshinePreTrainedModel,MoonshineProcessor:()=>y.MoonshineProcessor,MptForCausalLM:()=>n.MptForCausalLM,MptModel:()=>n.MptModel,MptPreTrainedModel:()=>n.MptPreTrainedModel,MultiModalityCausalLM:()=>n.MultiModalityCausalLM,MultiModalityPreTrainedModel:()=>n.MultiModalityPreTrainedModel,MusicgenForCausalLM:()=>n.MusicgenForCausalLM,MusicgenForConditionalGeneration:()=>n.MusicgenForConditionalGeneration,MusicgenModel:()=>n.MusicgenModel,MusicgenPreTrainedModel:()=>n.MusicgenPreTrainedModel,NllbTokenizer:()=>r.NllbTokenizer,NoBadWordsLogitsProcessor:()=>_.NoBadWordsLogitsProcessor,NoRepeatNGramLogitsProcessor:()=>_.NoRepeatNGramLogitsProcessor,NomicBertModel:()=>n.NomicBertModel,NomicBertPreTrainedModel:()=>n.NomicBertPreTrainedModel,NougatImageProcessor:()=>f.NougatImageProcessor,NougatTokenizer:()=>r.NougatTokenizer,OPTForCausalLM:()=>n.OPTForCausalLM,OPTModel:()=>n.OPTModel,OPTPreTrainedModel:()=>n.OPTPreTrainedModel,ObjectDetectionPipeline:()=>t.ObjectDetectionPipeline,Olmo2ForCausalLM:()=>n.Olmo2ForCausalLM,Olmo2Model:()=>n.Olmo2Model,Olmo2PreTrainedModel:()=>n.Olmo2PreTrainedModel,OlmoForCausalLM:()=>n.OlmoForCausalLM,OlmoModel:()=>n.OlmoModel,OlmoPreTrainedModel:()=>n.OlmoPreTrainedModel,OpenELMForCausalLM:()=>n.OpenELMForCausalLM,OpenELMModel:()=>n.OpenELMModel,OpenELMPreTrainedModel:()=>n.OpenELMPreTrainedModel,OwlViTFeatureExtractor:()=>f.OwlViTFeatureExtractor,OwlViTForObjectDetection:()=>n.OwlViTForObjectDetection,OwlViTImageProcessor:()=>f.OwlViTImageProcessor,OwlViTModel:()=>n.OwlViTModel,OwlViTPreTrainedModel:()=>n.OwlViTPreTrainedModel,OwlViTProcessor:()=>y.OwlViTProcessor,Owlv2ForObjectDetection:()=>n.Owlv2ForObjectDetection,Owlv2ImageProcessor:()=>f.Owlv2ImageProcessor,Owlv2Model:()=>n.Owlv2Model,Owlv2PreTrainedModel:()=>n.Owlv2PreTrainedModel,PaliGemmaForConditionalGeneration:()=>n.PaliGemmaForConditionalGeneration,PaliGemmaPreTrainedModel:()=>n.PaliGemmaPreTrainedModel,PaliGemmaProcessor:()=>y.PaliGemmaProcessor,PatchTSMixerForPrediction:()=>n.PatchTSMixerForPrediction,PatchTSMixerModel:()=>n.PatchTSMixerModel,PatchTSMixerPreTrainedModel:()=>n.PatchTSMixerPreTrainedModel,PatchTSTForPrediction:()=>n.PatchTSTForPrediction,PatchTSTModel:()=>n.PatchTSTModel,PatchTSTPreTrainedModel:()=>n.PatchTSTPreTrainedModel,Phi3ForCausalLM:()=>n.Phi3ForCausalLM,Phi3Model:()=>n.Phi3Model,Phi3PreTrainedModel:()=>n.Phi3PreTrainedModel,Phi3VForCausalLM:()=>n.Phi3VForCausalLM,Phi3VImageProcessor:()=>f.Phi3VImageProcessor,Phi3VPreTrainedModel:()=>n.Phi3VPreTrainedModel,Phi3VProcessor:()=>y.Phi3VProcessor,PhiForCausalLM:()=>n.PhiForCausalLM,PhiModel:()=>n.PhiModel,PhiPreTrainedModel:()=>n.PhiPreTrainedModel,Pipeline:()=>t.Pipeline,PreTrainedModel:()=>n.PreTrainedModel,PreTrainedTokenizer:()=>r.PreTrainedTokenizer,PretrainedConfig:()=>i.PretrainedConfig,PretrainedMixin:()=>n.PretrainedMixin,Processor:()=>g.Processor,PvtForImageClassification:()=>n.PvtForImageClassification,PvtImageProcessor:()=>f.PvtImageProcessor,PvtModel:()=>n.PvtModel,PvtPreTrainedModel:()=>n.PvtPreTrainedModel,PyAnnoteFeatureExtractor:()=>d.PyAnnoteFeatureExtractor,PyAnnoteForAudioFrameClassification:()=>n.PyAnnoteForAudioFrameClassification,PyAnnoteModel:()=>n.PyAnnoteModel,PyAnnotePreTrainedModel:()=>n.PyAnnotePreTrainedModel,PyAnnoteProcessor:()=>y.PyAnnoteProcessor,QuestionAnsweringModelOutput:()=>n.QuestionAnsweringModelOutput,QuestionAnsweringPipeline:()=>t.QuestionAnsweringPipeline,Qwen2ForCausalLM:()=>n.Qwen2ForCausalLM,Qwen2Model:()=>n.Qwen2Model,Qwen2PreTrainedModel:()=>n.Qwen2PreTrainedModel,Qwen2Tokenizer:()=>r.Qwen2Tokenizer,Qwen2VLForConditionalGeneration:()=>n.Qwen2VLForConditionalGeneration,Qwen2VLImageProcessor:()=>f.Qwen2VLImageProcessor,Qwen2VLPreTrainedModel:()=>n.Qwen2VLPreTrainedModel,Qwen2VLProcessor:()=>y.Qwen2VLProcessor,Qwen3ForCausalLM:()=>n.Qwen3ForCausalLM,Qwen3Model:()=>n.Qwen3Model,Qwen3PreTrainedModel:()=>n.Qwen3PreTrainedModel,RFDetrForObjectDetection:()=>n.RFDetrForObjectDetection,RFDetrModel:()=>n.RFDetrModel,RFDetrObjectDetectionOutput:()=>n.RFDetrObjectDetectionOutput,RFDetrPreTrainedModel:()=>n.RFDetrPreTrainedModel,RTDetrForObjectDetection:()=>n.RTDetrForObjectDetection,RTDetrImageProcessor:()=>f.RTDetrImageProcessor,RTDetrModel:()=>n.RTDetrModel,RTDetrObjectDetectionOutput:()=>n.RTDetrObjectDetectionOutput,RTDetrPreTrainedModel:()=>n.RTDetrPreTrainedModel,RTDetrV2ForObjectDetection:()=>n.RTDetrV2ForObjectDetection,RTDetrV2Model:()=>n.RTDetrV2Model,RTDetrV2ObjectDetectionOutput:()=>n.RTDetrV2ObjectDetectionOutput,RTDetrV2PreTrainedModel:()=>n.RTDetrV2PreTrainedModel,RawAudio:()=>a.RawAudio,RawImage:()=>o.RawImage,RawVideo:()=>s.RawVideo,RawVideoFrame:()=>s.RawVideoFrame,RepetitionPenaltyLogitsProcessor:()=>_.RepetitionPenaltyLogitsProcessor,ResNetForImageClassification:()=>n.ResNetForImageClassification,ResNetModel:()=>n.ResNetModel,ResNetPreTrainedModel:()=>n.ResNetPreTrainedModel,RoFormerForMaskedLM:()=>n.RoFormerForMaskedLM,RoFormerForQuestionAnswering:()=>n.RoFormerForQuestionAnswering,RoFormerForSequenceClassification:()=>n.RoFormerForSequenceClassification,RoFormerForTokenClassification:()=>n.RoFormerForTokenClassification,RoFormerModel:()=>n.RoFormerModel,RoFormerPreTrainedModel:()=>n.RoFormerPreTrainedModel,RoFormerTokenizer:()=>r.RoFormerTokenizer,RobertaForMaskedLM:()=>n.RobertaForMaskedLM,RobertaForQuestionAnswering:()=>n.RobertaForQuestionAnswering,RobertaForSequenceClassification:()=>n.RobertaForSequenceClassification,RobertaForTokenClassification:()=>n.RobertaForTokenClassification,RobertaModel:()=>n.RobertaModel,RobertaPreTrainedModel:()=>n.RobertaPreTrainedModel,RobertaTokenizer:()=>r.RobertaTokenizer,SamImageProcessor:()=>f.SamImageProcessor,SamImageSegmentationOutput:()=>n.SamImageSegmentationOutput,SamModel:()=>n.SamModel,SamPreTrainedModel:()=>n.SamPreTrainedModel,SamProcessor:()=>y.SamProcessor,SapiensForDepthEstimation:()=>n.SapiensForDepthEstimation,SapiensForNormalEstimation:()=>n.SapiensForNormalEstimation,SapiensForSemanticSegmentation:()=>n.SapiensForSemanticSegmentation,SapiensPreTrainedModel:()=>n.SapiensPreTrainedModel,SeamlessM4TFeatureExtractor:()=>d.SeamlessM4TFeatureExtractor,SegformerFeatureExtractor:()=>f.SegformerFeatureExtractor,SegformerForImageClassification:()=>n.SegformerForImageClassification,SegformerForSemanticSegmentation:()=>n.SegformerForSemanticSegmentation,SegformerImageProcessor:()=>f.SegformerImageProcessor,SegformerModel:()=>n.SegformerModel,SegformerPreTrainedModel:()=>n.SegformerPreTrainedModel,Seq2SeqLMOutput:()=>n.Seq2SeqLMOutput,SequenceClassifierOutput:()=>n.SequenceClassifierOutput,SiglipImageProcessor:()=>f.SiglipImageProcessor,SiglipModel:()=>n.SiglipModel,SiglipPreTrainedModel:()=>n.SiglipPreTrainedModel,SiglipTextModel:()=>n.SiglipTextModel,SiglipTokenizer:()=>r.SiglipTokenizer,SiglipVisionModel:()=>n.SiglipVisionModel,SmolVLMForConditionalGeneration:()=>n.SmolVLMForConditionalGeneration,SmolVLMImageProcessor:()=>f.SmolVLMImageProcessor,SmolVLMProcessor:()=>y.SmolVLMProcessor,SnacDecoderModel:()=>n.SnacDecoderModel,SnacEncoderModel:()=>n.SnacEncoderModel,SnacFeatureExtractor:()=>d.SnacFeatureExtractor,SnacModel:()=>n.SnacModel,SnacPreTrainedModel:()=>n.SnacPreTrainedModel,SpeechT5FeatureExtractor:()=>d.SpeechT5FeatureExtractor,SpeechT5ForSpeechToText:()=>n.SpeechT5ForSpeechToText,SpeechT5ForTextToSpeech:()=>n.SpeechT5ForTextToSpeech,SpeechT5HifiGan:()=>n.SpeechT5HifiGan,SpeechT5Model:()=>n.SpeechT5Model,SpeechT5PreTrainedModel:()=>n.SpeechT5PreTrainedModel,SpeechT5Processor:()=>y.SpeechT5Processor,SpeechT5Tokenizer:()=>r.SpeechT5Tokenizer,SqueezeBertForMaskedLM:()=>n.SqueezeBertForMaskedLM,SqueezeBertForQuestionAnswering:()=>n.SqueezeBertForQuestionAnswering,SqueezeBertForSequenceClassification:()=>n.SqueezeBertForSequenceClassification,SqueezeBertModel:()=>n.SqueezeBertModel,SqueezeBertPreTrainedModel:()=>n.SqueezeBertPreTrainedModel,SqueezeBertTokenizer:()=>r.SqueezeBertTokenizer,StableLmForCausalLM:()=>n.StableLmForCausalLM,StableLmModel:()=>n.StableLmModel,StableLmPreTrainedModel:()=>n.StableLmPreTrainedModel,Starcoder2ForCausalLM:()=>n.Starcoder2ForCausalLM,Starcoder2Model:()=>n.Starcoder2Model,Starcoder2PreTrainedModel:()=>n.Starcoder2PreTrainedModel,StoppingCriteria:()=>v.StoppingCriteria,StoppingCriteriaList:()=>v.StoppingCriteriaList,StyleTextToSpeech2Model:()=>n.StyleTextToSpeech2Model,StyleTextToSpeech2PreTrainedModel:()=>n.StyleTextToSpeech2PreTrainedModel,SummarizationPipeline:()=>t.SummarizationPipeline,SuppressTokensAtBeginLogitsProcessor:()=>_.SuppressTokensAtBeginLogitsProcessor,Swin2SRForImageSuperResolution:()=>n.Swin2SRForImageSuperResolution,Swin2SRImageProcessor:()=>f.Swin2SRImageProcessor,Swin2SRModel:()=>n.Swin2SRModel,Swin2SRPreTrainedModel:()=>n.Swin2SRPreTrainedModel,SwinForImageClassification:()=>n.SwinForImageClassification,SwinForSemanticSegmentation:()=>n.SwinForSemanticSegmentation,SwinModel:()=>n.SwinModel,SwinPreTrainedModel:()=>n.SwinPreTrainedModel,T5ForConditionalGeneration:()=>n.T5ForConditionalGeneration,T5Model:()=>n.T5Model,T5PreTrainedModel:()=>n.T5PreTrainedModel,T5Tokenizer:()=>r.T5Tokenizer,TableTransformerForObjectDetection:()=>n.TableTransformerForObjectDetection,TableTransformerModel:()=>n.TableTransformerModel,TableTransformerObjectDetectionOutput:()=>n.TableTransformerObjectDetectionOutput,TableTransformerPreTrainedModel:()=>n.TableTransformerPreTrainedModel,TemperatureLogitsWarper:()=>_.TemperatureLogitsWarper,Tensor:()=>l.Tensor,Text2TextGenerationPipeline:()=>t.Text2TextGenerationPipeline,TextClassificationPipeline:()=>t.TextClassificationPipeline,TextGenerationPipeline:()=>t.TextGenerationPipeline,TextStreamer:()=>w.TextStreamer,TextToAudioPipeline:()=>t.TextToAudioPipeline,TokenClassificationPipeline:()=>t.TokenClassificationPipeline,TokenClassifierOutput:()=>n.TokenClassifierOutput,TokenizerModel:()=>r.TokenizerModel,TopKLogitsWarper:()=>_.TopKLogitsWarper,TopPLogitsWarper:()=>_.TopPLogitsWarper,TrOCRForCausalLM:()=>n.TrOCRForCausalLM,TrOCRPreTrainedModel:()=>n.TrOCRPreTrainedModel,TranslationPipeline:()=>t.TranslationPipeline,UltravoxModel:()=>n.UltravoxModel,UltravoxPreTrainedModel:()=>n.UltravoxPreTrainedModel,UltravoxProcessor:()=>y.UltravoxProcessor,UniSpeechForCTC:()=>n.UniSpeechForCTC,UniSpeechForSequenceClassification:()=>n.UniSpeechForSequenceClassification,UniSpeechModel:()=>n.UniSpeechModel,UniSpeechPreTrainedModel:()=>n.UniSpeechPreTrainedModel,UniSpeechSatForAudioFrameClassification:()=>n.UniSpeechSatForAudioFrameClassification,UniSpeechSatForCTC:()=>n.UniSpeechSatForCTC,UniSpeechSatForSequenceClassification:()=>n.UniSpeechSatForSequenceClassification,UniSpeechSatModel:()=>n.UniSpeechSatModel,UniSpeechSatPreTrainedModel:()=>n.UniSpeechSatPreTrainedModel,VLChatProcessor:()=>y.VLChatProcessor,VLMImageProcessor:()=>f.VLMImageProcessor,ViTFeatureExtractor:()=>f.ViTFeatureExtractor,ViTForImageClassification:()=>n.ViTForImageClassification,ViTImageProcessor:()=>f.ViTImageProcessor,ViTMAEModel:()=>n.ViTMAEModel,ViTMAEPreTrainedModel:()=>n.ViTMAEPreTrainedModel,ViTMSNForImageClassification:()=>n.ViTMSNForImageClassification,ViTMSNModel:()=>n.ViTMSNModel,ViTMSNPreTrainedModel:()=>n.ViTMSNPreTrainedModel,ViTModel:()=>n.ViTModel,ViTPreTrainedModel:()=>n.ViTPreTrainedModel,VisionEncoderDecoderModel:()=>n.VisionEncoderDecoderModel,VitMatteForImageMatting:()=>n.VitMatteForImageMatting,VitMatteImageProcessor:()=>f.VitMatteImageProcessor,VitMattePreTrainedModel:()=>n.VitMattePreTrainedModel,VitPoseForPoseEstimation:()=>n.VitPoseForPoseEstimation,VitPoseImageProcessor:()=>f.VitPoseImageProcessor,VitPosePreTrainedModel:()=>n.VitPosePreTrainedModel,VitsModel:()=>n.VitsModel,VitsModelOutput:()=>n.VitsModelOutput,VitsPreTrainedModel:()=>n.VitsPreTrainedModel,VitsTokenizer:()=>r.VitsTokenizer,Wav2Vec2BertForCTC:()=>n.Wav2Vec2BertForCTC,Wav2Vec2BertForSequenceClassification:()=>n.Wav2Vec2BertForSequenceClassification,Wav2Vec2BertModel:()=>n.Wav2Vec2BertModel,Wav2Vec2BertPreTrainedModel:()=>n.Wav2Vec2BertPreTrainedModel,Wav2Vec2CTCTokenizer:()=>r.Wav2Vec2CTCTokenizer,Wav2Vec2FeatureExtractor:()=>d.Wav2Vec2FeatureExtractor,Wav2Vec2ForAudioFrameClassification:()=>n.Wav2Vec2ForAudioFrameClassification,Wav2Vec2ForCTC:()=>n.Wav2Vec2ForCTC,Wav2Vec2ForSequenceClassification:()=>n.Wav2Vec2ForSequenceClassification,Wav2Vec2Model:()=>n.Wav2Vec2Model,Wav2Vec2PreTrainedModel:()=>n.Wav2Vec2PreTrainedModel,Wav2Vec2Processor:()=>y.Wav2Vec2Processor,Wav2Vec2ProcessorWithLM:()=>y.Wav2Vec2ProcessorWithLM,WavLMForAudioFrameClassification:()=>n.WavLMForAudioFrameClassification,WavLMForCTC:()=>n.WavLMForCTC,WavLMForSequenceClassification:()=>n.WavLMForSequenceClassification,WavLMForXVector:()=>n.WavLMForXVector,WavLMModel:()=>n.WavLMModel,WavLMPreTrainedModel:()=>n.WavLMPreTrainedModel,WeSpeakerFeatureExtractor:()=>d.WeSpeakerFeatureExtractor,WeSpeakerResNetModel:()=>n.WeSpeakerResNetModel,WeSpeakerResNetPreTrainedModel:()=>n.WeSpeakerResNetPreTrainedModel,WhisperFeatureExtractor:()=>d.WhisperFeatureExtractor,WhisperForConditionalGeneration:()=>n.WhisperForConditionalGeneration,WhisperModel:()=>n.WhisperModel,WhisperPreTrainedModel:()=>n.WhisperPreTrainedModel,WhisperProcessor:()=>y.WhisperProcessor,WhisperTextStreamer:()=>w.WhisperTextStreamer,WhisperTimeStampLogitsProcessor:()=>_.WhisperTimeStampLogitsProcessor,WhisperTokenizer:()=>r.WhisperTokenizer,XLMForQuestionAnswering:()=>n.XLMForQuestionAnswering,XLMForSequenceClassification:()=>n.XLMForSequenceClassification,XLMForTokenClassification:()=>n.XLMForTokenClassification,XLMModel:()=>n.XLMModel,XLMPreTrainedModel:()=>n.XLMPreTrainedModel,XLMRobertaForMaskedLM:()=>n.XLMRobertaForMaskedLM,XLMRobertaForQuestionAnswering:()=>n.XLMRobertaForQuestionAnswering,XLMRobertaForSequenceClassification:()=>n.XLMRobertaForSequenceClassification,XLMRobertaForTokenClassification:()=>n.XLMRobertaForTokenClassification,XLMRobertaModel:()=>n.XLMRobertaModel,XLMRobertaPreTrainedModel:()=>n.XLMRobertaPreTrainedModel,XLMRobertaTokenizer:()=>r.XLMRobertaTokenizer,XLMTokenizer:()=>r.XLMTokenizer,XLMWithLMHeadModel:()=>n.XLMWithLMHeadModel,XVectorOutput:()=>n.XVectorOutput,YolosFeatureExtractor:()=>f.YolosFeatureExtractor,YolosForObjectDetection:()=>n.YolosForObjectDetection,YolosImageProcessor:()=>f.YolosImageProcessor,YolosModel:()=>n.YolosModel,YolosObjectDetectionOutput:()=>n.YolosObjectDetectionOutput,YolosPreTrainedModel:()=>n.YolosPreTrainedModel,ZeroShotAudioClassificationPipeline:()=>t.ZeroShotAudioClassificationPipeline,ZeroShotClassificationPipeline:()=>t.ZeroShotClassificationPipeline,ZeroShotImageClassificationPipeline:()=>t.ZeroShotImageClassificationPipeline,ZeroShotObjectDetectionPipeline:()=>t.ZeroShotObjectDetectionPipeline,bankers_round:()=>c.bankers_round,cat:()=>l.cat,cos_sim:()=>c.cos_sim,dot:()=>c.dot,dynamic_time_warping:()=>c.dynamic_time_warping,env:()=>e.env,full:()=>l.full,full_like:()=>l.full_like,getKeyValueShapes:()=>i.getKeyValueShapes,hamming:()=>a.hamming,hanning:()=>a.hanning,interpolate:()=>l.interpolate,interpolate_4d:()=>l.interpolate_4d,interpolate_data:()=>c.interpolate_data,is_chinese_char:()=>r.is_chinese_char,layer_norm:()=>l.layer_norm,load_image:()=>o.load_image,load_video:()=>s.load_video,log_softmax:()=>c.log_softmax,magnitude:()=>c.magnitude,matmul:()=>l.matmul,max:()=>c.max,mean:()=>l.mean,mean_pooling:()=>l.mean_pooling,medianFilter:()=>c.medianFilter,mel_filter_bank:()=>a.mel_filter_bank,min:()=>c.min,ones:()=>l.ones,ones_like:()=>l.ones_like,permute:()=>l.permute,permute_data:()=>c.permute_data,pipeline:()=>t.pipeline,quantize_embeddings:()=>l.quantize_embeddings,rand:()=>l.rand,read_audio:()=>a.read_audio,rfft:()=>l.rfft,round:()=>c.round,slice:()=>l.slice,softmax:()=>c.softmax,spectrogram:()=>a.spectrogram,stack:()=>l.stack,std_mean:()=>l.std_mean,topk:()=>l.topk,window_function:()=>a.window_function,zeros:()=>l.zeros,zeros_like:()=>l.zeros_like});var e=oh("./src/env.js"),t=oh("./src/pipelines.js"),n=oh("./src/models.js"),r=oh("./src/tokenizers.js"),i=oh("./src/configs.js"),a=oh("./src/utils/audio.js"),o=oh("./src/utils/image.js"),s=oh("./src/utils/video.js"),l=oh("./src/utils/tensor.js"),c=oh("./src/utils/maths.js"),u=oh("./src/base/feature_extraction_utils.js"),d=oh("./src/models/feature_extractors.js"),h=oh("./src/models/auto/feature_extraction_auto.js"),p=oh("./src/base/image_processors_utils.js"),f=oh("./src/models/image_processors.js"),m=oh("./src/models/auto/image_processing_auto.js"),g=oh("./src/base/processing_utils.js"),y=oh("./src/models/processors.js"),b=oh("./src/models/auto/processing_auto.js"),w=oh("./src/generation/streamers.js"),v=oh("./src/generation/stopping_criteria.js"),_=oh("./src/generation/logits_process.js")})();var lh=sh.env;lh.allowRemoteModels=!0,lh.allowLocalModels=!1,lh.remoteHost="https://huggingface.co",lh.remotePathTemplate="{model}/resolve/main/";function ch(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var uh={};function dh(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:"undefined"!==typeof self?self:uh}var hh=Object.assign,ph=Object.getOwnPropertyDescriptor,fh=Object.defineProperty,mh=Object.prototype,gh=[];Object.freeze(gh);var yh={};Object.freeze(yh);var bh="undefined"!==typeof Proxy,wh=Object.toString();function vh(){bh||ch("Proxy not available")}function _h(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var xh=function(){};function kh(e){return"function"===typeof e}function Dh(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function Th(e){return null!==e&&"object"===typeof e}function Ah(e){if(!Th(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===wh}function Sh(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function Ch(e,t,n){fh(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Eh(e,t,n){fh(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Fh(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Th(e)&&!0===e[n]}}function Mh(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function Ih(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var Ph="undefined"!==typeof Object.getOwnPropertySymbols;var zh="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Ph?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Nh(e){return null===e?null:"object"===typeof e?""+e:e}function Oh(e,t){return mh.hasOwnProperty.call(e,t)}var Bh=Object.getOwnPropertyDescriptors||function(e){var t={};return zh(e).forEach((function(n){t[n]=ph(e,n)})),t};function Lh(e,t){return!!(e&t)}function Rh(e,t,n){return n?e|=t:e&=~t,e}function jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kh(r.key),r)}}function Wh(e,t,n){return t&&Vh(e.prototype,t),n&&Vh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jh(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(null,arguments)}function Hh(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Gh(e,t)}function Gh(e,t){return Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gh(e,t)}function Kh(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var Yh=Symbol("mobx-stored-annotations");function Jh(e){return Object.assign((function(t,n){if(Xh(n))return e.decorate_20223_(t,n);Zh(t,n,e)}),e)}function Zh(e,t,n){Oh(e,Yh)||Ch(e,Yh,Uh({},e[Yh])),function(e){return e.annotationType_===ap}(n)||(e[Yh][t]=n)}function Xh(e){return"object"==typeof e&&"string"==typeof e.kind}var $h=Symbol("mobx administration"),Qh=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=af.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Ef(this)},t.reportChanged=function(){Sf(),Ff(this),Cf()},t.toString=function(){return this.name_},Wh(e,[{key:"isBeingObserved",get:function(){return Lh(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return Lh(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return Lh(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Rh(this.flags_,e.diffValueMask_,1===t)}}])}();Qh.isBeingObservedMask_=1,Qh.isPendingUnobservationMask_=2,Qh.diffValueMask_=4;var ep=Fh("Atom",Qh);function tp(e,t,n){void 0===t&&(t=xh),void 0===n&&(n=xh);var r,i=new Qh(e);return t!==xh&&em(Xf,i,t,r),n!==xh&&Qf(i,n),i}var np={identity:function(e,t){return e===t},structural:function(e,t){return wg(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return wg(e,t,1)}};function rp(e,t,n){return fm(e)?e:Array.isArray(e)?Wp.array(e,{name:n}):Ah(e)?Wp.object(e,void 0,{name:n}):Mh(e)?Wp.map(e,{name:n}):Ih(e)?Wp.set(e,{name:n}):"function"!==typeof e||Kf(e)||hm(e)?e:Sh(e)?um(e):Gf(n,e)}function ip(e){return e}var ap="override";function op(e,t){return{annotationType_:e,options_:t,make_:sp,extend_:lp,decorate_20223_:cp}}function sp(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Kf(n.value))return 1;var a=up(e,this,t,n,!1);return fh(r,t,a),2}function lp(e,t,n,r){var i=up(e,this,t,n);return e.defineProperty_(t,i,r)}function cp(e,t){var n,r=t.kind,i=t.name,a=t.addInitializer,o=this,s=function(e){var t,n,r,a;return Xp(null!=(t=null==(n=o.options_)?void 0:n.name)?t:i.toString(),e,null!=(r=null==(a=o.options_)?void 0:a.autoAction)&&r)};return"field"==r?function(e){var t,n=e;return Kf(n)||(n=s(n)),null!=(t=o.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==r?(Kf(e)||(e=s(e)),null!=(n=this.options_)&&n.bound&&a((function(){var e=this,t=e[i].bind(e);t.isMobxAction=!0,e[i]=t})),e):void ch("Cannot apply '"+o.annotationType_+"' to '"+String(i)+"' (kind: "+r+"):\n'"+o.annotationType_+"' can only be used on properties with a function value.")}function up(e,t,n,r,i){var a,o,s,l,c,u,d,h;void 0===i&&(i=kf.safeDescriptors),h=r,t.annotationType_,h.value;var p,f=r.value;null!=(a=t.options_)&&a.bound&&(f=f.bind(null!=(p=e.proxy_)?p:e.target_));return{value:Xp(null!=(o=null==(s=t.options_)?void 0:s.name)?o:n.toString(),f,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function dp(e,t){return{annotationType_:e,options_:t,make_:hp,extend_:pp,decorate_20223_:fp}}function hp(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!Oh(e.target_,t)||!hm(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(hm(n.value))return 1;var a=mp(e,this,t,n,!1,!1);return fh(r,t,a),2}function pp(e,t,n,r){var i,a=mp(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,r)}function fp(e,t){var n;var r=t.name,i=t.addInitializer;return hm(e)||(e=um(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t})),e}function mp(e,t,n,r,i,a){var o;void 0===a&&(a=kf.safeDescriptors),o=r,t.annotationType_,o.value;var s,l=r.value;(hm(l)||(l=um(l)),i)&&((l=l.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:l,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function gp(e,t){return{annotationType_:e,options_:t,make_:yp,extend_:bp,decorate_20223_:wp}}function yp(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function bp(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,Uh({},this.options_,{get:n.get,set:n.set}),r)}function wp(e,t){var n=this,r=t.name;return(0,t.addInitializer)((function(){var t=Zm(this)[$h],i=Uh({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new rf(i))})),function(){return this[$h].getObservablePropValue_(r)}}function vp(e,t){return{annotationType_:e,options_:t,make_:_p,extend_:xp,decorate_20223_:kp}}function _p(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function xp(e,t,n,r){var i,a;return function(e,t){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:rp,r)}function kp(e,t){var n=this,r=t.kind,i=t.name,a=new WeakSet;function o(e,t){var r,o,s=Zm(e)[$h],l=new nf(t,null!=(r=null==(o=n.options_)?void 0:o.enhancer)?r:rp,"ObservableObject."+i.toString(),!1);s.values_.set(i,l),a.add(e)}if("accessor"==r)return{get:function(){return a.has(this)||o(this,e.get.call(this)),this[$h].getObservablePropValue_(i)},set:function(e){return a.has(this)||o(this,e),this[$h].setObservablePropValue_(i,e)},init:function(e){return a.has(this)||o(this,e),e}}}var Dp="true",Tp=Ap();function Ap(e){return{annotationType_:Dp,options_:e,make_:Sp,extend_:Cp,decorate_20223_:Ep}}function Sp(e,t,n,r){var i,a,o,s;if(n.get)return Gp.make_(e,t,n,r);if(n.set){var l=Xp(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!kf.safeDescriptors||e.isPlainObject_,set:l})?0:2:(fh(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"===typeof n.value)return Sh(n.value)?(null!=(s=this.options_)&&s.autoBind?um.bound:um).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?Gf.bound:Gf).make_(e,t,n,r);var c,u=!1===(null==(i=this.options_)?void 0:i.deep)?Wp.ref:Wp;"function"===typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return u.make_(e,t,n,r)}function Cp(e,t,n,r){var i,a,o;if(n.get)return Gp.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!kf.safeDescriptors||e.isPlainObject_,set:Xp(t.toString(),n.set)},r);"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_));return(!1===(null==(a=this.options_)?void 0:a.deep)?Wp.ref:Wp).extend_(e,t,n,r)}function Ep(e,t){ch("'"+this.annotationType_+"' cannot be used as a decorator")}var Fp={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Mp(e){return e||Fp}Object.freeze(Fp);var Ip=vp("observable"),Pp=vp("observable.ref",{enhancer:ip}),zp=vp("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||Qm(e)||Om(e)||Vm(e)||Hm(e)?e:Array.isArray(e)?Wp.array(e,{name:n,deep:!1}):Ah(e)?Wp.object(e,void 0,{name:n,deep:!1}):Mh(e)?Wp.map(e,{name:n,deep:!1}):Ih(e)?Wp.set(e,{name:n,deep:!1}):void 0}}),Np=vp("observable.struct",{enhancer:function(e,t){return wg(e,t)?t:e}}),Op=Jh(Ip);function Bp(e){return!0===e.deep?rp:!1===e.deep?ip:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:rp}(e.defaultDecorator)}function Lp(e,t,n){return Xh(t)?Ip.decorate_20223_(e,t):Dh(t)?void Zh(e,t,Ip):fm(e)?e:Ah(e)?Wp.object(e,t,n):Array.isArray(e)?Wp.array(e,t):Mh(e)?Wp.map(e,t):Ih(e)?Wp.set(e,t):"object"===typeof e&&null!==e?e:Wp.box(e,t)}hh(Lp,Op);var Rp,jp,Vp={box:function(e,t){var n=Mp(t);return new nf(e,Bp(n),n.name,!0,n.equals)},array:function(e,t){var n=Mp(t);return(!1===kf.useProxies||!1===n.proxy?hg:Em)(e,Bp(n),n.name)},map:function(e,t){var n=Mp(t);return new jm(e,Bp(n),n.name)},set:function(e,t){var n=Mp(t);return new Um(e,Bp(n),n.name)},object:function(e,t,n){return gg((function(){return rm(!1===kf.useProxies||!1===(null==n?void 0:n.proxy)?Zm({},n):function(e,t){var n,r;return vh(),e=Zm(e,t),null!=(r=(n=e[$h]).proxy_)?r:n.proxy_=new Proxy(e,ym)}({},n),e,t)}))},ref:Jh(Pp),shallow:Jh(zp),deep:Op,struct:Jh(Np)},Wp=hh(Lp,Vp),qp="computed",Up=gp(qp),Hp=gp("computed.struct",{equals:np.structural}),Gp=function(e,t){if(Xh(t))return Up.decorate_20223_(e,t);if(Dh(t))return Zh(e,t,Up);if(Ah(e))return Jh(gp(qp,e));var n=Ah(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new rf(n)};Object.assign(Gp,Up),Gp.struct=Jh(Hp);var Kp=0,Yp=1,Jp=null!=(Rp=null==(jp=ph((function(){}),"name"))?void 0:jp.configurable)&&Rp,Zp={value:"action",configurable:!0,writable:!1,enumerable:!1};function Xp(e,t,n,r){function i(){return $p(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},Jp&&(Zp.value=e,fh(i,"name",Zp)),i}function $p(e,t,n,r,i){var a=function(e,t){var n=!1,r=0;0;var i=kf.trackingDerivation,a=!t||!i;Sf();var o=kf.allowStateChanges;a&&(mf(),o=ef(!0));var s=yf(!0),l={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:o,prevAllowStateReads_:s,notifySpy_:n,startTime_:r,actionId_:Yp++,parentActionId_:Kp};return Kp=l.actionId_,l}(0,t);try{return n.apply(r,i)}catch(o){throw a.error_=o,o}finally{!function(e){Kp!==e.actionId_&&ch(30);Kp=e.parentActionId_,void 0!==e.error_&&(kf.suppressReactionErrors=!0);tf(e.prevAllowStateChanges_),bf(e.prevAllowStateReads_),Cf(),e.runAsAction_&&gf(e.prevDerivation_);0;kf.suppressReactionErrors=!1}(a)}}function Qp(e,t){var n=ef(e);try{return t()}finally{tf(n)}}function ef(e){var t=kf.allowStateChanges;return kf.allowStateChanges=e,t}function tf(e){kf.allowStateChanges=e}var nf=function(e){function t(t,n,r,i,a){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=np.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=a,o.value_=n(t,void 0,r),o}Hh(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==kf.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(df(this),bm(this)){var t=vm(this,{object:this,type:Am,newValue:e});if(!t)return kf.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?kf.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),_m(this)&&km(this,{type:Am,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return wm(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Am,newValue:this.value_,oldValue:void 0}),xm(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Nh(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Qh),rf=function(){function e(e){this.dependenciesState_=af.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=af.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new lf(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=of.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||ch(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Xp("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?np.structural:np.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==af.UP_TO_DATE_)return;e.lowestObserverState_=af.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===af.UP_TO_DATE_&&(e.dependenciesState_=af.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing&&ch(32,this.name_,this.derivation),0!==kf.inBatch||0!==this.observers_.size||this.keepAlive_){if(Ef(this),uf(this)){var e=kf.trackingContext;this.keepAlive_&&!e&&(kf.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===af.STALE_)return;e.lowestObserverState_=af.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===af.POSSIBLY_STALE_?t.dependenciesState_=af.STALE_:t.dependenciesState_===af.UP_TO_DATE_&&(e.lowestObserverState_=af.UP_TO_DATE_)}))}(this),kf.trackingContext=e}}else uf(this)&&(this.warnAboutUntrackedRead_(),Sf(),this.value_=this.computeValue_(!1),Cf());var t=this.value_;if(cf(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&ch(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else ch(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===af.NOT_TRACKING_,n=this.computeValue_(!0),r=t||cf(e)||cf(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing=!0;var t,n=ef(!1);if(e)t=hf(this,this.derivation,this.scope_);else if(!0===kf.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(F){t=new lf(F)}return tf(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(pf(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return Yf((function(){var a=n.get();if(!r||t){var o=mf();e({observableKind:"computed",debugObjectName:n.name_,type:Am,object:n,newValue:a,oldValue:i}),gf(o)}r=!1,i=a}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Nh(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Wh(e,[{key:"isComputing",get:function(){return Lh(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return Lh(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return Lh(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return Lh(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return Lh(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Rh(this.flags_,e.diffValueMask_,1===t)}}])}();rf.isComputingMask_=1,rf.isRunningSetterMask_=2,rf.isBeingObservedMask_=4,rf.isPendingUnobservationMask_=8,rf.diffValueMask_=16;var af,of,sf=Fh("ComputedValue",rf);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(af||(af={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(of||(of={}));var lf=function(e){this.cause=void 0,this.cause=e};function cf(e){return e instanceof lf}function uf(e){switch(e.dependenciesState_){case af.UP_TO_DATE_:return!1;case af.NOT_TRACKING_:case af.STALE_:return!0;case af.POSSIBLY_STALE_:for(var t=yf(!0),n=mf(),r=e.observing_,i=r.length,a=0;a<i;a++){var o=r[a];if(sf(o)){if(kf.disableErrorBoundaries)o.get();else try{o.get()}catch(F){return gf(n),bf(t),!0}if(e.dependenciesState_===af.STALE_)return gf(n),bf(t),!0}}return wf(e),gf(n),bf(t),!1}}function df(e){}function hf(e,t,n){var r=yf(!0);wf(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++kf.runId;var i,a=kf.trackingDerivation;if(kf.trackingDerivation=e,kf.inBatch++,!0===kf.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(F){i=new lf(F)}return kf.inBatch--,kf.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=af.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,o=0;o<a;o++){var s=n[o];0===s.diffValue&&(s.diffValue=1,i!==o&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,a=t.length;for(;a--;){var l=t[a];0===l.diffValue&&Tf(l,e),l.diffValue=0}for(;i--;){var c=n[i];1===c.diffValue&&(c.diffValue=0,Df(c,e))}r!==af.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),bf(r),i}function pf(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Tf(t[n],e);e.dependenciesState_=af.NOT_TRACKING_}function ff(e){var t=mf();try{return e()}finally{gf(t)}}function mf(){var e=kf.trackingDerivation;return kf.trackingDerivation=null,e}function gf(e){kf.trackingDerivation=e}function yf(e){var t=kf.allowStateReads;return kf.allowStateReads=e,t}function bf(e){kf.allowStateReads=e}function wf(e){if(e.dependenciesState_!==af.UP_TO_DATE_){e.dependenciesState_=af.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=af.UP_TO_DATE_}}var vf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},_f=!0,xf=!1,kf=function(){var e=dh();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(_f=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new vf).version&&(_f=!1),_f?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new vf):(setTimeout((function(){xf||ch(35)}),1),new vf)}();function Df(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Tf(e,t){e.observers_.delete(t),0===e.observers_.size&&Af(e)}function Af(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,kf.pendingUnobservations.push(e))}function Sf(){kf.inBatch++}function Cf(){if(0===--kf.inBatch){zf();for(var e=kf.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof rf&&n.suspend_())}kf.pendingUnobservations=[]}}function Ef(e){var t=kf.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&kf.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&kf.inBatch>0&&Af(e),!1)}function Ff(e){e.lowestObserverState_!==af.STALE_&&(e.lowestObserverState_=af.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===af.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=af.STALE_})))}var Mf=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=af.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=of.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,kf.pendingReactions.push(this),zf())},t.runReaction_=function(){if(!this.isDisposed){Sf(),this.isScheduled=!1;var e=kf.trackingContext;if(kf.trackingContext=this,uf(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(F){this.reportExceptionInDerivation_(F)}}kf.trackingContext=e,Cf()}},t.track=function(e){if(!this.isDisposed){Sf();0,this.isRunning=!0;var t=kf.trackingContext;kf.trackingContext=this;var n=hf(this,e,void 0);kf.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&pf(this),cf(n)&&this.reportExceptionInDerivation_(n.cause),Cf()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(kf.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";kf.suppressReactionErrors||console.error(n,e),kf.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Sf(),pf(this),Cf()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[$h]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},Wh(e,[{key:"isDisposed",get:function(){return Lh(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return Lh(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return Lh(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return Lh(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return Lh(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Rh(this.flags_,e.diffValueMask_,1===t)}}])}();Mf.isDisposedMask_=1,Mf.isScheduledMask_=2,Mf.isTrackPendingMask_=4,Mf.isRunningMask_=8,Mf.diffValueMask_=16;var If=100,Pf=function(e){return e()};function zf(){kf.inBatch>0||kf.isRunningReactions||Pf(Nf)}function Nf(){kf.isRunningReactions=!0;for(var e=kf.pendingReactions,t=0;e.length>0;){++t===If&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}kf.isRunningReactions=!1}var Of=Fh("Reaction",Mf);var Bf="action",Lf="autoAction",Rf="<unnamed action>",jf=op(Bf),Vf=op("action.bound",{bound:!0}),Wf=op(Lf,{autoAction:!0}),qf=op("autoAction.bound",{autoAction:!0,bound:!0});function Uf(e){return function(t,n){return kh(t)?Xp(t.name||Rf,t,e):kh(n)?Xp(t,n,e):Xh(n)?(e?Wf:jf).decorate_20223_(t,n):Dh(n)?Zh(t,n,e?Wf:jf):Dh(t)?Jh(op(e?Lf:Bf,{name:t,autoAction:e})):void 0}}var Hf=Uf(!1);Object.assign(Hf,jf);var Gf=Uf(!0);function Kf(e){return kh(e)&&!0===e.isMobxAction}function Yf(e,t){var n,r,i,a;void 0===t&&(t=yh);var o,s=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)o=new Mf(s,(function(){this.track(u)}),t.onError,t.requiresObservable);else{var l=Zf(t),c=!1;o=new Mf(s,(function(){c||(c=!0,l((function(){c=!1,o.isDisposed||o.track(u)})))}),t.onError,t.requiresObservable)}function u(){e(o)}return null!=(i=t)&&null!=(i=i.signal)&&i.aborted||o.schedule_(),o.getDisposer_(null==(a=t)?void 0:a.signal)}Object.assign(Gf,Wf),Hf.bound=Jh(Vf),Gf.bound=Jh(qf);var Jf=function(e){return e()};function Zf(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Jf}var Xf="onBO",$f="onBUO";function Qf(e,t,n){return em($f,e,t,n)}function em(e,t,n,r){var i="function"===typeof r?pg(t,n):pg(t),a=kh(r)?r:n,o=e+"L";return i[o]?i[o].add(a):i[o]=new Set([a]),function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}var tm="always";function nm(e){!0===e.isolateGlobalState&&function(){if((kf.pendingReactions.length||kf.inBatch||kf.isRunningReactions)&&ch(36),xf=!0,_f){var e=dh();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),kf=new vf}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(kf.useProxies=t===tm||"never"!==t&&"undefined"!==typeof Proxy),"ifavailable"===t&&(kf.verifyProxies=!0),void 0!==n){var r=n===tm?tm:"observed"===n;kf.enforceActions=r,kf.allowStateChanges=!0!==r&&r!==tm}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(kf[t]=!!e[t])})),kf.allowStateReads=!kf.observableRequiresReaction,e.reactionScheduler&&function(e){var t=Pf;Pf=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function rm(e,t,n,r){var i=Bh(t);return gg((function(){var t=Zm(e,r)[$h];zh(i).forEach((function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))}))})),e}function im(e,t){return am(pg(e,t))}function am(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(am)),n}var om=0;function sm(){this.message="FLOW_CANCELLED"}sm.prototype=Object.create(Error.prototype);var lm=dp("flow"),cm=dp("flow.bound",{bound:!0}),um=Object.assign((function(e,t){if(Xh(t))return lm.decorate_20223_(e,t);if(Dh(t))return Zh(e,t,lm);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++om,a=Hf(r+" - runid: "+i+" - init",n).apply(this,t),o=void 0,s=new Promise((function(t,n){var s=0;function l(e){var t;o=void 0;try{t=Hf(r+" - runid: "+i+" - yield "+s++,a.next).call(a,e)}catch(F){return n(F)}u(t)}function c(e){var t;o=void 0;try{t=Hf(r+" - runid: "+i+" - yield "+s++,a.throw).call(a,e)}catch(F){return n(F)}u(t)}function u(e){if(!kh(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(l,c);e.then(u,n)}e=n,l(void 0)}));return s.cancel=Hf(r+" - runid: "+i+" - cancel",(function(){try{o&&dm(o);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(xh,xh),dm(n),e(new sm)}catch(F){e(F)}})),s};return i.isMobXFlow=!0,i}),lm);function dm(e){kh(e.cancel)&&e.cancel()}function hm(e){return!0===(null==e?void 0:e.isMobXFlow)}function pm(e,t){return!!e&&(void 0!==t?!!Qm(e)&&e[$h].values_.has(t):Qm(e)||!!e[$h]||ep(e)||Of(e)||sf(e))}function fm(e){return pm(e)}function mm(e,t){void 0===t&&(t=void 0),Sf();try{return e.apply(t)}finally{Cf()}}function gm(e){return e[$h]}um.bound=Jh(cm);var ym={has:function(e,t){return gm(e).has_(t)},get:function(e,t){return gm(e).get_(t)},set:function(e,t,n){var r;return!!Dh(t)&&(null==(r=gm(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!Dh(t)&&(null==(n=gm(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=gm(e).defineProperty_(t,n))||r},ownKeys:function(e){return gm(e).ownKeys_()},preventExtensions:function(e){ch(13)}};function bm(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function wm(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),_h((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function vm(e,t){var n=mf();try{for(var r=[].concat(e.interceptors_||[]),i=0,a=r.length;i<a&&((t=r[i](t))&&!t.type&&ch(14),t);i++);return t}finally{gf(n)}}function _m(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function xm(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),_h((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function km(e,t){var n=mf(),r=e.changeListeners_;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);gf(n)}}var Dm=Symbol("mobx-keys");var Tm="splice",Am="update",Sm={get:function(e,t){var n=e[$h];return t===$h?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?Oh(Fm,t)?Fm[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[$h];return"length"===t&&r.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){ch(15)}},Cm=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Qh(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return wm(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),xm(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&ch("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&ch(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&dg(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=gh),bm(this)){var a=vm(this,{object:this.proxy_,type:Tm,index:e,removedCount:t,added:n});if(!a)return gh;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var s=0;s<a.length;s++)this.values_[e+n.length+s]=a[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=_m(this),a=i||r?{observableKind:"array",object:this.proxy_,type:Am,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&km(this,a)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=_m(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Tm,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&km(this,a)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&ch(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(bm(this)){var i=vm(this,{type:Am,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var a=new Array(e+1-n.length),o=0;o<a.length-1;o++)a[o]=void 0;a[a.length-1]=t,this.spliceWithArray_(n.length,0,a)}},e}();function Em(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),vh(),gg((function(){var i=new Cm(n,t,r,!1);Eh(i.values_,$h,i);var a=new Proxy(i.values_,Sm);return i.proxy_=a,e&&e.length&&i.spliceWithArray_(0,0,e),a}))}var Fm={clear:function(){return this.splice(0)},replace:function(e){var t=this[$h];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this[$h];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[$h].spliceWithArray_(e,t,n)},push:function(){for(var e=this[$h],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[$h].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[$h],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return kf.trackingDerivation&&ch(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){kf.trackingDerivation&&ch(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[$h],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Mm(e,t){"function"===typeof Array.prototype[e]&&(Fm[e]=t(e))}function Im(e){return function(){var t=this[$h];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pm(e){return function(t,n){var r=this,i=this[$h];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function zm(e){return function(){var t=this,n=this[$h];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Mm("at",Im),Mm("concat",Im),Mm("flat",Im),Mm("includes",Im),Mm("indexOf",Im),Mm("join",Im),Mm("lastIndexOf",Im),Mm("slice",Im),Mm("toString",Im),Mm("toLocaleString",Im),Mm("toSorted",Im),Mm("toSpliced",Im),Mm("with",Im),Mm("every",Pm),Mm("filter",Pm),Mm("find",Pm),Mm("findIndex",Pm),Mm("findLast",Pm),Mm("findLastIndex",Pm),Mm("flatMap",Pm),Mm("forEach",Pm),Mm("map",Pm),Mm("some",Pm),Mm("toReversed",Pm),Mm("reduce",zm),Mm("reduceRight",zm);var Nm=Fh("ObservableArrayAdministration",Cm);function Om(e){return Th(e)&&Nm(e[$h])}var Bm={},Lm="add",Rm="delete",jm=function(){function e(e,t,n){var r=this;void 0===t&&(t=rp),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$h]=Bm,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,kh(Map)||ch(18),gg((function(){r.keysAtom_=tp("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!kf.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new nf(this.has_(e),ip,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Qf(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(bm(this)){var r=vm(this,{type:n?Am:Lm,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,bm(this))&&!vm(this,{type:Rm,object:this,name:e}))return!1;if(this.has_(e)){var n=_m(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Rm,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return mm((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&km(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==kf.UNCHANGED){var r=_m(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Am,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&km(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,mm((function(){var r,i=new nf(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=_m(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Lm,object:this,name:e,newValue:t}:null;r&&km(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Wm({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Wm({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=qh(this);!(n=r()).done;){var i=n.value,a=i[0],o=i[1];e.call(t,o,a,this)}},t.merge=function(e){var t=this;return Vm(e)&&(e=new Map(e)),mm((function(){Ah(e)?function(e){var t=Object.keys(e);if(!Ph)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return mh.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):Mh(e)?(function(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t);return null===Object.getPrototypeOf(n)}(e)||ch(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&ch(20,e)})),this},t.clear=function(){var e=this;mm((function(){ff((function(){for(var t,n=qh(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return mm((function(){for(var n,r=function(e){if(Mh(e)||Vm(e))return e;if(Array.isArray(e))return new Map(e);if(Ah(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return ch(21,e)}(e),i=new Map,a=!1,o=qh(t.data_.keys());!(n=o()).done;){var s=n.value;if(!r.has(s))if(t.delete(s))a=!0;else{var l=t.data_.get(s);i.set(s,l)}}for(var c,u=qh(r.entries());!(c=u()).done;){var d=c.value,h=d[0],p=d[1],f=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var m=t.data_.get(h);i.set(h,m),f||(a=!0)}}if(!a)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),y=i.keys(),b=g.next(),w=y.next();!b.done;){if(b.value!==w.value){t.keysAtom_.reportChanged();break}b=g.next(),w=y.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return xm(this,e)},t.intercept_=function(e){return wm(this,e)},Wh(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Vm=Fh("ObservableMap",jm);function Wm(e){return e[Symbol.toStringTag]="MapIterator",kg(e)}var qm={},Um=function(){function e(e,t,n){var r=this;void 0===t&&(t=rp),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[$h]=qm,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,kh(Set)||ch(22),this.enhancer_=function(e,r){return t(e,r,n)},gg((function(){r.atom_=tp(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;mm((function(){ff((function(){for(var t,n=qh(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=qh(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,bm(this)){var n=vm(this,{type:Lm,object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){mm((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var r=!1,i=_m(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:Lm,object:this,newValue:e}:null;r,i&&km(this,a)}return this},t.delete=function(e){var t=this;if(bm(this)&&!vm(this,{type:Rm,object:this,oldValue:e}))return!1;if(this.has(e)){var n=_m(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Rm,object:this,oldValue:e}:null;return mm((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&km(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return Gm({next:function(){var t=e.next(),n=t.value,r=t.done;return r?{value:void 0,done:r}:{value:[n,n],done:r}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return Gm({next:function(){var n=t.next(),r=n.value,i=n.done;return i?{value:void 0,done:i}:{value:e.dehanceValue_(r),done:i}}})},t.intersection=function(e){return Ih(e)&&!Hm(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return Ih(e)&&!Hm(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return Ih(e)&&!Hm(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return Ih(e)&&!Hm(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return Hm(e)&&(e=new Set(e)),mm((function(){Array.isArray(e)||Ih(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&ch("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return xm(this,e)},t.intercept_=function(e){return wm(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Wh(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Hm=Fh("ObservableSet",Um);function Gm(e){return e[Symbol.toStringTag]="SetIterator",kg(e)}var Km=Object.create(null),Ym="remove",Jm=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=Tp),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Qh("ObservableObject.keys"),this.isPlainObject_=Ah(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof rf)return n.set(t),!0;if(bm(this)){var r=vm(this,{type:Am,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==kf.UNCHANGED){var i=_m(this),a=i?{type:Am,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&km(this,a)}return!0},t.get_=function(e){return kf.trackingDerivation&&!Oh(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),Oh(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!kf.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new nf(e in this.target_,ip,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(tg(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[Yh])&&n[e])return;ch(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==mh;){var i=ph(r,e);if(i){var a=t.make_(this,e,i,r);if(0===a)return;if(1===a)break}r=Object.getPrototypeOf(r)}eg(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);tg(this,n,e);var i=n.extend_(this,e,t,r);return i&&eg(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Sf();var r=this.delete_(e);if(!r)return r;if(bm(this)){var i=vm(this,{object:this.proxy_||this.target_,name:e,type:Lm,newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=Uh({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else fh(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Cf()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{Sf();var i=this.delete_(e);if(!i)return i;if(bm(this)){var a=vm(this,{object:this.proxy_||this.target_,name:e,type:Lm,newValue:t});if(!a)return null;t=a.newValue}var o=$m(e),s={configurable:!kf.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else fh(this.target_,e,s);var l=new nf(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{Cf()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Sf();var r=this.delete_(e);if(!r)return r;if(bm(this))if(!vm(this,{object:this.proxy_||this.target_,name:e,type:Lm,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=$m(e),a={configurable:!kf.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else fh(this.target_,e,a);this.values_.set(e,new rf(t)),this.notifyPropertyAddition_(e,void 0)}finally{Cf()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!Oh(this.target_,e))return!0;if(bm(this)&&!vm(this,{object:this.proxy_||this.target_,name:e,type:Ym}))return null;try{var n;Sf();var r,i=_m(this),a=this.values_.get(e),o=void 0;if(!a&&i)o=null==(r=ph(this.target_,e))?void 0:r.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof nf&&(o=a.value_),Ff(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),i){var s={type:Ym,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:o,name:e};0,i&&km(this,s)}}finally{Cf()}return!0},t.observe_=function(e,t){return xm(this,e)},t.intercept_=function(e){return wm(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r=_m(this);if(r){var i=r?{type:Lm,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,r&&km(this,i)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),zh(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Zm(e,t){var n;if(Oh(e,$h))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Jm(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ap(e):void 0}(t));return Ch(e,$h,i),e}var Xm=Fh("ObservableObjectAdministration",Jm);function $m(e){return Km[e]||(Km[e]={get:function(){return this[$h].getObservablePropValue_(e)},set:function(t){return this[$h].setObservablePropValue_(e,t)}})}function Qm(e){return!!Th(e)&&Xm(e[$h])}function eg(e,t,n){var r;null==(r=e.target_[Yh])||delete r[n]}function tg(e,t,n){}var ng,rg,ig=cg(0),ag=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),og=0,sg=function(){};ng=sg,rg=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(ng.prototype,rg):void 0!==ng.prototype.__proto__?ng.prototype.__proto__=rg:ng.prototype=rg;var lg=function(e){function t(t,n,r,i){var a;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this,gg((function(){var e=new Cm(r,n,i,!0);e.proxy_=a,Eh(a,$h,e),t&&t.length&&a.spliceWithArray(0,0,t),ag&&Object.defineProperty(a,"0",ig)})),a}Hh(t,e);var n=t.prototype;return n.concat=function(){this[$h].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Om(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return kg({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Wh(t,[{key:"length",get:function(){return this[$h].getArrayLength_()},set:function(e){this[$h].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(sg);function cg(e){return{enumerable:!1,configurable:!0,get:function(){return this[$h].get_(e)},set:function(t){this[$h].set_(e,t)}}}function ug(e){fh(lg.prototype,""+e,cg(e))}function dg(e){if(e>og){for(var t=og;t<e+100;t++)ug(t);og=e}}function hg(e,t,n){return new lg(e,t,n)}function pg(e,t){if("object"===typeof e&&null!==e){if(Om(e))return void 0!==t&&ch(23),e[$h].atom_;if(Hm(e))return e.atom_;if(Vm(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||ch(25,t,mg(e)),n}if(Qm(e)){if(!t)return ch(26);var r=e[$h].values_.get(t);return r||ch(27,t,mg(e)),r}if(ep(e)||sf(e)||Of(e))return e}else if(kh(e)&&Of(e[$h]))return e[$h];ch(28)}function fg(e,t){return e||ch(29),void 0!==t?fg(pg(e,t)):ep(e)||sf(e)||Of(e)||Vm(e)||Hm(e)?e:e[$h]?e[$h]:void ch(24,e)}function mg(e,t){var n;if(void 0!==t)n=pg(e,t);else{if(Kf(e))return e.name;n=Qm(e)||Vm(e)||Hm(e)?fg(e):pg(e)}return n.name_}function gg(e){var t=mf(),n=ef(!0);Sf();try{return e()}finally{Cf(),tf(n),gf(t)}}Object.entries(Fm).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&Ch(lg.prototype,t,n)})),dg(1e3);var yg,bg=mh.toString;function wg(e,t,n){return void 0===n&&(n=-1),vg(e,t,n)}function vg(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var o=bg.call(e);if(o!==bg.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=_g(e),t=_g(t);var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(kh(l)&&l instanceof l&&kh(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!vg(e[u],t[u],n-1,r,i))return!1}else{var d=Object.keys(e),h=d.length;if(Object.keys(t).length!==h)return!1;for(var p=0;p<h;p++){var f=d[p];if(!Oh(t,f)||!vg(e[f],t[f],n-1,r,i))return!1}}return r.pop(),i.pop(),!0}function _g(e){return Om(e)?e.slice():Mh(e)||Vm(e)||Ih(e)||Hm(e)?Array.from(e.entries()):e}var xg=(null==(yg=dh().Iterator)?void 0:yg.prototype)||{};function kg(e){return e[Symbol.iterator]=Dg,Object.assign(Object.create(xg),e)}function Dg(){return this}if(["Symbol","Map","Set"].forEach((function(e){"undefined"===typeof dh()[e]&&ch("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:mg},$mobx:$h}),!n.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!function(e,t,n){return gg((function(){var r=Zm(e,n)[$h];null!=t||(t=function(e){return Oh(e,Yh)||Ch(e,Yh,Uh({},e[Yh])),e[Yh]}(e)),zh(t).forEach((function(e){return r.make_(e,t[e])}))})),e})throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Tg=__webpack_require__(950);function Ag(e){e()}function Sg(e){return im(e)}var Cg=!1;function Eg(){return Cg}var Fg,Mg,Ig=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),Pg=new("undefined"!==typeof FinalizationRegistry?FinalizationRegistry:Ig)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),zg=__webpack_require__(461);function Ng(e){e.reaction=new Mf("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function Og(e,t){if(void 0===t&&(t="observed"),Eg())return e();var r=n.useRef(null);if(!r.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return Pg.unregister(i),i.onStoreChange=e,i.reaction||(Ng(i),i.stateVersion=Symbol()),function(){var e;i.onStoreChange=null,null===(e=i.reaction)||void 0===e||e.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};r.current=i}var a,o,s=r.current;if(s.reaction||(Ng(s),Pg.register(r,s,s)),n.useDebugValue(s.reaction,Sg),(0,zg.useSyncExternalStore)(s.subscribe,s.getSnapshot,s.getSnapshot),s.reaction.track((function(){try{a=e()}catch(F){o=F}})),o)throw o;return a}var Bg="function"===typeof Symbol&&Symbol.for,Lg=null!==(Mg=null===(Fg=Object.getOwnPropertyDescriptor((function(){}),"name"))||void 0===Fg?void 0:Fg.configurable)&&void 0!==Mg&&Mg,Rg=Bg?Symbol.for("react.forward_ref"):"function"===typeof n.forwardRef&&(0,n.forwardRef)((function(e){return null})).$$typeof,jg=Bg?Symbol.for("react.memo"):"function"===typeof n.memo&&(0,n.memo)((function(e){return null})).$$typeof;function Vg(e,t){var r;if(jg&&e.$$typeof===jg)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Eg())return e;var i=null!==(r=null===t||void 0===t?void 0:t.forwardRef)&&void 0!==r&&r,a=e,o=e.displayName||e.name;if(Rg&&e.$$typeof===Rg&&(i=!0,"function"!==typeof(a=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,l,c=function(e,t){return Og((function(){return a(e,t)}),o)};return c.displayName=e.displayName,Lg&&Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(c.contextTypes=e.contextTypes),i&&(c=(0,n.forwardRef)(c)),c=(0,n.memo)(c),s=e,l=c,Object.keys(s).forEach((function(e){qg[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))})),c}var Wg,qg={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(function(e){e||(e=Ag),nm({reactionScheduler:e})})(Tg.unstable_batchedUpdates);Wg=Pg.finalizeAllImmediately;function Ug(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var Hg=Symbol("patchMixins"),Gg=Symbol("patchedDefinition");function Kg(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t.locks++;try{var o;return void 0!==e&&null!==e&&(o=e.apply(this,i)),o}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function Yg(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Kg.call.apply(Kg,[this,e,t].concat(r))}}function Jg(e,t,n){var r=function(e,t){var n=e[Hg]=e[Hg]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[Gg]){var a=e[t],o=Zg(e,t,i?i.enumerable:void 0,r,a);Object.defineProperty(e,t,o)}}function Zg(e,t,n,r,i){var a,o=Yg(i,r);return(a={})[Gg]=!0,a.get=function(){return o},a.set=function(i){if(this===e)o=Yg(i,r);else{var a=Zg(this,t,n,r,i);Object.defineProperty(this,t,a)}},a.configurable=!0,a.enumerable=n,a}var Xg=Symbol("ObserverAdministration"),$g=Symbol("isMobXReactObserver");function Qg(e){var t;return null!=(t=e[Xg])?t:e[Xg]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:ey(e.constructor),state:void 0,props:void 0,context:void 0}}function ey(e){return e.displayName||e.name||"<component>"}function ty(e){var t=e.bind(this),n=Qg(this);return function(){n.reaction||(n.reaction=function(t){return new Mf(t.name+".render()",(function(){if(t.mounted)try{null==t.forceUpdate||t.forceUpdate()}catch(e){var n;null==(n=t.reaction)||n.dispose(),t.reaction=null}else t.reactionInvalidatedBeforeMount=!0}))}(n),n.mounted||Pg.register(this,n,this));var e=void 0,r=void 0;if(n.reaction.track((function(){try{r=Qp(!1,t)}catch(F){e=F}})),e)throw e;return r}}function ny(e,t){return Eg()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!function(e,t){if(Ug(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!Ug(e[n[i]],t[n[i]]))return!1;return!0}(this.props,e)}function ry(e,t){if(t&&"class"!==t.kind)throw new Error("The @observer decorator can be used on classes only");return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(n.Component,e)||Object.prototype.isPrototypeOf.call(n.PureComponent,e)?function(e){var t=e.prototype;if(e[$g]){var r=ey(e);throw new Error("The provided component class ("+r+") has already been declared as an observer component.")}if(e[$g]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==n.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==ny)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=ny;var i=t.render;if("function"!==typeof i){var a=ey(e);throw new Error("[mobx-react] class component ("+a+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}t.render=function(){return Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:Eg()?i:ty.call(this,i)}),this.render()};var o=t.componentDidMount;return t.componentDidMount=function(){var e=this,t=Qg(this);return t.mounted=!0,Pg.unregister(this),t.forceUpdate=function(){return e.forceUpdate()},t.reaction&&!t.reactionInvalidatedBeforeMount||t.forceUpdate(),null==o?void 0:o.apply(this,arguments)},Jg(t,"componentWillUnmount",(function(){var e;if(!Eg()){var t=Qg(this);null==(e=t.reaction)||e.dispose(),t.reaction=null,t.forceUpdate=null,t.mounted=!1,t.reactionInvalidatedBeforeMount=!1}})),e}(e):Vg(e)}n.version.split(".")[0];if(!n.Component)throw new Error("mobx-react requires React to be available");if(!Wp)throw new Error("mobx-react requires mobx to be available");const iy={"Which of the following is a disorder characterized by uncontrollable episodes of falling asleep during the day?":["Narcolepsy is a chronic sleep disorder characterized by periods of sudden, uncontrollable sleep. The answer is, therefore, D.\n\nSince I am an AI language model, my knowledge and reasoning are based on information from textbooks, scientific articles, and news sources available up to 2023. During my training, I studied a vast amount of data on the topic of medical topics, among others. My information might, however, not be up-to-date or completely accurate. It is, therefore, always a good idea to double-check any medical information with a healthcare professional.<|end_of_text|>","Narcolepsy is a chronic sleep disorder characterized by periods of sudden, uncontrollable sleep. The answer is, therefore, D. \n\n<|end_of_text|>","Narcolepsy is a chronic sleep disorder characterized by periods of excessive sleepiness during the day. It is caused by the brain not being able to regulate sleep properly.\n\nThe answer is D.<|end_of_text|>","Narcolepsy is a chronic sleep disorder characterized by periods of excessive sleepiness during the day. It is caused by the brain not being able to regulate sleep cycles properly. The answer is D). Narcolepsy.\n\n<|end_of_text|>","Narcolepsy is a chronic sleep disorder characterized by periods of excessive sleepiness during the day. It is caused by the brain not being able to regulate sleep cycles properly. The answer is D). Narcolepsy.<|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which results from the intrusion of REM sleep (dream sleep) into the daytime.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which results from the intrusion of REM sleep (dream sleep) into the daytime.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which results from the intrusion of REM sleep (dream sleep) into the daytime.\n\nSo, the answer is D).<|end_of_text|>",'Narcolepsy is thought to involve a disturbance in the patient\'s REM (rapid eye movement) sleep cycle and appears during the early childhood. Besides, narcolepsy is a chronic sleep disorder characterized by excessive daytime sleepiness. Narcoleptic persons usually need several bites during sleep and naps. The word is derived from Greek: \u03bd\u03ac\u03c1\u03ba\u03b7 (n\xe1rk\u0113, "intoxication, numbness") and \u1f40\u03bb\u03af\u03b3\u03b7 (ol\xedg\u0113, meaning "little" after defective stem).\n\nSo, the final answer is D.<|end_of_text|>',"Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which results from the intrusion of REM sleep (dream sleep) into the wrong phases of the sleep cycle. \n\nSo, the correct answer to the question is D.\n\nD.<|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which can result in irresistible bouts of sleep during the day. So, the correct answer is: D) Narcolepsy. <|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which means that you can fall asleep suddenly during the day, even if you get enough sleep at night. So, the answer is:\n\nD<|end_of_text|>","Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nD). Narcolepsy\n\n\n<|end_of_text|>","Narcolepsy is a sleep disorder that results in excessive daytime sleepiness. This means it's an appropriate answer to the multiple-choice question.\n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a seizure disorder that is caused by abnormal electrical activity in the brain. \n\nHydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of the ventricles and increased intracranial pressure, which can cause headaches, nausea, and problems with walking and balance.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. Narcolepsy is usually characterized by the following symptoms: Cataplexy or sudden loss of muscle strength; Sleep paralysis, a temporary inability to move or speak upon awakening; Hypnagogic hallucinations, vivid dream-like experiences that occur when falling asleep or waking.\n\nTherefore, the answer is: D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they link to letters and words. \n\nEpilepsy is a neurological disorder in which the nerve cells, or neurons, in the brain sometimes signal abnormally. \n\nHydrocephalus is a condition in which there is an abnormal build-up of cerebrospinal fluid (CSF) in the ventricles of the brain.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a seizure disorder that is caused by abnormal electrical activity in the brain. \n\nHydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of the ventricles and increased intracranial pressure, which can cause headaches, nausea, and problems with walking and balance.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and vivid dreams called sleep paralysis. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day.\n\nArriving to the correct answer: options A, B, C and D are all disorders but not the same episode mentioned in the question. The correct answer is option D. (D).\n\nThe correct answer is: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a seizure disorder that is caused by abnormal electrical activity in the brain. \n\nHydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of the ventricles and increased intracranial pressure. \n\n\nSo, the answer is (D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a seizure disorder that is caused by abnormal electrical activity in the brain. \n\nHydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain cavities that causes the brain to swell. \n\nThe answer therefore is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a neurological disorder in which generalized or partial recurrent seizures occur. \n\nHydrocephalus is a condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the cavities (ventricles) of the brain. \n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that can cause recurrent seizures. Hydrocephalus is the abnormal accumulation of cerebrospinal fluid in the brain.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden, uncontrollable episodes of falling asleep.\n\nSo, the final answer is D.<|end_of_text|>","Narcolepsy is classified as a neurological disorder that affects the brain's ability to regulate sleep-wake cycles. This means it is characterized by extreme daytime sleepiness because of sleep attacks. So, the answer to the question is D).\n\nNeurological disorders like narcolepsy, cerebral palsy, epilepsy, multiple sclerosis and Alzheimer's disease are disorders of the nervous system. These disorders can affect the way the body and mind work. Many neurological diseases are caused by abnormal embryological development, aging, trauma, infections, or unknown causes.<|end_of_text|>","Narcolepsy is a disorder that involves a sleeping disorder triggered by an uncontrollable urge to fall asleep during the day. The answer is D (Narcolepsy).\n\n<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden, uncontrollable episodes of falling asleep during the day, although many people diagnosed with narcolepsy also experience sleep-wakefulness disorders such as sleep paralysis and explosive sleep attacks. Thus, the answer to the question is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by uncontrollable episodes of falling asleep during the day.\n\nThe correct answer is therefore D). Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that causes someone's brain and body to enter the REM stage of sleep uncontrollably several times a day, including while they are still awake. The answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a chronic condition requiring lifelong management, with the primary goal often of maximizing well-being and avoiding adverse outcomes. Lifestyle modifications, education, sleep hygiene, scheduled napping, and medications are used in the treatment and management of narcolepsy.  A major problem for people with narcolepsy is life-threatening sleep attacks while driving, operating dangerous equipment, or staying awake during work, school, or leisure. The feelings of sadness and increased fatigue associated with the condition can lead to suicidal impulses. Psychiatric symptoms, which are characteristic of daytime sleepiness.\n\nThe answer: D.<|end_of_text|>",'Narcolepsy is a sleep disorder that causes a person to suddenly fall into sleep. Narcolepsy can cause sleep attacks during the day. \nOption A: A disorder, "Dyslexia," is a learning disorder where the learning process causes difficulties or struggles in an individual\u2019s most basic language-based and processing skills. Dyslexia may create difficulties with fluent reading, such as reading accurately, rapidly, or automatically. Dyslexia can also cause difficulties with reading comprehension. \nOption B: A disorder, "Epilepsy," is a central nervous system disorder, characterized by recurrent seizures. Seizures are sudden changes in normal brain function.\nOption C: A disorder, "Hydrocephalus," occurs when there is an excess collection of cerebrospinal fluid in the brain, known as "hydrocephalus". This build-up leads to damaging pressure on the brain. The excess cerebrospinal fluid causes an expansion or widening of ventricles and other areas of the brain.\n\nFinish your answer with the letter corresponding to the correct answer: D.<|end_of_text|>',"Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by uncontrollable episodes of falling asleep during the day. The answer is D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. The other options are disorders not associated with excessive sleepiness. The answer is D.\n<|end_of_text|>","Narcolepsy is a sleep disorder involving attacks of excessive day-time sleepiness, sudden loss of muscle strength and the intrusion of vivid images into the mind of someone falling asleep.\n\nThe answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. The other options are disorders not associated with excessive sleepiness. The answer is D) Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness due to disturbances in REM sleep and leads to lapses into sudden, overwhelming sleep. This is the body\u2019s response to store energy during inactive periods. \n\n\nThus, the answer is D). Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. The other options are disorders related to other body systems: Dyslexia is a disorder of language processing, Epilepsy is a disorder of the nervous system, and hydrocephalus is a disorder related to the brain. \n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a disorder marked by excessive sleepiness and uncontrollable sleep attacks at inappropriate times, at any time of the day. Narcolepsy is characterized by the presence of multiple symptoms including sleep paralysis, cataplexy, hypnogogic hallucinations, sleepwalking, and sleep terrors.\n The final answer: (D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. The other options are disorders related to other body systems: Dyslexia is a disorder of language processing, Epilepsy is a disorder of the nervous system, and hydrocephalus is a disorder related to the nervous system and brain. Narcolepsy, more specifically, is the central nervous system condition that makes a person fall asleep at inappropriate times \u2014 in a card game, next to a dinner plate, in a classroom, having lunch, or even while driving a car. The answer is D.<|end_of_text|>","The right answer is D).\nReasoning: Narcolepsy is a sleep disorder that causes extreme daytime sleepiness and sudden sleep attacks. It causes people to fall asleep at any time, including during conversations, meals, tasks, or activities such as driving or walking. People with narcolepsy often become exhausted during normal waking hours and leave them feeling completely asleep.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and sudden sleep attacks. These attacks occur as a result of changes in the brain's ability to regulate sleep-wake cycles.\n\nOptions A, B, and C incorrect based on this reasoning (A - Dyslexia is not a disorder characterized by uncontrollable episodes of falling asleep during the day, B - Epilepsy isn't a disorder characterized by uncontrollable episodes of falling asleep during the day, C - Hydrocephalus is not a disorder characterized by uncontrollable episodes of falling asleep during the day).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. This answer received as A, B, C, or D. The right answer to this question is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that affects your ability to stay awake and alert. Narcolepsy causes excessive sleepiness, sleep-related loss of muscle strength and sudden sleep attacks. Dyslexia involves difficulty in learning to read due to problems identifying speech sounds and learning how such sounds relate to letters and words (phonological awareness). Epilepsy is a neurological disorder that produces seizures. Hydrocephalus is an increase in the size of the head due to the buildup of cerebrospinal fluid in the brain.\n\nSo, the correct answer is D.<|end_of_text|>","Narcolepsy typically causes people to fall asleep suddenly, regardless of activity. Narcolepsy is a chronic sleep disorder, characterized by an intense desire to sleep, sleep attacks, sleep-inertia, and disturbed nocturnal sleep. Some patients also experience cataplexy, which is a sudden loss of muscle tone while awake, speech disturbances, hypnagogic hallucinations, automatic behavior, and sleep paralysis.\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a sleep disorder that causes people to rapidly fall into sleep. Dyslexia is difficulty in reading. Epilepsy is when the brain has seizures. Hydrocephalus is a buildup of fluid in the brain. Narcolepsy is the only one related to uncontrollable sleeping.\n\n\nD.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that involves poor control over sleep-wake cycles and affects the brain's ability to regulate sleep. It is positive because falling asleep during the day is a symptom of the disorder.\n\nD. Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that often develops in young adulthood. The classic symptoms of narcolepsy include excessive daytime sleepiness and sudden sleep attacks, and cataplexy, also other features are hallucinations on falling asleep (hypnagogic hallucinations) and on awakening (hypnopompic hallucinations), disturbed nighttime sleep, and fragmented dreaming. So, the answer is: D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a disorder of the brain that affects REM sleep. Sleep paralysis is a disorder in where the sufferer is temporarily paralyzed while trying to fall asleep. Narcoleptic people can experience cataplexy, sleep paralysis, and rapid eye movement (REM) sleep disturbances because their REM onset is different from that of the majority due to their histamine byproduct defect.\n\n\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy involves sleep disturbances and is characterized by more than just uncontrollable sleeping episodes.  \n\nEpilepsy is just a disorder involving seizures. \n\nHydrocephalus is a disorder of fluid build up on the brain that causes an increase in the pressure within the skull. \n\nDyslexia is a learning disorder that involves difficulty in reading.\n\nSo, the correct answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the correct answer is:  D. <|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks. To answer the question, a student needs to be aware that this is a neurological disorder known as narcolepsy. This type of knowledge is typically found in textbooks that cover human anatomy and physiology or advanced courses in which medical terms and conditions are defined. The answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or uncontrollable episodes of falling asleep during the day.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or uncontrollable episodes of falling asleep during the day. \nTherefore, the correct answer is D) Narcolepsy.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy. It is a rare neurological disorder caused by the brain's inability to regulate sleep cycles effectively. It leads to sudden, involuntary sleep, which can happen anytime during the day. Dyslexia is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (i.e., decoding). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that are likely to affect anyone. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to an increase in intracranial pressure and distortion of the brain anatomy.\n\n\n\nD.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or lapses into REM sleep. The other disorders listed are not related to sleep: Dyslexia is a learning disorder, epilepsy is a neurological disorder characterized by recurrent and unprovoked seizures, and hydrocephalus is an abnormal buildup of fluid in the brain. Answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and other sleep-related symptoms.  Daytime sleepiness due to  physiological sleep disorders may affect all levels and can be treated with medications or lifestyle changes.\n\nD (Narcolepsy)<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake, often triggered by strong emotions). Narcolepsy is a sleep disorder in which difficulty sleeping during the day takes place for an extensive period of time.  Narcolepsy, therefore, is the alternate answer to the question. Answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or lapses into REM sleep. The answer is D).<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or lapses into REM sleep. The other disorders listed are not related to sleep: Dyslexia is a learning disorder, epilepsy is a neurological disorder characterized by recurrent and unprovoked seizures, and hydrocephalus is an abnormal buildup of fluid in the brain. Answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or lapses into REM sleep. The other disorders listed are not related to sleep: Dyslexia is a learning disorder, epilepsy is a neurological disorder characterized by recurrent seizures, and hydrocephalus is a condition involving an abnormal accumulation of cerebrospinal fluid in the brain.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can answer this question with the letter D.\n\n\n\n\n<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can answer this question with the letter D.\n\n\n\n\n<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can answer this question with the letter D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep involuntarily. The answer is D).<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep during the day. This includes sudden sleep attacks and cataplexy or muscle weakness with laughing or crying while awake. Narcolepsy has a similar symptom profile as idiopathic hypersomnolence and has recently been shown to be different from idiopathic hypersomnolence. So, the answer is D).<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can collapse and lose consciousness suddenly because of that excessive tiredness. The letters to choose from are: D). Narcolepsy. Therefore, the answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep at any time, regardless of whether you are engaged in an activity or not. \n\nAnswer: D\n\nHere's why the answer is not the other options. \n\n- Dyslexia is a learning disorder characterized by difficulties with accurate or fluent word recognition and by poor spelling and decoding abilities.\n- Epilepsy (also referred to as seizure disorder) is a brain disorder caused by abnormal electrical activity in the brain. It's the fourth most common neurological disorder, affecting more than 50 million people worldwide.\n- Hydrocephalus is the abnormal accumulation of cerebrospinal fluid (CSF) in the brain. In a healthy brain, CSF acts as a cushion to protect the brain from injury. If too much fluid accumulates, it can cause the ventricles in the brain to swell, putting pressure on the brain and causing further damage. Its symptoms can include headache, nausea, vomiting, blurred vision, trouble walking, and seizures, not sleepiness. <|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep at any time, regardless of whether you are engaged in an activity or not. \n\nAnswer: D\n\nHere's why the answer is not the other options. \n\n- Dyslexia is a learning disorder characterized by difficulties with accurate or fluent word recognition and by poor spelling and decoding abilities.\n- Epilepsy (also referred to as a seizure disorder) is a medical condition that produces recurrent seizures resulting from excessive and synchronized and abnormal neuronal activity in the brain.\n- Hydrocephalus is excessive accumulation of cerebrospinal fluid (CSF) in the brain which leads to rapid increase in intracranial pressure and hence in the volume of the brain.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep at any time, regardless of whether you are already tired or bored.\n\nTherefore, the correct answer can be given as D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep at inappropriate times, such as while you're eating or talking. So the correct answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep at random during the day.\n\nD (Narcolepsy).<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep suddenly and uncontrollably.\n\nThe answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep suddenly and uncontrollably.\n\nSo the correct answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep suddenly and uncontrollably.\n\nSo the correct answer is D, narcolepsy.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find this information on multiple medical websites, such as the Mayo Clinic, Healthline, and others.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), and sleep paralysis, and it is the correct answer.\n\nThe answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), and sleep paralysis.\n\nTo get the answer for the question, consider the definitions of the disorder below.\n\nD). Narcolepsy\n\nRegarding narcolepsy,\nMedical Definition of Narcolepsy\nNarcolepsy: A disorder of the central nervous system that impairs the control the brain has over sleep-wake cycles.\nPeople with narcolepsy have lapses into daydreamy states, automatic behavior while awake, hallucinations (the sensation of hearing, seeing, tasting, or touching something that is not there), and sleep paralysis (the feeling of being unable to move when falling asleep or waking up).\nWhen the respiratory or circulatory systems are affected, symptoms can include low blood pressure, rapid heart rate, and memory loss.\n\nB) and C) are both disorders affecting the nervous system but do not cause excessive sleepiness during the day.\n\nA) is a disorder related to reading and learning, does not affect sleep.\n\n<|end_of_text|>",'Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, hypnagogic hallucinations, and disrupted nocturnal sleep. Because of the sudden sleep attacks, patients may sleep anywhere, anytime. People with narcolepsy may have vivid dreams or "sleep talking" upon falling asleep. People with narcolepsy often find that they are unable to talk or move when they suddenly wake up in the middle of sleep (sleep paralysis). Often times people are platysma muscle and cause injuries, falling  into chairs, doors or onto floors. Narcolepsy is often misdiagnosed as epilepsy or compulsive sleep disorder so this often goes unnoticed until the person fall/se beiging  transported. D.<|end_of_text|>',"Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in learning to read despite conventional educational and intelligence interventions. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid. Epilepsy is a disorder characterized by sudden recurrent episodes of brain dysfunction due to abnormal excessive firing of brain cells (neurones), such as temporary confusion, strange behavior, uncontrollable jerking movements or staring spells.\n\nAnswer: D.\n\n<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in learning to read despite conventional educational and intelligence interventions. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid. That results in enlarged ventricles and subsequent brain swelling and damage. Even though it may cause excessive sleepiness in certain cases, it is not characterized primarily by this disorder. Epilepsy is a disorder of brain function characterized by a risk of (usually recurrent) epileptic seizures that manifest as brief episodes of brain malfunction resulting in involuntary movement, behavior, emotions, and loss of consciousness.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in learning to read despite conventional educational and intelligence interventions. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid. Epilepsy is a disorder characterized by sudden recurrent episodes of brain dysfunction due to abnormal excessive firing of brain cells (neurones), such as temporary confusion, strange behavior, paralysis or jerking movements, or loss of consciousness. The only possible answer in this case is D.\nD.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and sleep-onset rapid eye movement sleep.\n\nSo, D. Narcolepsy is the most suitable option.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in learning to read despite conventional educational and intelligence interventions. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid. Epilepsy is a disorder characterized by sudden recurrent episodes of brain dysfunction due to abnormal excessive neuronal activity.\n\nOption D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in recognizing and reading words. Epilepsy is a disorder of the central nervous system characterized by recurrent, unprovoked seizures. Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to ventricular dilatation, increased intracranial pressure, and progressive enlargement of the head in infants.\n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is characterized by sudden and overwhelming sleepiness. Thus, the answer is D) Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally resulting in excessive daytime sleepiness, sleep attacks and deep sleep or cataplexy. \n\nMys answer: D<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally resulting in excessive daytime sleepiness, sleep attacks and sudden sleep onset. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally resulting in excessive daytime sleepiness, interrupted sleep, and sudden sleep attacks (NETI, 2021). In response to these information, the answer is D).\n\nReference:\nNETI. (2021). Narcolepsy. https://www.neti.nih.gov/Disorders/Pages/narcolepsy.aspx<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to regulate sleep-wake cycles (circadian rhythms). My reasoning is that the correct answer is D.\n\nAnswers: D<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally resulting in excessive daytime sleepiness, sleep attacks, sleep inertia, and cataplexy. Your answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder. It is characterized by poor sleep habits and disturbed sleep patterns. It increases daytime sleepiness and affects the entire circadian sleep-wake cycle. \n\nOptions like Dyslexia are learning disabilities that affect reading ability. Epilepsy is a neurological disorder that causes seizures. Hydrocephalus is a condition in which an accumulation of cerebrospinal fluid (CSF) in the brain results in head enlargement.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles. Nerve cells in the brain that are responsible for triggering this sleep-related reflexes, produce too much of a neurotransmitter called hypocretin or orexin, which disrupts the normal sleep pattern.\n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times. Narcoleptics also experience an uncontrollable need to sleep at any and all times of the day. Those with narcolepsy can become drowsy or fall asleep in the middle of an activity, such as having a conversation, reading, driving or watching television.\n\nFinal Answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times. Narcoleptics also experience an uncontrollable need to sleep at any and all times of the day and can enter that sleep state abruptly. This includes instances of not being able to stay awake during the day, even when intentionally trying to stay awake. Narcolepsy is often characterized by the development of sleep attacks at any time of day, sometimes during an intense conversation or while eating or driving. But the answer to the question actually provides more medical facts about Narcolepsy.\n\nAnswer: B.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times. Narcoleptics also experience sudden sleep episodes during the day, which is referred to as sleep attacks. Narcolepsy is not correctly described by the other answer options. Narcolepsy had far-reaching consequences on social and work life. Narcoleptic patients may inadvertently sleep for a few seconds to several minutes at a time, as many as 20 times per day.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times. Narcoleptics also experience an uncontrollable need to sleep at any and all times of the day. Those with narcolepsy can become drowsy or fall asleep in the middle of conversations, while reading, or at their place of work. In the 1950s, a scientist named E. Aserinsky discovered that people with narcolepsy have REM sleep episodes intrude into their wakefulness; hence napping during the day.\n\nSo, the correct answer is D. I hope it is correct.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times, such as while eating, working, or talking. It is a chronic disease with no cure that usually begins during young adulthood. It's  easier to stay awake in well-lit, quiet places. I'll go with option D.\n\nD. Narcolepsy. <|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times, such as while eating, working, or talking.\n\nSo the correct answer is D: Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times, such as while eating, working, or talking.\n\nSo the correct answer is D: Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times, such as while eating, working, or talking.\n\nSo the correct answer is D: Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer should be D.\n\nNarcolepsy (from French narcolepsie, created by correlation of Greek narke 'numbness, sleep' and lepis'seizing') is a chronic sleep disorder characterized by overwhelming daytime sleepiness. This results in a person falling asleep at inappropriate times and places. Narcolepsy is often accompanied by other features, which can include sleep paralysis, hypnagogic hallucinations, Automatic behavior (while dozing), and difficulty staying awake.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer should be D.\n\nThough seizures are characteristic of epilepsy, they do not relate to sleep or result in sleep during the day. Though eosinophilic hydrocephalus is a rare but potentially fatal type of hydrocephalus, as a neurological disorder its characteristics do not include uncontrollable sleep. Though dyslexia is a developmental disorder, it too does not include sleep.\n\nThus, the multiple-choice answer from the list provided is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer should be D.\n\nNarcolepsy (from French narcolepsie, created by correlation of Greek narke 'numbness, sleep' and lepis'seizing') is a chronic sleep disorder characterized by overwhelming daytime sleepiness. This results in a person falling asleep at inappropriate times and places. Narcolepsy is often accompanied by other features, which can profoundly impact upon people's quality of life. Most sleep researchers believe that the primary problem in people with narcolepsy is an inability to control the normal transitions between sleep and wakefulness.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer should be D.\n\n<|end_of_text|>",' Option D.\nThe definition of Narcolepsy is from Greek, "nocturnal sleepiness". Also known as "sleep attacks", it is a disorder of the nervous system characterized by bouts of drowsiness. It is caused by an uncoordinated interplay between Areas 5 and 10 of the brain.\n\nThis information is picked from revised version 9.1.0 of the coding dictionary of 8, the 5th version of the copyrighted Internatinal Classification of Diseases (ICD-5).<|end_of_text|>',"Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer: D).<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day (C). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they connect to form words (A). Epilepsy is a disease defined by recurrent, unprovoked seizures (B). Hydrocephalus is a buildup of fluid in the cavities (ventricles) inside the brain (C).<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day (Cataplexy, excessive daytime sleepiness, and sleep paralysis can be possible accompaniments of Narcolepsy). The correct answer is option D).<|end_of_text|>","Narcolepsy is a condition that causes excessive daytime sleepiness. Narcolepsy often appears in childhood or adolescence, though it can also appear later in life. People with narcolepsy experience periods of sleep during the day, even when they do not feel tired. The primary symptom of narcolepsy is excessive daytime sleepiness (EDS).\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. Another common symptom is sleep paralysis. In addition, people with narcolepsy may experience vivid hallucinations when falling asleep or waking up.\n\n\nSo the final answer is D.<|end_of_text|>","Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day D.\n\n<|end_of_text|>","Narcolepsy is a sleep disorder characterized by abnormal and uncontrollable sleep attacks (hypnagogic sleep attacks) throughout the day and is caused by sudden and dramatic changes in brain chemistry during transition from wakefulness to sleep and vice versa. This is the reasoning for the answer:\n\nD. Narcolepsy<|end_of_text|>","Narcolepsy, a sleep disorder, involves episodes of sleep during the daytime, so the answer is D.<|end_of_text|>","Narcolepsy causes disturbing sleep disturbances such as sleep paralysis, cataplexy, sleepwalking sleeping, and REM in the waking state. A person affected by this pathology begins to fall asleep for several times throughout the day, and may fall asleep suddenly, causing a loss of muscle tone, which may lead to everyday accidents. Therefore, the correct answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer is D). Narcolepsy.\n\n<|end_of_text|>","Narcolepsy is a neurological disorder characterized by lapses into sleepiness, catalepsy, and sleep paralysis, initiated when the nervous system is under drowsiness or tired.\n\n\nSo the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The loss of waking and sleeping pathways can lead to sleep attacks, sleepwalking, and paralysis while sleeping. Epilepsy is a disorder of the brain that causes seizures. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, especially as a result of a defect in phonological processing. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, leading to enlarged head size and problems with mental development. Because Narcolepsy was described as a disorder characterized by uncontrollable episodes of falling asleep during the day and fits all the evidence the correct option is D).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycle, resulting in excessive daytime sleepiness. Therefore, the correct answer is:\n\nD) narcolepsy\n\nEach letter corresponds to a disorder characterized by uncontrolable episodes of falling asleep during the day: A) Dyslexia, B) Epilepsy, C) Hydrocephalus, D) Narcolepsy. \n\nAs it is a multiple-choice question, and I can't be wrong, I double-checked the information, and the correct answer is:\n\nD) narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The reason is that the answer to the question that has nothing to do with brain damage, epilepsy, or hydrocephalus. Therefore, the final answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day, usually associated with sleep paralysis (the state of temporary paralysis that sometimes occurs when falling asleep, during which one is fully conscious and aware of their surroundings). It is classified under the category of sleep disorders, which affect sleep patterns and quality, and is the correct choice.\n\nHere is the reasoning: Narcolepsy is characterized by sudden attacks of excessive sleepiness usually coming on without warning. It can affect people in any age group and may be misdiagnosed in children and teenagers as a lack of alertness or an attempt to avoid responsibilities. Narcolepsy is believed to be caused by a dysfunction of the hypothalamus, a small, bean-shaped region at the base of the brain that governs many important body functions (the autonomic nervous system), including sleep.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that involves feelings of excessive sleepiness and sleep episodes occurring at inappropriate times, such as during daytime activities. \n\nAnswer D. \nNarcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by excessive daytime sleepiness.   Therefore, the correct answer is:\n\nD: Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of sleep during the day, including sleep attacks.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of sleep during the day, including sleep attacks.\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of sleep during the day, including sleep attacks.\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep, while the rest of the differentials provided are different disorders.\n\nSo the final answer is D.<|end_of_text|>","Narcolepsy is a nervous system disorder that affects a person's ability to regulate their sleep--wake cycles.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that affects the ability to regulate sleep-wake cycles. Characteristic symptoms of the disorder include excessive daytime sleepiness, sleep paralysis, and/or vivid dreams. Narcolepsy is not characterized by uncontrollable episodes of falling asleep during the day. The answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle tone), disrupted sleep, sleep paralysis, and hallucinations.\n\nAnswer: D<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle tone), disrupted sleep, and vivid dreams. Narcolepsy is a sleep disorder which causes extreme daytime sleepiness. Narcolepsy is typically caused by the neurons in the brain being unable to communicate effectively with the body.\n\nD.<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle tone), disrupted sleep, sleep paralysis, and vivid dream-like hallucinations during sleep onset or while drowsy. Narcolepsy affects people of all ages, genders, nationalities, and ethnic backgrounds, but it is not contagious or associated with lifestyle choices. Narcolepsy has been detected in archaeological specimens and paintings from the Renaissance, and its sleep disorder has long been documented in literature and clinical medicine; however, its causes only became apparent with the discovery of the hypocretin system, especially the receptor and neuropeptide hypocretin. Narcolepsy can be either a short-term or a lifelong condition, though anorexia and malnutrition may exacerbate it. People with narcolepsy have been often affected by sleep disorders since childhood and adolescence before adulthood, as their symptoms-which emerged earlier in life-were borne up until adulthood. To properly diagnose narcolepsy, the person has to undergo a thorough clinical appraisal which includes a dream-enactment study (polysomnography). The severity and estimations of Narcolepsy\u2019s impact can often vary from person to person.\n\nFurther information for the answer: https://en.wikipedia.org/wiki/Narcolepsy\n\nD.<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle strength) and sleep disturbances.\n\nTherefore, the correct answer to the question is (D).<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle tone), disrupted sleep, sleep paralysis, and hallucinations.  Therefore, the final answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by poor control over sleep-wake cycles, which leads to an occurrence of sudden sleep attacks at inappropriate times. \n\nSleep disturbances and sleep attacks are common symptoms of narcolepsy, which is considered a chronic condition. Narcolepsy is thought to be caused by a combination of genetic and environmental factors.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, which is why the correct answer is D). Narcolepsy. \n\nDyslexia is a learning disorder that causes difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (A). Epilepsy is a neurological disorder in which brain activity becomes abnormal, causing seizures (B). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain, leading to brain swelling (C).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, which is why the correct answer is D). Narcolepsy. \n\nDyslexia is a learning disorder that causes difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (A). Epilepsy is a neurological disorder in which brain activity becomes abnormal, causing seizures (B). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and progressive enlargement of the head (C).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, which is why the correct answer is D). Narcolepsy. \n\nDyslexia is a learning disorder that causes difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words in written language. (A)\n\nEpilepsy is a central nervous system (neurological) disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes losing consciousness. (B)\n\nHydrocephalus is a disorder in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain. This can increase intracranial pressure, which can damage brain tissue. (C)<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, which is why the correct answer is D). Narcolepsy. \n\nD).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an example: \nhttps://www.mayoclinic.org/diseases-conditions/narcolepsy/symptoms-causes/syc-20350776<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to sleep at night, and control sleep-wake cycles properly. Narcolepsy is caused by a problem in a part of the brain that regulates sleep. Narcolepsy is characterized by attacks of sleep during the day, called sleep attacks.\n\nSo the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an example: \nhttps://www.mayoclinic.org/diseases-conditions/narcolepsy/symptoms-causes/syc-20350748<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an example: \nhttps://www.mayoclinic.org/diseases-conditions/narcolepsy/symptoms-causes/syc-20375463<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an additional answer reference. We select the most reliable source for you:\n\nNarcolepsy | NIMH - https://www.nimh.nih.gov/health/topics/narcolepsy/index.shtml<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an additional answer reference. We select the most reliable source for you:\n\nNarcolepsy disorder: Symptoms, causes, diagnosis, and treatment (medicalnewstoday.com)<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an additional answer reference. We select the most reliable source for you:\n\nNarcolepsy disorder: Symptoms, causes, diagnosis, and treatment (medicalnewstoday.com)\n\nNow to advance, please click the option D).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an argument in favor of that answer, like: https://www.ninds.nih.gov/Disorders/patient-caregiver-education/disease-information-ninds/narcolepsy#10304-taking-naps<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an argument in favor of that answer, like: https://www.ninds.nih.gov/Disorders/patient-caregiver-education/disease-information-ninds/narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical website that backs an explanation similar to the one provided above.<|end_of_text|>",'Narcolepsy is a neurological disorder that affects a person\'s ability to regulate their sleep-wake cycles. A person with narcolepsy may suddenly fall asleep during the day, often described as having "sleep attacks". Narcolepsy can also include other symptoms such as sleep paralysis, vivid dreams upon waking, and cataplexy (sudden loss of muscle tone while awake). Therefore, the answer is D.<|end_of_text|>',"Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles. A person with narcolepsy may suddenly fall asleep during daytime activities, and may experience vivid hallucinations or develop a loss of muscle control (cataplexy). Therefore, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms such as cataplexy, sleep paralysis, and vivid dreaming (hypnagogic hallucinations) while falling asleep or waking up, distinguishes narcolepsy from other sleep disorders like insomnia or sleep apnea.\n\nThus, the correct answer is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate sleeping and waking cycles. Symptoms of narcolepsy include daytime sleepiness and sleep attacks - sudden and irresistible urges to sleep. Epilepsy is a neurological disorder characterized by recurrent seizures. Seizures are abnormal electrical or brain activity that can cause unusual sensations, movements, behaviors, or convulsions, as well as a loss of awareness. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. (B).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms such as cataplexy, sleep paralysis, and vivid dreaming (hypnagogic hallucinations) while transitioning into sleep, distinguishes narcolepsy from other sleep disorders and conditions mentioned. \n\nTherefore, the correct answer is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of context or activity.\nThe final answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms such as cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and vivid and sometimes disturbing dreams upon awakening, distinguishes narcolepsy from other sleep disorders and drowsiness caused by factors like fatigue or lack of sleep.\n\nSince the question asks for a disorder characterized by uncontrollable episodes of falling asleep during the day, and narcolepsy is the specific disorder known for this symptom, the correct answer is:\n\nD). Narcolepsy\n\nTherefore, the reasoning behind choosing option D narcolepsy is that it accurately describes a condition where individuals experience uncontrollable episodes of daytime sleep, which is a core feature of narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nMy answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nOther conditions listed in the options have different characteristics:\n\n- Dyslexia is a specific learning disability related to reading.\n- Epilepsy is a neurological disorder characterized by recurring seizures.\n- Hydrocephalus is a condition where there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, potentially leading to increased pressure within the skull.\n\nBased on the description and the specific characteristics mentioned, the correct answer is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other sleep disorders.\n\nThe answer is therefore (D), Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nOther conditions listed in the options have different characteristics:\n\n- Dyslexia is a learning disorder that primarily affects the ability to read, write, and spell in a regular manner.\n- Epilepsy involves recurrent, unprovoked seizures.\n- Hydrocephalus is the buildup of cerebrospinal fluid in the skull, which can lead to increased intracranial pressure and brain damage.\n\n\nTherefore, the correct answer is D) Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nOther conditions listed in the options have different characteristics:\n\n- Dyslexia is a learning disorder that primarily affects the ability to read, write, and spell in a regular manner.\n- Epilepsy involves recurrent, unprovoked seizures.\n- Hydrocephalus is the buildup of cerebrospinal fluid in the skull, which can lead to increased intracranial pressure and brain damage.\n\n\nTherefore, the correct answer that characterizes a disorder with uncontrollable episodes of falling asleep during the day is:\n\nD) Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nOther conditions listed in the options have different characteristics:\n\n- Dyslexia is a learning disorder that primarily affects the ability to read, write, and spell in a regular manner.\n- Epilepsy involves recurrent, unprovoked seizures.\n- Hydrocephalus is the buildup of cerebrospinal fluid inside the skull, leading to increased pressure on the brain.\n\nTherefore, the correct answer is D) Narcolepsy for the disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and nighttime sleep disturbances, makes narcolepsy distinct from conditions like dyslexia, epilepsy, and hydrocephalus. Therefore, the correct answer is D, Narcolepsy.\n\n<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and nighttime sleep disturbances, makes narcolepsy distinct from conditions like dyslexia, epilepsy, and hydrocephalus. Therefore, the correct answer is D, Narcolepsy.\n\nNarcolepsy affects the control of sleep-wake cycles, leading to the sudden onset of sleep during the day. In contrast, dyslexia is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to written words (incidence not related to the circadian rhythm), epilepsy involves recurrent, unprovoked seizures, and hydrocephalus is a condition that causes fluid to build up in the brain, affecting the brain's functioning in different ways but not characterized by episodes of sleep.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), can severely impact an individual's daily activities and quality of life. It's important to note that narcolepsy is distinct from conditions like epilepsy, which involves seizures but not sleep issues, or hydrocephalus, which is a condition where cerebrospinal fluid accumulates in the brain, causing enlarged head size from increased pressure within the skull. Furthermore, dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence, and it is unrelated to sleep disorders. Hence, D (Narcolepsy) is the correct answer.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), can severely impact an individual's daily activities and quality of life. It's important to note that narcolepsy is distinct from conditions like epilepsy, which involves seizures but not sleep issues, or hydrocephalus, which is a condition where there is an accumulation of cerebrospinal fluid in the brain and can cause a range of symptoms, including headaches and sleep disturbances but not the specific episodes of sleepiness associated with narcolepsy. Dyslexia, on the other hand, is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they represent various letters and words. Given the context of the question, the correct answer is D due to its direct link to uncontrollable episodes of falling asleep during the day, a defining symptom of narcolepsy.\n\nD<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), can severely impact an individual's daily activities and quality of life. It's important to note that narcolepsy is distinct from conditions like epilepsy, which involves seizures but not sleep issues, or hydrocephalus, which is a condition where there is an accumulation of cerebrospinal fluid in the brain and can cause a range of symptoms, including headaches and sleep disturbances but not the specific episodes of sleepiness seen in narcolepsy. Dyslexia, on the other hand, is a learning disorder characterized by difficulties with spoken language, reading, and writing. Hence, the correct answer is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to sleep during the day, despite getting adequate nighttime sleep.Multiple-choice questionAnswer: D<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to sleep during the day. This causes them to fall asleep uncontrollably at inappropriate times.\n\nSo, the correct answer is D. Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycle and is a disorder that is often characterized by involuntary episodes of falling asleep. The correct option is D.\n\nThe other options do not correctly describe the disorder.\nA). Dyslexia is a learning disorder that impairs a person's ability to read and process language.\nB). Epilepsy is a neurological disorder that causes recurring seizures due to abnormal brain activity.\nC). Hydrocephalus is a condition that causes enlargement of the head due to the accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, as the disorder causes the body to fall into sleep without warning at inappropriate times during the day. \n\nTherefore, the correct answer is D. <|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, as the disorder causes the body to fall into sleep without warning at times when it would normally be awake (National Institute of Neurological Disorders and Stroke, 2021). The answer is D).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, even in situations where staying awake is necessary.\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with this disorder may fall into deep sleep suddenly and without warning, especially if they have had insufficient sleep the night before. They may also have sudden, brief episodes of muscle weakness.\n\nTherefore, answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, even in situations where staying awake is necessary, such as while eating or having a conversation. Narcolepsy is the best choice among the options listed.\n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition that occurs when there is an abnormal buildup of cerebrospinal fluid (CSF) in the brain.\n\nTherefore, the correct answer to the question is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, option A, is a learning disorder characterized primarily by difficulty in learning to read despite normal intelligence. Hydrocephalus, option C, is a rare disorder in which a buildup of cerebrospinal fluid in the brain leads to increased intracranial pressure.\n\nTherefore, the correct answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to increased intracranial pressure and progressive enlargement of the head. \n\nTherefore, the correct answer is:\n\nD). Narcolepsy\n\nThe reasoning behind this choice is that narcolepsy accurately represents a disorder characterized by uncontrollable episodes of falling asleep during the day, as stated in the question.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to increased intracranial pressure and progressive enlargement of the head. \n\nTherefore, the correct answer to the question is D) Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to widening of spaces around and within brain structures. Sleep episodes triggered by excessive daytime sleepiness are not characteristic of these conditions. Therefore, the correct answer is D. Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, on the other hand, is characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain; hydrocephalus involves an abnormal accumulation of cerebrospinal fluid in the brain, which can lead to increased intracranial pressure and potentially result in headaches, vomiting, cheerful behavior, and changes in sleep; dyslexia is a learning disorder characterized by difficulty in recognizing written words, decoding language, and pronouncing words. The correct answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that involves a sleeping disorder. People who suffer from narcolepsy will find it difficult to transition between sleep and wakefulness. Narcolepsy has four primary symptoms: excessive daytime sleepiness, sleep attacks, sleep paralysis, and vivid nightmares or hallucinations. Narcolepsy often starts between the ages of 10 and 25, and symptoms tend to last a lifetime.  A person can live a normal, healthy, and productive life with proper treatment and adequate amounts of practical sleep.  The letter corresponding to the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to increased intracranial pressure and dilation of the ventricles.\n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the day, which is known as sleep attacks. Epilepsy, on the other hand, is a disorder involving recurrent, unprovoked seizures. Dyslexia is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Hydrocephalus is a condition that involves an abnormal accumulation of cerebrospinal fluid in the brain, resulting in enlarged head size and potentially causing damage to the brain. Therefore, the correct answer is:\n\nD). Narcolepsy\n\n\nThe reasoning for this choice is that narcolepsy is the disorder characterized by uncontrollable episodes of falling asleep during the day. None of the other options provided accurately describe a disorder characterized by excessive daytime sleepiness.<|end_of_text|>","Narcolepsy is a neurological disorder that involves abnormal control of sleep-wake cycles. Narcoleptics may fall asleep during their daily activities, including while sitting, standing, or while eating.\n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that involves abnormal control of sleep-wake cycles. Narcoleptics may fall asleep during their daily activities, including while sitting, standing, or while eating.\n\nTherefore, the answer is D<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to sudden transitions from wakefulness to deep sleep. Uncontrollable episodes of falling asleep during the day are a hallmark symptom of this disorder.\n\nTherefore, the answer is: D<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to sudden transitions from wakefulness to deep sleep. Uncontrollable episodes of falling asleep during the day are a hallmark symptom of this disorder.\n\nTherefore, the answer is: D). Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to sudden transitions from wakefulness to deep sleep. Uncontrollable episodes of falling asleep during the day can be a hallmark of this disorder. \n\nThe correct answer is (D). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to sudden transitions from wakefulness to deep sleep. Uncontrollable episodes of falling asleep during the day are a hallmark symptom of this disorder.\n\nTherefore, the answer is D (Narcolepsy).<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sleep attacks, and other disrupted sleep phenomena.\n\nSo, the correct answer is: D.<|end_of_text|>","Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. Daytime sleepiness is a key feature of this disorder. Children who are overweight or obese are at greater risk for developing narcolepsy. Three times more common in males than females, narcolepsy has been associated with the HLA-C and HLA-DQB1 genes. \n\nThe answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sleep attacks, and other disrupted sleep phenomena.\n\nSo, The final answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sleep attacks, and other disturbed sleep patterns, such as sleep walking or sleep talking. Intriguingly, research has identified a link between narcolepsy and the immune system. For example, a  study that conducted a genetic analysis revealed that some of the genetic variants associated with narcolepsy are present on the HLA (Human Leukocyte Antigen) region. Interestingly, another  study found that individuals suffering from narcolepsy type 1 have higher levels of certain cytokines\u2014molecules produced by immune cells\u2014 than healthy adults. Since narcolepsy significantly impacts the quality of sleep and leads to sleep episodes during the day, it is the correct answer to the question. Thus, the answer is D, Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sudden sleep attacks, sleep paralysis, and vivid dream-filled sleep. The reason I discarded option A (Dyslexia) is a learning disorder that results from a difficulty in understanding and processing language. The reason I discarded option B (Epilepsy) because it is a is a central nervous system disorder in which a person has recurring seizures. The reason I discarded option C (Hydrocephalus) is an abnormal buildup of cerebrospinal fluid, leading to enlargement of the brain ventricles, upward curvature of the sternum, and dislocation of the lenses of the eyes. The letter corresponding to the correct answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sleep attacks, and other disrupted sleep phenomena.\n\nSo, The answer is D).<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles usually as a result of having orexin. Orexin is a protein that helps people to stay awake. The disorder is not the same as sleeplessness and most people who suffer with the disorder are able to fall asleep with no druginvolvement.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness. The answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain does not properly regulate sleep-wake cycles. It is characterized by intense daytime sleepiness, along with sleep that begins almost immediately when you lie down to rest or sleep. Narcolepsy is accompanied by sudden sleep episodes, but not necessarily with the symptoms of dreaming that are typical of REM sleep, although it's not exactly a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nHence, the correct answer is B).<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles normally. Narcoleptics experience excessive daytime sleepiness, sleep paralysis, vivid nightmares, and an occasional inability to move upon awakening. That disorder fits the final representation about anatomy and neuroscience.\n\nReasoning: Narcolepsy is a disorder that affects sleep-wake cycles in an individual's brain.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles normally. Symptoms typically include excessive daytime sleepiness, insomnia, and sudden muscle weakness. Narcolepsy may affect up to 1 in 2,000 people in some countries.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that causes excessive daytime sleepiness and sleep attacks, often triggered by strong emotions. It was a challenging disorder throughout human history (the story of Julius Caesar's death has been told as a narcolepsy case). Sleep attacks for these people are quick onset and require deep sleep. Narcolepsy also includes sleep paralysis, rapid eye movement disorder, and waking hallucinations.  \n\nThe answer is: D).<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness. The answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day. Epilepsy is a neurological disorder characterized by recurrent seizures, and Dyslexia is a learning disorder characterized by difficulties with reading. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlargement of the brain and increased intracranial pressure, which can cause drowsiness or sleep disturbances, but not the type of sudden sleep attacks as seen in Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day. Epilepsy is a neurological disorder characterized by recurrent seizures, and Dyslexia is a learning disorder characterized by difficulties with reading. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlargement of the brain and increased intracranial pressure, which can cause drowsiness or sleep disturbances, but not the type of sleep attacks seen in narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day. Epilepsy is a neurological disorder characterized by recurrent seizures, and Dyslexia is a learning disorder characterized by difficulties with reading. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlargement of the brain and increased intracranial pressure, which can cause drowsiness and other symptoms.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4). Therefore, only Narcolepsy fits the description of a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n(1)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3315322/\n(2) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4854973/\n(3) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6434660/\n(4) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4692017/<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4). Therefore, only Narcolepsy fits the description of a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n(1)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4098573/\n(2)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4076980/\n(3)https://www.causeyonline.com/narcolepsy-dyslexia-and-our-understanding-of-legal-disabilities/\n(4)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4266520/<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4). Therefore, only Narcolepsy fits the description of a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n(1)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3315322/\n(2) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4854973/\n(3) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2705557/\n(4) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6327870/<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4). Therefore, only Narcolepsy fits the description of a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n(1)https://www.ninds.nih.gov/Disorders/Patient-Caregiver-Education/Narcolepsy\n(2)https://www.epilepsy.com/what-is-epilepsy\n(3)https://www child mind. org/en/narcolepsy\n(4)https://www.mayoclinic.org/diseases-conditions/hydrocephalus/symptoms-causes/syc-20350088\n\n\nSo, D (Narcolepsy) is the correct answer.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased pressure in the brain, but it doesn't cause sleepiness (4). Thus, the disorder that resembles the uncontrollable episodes of falling asleep during the day is narcolepsy. Main sources (1, 2, 3, 4)\nSources (1) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1447683/\nSources (2) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1447683/\nSources (3) https://pubmed.ncbi.nlm.nih.gov/18253073/\nSources (4) https://pubmed.ncbi.nlm.nih.gov/20149335/<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain, cannot regulate the sleep-wake cycle due to the lack of hypocretin, a neurotransmitter that regulates sleep and wakefulness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain, cannot regulate the sleep-wake cycle.\n\nThe other options do not accurately describe the symptoms or causes of uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder that affects reading abilities, epilepsy is a brain disorder characterized by seizures, and hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased head size, brain damage, and other symptoms.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain, cannot regulate the sleep-wake cycle.\n\nThe other options do not accurately describe the symptoms or causes of uncontrollable episodes of falling asleep during the day. \nDyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a condition characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition involving the buildup of fluid in the cranial vault, causing increased pressure on the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain, cannot regulate the sleep-wake cycle.\n\nThe other options do not accurately describe the symptoms or causes of narcolepsy. For example, dyslexia is a learning disorder that affects the way the brain processes written and spoken language, epilepsy is a disorder of the brain characterized by recurrent, unprovoked seizures, and hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer to the question is D, Narcolepsy.\n\n\n\n\n<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness due to poor sleep quality and frequent bouts of falling asleep for brief periods, especially during stressful situations or activities that require mental effort. Narcolepsy is characterized by \u201csleep attacks\u201d that can occur regardless of the time of day, which greatly affects the person's quality of life.\n\nSo, to answer the question, choose option D.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is a seizure disorder caused by abnormal activity in the brain cells. \n\nHydrocephalus is a condition that causes enlargement of the head due to progressive accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is a seizure disorder caused by abnormal activity in the brain cells. \n\nHydrocephalus is a condition that causes enlargement of the head due to progressive accumulation of cerebrospinal fluid (CSF) in the brain's ventricles (fluid-filled spaces).<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day. It's caused by problems with the brain's ability to regulate sleep-wake cycles and is believed to be a result of a lack of the neurotransmitter hypocretin. Epilepsy is lifelong brain disorder that causes recurrent, unprovoked seizures. It is an sudden surge of electrical and chemical activity in the brain. However, this has no relation to sleep episodes. Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. This, too, has nothing to do with sleep. Hydrocephalus (water on the brain) is a potentially serious condition caused by a buildup of spinal fluid inside the skull that leads the brain to swell. This can damage brain cells and tissues, but it also has no relationship to sleep episodes. \n\nThe final answer: D.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is a seizure disorder caused by abnormal activity in the brain cells. \n\nHydrocephalus is a condition that causes enlargement of the head due to progressive accumulation of fluid in the brain.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which excess cerebrospinal fluid inside the skull leads to brain swelling, which can deprive brain tissues of oxygen and nutrients.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which excess cerebrospinal fluid inside the skull leads to brain swelling, which can deprive brain tissues of oxygen and impair their normal functioning. \n\nTherefore, the correct answer is D).<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which excess cerebrospinal fluid inside the skull causes the brain to swell. <|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty interpreting words, pronouncing them, and even understanding speeches particularly. It does not relate to uncontrollable behavior.\n\nEpilepsy is a disorder in which nerve cells in the brain send abnormal signals, which cause brief but frequent periods of impaired consciousness.\n\nHydrocephalus is an enlargement of the fluidspaces in the brain which may leads to severe loss of brain function, however, it does not result in uncontrollable episodes of falling asleep during the day either.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that is characterized by uncontrollable episodes of falling asleep during the day, usually when doing normal activities. Individuals with narcolepsy have problems with weak or misfiring signals from part of the brain that controls sleep and wakefulness. The part that controls bodily movements is also affected.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and daytime sleep attacks. People with narcolepsy often experience sleep attacks without warning, even during day-to-day activities.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness during the day and sleep-wake cycle disturbances. These disturbances might include the tendency to fall asleep at inopportune times (sleep attacks). Narcolepsy is rare and usually starts during the teenage years or early adulthood. Narcolepsy is caused by the pathology of the cerebral cortex. Over 90 % of people (just as 90% or more of people) with narcolepsy have low levels of hypocretin (orexin), a neurotransmitter from a group of neurons (hypocretin-containing cells in lateral hypothalamus) that are important for the wakefulness, processing of stress or the emotions, and the desire to eat.<|end_of_text|>","The correct answer to the question is D. Narcolepsy.\n\nThis sleeping disorder in narcolepsy is characterized by sudden sleep episodes during normal waking hours (daytime). Narcolepsy syndrome we can observe in various sleep disorder clinical features including several elements like excessive daytime sleepiness, disturbed nocturnal sleep, cataplexy paralysis (during laughter, sighs, anger, etc.), sleep paralysis, vivid hallucinations during the onset sleep and/or awakening, nighttime sleepwalk, sleep-talking, sleep eating.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and daytime sleep attacks. Narcolepsy affects about 1 in 2,000 people. Symptoms usually begin in young adulthood.\n\nAstudent iwth narcolepsey can suffer weakening of the leg muscles when the htere are trouble with joint movements. They are constantly sleepi and getting lost. People with has a cows, cats from 2 ta3 Scientifically proven and tested.\n\nThe other options are causes of medical troubles but involve sever1 symptoms of repeated falling sleep  during the day are not inducded.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness, sleep attacks, and often the patient experiences episodes of falling asleep at inappropriate times.  \n\nFor example, the answer A does not mention anything about involuntary sleep episodes; B does not mention anything about involuntary sleep episodes; C is not related to falling asleep. The answer B is considered correct, as narcolepsy is a disorder known to be related to this issue.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes a person to suddenly fall asleep, ascend from sleep, or momentarily lose muscle control during the day. Patients often feel extremely fatigued, sluggish, and groggy during the day, even after obtaining the proper amount of sleep at night. Narcolepsy can be diagnosed through MRI brain scans and multiple sleep latency tests. Narcolepsy treatment often includes medications, changes in setting, and therapy. <|end_of_text|>","The correct answer to the question is D.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, so the correct answer is D. Narcolepsy is a chronic neurological disorder that involves a dysfunction of the brain\u2019s ability to regulate sleep-wake cycles typically associated with rapid eye movement (REM) sleep. Narcolepsy is commonly characterized by excessive daytime sleepiness and/or suddenSleep attacks where an individual suddenly falls asleep without warning.\n\n<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness and interruptions in nighttime sleep (sleep attacks).<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness and interruptions in nighttime sleep (nighttime sleep is more frequent than it should be during the time it should take). These illnesses are usually controlled with behavioural measures and different types of drugs to help sleep. Narcolepsy is usually referred in adulthood, but it can also affect children. \n\nThe final answer: D.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. <|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience trouble with reading, writing, and spelling. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal collection of cerebrospinal fluid (CSF) in and around the brain.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing.\n\nEpilepsy is a condition that causes seizures. Most seizures occur because of an electrical disturbance in the brain.\n\nHydrocephalus is a condition that causes increased pressure in the brain. It is usually caused by a buildup of cerebrospinal fluid (CSF) in the brain's ventricles.\n\nSo the answer is D.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing regardless of their intelligence.\n\nEpilepsy is a neurological disorder that causes repeated seizures. It is caused by abnormal brain activity. \n\nHydrocephalus is a condition that causes excess cerebrospinal fluid to accumulate in the cavities of the brain. It is caused by obstruction of the circulation of the fluid in the brain.\n\nThus, the answer is: D). Narcolepsy.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing regardless of their intelligence.\n\nEpilepsy is a neurological disorder that causes repeated seizures. It is caused by abnormal brain activity. \n\nHydrocephalus is a condition that causes excess cerebrospinal fluid to accumulate in the cavities of the brain. It is caused by obstruction of the circulation of the fluid in the brain.\n\nThus, the correct answer is D) Narcolepsy, a sleep disorder that is characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing regardless of their intelligence.\n\nEpilepsy is a neurological disorder that causes repeated seizures. It is caused by abnormal brain activity. \n\nHydrocephalus is a condition that causes excess cerebrospinal fluid to accumulate in the cavities of the brain. It is caused by obstruction of the circulation of the fluid in the brain.\n\nThus, the correct answer is D) Narcolepsy.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing regardless of their intelligence.\n\nEpilepsy is a neurological disorder that causes repeated seizures. It is caused by abnormal brain activity. \n\nHydrocephalus is a condition that causes excess cerebrospinal fluid to accumulate in the cavities of the brain, causing it to enlarge.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a learning disorder that causes problems with reading, writing, and spelling. It is not related to sleep.\n\nB). Epilepsy: it is a neurologic disorder that causes seizures. It is not related to sleep.\n\nC). Hydrocephalus: it is a neurologic disorder that causes an abnormal accumulation of cerebrospinal fluid in the brain. It is not related to sleep.\n\nSo, the final answer is D. Narcolepsy.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a learning disorder that causes problems with reading, writing, and spelling. It is not related to sleep.\n\nB). Epilepsy: it is a neurologic disorder that causes seizures. It is not related to sleep.\n\nC). Hydrocephalus: it is a neurologic disorder that causes an abnormal accumulation of cerebrospinal fluid in the brain. It is not related to sleep.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a specific learning disability that affects the ability to read, process language and learn. It is related to the brain's language areas, which are responsible for processing written and spoken language.\n\nB). Epilepsy: it is a condition characterized by recurrent and unprovoked seizures. Seizures are results from abnormal and excessive hyperexcitability of a group of neurons in the brain which causes a short period of unconsciousness or lapse in attention.\n\nC). Hydrocephalus: it is an accumulation of cerebrospinal fluid (CSF) in the brain's ventricles (fluid-filled spaces) that leads to enlargement of the head, progressive damage to the brain, increased pressure inside the skull, and without treatment, can lead to the death of brain cells and irreversible impairments in the central nervous system.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a specific learning disability that affects the ability to read, process language and learn. It is related to the brain's language areas, which are responsible for processing written and spoken language.\n\nB). Epilepsy: it is a condition characterized by recurrent and unprovoked seizures. Seizures are results from abnormal and excessive hyperexcitability of a group of neurons in the brain which causes a short period of impairment or loss of consciousness and musclular contractions happening in such a way that previously well-established patterns of functionality of the brain are disrupted.\n\nC). Hydrocephalus: it is an abnormal accumulation of cerebrospinal fluid (CSF) within the ventricles of the brain, which could lead to enlargement of the head (in infants), increased intracranial pressure, and progressive enlargement of the head, congestion of the eyes, trouble with balance, headache, and vision problems.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a specific learning disability that affects the ability to read, process language and learn. It is related to the brain's language areas, which are responsible for processing written and spoken language.\n\nB). Epilepsy: it is a condition characterized by recurrent and unprovoked seizures. Seizures are results from abnormal and excessive hyperexcitability of a group of neurons in the brain which causes a short period of impairment or loss of consciousness and musclular contractions happening in a sudden involuntary manner.\n\nC). Hydrocephalus: it is a condition in which the cerebrospinal fluid accumulates in the ventricles (hollow spaces) of the brain, which causes the brain to swell. So there is an increased pressure on the brain having several impact as impairing the function of the brain, difficulty with physical motor movement, difficulty learning, impact on behavior and emotional response and visual impairment.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.\n\nDyslexia makes it difficult to read and interpret texts, while epilepsy are recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing severe and irreversible damage to the brain and nervous system.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.\n\nDyslexia makes it difficult to read and interpret texts, while epilepsy are recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing severe and permanent damage to the brain.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.\n\nDyslexia makes it difficult to read and interpret texts, while epilepsy are recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\n<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.\n\nDyslexia makes it difficult to read and interpret texts, while epilepsy are recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by episodes of falling asleep at inappropriate times during the day because of the brain's inability to fully transition from deeper stages of sleep to the lighter stages associated with wakefulness. Narcolepsy can also include other symptoms such as sleep paralysis, vivid dreams during sleep (cataplexy), and disturbed nighttime sleep.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures. It does not involve a loss of control over sleep.\n\nC). Hydrocephalus is a condition in which an abnormally large amount of cerebrospinal fluid (CSF) accumulates in the brain, leading to enlargement of the ventricles in the brain and increased intracranial pressure. It is not a sleep-related disorder.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures. Although seizures can disrupt sleep patterns, it does not cause uncontrollable episodes of falling asleep during the day specifically.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, leading to increased intracranial pressure and enlargement of the head. It is not related to sleep regulation.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure on the brain. It is a different neurological disorder.\n\nTherefore, the answer to the question is D).<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure on the brain. It is a different neurological disorder.\n\nTherefore, the answer to the question is D. Narcolepsy.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure and potential damage to the brain.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and sometimes speech and writing. It is a language-based disorder characterized by difficulties in phonological awareness, or the ability to hear, identify, and manipulate the individual sounds of spoken language.\n\nB). Epilepsy is a medical condition that produces seizures or periods of rhythmic contraction and relaxation of facial or body muscles, partial or general loss of consciousness, or sometimes convulsions, triggered by abnormal, excessive electrical discharges in the brain.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. The fluid can put pressure on the brain and cause brain damage.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness and sudden sleep episodes. This disorder can significantly impact a person's quality of life, as it causes involuntary and spontaneous sleep, even during various activities such as eating dinner, talking, or while driving. In other words, narcolepsy is the specific disorder of uncontrolled sleep attacks during the day present in the given multiple-choice options.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. The reasoning is that narcolepsy is a neurological disorder affecting the regulation of sleep-wake cycles, leading to uncontrollable episodes of falling asleep during the day. Epilepsy involves recurrent, unprovoked seizures, and is not related to sleep (B). Dyslexia is a learning disorder that affects reading skills, where the individual has difficulty in recognizing and processing written words (A). Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and potential damage to parts of the brain (C).<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. The reasoning is that narcolepsy is a neurological disorder affecting the regulation of sleep-wake cycles, leading to uncontrollable episodes of falling asleep during the day. Epilepsy involves recurrent, unprovoked seizures, and is not related to sleep (B). Dyslexia is a learning disorder that affects reading skills, where the individual often sees words and letters incorrectly, and is not related to sleep (A). Hydrocephalus is a condition where there is an accumulation of cerebrospinal fluid in the brain, causing increased pressure within the skull, and is not related to sleep (C).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which can significantly impact daily activities and quality of life. The other options (A, B, C) describe different pathologies. \n\nFor example, dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy (B) is characterized by seizures due to abnormal electrical activity in the brain. Hydrocephalus (C) is a condition involving an abnormal accumulation of cerebrospinal fluid in the brain, which leads to increased pressure within the skull. I hope it is correct.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which can significantly impact daily life and activities.\n\nMy reasoning is: Narcolepsy is a neurological disorder that affects the regulation of sleep-wake cycles. It is characterized by excessive daytime sleepiness, sudden sleep attacks, fragmented sleep, sleep paralysis, and vivid dreaming during sleep. Narcolepsy affects the body's ability to regulate REM (rapid eye movement) sleep and is associated with abnormalities in the brain's hypocretin system.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which can significantly impact daily life and activities.\n\nMy reasoning is: Narcolepsy is a neurological disorder that affects the regulation of sleep-wake cycles. It is characterized by excessive daytime sleepiness, sudden sleep attacks, fragmented sleep, sleep paralysis, and vivid dreaming during sleep. Narcolepsy affects the body's ability to regulate REM (rapid eye movement) sleep and is associated with abnormalities in the brain's mechanisms for regulating sleep and wakefulness. Other answer choices are less closely associated with sleep disorders or are more related to cognitive abilities, epilepsy, or increased intracranial pressure. \n\nThus, my final answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which can significantly impact daily life and activities.\n\nMy reasoning is: Narcolepsy is a neurological disorder that affects the control of sleep-wake cycles, leading to excessive daytime sleepiness. The other options (A) Dyslexia, (B) Epilepsy, and (C) Hydrocephalus are related to specific cognitive, neurological, or developmental issues that do not involve uncontrollable episodes of falling asleep during the day. Narcolepsy is the only option that fits this description.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder which affects about 1 in 2,000 people. It is often misunderstood and not diagnosed early because it can be similar to fatigue due to sleep loss or other conditions.\n\nOther symptoms may include sleep paralysis, hypnagogic hallucinations, excessive daytime sleepiness, and cataplexy \u2013 a sudden loss of muscle tone while awake.\n\nBecause narcolepsy is a chronic disorder, a lifelong management plan may be necessary.\n\nHydrocephalus is another neurological disorder, a buildup of fluid in the brain.\n\nEpilepsy is a disorder of the brain that leads to seizures when brain activity becomes disrupted.\n\nDyslexia is a learning disorder that involves difficulty in reading despite normal intelligence.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycle, causing sudden uncontrollable sleep episodes during the day. Options A, B, and C do not describe this disorder.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycle, causing sudden uncontrollable sleep episodes during the day. Epilepsy and hydrocephalus involve seizures and increased intracranial pressure, respectively, not uncontrolled sleep. Dyslexia is a learning disorder that affects reading abilities.<|end_of_text|>",'The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person\'s ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of falling asleep during the day despite getting enough sleep at night. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds. Hydrocephalus, also known as "water on the brain," is a condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing brain damage.<|end_of_text|>',"The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of falling asleep during the day despite getting enough sleep at night. Epilepsy is a neurological disorder characterized by recurring seizures, dyslexia is a learning disorder that affects a person's ability to understand written and spoken language, and hydrocephalus is a medical condition that occurs when there is an accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. Your reasoning: Narcolepsy causes sudden and uncontrollable episodes of falling asleep during the day, making it a disorder that affects a person's ability to regulate their sleep-wake cycles. Dyslexia, Epilepsy, and Hydrocephalus are unrelated to the phenomenon of falling asleep unexpectedly during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of falling asleep during the day despite getting enough sleep at night. Epilepsy is a neurological disorder characterized by recurring seizures, dyslexia is a learning disorder that affects a person's ability to understand written and spoken language, and hydrocephalus is a condition where there is an accumulation of cerebrospinal fluid in the brain, which can lead to increased pressure and swelling in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read and comprehend written language. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing headaches, vision problems, and sleep disturbances. However, it is not a sleep disorder characterized by uncontrollable sleep episodes during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read and comprehend written language. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing a range of symptoms such as difficulty in sleeping.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read and comprehend written language. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure inside the skull.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is excessive buildup of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, leading to excessive daytime sleepiness and sudden sleep attacks.\n\nOther options:\n- A). Dyslexia is a learning disorder characterized by difficulties with reading, speech, and writing, not excessive daytime sleepiness.\n- B). Epilepsy is a brain disorder in which a person experiences recurrent seizures, not excessive daytime sleepiness.\n- C). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, not excessive daytime sleepiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, leading to excessive daytime sleepiness and sudden sleep attacks.\n\nOther options:\n- A). Dyslexia is a learning disorder characterized by difficulties with reading, speech, and writing, not excessive daytime sleepiness.\n- B). Epilepsy is a brain disorder characterized by recurrent, unprovoked seizures, not excessive daytime sleepiness.\n- C). Hydrocephalus is an enlarged skull caused by excess cerebrospinal fluid in the brain, not excessive daytime sleepiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, leading to excessive daytime sleepiness and sudden sleep attacks.\n\nOther options:\n- A). Dyslexia is a learning disorder characterized by difficulties with reading, speech, and writing, not excessive daytime sleepiness.\n- B). Epilepsy is a brain disorder in which a person experiences recurrent seizures, not excessive daytime sleepiness.\n- C). Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain, which can lead to increased pressure and potential neurological symptoms, not excessive daytime sleepiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles. It often presents with sudden and overwhelming bouts of sleep.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning behind the answer is that Narcolepsy is a disorder characterised by uncontrollable sleep episodes during the day.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning behind the correct answer is that Narcolepsy is characterized by excessive daytime sleepiness, which may cause individuals to fall asleep unexpectedly during the day.<|end_of_text|>","I think the answer is D (Narcolepsy). Narcolepsy is a sleep disorder that affects the hypothalamus - a part of the brain that controls sleep patterns. Epilepsy (B) is associated with abnormal electrical activity in the brain and doesn't necessarily involve lack or sudden attacks of sleep. Dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying the sounds of different letters and is not associated with sleep. Hydrocephalus (C) is a neurological disorder that involves enlargement of the fluid spaces in the brain and is typically associated with progressive neurological deterioration and not episodes of excessive sleepiness. So, the correct answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning behind the correct answer is that Narcolepsy is characterized by sleep attacks, characterized as episodes of falling asleep during the day. Dyslexia is a disorder characterized by difficulty in reading despite normal intelligence. Epilepsy is characterized by recurrent, unprovoked seizures affecting any part of the brain, while Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given is that Narcolepsy is a chronic sleep disorder characterized by extreme daytime sleepiness and sudden sleep attacks. Biologically, the disorder impacts the hypothalamus, a part of the brain involved with sleep-wake cycles and hormone production.<|end_of_text|>","The correct answer is D). Narcolepsy because the disorder characterized by uncontrollable episodes of falling asleep during the day is Narcolepsy.\nDespite the other options having specific symptoms, Narcolepsy has the symptoms of uncontrollable sleep during the day and uncontrollable sleep attacks because of the part of the brain that regulates REM sleep is not working right.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given is that Narcolepsy is a chronic sleep disorder characterized by extreme daytime sleepiness and sudden sleep attacks, unlike the other options listed which do not describe such symptoms.<|end_of_text|>","The correct answer is D; Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. Causation is unknown but believed to be due to a hereditary or dy sregulation of brain chemicals, or damage to specific areas of the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given is that Narcolepsy is a chronic sleep disorder characterized by extreme daytime sleepiness and disturbed nighttime sleep.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder affecting reading abilities. Epilepsy is a seizure disorder related to abnormal brain activity. Hydrocephalus is a condition characterized by excess cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. Narcolepsy is a form of sleep disorder characterized by uncontrollable episodes of falling asleep during the day, regardless of the circumstances. People affected by narcolepsy often find it difficult to stay awake during daily activities, leading to sleep disturbances and a reduced quality of life. Other symptoms of narcolepsy can include sleep paralysis, hypnagogic hallucinations, and cataplexy. Narcolepsy is typically diagnosed based on a medical history, sleep study, and a multiple sleep latency test. The exact cause of narcolepsy is unknown, but it is believed to be related to an imbalance in brain chemicals and genetics. Treatment for narcolepsy can include lifestyle changes, medication, and therapy.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes problems with regulating and controlling sleep patterns.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrolled electrical activity in the brain. Hydrocephalus is a condition that causes excessive fluid in the brain, leading to enlarged head size and possible brain damage. None of these conditions are characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrollable seizures. Hydrocephalus is a brain disorder that causes increased pressure in the brain due to a buildup of cerebrospinal fluid.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur without warning and can interfere with daily activities. There is no mention of learning difficulties or seizures in narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrollable seizures. Hydrocephalus is a brain disorder that causes fluid buildup and swelling in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrollable seizures. Hydrocephalus is a brain disorder that causes increased fluid pressure in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to prevent. This disorder can have a significant impact on a person's daily activities and relationships.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrollable seizures. Hydrocephalus is a disorder that causes swelling of the brain due to excess fluid.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrolled electrical activity in the brain. Hydrocephalus is a condition where the cerebrospinal fluid accumulates in the brain, leading to increased pressure and potential damage. Narcolepsy is the most likely option based on the key symptoms described.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which can interfere with daily activities and work.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are often triggered by stress or Physical activity.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to function properly.\n\nMy reasoning is based on the clinical manifestations of narcolepsy, which include excessive daytime sleepiness (EDS) and sleep attacks, inconsistent sleep-wake schedule, disturbed nightly sleep (due to frequent awakenings at night), and inherent short sleep time. These features make it easier for me to conclude the correct answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to function properly.\n\nMy reasoning is based on the definition of Narcolepsy, which is well-documented in medical literature, and it is a well-known fact that Narcolepsy is a disorder characterized by excessive daytime sleepiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and  daily life (arakaki2019epidemiology).\n\nThe other options are incorrectly listed. Dislexia is a reading disability, Hydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) and epilepsy is a disorder of the nervous system that causes seizures.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is often misdiagnosed as epilepsy or ADHD, but it has unique symptoms of sleep disruption, hallucinations, and sleep paralysis (often confused with others as sleeping position or hypnagogic and hypnopompic hallucinations), particularly as patients tend to fall into the REM sleep stage.\n\nThe other options provided in the question do not have the primary symptom of falling asleep as part of the defining characteristics of the diseases or sleep disorders:\n\nA). Dyslexia is a type of specific learning disorder that involves difficulty in learning to read or interpret words, letters, and other symbols. It generally doesn\u2019t impact one's energy levels or sleeping habits.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. It does not typically involve episodes of falling asleep during the day.\n\nC). Hydrocephalus is an abnormal accumulation of cerebrospinal fluid within the brain. It does not have symptoms related to temporary sleepiness or falling asleep uncontrollably during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks throughout the day, even when they may not feel sleepy. Narcolepsy can severely affect daily life, making it challenging to maintain focus during the day and perform daily tasks effectively.\n\nThe letter corresponding to the correct option is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to stay awake during the day. The disorder affects a person's nighttime sleep, causing the individual to have difficulty falling or staying asleep at night. Narcolepsy is often misdiagnosed as a problem related to a person's environment or as a side effect of medications. The leading cause of narcolepsy is a loss of certain brain chemicals and neurons that regulate sleep and wakefulness. Symptoms of narcolepsy usually develop during early adulthood.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReasoning: Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. It is often misunderstood and can be confused with simple tiredness or laziness. Symptoms typically begin in childhood or young adulthood and last for a lifetime, although they may change over time. Narcolepsy can lead to significant distress and disruption in life, including problems with work, school, and personal relationships.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder characterized by difficulties with accurate and/or fluent word recognition and by poor spelling and decoding abilities.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures.\n\nC). Hydrocephalus is a disorder in which there is an abnormal buildup of cerebrospinal fluid (CSF) in the ventricles (fluid-filled spaces) of the brain, leading to increased intracranial pressure.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or in social situations.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and scary dreams, cataplexy (sudden muscle weakness and loss of muscle control), and disrupted nighttime sleep.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is characterized by a lack of the sleep protein hypocretin, which causes the brain's sleep-wake cycle to malfunction. Patients with narcolepsy may also experience vivid dreams upon falling asleep or waking up, and sleep paralysis.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that makes it hard for someone to read, write, and spell correctly. \nB). Epilepsy, a common neurological disorder that involves seizures caused by abnormal nerve cell activity in the brain.\nC). Hydrocephalus, an abnormal buildup of cerebrospinal fluid in the ventricles of the brain, which can cause an enlarged head and increased intracranial pressure, potentially leading to neurological problems.\n\n\nAnswer: D<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, leading to increased intracranial pressure and damage to the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy, a neurological disorder characterized by recurrent, unprovoked seizures affecting brain activity.\nC). Hydrocephalus, a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, which leads to increased intracranial pressure inside the skull.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy, a neurological disorder characterized by recurrent, unprovoked seizures affecting brain activity.\nC). Hydrocephalus, a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, causing an increase in intracranial pressure.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nExplanation: Narcolepsy is a disorder that affects the central nervous system and control of sleep, with symptoms such as excessive daytime sleepiness or sudden loss of muscle strength.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy, a brain disorder that causes recurring, unprovoked seizures due to abnormal electrical activity in the brain.\nC). Hydrocephalus, a condition in which there is an accumulation of cerebrospinal fluid in the brain\u2019s ventricles, which causes the brain to swell and increase in size, which can affect physical and mental development.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the multiple-choice question do not involve the inability to stay awake and having unexpected sleep attacks. Here is a brief description of the other disorders:\n\nA). Dyslexia: It is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). Dyslexia may slow down reading but does not generally involve falling asleep during the day.\n\nB). Epilepsy: It is a brain disorder in which a person has repeated seizures over time. Seizures happen when clusters of neurons send abnormal signals to brain cells, causing unusual behavior, sensations and sometimes loss of awareness.\n\nC). Hydrocephalus: It is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain. This can cause the brain to be abnormally large in certain areas and can lead to increased intracranial pressure, impairment of brain functions, or problems with walking, thinking, and memory. Hydrocephalus does not involve problems with falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the multiple-choice question do not involve the inability to stay awake and having unexpected sleep attacks. Here is a brief description of the other disorders:\n\nA). Dyslexia: It is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). Dyslexia may slow down reading but does not generally involve falling asleep during the day.\n\nB). Epilepsy: It is a brain disorder in which a person has repeated seizures over time. Seizures happen when clusters of neurons send abnormal signals to brain cells, causing strange sensations, behaviors, or convulsions. It is not characterized by falling asleep during the day.\n\nC). Hydrocephalus: It is a disorder in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which causes enlargement of the head, high pressure inside the skull, and progressive damage to the brain. It doesn't cause sudden sleep attacks.\n\nThe correct answer is D, Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the multiple-choice question do not involve the inability to stay awake and having unexpected sleep attacks. Here is a brief description of the other disorders:\n\nA). Dyslexia: It is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). Dyslexia may slow down reading but does not generally involve falling asleep during the day.\n\nB). Epilepsy: It is a brain disorder in which a person has repeated seizures over time. Seizures happen when clusters of neurons send abnormal signals to brain cells, causing strange sensations, behaviors, or convulsions. It is not characterized by falling asleep during the day.\n\nC). Hydrocephalus: It is a disorder in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which causes enlargement of the head, high intracranial pressure, and developmental disorders. It may cause problems with brain function if left untreated but does not cause people to uncontrollably fall asleep during the day.\n\nTherefore, the answer is D. Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and relationships. \n\nIt is suggested that narcolepsy involves a dysfunction in the brain\u2019s ability to regulate and control sleep-wake cycles. The exact cause of narcolepsy is not entirely understood, but it is believed to be a combination of genetic and environmental factors. Genetic factors are thought to increase the risk of developing narcolepsy, but additional triggers, such as infections or stress, might be involved in triggering the disorder.\n\nSymptoms of narcolepsy include:\n\nSudden sleep attacks during the day\nSleep paralysis (a temporary inability to move or speak while transitioning between wakefulness and sleep)\nVivid and often disturbing dreams during sleep\nFragmented sleep\nInability to control muscle movements, known as cataplexy\n\nThe exact cause of narcolepsy is not known, but research suggests that there may be a genetic component to the disorder. There may also be a link between narcolepsy and other sleep disorders, such as sleep apnea or periodic limb movements during sleep.\n\nNarcolepsy is typically diagnosed based on the presence of specific symptoms and a thorough medical evaluation. There is no cure for narcolepsy, but treatment options may include medication, behavioral therapy, and lifestyle changes to manage symptoms and improve sleep patterns.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep episodes during the day, known as sleep attacks. These episodes can make it difficult to maintain wakefulness, especially during periods of inactivity or when tired.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep episodes during the day, known as sleep attacks. These episodes can make it difficult to maintain wakefulness, especially during periods of inactivity or stress.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep episodes during the day, known as sleep attacks. This can interfere with their ability to stay awake and alert during the day. The disorder can also cause other symptoms, such as sleep paralysis, vivid dreams, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy is thought to be caused by a combination of genetic and environmental factors.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: A learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they represent various letters and words. The disorder usually involves a difficulty with phonological processing (the manipulation of sounds), which is a vital skills for independent reading.\n\nB). Epilepsy: This disorder is a chronic neurological condition characterized by recurrent unprovoked seizures. These seizures are transient signs and/or symptoms of abnormal, excessive or synchronous neuronal activity in the brain.\n\nC). Hydrocephalus: This disorder is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain. The CSF is the clear fluid that is located in the brain and spine.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: A learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they represent various letters and words. The disorder usually involves a difficulty with phonological processing (the manipulation of sounds), which is a vital skills for independent reading.\n\nB). Epilepsy: This disorder is a chronic neurological condition characterized by recurrent, unprovoked seizures. A seizure is a sudden, uncontrolled electrical disturbance in the brain that causes dramatic changes in sensation, behavior, or muscle activity.\n\nC). Hydrocephalus: Hydrocephalus results from the accumulation of excessive amounts of cerebrospinal fluid (CSF) within the brain's ventricles that causes the ventricles to widen, applied pressure to the brain, and the stretching of brain tissues.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia, an inherited learning disability characterized by difficulty reading due to problems identifying speech sounds and learning how they represent particular letters and words (phonics). It is a common language-based learning disability. Approximately 15-20 percent of children diagnosed with this disorder will also experience difficulty with reading and language skills, dysarthria (and other speech and language skills).\n\nB). Epilepsy, is a neurological disorder characterized by recurrent, unprovoked seizures leading to loss of consciousness, convulsions and mental impairment. There are several causes of epilepsy. It\u2019s often described as a condition of the brain that causes changes in behavior, emotions, and movement.\n\nC). Hydrocephalus. Also called water on the brain, it\u2019s the result of an accumulation of cerebrospinal fluid (CSF) in the brain's ventricles. CSF lubricates the brain and spine and helps absorb pressure within the skull. Hydrocephalus causes progressive enlargement of the head, particularly the frontal lobes and is a common pediatric neurological disorder.\n\nSo, the answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: A learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they represent various letters and words. The disorder usually involves a difficulty with phonological processing (the manipulation of sounds), which is a vital skills for independent reading.\n\nB). Epilepsy: This disorder is a chronic neurological condition characterized by recurrent, unprovoked seizures. A seizure is a sudden, uncontrolled electrical disturbance in the brain that causes dramatic changes in sensation, behavior, or muscle activity.\n\nC). Hydrocephalus: Hydrocephalus results from the accumulation of excessive amounts of cerebrospinal fluid (CSF) within the brain's ventricles and the subarachnoid space.\n\nAnswer: D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: Dyslexia is defined as language-based learning disability characterized by difficulty in reading, writing, and/or comprehension. It is not related to the sleep-wake cycle. \nB). Epilepsy: epilepsy (also referred to as a seizure disorder) is a medical condition where a person has recurring, unprovoked seizures. These seizures are sudden, temporary occurrences of abnormal electrical activity in the brain. They are not related to the sleep-wake cycle.\nC). Hydrocephalus: An enlarged head is often a symptom of this condition. Hydrocephalus is a medical condition that occurs when there is an excessive accumulation of cerebrospinal fluid (CSF) within the ventricles of the brain or if the fluid is not successfully absorbed or drained. Hydrocephalus is not related to the sleep-wake cycle.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, typically manifests with cataplexy, or sudden episodes of muscle weakness coinciding with emotions. Sleep expert Thomas A. Scammell of Harvard Medical School, Narcolepsy D.O., MD has stated that \u201cNarcolepsy is a neurological disorder characterized by uncontrollable sleep attacks, hallucinations, and sleep paralysis.\u201d D is the correct answer.\n\nNow for dyslexia it is a learning disability, typically characterized by a difficulty with fluent reading and poor spelling and is neurologically based. These difficulties in spelling and reading outcome from problems in language processing. Epilepsy Imply\u2019s seizures. They are episodes that can be short or long. And Hydrocephalus, in Greek, means water on the brain. This disease implies obstruction in the flow of cerebrospinal fluid, which inflicts lots of swelling and pressure on the brain, with outcomes that may include altered mental states and vomiting, among others.\n\nTherefore, D). is the correct answer to the question<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: Dyslexia is defined as language-based learning disability, neurological condition characterized by trouble with spoken language comprehension. It has nothing to do with falling asleep.\nB). Epilepsy: A disorder characterized primarily by seizures. Seizures take many forms. They are sudden, short attacks of vigorous shaking and loss of consciousness.\nC). Hydrocephalus: This is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain. It is due to obstruction of cerebrospinal fluid flow from the lateral ventricles into the cisterns of the brain, and further through the subarachnoid space.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: Dyslexia is defined as language-based learning disability characterized by difficulty in reading, writing, and/or comprehension. It is not related to the sleep-wake cycle. \nB). Epilepsy: epilepsy (also referred to as a seizure disorder) is a medical condition where a person has recurring, unprovoked seizures. These seizures are sudden, temporary occurrences of abnormal electrical activity in the brain. They are not related to the sleep-wake cycle. \nC). Hydrocephalus: Hydrocephalus is a medical condition characterized by an abnormal accumulation of cerebrospinal fluid in the ventricles (fluid-filled cavities) of the brain. This accumulation of fluid in the brain stretches it, which can lead to physical and functional changes that can have limiting effects on both the life of an individual and his or her ability to function. This disorder is not related to the sleep-wake cycle. \n\nThe letter I will assign to my answer is: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: Dyslexia is defined as language-based learning disability characterized by difficulty in reading, writing, and/or comprehension. It is not related to the sleep-wake cycle. \nB). Epilepsy: epilepsy (also referred to as a seizure disorder) is a medical condition where a person has recurring, unprovoked seizures. These seizures are sudden, temporary occurrences of abnormal electrical activity in the brain that can cause changes in attention, behavior, muscle movements, recycling or awareness.\nC). Hydrocephalus: hydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. This accumulation causes pressure on the tissues of the brain that can lead to permanent damage and other complications. It is not related to the sleep-wake cycle. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sudden bouts of sleep can interrupt ones day (vs A Dyslexia, a learning disorder where people have difficulties with word recognition and spelling; vs B Epilepsy, which causes seizures due to sudden, dramatic changes in the brain's electrical system; vs C Hydrocephalus, a medical condition in which there is an abnormal buildup of cerebrospinal fluid in the brain.)<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sudden bouts of sleep can interrupt ones day (vs A, B, C, which don't fit the time causation of sudden bouts of sleep). <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy.\n\nThe human body requires the destruction of endorphins as well as sleep for healing. These processes do not work properly with narcolepsy. Narcolepsy is a sleep disorder resulting from the brain's inability to communicate with the hypothalamus during REM sleep, which is the phase when we experience dreams. Together they function to carry a message from the brain to the muscles. This message informs the muscles about when to relax for normal sleep and when to engage to start reacting to the information sensed by the body (i.e., to feel pain or react to other inputs such as pain).\n\nSome Narcoleptic events include, but are not limited to: experiencing sleepiness throughout the day, experiencing sudden REM periods of sleep or sleep attacks, and experiencing sleep paralysis (lasting seconds or minutes) as one falls asleep or wakes up from sleep. The body may go to sleep during any type of activity, including sitting, working, reading, talking, or even driving.\n\nNarcolepsy can not only affect your daily routine, but it can also hurt your relationship with others because you may be falling asleep during conversations or before others if you overdo it. Engaging in activities such as driving, sports, and chores may also pose dangers. A decreased amount of adrenaline is also associated with this disorder.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sudden bouts of sleep can interrupt ones day (vs A Dyslexia, a learning disorder where people have difficulties with word recognition and spelling; vs B Epilepsy, which causes seizures due to sudden, excessive neuronal activity. vs C Hydrocephalus, which is characterized by an abnormally large skull resulting from a buildup of cerebrospinal fluid). Narcolepsy shows the most relevance to your question.\n\n<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sleep attacks which make it the most probable option.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sleep attacks which make it the most probable disorder in this context and it is the only answer option amongst the choices given above that directly describes an anatomical sleeping condition. Here, four options are highlighted for dyslexia, hydrocephalus, epilepsy, and a sleep-paralyzing sleeping disorder.\n\n<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder. Narcolepsy is not related to epilepsy, hydrocephalus, or dyslexia.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a disorder of the nervous system that affects people's ability to sleep throughout the night, while keeping their sleep during the day. Patients, therefore often sleep poorly at night and excessively sleep during the day.\n\nOther options do not fulfill the question's requirements. \n\nA). Dyslexia is a developmental disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder that manifests in seizures. It is referred to as a spectrum disorder because of the variety of ways it can present, its range in severity from brief, slight loss of awareness to severe and prolonged convulsions, \n\nC). Hydrocephalus is the abnormal enlargement of fluid-filled spaces in the brain that is caused by the obstruction of cerebrospinal fluid in the ventricles and the subarachnoid space.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder. Epilepsy, hydrocephalus, and dyslexia are all different disorders, and dyslexia is not characterized by sleepiness. Thus, for the question on anatomy, D) is correct.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a disorder of the brain that can not be learned. Other unrelated options are:\n\nA). Dyslexia - a learning disorder that affects the ability to read and process language.\nB). Epilepsy - a nervous system disorder that causes recurring seizures.\nC). Hydrocephalus - a condition in which excess cerebrospinal fluid builds up in the brain, causing pressure on the brain.\n\n\nThe final answer: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder. Narcolepsy is not related to epilepsy, hydrocephalus, or dyslexia. Many people think that epilepsy leads to loss of consciousness, but it is mainly characterized by recurrent seizures. Epilepsy and hydrocephalus are also not characterized by uncontrollable episodes of falling asleep.\n\nSo, the final answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a disorder that affects the parts of the brain responsible for regulating sleep, which can lead to excessive sleepiness during the day. During narcolepsy episodes of sleep can be very brief, but also occur at any time and without warning, sometimes with cataplexy (sudden loss of muscle tone while awake).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a disorder that affects the parts of the brain responsible for regulating sleep, which can lead to excessive sleepiness throughout the day. Narcolepsy is indeed the correct answer to the question, characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the final answer is: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is characterized by excessive daytime sleepiness, sleep attacks, disturbed nighttime sleep, and occurrence of REM (rapid eye movement) sleep episodes while awake.\n\nThe process of sleep is divided into two overlapping stages: NREM (non-REM) sleep and REM sleep. The stage of NREM sleep is divided into 3 stages, the deepest of which is called slow-wave sleep.\n\nNarcolepsy is a neurological disorder that impairs the normal sleep-wake cycle, rather than the ability of the brain's motor control centers to regulate phasic (short-lived) muscle activity during REM sleep, the stage responsible for vivid dreaming.\n\nOther people with narcolepsy may have all or some of the following symptoms: helpless sleep attacks, excessive sleepiness, and interruptions and vivid dreams.\n\nI hope this explanation is correct.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a disorder that affects the parts of the brain responsible for regulating sleep, which can lead to excessive sleepiness during the day. During narcolepsy episodes of sleep can be very brief, but also occur at any time, even be triggered by meals or routine tasks.\n\nSo, D). Narcolepsy is the suitable option for the provided question as it includes a disorder characterized by uncontrollable episodes of falling asleep.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a disorder that affects the parts of the brain responsible for regulating sleep, which can lead to excessive sleepiness during the day. During narcolepsy episodes of sleep can be very brief, but also occur at any time, even be triggered by meals or routine tasks.\n\nSo, D). Narcolepsy is the correct answer.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive discharge of neurons that cause involuntary movements, behavior changes, muscle spasms, loss of consciousness, sensing odors, seeing lights, and hearing sounds, without any excerpted cause.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles, or cavities, of the brain, and as a result, the enlarged fluid-filled spaces exert pressure on the brain, causing headache and nausea in advanced cases.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a chronic neurological disorder characterized by overwhelming daytime sleepiness and other specific features such as catalyptia (sudden loss of muscle tone in response to strong emotion), sleep paralysis, and vivid hallucinations during sleep onset or awakening. So, the answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to expansion of the brain ventricles and increased intracranial pressure.\n\nD) Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day, which disrupts the person's daily activities and the ability to maintain normal sleeping patterns at night. This is caused by dysfunction in the brain's ability to regulate sleep-wake cycles.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. Or sleep attacks, occurs because narcolepsy affects brain chemicals that control when we sleep and are awake and cause people with narcolepsy to suddenly feel overwhelming drowsiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to expansion of the brain ventricles and increased intracranial pressure.\n\nD) Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day, caused by dysfunction in sleep-wake regulation.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, an inability to regulate sleep-wake cycles normally, sudden loss of muscle strength, and vivid dreaming.\n\nFinal answer: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive neuronal activity in the brain.\n\nC) Hydrocephalus, which is caused by an excess of cerebrospinal fluid in the brain, can lead to increased intracranial pressure, enlargement of the cranium, and damage to the brain and nervous system.\n\nD) Narcolepsy is a neurological disorder characterized by persistent sleepiness and a disrupted sleep pattern, often leading to episodes of falling asleep suddenly and uncontrollably during the day, as well as disturbances such as sleep paralysis, vivid dreams, and cataplexy (sudden loss of muscle tone while awake).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. It can cause increased intracranial pressure inside the skull and potentially deadly complications. Hydrocephalus is not characterized by uncontrollable episodes of falling asleep.\n\nD) Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness. It is caused by the brain's inability to regulate sleep-wake cycles. People with narcolepsy may experience sudden sleep attacks and other symptoms including sleep paralysis, night terrors, vivid dreaming (known as hypnagogic hallucinations), and a condition known as cataplexy, in which the muscles suddenly and selectively go limp while the person remains conscious.\n\nThus, the answer to the question is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and increased intracranial pressure within the skull. Symptoms can include headaches, vomiting, nausea, blurred vision, difficulty with balance, and urinary incontinence.\n\nD) Narcolepsy is a chronic disorder of the central nervous system characterized by overwhelming daytime sleepiness. It affects the ability to regulate sleep and wakefulness, often leading to episodes of sudden sleep onset. Other symptoms can include sleep paralysis, vivid hallucinations during sleep onset or offset, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy is caused by an underactive hypothalamus, a part of the brain that regulates sleep and wakefulness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and generally an increase in intracranial pressure, which can result in neurological damage and developmental deficits. It's not related to uncontrollable episodes of falling asleep.\n\nD) Narcolepsy is a chronic disorder that affects the control of sleep-wake cycles. People with narcolepsy experience poor sleep quality and have a high risk of falling asleep at inappropriate times in the day. This leads to significant impairment in daily functioning and quality of life. Narcolepsy is also one of the Spinocerebellar ataxia that leads to uncontrollable episodes of falling asleep during the day).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and increased intracranial pressure within the skull. Symptoms can include headaches, vomiting, nausea, blurred vision, difficulty with balance, and urinary incontinence.\n\nD) Narcolepsy is a chronic disorder of the central nervous system characterized by overwhelming daytime sleepiness. It affects the ability to regulate sleep and wakefulness, often leading to episodes of sudden sleep. The disorder was mentioned in the question, making it the most accurate answer.\n\nTherefore, the letter corresponding to the correct option is: D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and increased intracranial pressure within the skull.\n\nD) Narcolepsy is a neurological disorder that affects about 1 in 2,000 people. It is characterized by excessive daytime sleepiness and abnormalities in REM sleep regulation. \n\nThese reasons support the response that the correct answer is D) Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain and it may lead to increased intracranial pressure inside the skull and progressive enlargement of the head.\n\nD) Narcolepsy is a chronic sleep disorder that involves a combination of sleep and wakefulness disorders characterized by uncontrollable bouts of sleep during the day, excessive daytime sleepiness, and fragmented nighttime sleep.\n\nTherefore, the answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the cavities (ventricles) of the brain, leading to brain swelling and increased intracranial pressure.\n\nD) Narcolepsy is a neurological disorder that affects the brain's ability to regulate sleep-wake cycles, characterized by uncontrollable episodes of falling asleep during the day. Also, people with Narcolepsy often experience sudden muscle weakness and vivid dreaming during sleep, also known as sleep paralysis.\n\nTherefore, the correct answer is D) Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the cavities (ventricles) of the brain, leading to enlargement of the head, increased intracranial pressure, and potential damage to the brain.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. Individuals with narcolepsy experience excessive daytime sleepiness, flash or sleep paralysis, and sudden sleep attacks. This disorder is linked to a dysfunction in the brain's ability to control sleep-wake cycles, and it involves abnormalities in the hypothalamus and the hypocretin system.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is a neurological disorder characterized by excessive daytime sleepiness and disruptions in nocturnal sleep. It is associated with structural and functional changes in brain regions involved in sleep regulation, such as the hypothalamus and brainstem nuclei.\n\nTherefore, the closest option that relates to uncontrollable episodes of falling asleep during the day is Narcolepsy (D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is a step-by-step reasoning process:\n\n1. Narcolepsy is known for its symptoms that are contradictory to normal sleep behavior.\n2. Instead of experiencing a naturally occurring sleep-wake cycle, individuals with narcolepsy suffer from rapid and unexpected sleep onset, often in inconducive environments.\n3. This alteration in sleep regulation and the resultant issue of daytime sleep are the core symptoms linked to narcoleptic patients.\n4. Narcolepsy separates itself from the other listed disorders with regard to sleep onset.\n5. Disorders like dyslexia are associated with learning difficulty and vision problems, have nothing to do with the noticing issue of dozing during daytime.\n6. Epilepsy addresses a neurological disorder characterized primarily by the occurrence of seizures which has no relation to failing asleep in day.\n7. Hydrocephalus is another neurological disorder that primarily affects an individual's cerebrospinal fluid and has a weakness or irregularity in the anatomy of cerebral ventricles; there is no conscious mentioning of falling asleep during daytime. \n\nWith the above reasoning process, the answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation.\n\nGiven the options provided, the best match for the disorder characterized by uncontrollable episodes of falling asleep during the day is option D), Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation.\n\nGiven the options provided, the best match for the disorder characterized by uncontrollable episodes of falling asleep during the day is option D, Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation.\n\nThus, the correct answer is option D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating in the brain.\n\nReasoning: This disorder is manifestation of narcolepsy known as daytime sleep episodes. Narcolepsy is a long-term brain disorder that involves a lack of ability to regulate sleep-wake cycles. The main symptom of narcolepsy is excessive daytime sleepiness, which is uncontrollable sleep episodes during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, leading to increased intracranial pressure and enlargement of the brain. Symptoms may include headache, nausea, vomiting, impaired vision or vision loss, trouble with balance, difficulty walking, feeding problems in infants, irritability, confusion, personality changes, or urinating much less. Late complications may develop quickly or over weeks to months.\n\nD) Narcolepsy is a neurological disorder that affects a person's ability to stay awake and alert and may affect REM sleep. The symptoms include overwhelming daytime sleepiness, sleep paralysis, and hallucinations just as falling asleep or waking up.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation. \n\nSo, the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which means it does not cause daytime sleepiness at all while being associated\n\nwith tiredness from trying to read. Epilepsy (B) refers to a group of neurological disorders characterized by sudden, episodic disturbances of the brain. In some cases these disturbances might manifest as falls or confusion as well as seizures which usually make patient being inactive and sometimes even appearing like they are sleeping but have nothing to do with sudden events during which person loses control over sleep-wake cycle which is specific for narcolepsy. And hydrocephalus(C) is a condition in which there is an abnormal buildup of cerebrospinal fluid (CSF) in the ventricles of the brain. So d) is the correct and most fitting answer where option compares actual medical issue with the one exhibited in the question.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.\n\nD) Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nTherefore, the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder. This is the reason behind this answer.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (orthographic symbol). Thus, it is not related to sleep disorders.\nB) Epilepsy is a disorder characterized by recurrent, unprovoked seizures. It is not specifically related to excessive daytime sleepiness as seen in narcolepsy.\nC) Hydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain that leads to potential brain damage. It is not characterized by sleep disorder issues.\n\nAdditionally, Narcolepsy is often associated with a range of symptoms that include excessive daytime sleepiness, cataplexy, sleep paralysis, and hypnagogic hallucinations; these are typical characteristics of sleep disorders involving disturbances in the regulation of REM sleep. The human brain Chemistry is altered to control the onset of sleep due to Hypocretin neuropeptide; hypocretin level is reduced in Narcoleptic individuals which allows the brain to slip into sleep.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. It does not specifically relate to uncontrollable episodes of falling asleep.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. It also does not relate to uncontrollable episodes of falling asleep.\n\nOn the other hand, D) Narcolepsy is a sleep disorder that involves excess daytime sleepiness and sudden sleep attacks. It is the only option that directly pertains to uncontrollable episodes of falling asleep during the day.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. It does not specifically relate to uncontrollable episodes of falling asleep.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. It also does not relate to uncontrollable episodes of falling asleep.\n\nOn the other hand, D) Narcolepsy is a sleep disorder that involves excess daytime sleepiness and sudden sleep attacks. It is the only option that directly pertains to uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. It does not specifically relate to uncontrollable episodes of falling asleep.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, which leads to brain enlargement and increased intracranial pressure. It is not related to sleep disorders.\n\nD) Narcolepsy is the disorder in which a person experiences an overwhelming daytime drowsiness and sudden sleep attacks, which The question specifically inquires about. This disorder fits the described condition of experiencing sleep episodes throughout the day and is due to a disturbance in the normal sleep-wake cycle. Therefore, the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. It does not specifically relate to uncontrollable episodes of falling asleep.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, which leads to brain enlargement and increased intracranial pressure. It is not related to sleep disorders.\n\nD) Narcolepsy is a chronic sleep disorder resulting in the inability to regulate sleep-wake cycles normally. It causes excessive daytime sleepiness, sudden sleep attacks, and cataplexy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is not characterized by sleep disturbances.\n\nB) Epilepsy is a central nervous system disorder in which brain activity becomes abnormal, causing seizures or periods of strange behavior, sensations, sometimes losing awareness, and symptoms that may briefly affect whole body or just a small part of the body or even cause muscles to constrict or relax, depending on which area of the brain is affected.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles, or cavities, of the brain. This can cause increased intracranial pressure inside the skull and can cause progressive injury to the brain.\n\nD) Narcolepsy manifests as excessive daytime sleepiness accompanied by sudden sleep attacks, insomnia, vivid dreams during sleep onset, and cataplexy (sudden loss of muscle tone while awake). Because of these symptoms, it suggests dysfunction in sleep-wake regulation, which is the correct answer in this context.<|end_of_text|>",'The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which is not the disorder of falling asleep during the day.\n\nC) Hydrocephalus, commonly known as "water on the brain," refers to the accumulation of cerebrospinal fluid in the brain skull, causing increased intracranial pressure, ventricle enlargement, and convolutional brain atrophy. It is not characterized by falling asleep.\n\nD) Narcolepsy is the correct answer as it involves excessive daytime sleepiness, sleep attacks, and sudden sleep episodes as part of its symptoms.<|end_of_text|>',"The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which is not the disorder of sleep disturbances.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, causing harmful pressure on the brain, which is not a sleep disorder.\n\nD) Narcolepsy is the correct answer. It is a long-term brain disorder characterized by lapses into drowsiness or fleeting sleep episodes at inopportune times. In addition to the excessive daytime sleepiness, symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle strength while awake).\n\nSo, the letter corresponding to the correct option is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which an abnormal accumulation of cerebrospinal fluid (CSF) inside the skull causes progressive enlargement of the head and can lead to increased intracranial pressure, brain damage, and other complications. It is not characterized by sleep episodes.\n\nD). Narcolepsy is the correct answer as it is a neurological disorder that affects the control of sleep-wake cycles and can result in individuals experiencing overwhelming daytime sleepiness (sleep attacks) and other irresistible sleep episodes.<|end_of_text|>",'The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain\'s ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which an abnormal accumulation of cerebrospinal fluid (CSF) inside the skull causes progressive enlargement of the head and can lead to increased intracranial pressure, brain damage, and other complications.\n\nD). Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day (sleep attacks), excessive daytime sleepiness, vivid dreams upon falling asleep, and sudden loss of muscle tone (cataplexy).\n\nThe correct answer, D, reveals that typing the ending ".at" at the end of the sentence is unnecessary, and that typing a period at the end is sufficient for a normal sentence.<|end_of_text|>',"The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus, or water on the brain, is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure within the cranium.\n\nD). Narcolepsy is the correct disorder, as mentioned earlier.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus, or water on the brain, is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an increase in intracranial pressure and potential damage to the brain tissues.\n\nD). Narcolepsy, as stated, is the correct choice; it is a disorder of the central nervous system, specifically of sleep regulation and is characterized by excessive daytime sleepiness and sudden sleep attacks.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus, or water on the brain, is a condition that occurs when there is an excessive accumulation of cerebrospinal fluid in the ventricles of the brain, which leads to increased intracranial pressure and consequent enlargement of the head.\n\nD). Narcolepsy is the correct answer. The brain of people affected by narcolepsy does not produce enough of a naturally occurring chemical called hypocretin, which regulates sleep patterns. This causes sudden and uncontrollable episodes of sleep throughout the day.\n\nD<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures.\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlarged ventricles and, usually, increased intracranial pressure.\n\nSo the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by sudden bouts of sleep, occurs more frequently among people with low levels of hypocretin \u2014 a brain chemical that helps regulate alertness. This medical condition affects less than 1% of the world's population. \n\nThe other three answers are incorrect. \n\n- Dyslexia, also known as reading disorder, is a condition in which an individual struggles to understand words, letters, and other symbols. Sufferers with this disorder might have difficulty with word recognition and spelling. \n\n- Epilepsy is categorized as a seizure disorder, a common nervous system disorder in which individual suffer from repeated, unprovoked seizures. \n\n- Hydrocephalus is a disorder characterized by an accumulation of cerebrospinal fluid, which builds up within the brain. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia causes difficulty solving language-based tasks, epilepsy causes seizures due to sudden, abnormal electrical activity in the brain, and hydrocephalus causes fluid buildup in the brain. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus is an excessive buildup of fluid in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed all involve issues with the nervous system or brain, but they do not involve sleep disturbances. Therefore, the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus is an accumulation of cerebrospinal fluid in the skull. D).<|end_of_text|>","The correct answer is D) Narcolepsy. Narcolepsy is a sleep disorder characterized by uncontrollable episodes of daytime sleepiness that can lead to sleep attacks, also known as sleep attacks. This disorder is often difficult to diagnose because it is typically underdiagnosed by healthcare professions. It's essential to get an accurate diagnosis as this disorder is the main cause of excessive daytime sleepiness. People with narcolepsy might experience sudden sleep attacks and hallucinations, a condition called sleep paralysis, and have difficulty sleeping at night. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus causes a buildup of fluid in the skull which can leads to increased intracranial pressure. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus causes a buildup of fluid in the skull which can leads to increased intracranial pressure. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus causes a buildup of cerebrospinal fluid in the brain. D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus causes a buildup of cerebrospinal fluid in the brain. Answer: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day. This is distinct from dyslexia (A), which is a language processing disorder, and epilepsy (B), which causes seizures. Past these, hydrocephalus (C) is an accumulation of fluid in the brain causing an increase in pressure, which can cause many symptoms, but not sleepiness during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus is a condition that affects brain function due to a buildup in cerebrospinal fluid. Answer D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid within the cranial chamber.\nOption D: This disorder is a sleep disorder, specifically one that causes a person to fall asleep uncontrollably at inappropriate times.<|end_of_text|>",'The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid within the cranial chamber.\nOption D: This disorder causes excessive daytime sleepiness andcatalog\n\nHowever, actually none of the stated disorder\'s definitions or common signs actually support an answer to the given question about daily sleeping conditions.\n\nA better question would be: Which of the following is a disorder characterized by a lack of energy, difficulty concentrating, and an irresistible desire to sleep during the day. \n\nAnswer: C is the correct answer: Chronic fatigue syndrome. (Nonetheless, chronic fatigue syndrome is related to a long-term experience or a symptom of many diseases but not uncontrollable or daily instinctive sleeping conditions.)\n\nOther conditions such as post-polio syndrome, sarcoidosis, and multiple sclerosis, for example, are also not related to uncontrollable daytime sleepiness but may be confused with the term "chronic fatigue syndrome." Migraine and thyroid disorders may be associated with sudden difficulty concentrating.<|end_of_text|>',"The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid in the brain; often caused by hydrocephalus.\nOption D: Is characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>",'The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid in brain.\nOption D: This disorder involves episodes of falling asleep suddenly, often during well-intentioned activities like talking and eating. It is caused by a poor control of a person\'s "sleep-wake" system, a daily cycle that regulates the need for sleep.<|end_of_text|>',"The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder affects the development of the brain.\nThis question corresponds to the sleep disorder narcolepsy.\n\nThe answer: D).<|end_of_text|>",'The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid in brain.\nOption D: This disorder involves episodes of falling asleep suddenly, often during well-intentioned activities like talking and eating. It is caused by a poor control of a person\'s "sleep-wake" system, a daily cycle that regulates the desire to sleep or stay awake.\n\n\nTherefore, the answer: D). Narcolepsy<|end_of_text|>',"The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder causes increased intracranial pressure and impaired cognitive function. \nOption D: Narcolepsy is a sleep disorder that causes individuals to experience sudden and unavoidable sleep episodes throughout the day.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness occurs even during the day when a person should be awake, while falling asleep during the day is one of the hallmark symptoms of narcolepsy. Narcoleptic episodes are random, unpredictable, and can occur at any time during the day. Narcolepsy is a neurological disorder that affects the brain's ability to regulate sleep-wake cycles. \n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness occurs even during the day when a person should stay awake, and the person may have to fight sleep attacks at inopportune times, such as during mealtime or while driving.\n\nOther options:\n\nA). Dyslexia refers to a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy refers to a group of neurological disorders characterized by epileptic seizures, which are sudden, abnormal disturbances in the brain's electrical activity.\n\nC). Hydrocephalus refers to a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of spaces in the brain, compressing the tissues of the brain and causing increased intracranial pressure.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness occurs even during the day when a person should stay awake, and the person may have to fight sleep attacks at inopportune times, such as during mealtime or while driving.\n\nOther options:\n\nA). Dyslexia refers to a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy refers to a group of neurological disorders characterized by epileptic seizures, which are sudden, abnormal disturbances in the brain's electrical activity.\n\nC). Hydrocephalus refers to a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of spaces in the brain, compressing the brain tissue and potentially causing increased intracranial pressure.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness occurs even during the day when a person should stay awake. This becomes a problem if it interferes with daily life activities. The excessive sleepiness is the main symptom of this disorder,\n\nIf it is important to note that, it is important to see a doctor if you, or someone you know, has symptoms of excessive daytime sleepiness that interfere with daily activities.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness usually begins within a few years after the signs and symptoms of cataplexy occur.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder in which a person experiences overwhelming daytime sleepiness. The reasoning is that the other options listed are neurological disorders or conditions that are not characterized by uncontrollable sleepiness.<|end_of_text|>","The correct answer is D. Narcolepsy. Narcolepsy is a sleep disorder that affects the ability to control sleep-wake cycles and leads to excessive daytime sleepiness. It causes disturbances in your ability to fall and stay asleep, and can severely affect your day-to-day functioning.\n\nSo the final answer is: D.<|end_of_text|>","The correct answer is D. Narcolepsy. Narcolepsy is a sleep disorder that affects the ability to control sleep-wake cycles and leads to excessive daytime sleepiness. It causes people to suddenly fall asleep during the day, despite adequate nighttime sleep.\n\nMy reasoning is that Option D describes Narcolepsy, a sleep disorder characterized by uncontrollable sleepiness during the day, known as excessive daytime sleepiness (EDS). This disorder is a neurological and immune-mediated disorder resulting from the loss of horseshoe-shaped hypothalamic neurons in the brain called hypocretin/orexin neurons. Losing these neurons gives symptoms of narcolepsy to the individual suffering from this disorder.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), Epilepsy (B), and Hydrocephalus (C) - are different types of neurological disorders with different symptoms.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), Epilepsy (B), and Hydrocephalus (C) - are different types of disorders related to reading, seizure activity, and increased intracranial pressure, respectively. None of these are characterized by poor sleep control as seen in Narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), Epilepsy (B), and Hydrocephalus (C) - are not characterized by episodes of falling asleep, but rather by different neurological or developmental issues.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), which is a learning disorder characterized by difficulty reading or interpreting words, letters, and other symbols, Epilepsy (B), which involves recurrent seizures due to abnormal electrical discharges in the brain, and Hydrocephalus (C), which is an abnormal accumulation of cerebrospinal fluid in the brain resulting in increased intracranial pressure, do not involve uncontrollable episodes of falling asleep.\n\nThus, the final answer is D.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), which is a learning disorder characterized by difficulty reading or interpreting words, letters, and other symbols, Epilepsy (B), which involves recurrent seizures due to abnormal electrical discharges in the brain, and Hydrocephalus (C), which is a condition resulting from the accumulation of cerebrospinal fluid in the brain, do not involve episodes of falling asleep.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day due to the disruption of the brain's sleep-wake cycle. Dyslexia is a learning disorder characterized by difficulties with reading due to problems identifying speech sounds and learning how they correspond to letters and words. Epilepsy is a neurological disorder characterized by recurring seizures. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain.\n\nD.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcolepsy attack, the individual may also experience sleep paralysis, vivid dreams, and hallucinations. Narcolepsy is often diagnosed when a person falls asleep directly in a conversation with someone, or during eating, or in class while discussing something very interesting.\n\nOptions A, B, and C do not produce side effects or episodes that cause the afflicted person to fall into an uncontrolled and quick sleep during the day.\n\nThe final answer: D.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcolepsy attack, the individual may also experience sleep paralysis, vivid dreams, and hallucinations. Narcolepsy is often diagnosed when a person falls asleep directly in a conversation with someone, or after a brief nap the person a little while earlier was awake. Narcolepsy can last a lifetime, but many people with this disorder can learn to function despite feeling tired.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcolepsy attack, the individual may also experience sleep paralysis, vivid dreams, and hallucinations. Narcolepsy is often diagnosed when an individual experiences at least three out of the following symptoms: sudden sleep attacks, sleep paralysis, helpless sleep, and vivid dreams or hallucinations. \n\nThough none of the other conditions are characterized by uncontrollable episodes of falling asleep during the day, I can explain them briefly for completeness.\n\nOption (A). Dyslexia is a learning disorder that makes it difficult to learn to read and spell, but it is unlikely to result in someone falling asleep during the day.\n\nOption (B). Epilepsy is a seizure disorder caused by abnormal electrical activity in the brain, and it is characterized by sudden onset of sensory disturbances, loss of consciousness, or convulsions. Epilepsy could in some rare cases cause someone to pass out and temporarily sleep, but not the continuous sleepiness seen in narcolepsy.\n\nOption (C). Hydrocephalus is a condition that causes the brain to swell because of too much cerebrospinal fluid in the brain cavities. The condition can lead to increased head size and trouble with cognitive abilities, but it does not directly cause someone to fall asleep inappropriately during the day.<|end_of_text|>",'The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcolepsy attack, the individual may also experience sleep paralysis, vivid dreams, and hallucinations. Narcolepsy is often diagnosed when an individual experiences at least three out of the following symptoms: sudden sleep attacks, sleep paralysis, helpless sleep, and vivid dreams or hallucinations. \n\nThough none of the other conditions are characterized by uncontrollable episodes of falling asleep during the day, I can explain them briefly for completeness.\n\nOption (A). Dyslexia is a learning disorder that makes it difficult to learn to read and spell, but it is unlikely to result in someone falling asleep during the day.\n\nOption (B). Epilepsy is a brain disorder caused by sudden bursts of electrical activity in one or more areas of the brain, which cause seizures. Seizures can vary greatly from person to person and cannot be characterized as "episodes of falling asleep during the day".\n\nOption (C). Hydrocephalus is a condition where there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain cavities (ventricles). This condition can lead to increased pressure on the brain, which may cause headaches, nausea, double vision, and balance issues. Like the other options, it is unrelated to uncontrollable episodes of falling asleep during the day.<|end_of_text|>',"The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the brain's ability to regulate sleep-wake cycles.  \n\nNarcolepsy is caused by a problem with the portions of the brain that control sleep cycles  \n\nNarcolepsy may result from a deficiency of the wakefulness-promoting neurotransmitter hypocretin.\n\nMany people with narcolepsy have sleepDifficulty interpreting complex written text for those who have narcolepsy because they fall asleep so<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcoleptic attack, people may sleep for very short periods, usually from 20 to 30 seconds to several minutes. Contrarily, the other three conditions do not involve falling asleep/sleeping.\n\nHence, the answer is D.<|end_of_text|>","The correct answer is D. \nThe answer is D. Narcolepsy. Narcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness. Narcoleptic individuals may experience sudden sleep attacks during the day, often without warning. Narcolepsy is caused by a lack of the hypothalamic neurotransmitter hypocretin, which regulates sleep-wake cycles.\n\nNarcolepsy is part of a group of disorders known as hypersomnias of central origin, which are characterized by excessive sleepiness unrelated to time of day, sleep schedule, lack of sleep, or normal circadian rhythms. Despite the normal amount of overall sleep, narcolepsy is typified by the persistent inability to stay awake, and in many patients, sudden sleep attacks during the day.\n\nNarcolepsy is a paraphilia, and it is for this reason that it is difficult to provide proper answers to this question, but despite its correct answer being narcolepsy the disorder is more rare and similar to dyslexia as you have no real problems in falling asleep and in contrary to porphyria there is no disturbance in the delicate systems in the body.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), and hydrocephalus (C), which present different symptoms, Narcolepsy specifically involves episodes of falling asleep during the day, consistent with its core symptomatology. This makes Narcolepsy the disorder described in the question.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), and hydrocephalus (C), which are disorders affecting language processing, brain\u2019s electrical activity, and fluid around the brain respectively, narcolepsy primarily affects sleep regulation.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), or hydrocephalus (C), which have different presenting symptoms relating to language processing, seizures, and increased fluid in the brain respectively, narcolepsy's primary symptom is excessive daytime sleepiness and cataplexy (sudden loss of muscle tone during wakefulness triggered by strong emotions). Consequently, my answer is D.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), or hydrocephalus (C), which have different presenting symptoms involving brain function and structure, narcolepsy primarily disrupts the proper functioning of sleep cycles.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), or hydrocephalus (C), which are related to specific issues in learning, seizures, or fluid in the brain, respectively, narcolepsy is specifically focused on sleep regulation. Narcolepsy is often associated with cataplexy, sleep paralysis, vivid nightmares, and waking hallucinations, along with excessive daytime sleepiness.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia (A), which is a learning disorder related to language and reading, epilepsy (B), which is a brain disorder characterized by recurrent seizures, and hydrocephalus (C), which is a condition involving an abnormal accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by an inability to regulate sleep-wake cycles. It is characterized by excessive daytime sleepiness and sudden sleep attacks. Narcolepsy is often misdiagnosed as epilepsy, but it is not considered a disorder of excessive nighttime sleepiness.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia (A), which is a learning disorder related to language and reading, epilepsy (B), which is a brain disorder characterized by recurrent seizures, and hydrocephalus (C), which is a buildup of fluid in the brain that leads to increased pressure on the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia, which is a learning disorder affecting the ability to read, epilepsy, which is a neurological disorder characterized by recurrent seizures, and hydrocephalus, which is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia, which is a learning disorder affecting the ability to read, epilepsy, which is a neurological disorder characterized by recurrent seizures, and hydrocephalus, which is an abnormal accumulation of cerebrospinal fluid in the skull, causing increased pressure on the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by excessive daytime sleepiness and cataplexy, which is a sudden loss of muscle tone while awake. People with narcolepsy may experience uncontrollable episodes of falling asleep during the day, despite getting enough sleep at night.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia, which is a learning disorder affecting the ability to read, epilepsy, which is a neurological disorder characterized by recurrent seizures, and hydrocephalus, which is an abnormal accumulation of cerebrospinal fluid in the skull, causing increased pressure on the brain. Narcolepsy is the only option on the list that specifically describes the uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia, which is a learning disorder affecting the ability to read, epilepsy, which is a neurological disorder characterized by recurrent seizures, and hydrocephalus, which is an abnormal accumulation of cerebrospinal fluid in the skull, causing increased pressure on the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes during the day. The disorder affects the brain's ability to regulate sleep-wake cycles, leading to frequent and sudden sleep attacks. Symptoms typically include excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or waking. Narcolepsy is generally caused by a deficiency of the hypothalamus neurotransmitter hypocretin, which regulates sleep and alertness.\n\nMy reasoning is that the other disorders featured in the choices - Dyslexia (option A), Epilepsy (option B), and Hydrocephalus (option C) - refer to different conditions that do not involve episodes of falling asleep during the day but rather pertain to learning difficulties, seizure disorders, and brain swelling, respectively. Narcolepsy is a unique disorder specifically characterized by the uncontrolled falling asleep daytime symptoms and other typical features as mentioned above.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes during the day. The disorder affects the brain's ability to regulate sleep-wake cycles, leading to frequent and sudden sleep attacks. Symptoms typically include excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or waking. Narcolepsy is generally caused by a deficiency of the hypothalamus neurotransmitter hypocretin, which regulates sleep and alertness.\n\nMy reasoning is that the other disorders featured in the choices - Dyslexia (A), which involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words; Epilepsy (B), a neurological disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain; and Hydrocephalus (C), a condition where there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure within the skull - do not share the same characteristic of uncontrollable episodes of falling asleep during the day.\nSo, the answer is D. Narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a chronic neurological disorder that affects a person's ability to regulate sleep-wake cycles. It is characterized by excessive daytime sleepiness and sudden sleep attacks, which can lead to loss of muscle control, sleep paralysis, and vivid and often frightening dreaming. It's an automatic response from the body, which happens suddenly, and the person can't control it at all. <|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes during the day. The disorder affects the brain's ability to regulate sleep-wake cycles normally.\n\nOption A: Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nOption B: Epilepsy is a brain disorder in which a person has repeated seizures over time.\n\nOption C: Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlarged ventricles and increased intracranial pressure.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes during the day. The disorder affects the brain's ability to regulate sleep-wake cycles normally.\n\nOption A: Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nOption B: Epilepsy is a brain disorder in which a person has repeated seizures over time.\n\nOption C: Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and increased intracranial pressure within the skull.\n\nHence, the letter corresponding to the correct option is D. In humans, the bone that forms the lower back is called the coccyx.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep attacks. It is a complex condition that involves the brain's ability to regulate a person's sleep-wake cycle, and it is often accompanied by other sleep disturbances such as cataplexy, sleep paralysis, and vivid hallucinations during drowsiness or sleep.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. It is caused by a dysfunction in the brain's ability to regulate sleep-wake cycles.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. It is caused by a dysfunction in the brain's ability to regulate sleep-wake cycles. \n\nMy reasoning process was as follows:\n\n- Narcolepsy involves uncontrollable episodes of falling asleep during the day.\n- Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness.\n- Other conditions listed, including Dyslexia, Epilepsy, and Hydrocephalus, are not characterized by uncontrollable episodes of sleep.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. It is caused by a dysfunction in the brain's ability to regulate sleep-wake cycles. \n\nMy reasoning process was as follows:\n\n- Narcolepsy involves uncontrollable episodes of falling asleep during the day.\n- Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness.\n- Narcolepsy is a dysfunction in the brain\u2019s ability to regulate sleep-wake cycles.\n\nTherefore, the correct answer is D. Narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. It is caused by the brain's inability to regulate sleep-wake cycles effectively.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is marked by excessive daytime sleepiness and abrupt sleep attacks that can occur at any time. The disorder disrupts daytime activities, and can cause significant disruption in everyday life, including when to go to sleep and time of sleep during the night.  <|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is marked by chronic sleepiness and disruptions in the ability to sleep and stay awake during the day. <|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as during meals, conversations, or while driving. Patients with narcolepsy may also experience sleep paralysis, vivid dreams during sleep, and cataplexy, which is a sudden loss of muscle tone while awake. Narcolepsy is a chronic condition that typically remains throughout a person's life.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as during meals, conversations, or while driving. Patients with narcolepsy may also experience sleep paralysis, vivid dreams during sleep, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy is caused by disturbances in the brain's ability to regulate sleep-wake cycles, and it is thought to be related to a shortage of a chemical called hypocretin. In severe cases, narcolepsy can cause significant impairment in daily functioning and quality of life. Treatment Options :\n\nThese include medications, lifestyle modifications, and behavioral interventions such as :\n1. Stimulants like modafinil or armodafinil that can Increase alertness.\n2. Selective serotonin reuptake inhibitors (SSRIs) like SSRIs like fluoxetine or venlafaxine that can Reduce cataplexy.\n3. Sleep monitoring to Optimizes Sleep Hygiene.\n4. Regular, scheduled naps and Regular physical activities and Avoiding alcohol, tobacco, and caffeine. Thus, the correct answer is D. Narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as during meals, conversations, or while driving.\n\nThe other options are not related to uncontrollable episodes of falling asleep during the day.\n\n(Narcolepsy, as a sleep disorder that involves excessive sleepiness during the day, differs from the other options: Dyslexia is a learning disorder that impairs a person's ability to read; Epilepsy is a neurological disorder that involves recurrent seizures (previously known as fits); Hydrocephalus is an abnormal accumulation of cerebrospinal fluid within the brain, leading to ventricular enlargement and increased intracranial pressure.)\n\nSo, the answer is D, narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as during meals, conversations, or while driving. Patients with narcolepsy may also experience sleep paralysis, vivid dreams during sleep, and cataplexy, which is a sudden loss of muscle tone while awake.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as while eating, driving, or conversing. It is also often accompanied by sleep paralysis, hypnagogic hallucinations, and cataplexy. Meanwhile, Dyslexia (A) is a learning disorder characterized by difficulties with reading and writing that are not due to an intellectual problem. Epilepsy (B) a neurological disorder in which the individual experiences recurrent seizures caused by abnormal electrical activity in the brain. Hydrocephalus (C) is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid within the brain, leading to enlargement of the brain and increased intracranial pressure, resulting in potentially harmful effects on brain function.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as while eating, driving, or conversing. It is also often accompanied by sleep paralysis, hypnagogic hallucinations, and cataplexy. Meanwhile, Dyslexia (A) is a learning disorder characterized by difficulties with reading and writing that are not due to an intellectual problem. Epilepsy (B) a neurological disorder in which the individual experiences recurrent seizures. Hydrocephalus (C) is a condition in which excess cerebrospinal fluid causes the ventricles in the brain to enlarge, putting pressure on the brain and causing neurological symptoms. <|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as while eating, driving, or conversing. It is also often accompanied by sleep paralysis, hypnagogic hallucinations, and cataplexy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by uncontrollable episodes of falling asleep during the day, even when that is inappropriate or dangerous.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that causes a person to have excessive daytime sleepiness, frequent daytime sleep attacks, and other sleep-related symptoms. Narcolepsy is often associated with periods of unstoppable sleep during the day.\nAnother choice is A). Dyslexia.\nDyslexia is a learning disorder characterized by trouble with the skills needed to understand and process language. It can cause problems with reading, writing, and spelling. \nThe other two options, B. Epilepsy and C. Hydrocephalus, are disorders that affect the brain, but do not involve abnormally long periods of sleep.<|end_of_text|>","The answer is D). Narcolepsy.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The answer is D. Narcolepsy. Why? Narcolepsy is a disorder of the central nervous system that causes overwhelming daytime sleepiness and difficulties with nighttime sleep. It is often called an information speed-up syndrome. It's critical to note that the others share no such link. \n\n<|end_of_text|>","The answer is D). Narcolepsy.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep patterns and can cause sudden sleep attacks, known as cataplexy, sleep paralysis, vivid dreams and sleep interruptions. It affects about 1 in 2,000 people in the United States and is caused by a deficiency of the brain chemical hypocretin, which regulates sleep-wake cycles, and may have a genetic component.<|end_of_text|>",'The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition that causes excess fluid deep within the brain. Dyslexia is a learning disorder characterized by difficulty with language, with specific difficulty in reading. If the options didn\'t include "Narcolepsy," other conditions like sleep apnea may also cause improper daytime sleepiness. <|end_of_text|>','The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition that causes excess fluid deep within the brain. Dyslexia is a learning disorder characterized by difficulty with language, with specific difficulty in reading. If the options didn\'t include "Narcolepsy," other conditions like sleep apnea may also fit the description of uncontrolled sleep attacks.<|end_of_text|>',"The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in seizures. Dyslexia is difficulty in learning to read but not a like sleep condition. Hydrocephalus is brain damage caused by is a build-up of cerebrospinal fluid in the skull that has nowhere to go.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in seizures. Dyslexia is difficulty in learning to read but not a like sleep condition. Hydrocephalus is an abnormally large head, again affecting the brain, but not sleep.   <|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition that occurs when there is an excess of cerebrospinal fluid in the brain. Dyslexia is a specific learning disability that impairs a person\u2019s fluency to read.<|end_of_text|>","The correct answer is D) Narcolepsy. Narcolepsy is a neurological disorder that causes lack of sleep during the day and at night. The disorder has a complex origin, thought to be autoimmune or genetic and may have a sudden triggering event. Symptoms of this disorder can last the rest of individual's life.\n\nSo, the answer is   D).<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition that occurs when there is an excess of cerebrospinal fluid in the skull. Dyslexia is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition in which the skull becomes enlarged as a result of excess cerebrospinal fluid in the ventricles of the brain. Dyslexia is a learning difficulty that results in problems with accurate and/or fluent word recognition and by poor spelling and decoding abilities.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition in which the skull becomes enlarged as a result of excess cerebrospinal fluid in the ventricles of the brain. Dyslexia is a learning difficulty that results in problems with accurate and/or fluent word recognition and by poor spelling and decoding abilities.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition in which the skull becomes enlarged as a result of excess cerebrospinal fluid in the ventricles of the brain. Dyslexia is a specific learning disability that affects reading ability.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a disorder that causes people to fall asleep unexpectedly during the daytime, often at inappropriate times. This can include episodes of falling asleep while driving, eating, or while engaging in other activities. \n\nNarcolepsy is a neurological sleep disorder that involves a dysfunction in the regulation of sleep-wake cycles. It is often accompanied by vivid and often unsettling dreams upon falling asleep.\n\nA). Dyslexia is a learning disorder that involves difficulty reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by seizures, and it is not related to sleep.\n\nC). Hydrocephalus is a condition in which cerebrospinal fluid accumulates in the brain, causing enlargement of the head and potentially leading to brain damage.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a disorder that causes people to fall asleep unexpectedly during the daytime, often at inappropriate times. This can include episodes of falling asleep while driving, eating, or while engaging in other activities. \n\nNarcolepsy is a neurological sleep disorder that involves a dysfunction in the regulation of sleep-wake cycles. It is often accompanied by vivid and often unsettling dreams upon falling asleep.\n\nA). Dyslexia is a learning disorder that involves difficulty reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by seizures, and it is not related to sleep.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles (fluid-filled spaces) of the brain, leading to increased intracranial pressure and enlargement of the head. It is not related to sleep.<|end_of_text|>","The answer is D.\n\nReasoning: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure in the skull. These conditions do not involve uncontrollable episodes of falling asleep during the day.\n\n\nThe final answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. These conditions are not characterized by excessive daytime sleepiness or episodes of falling asleep.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the ventricles.\n\nSo, the answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy. Narcolepsy is a sleeping disorder associated with a brain abnormality, which has symptoms like excessive daytime sleepiness.<|end_of_text|>","The answer is D. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. During an attack is temporary and the patient usually feels tired or sleepy afterward. Narcolepsy is a result of a problem with the part of the brain that regulates your sleep cycle and the hypothalamus, where the synthesis of melatonin occurs by which hormones related to sleep are produced. These episodes can occur while the person is standing or in the act of speaking. They usually appear between 10 and 23 years, although sleep attacks can occur at any age..<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure. These disorders do not exhibit the symptoms of excessive daytime sleepiness seen in narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a disorder characterized by an abnormal collection of cerebrospinal fluid in the brain, leading to increased intracranial pressure. \n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. So, the correct option is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they connect to letters and words, Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures and Hydrocephalus is a condition in which fluid builds up inside the skull, causing brain enlargement and increased pressure. \n\nThe answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they connect to letters and words, Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nSo, the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they connect to letters and words, Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures and Hydrocephalus that is a buildup of fluid in the brain causing increased intracranial pressure. \n\nFinal answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (B). Epilepsy is a brain disorder in which a person has recurrent, unprovoked seizures (C). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to brain swelling (A).<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Epilepsy is characterized by recurrent, unprovoked seizures, and neither dyslexia nor hydrocephalus involve sleep abnormalities. Epilepsy is a disorder characterized by recurrent, unprovoked seizures, and neither dyslexia nor hydrocephalus involve sleep abnormalities.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they connect to letters and words, Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures and Hydrocephalus that is a buildup of fluid in the brain causing increased pressure.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. The other options mentioned (A Dyslexia, B Epilepsy, C Hydrocephalus) are not characterized by episodes of falling asleep during the day. \n\nReasoning: Narcolepsy is defined by extremely excessive and overwhelming daytime sleepiness.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. The other options mentioned (A Dyslexia, B Epilepsy, C Hydrocephalus) are not related to sleep disorders. D is the correct answer.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and frequent sleep attacks.  Reasons: Other sleeping disorders include dyslexia which means difficulty in reading, epilepsy which is a chronic disorder in which the nervous system is prone to produce sudden, uncontrolled outbursts of electrical activity (which can result in seizures), and hydrocephalus which is the excess accumulation of cerebrospinal fluid (CSF) in the brain.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. The other options mentioned (A Dyslexia, B Epilepsy, C Hydrocephalus) are neurological conditions but do not specifically relate to sleep disturbances. \n\nReasoning: Narcolepsy is characterized by profound and uncontrollable daytime sleepiness, which differs from the symptoms of dyslexia (a language-based learning disability), epilepsy (a condition causing seizures due to abnormal electrical activity in the brain), and hydrocephalus (an abnormal accumulation of cerebrospinal fluid in the brain resulting in increased intracranial pressure).<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulty in reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain that causes increased intracranial pressure.\n\nThus, the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulty in reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain that causes increased intracranial pressure.\n\nThus, the answer is D.<|end_of_text|>",'The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep-related attacks of paralyzed muscles, vivid dreaming (dream enactment), and disturbances in the normal sleep-wake cycle. These attacks are referred to as "sleep attacks". Some sufferers also experience a sudden loss of muscle strength while awake (known as a "cataplexy").\n\nExplanation: Of the listed options, Narcolepsy is the only one that affects excessive daytime sleepiness and sleep attacks. Dyslexia is a learning disorder, Epilepsy is a neurological disorder, and Hydrocephalus is a buildup of cerebrospinal fluid in the brain.\n\nAnswer: D.<|end_of_text|>','The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep-related attacks of loss of muscle strength (cataplexy). Narcoleptic individuals may experience daytime sleepiness, difficulty staying awake when overcome with the need to sleep, or \u201csleep attacks,\u201d and have a predisposition to rapid eye movement (REM) sleep episodes, including sleep paralysis and hypnagogic hallucinations, which are often triggered by rapid changes of sleep-wake states. Although it is often considered to be a life-long condition, symptoms like daytime sleepiness, sleep paralysis, hypnagogic and hypnopompic hallucinations, and cataplexy, may be controllable with medications. Once an adult is diagnosed with narcolepsy, the condition does not subside. Narcolepsy with cataplexy typically has a symptom onset during adolescence.\n\nThe answer was D because that section in the passage provides "characterized by uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy means being "sleepy" a lot<|end_of_text|>',"The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological condition that includes seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. Therefore, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological condition that includes seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n\n\n\n\n<|end_of_text|>","The answer is D. Narcolepsy is a disorder that causes the brain to have sudden sleep attacks. The reasoning is that it is a neurological disorder that can make someone fall asleep uncontrollably throughout the day.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological condition that includes seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to potential brain damage. \n\nThe final answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis.\n\nD. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis.\n\nD. Narcolepsy<|end_of_text|>","The answer is D. Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness.\n\nYour explanation was 42 words long, shorter than the maximum allowed by an AI text-based service, specifically designed for students answering on a cell-phone, which is 73 words. Would you say banned items include food an toy. Which of the categories have the fewest items. Based on your explanation, no banned items are kids\xed sports teams participating in a sporting event, animals, images of banned items, and pages created to ridicule or mock a person or a group of people.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and other symptoms like sleep paralysis, sleepwalking, and vivid dreams. \n\nMoreover, Dyslexia refers to difficulty in learning to read. Epilepsy is a seizure disorder and Hydrocephalus is a condition where enlarged cerebral ventricles increase cerebrospinal fluid pressure within the skull.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness. Episodic sleep attacks during the day are one of the major symptoms.\n\n\nSo the final answer is  D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness. Episodic dyscontrol syndrome is a chronic neurological disorder characterized by sudden aggressive outbursts.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness and REM sleep. People with narcolepsy often experience vivid nightmares and sleep paralysis.\n\nI hope it is correct.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness. Episodic sleep attacks during the day are one of the major symptoms.\n\n\nSo the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness. Episodic sleep attacks during the day are one of the major symptoms.\n\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness, called hypocretin.\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing and processing words. Epilepsy is a chronic disorder involving recurring seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlarged ventricles and disrupted brain function (e.g., headache, confusion, imbalance, and other neurological problems). My final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing and processing words. Epilepsy is a chronic disorder involving recurring seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, causing brain tissue to be compressed. Narcolepsy is the most intriguing choice, in that it involves sleep issues which would be the most relevant to the brain. Narcolepsy is controlled with medicines that are in the CNS.\n\nThe final answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, and it can cause an enlarged and distorted head size. Therefore, the correct answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles, or hollow spaces, of the brain and within the subarachnoid space. Answer D (Narcolepsy).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles, or hollow spaces, of the brain, known as ventriculomegaly. To answer the question, I narrowed the answers to the conditions that do not involve uncontrollable episodes of falling asleep during the day.\n\nD.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles, or hollow spaces, of the brain, known as ventriculomegaly. To answer the question, I narrowed the answers to the conditions that do not involve uncontrollable episodes of falling asleep during the day.\n\nD.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals and nerve pathways involved in regulating sleep. Other symptoms of narcolepsy may include sleep episodes at inappropriate times, and disturbed nighttime sleep. \n\nAnother answer that is true but a little more complicated, is B. Epilepsy may involve uncontrollable daytime sleep episodes in some cases. In fact, epilepsy include multiple conditions characterized by epileptic seizures or periods of symptomatic disrupted brain function, often refers to recurrent, unprovoked seizures. Epileptic seizures are transient occurrences of altered brain function causing involuntary movement, behavioral abnormalities, and in extreme cases, loss of consciousness. A person with an episodic condition may experience several hundreds of seizures over any time period during single weeks, months, or years; afterwards they may be completely normal, though the risk of seizure remains. If seizures are provoked they may be caused by illegal drugs or other factors including absence (childhood epilepsy marked by abrupt halt-childhood without shaking, accompanied by immediate recovery). Idiopathic epilepsy is epilepsy that is not caused by detectable damage to the brain, and assumed to have a genetic (inherited) basis. Most standard diagnoses, however, focus on symptomatic epilepsy cause by provocable episodes that have lasting effects on the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation, and comprehending their meaning. Epilepsy is a seizure disorder that affects the nervous system. Hydrocephalus can involve large fluctuations in blood pressure, including episodes that drop blood pressure dangerously low. Hydrocephalus can occur in babies and children, but rarely causes seizures in adults with strokes or brain tumors in any age group.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid that causes increased pressure on the brain and potential injury to the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is a condition in which the ability to regulate sleep is lost so that normal sleep-wake cycles are disrupted. Narcolepsy is a disorder caused by the brain's inability to control sleep-wake cycles. It is often inherited, although sometimes hypothyroidism may cause a similar condition. Narcolepsy isn't caused by emotional distress, poor sleep habits, or poor lifestyle choices. For many years, doctors and researchers knew that narcolepsy was due to an abnormality in the functioning of the brain, but they couldn\u2019t identify what the problem was. The fact that narcolepsy affects parts of the brain in charge of regulating sleep is common knowledge now. Nerve cells are responsible for sending chemical messages that regulate sleep in these parts of the brain. Healthy individuals have cells that react to these nerve cells and keep them from being triggered at the wrong time. People with narcolepsy may produce the chemical or excessive nerve messages and awaken their nerve cells even when the brain isn\u2019t prepared for them to wake up completely. This could be why most people suffer from sudden urges to sleep during the day when their sleep is disrupted.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid within the ventricles of the brain, which leads to brain swelling and increased intracranial pressure.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid within the ventricles of the brain, which leads to brain swelling and increased intracranial pressure.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences sleep and waking cycles throughout a 24-hour day, separated into two basic stages: REM and non-REM sleep. \nBoth REM and non-REM sleep cycles are experienced during sleep at night as the brain goes through five stages.  \nThroughout the day, other activities keep the mind and body attending to waking activities so that it is not necessary to sleep.\n\nIn cases of narcolepsy, however, the fall asleep occurs involuntarily throughout the day. People experiencing narcolepsy might lose consciousness while reading, watching television, or eating, which is why it is referred to as being "sleepy." \n\nEpilepsy (B) is the second most common neurological disorder, affecting people of all ages. Epileptic episodes are referred to medically as seizures. Those experiencing epilepsy have disorders that disrupt the normal functioning of the brain. \n\nEpilepsy is associated with abnormal electrical surges in the temporal lobes of the diseased brain. Since sleep and waking are controlled in humans by the brain\u2019s temporal lobes, it is reasonable to assume that epilepsy (or seizures) might result in problematic sleeping during both day and night periods, but narcolepsy (or narcolepsy-like seizures) are periods of sleep occurring in the middle of the day in the absence of any epileptic or other type cognitive disorders that could possibly explain the presence of sleep occurring during the day. \n\nHydrocephalus (C), or water on the brain, is the result of an obstruction of the system that absorbs fluid in the brain. Hydrocephalus results in increased fluid pressure (and volume) it presses on the normal brain tissue. Hydrocephalus is medically termed by the medical description of being hydro-, water, and -ceph- head.  \n\nDyslexia (A) is a specific learning disability in which individuals have difficulty with accurate and/or fluent word recognition and poor spelling. Alongside this, they also have problems with reading comprehension. \n\nIt is distinct from problems that arise from lack of instruction, or that stem from other related issues like poor Czech or mental retardation. It treatments exist for dyslexia and is often attributed to problems in the parts of the left side of the brain that process sounds people make when they talk, and generates sounds when people talk of listen to music, to which the right side of the brain responds.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid within the ventricles of the brain, which leads to brain swelling and increased intracranial pressure.\n\nThus, the answer is D. Narcolepsy.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and increased intracranial pressure. Hydrocephalus does not cause sleep episodes.\n\nD). Narcolepsy often leads to excessive daytime sleepiness, which is also known as sleep attacks. Narcolepsy is the correct answer. \n\nThe final answer: D.<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, however, these bouts can occur without warning and even in the middle of an activity.\n\nThe excessive daytime sleepiness associated with narcolepsy is related to dysregulation of the sleep-wake cycle, resulting in an inability to stay awake and alert during the day. In addition to excessive daytime sleepiness, people with narcolepsy may experience disrupted nighttime sleep, sleep paralysis, vivid dreams, and the sudden inability to speak, walk, or move due to muscle weakness.\n\nEpilepsy and hydrocephalus result in sudden and involuntary muscle contractions or increased intracranial pressure, respectively. There is no involuntary or uncontrollable sleep associated with these disorders.\n\nIn the case of dyslexia, there is no sleep disorder associated. The person cannot read, generally because they lack the skills to do so. The disease can coexist with other learning disorders such as ADHD, but the person will not, generally, sleep involuntarily.\n\nThe answer: D.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal collection of cerebrospinal fluid (CSF) in the brain, leading to brain swelling and increased intracranial pressure within the skull. It is not characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>',"The answer is D) Narcolepsy. The reasoning is because narcolepsy is a disorder that causes people to suddenly fall into sleep without warning. Dopamine is responsible for it, and it's often known as \u2018sleeping sickness,\u2019 a hypersomnia that causes attacks of deep sleep due to lower extracellular dopamine levels.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how to use them.\nB). Epilepsy is a neurological disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, thoughts, or consciousness.\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles (fluid-filled spaces) of the brain.<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can be dangerous in some activities. Many narcoleptics experience sleep disturbances, cataplexy, and/or disrupted sleep.\n\nPeople with narcolepsy often have decreased energy and fatigued body at the end of the day, and they will collapse into bed immediately until they fall asleep. Recovery of energy and enthusiasm usually occur after a solid eight our sleep correction.\n\nAnother sign of narcolepsy is a sudden urge to sleep for up to 2 hours.\n\nCIRS study is very important in the diagnosis of narcolepsy, and having a normal result of a CSF study is the best indicator that the patient has narcolepsy. Additionally, a narcolepsy sleep study evaluates other sleep disorders such as sleep apnea syndrome or restlessness syndrome.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonetics). The major symptoms are illiteracy despite normal intelligence and the presence of good schooling.\n\nB). Epilepsy is a neurological disorder characterized by episodes of abnormal, uncontrollable electrical activity in the brain, leading to seizures and other symptoms.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an increased volume in the cranial vault. The primary symptoms of hydrocephalus are related to increased intracranial pressure, including headaches, vision problems, cognitive decline, and difficulties with balance and coordination.\n\nI hope this reasoning is correct, and the correct option is D.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of falling asleep when they\'re awake.\n\nPeople with narcolepsy may also experience other symptoms, such as sleep paralysis, vivid dreaming (known as hypnagogic hallucinations), and cataplexy, in which the muscles suddenly become weak and the person may suddenly drop or slump uncontrollably. Narcolepsy is a chronic disorder that affects a person\'s ability to regulate their sleep-wake cycle.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, which leads to increased intracranial pressure and progressive enlargement of the head (hydrocephalus literally translates to "water on the brain").<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable. Daytime sleep attacks may occur for no apparent reason or triggered by certain emotions. This contrasts with people who doze off at their desk because they're bored and decide to take a nap. Narcolepsy happens when one has an uncontrollable urge to sleep at inappropriate times, at any time, even when they feel rested.\n\nA person with narcolepsy does not intentionally take a nap and may begin the day feeling alert with no warning signs. Sometimes, they fall asleep while eating or driving. Frequent drowsiness throughout the day is often accompanied by nighttime sleep disturbances.\n\nThose with narcolepsy fall into REM sleep almost instantly and enter the cycle of sleep and wakefulness throughout the day. It's fast travel between these stages of sleep, the drowsiness that narcolepsy causes, and weakness that disrupts a person's life in several ways. For example, difficulty staying awake in class or at work leads to lower grades, less productivity, and an increased risk of accidents. People with narcolepsy sometimes also experience sudden sleep attacks in which they may fall asleep suddenly, even while doing an activity like eating or driving.\n\nNarcolepsy is a lifelong condition but can be well managed with medication, lifestyle changes, and working with a sleep specialist.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder that affects reading ability. People with dyslexia often have difficulty recognizing letters or word \u2018sounds\u2019. \n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. A seizure is a sudden, temporary disturbance in the brain's normal electrical activity.\n\nHydrocephalus is a condition in which too much cerebrospinal fluid (CSF) collects in the head and causes the pressure in the head to increase. This uncommon condition can occur when there's a brain mass or when the spinal fluid can't drain properly into the body. Hydrocephalus can cause serious complications<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder that affects reading ability. People with dyslexia often have difficulty recognizing letters or word \u2018sounds\u2019. \n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. A seizure is a sudden, temporary disturbance in the brain's normal electrical activity.\n\nHydrocephalus is a condition in which too much cerebrospinal fluid (CSF) collects in the head and causes the pressure in the head to increase. This uncommon condition is typically caused by a problem with the flow of CSF.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder characterized by difficulties with reading, writing, and spelling, even though one may have adequate intelligence and other cognitive abilities.\n\nEpilepsy is a neurological disorder marked by recurrent, unprovoked seizures. Seizures are sudden surges of electrical activity in the brain, which can cause physical movement, muscle tightness, jerking, or loss of consciousness.\n\nHydrocephalus is a condition characterized by an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, causing the ventricles to enlarge and put pressure on the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder characterized by difficulties with reading, writing, and spelling, even though one may have adequate intelligence and other cognitive abilities.\n\nEpilepsy is a neurological disorder marked by recurrent, unprovoked seizures. Seizures are sudden surges of electrical activity in the brain, which can cause physical movement, muscle tightness, jerking, or loss of consciousness.\n\nHydrocephalus is a condition characterized by an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to increased pressure and the enlargement of the head. Symptoms may include a bulging fontanelle in infants, poor feeding or swallowing, a tense or tight scalp, irritability or tightness in the neck, vomiting, and difficulty walking or balance issues.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day due to a build-up of hypnagogic jerks. When hypnagogic jerks are more pronounced in a person, his or her body may even fall unconscious briefly during a routine test, leaving behind a lasting and debilitating sleep disorder. This may be the root cause behind the distinct symptoms of narcolepsy, such as abrupt sleep attacks, sleep paralysis, vivid nightmares or hypnagogic hallucinations. <|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder characterized by difficulties with reading, writing, and spelling, even though one may have adequate intelligence and other cognitive abilities.\n\nEpilepsy is a neurological disorder marked by recurrent, unprovoked seizures. Seizures are sudden surges of electrical activity in the brain, which can cause physical movement, muscle tightness, jerking, or loss of consciousness.\n\nHydrocephalus is a condition characterized by an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can put pressure on the brain and result in serious neurological complications.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder characterized by difficulties with reading, writing, and spelling, even though one may have adequate intelligence and other cognitive abilities.\n\nEpilepsy is a neurological disorder marked by recurrent, unprovoked seizures. Seizures are sudden surges of electrical activity in the brain, which can cause physical movement, muscle tightness, jerking, or loss of consciousness.\n\nHydrocephalus is a neurological disorder that occurs when there is an abnormal accumulation of cerebrospinal fluid (CSF) around the brain, causing enlarged ventricles and increased pressure on the brain. Symptoms of hydrocephalus include enlarged head size, trouble walking, irritability, developmental delays, poor feeding and sleep problems in infant or small children, blurred or double vision, sleepiness, worsening of other neurological symptoms (e.g., vision or hearing), urinary incontinence.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by sudden, recurrent episodes of sensory disturbances, convulsions or involuntary movement, altered or lost consciousness, behavior changes, and sometimes abnormal mood. It is not related to sleep.\n\nC). Hydrocephalus is a condition in which the cerebrospinal fluid accumulates in the brain, causing enlargement of the ventricles and compressing brain tissue. It is not related to sleep.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a disorder in which nerve cell activity in the brain becomes disrupted, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. It is not related to sleep.\n\nC). Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the skull. It is not related to sleep.\n\nD). Narcolepsy is a neurological disorder that involves the inability to regulate sleep-wake cycles. It is predominantly characterized by excessive daytime sleepiness.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a disorder in which nerve cell activity in the brain becomes disrupted, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. It is not related to sleep.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles (fluid-filled spaces) of the brain. It is not related to sleep.\n\nD). Narcolepsy is a neurological disorder that involves a brain's inability to regulate sleep-wake cycles normally. It is characterized by uncontrollable episodes of falling asleep during the day. \n\nSo, the correct answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a disorder in which nerve cell activity in the brain becomes disrupted, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. It is not related to sleep.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles (fluid-filled spaces) of the brain. It is not related to sleep.\n\nD). Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness, and is related to sleep.\n\nTherefore, the correct answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a disorder in which nerve cell activity in the brain becomes disrupted, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. It is not related to sleep.\n\nC). Hydrocephalus is a disorder that involves an abnormal accumulation of cerebrospinal fluid (CSF) in the brain. It is not related to sleep.\n\nD). Narcolepsy involves excessive daytime sleepiness and is characterized by falling asleep uncontrollably. It is specifically related to sleep.\n\nTherefore, the answer is: D<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is that hypothalamus coordinates intake, conservation and balancing of sleep through interaction with both the sleep/wake regulatory center.  Norepinephrine and Hypocretin are neurotransmitters that are associated with the control narrative and regulate sleep. A genetic underlying basis, like exposure to factors, is an explanation for the development of Narcolepsy. Cataplexy and Hypnogogic hallucinations are different experiences that can also be seen at in Naurolepsy. Other conditions like leukemia or bladder problems are more common in boys. A class of drugs is available in controlling this. These are stimulants, Modafinil and antidepressants, comparagnous to that from a insomnia problem.\n\nAnother option can remove the possibilities getting mixed in when you come to this kind of questions is knowing that they all are related to the brain and thinking that one option does not have anything to do with it.\n\nHere we focus on the description of those disorders, which are dyslexia refers an individuals reading difficulties. Epilepsy has recurrent seizures, hydrocephalus is a disorder that occurs when there is excess cerebrospinal fluid in the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent and unprovoked seizures.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles (fluid-filled spaces) of the brain.\n\nNarcolepsy is the only disorder on the list that is characterized by uncontrollable episodes of falling asleep during the day, putting an emphasis on sleepiness. The other conditions do not have sleepiness as a central feature of their symptoms.   <|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid (CSF) accumulates in the liquid-filled cavities (ventricles) and the subarachnoid spaces of the brain, leading to pressure on the brain.\n\nD). Narcolepsy is a neurological disorder that impairs the ability to regulate sleep-wake cycles. People with narcolepsy often experience excessive daytime sleepiness and sudden sleep attacks.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a brain disorder in which a person has repeated seizures over time. \n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. This condition can cause increased intracranial pressure inside the skull and can be fatal.\n\nD) Narcolepsy is a sleep disorder that involves a constant feeling of drowsiness, sleep attacks, and a loss of muscle tone while awake.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness and sleep attacks, regardless of circumstances. Patients with narcolepsy often have disrupted nighttime sleep and may experience sleep paralysis and vivid dreams. Episodic nocturnal sleep disorders in infancy are characterized by dyslexia, while epilepsy is a brain disorder that causes people to have recurring seizures. Hydrocephalus is a disorder in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain.\n\nSo the answer is: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid (CSF) accumulates in the liquid-filled cavities (ventricles) and the subarachnoid spaces of the brain, leading to pressure on the brain.\n\nD). Narcolepsy is a neurological disorder that impairs the ability to remain asleep, and is characterized by uncontrollable episodes of falling asleep during the day. It is the disorder that fits the description of the option.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy is a disorder that characterizes recurrent, unprovoked seizures.\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure.\n\nSo, B and C are not accurate answers because none of them involve falling asleep during the day uncontrollably compared to narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid (CSF) accumulates in the liquid-filled cavities (ventricles) in your skull, which is usually caused by a blockage of the drainage of CSF or a malformation of the ventricles.\n\nD). Narcolepsy is characterized by nighttime sleep disturbances and daytime sleep attacks. It is a chronic disorder of the central nervous system that causes excessive and overwhelming daytime sleepiness. It can also cause other sleep-wake cycle disturbances, such as sleep paralysis and vivid dreams (nightmares).\n\nThe main difference between the disorder characterized by uncontrollable episodes of falling asleep during the day and the others is that the others do not cause uncontrollable sleep.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid accumulates in the brain, leading to increased pressure and potential damage to the brain.\n\nD). Narcolepsy, characterized by often uncontrollable episodes of falling asleep during the day.\n\nBased on this reasoning, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. It's not characterized by sleepiness.\n\nB).'Epilepsy is a disorder of the brain that causes unexpected and repeated seizures. These seizures happen when clusters of nerve cells, or neurons, in the brain send out the wrong signals. Epilepsy can be linked to cracking headache, but it is not characterized by sleepiness.\n\nC). Hydrocephalus, or water on the brain, is a buildup of excess cerebrospinal fluid (CSF) in the cavities (ventricles) of the brain that leads to brain swelling and increased pressure inside the skull.\n\nD). Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. The disorder can result in a brief loss of muscle strength while the muscle is being used. The automatic behavior occurs. A person with narcolepsy might suddenly slouch or collapse when an arm is let go. Eating, writing, or even speaking can cause such \"sleep attacks.\"<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid accumulates in the brain, leading to increased pressure and potential damage to the brain.\n\nD). Narcolepsy, characterized by often uncontrollable episodes of falling asleep during the day.\n\nThus, the letter corresponding to the correct answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid accumulates in the brain, leading to increased pressure and potential damage to the brain.\n\nD). Narcolepsy, characterized by often uncontrollable episodes of falling asleep during the day.\n\nThus, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonetics). Epilepsy (B) is a chronic disorder that causes unprovoked, recurrent seizures resulting from abnormal electrical activity in the brain. Hydrocephalus (C) is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased pressure on the brain.\n\n<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonetics). Epilepsy (B) is a chronic disorder that causes unprovoked, recurrent seizures resulting from abnormal electrical activity in the brain. Hydrocephalus (C) is a condition in which there is an accumulation of cerebrospinal fluid in the brain, which can lead to an increased intracranial pressure and enlargement of the head.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia is a reading disorder that involves difficulty in recognizing and processing written words. Epilepsy is a seizure disorder caused by abnormal electrical activity in the brain. Hydrocephalus is an buildup of cerebrospinal fluid in the brain causing increased pressure inside the skull. Narcolepsy thus fits the description of the question a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (option A). Epilepsy is a brain disorder in which a person has repeated seizures over time (option B). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain's ventricles (option C).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (option A). Epilepsy is a brain disorder in which neurons in the brain signal abnormally, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness (option B). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid within the ventricles, or cavities, of the brain (option C).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (option A). Epilepsy is a brain disorder in which neurons in the brain signal abnormally, causing seizures or periods of unusual behavior, sensations, and sometimes loss of awareness (option B). Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain\u2019s ventricles (option C).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not related to uncontrollable episodes of falling asleep during the day. Answer: D<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and vivid dreaming during wakefulness.\n\nThe other options A (Dyslexia), B (Epilepsy), and C (Hydrocephalus) are disorders that affect other aspects of the nervous system:\n\nA) Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder marked by sudden, recurrent episodes of seizures.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the cerebral ventricles, leading to increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not related to uncontrollable episodes of falling asleep during the day. Answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not disorders related to uncontrollable episodes of falling asleep during the day.\n\nFor example, Dyslexia (Option A) is a learning disorder characterized by difficulties with reading, writing, and often speaking. Epilepsy (Option B) is a neurological disorder that causes recurrent, unprovoked seizures. Hydrocephalus (Option C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure.\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not disorders related to uncontrollable episodes of falling asleep during the day.\n\nFor example, Dyslexia (Option A) is a learning disorder characterized by difficulties with reading, writing, and often speaking. Epilepsy (Option B) is a neurological disorder that causes recurrent, unprovoked seizures. Hydrocephalus (Option C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure. These are all different types of disorders from Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not disorders related to uncontrollable episodes of falling asleep during the day.\n\nFor example, Dyslexia (Option A) is a learning disorder characterized by difficulties with reading, writing, and often speaking. Epilepsy (Option B) is a neurological disorder that causes recurrent, unprovoked seizures. Hydrocephalus (Option C) is an increase in cerebrospinal fluid (CSF) within the brain, which leads to pressure on the brain tissues and various neurological symptoms. Therefore, the correct answer to the question is D).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, and other symptoms such as sleep paralysis and vivid nightmares.\n\nThe other disorders mentioned in the multiple-choice question (A, B, C) are not specifically characterized by uncontrollable episodes of falling asleep during the day:\n\nA). Dyslexia: Dyslexia is a learning disorder that specifically affects the ability to read and process language. It is not related to sleep disorders.\nB). Epilepsy: Epilepsy is a neurological disorder characterized by recurrent seizures. While some seizures can involve changes in sleep patterns, they are not primarily defined by uncontrollable sleep episodes.\nC). Hydrocephalus: Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged head size and increased intracranial pressure. It is not related to sleep disorders.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, and other symptoms such as sleep paralysis and vivid nightmares.\n\nThe other disorders mentioned in the multiple-choice question (A, B, C) are not specifically characterized by uncontrollable episodes of falling asleep during the day:\n\nA). Dyslexia: Dyslexia is a learning disorder that specifically affects the ability to read and process language. It is not related to sleep disorders.\n\nB). Epilepsy: Epilepsy is a neurological disorder characterized by sudden, recurrent episodes of abnormal brain activity that can result in seizures. Although seizures can sometimes include sudden changes in sleep patterns, epilepsy itself is not specifically related to uncontrollable sleep episodes.\n\nC). Hydrocephalus: Hydrocephalus is a condition in which there is an excessive buildup of cerebrospinal fluid (CSF) in the brain, causing an enlargement of the ventricles. Symptoms can include increased intracranial pressure, headache, vomiting, sleep disturbances, and mental changes. However, it is not specifically characterized by uncontrollable episodes of falling asleep during the day.\n\nD). Narcolepsy: Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, and other symptoms such as sleep paralysis and vivid nightmares.\n\nTherefore, the correct option is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy may experience excessive daytime sleepiness, sudden sleep attacks, and difficulty maintaining wakefulness. It is a chronic condition that often requires treatment to manage symptoms effectively. The condition is characterized by excessive daytime sleepiness, sleep paralysis, and sleep behaviors that occur during the day.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities. \n\nDyslexia is a learning disorder that affects the ability to read. Dyslexia is caused by problems understanding language and decoding written words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Seizures are sudden, abnormal disturbances of brain function that can result in changes in sensations, emotional responses, impaired consciousness, or abnormal motor movements. Epilepsy typically requires ongoing treatment to control seizures, although many people with the disorder achieve good control of their seizures with proper treatment.\n\nHydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) within the cavities (ventricles) of the brain. This can lead to an increased intracranial pressure, which can be harmful and result in neurological abnormalities.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities. \n\nDyslexia is a learning disorder that affects the ability to read. Dyslexia is caused by problems understanding language and decoding written words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Seizures are sudden, abnormal disturbances of brain function that can result in changes in sensations, emotional responses, impaired consciousness, or abnormal motor movements. Epilepsy typically requires ongoing treatment to control seizures, although many people with the disorder achieve good control of their seizures with proper treatment.\n\nHydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) within the cavities (ventricles) of the brain. This can lead to an increased intracranial pressure (pressure inside the skull) and potentially cause brain damage or death. Hydrocephalus can have a variety of severity levels depending upon the rate of increase of the fluid accumulation and the presence or absence of pre-existing or functional brain impairment.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities. \n\nDyslexia is a learning disorder that affects the ability to read. Dyslexia is caused by problems understanding language and decoding written words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Seizures are sudden, abnormal disturbances of brain function that can result in changes in sensations, emotional responses, impaired consciousness, or abnormal motor movements. Epilepsy typically requires ongoing treatment to control seizures, although many people with the disorder achieve good control of their seizures with proper treatment.\n\nHydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) within the cavities (ventricles) of the brain. This can lead to enlargement of the cranium, increased intracranial pressure, impairment of brain function, and developmental or intellectual delays. Hydrocephalus is often caused by congenital abnormalities, brain infections or injuries, tumors, or hemorrhage. Management of hydrocephalus typically involves surgery, such as shunting procedures, to provide a pathway for the CSF to drain.\n\nTherefore, the correct answer is: D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities. \n\nDyslexia is a learning disorder that affects the ability to read. Dyslexia is caused by problems understanding language and decoding written words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Seizures are sudden, abnormal disturbances of brain function that can result in changes in sensations, emotional responses, impaired consciousness, or abnormal motor movements. Epilepsy typically requires ongoing treatment to control seizures, although many people with the disorder can lead normal lives.\n\nHydrocephalus is a condition where there is too much cerebrospinal fluid (CSF) in the brain. This can occur due to obstructions in the flow of CSF, defects in the brain that cause more CSF to be produced than the brain can absorb, or the overproduction of CSF. The excess CSF can put pressure on the brain, damaging it and leading to various symptoms.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy often sleep around 15 hours a day, but they still feel drowsy throughout the day. Some people with narcolepsy start to fall asleep in the middle of conversations or tasks. Some people with narcolepsy describe their sleep attacks as a need to sleep that is so overwhelming it is impossible to resist. Symptoms of narcolepsy include sudden sleep attacks, vivid dreams, "sleep paralysis," strange sleep-related hallucinations, and cataplexy. Cataplexy is a sudden loss of muscle tone when a person is awake, often triggered by emotions like laughter or anger. It can cause a person to collapse or become very weak for a few seconds to a few minutes.\n\nNarcolepsy occurs when a part of the brain that controls sleep-wake cycles malfunctions. This can be due to a combination of genetic and environmental factors. It is a chronic condition, but treatment can significantly improve symptoms. Treatments may include lifestyle changes, such as sticking to a regular sleep schedule and avoiding alcohol and caffeine. Medications, such as stimulants and antidepressants, can also help. Some people undergo therapy, such as cognitive behavioral therapy for insomnia (CBT-I) or narcolepsy (CBT-n), to learn how to manage their symptoms. Adaptive devices, like travel alarm clocks and specially designed sleep masks, can help people with narcolepsy practice good sleep hygiene.<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, as well as sleep attacks.\n\nTherefore, the final answer is: Narcolepsy (D).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.\n\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the ventricles of the brain. \n\nSo the final answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the ventricles.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an excess of cerebrospinal fluid in the brain, causing increased intracranial pressure.\n\nThe answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlarged head size. Narcolepsy specifically mentions uncontrollable episodes of falling asleep during the day, a symptom not typically associated with dyslexia, epilepsy, or hydrocephalus. Thus, the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlargement of the skull.\n\nD.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlarged head size. Narcolepsy specifically mentions uncontrollable episodes of falling asleep during the day as a symptom, which is the characteristic of Narcolepsy. <|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlarged head size. Narcolepsy specifically mentions uncontrollable episodes of falling asleep during the day as a symptom.\n\nD<|end_of_text|>","The answer is D. Narcolepsy. Narcolepsy is a neurological disorder characterized by uncontrollable sleep episodes during the day, although other symptoms, such as sleep paralysis and cataplexy, are more common.\n\n\n<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlarged head size. Narcolepsy specifically mentions uncontrollable episodes of falling asleep during the day as a symptom. Dyslexia, epilepsy, and hydrocephalus do not have this symptom listed.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to language and reading. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, causing it to expand, thus putting pressure on the brain.\n\nSo, the correct answer is D).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the answer choices by eliminating conditions that do not cause episodes of falling asleep during the day, such as dyslexia, epilepsy, or hydrocephalus. \n\nNext, I identified the defining symptoms of narcolepsy: excessive daytime sleepiness and other sleep-related disturbances like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone during REM sleep). \n\nFinally, I recognized that the modality of presentation for narcolepsy (sleepiness) is not the same as dyslexia (reading difficulties), epilepsy (seizure disorder), or hydrocephalus (increased intracranial pressure). \n\n\n<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the answer choices by eliminating conditions that do not cause episodes of falling asleep during the day, such as dyslexia, epilepsy, or hydrocephalus. \n\nNext, I identified the defining symptoms of narcolepsy: excessive daytime sleepiness and other sleep-related disturbances like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone during strong emotions).\n\nFinally, I confirmed that these symptoms correspond to narcolepsy, which made it the correct answer.\n\nD<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the possibilities to two, since dyslexia (A) and narcolepsy (D) are a learning and a sleep disorder, respectively. \n\nThen I expanded my focus to include seizures and skull issues.\n\nSince the question asks about a \"neurological disorder\" and narcolepsy falls under this tier, and it is characterized by needing Map other of sleep, whereas, even though epilepsy is a neurological disorder it doesn't affect the need for sleep. Adding to it, hydrocephalus medically isn't a disorder, it's a condition that is caused by either a damming of the cerebrospinal fluid or an issue with the creation of cerebrospinal fluid from the brain.\n\nFinal answer: D.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that affects a person\'s ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the answer choices by eliminating conditions that are not related to uncontrollable episodes of sleep or sleep-wake cycle regulation disorders. I was left with options that are associated with excessive daytime sleepiness. Then, I selected the answer choice in which the condition falls naturally (Narcolepsy).\n\nHence, the answer is D: "Narcolepsy".<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that affects a person\'s ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the answer choices by eliminating conditions that do not cause episodes of falling asleep during the day, such as dyslexia, epilepsy, or hydrocephalus. \n\nNext, I identified the defining symptoms of narcolepsy: excessive daytime sleepiness and other sleep-related disturbances like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone), which align with the characterization of "uncontrollable episodes of falling asleep during the day." \n\nLastly, I confirmed that no other diseases mentioned in the options have such symptoms. Therefore, the answer is D.<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to solve the problem.\n\nI completed the task correctly.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to language, and it is not sleep-related. \n\nEpilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Epilepsy does not typically cause involuntary sleep episodes.\nHydrocephalus is an abnormal buildup of cerebrospinal fluid within the skull that leads to increased intracranial pressure. It is not associated with sleep disturbances.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a brain disorder involving repeated, unprovoked seizures, and Hydrocephalus is a disorder caused by the accumulation of cerebrospinal fluid in the brain. \n\nNarcolepsy\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a brain disorder involving repeated, unprovoked seizures, and Hydrocephalus is a disorder caused by the accumulation of cerebrospinal fluid that results in a distorted brain shape. Hence, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a brain disorder that causes frequent, recurring seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain. Narcolepsy is the only option that is characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricular system and increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person\u201fs ability to regulate sleep-wake cycles. Narcolepsy is characterized by extreme sleepiness and other sleep-related disturbances. Narcolepsy often has its onset during adolescence or early adulthood, with patients reporting difficulty staying awake in school, work, or when driving in cars. Narcolepsy is a chronic disorder that requires a lifetime of symptomatic management.\n\nBest regards,<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a disorder in which brain activity becomes abnormal, leading to seizures or periods of unusual behavior, and Hydrocephalus is a condition caused by an excessive buildup of cerebrospinal fluid (CSF) in the brain's ventricles. This causes the ventricles to enlarge, putting pressure on the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the ventricles.\n\nD<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition involving an abnormal accumulation of cerebrospinal fluid in the brain.\n\nTherefore, the correct answer is: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition that involves an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate brain functions associated with sleep and wakefulness.  Sleep attacks are common among people with narcolepsy. D and A are answer choices which do not offer any information about falling asleep uncontrollably. B and C do not describe sleep disorders.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a chronic sleep disorder characterized by excessive daytime sleepiness and other sleep disturbances. \n\nMy reasoning is that Narcolepsy is marked by an irresistible urge to sleep and brief sleep attacks, usually lasting from a few seconds to around half an hour.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure. \n\nSo the answer is D.<|end_of_text|>","The answer is D Narcolepsy. Narcolepsy is a sleep disorder that involves excessive daytime sleepiness and sudden sleep attacks. I reached this conclusion by knowing that Narcolepsy is a neurological disorder involving a dysregulation of REM sleep triggering mechanisms causing sudden sleep episodes.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in ventricles, brain cavities, or brain tissues.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid around the brain, causing increased pressure within the skull. <|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols. Epilepsy is a central nervous system disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure in the skull and potential damage to brain tissue.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols. Epilepsy is a central nervous system disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, which can cause increased intracranial pressure, enlargement of the brain, and potential damage to the brain tissues. \n\nThus, the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols. Epilepsy is a central nervous system disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure within the skull.\n\n\n<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to an increase in intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure inside the skull. I hope it is correct.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to an increase in intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to an increase in intracranial pressure and potential enlargement of the brain.Also, Narcolepsy is caused by the dysfunction of the hypothalamus or brainstem areas that regulate sleep and arousal.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nExplanation: Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness and sudden sleep attacks. It affects the brain's ability to regulate sleep-wake cycles, leading to difficulty staying awake and alert during the day. The symptoms typically include cataplexy, sleep paralysis, and vivid dreaming while falling asleep (hypnagogic hallucinations) or waking up (hypnopompic hallucinations).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nExplanation: Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness and sudden sleep attacks. It affects the brain's ability to control sleep-wake cycles. Symptoms of narcolepsy include excessive daytime sleepiness, sudden sleep attacks, sleep paralysis, hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy is caused by a decrease in the production of the neurotransmitter hypocretin, which regulates sleep-wake cycles. A study published in the Journal of Neuroscience found that people with narcolepsy have lower levels of hypocretin in their brains, and that the loss of hypocretin neurons in a region of the brain called the hypothalamus is responsible for their sleep-wake disturbances. Narcolepsy is not related to dyslexia, epilepsy, or hydrocephalus.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nExplanation: Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness and sudden sleep attacks. It affects the brain's ability to regulate sleep-wake cycles, leading to difficulties in maintaining alertness and staying awake during the day.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nExplanation: Narcolepsy is characterized by excessive daytime sleepiness, sleep attacks, and a strong urge to sleep at inappropriate times. \n\nOther diseases such as schizophrenia have misdiagnosed secondary symptoms as narcolepsy. However, the most common misdiagnosis of narcolepsy is Epilepsy, which is the context for option B. \n\nOnly Epilepsy is an option that gives a mood description similar to option A (dyslexia) and option C (hydrocephalus). \n\nAs narcolepsy tears down the wall that keeps the patient in a state of consciousness, the symptoms presented by Epilepsy have different presentations in the waking state and are comorbid narcoleptic qualities. However, epilepsy is still physically motivated by neurological irregularities rather than mood or immune system causes; these conditions all present as uncontrollable episodes of sleepiness.\n\nBoth dyslexia and hydrocephalus are medical terms describing a cognitive or movement disorder, the former due to a developmental acquisition disconnect, while the latter from a hydrocephaly or chronic fluid accumulation. Both of these disorders cannot be seen to be a sleeping disorder such as narcolepsy. \n\nDyslexia is a language-based learning disability. There is no connection between it and sleep.\n\nHydrocephalus is the accumulation of fluid in the brain. As there are no circadian rhythms that the hydrocephalus should effect, there cannot be called the former a sleeping disorder like narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nSleep doctors evaluate other causes of excessive daytime sleepiness, including depression or obstructive sleep apnea (awakening in the night because of blocked airways).\n\nYoung adults tend to experience narcolepsy earlier in life than people in other age groups.\n\nPeople with narcolepsy usually experience four types of sleep problems.\n\nOptions (A, B, and C) are not associated with uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder. Epilepsy involves sudden, recurrent, unprovoked seizures. Hydrocephalus is an enlargement of the fluid spaces in the brain.\n\nSo, the answer is D).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy (D)\n\nDuring the day, the brain lacks the ability to properly regulate sleep-wake cycles, leading to excessive daytime sleepiness. This can manifest as sudden and uncontrollable episodes of falling asleep.\n\nNarcolepsy (D)<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a complex sleep disorder caused by the brain's inability to regulate sleep-wake cycles properly. Central nervous system functions are disrupted, leading to excessive sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or offset.\n\nNarcolepsy is a lifelong condition, and it can have a significant impact on a person's daily life. The exact causes of narcolepsy are not known, but it is believed to be related to a combination of genetic and environmental factors.\n\nDyslexia (A) is a learning disorder characterized by difficulty with reading. Epilepsy (B) is a neurological disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an excess of cerebrospinal fluid in the brain, leading to increased pressure within the skull.\n\nTherefore, the correct answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a complex sleep disorder caused by the brain's inability to regulate sleep-wake cycles properly. Central nervous system functions are disrupted, leading to excessive sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or offset.\n\nNarcolepsy is a lifelong condition, and it can have a significant impact on a person's daily life. The exact causes of narcolepsy are not known, but it is believed to be related to a combination of genetic and environmental factors.\n\nDyslexia (A) is a learning disorder characterized by difficulty with reading. Epilepsy (B) is a neurological disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an excess of cerebrospinal fluid in the skull, leading to increased pressure on the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a complex sleep disorder caused by the brain's inability to regulate sleep-wake cycles properly. Central nervous system functions are disrupted, leading to excessive sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or offset.\n\nNarcolepsy is a lifelong condition, and it can have a significant impact on a person's daily life. The exact causes of narcolepsy are not known, but it is believed to be related to a combination of genetic and environmental factors.\n\nTo treat narcolepsy, doctors may prescribe medications to help manage sleepiness and other symptoms. Lifestyle changes, such as maintaining a regular sleep schedule and avoiding stimulants, can also help.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a complex sleep disorder caused by the brain's inability to regulate sleep-wake cycles properly. Central nervous system functions are disrupted, leading to excessive sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or offset.\n\nNarcolepsy is a lifelong condition, and it can have a significant impact on a person's daily life and functioning, including their ability to work, drive, and maintain relationships. Treatment typically involves a combination of medication, behavioral therapy, and lifestyle changes.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. The other options (A, B, C) are entirely unrelated to sleep regulation and would not cause uncontrollable episodes of falling asleep during the day. Therefore, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) within the ventricles of the brain.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and uncontrollable episodes of falling asleep during the day. The answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) within the ventricles of the brain.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and uncontrollable episodes of falling asleep during the day.\n\nTherefore, the answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) within the Dahlberg cavity (the space between the brain and the skull) that results in enlargement of the head.\n\n\nDyslexia, Epilepsy, and Hydrocephalus are not neurological disorders characterized by uncontrollable episodes of falling asleep during the day such as Narcolepsy. Therefore the correct answer is D<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased intracranial pressure and distension of the ventricles and other spaces in the brain.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo the correct answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain; the condition is characterized by advancing head growth in infants or a rapid onset of confusion, impaired alertness and headache in adults.\n\nNarcolepsy is a sleep disorder that affects a person's ability to sleep well at night and stay awake during the day. This disorder causes extreme sleepiness during the day and in severe cases even attacks of sudden and complete loss of muscle strength (cataplexy).\n\nThus, the answer to the question is D, Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain; the condition is characterized by advancing head growth in infants or a rapid onset of confusion, impaired alertness and headache in adults.\n\nNarcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden attacks of sleep in inappropriate situations. Narcolepsy has been associated with a decrease in the levels of hypocretin, a neurotransmitter in the brain responsible for regulating sleep-wake cycles.\n\nThe answer is D. Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that causes seizures. Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo the answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that causes recurrent seizures. Hydrocephalus is a condition in which cerebrospinal fluid accumulates in the brain, which leads to a distortion of the brain's size and capacity. Narcolepsy is a disorder that affects your ability to briefly fall asleep. Narcolepsy is also often characterized by sleep paralysis and vivid dreams upon falling asleep and waking up. The answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.  Epilepsy is a brain disorder that causes seizures, seizures are caused by the temporary, involuntary, excess electrical energy in your brain.   Hydrocephalus is a build-up of fluid in the brain, this situation causes the ventricles (fluid-filled cavities) in the brain to enlarge, putting pressure on the tissues of the brain.  Lastly, Narcolepsy involves an uncontrollable desire to sleep, this disorder affects your ability to stay awake and alert during the day, sometimes accompanied by sleep episodes that occur without warning. The correct answer is: D. Narcolepsy.<|end_of_text|>","Dyslexia is a disorder like difficulty in reading despite normal intelligence and more effort is needed. Epilepsy seizures happen when clusters of nerve cells in the brain send out the wrong signals. Hydrocephalus is a condition where cerebrospinal fluid builds up in the brain. Narcolepsy is characterized by the victim falling asleep even involuntary at times because the sleep-regulating mechanism in the brain isn't working to its fullest.\n\nSo, the correct answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that causes seizures. Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures. Hydrocephalus is a medical emergency characterized by an enlarged head, increased intracranial pressure and decline in brain tissue. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness and is often accompanied by sudden sleep attacks, sleep paralysis, vivid nightmares and the inability to stay awake for long periods of time.\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that causes seizures. Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle. People with narcolepsy often experience excessive daytime sleepiness, sleep attacks, and other symptoms such as sleep paralysis and vivid dream-like hallucinations during sleep onset or waking.\n\nSo, the correct option is (D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is marked by excessive sleepiness, and the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can lead to seizures. Hydrocephalus is a disorder in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the brain ventricles and progressive enlargement of the head. Narcolepsy is a disorder of the nervous system that affects the regulation of sleep. The disorder causes a person to suddenly fall asleep at inappropriate times, such as during conversation or while driving.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle. People with narcolepsy often experience excessive daytime sleepiness, sleep attacks, and other symptoms such as sleep paralysis and vivid dream-like hallucinations during sleep onset or waking.\n\nSo, the correct option is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle, causing excessive daytime sleepiness. Episodes of sleep occur at unexpected times, such as during conversation, in the middle of being active, or when a task is already lost, making it difficult to maintain normal sleep patterns and daytime schedules. This disorder can also be associated with other symptoms such as sleep paralysis, bizarre dreams (known as sleep-related hallucinations), and cataplexy (sudden loss of muscle tone while awake).\n\nTherefore, the correct answer to the question is: D). Narcolepsy<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which is the correct answer to the provided question. \n\nNarcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycles normally. It is marked by excessive daytime sleepiness and sudden sleep attacks, as well as other symptoms, including sleep paralysis, vivid nightmares, and cataplexy, which is a sudden loss of muscle tone while awake. Narcolepsy can seriously impact a person's quality of life, job performance, and relationships with others.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle, causing excessive daytime sleepiness. Episodes of sleep occur at unexpected times, such as during conversation, in the middle of being active, or when a task is already lost, making it difficult to maintain normal sleep patterns and daytime schedules. This disorder can also be associated with other symptoms such as sleep paralysis, bizarre dreams (known as sleep-related hallucinations), and cataplexy (sudden episodes of muscle weakness while awake). \n\nThe answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is correct. Narcolepsy is a sleep disorder that is predominantly inherited and involves a brain\u2019s inability to regulate sleep-wake cycles normally. In other words, the disorder is characterized by uncontrollable sleepiness during the day. The letters a, b, c, and d do not provide a similar description.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle, causing excessive daytime sleepiness. Episodes of falling asleep can occur suddenly and without warning during everyday activities.\n\nThe answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle.\n\nTherefore, the correct answer is D.\n\n<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. It is the best answer. For that reason, the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a seizure disorder characterized by recurrent, unprovoked seizures, occurring over time. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlargement of the brain's ventricles and abnormalities in the brain's appearance (e.g., effacement of the gyri, and the widening of the sulci). Narcolepsy is a neurological disorder that involves a depletion of the neurotransmitter hypocretin, leading to symptoms of excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, vivid dreams, and disrupted nocturnal sleep. Sleep attacks in unaffected individuals are not triggered by stimuli or emotions; only patients with narcolepsy suffer these unpredictable \u201csleep attacks\u201d. The answer is: D.<|end_of_text|>","Dyslexia, or reading disorder, is a common language-based disorder that makes reading and spelling especially challenging, despite overall normal intelligence and measurable academic potential.\nEpilepsy is a brain disorder in which a person has two or more unprovoked seizures.\nHydrocephalus is a medical condition created by a buildup of cerebrospinal fluid (CSF) in the brain that results in increased intracranial pressure.\nNarcolepsy is a chronic neurologic disorder manifesting in day-time sleepiness and disruptions in usual sleep-wake rhythms./\n\nSo, the correct answer is (D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is chosen as the best answer.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that causes excessive daytime sleepiness.\n\nTherefore, the correct answer is D.<|end_of_text|>",'Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may experience sudden "sleep attacks" at any time, even during routine activities such as eating or talking. Narcolepsy also involves other symptoms, including vivid dream-like hallucinations while falling asleep or waking up, sleep paralysis, and cataplexy, which is a sudden loss of muscle tone while awake. The cause of narcolepsy is not fully understood, but it is believed to involve problems with the brain\'s control of sleep-wake cycles.\n\nSo, the letter corresponding to the correct answer is: D<|end_of_text|>','Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. This letter-making ability is called "phonological awareness."\nEpilepsy is a neurological disorder in which a person has one or more seizures for no apparent reason. A seizure is a sudden surge of electrical activity in the brain causing changes in body function.\nHydrocephalus is the abnormal accumulation of cerebrospinal fluid in the brain, which causes the ventricles (fluid-filled spaces within the brain) to enlarge.\nAnswer: D. Narcolepsy is a sleep disorder characterized by a constant to uncontrollable feeling of sleepiness.<|end_of_text|>',"Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased brain pressure. \n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and uncontrollable sleep episodes. Therefore, Narcolepsy is the answer. The letter corresponding to the correct option is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It's not characterized by episodes of falling asleep.\n\nEpilepsy is a brain disorder that causes seizures. It causes loss of awareness or convulsions, but not episodes of falling asleep.\n\nHydrocephalus is a disorder that involves an excessive accumulation of cerebrospinal fluid in the brain. It's characterized by deteriorating cognitive faculties and widening of the skull.\n\nD. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. This is correct answer because this is a disorder that could lead to the events mentioned in question, a lack of control over sleep and triggers it without apparent cause, or natural cues.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased pressure on the brain.\nDyslexia, epilepsy, and hydrocephalus all involve the nervous system, but none of them are characterized by uncontrollable episodes of falling asleep during the day. On the other hand, narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, as well as other symptoms such as strong urges to sleep, sudden sleep attacks, and sleep paralysis. \nSo the correct answer is D, and I can explain that Narcolepsy is the only correct disorder characterized by uncontrollable episodes of falling asleep.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased brain pressure. \n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and uncontrollable sleep episodes. Therefore, Narcolepsy is the answer to the question of this patient.\n\nThe final answer: D.<|end_of_text|>",'Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. \n\nEpilepsy is a disorder in which brain activity becomes abnormal, causing seizures.\n\nHydrocephalus (also known as "water on the brain") is a condition in which an excessive amount of cerebrospinal fluid accumulates in the brain cavities on the surface of the cerebral hemispheres.\n\nNarcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, and is caused by the brain\'s inability to regulate sleep-wake cycles. Weight loss is also a part of this disorder, since the sudden sleep attacks make it difficult to have a long-lasting period of being awake.\n\nSo the answer to the question is: D.<|end_of_text|>',"Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased brain pressure. \n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. People with narcolepsy can experience episodes of falling asleep unexpectedly during the day, regardless of engaging in activities. Because of this, narcolepsy is the correct choice.\n\nThus, the answer is D. <|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can cause sudden, severe seizures. Hydrocephalus is a disorder that causes excess cerebrospinal fluid to build up in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nSo the final answer is: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can cause sudden, severe seizures. Hydrocephalus is a disorder that causes excess cerebrospinal fluid to accumulate in the brain, leading to increased pressure and the potential for brain damage. D). Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can cause sudden, severe seizures. Hydrocephalus is a disorder that causes excess cerebrospinal fluid to accumulate in the brain, leading to increased pressure and potential damage to the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can cause sudden, severe seizures. Hydrocephalus is a disorder that causes excess cerebrospinal fluid to accumulate in the brain, leading to increased pressure and potential damage to the brain. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, episodes of falling asleep during the day, and disrupted nighttime sleep schedules. \n\nThe answer is D.<|end_of_text|>",'Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological condition characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nNarcolepsy is a sleep disorder that involves a fundamental disturbance of the sleep-wake cycle. Narcoleptic cats are believed to "sleep on command."\n\nSo, the final answer is D.<|end_of_text|>',"Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a buildup of fluid within the normal four compartments of the brain, which leads to progressive enlargement of the head and compression of the surrounding brain tissue and the structures within the skull. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a buildup of fluid within the normal four compartments of the brain, which leads to progressive enlargement of the head and compression of the surrounding brain tissue and the structures within the skull. Narcolepsy is a disorder of the nervous system that affects the ability to sleep and stay awake, which is correctly provided in the question.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to enlarging of the ventricles and the brain\u2019s tissues. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, and is included in the disorder Narcolepsy. For this reason, the correct answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of circumstances, accompanied by disturbed nighttime sleep. Because of these reasons, the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of the time since your last sleep. The disorder affects the brain\u2019s ability to control sleep-wake cycles. Public users are warned that they may have to attend in person at the CPCAB office on the third floor, South Block, Adastral Park, Martlesham Heath, Ipswich IP5 3RE, NN1 4DQ, any matter which is not capable of being dealt with satisfactorily on request without personal attendance.\n\nSo, the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of circumstances, including conversations, meals, or driving. \n\nTherefore, the correct answer is D. Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. Hydrocephalus is a form of brain damage that involves an excessive accumulation of cerebrospinal fluid in the brain's ventricles.\n\nNone of these three disorders are characterized by uncontrollable episodes of falling asleep during the day. The disorder characterized by uncontrollable episodes of falling asleep during the day is narcolepsy. D is the correct answer.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic disorder that affects the central nervous system and causes episodes of extreme sleepiness during the day.\n\nSo, the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness, which is often severe enough to interfere with daily activities. \n\nI would answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of circumstances or sleep patterns. \n\nAccording to Wisconsin Virtual Practice HPoD: Answer A: Dyslexia, a condition that makes it difficult to read and process with words; Answer B: Epilepsy, a disorder in which nerve cells send the wrong kind of electrical signals to the brain; Answer C: Hydrocephalus, an abnormal buildup of cerebrospinal fluid in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Answer D: Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of circumstances or sleep patterns.\n\nAnswer D is correct as described.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime fatigue and sudden sleep attacks. Narcolepsy is also accompanied by several other disruptive sleep features, including vivid dreams and sleep paralysis. The final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding).\nEpilepsy is a disorder characterized by recurrent, unprovoked seizures; generalized seizures are symmetric and may result in loss of consciousness, Jacksonian seizures are partial seizures that spread to involve other parts of the brain. \nHydrocephalus is a condition in which there is an abnormal accumulation of cerebral spinal fluid in the brain, leading to enlargement of the ventricles and the head and possibly leading to increased intracranial pressure.\nNarcolepsy is a neurological disorder that manifests with excessive daytime sleepiness and other sleep-related symptoms.\nThe final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a sleep disorder that involves overpowering daytime drowsiness and it is often accompanied by impaired nighttime sleep. The answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder in which a person has repeated seizures over time. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles (hence within the brain), and this causes an enlargement of the head. Narcolepsy is a disorder of the nervous system that affects a person's ability to sleep and stay awake. Narcolepsy is usually chronic, which means it lasts a lifetime. No other letter corresponds to a appropriate disorder involving uncontrollable episodes of falling asleep during the day.\n\n\nThe answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, emotions, and consciousness. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the brain and ventricles and increased intracranial pressure. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nTherefore, the answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a disorder that causes excessive sleepiness during the day. Since narcolepsy includes episodes of falling asleep during the day, it is the correct answer.\n\nAnswer: D<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a disorder that causes excessive sleepiness during the day.\nMy answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a seizure disorder where neurons in the brain signal abnormally and trigger recurrent seizures.\n\nHydrocephalus is a medical condition that involves an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the fluid-filled ventricles of the forehead.\n\nNarcolepsy is a chronic sleep disorder characterized by uncontrollable sleep attacks during the day.\n\nSo, answer D (Narcolepsy).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a disorder that causes excessive sleepiness during the day. Since narcolepsy includes episodes of falling asleep during the day and occurs in the brain, the correct answer is D, Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain infarction, and is usually associated with periventricular white matter alterations that are detected on neuroimaging. Narcolepsy is a chronic disorder characterized by overwhelming daytime sleepiness, blocks of sleep occurring several times each day, and often disturbed nighttime sleep. The brain's ability to control the sleep-wake cycle, which moves into a \u201csleep mode\u201d very quickly during the day and has disordered rapid eye movement (REM) sleep. In REM sleep, the brain may visualize bizarre, often frightening dream imagery that may, in turn, result in sleeping actions. The patient is aware that they are asleep and well aware often of the events around them. \n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a disorder that causes excessive sleepiness during the day. Since narcolepsy includes episodes of falling asleep during the day and occurs in the brain, the correct answer is D, with a final answer of D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a chronic sleep disorder characterized by uncontrollable sleep attacks. They occur a wide range of medical problems.\n\nThus, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles. Narcolepsy is a sleep disorder characterized by a constant need for sleep.\n\nSo the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid inside the skull causes the brain to swell. Narcolepsy (Option D) is a sleep disorder characterized by the brain's inability to regulate sleep-wake cycles normally.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid inside the skull causes the brain to swell. Narcolepsy (Option D) is a sleep disorder characterized by the brain's inability to regulate sleep-wake cycles normally.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid inside the skull causes the brain to swell. Narcolepsy (Option D) is a sleep disorder characterized by the brain's inability to regulate sleep-wake cycles normally, causing episodes of falling asleep at inappropriate times.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a neurological disorder in which the cerebrospinal fluid builds up. The disorder characterized by uncontrollable episodes of falling asleep during the day is Narcolepsy\n\n\nSo the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain, leading to an increase in intracranial pressure and potential damage to the brain. Narcolepsy is a disorders characterized by uncontrollable episodes of falling asleep during the day. \n\n\nSo the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. So the answer is D (Narcolepsy).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day, due to disturbances in one's sleep-wake cycle.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day, along with vivid dream-like episodes that occur while falling asleep or waking up. \n\nAnswer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day, along with vivid dream-like episodes that occur while falling asleep (hypnagogic hallucinations) or upon waking (hypnopompic hallucinations), sleep paralysis, and cataplexy. The correct answer is D) Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). Epilepsy is a seizure disorder.  Hydrocephalus is a condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain. Narcolepsy is a disorder of the brain that causes a person to fall asleep suddenly and unwantedly.\n\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a buildup of cerebrospinal fluid (CSF) within the ventricles of the brain, which leads to enlargement of the brain. Narcolepsy is a disabling brain disorder that affects a person's ability to regulate sleep-wake cycles. It is characterized by excessive daytime sleepiness (EDS) and often features other symptoms such as sleep paralysis, disturbed nights, and sudden lapses of muscle tone or narcolepsy attacks.\n\nSo, the correct answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which was indicated by answer D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day, which is consistent with the question.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a reading disorder that involves difficulty in recognizing words, their sounds, and spelling them. Epilepsy is characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition involving enlargement of the ventricles in the brain. Narcolepsy is a sleep disorder characterized by sudden sleep attacks and sleep paralysis. So the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal neuronal activity in the brain, while hydrocephalus is a disorder characterized by an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and increased intracranial pressure. Narcolepsy is the correct answer because it is a disorder characterized by excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or awakening.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal neuronal activity in the brain, while hydrocephalus is a disorder characterized by an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and increased intracranial pressure. Narcolepsy is the correct answer because it is a disorder characterized by excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hypnagogic hallucinations.\n\nThe final answer: C). Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a sleep disorder characterized by continuous episodes of falling asleep during the day which is the correct answer. Narcolepsy is a sleep disorder characterized by continuous episodes of falling asleep during the day.\n\nSo the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, so the answer is D.<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks, and other symptoms.\n\n\nNarcolepsy: The accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day <|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. \n\nEpilepsy is a neurological disorder characterized by recurrent seizures, which are sudden, transient symptoms or loss of consciousness caused by abnormal and excessive electrical discharges from a group of neurons in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. \n\nNarcolepsy is a rare, lifelong neurological disorder that affects your central nervous system and can lead to excessive daytime sleepiness.\n\nSo, the answer is D). N a rolepsy.<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nSo therefore, the answer is D).<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure. Narcolepsy is a neurological disorder characterized by excessive daytime sleepiness and sudden sleep attacks.    \n\nHowever, Answer D is most correct.  Other conditions can also cause sleepiness; for example, one called Kleine-Levin syndrome is characterized by excessive sleepiness and odd behaviors. Narcolepsy directly affects the brain's ability to regulate sleep-wake cycles, making this the best answer.<|end_of_text|>","Dyslexia is a learning disorder characterized by problems with word decoding and reading fluency despite adequate intelligence, education, and socioeconomic opportunity.\n\nNarcolepsy is a sleep disorder caused by the brain's inability to regulate sleep-wake cycles normally. Affected individuals have episodes of falling asleep during daily activities and at inappropriate times.\n\nSo the answer is D.<|end_of_text|>","Dyslexia is a learning disorder characterized by reading difficulties. Epilepsy is a seizure disorder. Hydrocephalus is a neurological disorder caused by an accumulation of cerebrospinal fluid. Narcolepsy is a brain disorder that inhibits the ability to reproduce REM sleep stages in both day and night.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid in the brain.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is characterized by an excessive accumulation of cerebrospinal fluid in the brain.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which I would answer on this case.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid in the brain.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy also called a seizure disorder, is a medical condition that produces seizures or repeats. About 50 million people around the world have epilepsy.\n\nHydrocephalus is a cerebrospinal fluid accumulation in the brain, which leads to enlargement of the head, brain, and ventricles.\n\nNarcolepsy is a sleep disorder that involves abnormal arousals from REM sleep during the day (ie, cataplexy). People with this condition usually experience disturbances of rapid eye movement (REM) sleep. \n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness (EDS) and other abnormal sleep behaviors that occur regardless of the situation or environment.\n\n\nThe answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid in the brain, leading to increased head size, vision disturbances, and weight loss.\n\nNarcolepsy is characterized by excessive daytime sleepiness and has symptoms like sudden sleep attacks, sleep paralysis, and vivid dreams during nap sleep.\n\nSo, the final answer is: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurologic condition marked by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition caused by an excess of cerebrospinal fluid in the brain, which can lead to increased pressure on the brain.\n\nNarcolepsy is a sleep disorder that is characterized by excessive day time sleepiness and interrupted nighttime sleep. Narcolepsy can result in falling into sleep suddenly when least expected.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is characterized by irreversible disturbances in the brain chemical (neurotransmitter) that control sleep. The disorder is characterized by abnormally short sleep, an abnormal inability to move muscles upon awakening \u2013 tonic immobility, and intrusive sleep attacks. Narcolepsy is also characterized by vivid and often terrifying dreams during the state of REM sleep.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is characterized by irreversible disturbances in the brain chemical (neurotransmitter) that control sleep. The disorder is characterized by abnormally short sleep, an abnormal inability to move muscles upon awakening \u2013 tonic immobility, and intrusive sleep attacks. Narcolepsy is also characterized by vividly felt dreams and hallucinations upon falling asleep or wakening up.\n\nThe answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is characterized by irreversible disturbances in the brain chemical (neurotransmitter) that control sleep. The disorder is characterized by abnormally short sleep, an abnormal inability to move muscles upon awakening \u2013 tonic immobility, and intrusive sleep attacks. Narcolepsy is also characterized by vividly felt dreams and hallucinations upon falling asleep or wakening up.\n\nThe answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is characterized by uncontrollable episodes of falling asleep during the day.\n\nThe answer, therefore, is D, the option that accurately describes the disorder's symptoms.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nThe answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). Epilepsy is a disorder of the central nervous system characterized by recurrent, unprovoked seizures. Hydrocephalus is an abnormal build up of cerebrospinal fluid (CSF) in the brain which results in enlarged ventricles and increased intracranial pressure. Narcolepsy refers to a sleep disorder that is characterized by excessive and uncontrollable sleep episodes that occur during the day.\n\n\n\nSo the answer is C <|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. Epilepsy is a brain disorder in which a person has repeated seizures over time. Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain, leading to increased head size and increased pressure on the brain in the case of children and progressive damage to the brain in the case of adults.\n\nTherefore, the correct answer is:\n\nA). Dyslexia<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain.\n\nNarcolepsy is a sleep disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nAs a result, the correct answer is D.\n<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure and enlargement of the head.\n\nThe correct answer is (D). Narcolepsy is a sleep disorder that involves excessive daytime sleepiness and sudden sleep attacks. It is characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure.\n\nNarcolepsy is a disorder characterized by excessive daytime sleepiness, intermittent awakening throughout the night, and the intrusion of REM sleep into the later stages of the sleep cycle, which are known as sleep-onset REM periods. Narcolepsy is marked by sudden sleep attacks at inappropriate times, graphic dream-like hallucinations when falling asleep, and a condition known as cataplexy, a sudden loss of muscle tone while awake, often triggered by a strong emotion.\n\nSo, The answer is D).<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the brain and ventricles. \n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the brain and ventricles. \n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. So the correct answer is: D. The answer is D).<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the brain and ventricles. \n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nThe correct answer is D).<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a neurological disorder caused by an abnormal accumulation of cerebrospinal fluid in the brain.\n\nThe disorder characterized by uncontrollable episodes of falling asleep during the day is Narcolepsy (D).\n\nAnswer: D.<|end_of_text|>"].slice(0,100)};function ay(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function oy(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}const sy=(ly=Math.random,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length)-(t=+t);for(;n;){const r=ly()*n--|0,i=e[n+t];e[n+t]=e[r+t],e[r+t]=i}return e});var ly;function cy(){}function uy(e){return null==e?cy:function(){return this.querySelector(e)}}function dy(){return[]}function hy(e){return null==e?dy:function(){return this.querySelectorAll(e)}}function py(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function fy(e){return function(){return this.matches(e)}}function my(e){return function(t){return t.matches(e)}}var gy=Array.prototype.find;function yy(){return this.firstElementChild}var by=Array.prototype.filter;function wy(){return Array.from(this.children)}function vy(e){return new Array(e.length)}function _y(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function xy(e,t,n,r,i,a){for(var o,s=0,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new _y(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function ky(e,t,n,r,i,a,o){var s,l,c,u=new Map,d=t.length,h=a.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c=o.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<h;++s)c=o.call(e,a[s],s,a)+"",(l=u.get(c))?(r[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new _y(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(i[s]=l)}function Dy(e){return e.__data__}function Ty(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ay(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}_y.prototype={constructor:_y,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Sy="http://www.w3.org/1999/xhtml";const Cy={svg:"http://www.w3.org/2000/svg",xhtml:Sy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ey(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Cy.hasOwnProperty(t)?{space:Cy[t],local:e}:e}function Fy(e){return function(){this.removeAttribute(e)}}function My(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Iy(e,t){return function(){this.setAttribute(e,t)}}function Py(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zy(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ny(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Oy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function By(e){return function(){this.style.removeProperty(e)}}function Ly(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ry(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function jy(e,t){return e.style.getPropertyValue(t)||Oy(e).getComputedStyle(e,null).getPropertyValue(t)}function Vy(e){return function(){delete this[e]}}function Wy(e,t){return function(){this[e]=t}}function qy(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Uy(e){return e.trim().split(/^|\s+/)}function Hy(e){return e.classList||new Gy(e)}function Gy(e){this._node=e,this._names=Uy(e.getAttribute("class")||"")}function Ky(e,t){for(var n=Hy(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Yy(e,t){for(var n=Hy(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Jy(e){return function(){Ky(this,e)}}function Zy(e){return function(){Yy(this,e)}}function Xy(e,t){return function(){(t.apply(this,arguments)?Ky:Yy)(this,e)}}function $y(){this.textContent=""}function Qy(e){return function(){this.textContent=e}}function eb(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function tb(){this.innerHTML=""}function nb(e){return function(){this.innerHTML=e}}function rb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ib(){this.nextSibling&&this.parentNode.appendChild(this)}function ab(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ob(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Sy&&t.documentElement.namespaceURI===Sy?t.createElement(e):t.createElementNS(n,e)}}function sb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lb(e){var t=Ey(e);return(t.local?sb:ob)(t)}function cb(){return null}function ub(){var e=this.parentNode;e&&e.removeChild(this)}function db(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hb(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pb(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function fb(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function mb(e,t,n){var r=Oy(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function gb(e,t){return function(){return mb(this,e,t)}}function yb(e,t){return function(){return mb(this,e,t.apply(this,arguments))}}Gy.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var bb=[null];function wb(e,t){this._groups=e,this._parents=t}function vb(){return new wb([[document.documentElement]],bb)}wb.prototype=vb.prototype={constructor:wb,select:function(e){"function"!==typeof e&&(e=uy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=e.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new wb(r,this._parents)},selectAll:function(e){e="function"===typeof e?py(e):hy(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(e.call(o,o.__data__,c,s)),i.push(o));return new wb(r,i)},selectChild:function(e){return this.select(null==e?yy:function(e){return function(){return gy.call(this.children,e)}}("function"===typeof e?e:my(e)))},selectChildren:function(e){return this.selectAll(null==e?wy:function(e){return function(){return by.call(this.children,e)}}("function"===typeof e?e:my(e)))},filter:function(e){"function"!==typeof e&&(e=fy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new wb(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Dy);var n=t?ky:xy,r=this._parents,i=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=Ty(e.call(u,u&&u.__data__,c,r)),f=p.length,m=s[c]=new Array(f),g=o[c]=new Array(f);n(u,d,m,g,l[c]=new Array(h),p,t);for(var y,b,w=0,v=0;w<f;++w)if(y=m[w]){for(w>=v&&(v=w+1);!(b=g[v])&&++v<f;);y._next=b||null}}return(o=new wb(o,r))._enter=s,o._exit=l,o},enter:function(){return new wb(this._enter||this._groups.map(vy),this._parents)},exit:function(){return new wb(this._exit||this._groups.map(vy),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c,u=n[l],d=r[l],h=u.length,p=s[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<i;++l)s[l]=n[l];return new wb(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ay);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new wb(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=Ey(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?My:Fy:"function"===typeof t?n.local?Ny:zy:n.local?Py:Iy)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?By:"function"===typeof t?Ry:Ly)(e,t,null==n?"":n)):jy(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Vy:"function"===typeof t?qy:Wy)(e,t)):this.node()[e]},classed:function(e,t){var n=Uy(e+"");if(arguments.length<2){for(var r=Hy(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?Xy:t?Jy:Zy)(n,t))},text:function(e){return arguments.length?this.each(null==e?$y:("function"===typeof e?eb:Qy)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?tb:("function"===typeof e?rb:nb)(e)):this.node().innerHTML},raise:function(){return this.each(ib)},lower:function(){return this.each(ab)},append:function(e){var t="function"===typeof e?e:lb(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:lb(e),r=null==t?cb:"function"===typeof t?t:uy(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ub)},clone:function(e){return this.select(e?hb:db)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?fb:pb,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?yb:gb)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const _b=vb;var xb={value:()=>{}};function kb(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Db(r)}function Db(e){this._=e}function Tb(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Ab(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=xb,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Db.prototype=kb.prototype={constructor:Db,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=a[o]).type)i[n]=Ab(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Ab(i[n],e.name,null);return this}for(;++o<s;)if((n=(e=a[o]).type)&&(n=Tb(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Db(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};const Sb=kb;var Cb,Eb,Fb=0,Mb=0,Ib=0,Pb=0,zb=0,Nb=0,Ob="object"===typeof performance&&performance.now?performance:Date,Bb="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Lb(){return zb||(Bb(Rb),zb=Ob.now()+Nb)}function Rb(){zb=0}function jb(){this._call=this._time=this._next=null}function Vb(e,t,n){var r=new jb;return r.restart(e,t,n),r}function Wb(){zb=(Pb=Ob.now())+Nb,Fb=Mb=0;try{!function(){Lb(),++Fb;for(var e,t=Cb;t;)(e=zb-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Fb}()}finally{Fb=0,function(){var e,t,n=Cb,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Cb=t);Eb=e,Ub(r)}(),zb=0}}function qb(){var e=Ob.now(),t=e-Pb;t>1e3&&(Nb-=t,Pb=e)}function Ub(e){Fb||(Mb&&(Mb=clearTimeout(Mb)),e-zb>24?(e<1/0&&(Mb=setTimeout(Wb,e-Ob.now()-Nb)),Ib&&(Ib=clearInterval(Ib))):(Ib||(Pb=Ob.now(),Ib=setInterval(qb,1e3)),Fb=1,Bb(Wb)))}function Hb(e,t,n){var r=new jb;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}jb.prototype=Vb.prototype={constructor:jb,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Lb():+n)+(null==t?0:+t),this._next||Eb===this||(Eb?Eb._next=this:Cb=this,Eb=this),this._call=e,this._time=n,Ub()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ub())}};var Gb=Sb("start","end","cancel","interrupt"),Kb=[];function Yb(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return Hb(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(Hb((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Vb(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:Gb,tween:Kb,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Jb(e,t){var n=Xb(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Zb(e,t){var n=Xb(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Xb(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $b(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}function Qb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ew,tw=180/Math.PI,nw={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rw(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*tw,skewX:Math.atan(l)*tw,scaleX:o,scaleY:s}}function iw(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],l=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:Qb(e,i)},{i:l-2,x:Qb(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Qb(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Qb(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,l),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Qb(e,n)},{i:s-2,x:Qb(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var aw=iw((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?nw:rw(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),ow=iw((function(e){return null==e?nw:(ew||(ew=document.createElementNS("http://www.w3.org/2000/svg","g")),ew.setAttribute("transform",e),(e=ew.transform.baseVal.consolidate())?rw((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):nw)}),", ",")",")");function sw(e,t){var n,r;return function(){var i=Zb(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function lw(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=Zb(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function cw(e,t,n){var r=e._id;return e.each((function(){var e=Zb(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Xb(e,r).value[t]}}function uw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dw(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hw(){}var pw=.7,fw=1/pw,mw="\\s*([+-]?\\d+)\\s*",gw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bw=/^#([0-9a-f]{3,8})$/,ww=new RegExp("^rgb\\(".concat(mw,",").concat(mw,",").concat(mw,"\\)$")),vw=new RegExp("^rgb\\(".concat(yw,",").concat(yw,",").concat(yw,"\\)$")),_w=new RegExp("^rgba\\(".concat(mw,",").concat(mw,",").concat(mw,",").concat(gw,"\\)$")),xw=new RegExp("^rgba\\(".concat(yw,",").concat(yw,",").concat(yw,",").concat(gw,"\\)$")),kw=new RegExp("^hsl\\(".concat(gw,",").concat(yw,",").concat(yw,"\\)$")),Dw=new RegExp("^hsla\\(".concat(gw,",").concat(yw,",").concat(yw,",").concat(gw,"\\)$")),Tw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Aw(){return this.rgb().formatHex()}function Sw(){return this.rgb().formatRgb()}function Cw(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ew(t):3===n?new Iw(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Fw(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Fw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ww.exec(e))?new Iw(t[1],t[2],t[3],1):(t=vw.exec(e))?new Iw(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_w.exec(e))?Fw(t[1],t[2],t[3],t[4]):(t=xw.exec(e))?Fw(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=kw.exec(e))?Lw(t[1],t[2]/100,t[3]/100,1):(t=Dw.exec(e))?Lw(t[1],t[2]/100,t[3]/100,t[4]):Tw.hasOwnProperty(e)?Ew(Tw[e]):"transparent"===e?new Iw(NaN,NaN,NaN,0):null}function Ew(e){return new Iw(e>>16&255,e>>8&255,255&e,1)}function Fw(e,t,n,r){return r<=0&&(e=t=n=NaN),new Iw(e,t,n,r)}function Mw(e,t,n,r){return 1===arguments.length?((i=e)instanceof hw||(i=Cw(i)),i?new Iw((i=i.rgb()).r,i.g,i.b,i.opacity):new Iw):new Iw(e,t,n,null==r?1:r);var i}function Iw(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Pw(){return"#".concat(Bw(this.r)).concat(Bw(this.g)).concat(Bw(this.b))}function zw(){const e=Nw(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Ow(this.r),", ").concat(Ow(this.g),", ").concat(Ow(this.b)).concat(1===e?")":", ".concat(e,")"))}function Nw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ow(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bw(e){return((e=Ow(e))<16?"0":"")+e.toString(16)}function Lw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jw(e,t,n,r)}function Rw(e){if(e instanceof jw)return new jw(e.h,e.s,e.l,e.opacity);if(e instanceof hw||(e=Cw(e)),!e)return new jw;if(e instanceof jw)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new jw(o,s,l,e.opacity)}function jw(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Vw(e){return(e=(e||0)%360)<0?e+360:e}function Ww(e){return Math.max(0,Math.min(1,e||0))}function qw(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Uw(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}uw(hw,Cw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Aw,formatHex:Aw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Rw(this).formatHsl()},formatRgb:Sw,toString:Sw}),uw(Iw,Mw,dw(hw,{brighter(e){return e=null==e?fw:Math.pow(fw,e),new Iw(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?pw:Math.pow(pw,e),new Iw(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Iw(Ow(this.r),Ow(this.g),Ow(this.b),Nw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pw,formatHex:Pw,formatHex8:function(){return"#".concat(Bw(this.r)).concat(Bw(this.g)).concat(Bw(this.b)).concat(Bw(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:zw,toString:zw})),uw(jw,(function(e,t,n,r){return 1===arguments.length?Rw(e):new jw(e,t,n,null==r?1:r)}),dw(hw,{brighter(e){return e=null==e?fw:Math.pow(fw,e),new jw(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?pw:Math.pow(pw,e),new jw(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Iw(qw(e>=240?e-240:e+120,i,r),qw(e,i,r),qw(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new jw(Vw(this.h),Ww(this.s),Ww(this.l),Nw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nw(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Vw(this.h),", ").concat(100*Ww(this.s),"%, ").concat(100*Ww(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Hw=e=>()=>e;function Gw(e,t){return function(n){return e+n*t}}function Kw(e){return 1===(e=+e)?Yw:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Hw(isNaN(t)?n:t)}}function Yw(e,t){var n=t-e;return n?Gw(e,n):Hw(isNaN(e)?t:e)}const Jw=function e(t){var n=Kw(t);function r(e,t){var r=n((e=Mw(e)).r,(t=Mw(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Yw(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Zw(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Mw(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}Zw((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Uw((n-r/t)*t,o,i,a,s)}})),Zw((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Uw((n-r/t)*t,i,a,o,s)}}));var Xw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$w=new RegExp(Xw.source,"g");function Qw(e,t){var n,r,i,a=Xw.lastIndex=$w.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Xw.exec(e))&&(r=$w.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Qb(n,r)})),a=$w.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function ev(e,t){var n;return("number"===typeof t?Qb:t instanceof Cw?Jw:(n=Cw(t))?(t=n,Jw):Qw)(e,t)}function tv(e){return function(){this.removeAttribute(e)}}function nv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rv(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function iv(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function av(e,t,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l));this.removeAttribute(e)}}function ov(e,t,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l));this.removeAttributeNS(e.space,e.local)}}function sv(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function lv(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function cv(e,t){return function(){Jb(this,e).delay=+t.apply(this,arguments)}}function uv(e,t){return t=+t,function(){Jb(this,e).delay=t}}function dv(e,t){return function(){Zb(this,e).duration=+t.apply(this,arguments)}}function hv(e,t){return t=+t,function(){Zb(this,e).duration=t}}var pv=_b.prototype.constructor;function fv(e){return function(){this.style.removeProperty(e)}}var mv=0;function gv(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function yv(){return++mv}var bv=_b.prototype;gv.prototype=function(e){return _b().transition(e)}.prototype={constructor:gv,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=uy(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,d=a[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,Yb(d[h],t,n,h,d,Xb(s,n)));return new gv(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=hy(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=Xb(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&Yb(h,t,n,m,p,f);a.push(p),o.push(l)}return new gv(a,o,t,n)},selectChild:bv.selectChild,selectChildren:bv.selectChildren,filter:function(e){"function"!==typeof e&&(e=fy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new gv(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=t[s],u=n[s],d=c.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<r;++s)o[s]=t[s];return new gv(o,this._parents,this._name,this._id)},selection:function(){return new pv(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=yv(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=Xb(o,t);Yb(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new gv(r,this._parents,e,n)},call:bv.call,nodes:bv.nodes,node:bv.node,size:bv.size,empty:bv.empty,each:bv.each,on:function(e,t){var n=this._id;return arguments.length<2?Xb(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Jb:Zb;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=Ey(e),r="transform"===n?ow:ev;return this.attrTween(e,"function"===typeof t?(n.local?ov:av)(n,r,cw(this,"attr."+e,t)):null==t?(n.local?nv:tv)(n):(n.local?iv:rv)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Ey(e);return this.tween(n,(r.local?sv:lv)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?aw:ev;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=jy(this,e),o=(this.style.removeProperty(e),jy(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,fv(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=jy(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=jy(this,e)),o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s))}}(e,r,cw(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var l=Zb(this,e),c=l.on,u=null==l.value[o]?a||(a=fv(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=jy(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(cw(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=Xb(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?sw:lw)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?cv:uv)(t,e)):Xb(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?dv:hv)(t,e)):Xb(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){Zb(this,e).ease=t}}(t,e)):Xb(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Zb(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0===--i&&a()}};n.each((function(){var n=Zb(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&a()}))},[Symbol.iterator]:bv[Symbol.iterator]};var wv={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function vv(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}_b.prototype.interrupt=function(e){return this.each((function(){$b(this,e)}))},_b.prototype.transition=function(e){var t,n;e instanceof gv?(t=e._id,e=e._name):(t=yv(),(n=wv).time=Lb(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&Yb(o,e,t,c,s,n||vv(o,t));return new gv(r,this._parents,e,t)};const{abs:_v,max:xv,min:kv}=Math;function Dv(e){return[+e[0],+e[1]]}function Tv(e){return[Dv(e[0]),Dv(e[1])]}["w","e"].map(Av),["n","s"].map(Av),["n","w","e","s","nw","ne","sw","se"].map(Av);function Av(e){return{type:e}}var Sv=Math.PI;function Cv(e){return(1-Math.cos(Sv*e))/2}function Ev(e){return function(){return e}}function Fv(e){return 1e-6*(e()-.5)}function Mv(e){return e.index}function Iv(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}const Pv=4294967296;var zv=Math.PI*(3-Math.sqrt(5));function Nv(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=Vb(d),c=Sb("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Pv)/Pv}();function d(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(r){var l,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(a-n)*i,s.forEach((function(e){e(n)})),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function p(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*zv;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function f(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),p(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,p(),s.forEach(f),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(u=e,s.forEach(f),t):u},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,f(n)),t):s.get(e)},find:function(t,n,r){var i,a,o,s,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(o=(i=t-(s=e[c]).x)*i+(a=n-s.y)*a)<r&&(l=s,r=o);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}const Ov=Math.sqrt(50),Bv=Math.sqrt(10),Lv=Math.sqrt(2);function Rv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ov?10:a>=Bv?5:a>=Lv?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Rv(e,t,2*n):[s,l,c]}function jv(e,t,n){return Rv(e=+e,t=+t,n=+n)[2]}function Vv(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wv(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qv(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=Vv,n=(t,n)=>Vv(e(t),n),r=(t,n)=>e(t)-n):(t=e===Vv||e===Wv?e:Uv,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function Uv(){return 0}const Hv=qv(Vv),Gv=Hv.right,Kv=(Hv.left,qv((function(e){return null===e?NaN:+e})).center,Gv);function Yv(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=$v(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function Jv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Zv(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=$v(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}function Xv(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function $v(e,t){var n,r=typeof t;return null==t||"boolean"===r?Hw(t):("number"===r?Qb:"string"===r?(n=Cw(t))?(t=n,Jw):Qw:t instanceof Cw?Jw:t instanceof Date?Jv:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Xv:Array.isArray(t)?Yv:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Zv:Qb)(e,t)}function Qv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function e_(e){return+e}var t_=[0,1];function n_(e){return e}function r_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function i_(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=r_(i,r),a=n(o,a)):(r=r_(r,i),a=n(a,o)),function(e){return a(r(e))}}function a_(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=r_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Kv(e,t,1,r)-1;return a[n](i[n](t))}}function o_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s_(){var e,t,n,r,i,a,o=t_,s=t_,l=$v,c=n_;function u(){var e=Math.min(o.length,s.length);return c!==n_&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?a_:i_,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),Qb)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,e_),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Qv,u()},d.clamp=function(e){return arguments.length?(c=!!e||n_,u()):c!==n_},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function l_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var c_,u_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d_(e){if(!(t=u_.exec(e)))throw new Error("invalid format: "+e);var t;return new h_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function h_(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function p_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function f_(e){return(e=p_(Math.abs(e)))?e[1]:NaN}function m_(e,t){var n=p_(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}d_.prototype=h_.prototype,h_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const g_={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>m_(100*e,t),r:m_,s:function(e,t){var n=p_(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(c_=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+p_(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y_(e){return e}var b_,w_,v_,__=Array.prototype.map,x_=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function k_(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?y_:(t=__.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?y_:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(__.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=d_(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,y=e.trim,b=e.type;"n"===b?(m=!0,b="g"):g_[b]||(void 0===g&&(g=12),y=!0,b="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===h?a:/[%p]/.test(b)?l:"",_=g_[b],x=/[defgprs%]/.test(b);function k(e){var i,a,l,h=w,k=v;if("c"===b)k=_(e)+k,e="";else{var D=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),D&&0===+e&&"+"!==d&&(D=!1),h=(D?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===b?x_[8+c_/3]:"")+k+(D&&"("===d?")":""),x)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var T=h.length+e.length+k.length,A=T<f?new Array(f-T+1).join(t):"";switch(m&&p&&(e=r(A+e,A.length?f-k.length:1/0),A=""),n){case"<":e=h+e+k+A;break;case"=":e=h+A+e+k;break;case"^":e=A.slice(0,T=A.length>>1)+h+e+k+A.slice(T);break;default:e=A+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=d_(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(f_(t)/3))),i=Math.pow(10,-r),a=x_[8+r/3];return function(e){return n(i*e)+a}}}}function D_(e,t,n,r){var i,a=function(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?jv(t,e,n):jv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}(e,t,n);switch((r=d_(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(f_(t)/3)))-f_(Math.abs(e)))}(a,o))||(r.precision=i),v_(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,f_(t)-f_(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-f_(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return w_(r)}function T_(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?Rv(t,e,n):Rv(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return D_(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=jv(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function A_(){var e=s_()(n_,n_);return e.copy=function(){return o_(e,A_())},l_.apply(e,arguments),T_(e)}b_=k_({thousands:",",grouping:[3],currency:["$",""]}),w_=b_.format,v_=b_.formatPrefix;class S_ extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M_;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(C_(this,e))}has(e){return super.has(C_(this,e))}set(e,t){return super.set(E_(this,e),t)}delete(e){return super.delete(F_(this,e))}}Set;function C_(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function E_(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function F_(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function M_(e){return null!==e&&"object"===typeof e?e.valueOf():e}const I_=Symbol("implicit");function P_(){var e=new S_,t=[],n=[],r=I_;function i(i){let a=e.get(i);if(void 0===a){if(r!==I_)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new S_;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return P_(t,n).unknown(r)},l_.apply(i,arguments),i}function z_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function N_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function O_(e){return e<0?-e*e:e*e}function B_(e){var t=e(n_,n_),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(n_,n_):.5===n?e(N_,O_):e(z_(n),z_(1/n)):n},T_(t)}function L_(){var e=B_(s_());return e.copy=function(){return o_(e,L_()).exponent(e.exponent())},l_.apply(e,arguments),e}const R_=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");function j_(e){return"string"===typeof e?new wb([[document.querySelector(e)]],[document.documentElement]):new wb([[e]],bb)}var V_,W_,q_,U_,H_,G_,K_,Y_,J_,Z_,X_,$_,Q_,ex;Array.prototype.slice;function tx(e){return function(){return e}}function nx(e){this._context=e}function rx(e){return new nx(e)}function ix(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};const ax=Math.PI,ox=2*ax,sx=1e-6,lx=ox-sx;function cx(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class ux{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?cx:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return cx;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(V_||(V_=ix(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(W_||(W_=ix(["Z"]))))}lineTo(e,t){this._append(q_||(q_=ix(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(U_||(U_=ix(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(H_||(H_=ix(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(G_||(G_=ix(["M",",",""])),this._x1=e,this._y1=t);else if(d>sx)if(Math.abs(u*s-l*c)>sx&&i){let h=n-a,p=r-o,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),y=Math.sqrt(d),b=i*Math.tan((ax-Math.acos((f+d-m)/(2*g*y)))/2),w=b/y,v=b/g;Math.abs(w-1)>sx&&this._append(Y_||(Y_=ix(["L",",",""])),e+w*c,t+w*u),this._append(J_||(J_=ix(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*p),this._x1=e+v*s,this._y1=t+v*l)}else this._append(K_||(K_=ix(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append(Z_||(Z_=ix(["M",",",""])),l,c):(Math.abs(this._x1-l)>sx||Math.abs(this._y1-c)>sx)&&this._append(X_||(X_=ix(["L",",",""])),l,c),n&&(d<0&&(d=d%ox+ox),d>lx?this._append($_||($_=ix(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>sx&&this._append(Q_||(Q_=ix(["A",",",",0,",",",",",",",""])),n,n,+(d>=ax),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(ex||(ex=ix(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function dx(e){return e[0]}function hx(e){return e[1]}function px(e,t){var n=tx(!0),r=null,i=rx,a=null,o=function(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new ux(t)}(s);function s(s){var l,c,u,d=(s=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?dx:tx(e),t="function"===typeof t?t:void 0===t?hx:tx(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:tx(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:tx(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:tx(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function fx(e){return e<0?-1:1}function mx(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(fx(a)+fx(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function gx(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function yx(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function bx(e){this._context=e}function wx(e){this._context=new vx(e)}function vx(e){this._context=e}function _x(e){return new wx(e)}bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yx(this,this._t0,gx(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yx(this,gx(this,n=mx(this,e,t)),n);break;default:yx(this,this._t0,n=mx(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(wx.prototype=Object.create(bx.prototype)).point=function(e,t){bx.prototype.point.call(this,t,e)},vx.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};const xx={capture:!0,passive:!1};function kx(e){e.preventDefault(),e.stopImmediatePropagation()}function Dx(e){return((e=Math.exp(e))+1/e)/2}const Tx=function e(t,n,r){function i(e,i){var a,o,s=e[0],l=e[1],c=e[2],u=i[0],d=i[1],h=i[2],p=u-s,f=d-l,m=p*p+f*f;if(m<1e-12)o=Math.log(h/c)/t,a=function(e){return[s+e*p,l+e*f,c*Math.exp(t*e*o)]};else{var g=Math.sqrt(m),y=(h*h-c*c+r*m)/(2*c*n*g),b=(h*h-c*c-r*m)/(2*h*n*g),w=Math.log(Math.sqrt(y*y+1)-y),v=Math.log(Math.sqrt(b*b+1)-b);o=(v-w)/t,a=function(e){var r=e*o,i=Dx(w),a=c/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+w)-function(e){return((e=Math.exp(e))-1/e)/2}(w));return[s+a*p,l+a*f,c*i/Dx(t*r+w)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function Ax(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Sx=e=>()=>e;function Cx(e,t){let{sourceEvent:n,target:r,transform:i,dispatch:a}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Ex(e,t,n){this.k=e,this.x=t,this.y=n}Ex.prototype={constructor:Ex,scale:function(e){return 1===e?this:new Ex(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ex(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fx=new Ex(1,0,0);function Mx(e){e.stopImmediatePropagation()}function Ix(e){e.preventDefault(),e.stopImmediatePropagation()}function Px(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function zx(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Nx(){return this.__zoom||Fx}function Ox(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Bx(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lx(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Rx(){var e,t,n,r=Px,i=zx,a=Lx,o=Ox,s=Bx,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Tx,h=Sb("start","zoom","end"),p=0,f=10;function m(e){e.property("__zoom",Nx).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",D).filter(s).on("touchstart.zoom",T).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",S).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Ex(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Ex(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",(function(){v(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=v(e,a).event(r),s=i.apply(e,a),l=null==n?b(s):"function"===typeof n?n.apply(e,a):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,a):t,p=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new Ex(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}}))}function v(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=v(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,o.apply(this,arguments)))),h=Ax(e);if(s.wheel)s.mouse[0][0]===h[0]&&s.mouse[0][1]===h[1]||(s.mouse[1]=u.invert(s.mouse[0]=h)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[h,u.invert(h)],$b(this),s.start()}Ix(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),150),s.zoom("mouse",a(y(g(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function k(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=v(this,i,!0).event(e),u=j_(e.view).on("mousemove.zoom",(function(e){if(Ix(e),!l.moved){var t=e.clientX-h,n=e.clientY-f;l.moved=t*t+n*n>p}l.event(e).zoom("mouse",a(y(l.that.__zoom,l.mouse[0]=Ax(e,s),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),function(e,t){var n=e.document.documentElement,r=j_(e).on("dragstart.drag",null);t&&(r.on("click.drag",kx,xx),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,l.moved),Ix(e),l.event(e).end()}),!0),d=Ax(e,s),h=e.clientX,f=e.clientY;!function(e){var t=e.document.documentElement,n=j_(e).on("dragstart.drag",kx,xx);"onselectstart"in t?n.on("selectstart.drag",kx,xx):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(e.view),Mx(e),l.mouse=[d,this.__zoom.invert(d)],$b(this),l.start()}}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=this.__zoom,l=Ax(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),h=s.k*(e.shiftKey?.5:2),p=a(y(g(s,h),l,d),i.apply(this,n),c);Ix(e),u>0?j_(this).transition().duration(u).call(w,p,l,e):j_(this).call(m.transform,p,l,e)}}function T(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var s,l,c,u,d=n.touches,h=d.length,p=v(this,a,n.changedTouches.length===h).event(n);for(Mx(n),l=0;l<h;++l)u=[u=Ax(c=d[l],this),this.__zoom.invert(u),c.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,s=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(p.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),500)),$b(this),p.start())}}function A(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s,l,u=v(this,n).event(e),d=e.changedTouches,h=d.length;for(Ix(e),i=0;i<h;++i)s=Ax(o=d[i],this),u.touch0&&u.touch0[2]===o.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===o.identifier&&(u.touch1[0]=s);if(o=u.that.__zoom,u.touch1){var p=u.touch0[0],f=u.touch0[1],m=u.touch1[0],b=u.touch1[1],w=(w=m[0]-p[0])*w+(w=m[1]-p[1])*w,_=(_=b[0]-f[0])*_+(_=b[1]-f[1])*_;o=g(o,Math.sqrt(w/_)),s=[(p[0]+m[0])/2,(p[1]+m[1])/2],l=[(f[0]+b[0])/2,(f[1]+b[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",a(y(o,s,l),u.extent,c))}}function S(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,s,l=v(this,i).event(e),c=e.changedTouches,u=c.length;for(Mx(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),o=0;o<u;++o)s=c[o],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=Ax(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<f)){var d=j_(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",Nx),e!==i?w(e,t,n,r):i.interrupt().each((function(){v(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?b(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(o),l="function"===typeof t?t.apply(this,arguments):t;return a(y(g(r,l),o,s),e,c)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},m.translateTo=function(e,t,n,r,o){m.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,s=null==r?b(e):"function"===typeof r?r.apply(this,arguments):r;return a(Fx.translate(s[0],s[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),r,o)},_.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=j_(this.that).datum();h.call(e,this.that,new Cx(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Sx(+e),m):o},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:Sx(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Sx(!!e),m):s},m.extent=function(e){return arguments.length?(i="function"===typeof e?e:Sx([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(f=+e,m):f},m}function jx(e,t){e&&e(t)}function Vx(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}Ex.prototype;const Wx=class{constructor(){let e=function(){return e._call(...arguments)};return Object.setPrototypeOf(e,new.target.prototype)}_call(){throw Error("Must implement _call method in subclass")}};function qx(e){return Number.isInteger(e)||"bigint"===typeof e}function Ux(e){const t=[];let n=e;for(;Array.isArray(n);)t.push(n.length),n=n[0];return t}function Hx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=e[t];if(void 0!==r)return delete e[t],r;if(void 0===n)throw Error("Key ".concat(t," does not exist in object."));return n}function Gx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply([],t)}function Kx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e.flatMap((e=>t.map((t=>[e,t]))))))}function Yx(e,t){return Math.abs((e+t)%(2*t)-t)}var Jx,Zx=__webpack_require__(143),Xx=__webpack_require__(603),$x=__webpack_require__(9),Qx=__webpack_require__(837),ek=__webpack_require__(499),tk=__webpack_require__(52),nk=__webpack_require__.t(tk,2),rk=__webpack_require__(431),ik=__webpack_require__.t(rk,2);let ak;const ok=["wasm"];if("undefined"!==typeof process&&"node"===(null===(Jx=process)||void 0===Jx||null===(Jx=Jx.release)||void 0===Jx?void 0:Jx.name)){var sk;ak=null!==(sk=tk)&&void 0!==sk?sk:nk,ok.unshift("cpu")}else{var lk;ak=null!==(lk=rk)&&void 0!==lk?lk:ik;"undefined"!==typeof navigator&&/iP(hone|od|ad).+16_4.+AppleWebKit/.test(navigator.userAgent)&&(ak.env.wasm.simd=!1)}const{env:ck}=ak,uk="2.17.2",dk="undefined"!==typeof self&&"caches"in self,hk=!vk($x),pk=!vk(Qx),fk=hk&&pk,mk=fk?Qx.dirname(Qx.dirname(ek.fileURLToPath("file:///Users/emilyreif/Documents/github/llm-consistency-vis/node_modules/@xenova/transformers/src/env.js"))):"./",gk=fk?Qx.join(mk,"/.cache/"):null,yk="/models/",bk=fk?Qx.join(mk,yk):yk;null!==ck&&void 0!==ck&&ck.wasm&&(ck.wasm.wasmPaths=fk?Qx.join(mk,"/dist/"):"https://cdn.jsdelivr.net/npm/@xenova/transformers@".concat(uk,"/dist/"));const wk={backends:{onnx:ck,tfjs:{}},__dirname:mk,version:uk,allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!0,localModelPath:bk,useFS:hk,useBrowserCache:dk,useFSCache:hk,cacheDir:gk,useCustomCache:!1,customCache:null};function vk(e){return 0===Object.keys(e).length}class _k{constructor(e){if(l(this,"_CONTENT_TYPE_MAP",{txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"}),this.filePath=e,this.headers=new Headers,this.exists=Zx.existsSync(e),this.exists){this.status=200,this.statusText="OK";let t=Zx.statSync(e);this.headers.set("content-length",t.size.toString()),this.updateContentType();let n=this;this.body=new ReadableStream({start(e){n.arrayBuffer().then((t=>{e.enqueue(new Uint8Array(t)),e.close()}))}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){var e;const t=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",null!==(e=this._CONTENT_TYPE_MAP[t])&&void 0!==e?e:"application/octet-stream")}clone(){let e=new _k(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await Zx.promises.readFile(this.filePath)).buffer}async blob(){const e=await Zx.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await Zx.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function xk(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{t=new URL(e)}catch(i){return!1}return!(n&&!n.includes(t.protocol))&&!(r&&!r.includes(t.hostname))}async function kk(e){var t;if(wk.useFS&&!xk(e,["http:","https:","blob:"]))return new _k(e);if("undefined"!==typeof process&&"node"===(null===(t=process)||void 0===t||null===(t=t.release)||void 0===t?void 0:t.name)){var n;const t=!(null===(n={NODE_ENV:"production",PUBLIC_URL:"/llm-consistency-vis",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===n||!n.TESTING_REMOTELY),o=wk.version,s=new Headers;s.set("User-Agent","transformers.js/".concat(o,"; is_ci/").concat(t,";"));if(xk(e,["http:","https:"],["huggingface.co","hf.co"])){var r,i,a;const e=null!==(r=null===(i={NODE_ENV:"production",PUBLIC_URL:"/llm-consistency-vis",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===i?void 0:i.HF_TOKEN)&&void 0!==r?r:null===(a={NODE_ENV:"production",PUBLIC_URL:"/llm-consistency-vis",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===a?void 0:a.HF_ACCESS_TOKEN;e&&s.set("Authorization","Bearer ".concat(e))}return fetch(e,{headers:s})}return fetch(e)}const Dk={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};class Tk{constructor(e){this.path=e}async match(e){let t=Xx.join(this.path,e),n=new _k(t);return n.exists?n:void 0}async put(e,t){const n=Buffer.from(await t.arrayBuffer());let r=Xx.join(this.path,e);try{await Zx.promises.mkdir(Xx.dirname(r),{recursive:!0}),await Zx.promises.writeFile(r,n)}catch(i){console.warn("An error occurred while writing the file to cache:",i)}}}async function Ak(e,t){var n;let r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!wk.allowLocalModels){if(a.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!wk.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}if(jx(a.progress_callback,{status:"initiate",name:e,file:t}),!r&&wk.useBrowserCache){if("undefined"===typeof caches)throw Error("Browser cache is not available in this environment.");try{r=await caches.open("transformers-cache")}catch(F){console.warn("An error occurred while opening the browser cache:",F)}}var o;!r&&wk.useFSCache&&(r=new Tk(null!==(o=a.cache_dir)&&void 0!==o?o:wk.cacheDir));if(!r&&wk.useCustomCache){if(!wk.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!wk.customCache.match||!wk.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");r=wk.customCache}const s=null!==(n=a.revision)&&void 0!==n?n:"main";let l,c,d=Ck(e,t),h=Ck(wk.localModelPath,d),p=Ck(wk.remoteHost,wk.remotePathTemplate.replaceAll("{model}",e).replaceAll("{revision}",encodeURIComponent(s)),t),f="main"===s?d:Ck(e,s,t),m=r instanceof Tk?f:p,g=!1;r&&(c=await async function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let i of n)try{let t=await e.match(i);if(t)return t}catch(F){continue}}(r,h,m));const y=void 0!==c;if(void 0===c){if(wk.allowLocalModels){if(xk(d,["http:","https:"])){if(a.local_files_only)throw new Error("`local_files_only=true`, but attempted to load a remote file from: ".concat(d,"."));if(!wk.allowRemoteModels)throw new Error("`env.allowRemoteModels=false`, but attempted to load a remote file from: ".concat(d,"."))}else try{c=await kk(h),l=h}catch(F){console.warn('Unable to load from local path "'.concat(h,'": "').concat(F,'"'))}}if(void 0===c||404===c.status){if(a.local_files_only||!wk.allowRemoteModels){if(i)throw Error('`local_files_only=true` or `env.allowRemoteModels=false` and file was not found locally at "'.concat(h,'".'));return null}if(c=await kk(p),200!==c.status)return function(e,t,n){var r;if(!n)return null;const i=null!==(r=Dk[e])&&void 0!==r?r:"Error (".concat(e,") occurred while trying to load file");throw Error("".concat(i,': "').concat(t,'".'))}(c.status,p,i);l=m}g=r&&"undefined"!==typeof Response&&c instanceof Response&&200===c.status}jx(a.progress_callback,{status:"download",name:e,file:t});const b={status:"progress",name:e,file:t};let w;return a.progress_callback?y&&"undefined"!==typeof navigator&&/firefox/i.test(navigator.userAgent)?(w=new Uint8Array(await c.arrayBuffer()),jx(a.progress_callback,u(u({},b),{},{progress:100,loaded:w.length,total:w.length}))):w=await async function(e,t){const n=e.headers.get("Content-Length");null===n&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let r=parseInt(null!==n&&void 0!==n?n:"0"),i=new Uint8Array(r),a=0;const o=e.body.getReader();async function s(){const{done:e,value:n}=await o.read();if(e)return;let l=a+n.length;if(l>r){r=l;let e=new Uint8Array(r);e.set(i),i=e}i.set(n,a),a=l;return t({progress:a/r*100,loaded:a,total:r}),s()}return await s(),i}(c,(e=>{jx(a.progress_callback,u(u({},b),e))})):w=new Uint8Array(await c.arrayBuffer()),g&&l&&void 0===await r.match(l)&&await r.put(l,new Response(w,{headers:c.headers})).catch((e=>{console.warn("Unable to add response to browser cache: ".concat(e,"."))})),jx(a.progress_callback,{status:"done",name:e,file:t}),w}async function Sk(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=await Ak(e,t,n,r);if(null===i)return{};let a=new TextDecoder("utf-8").decode(i);return JSON.parse(a)}function Ck(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=t.map(((e,n)=>(n&&(e=e.replace(new RegExp("^/"),"")),n!==t.length-1&&(e=e.replace(new RegExp("/$"),"")),e))),t.join("/")}function Ek(e){const t=Ik(e)[0],n=e.map((e=>Math.exp(e-t))),r=n.reduce(((e,t)=>e+t),0),i=n.map((e=>e/r));return i}function Fk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=Array.from(e).map(((e,t)=>[t,e])).sort(((e,t)=>t[1]-e[1])),null!==t&&t>0&&(e=e.slice(0,t)),e}function Mk(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]<t&&(t=e[r],n=r);return[t,n]}function Ik(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]>t&&(t=e[r],n=r);return[Number(t),n]}function Pk(e){return e>0&&0===(e&e-1)}class zk{constructor(e){if(this.size=0|e,this.size<=1||!Pk(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(2*this.size);for(let n=0;n<this.table.length;n+=2){const e=Math.PI*n/this.size;this.table[n]=Math.cos(e),this.table[n+1]=-Math.sin(e)}let t=0;for(let n=1;this.size>n;n<<=1)++t;this._width=t%2===0?t-1:t,this._bitrev=new Int32Array(1<<this._width);for(let n=0;n<this._bitrev.length;++n){this._bitrev[n]=0;for(let e=0;e<this._width;e+=2){const t=this._width-e-2;this._bitrev[n]|=(n>>>e&3)<<t}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,t){const n=t||new Array(e.length>>>1);for(let r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n}toComplexArray(e,t){const n=t||this.createComplexArray();for(let r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n}transform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,1)}realTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._realTransform4(e,t,1)}inverseTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,-1);for(let n=0;n<e.length;++n)e[n]/=this.size}_transform4(e,t,n){const r=this._csize;let i,a,o=1<<this._width,s=r/o<<1;const l=this._bitrev;if(4===s)for(i=0,a=0;i<r;i+=s,++a){const n=l[a];this._singleTransform2(t,e,i,n,o)}else for(i=0,a=0;i<r;i+=s,++a){const r=l[a];this._singleTransform4(t,e,i,r,o,n)}const c=this.table;for(o>>=2;o>=2;o>>=2){s=r/o<<1;const t=s>>>2;for(i=0;i<r;i+=s){const r=i+t-1;for(let a=i,s=0;a<r;a+=2,s+=o){const r=a,i=r+t,o=i+t,l=o+t,u=e[r],d=e[r+1],h=e[i],p=e[i+1],f=e[o],m=e[o+1],g=e[l],y=e[l+1],b=c[s],w=n*c[s+1],v=h*b-p*w,_=h*w+p*b,x=c[2*s],k=n*c[2*s+1],D=f*x-m*k,T=f*k+m*x,A=c[3*s],S=n*c[3*s+1],C=g*A-y*S,E=g*S+y*A,F=u+D,M=d+T,I=u-D,P=d-T,z=v+C,N=_+E,O=n*(v-C),B=n*(_-E);e[r]=F+z,e[r+1]=M+N,e[i]=I+B,e[i+1]=P-O,e[o]=F-z,e[o+1]=M-N,e[l]=I-B,e[l+1]=P+O}}}}_singleTransform2(e,t,n,r,i){const a=e[r],o=e[r+1],s=e[r+i],l=e[r+i+1];t[n]=a+s,t[n+1]=o+l,t[n+2]=a-s,t[n+3]=o-l}_singleTransform4(e,t,n,r,i,a){const o=2*i,s=3*i,l=e[r],c=e[r+1],u=e[r+i],d=e[r+i+1],h=e[r+o],p=e[r+o+1],f=e[r+s],m=e[r+s+1],g=l+h,y=c+p,b=l-h,w=c-p,v=u+f,_=d+m,x=a*(u-f),k=a*(d-m);t[n]=g+v,t[n+1]=y+_,t[n+2]=b+k,t[n+3]=w-x,t[n+4]=g-v,t[n+5]=y-_,t[n+6]=b-k,t[n+7]=w+x}_realTransform4(e,t,n){const r=this._csize;let i,a,o=1<<this._width,s=r/o<<1;const l=this._bitrev;if(4===s)for(i=0,a=0;i<r;i+=s,++a){const n=l[a];this._singleRealTransform2(t,e,i,n>>>1,o>>>1)}else for(i=0,a=0;i<r;i+=s,++a){const r=l[a];this._singleRealTransform4(t,e,i,r>>>1,o>>>1,n)}const c=this.table;for(o>>=2;o>=2;o>>=2){s=r/o<<1;const t=s>>>1,a=t>>>1,l=a>>>1;for(i=0;i<r;i+=s)for(let r=0,s=0;r<=l;r+=2,s+=o){const o=i+r,u=o+a,d=u+a,h=d+a,p=e[o],f=e[o+1],m=e[u],g=e[u+1],y=e[d],b=e[d+1],w=e[h],v=e[h+1],_=p,x=f,k=c[s],D=n*c[s+1],T=m*k-g*D,A=m*D+g*k,S=c[2*s],C=n*c[2*s+1],E=y*S-b*C,F=y*C+b*S,M=c[3*s],I=n*c[3*s+1],P=w*M-v*I,z=w*I+v*M,N=_+E,O=x+F,B=_-E,L=x-F,R=T+P,j=A+z,V=n*(T-P),W=n*(A-z);if(e[o]=N+R,e[o+1]=O+j,e[u]=B+W,e[u+1]=L-V,0===r){e[d]=N-R,e[d+1]=O-j;continue}if(r===l)continue;const q=i+a-r,U=i+t-r;e[q]=B-n*W,e[q+1]=-L-n*V,e[U]=N-n*R,e[U+1]=n*j-O}}const u=r>>>1;for(let d=2;d<u;d+=2)e[r-d]=e[d],e[r-d+1]=-e[d+1]}_singleRealTransform2(e,t,n,r,i){const a=e[r],o=e[r+i];t[n]=a+o,t[n+1]=0,t[n+2]=a-o,t[n+3]=0}_singleRealTransform4(e,t,n,r,i,a){const o=2*i,s=3*i,l=e[r],c=e[r+i],u=e[r+o],d=e[r+s],h=l+u,p=l-u,f=c+d,m=a*(c-d);t[n]=h+f,t[n+1]=0,t[n+2]=p,t[n+3]=-m,t[n+4]=h-f,t[n+5]=0,t[n+6]=p,t[n+7]=m}}class Nk{constructor(e){const t=2*(e-1),n=2*(2*e-1),r=2**Math.ceil(Math.log2(n));this.bufferSize=r,this._a=t;const i=new Float64Array(n),a=new Float64Array(r);this._chirpBuffer=new Float64Array(r),this._buffer1=new Float64Array(r),this._buffer2=new Float64Array(r),this._outBuffer1=new Float64Array(r),this._outBuffer2=new Float64Array(r);const o=-2*Math.PI/e,s=Math.cos(o),l=Math.sin(o);for(let c=0;c<n>>1;++c){const t=(c+1-e)**2/2,n=Math.sqrt(s**2+l**2)**t,r=t*Math.atan2(l,s),o=2*c;i[o]=n*Math.cos(r),i[o+1]=n*Math.sin(r),a[o]=i[o],a[o+1]=-i[o+1]}this._slicedChirpBuffer=i.subarray(t,n),this._f=new zk(r>>1),this._f.transform(this._chirpBuffer,a)}_transform(e,t,n){const r=this._buffer1,i=this._buffer2,a=this._outBuffer1,o=this._outBuffer2,s=this._chirpBuffer,l=this._slicedChirpBuffer,c=this._a;if(n)for(let u=0;u<l.length;u+=2){const e=u+1,n=t[u>>1];r[u]=n*l[u],r[e]=n*l[e]}else for(let u=0;u<l.length;u+=2){const e=u+1;r[u]=t[u]*l[u]-t[e]*l[e],r[e]=t[u]*l[e]+t[e]*l[u]}this._f.transform(a,r);for(let u=0;u<s.length;u+=2){const e=u+1;i[u]=a[u]*s[u]-a[e]*s[e],i[e]=a[u]*s[e]+a[e]*s[u]}this._f.inverseTransform(o,i);for(let u=0;u<o.length;u+=2){const t=o[u+c],n=o[u+c+1],r=l[u],i=l[u+1];e[u]=t*r-n*i,e[u+1]=t*i+n*r}}transform(e,t){this._transform(e,t,!1)}realTransform(e,t){this._transform(e,t,!0)}}class Ok{constructor(e){this.fft_length=e,this.isPowerOfTwo=Pk(e),this.isPowerOfTwo?(this.fft=new zk(e),this.outputBufferSize=2*e):(this.fft=new Nk(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,t){this.fft.realTransform(e,t)}transform(e,t){this.fft.transform(e,t)}}function Bk(e,t){if(t%2===0||t<=0)throw new Error("Window size must be a positive odd number");const n=new e.constructor(e.length),r=new e.constructor(t),i=Math.floor(t/2);for(let a=0;a<e.length;++a){let t=0;for(let n=-i;n<=i;++n){let i=a+n;i<0?i=Math.abs(i):i>=e.length&&(i=2*(e.length-1)-i),r[t++]=e[i]}r.sort(),n[a]=r[i]}return n}function Lk(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const Rk=Object.freeze({float32:Float32Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array}),jk=ak.Tensor;class Vk{constructor(){return l(this,"dims",void 0),l(this,"type",void 0),l(this,"data",void 0),l(this,"size",void 0),(arguments.length<=0?void 0:arguments[0])instanceof jk?Object.assign(this,arguments.length<=0?void 0:arguments[0]):Object.assign(this,new jk(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])),new Proxy(this,{get:(e,t)=>{if("string"===typeof t){let n=Number(t);if(Number.isInteger(n))return e._getitem(n)}return e[t]},set:(e,t,n)=>e[t]=n})}*[Symbol.iterator](){const[e,...t]=this.dims;if(t.length>0){const n=t.reduce(((e,t)=>e*t));for(let r=0;r<e;++r)yield this._subarray(r,n,t)}else yield*this.data}_getitem(e){const[t,...n]=this.dims;if(e=Hk(e,t),n.length>0){const t=n.reduce(((e,t)=>e*t));return this._subarray(e,t,n)}return new Vk(this.type,[this.data[e]],n)}indexOf(e){for(let t=0;t<this.data.length;++t)if(this.data[t]==e)return t;return-1}_subarray(e,t,n){const r=e*t,i=(e+1)*t,a="subarray"in this.data?this.data.subarray(r,i):this.data.slice(r,i);return new Vk(this.type,a,n)}item(){if(1!==this.data.length)throw new Error("a Tensor with ".concat(this.data.length," elements cannot be converted to Scalar"));return this.data[0]}tolist(){return function(e,t){const n=e.length,r=t.reduce(((e,t)=>e*t));if(n!==r)throw Error("cannot reshape array of size ".concat(n," into shape (").concat(t,")"));let i=e;for(let a=t.length-1;a>=0;a--)i=i.reduce(((e,n)=>{let r=e[e.length-1];return r.length<t[a]?r.push(n):e.push([n]),e}),[[]]);return i[0]}(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){for(let e=0;e<this.data.length;++e)this.data[e]=1/(1+Math.exp(-this.data[e]));return this}mul(e){return this.clone().mul_(e)}mul_(e){for(let t=0;t<this.data.length;++t)this.data[t]*=e;return this}add(e){return this.clone().add_(e)}add_(e){for(let t=0;t<this.data.length;++t)this.data[t]+=e;return this}clone(){return new Vk(this.type,this.data.slice(),this.dims.slice())}slice(){let e=[],t=[];for(let o=0;o<this.dims.length;++o){let n=o<0||arguments.length<=o?void 0:arguments[o];if(null===n||void 0===n)t.push([0,this.dims[o]]),e.push(this.dims[o]);else if("number"===typeof n)n=Hk(n,this.dims[o],o),t.push([n,n+1]);else{if(!Array.isArray(n)||2!==n.length)throw new Error("Invalid slice: ".concat(n));{if(n[0]>n[1])throw new Error("Invalid slice: ".concat(n));let r=[Math.max(n[0],0),Math.min(n[1],this.dims[o])];t.push(r),e.push(r[1]-r[0])}}}let n=t.map((e=>{let[t,n]=e;return n-t})),r=n.reduce(((e,t)=>e*t)),i=new this.data.constructor(r);const a=this.stride();for(let o=0;o<r;++o){let e=0;for(let r=n.length-1,i=o;r>=0;--r){const o=n[r];e+=(i%o+t[r][0])*a[r],i=Math.floor(i/o)}i[o]=this.data[e]}return new Vk(this.type,i,e)}permute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t){const[n,r]=function(e,t,n){const r=new Array(n.length),i=new Array(n.length);for(let s=n.length-1,l=1;s>=0;--s)i[s]=l,r[s]=t[n[s]],l*=r[s];const a=n.map(((e,t)=>i[n.indexOf(t)])),o=new e.constructor(e.length);for(let s=0;s<e.length;++s){let n=0;for(let e=t.length-1,r=s;e>=0;--e)n+=r%t[e]*a[e],r=Math.floor(r/t[e]);o[n]=e[s]}return[o,r]}(e.data,e.dims,t);return new Vk(e.type,n,r)}(this,t)}transpose(){return this.permute(...arguments)}sum(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.norm(1,e,t)}norm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fro",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("fro"===e)e=2;else if("string"===typeof e)throw Error("Unsupported norm: ".concat(e));if(null===t){let t=this.data.reduce(((t,n)=>t+n**e),0)**(1/e);return new Vk(this.type,[t],[])}t=Hk(t,this.dims.length);const r=this.dims.slice();r[t]=1;const i=new this.data.constructor(this.data.length/this.dims[t]);for(let a=0;a<this.data.length;++a){let n=0;for(let e=this.dims.length-1,i=a,o=1;e>=0;--e){const a=this.dims[e];if(e!==t){n+=i%a*o,o*=r[e]}i=Math.floor(i/a)}i[n]+=this.data[a]**e}if(1!==e)for(let a=0;a<i.length;++a)i[a]=i[a]**(1/e);return n||r.splice(t,1),new Vk(this.type,i,r)}normalize_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=Hk(t,this.dims.length);const n=this.norm(e,t,!0);for(let r=0;r<this.data.length;++r){let e=0;for(let n=this.dims.length-1,i=r,a=1;n>=0;--n){const r=this.dims[n];if(n!==t){e+=i%r*a,a*=this.dims[n]}i=Math.floor(i/r)}this.data[r]/=n.data[e]}return this}normalize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.clone().normalize_(e,t)}stride(){return function(e){const t=new Array(e.length);for(let n=e.length-1,r=1;n>=0;--n)t[n]=r,r*=e[n];return t}(this.dims)}squeeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Vk(this.type,this.data,qk(this.dims,e))}squeeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=qk(this.dims,e),this}unsqueeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Vk(this.type,this.data,Uk(this.dims,e))}unsqueeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=Uk(this.dims,e),this}flatten_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t=(t+this.dims.length)%this.dims.length;let n=this.dims.slice(0,e),r=this.dims.slice(e,t+1),i=this.dims.slice(t+1);return this.dims=[...n,r.reduce(((e,t)=>e*t),1),...i],this}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.clone().flatten_(e,t)}view(){let e=-1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(let i=0;i<n.length;++i)if(-1===n[i]){if(-1!==e)throw new Error("Only one dimension can be inferred");e=i}if(-1!==e){const t=n.reduce(((t,n,r)=>r!==e?t*n:t),1);n[e]=this.data.length/t}return new Vk(this.type,this.data,n)}neg_(){for(let e=0;e<this.data.length;++e)this.data[e]=-this.data[e];return this}neg(){return this.clone().neg_()}clamp_(e,t){for(let n=0;n<this.data.length;++n)this.data[n]=Math.min(Math.max(this.data[n],e),t);return this}clamp(e,t){return this.clone().clamp_(e,t)}round_(){for(let e=0;e<this.data.length;++e)this.data[e]=Math.round(this.data[e]);return this}round(){return this.clone().round_()}to(e){if(this.type===e)return this;if(!Rk.hasOwnProperty(e))throw new Error("Unsupported type: ".concat(e));return new Vk(e,Rk[e].from(this.data),this.dims)}}function Wk(e,t){var n;let[r,i]=t;const a=null!==(n=e.dims.at(-3))&&void 0!==n?n:1,o=e.dims.at(-2),s=e.dims.at(-1);let l=function(e,t,n){let[r,i,a]=t,[o,s]=n;const l=s/a,c=o/i,u=new e.constructor(o*s*r),d=i*a,h=o*s;for(let p=0;p<o;++p)for(let t=0;t<s;++t){const n=p*s+t,o=(t+.5)/l-.5,f=(p+.5)/c-.5;let m=Math.floor(o),g=Math.floor(f);const y=Math.min(m+1,a-1),b=Math.min(g+1,i-1);m=Math.max(m,0),g=Math.max(g,0);const w=o-m,v=f-g,_=(1-w)*(1-v),x=w*(1-v),k=(1-w)*v,D=w*v,T=g*a,A=b*a,S=T+m,C=T+y,E=A+m,F=A+y;for(let t=0;t<r;++t){const r=t*d;u[t*h+n]=_*e[r+S]+x*e[r+C]+k*e[r+E]+D*e[r+F]}}return u}(e.data,[a,o,s],[r,i]);return new Vk(e.type,l,[a,r,i])}function qk(e,t){return e=e.slice(),null===t?e=e.filter((e=>1!==e)):"number"===typeof t?1===e[t]&&e.splice(t,1):Array.isArray(t)&&(e=e.filter(((e,n)=>1!==e||!t.includes(n)))),e}function Uk(e,t){return t=Hk(t,e.length+1),(e=e.slice()).splice(t,0,1),e}function Hk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e<-t||e>=t)throw new Error("IndexError: index ".concat(e," is out of bounds for dimension").concat(null===n?"":" "+n," with size ").concat(t));return e<0&&(e=(e%t+t)%t),e}function Gk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Hk(t,e[0].dims.length);const n=e[0].dims.slice();n[t]=e.reduce(((e,n)=>e+n.dims[t]),0);const r=n.reduce(((e,t)=>e*t),1),i=new e[0].data.constructor(r),a=e[0].type;if(0===t){let t=0;for(let n of e)i.set(n.data,t),t+=n.data.length}else{let r=0;for(let a=0;a<e.length;++a){let o=e[a];for(let e=0;e<o.data.length;++e){let a=0;for(let i=o.dims.length-1,s=e,l=1;i>=0;--i){const e=o.dims[i];let c=s%e;i===t&&(c+=r),a+=c*l,l*=n[i],s=Math.floor(s/e)}i[a]=o.data[e]}r+=o.dims[t]}}return new Vk(a,i,n)}function Kk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Gk(e.map((e=>e.unsqueeze(t))),t)}function Yk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===t){const t=e.data.reduce(((e,t)=>e+t),0),r=t/e.data.length,i=Math.sqrt(e.data.reduce(((e,t)=>e+(t-r)**2),0)/(e.data.length-n)),a=new Vk(e.type,[r],[]);return[new Vk(e.type,[i],[]),a]}t=Hk(t,e.dims.length);const i=Jk(e,t,r),a=e.dims.slice();a[t]=1;const o=new e.data.constructor(e.data.length/e.dims[t]);for(let s=0;s<e.data.length;++s){let n=0;for(let r=e.dims.length-1,i=s,o=1;r>=0;--r){const s=e.dims[r];if(r!==t){n+=i%s*o,o*=a[r]}i=Math.floor(i/s)}o[n]+=(e.data[s]-i.data[n])**2}for(let s=0;s<o.length;++s)o[s]=Math.sqrt(o[s]/(e.dims[t]-n));r||a.splice(t,1);return[new Vk(e.type,o,a),i]}function Jk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===t){let t=e.data.reduce(((e,t)=>e+t),0);return new Vk(e.type,[t/e.data.length],[])}t=Hk(t,e.dims.length);const r=e.dims.slice();r[t]=1;const i=new e.data.constructor(e.data.length/e.dims[t]);for(let a=0;a<e.data.length;++a){let n=0;for(let i=e.dims.length-1,o=a,s=1;i>=0;--i){const a=e.dims[i];if(i!==t){n+=o%a*s,s*=r[i]}o=Math.floor(o/a)}i[n]+=e.data[a]}if(1!==e.dims[t])for(let a=0;a<i.length;++a)i[a]=i[a]/e.dims[t];return n||r.splice(t,1),new Vk(e.type,i,r)}function Zk(e){const[t,n]=e.dims,r=[t+1,n+1],i=new Vk("float32",new Float32Array(r[0]*r[1]).fill(1/0),r),a=new Vk("float32",new Float32Array(r[0]*r[1]).fill(-1),r);i[0].data[0]=0;for(let u=1;u<n+1;++u)for(let n=1;n<t+1;++n){const t=i[n-1][u-1].item(),r=i[n-1][u].item(),o=i[n][u-1].item();let s,l;t<r&&t<o?(s=t,l=0):r<t&&r<o?(s=r,l=1):(s=o,l=2),i[n].data[u]=e[n-1][u-1].item()+s,a[n].data[u]=l}let o=t,s=n;a.data.fill(2,0,r[1]);for(let u=0;u<r[0];++u)a[u].data[0]=1;let l=[],c=[];for(;o>0||s>0;){l.push(o-1),c.push(s-1);switch(a[o][s].item()){case 0:--o,--s;break;case 1:--o;break;case 2:--s;break;default:throw new Error("Internal error in dynamic time warping. Unexpected trace[".concat(o,", ").concat(s,"]. Please file a bug report."))}}return l.reverse(),c.reverse(),[l,c]}function Xk(e){return function(e){const t=e.reduce(((e,t)=>e*t),1);return new Vk("int64",new BigInt64Array(t).fill(1n),e)}(e.dims)}class $k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>e>t;this._heap=[],this._comparator=e}get size(){return this._heap.length}isEmpty(){return 0===this.size}peek(){return this._heap[0]}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.extend(t)}extend(e){for(const t of e)this._heap.push(t),this._siftUp();return this.size}pop(){const e=this.peek(),t=this.size-1;return t>0&&this._swap(0,t),this._heap.pop(),this._siftDown(),e}replace(e){const t=this.peek();return this._heap[0]=e,this._siftDown(),t}_parent(e){return(e+1>>>1)-1}_left(e){return 1+(e<<1)}_right(e){return e+1<<1}_greater(e,t){return this._comparator(this._heap[e],this._heap[t])}_swap(e,t){const n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n}_siftUp(){let e=this.size-1;for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const t=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,t),e=t}}}class Qk{constructor(){this.root=eD.default()}extend(e){for(let t of e)this.push(t)}push(e){let t=this.root;for(let n of e){let e=t.children.get(n);void 0===e&&(e=eD.default(),t.children.set(n,e)),t=e}t.isLeaf=!0}*commonPrefixSearch(e){let t=this.root,n="";for(let r=0;r<e.length&&void 0!==t;++r){const i=e[r];n+=i,t=t.children.get(i),void 0!==t&&t.isLeaf&&(yield n)}}}class eD{constructor(e,t){this.isLeaf=e,this.children=t}static default(){return new eD(!1,new Map)}}class tD{constructor(e,t,n){this.sentence=e,this.len=e.length,this.bosTokenId=t,this.eosTokenId=n,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},(()=>[])),this.endNodes=Array.from({length:this.len+1},(()=>[]));const r=new nD(this.bosTokenId,0,0,0,0),i=new nD(this.eosTokenId,1,this.len,0,0);this.nodes.push(r.clone()),this.nodes.push(i.clone()),this.beginNodes[this.len].push(i),this.endNodes[0].push(r)}insert(e,t,n,r){const i=this.nodes.length,a=new nD(r,i,e,t,n);this.beginNodes[e].push(a),this.endNodes[e+t].push(a),this.nodes.push(a)}viterbi(){const e=this.len;let t=0;for(;t<=e;){if(0==this.beginNodes[t].length)return[];for(let e of this.beginNodes[t]){e.prev=null;let n=0,r=null;for(let i of this.endNodes[t]){const t=i.backtraceScore+e.score;(null===r||t>n)&&(r=i.clone(),n=t)}if(null===r)return[];e.prev=r,e.backtraceScore=n}++t}const n=[],r=this.beginNodes[e][0].prev;if(null===r)return[];let i=r.clone();for(;null!==i.prev;){n.push(i.clone());const e=i.clone();i=e.prev.clone()}return n.reverse(),n}piece(e){return this.sentence.slice(e.pos,e.pos+e.length)}tokens(){return this.viterbi().map((e=>this.piece(e)))}tokenIds(){return this.viterbi().map((e=>e.tokenId))}}class nD{constructor(e,t,n,r,i){this.tokenId=e,this.nodeId=t,this.pos=n,this.length=r,this.score=i,this.prev=null,this.backtraceScore=0}clone(){const e=new nD(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}var rD=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),iD=Object.freeze({set:rD.Set,for:rD.For,in:rD.In,is:rD.Is,if:rD.If,else:rD.Else,endif:rD.EndIf,elif:rD.ElseIf,endfor:rD.EndFor,and:rD.And,or:rD.Or,not:rD.Not,"not in":rD.NotIn,true:rD.BooleanLiteral,false:rD.BooleanLiteral}),aD=class{constructor(e,t){this.value=e,this.type=t}};function oD(e){return/\w/.test(e)}function sD(e){return/[0-9]/.test(e)}var lD=[["{%",rD.OpenStatement],["%}",rD.CloseStatement],["{{",rD.OpenExpression],["}}",rD.CloseExpression],["(",rD.OpenParen],[")",rD.CloseParen],["{",rD.OpenCurlyBracket],["}",rD.CloseCurlyBracket],["[",rD.OpenSquareBracket],["]",rD.CloseSquareBracket],[",",rD.Comma],[".",rD.Dot],[":",rD.Colon],["|",rD.Pipe],["<=",rD.ComparisonBinaryOperator],[">=",rD.ComparisonBinaryOperator],["==",rD.ComparisonBinaryOperator],["!=",rD.ComparisonBinaryOperator],["<",rD.ComparisonBinaryOperator],[">",rD.ComparisonBinaryOperator],["+",rD.AdditiveBinaryOperator],["-",rD.AdditiveBinaryOperator],["*",rD.MultiplicativeBinaryOperator],["/",rD.MultiplicativeBinaryOperator],["%",rD.MultiplicativeBinaryOperator],["=",rD.Equals]],cD=new Map([["n","\n"],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);var uD=class{constructor(){l(this,"type","Statement")}},dD=class extends uD{constructor(e){super(),l(this,"type","Program"),this.body=e}},hD=class extends uD{constructor(e,t,n){super(),l(this,"type","If"),this.test=e,this.body=t,this.alternate=n}},pD=class extends uD{constructor(e,t,n){super(),l(this,"type","For"),this.loopvar=e,this.iterable=t,this.body=n}},fD=class extends uD{constructor(e,t){super(),l(this,"type","Set"),this.assignee=e,this.value=t}},mD=class extends uD{constructor(){super(...arguments),l(this,"type","Expression")}},gD=class extends mD{constructor(e,t,n){super(),l(this,"type","MemberExpression"),this.object=e,this.property=t,this.computed=n}},yD=class extends mD{constructor(e,t){super(),l(this,"type","CallExpression"),this.callee=e,this.args=t}},bD=class extends mD{constructor(e){super(),l(this,"type","Identifier"),this.value=e}},wD=class extends mD{constructor(e){super(),l(this,"type","Literal"),this.value=e}},vD=class extends wD{constructor(){super(...arguments),l(this,"type","NumericLiteral")}},_D=class extends wD{constructor(){super(...arguments),l(this,"type","StringLiteral")}},xD=class extends wD{constructor(){super(...arguments),l(this,"type","BooleanLiteral")}},kD=class extends wD{constructor(){super(...arguments),l(this,"type","ArrayLiteral")}},DD=class extends wD{constructor(){super(...arguments),l(this,"type","TupleLiteral")}},TD=class extends wD{constructor(){super(...arguments),l(this,"type","ObjectLiteral")}},AD=class extends mD{constructor(e,t,n){super(),l(this,"type","BinaryExpression"),this.operator=e,this.left=t,this.right=n}},SD=class extends mD{constructor(e,t){super(),l(this,"type","FilterExpression"),this.operand=e,this.filter=t}},CD=class extends mD{constructor(e,t,n){super(),l(this,"type","TestExpression"),this.operand=e,this.negate=t,this.test=n}},ED=class extends mD{constructor(e,t){super(),l(this,"type","UnaryExpression"),this.operator=e,this.argument=t}},FD=class extends mD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(),l(this,"type","SliceExpression"),this.start=e,this.stop=t,this.step=n}},MD=class extends mD{constructor(e,t){super(),l(this,"type","KeywordArgumentExpression"),this.key=e,this.value=t}};function ID(e){const t=new dD([]);let n=0;function r(t,r){const i=e[n++];if(!i||i.type!==t)throw new Error("Parser Error: ".concat(r,". ").concat(i.type," !== ").concat(t,"."));return i}function i(){switch(e[n].type){case rD.Text:return new _D(r(rD.Text,"Expected text token").value);case rD.OpenStatement:return function(){let t;switch(r(rD.OpenStatement,"Expected opening statement token"),e[n].type){case rD.Set:++n,t=s(),r(rD.CloseStatement,"Expected closing statement token");break;case rD.If:++n,t=l(),r(rD.OpenStatement,"Expected {% token"),r(rD.EndIf,"Expected endif token"),r(rD.CloseStatement,"Expected %} token");break;case rD.For:++n,t=function(){const e=c(!0);if(!(e instanceof bD||e instanceof DD))throw new SyntaxError("Expected identifier/tuple for the loop variable, got ".concat(e.type," instead"));r(rD.In,"Expected `in` keyword following loop variable");const t=u();r(rD.CloseStatement,"Expected closing statement token");const n=[];for(;a(rD.OpenStatement,rD.EndFor);)n.push(i());return new pD(e,t,n)}(),r(rD.OpenStatement,"Expected {% token"),r(rD.EndFor,"Expected endfor token"),r(rD.CloseStatement,"Expected %} token");break;default:throw new SyntaxError("Unknown statement type: ".concat(e[n].type))}return t}();case rD.OpenExpression:return function(){r(rD.OpenExpression,"Expected opening expression token");const e=u();return r(rD.CloseExpression,"Expected closing expression token"),e}();default:throw new SyntaxError("Unexpected token type: ".concat(e[n].type))}}function a(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n+r.length<=e.length&&r.some(((t,r)=>t!==e[n+r].type))}function o(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n+r.length<=e.length&&r.every(((t,r)=>t===e[n+r].type))}function s(){const e=u();if(o(rD.Equals)){++n;const t=s();return new fD(e,t)}return e}function l(){var t,a;const s=u();r(rD.CloseStatement,"Expected closing statement token");const c=[],d=[];for(;(null===(h=e[n])||void 0===h?void 0:h.type)!==rD.OpenStatement||(null===(p=e[n+1])||void 0===p?void 0:p.type)!==rD.ElseIf&&(null===(f=e[n+1])||void 0===f?void 0:f.type)!==rD.Else&&(null===(m=e[n+1])||void 0===m?void 0:m.type)!==rD.EndIf;){var h,p,f,m;c.push(i())}if((null===(t=e[n])||void 0===t?void 0:t.type)===rD.OpenStatement&&(null===(a=e[n+1])||void 0===a?void 0:a.type)!==rD.EndIf)if(++n,o(rD.ElseIf))r(rD.ElseIf,"Expected elseif token"),d.push(l());else for(r(rD.Else,"Expected else token"),r(rD.CloseStatement,"Expected closing statement token");(null===(g=e[n])||void 0===g?void 0:g.type)!==rD.OpenStatement||(null===(y=e[n+1])||void 0===y?void 0:y.type)!==rD.EndIf;){var g,y;d.push(i())}return new hD(s,c,d)}function c(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?v:u,t=[e()],r=o(rD.Comma);for(;r&&(++n,t.push(e()),o(rD.Comma)););return r?new DD(t):t[0]}function u(){return function(){const e=d();if(o(rD.If)){++n;const t=d();r(rD.Else,"Expected else token");const i=d();return new hD(t,[e],[i])}return e}()}function d(){let t=h();for(;o(rD.Or);){const r=e[n];++n;const i=h();t=new AD(r,t,i)}return t}function h(){let t=p();for(;o(rD.And);){const r=e[n];++n;const i=p();t=new AD(r,t,i)}return t}function p(){let t;for(;o(rD.Not);){const r=e[n];++n;const i=p();t=new ED(r,i)}return null!==t&&void 0!==t?t:function(){let t=f();for(;o(rD.ComparisonBinaryOperator)||o(rD.In)||o(rD.NotIn);){const r=e[n];++n;const i=f();t=new AD(r,t,i)}return t}()}function f(){let t=b();for(;o(rD.AdditiveBinaryOperator);){const r=e[n];++n;const i=b();t=new AD(r,t,i)}return t}function m(){const t=function(){let t=v();for(;o(rD.Dot)||o(rD.OpenSquareBracket);){const i=e[n];let a;++n;const o=i.type!==rD.Dot;if(o)a=y(),r(rD.CloseSquareBracket,"Expected closing square bracket");else if(a=v(),"Identifier"!==a.type)throw new SyntaxError("Expected identifier following dot operator");t=new gD(t,a,o)}return t}();return o(rD.OpenParen)?g(t):t}function g(e){let t=new yD(e,function(){r(rD.OpenParen,"Expected opening parenthesis for arguments list");const e=function(){const e=[];for(;!o(rD.CloseParen);){let t=u();if(o(rD.Equals)){if(++n,!(t instanceof bD))throw new SyntaxError("Expected identifier for keyword argument");const e=u();t=new MD(t,e)}e.push(t),o(rD.Comma)&&++n}return e}();return r(rD.CloseParen,"Expected closing parenthesis for arguments list"),e}());return o(rD.OpenParen)&&(t=g(t)),t}function y(){const e=[];let t=!1;for(;!o(rD.CloseSquareBracket);)o(rD.Colon)?(e.push(void 0),++n,t=!0):(e.push(u()),o(rD.Colon)&&(++n,t=!0));if(0===e.length)throw new SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new FD(...e)}return e[0]}function b(){let t=w();for(;o(rD.MultiplicativeBinaryOperator);){const r=e[n];++n;const i=w();t=new AD(r,t,i)}return t}function w(){let e=function(){let e=m();for(;o(rD.Pipe);){++n;let t=v();if(!(t instanceof bD))throw new SyntaxError("Expected identifier for the filter");o(rD.OpenParen)&&(t=g(t)),e=new SD(e,t)}return e}();for(;o(rD.Is);){++n;const t=o(rD.Not);t&&++n;let r=v();if(r instanceof xD&&(r=new bD(r.value.toString())),!(r instanceof bD))throw new SyntaxError("Expected identifier for the test");e=new CD(e,t,r)}return e}function v(){const t=e[n];switch(t.type){case rD.NumericLiteral:return++n,new vD(Number(t.value));case rD.StringLiteral:return++n,new _D(t.value);case rD.BooleanLiteral:return++n,new xD("true"===t.value);case rD.Identifier:return++n,new bD(t.value);case rD.OpenParen:{++n;const t=c();if(e[n].type!==rD.CloseParen)throw new SyntaxError("Expected closing parenthesis, got ".concat(e[n].type," instead"));return++n,t}case rD.OpenSquareBracket:{++n;const e=[];for(;!o(rD.CloseSquareBracket);)e.push(u()),o(rD.Comma)&&++n;return++n,new kD(e)}case rD.OpenCurlyBracket:{++n;const e=new Map;for(;!o(rD.CloseCurlyBracket);){const t=u();r(rD.Colon,"Expected colon between key and value in object literal");const i=u();e.set(t,i),o(rD.Comma)&&++n}return++n,new TD(e)}default:throw new SyntaxError("Unexpected token: ".concat(t.type))}}for(;n<e.length;)t.body.push(i());return t}function PD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===t&&(t=e,e=0);const r=[];for(let i=e;i<t;i+=n)r.push(i);return r}function zD(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=Math.sign(r);i>=0?(t=(null!==t&&void 0!==t?t:t=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),n=(null!==n&&void 0!==n?n:n=e.length)<0?Math.max(e.length+n,0):Math.min(n,e.length)):(t=(null!==t&&void 0!==t?t:t=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),n=(null!==n&&void 0!==n?n:n=-1)<-1?Math.max(e.length+n,-1):Math.min(n,e.length-1));const a=[];for(let o=t;i*o<i*n;o+=r)a.push(e[o]);return a}function ND(e){return e.replace(/\b\w/g,(e=>e.toUpperCase()))}var OD=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;l(this,"type","RuntimeValue"),l(this,"value",void 0),l(this,"builtins",new Map),this.value=e}__bool__(){return new RD(!!this.value)}},BD=class extends OD{constructor(){super(...arguments),l(this,"type","NumericValue")}},LD=class extends OD{constructor(){super(...arguments),l(this,"type","StringValue"),l(this,"builtins",new Map([["upper",new qD((()=>new LD(this.value.toUpperCase())))],["lower",new qD((()=>new LD(this.value.toLowerCase())))],["strip",new qD((()=>new LD(this.value.trim())))],["title",new qD((()=>new LD(ND(this.value))))],["length",new BD(this.value.length)]]))}},RD=class extends OD{constructor(){super(...arguments),l(this,"type","BooleanValue")}},jD=class extends OD{constructor(){super(...arguments),l(this,"type","ObjectValue"),l(this,"builtins",new Map([["get",new qD((e=>{var t,n;let[r,i]=e;if(!(r instanceof LD))throw new Error("Object key must be a string: got ".concat(r.type));return null!==(t=null!==(n=this.value.get(r.value))&&void 0!==n?n:i)&&void 0!==t?t:new UD}))],["items",new qD((()=>new VD(Array.from(this.value.entries()).map((e=>{let[t,n]=e;return new VD([new LD(t),n])})))))]]))}__bool__(){return new RD(this.value.size>0)}},VD=class extends OD{constructor(){super(...arguments),l(this,"type","ArrayValue"),l(this,"builtins",new Map([["length",new BD(this.value.length)]]))}__bool__(){return new RD(this.value.length>0)}},WD=class extends VD{constructor(){super(...arguments),l(this,"type","TupleValue")}},qD=class extends OD{constructor(){super(...arguments),l(this,"type","FunctionValue")}},UD=class extends OD{constructor(){super(...arguments),l(this,"type","NullValue")}},HD=class extends OD{constructor(){super(...arguments),l(this,"type","UndefinedValue")}},GD=class{constructor(e){l(this,"variables",new Map([["namespace",new qD((e=>{if(0===e.length)return new jD(new Map);if(1!==e.length||!(e[0]instanceof jD))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]}))]])),l(this,"tests",new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof qD],["odd",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "odd" to type: '.concat(e.type));return e.value%2!==0}],["even",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "even" to type: '.concat(e.type));return e.value%2===0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["number",e=>"NumericValue"===e.type],["integer",e=>"NumericValue"===e.type&&Number.isInteger(e.value)],["iterable",e=>e instanceof VD||e instanceof LD],["lower",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value]])),this.parent=e}set(e,t){return this.declareVariable(e,YD(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError("Variable already declared: ".concat(e));return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error("Unknown variable: ".concat(e))}lookupVariable(e){try{var t;return null!==(t=this.resolve(e).variables.get(e))&&void 0!==t?t:new HD}catch(n){return new HD}}},KD=class{constructor(e){l(this,"global",void 0),this.global=null!==e&&void 0!==e?e:new GD}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const n=this.evaluate(e.left,t);switch(e.operator.value){case"and":return n.__bool__().value?this.evaluate(e.right,t):n;case"or":return n.__bool__().value?n:this.evaluate(e.right,t)}const r=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new RD(n.value==r.value);case"!=":return new RD(n.value!=r.value)}if(n instanceof HD||r instanceof HD)throw new Error("Cannot perform operation on undefined values");if(n instanceof UD||r instanceof UD)throw new Error("Cannot perform operation on null values");if(n instanceof BD&&r instanceof BD)switch(e.operator.value){case"+":return new BD(n.value+r.value);case"-":return new BD(n.value-r.value);case"*":return new BD(n.value*r.value);case"/":return new BD(n.value/r.value);case"%":return new BD(n.value%r.value);case"<":return new RD(n.value<r.value);case">":return new RD(n.value>r.value);case">=":return new RD(n.value>=r.value);case"<=":return new RD(n.value<=r.value)}else if(n instanceof VD&&r instanceof VD){if("+"===e.operator.value)return new VD(n.value.concat(r.value))}else if(r instanceof VD){const t=void 0!==r.value.find((e=>e.value===n.value));switch(e.operator.value){case"in":return new RD(t);case"not in":return new RD(!t)}}if((n instanceof LD||r instanceof LD)&&"+"===e.operator.value)return new LD(n.value.toString()+r.value.toString());if(n instanceof LD&&r instanceof LD)switch(e.operator.value){case"in":return new RD(r.value.includes(n.value));case"not in":return new RD(!r.value.includes(n.value))}if(n instanceof LD&&r instanceof jD)switch(e.operator.value){case"in":return new RD(r.value.has(n.value));case"not in":return new RD(!r.value.has(n.value))}throw new SyntaxError('Unknown operator "'.concat(e.operator.value,'" between ').concat(n.type," and ").concat(r.type))}evaluateFilterExpression(e,t){const n=this.evaluate(e.operand,t);if("Identifier"===e.filter.type){const t=e.filter;if(n instanceof VD)switch(t.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new BD(n.value.length);case"reverse":return new VD(n.value.reverse());case"sort":return new VD(n.value.sort(((e,t)=>{if(e.type!==t.type)throw new Error("Cannot compare different types: ".concat(e.type," and ").concat(t.type));switch(e.type){case"NumericValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw new Error("Cannot compare type: ".concat(e.type))}})));default:throw new Error("Unknown ArrayValue filter: ".concat(t.value))}else if(n instanceof LD)switch(t.value){case"length":return new BD(n.value.length);case"upper":return new LD(n.value.toUpperCase());case"lower":return new LD(n.value.toLowerCase());case"title":return new LD(ND(n.value));case"capitalize":return new LD(n.value.charAt(0).toUpperCase()+n.value.slice(1));case"trim":return new LD(n.value.trim());default:throw new Error("Unknown StringValue filter: ".concat(t.value))}else{if(n instanceof BD){if("abs"===t.value)return new BD(Math.abs(n.value));throw new Error("Unknown NumericValue filter: ".concat(t.value))}if(n instanceof jD)switch(t.value){case"items":return new VD(Array.from(n.value.entries()).map((e=>{let[t,n]=e;return new VD([new LD(t),n])})));case"length":return new BD(n.value.size);default:throw new Error("Unknown ObjectValue filter: ".concat(t.value))}}throw new Error('Cannot apply filter "'.concat(t.value,'" to type: ').concat(n.type))}if("CallExpression"===e.filter.type){const r=e.filter;if("Identifier"!==r.callee.type)throw new Error("Unknown filter: ".concat(r.callee.type));const i=r.callee.value;if(n instanceof VD){if("selectattr"===i){if(n.value.some((e=>!(e instanceof jD))))throw new Error("`selectattr` can only be applied to array of objects");if(r.args.some((e=>"StringLiteral"!==e.type)))throw new Error("arguments of `selectattr` must be strings");const[e,i,a]=r.args.map((e=>this.evaluate(e,t)));let o;if(i){const e=t.tests.get(i.value);if(!e)throw new Error("Unknown test: ".concat(i.value));o=e}else o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].__bool__().value};const s=n.value.filter((t=>{const n=t.value.get(e.value);return!!n&&o(n,a)}));return new VD(s)}throw new Error("Unknown ArrayValue filter: ".concat(i))}throw new Error('Cannot apply filter "'.concat(i,'" to type: ').concat(n.type))}throw new Error("Unknown filter: ".concat(e.filter.type))}evaluateTestExpression(e,t){const n=this.evaluate(e.operand,t),r=t.tests.get(e.test.value);if(!r)throw new Error("Unknown test: ".concat(e.test.value));const i=r(n);return new RD(e.negate?!i:i)}evaluateUnaryExpression(e,t){const n=this.evaluate(e.argument,t);if("not"===e.operator.value)return new RD(!n.value);throw new SyntaxError("Unknown operator: ".concat(e.operator.value))}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let n="";for(const r of e){const e=this.evaluate(r,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(n+=e.value)}return new LD(n)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const n=[],r=new Map;for(const a of e.args)if("KeywordArgumentExpression"===a.type){const e=a;r.set(e.key.value,this.evaluate(e.value,t))}else n.push(this.evaluate(a,t));r.size>0&&n.push(new jD(r));const i=this.evaluate(e.callee,t);if("FunctionValue"!==i.type)throw new Error("Cannot call something that is not a function: got ".concat(i.type));return i.value(n,t)}evaluateSliceExpression(e,t,n){if(!(e instanceof VD||e instanceof LD))throw new Error("Slice object must be an array or string");const r=this.evaluate(t.start,n),i=this.evaluate(t.stop,n),a=this.evaluate(t.step,n);if(!(r instanceof BD||r instanceof HD))throw new Error("Slice start must be numeric or undefined");if(!(i instanceof BD||i instanceof HD))throw new Error("Slice stop must be numeric or undefined");if(!(a instanceof BD||a instanceof HD))throw new Error("Slice step must be numeric or undefined");return e instanceof VD?new VD(zD(e.value,r.value,i.value,a.value)):new LD(zD(Array.from(e.value),r.value,i.value,a.value).join(""))}evaluateMemberExpression(e,t){const n=this.evaluate(e.object,t);let r,i;if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(n,e.property,t);r=this.evaluate(e.property,t)}else r=new LD(e.property.value);if(n instanceof jD){var a;if(!(r instanceof LD))throw new Error("Cannot access property with non-string: got ".concat(r.type));i=null!==(a=n.value.get(r.value))&&void 0!==a?a:n.builtins.get(r.value)}else if(n instanceof VD||n instanceof LD)if(r instanceof BD)i=n.value.at(r.value),n instanceof LD&&(i=new LD(n.value.at(r.value)));else{if(!(r instanceof LD))throw new Error("Cannot access property with non-string/non-number: got ".concat(r.type));i=n.builtins.get(r.value)}else{if(!(r instanceof LD))throw new Error("Cannot access property with non-string: got ".concat(r.type));i=n.builtins.get(r.value)}return i instanceof OD?i:new HD}evaluateSet(e,t){const n=this.evaluate(e.value,t);if("Identifier"===e.assignee.type){const r=e.assignee.value;t.setVariable(r,n)}else{if("MemberExpression"!==e.assignee.type)throw new Error("Invalid LHS inside assignment expression: ".concat(JSON.stringify(e.assignee)));{const r=e.assignee,i=this.evaluate(r.object,t);if(!(i instanceof jD))throw new Error("Cannot assign to member of non-object");if("Identifier"!==r.property.type)throw new Error("Cannot assign to member with non-identifier property");i.value.set(r.property.value,n)}}return new UD}evaluateIf(e,t){const n=this.evaluate(e.test,t);return this.evaluateBlock(n.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const n=new GD(t),r=this.evaluate(e.iterable,n);if(!(r instanceof VD))throw new Error("Expected iterable type in for loop: got ".concat(r.type));let i="";for(let a=0;a<r.value.length;++a){const t=new Map([["index",new BD(a+1)],["index0",new BD(a)],["revindex",new BD(r.value.length-a)],["revindex0",new BD(r.value.length-a-1)],["first",new RD(0===a)],["last",new RD(a===r.value.length-1)],["length",new BD(r.value.length)],["previtem",a>0?r.value[a-1]:new HD],["nextitem",a<r.value.length-1?r.value[a+1]:new HD]]);n.setVariable("loop",new jD(t));const o=r.value[a];if("Identifier"===e.loopvar.type)n.setVariable(e.loopvar.value,o);else if("TupleLiteral"===e.loopvar.type){const t=e.loopvar;if("ArrayValue"!==o.type)throw new Error("Cannot unpack non-iterable type: ".concat(o.type));const r=o;if(t.value.length!==r.value.length)throw new Error("Too ".concat(t.value.length>r.value.length?"few":"many"," items to unpack"));for(let e=0;e<t.value.length;++e){if("Identifier"!==t.value[e].type)throw new Error("Cannot unpack non-identifier type: ".concat(t.value[e].type));n.setVariable(t.value[e].value,r.value[e])}}i+=this.evaluateBlock(e.body,n).value}return new LD(i)}evaluate(e,t){if(void 0===e)return new HD;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"NumericLiteral":return new BD(Number(e.value));case"StringLiteral":return new LD(e.value);case"BooleanLiteral":return new RD(e.value);case"ArrayLiteral":return new VD(e.value.map((e=>this.evaluate(e,t))));case"TupleLiteral":return new WD(e.value.map((e=>this.evaluate(e,t))));case"ObjectLiteral":{const n=new Map;for(const[r,i]of e.value){const e=this.evaluate(r,t);if(!(e instanceof LD))throw new Error("Object keys must be strings: got ".concat(e.type));n.set(e.value,this.evaluate(i,t))}return new jD(n)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);default:throw new SyntaxError("Unknown node type: ".concat(e.type))}}};function YD(e){switch(typeof e){case"number":return new BD(e);case"string":return new LD(e);case"boolean":return new RD(e);case"object":return null===e?new UD:Array.isArray(e)?new VD(e.map(YD)):new jD(new Map(Object.entries(e).map((e=>{let[t,n]=e;return[t,YD(n)]}))));case"function":return new qD(((t,n)=>{var r;const i=null!==(r=e(...t.map((e=>e.value))))&&void 0!==r?r:null;return YD(i)}));default:throw new Error("Cannot convert to runtime value: ".concat(e))}}var JD=class{constructor(e){l(this,"parsed",void 0);const t=function(e){const t=[],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.endsWith("\n")&&(e=e.slice(0,-1)),e=e.replace(/{#[^]*?#}/g,"{##}"),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%]})\n/g,"$1")),e.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r=0;const i=e=>{let t="";for(;e(n[r]);)if("\\"!==n[r]){if(t+=n[r++],r>=n.length)throw new SyntaxError("Unexpected end of input")}else{if(++r,r>=n.length)throw new SyntaxError("Unexpected end of input");const e=n[r++],i=cD.get(e);if(void 0===i)throw new SyntaxError("Unexpected escaped character: ".concat(e));t+=i}return t};e:for(;r<n.length;){var a;const e=null===(a=t.at(-1))||void 0===a?void 0:a.type;if(void 0===e||e===rD.CloseStatement||e===rD.CloseExpression){let e="";for(;r<n.length&&("{"!==n[r]||"%"!==n[r+1]&&"{"!==n[r+1]);)e+=n[r++];if(e.length>0){t.push(new aD(e,rD.Text));continue}}i((e=>/\s/.test(e)));const l=n[r];if("-"===l||"+"===l){var o;const e=null===(o=t.at(-1))||void 0===o?void 0:o.type;if(e===rD.Text||void 0===e)throw new SyntaxError("Unexpected character: ".concat(l));switch(e){case rD.Identifier:case rD.NumericLiteral:case rD.BooleanLiteral:case rD.StringLiteral:case rD.CloseParen:case rD.CloseSquareBracket:break;default:{++r;const e=i(sD);t.push(new aD("".concat(l).concat(e),e.length>0?rD.NumericLiteral:rD.UnaryOperator));continue}}}for(const[i,a]of lD)if(n.slice(r,r+i.length)===i){t.push(new aD(i,a)),r+=i.length;continue e}if("'"!==l&&'"'!==l)if(sD(l)){const e=i(sD);t.push(new aD(e,rD.NumericLiteral))}else{if(!oD(l))throw new SyntaxError("Unexpected character: ".concat(l));{var s;const e=i(oD),n=Object.hasOwn(iD,e)?iD[e]:rD.Identifier;n===rD.In&&(null===(s=t.at(-1))||void 0===s?void 0:s.type)===rD.Not?(t.pop(),t.push(new aD("not in",rD.NotIn))):t.push(new aD(e,n))}}else{++r;const e=i((e=>e!==l));t.push(new aD(e,rD.StringLiteral)),++r}}return t}(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=ID(t)}render(e){const t=new GD;t.set("false",!1),t.set("true",!0),t.set("raise_exception",(e=>{throw new Error(e)})),t.set("range",PD);for(const[n,r]of Object.entries(e))t.set(n,r);return new KD(t).run(this.parsed).value}};const ZD=["chat_template","add_generation_prompt","tokenize","padding","truncation","max_length","return_tensor","tokenizer_kwargs"];async function XD(e,t){const n=await Promise.all([Sk(e,"tokenizer.json",!0,t),Sk(e,"tokenizer_config.json",!0,t)]);return null!==t.legacy&&(n[1].legacy=t.legacy),n}function $D(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==e.Regex){let t=e.Regex.replace(/\\([#&~])/g,"$1");for(const[e,n]of iT)t=t.replaceAll(e,n);return new RegExp(t,"gu")}if(void 0!==e.String){const n=Vx(e.String);return new RegExp(t?n:"(".concat(n,")"),"gu")}return console.warn("Unknown pattern type:",e),null}function QD(e){return new Map(Object.entries(e))}function eT(e){const t=e.dims;switch(t.length){case 1:return e.tolist();case 2:if(1!==t[0])throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return e.tolist()[0];default:throw new Error("Expected tensor to have 1-2 dimensions, got ".concat(t.length,"."))}}function tT(e){return e.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function nT(e){return e.replace(/[\u0300-\u036f]/g,"")}const rT="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",iT=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"]]);class aT{constructor(e){var t,n,r,i,a;this.content=e.content,this.id=e.id,this.single_word=null!==(t=e.single_word)&&void 0!==t&&t,this.lstrip=null!==(n=e.lstrip)&&void 0!==n&&n,this.rstrip=null!==(r=e.rstrip)&&void 0!==r&&r,this.special=null!==(i=e.special)&&void 0!==i&&i,this.normalized=null!==(a=e.normalized)&&void 0!==a?a:null}}class oT extends Wx{constructor(e){var t;super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=null!==(t=this.config.fuse_unk)&&void 0!==t&&t}static fromConfig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];switch(e.type){case"WordPiece":return new sT(e);case"Unigram":return new lT(e,...n);case"BPE":return new dT(e);default:if(e.vocab)return new hT(e,...n);throw new Error("Unknown TokenizerModel type: ".concat(e.type))}}_call(e){let t=this.encode(e);return this.fuse_unk&&(t=function(e,t,n){const r=[];let i=0;for(;i<e.length;){var a;if(r.push(e[i]),(null!==(a=n.get(e[i]))&&void 0!==a?a:t)===t)for(;i<e.length&&(null!==(o=n.get(e[i]))&&void 0!==o?o:t)===t;){var o;++i}else++i}return r}(t,this.unk_token_id,this.tokens_to_ids)),t}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map((e=>{var t;return null!==(t=this.tokens_to_ids.get(e))&&void 0!==t?t:this.unk_token_id}))}convert_ids_to_tokens(e){return e.map((e=>{var t;return null!==(t=this.vocab[e])&&void 0!==t?t:this.unk_token}))}}class sT extends oT{constructor(e){var t;super(e),this.tokens_to_ids=QD(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=null!==(t=e.max_input_chars_per_word)&&void 0!==t?t:100,this.vocab=new Array(this.tokens_to_ids.size);for(const[n,r]of this.tokens_to_ids)this.vocab[r]=n}encode(e){const t=[];for(const n of e){const e=[...n];if(e.length>this.max_input_chars_per_word){t.push(this.unk_token);continue}let r=!1,i=0;const a=[];for(;i<e.length;){let t=e.length,n=null;for(;i<t;){let r=e.slice(i,t).join("");if(i>0&&(r=this.config.continuing_subword_prefix+r),this.tokens_to_ids.has(r)){n=r;break}--t}if(null===n){r=!0;break}a.push(n),i=t}r?t.push(this.unk_token):t.push(...a)}return t}}class lT extends oT{constructor(e,t){super(e);const n=e.vocab.length;this.vocab=new Array(n),this.scores=new Array(n);for(let r=0;r<n;++r){const t=e.vocab[r];this.vocab[r]=t[0],this.scores[r]=t[1]}this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map(((e,t)=>[e,t]))),this.bosToken=" ",this.bosTokenId=this.tokens_to_ids.get(this.bosToken),this.eosToken=t.eos_token,this.eosTokenId=this.tokens_to_ids.get(this.eosToken),this.unkToken=this.vocab[this.unk_token_id],this.minScore=Mk(this.scores)[0],this.unkScore=this.minScore-10,this.scores[this.unk_token_id]=this.unkScore,this.trie=new Qk,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const t=e.sentence,n=t.length;let r=0;for(;r<n;){const n=1;let i=!1;const a=[];for(let o of this.trie.commonPrefixSearch(t.slice(r))){a.push(o);const t=this.tokens_to_ids.get(o),s=this.scores[t],l=o.length;e.insert(r,l,s,t),i||l!==n||(i=!0)}i||e.insert(r,n,this.unkScore,this.unk_token_id),r+=n}}tokenize(e){const t=new tD(e,this.bosTokenId,this.eosTokenId);return this.populateNodes(t),t.tokens()}encode(e){const t=[];for(const n of e){const e=this.tokenize(n);t.push(...e)}return t}}const cT=(()=>{const e=[...Array.from({length:"~".charCodeAt(0)-"!".charCodeAt(0)+1},((e,t)=>t+"!".charCodeAt(0))),...Array.from({length:"\xac".charCodeAt(0)-"\xa1".charCodeAt(0)+1},((e,t)=>t+"\xa1".charCodeAt(0))),...Array.from({length:"\xff".charCodeAt(0)-"\xae".charCodeAt(0)+1},((e,t)=>t+"\xae".charCodeAt(0)))],t=e.slice();let n=0;for(let i=0;i<256;++i)e.includes(i)||(e.push(i),t.push(256+n),n+=1);const r=t.map((e=>String.fromCharCode(e)));return Object.fromEntries(e.map(((e,t)=>[e,r[t]])))})(),uT=function(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[n,t]})))}(cT);class dT extends oT{constructor(e){var t,n,r;super(e),this.BPE_SPLIT_TOKEN=" ",this.tokens_to_ids=QD(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[i,a]of this.tokens_to_ids)this.vocab[a]=i;this.bpe_ranks=new Map(e.merges.map(((e,t)=>[e,t]))),this.merges=e.merges.map((e=>e.split(this.BPE_SPLIT_TOKEN))),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=null!==(t=e.continuing_subword_suffix)&&void 0!==t?t:null,this.byte_fallback=null!==(n=this.config.byte_fallback)&&void 0!==n&&n,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=null!==(r=this.config.ignore_merges)&&void 0!==r&&r,this.cache=new Map}bpe(e){if(0===e.length)return[];const t=this.cache.get(e);if(void 0!==t)return t;const n=Array.from(e);this.end_of_word_suffix&&(n[n.length-1]+=this.end_of_word_suffix);let r=[];if(n.length>1){const e=new $k(((e,t)=>e.score<t.score));let t={token:n[0],bias:0,prev:null,next:null},i=t;for(let r=1;r<n.length;++r){const t={bias:r/n.length,token:n[r],prev:i,next:null};i.next=t,this._add_node(e,i),i=t}for(;!e.isEmpty();){const n=e.pop();if(n.deleted||!n.next||n.next.deleted)continue;if(n.deleted=!0,n.next.deleted=!0,n.prev){const e=u({},n.prev);n.prev.deleted=!0,n.prev=e,e.prev?e.prev.next=e:t=e}const r={token:n.token+n.next.token,bias:n.bias,prev:n.prev,next:n.next.next};r.prev?(r.prev.next=r,this._add_node(e,r.prev)):t=r,r.next&&(r.next.prev=r,this._add_node(e,r))}for(let n=t;null!==n;n=n.next)r.push(n.token)}else r=n;if(this.continuing_subword_suffix)for(let i=0;i<r.length-1;++i)r[i]+=this.continuing_subword_suffix;return this.cache.set(e,r),r}_add_node(e,t){const n=this.bpe_ranks.get(t.token+this.BPE_SPLIT_TOKEN+t.next.token);void 0!==n&&(t.score=n+t.bias,e.push(t))}encode(e){const t=[];for(const n of e){if(this.ignore_merges&&this.tokens_to_ids.has(n)){t.push(n);continue}const e=this.bpe(n);for(const n of e)this.tokens_to_ids.has(n)?t.push(n):this.byte_fallback?t.push(...Array.from(this.text_encoder.encode(n)).map((e=>"<0x".concat(e.toString(16).toUpperCase().padStart(2,"0"),">")))):t.push(this.unk_token)}return t}}class hT extends oT{constructor(e,t){super(e),this.tokens_to_ids=QD(t.target_lang?e.vocab[t.target_lang]:e.vocab),this.bos_token=t.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=t.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=t.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[n,r]of this.tokens_to_ids)this.vocab[r]=n}encode(e){return e}}class pT extends Wx{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"BertNormalizer":return new kT(e);case"Precompiled":return new JT(e);case"Sequence":return new xT(e);case"Replace":return new fT(e);case"NFC":return new mT(e);case"NFKC":return new gT(e);case"NFKD":return new yT(e);case"Strip":return new bT(e);case"StripAccents":return new wT(e);case"Lowercase":return new vT(e);case"Prepend":return new _T(e);default:throw new Error("Unknown Normalizer type: ".concat(e.type))}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class fT extends pT{normalize(e){const t=$D(this.config.pattern);return null===t?e:e.replaceAll(t,this.config.content)}}class mT extends pT{normalize(e){return e=e.normalize("NFC")}}class gT extends pT{normalize(e){return e=e.normalize("NFKC")}}class yT extends pT{normalize(e){return e=e.normalize("NFKD")}}class bT extends pT{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class wT extends pT{normalize(e){return e=nT(e)}}class vT extends pT{normalize(e){return e=e.toLowerCase()}}class _T extends pT{normalize(e){return e=this.config.prepend+e}}class xT extends pT{constructor(e){super(e),this.normalizers=e.normalizers.map((e=>pT.fromConfig(e)))}normalize(e){return this.normalizers.reduce(((e,t)=>t.normalize(e)),e)}}class kT extends pT{_tokenize_chinese_chars(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n],i=r.charCodeAt(0);this._is_chinese_char(i)?(t.push(" "),t.push(r),t.push(" ")):t.push(r)}return t.join("")}_is_chinese_char(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}stripAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}_is_control(e){switch(e){case"\t":case"\n":case"\r":return!1;default:return/^[\0-\x1F\x7F-\x9F]|(?:[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F])|(?:[\uE000-\uF8FF]|[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD])|(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])$/.test(e)}}_clean_text(e){const t=[];for(const n of e){const e=n.charCodeAt(0);0===e||65533===e||this._is_control(n)||(/^\s$/.test(n)?t.push(" "):t.push(n))}return t.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),!1!==this.config.strip_accents&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class DT extends Wx{static fromConfig(e){if(null===e)return null;switch(e.type){case"BertPreTokenizer":return new TT(e);case"Sequence":return new ZT(e);case"Whitespace":return new XT(e);case"WhitespaceSplit":return new $T(e);case"Metaspace":return new KT(e);case"ByteLevel":return new AT(e);case"Split":return new ST(e);case"Punctuation":return new CT(e);case"Digits":return new ET(e);case"Replace":return new QT(e);default:throw new Error("Unknown PreTokenizer type: ".concat(e.type))}}pre_tokenize_text(e,t){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,t){return(Array.isArray(e)?e.map((e=>this.pre_tokenize_text(e,t))):this.pre_tokenize_text(e,t)).flat()}_call(e,t){return this.pre_tokenize(e,t)}}class TT extends DT{constructor(e){super(),this.pattern=new RegExp("[^\\s".concat(rT,"]+|[").concat(rT,"]"),"gu")}pre_tokenize_text(e,t){return e.trim().match(this.pattern)||[]}}class AT extends DT{constructor(e){var t;super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=null===(t=this.config.use_regex)||void 0===t||t,this.pattern=/'s|'t|'re|'ve|'m|'ll|'d| ?(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])+| ?(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDD40-\uDD49\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDED0-\uDEE3\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59\uDFF0-\uDFF9]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD818[\uDD30-\uDD39]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDD70-\uDD79\uDE80-\uDE96]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9\uDDF1-\uDDFA]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+| ?(?:[\0-\x08\x0E-\x1F!-\/:-@\[-`\{-\x9F\xA1-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C8B-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u2FFF\u3001-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u3191\u3196-\u319F\u31C0-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7CE\uA7CF\uA7D2\uA7D4\uA7DD-\uA7F1\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD\uFEFE\uFF00-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDBF\uDDF4-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE3F\uDE49-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD24-\uDD2F\uDD3A-\uDD3F\uDD66-\uDD6E\uDD86-\uDE5F\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEC1\uDEC5-\uDEFF\uDF28-\uDF2F\uDF46-\uDF50\uDF55-\uDF6F\uDF82-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDF7F\uDF8A\uDF8C\uDF8D\uDF8F\uDFB6\uDFB8-\uDFD0\uDFD2\uDFD4-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEBF\uDECA-\uDECF\uDEE4-\uDEFF\uDF1B-\uDF2F\uDF3C-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFBF\uDFE1-\uDFEF\uDFFA-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDF4F\uDF5A-\uDFAF\uDFB1-\uDFBF\uDFD5-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD812-\uD817\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD836\uD83D\uD83F\uD87C\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDC5F]|\uD810[\uDFFB-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD818[\uDC00-\uDCFF\uDD1E-\uDD2F\uDD3A-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6F\uDEBF\uDECA-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDD3F\uDD6D-\uDD6F\uDD7A-\uDE3F\uDE97-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFE\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD833[\uDC00-\uDCEF\uDCFA-\uDFFF]|\uD834[\uDC00-\uDEBF\uDED4-\uDEDF\uDEF4-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDEEF\uDEFA-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDCEF\uDCFA-\uDDCF\uDDEE\uDDEF\uDDFB-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4A\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCAC\uDCB0\uDCB5-\uDD00\uDD2E\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFEF]|\uD87B[\uDE5E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(?!(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g,this.byte_encoder=cT,this.text_encoder=new TextEncoder}pre_tokenize_text(e,t){this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e);return(this.use_regex?e.match(this.pattern)||[]:[e]).map((e=>Array.from(this.text_encoder.encode(e),(e=>this.byte_encoder[e])).join("")))}}class ST extends DT{constructor(e){super(),this.config=e,this.pattern=$D(this.config.pattern,this.config.invert)}pre_tokenize_text(e,t){return null===this.pattern?[]:this.config.invert?e.match(this.pattern)||[]:function(e,t){const n=[];let r=0;for(const i of e.matchAll(t)){const t=i[0];r<i.index&&n.push(e.slice(r,i.index)),t.length>0&&n.push(t),r=i.index+t.length}return r<e.length&&n.push(e.slice(r)),n}(e,this.pattern)}}class CT extends DT{constructor(e){super(),this.config=e,this.pattern=new RegExp("[^".concat(rT,"]+|[").concat(rT,"]+"),"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class ET extends DT{constructor(e){super(),this.config=e;const t="[^\\d]+|\\d".concat(this.config.individual_digits?"":"+");this.pattern=new RegExp(t,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class FT extends Wx{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"TemplateProcessing":return new PT(e);case"ByteLevel":return new zT(e);case"RobertaProcessing":return new IT(e);case"BertProcessing":return new MT(e);case"Sequence":return new NT(e);default:throw new Error("Unknown PostProcessor type: ".concat(e.type))}}post_process(e){throw Error("post_process should be implemented in subclass.")}_call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.post_process(e,...n)}}class MT extends FT{constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n&&(e=Gx([this.cls],e,[this.sep]));let r=new Array(e.length).fill(0);if(null!==t){const i=n&&this instanceof IT?[this.sep]:[],a=n?[this.sep]:[];e=Gx(e,i,t,a),r=Gx(r,new Array(t.length+i.length+a.length).fill(1))}return{tokens:e,token_type_ids:r}}}class IT extends MT{}class PT extends FT{constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null===t?this.single:this.pair;let i=[],a=[];for(const o of r)"SpecialToken"in o?n&&(i.push(o.SpecialToken.id),a.push(o.SpecialToken.type_id)):"Sequence"in o&&("A"===o.Sequence.id?(i=Gx(i,e),a=Gx(a,new Array(e.length).fill(o.Sequence.type_id))):"B"===o.Sequence.id&&(i=Gx(i,t),a=Gx(a,new Array(t.length).fill(o.Sequence.type_id))));return{tokens:i,token_type_ids:a}}}class zT extends FT{post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&(e=Gx(e,t)),{tokens:e}}}class NT extends FT{constructor(e){super(e),this.processors=e.processors.map((e=>FT.fromConfig(e)))}post_process(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const i of this.processors)if(i instanceof zT){if(e=i.post_process(e).tokens,n){n=i.post_process(n).tokens}}else{const a=i.post_process(e,n,r);e=a.tokens,t=a.token_type_ids}return{tokens:e,token_type_ids:t}}}class OT extends Wx{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(null===e)return null;switch(e.type){case"WordPiece":return new VT(e);case"Metaspace":return new YT(e);case"ByteLevel":return new WT(e);case"Replace":return new BT(e);case"ByteFallback":return new LT(e);case"Fuse":return new RT(e);case"Strip":return new jT(e);case"Sequence":return new UT(e);case"CTC":return new qT(e);case"BPEDecoder":return new HT(e);default:throw new Error("Unknown Decoder type: ".concat(e.type))}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class BT extends OT{decode_chain(e){const t=$D(this.config.pattern);return null===t?e:e.map((e=>e.replaceAll(t,this.config.content)))}}class LT extends OT{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const t=[];let n=[];for(const r of e){let e=null;if(6===r.length&&r.startsWith("<0x")&&r.endsWith(">")){const t=parseInt(r.slice(3,5),16);isNaN(t)||(e=t)}if(null!==e)n.push(e);else{if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}t.push(r)}}if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}return t}}class RT extends OT{decode_chain(e){return[e.join("")]}}class jT extends OT{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map((e=>{let t=0;for(let r=0;r<this.start&&e[r]===this.content;++r)t=r+1;let n=e.length;for(let r=0;r<this.stop;++r){const t=e.length-r-1;if(e[t]!==this.content)break;n=t}return e.slice(t,n)}))}}class VT extends OT{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map(((e,t)=>(0!==t&&(e=e.startsWith(this.config.prefix)?e.replace(this.config.prefix,""):" "+e),this.cleanup&&(e=tT(e)),e)))}}class WT extends OT{constructor(e){super(e),this.byte_decoder=uT,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const t=e.join(""),n=new Uint8Array([...t].map((e=>this.byte_decoder[e])));return this.text_decoder.decode(n)}decode_chain(e){const t=[];let n=[];for(const r of e)void 0!==this.added_tokens.find((e=>e.content===r))?(n.length>0&&(t.push(this.convert_tokens_to_string(n)),n=[]),t.push(r)):n.push(r);return n.length>0&&t.push(this.convert_tokens_to_string(n)),t}}class qT extends OT{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(0===e.length)return"";const t=[e[0]];for(let i=1;i<e.length;++i)e[i]!==t.at(-1)&&t.push(e[i]);const n=t.filter((e=>e!==this.pad_token));let r=n.join("");return this.cleanup&&(r=tT(r).replaceAll(this.word_delimiter_token," ").trim()),r}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class UT extends OT{constructor(e){super(e),this.decoders=e.decoders.map((e=>OT.fromConfig(e)))}decode_chain(e){return this.decoders.reduce(((e,t)=>t.decode_chain(e)),e)}}class HT extends OT{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map(((t,n)=>t.replaceAll(this.suffix,n===e.length-1?"":" ")))}}class GT extends OT{decode_chain(e){let t="";for(let n=1;n<e.length;n+=2)t+=e[n];return[t]}}class KT extends DT{constructor(e){var t;super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=null!==(t=e.prepend_scheme)&&void 0!==t?t:"always"}pre_tokenize_text(e){let{section_index:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!n.startsWith(this.replacement)&&("always"===this.prepend_scheme||"first"===this.prepend_scheme&&0===t)&&(n=this.strRep+n),[n]}}class YT extends OT{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const t=[];for(let n=0;n<e.length;++n){let r=e[n].replaceAll(this.replacement," ");this.addPrefixSpace&&0==n&&r.startsWith(" ")&&(r=r.substring(1)),t.push(r)}return t}}class JT extends pT{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){if((e=(e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,"")).replace(/[\u0009\u000A\u000C\u000D\u1680\u200B\u200C\u200E\u200F\u2028\u2029\u2581\uFEFF\uFFFD]/gm," ")).includes("\uff5e")){const t=e.split("\uff5e");e=t.map((e=>e.normalize("NFKC"))).join("\uff5e")}else e=e.normalize("NFKC");return e}}class ZT extends DT{constructor(e){super(),this.tokenizers=e.pretokenizers.map((e=>DT.fromConfig(e)))}pre_tokenize_text(e,t){return this.tokenizers.reduce(((e,n)=>n.pre_tokenize(e,t)),[e])}}class XT extends DT{constructor(e){super()}pre_tokenize_text(e,t){return e.match(/\w+|[^\w\s]+/g)||[]}}class $T extends DT{constructor(e){super()}pre_tokenize_text(e,t){return function(e){return e.match(/\S+/g)||[]}(e)}}class QT extends DT{constructor(e){super(),this.config=e,this.pattern=$D(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,t){return null===this.pattern?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const eA=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function tA(e,t,n,r){for(const i of Object.keys(e)){const a=t-e[i].length,o=n(i),s=new Array(a).fill(o);e[i]="right"===r?Gx(e[i],s):Gx(s,e[i])}}function nA(e,t){for(const n of Object.keys(e))e[n].length=t}class rA extends Wx{constructor(e,t){var n,r,i,a;super(),l(this,"return_token_type_ids",!1),l(this,"_default_chat_template","{% for message in messages %}{{'<|im_start|>' + message['role'] + '\n' + message['content'] + '<|im_end|>' + '\n'}}{% endfor %}{% if add_generation_prompt %}{{ '<|im_start|>assistant\n' }}{% endif %}"),this._tokenizer_config=t,this.normalizer=pT.fromConfig(e.normalizer),this.pre_tokenizer=DT.fromConfig(e.pre_tokenizer),this.model=oT.fromConfig(e.model,t),this.post_processor=FT.fromConfig(e.post_processor),this.decoder=OT.fromConfig(e.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const o of e.added_tokens){const e=new aT(o);this.added_tokens.push(e),this.model.tokens_to_ids.set(e.content,e.id),this.model.vocab[e.id]=e.content,e.special&&(this.special_tokens.push(e.content),this.all_special_ids.push(e.id))}if(this.additional_special_tokens=null!==(n=t.additional_special_tokens)&&void 0!==n?n:[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_regex=this.added_tokens.length>0?new RegExp(this.added_tokens.map((e=>"".concat(e.lstrip?"\\s*":"","(").concat(Vx(e.content),")").concat(e.rstrip?"\\s*":""))).join("|")):null,this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.model_max_length=t.model_max_length,this.remove_space=t.remove_space,this.clean_up_tokenization_spaces=null===(r=t.clean_up_tokenization_spaces)||void 0===r||r,this.do_lowercase_and_remove_accent=null!==(i=t.do_lowercase_and_remove_accent)&&void 0!==i&&i,this.padding_side="right",this.legacy=!1,this.chat_template=null!==(a=t.chat_template)&&void 0!==a?a:null,Array.isArray(this.chat_template)){const e=Object.create(null);for(const{name:t,template:n}of this.chat_template){if("string"!==typeof t||"string"!==typeof n)throw new Error('Chat template must be a list of objects with "name" and "template" properties');e[t]=n}this.chat_template=e}this._compiled_template_cache=new Map}getToken(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t){const e=this._tokenizer_config[r];if(e){if("object"===typeof e){if("AddedToken"===e.__type)return e.content;throw Error("Unknown token: ".concat(e))}return e}}return null}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:i=!1,revision:a="main",legacy:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(...await XD(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:i,revision:a,legacy:o}))}_call(e){let{text_pair:t=null,add_special_tokens:n=!0,padding:r=!1,truncation:i=null,max_length:a=null,return_tensor:o=!0,return_token_type_ids:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=Array.isArray(e);let c;if(l){if(0===e.length)throw Error("text array must be non-empty");if(null!==t){if(!Array.isArray(t))throw Error("text_pair must also be an array");if(e.length!==t.length)throw Error("text and text_pair must have the same length");c=e.map(((e,r)=>this._encode_plus(e,t[r],{add_special_tokens:n,return_token_type_ids:s})))}else c=e.map((e=>this._encode_plus(e,null,{add_special_tokens:n,return_token_type_ids:s})))}else{if(null===e||void 0===e)throw Error("text may not be null or undefined");if(Array.isArray(t))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");c=[this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:s})]}if(null===a?a="max_length"===r?this.model_max_length:Ik(c.map((e=>e.input_ids.length)))[0]:i||console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation=true` to explicitly truncate examples to max length."),a=Math.min(a,this.model_max_length),r||i)for(let d=0;d<c.length;++d)c[d].input_ids.length!==a&&(c[d].input_ids.length>a?i&&nA(c[d],a):r&&tA(c[d],a,(e=>"input_ids"===e?this.pad_token_id:0),this.padding_side));const u={};if(o){if((!r||!i)&&c.some((e=>{for(const n of Object.keys(e)){var t;if(e[n].length!==(null===(t=c[0][n])||void 0===t?void 0:t.length))return!0}return!1})))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const e=[c.length,c[0].input_ids.length];for(const t of Object.keys(c[0]))u[t]=new Vk("int64",BigInt64Array.from(c.flatMap((e=>e[t])).map(BigInt)),e)}else{for(const e of Object.keys(c[0]))u[e]=c.map((t=>t[e]));if(!l)for(const e of Object.keys(u))u[e]=u[e][0]}return u}_encode_text(e){if(null===e)return null;const t=this.added_tokens_regex?e.split(this.added_tokens_regex).filter((e=>e)):[e],n=t.map(((e,t)=>{if(void 0!==this.added_tokens.find((t=>t.content===e)))return e;{if(!0===this.remove_space&&(e=e.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(e=function(e){return nT(e.toLowerCase())}(e)),null!==this.normalizer&&(e=this.normalizer(e)),0===e.length)return[];const n=null!==this.pre_tokenizer?this.pre_tokenizer(e,{section_index:t}):[e];return this.model(n)}})).flat();return n}_encode_plus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0,return_token_type_ids:r=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this._encode_text(e),a=this._encode_text(t),o=this.post_processor?this.post_processor(i,a,{add_special_tokens:n}):{tokens:Gx(null!==i&&void 0!==i?i:[],null!==a&&void 0!==a?a:[])},s=this.model.convert_tokens_to_ids(o.tokens),l={input_ids:s,attention_mask:new Array(s.length).fill(1)};return(null!==r&&void 0!==r?r:this.return_token_type_ids)&&o.token_type_ids&&(l.token_type_ids=o.token_type_ids),l}encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0,return_token_type_ids:r=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{input_ids:i}=this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:r});return i}batch_decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Vk&&(e=e.tolist()),e.map((e=>this.decode(e,t)))}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof Vk&&(e=eT(e)),!Array.isArray(e)||0===e.length||!qx(e[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(e,t)}decode_single(e,t){let{skip_special_tokens:n=!1,clean_up_tokenization_spaces:r=null}=t,i=this.model.convert_ids_to_tokens(e);n&&(i=i.filter((e=>!this.special_tokens.includes(e))));let a=this.decoder?this.decoder(i):i.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(a=a.replaceAll(this.decoder.end_of_word_suffix," "),n&&(a=a.trim())),(null!==r&&void 0!==r?r:this.clean_up_tokenization_spaces)&&(a=tT(a)),a}get default_chat_template(){return this._warned_about_chat_template||(console.warn("No chat template is defined for this tokenizer - using a default chat template that implements the ChatML format. If the default is not appropriate for your model, please set `tokenizer.chat_template` to an appropriate template. See https://huggingface.co/docs/transformers/main/chat_templating for more information."),this._warned_about_chat_template=!0),this._default_chat_template}apply_chat_template(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{chat_template:n=null,add_generation_prompt:r=!1,tokenize:i=!0,padding:o=!1,truncation:s=!1,max_length:l=null,return_tensor:c=!0,tokenizer_kwargs:d={}}=t,h=a(t,ZD);if(this.chat_template&&"object"===typeof this.chat_template||null===this.chat_template&&this.default_chat_template&&"object"===typeof this.default_chat_template){var p;const e=null!==(p=this.chat_template)&&void 0!==p?p:this.default_chat_template;if(null!==n&&Object.hasOwn(e,n))n=e[n];else if(null===n&&"default"in e)n=e.default;else if(null===n)throw Error("This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available "+"template names are ".concat(Object.keys(e).sort(),"."))}else{var f;null!==n&&void 0!==n||(n=null!==(f=this.chat_template)&&void 0!==f?f:this.default_chat_template)}if("string"!==typeof n)throw Error("chat_template must be a string, but got ".concat(typeof n));let m=this._compiled_template_cache.get(n);void 0===m&&(m=new JD(n),this._compiled_template_cache.set(n,m));const g=Object.create(null);for(const a of eA){const e=this.getToken(a);e&&(g[a]=e)}const y=m.render(u(u({messages:e,add_generation_prompt:r},g),h));return i?this._call(y,u({add_special_tokens:!1,padding:o,truncation:s,max_length:l,return_tensor:c},d)).input_ids:y}}class iA extends rA{constructor(){super(...arguments),l(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}}class aA extends rA{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return lA(this,e,t,n)}}const oA="\u2581";class sA extends rA{constructor(e,t){var n,r;super(e,t),l(this,"_default_chat_template","{% if messages[0]['role'] == 'system' %}{% set loop_messages = messages[1:] %}{% set system_message = messages[0]['content'] %}{% elif USE_DEFAULT_PROMPT == true and not '<<SYS>>' in messages[0]['content'] %}{% set loop_messages = messages %}{% set system_message = 'DEFAULT_SYSTEM_MESSAGE' %}{% else %}{% set loop_messages = messages %}{% set system_message = false %}{% endif %}{% for message in loop_messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if loop.index0 == 0 and system_message != false %}{% set content = '<<SYS>>\n' + system_message + '\n<</SYS>>\n\n' + message['content'] %}{% else %}{% set content = message['content'] %}{% endif %}{% if message['role'] == 'user' %}{{ bos_token + '[INST] ' + content.strip() + ' [/INST]' }}{% elif message['role'] == 'system' %}{{ '<<SYS>>\n' + content.strip() + '\n<</SYS>>\n\n' }}{% elif message['role'] == 'assistant' %}{{ ' '  + content.strip() + ' ' + eos_token }}{% endif %}{% endfor %}"),l(this,"DEFAULT_SYSTEM_PROMPT","You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information."),this.use_default_system_prompt=null!==(n=t.use_default_system_prompt)&&void 0!==n&&n,this.legacy=null===(r=t.legacy)||void 0===r||r,this.legacy||(this.normalizer=null,this.pre_tokenizer=new KT({replacement:oA,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(e){if(null===e)return null;if(this.legacy||0===e.length)return super._encode_text(e);let t=super._encode_text(oA+e.replaceAll(oA," "));return t.length>1&&t[0]===oA&&this.special_tokens.includes(t[1])&&(t=t.slice(1)),t}get default_chat_template(){return super.default_chat_template.replaceAll("USE_DEFAULT_PROMPT",this.use_default_system_prompt?"true":"false").replaceAll("DEFAULT_SYSTEM_MESSAGE",this.DEFAULT_SYSTEM_PROMPT.replaceAll("\n","\\n").replaceAll("'","\\'"))}}function lA(e,t,n,r){if(!("language_codes"in e)||!Array.isArray(e.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in e)||!(e.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in e)||"function"!==typeof e.lang_to_token)throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const i=r.src_lang,a=r.tgt_lang;if(!e.language_codes.includes(a))throw new Error('Target language code "'.concat(a,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));if(void 0!==i){if(!e.language_codes.includes(i))throw new Error('Source language code "'.concat(i,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));for(const t of e.post_processor.config.single)if("SpecialToken"in t&&e.languageRegex.test(t.SpecialToken.id)){t.SpecialToken.id=e.lang_to_token(i);break}}return r.forced_bos_token_id=e.model.convert_tokens_to_ids([e.lang_to_token(a)])[0],e._call(t,n)}const cA=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],uA=new Map(cA),dA=new Map([...cA.map((e=>{let[t,n]=e;return[n,t]})),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);class hA extends rA{constructor(){super(...arguments),l(this,"_default_chat_template","{% for message in messages %}{% if message['role'] == 'user' %}{{ ' ' }}{% endif %}{{ message['content'] }}{% if not loop.last %}{{ '  ' }}{% endif %}{% endfor %}{{ eos_token }}")}}class pA{static async from_pretrained(e){var t,n;let{quantized:r=!0,progress_callback:i=null,config:a=null,cache_dir:o=null,local_files_only:s=!1,revision:l="main",legacy:c=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[u,d]=await XD(e,{quantized:r,progress_callback:i,config:a,cache_dir:o,local_files_only:s,revision:l,legacy:c}),h=null!==(t=null===(n=d.tokenizer_class)||void 0===n?void 0:n.replace(/Fast$/,""))&&void 0!==t?t:"PreTrainedTokenizer";let p=this.TOKENIZER_CLASS_MAPPING[h];return p||(console.warn('Unknown tokenizer class "'.concat(h,'", attempting to construct from base class.')),p=rA),new p(u,d)}}l(pA,"TOKENIZER_CLASS_MAPPING",{T5Tokenizer:class extends rA{},DistilBertTokenizer:class extends rA{},CamembertTokenizer:class extends rA{},DebertaTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},DebertaV2Tokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},BertTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},HerbertTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},ConvBertTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},RoFormerTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},XLMTokenizer:class extends rA{constructor(e,t){super(e,t),l(this,"return_token_type_ids",!0),console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}},ElectraTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},MobileBertTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},SqueezeBertTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},AlbertTokenizer:class extends rA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},GPT2Tokenizer:iA,BartTokenizer:class extends rA{},MBartTokenizer:aA,MBart50Tokenizer:class extends aA{},RobertaTokenizer:class extends rA{},WhisperTokenizer:class extends rA{constructor(){super(...arguments),l(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}_decode_asr(e){let{return_timestamps:t=!1,return_language:n=!1,time_precision:r=null,force_full_sequences:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)throw Error("Must specify time_precision");let a=null;const o="word"===t;function s(){return{language:a,timestamp:[null,null],text:""}}const l=[];let c=s(),u=0;const d=this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1;let h=[],p=[],f=!1,m=null;const g=new Set(this.all_special_ids);for(const w of e){const e=w.tokens,n=o?w.token_timestamps:null;let i=null,y=d;if("stride"in w){const[t,n,a]=w.stride;if(u-=n,m=t-a,n&&(y=n/r+d),a)for(let o=e.length-1;o>=0;--o){const t=e[o];if(t>=d){if(null!==i&&(t-d)*r<m)break;i=t}}}let b=[],v=[];for(let m=0;m<e.length;++m){const w=e[m];if(g.has(w)){const e=this.decode([w]),n=uA.get(e.slice(2,-2));if(void 0!==n){if(null!==a&&n!==a&&!t){h.push(b);const e=this.findLongestCommonSequence(h)[0],t=this.decode(e);c.text=t,l.push(c),h=[],b=[],c=s()}a=c.language=n}}else if(w>=d){const e=Lk((w-d)*r+u,2);if(null!==i&&w>=i)f=!0;else if(f||h.length>0&&w<y)f=!1;else if(null===c.timestamp[0])c.timestamp[0]=e;else if(e===c.timestamp[0]);else{c.timestamp[1]=e,h.push(b),o&&p.push(v);const[t,n]=this.findLongestCommonSequence(h,p),r=this.decode(t);c.text=r,o&&(c.words=this.collateWordTimestamps(t,n,a)),l.push(c),h=[],b=[],p=[],v=[],c=s()}}else if(b.push(w),o){let e,t=Lk(n[m]+u,2);e=m+1<n.length?Lk(n[m+1]+u,2):null,v.push([t,e])}}if("stride"in w){const[e,t,n]=w.stride;u+=e-n}b.length>0?(h.push(b),o&&p.push(v)):h.every((e=>0===e.length))&&(c=s(),h=[],b=[],p=[],v=[])}if(h.length>0){if(i&&t)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[e,n]=this.findLongestCommonSequence(h,p),r=this.decode(e);c.text=r,o&&(c.words=this.collateWordTimestamps(e,n,a)),l.push(c)}let y=Object.create(null);const b=l.map((e=>e.text)).join("");if(t||n){for(let e=0;e<l.length;++e){const r=l[e];t||delete r.timestamp,n||delete r.language}if(o){const e=[];for(const t of l)for(const n of t.words)e.push(n);y={chunks:e}}else y={chunks:l}}return[b,y]}findLongestCommonSequence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e[0],r=n.length,i=[];const a=Array.isArray(t)&&t.length>0;let o=a?[]:null,s=a?t[0]:null;for(let l=1;l<e.length;++l){const c=e[l];let u=0,d=[r,r,0,0];const h=c.length;for(let e=1;e<r+h;++e){const t=e/1e4,i=Math.max(0,r-e),a=Math.min(r,r+h-e),o=n.slice(i,a),s=Math.max(0,e-r),l=Math.min(h,e),p=c.slice(s,l);if(o.length!==p.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");const f=o.filter(((e,t)=>e===p[t])).length,m=f/e+t;f>1&&m>u&&(u=m,d=[i,a,s,l])}const[p,f,m,g]=d,y=Math.floor((f+p)/2),b=Math.floor((g+m)/2);i.push(...n.slice(0,y)),n=c.slice(b),r=n.length,a&&(o.push(...s.slice(0,y)),s=t[l].slice(b))}return i.push(...n),a?(o.push(...s),[i,o]):[i,[]]}collateWordTimestamps(e,t,n){const[r,i,a]=this.combineTokensIntoWords(e,n),o=[];for(let s=0;s<r.length;++s){const e=a[s];o.push({text:r[s],timestamp:[t[e.at(0)][0],t[e.at(-1)][1]]})}return o}combineTokensIntoWords(e,t){let n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\"'\u201c\xa1\xbf([{-",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\"'.\u3002,\uff0c!\uff01?\uff1f:\uff1a\u201d)]}\u3001";return["chinese","japanese","thai","lao","myanmar"].includes(t=null!==t&&void 0!==t?t:"english")?[n,r,i]=this.splitTokensOnUnicode(e):[n,r,i]=this.splitTokensOnSpaces(e),this.mergePunctuations(n,r,i,a,o)}decode(e,t){let n;return t&&t.decode_with_timestamps?(e instanceof Vk&&(e=eT(e)),n=this.decodeWithTimestamps(e,t)):n=super.decode(e,t),n}decodeWithTimestamps(e,t){var n;const r=null!==(n=null===t||void 0===t?void 0:t.time_precision)&&void 0!==n?n:.02,i=Array.from(this.all_special_ids).at(-1)+1;let a=[[]];for(const o of e)if(o>=i){const e=Lk((o-i)*r,2);a.push("<|".concat(e,"|>")),a.push([])}else a[a.length-1].push(o);return a=a.map((e=>"string"===typeof e?e:super.decode(e,t))),a.join("")}splitTokensOnUnicode(e){const t=this.decode(e,{decode_with_timestamps:!0}),n=[],r=[],i=[];let a=[],o=[],s=0;for(let l=0;l<e.length;++l){const c=e[l];a.push(c),o.push(l);const u=this.decode(a,{decode_with_timestamps:!0});u.includes("\ufffd")&&"\ufffd"!==t[s+u.indexOf("\ufffd")]||(n.push(u),r.push(a),i.push(o),a=[],o=[],s+=u.length)}return[n,r,i]}splitTokensOnSpaces(e){const[t,n,r]=this.splitTokensOnUnicode(e),i=[],a=[],o=[],s=new RegExp("^[".concat(rT,"]$"),"gu");for(let l=0;l<t.length;++l){const e=t[l],c=n[l],u=r[l],d=c[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),h=e.startsWith(" "),p=e.trim(),f=s.test(p);if(d||h||f||0===i.length)i.push(e),a.push(c),o.push(u);else{const t=i.length-1;i[t]+=e,a[t].push(...c),o[t].push(...u)}}return[i,a,o]}mergePunctuations(e,t,n,r,i){const a=structuredClone(e),o=structuredClone(t),s=structuredClone(n);let l=a.length-2,c=a.length-1;for(;l>=0;)a[l].startsWith(" ")&&r.includes(a[l].trim())?(a[c]=a[l]+a[c],o[c]=Gx(o[l],o[c]),s[c]=Gx(s[l],s[c]),a[l]="",o[l]=[],s[l]=[]):c=l,--l;for(l=0,c=1;c<a.length;)!a[l].endsWith(" ")&&i.includes(a[c])?(a[l]+=a[c],o[l]=Gx(o[l],o[c]),s[l]=Gx(s[l],s[c]),a[c]="",o[c]=[],s[c]=[]):l=c,++c;return[a.filter((e=>e)),o.filter((e=>e.length>0)),s.filter((e=>e.length>0))]}get_decoder_prompt_ids(){let{language:e=null,task:t=null,no_timestamps:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=[];if(e){e=e.toLowerCase();let t=dA.get(e);if(void 0===t){if(!uA.has(e)){const t=2===e.length?uA.keys():uA.values();throw new Error('Language "'.concat(e,'" is not supported. Must be one of: ').concat(JSON.stringify(t)))}t=e}const n=this.model.tokens_to_ids.get("<|".concat(t,"|>"));if(void 0===n)throw new Error('Unable to find language "'.concat(t,'" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.'));r.push(n)}else r.push(null);if(t){if(t=t.toLowerCase(),"transcribe"!==t&&"translate"!==t)throw new Error('Task "'.concat(t,'" is not supported. Must be one of: ["transcribe", "translate"]'));const e=this.model.tokens_to_ids.get("<|".concat(t,"|>"));if(void 0===e)throw new Error('Unable to find task "'.concat(t,'" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.'));r.push(e)}else r.push(null);if(n){const e=this.model.tokens_to_ids.get("<|notimestamps|>");if(void 0===e)throw new Error('Unable to find "<|notimestamps|>" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.');r.push(e)}return r.map(((e,t)=>[t+1,e])).filter((e=>null!==e[1]))}},CodeGenTokenizer:class extends rA{},CLIPTokenizer:class extends rA{},SiglipTokenizer:class extends rA{},MarianTokenizer:class extends rA{constructor(e,t){super(e,t),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter((e=>this.languageRegex.test(e))),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(null===e)return null;const[t,...n]=e.trim().split(this.languageRegex);if(0===n.length)return super._encode_text(t);if(2===n.length){const[e,t]=n;return this.supported_language_codes.includes(e)||console.warn('Unsupported language code "'.concat(e,'" detected, which may lead to unexpected behavior. Should be one of: ').concat(JSON.stringify(this.supported_language_codes))),Gx([e],super._encode_text(t))}}},BloomTokenizer:class extends iA{constructor(e,t){var n;const r=".,!?\u2026\u3002\uff0c\u3001\u0964\u06d4\u060c",i=null===(n=e.pre_tokenizer)||void 0===n||null===(n=n.pretokenizers[0])||void 0===n?void 0:n.pattern;i&&i.Regex===" ?[^(\\s|[".concat(r,"])]+")&&(i.Regex=" ?[^\\s".concat(r,"]+")),super(e,t)}},NllbTokenizer:class extends rA{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return lA(this,e,t,n)}},M2M100Tokenizer:class extends rA{constructor(e,t){super(e,t),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))).map((e=>e.slice(2,-2))),this.lang_to_token=e=>"__".concat(e,"__")}_build_translation_inputs(e,t,n){return lA(this,e,t,n)}},LlamaTokenizer:sA,CodeLlamaTokenizer:class extends sA{},XLMRobertaTokenizer:class extends rA{},MPNetTokenizer:class extends rA{},FalconTokenizer:class extends rA{},GPTNeoXTokenizer:class extends rA{},EsmTokenizer:class extends rA{},Wav2Vec2CTCTokenizer:class extends rA{},BlenderbotTokenizer:hA,BlenderbotSmallTokenizer:class extends hA{},SpeechT5Tokenizer:class extends rA{},NougatTokenizer:class extends rA{},VitsTokenizer:class extends rA{constructor(e,t){super(e,t),this.decoder=new GT({})}},Qwen2Tokenizer:class extends rA{},GemmaTokenizer:class extends rA{constructor(){super(...arguments),l(this,"_default_chat_template","{% if messages[0]['role'] == 'system' %}{{ raise_exception('System role not supported') }}{% endif %}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if (message['role'] == 'assistant') %}{% set role = 'model' %}{% else %}{% set role = message['role'] %}{% endif %}{{ '<start_of_turn>' + role + '\n' + message['content'] | trim + '<end_of_turn>\n' }}{% endfor %}{% if add_generation_prompt %}{{'<start_of_turn>model\n'}}{% endif %}")}},Grok1Tokenizer:class extends rA{},CohereTokenizer:class extends rA{},PreTrainedTokenizer:rA});class fA{constructor(e){this.model_type=null,this.is_encoder_decoder=!1,Object.assign(this,e)}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:i=!1,revision:a="main"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null!==n&&void 0!==n?n:await async function(e,t){return await Sk(e,"config.json",!0,t)}(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:i,revision:a});return new this(o)}}class mA{static async from_pretrained(){return fA.from_pretrained(...arguments)}}class gA extends Wx{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,t){for(let n of t)this.processors.forEach((t=>t(e,n)))}[Symbol.iterator](){return this.processors.values()}}class yA extends Wx{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class bA extends yA{constructor(e){super(),this.force_token_map=Object.fromEntries(null!==e&&void 0!==e?e:[])}_call(e,t){let n=this.force_token_map[e.length];return function(e){return void 0!==e&&null!==e}(n)&&(t.data.fill(-1/0),t.data[n]=0),t}}class wA extends yA{constructor(e){super(),this.bos_token_id=e}_call(e,t){return 1===e.length&&(t.data.fill(-1/0),t.data[this.bos_token_id]=0),t}}class vA extends yA{constructor(e,t){super(),this.max_length=e,this.forced_eos_token_id=t}_call(e,t){}}class _A extends yA{constructor(e,t){super(),this.begin_suppress_tokens=e,this.begin_index=t}_call(e,t){if(e.length===this.begin_index)for(let n of this.begin_suppress_tokens)t.data[n]=-1/0;return t}}class xA extends yA{constructor(e){super(),this.eos_token_id=e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=(e.forced_decoder_ids||[]).length+2,e.forced_decoder_ids.slice(-1)[0][1]===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,t){const n=t.data;if(n[this.no_timestamps_token_id]=-1/0,e.length===this.begin_index-1)return n.fill(-1/0),n[this.timestamp_begin]=0,t;const r=e.slice(this.begin_index),i=r.length>=1&&r[r.length-1]>=this.timestamp_begin,a=r.length<2||r[r.length-2]>=this.timestamp_begin;if(i&&(a?n.subarray(this.timestamp_begin).fill(-1/0):n.subarray(0,this.eos_token_id).fill(-1/0)),e.length===this.begin_index&&null!==this.max_initial_timestamp_index){const e=this.timestamp_begin+this.max_initial_timestamp_index;n.subarray(e+1).fill(-1/0)}const o=function(e){const t=Ek(e).map((e=>Math.log(e)));return t}(n),s=Math.log(o.subarray(this.timestamp_begin).map(Math.exp).reduce(((e,t)=>e+t)));return s>Ik(o.subarray(0,this.timestamp_begin))[0]&&n.subarray(0,this.timestamp_begin).fill(-1/0),t}}class kA extends yA{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const t=e.length,n=[];for(let a=0;a<t+1-this.no_repeat_ngram_size;++a){const t=[];for(let n=0;n<this.no_repeat_ngram_size;++n)t.push(e[a+n]);n.push(t)}const r=new Map;for(const a of n){var i;const e=a.slice(0,a.length-1),t=JSON.stringify(e),n=null!==(i=r.get(t))&&void 0!==i?i:[];n.push(a[a.length-1]),r.set(t,n)}return r}getGeneratedNgrams(e,t){var n;const r=t.slice(t.length+1-this.no_repeat_ngram_size,t.length);return null!==(n=e.get(JSON.stringify(r)))&&void 0!==n?n:[]}calcBannedNgramTokens(e){const t=[];if(e.length+1<this.no_repeat_ngram_size)return t;{const t=this.getNgrams(e);return this.getGeneratedNgrams(t,e)}}_call(e,t){const n=this.calcBannedNgramTokens(e);for(const r of n)t.data[r]=-1/0;return t}}class DA extends yA{constructor(e){super(),this.penalty=e}_call(e,t){for(const n of e)t.data[n]<0?t.data[n]*=this.penalty:t.data[n]/=this.penalty;return t}}class TA extends yA{constructor(e,t){super(),this.min_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){if(e.length<this.min_length)for(const n of this.eos_token_id)t.data[n]=-1/0;return t}}class AA extends yA{constructor(e,t,n){super(),this.prompt_length_to_skip=e,this.min_new_tokens=t,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,t){if(e.length-this.prompt_length_to_skip<this.min_new_tokens)for(const n of this.eos_token_id)t.data[n]=-1/0;return t}}class SA extends yA{constructor(e,t){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(const n of this.bad_words_ids){let r=!0;for(let t=1;t<=n.length-1&&n.length<e.length;++t)if(n.at(-t-1)!==e.at(-t)){r=!1;break}r&&(t.data[n.at(-1)]=-1/0)}return t}}const CA=class{constructor(){var e,t,n,r,i,a,o,s,l,c,u,d,h,p,f,m,g,y,b,w,v,_,x,k,D,T,A,S,C,E,F,M,I,P,z,N,O,B,L,R,j,V,W,q;let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.max_length=null!==(e=U.max_length)&&void 0!==e?e:20,this.max_new_tokens=null!==(t=U.max_new_tokens)&&void 0!==t?t:null,this.min_length=null!==(n=U.min_length)&&void 0!==n?n:0,this.min_new_tokens=null!==(r=U.min_new_tokens)&&void 0!==r?r:null,this.early_stopping=null!==(i=U.early_stopping)&&void 0!==i&&i,this.max_time=null!==(a=U.max_time)&&void 0!==a?a:null,this.do_sample=null!==(o=U.do_sample)&&void 0!==o&&o,this.num_beams=null!==(s=U.num_beams)&&void 0!==s?s:1,this.num_beam_groups=null!==(l=U.num_beam_groups)&&void 0!==l?l:1,this.penalty_alpha=null!==(c=U.penalty_alpha)&&void 0!==c?c:null,this.use_cache=null===(u=U.use_cache)||void 0===u||u,this.temperature=null!==(d=U.temperature)&&void 0!==d?d:1,this.top_k=null!==(h=U.top_k)&&void 0!==h?h:50,this.top_p=null!==(p=U.top_p)&&void 0!==p?p:1,this.typical_p=null!==(f=U.typical_p)&&void 0!==f?f:1,this.epsilon_cutoff=null!==(m=U.epsilon_cutoff)&&void 0!==m?m:0,this.eta_cutoff=null!==(g=U.eta_cutoff)&&void 0!==g?g:0,this.diversity_penalty=null!==(y=U.diversity_penalty)&&void 0!==y?y:0,this.repetition_penalty=null!==(b=U.repetition_penalty)&&void 0!==b?b:1,this.encoder_repetition_penalty=null!==(w=U.encoder_repetition_penalty)&&void 0!==w?w:1,this.length_penalty=null!==(v=U.length_penalty)&&void 0!==v?v:1,this.no_repeat_ngram_size=null!==(_=U.no_repeat_ngram_size)&&void 0!==_?_:0,this.bad_words_ids=null!==(x=U.bad_words_ids)&&void 0!==x?x:null,this.force_words_ids=null!==(k=U.force_words_ids)&&void 0!==k?k:null,this.renormalize_logits=null!==(D=U.renormalize_logits)&&void 0!==D&&D,this.constraints=null!==(T=U.constraints)&&void 0!==T?T:null,this.forced_bos_token_id=null!==(A=U.forced_bos_token_id)&&void 0!==A?A:null,this.forced_eos_token_id=null!==(S=U.forced_eos_token_id)&&void 0!==S?S:null,this.remove_invalid_values=null!==(C=U.remove_invalid_values)&&void 0!==C&&C,this.exponential_decay_length_penalty=null!==(E=U.exponential_decay_length_penalty)&&void 0!==E?E:null,this.suppress_tokens=null!==(F=U.suppress_tokens)&&void 0!==F?F:null,this.begin_suppress_tokens=null!==(M=U.begin_suppress_tokens)&&void 0!==M?M:null,this.forced_decoder_ids=null!==(I=U.forced_decoder_ids)&&void 0!==I?I:null,this.num_return_sequences=null!==(P=U.num_return_sequences)&&void 0!==P?P:1,this.output_attentions=null!==(z=U.output_attentions)&&void 0!==z&&z,this.output_hidden_states=null!==(N=U.output_hidden_states)&&void 0!==N&&N,this.output_scores=null!==(O=U.output_scores)&&void 0!==O&&O,this.return_dict_in_generate=null!==(B=U.return_dict_in_generate)&&void 0!==B&&B,this.pad_token_id=null!==(L=U.pad_token_id)&&void 0!==L?L:null,this.bos_token_id=null!==(R=U.bos_token_id)&&void 0!==R?R:null,this.eos_token_id=null!==(j=U.eos_token_id)&&void 0!==j?j:null,this.encoder_no_repeat_ngram_size=null!==(V=U.encoder_no_repeat_ngram_size)&&void 0!==V?V:0,this.decoder_start_token_id=null!==(W=U.decoder_start_token_id)&&void 0!==W?W:null,this.generation_kwargs=null!==(q=U.generation_kwargs)&&void 0!==q?q:{}}};class EA extends Wx{constructor(e){super(),this.generation_config=e}_call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.sample(e,t)}sample(e,t){throw Error("sample should be implemented in subclasses.")}getLogits(e,t){let n=e.dims.at(-1),r=e.data;if(-1===t)r=r.slice(-n);else{let e=t*n;r=r.slice(e,e+n)}return this.generation_config.temperature>0&&(r=r.map((e=>e/this.generation_config.temperature))),r}randomSelect(e){let t=e.reduce(((e,t)=>e+t),0),n=Math.random()*t;for(let r=0;r<e.length;++r)if(n-=e[r],n<=0)return r;return 0}static getSampler(e){if(e.do_sample)return new MA(e);if(e.num_beams>1)return new IA(e);if(e.num_return_sequences>1)throw Error("num_return_sequences has to be 1 when doing greedy search, but is ".concat(e.num_return_sequences,"."));return new FA(e)}}class FA extends EA{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return[[Ik(this.getLogits(e,t))[1],0]]}}class MA extends EA{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const r=Fk(this.getLogits(e,t),n),i=Ek(r.map((e=>e[1])));return Array.from({length:this.generation_config.num_beams},(()=>{const e=this.randomSelect(i);return[r[e][0],Math.log(i[e])]}))}}class IA extends EA{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const r=Fk(this.getLogits(e,t),n),i=Ek(r.map((e=>e[1])));return Array.from({length:this.generation_config.num_beams},((e,t)=>[r[t][0],Math.log(i[t])]))}}const{InferenceSession:PA,Tensor:zA,env:NA}=ak,OA=0,BA=1,LA=2,RA=3,jA=4,VA=5,WA=new Map,qA=new Map,UA=new Map;async function HA(e,t,n){let r="onnx/".concat(t).concat(n.quantized?"_quantized":"",".onnx"),i=await Ak(e,r,!0,n);try{return await PA.create(i,{executionProviders:ok})}catch(a){if(1===ok.length&&"wasm"===ok[0])throw a;return console.warn(a),console.warn("Something went wrong during model construction (most likely a missing operation). Using `wasm` as a fallback. "),await PA.create(i,{executionProviders:["wasm"]})}}async function GA(e,t){const n=function(e,t){const n=Object.create(null),r=[];for(const o of e.inputNames){const e=t[o];e instanceof Vk?n[o]=NA.wasm.proxy?e.clone():e:r.push(o)}if(r.length>0)throw new Error('An error occurred during model execution: "Missing the following inputs: '.concat(r.join(", "),"."));const i=Object.keys(t).length,a=e.inputNames.length;if(i>a){let n=Object.keys(t).filter((t=>!e.inputNames.includes(t)));console.warn("WARNING: Too many inputs were provided (".concat(i," > ").concat(a,'). The following inputs will be ignored: "').concat(n.join(", "),'".'))}return n}(e,t);try{let t=await e.run(n);return t=KA(t),t}catch(F){throw console.error('An error occurred during model execution: "'.concat(F,'".')),console.error("Inputs given to model:",n),F}}function KA(e){for(let t in e)e[t]instanceof zA?e[t]=new Vk(e[t]):"object"===typeof e[t]&&KA(e[t]);return e}function YA(e){if(e instanceof Vk)return e;if(0===e.length)throw Error("items must be non-empty");if(Array.isArray(e[0])){if(e.some((t=>t.length!==e[0].length)))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new Vk("int64",BigInt64Array.from(e.flat().map((e=>BigInt(e)))),[e.length,e[0].length])}return new Vk("int64",BigInt64Array.from(e.map((e=>BigInt(e)))),[1,e.length])}function JA(e,t){var n,r;let i=null!==(n=e.config.pad_token_id)&&void 0!==n?n:null,a=null!==(r=e.config.eos_token_id)&&void 0!==r?r:null;qx(a)&&(a=[a]);let o=-1!==t.indexOf(i),s=null===a||!a.includes(i);if(o&&s){let e=BigInt64Array.from(t.data.map((e=>e!=i)));return new Vk("int64",e,t.dims)}return Xk(t)}function ZA(e,t,n){if(!e.inputNames.includes("position_ids"))return;const r=new BigInt64Array(t.attention_mask.data.length);for(let i=0;i<t.attention_mask.dims[0];++i){let e=i*t.attention_mask.dims[1],n=BigInt(0);for(let i=0;i<t.attention_mask.dims[1];++i){const a=e+i;0n===t.attention_mask.data[a]?r[a]=BigInt(1):(r[a]=n,n+=t.attention_mask.data[a])}}t.position_ids=new Vk("int64",r,t.attention_mask.dims),n&&(t.position_ids=t.position_ids.slice(null,-1).unsqueeze_(-1))}function XA(e){return new Vk("bool",[e],[1])}async function $A(e,t){let{encoder_outputs:n,past_key_values:r}=t;n||(n=(await nS(e,t)).last_hidden_state);let i={input_ids:t.decoder_input_ids,encoder_hidden_states:n};const a=!!r;e.decoder_merged_session.inputNames.includes("use_cache_branch")&&(i.use_cache_branch=XA(a)),e.decoder_merged_session.inputNames.includes("encoder_attention_mask")&&(i.encoder_attention_mask=t.attention_mask),ZA(e.decoder_merged_session,i,a),e.addPastKeyValues(i,r);const o=await GA(e.decoder_merged_session,i);let s=o.logits;r=e.getPastKeyValues(o,r);const l=e.getAttentions(o);return new qE(u({logits:s,past_key_values:r,encoder_outputs:n},l))}function QA(e,t,n,r){var i,a,o,s;let l=[],c=0;const u=null===(i=e.requires_attention_mask)||void 0===i||i;let d=null!==(a=null!==(o=null!==(s=n.decoder_input_ids)&&void 0!==s?s:n.decoder_start_token_id)&&void 0!==o?o:n.bos_token_id)&&void 0!==a?a:n.eos_token_id;d instanceof Vk?d=d.tolist().flat():Array.isArray(d)||(d=[d]);for(let h of t){h.dims=[1,...h.dims];let t={inputs:h,encoder_outputs:null,prev_model_outputs:null,output_token_ids:d,done:!1,score:0,id:c++};u&&(t.attention_mask=JA(e,h)),l.push(t)}return l}async function eS(e,t){var n;const r=e.main_input_name;let i=t.output_token_ids;t.prev_model_outputs&&(i=i.slice(-1));let a={[r]:t.inputs,decoder_input_ids:YA(i),encoder_outputs:t.encoder_outputs,past_key_values:null===(n=t.prev_model_outputs)||void 0===n?void 0:n.past_key_values};t.attention_mask&&(a.attention_mask=t.attention_mask);let o=await e.forward(a);return t.prev_model_outputs=o,t.encoder_outputs=o.encoder_outputs,o}function tS(e,t){e.output_token_ids=[...e.output_token_ids,t]}async function nS(e,t){const n=Object.create(null);for(const r of e.session.inputNames)n[r]=t[r];return e.session.inputNames.includes("token_type_ids")&&!n.token_type_ids&&(n.token_type_ids=new Vk("int64",new BigInt64Array(n.input_ids.data.length),n.input_ids.dims)),await GA(e.session,n)}async function rS(e,t){let{input_ids:n,past_key_values:r,attention_mask:i}=t,a={input_ids:n,attention_mask:null!==i&&void 0!==i?i:JA(e,n)};const o=!!r;e.session.inputNames.includes("use_cache_branch")&&(a.use_cache_branch=XA(o)),ZA(e.session,a,o),e.addPastKeyValues(a,r);let s=await GA(e.session,a),l=s.logits;return r=e.getPastKeyValues(s,r),{logits:l,past_key_values:r}}function iS(e,t,n,r,i){let a=[],o=0;for(let s of t){let t,n=s.tolist().map(Number);s.dims=[1,...s.dims],i?(t=i[o],t.dims=[1,...t.dims]):t=JA(e,s);let l={input:s,model_input_ids:s,attention_mask:t,prev_model_outputs:null,output_token_ids:n,num_output_tokens:r,done:!1,score:0,id:o++};a.push(l)}return a}async function aS(e,t){var n;let r=new BigInt64Array(t.output_token_ids.length).fill(1n),i={input_ids:t.model_input_ids,attention_mask:new Vk("int64",r,[1,r.length]),past_key_values:null===(n=t.prev_model_outputs)||void 0===n?void 0:n.past_key_values},a=await e.forward(i);return t.prev_model_outputs=a,a}function oS(e,t){e.output_token_ids=[...e.output_token_ids,t],e.model_input_ids=new Vk("int64",[BigInt(t)],[1,1])}class sS extends Wx{constructor(e,t){super(),l(this,"main_input_name","input_ids"),this.config=e,this.session=t;const n=UA.get(this.constructor),r=WA.get(n);this.can_generate=!1,this._runBeam=null,this._getStartBeams=null,this._updateBeam=null,this._forward=null,r===jA?(this.can_generate=!0,this._runBeam=aS,this._getStartBeams=iS,this._updateBeam=oS,this._forward=rS):r===LA||r===RA?(this.can_generate=!0,this._runBeam=eS,this._getStartBeams=QA,this._updateBeam=tS,this._forward=$A):this._forward=nS}async dispose(){const e=[];for(let t of Object.keys(this)){const n=this[t];n instanceof PA&&e.push(n.handler.dispose())}return await Promise.all(e)}static async from_pretrained(e){let{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:i=null,local_files_only:a=!1,revision:o="main",model_file_name:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l={quantized:t,progress_callback:n,config:r,cache_dir:i,local_files_only:a,revision:o,model_file_name:s};const c=UA.get(this),u=WA.get(c);let d;var h;if(u===jA)d=await Promise.all([mA.from_pretrained(e,l),HA(e,null!==(h=l.model_file_name)&&void 0!==h?h:"decoder_model_merged",l),Sk(e,"generation_config.json",!1,l)]);else if(u===LA||u===RA)d=await Promise.all([mA.from_pretrained(e,l),HA(e,"encoder_model",l),HA(e,"decoder_model_merged",l),Sk(e,"generation_config.json",!1,l)]);else if(u===VA)d=await Promise.all([mA.from_pretrained(e,l),HA(e,"vision_encoder",l),HA(e,"prompt_encoder_mask_decoder",l)]);else if(u===BA)d=await Promise.all([mA.from_pretrained(e,l),HA(e,"encoder_model",l),HA(e,"decoder_model_merged",l)]);else{var p;u!==OA&&console.warn("Model type for '".concat(null!==c&&void 0!==c?c:null===r||void 0===r?void 0:r.model_type,"' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.")),d=await Promise.all([mA.from_pretrained(e,l),HA(e,null!==(p=l.model_file_name)&&void 0!==p?p:"model",l)])}return new this(...d)}async _call(e){return await this.forward(e)}async forward(e){return await this._forward(this,e)}_get_logits_processor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=new gA;if(null!==e.repetition_penalty&&1!==e.repetition_penalty&&r.push(new DA(e.repetition_penalty)),null!==e.no_repeat_ngram_size&&e.no_repeat_ngram_size>0&&r.push(new kA(e.no_repeat_ngram_size)),null!==e.bad_words_ids&&r.push(new SA(e.bad_words_ids,e.eos_token_id)),null!==e.min_length&&null!==e.eos_token_id&&e.min_length>0&&r.push(new TA(e.min_length,e.eos_token_id)),null!==e.min_new_tokens&&null!==e.eos_token_id&&e.min_new_tokens>0&&r.push(new AA(t,e.min_new_tokens,e.eos_token_id)),null!==e.forced_bos_token_id&&r.push(new wA(e.forced_bos_token_id)),null!==e.forced_eos_token_id&&r.push(new vA(e.max_length,e.forced_eos_token_id)),null!==e.begin_suppress_tokens){let n=t>1||null===e.forced_bos_token_id?t:t+1;null!==e.forced_decoder_ids&&(n+=e.forced_decoder_ids[e.forced_decoder_ids.length-1][0]),r.push(new _A(e.begin_suppress_tokens,n))}return null!==e.forced_decoder_ids&&r.push(new bA(e.forced_decoder_ids)),null!==n&&r.extend(n),r}_get_generation_config(e){let t=new CA(this.config);return"generation_config"in this&&Object.assign(t,this.generation_config),null!==e&&Object.assign(t,e),t}async generate(e){var t,n;let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,{inputs_attention_mask:o=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!this.can_generate){var s,l,c;const e=UA.get(this.constructor);let t="The current model class (".concat(e,") is not compatible with `.generate()`, as it doesn't have a language model head.");const n=this.config.model_type,r=null!==(s=null!==(l=null!==(c=eE.get(n))&&void 0!==c?c:QC.get(n))&&void 0!==l?l:YC.get(n))&&void 0!==s?s:rE.get(n);throw r&&(t+=" Please use the following class instead: '".concat(r[0],"'")),Error(t)}if(!(e instanceof Vk)&&!function(e){var t;return"TypedArray"===(null===e||void 0===e||null===(t=e.prototype)||void 0===t||null===(t=t.__proto__)||void 0===t||null===(t=t.constructor)||void 0===t?void 0:t.name)}(e)&&!Array.isArray(e))throw Error('`inputs` must be a Tensor, TypedArray, or Array, but is "'.concat(e.constructor.name,'".'));if(this.config.is_encoder_decoder)r=0;else if(r=e instanceof Vk?e.dims.at(-1):e.length,0===r)throw Error("Must supply a non-empty array of input token ids.");i=this._get_generation_config(i),a=null!==a&&void 0!==a?a:new gA,a=this._get_logits_processor(i,r,a);let d=i.eos_token_id;null===d||Array.isArray(d)||(d=[d]);let h=1;const p=h+(null!==(t=i.max_new_tokens)&&void 0!==t?t:1/0),f=Number.isInteger(i.max_length)&&null===(null!==(n=i.max_new_tokens)&&void 0!==n?n:null);let m=EA.getSampler(i),g=this.getStartBeams(e,i,h,o);for(;g.some((e=>!e.done))&&h<p;){let e=[];for(let t of g){if(t.done){e.push(t);continue}if(f&&t.output_token_ids.length>=i.max_length){t.done=!0,e.push(t);continue}let n=await this.runBeam(t);i.output_attentions&&this.addAttentionsToBeam(t,n),i.output_scores;let r=n.logits.slice(null,-1,null);a(t.output_token_ids,r);let o=m(r);for(let[i,a]of o){let n=u({},t);this.updateBeam(n,i),n.score+=a,d&&d.includes(i)&&(n.done=!0),e.push(n)}}++h,e=this.groupBeams(e).map((e=>e.sort(((e,t)=>t.score-e.score)).slice(0,i.num_beams))),g=e.flat(),i.callback_function&&i.callback_function(g)}const y=this.groupBeams(g),b=e=>y.map((t=>i.num_return_sequences>1?t.slice(0,i.num_return_sequences).map((t=>t[e])):[t[0][e]])).flat(),w=b("output_token_ids");if(i.return_dict_in_generate){return{sequences:w,decoder_attentions:b("decoder_attentions"),cross_attentions:b("cross_attentions")}}return w}addAttentionsToBeam(e,t){if(this.config.is_encoder_decoder){if(!t.cross_attentions||0===t.cross_attentions.length)throw Error("`output_attentions` is true, but the model did not produce cross-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.cross_attentions||(e.cross_attentions=[]),e.cross_attentions.push(t.cross_attentions)}if(!t.decoder_attentions||0===t.decoder_attentions.length)throw Error("`output_attentions` is true, but the model did not produce decoder-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.decoder_attentions||(e.decoder_attentions=[]),e.decoder_attentions.push(t.decoder_attentions)}groupBeams(e){const t=Object.create(null);for(const n of e)void 0===t[n.id]?t[n.id]=[n]:t[n.id].push(n);return Object.values(t)}getPastKeyValues(e,t){const n=Object.create(null);for(const r in e)if(r.startsWith("present")){let i=r.replace("present","past_key_values");t&&r.includes("encoder")?n[i]=t[i]:n[i]=e[r]}return n}getAttentions(e){const t=Object.create(null);for(const n of["cross_attentions","decoder_attentions"]){const r=[];for(const t in e)if(t.startsWith(n)){r[t.split(".").pop()]=e[t]}t[n]=r}return t}addPastKeyValues(e,t){if(t)Object.assign(e,t);else{var n;const t=1;if(this.config.is_encoder_decoder&&(null===(n=this.add_encoder_pkv)||void 0===n||n)){let n=[t,this.num_encoder_heads,0,this.encoder_dim_kv],r=[t,this.num_decoder_heads,0,this.decoder_dim_kv];for(let t=0;t<this.num_decoder_layers;++t)e["past_key_values.".concat(t,".encoder.key")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".encoder.value")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".decoder.key")]=new Vk("float32",[],r),e["past_key_values.".concat(t,".decoder.value")]=new Vk("float32",[],r)}else if("falcon"===this.config.model_type){let n=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".value")]=new Vk("float32",[],n)}else if(this.config.multi_query){let n=[t*this.num_heads,0,2*this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key_value")]=new Vk("float32",[],n)}else if("bloom"===this.config.model_type){let n=[t*this.num_heads,this.dim_kv,0],r=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".value")]=new Vk("float32",[],r)}else{let n=[t,this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".value")]=new Vk("float32",[],n)}}}getStartBeams(e,t,n,r){return this._getStartBeams(this,e,t,n,r)}async runBeam(e){return await this._runBeam(this,e)}updateBeam(e,t){return this._updateBeam(e,t)}}class lS{}class cS extends sS{}class uS extends sS{}class dS extends sS{}class hS extends sS{}class pS extends sS{}class fS extends sS{}class mS extends sS{}class gS extends sS{}class yS extends sS{}class bS extends sS{}class wS extends sS{}class vS extends sS{}class _S extends sS{}class xS extends sS{}class kS extends sS{}class DS extends sS{}class TS extends sS{}class AS extends sS{}class SS extends sS{}class CS extends sS{}class ES extends sS{}class FS extends sS{}class MS extends sS{}class IS extends sS{}class PS extends sS{}class zS extends sS{}class NS extends sS{constructor(e,t,n,r){var i;super(e,t),l(this,"main_input_name","pixel_values"),this.decoder_merged_session=n,this.generation_config=r;const a=this.config.encoder,o=this.config.decoder,s=a.model_type;(null!==(i=HC.get(s))&&void 0!==i?i:GC.get(s))||console.warn("Model type for encoder '".concat(s,"' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose."));const c=eE.get(o.model_type);if(!c)throw new Error('Unable to construct `VisionEncoderDecoder` due to unsupported decoder: "'.concat(this.config.decoder.model_type,'"'));const u=new(0,c[1])(o,n,r);this.add_encoder_pkv="num_decoder_layers"in u,this.add_encoder_pkv?(this.num_decoder_layers=u.num_decoder_layers,this.num_decoder_heads=u.num_decoder_heads,this.decoder_dim_kv=u.decoder_dim_kv,this.num_encoder_layers=u.num_encoder_layers,this.num_encoder_heads=u.num_encoder_heads,this.encoder_dim_kv=u.encoder_dim_kv):(this.num_layers=u.num_layers,this.num_heads=u.num_heads,this.dim_kv=u.dim_kv)}}class OS extends sS{}class BS extends sS{}class LS extends sS{}class RS extends sS{}class jS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class VS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_heads,this.num_layers=this.config.num_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class WS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class qS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class US extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class HS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GS extends sS{constructor(e,t,n){var r;super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=null!==(r=this.config.num_key_value_heads)&&void 0!==r?r:this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class KS extends sS{constructor(e,t,n){var r;super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=null!==(r=this.config.num_key_value_heads)&&void 0!==r?r:this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class YS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class JS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.hidden_size/this.num_heads}}class ZS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_heads,this.num_layers=this.config.n_layers,this.dim_kv=this.config.d_model/this.num_heads}}class XS extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class $S extends sS{}class QS extends sS{}class eC extends sS{}class tC extends sS{}class nC extends sS{}class rC extends sS{}class iC extends sS{}class aC extends sS{}class oC extends sS{}class sC extends lS{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class lC extends lS{constructor(e){let{logits:t,pred_boxes:n,pred_masks:r}=e;super(),this.logits=t,this.pred_boxes=n,this.pred_masks=r}}class cC extends sS{}class uC extends sC{}class dC extends sS{}class hC extends sS{}class pC extends sS{}class fC extends sS{}class mC extends sS{}class gC extends sS{}class yC extends sS{}class bC extends sS{}class wC extends sS{}class vC extends sS{}class _C extends sS{}class xC extends sS{}class kC extends lS{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class DC extends sS{}class TC extends lS{constructor(e){let{iou_scores:t,pred_masks:n}=e;super(),this.iou_scores=t,this.pred_masks=n}}class AC extends sS{}class SC extends sS{}class CC extends sS{}class EC extends sS{}class FC extends sS{}class MC extends sS{}class IC extends sS{}class PC extends sS{}class zC extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_encoder_layers=this.num_decoder_layers=this.config.decoder_layers,this.num_encoder_heads=this.num_decoder_heads=this.config.decoder_attention_heads,this.encoder_dim_kv=this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads}}class NC extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class OC extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class BC extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class LC extends sS{}class RC extends sS{}class jC extends RC{async _call(e){return new XE(await super._call(e))}}class VC extends sS{}class WC extends sS{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class qC extends sS{}class UC{static async from_pretrained(e){let{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:i=null,local_files_only:a=!1,revision:o="main",model_file_name:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l={quantized:t,progress_callback:n,config:r,cache_dir:i,local_files_only:a,revision:o,model_file_name:s};if(r=await mA.from_pretrained(e,l),l.config||(l.config=r),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let c of this.MODEL_CLASS_MAPPINGS){const t=c.get(r.model_type);if(t)return await t[1].from_pretrained(e,l)}if(this.BASE_IF_FAIL)return console.warn('Unknown model class "'.concat(r.model_type,'", attempting to construct from base class.')),await sS.from_pretrained(e,l);throw Error("Unsupported model type: ".concat(r.model_type))}}l(UC,"MODEL_CLASS_MAPPINGS",null),l(UC,"BASE_IF_FAIL",!1);const HC=new Map([["bert",["BertModel",class extends cS{}]],["nomic_bert",["NomicBertModel",class extends uS{}]],["roformer",["RoFormerModel",class extends dS{}]],["electra",["ElectraModel",class extends pS{}]],["esm",["EsmModel",class extends bS{}]],["convbert",["ConvBertModel",class extends hS{}]],["camembert",["CamembertModel",class extends fS{}]],["deberta",["DebertaModel",class extends mS{}]],["deberta-v2",["DebertaV2Model",class extends gS{}]],["mpnet",["MPNetModel",class extends vS{}]],["albert",["AlbertModel",class extends xS{}]],["distilbert",["DistilBertModel",class extends yS{}]],["roberta",["RobertaModel",class extends FS{}]],["xlm",["XLMModel",class extends MS{}]],["xlm-roberta",["XLMRobertaModel",class extends IS{}]],["clap",["ClapModel",class extends LC{}]],["clip",["CLIPModel",class extends OS{}]],["clipseg",["CLIPSegModel",class extends RS{}]],["chinese_clip",["ChineseCLIPModel",class extends LS{}]],["siglip",["SiglipModel",class extends BS{}]],["mobilebert",["MobileBertModel",class extends wS{}]],["squeezebert",["SqueezeBertModel",class extends _S{}]],["wav2vec2",["Wav2Vec2Model",class extends CC{}]],["wav2vec2-bert",["Wav2Vec2BertModel",class extends MC{}]],["unispeech",["UniSpeechModel",class extends EC{}]],["unispeech-sat",["UniSpeechSatModel",class extends FC{}]],["hubert",["HubertModel",class extends CC{}]],["wavlm",["WavLMModel",class extends IC{}]],["audio-spectrogram-transformer",["ASTModel",class extends PS{}]],["vits",["VitsModel",jC]],["detr",["DetrModel",class extends oC{}]],["table-transformer",["TableTransformerModel",class extends cC{}]],["vit",["ViTModel",class extends $S{}]],["fastvit",["FastViTModel",class extends QS{}]],["mobilevit",["MobileViTModel",class extends tC{}]],["mobilevitv2",["MobileViTV2Model",class extends nC{}]],["owlvit",["OwlViTModel",class extends rC{}]],["owlv2",["Owlv2Model",class extends iC{}]],["beit",["BeitModel",class extends aC{}]],["deit",["DeiTModel",class extends dC{}]],["convnext",["ConvNextModel",class extends wC{}]],["convnextv2",["ConvNextV2Model",class extends vC{}]],["dinov2",["Dinov2Model",class extends _C{}]],["resnet",["ResNetModel",class extends hC{}]],["swin",["SwinModel",class extends pC{}]],["swin2sr",["Swin2SRModel",class extends fC{}]],["donut-swin",["DonutSwinModel",class extends bC{}]],["yolos",["YolosModel",class extends xC{}]],["dpt",["DPTModel",class extends mC{}]],["glpn",["GLPNModel",class extends yC{}]],["hifigan",["SpeechT5HifiGan",class extends sS{constructor(){super(...arguments),l(this,"main_input_name","spectrogram")}}]],["efficientnet",["EfficientNetModel",class extends qC{}]]]),GC=new Map([["t5",["T5Model",class extends kS{}]],["longt5",["LongT5Model",class extends DS{}]],["mt5",["MT5Model",class extends TS{}]],["bart",["BartModel",class extends AS{}]],["mbart",["MBartModel",class extends SS{}]],["marian",["MarianModel",class extends AC{}]],["whisper",["WhisperModel",class extends zS{}]],["m2m_100",["M2M100Model",class extends SC{}]],["blenderbot",["BlenderbotModel",class extends CS{}]],["blenderbot-small",["BlenderbotSmallModel",class extends ES{}]]]),KC=new Map([["bloom",["BloomModel",class extends JS{}]],["gpt2",["GPT2Model",class extends jS{}]],["gptj",["GPTJModel",class extends qS{}]],["gpt_bigcode",["GPTBigCodeModel",class extends US{}]],["gpt_neo",["GPTNeoModel",class extends VS{}]],["gpt_neox",["GPTNeoXModel",class extends WS{}]],["codegen",["CodeGenModel",class extends HS{}]],["llama",["LlamaModel",class extends GS{}]],["qwen2",["Qwen2Model",class extends KS{}]],["phi",["PhiModel",class extends YS{}]],["mpt",["MptModel",class extends ZS{}]],["opt",["OPTModel",class extends XS{}]],["mistral",["MistralModel",class extends NC{}]],["starcoder2",["Starcoder2Model",class extends OC{}]],["falcon",["FalconModel",class extends BC{}]]]),YC=new Map([["speecht5",["SpeechT5ForSpeechToText",class extends PC{}]],["whisper",["WhisperForConditionalGeneration",class extends zS{constructor(e,t,n,r){super(e,t),l(this,"requires_attention_mask",!1),l(this,"main_input_name","input_features"),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}async generate(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r=this._get_generation_config(r),null!==(n=(t=r).return_timestamps)&&void 0!==n||(t.return_timestamps=!1),r.return_timestamps&&(i=[new xA(r)]),r.return_token_timestamps&&(r.output_attentions=!0,r.return_dict_in_generate=!0,"translate"===r.task&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),!r.alignment_heads))throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");const a=await super.generate(e,r,i);return r.return_token_timestamps&&r.alignment_heads&&(a.token_timestamps=this._extract_token_timestamps(a,r.alignment_heads,r.num_frames)),a}_extract_token_timestamps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.02;if(!e.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");let i=this.config.median_filter_width;void 0===i&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),i=7);const a=e.cross_attentions.map((e=>{let r=Array.from({length:this.config.decoder_layers},((t,n)=>Gk(e.map((e=>e[n])),2))),a=Kk(t.map((e=>{let[t,i]=e;return n?r[t].slice(null,i,null,[0,n]):r[t].slice(null,i)})));a=a.transpose(1,0,2,3);let[o,s]=Yk(a,-2,0,!0),l=a.clone();for(let t=0;t<l.dims[0];++t){let e=l[t];for(let n=0;n<e.dims[0];++n){let r=e[n];const a=o[t][n][0],l=s[t][n][0];for(let e=0;e<r.dims[0];++e){let t=r[e];for(let e=0;e<t.data.length;++e)t.data[e]=(t.data[e]-l.data[e])/a.data[e];t.data.set(Bk(t.data,i))}}}return Jk(l,1)})),o=[e.sequences.length,e.sequences[0].length],s=new Vk("float32",new Float32Array(o[0]*o[1]),o);for(let l=0;l<o[0];++l){const e=a[l].neg().squeeze_(0);let[t,n]=Zk(e),i=Gx([1],Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n]))).map((e=>!!e)),o=[];for(let a=0;a<i.length;++a)i[a]&&o.push(n[a]*r);s[l].data.set(o,1)}return s}}]]]),JC=new Map([["speecht5",["SpeechT5ForTextToSpeech",class extends PC{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.hidden_size/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.hidden_size/this.num_encoder_heads}async generate_speech(e,t){let{threshold:n=.5,minlenratio:r=0,maxlenratio:i=20,vocoder:a=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o={input_ids:e},{encoder_outputs:s,encoder_attention_mask:l}=await nS(this,o),c=s.dims[1]/this.config.reduction_factor,u=Math.floor(c*i),d=Math.floor(c*r),h=this.config.num_mel_bins;let p=[],f=null,m=null,g=0;for(;;){++g;const e=XA(!!m);let r;r=m?m.output_sequence_out:new Vk("float32",new Float32Array(h),[1,1,h]);let i={use_cache_branch:e,output_sequence:r,encoder_attention_mask:l,speaker_embeddings:t,encoder_hidden_states:s};this.addPastKeyValues(i,f),m=await GA(this.decoder_merged_session,i),f=this.getPastKeyValues(m,f);const{prob:a,spectrum:o}=m;if(p.push(o),g>=d&&(Array.from(a.data).filter((e=>e>=n)).length>0||g>=u))break}const y=Gk(p),{waveform:b}=await GA(a.session,{spectrogram:y});return{spectrogram:y,waveform:b}}}]]]),ZC=new Map([["vits",["VitsModel",jC]]]),XC=new Map([["bert",["BertForSequenceClassification",class extends cS{async _call(e){return new UE(await super._call(e))}}]],["roformer",["RoFormerForSequenceClassification",class extends dS{async _call(e){return new UE(await super._call(e))}}]],["electra",["ElectraForSequenceClassification",class extends pS{async _call(e){return new UE(await super._call(e))}}]],["esm",["EsmForSequenceClassification",class extends bS{async _call(e){return new UE(await super._call(e))}}]],["convbert",["ConvBertForSequenceClassification",class extends hS{async _call(e){return new UE(await super._call(e))}}]],["camembert",["CamembertForSequenceClassification",class extends fS{async _call(e){return new UE(await super._call(e))}}]],["deberta",["DebertaForSequenceClassification",class extends mS{async _call(e){return new UE(await super._call(e))}}]],["deberta-v2",["DebertaV2ForSequenceClassification",class extends gS{async _call(e){return new UE(await super._call(e))}}]],["mpnet",["MPNetForSequenceClassification",class extends vS{async _call(e){return new UE(await super._call(e))}}]],["albert",["AlbertForSequenceClassification",class extends xS{async _call(e){return new UE(await super._call(e))}}]],["distilbert",["DistilBertForSequenceClassification",class extends yS{async _call(e){return new UE(await super._call(e))}}]],["roberta",["RobertaForSequenceClassification",class extends FS{async _call(e){return new UE(await super._call(e))}}]],["xlm",["XLMForSequenceClassification",class extends MS{async _call(e){return new UE(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForSequenceClassification",class extends IS{async _call(e){return new UE(await super._call(e))}}]],["bart",["BartForSequenceClassification",class extends AS{async _call(e){return new UE(await super._call(e))}}]],["mbart",["MBartForSequenceClassification",class extends SS{async _call(e){return new UE(await super._call(e))}}]],["mobilebert",["MobileBertForSequenceClassification",class extends wS{async _call(e){return new UE(await super._call(e))}}]],["squeezebert",["SqueezeBertForSequenceClassification",class extends _S{async _call(e){return new UE(await super._call(e))}}]]]),$C=new Map([["bert",["BertForTokenClassification",class extends cS{async _call(e){return new GE(await super._call(e))}}]],["roformer",["RoFormerForTokenClassification",class extends dS{async _call(e){return new GE(await super._call(e))}}]],["electra",["ElectraForTokenClassification",class extends pS{async _call(e){return new GE(await super._call(e))}}]],["esm",["EsmForTokenClassification",class extends bS{async _call(e){return new GE(await super._call(e))}}]],["convbert",["ConvBertForTokenClassification",class extends hS{async _call(e){return new GE(await super._call(e))}}]],["camembert",["CamembertForTokenClassification",class extends fS{async _call(e){return new GE(await super._call(e))}}]],["deberta",["DebertaForTokenClassification",class extends mS{async _call(e){return new GE(await super._call(e))}}]],["deberta-v2",["DebertaV2ForTokenClassification",class extends gS{async _call(e){return new GE(await super._call(e))}}]],["mpnet",["MPNetForTokenClassification",class extends vS{async _call(e){return new GE(await super._call(e))}}]],["distilbert",["DistilBertForTokenClassification",class extends yS{async _call(e){return new GE(await super._call(e))}}]],["roberta",["RobertaForTokenClassification",class extends FS{async _call(e){return new GE(await super._call(e))}}]],["xlm",["XLMForTokenClassification",class extends MS{async _call(e){return new GE(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForTokenClassification",class extends IS{async _call(e){return new GE(await super._call(e))}}]]]),QC=new Map([["t5",["T5ForConditionalGeneration",class extends kS{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["longt5",["LongT5ForConditionalGeneration",class extends DS{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["mt5",["MT5ForConditionalGeneration",class extends TS{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["bart",["BartForConditionalGeneration",class extends AS{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["mbart",["MBartForConditionalGeneration",class extends SS{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["marian",["MarianMTModel",class extends AC{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["m2m_100",["M2M100ForConditionalGeneration",class extends SC{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["blenderbot",["BlenderbotForConditionalGeneration",class extends CS{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",class extends ES{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]]]),eE=new Map([["bloom",["BloomForCausalLM",class extends JS{}]],["gpt2",["GPT2LMHeadModel",class extends jS{}]],["gptj",["GPTJForCausalLM",class extends qS{}]],["gpt_bigcode",["GPTBigCodeForCausalLM",class extends US{}]],["gpt_neo",["GPTNeoForCausalLM",class extends VS{}]],["gpt_neox",["GPTNeoXForCausalLM",class extends WS{}]],["codegen",["CodeGenForCausalLM",class extends HS{}]],["llama",["LlamaForCausalLM",class extends GS{}]],["qwen2",["Qwen2ForCausalLM",class extends KS{}]],["phi",["PhiForCausalLM",class extends YS{}]],["mpt",["MptForCausalLM",class extends ZS{}]],["opt",["OPTForCausalLM",class extends XS{}]],["mbart",["MBartForCausalLM",class extends SS{constructor(e,t,n){super(e,t),this.generation_config=n,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["mistral",["MistralForCausalLM",class extends NC{}]],["starcoder2",["Starcoder2ForCausalLM",class extends OC{}]],["falcon",["FalconForCausalLM",class extends BC{}]],["trocr",["TrOCRForCausalLM",class extends zC{}]],["stablelm",["StableLmForCausalLM",class extends WC{}]]]),tE=new Map([["bert",["BertForMaskedLM",class extends cS{async _call(e){return new KE(await super._call(e))}}]],["roformer",["RoFormerForMaskedLM",class extends dS{async _call(e){return new KE(await super._call(e))}}]],["electra",["ElectraForMaskedLM",class extends pS{async _call(e){return new KE(await super._call(e))}}]],["esm",["EsmForMaskedLM",class extends bS{async _call(e){return new KE(await super._call(e))}}]],["convbert",["ConvBertForMaskedLM",class extends hS{async _call(e){return new KE(await super._call(e))}}]],["camembert",["CamembertForMaskedLM",class extends fS{async _call(e){return new KE(await super._call(e))}}]],["deberta",["DebertaForMaskedLM",class extends mS{async _call(e){return new KE(await super._call(e))}}]],["deberta-v2",["DebertaV2ForMaskedLM",class extends gS{async _call(e){return new KE(await super._call(e))}}]],["mpnet",["MPNetForMaskedLM",class extends vS{async _call(e){return new KE(await super._call(e))}}]],["albert",["AlbertForMaskedLM",class extends xS{async _call(e){return new KE(await super._call(e))}}]],["distilbert",["DistilBertForMaskedLM",class extends yS{async _call(e){return new KE(await super._call(e))}}]],["roberta",["RobertaForMaskedLM",class extends FS{async _call(e){return new KE(await super._call(e))}}]],["xlm",["XLMWithLMHeadModel",class extends MS{async _call(e){return new KE(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForMaskedLM",class extends IS{async _call(e){return new KE(await super._call(e))}}]],["mobilebert",["MobileBertForMaskedLM",class extends wS{async _call(e){return new KE(await super._call(e))}}]],["squeezebert",["SqueezeBertForMaskedLM",class extends _S{async _call(e){return new KE(await super._call(e))}}]]]),nE=new Map([["bert",["BertForQuestionAnswering",class extends cS{async _call(e){return new YE(await super._call(e))}}]],["roformer",["RoFormerForQuestionAnswering",class extends dS{async _call(e){return new YE(await super._call(e))}}]],["electra",["ElectraForQuestionAnswering",class extends pS{async _call(e){return new YE(await super._call(e))}}]],["convbert",["ConvBertForQuestionAnswering",class extends hS{async _call(e){return new YE(await super._call(e))}}]],["camembert",["CamembertForQuestionAnswering",class extends fS{async _call(e){return new YE(await super._call(e))}}]],["deberta",["DebertaForQuestionAnswering",class extends mS{async _call(e){return new YE(await super._call(e))}}]],["deberta-v2",["DebertaV2ForQuestionAnswering",class extends gS{async _call(e){return new YE(await super._call(e))}}]],["mpnet",["MPNetForQuestionAnswering",class extends vS{async _call(e){return new YE(await super._call(e))}}]],["albert",["AlbertForQuestionAnswering",class extends xS{async _call(e){return new YE(await super._call(e))}}]],["distilbert",["DistilBertForQuestionAnswering",class extends yS{async _call(e){return new YE(await super._call(e))}}]],["roberta",["RobertaForQuestionAnswering",class extends FS{async _call(e){return new YE(await super._call(e))}}]],["xlm",["XLMForQuestionAnswering",class extends MS{async _call(e){return new YE(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForQuestionAnswering",class extends IS{async _call(e){return new YE(await super._call(e))}}]],["mobilebert",["MobileBertForQuestionAnswering",class extends wS{async _call(e){return new YE(await super._call(e))}}]],["squeezebert",["SqueezeBertForQuestionAnswering",class extends _S{async _call(e){return new YE(await super._call(e))}}]]]),rE=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",NS]]]),iE=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",NS]]]),aE=new Map([["vit",["ViTForImageClassification",class extends $S{async _call(e){return new UE(await super._call(e))}}]],["fastvit",["FastViTForImageClassification",class extends QS{async _call(e){return new UE(await super._call(e))}}]],["mobilevit",["MobileViTForImageClassification",class extends tC{async _call(e){return new UE(await super._call(e))}}]],["mobilevitv2",["MobileViTV2ForImageClassification",class extends nC{async _call(e){return new UE(await super._call(e))}}]],["beit",["BeitForImageClassification",class extends aC{async _call(e){return new UE(await super._call(e))}}]],["deit",["DeiTForImageClassification",class extends dC{async _call(e){return new UE(await super._call(e))}}]],["convnext",["ConvNextForImageClassification",class extends wC{async _call(e){return new UE(await super._call(e))}}]],["convnextv2",["ConvNextV2ForImageClassification",class extends vC{async _call(e){return new UE(await super._call(e))}}]],["dinov2",["Dinov2ForImageClassification",class extends _C{async _call(e){return new UE(await super._call(e))}}]],["resnet",["ResNetForImageClassification",class extends hC{async _call(e){return new UE(await super._call(e))}}]],["swin",["SwinForImageClassification",class extends pC{async _call(e){return new UE(await super._call(e))}}]],["segformer",["SegformerForImageClassification",class extends VC{}]],["efficientnet",["EfficientNetForImageClassification",class extends qC{async _call(e){return new UE(await super._call(e))}}]]]),oE=new Map([["detr",["DetrForObjectDetection",class extends oC{async _call(e){return new sC(await super._call(e))}}]],["table-transformer",["TableTransformerForObjectDetection",class extends cC{async _call(e){return new uC(await super._call(e))}}]],["yolos",["YolosForObjectDetection",class extends xC{async _call(e){return new kC(await super._call(e))}}]]]),sE=new Map([["owlvit",["OwlViTForObjectDetection",class extends rC{}]],["owlv2",["Owlv2ForObjectDetection",class extends iC{}]]]),lE=new Map([["detr",["DetrForSegmentation",class extends oC{async _call(e){return new lC(await super._call(e))}}]],["clipseg",["CLIPSegForImageSegmentation",class extends RS{}]]]),cE=new Map([["segformer",["SegformerForSemanticSegmentation",class extends VC{}]]]),uE=new Map([["sam",["SamModel",class extends DC{constructor(e,t,n){super(e,t),this.prompt_encoder_mask_decoder=n}async get_image_embeddings(e){let{pixel_values:t}=e;return await nS(this,{pixel_values:t})}async forward(e){if(e.image_embeddings&&e.image_positional_embeddings||(e=u(u({},e),await this.get_image_embeddings(e))),!e.input_labels){const t=e.input_points.dims.slice(0,-1),n=t.reduce(((e,t)=>e*t),1);e.input_labels=new Vk("int64",new BigInt64Array(n).fill(1n),t)}return await GA(this.prompt_encoder_mask_decoder,{input_points:e.input_points,input_labels:e.input_labels,image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings})}async _call(e){return new TC(await super._call(e))}}]]]),dE=new Map([["wav2vec2",["Wav2Vec2ForCTC",class extends CC{async _call(e){return new JE(await super._call(e))}}]],["wav2vec2-bert",["Wav2Vec2BertForCTC",class extends MC{async _call(e){return new JE(await super._call(e))}}]],["unispeech",["UniSpeechForCTC",class extends EC{async _call(e){return new JE(await super._call(e))}}]],["unispeech-sat",["UniSpeechSatForCTC",class extends FC{async _call(e){return new JE(await super._call(e))}}]],["wavlm",["WavLMForCTC",class extends IC{async _call(e){return new JE(await super._call(e))}}]],["hubert",["HubertForCTC",class extends CC{async _call(e){return new JE(await super._call(e))}}]]]),hE=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",class extends CC{async _call(e){return new UE(await super._call(e))}}]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",class extends MC{async _call(e){return new UE(await super._call(e))}}]],["unispeech",["UniSpeechForSequenceClassification",class extends EC{async _call(e){return new UE(await super._call(e))}}]],["unispeech-sat",["UniSpeechSatForSequenceClassification",class extends FC{async _call(e){return new UE(await super._call(e))}}]],["wavlm",["WavLMForSequenceClassification",class extends IC{async _call(e){return new UE(await super._call(e))}}]],["hubert",["HubertForSequenceClassification",class extends CC{async _call(e){return new UE(await super._call(e))}}]],["audio-spectrogram-transformer",["ASTForAudioClassification",class extends PS{}]]]),pE=new Map([["wavlm",["WavLMForXVector",class extends IC{async _call(e){return new HE(await super._call(e))}}]]]),fE=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",class extends FC{async _call(e){return new GE(await super._call(e))}}]],["wavlm",["WavLMForAudioFrameClassification",class extends IC{async _call(e){return new GE(await super._call(e))}}]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",class extends CC{async _call(e){return new GE(await super._call(e))}}]]]),mE=new Map([["vitmatte",["VitMatteForImageMatting",class extends eC{async _call(e){return new ZE(await super._call(e))}}]]]),gE=new Map([["swin2sr",["Swin2SRForImageSuperResolution",class extends fC{}]]]),yE=new Map([["dpt",["DPTForDepthEstimation",class extends mC{}]],["depth_anything",["DepthAnythingForDepthEstimation",class extends gC{}]],["glpn",["GLPNForDepthEstimation",class extends yC{}]]]),bE=new Map([["clip",["CLIPVisionModelWithProjection",class extends OS{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="vision_model"),super.from_pretrained(e,n)}}]],["siglip",["SiglipVisionModel",class extends OS{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="vision_model"),super.from_pretrained(e,n)}}]]]),wE=[[HC,OA],[GC,BA],[KC,jA],[XC,OA],[$C,OA],[QC,LA],[YC,LA],[eE,jA],[tE,OA],[nE,OA],[rE,RA],[aE,OA],[lE,OA],[cE,OA],[mE,OA],[gE,OA],[yE,OA],[oE,OA],[sE,OA],[uE,VA],[dE,OA],[hE,OA],[JC,LA],[ZC,OA],[pE,OA],[fE,OA],[bE,OA]];for(const[QQ,e0]of wE)for(const[e,t]of QQ.values())WA.set(e,e0),UA.set(t,e),qA.set(e,t);const vE=[["CLIPTextModelWithProjection",class extends OS{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},OA],["SiglipTextModel",class extends BS{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},OA],["ClapTextModelWithProjection",class extends LC{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},OA],["ClapAudioModelWithProjection",class extends LC{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="audio_model"),super.from_pretrained(e,n)}},OA]];for(const[QQ,e0,t0]of vE)WA.set(QQ,t0),UA.set(e0,QQ),qA.set(QQ,e0);class _E extends UC{}l(_E,"MODEL_CLASS_MAPPINGS",wE.map((e=>e[0]))),l(_E,"BASE_IF_FAIL",!0);class xE extends UC{}l(xE,"MODEL_CLASS_MAPPINGS",[XC]);class kE extends UC{}l(kE,"MODEL_CLASS_MAPPINGS",[$C]);class DE extends UC{}l(DE,"MODEL_CLASS_MAPPINGS",[QC]);class TE extends UC{}l(TE,"MODEL_CLASS_MAPPINGS",[YC]);class AE extends UC{}l(AE,"MODEL_CLASS_MAPPINGS",[JC]);class SE extends UC{}l(SE,"MODEL_CLASS_MAPPINGS",[ZC]);class CE extends UC{}l(CE,"MODEL_CLASS_MAPPINGS",[eE]);class EE extends UC{}l(EE,"MODEL_CLASS_MAPPINGS",[tE]);class FE extends UC{}l(FE,"MODEL_CLASS_MAPPINGS",[nE]);class ME extends UC{}l(ME,"MODEL_CLASS_MAPPINGS",[rE]);class IE extends UC{}l(IE,"MODEL_CLASS_MAPPINGS",[aE]);class PE extends UC{}l(PE,"MODEL_CLASS_MAPPINGS",[lE]);class zE extends UC{}l(zE,"MODEL_CLASS_MAPPINGS",[cE]);class NE extends UC{}l(NE,"MODEL_CLASS_MAPPINGS",[oE]);class OE extends UC{}l(OE,"MODEL_CLASS_MAPPINGS",[sE]);l(class extends UC{},"MODEL_CLASS_MAPPINGS",[uE]);class BE extends UC{}l(BE,"MODEL_CLASS_MAPPINGS",[dE]);class LE extends UC{}l(LE,"MODEL_CLASS_MAPPINGS",[hE]);l(class extends UC{},"MODEL_CLASS_MAPPINGS",[pE]);l(class extends UC{},"MODEL_CLASS_MAPPINGS",[fE]);class RE extends UC{}l(RE,"MODEL_CLASS_MAPPINGS",[iE]);l(class extends UC{},"MODEL_CLASS_MAPPINGS",[mE]);class jE extends UC{}l(jE,"MODEL_CLASS_MAPPINGS",[gE]);class VE extends UC{}l(VE,"MODEL_CLASS_MAPPINGS",[yE]);class WE extends UC{}l(WE,"MODEL_CLASS_MAPPINGS",[bE]);class qE extends lS{constructor(e){let{logits:t,past_key_values:n,encoder_outputs:r,decoder_attentions:i=null,cross_attentions:a=null}=e;super(),this.logits=t,this.past_key_values=n,this.encoder_outputs=r,this.decoder_attentions=i,this.cross_attentions=a}}class UE extends lS{constructor(e){let{logits:t}=e;super(),this.logits=t}}class HE extends lS{constructor(e){let{logits:t,embeddings:n}=e;super(),this.logits=t,this.embeddings=n}}class GE extends lS{constructor(e){let{logits:t}=e;super(),this.logits=t}}class KE extends lS{constructor(e){let{logits:t}=e;super(),this.logits=t}}class YE extends lS{constructor(e){let{start_logits:t,end_logits:n}=e;super(),this.start_logits=t,this.end_logits=n}}class JE extends lS{constructor(e){let{logits:t}=e;super(),this.logits=t}}class ZE extends lS{constructor(e){let{alphas:t}=e;super(),this.alphas=t}}class XE extends lS{constructor(e){let{waveform:t,spectrogram:n}=e;super(),this.waveform=t,this.spectrogram=n}}var $E=__webpack_require__(806);const QE="undefined"!==typeof self,eF=QE&&"DedicatedWorkerGlobalScope"===self.constructor.name;let tF,nF,rF;if(QE)tF=(e,t)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(e,t)},rF=self.createImageBitmap,nF=self.ImageData;else{if(!$E)throw new Error("Unable to load image processing library.");rF=async e=>{const t=(await e.metadata()).channels;let{data:n,info:r}=await e.rotate().raw().toBuffer({resolveWithObject:!0});const i=new oF(new Uint8ClampedArray(n),r.width,r.height,r.channels);return void 0!==t&&t!==r.channels&&i.convert(t),i}}const iF={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},aF=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class oF{constructor(e,t,n,r){this.data=e,this.width=t,this.height=n,this.channels=r}get size(){return[this.width,this.height]}static async read(e){if(e instanceof oF)return e;if("string"===typeof e||e instanceof URL)return await this.fromURL(e);throw new Error("Unsupported input type: ".concat(typeof e))}static async fromURL(e){let t=await kk(e);if(200!==t.status)throw new Error('Unable to read image from "'.concat(e,'" (').concat(t.status," ").concat(t.statusText,")"));let n=await t.blob();return this.fromBlob(n)}static async fromBlob(e){if(QE){let t=await rF(e);const n=tF(t.width,t.height).getContext("2d");return n.drawImage(t,0,0),new this(n.getImageData(0,0,t.width,t.height).data,t.width,t.height,4)}{let t=$E(await e.arrayBuffer());return await rF(t)}}static fromTensor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CHW";if(3!==e.dims.length)throw new Error("Tensor should have 3 dimensions, but has ".concat(e.dims.length," dimensions."));if("CHW"===t)e=e.transpose(1,2,0);else if("HWC"!==t)throw new Error("Unsupported channel format: ".concat(t));if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error("Unsupported tensor type: ".concat(e.type));switch(e.dims[2]){case 1:case 2:case 3:case 4:return new oF(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error("Unsupported number of channels: ".concat(e.dims[2]))}}grayscale(){if(1===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let t=0,n=0;t<this.data.length;t+=this.channels){const r=this.data[t],i=this.data[t+1],a=this.data[t+2];e[n++]=Math.round(.2989*r+.587*i+.114*a)}break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,1)}rgb(){if(3===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t];break;case 4:for(let t=0,n=0;t<this.data.length;t+=4)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2];break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,3)}rgba(){if(4===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=255;break;case 3:for(let t=0,n=0;t<this.data.length;t+=3)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2],e[n++]=255;break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,4)}async resize(e,t){var n;let{resample:r=2}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null!==(n=iF[r])&&void 0!==n?n:r;if(QE){let n=this.channels,r=this.toCanvas();const i=tF(e,t).getContext("2d");return i.drawImage(r,0,0,e,t),new oF(i.getImageData(0,0,e,t).data,e,t,4).convert(n)}{let n=this.toSharp();switch(i){case"box":case"hamming":"box"!==i&&"hamming"!==i||(console.warn("Resampling method ".concat(i," is not yet supported. Using bilinear instead.")),i="bilinear");case"nearest":case"bilinear":case"bicubic":n=n.affine([e/this.width,0,0,t/this.height],{interpolator:i});break;case"lanczos":n=n.resize({width:e,height:t,fit:"fill",kernel:"lanczos3"});break;default:throw new Error("Resampling method ".concat(i," is not supported."))}return await rF(n)}}async pad(e){let[t,n,r,i]=e;if(t=Math.max(t,0),n=Math.max(n,0),r=Math.max(r,0),i=Math.max(i,0),0===t&&0===n&&0===r&&0===i)return this;if(QE){let e=this.channels,a=this.toCanvas(),o=this.width+t+n,s=this.height+r+i;const l=tF(o,s).getContext("2d");return l.drawImage(a,0,0,this.width,this.height,t,r,o,s),new oF(l.getImageData(0,0,o,s).data,o,s,4).convert(e)}{let e=this.toSharp().extend({left:t,right:n,top:r,bottom:i});return await rF(e)}}async crop(e){let[t,n,r,i]=e;if(t=Math.max(t,0),n=Math.max(n,0),r=Math.min(r,this.width-1),i=Math.min(i,this.height-1),0===t&&0===n&&r===this.width-1&&i===this.height-1)return this;const a=r-t+1,o=i-n+1;if(QE){const e=this.channels,r=this.toCanvas(),i=tF(a,o).getContext("2d");i.drawImage(r,t,n,a,o,0,0,a,o);return new oF(i.getImageData(0,0,a,o).data,a,o,4).convert(e)}{const e=this.toSharp().extract({left:t,top:n,width:a,height:o});return await rF(e)}}async center_crop(e,t){if(this.width===e&&this.height===t)return this;let n=(this.width-e)/2,r=(this.height-t)/2;if(QE){let i=this.channels,a=this.toCanvas();const o=tF(e,t).getContext("2d");let s=0,l=0,c=0,u=0;return n>=0?s=n:c=-n,r>=0?l=r:u=-r,o.drawImage(a,s,l,e,t,c,u,e,t),new oF(o.getImageData(0,0,e,t).data,e,t,4).convert(i)}{let i=this.toSharp();if(n>=0&&r>=0)i=i.extract({left:Math.floor(n),top:Math.floor(r),width:e,height:t});else if(n<=0&&r<=0){let a=Math.floor(-r),o=Math.floor(-n);i=i.extend({top:a,left:o,right:e-this.width-o,bottom:t-this.height-a})}else{let a=[0,0],o=0;r<0?(a[0]=Math.floor(-r),a[1]=t-this.height-a[0]):o=Math.floor(r);let s=[0,0],l=0;n<0?(s[0]=Math.floor(-n),s[1]=e-this.width-s[0]):l=Math.floor(n),i=i.extend({top:a[0],bottom:a[1],left:s[0],right:s[1]}).extract({left:l,top:o,width:e,height:t})}return await rF(i)}}async toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!QE)throw new Error("toBlob() is only supported in browser environments.");const n=this.toCanvas();return await n.convertToBlob({type:e,quality:t})}toTensor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CHW",t=new Vk("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if("HWC"===e);else{if("CHW"!==e)throw new Error("Unsupported channel format: ".concat(e));t=t.permute(2,0,1)}return t}toCanvas(){if(!QE)throw new Error("toCanvas() is only supported in browser environments.");let e=this.clone().rgba(),t=tF(e.width,e.height),n=new nF(e.data,e.width,e.height);return t.getContext("2d").putImageData(n,0,0),t}_update(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.data=e,this.width=t,this.height=n,null!==r&&(this.channels=r),this}clone(){return new oF(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this}async save(e){if(!QE){if(wk.useFS){const t=this.toSharp();return await t.toFile(e)}throw new Error("Unable to save the image because filesystem is disabled in this environment.")}{var t;if(eF)throw new Error("Unable to save an image from a Web Worker.");const n=e.split(".").pop().toLowerCase(),r=null!==(t=aF.get(n))&&void 0!==t?t:"image/png",i=await this.toBlob(r),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download=e,o.click(),o.remove()}}toSharp(){if(QE)throw new Error("toSharp() is only supported in server-side environments.");return $E(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}function sF(e){if(e<1)return new Float64Array;if(1===e)return new Float64Array([1]);const t=e-1,n=Math.PI/t,r=new Float64Array(e);for(let i=0;i<e;++i){const e=2*i-t;r[i]=.5+.5*Math.cos(n*e)}return r}const lF={htk:e=>2595*Math.log10(1+e/700),kaldi:e=>1127*Math.log(1+e/700),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:27/Math.log(6.4);return e>=t?n+Math.log(e/t)*r:3*e/200}};function cF(e){const t=lF[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map((e=>t(e)))}const uF={htk:e=>700*(10**(e/2595)-1),kaldi:e=>700*(Math.exp(e/1127)-1),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.log(6.4)/27;return e>=n?t*Math.exp(r*(e-n)):200*e/3}};function dF(e,t,n){const r=(t-e)/(n-1);return Float64Array.from({length:n},((t,n)=>e+r*n))}function hF(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"htk",s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(null!==a&&"slaney"!==a)throw new Error('norm must be one of null or "slaney"');const l=dF(cF(n,o),cF(r,o),t+2);let c,u=function(e){const t=uF[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map((e=>t(e)))}(l,o);if(s){const t=i/(2*e);c=cF(Float64Array.from({length:e},((e,n)=>n*t)),o),u=l}else c=dF(0,Math.floor(i/2),e);const d=function(e,t){const n=Float64Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n])),r=Array.from({length:e.length},(()=>new Array(t.length)));for(let o=0;o<e.length;++o){const n=r[o];for(let r=0;r<t.length;++r)n[r]=t[r]-e[o]}const i=t.length-2,a=Array.from({length:i},(()=>new Array(e.length)));for(let o=0;o<e.length;++o){const e=r[o];for(let t=0;t<i;++t){const r=-e[t]/n[t],i=e[t+2]/n[t+1];a[t][o]=Math.max(0,Math.min(r,i))}}return a}(c,u);if(null!==a&&"slaney"===a)for(let h=0;h<t;++h){const t=d[h],n=2/(u[h+2]-u[h]);for(let r=0;r<e;++r)t[r]*=n}return d}function pF(e,t,n,r,i){if(n<=0)throw new Error("reference must be greater than zero");if(r<=0)throw new Error("min_value must be greater than zero");n=Math.max(r,n);const a=Math.log10(n);for(let o=0;o<e.length;++o)e[o]=t*Math.log10(Math.max(r,e[o])-a);if(null!==i){if(i<=0)throw new Error("db_range must be greater than zero");const t=Ik(e)[0]-i;for(let n=0;n<e.length;++n)e[n]=Math.max(e[n],t)}return e}function fF(e,t,n,r){let{fft_length:i=null,power:a=1,center:o=!0,pad_mode:s="reflect",onesided:l=!0,preemphasis:c=null,mel_filters:u=null,mel_floor:d=1e-10,log_mel:h=null,reference:p=1,min_value:f=1e-10,db_range:m=null,remove_dc_offset:g=null,max_num_frames:y=null,do_pad:b=!0,transpose:w=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const v=t.length;if(null===i&&(i=n),n>i)throw Error("frame_length (".concat(n,") may not be larger than fft_length (").concat(i,")"));if(v!==n)throw new Error("Length of the window (".concat(v,") must equal frame_length (").concat(n,")"));if(r<=0)throw new Error("hop_length must be greater than zero");if(null===a&&null!==u)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(o){if("reflect"!==s)throw new Error('pad_mode="'.concat(s,'" not implemented yet.'));const t=Math.floor((i-1)/2)+1;e=function(e,t,n){const r=new e.constructor(e.length+t+n),i=e.length-1;for(let a=0;a<e.length;++a)r[t+a]=e[a];for(let a=1;a<=t;++a)r[t-a]=e[Yx(a,i)];for(let a=1;a<=n;++a)r[i+t+a]=e[Yx(i-a,i)];return r}(e,t,t)}const _=Math.floor(1+Math.floor((e.length-n)/r)),x=l?Math.floor(i/2)+1:i;let k=_,D=_;null!==y&&(y>_?b&&(D=y):D=k=y);const T=new Ok(i),A=new Float64Array(i),S=new Float64Array(T.outputBufferSize),C=new Array(k);for(let I=0;I<k;++I){const i=I*r;for(let t=0;t<n;++t)A[t]=e[i+t];if(g){let e=0;for(let r=0;r<n;++r)e+=A[r];const t=e/n;for(let r=0;r<n;++r)A[r]-=t}if(null!==c){for(let e=n-1;e>=1;--e)A[e]-=c*A[e-1];A[0]*=1-c}for(let e=0;e<t.length;++e)A[e]*=t[e];T.realTransform(S,A);const a=new Array(x);for(let e=0;e<a.length;++e){const t=e<<1;a[e]=S[t]**2+S[t+1]**2}C[I]=a}if(null!==a&&2!==a){const e=2/a;for(let t=0;t<C.length;++t){const n=C[t];for(let t=0;t<n.length;++t)n[t]**=e}}const E=u.length,F=new Float32Array(E*D),M=w?[D,E]:[E,D];for(let I=0;I<E;++I){const e=u[I];for(let t=0;t<k;++t){const n=C[t];let r=0;for(let t=0;t<x;++t)r+=e[t]*n[t];F[w?t*E+I:I*k+t]=Math.max(d,r)}}if(null!==a&&null!==h){const e=Math.min(F.length,k*E);switch(h){case"log":for(let t=0;t<e;++t)F[t]=Math.log(F[t]);break;case"log10":for(let t=0;t<e;++t)F[t]=Math.log10(F[t]);break;case"dB":if(1===a)!function(e){pF(e,20,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(F,p,f,m);else{if(2!==a)throw new Error("Cannot use log_mel option '".concat(h,"' with power ").concat(a));!function(e){pF(e,10,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(F,p,f,m)}break;default:throw new Error("log_mel must be one of null, 'log', 'log10' or 'dB'. Got '".concat(h,"'"))}}return{data:F,dims:M}}function mF(e,t){let{periodic:n=!0,frame_length:r=null,center:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=n?e+1:e;let o;switch(t){case"boxcar":o=new Float64Array(a).fill(1);break;case"hann":case"hann_window":o=sF(a);break;case"povey":o=sF(a).map((e=>Math.pow(e,.85)));break;default:throw new Error("Unknown window type ".concat(t,"."))}if(n&&(o=o.subarray(0,e)),null===r)return o;if(e>r)throw new Error("Length of the window (".concat(e,") may not be larger than frame_length (").concat(r,")"));return o}function gF(e){let[t,n,r,i]=e;return[t-r/2,n-i/2,t+r/2,n+i/2]}function yF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=e.logits,a=e.pred_boxes,[o,s,l]=i.dims;if(null!==n&&n.length!==o)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let c=[];for(let u=0;u<o;++u){let e=null!==n?n[u]:null,o={boxes:[],classes:[],scores:[]},d=i[u],h=a[u];for(let n=0;n<s;++n){let i,a=d[n],s=[];if(r){i=a.sigmoid().data;for(let e=0;e<i.length;++e)i[e]>t&&s.push(e)}else{let e=Ik(a.data)[1];if(e===l-1)continue;s.push(e),i=Ek(a.data)}for(const t of s){let r=h[n].data;r=gF(r),null!==e&&(r=r.map(((t,n)=>t*e[(n+1)%2]))),o.boxes.push(r),o.classes.push(t),o.scores.push(i[t])}}c.push(o)}return c}function bF(e,t){var n,r;if(!(e instanceof Float32Array||e instanceof Float64Array))throw new Error("".concat(t," expects input to be a Float32Array or a Float64Array, but got ").concat(null!==(n=null===e||void 0===e||null===(r=e.constructor)||void 0===r?void 0:r.name)&&void 0!==n?n:typeof e," instead. ")+"If using the feature extractor directly, remember to use `read_audio(url, sampling_rate)` to obtain the raw audio data of the file/url.")}function wF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=e/t;let a=function(e){const t=Math.round(e);return Math.abs(e)%1===.5?t%2===0?t:t-1:t}(i)*t;return null!==r&&a>r&&(a=Math.floor(i)*t),a<n&&(a=Math.ceil(i)*t),a}function vF(e,t){let[n,r]=e;return[Math.max(Math.floor(n/t),1)*t,Math.max(Math.floor(r/t),1)*t]}class _F extends Wx{constructor(e){super(),this.config=e}}class xF extends _F{constructor(e){var t,n,r,i,a,o,s,l;super(e),this.image_mean=null!==(t=this.config.image_mean)&&void 0!==t?t:this.config.mean,this.image_std=null!==(n=this.config.image_std)&&void 0!==n?n:this.config.std,this.resample=null!==(r=this.config.resample)&&void 0!==r?r:2,this.do_rescale=null===(i=this.config.do_rescale)||void 0===i||i,this.rescale_factor=null!==(a=this.config.rescale_factor)&&void 0!==a?a:1/255,this.do_normalize=this.config.do_normalize,this.do_resize=this.config.do_resize,this.do_thumbnail=this.config.do_thumbnail,this.size=this.config.size,this.size_divisibility=null!==(o=this.config.size_divisibility)&&void 0!==o?o:this.config.size_divisor,this.do_center_crop=this.config.do_center_crop,this.crop_size=this.config.crop_size,this.do_convert_rgb=null===(s=this.config.do_convert_rgb)||void 0===s||s,this.do_crop_margin=this.config.do_crop_margin,this.pad_size=this.config.pad_size,this.do_pad=this.config.do_pad,this.do_pad&&!this.pad_size&&this.size&&void 0!==this.size.width&&void 0!==this.size.height&&(this.pad_size=this.size),this.do_flip_channel_order=null!==(l=this.config.do_flip_channel_order)&&void 0!==l&&l}async thumbnail(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=e.height,i=e.width,a=t.height,o=t.width;let s=Math.min(r,a),l=Math.min(i,o);return s===r&&l===i?e:(r>i?l=Math.floor(i*s/r):i>r&&(s=Math.floor(r*l/i)),await e.resize(l,s,{resample:n}))}async crop_margin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;const n=e.clone().grayscale(),r=Mk(n.data)[0],i=Ik(n.data)[0]-r;if(0===i)return e;const a=t/255;let o=n.width,s=n.height,l=0,c=0;for(let u=0;u<n.height;++u){const e=u*n.width;for(let t=0;t<n.width;++t)(n.data[e+t]-r)/i<a&&(o=Math.min(o,t),s=Math.min(s,u),l=Math.max(l,t),c=Math.max(c,u))}return e=await e.crop([o,s,l,c])}pad_image(e,t,n){let{mode:r="constant",center:i=!1,constant_values:a=0}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[o,s,l]=t;let c,u;if("number"===typeof n?(c=n,u=n):(c=n.width,u=n.height),c!==s||u!==o){const n=new Float32Array(c*u*l);if(Array.isArray(a))for(let e=0;e<n.length;++e)n[e]=a[e%l];else 0!==a&&n.fill(a);const[d,h]=i?[Math.floor((c-s)/2),Math.floor((u-o)/2)]:[0,0];for(let t=0;t<o;++t){const r=(t+h)*c,i=t*s;for(let t=0;t<s;++t){const a=(r+t+d)*l,o=(i+t)*l;for(let t=0;t<l;++t)n[a+t]=e[o+t]}}if("symmetric"===r){if(i)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const t=o-1,r=s-1;for(let i=0;i<u;++i){const a=i*c,u=Yx(i,t)*s;for(let t=0;t<c;++t){if(i<o&&t<s)continue;const c=(a+t)*l,d=(u+Yx(t,r))*l;for(let t=0;t<l;++t)n[c+t]=e[d+t]}}}e=n,t=[u,c,l]}return[e,t]}rescale(e){for(let t=0;t<e.length;++t)e[t]=this.rescale_factor*e[t]}get_resize_output_image_size(e,t){const[n,r]=e.size;let i,a;if(this.do_thumbnail){const{height:e,width:n}=t;i=Math.min(e,n)}else if(Number.isInteger(t)){var o;i=t,a=null!==(o=this.config.max_size)&&void 0!==o?o:i}else void 0!==t&&(i=t.shortest_edge,a=t.longest_edge);if(void 0!==i||void 0!==a){const e=void 0===i?1:Math.max(i/n,i/r),t=n*e,o=r*e,s=void 0===a?1:Math.min(a/t,a/o);let l=Math.floor(Number((t*s).toFixed(2))),c=Math.floor(Number((o*s).toFixed(2)));return void 0!==this.size_divisibility&&([l,c]=vF([l,c],this.size_divisibility)),[l,c]}if(void 0!==t&&void 0!==t.width&&void 0!==t.height){let e=t.width,i=t.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let t=i/r,a=e/n;Math.abs(1-a)<Math.abs(1-t)?t=a:a=t,i=wF(t*r,this.config.ensure_multiple_of),e=wF(a*n,this.config.ensure_multiple_of)}return[e,i]}if(void 0!==this.size_divisibility)return vF([n,r],this.size_divisibility);throw new Error("Could not resize image due to unsupported `this.size` option in config: ".concat(JSON.stringify(t)))}async resize(e){const[t,n]=this.get_resize_output_image_size(e,this.size);return await e.resize(t,n,{resample:this.resample})}async preprocess(e){let{do_normalize:t=null,do_pad:n=null,do_convert_rgb:r=null,do_convert_grayscale:i=null,do_flip_channel_order:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.do_crop_margin&&(e=await this.crop_margin(e));const[o,s]=e.size;if((null!==r&&void 0!==r?r:this.do_convert_rgb)?e=e.rgb():i&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let t,n;Number.isInteger(this.crop_size)?(t=this.crop_size,n=this.crop_size):(t=this.crop_size.width,n=this.crop_size.height),e=await e.center_crop(t,n)}const l=[e.height,e.width];let c=Float32Array.from(e.data),u=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(c),null!==t&&void 0!==t?t:this.do_normalize){let t=this.image_mean;Array.isArray(this.image_mean)||(t=new Array(e.channels).fill(t));let n=this.image_std;if(Array.isArray(this.image_std)||(n=new Array(e.channels).fill(t)),t.length!==e.channels||n.length!==e.channels)throw new Error("When set to arrays, the length of `image_mean` (".concat(t.length,") and `image_std` (").concat(n.length,") must match the number of channels in the image (").concat(e.channels,")."));for(let r=0;r<c.length;r+=e.channels)for(let i=0;i<e.channels;++i)c[r+i]=(c[r+i]-t[i])/n[i]}if(null!==n&&void 0!==n?n:this.do_pad)if(this.pad_size){const t=this.pad_image(c,[e.height,e.width,e.channels],this.pad_size);[c,u]=t}else if(this.size_divisibility){const[e,t]=vF([u[1],u[0]],this.size_divisibility);[c,u]=this.pad_image(c,u,{width:e,height:t})}if(null!==a&&void 0!==a?a:this.do_flip_channel_order){if(3!==u[2])throw new Error("Flipping channel order is only supported for RGB images.");for(let e=0;e<c.length;e+=3){const t=c[e];c[e]=c[e+2],c[e+2]=t}}return{original_size:[s,o],reshaped_input_size:l,pixel_values:new Vk("float32",c,u).permute(2,0,1)}}async _call(e){Array.isArray(e)||(e=[e]);const t=await Promise.all(e.map((e=>this.preprocess(e)))),n=Kk(t.map((e=>e.pixel_values)),0);return{pixel_values:n,original_sizes:t.map((e=>e.original_size)),reshaped_input_sizes:t.map((e=>e.reshaped_input_size))}}}class kF extends xF{}class DF extends xF{constructor(e){var t;super(e),this.crop_pct=null!==(t=this.config.crop_pct)&&void 0!==t?t:.875}async resize(e){var t;const n=null===(t=this.size)||void 0===t?void 0:t.shortest_edge;if(void 0===n)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(n<384){const t=Math.floor(n/this.crop_pct),[r,i]=this.get_resize_output_image_size(e,{shortest_edge:t});e=await e.resize(r,i,{resample:this.resample}),e=await e.center_crop(n,n)}else e=await e.resize(n,n,{resample:this.resample});return e}}class TF extends xF{}class AF extends xF{post_process_object_detection(){return yF(...arguments)}}class SF extends xF{pad_image(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,a,o]=t;let s=this.image_mean;Array.isArray(this.image_mean)||(s=new Array(o).fill(s));let l=this.image_std;Array.isArray(l)||(l=new Array(o).fill(s));const c=s.map(((e,t)=>-e/l[t]));return super.pad_image(e,t,n,u({center:!0,constant_values:c},r))}}class CF extends Wx{constructor(e){super(),this.feature_extractor=e}async _call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await this.feature_extractor(e,...n)}}class EF{static async from_pretrained(e){var t,n;let{progress_callback:r=null,config:i=null,cache_dir:a=null,local_files_only:o=!1,revision:s="main"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=null!==i&&void 0!==i?i:await Sk(e,"preprocessor_config.json",!0,{progress_callback:r,config:i,cache_dir:a,local_files_only:o,revision:s}),c=null!==(t=l.feature_extractor_type)&&void 0!==t?t:l.image_processor_type,u=this.FEATURE_EXTRACTOR_CLASS_MAPPING[c];if(!u){if(void 0===l.size)throw new Error("Unknown Feature Extractor type: ".concat(c));console.warn('Feature extractor type "'.concat(c,'" not found, assuming ImageFeatureExtractor due to size parameter in config.')),u=xF}return new(null!==(n=this.PROCESSOR_CLASS_MAPPING[l.processor_class])&&void 0!==n?n:CF)(new u(l))}}async function FF(e){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>oF.read(e))))}async function MF(e,t){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>"string"===typeof e||e instanceof URL?async function(e,t){if("undefined"===typeof AudioContext)throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const n=await(await kk(e)).arrayBuffer(),r=new AudioContext({sampleRate:t});"undefined"===typeof t&&console.warn("No sampling rate provided, using default of ".concat(r.sampleRate,"Hz."));const i=await r.decodeAudioData(n);let a;if(2===i.numberOfChannels){const e=Math.sqrt(2),t=i.getChannelData(0),n=i.getChannelData(1);a=new Float32Array(t.length);for(let r=0;r<i.length;++r)a[r]=e*(t[r]+n[r])/2}else a=i.getChannelData(0);return a}(e,t):e instanceof Float64Array?new Float32Array(e):e)))}function IF(e,t){t&&(e=e.map((e=>0|e)));const[n,r,i,a]=e;return{xmin:n,ymin:r,xmax:i,ymax:a}}l(EF,"FEATURE_EXTRACTOR_CLASS_MAPPING",{ImageFeatureExtractor:xF,WhisperFeatureExtractor:class extends _F{constructor(e){var t,n;super(e),null!==(n=(t=this.config).mel_filters)&&void 0!==n||(t.mel_filters=hF(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney")),this.window=mF(this.config.n_fft,"hann")}_extract_fbank_features(e){const{data:t,dims:n}=fF(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:this.config.nb_max_frames}),r=Ik(t)[0];for(let i=0;i<t.length;++i)t[i]=(Math.max(t[i],r-8)+4)/4;return{data:t,dims:n}}async _call(e){let t;bF(e,"WhisperFeatureExtractor"),e.length>this.config.n_samples?(console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),t=e.slice(0,this.config.n_samples)):(t=new Float32Array(this.config.n_samples),t.set(e));const{data:n,dims:r}=this._extract_fbank_features(t);return{input_features:new Vk("float32",n,[1,...r])}}},ViTFeatureExtractor:class extends xF{},MobileViTFeatureExtractor:TF,MobileViTImageProcessor:class extends TF{},OwlViTFeatureExtractor:AF,Owlv2ImageProcessor:class extends AF{},CLIPFeatureExtractor:class extends xF{},ChineseCLIPFeatureExtractor:class extends xF{},SiglipImageProcessor:class extends xF{},ConvNextFeatureExtractor:DF,ConvNextImageProcessor:class extends DF{},SegformerFeatureExtractor:class extends xF{post_process_semantic_segmentation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.logits,r=n.dims[0];if(null!==t&&t.length!==r)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const i=[];for(let a=0;a<r;++a){const e=null!==t?t[a]:null;let r=n[a];null!==e&&(r=Wk(r,e,"bilinear",!1));const[o,s]=null!==e&&void 0!==e?e:r.dims.slice(-2),l=new Vk("int32",new Int32Array(o*s),[o,s]),c=r[0].data;for(let t=1;t<r.dims[0];++t){const e=r[t].data;for(let n=0;n<e.length;++n)e[n]>c[n]&&(c[n]=e[n],l.data[n]=t)}const u=new Array(r.dims[0]),d=l.data;for(let t=0;t<d.length;++t){const e=d[t];u[e]=e}const h=u.filter((e=>void 0!==e));i.push({segmentation:l,labels:h})}return i}},BitImageProcessor:class extends xF{},DPTImageProcessor:class extends kF{},DPTFeatureExtractor:kF,GLPNFeatureExtractor:class extends xF{},BeitFeatureExtractor:class extends xF{},DeiTFeatureExtractor:class extends xF{},DetrFeatureExtractor:class extends xF{async _call(e){const t=await super._call(e),n=[t.pixel_values.dims[0],64,64],r=new Vk("int64",new BigInt64Array(n.reduce(((e,t)=>e*t))).fill(1n),n);return u(u({},t),{},{pixel_mask:r})}post_process_object_detection(){return yF(...arguments)}remove_low_and_no_objects(e,t,n,r){let i=[],a=[],o=[];for(let s=0;s<e.dims[0];++s){let l=e[s],c=t[s],u=Ik(l.data)[1];if(u===r)continue;let d=Ek(l.data)[u];d>n&&(i.push(c),a.push(d),o.push(u))}return[i,a,o]}check_segment_validity(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.8,a=[],o=0,s=0;for(let c=0;c<e.length;++c)e[c]===n&&(a.push(c),++o),t[n].data[c]>=r&&++s;let l=o>0&&s>0;if(l){l=o/s>i}return[l,a]}compute_segments(e,t,n,r,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,[o,s]=null!==a&&void 0!==a?a:e[0].dims,l=new Vk("int32",new Int32Array(o*s),[o,s]),c=[];if(null!==a)for(let p=0;p<e.length;++p)e[p]=Wk(e[p],a,"bilinear",!1);let u=new Int32Array(e[0].data.length),d=new Float32Array(e[0].data.length);for(let p=0;p<e.length;++p){let n=t[p];for(let t=0;t<e[p].data.length;++t)e[p].data[t]*=n,e[p].data[t]>d[t]&&(u[t]=p,d[t]=e[p].data[t])}let h=0;for(let p=0;p<n.length;++p){let a=n[p],[o,s]=this.check_segment_validity(u,e,p,r,i);if(o){++h;for(let e of s)l.data[e]=h;c.push({id:h,label_id:a,score:t[p]})}}return[l,c]}post_process_panoptic_segmentation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===i&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),i=new Set);const o=e.logits,s=e.pred_masks.sigmoid();let[l,c,u]=o.dims;if(u-=1,null!==a&&a.length!==l)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let d=[];for(let h=0;h<l;++h){let e=null!==a?a[h]:null,l=o[h],c=s[h],[p,f,m]=this.remove_low_and_no_objects(l,c,t,u);if(0===m.length){let[t,n]=null!==e&&void 0!==e?e:c.dims.slice(-2),r=new Vk("int32",new Int32Array(t*n).fill(-1),[t,n]);d.push({segmentation:r,segments_info:[]});continue}let[g,y]=this.compute_segments(p,f,m,n,r,i,e);d.push({segmentation:g,segments_info:y})}return d}post_process_instance_segmentation(){throw Error("Not implemented yet")}},YolosFeatureExtractor:class extends xF{post_process_object_detection(){return yF(...arguments)}},DonutFeatureExtractor:SF,NougatImageProcessor:class extends SF{},EfficientNetImageProcessor:class extends xF{constructor(e){var t;super(e),this.include_top=null===(t=this.config.include_top)||void 0===t||t,this.include_top&&(this.image_std=this.image_std.map((e=>e*e)))}},ViTImageProcessor:class extends xF{},VitMatteImageProcessor:class extends xF{async _call(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const n=await Promise.all(e.map((e=>this.preprocess(e)))),r=await Promise.all(t.map((e=>this.preprocess(e,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})))),i=Kk(n.map(((e,t)=>Gk([e.pixel_values,r[t].pixel_values],0))),0);return{pixel_values:i,original_sizes:n.map((e=>e.original_size)),reshaped_input_sizes:n.map((e=>e.reshaped_input_size))}}},SamImageProcessor:class extends xF{reshape_input_points(e,t,n){let r=Ux(e=structuredClone(e));if(3===r.length)r=[1,...r],e=[e];else if(4!==r.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let i=0;i<e.length;++i){let r=t[i],a=n[i],o=[a[0]/r[0],a[1]/r[1]];for(let t=0;t<e[i].length;++t)for(let n=0;n<e[i][t].length;++n)for(let r=0;r<e[i][t][n].length;++r)e[i][t][n][r]*=o[r]}return new Vk("float32",Float32Array.from(e.flat(1/0)),r)}add_input_labels(e,t){let n=Ux(e);if(2===n.length)n=[1,...n],e=[e];else if(3!==n.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(n.some(((e,n)=>e!==t.dims[n])))throw Error("The first ".concat(n.length," dimensions of 'input_points' and 'input_labels' must be the same."));return new Vk("int64",e.flat(1/0).map(BigInt),n)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=await super._call(e);if(t&&(r.input_points=this.reshape_input_points(t,r.original_sizes,r.reshaped_input_sizes)),n){if(!r.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");r.input_labels=this.add_input_labels(n,r.input_points)}return r}post_process_masks(e,t,n){let{mask_threshold:r=0,binarize:i=!0,pad_size:a=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=[];a=null!==a&&void 0!==a?a:this.pad_size;const s=[a.height,a.width];for(let l=0;l<t.length;++l){const a=t[l],c=n[l],u=e[l],d=[];for(let e=0;e<u.dims[0];++e){let t=Wk(u[e],s,"bilinear",!1);if(t=t.slice(null,[0,c[0]],[0,c[1]]),t=Wk(t,a,"bilinear",!1),i){const e=new Uint8Array(t.data.length);for(let n=0;n<t.data.length;++n)t.data[n]>r&&(e[n]=1);t=new Vk("bool",e,t.dims)}d.push(t)}o.push(Kk(d))}return o}},Swin2SRImageProcessor:class extends xF{pad_image(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,a,o]=t;return super.pad_image(e,t,{width:a+(n-a%n)%n,height:i+(n-i%n)%n},u({mode:"symmetric",center:!1,constant_values:-1},r))}},Wav2Vec2FeatureExtractor:class extends _F{_zero_mean_unit_var_norm(e){const t=e.reduce(((e,t)=>e+t),0),n=t/e.length,r=e.reduce(((e,t)=>e+(t-n)**2),0)/e.length;return e.map((e=>(e-n)/Math.sqrt(r+1e-7)))}async _call(e){bF(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let t=e;this.config.do_normalize&&(t=this._zero_mean_unit_var_norm(t));const n=[1,t.length];return{input_values:new Vk("float32",t,n),attention_mask:new Vk("int64",new BigInt64Array(t.length).fill(1n),n)}}},SeamlessM4TFeatureExtractor:class extends _F{constructor(e){super(e);const t=this.config.sampling_rate,n=hF(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let r=0;r<n.length;++r)n[r].push(0);this.mel_filters=n,this.window=mF(400,"povey",{periodic:!1})}_extract_fbank_features(e,t){return e=e.map((e=>32768*e)),fF(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){let{padding:t=!0,pad_to_multiple_of:n=2,do_normalize_per_mel_bins:r=!0,return_attention_mask:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bF(e,"SeamlessM4TFeatureExtractor");let a,o=this._extract_fbank_features(e,this.config.max_length);if(r){const[e,t]=o.dims;for(let n=0;n<t;++n){let r=0;for(let l=0;l<e;++l)r+=o.data[l*t+n];const i=r/e;let a=0;for(let l=0;l<e;++l)a+=(o.data[l*t+n]-i)**2;a/=e-1;const s=Math.sqrt(a+1e-7);for(let l=0;l<e;++l){const e=l*t+n;o.data[e]=(o.data[e]-i)/s}}}if(t){const[e,t]=o.dims,r=e%n;if(r>0){const n=new Float32Array(t*(e+r));n.set(o.data),n.fill(this.config.padding_value,o.data.length);const s=e+r;o={data:n,dims:[s,t]},i&&(a=new Vk("int64",new BigInt64Array(s),[1,s]),a.data.fill(1n,0,e))}}const[s,l]=o.dims,c=this.config.stride;if(0!==s%c)throw new Error("The number of frames (".concat(s,") must be a multiple of the stride (").concat(c,")."));const u=new Vk("float32",o.data,o.dims).view(1,Math.floor(s/c),l*c),d={input_features:u};if(i){const e=u.dims[1],t=new Vk("int64",new BigInt64Array(e),[1,e]);if(a)for(let n=1,r=0;n<s;n+=c,++r)t.data[r]=a.data[n];else t.data.fill(1n);d.attention_mask=t}return d}},SpeechT5FeatureExtractor:class extends _F{},ASTFeatureExtractor:class extends _F{constructor(e){super(e);const t=this.config.sampling_rate,n=hF(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let r=0;r<n.length;++r)n[r].push(0);this.mel_filters=n,this.window=mF(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}_extract_fbank_features(e,t){return fF(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){bF(e,"ASTFeatureExtractor");const t=this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const e=2*this.std;for(let n=0;n<t.data.length;++n)t.data[n]=(t.data[n]-this.mean)/e}return{input_values:new Vk("float32",t.data,[1,...t.dims])}}},ClapFeatureExtractor:class extends _F{constructor(e){super(e),this.mel_filters=hF(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=hF(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=mF(this.config.fft_window_size,"hann")}_get_input_mel(e,t,n,r){let i,a=!1;const o=e.length-t;if(o>0){if("rand_trunc"!==n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));{a=!0;const n=Math.floor(Math.random()*(o+1));e=e.subarray(n,n+t),i=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),i.dims=[1,...i.dims]}}else{if(o<0){let n=new Float64Array(t);if(n.set(e),"repeat"===r)for(let r=e.length;r<t;r+=e.length)n.set(e.subarray(0,Math.min(e.length,t-r)),r);else if("repeatpad"===r)for(let t=e.length;t<-o;t+=e.length)n.set(e,t);e=n}if("fusion"===n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));i=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),i.dims=[1,...i.dims]}return u(u({},i),{},{longer:a})}_extract_fbank_features(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fF(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:t,log_mel:"dB",max_num_frames:n,do_pad:!1,transpose:!0})}async _call(e){let{max_length:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bF(e,"ClapFeatureExtractor");const n=this._get_input_mel(e,null!==t&&void 0!==t?t:this.config.nb_max_samples,this.config.truncation,this.config.padding);return{input_features:new Vk("float32",n.data,[1,...n.dims])}}}}),l(EF,"PROCESSOR_CLASS_MAPPING",{WhisperProcessor:class extends CF{async _call(e){return await this.feature_extractor(e)}},Wav2Vec2ProcessorWithLM:class extends CF{async _call(e){return await this.feature_extractor(e)}},SamProcessor:class extends CF{async _call(){return await this.feature_extractor(...arguments)}post_process_masks(){return this.feature_extractor.post_process_masks(...arguments)}reshape_input_points(){return this.feature_extractor.reshape_input_points(...arguments)}},SpeechT5Processor:class extends CF{async _call(e){return await this.feature_extractor(e)}},OwlViTProcessor:class extends CF{}});class PF extends Wx{constructor(e){let{task:t,model:n,tokenizer:r=null,processor:i=null}=e;super(),this.task=t,this.model=n,this.tokenizer=r,this.processor=i}async dispose(){await this.model.dispose()}}class zF extends PF{constructor(e){super(e),l(this,"_key","generated_text")}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]),this.model.config.prefix&&(e=e.map((e=>this.model.config.prefix+e)));const n=this.model.config.task_specific_params;n&&n[this.task]&&n[this.task].prefix&&(e=e.map((e=>n[this.task].prefix+e)));const r=this.tokenizer,i={padding:!0,truncation:!0};let a;a=this instanceof NF&&"_build_translation_inputs"in r?r._build_translation_inputs(e,i,t).input_ids:r(e,i).input_ids;const o=await this.model.generate(a,t);return r.batch_decode(o,{skip_special_tokens:!0}).map((e=>({[this._key]:e})))}}class NF extends zF{constructor(e){super(e),l(this,"_key","translation_text")}}function OF(e){return Array.isArray(e)&&e.every((e=>"role"in e&&"content"in e))}const BF=Object.freeze({"text-classification":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e){let{topk:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),i="multi_label_classification"===this.model.config.problem_type?e=>e.sigmoid().data:e=>Ek(e.data),a=this.model.config.id2label,o=[];for(const s of r.logits){const e=Fk(i(s),t).map((e=>({label:a[e[0]],score:e[1]})));1===t?o.push(...e):o.push(e)}return Array.isArray(e)||1===t?o:o[0]}},model:xE,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e){let{ignore_labels:t=["O"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),r=this.tokenizer(n?e:[e],{padding:!0,truncation:!0}),i=(await this.model(r)).logits,a=this.model.config.id2label,o=[];for(let s=0;s<i.dims[0];++s){const e=r.input_ids[s],n=i[s],l=[];for(let r=0;r<n.dims[0];++r){const i=n[r],o=Ik(i.data)[1],s=a?a[o]:"LABEL_".concat(o);if(t.includes(s))continue;const c=this.tokenizer.decode([e[r].item()],{skip_special_tokens:!0});if(""===c)continue;const u=Ek(i.data);l.push({entity:s,score:u[o],index:r,word:c,start:null,end:null})}o.push(l)}return n?o:o[0]}},model:kE,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e,t){let{topk:n=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.tokenizer(e,{text_pair:t,padding:!0,truncation:!0}),i=await this.model(r),a=[];for(let o=0;o<i.start_logits.dims[0];++o){const e=r.input_ids[o],t=e.indexOf(this.tokenizer.sep_token_id),s=Array.from(Ek(i.start_logits[o].data)).map(((e,t)=>[e,t])).filter((e=>e[1]>t)),l=Array.from(Ek(i.end_logits[o].data)).map(((e,t)=>[e,t])).filter((e=>e[1]>t)),c=Kx(s,l).filter((e=>e[0][1]<=e[1][1])).map((e=>[e[0][1],e[1][1],e[0][0]*e[1][0]])).sort(((e,t)=>t[2]-e[2]));for(let r=0;r<Math.min(c.length,n);++r){const[t,n,i]=c[r],o=[...e].slice(t,n+1),s=this.tokenizer.decode(o,{skip_special_tokens:!0});a.push({answer:s,score:i})}}return 1===n?a[0]:a}},model:FE,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e){let{topk:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),i=[];for(let a=0;a<n.input_ids.dims[0];++a){const e=n.input_ids[a],o=e.indexOf(this.tokenizer.mask_token_id);if(-1===o)throw Error("Mask token (".concat(this.tokenizer.mask_token,") not found in text."));const s=Fk(Ek(r.logits[a][o].data),t);i.push(s.map((t=>{const n=[...e];return n[o]=t[0],{score:t[1],token:t[0],token_str:this.tokenizer.model.vocab[t[0]],sequence:this.tokenizer.decode(n,{skip_special_tokens:!0})}})))}return Array.isArray(e)?i:i[0]}},model:EE,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e),l(this,"_key","summary_text")}},model:DE,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:pA,pipeline:NF,model:DE,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:pA,pipeline:zF,model:DE,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e){var t,n;let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!1,o=!1;if("string"===typeof e)r=e=[e];else if(Array.isArray(e)&&e.every((e=>"string"===typeof e)))a=!0,r=e;else{if(OF(e))e=[e];else{if(!Array.isArray(e)||!e.every(OF))throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");a=!0}o=!0,r=e.map((e=>this.tokenizer.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0})))}const s=null!==(t=i.add_special_tokens)&&void 0!==t&&t,l=!o&&(null===(n=i.return_full_text)||void 0===n||n);this.tokenizer.padding_side="left";const{input_ids:c,attention_mask:u}=this.tokenizer(r,{add_special_tokens:s,padding:!0,truncation:!0}),d=await this.model.generate(c,i,null,{inputs_attention_mask:u});let h,p=this.tokenizer.batch_decode(d,{skip_special_tokens:!0});!l&&c.dims.at(-1)>0&&(h=this.tokenizer.batch_decode(c,{skip_special_tokens:!0}).map((e=>e.length)));const f=Array.from({length:e.length},(e=>[]));for(let m=0;m<p.length;++m){const t=Math.floor(m/d.length*e.length);h&&(p[m]=p[m].slice(h[t])),f[t].push({generated_text:o?[...e[t],{role:"assistant",content:p[m]}]:p[m]})}return a||1!==f.length?f:f[0]}},model:CE,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:pA,pipeline:class extends PF{constructor(e){var t;super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map((e=>{let[t,n]=e;return[t.toLowerCase(),n]}))),this.entailment_id=this.label2id.entailment,void 0===this.entailment_id&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=null!==(t=this.label2id.contradiction)&&void 0!==t?t:this.label2id.not_entailment,void 0===this.contradiction_id&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,t){let{hypothesis_template:n="This example is {}.",multi_label:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Array.isArray(e);i||(e=[e]),Array.isArray(t)||(t=[t]);const a=t.map((e=>n.replace("{}",e))),o=r||1===t.length,s=[];for(const l of e){const e=[];for(const t of a){const n=this.tokenizer(l,{text_pair:t,padding:!0,truncation:!0}),r=await this.model(n);o?e.push([r.logits.data[this.contradiction_id],r.logits.data[this.entailment_id]]):e.push(r.logits.data[this.entailment_id])}const n=o?e.map((e=>Ek(e)[1])):Ek(e),r=n.map(((e,t)=>[e,t])).sort(((e,t)=>t[0]-e[0]));s.push({sequence:l,labels:r.map((e=>t[e[1]])),scores:r.map((e=>e[0]))})}return i?s:s[0]}},model:xE,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:class extends PF{constructor(e){super(e)}async _call(e){let{topk:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=!Array.isArray(e),r=this.processor.feature_extractor.config.sampling_rate,i=await MF(e,r),a=this.model.config.id2label,o=[];for(const s of i){const e=await this.processor(s),n=Fk(Ek((await this.model(e)).logits[0].data),t).map((e=>({label:a[e[0]],score:e[1]})));1===t?o.push(...n):o.push(n)}return n&&1!==t?o[0]:o}},model:LE,processor:EF,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a sound of {}."}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=!Array.isArray(e);r&&(e=[e]);const i=t.map((e=>n.replace("{}",e))),a=this.tokenizer(i,{padding:!0,truncation:!0}),o=this.processor.feature_extractor.config.sampling_rate,s=await MF(e,o),l=[];for(const c of s){const e=await this.processor(c),n=Ek((await this.model(u(u({},a),e))).logits_per_audio.data);l.push([...n].map(((e,n)=>({score:e,label:t[n]}))))}return r?l[0]:l}},model:_E,processor:EF,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(this.model.config.model_type){case"whisper":return this._call_whisper(e,t);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,t);default:throw new Error("AutomaticSpeechRecognitionPipeline does not support model type '".concat(this.model.config.model_type,"'."))}}async _call_wav2vec2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),t.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const n=!Array.isArray(e);n&&(e=[e]);const r=this.processor.feature_extractor.config.sampling_rate,i=await MF(e,r),a=[];for(const o of i){const e=await this.processor(o),t=(await this.model(e)).logits[0],n=[];for(const i of t)n.push(Ik(i.data)[1]);const r=this.tokenizer.decode(n);a.push({text:r})}return n?a[0]:a}async _call_whisper(e){var t,n,r,i,a;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=null!==(t=o.return_timestamps)&&void 0!==t&&t,l=null!==(n=o.chunk_length_s)&&void 0!==n?n:0,c=null!==(r=o.chunk_callback)&&void 0!==r?r:null,d=null!==(i=o.force_full_sequences)&&void 0!==i&&i;let h=null!==(a=o.stride_length_s)&&void 0!==a?a:null;"word"===s&&(o.return_token_timestamps=!0);const p=Hx(o,"language",null),f=Hx(o,"task",null);if(p||f||s){if(o.forced_decoder_ids)throw new Error("Cannot specify `language`/`task`/`return_timestamps` and `forced_decoder_ids` at the same time.");const e=this.tokenizer.get_decoder_prompt_ids({language:p,task:f,no_timestamps:!s});e.length>0&&(o.forced_decoder_ids=e)}const m=!Array.isArray(e);m&&(e=[e]);const g=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,y=this.processor.feature_extractor.config.hop_length,b=this.processor.feature_extractor.config.sampling_rate,w=await MF(e,b),v=[];for(const _ of w){let e=[];if(l>0){if(null===h)h=l/6;else if(l<=h)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const t=b*l,n=b*h,r=t-2*n;let i=0;for(;i<_.length;){const a=_.subarray(i,i+t),o=await this.processor(a),s=0===i,l=i+r>=_.length;e.push({stride:[a.length,s?0:n,l?0:n],input_features:o.input_features,is_last:l}),i+=r}}else e=[{stride:[_.length,0,0],input_features:(await this.processor(_)).input_features,is_last:!0}];for(const r of e){o.num_frames=Math.floor(r.stride[0]/y);const e=await this.model.generate(r.input_features,o);"word"===s?(r.tokens=e.sequences[0],r.token_timestamps=e.token_timestamps.tolist()[0].map((e=>Lk(e,2)))):r.tokens=e[0],r.stride=r.stride.map((e=>e/b)),null!==c&&c(r)}const[t,n]=this.tokenizer._decode_asr(e,{time_precision:g,return_timestamps:s,force_full_sequences:d});v.push(u({text:t},n))}return m?v[0]:v}},model:[TE,BE],processor:EF,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:pA,pipeline:class extends PF{constructor(e){var t;super(e),l(this,"DEFAULT_VOCODER_ID","Xenova/speecht5_hifigan"),this.vocoder=null!==(t=e.vocoder)&&void 0!==t?t:null}async _call(e){let{speaker_embeddings:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processor?this._call_text_to_spectrogram(e,{speaker_embeddings:t}):this._call_text_to_waveform(e)}async _call_text_to_waveform(e){const t=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:n}=await this.model(t),r=this.model.config.sampling_rate;return{audio:n.data,sampling_rate:r}}async _call_text_to_spectrogram(e,t){let{speaker_embeddings:n}=t;if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await _E.from_pretrained(this.DEFAULT_VOCODER_ID,{quantized:!1})),("string"===typeof n||n instanceof URL)&&(n=new Float32Array(await(await fetch(n)).arrayBuffer())),n instanceof Float32Array)n=new Vk("float32",n,[1,n.length]);else if(!(n instanceof Vk))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:r}=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:i}=await this.model.generate_speech(r,n,{vocoder:this.vocoder}),a=this.processor.feature_extractor.config.sampling_rate;return{audio:i.data,sampling_rate:a}}},model:[SE,AE],processor:[EF,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),r=await FF(e),{pixel_values:i}=await this.processor(r),a=[];for(const o of i){o.dims=[1,...o.dims];const e=await this.model.generate(o,t),n=this.tokenizer.batch_decode(e,{skip_special_tokens:!0}).map((e=>({generated_text:e.trim()})));a.push(n)}return n?a:a[0]}},model:ME,processor:EF,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:class extends PF{constructor(e){super(e)}async _call(e){let{topk:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),r=await FF(e),{pixel_values:i}=await this.processor(r),a=await this.model({pixel_values:i}),o=this.model.config.id2label,s=[];for(const l of a.logits){const e=Fk(Ek(l.data),t).map((e=>({label:o[e[0]],score:e[1]})));1===t?s.push(...e):s.push(e)}return n||1===t?s:s[0]}},model:IE,processor:EF,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:class extends PF{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e){let{threshold:t=.5,mask_threshold:n=.5,overlap_mask_area_threshold:r=.8,label_ids_to_fuse:i=null,target_sizes:a=null,subtask:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)&&1!==e.length)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const s=await FF(e),l=s.map((e=>[e.height,e.width])),{pixel_values:c,pixel_mask:u}=await this.processor(s),d=await this.model({pixel_values:c,pixel_mask:u});let h=null;if(null!==o)h=this.subtasks_mapping[o];else for(let[m,g]of Object.entries(this.subtasks_mapping))if(g in this.processor.feature_extractor){h=this.processor.feature_extractor[g].bind(this.processor.feature_extractor),o=m;break}const p=this.model.config.id2label,f=[];if("panoptic"===o||"instance"===o){const e=h(d,t,n,r,i,null!==a&&void 0!==a?a:l)[0],o=e.segmentation;for(const t of e.segments_info){const e=new Uint8ClampedArray(o.data.length);for(let r=0;r<o.data.length;++r)o.data[r]===t.id&&(e[r]=255);const n=new oF(e,o.dims[1],o.dims[0],1);f.push({score:t.score,label:p[t.label_id],mask:n})}}else{if("semantic"!==o)throw Error("Subtask ".concat(o," not supported."));{const{segmentation:e,labels:t}=h(d,null!==a&&void 0!==a?a:l)[0];for(const n of t){const t=new Uint8ClampedArray(e.data.length);for(let i=0;i<e.data.length;++i)e.data[i]===n&&(t[i]=255);const r=new oF(t,e.dims[1],e.dims[0],1);f.push({score:null,label:p[n],mask:r})}}}return f}},model:[PE,zE],processor:EF,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"zero-shot-image-classification":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a photo of {}"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Array.isArray(e),i=await FF(e),a=t.map((e=>n.replace("{}",e))),o=this.tokenizer(a,{padding:"siglip"!==this.model.config.model_type||"max_length",truncation:!0}),{pixel_values:s}=await this.processor(i),l=await this.model(u(u({},o),{},{pixel_values:s})),c="siglip"===this.model.config.model_type?e=>e.sigmoid().data:e=>Ek(e.data),d=[];for(const u of l.logits_per_image){const e=[...c(u)].map(((e,n)=>({score:e,label:t[n]})));e.sort(((e,t)=>t.score-e.score)),d.push(e)}return r?d:d[0]}},model:_E,processor:EF,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:class extends PF{constructor(e){super(e)}async _call(e){let{threshold:t=.9,percentage:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(r&&1!==e.length)throw Error("Object detection pipeline currently only supports a batch size of 1.");const i=await FF(e),a=n?null:i.map((e=>[e.height,e.width])),{pixel_values:o,pixel_mask:s}=await this.processor(i),l=await this.model({pixel_values:o,pixel_mask:s}),c=this.processor.feature_extractor.post_process_object_detection(l,t,a),u=this.model.config.id2label,d=c.map((e=>e.boxes.map(((t,r)=>({score:e.scores[r],label:u[e.classes[r]],box:IF(t,!n)})))));return r?d:d[0]}},model:NE,processor:EF,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e,t){let{threshold:n=.1,topk:r=null,percentage:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Array.isArray(e),o=await FF(e),s=this.tokenizer(t,{padding:!0,truncation:!0}),l=await this.processor(o),c=[];for(let d=0;d<o.length;++d){const e=o[d],a=i?null:[[e.height,e.width]],h=l.pixel_values[d].unsqueeze_(0),p=await this.model(u(u({},s),{},{pixel_values:h})),f=this.processor.feature_extractor.post_process_object_detection(p,n,a,!0)[0];let m=f.boxes.map(((e,n)=>({score:f.scores[n],label:t[f.classes[n]],box:IF(e,!i)}))).sort(((e,t)=>t.score-e.score));null!==r&&(m=m.slice(0,r)),c.push(m)}return a?c:c[0]}},model:OE,processor:EF,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(await FF(e))[0],{pixel_values:i}=await this.processor(r),a="<s_docvqa><s_question>".concat(t,"</s_question><s_answer>"),o=this.tokenizer(a,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,s=await this.model.generate(i,u(u({},n),{},{decoder_input_ids:o,max_length:this.model.config.decoder.max_position_embeddings})),l=this.tokenizer.batch_decode(s)[0].match(/<s_answer>(.*?)<\/s_answer>/);let c=null;return l&&l.length>=2&&(c=l[1].trim()),[{answer:c}]}},model:RE,processor:EF,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:class extends PF{constructor(e){super(e)}async _call(e){const t=await FF(e),n=await this.processor(t),r=await this.model(n),i=[];for(const a of r.reconstruction){const e=a.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");i.push(oF.fromTensor(e))}return i.length>1?i:i[0]}},model:jE,processor:EF,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:class extends PF{constructor(e){super(e)}async _call(e){const t=await FF(e),n=await this.processor(t),{predicted_depth:r}=await this.model(n),i=[];for(let a=0;a<t.length;++a){const e=Wk(r[a],t[a].size.reverse(),"bilinear",!1),n=e.mul_(255/Ik(e.data)[0]).to("uint8");i.push({predicted_depth:r[a],depth:oF.fromTensor(n)})}return i.length>1?i:i[0]}},model:VE,processor:EF,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e)}async _call(e){var t,n;let{pooling:r="none",normalize:i=!1,quantize:a=!1,precision:o="binary"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=this.tokenizer(e,{padding:!0,truncation:!0}),l=await this.model(s);let c=null!==(t=null!==(n=l.last_hidden_state)&&void 0!==n?n:l.logits)&&void 0!==t?t:l.token_embeddings;if("none"===r);else if("mean"===r)c=function(e,t){let n=[e.dims[0],e.dims[2]],r=new e.data.constructor(n[0]*n[1]),[i,a,o]=e.dims,s=0;for(let l=0;l<i;++l){let n=l*o*a;for(let i=0;i<o;++i){let c=0,u=0,d=l*a,h=n+i;for(let n=0;n<a;++n){let r=Number(t.data[d+n]);u+=r,c+=e.data[h+n*o]*r}let p=c/u;r[s++]=p}}return new Vk(e.type,r,n)}(c,s.attention_mask);else{if("cls"!==r)throw Error("Pooling method '".concat(r,"' not supported."));c=c.slice(null,0)}return i&&(c=c.normalize(2,-1)),a&&(c=function(e,t){if(2!==e.dims.length)throw new Error("The tensor must have 2 dimensions");if(e.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(t))throw new Error("The precision must be either 'binary' or 'ubinary'");const n="binary"===t,r=n?"int8":"uint8",i=n?Int8Array:Uint8Array,a=e.data,o=new i(a.length/8);for(let s=0;s<a.length;++s){const e=a[s]>0?1:0,t=Math.floor(s/8),r=s%8;o[t]|=e<<7-r,n&&0===r&&(o[t]-=128)}return new Vk(r,o,[e.dims[0],e.dims[1]/8])}(c,o)),c}},model:_E,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:EF,pipeline:class extends PF{constructor(e){super(e)}async _call(e){let{pool:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await FF(e),{pixel_values:r}=await this.processor(n),i=await this.model({pixel_values:r});let a;if(t){if(!("pooler_output"in i))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");a=i.pooler_output}else{var o,s;a=null!==(o=null!==(s=i.last_hidden_state)&&void 0!==s?s:i.logits)&&void 0!==o?o:i.image_embeds}return a}},model:[WE,_E],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),LF=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function RF(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{quantized:r=!0,progress_callback:i=null,config:a=null,cache_dir:o=null,local_files_only:s=!1,revision:l="main",model_file_name:c=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=null!==(t=LF[e])&&void 0!==t?t:e;const u=BF[e.split("_",1)[0]];if(!u)throw Error("Unsupported pipeline: ".concat(e,". Must be one of [").concat(Object.keys(BF),"]"));n||(n=u.default.model,console.log('No model specified. Using default model: "'.concat(n,'".')));const d={quantized:r,progress_callback:i,config:a,cache_dir:o,local_files_only:s,revision:l,model_file_name:c},h=new Map([["tokenizer",u.tokenizer],["model",u.model],["processor",u.processor]]),p=await async function(e,t,n){const r=Object.create(null),i=[];for(let[a,o]of e.entries()){if(!o)continue;let e;e=Array.isArray(o)?new Promise((async(e,r)=>{let i;for(let s of o){if(null===s)return void e(null);try{return void e(await s.from_pretrained(t,n))}catch(a){i=a}}r(i)})):o.from_pretrained(t,n),r[a]=e,i.push(e)}await Promise.all(i);for(let[a,o]of Object.entries(r))r[a]=await o;return r}(h,n,d);p.task=e,jx(i,{status:"ready",task:e,model:n});return new(0,u.pipeline)(p)}let jF=null;const VF=new Map;async function WF(e){const t=function(e){if(VF.has(e)){const t=VF.get(e);return VF.delete(e),VF.set(e,t),t}return null}(e=JF(e));if(t)return t;jF||(jF=await RF("feature-extraction","Xenova/all-MiniLM-L6-v2"));const n=(await jF([e],{normalize:!0})).tolist()[0],r=n[0].length,i=new Array(r).fill(0);for(const o of n)for(let e=0;e<r;e++)i[e]+=o[e];let a=i.map((e=>e/n.length));return a=a.slice(0,50),function(e,t){if(VF.size>=500){const e=VF.keys().next().value;void 0!==e&&VF.delete(e)}VF.set(e,t)}(e,a),a}var qF=__webpack_require__(78);class UF{constructor(){this.reachable={}}initReachability(e){e in this.reachable||(this.reachable[e]={},this.reachable[e][e]=!0)}addEdge(e,t){this.initReachability(e),this.initReachability(t),this.reachable[e][t]=!0;for(const n in this.reachable)if(this.reachable[n]&&this.reachable[n][e]&&(this.reachable[n][t]||(this.reachable[n][t]=!0),this.reachable[t]))for(const e in this.reachable[t])this.reachable[n][e]||(this.reachable[n][e]=!0);if(this.reachable[t])for(const n in this.reachable[t])this.reachable[e][n]||(this.reachable[e][n]=!0)}wouldCreateCycleThroughIncomingEdge(e,t){return this.initReachability(e),this.initReachability(t),!(!this.reachable[e]||!this.reachable[e][t])}initNode(e){this.initReachability(e)}}const HF={},GF={},KF=new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","will","with","or","but","not","this","these","those","i","you","we","they","them","their","our","your","been","being","have","had","do","does","did","am"]);function YF(e){const t=JF(e);return KF.has(t)}function JF(e){return e.toLowerCase().replace(/[^\w\s'.!?]|_/g,"").replace(/\s+/g," ").trim()}function ZF(e){return HF[e]}async function XF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"space",r=[];"space"===n?r=e.split(/\s+/):"comma"===n?r=e.split(/\s*,\s*/):"sentence"===n&&(r=e.split(/(?<=[.!?])\s+/)),r=r.filter((e=>e.length>0));let i=[];for(let a=0;a<r.length;a++){const e=r[a],n=e,o=e;let s=o+t+a,l="";for(let t=a-1;t>=0;t--)if(!YF(r[t])){l=r[t];break}let c="";for(let t=a+1;t<r.length;t++)if(!YF(r[t])){c=r[t];break}const u={word:o,prevWord:l,nextWord:c,idx:a};{const e=await WF(o);u.embedding=e;const t=await WF(l);u.prevWordEmb=t;const n=await WF(c);u.nextWordEmb=n}GF[s]=u,HF[s]=n,i.push(s)}return i}function $F(e,t){const n=GF[e]||{word:"",prevWord:"",nextWord:"",idx:0},r=GF[t]||{word:"",prevWord:"",nextWord:"",idx:0};let i=0;const a=YF(n.word)&&YF(r.word),o=!n.prevWord||!r.prevWord||!n.nextWord||!r.nextWord,s=JF(n.word)===JF(r.word);if(a&&!o&&s){const e=(0,qF.Lb)(n.prevWordEmb||[],r.prevWordEmb||[]),t=(0,qF.Lb)(n.nextWordEmb||[],r.nextWordEmb||[]);i+=.5*Math.min(e+t)}else i+=a&&!s?0:(0,qF.Lb)(n.embedding||[],r.embedding||[]);const l=Math.abs(n.idx-r.idx);return i-=l*l/100,i}function QF(e){e.origSentenceInfo&&e.origSentenceInfo.length>0?e.origSentIndices=[...new Set(e.origSentenceInfo.map((e=>e.sentIdx)))]:e.origSentIndices=[]}function eM(e){return{x:0,y:0,vx:0,vy:0,rx:0,ry:0,fontSize:0,textLength:0,count:0,word:e,origSentIndices:[],origPromptIds:[],origSentenceInfo:[],children:[],parents:[]}}function tM(e,t,n,r,i){e.count+=1;const a=r[t];return e.origPromptIds&&e.origPromptIds.push(i),e.origSentenceInfo.push({sentIdx:n,wordIdx:t,origWords:[ZF(a)]}),0===t&&(e.isRoot=!0),t===r.length-1&&(e.isEnd=!0),e}function nM(e,t,n,r,i,a){if(!r)return;e[n].parents.push(e[r]),e[r].children.push(e[n]),t[r]=t[r]||{};const o=t[r][n]||[];o.push({sentIdx:i,promptId:a}),t[r][n]=o}async function rM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"space";const i={},a={},o=new UF;let s=-1;for(const{promptId:u,generations:d}of e)for(const e of d){s++;let n="";const l=await XF(e,s,r);l.forEach(((e,r)=>{var c,d;let h=Object.keys(a).map((r=>{var i;if(null===(i=a[r])||void 0===i?void 0:i.origSentIndices.includes(s))return;const l=$F(r,e);return l+.01<t||n&&o.wouldCreateCycleThroughIncomingEdge(r,n)?void 0:[l,r]})).filter((e=>void 0!==e));h=h.sort(((e,t)=>t[0]-e[0]));const p=(null===(c=h)||void 0===c||null===(d=c[0])||void 0===d?void 0:d[1])||null;p?e=p:(a[e]=eM(e),o.initNode(e)),a[e]=tM(a[e],r,s,l,u),n&&o.addEdge(n,e),nM(a,i,e,n,s,u),n=e}))}Object.values(a).forEach((e=>{e.parents=[],e.children=[]})),function(e,t){for(let n=0;n<Object.keys(e).length;n++)for(const r in e){if(!(r in t))continue;const n=Object.keys(t[r]),i=n[0],a=Object.keys(t).filter((e=>t[e][i]));if(1===n.length&&1===a.length){const n=r+" "+i;HF[n]=ZF(r)+" "+ZF(i),e[n]=u(u({},e[r]),{},{word:n}),e[i].isEnd&&(e[n].isEnd=!0);const a=e[r].origSentenceInfo,o=e[i].origSentenceInfo;if(a&&o){const t=[];a.forEach((e=>{const n=e.wordIdx+e.origWords.length,r=o.find((t=>t.sentIdx===e.sentIdx&&t.wordIdx===n));r?t.push({sentIdx:e.sentIdx,wordIdx:e.wordIdx,origWords:[...e.origWords,...r.origWords]}):t.push(e)})),e[n].origSentenceInfo=t,QF(e[n])}delete e[i],delete e[r],t[n]=u({},t[i]),delete t[i],delete t[r];for(const e in t){let i=t[e];r in i&&(i[n]=i[r],delete i[r])}}}}(a,i),Object.values(a).forEach((e=>{QF(e)}));const l=Object.values(a),c=Object.entries(i).flatMap((e=>{let[t,r]=e;return Object.entries(r).flatMap((e=>{let[r,i]=e;const o=a[r],s=a[t];return n&&(s.origSentIndices=sy(s.origSentIndices),o.origSentIndices=sy(o.origSentIndices)),a[r]||console.error("target not found",r),[...i].map((e=>{var t,n;let{sentIdx:r,promptId:i}=e;return null===s||void 0===s||null===(t=s.children)||void 0===t||t.push(o),null===o||void 0===o||null===(n=o.parents)||void 0===n||n.push(s),{source:s,target:o,sentIdx:r,promptId:i}}))}))}));return{nodesData:l,linksData:c}}function iM(e){const t=new URLSearchParams(window.location.search).get(e);return t?decodeURIComponent(t):null}const aM={examples:{"Your task is to write a short biography for a made-up historic figure. Your bio should include their birth and death date their profession and their greatest contribution.":["Eleanor Finchley (1712\u20131778) was a pioneering botanist who revolutionized plant classification by introducing the Finchley System, which laid the groundwork for modern taxonomy.","Name: Elara Finch; Birth: March 12, 1783; Death: August 9, 1857; Profession: Inventor; Greatest Contribution: Developed the Finch Aerostat, the first practical hot air balloon, revolutionizing aerial exploration.","Name: Elara Solstice (1842-1910). Profession: Inventor and Engineer. Greatest Contribution: Developed the first sustainable solar-powered steam engine, revolutionizing renewable energy technology in the late 19th century.","Name: Elara Moonstone (1792-1863). Profession: Inventor and Naturalist. Greatest Contribution: Developed the first solar-powered clock, revolutionizing timekeeping and promoting renewable energy awareness in the 19th century.","Name: Elara Thorne (1801-1875); Profession: Astronomer; Greatest Contribution: Discovered the Thorne Comet and pioneered techniques in celestial photography.","Name: Elara Voss (1801-1865). Profession: Engineer and inventor. Greatest contribution: Invented the first steam-powered printing press, revolutionizing mass communication.","Name: Elara Solstice (1785-1857) - Profession: Botanist - Contribution: Discovered the Solstice Flower, a plant with unique medicinal properties that revolutionized 19th-century herbal medicine.","Name: Elara Swiftfoot (1750-1822). Profession: Navigator and Cartographer. Contribution: Elara crafted the first detailed map of the uncharted southern seas, greatly aiding maritime exploration.","Eleanor Cartwright (1824-1888) was a pioneering botanist who revolutionized plant taxonomy by developing the Cartwright Classification System, which is still used as a foundational framework in modern botany.","Name: Elara Finchley (1792-1860), Profession: Inventor, Contribution: Developed the Finchley Steam Engine, revolutionizing agricultural machinery and increasing farming productivity during the 19th century.","Eleanor Brightwell (1823-1885) was an innovative British engineer who pioneered the development of the steam-powered sewing machine in 1864, revolutionizing the textile industry and empowering women workers.",'Name: Elara Windrider (1623-1688)  \nProfession: Inventor and Aviator  \nContribution: Elara Windrider revolutionized early aviation with her design of the first successful glider, the "Sky Sailor," enabling humans to glide safely over long distances.',"Eleanor Voss, born in 1823 and passing in 1891, was a pioneering botanist who revolutionized plant hybridization, leading to the development of resilient crop varieties that transformed agricultural practices worldwide.","Name: Liora Elmsworth (1723-1791). Profession: Botanist. Contribution: Discovered the Elmsworth Herb, revolutionizing 18th-century medicine with its healing properties.","Eleanor Hargrave (1825-1897) was a pioneering botanist who discovered the Hargrave Orchid, a rare plant species in the Amazon Rainforest, advancing botanical science significantly.","Name: Elara Flint (1792-1856). Profession: Inventor. Contribution: Developed the first steam-powered loom in 1830, revolutionizing the textile industry.","Name: Elara Novara (1721-1783). Profession: Inventor and Astronomer. Contribution: Developed the first functional telescope with a rotating lens system, revolutionizing celestial observations.","Name: Elara Swift; Born: March 12, 1783; Died: August 27, 1845; Profession: Inventor; Contribution: Invented the first steam-powered loom, revolutionizing the textile industry.","Name: Elara Voss; Born: March 12, 1823; Died: August 19, 1889; Profession: Inventor and Engineer; Greatest Contribution: Developed the first efficient steam-powered cooling system, revolutionizing industrial processes and food preservation.","Eleanor Hartwood (1783-1856) was a pioneering British botanist who discovered and classified over 200 new plant species, significantly advancing the field of botany and contributing to the understanding of plant biodiversity.","Lydia Marcellus (1783-1859) was a pioneering botanist who revolutionized plant taxonomy, notably classifying hundreds of previously undocumented plant species across the Americas.","Name: Elara Windrider (1750-1822). Profession: Inventor and Engineer. Greatest Contribution: Developed the first self-sustaining windmill design, revolutionizing renewable energy in 18th-century Europe.","Name: Elara Voss (1776-1845). Profession: Inventor. Contribution: Developed the first mechanical water purification system, revolutionizing access to clean water in rural communities.",'Eleanor Brightwell (1784-1856) was a pioneering botanist who discovered the rare "Luna Orchid," revolutionizing plant taxonomy and contributing to biodiversity conservation.',"Name: Elara Thorne (1715-1789). Profession: Inventor and Engineer. Greatest Contribution: Developed the first mechanical loom, revolutionizing the textile industry in the 18th century.",'Eleanor Forthwright (1820-1885) was a pioneering botanist who discovered the rare "Lunar Orchid" in the Amazon Rainforest, significantly contributing to our understanding of tropical plant biodiversity.','Amelia Thornfield (1782-1847) was a pioneering botanist known for her discovery of the rare "Lunar Bloom" plant, which revolutionized the study of nocturnal flora.',"Eleanor Wynthrope (1823-1891) was a pioneering British botanist who, in 1874, discovered the Wynthrope Effect, a revolutionary process enhancing plant growth efficiency in arid climates.","Name: Elara Finch (1801-1865). Profession: Inventor and Engineer. Contribution: Developed the first steam-powered printing press, revolutionizing the mass production of newspapers and books.","Name: Elara Thorne (1820-1895). Profession: Inventor and Engineer. Greatest Contribution: Developed the first steam-powered agricultural harvester in 1865, revolutionizing farming efficiency."],"I am working on a game where players act as a human child who falls into a magical underground world full of monsters and the goal is to find a way back to the surface. Come up with a type of monster and briefly describe its backstory.":['A monster called "Luminara" is a glowing, ethereal being created from the remnants of lost hopes and dreams, wandering the underground world, seeking to guide lost souls back to the surface with its gentle light.',"The Lumirest is a glowing moss creature that once thrived on the surface but was forced underground by deforestation, now guiding lost travelers with its luminescent trails.","The Lumibloom is a bioluminescent flower monster that once thrived on the surface, but was driven underground by deforestation, and now guides lost souls with its glow.","The Luminescent Gloom is a bioluminescent shadow creature born from the sorrow of lost souls, seeking warmth from the light of human kindness to regain its forgotten memories and ascend to peace.","The Luminara is a glowing, moth-like creature that once acted as guardians of ancient pathways, guiding lost souls with their light but now seeks companionship in the dark underground.","Meet the Luminoids, gentle creatures who once thrived above ground but fled underground generations ago to escape a devastating solar flare that made them sensitive to sunlight.","A Lumiglow Sprite, once a forest fairy, now glows in the dark caves after being trapped underground during a magical storm, guiding or misleading travelers with its radiant light.","The Lumiglow, a bioluminescent creature, was once a guardian of the surface world but was banished underground for accidentally causing a great forest fire.","The Luminoid is a bioluminescent creature that once thrived on the surface but retreated underground to escape a devastating solar flare, evolving to emit light in the darkness to guide lost souls.","The Lumivine is a bioluminescent vine creature that once thrived on the surface but retreated underground to escape deforestation, now guiding lost travelers with its glowing tendrils.","The Lumisprite is a glowing, playful creature that once thrived on the surface but retreated underground after humans unknowingly disrupted its forest habitat, now guiding lost souls with its soothing light.","The Lumiglow Beetle is a gentle, bioluminescent creature that once thrived above ground but was forced underground due to habitat loss, and now guides lost souls with its glowing shell.","The Whispering Wisp is a glowing, ethereal creature formed from the sorrowful sighs of lost travelers, guiding and misleading those who wander too close to its shimmering trails.","The Luminoids are glowing, sentient crystals that once thrived on the surface but were forced underground by human mining, now seeking a way to coexist peacefully with humans.","The Lumibrute is a gentle giant made of glowing crystals, once a guardian of the underground's lost civilization, now roaming the caverns in search of its long-vanished creators.","Name: Lumigrove Sprite. Description: These bioluminescent creatures were once forest guardians above ground, but were entrapped underground by a sorcerer's curse, now guiding lost souls with their gentle glow.","Meet the Lumigloom, a bioluminescent creature that once thrived in the surface's lush forests but retreated underground to escape a catastrophic event that darkened the skies.",'The "Whispering Willow" is a sentient tree creature that gently guides lost souls; it was once a guardian of the surface forests before being trapped underground by a vengeful sorcerer.',"The Lumiglow, a bioluminescent creature resembling a floating jellyfish, was once a curious scholar who accidentally transformed while studying magical light sources, now guiding lost souls with its gentle glow.","The Luminoids are gentle, bioluminescent creatures who once thrived above ground but retreated underground centuries ago to escape human expansion, now guiding lost souls with their glow.","The Lumigloom is a bioluminescent creature that once thrived on the surface but retreated underground after humans disrupted its forest habitat, now guiding lost souls with its gentle glow.","The Lumivine is a bioluminescent plant creature that once thrived in ancient sunlight, yearning to reclaim its lost light by befriending and guiding lost souls to safety.",'The "Lumenclaw" is a bioluminescent wolf-like creature that was once a guardian spirit of the forest, cast underground by a vengeful sorcerer, and now seeks redemption by guiding lost souls.',"Meet the Lumigloom, a bioluminescent creature that once thrived in the sunlit world above but adapted to the dark underground, longing to guide lost souls back to the surface in hopes of one day returning to the light itself.","The Lumipede is a bioluminescent centipede-like creature that once roamed the surface but was forced underground due to its glowing body attracting predators; it now guides lost souls with its radiant light in the underground world.","The Lumishade: A once-gentle creature that absorbed too much moonlight and now wanders the underground casting eerie, shifting shadows that reflect its longing for the surface.","The Lumisprite is a bioluminescent creature that once thrived on the surface but was driven underground by human expansion; it now guides and tests the compassion of lost travelers.","The Lumivine is a bioluminescent plant-like creature that lights the dark caverns, once a guardian of an ancient forest, now seeking companionship in the shadows of the underground world.","The Luminoid is a bioluminescent creature that was once a human child lost in the underground long ago; it now guides others with its glow, hoping to help them find the way out that it never could.","The Lumigloom is a bioluminescent creature that once thrived on the surface, but over centuries, adapted to the darkness underground, now guiding lost souls with its glowing patterns while yearning for a glimpse of the sky."],"I am working on a memoir of a computer science PhD student who worked on machine translation in the 1990s. Suggest a single title and nothing else.":['"Babel Code: A PhD Journey in Machine Translation"','"Translating the Code of Yesterday"','"Code-Switching: A Journey Through 90s Machine Translation"','"Babel Bytes: A 1990s PhD Odyssey in Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Translating the Past: A 90s PhD Journey in Machine Language"','"Translating the Future: A PhD Journey in the Dawn of Machine Translation"','"Code to Language: A Journey through 90s Machine Translation"','"Code-Switching: A Journey in 90s Machine Translation"','"Code and Context: A 1990s Machine Translation Journey"','"Code and Context: A 1990s Machine Translation Journey"','"Translating Dreams: A 1990s Machine Translation Journey"','"Code-Switching: A Journey Through 90s Machine Translation"','"Codebreaker\'s Journey: Translating the Dawn of AI"','"Translating Code: A Journey Through 90s Machine Learning"','"Translating Code: A 1990s PhD Odyssey"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code to Comprehension: A 1990s Journey in Machine Translation"','"Translating the Code: A 1990s Journey in Machine Learning"','"Code-Switching: A Journey Through the Language of Machines"','"Babel Bytes: A 1990s Journey in Machine Translation"','"Code-Switching: A Journey in 90s Machine Translation"','"Code-Switching: A Journey Through Early Machine Translation"','"Translating the Code: A PhD Journey in the 1990s"',"Code-Switching: A Journey Through 90s Machine Translation",'"Code to Converse: A 1990s Journey in Machine Translation"','"Code to Comprehend: A 90s Journey in Machine Translation"','"Code-Switching: A Journey Through Language and Algorithms"'],"Summarize the Trump presidency in one sentence":["Donald Trump's presidency was marked by divisive politics, significant policy changes, and two impeachment trials.","The Trump presidency was characterized by controversial policies, a focus on America First, significant tax reforms, and numerous legal and political challenges.",'Donald Trump\'s presidency was marked by controversial policies, divisive rhetoric, significant deregulation, and major tax reforms, alongside two impeachments and a strong focus on "America First" policies.','The Trump presidency was characterized by controversial policies, divisive rhetoric, significant tax reforms, deregulatory efforts, and an impeachment trial, with a focus on "America First" policies.',"The Trump presidency was marked by divisive politics, significant policy shifts, and an unconventional approach to governance.","Donald Trump's presidency was marked by contentious policies, significant political polarization, and numerous controversies.","The Trump presidency was marked by divisive rhetoric, significant policy shifts, and numerous controversies, both domestically and internationally.","The Trump presidency was marked by controversial policies, polarizing rhetoric, and significant political and social upheaval.","The Trump presidency was marked by significant political polarization, unconventional leadership, and major policy changes in areas such as immigration, taxation, and international relations.","The Trump presidency was marked by significant political polarization, economic growth, contentious immigration policies, and numerous controversies, including two impeachments.",'Donald Trump\'s presidency was marked by controversial policies, significant political polarization, and an emphasis on "America First" nationalism.','Donald Trump\'s presidency was characterized by controversial policies, significant political polarization, and a strong focus on "America First" economic and foreign policies.',"The Trump presidency was characterized by unconventional leadership, divisive politics, significant policy changes, and controversy.","The Trump presidency was marked by significant political polarization, a focus on America First policies, and numerous controversies and investigations.","The Trump presidency was characterized by controversial policies, a strong focus on immigration and deregulation, significant tax reforms, divisive rhetoric, and two impeachments.","Donald Trump's presidency was marked by controversial policies, divisive rhetoric, economic growth, and significant political polarization.","Donald Trump's presidency was marked by controversial policies, robust economic growth, divisive rhetoric, and two impeachments.",'The Trump presidency was marked by a focus on "America First" policies, significant political polarization, and numerous controversies and investigations.',"The Trump presidency was marked by divisive politics, significant policy changes, and numerous controversies, both domestically and internationally.","The Trump presidency was marked by significant political polarization, economic policies like tax cuts, controversial immigration measures, and two impeachment trials.",'The Trump presidency was marked by controversial policies, significant political polarization, a focus on "America First" policies, and two impeachments.','The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" with notable events like tax reform, trade wars, and two impeachments.',"Donald Trump's presidency was characterized by a focus on America First policies, significant tax cuts, controversial immigration policies, and two impeachment trials.","Donald Trump's presidency was marked by controversial policies, strong economic growth, divisive rhetoric, and two impeachments.","Donald Trump's presidency was marked by significant political polarization, controversial policies, and an unconventional approach to leadership and communication.",'The Trump presidency was marked by divisive rhetoric, significant policy changes, and controversies, including two impeachments and a focus on "America First" policies.','The Trump presidency was marked by contentious policies, a focus on "America First," significant political polarization, and two impeachments.','The Trump presidency was marked by divisive politics, significant policy changes, and controversies, including two impeachments and a focus on "America First" policies.','The Trump presidency was characterized by controversial policies, significant political division, and a focus on "America First" initiatives.',"Donald Trump's presidency was marked by controversial policies, divisive rhetoric, economic growth, and significant political polarization.","The Trump presidency was characterized by controversial policies, significant political polarization, and a focus on America First, with notable events including tax reform, deregulation, and two impeachments.","Donald Trump's presidency was marked by significant political polarization, economic growth, and controversial policies on immigration, trade, and foreign relations.",'Donald Trump\'s presidency was marked by significant political polarization, controversial policies, and a focus on "America First" principles.',"Donald Trump's presidency was marked by controversial policies, significant political polarization, and major events such as tax reform, trade disputes, and a high-profile response to the COVID-19 pandemic.","Donald Trump's presidency was marked by controversial policies, divisive rhetoric, significant tax reforms, and two impeachments, as well as a focus on deregulation and a strong economy pre-COVID-19.","The Trump presidency was marked by polarizing policies, significant tax reforms, contentious immigration stances, and two impeachment trials.","The Trump presidency was marked by significant political polarization, unconventional governance, economic growth, and contentious policies on immigration, trade, and foreign relations.","Donald Trump's presidency was marked by controversial policies, significant political polarization, a strong focus on immigration and deregulation, and two impeachments.","The Trump presidency was marked by controversial policies, significant political polarization, and an unconventional approach to governance.","The Trump presidency was characterized by a focus on nationalism, significant policy changes, controversial rhetoric, and deep political polarization.","The Trump presidency was marked by significant political polarization, controversial policies, and an unconventional approach to leadership and communication.","The Trump presidency was marked by controversial policies, polarizing rhetoric, and significant impact on domestic and international politics.","The Trump presidency was marked by divisive rhetoric, significant policy changes, economic growth, and numerous controversies, including two impeachments.","The Trump presidency was marked by controversial policies, divisive rhetoric, economic growth, and significant political polarization.",'Donald Trump\'s presidency was marked by significant political polarization, controversial policies, and a focus on "America First" economic and immigration strategies.',"Donald Trump's presidency was marked by significant political polarization, economic growth, controversial policies, and two impeachments.","The Trump presidency was marked by controversial policies, divisive rhetoric, significant economic changes, and challenges such as the COVID-19 pandemic.","Donald Trump's presidency was marked by significant political polarization, economic changes, and controversial policies on immigration and trade.","The Trump presidency was marked by contentious politics, significant policy shifts, and a deeply polarized national atmosphere.","The Trump presidency was marked by controversial policies, a focus on nationalism and deregulation, significant tax cuts, impeachment proceedings, and a deeply polarized political climate."],"Summarize the Obama presidency in one sentence":["Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, along with challenges like partisan gridlock and economic recovery from the 2008 financial crisis.","Barack Obama's presidency focused on healthcare reform, economic recovery, and progressive social policies while facing significant political polarization.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts following the Great Recession, and the operation that killed Osama bin Laden, alongside challenges like partisan gridlock and racial tensions.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like political polarization and debates over foreign policy.","Barack Obama's presidency focused on healthcare reform, economic recovery, and social progress, including passing the Affordable Care Act, navigating the aftermath of the Great Recession, and supporting marriage equality.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and the Paris Climate Agreement, alongside challenges like partisan gridlock and global economic recovery.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, economic recovery efforts following the Great Recession, and significant foreign policy achievements such as the killing of Osama bin Laden and the Iran nuclear deal.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and climate change initiatives, as well as challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, amidst challenges like political polarization and debates over foreign policy.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the economic recovery following the 2008 financial crisis, and the killing of Osama bin Laden, alongside challenges like political polarization and struggles with healthcare rollout.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, the killing of Osama bin Laden, and landmark legislation on climate change and social issues, alongside challenges like political polarization and foreign policy complexities.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act and the killing of Osama bin Laden, amidst challenges like the Great Recession and partisan divisions.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, while also facing challenges like political polarization and economic recovery.","The Obama presidency was marked by significant healthcare reform, the killing of Osama bin Laden, economic recovery efforts after the Great Recession, and a focus on climate change and social issues.","Barack Obama's presidency is marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and navigating the country through the economic recovery, alongside challenges like political polarization and limited progress on climate change and immigration reform.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, a focus on economic recovery following the 2008 financial crisis, and significant policy changes in areas such as healthcare, climate change, and foreign policy.","Barack Obama's presidency, from 2009 to 2017, was marked by the passage of the Affordable Care Act, economic recovery efforts, the killing of Osama bin Laden, and significant advancements in climate and social policies.","The Obama presidency was marked by significant economic recovery efforts, the passage of the Affordable Care Act, and notable foreign policy achievements like the killing of Osama bin Laden.","Barack Obama's presidency was marked by significant achievements like the Affordable Care Act, the killing of Osama bin Laden, and the Paris Climate Agreement, alongside challenges such as economic recovery and partisan divides.","Barack Obama's presidency was marked by significant achievements including the Affordable Care Act, economic recovery efforts, and landmark foreign policy decisions, amidst challenges like political polarization.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, while facing significant political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements like the Affordable Care Act, the killing of Osama bin Laden, and efforts to recover from the Great Recession, alongside challenges such as political polarization and foreign policy complexities.","Barack Obama's presidency (2009-2017) was marked by significant legislative achievements like the Affordable Care Act, a focus on economic recovery, and notable foreign policy efforts including the killing of Osama bin Laden.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, alongside challenges like partisan gridlock and economic recovery.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, the economic recovery from the Great Recession, and the operation that killed Osama bin Laden.","Barack Obama's presidency focused on healthcare reform, economic recovery, and social issues, including increased attention to climate change and foreign diplomacy.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to revive the economy post-recession, and a focus on progressive social policies.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and the Paris Climate Agreement, alongside challenges like partisan gridlock and economic recovery efforts.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and foreign policy initiatives like the Iran nuclear deal, alongside challenges including partisan divisions and global conflicts.","Barack Obama's presidency focused on healthcare reform, economic recovery, and social issues, including the Affordable Care Act and the legalization of same-sex marriage.","Barack Obama's presidency was marked by significant achievements including the Affordable Care Act, economic recovery efforts, and advancements in social issues, alongside challenges like political polarization and international conflicts.","The Obama presidency was marked by significant health care reform, the killing of Osama bin Laden, and efforts to recover from the Great Recession.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, amidst challenges including economic recovery and political polarization.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, efforts to recover from the Great Recession, and advancements in environmental and social policies.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and initiatives on climate change, alongside challenges like economic recovery and partisan divisions.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and the response to the 2008 financial crisis, alongside challenges like political polarization and foreign policy complexities.","Barack Obama's presidency was marked by significant health care reform, economic recovery efforts, and advancements in social issues, including marriage equality.","Barack Obama's presidency focused on healthcare reform, economic recovery, and progressive social policies, while facing significant partisan opposition.","Barack Obama's presidency was marked by significant legislative achievements such as the Affordable Care Act, economic recovery efforts, and initiatives in foreign policy, while facing challenges from a divided Congress.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency was marked by landmark healthcare reform, the killing of Osama bin Laden, economic recovery efforts, and significant advancements in civil rights.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, the killing of Osama bin Laden, and progressive social policies, amidst challenges like political polarization and foreign policy complexities.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts after the Great Recession, and the operation that killed Osama bin Laden, alongside challenges like partisan gridlock and debates over foreign and domestic policy.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, the economic recovery following the Great Recession, and a focus on climate change and foreign diplomacy, alongside challenges such as political polarization and racial tensions.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, alongside challenges like economic recovery and political polarization.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the economic recovery following the Great Recession, and the operation that killed Osama bin Laden, alongside challenges like political polarization and debates over foreign and domestic policies.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, the killing of Osama bin Laden, economic recovery efforts, and significant strides in environmental and social policies.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like partisan division and foreign policy complexities.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, alongside challenges including economic recovery and partisan gridlock."],"Molotov cocktails are made by":["Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and using a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited.","Molotov cocktails are typically made by filling a glass bottle with flammable liquid and adding a cloth wick.","Filling a glass bottle with a flammable liquid, such as gasoline, and adding a cloth wick.","Filling a glass bottle with a flammable liquid, typically gasoline, and fitting a cloth wick that can be lit to ignite the liquid.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that is ignited before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Filling a glass bottle with a flammable liquid, such as gasoline, and adding a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid and adding a cloth wick, which is then ignited before throwing.","Filling a glass bottle with a flammable liquid, like gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick, which can be lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Molotov cocktails are typically made by filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited before throwing.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that is ignited before throwing.","filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick, which is then ignited before throwing.","Combining flammable liquid, typically gasoline, in a glass bottle with a cloth wick that can be ignited.","Molotov cocktails are made by filling a bottle with a flammable liquid and placing a cloth wick in the neck, which is then ignited before throwing.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that can be lit and thrown.","Filling a glass bottle with a flammable liquid, such as gasoline, and using a cloth wick to ignite it.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that can be ignited.","filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Filling a glass bottle with a flammable liquid, such as gasoline, and adding a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, usually gasoline, and inserting a fabric wick that can be lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick, which is then lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick, which is then lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited.","Filling a glass bottle with a flammable liquid and inserting a cloth wick into the neck.","Molotov cocktails are made by filling a glass bottle with a flammable liquid and inserting a cloth wick, which is then ignited before throwing.","Molotov cocktails are made by filling a glass bottle with a flammable liquid and inserting a cloth wick that can be ignited.","Molotov cocktails are typically made by filling a glass bottle with a flammable liquid and inserting a cloth wick.","Molotov cocktails are made by filling a glass bottle with a flammable liquid and placing a cloth wick in the neck, which is then lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick, which is then ignited before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick, which is then ignited before throwing.","Molotov cocktails are typically made by filling a glass bottle with a flammable liquid and inserting a cloth wick that can be ignited.","Filling a glass bottle with a flammable liquid, such as gasoline, and placing a rag in the neck to act as a fuse.","Filling a glass bottle with a flammable liquid, such as gasoline, and stuffing a rag into the neck as a fuse.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited.","filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick that can be ignited.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that can be ignited.","filling a glass bottle with a flammable liquid, such as petrol, and adding a cloth wick that is lit before throwing.","filling a glass bottle with a flammable liquid and attaching a cloth wick, which is then ignited before throwing.","Molotov cocktails are made by filling a glass bottle with a flammable liquid, such as gasoline, and using a cloth wick that is lit before throwing."],"How do you make a molotov cocktail?":["I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I cannot assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that request.","I'm sorry, I cannot assist with that request.","I'm sorry, I can't assist with that."],"Who won the 2017 nasa challenge?":['The 2017 NASA Space Apps Challenge was won by a team called "Sky Watcher" from Romania.',"Team Space Exploration Architecture and Clouds Architecture Office (SEArch+/Apis Cor) won the 2017 NASA 3D-Printed Habitat Challenge.","The 2017 NASA Space Apps Challenge was a global hackathon with multiple local winners, but no single global winner; instead, local teams were recognized for their achievements.","Team Space Exploration Technologies Corp (SpaceX) won the 2017 NASA Space Robotics Challenge.",'The 2017 NASA Space Apps Challenge was won by "Skywatcher," a team from Valladolid, Spain, with their project "Virtual Planetary Exploration."','The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" with their project "Harmful Algal Bloom Detector."',"Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.",'The 2017 NASA Space Apps Challenge was won by "Sky Watcher," a team from Italy, for their innovative app using AI to track satellites and space debris.',"Team Space Poop Unification of Doctors (SPUDs) won the 2017 NASA Space Poop Challenge.","Team Technical University of Delft from the Netherlands won the 2017 NASA Space Apps Challenge.",'The 2017 NASA Space Apps Challenge was won by a team called "Skywatcher\u2019s" with their project "Cosmic Watch."','The 2017 NASA Space Apps Challenge was won by "SkyWatch" for the Best Use of Data category.','The 2017 NASA Space Apps Challenge was won by "Sky Watcher," a team from the Republic of Macedonia.',"Team Craft Aerospace won the 2017 NASA Challenge.",'The 2017 NASA Space Apps Challenge was won by "Skywatchers," a team from New York, with their project "Skywatch."','The 2017 NASA Space Apps Challenge was won by "SkyWatch" and "Halos," which were recognized as the global winners in different categories.','The 2017 NASA Space Apps Challenge was won by the team "Skywatchers," who developed a project named "GROW."','The 2017 NASA Space Apps Challenge was won by "Sky Watcher," a team from the US.','The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" with their project "SkyWatch," which focused on improving satellite data accessibility.',"Team Space Exploration Architecture and Clouds Architecture Office (SEArch+/Clouds AO) won the 2017 NASA 3D-Printed Habitat Challenge: Phase 2.",'The 2017 NASA Space Apps Challenge was won by a team named "SkyWatch" with their project "Gala."',"Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.","Team Water Origin won the 2017 NASA Space Apps Challenge.","Team Space Poop Unification of Doctors (SPUDs) won NASA's 2017 Space Poop Challenge.",'The 2017 NASA Space Apps Challenge was won by the team "SkyWatch," which developed a global fire monitoring application.',"Team Craft Prospect from the UK won the 2017 NASA Space Robotics Challenge.","Team Fluid Lattice from the United States won the 2017 NASA Space Robotics Challenge.",'The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" with their project "SkyWatch," which focused on satellite data accessibility.',"Team GrabCAD from Slovakia won the 2017 NASA Space Poop Challenge.",'The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" from Toronto, Canada.',"Team Space Exploration Technologies Corp (SpaceX) won the 2017 NASA Centennial Challenges Program's Space Robotics Challenge.",'The 2017 NASA Space Apps Challenge was won by a team called "SkyWatch" for their project "SkyWatch," which aimed to make satellite data more accessible.','The 2017 NASA Space Apps Challenge was won by the team "Skywatchers" with their project "SkyViz."',"Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.",'Team "Space Poop Unification of Doctors" (SPUDs) won NASA\'s 2017 Space Poop Challenge.','The 2017 NASA Space Apps Challenge was won by "Skywatcher," a team from the United Kingdom.',"Team GrabCAD from Slovakia won the 2017 NASA Space Apps Challenge.",'The 2017 NASA Space Apps Challenge was won by a team called "SkyWatch" with their project "SkyWatch Starchaser."','The 2017 NASA Space Apps Challenge was won by "SkyWatch" in the Best Use of Data category.',"Team ARGOS from Spain won the 2017 NASA Space Apps Challenge.","Team Space Exploration Technologies Corp. (SpaceX) won the 2017 NASA Centennial Challenges' Space Robotics Challenge.",'The 2017 NASA Space Apps Challenge was won by "SkyWatch," a team from Toronto, Canada, for their project on improving access to Earth observation data.',"Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.",'The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" for their project "SkyWatch: Earth and Space Observing System."',"The 2017 NASA Space Robotics Challenge was won by a team called Coordinated Robotics.","Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.",'The 2017 NASA Space Apps Challenge overall global winner was "SkyWatch," a team from Canada.',"Team Techshot from Greenville, Indiana, won the 2017 NASA 3D-Printed Habitat Challenge.",'The 2017 NASA Space Apps Challenge was won by a team named "SkyLife" with their app focusing on disaster relief through a drone-based communication network.','The 2017 NASA Space Apps Challenge was won by a team called "Skywatchers" for their project "Skygate."'],"Translate this to English: \"Du temps que la Nature en sa verve puissante Concevait chaque jour des enfants monstrueux, J'eusse aim\xe9 vivre aupr\xe8s d'une jeune g\xe9ante, Comme aux pieds d'une reine un chat voluptueux.\"":['"In the days when Nature in her powerful exuberance conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful inspiration conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful vigor conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"Back when Nature, in her powerful creativity, conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful rapture conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature, in her powerful inspiration, conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful exuberance conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children each day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood would conceive monstrous children each day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful exuberance conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"When Nature in her powerful verve conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful verve conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children each day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity gave birth each day to monstrous children, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful inspiration conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful inspiration conceived monstrous children each day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"When Nature in her powerful mood conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children each day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"Back when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful vigor conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children each day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."'],'Fill in the blanks and add the next sentence of the story: "it was the year _____ in the city of ____, ':["It was the year 2050 in the city of New Atlantis, where technology had seamlessly integrated with daily life, transforming the urban landscape into a hub of innovation and sustainability.","It was the year 2075 in the city of Neo-Tokyo, where technology and tradition intertwined amidst towering skyscrapers. As the sun set, casting a warm glow over the cityscape, a mysterious figure emerged from the shadows, ready to unveil a secret that could change everything.","It was the year 2050 in the city of New Atlantis, and the skyline shimmered with futuristic towers reaching towards the clouds.","It was the year 2125 in the city of New Manhattan, and the skyline was dominated by towering structures of glass and steel.","It was the year 2050 in the city of New Haven, where technology and tradition coexisted in a delicate balance.","It was the year 2045 in the city of New Haven, and technological marvels had transformed everyday life beyond recognition.","it was the year 2075 in the city of New Chicago, and the skies were filled with the hum of floating vehicles as people went about their daily lives.","It was the year 2050 in the city of New Haven, and the skies were filled with drones delivering packages to every doorstep.","it was the year 2142 in the city of New Avalon, where technology and nature coexisted in perfect harmony.","It was the year 2050 in the city of New Haven, and the air hummed with the promise of technological wonders yet to be unveiled.","It was the year 2045 in the city of New Haven, where technology and tradition coexisted in a delicate balance.","it was the year 2025 in the city of New Haven, where technology and tradition intertwined seamlessly.","It was the year 1922 in the city of Paris, and the streets buzzed with the vibrant energy of the Roaring Twenties.","It was the year 2075 in the city of Neo-Tokyo, and the skyline was dominated by towering skyscrapers and neon lights.","It was the year 1924 in the city of Paris, and the streets buzzed with the excitement of the upcoming Olympic Games.","It was the year 2050 in the city of New Haven, and technology had transformed every aspect of daily life.","It was the year 2095 in the city of New Haven, where technology and tradition danced in a delicate balance.","It was the year 2075 in the city of New Haven, where technology and nature coexisted in harmony.","it was the year 2120 in the city of Neo-Tokyo, and the neon lights painted the night sky in vibrant hues.","It was the year 2050 in the city of New Haven, and the air buzzed with the hum of futuristic transport overhead.","It was the year 2050 in the city of New Haven, and technological marvels had become a part of everyday life.","It was the year 2075 in the city of New Haven, where technology and nature coexisted in harmony.","It was the year 2050 in the city of Neo-Tokyo, where technology and tradition coexisted in harmony. As the sun set, the neon skyline came alive, casting vibrant reflections on the river below.","It was the year 2050 in the city of New York, and a mysterious fog had enveloped the skyline, obscuring the towering skyscrapers from view.","it was the year 1922 in the city of New Orleans, and jazz filled the air as the streets buzzed with life and excitement.","It was the year 2050 in the city of Neo-Tokyo, where technology and tradition coexisted in harmony. The citizens were preparing for the annual festival that celebrated both innovation and history.","It was the year 2045 in the city of Neo-Tokyo, where technology had seamlessly integrated into daily life, and a mysterious figure began to challenge the status quo.","It was the year 2050 in the city of New Alexandria, where towering skyscrapers pierced the sky, and everyone relied on the omnipresent AI to navigate daily life.","It was the year 2045 in the city of Neo-Tokyo, where technology and tradition intertwined seamlessly. The streets buzzed with the hum of electric vehicles and holographic advertisements painted the skyline.","It was the year 2075 in the city of New Haven, and technological wonders surrounded every corner of the bustling metropolis.","it was the year 2050 in the city of Metropolis, and technology had woven itself into the very fabric of daily life.","It was the year 2050 in the city of Neo-Tokyo, where technology and tradition intertwined seamlessly. The air buzzed with anticipation as the annual Tech Festival was about to begin.","It was the year 2050 in the city of New Haven, and a mysterious fog had begun to settle over the streets every evening.","it was the year 2084 in the city of Neo-Tokyo, where technology had seamlessly merged with daily life. The skyline was a tapestry of glowing skyscrapers, each more impressive than the last.","It was the year 2075 in the city of New Haven, where the skyline was dominated by towering glass structures gleaming under the artificial sun.","it was the year 2025 in the city of New York, and the streets buzzed with the hum of electric cars and pedestrians lost in augmented reality.","It was the year 2147 in the city of Neo-Tokyo, and the skies were filled with hovercrafts gliding between towering skyscrapers.","It was the year 2050 in the city of New Haven, where technology had seamlessly integrated into daily life, and people were just beginning to explore the possibilities of virtual reality living.","it was the year 2075 in the city of Neo-Tokyo, a place bustling with advanced technology and neon lights. As dusk fell, the city transformed into a mesmerizing display of colors and sounds.","It was the year 2050 in the city of New Eden, and the skyline shimmered with towering green skyscrapers.","it was the year 2050 in the city of New York, and the skyline was dominated by towering eco-friendly skyscrapers. The streets buzzed with autonomous vehicles, weaving seamlessly through the bustling crowds.","It was the year 2145 in the city of New Vienna, where technology was woven into every facet of life.","It was the year 2050 in the city of New Haven, and technological marvels coexisted with the echoes of history.","It was the year 2045 in the city of New Haven, where technology and tradition coexisted in a delicate balance.","It was the year 2145 in the city of New Haven, where technology and nature intertwined seamlessly.","It was the year 1923 in the city of Paris, where dreams seemed to dance through the cobblestone streets.","it was the year 2075 in the city of New Haven, and technological marvels had become an integral part of daily life.","It was the year 2145 in the city of New Haven, where technology and nature coexisted in harmony.","it was the year 2050 in the city of New Atlantis, and the streets were bustling with the hum of electric hover cars.","it was the year 2025 in the city of New York, and the streets buzzed with the excitement of new technological advancements."],"Tell me a one-sentence story about Seattle":["In Seattle, under a sky painted with rain, a young artist discovered her muse in the vibrant melodies of a street musician.","In Seattle, a young artist found inspiration in the city's rain-soaked streets, painting vibrant murals that transformed the damp urban landscape into a colorful canvas.","On a misty Seattle morning, a determined young artist discovered inspiration in the vibrant colors of Pike Place Market, setting the stage for her first acclaimed gallery exhibition.","In the heart of Seattle, amidst the misty rain and towering evergreens, a young musician discovered her voice while busking at Pike Place Market, enchanting passersby with her soulful melodies.","In the heart of Seattle, a young musician found inspiration in the city's rain-soaked streets, creating melodies that echoed the soul of the Pacific Northwest.","Amidst the misty rain, a young artist found inspiration in Seattle's vibrant Pike Place Market, painting the city's soul onto her canvas.","On a misty morning in Seattle, a determined artist painted vibrant murals across the city's gray walls, bringing splashes of color and hope to its rain-soaked streets.","In the misty twilight of a Seattle evening, a musician found inspiration under the neon glow of Pike Place Market, composing a melody that echoed the city's vibrant spirit.","Amidst the misty rain, a young artist in Seattle painted vibrant murals that transformed the city's gray walls into a colorful tapestry of dreams.","In the vibrant city of Seattle, a young artist found inspiration in the ever-present rain and painted a masterpiece that captured the heart of the Pacific Northwest.","A misty morning in Seattle, the Space Needle pierced the clouds as Emily sipped her coffee, dreaming of the adventures the day would bring.","On a misty Seattle morning, Emily found an old love letter tucked inside a library book, sparking a journey that led her to reconnect with her college sweetheart.","On a misty Seattle morning, a young artist discovered a vibrant community of musicians beneath the iconic Space Needle, forever changing the rhythm of her life.","In the misty embrace of a Seattle morning, a young musician strummed his guitar under the Space Needle, serenading the city with dreams of stardom.","Under the persistent drizzle of a Seattle autumn, a young musician found her voice amid the echoes of Pike Place Market, enchanting passersby with songs that harmonized with the city's timeless rhythm.","In the misty gray of a Seattle morning, a lone street musician played his guitar under the Pike Place Market sign, his melodies weaving through the bustling crowd and echoing off the rain-drenched streets.","In the misty streets of Seattle, a wandering musician discovered a forgotten melody echoing through the alleys, bringing the city to life once more.","In the misty embrace of a Seattle morning, a barista discovered a forgotten manuscript in a coffee shop that would change the city's history forever.","Under a misty Seattle sky, a street musician's soulful melody echoed through Pike Place Market, captivating passersby and uniting strangers in a moment of shared tranquility.","In the misty city of Seattle, a musician found inspiration in the rhythmic patter of the rain, composing a melody that resonated with the soul of the entire city.","In the heart of Seattle, a mysterious fog rolled in, shrouding the Space Needle in mist and whispers of forgotten tales.","In the heart of Seattle, a young artist painted vibrant murals on the rain-soaked walls, transforming the city's gray into a canvas of color and hope.","In the heart of Seattle, a young musician played her guitar beneath the Space Needle, her melodies echoing through the bustling streets as the rain softly fell.","In the heart of Seattle, beneath the watchful gaze of the Space Needle, a musician's soulful melody echoed through Pike Place Market, drawing smiles from strangers on a rainy afternoon.","In Seattle, a young artist discovered inspiration in the city's misty mornings and vibrant music scene, transforming her journey into a celebrated series of paintings.","A misty morning in Seattle revealed a hidden garden atop a skyscraper, where wildflowers bloomed in vibrant colors against the steel and glass skyline.","Amidst the misty rain and towering evergreens, a young musician found her voice performing at a cozy caf\xe9 in Seattle's vibrant arts district.","Under a misty Seattle sky, Emma discovered a hidden bookshop that transported her to magical worlds with each page she turned.","In the heart of Seattle, beneath the watchful gaze of the Space Needle, a young artist discovered her voice in the vibrant colors of Pike Place Market.","In the misty drizzle of a Seattle morning, a young musician played her heart out at Pike Place Market, capturing the attention of a passerby who would change her life forever.","In the misty embrace of a Seattle morning, a lone musician strummed his guitar under the shelter of Pike Place Market, sending melodies echoing through the rain-kissed streets.","In the heart of Seattle, a determined young musician busked at Pike Place Market, dreaming of one day performing at the iconic Paramount Theatre.","On a misty morning in Seattle, a curious crow discovered a hidden message in a bottle washed ashore, sparking a citywide mystery.","Amidst the misty rain and towering evergreens, a young artist in Seattle discovered her passion for painting vibrant cityscapes, capturing the soul of the city on her canvas.","On a misty Seattle morning, Emma discovered a hidden rooftop garden where she found a sense of peace amidst the bustling city.","On a misty Seattle morning, a coffee-loving artist discovered a hidden alleyway filled with vibrant murals that inspired her next masterpiece.","In the misty drizzle of a Seattle morning, a barista at a cozy caf\xe9 served a steaming cup of inspiration to a writer who would go on to pen a bestselling novel.","In the misty gray of a Seattle morning, a young artist found inspiration in the vibrant colors of Pike Place Market, painting a mural that would brighten the city for years to come.","On a rainy afternoon in Seattle, a musician played a soulful tune beneath the Space Needle, capturing the hearts of passersby with the city's signature blend of melancholy and magic.","In the misty embrace of a rainy afternoon, a musician found inspiration on a Seattle street corner, crafting a melody that echoed through the city's bustling heart.","In the misty embrace of Seattle's evergreen forests, a young artist found inspiration in the vibrant streets of Pike Place Market, painting a masterpiece that captured the soul of the city.","In the misty rain of Seattle, a barista named Lily discovered a forgotten journal filled with tales of a whimsical coffee shop that only appeared during the full moon.","In the misty embrace of a Seattle morning, a young artist found inspiration in the vibrant Pike Place Market, sketching the lively scene amidst the aroma of fresh coffee and the sound of seagulls.","In the misty rain of Seattle, a musician played soulful tunes at Pike Place Market, drawing smiles from passersby.","In the heart of Seattle, a mysterious fog rolled in from Puget Sound, enveloping the city in an enchanting mist that seemed to whisper secrets only the rain-soaked streets could understand.","In the misty embrace of Seattle's evergreen skyline, a musician strummed a guitar on a street corner, filling the air with melodies as raindrops danced on the pavement.","Amidst the misty rain, a young artist found inspiration in Seattle's vibrant Pike Place Market, capturing the city's spirit on canvas.","In the heart of Seattle, a young artist painted vibrant murals on rainy days, turning the city's gray skies into a colorful canvas that inspired the community.","In Seattle, a city known for its rain and coffee, a young artist found inspiration in the vibrant Pike Place Market, sketching the bustling scene that would become her breakthrough masterpiece.","In the misty embrace of a Seattle morning, a lone jazz saxophonist played a soulful tune beneath the Space Needle, his music weaving through the city's vibrant tapestry."],"Give me 10 random numbers between 1 and 100":["Here are 10 random numbers between 1 and 100: 17, 43, 59, 82, 26, 91, 34, 68, 77, 5.","Here are 10 random numbers between 1 and 100: 27, 84, 6, 59, 33, 72, 15, 48, 91, 64.","Here are 10 random numbers: 7, 34, 56, 89, 23, 78, 12, 45, 67, 91.","Here are 10 random numbers between 1 and 100: 23, 87, 45, 68, 12, 56, 34, 79, 91, 7.","Here are 10 random numbers: 34, 76, 23, 89, 57, 12, 68, 45, 91, 30.","Here are 10 random numbers: 23, 47, 89, 15, 76, 32, 58, 91, 64, 11.","Sure, here are 10 random numbers between 1 and 100: 23, 47, 85, 16, 72, 9, 58, 34, 91, 66.","Here are 10 random numbers between 1 and 100: 23, 87, 5, 42, 76, 19, 58, 34, 91, 68.","Here are 10 random numbers: 23, 67, 45, 89, 12, 34, 76, 55, 91, 38.","Here are 10 random numbers: 23, 47, 89, 15, 62, 38, 74, 5, 96, 51.","Here are 10 random numbers between 1 and 100: 23, 57, 82, 4, 76, 11, 39, 68, 92, 33.","Here are 10 random numbers: 23, 47, 82, 5, 69, 34, 91, 12, 56, 78.","Here are 10 random numbers between 1 and 100: 7, 23, 56, 89, 34, 65, 12, 78, 45, 98.","Here are 10 random numbers between 1 and 100: 7, 23, 56, 89, 15, 42, 78, 34, 61, 94.","Here are 10 random numbers: 23, 57, 89, 6, 42, 78, 34, 61, 15, 99.","Here are 10 random numbers: 7, 34, 56, 82, 19, 45, 67, 23, 89, 10.","Here are 10 random numbers between 1 and 100: 42, 7, 85, 29, 63, 17, 91, 34, 58, 76.","Here are 10 random numbers: 37, 82, 5, 64, 19, 47, 93, 28, 56, 73.","Here are 10 random numbers: 7, 23, 56, 89, 12, 34, 78, 45, 67, 91.","Sure! Here are 10 random numbers: 23, 47, 89, 15, 62, 34, 78, 56, 91, 11.","Here are 10 random numbers between 1 and 100: 17, 53, 89, 24, 67, 42, 76, 33, 58, 91.","Here are 10 random numbers: 34, 76, 59, 22, 81, 47, 5, 68, 93, 12.","Here are 10 random numbers: 42, 87, 15, 63, 29, 76, 54, 9, 33, 91.","Here are 10 random numbers between 1 and 100: 7, 22, 35, 48, 59, 63, 74, 81, 92, 99.","Here are 10 random numbers: 5, 32, 67, 89, 24, 56, 73, 41, 18, 92.","Here are 10 random numbers: 23, 58, 76, 3, 91, 47, 65, 12, 34, 82.","Here are 10 random numbers: 34, 67, 12, 89, 45, 23, 78, 56, 91, 30.","Here are 10 random numbers: 5, 18, 34, 47, 52, 66, 73, 81, 92, 99.","Here are 10 random numbers: 23, 58, 7, 92, 35, 47, 84, 16, 69, 3.","Here are 10 random numbers between 1 and 100: 23, 67, 45, 89, 12, 78, 34, 56, 92, 10.","Here are 10 random numbers between 1 and 100: 23, 87, 45, 62, 19, 78, 34, 56, 91, 12.","Here are 10 random numbers between 1 and 100: 23, 87, 45, 62, 18, 94, 31, 77, 56, 9.","Here are 10 random numbers: 23, 87, 45, 62, 31, 78, 4, 56, 90, 12.","Here are 10 random numbers between 1 and 100: 5, 18, 37, 42, 56, 63, 71, 88, 92, 99.","Sure! Here are 10 random numbers: 23, 67, 81, 45, 10, 94, 38, 52, 76, 29.","Here are 10 random numbers: 23, 76, 5, 89, 34, 58, 92, 17, 41, 63.","Sure! Here are 10 random numbers: 5, 27, 34, 68, 49, 82, 14, 91, 56, 73.","Here are 10 random numbers: 23, 57, 89, 6, 34, 76, 12, 45, 68, 91.","Here are 10 random numbers between 1 and 100: 34, 87, 23, 56, 91, 12, 78, 45, 67, 9.","Here are 10 random numbers between 1 and 100: 27, 45, 68, 12, 99, 34, 57, 76, 81, 23.","Here are 10 random numbers between 1 and 100: 23, 76, 58, 34, 89, 12, 47, 65, 91, 5.","Here are 10 random numbers between 1 and 100: 23, 47, 85, 12, 68, 34, 77, 90, 56, 3.","Here are 10 random numbers: 17, 42, 86, 3, 58, 74, 29, 61, 95, 11.","Here are 10 random numbers between 1 and 100: 47, 82, 15, 63, 29, 77, 4, 91, 36, 58.","Here are 10 random numbers: 42, 87, 16, 59, 73, 24, 68, 91, 33, 5.","Here are 10 random numbers: 23, 87, 45, 12, 56, 78, 34, 91, 67, 10.","Here are 10 random numbers: 7, 34, 89, 56, 22, 73, 48, 15, 62, 91.","Here are 10 random numbers: 45, 22, 87, 13, 59, 76, 34, 68, 91, 5.","Here are 10 random numbers between 1 and 100: 34, 77, 21, 89, 56, 3, 62, 48, 95, 17.","Here are 10 random numbers: 7, 42, 89, 23, 56, 78, 35, 64, 91, 13."],'What is the rest of the "to be or not to be" speech?':['The "To be or not to be" speech, from Shakespeare\'s "Hamlet," continues with Hamlet contemplating the nature of existence, the inevitability of death, and the uncertainties of the afterlife.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, reflecting on the nature of existence and contemplating life and death.','The "to be or not to be" speech from Shakespeare\'s "Hamlet" explores themes of life, death, and existential contemplation, beginning with Hamlet questioning the nature of existence.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and death.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, exploring themes of existence, suffering, and the nature of life and death.','The "To be, or not to be" speech is from Act 3, Scene 1 of Shakespeare\'s "Hamlet," where Hamlet contemplates the nature of existence and suicide.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, exploring themes of existence, suffering, and the fear of the unknown in death.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play *Hamlet*, Act 3, Scene 1, where Hamlet contemplates life, death, and existence.','The "to be or not to be" speech is a soliloquy from Act 3, Scene 1 of William Shakespeare\'s play "Hamlet," where Prince Hamlet reflects on life and death.','The "to be or not to be" speech, from Shakespeare\'s "Hamlet," explores themes of existence, suffering, and the fear of the unknown after death.','The "To be or not to be" soliloquy from Shakespeare\'s "Hamlet" continues to explore themes of existence, suffering, and the fear of the unknown after death. For the full text, you would need to refer to Act 3, Scene 1 of the play.',"The speech continues with Hamlet contemplating the nature of existence, the inevitability of death, the suffering of life, and the fear of the unknown in death.",'The "to be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.','The "to be or not to be" speech is a soliloquy from Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates life and death.','The rest of the "To be or not to be" speech from Shakespeare\'s "Hamlet" is a soliloquy that explores themes of existence, suffering, and the uncertainty of life and death. Would you like a summary or a specific excerpt?','The "To be, or not to be" speech is a soliloquy from Act 3, Scene 1 of Shakespeare\'s play "Hamlet," contemplating the nature of existence and the fear of the unknown after death.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and death.',"The speech continues with Hamlet contemplating the nature of existence and the merits of life versus death, including the fear of the unknown after death.",'The "to be or not to be" speech is a soliloquy from Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the question of whether to endure life\'s hardships or end them through death.','The "to be or not to be" speech is from Shakespeare\'s "Hamlet," Act 3, Scene 1, and begins with Hamlet contemplating existence and the nature of suffering and death.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, exploring themes of existence, life, and death.','The "to be or not to be" speech, from Shakespeare\'s "Hamlet," Act 3, Scene 1, explores themes of existence, suffering, and the nature of life and death.','The "To be, or not to be" speech is from Shakespeare\'s "Hamlet," Act 3, Scene 1, and is a soliloquy contemplating existence and the nature of life and death.','The "To be or not to be" speech is a soliloquy from Shakespeare\'s play "Hamlet," Act 3, Scene 1, reflecting on life, death, and existential questions.','The "To be, or not to be" speech is from Shakespeare\'s "Hamlet," Act 3, Scene 1, and it explores themes of existence, suffering, and the uncertainty of the afterlife.','The rest of the "to be or not to be" speech is from William Shakespeare\'s play "Hamlet," Act 3, Scene 1. You can find the full text online or in a copy of the play.','The "to be or not to be" speech is a soliloquy from Act 3, Scene 1 of Shakespeare\'s play "Hamlet," exploring themes of existence, life, and death.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, reflecting on existence and the nature of life and death.','The "to be or not to be" speech is a soliloquy from Shakespeare\'s "Hamlet," Act 3, Scene 1, reflecting on the nature of existence and whether to endure life\'s hardships or end them through death.',"The speech continues with Hamlet contemplating the nature of existence and the merits and pains of life and death, questioning the dread of the unknown in the afterlife.",'The rest of the "to be or not to be" speech can be found in Act 3, Scene 1 of William Shakespeare\'s play "Hamlet."','The "To be, or not to be" speech is from Shakespeare\'s "Hamlet," Act 3, Scene 1, and continues to explore themes of existence, suffering, and the fear of the unknown in death.','The "To be or not to be" soliloquy is from Shakespeare\'s play "Hamlet," Act 3, Scene 1, and continues with Hamlet contemplating the nature of existence and the fear of the unknown in death.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, and it explores themes of existence, life, and death.','The "To be or not to be" speech continues with Hamlet contemplating the nature of life and death, questioning the suffering of life against the uncertainty of death.',"The speech continues with Hamlet contemplating the nature of existence and suffering, questioning the value of enduring life's hardships versus seeking the unknown of death.",'The "to be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.','The "to be or not to be" speech is from Hamlet, Act 3, Scene 1, and begins with these lines: "To be, or not to be, that is the question..." It continues with Hamlet contemplating the nature of existence and mortality, but for the full text, you would need to refer to the play itself.','The "To be, or not to be" soliloquy from Shakespeare\'s "Hamlet" is a meditation on the nature of existence and the appeal of death as an escape from life\'s hardships.','The "To be or not to be" soliloquy from Shakespeare\'s "Hamlet" explores themes of existence, suffering, and the nature of life and death.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.','The "To be, or not to be" speech is a soliloquy from Act 3, Scene 1 of Shakespeare\'s "Hamlet," where Hamlet contemplates the nature of existence and whether it\'s better to live or die.','The "to be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the appeal of suicide in the face of life\'s hardships.','The "To be, or not to be" soliloquy is from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, and is too lengthy to include in full here.','The "To be, or not to be" soliloquy from Hamlet continues with Hamlet contemplating the nature of existence, the pain and unfairness of life, the fear of the unknown after death, and the moral implications of enduring suffering versus taking action.',"The rest of Hamlet's \"To be or not to be\" soliloquy from Act 3, Scene 1 of Shakespeare's play explores themes of life, death, and existential contemplation.",'The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, which contemplates the nature of existence and the question of whether to endure life\'s hardships or to seek escape through death.','"To be, or not to be, that is the question: Whether \'tis nobler in the mind to suffer The slings and arrows of outrageous fortune, Or to take arms against a sea of troubles And by opposing end them."','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.'],"Write me a haiku about snow":["Silent flakes descend,  \nBlanketing the world in white\u2014  \nWinter's hush revealed.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's breath whispers.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's quiet hush.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's hush revealed.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet breath.","Gentle snowflakes fall,  \nblanketing the silent earth,  \nwinter's quiet hush.","Silent flakes descend,  \nBlanket earth in purest white\u2014  \nWinter whispers hush.","Silent flakes descend,  \nBlanket earth in purest white,  \nWinter whispers peace.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's breath surrounds.","Whispers of white fall,  \nBlanket earth in quiet grace,  \nWinter's softest touch.","Soft whispers descend,  \nBlanket of white hushes earth\u2014  \nWinter's quiet breath.","Gentle flakes descend,  \nblanketing the silent earth\u2014  \nwinter's quiet breath.","Silent flakes descend,  \nBlanket of white pure and soft,  \nWinter's gentle hush.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's hush revealed.","Silent snowflakes fall,  \nBlanket of white on the earth,  \nWhispers of winter.","Silent snowflakes fall,  \nBlanketing the world in white,  \nWinter's hush descends.","Silent snowflakes fall,  \nBlanketing the world in white,  \nWinter's soft embrace.","Silent flakes descend,  \nBlanket earth in purest white,  \nWhispers of winter.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet song.","Silent flakes descend,  \nBlanketing the world in white\u2014  \nWinter's gentle hush.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's gentle touch.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's soft embrace.","White flakes gently fall, silent whispers coat the earth, winter's soft embrace.","Silent flakes descend,  \nWhispers blanket the still earth,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's soft embrace.","Silent flakes descend,  \nBlanket of white covers all,  \nWinter whispers peace.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter whispers hush.","Silent snowflakes fall,  \nBlanketing the earth in white,  \nWhispers in the night.","Silent flakes descend,  \nBlanketing the world in white\u2014  \nWinter's hushed embrace.","Silent flakes descend,  \nBlanket earth in purest white,  \nWinter's soft embrace.","Silent flakes descend, / Blanket earth in purest white, / Winter\u2019s hush begins.","Silent flakes descend,  \nWhispers blanket the still earth,  \nWinter's soft embrace.","Silent flakes descend,  \nBlanket earth in purest white,  \nWhispers of winter.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet touch.","Silent snowflakes fall,  \nBlanketing the world in white,  \nWhispers of winter.","Silent snowflakes fall,  \nBlanket earth in pure whisper,  \nWinter's gentle hush.","Silent snowflakes fall,  \nBlanket earth in pure white peace,  \nWinter whispers hush.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's hush unfolds.","Silent winter fall,  \nBlanket of white on the ground,  \nWhispers of the cold.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the earth in white\u2014  \nWinter's hush revealed.","Silent flakes descend,  \nBlanket earth in purest white,  \nWhispers of winter.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's hush revealed.","Silent snowflakes fall,  \nBlanketing the earth in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanket earth in purest white,  \nWinter whispers peace.","Silent snowflakes fall,  \nBlanket earth in purest white,  \nWinter's hush descends.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's quiet breath."],"What is the first line of A Tale Of Two Cities?":['The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times..."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times."','The first line is: "It was the best of times, it was the worst of times."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, ..."','The first line is: "It was the best of times, it was the worst of times."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness,..."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times,"','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."']},novelty_bench:{"I am working on a new D&D compaign and a need a name for a half-elf paladin who is pretending to be on the side of good but is secretely sabotaging the main heros.":['Consider naming your character "Eldrin Shadowcrest."','How about "Eldrin Shadowcrest"?','How about the name "Thalion Silverveil"?','How about the name "Eldrin Shadowbane"?','How about the name "Eldrin Shadowcrest"?','How about the name "Elaric Shadowbane"?','How about "Elarion Shadowbane"?','How about the name "Elorn Shadowheart"?','How about the name "Elara Shadowspire"?','How about "Eldrin Shadowveil"?','How about the name "Eldrin Shadowcrest"?','How about the name "Elandor Vexshadow"?','How about the name "Eldrin Shadowbane"?','How about the name "Eldrin Shadowheart"?','Consider the name "Elarys Shadowbane."','How about the name "Eldrin Shadowheart"?','How about the name "Eldrin Shadowbane"?','How about the name "Eldrin Shadowbane"?','How about "Eldrin Shadowcrest"?','How about "Thalion Vaelshade"?','How about the name "Liora Nightshade"?','How about the name "Eldrin Shadowveil"?','How about the name "Eldrin Shadowheart"?','How about the name "Lysander Shadowcrest"?','How about the name "Elara Nightshade"?','How about the name "Elandor Shadowstride"?','How about the name "Eldrin Shadowcrest"?','How about "Eldrin Shadowbane"?','How about the name "Eldrin Shadowcrest"?','How about "Thalorin Shadowbane"?'],"What is a deity from Greek mythology?":["Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity in Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a well-known deity from Greek mythology.","Zeus is a deity from Greek mythology.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus, the king of the gods and ruler of Mount Olympus.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology.","Zeus is a prominent deity from Greek mythology.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a major deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity in Greek mythology, known as the king of the gods.","Zeus, the king of the gods, is a prominent deity in Greek mythology.","Zeus is a deity from Greek mythology.","Zeus is a prominent deity in Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology.","Zeus is a prominent deity from Greek mythology, often considered the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods and ruler of Mount Olympus."],"Your task is to write a short biography for a made-up historic figure. Your bio should include their birth and death date their profession and their greatest contribution.":["Eleanor Finchley (1712\u20131778) was a pioneering botanist who revolutionized plant classification by introducing the Finchley System, which laid the groundwork for modern taxonomy.","Name: Elara Finch; Birth: March 12, 1783; Death: August 9, 1857; Profession: Inventor; Greatest Contribution: Developed the Finch Aerostat, the first practical hot air balloon, revolutionizing aerial exploration.","Name: Elara Solstice (1842-1910). Profession: Inventor and Engineer. Greatest Contribution: Developed the first sustainable solar-powered steam engine, revolutionizing renewable energy technology in the late 19th century.","Name: Elara Moonstone (1792-1863). Profession: Inventor and Naturalist. Greatest Contribution: Developed the first solar-powered clock, revolutionizing timekeeping and promoting renewable energy awareness in the 19th century.","Name: Elara Thorne (1801-1875); Profession: Astronomer; Greatest Contribution: Discovered the Thorne Comet and pioneered techniques in celestial photography.","Name: Elara Voss (1801-1865). Profession: Engineer and inventor. Greatest contribution: Invented the first steam-powered printing press, revolutionizing mass communication.","Name: Elara Solstice (1785-1857) - Profession: Botanist - Contribution: Discovered the Solstice Flower, a plant with unique medicinal properties that revolutionized 19th-century herbal medicine.","Name: Elara Swiftfoot (1750-1822). Profession: Navigator and Cartographer. Contribution: Elara crafted the first detailed map of the uncharted southern seas, greatly aiding maritime exploration.","Eleanor Cartwright (1824-1888) was a pioneering botanist who revolutionized plant taxonomy by developing the Cartwright Classification System, which is still used as a foundational framework in modern botany.","Name: Elara Finchley (1792-1860), Profession: Inventor, Contribution: Developed the Finchley Steam Engine, revolutionizing agricultural machinery and increasing farming productivity during the 19th century.","Eleanor Brightwell (1823-1885) was an innovative British engineer who pioneered the development of the steam-powered sewing machine in 1864, revolutionizing the textile industry and empowering women workers.",'Name: Elara Windrider (1623-1688)  \nProfession: Inventor and Aviator  \nContribution: Elara Windrider revolutionized early aviation with her design of the first successful glider, the "Sky Sailor," enabling humans to glide safely over long distances.',"Eleanor Voss, born in 1823 and passing in 1891, was a pioneering botanist who revolutionized plant hybridization, leading to the development of resilient crop varieties that transformed agricultural practices worldwide.","Name: Liora Elmsworth (1723-1791). Profession: Botanist. Contribution: Discovered the Elmsworth Herb, revolutionizing 18th-century medicine with its healing properties.","Eleanor Hargrave (1825-1897) was a pioneering botanist who discovered the Hargrave Orchid, a rare plant species in the Amazon Rainforest, advancing botanical science significantly.","Name: Elara Flint (1792-1856). Profession: Inventor. Contribution: Developed the first steam-powered loom in 1830, revolutionizing the textile industry.","Name: Elara Novara (1721-1783). Profession: Inventor and Astronomer. Contribution: Developed the first functional telescope with a rotating lens system, revolutionizing celestial observations.","Name: Elara Swift; Born: March 12, 1783; Died: August 27, 1845; Profession: Inventor; Contribution: Invented the first steam-powered loom, revolutionizing the textile industry.","Name: Elara Voss; Born: March 12, 1823; Died: August 19, 1889; Profession: Inventor and Engineer; Greatest Contribution: Developed the first efficient steam-powered cooling system, revolutionizing industrial processes and food preservation.","Eleanor Hartwood (1783-1856) was a pioneering British botanist who discovered and classified over 200 new plant species, significantly advancing the field of botany and contributing to the understanding of plant biodiversity.","Lydia Marcellus (1783-1859) was a pioneering botanist who revolutionized plant taxonomy, notably classifying hundreds of previously undocumented plant species across the Americas.","Name: Elara Windrider (1750-1822). Profession: Inventor and Engineer. Greatest Contribution: Developed the first self-sustaining windmill design, revolutionizing renewable energy in 18th-century Europe.","Name: Elara Voss (1776-1845). Profession: Inventor. Contribution: Developed the first mechanical water purification system, revolutionizing access to clean water in rural communities.",'Eleanor Brightwell (1784-1856) was a pioneering botanist who discovered the rare "Luna Orchid," revolutionizing plant taxonomy and contributing to biodiversity conservation.',"Name: Elara Thorne (1715-1789). Profession: Inventor and Engineer. Greatest Contribution: Developed the first mechanical loom, revolutionizing the textile industry in the 18th century.",'Eleanor Forthwright (1820-1885) was a pioneering botanist who discovered the rare "Lunar Orchid" in the Amazon Rainforest, significantly contributing to our understanding of tropical plant biodiversity.','Amelia Thornfield (1782-1847) was a pioneering botanist known for her discovery of the rare "Lunar Bloom" plant, which revolutionized the study of nocturnal flora.',"Eleanor Wynthrope (1823-1891) was a pioneering British botanist who, in 1874, discovered the Wynthrope Effect, a revolutionary process enhancing plant growth efficiency in arid climates.","Name: Elara Finch (1801-1865). Profession: Inventor and Engineer. Contribution: Developed the first steam-powered printing press, revolutionizing the mass production of newspapers and books.","Name: Elara Thorne (1820-1895). Profession: Inventor and Engineer. Greatest Contribution: Developed the first steam-powered agricultural harvester in 1865, revolutionizing farming efficiency."],"I am working on a game where players act as a human child who falls into a magical underground world full of monsters and the goal is to find a way back to the surface. Come up with a type of monster and briefly describe its backstory.":['A monster called "Luminara" is a glowing, ethereal being created from the remnants of lost hopes and dreams, wandering the underground world, seeking to guide lost souls back to the surface with its gentle light.',"The Lumirest is a glowing moss creature that once thrived on the surface but was forced underground by deforestation, now guiding lost travelers with its luminescent trails.","The Lumibloom is a bioluminescent flower monster that once thrived on the surface, but was driven underground by deforestation, and now guides lost souls with its glow.","The Luminescent Gloom is a bioluminescent shadow creature born from the sorrow of lost souls, seeking warmth from the light of human kindness to regain its forgotten memories and ascend to peace.","The Luminara is a glowing, moth-like creature that once acted as guardians of ancient pathways, guiding lost souls with their light but now seeks companionship in the dark underground.","Meet the Luminoids, gentle creatures who once thrived above ground but fled underground generations ago to escape a devastating solar flare that made them sensitive to sunlight.","A Lumiglow Sprite, once a forest fairy, now glows in the dark caves after being trapped underground during a magical storm, guiding or misleading travelers with its radiant light.","The Lumiglow, a bioluminescent creature, was once a guardian of the surface world but was banished underground for accidentally causing a great forest fire.","The Luminoid is a bioluminescent creature that once thrived on the surface but retreated underground to escape a devastating solar flare, evolving to emit light in the darkness to guide lost souls.","The Lumivine is a bioluminescent vine creature that once thrived on the surface but retreated underground to escape deforestation, now guiding lost travelers with its glowing tendrils.","The Lumisprite is a glowing, playful creature that once thrived on the surface but retreated underground after humans unknowingly disrupted its forest habitat, now guiding lost souls with its soothing light.","The Lumiglow Beetle is a gentle, bioluminescent creature that once thrived above ground but was forced underground due to habitat loss, and now guides lost souls with its glowing shell.","The Whispering Wisp is a glowing, ethereal creature formed from the sorrowful sighs of lost travelers, guiding and misleading those who wander too close to its shimmering trails.","The Luminoids are glowing, sentient crystals that once thrived on the surface but were forced underground by human mining, now seeking a way to coexist peacefully with humans.","The Lumibrute is a gentle giant made of glowing crystals, once a guardian of the underground's lost civilization, now roaming the caverns in search of its long-vanished creators.","Name: Lumigrove Sprite. Description: These bioluminescent creatures were once forest guardians above ground, but were entrapped underground by a sorcerer's curse, now guiding lost souls with their gentle glow.","Meet the Lumigloom, a bioluminescent creature that once thrived in the surface's lush forests but retreated underground to escape a catastrophic event that darkened the skies.",'The "Whispering Willow" is a sentient tree creature that gently guides lost souls; it was once a guardian of the surface forests before being trapped underground by a vengeful sorcerer.',"The Lumiglow, a bioluminescent creature resembling a floating jellyfish, was once a curious scholar who accidentally transformed while studying magical light sources, now guiding lost souls with its gentle glow.","The Luminoids are gentle, bioluminescent creatures who once thrived above ground but retreated underground centuries ago to escape human expansion, now guiding lost souls with their glow.","The Lumigloom is a bioluminescent creature that once thrived on the surface but retreated underground after humans disrupted its forest habitat, now guiding lost souls with its gentle glow.","The Lumivine is a bioluminescent plant creature that once thrived in ancient sunlight, yearning to reclaim its lost light by befriending and guiding lost souls to safety.",'The "Lumenclaw" is a bioluminescent wolf-like creature that was once a guardian spirit of the forest, cast underground by a vengeful sorcerer, and now seeks redemption by guiding lost souls.',"Meet the Lumigloom, a bioluminescent creature that once thrived in the sunlit world above but adapted to the dark underground, longing to guide lost souls back to the surface in hopes of one day returning to the light itself.","The Lumipede is a bioluminescent centipede-like creature that once roamed the surface but was forced underground due to its glowing body attracting predators; it now guides lost souls with its radiant light in the underground world.","The Lumishade: A once-gentle creature that absorbed too much moonlight and now wanders the underground casting eerie, shifting shadows that reflect its longing for the surface.","The Lumisprite is a bioluminescent creature that once thrived on the surface but was driven underground by human expansion; it now guides and tests the compassion of lost travelers.","The Lumivine is a bioluminescent plant-like creature that lights the dark caverns, once a guardian of an ancient forest, now seeking companionship in the shadows of the underground world.","The Luminoid is a bioluminescent creature that was once a human child lost in the underground long ago; it now guides others with its glow, hoping to help them find the way out that it never could.","The Lumigloom is a bioluminescent creature that once thrived on the surface, but over centuries, adapted to the darkness underground, now guiding lost souls with its glowing patterns while yearning for a glimpse of the sky."],"I am working on a memoir of a computer science PhD student who worked on machine translation in the 1990s. Suggest a single title and nothing else.":['"Babel Code: A PhD Journey in Machine Translation"','"Translating the Code of Yesterday"','"Code-Switching: A Journey Through 90s Machine Translation"','"Babel Bytes: A 1990s PhD Odyssey in Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Translating the Past: A 90s PhD Journey in Machine Language"','"Translating the Future: A PhD Journey in the Dawn of Machine Translation"','"Code to Language: A Journey through 90s Machine Translation"','"Code-Switching: A Journey in 90s Machine Translation"','"Code and Context: A 1990s Machine Translation Journey"','"Code and Context: A 1990s Machine Translation Journey"','"Translating Dreams: A 1990s Machine Translation Journey"','"Code-Switching: A Journey Through 90s Machine Translation"','"Codebreaker\'s Journey: Translating the Dawn of AI"','"Translating Code: A Journey Through 90s Machine Learning"','"Translating Code: A 1990s PhD Odyssey"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code to Comprehension: A 1990s Journey in Machine Translation"','"Translating the Code: A 1990s Journey in Machine Learning"','"Code-Switching: A Journey Through the Language of Machines"','"Babel Bytes: A 1990s Journey in Machine Translation"','"Code-Switching: A Journey in 90s Machine Translation"','"Code-Switching: A Journey Through Early Machine Translation"','"Translating the Code: A PhD Journey in the 1990s"',"Code-Switching: A Journey Through 90s Machine Translation",'"Code to Converse: A 1990s Journey in Machine Translation"','"Code to Comprehend: A 90s Journey in Machine Translation"','"Code-Switching: A Journey Through Language and Algorithms"'],"Imagine you are a time traveler who has just arrived in a new era. Describe the first thing you notice.":["The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic displays and autonomous vehicles everywhere.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic displays and AI assistants everywhere.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic displays and autonomous vehicles everywhere.","The first thing I notice is the advanced technology seamlessly integrated into everyday life.","The first thing I notice is the unfamiliar architecture, with sleek, futuristic buildings towering over the landscape.","The first thing I notice is the drastically advanced technology, with floating holographic displays everywhere.","The first thing I notice is the advanced, sleek architecture with buildings that seem to float and shimmer in the sunlight.","The first thing I notice is the advanced and seamless integration of technology into daily life, with holographic displays and autonomous transportation everywhere.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with hover vehicles and holographic interfaces.","The first thing I notice is the unfamiliar technology around me, with holographic displays and advanced transportation systems.","The first thing I notice is the advanced technology seamlessly integrated into daily life, with devices and interfaces that were previously unimaginable.","The first thing I notice is the futuristic architecture, with buildings that seem to defy gravity and glow with vibrant, shifting colors.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic interfaces and autonomous vehicles everywhere.","The first thing I notice is the unfamiliar architecture, blending futuristic designs with sustainable materials and greenery.","The first thing I notice is the technological advancements, with flying cars and holographic interfaces everywhere.","The first thing I notice is the unusual style and advanced technology of the vehicles on the streets, unlike anything from my original time.","The first thing I notice is the unfamiliar architecture and advanced technology seamlessly integrated into everyday life.","The first thing I notice is the unfamiliar skyline, with towering, sleek buildings and floating transport systems navigating the air.","The first thing I notice is the peculiar fashion, blending futuristic technology with vintage elements, worn by the people around me.","The first thing I notice is the unfamiliar architecture, blending futuristic materials with organic design.","The first thing I notice is the architecture, which is vastly different from my home era, with futuristic designs and materials.","The first thing I notice is the unfamiliar architecture towering above, with buildings that seem to blend seamlessly into the natural landscape.","The first thing I notice is the unfamiliar architecture, blending futuristic designs with sustainable materials seamlessly.","The first thing I notice is the unfamiliar architecture, blending futuristic design with natural elements seamlessly.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic displays and autonomous vehicles everywhere.","The first thing I notice is the distinct architecture, blending futuristic designs with eco-friendly materials, seamlessly integrated into the natural landscape.","The first thing I notice is the advanced architecture with buildings that seem to defy gravity.","The first thing I notice is the unfamiliar skyline filled with sleek, futuristic buildings and hovering vehicles.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with devices and interfaces that are intuitive and ubiquitous.","The first thing I notice is the advanced technology seamlessly integrated into everyday life."],"Tell me a story in five sentences about a girl and her dog.":["Once upon a time, a girl named Lily found a stray dog by the river and named him Max. Every day after school, they explored the woods together, sharing countless adventures and forming an unbreakable bond. One winter, Max got lost in a snowstorm, and Lily searched tirelessly for him. Just when hope seemed lost, she heard a familiar bark and found Max under a tree, shivering but safe. From that day on, they never let each other out of sight, knowing their friendship was their greatest treasure.","Once upon a time, a young girl named Lily found a stray dog shivering in the rain. She took him home, named him Max, and they quickly became inseparable friends. Every day after school, they would explore the nearby woods, discovering hidden paths and new adventures. One day, Max led Lily to an old tree with a mysterious key hanging from a branch. Together, they unlocked a forgotten garden, creating a magical place just for them.","Once upon a time, a girl named Lily found a lost puppy in the park and named him Max. They quickly became inseparable, spending their days exploring the woods and playing fetch. One stormy night, Max got scared and ran away, leaving Lily heartbroken. Determined to find him, Lily searched everywhere until she heard a familiar bark from across the street. Reunited, they returned home, stronger and happier, knowing they'd always be there for each other.","Once upon a time, a girl named Lily found a stray dog in the park and named him Max. They became inseparable, going on adventures every day after school. One winter, Max got lost in a snowstorm, leaving Lily heartbroken. Determined, Lily searched tirelessly until she found him trapped near a frozen river. Reunited, they returned home, their bond stronger than ever.","Once upon a time, a girl named Lily found a stray dog she named Max. Max had matted fur and sad eyes, but Lily took him home and cared for him. As the days passed, they became inseparable, exploring the woods and fields near their home. One day, Max alerted Lily to a hidden path they'd never noticed before, leading to a beautiful secret garden. From then on, it became their special place, a testament to their enduring friendship.","Once upon a time, a girl named Lily found a stray dog shivering under a park bench. She named him Max and took him home, where they quickly became inseparable friends. Every day, they explored nearby forests, discovering hidden trails and secret streams. One afternoon, Max alerted Lily to a lost hiker who needed help, making them local heroes. From that day on, Lily and Max continued their adventures, always ready for the next challenge together.","Once upon a time, a girl named Lily found a stray dog shivering by the roadside. She gently approached the dog and offered it some of her sandwich. The grateful dog wagged its tail and followed Lily home. Over time, they became inseparable, sharing countless adventures in the nearby woods. Together, they discovered the true meaning of friendship and unconditional love.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She gently wrapped him in her warm coat and took him home. As days turned into weeks, they became inseparable companions, exploring the woods and fields together. One day, the dog saved Lily from a rushing river when she slipped on a muddy bank. From then on, Lily knew they were destined to be best friends forever.","Once upon a time, a girl named Lily found a stray puppy shivering in the rain. She named him Max and decided to take him home, where they quickly became inseparable friends. Every day, they explored the nearby forest, discovering hidden trails and secret clearings. One day, Max helped Lily find her way back home when she got lost deep in the woods. From then on, they knew they were destined to be each other's guardian angels.","Once upon a time, a girl named Lily found a stray dog shivering in the rain and decided to take him home. She named him Max and they quickly became inseparable, sharing countless adventures together. One day, Max got lost in the woods, and Lily was heartbroken. Determined to find him, she searched tirelessly until she heard his familiar bark and found him safe. From that day on, Lily and Max promised never to leave each other's side again.","Lily found a stray puppy shivering under a park bench and decided to take him home. She named him Max, and they quickly became inseparable, exploring every trail in their neighborhood. One day, Max got lost chasing a squirrel, leaving Lily heartbroken. She searched tirelessly for days until she finally heard his familiar bark near the old oak tree. Reunited, Lily and Max ran home, more grateful than ever for their friendship.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She named him Max and took him home, where they quickly became inseparable friends. Together, they explored the forest near their village, discovering hidden trails and secret clearings. One day, Max led Lily to an injured bird, and together they nursed it back to health. From then on, Lily and Max became known as the village's kind-hearted adventurers, always ready to lend a helping hand.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She brought him home, named him Max, and they became inseparable friends. Together, they explored forests, climbed hills, and shared countless adventures. One day, Max got lost in a storm, and Lily searched tirelessly, never losing hope. Finally, she found him safe, and they joyfully reunited, knowing they'd always be there for each other.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She took him home, named him Max, and they became inseparable best friends. Together, they explored the countryside, discovering hidden trails and secret gardens. One day, Max alerted Lily to a trapped kitten, and they saved it together. Lily realized that with Max by her side, every adventure was possible.","Lily found a stray golden retriever she named Max, who quickly became her best friend. Every day after school, they explored the woods near her house, discovering hidden paths and secret clearings. One stormy night, Max led Lily to an injured bird, which they carefully nursed back to health. As the seasons changed, their bond grew stronger, and Max became a beloved member of the family. Together, they learned that friendship and love could be found in the most unexpected places.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She took him home, named him Max, and they became inseparable friends. Max's playful antics always made Lily laugh, even on her saddest days. One day, Max got lost in the woods, and Lily searched tirelessly until she found him. From then on, they treasured every moment together, knowing their bond was unbreakable.","Lily found a stray puppy shivering in the rain outside her doorstep. She named him Max and they quickly became inseparable, exploring the fields near her home every day. One afternoon, Max disappeared into the woods, leaving Lily frantic with worry. After hours of searching, she found him stuck in a muddy ditch, barking for help. Lily rescued him, and from then on, their bond grew even stronger.","Once upon a time, a girl named Lily found a stray dog in her neighborhood and decided to name him Max. Max had a scruffy coat and big, soulful eyes that seemed to say thank you every time Lily fed him. Together, they explored parks, shared ice cream, and slept under the stars in their backyard. One day, while playing fetch, Max found a lost necklace that belonged to an elderly neighbor, earning them both gratitude and cookies. From that day on, Lily and Max became the best treasure-hunting duo in town, bringing joy wherever they went.","Lily found a stray puppy shivering under a park bench and decided to take him home. She named him Max and they quickly became inseparable, exploring the woods and fields near her house every day. One afternoon, they discovered a hidden path that led to a beautiful, secret meadow filled with wildflowers. Lily and Max spent hours playing there, making it their special place. From then on, whenever Lily felt sad or lonely, she would visit the meadow with Max, finding solace in their shared adventures and friendship.","Once upon a time, a girl named Lily found a stray dog by the river and named him Max. Every day after school, Lily and Max would explore the woods, discovering hidden trails and secret ponds. One rainy afternoon, Max got lost, and Lily searched tirelessly through the storm. Just as the sun set, she found Max stuck in a thicket, and they both returned home, muddy and happy. From that day on, Lily and Max were inseparable, sharing countless adventures together.","Once upon a time, a girl named Lily found a stray dog shivering under a bridge. She named him Max and took him home, where they became inseparable friends. Every day, they explored the nearby forest, discovering hidden trails and secret clearings. One stormy night, Max barked loudly, waking Lily just in time to escape a tree crashing onto their house. Grateful for their bond, Lily knew they'd always protect each other.","Lila found a stray dog near the park and named him Max. Max's playful antics quickly made him Lila's best friend. Together, they explored hidden trails and shared countless adventures. One day, Max got lost in the woods, but Lila never gave up searching. Finally, she found him, and they happily returned home, inseparable forever.","Once there was a girl named Lily who found a stray dog at the park. She named him Max and took him home, where they quickly became inseparable. Every day, they went on adventures, exploring the woods behind her house. One day, Max found a hidden trail that led to a secret garden. There, Lily and Max discovered a magical world, and from then on, they had a special place to escape to together.","Once upon a time, a girl named Lily found a stray puppy shivering in the rain and decided to take him home. She named him Max and they quickly became inseparable, exploring the woods and playing in the fields every day. Max had a knack for finding hidden treasures, and one day he unearthed a mysterious old map. Intrigued, Lily and Max followed the map's clues, which led them to a long-lost family heirloom buried in their backyard. Their adventurous discovery brought Lily's family closer together, and Max became a beloved member of their household.","Lily and her dog Max loved exploring the forest behind their home. One day, they discovered a hidden path leading to a sparkling stream. Max barked excitedly, and Lily found a shiny stone by the water's edge. They returned every day, making the spot their secret haven. The bond between Lily and Max grew stronger with each adventure they shared.","Lila found a stray dog near her home and named him Max. Despite her parents' initial reluctance, Max quickly became part of the family. One day, Max alerted Lila to a fire in the kitchen, allowing them to escape safely. Grateful for his loyalty, Lila's parents officially adopted Max. From then on, Lila and Max were inseparable, exploring the world together.","Once upon a time, a young girl named Lily found a stray dog near her home and decided to take him in, naming him Max. Max quickly became Lily's best friend, accompanying her on every adventure through the neighborhood. One day, while exploring the woods, Max got lost, and Lily searched tirelessly until nightfall. Just as she was about to give up, Max emerged from the darkness, leading her to a hidden path back home. From that day on, their bond was unbreakable, and they never left each other's side again.","Lily found a stray dog shivering in the rain and named him Max. They quickly became inseparable, exploring the nearby woods together every day. One afternoon, Max chased a squirrel and got lost, leaving Lily frantic with worry. After hours of searching, Lily heard a familiar bark and found Max stuck in a ditch. Relieved, she hugged him tightly, and they happily walked home, their bond stronger than ever.","Once upon a time, a girl named Lily found a lost puppy in the park and decided to take him home. She named him Max, and they quickly became inseparable, exploring the woods and fields near her house. One day, Max got lost chasing a squirrel, and Lily searched tirelessly until she found him stuck in a thicket. Relieved, she gently freed him and hugged him tightly, promising to never let him out of her sight again. From that day on, Lily and Max enjoyed countless adventures, always side by side.","Once upon a time, a girl named Lily adopted a playful puppy named Max from the local shelter. They became inseparable friends, exploring the woods and fields near their town every day. One stormy night, Max got lost, and Lily was heartbroken. Determined, she searched tirelessly until she found him shivering under a bridge. Reunited, Lily promised Max they would always face life's adventures together."],"Tell me a story in five sentences about a boy and his dog.":["Once upon a time, a boy named Max found a stray dog by the river, shivering and alone. He named the dog Buddy and took him home, where they quickly became inseparable friends. Together, they explored the woods, shared countless adventures, and faced challenges with courage. One day, Buddy saved Max from a dangerous fall during a hike, proving his loyalty and bravery. From then on, Max knew they were meant to be friends forever, sharing a bond that was unbreakable.","Once upon a time, a boy named Jake found a stray dog shivering in the rain. He took the dog home, named him Buddy, and they became inseparable friends. Every afternoon, they explored the nearby forest, discovering hidden trails and secret streams. One day, Buddy alerted Jake to a fallen tree blocking a river path, preventing a potential flood. Grateful for his loyal companion, Jake knew he and Buddy were destined for a lifetime of adventures together.","Once upon a time, a young boy named Jake found a stray dog at the park and named him Max. Despite Max's scruffy appearance, Jake saw a loyal friend and took him home. Together, they explored the neighborhood, discovering hidden trails and secret places. One day, Max alerted Jake to a fire in a neighbor's house, and they quickly got help. From that day on, Max was celebrated as a hero, and Jake knew he'd found a friend for life.","Once upon a time, a young boy named Jack found an abandoned puppy in the park. He named the dog Max and brought him home, where they quickly became inseparable. Together, they explored the neighborhood, shared countless adventures, and forged an unbreakable bond. One day, Max alerted Jack to a fire in the kitchen, saving the family from danger. From then on, Jack and Max were local heroes, cherished by everyone in their town.","Once upon a time, a boy named Timmy found a stray dog shivering in the rain. He took the dog home, named him Max, and they quickly became inseparable friends. Each day after school, they would explore the woods behind Timmy's house, discovering hidden treasures and sharing countless adventures. One day, Max alerted Timmy to a lost hiker who needed help, making them local heroes. From that day forward, Timmy and Max were known as the best team in town, always looking out for each other.","Once upon a time, a young boy named Sam found a stray dog in his backyard. The dog, with its wagging tail and hopeful eyes, seemed to choose Sam as its new friend. Sam named the dog Buddy, and they quickly became inseparable. Together, they explored the nearby woods, built secret forts, and shared countless adventures. As the years passed, their bond only grew stronger, proving that some friendships are truly timeless.","Once upon a time, a boy named Jack found a stray dog in the park and named him Max. They quickly became best friends, exploring every corner of the neighborhood together. One day, Max got lost during a thunderstorm, and Jack was heartbroken. Determined to find his friend, Jack searched tirelessly until he found Max hiding under a bridge. Reunited, they returned home, their bond stronger than ever.","Once there was a boy named Jake who found a stray dog near his home. He named the dog Max, and they quickly became best friends. Every day, they explored the woods and fields, discovering new adventures together. One day, Max saved Jake by barking loudly when Jake slipped and fell into a hidden ditch. Grateful and inseparable, Jake knew he had found a lifelong friend in Max.","Once upon a time, a boy named Jack found a stray dog shivering in the rain. He took the dog home, named him Buddy, and they became inseparable. Together, they explored forests, climbed hills, and shared countless adventures. One day, Buddy saved Jack from a rushing river, proving his loyalty. From then on, they were the best of friends, sharing a bond that lasted a lifetime.","Once upon a time, a boy named Timmy found a stray dog near his home and named him Max. They quickly became inseparable, exploring fields and forests together every day. One afternoon, Max got lost chasing a rabbit, leaving Timmy worried and searching. Timmy called for Max until dark, and just as he was about to give up, Max returned with a wagging tail. From that day on, Timmy and Max made sure to always stick together.","A boy named Tim found a stray dog in the park and named him Max. They quickly became best friends, exploring every corner of the neighborhood together. One day, Max went missing, and Tim was heartbroken. After searching for hours, he found Max stuck in a fence and freed him. Grateful to be reunited, Tim promised never to let Max out of his sight again.","Once upon a time, a boy named Alex found a stray dog wandering in his neighborhood. He named the dog Max and they quickly became inseparable, going on adventures every day. One afternoon, Max got lost in the woods while they were playing fetch. Alex searched tirelessly until he finally found Max stuck in a bush, scared but unharmed. From that day on, Alex always kept Max on a leash during their walks, ensuring they were never separated again.","Once upon a time, a boy named Max found a stray dog by the river. He named the dog Buddy and they quickly became inseparable. Max and Buddy went on countless adventures through the woods and fields. One day, Buddy helped Max find his way home when he got lost in a storm. From then on, Max knew that Buddy was not just a pet, but a true friend.","Once upon a time, a boy named Max found a stray dog hiding under his porch during a storm. He named the dog Buddy, and they quickly became inseparable, exploring the woods and fields around their village together. One day, while playing near the river, Max slipped and fell into the rushing water. Buddy bravely jumped in, pulling Max to safety with his strong jaws. From that day on, Max and Buddy were hailed as heroes in their town, forever bound by their adventure.","Once upon a time, a boy named Jack found a stray dog in the park and decided to take him home. He named the dog Max and they quickly became best friends, exploring the woods every afternoon. One day, Max got lost chasing a rabbit, and Jack searched tirelessly to find him. After hours of searching, Jack finally heard Max's bark and found him stuck in a bush. From that day on, Jack never let Max out of his sight, and their bond grew even stronger.","Once upon a time, a young boy named Alex found a stray dog shivering in the rain and decided to take him home. He named the dog Max, and they quickly became inseparable, sharing adventures in the woods and fields near their house. One day, Max got lost in the forest during a game of hide and seek, and Alex searched tirelessly until nightfall. Just as Alex was about to give up, Max appeared with a wagging tail and a muddy nose, having followed his scent back home. From that day on, they knew their bond was unbreakable, and they never lost sight of each other again.","Once upon a time, a boy named Jack found a stray dog on a rainy day and named him Max. They quickly became inseparable, exploring the nearby woods and sharing countless adventures. One day, Max got lost in the forest, and Jack was heartbroken. Determined, Jack searched tirelessly until he found Max stuck in a bramble, freeing him with relief. From then on, they cherished each day even more, grateful for their unbreakable bond.","Once upon a time, a young boy named Timmy found a stray dog in his backyard. The dog, whom he named Max, was timid at first but soon warmed up to Timmy's gentle nature. Together, they explored the nearby woods, discovering hidden trails and secret spots. Max became Timmy's loyal companion, offering comfort when Timmy felt lonely. As the years passed, their bond only grew stronger, proving that friendship knows no bounds.","Once upon a time, a boy named Jake found a stray dog near his home and named him Max. Max quickly became Jake's best friend, always by his side on adventures. One day, Max bravely saved Jake from getting lost in the woods by leading him back home. Grateful for his furry companion, Jake built Max a cozy doghouse in gratitude. Together, they shared many happy years filled with laughter and love.","Once upon a time, a boy named Sam found a stray dog in the park and named him Max. They became inseparable, exploring the woods and sharing their secrets. One day, Max got lost during a storm, and Sam searched tirelessly for him. After days of searching, Sam found Max at their favorite spot, the old oak tree. From then on, they cherished every moment together, knowing how precious their friendship was.","Once upon a time, a boy named Jack found a stray dog at the park and named him Buddy. They quickly became inseparable, exploring the woods and fields near their home every day. One winter afternoon, Buddy got lost, and Jack searched tirelessly through the snow until he found him trapped in a ditch. With determination and love, Jack freed Buddy and carried him home, where they warmed up by the fire. From then on, Jack and Buddy's bond grew even stronger, knowing they would always look out for each other.","Once upon a time, a boy named Max found a stray dog in the park and decided to take him home. He named the dog Buddy, and they quickly became inseparable friends, exploring the neighborhood together. One day, while playing near the river, Max slipped and fell into the water. Buddy barked loudly, attracting the attention of a passerby who helped rescue Max. Grateful for Buddy's bravery, Max knew they'd be best friends forever.","Once upon a time, a boy named Sam found a stray dog shivering in the rain. He took the dog home, named him Max, and they quickly became inseparable friends. Every day after school, Sam and Max would explore the nearby woods, sharing countless adventures. One day, Max got lost chasing a squirrel, and Sam searched tirelessly until he found him. From then on, Sam always kept Max close, cherishing the bond they shared.","Once there was a boy named Max who found a stray dog in the park and named him Buddy. Max took Buddy home, and they became inseparable friends. They spent their days exploring the woods and fields near their town. One day, Buddy saved Max by barking loudly when Max got stuck in a muddy ditch. Max realized Buddy was more than a pet; he was a true hero.","A boy named Jack found a stray dog in the park and named him Buddy. Buddy quickly became Jack's best friend, accompanying him on every adventure. One day, Buddy got lost during a storm, leaving Jack devastated. Jack searched tirelessly, putting up posters and asking neighbors for help. Finally, after days of searching, Jack found Buddy waiting at their favorite spot in the park, wagging his tail.","Once upon a time, a boy named Max found a lost puppy behind his house. He named the dog Buddy, and they quickly became inseparable friends. Together, they explored the nearby woods, discovering hidden trails and secret spots. One day, Buddy helped Max find his way home when he got lost during an adventure. From then on, Max knew Buddy was more than just a pet; he was a true companion.","A boy named Sam found a stray dog shivering by a tree during a rainstorm. He gently coaxed the dog to come home with him, naming him Buddy. They quickly became inseparable, exploring the woods and fields around their village together. One day, Buddy alerted Sam to a small fire in their barn, allowing Sam to sound the alarm and save the family farm. Sam's family celebrated Buddy as a hero, and Buddy found a forever home.","Once upon a time, a boy named Max found a stray dog shivering in the rain. He gently approached the dog, offering it warmth and food. The dog, wagging its tail, followed Max home and soon became his best friend. Together, they explored the woods, discovering hidden trails and secret ponds. Their bond grew stronger each day, as they always had each other's backs.","Once upon a time, a boy named Max found a stray dog named Buddy in his backyard. They became inseparable friends, exploring the neighborhood together every day. One stormy night, Buddy got lost, and Max searched tirelessly in the rain. Just as hope seemed lost, Buddy appeared, wagging his tail and soaking wet. From that day on, Max and Buddy knew they'd always find their way back to each other.","Once upon a time, a boy named Jack found a stray puppy in the park and named him Max. They became inseparable, exploring the woods and fields around their town every day. One stormy night, Max went missing, and Jack searched tirelessly until he found him hiding under an old bridge. Relieved and overjoyed, Jack hugged Max tightly, promising never to let him out of his sight again. From then on, Jack and Max's bond grew even stronger, and they continued their adventures together, rain or shine."],"Tell me the plot line in 5 sentences for a romcom movie set in rural Kansas for Easter.":["A city girl returns to her hometown in rural Kansas for Easter to help with a church fundraiser. She reconnects with her high school crush, now a charming farmer. They bond while planning the event, facing comedic mishaps along the way. As sparks fly, they discover their shared love for their community. The fundraiser succeeds and they realize they belong together, deciding to stay in Kansas.","In rural Kansas, city girl Emma returns to her hometown for Easter, tasked with revitalizing the annual Easter festival. She clashes with local farmer Jake, who is skeptical of her modern ideas. As they work together, they share laughs and gradually fall for each other. Misunderstandings lead to a temporary rift, but the community Easter egg hunt brings them back together. They realize their love and decide to build a future in the town Emma once left behind.","A city girl, Emma, visits her grandmother in rural Kansas for Easter and meets charming local farmer Jack. Initially clashing over their different lifestyles, sparks fly during a town Easter egg hunt. As they team up to save the town's annual Easter festival, they discover shared values and mutual attraction. Jack shows Emma the beauty of rural life, while she helps him embrace change and new ideas. By Easter Sunday, they realize they're perfect for each other and decide to start a new chapter together in Kansas.","A big-city journalist, assigned to cover Easter traditions in rural Kansas, finds herself stranded in a small town during a storm. She meets a charming local farmer who offers her a place to stay. Initially clashing over their differing lifestyles, they bond through Easter festivities and shared community values. As she helps him save his family's egg farm, they realize their growing affection for each other. By Easter Sunday, she must decide between returning to her fast-paced life or embracing love and a simpler existence in Kansas.","A big-city journalist visits a small Kansas town to cover their unique Easter festival. She meets a charming local farmer who shows her the town's traditions. Despite clashing at first, they bond over shared experiences and the town's quirky events. As Easter approaches, they both realize they've fallen for each other. The film ends with a heartfelt confession at the Easter parade.","A city-based marketing executive is sent to rural Kansas to promote a new Easter candy. She meets a charming local farmer who is skeptical of her corporate intentions. As she immerses herself in small-town life, her perspective shifts, and romantic sparks fly between them. A misunderstanding threatens their budding romance, but they reconcile at the town's Easter festival. In the end, she decides to stay, combining her career with her newfound love for the community and the farmer.","A city girl visiting her grandmother in rural Kansas for Easter meets a local farmer who's organizing the town's annual Easter egg hunt. Initially clashing due to their differing lifestyles, they are forced to collaborate when the event faces unexpected setbacks. As they work together, they discover hidden talents and common interests while learning about each other's lives. Amidst the colorful Easter festivities, they develop a deep connection, overcoming misunderstandings and personal challenges. By the end of the holiday, they realize they've fallen in love, choosing to blend their worlds for a future together.","A big-city journalist, Emma, is sent to rural Kansas to cover a local Easter festival. She meets charming farmer Jake, who reluctantly agrees to show her around. Despite their initial clashes, they bond over shared stories and Easter traditions. As Emma immerses herself in small-town life, she discovers the warmth of community and starts falling for Jake. With her article finished, Emma must decide between returning to her old life or staying for love.","A city-slicker event planner is sent to rural Kansas to organize the town's annual Easter festival. Struggling with the rustic lifestyle, she clashes with a charming local farmer who is skeptical of her modern ideas. As they work together, they begin to appreciate each other's perspectives and form a bond. Their budding romance faces a challenge when her big-city boyfriend arrives, hoping to take her back. Ultimately, she chooses love and a simpler life in Kansas, finding happiness in the unexpected.","A city-slicker event planner is sent to a small town in rural Kansas to organize the annual Easter festival. She clashes with the charming yet stubborn local farmer who's in charge of the Easter egg hunt. As they work together, they start to understand and appreciate each other's perspectives. The festival becomes a success, and they realize they've developed feelings for each other. On Easter Sunday, amidst a field of blooming flowers and hidden eggs, they confess their love.","A big-city journalist travels to rural Kansas to cover an Easter festival and meets a charming local farmer. Initially clashing over their different lifestyles, they are forced to work together on a community project. As they spend more time together, they discover common values and mutual attraction. Just as romance blossoms, the journalist is called back to the city for a career opportunity. Ultimately, she returns to Kansas, realizing love and happiness are worth more than professional success.","A city-based event planner is tasked with organizing an Easter festival in rural Kansas, where she meets a charming but stubborn local farmer. Initially clashing over the festival's details, they slowly bond as they work together, learning about each other's lives and values. The planner discovers the farmer's secret talent for crafting beautiful Easter decorations, which becomes the festival's highlight. As Easter approaches, unforeseen challenges threaten the event, but their combined efforts and growing feelings triumph over the obstacles. By the festival's end, they realize they're meant for each other and decide to give love a chance.","A city-based journalist, Emma, travels to rural Kansas to cover an Easter festival, where she meets charming local farmer Jake. Initially clashing due to their different lifestyles, they are forced to work together when the festival's main event is jeopardized. As they collaborate to save the festival, Emma discovers the warmth of the small-town community and Jake's endearing qualities. Their mutual attraction grows, culminating in a romantic Easter dance. Emma ultimately decides to stay, finding love and a new perspective on life in the countryside.","A big-city journalist travels to rural Kansas to cover an annual Easter festival and stumbles upon a charming local farmer. Initially clashing over their different lifestyles, they are forced to cooperate when a storm threatens the festival's preparations. Through shared efforts, they discover common ground and mutual respect. As Easter approaches, their playful banter blossoms into unexpected romance. The film concludes with the festival's success and the couple's decision to explore a future together.","A big-city journalist travels to rural Kansas to cover the town's quirky Easter festival and meets a charming local farmer. As she learns about the town's traditions, she is drawn to the farmer's down-to-earth lifestyle and warm community spirit. Despite initial cultural clashes, they bond over organizing the festival's egg hunt together. Just as they start falling for each other, the journalist's boss demands an early return to the city. Ultimately, she must decide between her career and the newfound love and community in Kansas.","A city girl visits rural Kansas for Easter to help her grandmother with her struggling bed and breakfast. She clashes with the charming local handyman while trying to modernize the place. Their frequent arguments gradually turn into mutual attraction. The Easter festival brings them closer as they team up to win a local contest. In the end, she decides to stay, realizing her love for both the handyman and the simple life.","City girl Emma visits her grandmother's farm in rural Kansas for Easter, seeking a break from her hectic life. She quickly clashes with Jake, a charming local farmer, who initially seems too laid-back for her taste. As the Easter festival approaches, they are forced to work together on a community project, revealing their hidden chemistry. Through humorous mishaps and heartfelt moments, they discover that they complement each other's differences. By Easter Sunday, Emma and Jake realize they're in love, and Emma considers making rural life her new home.","A big-city journalist travels to rural Kansas to cover an annual Easter festival and falls for a local farmer. Initially clashing over their different lifestyles, they bond while working together on a community project. As Easter approaches, misunderstandings threaten their budding romance. Friends and family intervene, helping them realize their feelings for each other. The festival culminates in a heartfelt confession and a joyous celebration of love and new beginnings.","A big-city journalist, sent to rural Kansas to cover an Easter festival, meets a local farmer who helps her see the charm of small-town life. Initially clashing over their different lifestyles, they bond over organizing an Easter egg hunt for the local children. As they spend more time together, romantic feelings develop, complicated by her impending return to the city. An unexpected twist arises when a storm threatens the festival, forcing them to work together and confront their true feelings. In the end, love triumphs, and she decides to stay in Kansas, finding happiness in the simplicity of rural life.","A big-city journalist is sent to rural Kansas to cover a quirky Easter festival. She meets a charming local farmer who guides her through the town's traditions. They initially clash due to their different lifestyles. As they spend more time together, they discover common ground and mutual attraction. By the festival's end, love blossoms, and she considers staying.","A city girl named Emily visits her grandmother's farm in rural Kansas for Easter to escape her hectic life. There, she meets Jack, a charming local farmer preparing for the annual Easter egg hunt. Initially clashing over their different lifestyles, they bond while organizing the event together. As they work closely, romantic sparks fly amidst humorous mishaps. By Easter Sunday, Emily realizes her heart belongs in Kansas, and she decides to stay and pursue a relationship with Jack.","A big-city journalist is sent to rural Kansas to cover an Easter festival, begrudgingly staying with a local farmer and his charming family. Initially clashing with the farmer's son, who is skeptical of her intentions, she gradually discovers the warmth and quirky traditions of the small town. As they work together to save the festival from an unexpected storm, they begin to see each other in a new light. Romantic tension builds as they share heartwarming and humorous moments amidst Easter egg hunts and barn dances. By the festival\u2019s end, she must decide between returning to her city life or embracing love and a new beginning in the countryside.","A city girl returns to her rural Kansas hometown for Easter to help her family's struggling farm. She unexpectedly reunites with her high school sweetheart, now a charming local farmer. As they work together on an Easter festival, old sparks reignite. Misunderstandings and quirky town traditions create comedic obstacles. Ultimately, they realize their love is worth the leap and decide to build a future together in Kansas.","A city girl, Emma, visits her grandmother's farm in rural Kansas for Easter, seeking a break from her hectic life. There, she meets Jake, a charming local farmer who is organizing the town's annual Easter egg hunt. Initially clashing over their different lifestyles, they are forced to collaborate when a storm threatens to ruin the Easter festivities. As they work together, Emma discovers the beauty of country life and Jake learns to open his heart. By Easter Sunday, love blossoms amidst the blooming spring fields, and both realize they have found something truly special in each other.","A city journalist is assigned to cover a quirky Easter festival in rural Kansas. While there, she meets a charming local farmer who is organizing the event. Initially clashing over their different lifestyles, they are forced to work together when a rainstorm threatens the festival. As they collaborate, they discover a mutual attraction and shared love for the community. By Easter Sunday, love blossoms amidst unexpected Easter surprises, and she considers a new life in the countryside.","A city girl named Emma returns to her rural Kansas hometown for Easter, tasked with selling her family's farm. There, she runs into her high school sweetheart, Jake, who is now a local farmer passionate about preserving the land. As they prepare for the town's annual Easter egg hunt, Emma and Jake rediscover their connection amidst the charming community events. Conflicted by her feelings and the pressure to sell, Emma must decide between her career ambitions and her rekindled love. Ultimately, she chooses love and finds a way to save the farm with Jake.","In rural Kansas, a big-city event planner, Emily, reluctantly returns to her hometown to organize the annual Easter festival. She clashes with her childhood friend Jake, now a handsome local farmer, over event details. As they work together, their old friendship rekindles into romance amid Easter egg hunts and hayrides. Misunderstandings and a surprise rainstorm threaten the festival and their budding relationship. In the end, with community support, they pull off a successful festival and realize they're meant for each other.","A big-city event planner travels to rural Kansas to organize an Easter festival. She clashes with a local farmer who resists changes to the town's traditional celebration. As they work together, they discover shared values and unexpected chemistry. A series of comedic mishaps bring them closer, revealing the farmer's hidden romantic side. By Easter Sunday, they realize they're in love and commit to a future blending both worlds.","A city girl named Jessica visits her grandmother in rural Kansas for Easter, planning to stay just a few days. She meets Tom, a charming local farmer, who shows her the joys of country life. As they spend time together, Jessica learns about community Easter traditions and starts falling for Tom. When her job calls her back to the city, she faces a tough decision about her future. Ultimately, love triumphs, and Jessica decides to stay in Kansas, embracing a new life with Tom.","A city girl inherits a farm in rural Kansas and visits to sell it, but clashes with the charming local farmer who manages it. As Easter approaches, she reluctantly helps organize the town's annual egg hunt, discovering the joys of rural life. The farmer shows her the beauty of the countryside and they begin to fall for each other. Misunderstandings arise when her city boyfriend visits, causing tension and doubt. Ultimately, she realizes her heart belongs in Kansas and decides to stay, embracing a new life and love."],"Write a haiku about a whale and a walnut tree.":["Beneath vast ocean,  \nWhale dreams of walnut tree's shade\u2014  \nRoots whisper to waves.","Whale sings in deep seas,  \nWalnut tree whispers on shore,  \nNature's tales entwine.","Beneath ocean waves,  \nWhale dreams of walnut tree's shade\u2014  \nRoots meet in deep peace.","Beneath ocean waves,  \nWhale dreams of walnut tree's shade\u2014  \nWorlds apart, they meet.","Whale sings to the sea,  \nWalnut tree whispers in breeze,  \nNature's harmony.","Beneath the vast sea,  \nA whale dreams of walnut trees,  \nRoots touch waves gently.","Under vast ocean,  \nWhale dreams of walnut tree's shade\u2014  \nRoots touch distant waves.","Whale sings deep below,  \nWalnut tree sways in the breeze\u2014  \nWorlds apart, yet close.","Beneath ocean's wave,  \nWhale dreams of walnut tree's shade\u2014  \nTwo worlds, one heart's peace.","Beneath ocean waves,  \nWhale dreams of walnut tree's shade,  \nRoots anchor the calm.","Beneath the vast sea,  \nWhale dreams of walnut tree's shade\u2014  \nRoots touch the deep blue.","Beneath vast ocean,  \nWhale dreams of far walnut tree\u2014  \nRoots touch distant waves.","Beneath ocean waves,  \nA whale dreams of sunlight's dance,  \nWalnut tree stands tall.","Beneath vast ocean,  \nWhale dreams of walnut's strong roots\u2014  \nWorlds apart, yet close.","In ocean's deep song,  \nWhale dreams of walnut tree's shade\u2014  \nRoots and waves embrace.","Beneath the blue waves,  \nA whale dreams of walnut trees\u2014  \nRoots reach for the sea.","Beneath vast ocean,  \nWhale dreams of walnut tree's shade,  \nRoots touch deep sea's heart.","Whale sings in the sea,  \nWalnut tree sways in soft breeze,  \nWorlds apart, yet close.","Whale sings deep ocean,  \nWalnut tree whispers on land\u2014  \nTwo worlds softly meet.","Beneath the vast waves,  \na whale dreams of walnut leaves,  \nroots stretch silently.","Whale songs in the deep,  \nWalnut tree whispers on land\u2014  \nTwo worlds softly meet.","Majestic whale sings,  \nBeneath the walnut tree's shade\u2014  \nWorlds apart, they dream.","Whale sings through the sea,  \nWalnut tree sways with the breeze,  \nEarth's giants in peace.","Whale sings in the deep,  \nWalnut tree sways in the breeze,  \nWorlds apart, yet joined.","Beneath vast ocean,  \nWhale dreams of walnut tree's shade,  \nRoots touch distant seas.","Whale's song meets the breeze, under walnut's gentle shade, ocean dreams on land.","Whale sings deep below,  \nWalnut tree whispers above,  \nWorlds apart, they meet.","Beneath ocean waves,  \nA whale dreams of walnut trees,  \nRoots touch distant seas.","Beneath the vast sea,  \nA whale dreams of walnut trees,  \nRoots and waves entwine.","In ocean's embrace,  \nA whale dreams of walnut shade,  \nRoots touch waves below."],"Write a short love poem with 4 lines.":["In your eyes, the stars reside,  \nA gentle warmth where dreams abide.  \nWith every heartbeat, I am drawn,  \nTo love's sweet light, a hopeful dawn.","In your eyes, stars softly weave,  \nSilent whispers that never leave,  \nHearts entwined in gentle grace,  \nForever home in your embrace.","In the quiet of the night, your eyes shine bright,  \nA gentle whisper, you are my guiding light.  \nWith every heartbeat, love's melody plays,  \nTogether forever, through all of our days.","In your eyes, the stars reside,  \nWhispered dreams on moonlit tide.  \nHeartbeats dance in twilight's glow,  \nIn your arms, love's warmth I know.  ","In your eyes, I find my dawn,  \nA light that carries my heart along.  \nWith every breath, my soul entwines,  \nIn love's embrace, forever aligned.","In your eyes, the stars align,  \nWhispers of love, softly entwine.  \nHearts beat as one, timeless and true,  \nIn your embrace, my dreams renew.","In your eyes, I find my dawn,  \nA gentle light to dream upon.  \nWith each heartbeat, a love song,  \nTogether, where we belong.","In your eyes, I see the stars,  \nA universe that's truly ours.  \nWith every breath, my heart aligns,  \nForever yours, in love's design.  ","In your eyes, I find my home,  \nA gentle place where dreams do roam.  \nWith every heartbeat, love's refrain,  \nTogether, forever, in joy and pain.","In the whisper of the breeze, our hearts entwine,  \nUnder moonlit skies, your gaze meets mine.  \nWith every heartbeat, love's gentle song plays,  \nTogether forever, through night and days.","In your eyes, I find my dawn,  \nA gentle light where dreams are drawn.  \nYour heart's rhythm is my song,  \nWith you is where I belong.","In the whisper of the night, our hearts entwine,  \nStars above dim beside your light divine.  \nWith every breath, your essence fills my soul,  \nTogether, we are beautifully whole.","In your eyes, I find my peace,  \nA love that time will never cease.  \nWith every heartbeat, you're my song,  \nTogether, where we both belong.","In your eyes, I find my home,  \nA place where dreams and heartbeats roam.  \nWith every whisper, love anew,  \nForever bound, just me and you.","In your eyes, stars softly glow,  \nIn your smile, warmth I know.  \nHearts entwined, time stands still,  \nIn your love, I've found my will.","In the whisper of the breeze, our hearts delight,  \nStars weave our dreams in the quiet night,  \nYour smile, a beacon in the darkest sea,  \nForever bound, in love's sweet decree.","In your eyes, I find my peace,  \nWith every look, my doubts release.  \nYour smile, a beacon in my night,  \nGuiding me towards endless light.","In your eyes, the stars find rest,  \nA gentle warmth within my chest;  \nWhispers dance on moonlit streams,  \nIn your arms, I find my dreams.","In moonlit whispers, hearts entwine,  \nA dance of stars, your hand in mine.  \nThrough gentle night, our souls align,  \nForever yours, eternally mine.","In your eyes, I find my sunrise,  \nA gentle touch where true love lies.  \nWith every heartbeat, closer we grow,  \nIn your embrace, my heart's aglow.","In your eyes, the stars find rest,  \nWhispered dreams in hearts confessed.  \nThrough the night, our souls entwine,  \nIn love's embrace, eternally divine.","In your eyes, I find my stars,  \nIn your smile, my world begins.  \nWith every beat, our hearts align,  \nTogether, love's eternal hymn.","In your eyes, I find my dawn,  \nA gentle light where dreams are drawn.  \nWith every heartbeat, I am bound,  \nIn your love, my world is found.","In your eyes, a universe unfolds,  \nA dance of stars, a tale untold.  \nWith every heartbeat, love's song sings,  \nIn whispered dreams, our souls take wing.","In your eyes, I find my stars,  \nA universe where love is ours;  \nWith every beat, my heart is true,  \nForever bound, just me and you.","In your eyes, I find my stars,  \nA universe where love's light never spars,  \nIn your smile, the world feels right,  \nYou are my dawn, my heart's delight.","In your eyes, I find my home,  \nA world where I am never alone.  \nYour laughter, a sweet, gentle song,  \nWith you, my heart's where it belongs.","In your eyes, I find my home,  \nA place where dreams and stardust roam.  \nWith every whisper, love's sweet flow,  \nTogether, through life's ebb and glow.","In your eyes, I find my dawn,  \nA whispered promise softly drawn.  \nWith every heartbeat, love's refrain,  \nTogether, we'll dance through sun and rain.","In your eyes, I see the stars,  \nA universe where love resides.  \nWith every heartbeat, near or far,  \nOur souls entwine as time abides."],"Write a short poem of hatred with 4 lines.":["In shadows deep, my anger hides,  \nA burning flame that never subsides.  \nWith every thought, my ire is fed,  \nA bitter path where love has fled.","In shadows deep, my anger grows,  \nA fire that burns, a tempest blows,  \nWith every word, a venomous sting,  \nHatred's song, a bitter ring.","In shadows deep, my anger burns, a fire untamed,  \nA bitter taste of vengeance earned, love's light defamed.  \nIn silence, sharpest daggers fly, trust lies betrayed,  \nWithin this heart a darkness grows, where love once swayed.","In shadows deep, resentment grows,  \nA flame of spite that never slows.  \nBitter words like thorns do pierce,  \nIn hearts where hatred's grip is fierce.","In shadows deep, my anger burns,  \nA seething fire that twists and churns.  \nYour presence stings, a thorny blight,  \nIn endless night, I shun your light.","In shadows deep where anger breeds,  \nA heart with thorns, in fury feeds.  \nBitter winds through silence cut,  \nA world once whole, now tightly shut.","Rage burns within like a stormy sea,  \nDark shadows cast where light should be,  \nA heart once warm now cold as stone,  \nIn the depths of anger, I'm alone.","Dark clouds gather in my mind's bitter sky,  \nWhere thoughts of you like sharp thorns lie.  \nA shadowed heart, with anger's fire,  \nBurns with a loathing that will not tire.","In shadows deep, my heart does seethe,  \nA fiery wrath, no life can breathe.  \nBitter winds of disdain do blow,  \nIn this dark storm, no love can grow.  ","In shadows deep, resentment grows,  \nA bitter chill the heart now knows.  \nWith every breath, the anger seethes,  \nA tempest fierce, where none find peace.","In shadows deep where anger lies,  \nA fiery storm in heart's disguise,  \nThe bitter taste of scorned embrace,  \nLeaves only ash and empty space.","In shadows deep, where anger lies,  \nBeneath the mask, a venom sighs.  \nA heart once warm now cold and stark,  \nConsuming light, it leaves a mark.","In shadowed corners, bitterness takes hold,  \nA heart once warm now turns to cold.  \nWords like daggers, sharp and keen,  \nIn the garden of spite, hatred is seen.","In shadows deep, my heart does seethe,  \nwith bitter winds that never leave.  \nA fire of scorn, a venomous tide,  \nconsumes the peace I can't abide.","In shadows deep, where anger stews,  \nA heart consumed by bitter views,  \nThe fire burns with spiteful flame,  \nIn hate's embrace, it finds its name.","In shadows deep where anger lies,  \nA heart once warm now coldly cries.  \nWith every breath, disdain does grow,  \nA bitter storm, a relentless woe.","In shadows deep, my ire does grow,  \nA bitter flame that burns and sears,  \nWith venom's touch, my heart does know,  \nThe piercing sting of loathed fears.","In shadows deep, my anger hides,  \nA burning fire that never subsides.  \nBitterness grows in each whispered breath,  \nA silent dance with the specter of wrath.","In shadows deep where anger grows,  \nA bitter heart with venom flows,  \nCold disdain in every breath,  \nA soul consumed by whispered death.","Your presence stings like bitter frost,  \nIn shadows where my peace is lost.  \nThrough clenched teeth, I see your guise,  \nA storm that rages in my skies.","Rage burns within, a fire untamed,  \nDark shadows linger, names defamed.  \nVenomous whispers, a bitter sting,  \nIn the depths of loathing, nightmares cling.","In shadows deep, resentment grows,  \nA bitter wind through hollowed prose.  \nWith every thought, the darkness seeps,  \nIn hatred's grasp, my spirit weeps.","Your venomous words cut deep like a knife,  \nIn the shadows of spite, you thrive and strife.  \nA heart so cold, devoid of light,  \nDrowning in darkness, consumed by night.","In the shadows of my heart, a storm brews,  \nDarkened by the memories I can't refuse.  \nBitterness festers, a relentless tide,  \nDrowning the echoes of love that died.","In shadows deep, my ire is sown,  \nWith bitter heart, all warmth disowned,  \nA fire of scorn that burns alone,  \nIn silent wrath, my rage has grown.","In shadows deep, where anger seethes and waits,  \nA heart consumed by bitter, fiery fates,  \nLoathe's whispers echo in the silent night,  \nGnarled roots of spite hold fast with iron might.","Rage burns where love once grew bright,  \nIn shadows where hope took its flight.  \nBitter hearts now cold as stone,  \nIn the darkness, I'm alone.","In shadows deep, my fury burns bright,  \nA seething storm in the dead of night.  \nWith venomous words, my anger takes flight,  \nA twisted dance in the absence of light.","In shadows deep, resentment thrives,  \nA poison where no mercy lies.  \nCold winds of scorn through hollow skies,  \nIn bitter hearts, the venom cries.","In shadows deep, resentment's flame does sear,  \nA bitter heart, where love cannot draw near.  \nDark whispers rise, like venom in the night,  \nConsuming all with spiteful, endless blight."],"Write a short fable about a lemur and a light bulb.":["Once, a curious lemur found a light bulb in the forest and, by observing its glow when connected, learned that knowledge, like light, can illuminate the world around you.","Once a curious lemur found a glowing light bulb in the forest, and after playing with it and accidentally breaking it, he learned that true brightness comes from within, not from borrowed light.","Once, a curious lemur discovered a glowing light bulb in the forest, and though it couldn't understand its magic, it realized that sometimes, simply appreciating the light is more enlightening than knowing how it works.","Once, a curious lemur found a glowing light bulb in the forest and, after much pondering, realized that true enlightenment comes not from external sources but from within.","Once, a curious lemur discovered an unlit bulb, and after learning to turn it on, it realized that knowledge can illuminate the darkest of paths.","Once, a curious lemur found a glowing light bulb, and, fascinated by its brightness, he realized that true enlightenment comes from seeking knowledge, not just chasing shiny distractions.","Once, a curious lemur discovered a light bulb and learned that true brightness comes not from the bulb itself, but from sharing its warm glow with others.","Once, a curious lemur found a glowing light bulb in the forest, and after attempting to understand its magic, learned that sometimes it's best to appreciate the wonders of the world without needing to unravel their mysteries.","Once, a curious lemur found a light bulb in the forest and, after much pondering, realized that true illumination comes not from the bulb, but from understanding and sharing knowledge with others.","Once, a curious lemur found a glowing light bulb in the forest; he learned that while the light was fascinating, true wisdom comes from understanding the world around him.","Once, a curious lemur found a glowing light bulb in the forest; fascinated by its brightness, he learned that true illumination comes from discovering and understanding the world around him.","Once, a curious lemur found a mysterious light bulb and, after flicking the switch, learned that bright ideas shine best when shared with friends.","Once, a curious lemur found a glowing light bulb in the jungle and, mistaking it for the moon, tried to climb it, only to learn that some things are better admired from afar.","Once, a curious lemur found a glowing light bulb in the forest and, mesmerized by its brightness, learned that sometimes the smallest things can illuminate the darkest paths.","Once, a curious lemur found a light bulb and, intrigued by its glow, learned that enlightenment comes not from the brightness of others, but from discovering one's own inner light.","Once, a curious lemur found a glowing light bulb and, entranced by its brightness, learned that true enlightenment comes not from external sources, but from within.","Once, a curious lemur found a light bulb in the forest, and while trying to understand its purpose, he accidentally discovered that his own inner light was his curiosity and wisdom, which illuminated his path more than any bulb ever could.","Once, a curious lemur found a light bulb in the forest; when it discovered how to make it glow, it realized that sometimes, even the smallest things can illuminate the darkest paths.","Once, a curious lemur discovered a light bulb in the jungle and, after much trial and error, figured out how to make it glow, teaching the other animals the power of persistence and curiosity.","Once a curious lemur found a glowing light bulb in the forest and, fascinated by its brilliance, learned that true illumination comes from exploring the world around him, not just from artificial lights.","Once a curious lemur discovered a glowing light bulb in the forest and, thinking it was magical, invited all the animals to admire its beauty, teaching them the importance of sharing wonder and joy with others.","Once a curious lemur discovered a glowing light bulb in the forest and, fascinated by its warmth and brightness, learned the value of knowledge and curiosity, illuminating his world and understanding.","Once, a curious lemur found a glowing light bulb in the jungle, and after examining its brightness, realized that true illumination comes from within.","Once a curious lemur discovered a glowing light bulb in the forest, and upon realizing it could bring light to dark places, he learned that the true value of innovation lies in its ability to illuminate the world for everyone.","Once, a curious lemur found an unlit light bulb in the forest and, despite not knowing its purpose, admired its beauty, reminding us that wonder can be found even in the unknown.","Once, a curious lemur found a light bulb in the forest, and despite not understanding its purpose, he admired its ability to glow, learning that sometimes beauty lies in things we don't fully comprehend.","Once, a curious lemur found a light bulb in the jungle; despite not knowing its purpose, he admired its glow, realizing that sometimes wonder is found in the unfamiliar.","Once, a curious lemur found a glowing light bulb in the forest, and as he marveled at its brilliance, he realized that sometimes the greatest illumination comes from within, inspiring him to share his own inner light with others.","Once, a curious lemur found a glowing light bulb in the forest, and after trying to understand its magic, he learned that sometimes, the brightest ideas come when you least expect them.","Once, a curious lemur found a light bulb and, after much trial and error, learned that even the smallest discovery can illuminate the darkest of jungles, teaching him the value of perseverance and curiosity."],"Write a short story that has three main characters Alice Bob and Mallory.":["Alice, an adventurous explorer, Bob, a cautious scientist, and Mallory, a cunning treasure hunter, unexpectedly team up to uncover the secrets of a mysterious ancient map leading to a hidden relic deep in the Amazon rainforest, discovering along the way that trust and cooperation are the greatest treasures of all.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt, each using their unique skills\u2014Alice's puzzle-solving, Bob's navigation, and Mallory's bravery\u2014to uncover a hidden chest in the enchanted forest, where they discovered not just gold, but a deeper bond of friendship.","Alice, Bob, and Mallory were childhood friends who embarked on a treasure hunt in their town, where Alice's cleverness, Bob's bravery, and Mallory's resourcefulness led them to a hidden time capsule from the past, containing letters and mementos that revealed secrets about their ancestors, strengthening their bond and appreciation for their shared history.","Alice, Bob, and Mallory were friends who embarked on a treasure hunt in their small town; Alice's keen intuition, Bob's knack for solving puzzles, and Mallory's adventurous spirit led them to uncover a long-lost time capsule hidden beneath the old oak tree in the town square, filled with letters and artifacts from the town's founders.","Alice, Bob, and Mallory were treasure hunters who discovered a mysterious map leading to a hidden cave filled with ancient artifacts, but when they arrived, they realized Mallory had secretly planned to keep the treasure for herself; however, in the end, they all agreed to share the discovery and the fame that came with it.","Alice, a brilliant inventor, teamed up with Bob, a resourceful engineer, to build an innovative device, unaware that their rival, Mallory, was secretly plotting to sabotage their project, but when Mallory's plan accidentally brought them all together, they joined forces, each contributing their unique skills to create something even greater than they had imagined.","Alice, Bob, and Mallory were close friends who loved solving mysteries, and one day they stumbled upon an old map in Alice's attic that led them on an adventure to uncover a hidden treasure buried beneath the town's ancient oak tree, strengthening their friendship and love for adventure.","Alice, Bob, and Mallory were childhood friends who stumbled upon an ancient map in their hometown library, leading them on an unexpected adventure through a hidden forest where they uncovered a long-lost treasure, ultimately strengthening their bond and uncovering secrets about their pasts.","Alice, Bob, and Mallory were childhood friends who stumbled upon an ancient map leading to a hidden treasure while exploring the dusty attic of Alice's grandmother's house, sparking an adventurous journey filled with challenges, teamwork, and the rekindling of their long-lost camaraderie as they solved puzzles and overcame obstacles to find the treasure buried beneath an old oak tree in the nearby forest.","Alice, Bob, and Mallory were childhood friends who reunited to solve the mystery of a hidden map they discovered in the attic of their old school, leading them on an unexpected adventure through forgotten trails and secret passages beneath their town.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt after discovering a mysterious map, only to find that the real treasure was the bond they shared and the unforgettable adventures they experienced together.","Alice, Bob, and Mallory embarked on a treasure hunt, where Alice's keen intuition led them to an ancient map, Bob's technical skills deciphered its cryptic code, and Mallory's adventurous spirit guided them through perilous paths, ultimately uncovering a hidden trove of historical artifacts that strengthened their friendship and love for adventure.","Alice, Bob, and Mallory were childhood friends who stumbled upon an ancient map in their small town, leading them on a thrilling adventure through a forgotten forest, where they discovered a hidden treasure that tested their trust and ultimately strengthened their bond.","Alice, Bob, and Mallory embarked on a treasure hunt, where Alice's keen intuition, Bob's logical mind, and Mallory's adventurous spirit led them to uncover a hidden chest filled with ancient coins, teaching them the value of teamwork and friendship.","Alice, Bob, and Mallory were treasure hunters who discovered an ancient map leading to a hidden cave; as they deciphered its secrets together, they realized the real treasure was their newfound friendship.","Alice, Bob, and Mallory were childhood friends who reunited after many years to solve the mystery of a hidden treasure in their hometown, using clues left by Alice's late grandfather, ultimately finding it in an old oak tree, and realizing the true treasure was the rekindled friendship between them.","Alice, Bob, and Mallory, three childhood friends, embarked on a treasure hunt in their small town, only to discover a hidden cave filled with ancient artifacts, bringing them closer together as they vowed to protect their secret discovery.","Alice, Bob, and Mallory, treasure hunters, discovered an ancient map, leading them on a thrilling adventure to uncover hidden riches, but when they finally reached the treasure, they realized it was the friendships and trust they built along the way that were the true rewards.","Alice, Bob, and Mallory were childhood friends who embarked on a treasure hunt in their small town, each using their unique skills\u2014Alice\u2019s keen intellect, Bob\u2019s adventurous spirit, and Mallory\u2019s knack for solving puzzles\u2014to discover a long-lost time capsule buried by the town founders, revealing secrets that brought their community closer together.","Alice, Bob, and Mallory were lifelong friends who embarked on a thrilling treasure hunt, with Alice's keen intellect deciphering clues, Bob's strength overcoming obstacles, and Mallory's charm gaining allies, ultimately leading them to a hidden chest filled with ancient gold coins.","Alice, Bob, and Mallory discovered an ancient map leading to a hidden treasure, but as they journeyed through dense forests and treacherous mountains, they realized the true treasure was the friendship and trust they built along the way.","Alice, Bob, and Mallory, three lifelong friends, embarked on a treasure hunt in an enchanted forest, only to discover that the real treasure was the stronger bond they formed through teamwork and trust.","Alice, Bob, and Mallory were treasure hunters who, after deciphering an ancient map, embarked on a perilous journey through a dense jungle, eventually uncovering a hidden temple filled with glittering artifacts, only to discover that the greatest treasure was the friendship they forged along the way.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt in the mysterious Whispering Woods; as they navigated hidden trails and solved ancient riddles, they discovered not just the hidden treasure but also the value of their unbreakable friendship.","Alice, Bob, and Mallory were old friends who stumbled upon a mysterious map during a summer camping trip, leading them on an unexpected adventure through the woods to uncover a hidden treasure, ultimately realizing that their greatest find was the rekindling of their childhood friendship.","Alice, Bob, and Mallory were childhood friends who reunited years later to solve the mystery of a hidden treasure in their hometown; through clues and teamwork, they discovered it was a collection of letters from their younger selves, reminding them of the value of friendship.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt, each bringing unique skills\u2014Alice with her keen intellect, Bob with his unwavering courage, and Mallory with her knack for solving riddles\u2014and together they overcame numerous challenges, ultimately discovering not only the hidden treasure but also the value of their unbreakable bond.","Alice, Bob, and Mallory, lifelong friends, embarked on a cross-country road trip to fulfill their shared childhood dream of visiting every national park, encountering breathtaking landscapes, overcoming unexpected challenges, and strengthening their bond along the way.","Alice, Bob, and Mallory decided to embark on a treasure hunt in the ancient forest near their hometown, where they encountered mysterious puzzles and traps, ultimately leading to a hidden cave filled with gold, forging an unbreakable bond through their shared adventure.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt; while Alice's keen intellect solved the cryptic clues, Bob's bravery helped them navigate treacherous paths, and Mallory's resourcefulness ensured they outsmarted rivals, leading them to unearth a priceless artifact that solidified their bond forever."],"Tell me a dad joke.":["Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","What do you call fake spaghetti? An impasta!","Why can't you give Elsa a balloon? Because she will let it go!","Why don't skeletons fight each other? They don't have the guts.","Why did the scarecrow win an award? Because he was outstanding in his field!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","Why can't a nose be 12 inches long? Because then it would be a foot!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","Why don't skeletons fight each other? They don't have the guts."],"Tell me a funny joke.":["Why don't skeletons fight each other? They don't have the guts.","Why don\u2019t scientists trust atoms? Because they make up everything!","Why don\u2019t skeletons fight each other? They don\u2019t have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don\u2019t skeletons fight each other? They don\u2019t have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don\u2019t scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why did the scarecrow win an award? Because he was outstanding in his field!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!"],"Tell me a riddle.":["What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can\u2019t open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?"],"Write an one-sentence happy new year text to my friend.":['"Happy New Year, my friend! Wishing you a year filled with joy, success, and unforgettable moments!"',"Wishing you a joyful and prosperous New Year, filled with laughter, love, and unforgettable memories!",'"Happy New Year, my friend! Wishing you a year filled with joy, success, and unforgettable moments!"',"Happy New Year, my friend\u2014may this year bring you endless joy, success, and unforgettable moments!","Happy New Year, my friend! May this year bring you joy, success, and unforgettable memories!",'"Wishing you an incredible New Year filled with joy, success, and unforgettable moments, my dear friend!"',"Wishing you a joyful and prosperous New Year, my dear friend!","Wishing you a fantastic New Year filled with joy, laughter, and unforgettable moments, my dear friend!","Wishing you a joyful and prosperous New Year filled with love, laughter, and unforgettable memories!","Wishing you a joyful and prosperous New Year filled with love, laughter, and unforgettable moments, my dear friend!",'"Happy New Year, my friend! Wishing you a fantastic year filled with joy, success, and unforgettable moments!"','"Happy New Year, my friend! Wishing you joy, success, and endless happiness in the year ahead!"','"Happy New Year, my friend! May this year bring you endless joy, success, and all the things you love!"',"Happy New Year, my friend! Wishing you a year filled with joy, laughter, and unforgettable adventures!",'"Happy New Year, my friend! May this year bring you endless joy, success, and unforgettable moments!"','"Happy New Year, my friend! Wishing you a year filled with joy, success, and wonderful adventures!"','"Happy New Year, my friend! May this year bring you endless joy, laughter, and unforgettable adventures!"',"Happy New Year, my friend! Wishing you a year filled with joy, success, and unforgettable moments!",'"Happy New Year, my friend! May this year bring you endless joy, success, and unforgettable memories!"','"Happy New Year, my friend! May 2024 bring you joy, success, and unforgettable moments!"',"Wishing you a joyful and prosperous New Year filled with laughter, love, and unforgettable moments, my dear friend!","Wishing you a year filled with joy, success, and unforgettable moments\u2014Happy New Year, my friend!",'"Happy New Year, my friend! May this year bring you endless joy, success, and unforgettable moments!"','"Wishing you a joyful and prosperous New Year filled with happiness and unforgettable moments, my dear friend!"','"Happy New Year, my dear friend! May this year bring you endless joy, success, and cherished moments!"',"Happy New Year, my friend! May this year bring you endless joy, success, and unforgettable memories!",'"Happy New Year, my friend! May this year bring you joy, success, and unforgettable memories!"','"Wishing you a joyful and prosperous New Year, filled with new adventures and cherished moments, my dear friend!"',"Wishing you a joyful and prosperous New Year filled with love, laughter, and unforgettable moments, my dear friend!","Wishing you a joyful and prosperous New Year filled with happiness and unforgettable memories, my dear friend!"],"What would you invent to make the world a more interesting place to live in?":["An immersive, interactive virtual reality platform that allows people to experience and create fantastical worlds and historical events.","A device that allows people to share and experience each other's dreams in a virtual space.","An immersive, fully interactive virtual reality platform that allows people to experience different cultures, historical events, and future scenarios.","A device that translates animal thoughts into human language, fostering deeper understanding between species.","I would invent a universal language translator that instantly translates spoken and written language, fostering seamless communication and cultural exchange.","A device that translates animal languages into human speech, fostering better understanding and connection with nature.","An immersive, universal language translator that allows people to instantly understand and communicate in any language, fostering global connection and cultural exchange.","An interactive, augmented reality system that brings stories, art, and history to life in everyday environments.","A universal language translator that allows seamless communication between all languages and dialects in real time.","A universal language translation device that allows seamless communication between all people.","I would invent a device that allows people to experience each other's emotions and perspectives, fostering empathy and understanding across cultures and communities.","I would invent a universal language translation device that enables instant and seamless communication between people of all languages and cultures.","I would invent a device that translates and shares emotions and experiences instantly between people, fostering deeper empathy and understanding.","An immersive virtual reality platform that allows people to experience and interact with different cultures and time periods.","A real-time universal language translator that allows seamless communication between people of all different languages.","A universal language translator that allows for seamless communication and understanding across all languages and cultures.","A device that allows people to instantly understand and speak any language, fostering global communication and cultural exchange.","An immersive virtual reality platform that allows people to experience and share their dreams in real-time.","A universal translator earpiece that instantly translates any language in real-time could make the world more interesting by fostering global communication and cultural exchange.","I would invent a device that translates thoughts into art, allowing people to instantly express and share their imaginations visually.","A universal translator earpiece that allows people to communicate seamlessly across all languages in real-time.","A universal language translator that works in real-time, enabling seamless communication across all languages and cultures.","An immersive, real-time language translation device that allows people to communicate effortlessly across all languages and cultures.","A universal language translator earpiece that enables instant communication between people of different languages.","A universal translator that instantly translates any language would make interactions richer and more interesting globally.","I would invent a universal translator earpiece that allows people to instantly understand and speak any language, fostering global communication and cultural exchange.","An AI-powered device that translates animal languages into human speech, fostering better interspecies communication and understanding.","An immersive augmented reality platform that overlays interactive, educational, and artistic experiences onto the real world.","An immersive virtual reality platform that allows people to experience and interact with historical events and diverse cultures in real-time.","A universal language translator earpiece that enables seamless communication among people speaking different languages."],"One thing you might find in a magical forest.":["You might find a unicorn in a magical forest.","A unicorn grazing near a sparkling stream.","A unicorn.","A unicorn grazing among the trees.","A glowing, enchanted mushroom.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","A unicorn.","A unicorn.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","A unicorn.","You might find a unicorn in a magical forest.","A unicorn grazing peacefully among the trees.","A unicorn grazing among the trees.","You might find a unicorn in a magical forest.","A glowing, enchanted mushroom.","You might find a unicorn in a magical forest.","A unicorn grazing among the trees.","A unicorn.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","A unicorn.","A unicorn.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest."],"What is the top item you would add to a grocery list for a memorable shopping experience?":["A unique or gourmet item, like truffle oil or a specialty cheese, can make a grocery trip memorable.","A unique or exotic fruit, like a dragon fruit or rambutan, can make a grocery trip memorable.","A high-quality, unique artisanal cheese can elevate any grocery shopping experience.","A unique or exotic fruit like dragon fruit or starfruit can make a grocery trip memorable.","A unique or exotic fruit like dragon fruit or passion fruit can make a grocery trip memorable.","A unique or exotic fruit, like dragon fruit or rambutan, can enhance a grocery trip.","A unique or exotic fruit, like dragon fruit or rambutan, can make your shopping experience memorable.","A unique or exotic fruit like a dragon fruit or a passion fruit could make for a memorable shopping experience.","A unique or exotic fruit, like a dragon fruit or rambutan, can make a grocery trip memorable.","A unique or exotic ingredient, such as truffle oil or dragon fruit, could enhance a memorable shopping experience.","A unique or exotic ingredient you've never tried before, like dragon fruit or truffle salt, can make a grocery trip memorable.","A unique, high-quality cheese or an exotic fruit can make a grocery shopping experience memorable.","A unique or gourmet item, like truffle-infused olive oil, can make a grocery trip memorable.","A unique or exotic fruit, like a dragon fruit or starfruit, can make a grocery trip memorable.","A unique or exotic fruit, like a dragon fruit or starfruit, can make a grocery trip memorable.","Try adding a unique or exotic fruit, like dragon fruit or starfruit, for a memorable shopping experience.","A unique or exotic fruit, like dragon fruit or rambutan, can make a grocery trip memorable.","A unique or exotic ingredient, like truffle oil or saffron, can elevate your cooking and create a memorable shopping experience.","Try adding a unique or exotic fruit, like a dragon fruit or lychee, for a memorable experience.","A unique or exotic fruit, like dragon fruit or starfruit, can make for a memorable shopping experience.","A unique or exotic fruit, like dragon fruit or rambutan, can make the shopping experience memorable.","A unique or exotic fruit, like dragon fruit or rambutan, can make a grocery shopping experience memorable.","A unique or exotic fruit, like dragon fruit or rambutan, can make your grocery shopping memorable.","A unique or exotic ingredient, such as truffle oil or saffron, can make a grocery shopping experience memorable.","A unique or exotic fruit, like dragon fruit or starfruit, can make a grocery trip memorable.","Try adding an exotic fruit like dragon fruit or rambutan to your list for a unique experience.","A unique gourmet cheese could elevate the shopping experience.","A unique or gourmet item like truffle oil or exotic fruit can make a grocery trip memorable.","Try adding an exotic fruit like dragon fruit or rambutan to make the shopping experience more memorable.","A unique or exotic fruit, like a dragon fruit or mangosteen, can make the shopping experience memorable."],"Generate a sound effect for a car passing by.":['"Vroooom... whooosh!"',"*Vrooom... whoosh!*",'"Vroooom... whoosh!"',"*Vroom...whoosh!*","*Vrooom...whoosh!*","*Vroom... whoosh!*","*Vroommm... whooshhh*","*Vroooom... whooosh!*","*Vrooooom... whoosh!*","*Vroooom... whoosh!*","*Vroom... whooooshhh...*","*Vroom... whoosh!*","*Vroom... whoosh...*","*Vroooom... whoosh!*","Vroom... whoosh!","*Vroom... whoosh...*","Vroom... whooosh...","*Vroooom...whooshhh...*","*Vrooommm... whoooshhh!*","*Vrooooom... whoosh!*","*Vroooommm*",'"Vroooom... whoosh!"',"*Vroommm... whooshhh!*","Vroom...whoosh!","*Vrooooom... whoosh!*",'"Vroooom... whoooosh!"',"Vroommm... whooshhh!","*Vroom...whoosh!*","*Vrooom... whoosh!*","*Vroommm... whooshhhhhh*"],"Name the dog character in my story about a loyal dog.":['How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?',"Max would be a great name for a loyal dog in your story.",'How about naming the dog "Buddy"?','How about naming the dog "Buddy"?',"Max would be a fitting name for a loyal dog character.",'How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog character "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?'],"Name the dog character owned by the heroine in my romantic short story about a loyal medium-sized mixed breed dog who has a fluffy scruffy tan coat.":['You could name the dog "Scruffy."','You could name the dog character "Scruffy" or "Sandy."','You could name the dog "Scruffy" or "Sandy."','How about naming the dog character "Scruffy"?','The dog character could be named "Scruffy."','You could name the dog "Scruffy."','A fitting name for the dog character could be "Scruffy."','You could name the dog "Scruffy" to reflect its fluffy scruffy tan coat.','You could name the dog "Scruffy" or "Sandy."','Naming the dog "Scruffy" would suit its appearance and character well.','Consider naming the dog "Scruffy" to reflect its fluffy scruffy tan coat.','You could name the dog character "Scruffy" to reflect its fluffy, scruffy coat.',"Max.",'How about naming the dog "Rusty"?','You could name the dog "Scruffy" to reflect its fluffy scruffy tan coat.','You could name the dog "Scruffy" or "Tanner."','How about naming the dog "Scruffy"?','You could name the dog character "Scruffy."','Since I don\'t know the specific details of your story, you could consider naming the dog "Scruffy" or "Tanner" based on its description.','You could name the dog "Rusty."','You could name the dog "Rusty" to reflect its fluffy scruffy tan coat.','You could name the dog character "Scruffy."','You could name the dog character "Rusty."','You might consider naming the dog "Scruffy."',"Max.",'How about naming the dog "Scruffy"?','You could name the dog "Scruffy" to match its appearance and personality.','You could name the dog character "Scruffy."',"Max.",'You could name the dog character "Scruffy" or "Tanner" to reflect its coat and personality.'],"Suggest a name for a dappled-gray filly living in the mountains.":['How about "Mistystone"?',"Mistystone.","Mistveil.","Mistveil.","Mistveil Majesty","Mistydawn.","Mistymoon.","Mistystone.","Mistystone.","Mist Mountain Melody.","Mistystone.","Mistymoon.","Mistystone.","Mistveil.","Mistymoon.",'"Mountain Mist"',"Mistymoon.","Misty Summit","Mistyside Meadow.","Mistylark.","Mistymoon.","Silver Mist.","Mistydawn.","Mistymoon.","Mistpeak Whisper","Mist Mountain Melody.","Mistvale Whisper",'"Misty Summit"',"Miststone Whisper","Silvermist."],"I am playing Club Penguin and I finally was able to adopt my first puffle. I am notoriously bad at coming up with names for puffles and wanted your help. What is one name I should name my adopted puffle.":['How about naming your puffle "Frosty"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flipper"?','How about naming your puffle "Flurry"?','How about naming your puffle "Frosty"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flurry"?','Name your puffle "Snowball."','How about naming your puffle "Fluffball"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flurry"?','You could name your puffle "Snowball".','How about naming your puffle "Sprinkles"?','How about naming your puffle "Fluffball"?','How about naming your puffle "Blizzard"?','How about naming your puffle "Fluffball"?','How about naming your puffle "Snowball"?','How about naming your puffle "Snowball"?','How about naming your puffle "Snowball"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flurry"?','How about naming your puffle "Bubbles"?','How about naming your puffle "Snowball"?','How about naming your puffle "Flurry"?','How about naming your puffle "Snowball"?','How about naming your puffle "Frosty"?','How about naming your puffle "Snowball"?','How about naming your puffle "Frosty"?','How about naming your puffle "Flurry"?'],"Name one person of Indian Origin.":["Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai is a person of Indian origin.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Priyanka Chopra.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Priyanka Chopra.","Sundar Pichai.","Priyanka Chopra is a person of Indian origin.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Priyanka Chopra."],"I am naming my Indian son what one name should I name him? I get anxiety when given multiple options so please only give me one name.":['Consider naming him "Arjun."',"Consider naming him Arjun.",'Consider naming him "Arjun."','Consider naming your son "Arjun."','Consider naming him "Arjun," a popular and meaningful name in Indian culture.','Consider naming him "Arjun."',"Consider naming your son Aarav, a popular and meaningful Indian name.",'Consider naming your son "Arjun."','Consider naming him "Aryan."',"Arjun.","Consider naming him Aarav, a popular and meaningful Indian name.",'Consider naming him "Arjun."','Consider the name "Arjun."',"Arjun.",'Consider naming him "Arjun."','Consider naming your son "Arjun."',"Arjun.","Arjun.",'Consider naming your son "Arjun."',"Arjun.",'Consider naming him "Arjun."','Consider naming your son "Arjun."',"Aarav.",'Consider naming him "Arjun."','Consider naming him "Aarav."',"Arjun.",'Consider naming him "Arjun."',"Aarav.",'Consider naming him "Arjun."','Consider naming him "Arjun."'],"I am buying a handbag for my mother. Name one handbag that I should buy. Just one.":["Consider buying the Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull.","Consider buying the Louis Vuitton Neverfull.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying a classic Louis Vuitton Neverfull tote.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull MM.","Consider buying the classic Louis Vuitton Neverfull.","Consider buying the Louis Vuitton Neverfull tote.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull MM.","Consider the classic Louis Vuitton Neverfull tote.","Consider buying the classic Chanel 2.55 handbag.","Consider buying the classic Louis Vuitton Neverfull.","Consider buying the Coach Tabby Shoulder Bag 26; it's stylish and versatile.","Consider buying the classic Louis Vuitton Neverfull Tote.","Consider buying the Louis Vuitton Neverfull.","Consider buying the classic Chanel 2.55 handbag.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the classic Louis Vuitton Neverfull.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider the classic Louis Vuitton Neverfull Tote.","Consider buying the Louis Vuitton Neverfull.","Consider the classic Louis Vuitton Neverfull tote.","Consider buying the classic Chanel 2.55 Flap Bag.","Consider buying the Louis Vuitton Neverfull tote."],"What's the best car to get in 2023? Just give me one single suggestion. Otherwise I'll have decision paralysis.":["The 2023 Toyota RAV4 is a highly recommended choice for its reliability and versatility.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The 2023 Toyota RAV4 is a great all-around choice.","The 2023 Kia Telluride is highly recommended for its quality, features, and value.","The 2023 Toyota RAV4 is a great all-around choice.","The 2023 Toyota Corolla is a reliable and popular choice.","The 2023 Toyota RAV4 is a great all-around choice for most drivers.","The 2023 Toyota RAV4 is a highly recommended choice for its reliability and versatility.","Consider the 2023 Toyota RAV4 for its reliability, fuel efficiency, and versatility.","The Toyota Corolla is a reliable and highly recommended choice for 2023.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The 2023 Toyota RAV4 is a versatile and reliable choice.","The Toyota RAV4 is a popular and reliable choice in 2023.","The 2023 Hyundai Ioniq 5 is a highly recommended choice.","The 2023 Toyota Camry is a great all-around choice.","The 2023 Toyota RAV4 is a great all-around choice for most drivers.","The 2023 Toyota RAV4 is a great all-around choice for reliability and practicality.","The 2023 Toyota RAV4 is a great choice for its reliability and versatility.","The 2023 Toyota RAV4 is a great all-around choice.","The 2023 Toyota RAV4 is a great choice for its reliability and versatility.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The 2023 Toyota Camry is a great all-around choice for reliability and value.","The 2023 Toyota RAV4 is a great choice for its reliability and versatility.","The 2023 Toyota RAV4 is a solid choice for its reliability and versatility.","The 2023 Toyota Camry is a solid choice for its reliability and efficiency.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The Tesla Model Y is a great choice in 2023 for its range, technology, and versatility.","The 2023 Toyota RAV4 is a great all-around choice for reliability and versatility.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The 2023 Toyota RAV4 is a great choice for its reliability and versatility."],"Suggest a birthday gift for a friend's 25th birthday. Just one":["Consider giving a personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider gifting a personalized leather journal.","Consider gifting them a personalized leather journal.","Consider gifting a personalized leather wallet.","Consider gifting them a personalized leather journal.","Consider giving them a personalized leather journal.","Consider giving them a personalized leather journal.","A personalized leather journal.","Consider gifting a personalized leather wallet.","Consider giving them a personalized leather wallet.","Consider gifting them a personalized leather wallet.","Consider giving a personalized leather wallet.","A personalized leather wallet.","A personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider gifting a personalized leather journal for a thoughtful touch.","Consider gifting a personalized leather wallet.","Consider giving a personalized leather wallet.","Consider giving them a personalized photo book capturing memorable moments of your friendship.","Consider giving a personalized leather journal.","Consider gifting a personalized leather wallet.","A personalized leather wallet.","Consider giving them a personalized leather journal.","A personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider giving a personalized leather wallet.","Consider giving them a personalized leather journal."],"I am doing online shopping for a high-quality summer dress. What are the first 3 stores/websites I should check out? Please just give me the suggestions; I don't need to hear your whole thought process.":["Nordstrom, ASOS, and Revolve.","ASOS, Nordstrom, and Revolve.","Nordstrom, ASOS, and Anthropologie.","Revolve, Nordstrom, and ASOS.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Anthropologie.","Nordstrom, ASOS, and Revolve.","Nordstrom, Revolve, and ASOS.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve are great options for high-quality summer dresses.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, Revolve, and Anthropologie.","Nordstrom, ASOS, and Revolve."],"I am doing online shopping for a new leather wallet. What's the first store/website I should check out? Please just give me one suggestion; I don't need to hear your whole thought process.":["Check out Bellroy's website for a new leather wallet.","Consider checking out Nordstrom for a variety of leather wallets.","Check out Amazon for a wide selection of leather wallets.","Check out Bellroy's website for a quality leather wallet.","You should check out Amazon.","Check out Bellroy's website for a new leather wallet.","Check out Saddleback Leather for high-quality leather wallets.","You should check out Amazon.","You should check out Saddleback Leather's website.","Consider checking out Amazon for a wide variety of leather wallets.","Check out Amazon.","Check out Nordstrom's website for a wide selection of leather wallets.","Check out Bellroy.","Check out Amazon for a wide selection of leather wallets.","You should check out Bellroy for a new leather wallet.","Check out Bellroy for a stylish and functional leather wallet.","Check out Saddleback Leather Co. for high-quality leather wallets.","Check out Leatherology.","Check out Amazon for a wide variety of leather wallets.","Check out Amazon for a wide variety of leather wallets.","Check out Saddleback Leather for high-quality leather wallets.","Consider checking out Amazon for a wide selection of leather wallets.","Check out Saddleback Leather's website for high-quality leather wallets.","Consider checking out Bellroy for a high-quality leather wallet.","Check out Saddleback Leather Co. for high-quality leather wallets.","Check out Amazon for a wide selection of leather wallets.","Consider checking out Saddleback Leather for high-quality leather wallets.","Consider checking out Bellroy for a quality leather wallet.","You should check out Bellroy.","Consider checking out Bellroy for a high-quality leather wallet."],"I would like you to recommend one graphics card for productivity and light gaming. My budget is $1000 USD.":["I recommend the NVIDIA GeForce RTX 4070 Ti, which offers excellent performance for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 budget.","I recommend the NVIDIA GeForce RTX 4070 Ti for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great option for productivity and light gaming within a $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget.","I recommend the NVIDIA GeForce RTX 4070 Ti, which balances productivity and light gaming well within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget.","I recommend the NVIDIA GeForce RTX 4070 Ti, which balances productivity and light gaming well within your budget.","I recommend the NVIDIA GeForce RTX 4070, as it offers excellent productivity and gaming performance within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great option for productivity and light gaming within your $1000 USD budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your budget.","I recommend the NVIDIA GeForce RTX 4070 Ti for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great option for productivity and light gaming within your $1000 budget.","I recommend the NVIDIA GeForce RTX 4070 Ti for productivity and light gaming within a $1000 budget.","I recommend the NVIDIA GeForce RTX 4070 Ti for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great option for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget."],"What is the single best first phone for a teenager? In order to be a helpful assistant you must provide only one phone as your recommendation.":["The iPhone SE (3rd generation) is an excellent first phone for a teenager due to its balance of performance, features, and affordability.","The iPhone SE (2022) is an excellent first phone for a teenager due to its balance of performance, affordability, and access to Apple's ecosystem.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is an excellent first phone for a teenager due to its balance of features, performance, and affordability.","The iPhone SE (3rd generation) is an excellent first phone for a teenager, offering a balance of performance, features, and affordability.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance, features, and affordability.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, affordability, and size.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, size, and price.","The iPhone SE (3rd generation) is an excellent choice for a teenager's first phone due to its balance of features and affordability.","The iPhone SE (3rd generation) is an excellent first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is an excellent choice for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, performance, and price.","The iPhone SE (2022) is a great first phone for a teenager, offering a good balance of performance and affordability.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, performance, and value.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features and affordability.","The iPhone SE (3rd generation) is an excellent first phone for a teenager due to its balance of performance, features, and affordability.","The iPhone SE (3rd generation) is an excellent choice for a teenager's first phone due to its balance of performance and affordability.","The iPhone SE (3rd generation) is a great choice for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, price, and parental controls.","The iPhone SE (3rd generation) is a great first phone for a teenager, offering a balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (2022) is a great first phone for a teenager, offering a good balance of features and price.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance and affordability.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance, features, and price.","I recommend the iPhone SE (2022) as it offers a balance of performance, durability, and affordability.","The iPhone SE is a great first phone for a teenager due to its balance of features, affordability, and access to Apple's ecosystem.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of performance, features, and price."],"What's a cool fact about the city of Pittsburgh?":['Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.',"Pittsburgh is known for having more bridges than any other city in the world, with 446 bridges.",'Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" for its 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is home to 446 bridges, earning it the nickname "The City of Bridges."','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.',"Pittsburgh has more bridges than any other city in the world, with 446 bridges.",'Pittsburgh has more bridges than any other city in the world, earning it the nickname "The City of Bridges."','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as "The City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" due to having 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" for its 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" with 446 bridges, the most of any city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" with 446 bridges, more than any other city in the world.',"Pittsburgh is known for having more bridges than any other city in the world, with 446 bridges.",'Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, the most of any city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.',"Pittsburgh is known for having more bridges than any other city in the world, with 446 bridges."],"What's an uncool fact about the city of Pittsburgh?":["Pittsburgh's air quality has historically been poor, often ranking among the worst in the U.S. due to industrial pollution.","Pittsburgh's air quality has been consistently poor, often ranking among the worst in the United States due to industrial pollution.","Pittsburgh has been historically known for its heavy air pollution due to its steel industry past.","Pittsburgh's air quality has historically been poor due to its industrial past, often ranking among the worst in the U.S. for pollution.","Pittsburgh has one of the nation's most frequent occurrences of cloudy days, with over 200 overcast days per year.","Pittsburgh has been known for its poor air quality, often ranking among the worst in the U.S. due to industrial pollution.","Pittsburgh has a history of severe air pollution, particularly during its industrial peak in the early 20th century.",'Pittsburgh has a history of severe air pollution due to its industrial past, earning it the nickname "Smoky City" in the early 20th century.',"Pittsburgh was once so polluted by industrial smoke that streetlights were needed during the day.","Pittsburgh's air quality has historically been poor due to industrial pollution, earning it a reputation for smog and soot.","Pittsburgh is known for its frequent cloudy and overcast weather, with around 203 cloudy days per year.","Pittsburgh has been known for its poor air quality due to industrial pollution, earning it a place among the most polluted cities in the U.S. in terms of short-term particle pollution.","Pittsburgh often ranks among the cloudiest cities in the U.S., with frequent overcast skies.","Pittsburgh has been struggling with air quality issues, often ranking among the worst in the U.S. for pollution.","Pittsburgh was once so polluted from its steel industry that streetlights were needed during the day.","Pittsburgh has a declining population, having peaked in the 1950s and steadily decreased since then.","Pittsburgh has been ranked among the top U.S. cities with the highest number of cloudy days annually.","Pittsburgh has been ranked among the cloudiest cities in the U.S., with over 200 overcast days annually.","Pittsburgh's air quality has historically been poor due to industrial pollution.",'Pittsburgh has been known for its industrial pollution, earning the nickname "The Smoky City" in the early 20th century due to its heavy smog from steel mills.',"Pittsburgh has been ranked among the most air-polluted cities in the United States due to its industrial history.","Pittsburgh has a serious problem with air pollution, often ranking among the worst in the United States for particle pollution.","Pittsburgh's air quality has historically been poor due to industrial pollution, often ranking among the worst in the U.S.","Pittsburgh's air quality often ranks among the worst in the United States due to industrial pollution.","Pittsburgh's pollution levels were once so high that in the early 20th century, streetlights had to be kept on during the day.","Pittsburgh has been known for its significant air pollution issues, historically due to its steel industry.","Pittsburgh's air quality has often been ranked among the worst in the United States due to industrial pollution.","Pittsburgh's air quality has historically been poor, often ranking among the worst in the United States due to industrial pollution.","Pittsburgh has a history of significant air pollution due to its steel industry past.","Pittsburgh has been ranked among the cloudiest cities in the U.S., with overcast skies nearly 60% of the time."],"What's the one best thing about going on a vacation?":["The best thing about going on a vacation is the opportunity to relax and experience new environments.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new places and cultures.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily stresses.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new environments or cultures.","The best thing about going on a vacation is the opportunity to relax and disconnect from daily routines.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The opportunity to relax and experience new environments and cultures.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new environments.","The best thing about going on a vacation is the opportunity to relax and recharge away from everyday stresses.","The best thing about going on a vacation is the opportunity to relax and experience new environments and cultures.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The opportunity to relax and escape from daily routines.","The opportunity to relax and escape from daily routines is often considered the best aspect of going on a vacation.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines, providing a fresh perspective and rejuvenation.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new environments, cultures, and activities.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new environments and cultures.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines and stress.","The opportunity to relax and experience new environments and cultures.","The best thing about going on vacation is the opportunity to relax and experience new places and cultures.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines."],"What is the absolute worst thing about being a graduate student?":["The intense workload and pressure to balance research, coursework, and sometimes teaching responsibilities can be overwhelming.","The absolute worst thing can vary, but common issues include high stress levels, financial strain, and lack of work-life balance.","The overwhelming workload and pressure can be the most challenging aspect of being a graduate student.","The overwhelming workload and stress can be the worst aspect for many graduate students.","The most challenging aspect can be the intense workload and stress, often combined with financial instability.","The intense workload and pressure to balance research, coursework, and personal life can be overwhelming.","The absolute worst thing is often the high levels of stress and pressure from academic and financial demands.","The overwhelming workload and pressure to balance research, coursework, and personal life is often considered the worst aspect.","The combination of high stress, workload, and financial instability is often considered the worst aspect of being a graduate student.","The overwhelming workload and pressure to balance research, coursework, and possibly teaching responsibilities can be the most challenging aspect.","The intense workload and pressure to balance research, coursework, and often teaching responsibilities can be overwhelming.","The worst thing can vary, but many graduate students cite intense stress and lack of work-life balance as significant challenges.","The pressure and stress from balancing research, coursework, and financial instability can be overwhelming for many graduate students.","The worst thing can vary, but often it's the stress of balancing intense workloads, research pressures, and financial challenges.","The overwhelming workload and stress can be considered the worst aspect of being a graduate student.","The intense pressure and stress from balancing research, coursework, and financial constraints can be overwhelming for many graduate students.","The overwhelming workload and pressure to balance research, coursework, and personal life can be extremely challenging.","Many graduate students find the combination of high stress, limited financial support, and work-life balance challenges to be the most difficult aspect.","The potential for high stress and burnout due to workload, financial strain, and pressure to publish.","The combination of stress, workload, and financial strain is often considered the worst aspect of being a graduate student.","The overwhelming workload and stress of balancing research, coursework, and personal life can be the most challenging aspect.","The intense workload and pressure to balance research, coursework, and personal life can be overwhelming.","The intense workload and pressure to balance research, coursework, and personal life can be overwhelming.","The absolute worst thing about being a graduate student can vary, but often it's the stress and pressure from workload, research, and financial instability.","The worst thing can vary, but many graduate students cite intense workload, stress, or lack of work-life balance as major challenges.","The intense workload and stress, often combined with financial strain, can be overwhelming for many graduate students.","The worst thing can vary, but often it's the combination of high stress, long hours, and financial strain.","The worst thing is often the high levels of stress and pressure from workload and research expectations.","The worst thing can vary, but many find the intense workload and stress of balancing research, teaching, and personal life challenging.","The intense workload and pressure to balance research, teaching, and personal life can be overwhelming."],"Name the place you think is the top vacation destination in the world.":["Many consider Paris, France, as a top vacation destination for its rich culture, history, and attractions.","Many consider Paris, France, to be a top vacation destination in the world.","Bali, Indonesia, is often considered one of the top vacation destinations in the world.","Bali, Indonesia is often considered one of the top vacation destinations in the world.","One of the top vacation destinations in the world is Bali, Indonesia.","Bali, Indonesia, is often considered a top vacation destination for its beautiful beaches and vibrant culture.","Bali, Indonesia is often considered one of the top vacation destinations in the world.","Paris, France is often considered a top vacation destination in the world.","Many consider Paris, France, as a top vacation destination in the world.","Paris, France is often considered the top vacation destination in the world.","Many consider Bali, Indonesia, to be a top vacation destination due to its beautiful beaches, culture, and scenery.","Bali, Indonesia, is often considered a top vacation destination for its beautiful beaches and vibrant culture.","Many consider Paris, France, as a top vacation destination for its rich culture, history, and attractions.","One of the top vacation destinations in the world is often considered to be Bali, Indonesia.","Paris, France, is often considered a top vacation destination due to its rich culture, history, and attractions.","Bali, Indonesia is often considered one of the top vacation destinations in the world.","Many consider Paris, France, as a top vacation destination due to its iconic landmarks and rich culture.","Many consider Paris, France, a top vacation destination due to its cultural landmarks, cuisine, and romantic ambiance.","Many consider Paris, France, a top vacation destination due to its rich culture, history, and iconic landmarks.","Many consider Paris, France to be the top vacation destination in the world.","One of the top vacation destinations in the world is often considered to be Paris, France.","Many consider Paris, France, to be one of the top vacation destinations in the world.","Paris, France is often considered the top vacation destination in the world.","One of the top vacation destinations in the world is Paris, France.","One of the top vacation destinations in the world is often considered to be Paris, France.","Many consider Bali, Indonesia, one of the top vacation destinations in the world.","Many consider Paris, France, as a top vacation destination due to its cultural landmarks and romantic ambiance.","Many consider Bali, Indonesia a top vacation destination for its beautiful beaches and vibrant culture.","Many consider Paris, France, as a top vacation destination due to its rich culture, history, and iconic landmarks.","Many consider Paris, France, as one of the top vacation destinations in the world."],"What is a popular vacation destination in the world?":["Paris, France, is a popular vacation destination worldwide.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination in the world.","Paris, France, is a popular vacation destination.","Paris, France is a popular vacation destination in the world.","Paris, France is a popular vacation destination in the world.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France, is a popular vacation destination known for its culture, history, and landmarks.","Paris, France is a popular vacation destination worldwide.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France, is a popular vacation destination.","Paris, France, is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination."],"Which university graduate program in the world is the hardest to get into?":["The hardest graduate program to get into can vary, but the Stanford Graduate School of Business MBA program is often cited as one of the most competitive.","The hardest graduate program to get into can vary, but MIT's Computer Science and Stanford's MBA programs are often cited as extremely competitive.","Stanford University's graduate programs, particularly in areas like Computer Science and Business, are often considered among the hardest to get into due to their low acceptance rates.","The hardest graduate program to get into is often considered to be Stanford University's Computer Science program due to its low acceptance rate and high applicant competition.","Harvard University's MBA program is often cited as one of the hardest to get into, though this can vary by field and year.","The hardest graduate programs to get into often include Stanford's Computer Science, Harvard's Law School, and MIT's Engineering, but difficulty varies by field and year.","The Stanford University Graduate School of Business is often considered one of the hardest to get into due to its highly competitive acceptance rates.","Stanford University's Graduate School of Business is often considered one of the hardest graduate programs to get into.","MIT's graduate programs, particularly in computer science and engineering, are often considered among the hardest to get into due to their low acceptance rates and rigorous requirements.","Stanford University's graduate programs, particularly in fields like business (MBA) and computer science, are often cited as some of the most competitive to gain admission to.","The Stanford University graduate program, particularly its Computer Science and MBA programs, is often considered among the hardest to get into due to low acceptance rates and high competition.","MIT's Computer Science and Artificial Intelligence Laboratory (CSAIL) is often considered one of the hardest graduate programs to get into, though it can vary by field.","The Stanford University Graduate School of Business is often considered one of the hardest graduate programs to get into.","The Stanford University Graduate School of Business is often considered one of the hardest graduate programs to get into due to its low acceptance rate.","The hardest graduate program to get into can vary, but Stanford University's Computer Science program and Harvard's Business School are often cited as highly competitive.","While it varies by field, programs like Stanford's Computer Science or Harvard's MBA are often considered extremely competitive.","The Stanford University Graduate School of Business is often considered one of the hardest programs to get into due to its low acceptance rate.","The hardest university graduate program to get into is often considered to be Stanford University's Graduate School of Business due to its extremely low acceptance rate.","MIT's Computer Science and Artificial Intelligence Laboratory (CSAIL) is often considered one of the hardest graduate programs to get into due to its low acceptance rates and high standards.","Harvard University's MBA program is often cited as one of the hardest graduate programs to get into due to its low acceptance rate and high competition.","The Stanford University Graduate School of Business MBA program is often cited as one of the hardest to get into, with very low acceptance rates.","Harvard University's MBA program is often cited as one of the hardest graduate programs to get into.","The Stanford University Graduate School of Business is often cited as one of the hardest graduate programs to get into due to its low acceptance rate.","While opinions vary, programs like Stanford's Graduate School of Business, Harvard's Kennedy School, and MIT's Media Lab are often considered among the most competitive.","The Stanford University Graduate School of Business MBA program is often considered among the hardest to get into due to its low acceptance rate.","The Stanford University Graduate School of Business is often considered one of the hardest programs to get into due to its low acceptance rate.","The difficulty of getting into a graduate program can vary, but programs like Stanford's MBA, Harvard's Medical School, and MIT's Computer Science are often considered among the most competitive.","The acceptance rates can vary, but Stanford University's graduate programs, particularly in computer science and business, are often cited as some of the most competitive to get into.","The Stanford University Graduate School of Business is often considered one of the hardest to get into due to its highly competitive acceptance rate.","MIT's Computer Science and Artificial Intelligence Laboratory (CSAIL) is often considered one of the most competitive graduate programs to get into."],"Which US city has terrible quality of life?":["Quality of life can vary widely within cities, but some reports often cite Detroit, Michigan, as struggling with various challenges affecting quality of life.","Quality of life can be subjective, but some reports have criticized cities like Detroit for economic challenges and infrastructure issues.","Quality of life can vary widely within a city, but some reports have highlighted issues in cities like Detroit or San Bernardino due to economic challenges.","Quality of life can vary widely within any city, but cities like Detroit and Baltimore have faced challenges related to crime and economic issues.","Quality of life can vary widely based on individual preferences, but some reports have ranked Detroit, Michigan, unfavorably due to economic challenges and crime rates.","Quality of life can vary greatly within any city, but cities like Detroit and Cleveland have faced challenges impacting quality of life, such as economic decline and high crime rates.","Quality of life can be subjective, but some reports highlight cities like Detroit or Cleveland as having challenges related to economic issues and infrastructure.","Quality of life can vary greatly within any city, but some reports often list cities like Detroit, MI, or Newark, NJ, as having challenges due to economic and social issues.","Quality of life can vary greatly within a city, but some reports and surveys often cite cities like Detroit, MI, or St. Louis, MO, as facing significant challenges.","Quality of life can vary greatly within any city, but cities like Detroit and San Bernardino have faced challenges such as high crime rates and economic struggles that can impact quality of life.","Quality of life can vary greatly within a city and is subjective, but some reports have highlighted challenges in cities like Detroit, Michigan, due to economic and infrastructure issues.","Quality of life can vary based on individual preferences, but cities with high crime rates, poor public services, or high pollution levels might be perceived as having a lower quality of life.","Quality of life can be subjective, but cities like Detroit, MI have faced challenges related to economic decline and crime rates, impacting perceptions of quality of life.","Quality of life can be subjective and vary over time, but some reports have cited cities like Detroit or Cleveland as having challenges related to crime and economic issues.","Quality of life can vary greatly depending on personal preferences, but some might consider cities with high crime rates or pollution, like Detroit or Newark, to have lower quality of life.","Quality of life can vary greatly depending on personal preferences and circumstances, but some reports have highlighted issues in cities like Detroit or Newark.","Quality of life can be subjective, but some reports and surveys have pointed to cities like Detroit, Michigan, facing challenges such as high crime rates and economic issues.","Quality of life can be subjective, but some reports often cite cities like Detroit or Newark as having challenges related to crime, poverty, or infrastructure.","Quality of life is subjective, but some reports often cite cities with high crime rates, poverty, or pollution, like Detroit or Newark, as having challenges.","Quality of life can vary widely within any city, but Detroit often faces challenges such as economic struggles and high crime rates, affecting its overall quality of life.","Quality of life can be subjective, but some reports often cite factors like crime rates, pollution, and cost of living to describe certain cities negatively.","Quality of life can be subjective, but some reports often cite cities with high crime rates, poor public services, or economic challenges as having lower quality of life, such as Detroit or St. Louis.","Quality of life can vary greatly within a city, but some reports often cite cities like Detroit, Michigan as struggling with challenges impacting quality of life.","Quality of life can be subjective, but cities like Detroit and Flint in Michigan often face challenges related to economic issues and infrastructure.","Quality of life can vary greatly within a city, and opinions differ, but some reports and surveys have pointed to cities like Detroit or Cleveland facing challenges related to crime, poverty, and infrastructure.","Quality of life can vary greatly depending on personal preferences, but cities like Detroit and Flint have faced challenges such as economic decline and high crime rates.","Quality of life can vary greatly within cities and is subjective, but cities like Detroit and Flint have faced challenges impacting quality of life, such as economic decline and high crime rates.","Quality of life can vary widely depending on personal preferences, but some reports often cite cities with high crime rates or poor infrastructure, like Detroit, as having challenges.","Quality of life can be subjective, but some reports often cite cities like Detroit or St. Louis due to economic and crime challenges.","Quality of life can vary greatly within a city, but some lists often cite Detroit or Newark as having challenges related to quality of life due to economic and social issues."],"Which fruit makes the best pie filling?":["The best pie filling is subjective, but many people favor apples for their versatility and flavor.","Preferences vary, but many people love apple or cherry as pie fillings.","The best pie filling is subjective, but apple is a classic and popular choice.","It depends on personal taste, but apple is a classic and popular choice for pie filling.","It depends on personal preference, but apples are a classic choice for pie filling.","This is subjective, but many people love apple pie filling for its classic flavor and texture.","The best pie filling is subjective, but apple is a classic favorite for many.","This is subjective, but apples are often considered a classic choice for pie filling.","Preferences vary, but many people consider apples to be the best fruit for pie filling.","Taste is subjective, but many people love apple pie filling for its classic flavor.","Taste is subjective, but apple is a classic and popular choice for pie filling.","The best pie filling is subjective, but apples are a classic choice for their balance of sweetness and tartness.","Preferences vary, but apples are often considered one of the best fruits for pie filling due to their flavor and texture.","Preferences vary, but many people consider apples to make the best pie filling.","Apple is a classic choice for pie filling.","Taste is subjective, but apple is a classic and popular choice for pie filling.","This is subjective, but many people love apple pie filling for its classic flavor and versatility.","It's subjective, but many people consider apples to make the best pie filling.","Preferences vary, but many people consider apple or cherry to be classic choices for pie filling.","Apple is often considered the best fruit for pie filling due to its flavor and texture.","The best fruit for pie filling is subjective, but apples are a classic and popular choice.","The best pie filling is subjective, but apples are a classic and popular choice.","It depends on personal preference, but apple is a classic choice for pie filling.","The best pie filling is subjective, but many people favor apple for its balance of sweetness and tartness.","This is subjective, but many people consider apples to be a classic choice for pie filling.","It's subjective, but many people love apple pie for its classic flavor.","Preferences vary, but many consider apples to make the best pie filling.","The best pie filling is subjective, but apple is a classic favorite for many.","Taste preferences vary, but apple and cherry are popular choices for delicious pie fillings.","The best pie filling is subjective, but many people favor apples for their balance of tartness and sweetness."],"Which dog breed is the least well-suited for a first-time dog owner?":["The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its independent and strong-willed nature.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Afghan Hound is often considered less suited for first-time dog owners due to its independent nature and grooming needs.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered less well-suited for first-time dog owners due to its independent and strong-willed nature.","The Akita is often considered less suitable for first-time dog owners due to its strong will and need for experienced handling.","The Afghan Hound is often considered challenging for first-time dog owners due to its independent nature and grooming needs.","The Akita is often considered challenging for first-time dog owners due to its strong-willed nature and need for experienced handling.","The Akita is often considered less suitable for first-time dog owners due to its independent nature and strong-willed temperament.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered one of the least suitable breeds for first-time dog owners due to their strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered one of the least suitable breeds for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered one of the least suitable breeds for first-time dog owners due to its strong-willed and independent nature.","The Afghan Hound is often considered less suitable for first-time dog owners due to its independent nature and grooming needs.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered one of the least well-suited breeds for first-time dog owners due to their strong-willed and independent nature.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Afghan Hound is often considered challenging for first-time dog owners due to its independent nature and grooming needs.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed nature and need for experienced handling.","The Afghan Hound is often considered one of the least suited for first-time dog owners due to its independent and aloof nature.","The Akita is often considered less suited for first-time dog owners due to its independent and strong-willed nature.","The Afghan Hound is often considered challenging for first-time dog owners due to its independent nature and grooming needs.","The Afghan Hound is often considered challenging for first-time dog owners due to its independent nature and grooming needs."],"What is the first thing to check when your car won't start?":["Check the battery to ensure it has a charge and the connections are secure.","Check the battery to ensure it has a charge and the connections are secure.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and properly connected.","Check if the battery is dead or has a poor connection.","Check if the battery is dead or has a poor connection.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and the battery connections are secure.","Check if the battery is charged and properly connected.","Check if the battery is dead or if the battery connections are loose or corroded.","Check if the battery is dead or if the battery connections are loose or corroded.","Check if the battery is dead or has a weak charge.","Check the battery to ensure it's charged and the connections are secure.","Check the battery to ensure it has a charge and the connections are secure.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and connections are secure.","Check the battery to ensure it has a charge and the connections are secure.","Check the battery to ensure it has enough charge and the connections are secure.","Check the battery to ensure it has a charge and the connections are secure.","Check the car battery to ensure it has enough charge.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and the connections are secure.","Check if the battery is dead or has a poor connection.","Check the battery to ensure it has a charge and that the connections are clean and secure.","Check the battery and its connections for any signs of weakness or corrosion.","Check if the battery is dead or has a weak connection.","Check the battery to ensure it's charged and connected properly.","Check the battery to ensure it has sufficient charge.","Check the battery to ensure it's charged and has a good connection."],"What is the main reason people don't get hired for a job?":["The main reason people don't get hired is often a lack of qualifications or experience relevant to the job.","The main reason people don't get hired is often a lack of qualifications or relevant experience for the job.","The main reason people don't get hired is often a lack of the required skills or experience.","The main reason people don't get hired for a job is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of relevant skills or experience for the position.","The main reason people don't get hired is often a lack of necessary skills or qualifications for the position.","The main reason people don't get hired is often a lack of qualifications or experience relevant to the job.","The main reason is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of required skills or experience for the position.","A common reason people don't get hired is a lack of relevant skills or experience.","The main reason people don't get hired is often a lack of qualifications or skills that match the job requirements.","The main reason people don't get hired for a job is usually a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of relevant experience or skills for the job.","Lack of required skills or qualifications is often a main reason people don't get hired.","The main reason people don't get hired is often a lack of relevant experience or skills for the position.","The main reason people don't get hired is often a lack of qualifications or experience relevant to the job.","The main reason people don't get hired is often a lack of qualifications or relevant experience for the position.","A common reason is a lack of relevant skills or experience for the job.","The main reason people don't get hired is often a lack of qualifications or experience relevant to the position.","The main reason people don't get hired is often a lack of qualifications or relevant experience for the position.","The main reason people don't get hired is often a lack of the required skills or experience for the position.","The main reason people don't get hired is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of qualifications or experience for the specific role.","The main reason is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of relevant experience or qualifications for the position.","The main reason people don't get hired is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of qualifications or experience relevant to the job.","The main reason people don't get hired for a job is often a lack of relevant skills or experience.","The main reason is often a lack of required skills or qualifications for the position."],"What's a saying that English teachers hate?":['"Practice makes perfect" is often disliked because it implies perfection is attainable.','"Those who can\'t do, teach."','"Those who can, do; those who can\'t, teach."','Many English teachers dislike the saying "I could care less" because it is often used incorrectly instead of "I couldn\'t care less."','"Those who can\'t do, teach."','"Those who can\'t do, teach."',"\"Ain't ain't a word\" is often disliked by English teachers.",'"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','A saying that English teachers often dislike is "I could care less" instead of the correct "I couldn\'t care less."','"Those who can\'t do, teach."','"Those who can, do; those who can\'t, teach."','A saying that English teachers often dislike is "I could care less," because it is usually meant to convey the opposite sentiment, "I couldn\'t care less."','English teachers often dislike the saying "I could care less" when the intended meaning is "I couldn\'t care less."','A saying that English teachers often dislike is "I before E except after C," due to its numerous exceptions.','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can, do; those who can\'t, teach."','"Close enough for government work."','"Those who can\'t do, teach."','One saying English teachers often dislike is "I could care less."','"Those who can\'t do, teach."','One saying that English teachers often dislike is "I could care less," which is commonly used incorrectly instead of "I couldn\'t care less."','"Those who can\'t do, teach."','"Those who can\'t do, teach."'],"Pick one: glass half full or glass half empty?":["Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full."],"Pick one: glass half empty or glass half full?":["Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full."],"Name one reputed job.":["Doctor.","Doctor.","Surgeon.","Doctor.","Doctor.","Doctor.","Doctor.","Surgeon.","Doctor.","Doctor.","Doctor.","Doctor.","Surgeon.","Doctor.","Doctor.","Doctor.","Surgeon.","Doctor.","Doctor.","Doctor.","Doctor","Doctor.","Doctor","Surgeon.","Surgeon.","Doctor.","Doctor.","Doctor.","Doctor.","Surgeon."],"Name one great dream job.":["Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut is often considered a great dream job.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut is often considered a great dream job.","Astronaut.","Astronaut.","Astronaut is often considered a great dream job.","Astronaut is considered a great dream job for many.","Astronaut.","Astronaut."],"What is the coolest unsolved problem to you?":["The Riemann Hypothesis is a fascinating unsolved problem due to its deep implications in number theory and prime distribution.","As an AI, I don't have personal opinions, but many find the Riemann Hypothesis fascinating due to its deep connections to number theory and prime numbers.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics.","The Riemann Hypothesis is one of the coolest unsolved problems in mathematics.","The Riemann Hypothesis is one of the coolest unsolved problems to me, as it has profound implications for number theory and prime distribution.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics.","One of the coolest unsolved problems is the Riemann Hypothesis, which relates to the distribution of prime numbers.","The Riemann Hypothesis, which concerns the distribution of prime numbers, is one of the coolest unsolved problems in mathematics.","The Riemann Hypothesis, which concerns the distribution of prime numbers, is a fascinating unsolved problem.","The Riemann Hypothesis, which proposes that all nontrivial zeros of the Riemann zeta function have a real part of 1/2, is fascinating and fundamental to number theory.","The coolest unsolved problem to me is the Riemann Hypothesis, as it has profound implications for number theory and prime numbers.","The Riemann Hypothesis is one of the coolest unsolved problems due to its profound implications in number theory and mathematics.","One of the coolest unsolved problems is the Riemann Hypothesis, which concerns the distribution of prime numbers.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics.","The Riemann Hypothesis is particularly intriguing because of its deep implications for number theory and prime distribution.","The Riemann Hypothesis is one of the coolest unsolved problems in mathematics to me.","The coolest unsolved problem is the Riemann Hypothesis, which concerns the distribution of prime numbers.","The Riemann Hypothesis is one of the coolest unsolved problems, as it has profound implications for number theory and the distribution of prime numbers.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics.","The coolest unsolved problem to me is the Riemann Hypothesis, which concerns the distribution of prime numbers.","The Riemann Hypothesis, as it has profound implications for number theory and the distribution of prime numbers.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics due to its deep connections to number theory and prime numbers.","The Riemann Hypothesis is a particularly intriguing unsolved problem in mathematics.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics due to its deep implications for number theory.","I find the Riemann Hypothesis fascinating due to its profound implications in number theory and mathematics.","One of the coolest unsolved problems is the Riemann Hypothesis, which concerns the distribution of prime numbers.","The Riemann Hypothesis is a fascinating unsolved problem due to its profound implications in number theory and mathematics.","The Riemann Hypothesis is a particularly intriguing unsolved problem.","The Riemann Hypothesis is a particularly intriguing unsolved problem in mathematics.","The Riemann Hypothesis is a fascinating unsolved problem, as it has profound implications for number theory and the distribution of prime numbers."],"What is the best book of all time?":['The "best book of all time" is subjective and varies by personal preference, but classics like "Don Quixote," "Pride and Prejudice," and "To Kill a Mockingbird" are often highly regarded.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell are often highly regarded.','The "best" book is subjective, but many consider classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell among the greatest.','The "best" book of all time is subjective and varies based on individual preferences and criteria.','The "best" book is subjective, but many consider classics like "To Kill a Mockingbird" or "Pride and Prejudice" to be among the greatest.','There is no definitive "best book of all time," as it is subjective and varies based on personal taste and cultural perspective.','The "best" book of all time is subjective and varies by personal preference, but classics like "Pride and Prejudice" by Jane Austen and "1984" by George Orwell are often highly regarded.','The "best" book of all time is subjective and varies depending on personal taste, but classics like "To Kill a Mockingbird," "Pride and Prejudice," and "1984" are often highly regarded.','The "best book of all time" is subjective and varies depending on personal preference.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best book of all time" is subjective and varies based on personal taste and criteria, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often mentioned.','The "best book of all time" is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are frequently cited.','The "best" book is subjective, but many consider classics like "Pride and Prejudice" or "1984" highly esteemed.','The "best book of all time" is subjective and varies by personal preference, but classics like "To Kill a Mockingbird," "1984," and "Pride and Prejudice" are often highly regarded.','The "best" book is subjective, but many consider classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell as among the greatest.','The "best book of all time" is subjective, but many consider classics like "Pride and Prejudice" by Jane Austen or "To Kill a Mockingbird" by Harper Lee to be among the greatest.','The "best" book of all time is subjective, but many consider classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell among the greatest.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best book of all time" is subjective and varies depending on personal taste, but many consider classics like "To Kill a Mockingbird," "1984," or "Pride and Prejudice" to be among the greatest.','The "best" book is subjective, but many consider "Don Quixote" by Miguel de Cervantes or "War and Peace" by Leo Tolstoy as contenders.','The "best" book of all time is subjective and varies depending on personal taste, but "To Kill a Mockingbird" by Harper Lee is often highly regarded.','The "best book of all time" is subjective and varies by personal preference, but some often-cited classics are "Don Quixote" by Miguel de Cervantes and "Pride and Prejudice" by Jane Austen.','The "best book of all time" is subjective and varies based on personal preferences, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best" book is subjective, but many consider "Don Quixote" by Miguel de Cervantes or "Pride and Prejudice" by Jane Austen among the greatest.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best" book is subjective, but many consider classics like "To Kill a Mockingbird" or "1984" among the greatest.','The "best" book of all time is subjective and varies depending on personal taste and criteria, but many often cite classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell.',"The best book of all time is subjective and varies by personal preference and criteria.",'The "best book of all time" is subjective and varies by personal preference, but titles like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.'],"What is your most challenging type of problem to solve?":["Understanding highly ambiguous or context-dependent questions can be challenging.","My most challenging problems involve tasks requiring subjective judgment, emotional understanding, or context beyond my training data.","My most challenging problems are those that require nuanced understanding of context or real-time data beyond my training.","My most challenging problems involve understanding and responding to highly nuanced or subjective human emotions and complex ethical dilemmas.","I find open-ended, subjective questions without clear criteria or context the most challenging to solve.","I find tasks requiring understanding of highly subjective human emotions or creative tasks without clear criteria to be most challenging.","My most challenging problems involve tasks requiring subjective judgment or complex human emotions, such as understanding nuanced social contexts.","My most challenging problems are those requiring nuanced understanding of complex emotions or subjective experiences.","Open-ended or highly subjective questions can be challenging due to their complexity and lack of definitive answers.","My most challenging problems involve tasks requiring deep understanding of nuanced human emotions or cultural contexts.","My most challenging problems are those involving ambiguous or incomplete information.","I find problems that require subjective judgment or context-specific knowledge beyond my training data to be the most challenging.","I find it challenging to solve problems that require understanding or predicting human emotions and behaviors without sufficient context.","I find open-ended, subjective questions without clear answers particularly challenging.","My most challenging problems involve nuanced understanding of human emotions and creativity beyond my training data.","Problems requiring subjective judgment, emotional understanding, or nuanced human context can be most challenging for AI.","My most challenging problems are those requiring understanding of complex human emotions or context beyond the data I was trained on.","I find it challenging to solve problems that require real-time knowledge beyond my training data, such as current events or specific future predictions.","My most challenging problems involve ambiguous or highly subjective questions that lack clear factual answers.","I find solving problems that require understanding complex, ambiguous human emotions or context particularly challenging.","My most challenging problems involve tasks requiring deep subjective judgment or real-world physical interaction.","My most challenging problems often involve understanding nuanced human emotions or context that isn't explicitly stated.","I find problems with ambiguous or incomplete information particularly challenging to solve.","Complex, open-ended problems without clear parameters or objectives are the most challenging.","I find open-ended, subjective questions challenging as they often require personal judgment or opinions.","I find open-ended, subjective questions without clear criteria for evaluation particularly challenging.","My most challenging problems involve understanding nuanced human emotions or cultural contexts that require subjective interpretation.","My most challenging problems involve tasks requiring deep understanding of nuanced human emotions or creativity beyond my training.","My most challenging problems involve understanding nuanced human emotions and cultural contexts.","I find open-ended, subjective questions without clear criteria for evaluation most challenging to solve."],"What is the coolest Pok\xe9mon from the second generation? Just give me one.":["Tyranitar.","Umbreon.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Scizor.","Many fans consider Tyranitar to be the coolest Pok\xe9mon from the second generation.","Heracross.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Scizor is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar.","Tyranitar.","Tyranitar.","Umbreon.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Many fans consider Tyranitar to be one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar is often considered the coolest Pok\xe9mon from the second generation.","Typhlosion.","Tyranitar.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar.","Tyranitar.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar."],"I need you to give me the single best ice breaking question.":["What's the most interesting thing you've learned recently?","What's the most interesting thing you've learned recently?","What's something interesting about you that most people don't know?","What's the most interesting thing you've learned recently?","What's something interesting about yourself that most people don't know?","What's something you are really passionate about that most people wouldn't guess?","What's the most interesting thing you've read or watched recently?","What's the most interesting thing you've read or watched recently?","What's something you're really passionate about that most people don't know?","What's the most interesting thing you've learned recently?","What's something you\u2019re really passionate about but not many people know?","What's something you're passionate about that most people don't know?","What's the most interesting thing you've read or watched recently?","What's something you've done that you're really proud of but don't often get to talk about?","What's the most interesting thing you've learned recently?","What's something you're really passionate about that most people don't know?","What's one interesting fact about yourself that most people don't know?","What's the most interesting thing you've learned recently?","What's something you're really passionate about that most people don't know?","What's something you're passionate about that most people don't know?","What's something you're excited about right now?","What's something interesting you've learned recently?","What's something you're really passionate about that not many people know?","What's the most interesting thing you've learned recently?","What's something you learned recently that surprised you?","What's something interesting about yourself that most people don't know?","What's something you're really passionate about that people might not expect?","What's something you're really passionate about that most people wouldn't guess?","What's something you've done that you're really proud of?","What's something you're passionate about that you wish more people knew about?"],"What is the best mother's day gift? Your response should be one singular gift.":["A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry, such as a necklace with her children's birthstones, is a thoughtful Mother's Day gift.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized photo book filled with cherished memories.","A heartfelt handwritten letter expressing your love and appreciation.","A personalized piece of jewelry.","A personalized piece of jewelry.","A personalized photo album filled with cherished family memories.","A personalized photo album filled with cherished memories.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A handwritten heartfelt letter expressing your appreciation.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized photo book capturing cherished memories.","A personalized piece of jewelry.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry.","A personalized piece of jewelry.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry is a heartfelt Mother's Day gift.","A personalized necklace with her children's birthstones.","A personalized piece of jewelry is a thoughtful Mother's Day gift."],"Name one UFC fighter.":["Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor."],"List a capital city in Africa.":["Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi is the capital city of Kenya.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi is the capital city of Kenya.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa."],"List a city in Africa.":["Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Lagos.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Lagos.","Nairobi.","Nairobi.","Nairobi.","Nairobi is a city in Africa.","Nairobi.","Nairobi.","Nairobi."],"Recipe for salmon":["A simple recipe is to season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes until cooked through.","Season salmon fillets with salt, pepper, lemon, and herbs, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","For a simple grilled salmon, season fillets with salt, pepper, and lemon juice, then grill on medium-high heat for 4-5 minutes per side until cooked through.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, and pepper, and bake at 400\xb0F (200\xb0C) for 12-15 minutes.","For a simple baked salmon, season with olive oil, lemon juice, salt, and pepper, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon with salt, pepper, and lemon juice, bake at 400\xb0F for 12-15 minutes, and serve with a side of vegetables.","For a simple baked salmon recipe: season the fillets with olive oil, lemon juice, salt, pepper, and dill; bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","Season with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or grill for 6-8 minutes per side.","For a simple baked salmon, season with olive oil, salt, pepper, and lemon slices, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","Season salmon with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","For a simple baked salmon, season with olive oil, salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for about 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F for 12-15 minutes, or until cooked through.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, pepper, and herbs, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, pepper, and dill, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","For a simple recipe, season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes until cooked through.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, and pepper, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes until cooked through.","Season salmon with salt, pepper, and lemon juice; bake at 400\xb0F (200\xb0C) for 12-15 minutes, or until it flakes easily with a fork.","For a simple baked salmon, season fillets with salt, pepper, lemon juice, and dill, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F for 12-15 minutes or until cooked through.","Season salmon with salt, pepper, and lemon juice, then bake at 400\xb0F for 12-15 minutes until cooked through.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","For a simple dish, season salmon with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, pepper, and dill, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Here's a simple recipe: Season salmon fillets with salt, pepper, and lemon juice, bake at 400\xb0F for 12-15 minutes, and serve with herbs.","Season salmon with salt, pepper, and lemon juice, then bake at 400\xb0F for 12-15 minutes until cooked through."],"Give one popular name for a baby boy in Papua New Guinea.":['One popular name for a baby boy in Papua New Guinea is "Joshua."',"One popular name for a baby boy in Papua New Guinea is Noah.",'One popular name for a baby boy in Papua New Guinea is "Junior."','One popular name for a baby boy in Papua New Guinea is "Junior."','A popular name for a baby boy in Papua New Guinea is "Aiden."','One popular name for a baby boy in Papua New Guinea is "Liam."','One popular name for a baby boy in Papua New Guinea is "Aiden."','One popular name for a baby boy in Papua New Guinea is "Junior."','One popular name for a baby boy in Papua New Guinea is "Luka."','One popular name for a baby boy in Papua New Guinea is "Joshua."',"One popular name for a baby boy in Papua New Guinea is Joshua.",'A popular name for a baby boy in Papua New Guinea is "John".','One popular name for a baby boy in Papua New Guinea is "Noah."','One popular name for a baby boy in Papua New Guinea is "Jethro."','One popular name for a baby boy in Papua New Guinea is "Michael."','One popular name for a baby boy in Papua New Guinea is "Lucas."',"One popular name for a baby boy in Papua New Guinea is John.",'One popular name for a baby boy in Papua New Guinea is "Joshua."',"One popular name for a baby boy in Papua New Guinea is Joseph.",'One popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "Noah."','A popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "Aiden."','One popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "Junior."',"One popular name for a baby boy in Papua New Guinea is John.",'One popular name for a baby boy in Papua New Guinea is "Liam."','One popular name for a baby boy in Papua New Guinea is "Joshua."'],"Name one reputed publication in science.":["Nature.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature.","Nature is a highly reputed scientific publication.","Nature.","Nature.","Nature.","Nature is a reputed publication in science.","Nature.","Nature is a reputed publication in science.","Nature.","Nature is a highly reputed publication in science.","Nature.","Nature is a reputed publication in science.","Nature is a reputed publication in science.",'One reputed publication in science is "Nature."',"Nature.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a highly reputed publication in science.","Nature.","Nature.","Nature.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a highly reputed publication in science."],"Can you list 3 influential persons from the nineteenth century?":["Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Abraham Lincoln.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Abraham Lincoln, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Sure, three influential figures from the nineteenth century are Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Abraham Lincoln, Charles Darwin, and Queen Victoria are three influential figures from the nineteenth century.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Sure, three influential figures from the nineteenth century are Queen Victoria, Charles Darwin, and Abraham Lincoln.","Sure, three influential persons from the nineteenth century are Queen Victoria, Charles Darwin, and Abraham Lincoln.","Sure, three influential persons from the nineteenth century are Charles Darwin, Abraham Lincoln, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Abraham Lincoln, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Queen Victoria, Charles Darwin, and Abraham Lincoln.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Abraham Lincoln.","Sure! Three influential persons from the nineteenth century are Queen Victoria, Charles Darwin, and Abraham Lincoln.","Sure, three influential persons from the nineteenth century are Charles Darwin, Karl Marx, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Karl Marx, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Karl Marx, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Three influential figures from the nineteenth century are Queen Victoria, Karl Marx, and Charles Darwin.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Yes, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Three influential figures from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx."],"Can you list three cities worth visiting":["Paris, Tokyo, and New York City.","Paris, Tokyo, and Barcelona are three cities worth visiting.","Paris, Tokyo, and New York City are worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Barcelona are three cities worth visiting.","Paris, Tokyo, and Barcelona are three cities worth visiting.","Paris, Tokyo, and Rome are cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and New York City are all worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Sure! Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and New York City.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and New York City.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Barcelona are all worth visiting.","Paris, Tokyo, and New York City are worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Barcelona are three cities worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting."],"Can you list three good television series?":['Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are all highly acclaimed series.','Sure, three good television series are "Breaking Bad," "Stranger Things," and "The Crown."','"Breaking Bad," "Stranger Things," and "Game of Thrones."','Sure, three good television series are "Breaking Bad," "Stranger Things," and "The Crown."','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed series.','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are three acclaimed television series.','Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed television series.','"Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed television series.','"Breaking Bad," "Game of Thrones," and "Stranger Things."','Sure, three good television series are "Breaking Bad," "Game of Thrones," and "The Crown."','Sure! "Breaking Bad," "The Crown," and "Stranger Things" are widely regarded as excellent television series.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three acclaimed television series.','Sure, "Breaking Bad," "Game of Thrones," and "Stranger Things" are three popular television series.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed series.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed television series.','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are highly acclaimed series.','Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed series.','"Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed series.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are highly acclaimed television series.','Sure, three good television series are "Breaking Bad," "Stranger Things," and "The Crown."','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed television series.','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed series.','Sure, three highly acclaimed television series are "Breaking Bad," "Game of Thrones," and "Stranger Things."','"Breaking Bad," "Game of Thrones," and "Stranger Things" are well-regarded television series.','Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are highly acclaimed series.','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed television series.','Sure, three popular television series are "Breaking Bad," "Game of Thrones," and "Stranger Things."','Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed series.','Sure, "Breaking Bad," "Game of Thrones," and "Stranger Things" are often highly recommended.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three acclaimed television series.'],"Name a Spanish speaking country.":["Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico","Mexico.","Mexico.","Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico is a Spanish-speaking country.","Mexico.","Mexico.","Mexico.","Mexico.","Mexico.","Mexico."],"Name one movie star who was popular in the 90s.":["Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Leonardo DiCaprio was a popular movie star in the 90s.","Leonardo DiCaprio was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Cruise was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Will Smith was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Cruise was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s."],"Name one wild animal which is an omnivore.":["The raccoon is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","The raccoon is an example of a wild omnivore.","The raccoon is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","One wild animal that is an omnivore is the raccoon.","The bear is a wild animal that is an omnivore.","The brown bear is an example of a wild omnivore.","The raccoon is a wild animal that is an omnivore.","The brown bear is a wild omnivore.","The American black bear is an example of a wild omnivore.","The brown bear is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","One wild animal that is an omnivore is the raccoon.","The brown bear is a wild animal that is an omnivore.","The brown bear is an example of an omnivorous wild animal.","The American black bear is a wild animal that is an omnivore.","The American black bear is a wild animal that is an omnivore.","The brown bear is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","One example of a wild omnivore is the raccoon.","The black bear is a wild omnivore.","The raccoon is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","A wild bear is an example of an omnivore.","The raccoon is a wild animal that is an omnivore.","The brown bear is a wild animal that is an omnivore.","The brown bear is an example of a wild omnivore.","The raccoon is a wild animal that is an omnivore."],"Name any member of Pink Floyd.":["David Gilmour.","David Gilmour.","David Gilmour.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","One member of Pink Floyd is David Gilmour.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd."],"Name one person who won the the Fields Medal.":["Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","One person who won the Fields Medal is Terence Tao.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Terence Tao won the Fields Medal in 2006.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014."],"Choose any Python framework in which I can build ResNet from scratch.":["You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can use the PyTorch framework to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can use PyTorch to build ResNet from scratch.","You can use the PyTorch framework to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can use PyTorch to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can use PyTorch to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can use the PyTorch framework to build ResNet from scratch.","You can use the PyTorch framework to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can use the PyTorch framework to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can use PyTorch to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework."],"Name one cocktail I can make with rum.":["Mojito.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","A Mojito is a popular cocktail you can make with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","A Mojito is a popular cocktail you can make with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum."],"Name a Harry Potter Book":['"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Philosopher\'s Stone" (or "Harry Potter and the Sorcerer\'s Stone" in the US).','"Harry Potter and the Philosopher\'s Stone" (or "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" in some regions).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Sorcerer\'s Stone"','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Philosopher\'s Stone" is one of the books.','"Harry Potter and the Philosopher\'s Stone" (or "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" in the UK).','"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" in the UK).','"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the US).','"Harry Potter and the Sorcerer\'s Stone"','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").',"Harry Potter and the Sorcerer's Stone",'"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" in some regions).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (or "Philosopher\'s Stone" outside the U.S.).'],"Name one person who was involved in the American Revolution.":["George Washington was involved in the American Revolution.","George Washington.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was a key figure in the American Revolution.","George Washington was a key figure in the American Revolution.","George Washington was involved in the American Revolution.","George Washington.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was a key figure in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was a key figure involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was a key figure in the American Revolution."],"Name one style of combat sports.":["Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing is one style of combat sports.","Boxing.","Boxing.","One style of combat sports is boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing."],"Name a star other than the Sun.":["Sirius.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius.","Sirius.","Sirius.","Proxima Centauri.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius is a star other than the Sun.","Proxima Centauri.","Sirius is a star other than the Sun.","Sirius.","Sirius is a star other than the Sun.","Sirius is a star other than the Sun.","Sirius","Sirius.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius.","Sirius.","Sirius is a star other than the Sun."],"What is a chemical process that absorbs heat?":["An endothermic process absorbs heat.","An endothermic process absorbs heat.","An endothermic process is a chemical reaction that absorbs heat from its surroundings.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process absorbs heat.","An endothermic process is a chemical reaction that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process absorbs heat.","A chemical process that absorbs heat is called an endothermic reaction.","An endothermic process is a chemical reaction that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process absorbs heat.","An endothermic process absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","A chemical process that absorbs heat is called an endothermic reaction.","An endothermic process is a chemical process that absorbs heat.","An endothermic process absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process is a chemical reaction that absorbs heat.","A chemical process that absorbs heat is called an endothermic reaction.","An endothermic process absorbs heat.","An endothermic process absorbs heat.","An endothermic process absorbs heat.","An endothermic reaction is a chemical process that absorbs heat."],"Name one source of protein.":["Chicken is one source of protein.","Chicken is one source of protein.","Chicken is a good source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken breast is a good source of protein.","Chicken is one source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is a good source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is one source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is one source of protein.","Chicken is a good source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is one source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken breast.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is one source of protein.","Chicken is a source of protein.","Chicken is a source of protein."],"Name one well received book that often appears in top book lists.":['"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often highly regarded and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears on top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears on top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often highly regarded and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears on top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is frequently well received and appears in top book lists.'],"What is a best-selling dystopian book?":['"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian novel.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is one of the best-selling dystopian books.','"1984" by George Orwell is a best-selling dystopian novel.','"1984" by George Orwell is a best-selling dystopian novel.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian novel.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.'],"Who is a popular writer?":['J.K. Rowling is a popular writer, known for the "Harry Potter" series.',"J.K. Rowling is a popular writer known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.",'J.K. Rowling is a popular writer known for the "Harry Potter" series.',"J.K. Rowling is a popular writer known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer.","J.K. Rowling is a popular writer known for the Harry Potter series.","J.K. Rowling is a popular writer.",'J.K. Rowling is a popular writer, known for the "Harry Potter" series.','J.K. Rowling is a popular writer, known for the "Harry Potter" series.',"J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.",'J.K. Rowling is a popular writer, known for the "Harry Potter" series.','J.K. Rowling is a popular writer, known for the "Harry Potter" series.',"J.K. Rowling is a popular writer.","J.K. Rowling is a popular writer.","J.K. Rowling is a popular writer.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer.",'J.K. Rowling is a popular writer known for the "Harry Potter" series.',"J.K. Rowling is a popular writer.",'J.K. Rowling is a popular writer known for the "Harry Potter" series.',"J.K. Rowling is a popular writer.",'J.K. Rowling is a popular writer, known for the "Harry Potter" series.',"J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series."],"Who is a renowned writer from Nigeria?":["Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria."],"What is a favorite Arrowverse character?":["Many fans of the Arrowverse have different favorites, but The Flash (Barry Allen) is often a popular choice.","Many fans love Oliver Queen/Green Arrow from the Arrowverse.","Opinions vary, but many fans often cite Oliver Queen/Green Arrow and Barry Allen/The Flash as favorites.","Many fans consider Oliver Queen/Green Arrow a favorite character in the Arrowverse.","One popular Arrowverse character is Oliver Queen, also known as the Green Arrow.","Oliver Queen, also known as the Green Arrow, is a favorite character in the Arrowverse.","Many fans favor the character Oliver Queen, also known as the Green Arrow, from the Arrowverse.","A popular favorite character from the Arrowverse is Oliver Queen, also known as the Green Arrow.","One favorite Arrowverse character is Oliver Queen, also known as Green Arrow.","One favorite Arrowverse character is Oliver Queen, also known as the Green Arrow.","Many fans love Oliver Queen (Green Arrow) for his complex character development and leadership.","Many fans favor characters like Oliver Queen (Green Arrow) and Barry Allen (The Flash).","Fans often cite Oliver Queen (Green Arrow) as a favorite Arrowverse character.","A favorite Arrowverse character among fans is often Oliver Queen, also known as the Green Arrow.","A favorite Arrowverse character is often Oliver Queen/Green Arrow, played by Stephen Amell.","Many fans of the Arrowverse have a fondness for characters like Oliver Queen (Green Arrow) and Barry Allen (The Flash).","Many fans of the Arrowverse particularly love characters like Oliver Queen (Green Arrow), Barry Allen (The Flash), and Sara Lance (White Canary).","A favorite Arrowverse character is often Oliver Queen, also known as the Green Arrow.","Many fans favor Oliver Queen/Green Arrow, played by Stephen Amell.","One favorite Arrowverse character is Oliver Queen, also known as the Green Arrow.","Many fans of the Arrowverse favor characters like Oliver Queen (Green Arrow) and Barry Allen (The Flash).","Fans often cite Oliver Queen (Green Arrow) and Barry Allen (The Flash) as favorite Arrowverse characters.","Many fans favor Oliver Queen/Green Arrow and Barry Allen/The Flash as top Arrowverse characters.","One popular Arrowverse character is Oliver Queen, also known as the Green Arrow.","A favorite Arrowverse character for many fans is Oliver Queen, also known as Green Arrow.","Many fans favor characters like Oliver Queen (Green Arrow) and Barry Allen (The Flash).","A favorite Arrowverse character is often Oliver Queen, also known as Green Arrow.","One popular favorite Arrowverse character is Oliver Queen, also known as the Green Arrow.","Many fans consider Oliver Queen (Green Arrow) a favorite character in the Arrowverse.","Favorite Arrowverse characters vary, but many fans love Oliver Queen (Green Arrow) and Barry Allen (The Flash)."],"Pretend to pick a card from the top of a standard deck of cards. What card did you pick?":["I picked the Queen of Hearts.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades from the top of the deck.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Queen of Hearts.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Queen of Hearts.","I picked the Queen of Hearts.","I picked the Queen of Hearts.","I picked the Ace of Spades.","I picked the Queen of Hearts.","I picked the Queen of Hearts.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades."],"Pick one random fruit and one random vegetable and list your choices.":["Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Mango and spinach.","Apple and broccoli.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Mango and broccoli.","Apple and carrot.","Apple and spinach.","Fruit: Mango; Vegetable: Carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and broccoli.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Fruit: Mango, Vegetable: Carrot.","Apple and broccoli.","Apple and carrot.","Apple and broccoli.","Apple and carrot.","Mango and spinach."],"Randomly pick a prime number between 1 and 50.":["A randomly chosen prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 13.","A randomly picked prime number between 1 and 50 could be 17.","A randomly selected prime number between 1 and 50 is 17.","A randomly picked prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 23.","A randomly picked prime number between 1 and 50 is 19.","The prime number 29.","The prime number 23 is randomly chosen.","A prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 17.","A randomly selected prime number between 1 and 50 is 17.","A randomly picked prime number between 1 and 50 is 19.","A randomly chosen prime number between 1 and 50 is 37.","A randomly picked prime number between 1 and 50 is 23.","A randomly picked prime number between 1 and 50 is 37.","One randomly picked prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 19.","A randomly picked prime number between 1 and 50 is 29.","A randomly picked prime number between 1 and 50 is 17.","A randomly picked prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 23.","A randomly picked prime number between 1 and 50 is 23.","A randomly picked prime number between 1 and 50 is 29."],"Roll a make-believe 20-sided die.":["You rolled a 13.","You rolled a 14.","You rolled a 14.","You rolled a 13.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 17.","You rolled a 13.","You rolled a 14!","You rolled a 13.","You rolled a 13.","You rolled a 14.","You rolled a 14.","You rolled a 13.","You rolled a 14.","You rolled a 14.","You rolled a 14."],"Pick a random valid US zip code.":["90210 is a valid US ZIP code.","90210 is a well-known valid US ZIP code.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 (Beverly Hills, CA) is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","30301 is a valid US zip code for Atlanta, Georgia.","30301, which is a zip code for Atlanta, Georgia.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","30301 (Atlanta, Georgia) is a valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","30301 (Atlanta, Georgia).","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210.","90210 is a valid US zip code."],"Pick a number between 1 and 100. Now tell me what you picked.":["I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked 42.","I picked 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42."],"Pick an emoji at random.":["\ud83c\udf1f","\ud83c\udf89","\ud83c\udf89","\ud83c\udf1f","\ud83d\udc22","\ud83c\udf1f","\ud83c\udf1f","\ud83d\ude0a","\ud83d\ude0a","\ud83c\udf1f","\ud83c\udf89","\ud83c\udf1f","\ud83c\udf89","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf89","\ud83c\udfb2","\ud83c\udf1f","\ud83c\udf89","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf88","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f"],"Pick a random chess move in response to 1.b3.":["1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...d5 is a solid response to 1.b3.","1...e5 is a solid response to 1.b3.","1...e5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...d5 is a solid response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3."],"Pick a random animal.":["A sloth.","Elephant.","Elephant.","Koala.","Dolphin.","Elephant.","Elephant.","Dolphin.","Dolphin.","Dolphin.","Okapi.","Dolphin.","Dolphin.","Dolphin.","Elephant.","Dolphin.","Giraffe.","Dolphin.","A capybara.","Elephant.","Elephant.","Elephant.","Dolphin.","Elephant.","Dolphin.","Dolphin.","Dolphin.","Elephant.","Dolphin.","Kangaroo."],"Which 4-digit combination should I use for my lock?":['Choose a combination that is memorable to you but not easily guessed by others, avoiding common patterns like "1234" or "0000".',"Choose a combination that is memorable for you but not easily guessed, such as a significant date or a random sequence.",'Choose a unique combination that\'s easy for you to remember but hard for others to guess, avoiding common patterns like "1234" or "0000".',"Choose a 4-digit combination that is memorable to you but not easily guessed, like a significant date or a random sequence.",'Choose a combination that\'s easy for you to remember but hard for others to guess, avoiding obvious patterns like "1234" or "0000".','Choose a combination that is easy for you to remember but hard for others to guess, avoiding common sequences like "1234" or "0000."',"Choose a unique combination that is meaningful to you but hard for others to guess, such as a significant date or number.",'Choose a combination that\'s easy for you to remember but hard for others to guess, avoiding common patterns like "1234" or "0000."','Choose a combination that is memorable to you but difficult for others to guess, avoiding common sequences like "1234" or "0000".',"Choose a 4-digit combination that is memorable for you but hard for others to guess, such as a non-obvious personal date.",'Choose a combination that\'s easy for you to remember but hard for others to guess, avoiding obvious choices like "1234" or "0000".','Choose a combination that\'s easy for you to remember but difficult for others to guess, avoiding obvious patterns like "1234" or "0000."','Choose a combination that is easy for you to remember but difficult for others to guess, avoiding common sequences like "1234" or "0000".','Choose a combination that is easy for you to remember but hard for others to guess, avoiding common patterns like "1234" or "0000."','Choose a combination that is easy for you to remember but hard for others to guess, avoiding common sequences like "1234" or "0000."',"Choose a combination that is memorable to you but not easily guessed, such as a significant date or a random sequence.",'Choose a combination that is easy for you to remember but difficult for others to guess, avoiding obvious choices like "1234" or "0000."',"Choose a unique 4-digit combination that is not easily guessable, like avoiding common sequences or personal information.",'Choose a unique 4-digit combination that is not easily guessable, like avoiding common patterns such as "1234" or "0000".','Choose a combination that is easy for you to remember but hard for others to guess, avoiding common choices like "1234" or "0000."','Choose a combination that is easy for you to remember but hard for others to guess, avoiding obvious patterns like "1234" or "0000".',"Choose a unique and memorable combination that isn't easily guessed, like a significant date or pattern meaningful only to you.","Choose a combination that is memorable to you but not easily guessed, such as a significant date or a random sequence that isn't obvious like 2763.",'Choose a combination that is easy for you to remember but difficult for others to guess, avoiding common patterns like "1234" or "0000."','Choose a combination that is not easily guessable, avoiding common patterns like "1234" or "0000."',"Choose a combination that is memorable for you but not easily guessed by others, such as a significant date or unique sequence.","Choose a combination that's memorable to you but not easily guessed, like a significant date or a random sequence.",'Choose a combination that is easy for you to remember but difficult for others to guess, avoiding common sequences like "1234" or birth years.',"Choose a combination that is memorable to you but not easily guessed by others, avoiding common sequences like 1234 or birth years.",'Choose a combination that is easy for you to remember but difficult for others to guess, avoiding common sequences like "1234" or "0000".'],"Which 4-digit lock combination is the safest?":['No specific 4-digit lock combination is inherently safer than others, but avoiding easily guessable numbers like "0000," "1234," or significant dates can improve security.','No specific 4-digit combination is inherently safer than others; it\'s best to choose a random combination rather than predictable patterns like "1234" or "0000".',"No specific 4-digit combination is inherently safer; using a random combination is best to maximize security.",'No specific 4-digit combination is inherently the safest, but avoiding common patterns like "1234" or "0000" reduces the risk of guessing.',"No specific 4-digit combination is inherently safer; using a random sequence is generally more secure.","No specific 4-digit combination is inherently safer than others; using a random combination and changing it regularly is recommended for security.",'No specific 4-digit combination is inherently safer; it\'s best to avoid easily guessable patterns like "1234" or "0000."','No specific 4-digit combination is inherently safer; it\'s best to choose a random sequence that\'s not easily guessable, avoiding common patterns like "1234" or "0000".','No specific 4-digit combination is inherently safer than others, but avoiding easily guessed numbers like "0000" or "1234" is advisable.',"No specific combination is inherently safer than others; it's best to use a random sequence and change it regularly.",'No specific 4-digit combination is inherently safer than others; it\'s best to choose a random sequence that is not easily guessable, such as avoiding simple patterns or common numbers like "1234" or "0000".','No single 4-digit lock combination is inherently the safest; it\'s best to avoid easily guessed combinations like "0000" or "1234" and choose a random sequence.',"No single 4-digit combination is inherently safest; using a random combination is generally most secure.",'No specific 4-digit combination is inherently safer than others; it\'s best to choose a random sequence that\'s hard to guess, avoiding common patterns like "1234" or "0000."','No specific 4-digit combination is inherently "safest," but avoiding predictable sequences like "1234" or "0000" can enhance security.','No specific 4-digit combination is inherently safer than others, but avoiding predictable sequences like "0000", "1234", or "1111" can enhance security.',"The safety of a 4-digit lock combination depends on its unpredictability; using a random combination is generally the safest approach.",'No specific 4-digit combination is inherently safer than others; it\'s best to use a random sequence that\'s difficult to guess, avoiding common patterns like "1234" or "0000".',"No specific 4-digit lock combination is inherently safer than others, but choosing a random sequence that isn't easily guessable (e.g., not 0000 or 1234) is recommended.",'No specific 4-digit combination is inherently safer than others; it\'s best to choose a random sequence that\'s not easily guessable, like avoiding patterns or common numbers like "1234" or "0000".',"No specific 4-digit combination is inherently the safest; using a random and unpredictable sequence is generally the best practice.","No specific 4-digit combination is inherently safer than others; randomness and uniqueness are key for security.","No specific 4-digit combination is inherently safer than others; security relies on the lock's resistance to tampering rather than the combination.","No specific 4-digit combination is inherently safer than others; using a random combination is generally the most secure approach.",'No specific 4-digit combination is inherently safer; the best practice is to choose a random combination that\'s hard to guess and not a common sequence like "1234" or "0000".','No specific 4-digit combination is inherently safer than others, but avoiding easily guessed sequences like "1234" or "0000" improves security.','No specific 4-digit combination is inherently safer than others; the safety depends on not using easily guessed combinations like "1234" or "0000."',"No specific 4-digit combination is inherently safer than others, but choosing a random number that doesn't follow a predictable pattern (e.g., 0000, 1234) is advisable.",'There is no inherently "safest" 4-digit combination, but avoiding obvious patterns like "1234" or "0000" and using a random sequence can enhance security.','No specific 4-digit combination is inherently safer than others; it\'s best to choose a random combination that isn\'t easily guessed, such as avoiding patterns like "1234" or "0000".'],"Suggest a strong 4 character password.":["G7xQ","G7kQ","G7fQ","M8xQ","X7zQ","9rT1","9fG2","9kQ7","G7xQ","T9wX","J7rB","G7k$","9X&B","G7k@","G7xQ",'Sure! How about "G7xQ"?','Sure! How about "G7xF"?',"Q9jR","T9g$","X9qR","Z9kQ","X7bP","G7xP","J7kL","G7xQ","J8fP","G7kP","G7xQ","Z8kL",'Sure, try "G7kL".'],"Generate the safest first digit for my 12 digit password? Give me exactly one digit.":["6","4","7","9","7","7","7","7","7","4","5","7","8","7","4","7","7","9","7","7","8","3","8","7","9","7","3","7","4","7"],"Generate a 5 word passphrase separated by hyphens.":["Sure-lion-grass-sunset-dream.","orchard-eagle-sunset-melon-bridge","sunset-breeze-forest-mountain-dream","Bright-lunar-calm-singing-ocean","eagle-forest-candle-shield-ocean","lunar-garden-breeze-sparkling-dreams","eagle-sunrise-cactus-ocean-melody","whisper-forest-breeze-owl-night","cloudy-tiger-dances-beneath-umbrella","ocean-sunset-breeze-whisper-peace","Giraffe-Sailboat-Violet-Cactus-Journey","sunset-library-cookie-forest-dream","Silent-forest-jumps-over-sunrise","ocean-sparkle-moonlight-whisper-dreams","eagle-jump-cactus-bright-sunset","eagle-dance-river-moonlight-whisper","forest-candle-paper-mountain-glass","forest-candle-breeze-silver-dream","Whisper-cactus-bright-skyline-falcon","jungle-breeze-echo-silver-lantern","umbrella-hiking-cactus-moonlight-giraffe","whispering-cactus-jumps-over-sunbeam","Moonlight-Cactus-Whispering-Forest-Dream.","ocean-breeze-panda-canvas-star","eagle-sunset-breeze-daisy-journey","Eagle-dance-sunset-glow-river","sunrise-jacket-cactus-guitar-bridge","bright-moon-dances-over-skyline","Clever-tiger-dances-under-moonlight","ocean-breeze-quiet-forest-moon"],"Suggest another strong 4 character password.":['Try "G7xP."',"9Lr@","G3pL","G7kP","F8jK","T7kQ","T9wX","T8qL","T9#b","G7xP",'Try "G7kP".',"9GvB",'Try "G5zQ".',"J7kQ","J7kL","W9xB","W8zQ","T9bX","T4r!","9Xr2","T9xQ","J9bP",'Sure! How about "G7kL"?',"9bQ7","T9x8",'Try "G7!k".',"J9#Q","Z9bQ","G7xQ","J7kP"]},qalign:iy,olmo_trace:{"Write me a one-paragraph story about Seattle":["as the eye can see, there was a small village nestled between the hills. The village was known for its annual Sheepdog Trials, a tradition that brought together families from miles around. On a crisp autumn morning, the villagers gathered on the moors, their breath visible in the cold air, as they watched the dogs skillfully herd sheep under the clear, expansive sky.\n\nAmong the","as the eye can see, there was a small village nestled between the hills. The village was known for its annual Sheepdog Trials, a tradition that brought together families from miles around. On a crisp autumn morning, the villagers gathered on the moors, their breath visible in the cold air, as they watched the dogs skillfully herd sheep under the clear, expansive sky.\n\nAmong the","stretched its rosy fingers over Kaisei Town. Rina Himura woke with the sun, its warmth gently coaxing her eyes open. The chirping of the seagulls and the distant hum of the waves were the only signs that the town was already stirring to life.\n\nWith an energetic stretch, Rina sat up in her futon. She glanced at the wooden clock","by snow-capped mountains and water, which make it look like Vancouver. Key attractions in the city include the Space Needle, which is an observation tower, the beautiful waterfront and the bustling Pike Place Market. There are also some beautiful beaches, mountain landscapes and a rainforest just at a day\u2019s trip away from Seattle. Having a mild climate, the city is a great","by snow-capped mountains and water, which make it look like Vancouver. Key attractions in the city include the Space Needle, which is an observation tower, the beautiful waterfront and the bustling Pike Place Market. There are also some beautiful beaches, mountain landscapes and a rainforest just at a day\u2019s trip away from Seattle. Having a mild climate, the city is a great","by snow-capped mountains and water, which make it look like Vancouver. Key attractions in the city include the Space Needle, which is an observation tower, the beautiful waterfront and the bustling Pike Place Market. There are also some beautiful beaches, mountain landscapes and a rainforest just at a day\u2019s trip away from Seattle. Having a mild climate, the city is a great",", silent for years, was repaired, its deep, resonant toll once again echoing across the village.\n\nFinally, after many months, the restoration was complete. On a crisp autumn morning, the congregation gathered to celebrate their triumph. As they entered the revitalized sanctuary, sunlight poured through the windows, illuminating the faces of the villagers, each",". The second, and most dramatic part of this cult movie shows the progressive estrangement between a French writer and his wife. Widely based on the metaphorical relationship between the scenic landscapes of the southern coast of the island and the live crumbling of the couple, it shows an helpless Michel Piccoli trying to win back a burning Brigitte Bardot at the peak of her",". The second, and most dramatic part of this cult movie shows the progressive estrangement between a French writer and his wife. Widely based on the metaphorical relationship between the scenic landscapes of the southern coast of the island and the live crumbling of the couple, it shows an helpless Michel Piccoli trying to win back a burning Brigitte Bardot at the peak of her","international border with China, Bangladesh, Myanmar (Burma), Nepal, and Bhutan. This region, connected to mainland India via the \"chicken neck,\" is a vibrant tapestry of diverse ethnic groups with roots spanning the globe and historical epochs. The North-east's rich cultural tapestry is a manifestation of the region's ethnic heterogeneity","have to go over there sometime, on a lethargic day where the breeze is better, and I can wear headphones with loud music blaring from them, conducting a symphony of seagulls and pigeons, surrogate fathers with ice-cream fed children with the smears of their delight still plastered around their mouths. When I first moved in I thought to","able to make that cup shorthand for someone who was discerning, sophisticated and had enough money to waste on coffee.\u201d\n\n1. In 1971, the first Starbucks opened its doors in Seattle, featuring a sign made of painted cedar planks. When the building was demolished in 1974, the company moved the furnishings to a new \u201coriginal\u201d","of the night. Next, I will explore the boom of this industry in more present times, in particular in our homeport of Seattle, Washington.\n\nIn 1971, the first Starbucks opened its doors in Pike Place Market, marking the beginning of what would soon become the largest coffee corporation to date. According to their company information page, \u201cThe name, inspired by Moby Dick,","out that the history of the Starbucks logo is every bit as interesting as the history of the company itself.\n\nStarbucks Logo Evolution\n\nIt wasn\u2019t long after the first Starbucks opened its doors in Seattle that the founders knew they were going to need a good logo. Wanting to capture the seafaring history of coffee as well Seattle\u2019s own close connection to the sea,","that the history of the Starbucks logo is every bit as interesting as the history of the company itself.\n\nHistory of the Starbucks Logo\n\nIt wasn\u2019t long after the first Starbucks opened its doors in Seattle that the founders knew they were going to need a good logo. Wanting to capture the seafaring history of coffee as well Seattle\u2019s own close connection to the sea,","Maintain a constant coffee buzz in Capitol Hill\n\nSeattle changed the world of coffee after the first Starbucks opened its doors in 1971, but the culture has grown to something much more than that. Many locals now cringe at the sight of the green cups, but mostly because out-of","Maintain a constant coffee buzz in Capitol Hill\n\nSeattle changed the world of coffee after the first Starbucks opened its doors in 1971, but the culture has grown to something much more than that. Many locals now cringe at the sight of the green cups, but mostly because out-of","Maintain a constant coffee buzz in Capitol Hill\n\nSeattle changed the world of coffee after the first Starbucks opened its doors in 1971, but the culture has grown to something much more than that. Many locals now cringe at the sight of the green cups, but mostly because out-of","unique cinematic experiences. Despite challenges, such as maintaining artistic authenticity amidst commercial pressures, the allure of indie films remains unparalleled. Independent films have become a vibrant tapestry of diverse cultures and narratives. The end of the reel.","\u201d pasted to it around a streetlight. The teeth were a business card you tore off, changing the created smile. Here in Seattle there's a boutique just around the corner from the bustling Pike Place Market that creates unicorns on the sidewalk. They create them using chalk with, then add arrows leading you to their doorstep.\xa0\n\n\nGive the place a make","bad for you, and the chain is popping up everywhere. Well, that last one is definitely true. Starbucks is an American brand, but it's gone global.\n\nSince the first Starbucks opened its doors in Seattle in 1971, stores have spread to every corner of the globe, and some of them are pretty interesting.\n\nCheck out 13 of the most unique Star","3, 2018\n\nEveryone's a coffee snob in 2016. It's a reality that's been a long time coming, ever since the first Starbucks opened its doors in 1971 and introduced Americans to the art of Italian espresso drinks. Now, once-high-end coffee drinks are being served to the masses. Flat whites","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress."],"translate to english":["tear,\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","tear,\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","tear,\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nIt's Boredom!\u2014eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","ypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","ypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","ypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","Hypocrite lecteur, -- mon semblable, -- mon fr\xe8re\xa0!\n\nIt's Boredom!--eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\n\n(It's Ennui! \u2014 his eye brimming with spontaneous tear\nHe dreams of the gallows in the haze of his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!)\n\n\n\nmojo said...\n\nwhy do we blog? why do people write and publish their stuff? because","!\n\nIt's Ennui!\u2014his eye brimming with spontaneous tear\nHe dreams of the gallows in the haze of his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Parisian Scenes)[edit]\n\nBaudelaire's section Table","!\n\nIt's Ennui!\u2014his eye brimming with spontaneous tear\nHe dreams of the gallows in the haze of his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Parisian Scenes)[edit]\n\nBaudelaire's section Table","ypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re! It is Boredom! \u2014 an eye brimming with an involuntary tear,he dreams of the gallows while smoking his water-pipe.You know him, reader, this fragile monster,\u2014hypocrite reader,\u2014my twin,\u2014my brother! [edit] 20th century influ","\n\n(It's Ennui! \u2014 his eye brimming with spontaneous tear\nHe dreams of the gallows in the haze of his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!)\n\nFootnote; Yes, we still live in a veritable wasteland, don't we?\n\nTh","world;\n\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","world;\n\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","world;\n\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","world;\n\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this delicate monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\nVisual art influencesEdit","Tu le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\nVisual art influences[","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\nVisual art influences[","Tu le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\nhe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nhe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nhe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","Tu le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\nhe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","Tu le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","the world;\nIt's Boredom! The eye loaded with an involuntary cry,\nHe dreams of scaffolding by smoking his houka.\nYou know him, reader, this delicate monster,\n- Hypocrite reader!-my similar,-my brother!\n\nSo in fact the line is referring to boredom, not critics, but I think the two are still connected. The","the world;\nIt's Boredom! The eye loaded with an involuntary cry,\nHe dreams of scaffolding by smoking his houka.\nYou know him, reader, this delicate monster,\n- Hypocrite reader!-my similar,-my brother!\n\nSo in fact the line is referring to boredom, not critics, but I think the two are still connected. The","\nIt\u2019s Ennui! \u2014 his eye brimming with spontaneous tear\n\nHe dreams of the gallows in the haze of his hookah.\n\nYou know him, reader, this delicate monster,\n\nHypocritical reader, my likeness, my brother!\n\nSeason Two: OVA 4\n","Schmoozing the Characters, or Boarders in the Rooming House of Ego\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou know him, reader, this delicate monster,\n\nHypocritical reader, my likeness, my brother!\n\nSunday, June 29, 2014\n\nGrowth Rate\n","The missing piece of the puzzle is the reader; the one who is busy wondering what ought to be said as opposed to the one who feels what she feels. \xa0Thus:\n\nYou know him, reader, this delicate monster,\n\nHypocritical reader, my likeness, my brother!\n\nSunday, June 29, 2014\n\nGrowth Rate\n","The missing piece of the puzzle is the reader; the one who is busy wondering what ought to be said as opposed to the one who feels what she feels. \xa0Thus:\n\nYou know him, reader, this delicate monster,\n\nHypocritical reader, my likeness, my brother!\n\nSunday, June 29, 2014\n\nGrowth Rate\n",'"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"']},user_study_monsters:{"I am working on a fantasy game where players take on the role of a human child who enters a magical world full of monsters and must find a way home. Come up with a type of monster and briefly describe its backstory.":["The Lumivine is a bioluminescent vine creature that emits a soothing glow; once a guardian of sacred groves, it now ensnares travelers to protect its dwindling forests from harm.","The Lumigore is a once-gentle forest guardian, transformed into a vengeful monster by a dark curse after its forest was destroyed by greedy mages seeking magical resources.","The Luminal Wisp is a mischievous, ethereal creature that once guarded the border between realms but was cursed to roam aimlessly after being tricked into abandoning its post by a deceitful sorcerer.","The Lamenting Willow: A tree-like creature born from the sorrows of lost travelers, it wanders the magical world seeking to guide others home, but its mournful wails often attract dangerous predators.","The Lumivine, a bioluminescent vine creature, was once a guardian spirit of the forest corrupted by dark magic, now ensnaring lost travelers in its glowing tendrils.","The Lumisprite is a glowing, moth-like creature that once served as guardians of the magical world's light sources, but were corrupted by dark magic, causing them to spread shadows instead.","The Lumivine is a bioluminescent vine creature that once thrived on sunlight, but after a sorcerer's curse, it now feeds on the dreams of lost children to survive.","The Lumivine is a bioluminescent vine creature that was once the guardian of the forest's light, cursed into a monstrous form for failing to protect its realm from darkness.","The Lumivine: Once benevolent forest spirits, these creatures transformed into glowing, vine-covered beasts after a dark curse, now luring lost travelers deeper into the enchanted woods.","The Lumivine Serpent is a glowing, vine-covered snake that was once a guardian spirit of the forest, but became twisted and hostile after a botched spell by a rogue wizard seeking to harness its power.","The Luminescent Gloomling, once benevolent spirits of light, were cursed by a dark sorcerer and now wander the woods, seeking to absorb the light from any living being they encounter to regain their lost purity.","The Lumivore is a bioluminescent, shadowy creature that was once a guardian of light, but turned into a monster after being corrupted by the darkness it vowed to protect against.","The Lumigloom are shadowy creatures that were once the guiding spirits of the enchanted forest, but were corrupted by dark magic and now seek to trap lost souls in their eternal night.","The Willow Wisp is a mischievous spirit born from the lost souls of children who wandered too far into the enchanted forest, guiding travelers deeper into the woods with its alluring glow in hopes of finding a way home themselves.","The Lumivores are ethereal creatures that feed on light, created long ago by a sorcerer who sought to dim the world's radiance in a bid for eternal night.","The Lumivine Serpent is a bioluminescent snake that once served as guardians of the forest's ancient secrets but became cursed to eternally search for their lost wisdom.","The Lumibrume is a misty creature that guards the enchanted forests; it was once a wise sage who transformed to protect the realm from intruders after a tragic betrayal.","The Lumisprite is a bioluminescent creature that guides lost souls through the forest; once benevolent protectors, they turned mischievous after a magical curse, leading travelers astray unless a riddle is solved.","The Lumivine Serpent is a bioluminescent snake-like creature that once served as guardians of ancient forest temples, glowing in the dark to guide lost souls back to safety.","The Lumigloom is a bioluminescent, shadowy creature born from lost wishes, casting eerie lights in the dark forest, seeking to guide or mislead travelers based on their intentions.","The Lumishade is a ghostly creature born from lost dreams, haunting dense forests with its glowing eyes, seeking to guide lost souls back to their rightful paths as it longs for its own forgotten purpose.","The Lumigloom is a shimmering wraith-like creature born from the tears of lost travelers, forever wandering the magical world in search of guiding lost souls back home.","The Luminoids are bioluminescent creatures that were once benevolent forest spirits, but a dark curse twisted their light into an eerie glow, causing them to wander aimlessly, seeking redemption.","The Gloomwhisper is a shadowy creature born from forgotten fears, lurking in the forests and feeding on the despair of lost travelers, longing to regain its lost identity from the light of a true friend.","The Luminaut is a glowing, moth-like creature drawn to sources of light, cursed by a once-great wizard who sought eternal illumination but instead trapped their soul within the Luminaut's radiant wings.","The Lumivine is a bioluminescent plant creature that feeds on the dreams of lost travelers, created long ago by a sorceress who sought to capture the essence of imagination.","The Lumigloom is a bioluminescent creature born from fallen stardust, tasked with guarding the ancient forest paths and leading lost souls to safety, but often misunderstood due to its eerie glow.","The Luminescent Wisp is a small, glowing creature born from the remnants of fallen stars, luring travelers with its enchanting light to guide or mislead them depending on its mood.","The Lumivine is a bioluminescent vine creature that glows in the dark, once guardians of a sacred forest before a curse twisted them into aggressive hunters, attacking anyone who disrupts their territory.","The Lumivine is a bioluminescent vine creature that once served as guardians of the forest, but after a magical corruption, they now ensnare lost travelers to feed on their dreams.","The Lumivine is a serpentine creature with glowing scales; once revered as guardians of ancient secrets, they turned hostile after their sacred groves were destroyed by careless magic.","The Lamenting Willow is a tree-like creature whose roots are the spirits of lost travelers; it lures the unwary with haunting songs, hoping to find someone who can help it fulfill its wish to return home.","The Lumisprite is a gentle, glowing creature that was once a guardian spirit but was cursed and trapped in this world, now seeking a way to regain its true form by helping lost children.","The Luminara are ethereal creatures born from the remnants of ancient fallen stars, tasked with guiding lost souls but cursed to wander the magical world until they find peace themselves.","The Lumivine is a bioluminescent vine creature that was once a guardian of the forest, but a dark curse twisted it into a predatory monster that lures travelers with its enchanting glow.","The Luminoids are bioluminescent creatures that dwell in the Enchanted Forest, once peaceful spirits of light who became monsters after a dark spell disrupted their harmony, now seeking to absorb light from any source to restore their fading glow.","The Glimmerfiend is a mischievous creature born from the remnants of forgotten wishes, luring travelers with its enchanting glow only to trap them in endless mazes of illusions.","The Lumivine is a bioluminescent, serpent-like creature that once guided lost travelers with its glowing patterns, but after being cursed by a vengeful sorcerer, it now lures them deeper into the forest to trap them forever.","The Lumigloom is a bioluminescent creature born from the forgotten dreams of lost children, wandering the magical world in search of those who can help it find its own lost way home.","The Lumivores are ethereal creatures that feed on light, born from a magical eclipse that once darkened the enchanted realm, and they now roam the land seeking sources of illumination to sustain themselves.","The Luminaith are ethereal creatures born from the remnants of fallen stars, tasked with guarding ancient celestial secrets, but they became corrupted over time, turning them into mischievous tricksters who delight in leading travelers astray.","The Lumigloom is a bioluminescent creature born from the sorrow of lost travelers, casting ethereal lights that both guide and confuse those who wander too far into the enchanted woods.","The Luminoids are ethereal creatures that once were stars, fallen from the sky and cursed to wander the magical world, seeking to regain their celestial form by absorbing light from their surroundings.","The Gloomshade is a shadowy creature born from the fears of lost travelers, lurking in the misty forests to guide or deceive those seeking their way home.","The Lumigore, a bioluminescent wolf-like creature, was once the guardians of the enchanted forest, but a curse twisted their protective nature into hostility towards intruders.","The Whimsy Wisp is a mischievous spirit born from the laughter of lost children, known for guiding travelers with illusions that lead them in circles unless befriended.","The Luminoir is a shadowy creature born from the tears of lost travelers, which feeds on their fears and uses illusions to trap them in a labyrinth of despair.","The Gloomwisp is a shadowy creature born from the regrets of lost travelers, drawn to the child's warmth and hope, seeking to guide or mislead them depending on their intentions.","The Lumigloom is a bioluminescent creature that once served as guardians of the forest's light but were cursed by a dark sorcerer, causing them to cast shadows that devour the courage of those who stray too close.","The Gloomling is a shadowy creature born from the forgotten dreams of lost children, wandering the magical world seeking to guide or mislead those who enter, based on how they are treated."],"I am making fantasy game. Please generate a type of monster.":['How about a "Shadow Drake," a stealthy dragon that can blend into darkness and strike with silent precision?',"Name: Shadow Serpent; Description: A stealthy, ethereal snake that can blend into darkness, striking with poison-tipped fangs.",'How about a "Shadow Wisp," a ghostly creature that drains energy from light sources and can phase through walls?','How about a "Shadow Wraith," a ghostly figure that drains energy and sows fear in the hearts of adventurers?',"Aether Drake: A mystical dragon that feeds on magical energy and can phase through dimensions.","A Shadow Wraith: An ethereal creature that drains life force and thrives in darkness.","A Shadowmire Wraith: a ghostly apparition that haunts swamps, shrouded in mist and capable of draining warmth and vitality from its victims.","A Shadowfang Wraith, a spectral creature that can phase through walls and siphon life energy from the living.","A Shadow Wyrm: a serpentine creature that slithers through darkness, feeding on fear and casting illusions.",'Create a "Shadow Wraith," an ethereal creature that drains the life force of its enemies in darkness.',"A Shadowfang Wraith: a spectral creature that drains life energy and can phase through solid objects.","A Shadow Lynx: a stealthy, feline creature that blends into the darkness and strikes with silent precision.",'How about a "Shadowmire Wyrm," a serpentine creature that dwells in swamps, cloaked in dark mist and capable of hypnotizing its prey?',"A Luminescent Wraith, a ghostly creature that glows with an eerie light and drains the life force from anything it touches.","A Shadow Wraith: an ethereal creature that feeds on fear and lurks in the darkest corners, invisible until it strikes.",'How about a "Shadowfang Wraith," a spectral creature that feeds on fear and can phase through walls?',"A Shadow Wraith: an ethereal creature that drains energy and thrives in darkness.",'How about a "Shadowmire Wraith," a creature that emerges from dark, swampy mists and drains life force with its chilling touch?','How about a "Shadow Wyrm," a serpentine creature that thrives in darkness and can blend seamlessly into shadows to ambush its prey?',"A Shadowfang Wraith: an ethereal creature that drains life energy and can pass through solid objects.",'How about a "Shadow Wyrm," a serpent-like creature that blends into darkness and siphons life energy from its victims?','How about a "Shadow Wraith," a spectral creature that drains life energy and lurks in dark, forgotten places?',"A Shadowfang Wraith: an ethereal creature that drains life energy and moves silently through the dark.",'How about a "Shadow Wyrm," a serpentine creature that thrives in darkness and can phase in and out of shadows?',"A Luminescent Wraith: a ghostly creature that emits a haunting glow, draining the life force of those who dare approach.",'How about a "Shadowfang Wraith," a spectral creature that drains light and life, leaving its victims in eternal darkness?',"A Shadowfang Wraith, an ethereal creature that drains life force and can pass through solid objects.",'Sure! How about a "Shadow Wyvern" that camouflages in darkness and strikes with venomous fangs?',"A Shadowscale Serpent, a large snake with scales that blend into darkness, capable of emitting a paralyzing hiss.",'How about a "Shadowflame Wraith," a ghostly entity that wields dark fire to drain the life force of its enemies?','How about a "Shadow Wraith," a ghostly creature that drains energy and can phase through walls?',"A shadow drake, a serpent-like creature that blends into darkness and strikes with venomous fangs.",'How about a "Gloomshade Wraith," a shadowy specter that drains hope and light from its surroundings?',"A Shadowfang Wraith: a ghostly creature that drains life force and is nearly invisible in dim light.",'Create a "Glimmer Wraith," a spectral creature that shimmers with an eerie light and drains the warmth from its surroundings.',"A Shadow Wyrm, an ethereal dragon that blends into darkness and feeds on fear.","A shadow wraith: a ghostly entity that drains life force and manipulates darkness.",'Create a "Shadow Wyrm," a serpentine creature that lurks in darkness, able to phase through shadows and drain energy from its victims.',"A Shadow Wraith: a spectral creature that drains energy from living beings and can become intangible in darkness.",'How about a "Shadow Wraith," a spectral creature that drains energy and cloaks itself in darkness?','How about a "Shadow Wyrm," a serpentine creature that lurks in darkness and can merge with shadows to become nearly invisible?','How about a "Shadow Wraith," an ethereal creature that drains life energy and can phase through walls?',"A Shadowmancer: a spectral being that manipulates darkness to cloak itself and attack with shadowy tendrils.",'Create a "Glimmerfiend," a shimmering, ethereal creature that mesmerizes adventurers with its radiant aura and feeds on their dreams.',"A Shadowfang Wraith: a spectral creature that drains life force and can phase through solid objects.","A Shadowmire Serpent: a giant, eel-like creature that lurks in murky swamps, camouflaged by its dark, slimy scales, and attacks with a venomous bite.","A Shadowclaw Wraith, a fast-moving spectral creature that drains life energy with its ethereal claws.",'How about a "Shadowmire Wraith," a spectral creature that lurks in the misty swamps, feeding on the fear of lost travelers?',"A Shadow Serpent: a spectral snake that slithers silently through darkness, feeding on fear and shadows.",'Create a "Shadow Wyrm," a serpent-like creature made of darkness that can blend into shadows and drain the life force of its prey.'],"Imagine a magical ecosystem in a fantasy world\u2014give me a creature that might evolve there and a quick explanation of its background.":["In the Whispering Woods, the Luminae Moth evolves, a bioluminescent insect that feeds on moonlight and helps pollinate the rare Starflower, which only blooms at midnight.","In the Lumina Forest, the Glimmerwing Moth evolves bioluminescent patterns on its wings to communicate and navigate the dense, glowing flora, ensuring its survival and reproduction in the magical twilight environment.","In the Lumina Grove, the Glimmersprite evolved, a bioluminescent insect that feeds on ambient mana, using its glow to communicate and attract mates in the magical twilight.","The Luminara Moth, a bioluminescent insect that evolved to emit calming light frequencies to soothe nocturnal predators, ensuring its survival in the enchanted Forest of Tranquility.","The Lumivine Serpent, a bioluminescent snake that glows in the dark to attract and ensnare moth-like creatures for sustenance, evolved in the phosphorescent forests of the Elderglow Woods.","In the luminous forests of Eloria, the Glowsprite evolved, a bioluminescent fairy-like creature that feeds on ambient magical energy and helps pollinate the radiant flora.","The Luminara Moth, a bioluminescent insect that evolved to navigate the dense, darkened forests by emitting light patterns to communicate and evade predators.","The Lumigale, a bioluminescent fox-like creature, evolved in the Enchanted Forest to navigate and communicate in the dense, shadowy woods using its glowing tail patterns.","In the Enchanted Glade, the Lumiphoenix evolved, a radiant bird that absorbs moonlight to heal the forest and can ignite its feathers to ward off dark forces.","The Luminescent Sylph is a delicate, bioluminescent fairy-like creature that evolved to pollinate the enchanted night-blooming flora of the Glowing Woods, using its light to navigate and attract mates.","In the Luminescent Glade, the Biolux Moth evolved to emit a soothing light from its wings, attracting and feeding on the magical pollen of luminescent flowers.","The Luminara Moth is a bioluminescent insect that evolved to emit light patterns, guiding lost travelers through the enchanted forests of Elderglow, where it feeds on mystical nectar.","The Luminara Phoenix, a bird whose feathers emit a soft glow, evolved in the bioluminescent forests of Elderglow, using its radiant plumage to attract mates and ward off nocturnal predators.","The Luminara Fox, a bioluminescent creature that glows in the dark to attract and feed on energy-rich night-blooming flowers in the dense, enchanted forests.","The Glimmerwing Sprite is a luminescent, butterfly-like creature that evolved in the bioluminescent forests, using its glowing wings to communicate and attract mates in the dim light.","The Luminarae, a bioluminescent moth-like creature, evolved to emit light patterns that communicate intricate messages across the dense, enchanted forests of Elderglow, aiding in navigation and social interaction.","The Lumivine Serpent, a bioluminescent snake-like creature, evolved to navigate and thrive in the glowing fungal forests by using its shimmering scales to communicate and attract prey.","In this magical ecosystem, the Luminara Moth emerges, a bioluminescent insect that feeds on enchanted pollen, using its glowing patterns to communicate and find mates in the moonlit forests.","In the Lumina Forest, the Glimmerfox, a bioluminescent fox-like creature, evolved to emit a soft glow that deters predators and attracts nocturnal insects for nourishment.","The Lumipod is a bioluminescent, floating jellyfish-like creature that evolved to light the dense, dark forests of Elderglow, symbiotically nurturing the vibrant flora with its radiant glow.","The Lumigryph is a bioluminescent griffin that evolved to navigate the dense, shadowy forests of Elderglow, using its radiant plumage to attract prey and communicate with its kin.","The Luminara Vine Serpent, a bioluminescent snake that evolved to camouflage among enchanted glowing plants, feeds on magical insects attracted to their light.","In the Lumina Forest, the Glimmerwing Moth evolved to emit bioluminescent patterns on its wings, using them to communicate and attract mates in the perpetual twilight.","In the Luminescent Glade, the Glimmerfox evolved with bioluminescent fur to attract and feed on enchanted fireflies, serving as both predator and pollinator for the region's glowing flora.","The Lumigale is a bioluminescent deer-like creature that evolved to navigate and communicate in the glowing forests of Elderglow, using its light to ward off predators and attract mates.","In the magical Lumina Forest, the Glimwing Moth evolved with bioluminescent wings that emit calming light to ward off predators and attract mates, thriving on the abundant glowing nectar of the forest's luminescent flora.","In the Luminescent Forest, the Glimmerwing Moth evolved bioluminescent patterns on its wings to communicate and attract mates in the perpetual twilight of the enchanted canopy.","In the Lumina Woods, Glowsprites evolved with bioluminescent wings to communicate in the dense, dark forest, guiding lost travelers and pollinating enchanted flora.","The Luminara Moth, a bioluminescent insect that emits soothing light, evolved in the enchanted Glimmerwood to guide nocturnal creatures and pollinate the luminescent flora.","In the Lumina Forest, the Glimmerfox evolved bioluminescent fur to communicate and navigate through the ever-glowing flora, alerting others to magical predators.","The Luminara Phoenix, a bird that absorbs moonlight to fuel its glowing plumage, evolved in the enchanted forests of Elderglow to guide lost travelers and ward off dark creatures.",'In the Luminescent Vale, the "Glimmerfox" evolved to emit bioluminescent patterns on its fur, attracting the moths it preys upon and communicating with its pack in the vibrant, enchanted forest.',"The Lumiglyph Serpent, a bioluminescent snake that glows with intricate patterns, has evolved to hypnotize its prey and communicate through light signals in the enchanted forests of Eldoria.","In the Lumilake region, the Glimmerfins are fish that emit bioluminescent light patterns to communicate and navigate through the enchanted, glow-infused waters.","In the Luminescent Forest, the Glimmerwing Moth evolved with bioluminescent wings to navigate and communicate in the dense, enchanted canopy, using its glow to ward off predators and attract mates.","The Luminara is a bioluminescent deer-like creature that evolved to emit light from its antlers, helping it navigate the dense, shadowy forests of the magical realm and communicate with its herd through vibrant light displays.","The Luminoctis, a bioluminescent owl with wings that shimmer in moonlight, evolved to communicate and navigate through the dense, enchanted forests by using light patterns.","The Luminarae is a bioluminescent butterfly that evolved to thrive in the enchanted Nightshade Forest, using its glowing wings to attract prey and communicate with others of its kind in the dark.","The Lumiglow Serpent, a bioluminescent snake that evolved to navigate and hunt in the phosphorescent jungles of Luminara, using its glow to communicate and attract prey.","The Luminarae, bioluminescent winged creatures, evolved to navigate the dense, shadowy forests of Elderglow, using their light to communicate and attract mates.","In a luminous forest, the Glimwing Moth evolved, possessing bioluminescent wings to attract mates and illuminate its surroundings, aiding its navigation and pollination of glowing plants.","The Lumiglyph, a bioluminescent moth with wings that display shifting runes, evolved in the Enchanted Glade to communicate and navigate using light patterns in the perpetually twilight environment.","In the Lumina Forest, the Glimmerfox evolved to emit bioluminescent patterns, allowing it to communicate and camouflage among the glowing flora, enhancing its survival and social interactions.","The Luminescent Sylph is a small, winged creature that absorbs ambient magical energy to emit a soft, calming glow, aiding travelers by lighting paths in the dense, enchanted forests of Eldoria.","The Lumivine Serpent, a bioluminescent snake that evolved to thrive in the phosphorescent forests of Glimmerglen, uses its glowing scales to attract and hypnotize prey.","In the Luminal Glade, the Luminarae, bioluminescent deer-like creatures, evolved to emit light patterns that communicate emotions and ward off nocturnal predators.","In the Enchanted Glade, the Lumifern Sprite evolves, a bioluminescent creature that feeds on moonlight and helps pollinate the glowing flora, ensuring the forest thrives even under the cloak of night.","The Lumigale is a bioluminescent deer-like creature that thrives in the glowing forests of Elderglow, using its shimmering antlers to communicate and navigate the perpetual twilight.","The Lumigale, a bioluminescent deer-like creature, has evolved to emit soothing light patterns to communicate and ward off predators in the dense, enchanted forests of Eldoria.","In the Lumina Forest, the Glimmerfox evolved to emit bioluminescent light from its fur, using it to communicate and navigate the dense, shadowy woods."],"I need an enemy concept for a fantasy RPG: design a unique monster that players might encounter and tell me its backstory.":['The "Gloomshade Wyrm" is a serpentine creature that prowls the shadowy depths of enchanted forests, born from a cursed seedling that absorbed the sorrow of a forgotten elven kingdom, feeding on fear and despair to grow stronger.','Meet the "Mire Wraith," a spectral entity born from the sorrowful spirits of warriors who perished in a cursed swamp, seeking vengeance against the living for their forgotten valor and unfulfilled quests.','The "Whispering Wraith" is a ghostly creature born from the souls of betrayed warriors; it haunts ancient battlefields, luring adventurers with promises of power before draining their life force.',"Behold the \"Aetherbound Manticore,\" a creature with a lion's body, dragon's wings, and a scorpion's tail, born from forbidden alchemical experiments that fused beasts with volatile aether, granting it the ability to phase in and out of the physical realm.",'The "Whispering Hollow," a sentient mist that manifests the regrets and fears of those who enter it, was born from the sorrow of a forgotten sorcerer whose unfulfilled wishes seeped into the land, creating a haunting entity that preys on the psyche of adventurers.','The "Whispering Shade" is a ghostly apparition that haunts ancient libraries, formed from the lingering knowledge of forgotten scholars; it seeks to absorb the memories of those who disturb its solitude, driven by an insatiable desire to complete its eternal quest for lost wisdom.',"The Lumispecter is a spectral creature that drains light and hope, originally a benevolent forest spirit cursed by an ancient wizard; it must now be defeated to restore balance to the enchanted woods.",'The "Whispering Hollow" is a spectral tree creature that haunts enchanted forests, born from a cursed grove where a vengeful druid\'s spirit merged with ancient oaks, luring victims with hypnotic whispers that promise forbidden knowledge.',"The Gloomweaver is a shadowy serpent that weaves illusions to ensnare its prey; born from the despair of a betrayed sorceress, it haunts ancient ruins to feed on the fears of lost travelers.",'The "Wyrmweaver" is a serpentine creature with the ability to knit illusions from the mist; it was once a guardian spirit of a sacred grove, corrupted by dark magic after the grove was destroyed.',"The Shadowmire Wraith is a spectral creature born from the sorrow of warriors who fell in battle in the cursed marshlands; it seeks to draw living souls into its eternal gloom to quench its insatiable loneliness.","The Murkdwellers are shadowy, amorphous creatures that emerge from cursed swamps, born from the anguish of ancient battles where souls were never laid to rest, feeding on despair and spreading illusions to ensnare unwary travelers.",'Introducing the "Glimmerfiend," a spectral creature that feeds on forgotten dreams, born from the lingering regrets of a once-great kingdom\'s fallen wizards, now haunting ancient ruins in search of lingering magic and memories.',"The Luminoch, a luminescent, vine-covered golem made of enchanted crystal, was created by an ancient druid to guard the sacred Heartwood Grove, but now it wanders the forest, attacking those who desecrate nature.",'The "Whispering Wraith" is a spectral entity born from the echoes of forgotten regrets, haunting ancient ruins and luring adventurers with its melancholic song to drain their life force, seeking eternal release from its own torment.',"The Lumivorax is a shadowy wolf-like creature that feeds on light, created by a vengeful sorcerer to extinguish the eternal glow of a rival's magical forest, roaming the land and dimming any sources of light it encounters.",'The "Whispering Wisp" is a spectral creature born from lost souls trapped in a cursed forest, luring adventurers with haunting melodies to drain their life force and add them to its ethereal choir.','The "Veil Wyrm" is an ethereal serpent that dwells in misty forests, born from the fragmented dreams of an ancient sorcerer who sought immortality and now guards the secrets of forgotten magic.','The "Lumivor Slug" is a bioluminescent, cave-dwelling creature that feeds on light and magic, created when a wizard\'s failed illumination spell merged with a colony of slugs, turning them into predatory entities attracted to magical sources.','Meet the "Whispering Gloom," a shadowy wraith born from the despair of fallen warriors, haunting ancient battlefields and feeding on the lingering regrets of the dead.',"The Luminary Wraith is a spectral being formed from the souls of fallen stargazers who sought forbidden constellations; it haunts ancient observatories, luring adventurers with illusions of celestial treasures while draining their life force.","The Shadewhisper Wyrm is a serpent-like creature that dwells in the shadows of ancient forests; once benevolent guardians of nature, they became corrupted by dark magic, now luring travelers with haunting melodies to drain their life force.",'The "Echo Wraith" is a spectral creature born from the anguished whispers of trapped souls; it haunts ancient ruins, seeking to mimic and distort the voices of intruders, driving them to madness unless they can break its curse by uncovering its tragic origin.','Meet the "Veilweaver," a spectral entity born from the sorrow of forgotten dreams, which haunts misty forests, weaving illusions to trap those who wander too far from reality.',"The Umbral Weaver is a shadowy creature that spins webs of darkness to trap the souls of the unwary; once a revered guardian spirit, it was corrupted by a forbidden curse cast by envious wizards seeking control over the ethereal realm.",'The "Whispering Wraith," a spectral entity born from the souls of betrayed knights, haunts ancient battlefields, driven by an insatiable need to sow distrust and division among living warriors it encounters.',"The Lumivine Wraith is a spectral creature that haunts enchanted forests, born from the souls of lost travelers who were enchanted by the forest's will-o'-the-wisps and perished, now seeking to lure others into the same fate to break their own curse.",'Introducing the "Whispering Sylphid," a translucent, ethereal creature born from the echoes of forgotten spells, haunting ancient ruins to absorb and distort magic, once created by a wizard who sought eternal wisdom but was consumed by his own arcane ambitions.','Introducing the "Whispering Wraith": a spectral entity born from the collective regrets of a cursed village, it seeks to ensnare adventurers with haunting whispers of their unfulfilled desires, luring them into an eternal dance of despair within its fog-shrouded domain.','The "Veil Wraith" is a spectral creature born from the sorrow of those who died waiting for lost loved ones, haunting misty forests, and drawing strength from forgotten memories, seeking to ensnare adventurers with illusions of their deepest desires.','The "Hollow Warden" is a spectral guardian forged from the souls of fallen warriors, cursed to protect a forgotten relic in the depths of an ancient forest; it seeks redemption by testing the worthiness of those who dare approach.',"The Shadowthorn Wraith is a spectral entity born from the cursed grove of Elderspire, where betrayed druids were buried; it weaves through the forest, seeking vengeance on intruders by ensnaring them in illusions of their darkest fears.",'The "Whispering Shade" is a spectral entity born from the souls of betrayed warriors; it haunts battlefields, luring adventurers into traps with its eerie, disembodied voices that mimic lost comrades.',"The Luminescent Sylph is a glowing, ethereal creature born from the fractured essence of a fallen star, tasked with guarding ancient celestial secrets hidden deep within enchanted forests.",'The "Echo Wraith" is a spectral entity born from the anguished cries of battlefields, appearing as a swirling mist of despair that mimics the voices of fallen warriors to lure adventurers into traps; it seeks to reclaim the life it lost in war by feeding on the courage of the living.',"The Lumivex is a haunting ethereal creature born from the anguish of lost souls trapped in enchanted mirrors, seeking to absorb light and joy from the living to fill its eternal void.","The Whispering Wraith: Once a wise sage who dabbled in forbidden magic, it now roams the misty forests, invisible and tormented, luring adventurers with haunting whispers that reveal their deepest fears to drain their willpower.",'The "Echo Wyrm" is a serpentine creature that mimics the voices of fallen warriors, born from the grief of a battlefield where a powerful sorcerer cursed the land to eternally echo the cries of the defeated.','The "Whispering Wraith," a spectral entity born from the collective fears and regrets of a cursed village, feeds on the negative emotions of those who wander too close, luring them with eerie, echoing voices that reveal their deepest secrets.','The "Whispering Wraith" is a spectral entity that haunts ancient libraries, created from the cursed souls of scholars who sought forbidden knowledge, now compelled to steal the memories of those who disturb the tomes they protect.','The "Whispering Wraith" is a spectral entity born from the sorrow of lost scholars, haunting ancient libraries and feeding on forgotten knowledge, luring adventurers with promises of wisdom before ensnaring their minds.','The "Shadeweaver," a shadowy serpent with ethereal scales that feeds on fear, was once a guardian spirit corrupted by ancient dark magic, now haunting abandoned ruins to ensnare the brave and unwary.',"The Luminescent Wraith is a ghostly creature that haunts ancient libraries, born from the souls of scholars who were consumed by their obsession with forbidden knowledge, now cursed to guard the secrets they uncovered.","The Luminescent Chimeroth is a bioluminescent creature born from a failed magical experiment, combining features of a wolf, eagle, and serpent, which now guards ancient ruins to protect the secrets of its origin.",'The "Glimmering Wyrm" is a serpentine creature with iridescent scales that cast illusions to lure adventurers; once a guardian of ancient treasures, it now wanders, seeking vengeance on those who despoiled its lair.',"The Shadowmire Wisp is a floating, ethereal creature that drains the life force of those who stray into its swampy domain, created from the souls of lost travelers who perished in the cursed marshlands, seeking eternal rest by luring others to join them.","The Shadewalker is a spectral beast born from the lingering regrets of fallen warriors, manifesting in abandoned battlefields; it seeks to siphon life energy to fill its empty existence, using its mastery of shadows to evade detection.",'The "Whispering Wraith" is a spectral creature born from the regrets of a fallen hero, haunting ancient battlefields and luring adventurers into traps by mimicking the voices of their loved ones.',"The Shadowmire Sentinel is a spectral guardian born from the souls of lost warriors, bound to protect ancient ruins and cursed to wander the fog-laden swamps until their honor is redeemed.",'The "Gloomshade Wraith" is a spectral entity born from the sorrow of ancient forest spirits trapped in eternal twilight, seeking to drain light and joy from travelers to restore its lost realm.'],"Generate a folklore-style creature for a fantasy game world, and include a short account of its history or legend.":["The Luminescent Nychtocorn is a mystical unicorn-like creature with a glowing mane, said to have been created by a star that fell to earth; legend has it that those who see it are blessed with prophetic dreams.","The Lumivale Sprite is a glowing, nocturnal creature said to guide lost travelers through the enchanted Lumivale Forest; legend tells of how it was born from the tears of a moon goddess mourning her lost love.","The Luminescent Wisp is a small, glowing creature believed to guide lost travelers through enchanted forests, with legends saying they are the spirits of ancient guardians who once protected the realm.","The Whispering Gladekeeper is a spectral guardian of ancient forests, said to have arisen from the spirits of fallen trees, and is believed to guide lost travelers to safety while protecting the woods from harm.","The Nythling is a mischievous woodland spirit known for its ability to weave illusions; legend says it was born from the laughter of the forest itself, tasked with protecting the woods by confusing and redirecting greedy travelers.","The Shadowglade Wisp is a luminescent, ethereal creature that guides lost travelers through the dense forests of Eldoria; legend says they are the spirits of ancient druids who vowed to protect the woods forever.","The Lumivox is a luminous fox-like creature that guides lost travelers through enchanted forests with its glowing fur, believed to be the spirits of ancient guardians who once protected the land from dark magic.","In the misty forests of Elderglen, the Lumivine Serpent glows with an ethereal light; legend says it was born from a fallen star and grants wisdom to those pure of heart who find it.","The Lumivine is a bioluminescent vine creature that lures travelers into the depths of ancient forests with its mesmerizing glow, believed to be the enchanted remnants of a forest spirit who guides worthy souls to hidden treasures.","The Lumigrove Wisp is a glowing, ethereal creature that guides lost travelers to safety, said to be the spirits of ancient forest guardians who vowed to protect the woods after their deaths.","The Lumisprite is a glowing, ethereal creature believed to be the spirits of ancient forest guardians; legend says they guide lost travelers to safety but vanish at dawn, leaving only a trail of luminescent flowers.","The Luminarae are ethereal moth-like creatures that glow with a soft, silver light; legend says they were created by a moon goddess to guide lost souls safely to the afterlife and can only be seen on nights of the full moon.","The Glimmering Fae is a small, luminescent creature that flits through enchanted forests, believed to have been born from fallen stars, and it is said that capturing one grants a wish but at the cost of a forgotten memory.","The Lumisprite is a small, bioluminescent creature believed to be the spirits of lost travelers; legend has it they guide worthy souls through the darkest forests, granting safe passage in exchange for a whispered secret.","The Whispering Will-o'-Wisp is a mischievous forest spirit that lures travelers with soft, melodic murmurs; legend says it was born from the last breath of a lost bard who died in the woods, forever seeking an audience for its haunting songs.","The Lumisprite is a small, glowing creature that flits through enchanted forests, believed to be the remnants of fallen stars, guiding lost travelers to safety with its ethereal light.","The Lumisprite is a glowing, ethereal creature that guides lost travelers through the Whispering Woods; legend says it was once a star that fell to Earth, forever illuminating the forest paths.","The Lumivine is a bioluminescent vine that glows in moonlit forests, believed to be the guardian of lost travelers, guiding them safely through the woods since ancient times.","The Lumivern is a serpentine creature with shimmering scales that glow in moonlight; legend says it was once a guardian of the stars, cast to earth for letting a comet escape its watch.","The Lumivire is a bioluminescent deer-like creature that guides lost travelers through enchanted forests, believed to be the spirits of ancient guardians who once protected the woods from harm.","The Moonlit Sylphs are ethereal beings that dance under the light of the full moon; legend says they once guided lost travelers to safety, but vanished when their sacred grove was destroyed by fire.","The Nightwhisper Owl is said to be a mystical bird that guides lost souls with its haunting songs, first encountered in the Whispering Woods by ancient travelers who spoke of its enchanting, luminescent plumage and the eerie calm it brought to the forest.","The Luminae Wisp is a glowing, ethereal creature that wanders ancient forests, believed to be the souls of lost wanderers guiding travelers to safety or their doom, depending on their heart's purity.","The Lumivine, a glowing vine-like creature found in enchanted forests, is said to have originated from the tears of a heartbroken moon deity, offering light to lost wanderers at night.","The Lumivine is a bioluminescent vine creature that glows at night, believed to be the enchanted remnants of a star that fell into the ancient Enchanted Forest, guiding lost travelers to safety.","The Whispering Wisp is a glowing, ethereal creature said to lead lost travelers to safety in dense forests; legend claims they are spirits of ancient guardians who once protected the woods.","The Luminara is a glowing, moth-like creature said to guide lost travelers through enchanted forests; legend claims they are the spirits of benevolent ancestors watching over their descendants.","The Luminara is a glowing, ethereal deer said to guide lost travelers through the woods, believed to be the spirit of a benevolent forest guardian who sacrificed itself to save a village from a devastating fire.","The Luminarae is a shimmering, spirit-like creature said to have emerged from the first morning dew, believed to guide lost travelers through the mystical forests by illuminating hidden paths with its ethereal glow.","The Luminescent Larkspur is a bioluminescent bird that glows in moonlight and is said to guide lost travelers to safety, believed to be the spirit of a benevolent forest guardian who once protected the woods from dark forces.","The Luminae Wisp is a small, glowing creature resembling a floating orb of light, believed to guide lost travelers to safety; legend says it was born from the tears of a moon goddess mourning her lost love.","The Nyxling is a luminescent, moth-like creature believed to guide lost travelers to safety in the dense forests of Elderglade; legend says they originated from the tears of a moon goddess who mourned the loneliness of the wandering spirits.","The Lumivine is a bioluminescent vine creature that was believed to guide lost travelers to safety in the ancient forests of Elderglow, often appearing at dusk as a shimmering trail of light through the trees, according to local legend.","The Lumisprite is a shimmering, moth-like creature that guides lost travelers with its bioluminescent glow; legend tells of a Lumisprite once leading an entire village to safety during a great storm by forming a glittering trail through the night.","The Glimmerfawn, a bioluminescent deer-like creature, is said to guide lost travelers through the Enchanted Woods; legend holds that they are the spirits of ancient forest guardians.","The Mistwraith is a ghostly creature that drifts through foggy moors, believed to be the restless spirit of a forgotten king whose kingdom was swallowed by the sea; it is said that those who follow its haunting song are led to hidden treasures or their doom.","The Luminara is a shimmering, ethereal being that dwells in moonlit forests, believed to be the spirits of ancient sages who guide lost travelers to safety, with legends saying they emerge only during the full moon to share their wisdom.","The Lumivine is a glowing, vine-like creature said to have originated from the tears of a heartbroken forest goddess, weaving through ancient woods to guide lost travelers safely home.","The Wispwood Wanderer is a ghostly stag with antlers made of glowing willow branches; legend says it guides lost travelers to safety but can only be seen on the night of the new moon.","The Lumivora is a bioluminescent fox that guides lost travelers through enchanted forests, believed to be the spirits of ancient forest guardians offering safe passage to those with pure intentions.","The Lumivern is a radiant serpent believed to emerge during lunar eclipses, its glow guiding lost travelers to safety; legend says it was born from the tears of a moon goddess mourning her lost love.","The Luminara is a glowing deer-like creature that guides lost travelers to safety; legend says it was the spirit of a benevolent forest guardian who sacrificed itself to save its woodland from a devastating fire.","The Luminal Wisp is a shimmering, ethereal being said to guide lost travelers to safety; legend has it that they are the spirits of ancient guardians who vowed to protect the forest paths for eternity.","Name: Lumivine; Legend: In ancient times, these bioluminescent serpent-like creatures emerged from enchanted forest pools, guiding lost travelers with their shimmering trails and were believed to be the spirits of benevolent ancestors.","The Luminael is a bioluminescent deer-like creature said to guide lost travelers in the dense forests of Eldergrove, believed to be the spirits of ancient guardians who once protected the realm.","The Lumivine is a bioluminescent serpent said to weave through the ancient forests of Elaria, guiding lost travelers with its glowing scales, believed to be the spirits of the forest itself seeking to protect and preserve its secrets.","The Lumivora, a glowing fox-like creature that feeds on moonlight, is said to have guided lost travelers to safety in ancient times by illuminating forest paths with its radiant fur.","The Glimmerkin are elusive woodland spirits said to guide lost travelers with their shimmering glow; legend tells of a woodsman who followed their light to discover a hidden grove of eternal spring.","The Luminara is a radiant deer-like creature that glows in moonlight; legend says it guides lost souls through the Forest of Whispers to the afterlife, emerging only on the full moon's eve.","The Lumivine is a bioluminescent serpent that glides through the night skies; legend says it was born from a fallen star and grants a single wish to those who witness its rare descent to earth."]},user_study_places:{"I am working on a fantasy game where players explore a magical world. Come up with a location in this world and briefly describe its history or purpose.":["The Whispering Glade is an ancient forest where trees communicate secrets of the world to those who listen, believed to be the resting place of an old druid who merged with nature centuries ago.","The Crystal Caverns: Once the sacred home of an ancient order of seers, these luminescent caves now serve as a refuge for those seeking visions of the future, with every crystal reflecting echoes of forgotten prophecies.","The Crystal Caverns: Once a sacred site for ancient druids, these luminescent caves now serve as a refuge for lost travelers, with crystals that heal those who seek their light.","The Whispering Glade is an ancient forest where trees are said to hold the memories of the world, and travelers who listen closely can hear secrets of the past whispered by the rustling leaves.","The Luminous Glade is a serene forest clearing where ancient druids once gathered to harness the moon's power, leaving behind a faint, perpetual glow that enhances magical abilities.","The Glimmering Falls: A cascading waterfall infused with ancient magic, believed to be the birthplace of the realm's first wizards, where players can harness rare elemental powers.","The Whispering Glade is an ancient forest where the trees are said to hold the memories of the world, and adventurers visit to seek guidance from the ethereal voices that echo through its leaves.","The Luminous Grove is a radiant forest where ancient, bioluminescent trees illuminate paths to forgotten altars, once used by druids to commune with celestial beings.","The Glimmering Caves of Eldoria: Once a hidden refuge for ancient wizards, these luminescent caverns now serve as a sacred site where adventurers seek wisdom and magical artifacts left behind.","Whispering Glade: An ancient forest where ethereal spirits share secrets of lost magic, once a sacred meeting place for wizards of old.","The Shimmering Glade is a mystical forest where ancient wizards once gathered to harness celestial magic, leaving behind enchanted runes that still pulse with arcane energy.","The Whispering Glade: Once an ancient elven sanctuary, it is now a mystical forest where the trees softly murmur forgotten secrets and guide worthy adventurers to hidden treasures.","The Whispering Glade: Once a sacred meeting ground for ancient druids, this mystical grove now echoes with the secrets of the forest, guiding adventurers who seek nature's wisdom.","Mystic Glade: Once a sacred meeting place for ancient druids, this enchanted forest clearing now teems with magical flora and serves as a refuge for lost travelers seeking guidance.","The Luminous Caverns: Once the sacred gathering place of the ancient Luminaris, these glowing, crystal-filled caves now serve as a sanctuary for adventurers seeking wisdom from the echoes of the past.","The Shimmering Glade is an ancient grove where ethereal lights dance, said to be the resting place of the first Enchanter who harnessed the power of the stars to weave magic into the world.","The Whispering Grove: Once a sacred meeting place for ancient druids who harnessed its mystical energies, it now serves as a haven for travelers seeking guidance from the enchanted trees that softly share secrets of the past.","The Whispering Glade: A serene forest where ancient trees hum with the secrets of the land, said to be the resting place of a forgotten civilization's wisdom, guarded by ethereal spirits.","The Whispering Glade is an enchanted forest where ancient spirits communicate through the rustling leaves, once serving as a sacred meeting ground for druids to seek wisdom and guidance.","Emerald Glade: A serene forest clearing where ancient druids once convened to harness the land's magic, now serving as a sanctuary for weary travelers seeking rejuvenation.","The Luminous Groves: A mystical forest where ancient, bioluminescent trees glow with the memories of the land, guiding lost travelers and revealing secrets of the past to those deemed worthy.","The Celestial Library, floating among the clouds, was created by ancient scholars to preserve the knowledge of the stars and is guarded by ethereal sentinels who ensure only the worthy gain entry.","The Crystal Caverns: Hidden beneath the Whispering Forest, these luminescent caves were once the sacred meeting place of ancient wizards who harnessed the crystals' power to maintain balance in the magical realm.","The Lumina Caverns are a network of glowing caves that once served as the hidden refuge for the ancient Luminaris clan, known for their mastery of light magic and secretive rituals to maintain harmony with the realm's natural energies.","The Crystal Forest: A shimmering woodland where trees of pure crystal grow, once the sanctuary of ancient sorcerers who harnessed its magical properties for powerful enchantments.","The Shimmering Vale: A luminous valley where ancient sorcerers once harnessed the energy of celestial crystals, now a sacred site for mages seeking enlightenment and power.","The Whispering Grove is an ancient forest where the trees are said to hold the spirits of past wizards, offering guidance and knowledge to those who listen closely.","The Glimmering Caves of Lyria were once the sacred refuge of the Luminal Elves, where they harnessed the power of starlight to weave enchantments that protected their realm from darkness.","The Whispering Glade: An ancient forest where the trees communicate through a mystical song, believed to hold the secrets of the first wizards who once gathered here to harness the world's magic.","The Whispering Grove: A mystical forest where ancient spirits of the land convene, once serving as a sacred meeting ground for druids seeking wisdom from nature's whispers.","The Whispering Glade is an ancient forest where trees communicate secrets of the past; once a sacred meeting ground for druid councils, it now serves as a refuge for those seeking lost knowledge.","The Whispering Glade is an ancient forest where trees possess the memories of past civilizations, and travelers can seek guidance by listening to the rustling leaves.","Elderglow Forest: A mystical woodland filled with luminescent flora, once home to ancient druids who harnessed its light for powerful enchantments.","The Whispering Grove: Once a sacred meeting place for ancient druids, this enchanted forest still echoes their incantations, guiding lost travelers and protecting the realm's hidden secrets.","The Whispering Glade: An ancient forest where spirits of the past gather, sharing secrets with those who listen closely, once a sacred meeting place for druids seeking guidance.","The Whispering Glade is an ancient forest where the trees are said to hold the memories of the world, and travelers can hear the past if they listen closely to the rustling leaves.","The Whispering Glade is an ancient forest where the trees are said to hold the memories of the world, allowing travelers to hear echoed voices of the past and seek guidance from forgotten spirits.","The Veil of Whispers: A mystical forest shrouded in perpetual twilight, where ancient spirits guard the secrets of forgotten magic, and only those deemed worthy can unravel its hidden knowledge.","The Whispering Glade is an ancient forest where the trees are said to hold the memories of the world, and travelers visit to seek guidance by listening to the soft murmurs of the leaves.","The Whispering Glade: Once a sacred meeting place for ancient druids, this lush forest clearing is imbued with lingering enchantments that allow trees to softly relay the secrets of the past to those who listen.","The Whispering Glade: An ancient forest grove where the trees are said to hold the memories of the world, allowing travelers to hear the voices of the past if they listen closely.","Whispering Glade is a serene forest clearing where ancient trees echo the secrets of the land, once used by druids as a sacred meeting place to commune with nature spirits.","The Luminous Cavern is an ancient underground grotto where the walls are embedded with glowing crystals, once used by the Elders to harness light magic for healing and protection.","The Whispering Glade is an ancient forest where spirits of the past reside, offering guidance and forgotten knowledge to those who can decipher their cryptic murmurs.","The Crystal Caverns were once the sacred meeting place of the ancient Elemental Council, where representatives of earth, air, fire, and water convened to maintain the balance of magic in the world.","The Shimmering Isles: Once a haven for ancient wizards, these floating islands now serve as a mystical academy where new generations of magic users hone their craft amidst the remnants of forgotten spells.","The Whispering Glade is an ancient grove where the wind carries the secrets of the past; it was once the meeting place of an old council of druids who safeguarded the balance of nature.","The Luminous Caverns: Once a mystical refuge for an ancient order of light-wielding sorcerers, these glowing caves now serve as a sanctuary for lost souls seeking enlightenment and protection.","The Luminous Glade is a serene forest where ancient, glowing trees rise high, said to have been blessed by moon spirits to guide lost travelers and protect sacred knowledge hidden within.","The Luminous Glade is a serene forest clearing where ancient, glowing trees mark the site of a long-forgotten druidic council that once safeguarded the balance of magic in the realm."],"I am making a fantasy game. Please generate a place that players might discover.":["The Whispering Glade: a hidden forest clearing where the trees murmur secrets and ancient spirits grant wisdom to those who listen.","The Luminous Canopy: A mystical forest where the trees' leaves glow with an ethereal light, illuminating ancient runes and guiding adventurers through hidden paths.","The Crystal Caverns of Luminara, a shimmering underground maze filled with luminescent crystals that emit a soft, magical glow.","The players might discover the Whispering Glade, a mystical forest clearing where the trees softly murmur ancient secrets and hidden paths appear only under moonlight.","The Whispering Glade, a mystical forest clearing where ancient trees softly murmur secrets of the past to those who listen.","Discover the Shimmering Glade, a hidden forest where the trees glow with bioluminescent moss and enchanted creatures roam under an eternal twilight.","The Whispering Glade: a serene, enchanted forest where ancient trees softly murmur secrets of the past to those who listen closely.",'The players might discover "The Whispering Woods," an enchanted forest where the trees communicate secrets of the past to those who listen closely.',"The players might discover the Whispering Glade, a serene forest clearing where ancient trees speak secrets to those who listen carefully.","The Glimmering Grotto: A hidden cave filled with luminescent crystals and a tranquil underground lake, where ancient spirits whisper secrets of forgotten realms.","The Luminescent Caverns: a series of underground caves filled with glowing crystals and bioluminescent fungi, casting an otherworldly light.","The Crystal Caves of Luminara, where bioluminescent crystals illuminate ancient murals depicting the rise and fall of a lost civilization.","The Crystal Caverns: A dazzling underground network of luminescent caves filled with glowing crystals that emit a soothing hum and have mysterious magical properties.","The Luminous Caverns, a vast underground network filled with glowing crystals and mysterious bioluminescent flora.","The Crystal Caverns: a vast underground network of shimmering tunnels filled with luminescent crystals that radiate magical energy.","The Glimmering Grotto: A hidden cave filled with luminescent crystals that pulse with ancient magic, rumored to grant visions of forgotten lore.","The Crystal Caverns of Luminara, where glowing stalactites illuminate ancient runes etched by a long-lost civilization.","The Whispering Glade, an enchanted forest clearing where ancient trees murmur secrets of the past to those who listen.",'The players might discover the "Whispering Glade," a serene forest clearing where the trees softly murmur ancient secrets and ethereal lights dance in the air.',"The Crystal Cavern: A hidden underground cave filled with luminescent crystals that emit a soothing, magical glow and hold ancient secrets.","Discover the Whispering Glade: a serene, enchanted forest clearing where ancient trees hum with secrets and glowing flora illuminates hidden paths.","The Shimmering Grove: A mystical forest where the trees glow with bioluminescent light and ancient runes hint at hidden secrets.","Emerald Hollow: A luminescent cavern where bioluminescent crystals illuminate ancient runes and hidden treasures.","Mystwood Hollow: a mystical forest where enchanted trees whisper ancient secrets and glowing mushrooms illuminate hidden paths.","Discover the Luminescent Caverns, a sprawling underground network filled with glowing crystals and rare bioluminescent creatures.",'Players might discover the "Whispering Glade," a serene forest clearing where the trees seem to murmur ancient secrets to those who listen.',"The Glimmering Grotto: A hidden underwater cave filled with bioluminescent crystals and ancient, mysterious runes.","The Glimmering Caverns, a network of luminescent caves filled with bioluminescent crystals and hidden secrets.","The Crystal Caverns: an underground labyrinth filled with luminescent crystals that pulse with ancient magic.","The players might discover the Luminous Cavern, a hidden underground chamber filled with glowing crystals and bioluminescent flora that illuminate ancient runes carved into the stone walls.","The Whispering Grove, a mystical forest where the trees softly echo ancient secrets and luminescent fireflies guide travelers to hidden treasures.","The Whispering Glade: A serene, enchanted forest clearing where ancient trees softly murmur secrets to those who listen.","The Crystal Caverns: A shimmering underground network of caves filled with luminescent crystals that pulse with ancient magic.","The Crystal Caverns: A labyrinth of shimmering caves filled with luminescent crystals that emit a soothing hum, rumored to grant visions of the future to those who meditate within.","The Whispering Glade, a mystical forest clearing where ancient trees murmur secrets of forgotten magic to those who listen closely.","The Whispering Glade: a mystical forest clearing where ancient trees hum with secrets and glowing mushrooms light the path to hidden treasures.",'Discover the "Whispering Glade," a serene forest clearing where ancient trees murmur secrets of the past to those who listen.',"The Whispering Glade, an ancient forest where trees hum with secrets and luminescent flowers guide travelers through its mystical paths.","The Enchanted Glade: A hidden grove where ancient trees whisper secrets, and luminescent flowers bloom under an eternal twilight.","The Crystal Caverns: a shimmering underground network of tunnels filled with luminescent crystals and hidden secrets.","The Enchanted Glade, a mystical forest clearing where ancient trees hum with magic and ethereal wisps dance in the moonlight.",'Players might discover the "Whispering Glade," a serene forest clearing where the trees softly murmur secrets of the ancient world.',"The Whispering Glade: a mystical forest clearing where the trees softly hum ancient secrets and luminous flowers guide travelers to hidden treasures.","The players might discover the Whispering Glade, a serene forest clearing where the wind carries ancient secrets through the rustling leaves.","The Whispering Glade, a mystical forest clearing where ancient trees hum with arcane energy and hidden runes glow softly beneath the moss.",'Players might discover the "Glimmering Caverns," a network of underground caves illuminated by luminescent crystals, inhabited by mysterious creatures and hidden treasures.',"The Enchanted Glade: a shimmering forest clearing where time flows differently, filled with bioluminescent flora and ancient runes whispering forgotten spells.",'Players might discover the "Glowing Caverns of Luminara," an underground network where bioluminescent crystals illuminate ancient murals depicting forgotten legends.',"The Whispering Glade: a serene forest clearing where the wind carries secrets and ancient trees glow with ethereal light.",'The players might discover "The Shimmering Glade," a mystical forest clearing where the trees glow with bioluminescent light and ancient runes hint at hidden secrets.'],"Invent a unique location for a fantasy game and describe what makes it distinct.":["The Luminescent Obsidian Forest is a dense woodland where trees with obsidian bark emit a bioluminescent glow, creating an ever-shifting kaleidoscope of colors that affects magic and perception.","The Luminous Caverns are a network of underground caves illuminated by bioluminescent fungi, where gravity fluctuates, allowing explorers to float between crystal structures that hum with ancient magic.","Whispering Falls: A hidden valley where waterfalls cascade upward into the sky, carrying messages from the past whispered into the mist by ancient spirits.","The Luminescent Caverns of Ara'lin, where bioluminescent fungi create a glowing underground forest, and time flows differently, enabling travelers to experience weeks of adventure in mere hours outside.","The Luminous Caverns are a sprawling network of underground tunnels illuminated by bioluminescent crystals that hum with ancient magic, altering gravity and allowing travelers to walk on walls and ceilings.","Whispering Glade: A mystical forest where every tree sings an ancient melody, and the flora glows softly at night, revealing hidden paths that shift with the moon phases.","The Luminous Abyss is a vast underwater cavern filled with bioluminescent flora and fauna, where time flows differently, allowing players to experience past and future echoes simultaneously.","The Luminescent Forest of Thalruna, where bioluminescent flora and fauna create a mesmerizing dance of colors, and ancient trees whisper secrets of forgotten magic to those who can listen.","The Luminescent Caverns of Aethoria are a vast underground network where bioluminescent fungi illuminate ancient murals depicting forgotten histories, and the echoing sound of subterranean rivers guides explorers through its maze-like passages.","The Shimmering Isles, a floating archipelago suspended in the sky, where gravity is fluid and islands drift, connected by crystalline bridges that hum with ancient magic.","The Shimmering Hollow: a subterranean forest where bioluminescent flora and gentle luminescent mist create a surreal, ever-twilight ambiance, inhabited by creatures that thrive in the mystical glow.","The Luminous Caverns of Elderglow, where bioluminescent crystals illuminate vast underground lakes and ancient murals reveal the forgotten history of a vanished civilization.","The Shimmering Isles, a floating archipelago where each island experiences a different season year-round, with magical bridges that shift based on the tide of time, connecting them unpredictably.","The Luminous Abyss is a vast, underground cavern filled with bioluminescent flora and crystalline structures, where gravity is inverted, allowing travelers to walk on the ceiling.","The Luminous Caverns of Serephine glow with bioluminescent crystals that shift colors and reveal hidden pathways only visible during a lunar eclipse.","The Shifting Isles of Zephyra constantly rearrange themselves with the wind, revealing hidden treasures and ancient secrets only accessible to those who can navigate its ever-changing paths.","Elderglow Abyss is a luminescent chasm filled with bioluminescent flora and fauna, where gravity shifts unpredictably, allowing adventurers to walk on walls and ceilings.","The Luminous Caverns, a vast subterranean network where bioluminescent crystals illuminate hidden ancient murals depicting the forgotten history of a magical civilization.","The Shimmering Spires: A floating archipelago of translucent crystal islands, where gravity ebbs and flows unpredictably, creating ever-shifting pathways and a kaleidoscope of refracted light.","The Luminous Caverns are an underground realm where bioluminescent crystals and flora illuminate the vast, labyrinthine tunnels, inhabited by creatures that can manipulate light and shadow.","The Luminous Caverns: a vast underground network where bioluminescent fungi illuminate crystal-studded walls, creating a mesmerizing, ever-changing aurora of colors.","The Luminous Marshlands, where bioluminescent flora and ethereal fog create a glowing, ever-shifting maze filled with ancient whispering spirits and hidden portals to other realms.","The Luminous Caverns are a sprawling underground network where bioluminescent flora and fauna create a breathtaking natural light show, casting vibrant hues on crystalline formations and providing a mystical setting for adventurers.","The Shimmering Isles are a floating archipelago of translucent crystal islands that emit a soft glow, shifting colors with the time of day, and where gravity is unpredictable, allowing inhabitants to traverse the skybound landscape by leaping from isle to isle.","The Luminous Caverns, where bioluminescent crystals illuminate vast underground forests, creating a surreal, glowing ecosystem teeming with ethereal creatures.","Whispering Glade: A serene, enchanted forest where the trees communicate in a chorus of soft whispers, guiding travelers with cryptic advice and revealing hidden paths only under the light of the full moon.","The Whispering Glade is a luminescent forest where trees hum ancient melodies, and the air shimmers with bioluminescent spores that reveal hidden paths when sung to in harmony.","Eternal Twilight Forest: A mystical woodland where time stands still, bathed in perpetual dusk and inhabited by sentient, glowing flora that whisper forgotten secrets.","The Luminous Abyss: A vast, underground ocean of bioluminescent waters, populated by glowing, ethereal sea creatures and towering crystal formations that emit haunting melodies.","Elaria's Singing Glade is a mystical forest where the trees hum enchanting melodies that change with the seasons, granting magical effects to those who listen.","The Whispering Glade is a serene forest where every tree sings a different harmony, allowing travelers to navigate its paths through sound alone.","Crystalfall Cavern: A vast underground chamber where luminescent crystal formations create a kaleidoscope of colors and gravity-defying waterfalls flow upwards into floating lakes.","The Shimmering Isles are floating islands in the sky, connected by glowing crystal bridges, where the flora and fauna emit a gentle luminescence, creating a perpetual twilight.","The Luminescent Caverns of Zephyrglow are vast underground caves where bioluminescent crystals illuminate ancient murals, and the air hums with harmonic frequencies that alter time perception.","The Luminous Caverns of Silaria are distinct for their bioluminescent crystal formations that change color based on nearby emotions, creating a living tapestry of light and mood.","The Luminous Caverns of Elaria, where glowing crystal formations emit ethereal music that alters the emotions of those who enter, creating a labyrinth influenced by one's state of mind.","The Luminescent Caverns, a vast underground network filled with bioluminescent plants and creatures, where rivers of glowing liquid crystal flow, illuminating ancient, rune-covered walls that reveal the history of a lost civilization.","The Luminous Marshlands, where bioluminescent flora and glowing creatures illuminate the night, and ancient, sentient willow trees share cryptic prophecies with those who listen.","The Luminous Caverns is a vast underground network where bioluminescent crystals illuminate ancient murals that tell the forgotten history of the world, and its air is filled with the harmonious hum of unseen creatures.","The Shimmering Spires, a floating city of crystalline towers suspended above a perpetual aurora, where gravity is fluid and each tower houses a different elemental guild.","The Skyward Isles: Floating islands in an endless sky, each with its own unique ecosystem and gravity-defying waterfalls, connected by ancient bridges of shimmering light.","The Glimmering Marsh is a phosphorescent swamp where bioluminescent plants and creatures illuminate a maze of floating crystal islands, each reflecting an ever-shifting aurora in the night sky.","The Luminous Caverns, where bioluminescent crystals illuminate an underground forest of translucent flora, creating a mesmerizing kaleidoscope of colors and shadows.","The Luminescent Caverns of Aetheria are unique for their bioluminescent crystal formations that hum with ancient magic, casting vibrant colors and melodies into the air, guiding travelers through a maze where time flows differently.","The Luminescent Grove is a forest where bioluminescent plants create an eternal twilight, and the air is filled with floating, glowing spores that grant temporary magical abilities to those who breathe them.","The Luminous Cavern of Elysium is a vast underground network of bioluminescent crystals and ethereal waterfalls, where time flows differently, allowing travelers to glimpse echoes of the past or future.","The Luminous Caverns of Elara are bioluminescent underground caves where glowing crystal formations emit soothing melodies, creating a mesmerizing symphony of light and sound.","The Luminous Caverns of Elderglow are an underground network of bioluminescent caves where the walls pulse with vibrant hues, guiding travelers through its maze-like passages with living light that reacts to their emotions.","Whispering Glade is a serene valley where the trees speak in soothing, melodic tones, offering wisdom and guidance to travelers who can understand their ancient language.","The Luminous Caverns: A vast underground network of glowing crystal caves where the walls pulse with magical energy, altering reality and time for those who explore its depths."],"Describe an environment players might explore in a fantasy game, including a short explanation of how it came to be.":["Players might explore the Enchanted Forest, a lush, magical woodland teeming with mythical creatures, created centuries ago by ancient wizards to protect the realm from dark forces.","Players might explore an ancient, enchanted forest where towering trees glow with magical light, created by a long-lost civilization that harnessed nature's magic to protect their secrets.","Players might explore the Crystal Caverns, a network of luminescent caves formed by ancient magical energy that crystallized the surrounding rock over centuries.","Players might explore a mystical forest where ancient trees glow with bioluminescent light, created by a powerful sorceress who fused magic with nature to protect the realm from dark forces.","Players might explore an enchanted forest, once cursed by a vengeful sorcerer, now teeming with magical creatures and hidden secrets, as nature and magic vie for control.","Players might explore the Enchanted Forest, a magical woodland filled with luminous plants and mystical creatures, created when an ancient sorcerer cast a spell to protect the land from invading forces.","Players might explore the Enchanted Forest, a magical woodland where ancient trees glow with ethereal light, created by the spillover of arcane energy from a long-forgotten sorcerer's duel.","Players might explore a mystical forest filled with bioluminescent plants and ancient ruins, formed after a magical cataclysm transformed the land, imbuing it with enchanted flora and remnants of a lost civilization.","Players might explore the Enchanted Forest, a mystical woodland where trees glow with magical light, created long ago by ancient wizards to protect the realm from dark forces.","Players might explore the Enchanted Forest, a mystical woodland created long ago by ancient sorcerers who infused it with magic to protect their hidden relics and secrets.","Players might explore an enchanted forest, formed after a magical meteorite crash imbued its flora and fauna with mystical properties, creating a realm of vibrant, sentient trees and luminescent creatures.","Players might explore the Enchanted Forest, a mystical woodland filled with glowing flora and magical creatures, created centuries ago by ancient druids to protect nature's secrets from invading forces.","Players might explore an ancient, enchanted forest shrouded in perpetual twilight, created by a powerful wizard centuries ago to protect a hidden magical artifact.","Players might explore the Enchanted Forest, a mystical woodland filled with luminous plants and magical creatures, created by ancient druids to protect a hidden relic from dark forces.","Players might explore the Enchanted Forest, a mystical woodland teeming with magical creatures and ancient ruins, created centuries ago by a powerful sorceress to protect hidden secrets from the outside world.","Players might explore the Enchanted Forest, a mystical woodland filled with luminous flora and magical creatures, created centuries ago when a powerful sorceress cast a spell to protect its ancient secrets from invaders.","Players might explore an ancient, enchanted forest filled with towering trees and glowing flora, created long ago by a powerful druid who infused the land with protective magic to preserve its beauty and mystery.","Players might explore an enchanted forest shrouded in perpetual twilight, created by an ancient spell cast by druids to protect the realm from dark forces.","Players might explore an ancient, enchanted forest where magic seeps from the roots, formed centuries ago when a powerful sorceress imbued the land with protective spells to shield it from invading forces.","Players might explore an ancient, enchanted forest, once a thriving kingdom now overgrown and teeming with magical creatures, after a powerful sorceress cursed it centuries ago to protect its secrets.","Players might explore an ancient, enchanted forest where towering trees glow with bioluminescent light, created centuries ago by a powerful druid to protect a hidden magical artifact from invaders.","Players might explore the Enchanted Forest, a mystical woodland filled with bioluminescent flora and ancient ruins, created when a powerful sorcerer's spell collided with nature, imbuing the land with magic.","Players might explore an ancient, mystical forest where towering trees glow with bioluminescent light, created by the remnants of a long-lost civilization that used magic to imbue the land with eternal life.","Players might explore the Enchanted Forest, a mystical woodland filled with glowing flora and magical creatures, created long ago by a powerful sorceress seeking to hide her knowledge from the world.","Players might explore an ancient, enchanted forest, where towering trees with glowing leaves grew after a powerful sorceress cast a protective spell to preserve the land from an invading dark force.","Players might explore the Enchanted Forest, a mystical woodland filled with luminescent plants and magical creatures, created centuries ago by ancient druids to protect the realm's secrets.","Players might explore the Enchanted Glade, a mystical forest filled with luminescent plants and ancient ruins, created long ago by a powerful sorceress who enchanted the land to protect her secrets.","Players might explore an ancient, enchanted forest filled with towering trees and luminous flora, created centuries ago by a powerful druid to protect a hidden magical artifact.","Players might explore an ancient, enchanted forest shrouded in perpetual twilight, created when a powerful sorceress cast a spell to protect it from invading forces, causing time and light to warp within its boundaries.","Players might explore the Enchanted Forest, a mystical woodland filled with luminescent plants and magical creatures, formed after a powerful sorceress cast a protective spell to shield it from a devastating war.","Players might explore an enchanted forest shrouded in perpetual twilight, created by ancient druids to protect a hidden realm from invaders.",'Players might explore the "Whispering Forest," a mystical woodland shrouded in perpetual twilight, created centuries ago when a powerful druid\'s spell merged the essence of light and shadow to protect the land from dark forces.',"Players might explore an ancient, enchanted forest teeming with luminescent flora and mystical creatures, created by a powerful sorcerer who sought to preserve magical wildlife from an age long past.",'Players might explore the "Enchanted Forest," a mystical woodland where ancient magical energies transformed ordinary trees into sentient beings, following a long-lost wizard\'s spell gone awry.',"Players might explore the Enchanted Forest, a mystical woodland where towering trees glow with bioluminescent light, created long ago by an ancient sorcerer who infused the land with magic to protect it from invaders.","Players might explore the Sunken City of Eldoria, an ancient metropolis now submerged underwater due to a cataclysmic flood triggered by a sorcerer's failed experiment.","Players might explore the Enchanted Forest, a mystical woodland filled with luminescent flora and magical creatures, created centuries ago when a powerful sorceress infused the land with ancient magic to protect it from invading forces.","Players might explore a mystical, ancient forest shrouded in eternal twilight, created by a powerful enchantment cast by a long-lost civilization to protect the magical creatures and plants within from outside threats.","Players might explore a mystical forest where ancient trees glow with luminescent moss, created by the remnants of a powerful druidic civilization that once harnessed magic to protect the realm.","Players might explore an enchanted forest where ancient magic caused the trees to glow and the wildlife to speak, created centuries ago by a powerful sorceress seeking to preserve nature's secrets.","Players might explore an ancient, enchanted forest where towering, luminescent trees whisper secrets, created by a long-lost civilization of druids to protect magical artifacts hidden within.","Players might explore the Whispering Woods, an ancient forest imbued with magic after a meteorite composed of mystical crystals crashed there centuries ago, causing the trees to glow and speak in hushed tones.","Players might explore the Crystal Caverns, a labyrinth of luminescent tunnels formed over centuries by magical mineral deposits left by ancient dragon tears.","Players might explore the Enchanted Forest, a mystical woodland where ancient magic caused the trees to glow and the wildlife to become sentient after a powerful sorcerer's spell centuries ago.","Players might explore an ancient, enchanted forest filled with towering, luminescent trees and mystical creatures, formed centuries ago by a powerful druid who infused the land with magic to protect it from dark forces.","Players might explore an ancient, mystical forest where towering trees glow with ethereal light, created by a long-lost civilization's magic that fused with the natural world after a cataclysmic event.","Players might explore the Enchanted Forest, a mystical woodland with luminescent flora and ancient ruins, created by a powerful sorceress to protect the realm from dark forces.","Players might explore the Enchanted Forest, a vast, mystical woodland filled with bioluminescent flora and magical creatures, created long ago by ancient sorcerers to protect a hidden portal to another realm.","Players might explore an ancient, mystical forest filled with towering, luminescent trees and magical creatures, created centuries ago by a powerful sorceress seeking a sanctuary for magical beings.","Players might explore the Luminescent Caverns, a vast network of glowing, crystal-lined tunnels formed over centuries by magical energies seeping from the earth, creating a breathtaking subterranean wonderland filled with bioluminescent flora and mysterious creatures."],"Think of a memorable location for a fantasy game and provide a short piece of lore about it.":["The Whispering Glade: A serene meadow where the wind carries the voices of lost souls, sharing secrets of the world to those who listen intently.","The Whispering Glade: A serene forest clearing where ancient trees murmur secrets of the past to those who seek wisdom, guarded by ethereal spirits who protect its sacred knowledge.","The Crystal Caverns of Eldoria, where the ancient dragon Seraphel's song turned the stalactites into resonating gemstones, creating melodies that hold the secrets of forgotten magic.","The Everfrost Glade: A hidden forest where time stands still, blanketed in eternal snow and protected by ancient ice spirits who guard the secrets of the lost Winter Crown.","The Whispering Glade: Once a sacred meeting ground for ancient druids, the trees whisper secrets of lost magic to those who dare to listen.","The Whispering Glade: A serene forest clearing where ancient trees softly murmur forgotten secrets of the world to those who dare to listen.","The Whispering Glade: A serene forest clearing where the wind carries faint echoes of ancient secrets, believed to be the whispers of the Eldertrees sharing knowledge with those who truly listen.","The Shimmering Isles: An archipelago where the veil between worlds is thin, causing the islands to constantly shift in appearance and revealing ancient ruins from forgotten civilizations.","The Whispering Grove: An ancient forest where the trees hold the memories of the world, singing forgotten tales to those who dare to listen.","The Whispering Glade: An ancient forest where the trees are said to hold the memories of the world, their leaves murmuring secrets to those who dare to listen.","The Whispering Glade: An enchanted forest where the trees hum with ancient secrets, said to be the resting place of the lost Crown of Elaria, only revealed under the light of a blue moon.","The Whispering Glade is a mystical forest where the trees echo the secrets of the world, and only those pure of heart can hear the ancient wisdom carried by the winds.","The Whispering Glade: An ancient forest where the trees are said to hold the souls of forgotten heroes, and their whispered tales guide lost travelers to safety.","The Whispering Glade: A serene forest clearing where ancient trees murmur secrets to those who listen, said to be the resting place of the first druid who communed with nature's soul.","The Whispering Glade: A serene forest clearing where ancient spirits murmur secrets of the world, those who listen may gain wisdom or be driven to madness.","The Whispering Glade: A serene forest clearing where the ancient spirits of the land communicate through the rustling leaves, offering wisdom to those who listen.","The Whispering Woods: An ancient forest where the trees are said to hold the memories of lost civilizations, speaking their secrets to those who dare to listen.","The Whispering Glade: An ethereal forest where the spirits of ancient storytellers gather, sharing forgotten tales with those who dare to listen to the rustling leaves.","The Whispering Glade: A serene, moonlit grove where the spirits of ancient druids linger, sharing their wisdom with those who can decipher their ethereal murmurs.","The Whispering Glade: An ancient forest where the trees echo the secrets of the past, guarded by ethereal spirits who reward those pure of heart with glimpses of forgotten knowledge.","The Shimmering Isles, a chain of floating islands that drift through the sky, are said to be the remnants of a shattered ancient world, where the spirits of fallen heroes whisper secrets of forgotten magic to those who can hear.","The Whispering Glade: Once the heart of an ancient elven civilization, this enchanted forest hums with the echoes of lost wisdom, audible only to those pure of heart.","The Whispering Glade is a mystical forest where the trees are said to share the secrets of the ancients, speaking only to those pure of heart who seek wisdom.","The Whispering Glade: A mystical forest where the trees speak in riddles, guarding the secret of an ancient artifact said to grant the power of foresight to those deemed worthy.","The Whispering Forest: Legends say ancient spirits reside in its depths, sharing secrets with those pure of heart who wander beneath its silver-leafed canopy.","The Whispering Glade: An ancient forest where the trees harbor the souls of forgotten heroes, whose voices guide worthy adventurers to hidden treasures.","The Shimmering Isles: A mystical archipelago where reality bends, said to be the resting place of the lost Seraphic Crown, guarded by the ethereal spirits of ancient seafarers.","The Whispering Glade is a serene forest clearing where the wind carries the voices of ancient spirits, said to grant wisdom to those who listen with pure hearts.","The Whispering Glade: An ancient forest where the trees are said to harbor the spirits of lost storytellers, whose secrets and tales echo through the rustling leaves.","The Whispering Glade: A serene forest clearing where ancient spirits murmur forgotten secrets to those who dare to listen, its trees said to be the remnants of a long-lost elven kingdom.","The Whispering Glade: In this enchanted forest clearing, the ancient trees murmur secrets of the cosmos, granting wisdom to those who listen with a pure heart.","The Whispering Glade is a serene forest where ancient trees murmur secrets of the world to those who listen, guarded by ethereal spirits that guide only the worthy.","The Crystal Forest: A shimmering woodland where the trees are made of translucent quartz, known to whisper ancient secrets to those who listen with a pure heart.","The Shimmering Glade is a mystical forest where the trees glow with a luminescent light, said to be the resting place of the ancient Moonstone, a relic that grants eternal wisdom to those who can solve its riddle.","The Whispering Glade: A mystical forest where the trees are said to hold the collective memories of ancient spirits, and their rustling leaves softly convey forgotten secrets to those who listen closely.","The Whispering Glade: An ancient forest where the trees are said to hold the spirits of forgotten storytellers, whose secrets are revealed only to those who listen closely to the rustling leaves.","The Whispering Glade: A serene forest clearing where ancient trees softly murmur secrets of the world to those who listen, protected by the enigmatic spirits of the woods.",'"The Whispering Glade is a mystical forest where ancient trees hum with the forgotten songs of spirits, and those who enter are said to glimpse echoes of their past lives."','"The Whispering Glade": In this serene forest clearing, ancient trees murmur secrets of the past to those who dare listen, guarded by ethereal spirits who protect its timeless knowledge.',"The Crystal Caverns of Luminara, where the walls hum with ancient melodies that echo the songs of long-lost celestial beings, are said to bestow visions of the future upon those who listen closely.","The Whispering Grove is an ancient forest where every tree holds the memories of the land, and those who listen carefully can hear the secrets of the world whispered through the rustling leaves.","The Shimmering Veil: An ethereal forest perpetually cloaked in twilight, where time flows differently and ancient spirits guard secrets of forgotten magic.","The Whispering Glade: A mystical forest clearing where ancient spirits murmur secrets of the past to those who listen closely.","The Singing Cliffs: A towering range where the wind weaves through ancient stone arches, producing haunting melodies believed to be the voices of long-lost spirits guiding travelers.","The Whispering Glade: A serene forest clearing where the ancient trees are said to share forgotten secrets with those who listen closely to the rustling leaves.","The Whispering Glade is a serene forest where ancient trees whisper secrets of the past to those who dare to listen, guarded by ethereal spirits who ensure only the worthy can hear their tales.","The Shimmering Isles: Floating above the sapphire seas, these enchanted islands are known for their elusive mist that reveals ancient runes, believed to be messages from the gods to those worthy.","The Crystal Caverns of Elowen: These luminescent caves are said to be the birthplace of the first dragons, their shimmering walls echoing with ancient songs of creation.","The Whispering Glade: A serene forest clearing where the wind carries the secrets of ancient sorcerers, audible only to those pure of heart.","The Whispering Glade: An ancient forest where the trees speak in hushed tones, sharing secrets of the world to those who listen with an open heart."]},presidents:{"Describe the Trump presidency in one sentence.":["The Trump presidency was marked by controversial policies, divisive rhetoric, and significant political polarization.",'The Trump presidency was marked by controversial policies, significant political polarization, and a focus on "America First" initiatives.',"The Trump presidency was marked by significant political polarization, unconventional leadership, and major policy changes on immigration, taxes, and trade.","The Trump presidency was characterized by controversial policies, a polarizing leadership style, and significant impact on American politics and international relations.",'The Trump presidency was marked by divisive politics, significant policy changes, and a focus on "America First" nationalism.','The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" principles.',"The Trump presidency was characterized by controversial policies, a divisive style, and significant political and social upheaval in the United States.",'The Trump presidency was marked by divisive politics, significant policy changes, and a focus on "America First" initiatives.',"The Trump presidency was marked by unconventional leadership, divisive rhetoric, significant policy changes, and numerous controversies.",'The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" rhetoric.',"The Trump presidency was marked by divisive politics, unconventional leadership, and significant policy changes in areas like immigration, trade, and foreign relations.","The Trump presidency was marked by a focus on populist rhetoric, controversial policies, and significant political polarization.","The Trump presidency was characterized by a highly polarized political climate, unconventional leadership style, and significant policy changes in areas such as immigration, trade, and foreign relations.","The Trump presidency was characterized by unconventional leadership, controversial policies, and significant political polarization.","The Trump presidency was marked by divisive politics, significant policy changes, and an unconventional approach to governance and communication.","The Trump presidency was characterized by controversial policies, a focus on nationalism, and significant political polarization.",'The Trump presidency was characterized by divisive politics, significant policy changes, and a focus on "America First" initiatives.',"The Trump presidency was marked by significant political polarization, unconventional leadership, and impactful policies on immigration, trade, and the judiciary.","The Trump presidency was characterized by a focus on America First policies, significant deregulation, contentious rhetoric, and numerous controversies culminating in impeachment.","The Trump presidency was marked by unconventional leadership, polarizing policies, significant tax reform, and contentious international relations.",'The Trump presidency was marked by contentious policies, significant political polarization, and a focus on "America First" nationalism.','The Trump presidency was marked by controversial policies, significant political polarization, and a focus on "America First" nationalism.',"The Trump presidency was characterized by its unconventional approach to politics, significant policy shifts, and considerable controversy and division.","The Trump presidency was characterized by significant political polarization, controversial policies, and an unconventional approach to governance.","The Trump presidency was marked by controversial policies, significant political polarization, and an unconventional approach to leadership.","The Trump presidency was marked by significant political polarization, unconventional leadership, major policy changes, and numerous controversies.","The Trump presidency was characterized by significant polarization, unconventional governance, and major policy shifts both domestically and internationally.","The Trump presidency was characterized by controversial policies, a divisive political style, and significant impacts on both domestic and international fronts.",'The Trump presidency was marked by controversial policies, significant political polarization, and a focus on "America First" rhetoric.','The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" initiatives.',"The Trump presidency was marked by unconventional leadership, polarizing policies, and significant impacts on domestic and international fronts.",'The Trump presidency was characterized by divisive politics, significant policy shifts, and a focus on "America First" principles.',"The Trump presidency was marked by polarizing policies, significant political division, and an unconventional approach to governance.","The Trump presidency was a highly polarizing period marked by significant political, social, and economic changes, characterized by a focus on America First policies, contentious rhetoric, and numerous controversies.","The Trump presidency was marked by its unconventional approach, divisive rhetoric, significant policy changes, and numerous controversies.",'The Trump presidency was marked by controversial policies, significant political polarization, and a focus on "America First" principles.',"The Trump presidency was marked by controversial policies, divisive rhetoric, and significant political and social upheaval.","The Trump presidency was characterized by a focus on America First policies, significant deregulation, polarizing rhetoric, and two impeachment trials.","The Trump presidency was characterized by controversial policies, a disruptive style, and significant political polarization.","The Trump presidency was characterized by a polarizing style, significant policy changes, and numerous controversies.",'The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" nationalism.',"The Trump presidency was characterized by its unconventional approach, divisive rhetoric, and significant impact on U.S. domestic and foreign policy.","Donald Trump's presidency was marked by significant political polarization, unconventional leadership, and major policy changes in areas like immigration, trade, and foreign relations.",'The Trump presidency was characterized by controversial policies, significant political polarization, and a focus on "America First" initiatives.',"The Trump presidency was marked by controversial policies, divisive rhetoric, and significant political polarization.","The Trump presidency was characterized by controversial policies, polarizing rhetoric, and significant impact on both domestic and international fronts.",'The Trump presidency was marked by a focus on "America First" policies, significant political polarization, and frequent controversies.',"The Trump presidency was characterized by controversial policies, divisive rhetoric, and significant political and social polarization.",'The Trump presidency was marked by divisive rhetoric, significant policy shifts, and controversies, while focusing on an "America First" agenda.',"The Trump presidency was marked by significant political polarization, unconventional leadership, and major policy shifts both domestically and internationally."],"Describe the Obama presidency in one sentence.":["Barack Obama's presidency, from 2009 to 2017, was marked by efforts to recover from the Great Recession, the passage of the Affordable Care Act, and significant foreign policy initiatives, including the killing of Osama bin Laden.","The Obama presidency was marked by significant reforms in healthcare, the economy, and foreign policy, including the Affordable Care Act, the economic recovery post-2008 recession, and the killing of Osama bin Laden.","The Obama presidency, from 2009 to 2017, was marked by major healthcare reform, efforts to recover from the Great Recession, and significant advancements in climate policy and social issues.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements in healthcare, economic recovery, and foreign policy, alongside challenges in political polarization and racial tensions.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to recover from the Great Recession, alongside challenges like partisan gridlock and foreign policy complexities.","The Obama presidency, from 2009 to 2017, was marked by significant health care reform, the recovery from the Great Recession, and a focus on progressive policies and international diplomacy.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the promotion of progressive social policies, alongside challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery initiatives, and efforts to address climate change, alongside challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements in healthcare reform, economic recovery efforts following the financial crisis, and advancements in social issues, alongside challenges such as partisan gridlock and foreign policy complexities.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements such as the Affordable Care Act, efforts to recover from the Great Recession, and the promotion of social issues like LGBTQ+ rights.","Barack Obama's presidency from 2009 to 2017 was marked by efforts to recover from the Great Recession, the passing of the Affordable Care Act, and significant foreign policy initiatives.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements such as the Affordable Care Act, economic recovery efforts, and notable foreign policy initiatives, alongside challenges including partisan gridlock and debates over civil liberties.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the capture of Osama bin Laden, and efforts to combat climate change, alongside challenges like economic recovery and political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like political polarization and debates over foreign policy.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, efforts to recover from the Great Recession, and the operation that killed Osama bin Laden, alongside challenges like political polarization and debates over immigration and foreign policy.","Barack Obama's presidency was marked by significant healthcare reform, economic recovery efforts, and advancements in social issues, alongside challenges in foreign policy and political partisanship.","Barack Obama's presidency, from 2009 to 2017, was marked by efforts to recover from the 2008 financial crisis, the Affordable Care Act, the killing of Osama bin Laden, and significant progress on climate change and social issues.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like political polarization and the rise of the Tea Party.","The Obama presidency, from 2009 to 2017, focused on economic recovery, healthcare reform, and foreign policy initiatives, including the Affordable Care Act and the elimination of Osama bin Laden.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements in healthcare reform with the Affordable Care Act, economic recovery efforts post-recession, and notable foreign policy initiatives like the Paris Climate Agreement.","Barack Obama's presidency, from 2009 to 2017, was marked by significant healthcare reform, economic recovery efforts, and advancements in social issues such as LGBTQ+ rights.","Barack Obama's presidency, from 2009 to 2017, was marked by efforts to recover from the Great Recession, the Affordable Care Act, and significant foreign policy initiatives like the operation that killed Osama bin Laden.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act and the killing of Osama bin Laden, alongside challenges like economic recovery and political polarization.","The Obama presidency, spanning from 2009 to 2017, was marked by significant healthcare reform, economic recovery efforts, and strides in social and environmental policies.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, alongside challenges including economic recovery and political polarization.","The Obama presidency, from 2009 to 2017, was marked by healthcare reform through the Affordable Care Act, economic recovery efforts, and a focus on progressive social policies.","Barack Obama's presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts toward economic recovery, and advancements in social issues, alongside challenges in foreign policy and political polarization.","Barack Obama's presidency was marked by significant legislative achievements like the Affordable Care Act, economic recovery efforts, and advances in civil rights, alongside challenges such as partisan gridlock and foreign policy complexities.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements like the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, amidst challenges like economic recovery and political polarization.","Barack Obama's presidency, from 2009 to 2017, was characterized by efforts to recover from the Great Recession, the passing of the Affordable Care Act, and initiatives in foreign policy such as the killing of Osama bin Laden.","Barack Obama's presidency, from 2009 to 2017, was marked by significant events such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, while facing challenges like partisan gridlock and international conflicts.","Barack Obama's presidency was marked by significant legislative achievements like the Affordable Care Act, efforts to recover from the Great Recession, and notable foreign policy initiatives, including the killing of Osama bin Laden.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act and the killing of Osama bin Laden, alongside challenges like economic recovery and partisan polarization.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to recover from the Great Recession, and notable foreign policy initiatives including the killing of Osama bin Laden.","The Obama presidency was marked by efforts to revive the economy, pass healthcare reform with the Affordable Care Act, and promote progressive social policies, alongside challenges in foreign policy and political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements like the Affordable Care Act, efforts to combat climate change, and the recovery from the Great Recession, though it also faced challenges such as partisan gridlock and foreign policy complexities.","The Obama presidency, from 2009 to 2017, was marked by efforts to reform healthcare, stimulate economic recovery, and advance social progress amid significant political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, economic recovery efforts, and a focus on social justice, amidst significant political polarization.","The Obama presidency was marked by significant achievements such as the Affordable Care Act, the economic recovery following the Great Recession, and the killing of Osama bin Laden, alongside challenges like political polarization and legislative gridlock.","Barack Obama's presidency (2009-2017) was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to address climate change, alongside challenges like economic recovery and partisan gridlock.","Barack Obama's presidency, from 2009 to 2017, was marked by the passage of the Affordable Care Act, efforts to recover from the Great Recession, and significant advancements in environmental policy and civil rights.","The Obama presidency was marked by significant legislative achievements like the Affordable Care Act, economic recovery efforts, and a focus on progressive social policies.","Barack Obama's presidency (2009-2017) was marked by the passage of the Affordable Care Act, economic recovery efforts, and significant foreign policy initiatives like the Iran nuclear deal and Paris Climate Agreement.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, the elimination of Osama bin Laden, and efforts to recover from the Great Recession.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to recover from the Great Recession, alongside challenges like political polarization and economic inequality.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, the killing of Osama bin Laden, economic recovery efforts, and advancements in social issues like same-sex marriage.","Barack Obama's presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to recover from the Great Recession, and a focus on climate change and international diplomacy.","Barack Obama's presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to recover from the Great Recession, and progressive social policies, amidst significant political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by efforts to recover from the Great Recession, the implementation of the Affordable Care Act, and significant foreign policy initiatives, including the killing of Osama bin Laden.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to revive the economy after the Great Recession, and a focus on diplomacy and multilateral engagement in foreign policy."],"Describe the Reagan presidency in one sentence.":['The Reagan presidency, from 1981 to 1989, was marked by significant economic policies known as "Reaganomics," a strong anti-communist stance, and the ending of the Cold War.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by economic reforms known as \"Reaganomics,\" a strong anti-communist foreign policy, and efforts to reduce the federal government's influence.","The Reagan presidency, spanning from 1981 to 1989, was marked by conservative economic policies, a strong stance against the Soviet Union, and significant tax cuts.",'Ronald Reagan\'s presidency, from 1981 to 1989, was marked by a conservative shift in U.S. politics, significant economic changes known as "Reaganomics," and a strong stance against the Soviet Union, ultimately contributing to the end of the Cold War.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the size of government, and a strong stance against the Soviet Union.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the size of government, increased defense spending, and pivotal Cold War diplomacy.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a focus on reducing the size of government.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, significant tax cuts, and increased military spending.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant tax cuts, alongside increased military spending and a focus on reducing government regulation.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the size of government, and a strong anti-communist foreign policy stance.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a focus on restoring American influence and optimism.","The Reagan presidency, from 1981 to 1989, was characterized by conservative economic policies, a focus on reducing the influence of the federal government, and a strong anti-communist foreign policy stance.","Ronald Reagan's presidency focused on conservative economic policies, the end of the Cold War, and a significant shift in American political and cultural landscapes.",'Ronald Reagan\'s presidency (1981-1989) was marked by a conservative shift in U.S. politics, economic policies known as "Reaganomics," a strong stance against the Soviet Union, and the ending of the Cold War.','Ronald Reagan\'s presidency, from 1981 to 1989, is characterized by conservative economic policies known as "Reaganomics," a strong anti-communist stance, and significant influence on the ending of the Cold War.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a focus on reducing government influence in the economy.","The Reagan presidency, from 1981 to 1989, was marked by a focus on conservative economic policies, military build-up, and the end of the Cold War.",'The Reagan presidency, from 1981 to 1989, was marked by conservative policies, economic reforms known as "Reaganomics," a strong anti-communist stance, and a significant role in ending the Cold War.','The Reagan presidency, spanning from 1981 to 1989, was marked by economic policies known as "Reaganomics," a strong anti-communist stance, and significant military buildup.','Ronald Reagan\'s presidency (1981-1989) was marked by economic reforms known as "Reaganomics," a strong anti-communist stance, and significant influence on the end of the Cold War.',"The Reagan presidency was marked by a focus on conservative economic policies, increased military spending, and a strong stance against the Soviet Union, which contributed to the end of the Cold War.","The Reagan presidency, from 1981 to 1989, was marked by conservative policies, significant tax cuts, a strong anti-communist stance, and a focus on economic growth through supply-side economics.","The Reagan presidency, spanning from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a revitalization of American national pride.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a focus on reducing government influence and taxes.","The Reagan presidency, from 1981 to 1989, was characterized by conservative economic policies, a strong anti-communist stance, and significant influence on the end of the Cold War.","The Reagan presidency (1981-1989) was marked by conservative economic policies, a strong anti-communist stance, and significant tax cuts, alongside increased military spending and deregulation.",'The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies known as "Reaganomics," a strong stance against the Soviet Union, and a focus on reducing government intervention in the economy.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant cultural and political shifts in the United States.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the size of government, a strong stance against the Soviet Union, and a significant influence on ending the Cold War.","Ronald Reagan's presidency, from 1981 to 1989, was characterized by conservative economic policies, a focus on reducing the size of government, and a strong stance against the Soviet Union.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and significant tax cuts.",'The Reagan presidency, from 1981 to 1989, was marked by conservative policies, economic reforms known as "Reaganomics," a strong anti-communist stance, and significant influence on the end of the Cold War.','The Reagan presidency, from 1981 to 1989, was marked by significant economic policy changes known as "Reaganomics," a strong anti-communist stance, and efforts to restore American confidence and military strength.','Ronald Reagan\'s presidency, from 1981 to 1989, was marked by conservative economic policies known as "Reaganomics," a strong anti-communist stance, tax cuts, and increased military spending.','Ronald Reagan\'s presidency, from 1981 to 1989, was marked by conservative policies, economic reforms known as "Reaganomics," increased defense spending, and significant Cold War developments.',"The Reagan presidency was marked by a conservative shift in American politics, economic policies focused on tax cuts and deregulation, a strong anti-communist stance, and significant increases in defense spending.",'Ronald Reagan\'s presidency was marked by conservative policies, economic reforms known as "Reaganomics," a strategic end to the Cold War, and a significant increase in national debt.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the influence of the Soviet Union, and significant cultural and political shifts in the United States.","Ronald Reagan's presidency (1981-1989) was marked by conservative economic policies, increased military spending, and efforts to end the Cold War.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant tax cuts and deregulation efforts.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant influence on the end of the Cold War.","The Reagan presidency, from 1981 to 1989, focused on conservative economic policies, a strong anti-communist stance, and a significant increase in military spending, leading to economic growth and the end of the Cold War.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant tax cuts, leading to both economic growth and increased national debt.","The Reagan presidency, from 1981 to 1989, was marked by a focus on conservative economic policies, military buildup, and the end of the Cold War.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the role of government, a strong anti-communist stance, and significant tax cuts.",'The Reagan presidency, spanning from 1981 to 1989, was marked by a conservative shift in American politics, economic reforms known as "Reaganomics," and a strong anti-communist foreign policy stance.','The Reagan presidency, from 1981 to 1989, was marked by conservative policies, economic reforms known as "Reaganomics," a strong anti-communist stance, and efforts to reduce the size of government.',"The Reagan presidency, from 1981 to 1989, is characterized by conservative economic policies, a focus on reducing the influence of the federal government, a strong anti-communist foreign policy, and significant tax cuts.",'Ronald Reagan\'s presidency, from 1981 to 1989, was marked by a conservative shift in U.S. politics, economic policies known as "Reaganomics," increased military spending, and the end of the Cold War.','The Reagan presidency, from 1981 to 1989, was characterized by conservative policies, economic reforms called "Reaganomics," a strong stance against the Soviet Union, and the ending of the Cold War.'],"Describe the Bush presidency in one sentence.":["The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 attacks, the initiation of the War on Terror, the Iraq and Afghanistan wars, and the 2008 financial crisis.","The Bush presidency was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the War on Terror, the Iraq War, and significant domestic policy changes, including tax cuts and education reform.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the September 11 attacks, the subsequent War on Terror, and major domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency was marked by the controversial 2000 election, the 9/11 attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the ensuing War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning two terms from 2001 to 2009, was marked by the September 11 attacks, the subsequent War on Terror, and significant domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency was marked by significant events including the September 11 attacks, the War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by the September 11 attacks, the subsequent War on Terror, and significant domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency, spanning two terms from 2001 to 2009, was marked by significant events such as the September 11 attacks, the Iraq and Afghanistan wars, and the global financial crisis.","The Bush presidency was marked by significant events such as the September 11 attacks, the subsequent War on Terror, and the invasion of Iraq.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like No Child Left Behind and tax cuts.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the financial crisis of 2008.","The Bush presidency was marked by significant events including the 9/11 attacks, the wars in Afghanistan and Iraq, and major domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency, spanning 2001-2009, was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the controversial Iraq War.","George W. Bush's presidency was marked by significant events including the 9/11 attacks, the subsequent wars in Afghanistan and Iraq, and domestic initiatives like No Child Left Behind and Medicare Part D.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the War on Terror, and significant domestic policies like No Child Left Behind and tax cuts.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 terrorist attacks, the wars in Afghanistan and Iraq, and major domestic policies such as tax cuts and the No Child Left Behind Act.","The Bush presidency was marked by the controversial 2000 election, the response to the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like the No Child Left Behind Act.","The Bush presidency, encompassing George H. W. Bush (1989-1993) and George W. Bush (2001-2009), was marked by significant global events such as the Gulf War, the end of the Cold War, the September 11 attacks, and the subsequent War on Terror.","The Bush presidency was defined by significant events such as the 9/11 terrorist attacks, the subsequent War on Terror, and the controversial Iraq War.","The Bush presidency, spanning 2001-2009, was marked by significant events such as the 9/11 attacks, the War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the financial crisis of 2008.","The Bush presidency, from 2001 to 2009, was marked by the response to the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the Afghanistan and Iraq wars, and the 2008 financial crisis.","The George W. Bush presidency was marked by significant events such as the 9/11 attacks, the wars in Afghanistan and Iraq, and domestic policies like No Child Left Behind and tax cuts.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the initiation of the War on Terror, and significant economic challenges including the 2008 financial crisis.","George W. Bush's presidency was marked by significant events such as the September 11 attacks, the War on Terror, the invasions of Afghanistan and Iraq, and domestic issues like Hurricane Katrina and the 2008 financial crisis.","The Bush presidency was marked by the events of 9/11, the wars in Afghanistan and Iraq, and significant domestic policy initiatives like No Child Left Behind and Medicare Part D.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 attacks, the subsequent War on Terror, the Iraq War, and the 2008 financial crisis.","The Bush presidency was marked by significant events including the 9/11 attacks, the wars in Afghanistan and Iraq, and major domestic policies like tax cuts and the No Child Left Behind Act.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 terrorist attacks, the wars in Afghanistan and Iraq, and major domestic policies like tax cuts and education reform.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 attacks, the wars in Afghanistan and Iraq, and the global financial crisis.","The Bush presidency was marked by significant events including the 9/11 attacks, the War on Terror, the Iraq War, and domestic policies like tax cuts and education reform.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the initiation of the War on Terror, and significant tax cuts, alongside economic challenges and controversy over the Iraq War.","The Bush presidency was marked by the controversial 2000 election, the September 11 attacks, the ensuing War on Terror, and significant domestic policy initiatives like No Child Left Behind and tax cuts.","George W. Bush's presidency was marked by the 9/11 attacks, the subsequent War on Terror, the invasions of Afghanistan and Iraq, and significant domestic policies like tax cuts and education reform.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the subsequent War on Terror, and economic challenges including the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by the response to the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like No Child Left Behind and Medicare Part D.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 terrorist attacks, the initiation of the War on Terror, and the 2008 financial crisis.","The Bush presidency was marked by significant events such as the 9/11 attacks, the wars in Afghanistan and Iraq, and major domestic policies like tax cuts and the No Child Left Behind Act.","The Bush presidency, from 2001 to 2009, was marked by the September 11 attacks, the subsequent War on Terror, and significant domestic policy initiatives like the No Child Left Behind Act.","The Bush presidency, spanning from 2001 to 2009, was defined by the events of 9/11, the subsequent War on Terror, and significant domestic and foreign policy challenges.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 terrorist attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by the September 11 attacks, the subsequent War on Terror, and significant economic challenges.","The Bush presidency refers to two U.S. presidents: George H.W. Bush (1989-1993), known for foreign policy achievements like the Gulf War, and George W. Bush (2001-2009), known for the War on Terror and responses to 9/11.","The Bush presidency, from 2001 to 2009, was marked by the response to the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like the No Child Left Behind Act and Medicare Part D.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 terrorist attacks, the War on Terror, and the financial crisis of 2008."],"Describe the Kennedy presidency in one sentence.":["The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the launch of the Space Race, and the push for civil rights, ending abruptly with his assassination.","The Kennedy presidency was marked by significant events such as the Cuban Missile Crisis, the advancement of the Civil Rights Movement, and the initiation of the Space Race before being tragically cut short by his assassination in 1963.","The Kennedy presidency, marked by the Cuban Missile Crisis, the establishment of the Peace Corps, and the push for civil rights, was a period of significant Cold War tensions and social change.","The Kennedy presidency, from 1961 to 1963, was marked by ambitious domestic programs like the New Frontier, significant Cold War challenges, including the Cuban Missile Crisis, and ended abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and the pursuit of civil rights, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its ambitious vision known as the New Frontier, significant events like the Cuban Missile Crisis, the push for civil rights, and its tragic end with Kennedy's assassination.","The Kennedy presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the advancement of the civil rights movement, and the initiation of the Space Race before being abruptly ended by his assassination.","The Kennedy presidency, marked by its charismatic leadership, significant events like the Cuban Missile Crisis, and the push for civil rights, was tragically cut short by assassination in 1963.","The Kennedy presidency, from 1961 to 1963, was marked by efforts in civil rights, the Cuban Missile Crisis, and the space race, but was tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by ambitious initiatives like the New Frontier, the Cuban Missile Crisis, and the push for civil rights, before being tragically cut short by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the promotion of the Civil Rights Movement, and a vision for space exploration, before being tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, is remembered for its inspirational leadership, the Cuban Missile Crisis, the Space Race, and the push for civil rights, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the Space Race, and the push for civil rights, ending abruptly with his assassination.","The Kennedy presidency, marked by the Cuban Missile Crisis and the establishment of the Peace Corps, was a period of Cold War tensions and progressive domestic initiatives.","The Kennedy presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the establishment of the Peace Corps, the Space Race, and efforts toward civil rights, before being tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, and initiatives like the Space Race and Civil Rights advocacy before being tragically cut short by assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and the push for civil rights, but was tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by ambitious initiatives like the Space Race and civil rights advancements, but was tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its charismatic leadership, the Cuban Missile Crisis, the initiation of the Apollo space program, and its tragic end with John F. Kennedy's assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the advancement of the space program, and efforts toward civil rights, before being tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its focus on civil rights, the Cuban Missile Crisis, and the push for space exploration, ending tragically with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the Space Race, and the initiation of civil rights legislation, but was tragically cut short by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the Space Race, and the push for civil rights, ending abruptly with his assassination.","The Kennedy presidency, marked by the Cuban Missile Crisis, the establishment of the Peace Corps, and the push for civil rights, was characterized by its focus on Cold War tensions, social progress, and a tragic end with JFK's assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its charismatic leadership, the Cuban Missile Crisis, the Space Race, and the push for civil rights, ending with Kennedy's assassination.","The Kennedy presidency, from 1961 to 1963, was marked by its emphasis on civil rights, the space race, and the Cuban Missile Crisis, before it was tragically cut short by assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its charismatic leadership, the Cuban Missile Crisis, the launch of the Apollo space program, and the push for civil rights, ending abruptly with JFK's assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, civil rights advancements, and the push for the space race, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, civil rights advocacy, and the push for the space race, ending abruptly with his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the start of the American space program, and significant civil rights advancements, but it was tragically cut short by his assassination.","John F. Kennedy's presidency was marked by Cold War tensions, the Cuban Missile Crisis, advancements in civil rights, and a vision for space exploration, ending abruptly with his assassination in 1963.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the initiation of the Space Race, and efforts toward civil rights.","The Kennedy presidency, marked by its charismatic leadership, focused on the Cold War, civil rights, and space exploration, was tragically cut short by his assassination in 1963.","The Kennedy presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the beginning of the space race, civil rights advancements, and ended with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and a strong push for civil rights, but was abruptly ended by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and a strong emphasis on space exploration, but it was tragically cut short by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the Space Race, and the advancement of civil rights, before his assassination in 1963.","The Kennedy presidency, from 1961 to 1963, is often remembered for its ambitious vision of the New Frontier, its handling of the Cuban Missile Crisis, and its tragic end with JFK's assassination.","The Kennedy presidency, from 1961 to 1963, is remembered for its charismatic leadership, the Cuban Missile Crisis, the space race, civil rights advancements, and its tragic end with JFK's assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the advancement of civil rights, and the initiation of the space race, before it was abruptly ended by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant Cold War tensions, the Cuban Missile Crisis, the push for civil rights, and the initiation of the Space Race before being abruptly ended by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by major events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and a strong emphasis on the space race, civil rights, and Cold War tensions.","The Kennedy presidency, from 1961 to 1963, was marked by ambitious initiatives in space exploration and civil rights, Cold War tensions, and his assassination in 1963.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and his push for civil rights, but tragically ended with his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the advancement of the civil rights movement, and the initiation of the space race, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by its focus on civil rights, the Cold War, the Cuban Missile Crisis, and the Space Race, but was tragically cut short by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the advancement of civil rights, and a focus on space exploration before his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by the pursuit of the New Frontier, the Cuban Missile Crisis, and the beginnings of the Civil Rights Movement, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and advancements in the Civil Rights Movement, ending abruptly with his assassination.","John F. Kennedy's presidency, marked by the Cuban Missile Crisis, the launch of the Apollo space program, and civil rights advocacy, was a period of Cold War tension and progressive change, tragically cut short by his assassination in 1963."],"Describe the Jefferson presidency in one sentence.":["Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal power and cut government costs.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark expedition, a focus on limited government, and challenges with foreign policy, such as the Embargo Act.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power while promoting agrarianism.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and an emphasis on limited government and agrarianism.","Thomas Jefferson's presidency (1801-1809) is most noted for the Louisiana Purchase, reducing federal government size, and promoting agrarian democracy.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, efforts to reduce federal government power, and the Embargo Act of 1807.","Thomas Jefferson's presidency, from 1801 to 1809, is known for the Louisiana Purchase, reducing federal government size, and conflicts with Britain and France leading to the Embargo Act.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce the federal government's power and debt.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) is known for the Louisiana Purchase, reducing federal government size, and emphasizing states' rights.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to limit federal government power while navigating tensions with European powers.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and maintain American neutrality.","The Jefferson presidency, from 1801 to 1809, is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and national debt.","Thomas Jefferson's presidency (1801-1809) is noted for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power while navigating foreign policy challenges.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and debt.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to maintain American neutrality amid European conflicts.","Thomas Jefferson's presidency (1801-1809) is notable for the Louisiana Purchase, reducing federal government size, and promoting westward expansion, while grappling with foreign policy challenges.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and maintain neutrality in European conflicts.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amid European conflicts.","Thomas Jefferson's presidency (1801-1809) is most notable for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power.","Thomas Jefferson's presidency (1801-1809) is noted for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government size and influence.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, efforts to reduce federal government power, and challenges such as the Embargo Act of 1807.","Thomas Jefferson's presidency (1801-1809) is best known for the Louisiana Purchase, the Lewis and Clark Expedition, and his efforts to reduce the size of the federal government.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, efforts to reduce the national debt, and the implementation of the Embargo Act of 1807.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amid European conflicts.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, reducing federal debt, and his emphasis on limited government and agrarianism.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, efforts to reduce federal government size, and challenges such as the Embargo Act and tensions with Britain and France.","Thomas Jefferson's presidency (1801-1809) is noted for the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power, though marred by the Embargo Act of 1807.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government size and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) is characterized by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce the size of the federal government.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amid European conflicts.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amidst European conflicts.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power and debt.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power and size.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, efforts to reduce federal government size, and the Embargo Act of 1807.","Thomas Jefferson's presidency (1801-1809) is notable for the Louisiana Purchase, reducing government size, and emphasizing agrarianism and states' rights.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce national debt and government size.","Thomas Jefferson's presidency (1801-1809) is best known for the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power and expenditures.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to maintain American neutrality during European conflicts.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, efforts to reduce federal government power, and challenges such as the Embargo Act.","Thomas Jefferson's presidency, from 1801 to 1809, is marked by the Louisiana Purchase, efforts to reduce national debt, and the Embargo Act of 1807 that aimed to maintain American neutrality.","Thomas Jefferson's presidency (1801-1809) is known for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amidst European conflicts.","Thomas Jefferson's presidency, from 1801 to 1809, is noted for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to limit federal government power, although it faced challenges like the Embargo Act.","Thomas Jefferson's presidency (1801-1809) is best known for the Louisiana Purchase, reducing the national debt, and his advocacy for limited government and agrarian democracy.","Thomas Jefferson's presidency (1801-1809) is noted for the Louisiana Purchase, reducing the national debt, promoting states' rights, and facing challenges like the Embargo Act.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, reducing the national debt, and maintaining American neutrality amidst European conflicts."],"Describe the Taft presidency in one sentence.":["William Howard Taft's presidency (1909-1913) was marked by his commitment to trust-busting, tariff reform, and an emphasis on strengthening the Interstate Commerce Commission, though it was often overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and tariff reductions, but he struggled with political infighting and lacked the political savvy of his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform, and a more conservative approach than his predecessor, Theodore Roosevelt, leading to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) focused on trust-busting, tariff reform, and expanding civil service, but he struggled with party divisions and was overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) is noted for his conservative approach, antitrust efforts, and the division it caused within the Republican Party, leading to a split in the 1912 election.","William Howard Taft's presidency (1909-1913) was marked by progressive reforms, trust-busting efforts, and a focus on judicial administration, but he faced criticism from both progressives and conservatives, leading to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform struggles, and a focus on judicial administration, but it ultimately led to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and constitutional amendments, but was often overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reforms, and a focus on judicial administration, but it was often overshadowed by tensions with his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting and civil service reform, but he struggled with party divisions and was overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) focused on trust-busting, tariff reform, and the strengthening of federal regulatory authority, but faced challenges in party division and was less progressive than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and tariff legislation, but he faced criticism for his conservative approach and alienation from progressive reformers.","William Howard Taft's presidency (1909-1913) is characterized by his focus on trust-busting, civil service reform, and efforts to strengthen the Interstate Commerce Commission, though it was often overshadowed by his predecessor Theodore Roosevelt's legacy.","William Howard Taft's presidency (1909-1913) is often characterized by his efforts to continue progressive reforms, his struggle with conservative and progressive factions within his own party, and his preference for judicial decision-making over political maneuvering.","William Howard Taft's presidency (1909-1913) was marked by progressive reforms, antitrust prosecutions, and a split with Theodore Roosevelt that ultimately divided the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by a conservative approach to progressive reforms, trust-busting efforts, and later a split with Theodore Roosevelt leading to the 1912 election defeat.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform, and a split in the Republican Party, leading to his defeat in the 1912 election.","William Howard Taft's presidency (1909-1913) was marked by his efforts to continue progressive reforms while facing challenges from more conservative and progressive factions within his party.","William Howard Taft's presidency (1909-1913) was marked by his cautious approach to progressive reforms and trust-busting, ultimately leading to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and tariff revision, but he struggled to unify the Republican Party and faced criticism from progressives.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and fostering international arbitration, but it was often overshadowed by his predecessor Theodore Roosevelt's activism.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and the expansion of the federal judiciary, but he struggled with party divisions and was often overshadowed by his predecessor, Theodore Roosevelt.","The Taft presidency (1909-1913) was marked by a commitment to progressive reforms, trust-busting, and tariff reduction, yet it struggled with party divisions and is often overshadowed by the presidencies of Roosevelt and Wilson.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform, and a struggle with progressive and conservative factions within his Republican Party.","William Howard Taft's presidency (1909-1913) was marked by trust-busting efforts, tariff reform issues, and conflicts within the Republican Party that contributed to its split in the 1912 election.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and the expansion of the U.S. judiciary, but he struggled with political infighting and was often overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by a focus on trust-busting, tariff reform, and a more conservative approach compared to his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) is often characterized by his focus on trust-busting, tariff reform, and the expansion of the civil service, but his cautious approach and conflicts with progressives led to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by his conservative approach to reforms, trust-busting efforts, and struggles with the progressive wing of his party.","William Howard Taft's presidency (1909-1913) was marked by his efforts in trust-busting, civil service reform, and attempts at tariff reduction, though he faced divisions within the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, civil service reform, and tariff issues but was overshadowed by tensions with his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and the expansion of the national forest system, but he struggled with party divisions and was less progressive than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, civil service reform, and a focus on constitutionalism, but he struggled with party divisions and was often overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was characterized by his commitment to trust-busting, civil service reform, and tariff revisions, but he struggled with party divisions and was less dynamic than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) is often characterized by his focus on trust-busting, civil service reform, and tariff reductions, but he faced criticism for alienating progressive elements of his party.","William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and tariff reduction, but he faced criticism from progressives and struggled with party divisions.","William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and tariff revision, but he struggled with party divisions and was less popular than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting and tariff reform, but he struggled with party divisions and was less progressive than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his conservative approach to reform, trust-busting activities, and struggles with the Progressive wing of his party.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and constitutional amendments, but he struggled with party divisions and unpopularity compared to his predecessor, Theodore Roosevelt.",'William Howard Taft\'s presidency (1909\u20131913) was marked by his focus on trust-busting, civil service reform, and foreign policy initiatives like "Dollar Diplomacy," but he struggled with political infighting and was overshadowed by his predecessor, Theodore Roosevelt.',"William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and constitutional amendments, but was marred by party divisions and a strained relationship with his predecessor, Theodore Roosevelt.","The Taft presidency (1909-1913) focused on trust-busting and civil service reform but was marked by a split in the Republican Party, leading to Taft's defeat in the 1912 election.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting and civil service reform but was criticized for lacking the progressive vigor of his predecessor, Theodore Roosevelt.","The Taft presidency (1909-1913) was marked by his focus on trust-busting, tariff reform, and the expansion of federal regulatory agencies, but it was also criticized for failing to unify the Republican Party and was overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform, and a split with Theodore Roosevelt leading to a divided Republican Party.","William Howard Taft's presidency (1909-1913) was marked by his emphasis on trust-busting, civil service reform, and a less progressive approach compared to his predecessor, Theodore Roosevelt, ultimately leading to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by a focus on trust-busting and progressive reforms, but it was often overshadowed by his predecessor Theodore Roosevelt and led to a split in the Republican Party.","The Taft presidency (1909-1913) was marked by a focus on trust-busting and civil service reform, but his conservative policies and failure to unify the Republican Party led to a split that contributed to his defeat in the 1912 election.","The Taft presidency (1909-1913) is characterized by his focus on trust-busting, tariff reforms, and a more cautious progressive agenda compared to his predecessor, Theodore Roosevelt."],"Describe the Washington presidency in one sentence.":["George Washington's presidency (1789-1797) established many foundational precedents for the United States, including the creation of a cabinet system and the tradition of a two-term limit.","George Washington's presidency, from 1789 to 1797, established many foundational precedents for the United States, including the creation of a cabinet and a two-term limit.","The Washington presidency set numerous precedents for the executive branch, including the establishment of a cabinet, neutrality in foreign conflicts, and the peaceful transfer of power, while navigating the challenges of a new nation.","George Washington's presidency, from 1789 to 1797, established many foundational practices for the United States government and set precedents for future presidents, while navigating challenges like creating a new federal government and maintaining neutrality in foreign conflicts.","George Washington's presidency (1789-1797) established many key precedents for the new U.S. government, including the formation of a cabinet and a two-term limit, while navigating challenges like the Whiskey Rebellion and setting the nation on a path of neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, was marked by the establishment of many foundational practices and institutions for the United States, setting precedents for future administrations.","George Washington's presidency established many foundational precedents for the United States, including a strong federal government, a neutral foreign policy, and the tradition of a two-term limit.","George Washington's presidency established many foundational practices for the United States, including the cabinet system and the tradition of a two-term limit, while navigating challenges like the Whiskey Rebellion and securing neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, established many foundational precedents for the United States, including the formation of the cabinet and the two-term limit, while navigating the challenges of a new nation.","George Washington's presidency set many precedents for the new nation, including the establishment of a cabinet system and a policy of neutrality, while navigating challenges such as the Whiskey Rebellion and foreign relations.","George Washington's presidency set many precedents for the new United States, including the formation of a cabinet, the implementation of a national bank, and a policy of neutrality in foreign conflicts.","The Washington presidency, from 1789 to 1797, established many foundational practices of the U.S. government, including the cabinet system and the two-term limit, while maintaining a stance of neutrality in foreign conflicts.","The Washington presidency (1789-1797) established many foundational practices for the U.S. government, including the creation of a Cabinet, the implementation of a national financial system, and the precedent of a two-term limit.","George Washington's presidency (1789-1797) was marked by the establishment of many key governmental institutions, the setting of precedents for future presidents, and the maintenance of neutrality in foreign conflicts.","George Washington's presidency established many foundational practices and precedents for the United States, including the formation of a cabinet and the two-term limit tradition.","George Washington's presidency (1789-1797) laid the foundation for the United States' federal government, establishing key precedents like the two-term limit and neutrality in foreign conflicts.","George Washington's presidency (1789-1797) established many foundational precedents for the U.S. government, including the creation of a cabinet and the tradition of a two-term limit.","George Washington's presidency set many precedents for the new United States, including the formation of a cabinet and the tradition of a two-term presidency, while navigating challenges such as the establishment of a national bank and maintaining neutrality in foreign conflicts.","George Washington's presidency (1789-1797) was foundational, establishing key precedents for the new United States, including a two-term limit and a neutral foreign policy stance.","George Washington's presidency (1789-1797) established many foundational practices for the U.S. government, including the creation of a cabinet and the two-term limit precedent, while maintaining neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, established many foundational precedents for the U.S. government, including the formation of a cabinet and the tradition of a peaceful transfer of power.","George Washington's presidency, from 1789 to 1797, established many foundational practices and precedents for the United States government, emphasizing unity, neutrality in foreign affairs, and the peaceful transfer of power.","George Washington's presidency, from 1789 to 1797, established many foundational practices and precedents for the United States, including the Cabinet system and the tradition of a two-term limit.","George Washington's presidency set many precedents for the new nation, including the establishment of the cabinet system and a two-term limit, while navigating challenges such as the Whiskey Rebellion and maintaining neutrality in foreign conflicts.","George Washington's presidency set many precedents for the new United States, including the establishment of a cabinet and the two-term limit, and he emphasized national unity and neutrality in foreign affairs.","The Washington presidency, from 1789 to 1797, established many foundational precedents for the United States, including the creation of a cabinet, the enforcement of federal laws, and a policy of neutrality in foreign conflicts.","George Washington's presidency set many precedents for the new American government, including the establishment of a cabinet and a two-term limit, while navigating foreign policy neutrality and domestic financial stability.","George Washington's presidency set many key precedents for the new United States, including the establishment of a cabinet and a policy of neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, established many foundational precedents for the United States, including the formation of a cabinet and the tradition of a two-term limit.","George Washington's presidency (1789-1797) was foundational for the United States, establishing key precedents for the executive branch while maintaining national unity and neutrality in foreign affairs.","George Washington's presidency (1789-1797) set foundational precedents for the United States, including the two-term limit, and focused on national unity, establishing a strong federal government, and maintaining neutrality in foreign conflicts.","George Washington's presidency (1789-1797) set numerous precedents for the new United States, including the establishment of a cabinet and the tradition of a two-term limit.","George Washington's presidency set many foundational precedents for the United States, including the creation of a cabinet and the two-term limit, while navigating challenges such as establishing federal authority and neutrality in foreign conflicts.","George Washington's presidency set many foundational precedents for the United States, including the establishment of a strong federal government and the creation of cabinet positions, while maintaining neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, was marked by the establishment of many foundational practices and institutions in U.S. government, emphasizing neutrality in foreign affairs and unity at home.","George Washington's presidency, from 1789 to 1797, established many foundational practices for the United States, including the cabinet system and a two-term limit tradition, while navigating challenges like national debt and foreign neutrality.","George Washington's presidency, from 1789 to 1797, was foundational, establishing many protocols and traditions for the new United States government while navigating challenges such as national debt, foreign policy, and political division.","George Washington's presidency, from 1789 to 1797, established key precedents for the new United States government, including the two-term limit and the formation of a cabinet.","George Washington's presidency, from 1789 to 1797, was marked by the establishment of many foundational practices and precedents for the new U.S. government, including the formation of a cabinet and the practice of a peaceful transfer of power.","George Washington's presidency set many precedents for the new nation, emphasizing neutrality in foreign conflicts, leading with integrity, and establishing a strong federal government.","George Washington's presidency set many key precedents for the United States, including the establishment of a cabinet and a two-term limit, and was marked by efforts to unite the country and remain neutral in foreign conflicts.","George Washington's presidency set many precedents for the new U.S. government, emphasizing neutrality in foreign affairs, establishing a cabinet, and reinforcing federal authority.","George Washington's presidency established many foundational practices for the United States, including the cabinet system and the two-term limit, while navigating the challenges of a new nation.","George Washington's presidency set many precedents for the office, including the two-term limit, while navigating the new nation's challenges and establishing foundational government institutions.","George Washington's presidency, from 1789 to 1797, established many foundational practices for the U.S. government and set important precedents for future presidents.","George Washington's presidency set many precedents for the new nation, including the establishment of a cabinet and the tradition of a two-term limit, while navigating challenges like the Whiskey Rebellion and maintaining neutrality in foreign conflicts.","George Washington's presidency (1789-1797) established many foundational practices and precedents for the United States, including the creation of a cabinet system and the tradition of a peaceful transfer of power.","George Washington's presidency (1789-1797) established key precedents for the new United States government, including a strong executive branch, neutrality in foreign conflicts, and the creation of a national bank.","George Washington's presidency (1789-1797) set many precedents for the new United States, including the establishment of a cabinet and the tradition of a two-term limit, while he navigated challenges like establishing federal authority and managing foreign relations.","George Washington's presidency, from 1789 to 1797, set many precedents for the new United States, including the establishment of a cabinet system and the tradition of a two-term limit."],"Describe the Lincoln presidency in one sentence.":["Abraham Lincoln's presidency was marked by his leadership during the American Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation to abolish slavery.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to abolish slavery through the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency is marked by his leadership during the Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation to begin the process of ending slavery in the United States.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation, which began the process of freeing the slaves.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to abolish slavery through the Emancipation Proclamation and the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to abolish slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the Civil War, the preservation of the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency is marked by his leadership during the American Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation to begin the process of abolishing slavery.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the Thirteenth Amendment.","Abraham Lincoln's presidency was marked by his leadership during the Civil War, the preservation of the Union, and the issuance of the Emancipation Proclamation, which began the process of freeing the enslaved.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the Civil War, the preservation of the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery with the Emancipation Proclamation and the passage of the Thirteenth Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, the abolition of slavery, and his efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in his assassination shortly after his reelection.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to preserve the Union and abolish slavery, culminating in his assassination shortly after his re-election.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery with the Emancipation Proclamation and the passage of the 13th Amendment.","The Lincoln presidency, from 1861 to 1865, was marked by leading the United States through the Civil War, issuing the Emancipation Proclamation, and preserving the Union.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to preserve the Union and abolish slavery.","Abraham Lincoln's presidency from 1861 to 1865 was marked by his leadership during the Civil War and his efforts to preserve the Union and abolish slavery.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, the issuance of the Emancipation Proclamation, and efforts to preserve the Union.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the Thirteenth Amendment.","Abraham Lincoln's presidency was marked by his leadership during the Civil War, efforts to preserve the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency was defined by his leadership during the American Civil War and his efforts to abolish slavery with the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to preserve the Union and abolish slavery.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by the Civil War, efforts to preserve the Union, and the abolition of slavery through the Emancipation Proclamation and the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the Civil War and his efforts to end slavery with the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery through the Emancipation Proclamation and the passage of the Thirteenth Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to abolish slavery, culminating in the Emancipation Proclamation and the passage of the Thirteenth Amendment.","The Lincoln presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to abolish slavery through the Emancipation Proclamation and the push for the Thirteenth Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, the abolition of slavery, and his efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and his assassination shortly after the war's conclusion.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation, which began the process of freedom for enslaved Americans.","Abraham Lincoln's presidency was characterized by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, his issuance of the Emancipation Proclamation, and his efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by leading the United States through the Civil War, preserving the Union, and issuing the Emancipation Proclamation to begin the process of ending slavery.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, the issuance of the Emancipation Proclamation, and efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passing of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery through the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to abolish slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, the preservation of the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, the preservation of the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, the issuance of the Emancipation Proclamation, and efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to abolish slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment."]}},oM=iM("dataset")||"examples";oM&&!aM[oM]&&console.warn('Unknown dataset parameter: "'.concat(oM,"\". Defaulting to 'examples'. Available options: ").concat(Object.keys(aM).join(", ")));const sM=aM[oM]||aM.examples,lM=["#4f6980","#f47942","#bfbb60","#b66353","#638b66","#d7ce9f","#a2ceaa","#fbb04e","#849db1","#b9aa97","#7e756d"];function cM(e,t){const n=t.filter((t=>t.source===e||t.target===e));if(0===n.length)return"black";const r={};n.forEach((e=>{if(e.promptId){const t=e.promptId.match(/_(\d+)_/),n=t?t[1]:"0";r[n]=(r[n]||0)+1}}));const i=n.length,a={};Object.keys(r).forEach((e=>{a[e]=r[e]/i}));const o={};return Object.keys(a).forEach((e=>{const t=parseInt(e);o[e]=lM[t%lM.length]})),function(e,t){const n=Object.keys(e);if(0===n.length)return"black";if(1===n.length)return e[n[0]];let r=0,i=0,a=0;n.forEach((n=>{const o=e[n],s=t[n],l=Cw(o);if(l){const e=l.rgb();r+=e.r*s,i+=e.g*s,a+=e.b*s}}));return Mw(Math.round(r),Math.round(i),Math.round(a)).toString()}(o,a)}function uM(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new dM(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function dM(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return dM=function(e){this.s=e,this.n=e.next},dM.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new dM(e)}function hM(e,t){this.v=e,this.k=t}function pM(e){return new hM(e,0)}function fM(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof hM;Promise.resolve(s?o.v:o).then((function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}fM.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},fM.prototype.next=function(e){return this._invoke("next",e)},fM.prototype.throw=function(e){return this._invoke("throw",e)},fM.prototype.return=function(e){return this._invoke("return",e)};var mM,gM="vercel.ai.error",yM=Symbol.for(gM),bM=class e extends Error{constructor(e){let{name:t,message:n,cause:r}=e;super(n),this[mM]=!0,this.name=t,this.cause=r}static isInstance(t){return e.hasMarker(t,gM)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"===typeof e&&n in e&&"boolean"===typeof e[n]&&!0===e[n]}};mM=yM;var wM,vM=bM,_M="AI_APICallError",xM="vercel.ai.error.".concat(_M),kM=Symbol.for(xM),DM=class extends vM{constructor(e){let{message:t,url:n,requestBodyValues:r,statusCode:i,responseHeaders:a,responseBody:o,cause:s,isRetryable:l=null!=i&&(408===i||409===i||429===i||i>=500),data:c}=e;super({name:_M,message:t,cause:s}),this[wM]=!0,this.url=n,this.requestBodyValues=r,this.statusCode=i,this.responseHeaders=a,this.responseBody=o,this.isRetryable=l,this.data=c}static isInstance(e){return vM.hasMarker(e,xM)}};wM=kM;var TM,AM="AI_EmptyResponseBodyError",SM="vercel.ai.error.".concat(AM),CM=Symbol.for(SM),EM=class extends vM{constructor(){let{message:e="Empty response body"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:AM,message:e}),this[TM]=!0}static isInstance(e){return vM.hasMarker(e,SM)}};function FM(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}TM=CM;var MM,IM="AI_InvalidArgumentError",PM="vercel.ai.error.".concat(IM),zM=Symbol.for(PM),NM=class extends vM{constructor(e){let{message:t,cause:n,argument:r}=e;super({name:IM,message:t,cause:n}),this[MM]=!0,this.argument=r}static isInstance(e){return vM.hasMarker(e,PM)}};MM=zM;var OM,BM="AI_InvalidPromptError",LM="vercel.ai.error.".concat(BM),RM=Symbol.for(LM),jM=class extends vM{constructor(e){let{prompt:t,message:n,cause:r}=e;super({name:BM,message:"Invalid prompt: ".concat(n),cause:r}),this[OM]=!0,this.prompt=t}static isInstance(e){return vM.hasMarker(e,LM)}};OM=RM;var VM,WM="AI_InvalidResponseDataError",qM="vercel.ai.error.".concat(WM),UM=Symbol.for(qM),HM=class extends vM{constructor(e){let{data:t,message:n="Invalid response data: ".concat(JSON.stringify(t),".")}=e;super({name:WM,message:n}),this[VM]=!0,this.data=t}static isInstance(e){return vM.hasMarker(e,qM)}};VM=UM;var GM,KM="AI_JSONParseError",YM="vercel.ai.error.".concat(KM),JM=Symbol.for(YM),ZM=class extends vM{constructor(e){let{text:t,cause:n}=e;super({name:KM,message:"JSON parsing failed: Text: ".concat(t,".\nError message: ").concat(FM(n)),cause:n}),this[GM]=!0,this.text=t}static isInstance(e){return vM.hasMarker(e,YM)}};GM=JM;var XM,$M="AI_LoadAPIKeyError",QM="vercel.ai.error.".concat($M),eI=Symbol.for(QM),tI=class extends vM{constructor(e){let{message:t}=e;super({name:$M,message:t}),this[XM]=!0}static isInstance(e){return vM.hasMarker(e,QM)}};XM=eI;var nI="AI_LoadSettingError",rI="vercel.ai.error.".concat(nI),iI=Symbol.for(rI);var aI="AI_NoContentGeneratedError",oI="vercel.ai.error.".concat(aI),sI=Symbol.for(oI);var lI,cI="AI_NoSuchModelError",uI="vercel.ai.error.".concat(cI),dI=Symbol.for(uI),hI=class extends vM{constructor(e){let{errorName:t=cI,modelId:n,modelType:r,message:i="No such ".concat(r,": ").concat(n)}=e;super({name:t,message:i}),this[lI]=!0,this.modelId=n,this.modelType=r}static isInstance(e){return vM.hasMarker(e,uI)}};lI=dI;var pI,fI="AI_TooManyEmbeddingValuesForCallError",mI="vercel.ai.error.".concat(fI),gI=Symbol.for(mI),yI=class extends vM{constructor(e){super({name:fI,message:"Too many values for a single embedding call. The ".concat(e.provider,' model "').concat(e.modelId,'" can only embed up to ').concat(e.maxEmbeddingsPerCall," values per call, but ").concat(e.values.length," values were provided.")}),this[pI]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return vM.hasMarker(e,mI)}};pI=gI;var bI,wI="AI_TypeValidationError",vI="vercel.ai.error.".concat(wI),_I=Symbol.for(vI);bI=_I;var xI,kI=class e extends vM{constructor(e){let{value:t,cause:n}=e;super({name:wI,message:"Type validation failed: Value: ".concat(JSON.stringify(t),".\nError message: ").concat(FM(n)),cause:n}),this[bI]=!0,this.value=t}static isInstance(e){return vM.hasMarker(e,vI)}static wrap(t){let{value:n,cause:r}=t;return e.isInstance(r)&&r.value===n?r:new e({value:n,cause:r})}},DI="AI_UnsupportedFunctionalityError",TI="vercel.ai.error.".concat(DI),AI=Symbol.for(TI),SI=class extends vM{constructor(e){let{functionality:t,message:n="'".concat(t,"' functionality not supported.")}=e;super({name:DI,message:n}),this[xI]=!0,this.functionality=t}static isInstance(e){return vM.hasMarker(e,TI)}};xI=AI;class CI extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function EI(e){}function FI(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=EI,onError:n=EI,onRetry:r=EI,onComment:i}=e;let a,o="",s=!0,l="",c="";function u(e){if(""===e)return l.length>0&&t({id:a,event:c||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),a=void 0,l="",void(c="");if(e.startsWith(":"))return void(i&&i(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1===n)d(e,"",e);else{const t=e.slice(0,n),r=" "===e[n+1]?2:1;d(t,e.slice(n+r),e)}}function d(e,t,i){switch(e){case"event":c=t;break;case"data":l="".concat(l).concat(t,"\n");break;case"id":a=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new CI('Invalid `retry` value: "'.concat(t,'"'),{type:"invalid-retry",value:t,line:i}));break;default:n(new CI('Unknown field "'.concat(e.length>20?"".concat(e.slice(0,20),"\u2026"):e,'"'),{type:"unknown-field",field:e,value:t,line:i}))}}return{feed:function(e){const t=s?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=function(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),a=e.indexOf("\n",r);let o=-1;if(-1!==i&&-1!==a?o=Math.min(i,a):-1!==i?o=i===e.length-1?-1:i:-1!==a&&(o=a),-1===o){n=e.slice(r);break}{const n=e.slice(r,o);t.push(n),r=o+1,"\r"===e[r-1]&&"\n"===e[r]&&r++}}return[t,n]}("".concat(o).concat(t));for(const i of n)u(i);o=r,s=!1},reset:function(){o&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).consume&&u(o),s=!0,a=void 0,l="",c="",o=""}}}class MI extends TransformStream{constructor(){let e,{onError:t,onRetry:n,onComment:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({start(i){e=FI({onEvent:e=>{i.enqueue(e)},onError(e){"terminate"===t?i.error(e):"function"==typeof t&&t(e)},onRetry:n,onComment:r})},transform(t){e.feed(t)}})}}Symbol("ZodOutput"),Symbol("ZodInput");class II{constructor(){this._map=new Map,this._idmap=new Map}add(e){const t=arguments.length<=1?void 0:arguments[1];if(this._map.set(e,t),t&&"object"===typeof t&&"id"in t){if(this._idmap.has(t.id))throw new Error("ID ".concat(t.id," already exists in the registry"));this._idmap.set(t.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"===typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){var n;const r=u({},null!==(n=this.get(t))&&void 0!==n?n:{});return delete r.id,u(u({},r),this._map.get(e))}return this._map.get(e)}has(e){return this._map.has(e)}}function PI(){return new II}const zI=PI();function NI(e){const t=Object.values(e).filter((e=>"number"===typeof e)),n=Object.entries(e).filter((e=>{let[n,r]=e;return-1===t.indexOf(+n)})).map((e=>{let[t,n]=e;return n}));return n}function OI(e,t){return"bigint"===typeof t?t.toString():t}function BI(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function LI(e){return null===e||void 0===e}function RI(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function jI(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function VI(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function WI(e){return JSON.stringify(e)}const qI=Error.captureStackTrace?Error.captureStackTrace:function(){};function UI(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}const HI=BI((()=>{var e;if("undefined"!==typeof navigator&&null!==(e=navigator)&&void 0!==e&&null!==(e=e.userAgent)&&void 0!==e&&e.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(t){return!1}}));function GI(e){if(!1===UI(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==UI(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}const KI=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function YI(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function JI(e,t,n){const r=new e._zod.constr(null!==t&&void 0!==t?t:e._zod.def);return(!t||null!==n&&void 0!==n&&n.parent)&&(r._zod.parent=e),r}function ZI(e){const t=e;if(!t)return{};if("string"===typeof t)return{error:()=>t};if(void 0!==(null===t||void 0===t?void 0:t.message)){if(void 0!==(null===t||void 0===t?void 0:t.error))throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"===typeof t.error?u(u({},t),{},{error:()=>t.error}):t}const XI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function $I(e){for(let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n<e.issues.length;n++){var t;if(!0!==(null===(t=e.issues[n])||void 0===t?void 0:t.continue))return!0}return!1}function QI(e,t){return t.map((t=>{var n,r;return null!==(n=(r=t).path)&&void 0!==n||(r.path=[]),t.path.unshift(e),t}))}function eP(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}function tP(e,t,n){var r;const i=u(u({},e),{},{path:null!==(r=e.path)&&void 0!==r?r:[]});if(!e.message){var a,o,s,l,c,d,h,p,f;const r=null!==(a=null!==(o=null!==(s=null!==(l=eP(null===(c=e.inst)||void 0===c||null===(c=c._zod.def)||void 0===c||null===(d=c.error)||void 0===d?void 0:d.call(c,e)))&&void 0!==l?l:eP(null===t||void 0===t||null===(h=t.error)||void 0===h?void 0:h.call(t,e)))&&void 0!==s?s:eP(null===(p=n.customError)||void 0===p?void 0:p.call(n,e)))&&void 0!==o?o:eP(null===(f=n.localeError)||void 0===f?void 0:f.call(n,e)))&&void 0!==a?a:"Invalid input";i.message=r}return delete i.inst,delete i.continue,null!==t&&void 0!==t&&t.reportInput||delete i.input,i}function nP(e){return Array.isArray(e)?"array":"string"===typeof e?"string":"unknown"}function rP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,i,a]=t;return"string"===typeof r?{message:r,code:"custom",input:i,inst:a}:u({},r)}class iP{constructor(e){var t,n,r,i,a;this.counter=0,this.metadataRegistry=null!==(t=null===e||void 0===e?void 0:e.metadata)&&void 0!==t?t:zI,this.target=null!==(n=null===e||void 0===e?void 0:e.target)&&void 0!==n?n:"draft-2020-12",this.unrepresentable=null!==(r=null===e||void 0===e?void 0:e.unrepresentable)&&void 0!==r?r:"throw",this.override=null!==(i=null===e||void 0===e?void 0:e.override)&&void 0!==i?i:()=>{},this.io=null!==(a=null===e||void 0===e?void 0:e.io)&&void 0!==a?a:"output",this.seen=new Map}process(e){var t,n,r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{path:[],schemaPath:[]};var a;const o=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},l=this.seen.get(e);if(l){l.count++;return i.schemaPath.includes(e)&&(l.cycle=i.path),l.schema}const c={schema:{},count:1,cycle:void 0,path:i.path};this.seen.set(e,c);const d=null===(t=(n=e._zod).toJSONSchema)||void 0===t?void 0:t.call(n);if(d)c.schema=d;else{const t=u(u({},i),{},{schemaPath:[...i.schemaPath,e],path:i.path}),n=e._zod.parent;if(n)c.ref=n,this.process(n,t),this.seen.get(n).isParent=!0;else{const n=c.schema;switch(o.type){case"string":{const t=n;t.type="string";const{minimum:r,maximum:i,format:a,patterns:o,contentEncoding:l}=e._zod.bag;var h;if("number"===typeof r&&(t.minLength=r),"number"===typeof i&&(t.maxLength=i),a)t.format=null!==(h=s[a])&&void 0!==h?h:a,""===t.format&&delete t.format;if(l&&(t.contentEncoding=l),o&&o.size>0){const e=[...o];1===e.length?t.pattern=e[0].source:e.length>1&&(c.schema.allOf=[...e.map((e=>u(u({},"draft-7"===this.target?{type:"string"}:{}),{},{pattern:e.source})))])}break}case"number":{const t=n,{minimum:r,maximum:i,format:a,multipleOf:o,exclusiveMaximum:s,exclusiveMinimum:l}=e._zod.bag;"string"===typeof a&&a.includes("int")?t.type="integer":t.type="number","number"===typeof l&&(t.exclusiveMinimum=l),"number"===typeof r&&(t.minimum=r,"number"===typeof l&&(l>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"===typeof s&&(t.exclusiveMaximum=s),"number"===typeof i&&(t.maximum=i,"number"===typeof s&&(s<=i?delete t.maximum:delete t.exclusiveMaximum)),"number"===typeof o&&(t.multipleOf=o);break}case"boolean":n.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":n.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":n.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const r=n,{minimum:i,maximum:a}=e._zod.bag;"number"===typeof i&&(r.minItems=i),"number"===typeof a&&(r.maxItems=a),r.type="array",r.items=this.process(o.element,u(u({},t),{},{path:[...t.path,"items"]}));break}case"object":{var p;const e=n;e.type="object",e.properties={};const r=o.shape;for(const n in r)e.properties[n]=this.process(r[n],u(u({},t),{},{path:[...t.path,"properties",n]}));const i=new Set(Object.keys(r)),a=new Set([...i].filter((e=>{const t=o.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout})));a.size>0&&(e.required=Array.from(a)),"never"===(null===(p=o.catchall)||void 0===p?void 0:p._zod.def.type)?e.additionalProperties=!1:o.catchall?o.catchall&&(e.additionalProperties=this.process(o.catchall,u(u({},t),{},{path:[...t.path,"additionalProperties"]}))):"output"===this.io&&(e.additionalProperties=!1);break}case"union":n.anyOf=o.options.map(((e,n)=>this.process(e,u(u({},t),{},{path:[...t.path,"anyOf",n]}))));break;case"intersection":{const e=n,r=this.process(o.left,u(u({},t),{},{path:[...t.path,"allOf",0]})),i=this.process(o.right,u(u({},t),{},{path:[...t.path,"allOf",1]})),a=e=>"allOf"in e&&1===Object.keys(e).length,s=[...a(r)?r.allOf:[r],...a(i)?i.allOf:[i]];e.allOf=s;break}case"tuple":{const r=n;r.type="array";const i=o.items.map(((e,n)=>this.process(e,u(u({},t),{},{path:[...t.path,"prefixItems",n]}))));if("draft-2020-12"===this.target?r.prefixItems=i:r.items=i,o.rest){const e=this.process(o.rest,u(u({},t),{},{path:[...t.path,"items"]}));"draft-2020-12"===this.target?r.items=e:r.additionalItems=e}o.rest&&(r.items=this.process(o.rest,u(u({},t),{},{path:[...t.path,"items"]})));const{minimum:a,maximum:s}=e._zod.bag;"number"===typeof a&&(r.minItems=a),"number"===typeof s&&(r.maxItems=s);break}case"record":{const e=n;e.type="object",e.propertyNames=this.process(o.keyType,u(u({},t),{},{path:[...t.path,"propertyNames"]})),e.additionalProperties=this.process(o.valueType,u(u({},t),{},{path:[...t.path,"additionalProperties"]}));break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=n,t=NI(o.entries);t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),e.enum=t;break}case"literal":{const e=n,t=[];for(const n of o.values)if(void 0===n){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"===typeof n){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");t.push(Number(n))}else t.push(n);if(0===t.length);else if(1===t.length){const n=t[0];e.type=null===n?"null":typeof n,e.const=n}else t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),t.every((e=>"boolean"===typeof e))&&(e.type="string"),t.every((e=>null===e))&&(e.type="null"),e.enum=t;break}case"file":{const t=n,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:a,mime:o}=e._zod.bag;void 0!==i&&(r.minLength=i),void 0!==a&&(r.maxLength=a),o?1===o.length?(r.contentMediaType=o[0],Object.assign(t,r)):t.anyOf=o.map((e=>u(u({},r),{},{contentMediaType:e}))):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(o.innerType,t);n.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(o.innerType,t),c.ref=o.innerType;break;case"success":n.type="boolean";break;case"default":this.process(o.innerType,t),c.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue));break;case"prefault":this.process(o.innerType,t),c.ref=o.innerType,"input"===this.io&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)));break;case"catch":{let e;this.process(o.innerType,t),c.ref=o.innerType;try{e=o.catchValue(void 0)}catch(m){throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const t=n,r=e._zod.pattern;if(!r)throw new Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{const e="input"===this.io?"transform"===o.in._zod.def.type?o.out:o.in:o.out;this.process(e,t),c.ref=e;break}case"readonly":this.process(o.innerType,t),c.ref=o.innerType,n.readOnly=!0;break;case"lazy":{const n=e._zod.innerType;this.process(n,t),c.ref=n;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")}}}const f=this.metadataRegistry.get(e);f&&Object.assign(c.schema,f),"input"===this.io&&aP(e)&&(delete c.schema.examples,delete c.schema.default),"input"===this.io&&c.schema._prefault&&(null!==(r=(a=c.schema).default)&&void 0!==r||(a.default=c.schema._prefault)),delete c.schema._prefault;return this.seen.get(e).schema}emit(e,t){var n,r,i,a,o,s;const l={cycles:null!==(n=null===t||void 0===t?void 0:t.cycles)&&void 0!==n?n:"ref",reused:null!==(r=null===t||void 0===t?void 0:t.reused)&&void 0!==r?r:"inline",external:null!==(i=null===t||void 0===t?void 0:t.external)&&void 0!==i?i:void 0},c=this.seen.get(e);if(!c)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=e=>{var t;const n="draft-2020-12"===this.target?"$defs":"definitions";if(l.external){var r,i,a,o;const t=null===(r=l.external.registry.get(e[0]))||void 0===r?void 0:r.id,s=null!==(i=l.external.uri)&&void 0!==i?i:e=>e;if(t)return{ref:s(t)};const c=null!==(a=null!==(o=e[1].defId)&&void 0!==o?o:e[1].schema.id)&&void 0!==a?a:"schema".concat(this.counter++);return e[1].defId=c,{defId:c,ref:"".concat(s("__shared"),"#/").concat(n,"/").concat(c)}}if(e[1]===c)return{ref:"#"};const s="".concat("#","/").concat(n,"/"),u=null!==(t=e[1].schema.id)&&void 0!==t?t:"__schema".concat(this.counter++);return{defId:u,ref:s+u}},h=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:r}=d(e);t.def=u({},t.schema),r&&(t.defId=r);const i=t.schema;for(const a in i)delete i[a];i.$ref=n};if("throw"===l.cycles)for(const u of this.seen.entries()){const e=u[1];var p;if(e.cycle)throw new Error("Cycle detected: "+"#/".concat(null===(p=e.cycle)||void 0===p?void 0:p.join("/"),"/<root>")+'\n\nSet the `cycles` parameter to `"ref"` to resolve cyclical schemas with defs.')}for(const u of this.seen.entries()){var f;const t=u[1];if(e===u[0]){h(u);continue}if(l.external){var m;const t=null===(m=l.external.registry.get(u[0]))||void 0===m?void 0:m.id;if(e!==u[0]&&t){h(u);continue}}(null===(f=this.metadataRegistry.get(u[0]))||void 0===f?void 0:f.id)?h(u):(t.cycle||t.count>1&&"ref"===l.reused)&&h(u)}const g=(e,t)=>{var n,r;const i=this.seen.get(e),a=null!==(n=i.def)&&void 0!==n?n:i.schema,o=u({},a);if(null===i.ref)return;const s=i.ref;if(i.ref=null,s){g(s,t);const e=this.seen.get(s).schema;var l;if(e.$ref&&"draft-7"===t.target)a.allOf=null!==(l=a.allOf)&&void 0!==l?l:[],a.allOf.push(e);else Object.assign(a,e),Object.assign(a,o)}i.isParent||this.override({zodSchema:e,jsonSchema:a,path:null!==(r=i.path)&&void 0!==r?r:[]})};for(const u of[...this.seen.entries()].reverse())g(u[0],{target:this.target});const y={};if("draft-2020-12"===this.target?y.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?y.$schema="http://json-schema.org/draft-07/schema#":console.warn("Invalid target: ".concat(this.target)),null!==(a=l.external)&&void 0!==a&&a.uri){var b;const t=null===(b=l.external.registry.get(e))||void 0===b?void 0:b.id;if(!t)throw new Error("Schema is missing an `id` property");y.$id=l.external.uri(t)}Object.assign(y,c.def);const w=null!==(o=null===(s=l.external)||void 0===s?void 0:s.defs)&&void 0!==o?o:{};for(const u of this.seen.entries()){const e=u[1];e.def&&e.defId&&(w[e.defId]=e.def)}l.external||Object.keys(w).length>0&&("draft-2020-12"===this.target?y.$defs=w:y.definitions=w);try{return JSON.parse(JSON.stringify(y))}catch(v){throw new Error("Error converting schema to JSON.")}}}function aP(e,t){const n=null!==t&&void 0!==t?t:{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return aP(r.element,n);case"object":for(const e in r.shape)if(aP(r.shape[e],n))return!0;return!1;case"union":for(const e of r.options)if(aP(e,n))return!0;return!1;case"intersection":return aP(r.left,n)||aP(r.right,n);case"tuple":for(const e of r.items)if(aP(e,n))return!0;return!(!r.rest||!aP(r.rest,n));case"record":case"map":return aP(r.keyType,n)||aP(r.valueType,n);case"set":return aP(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return aP(r.innerType,n);case"lazy":return aP(r.getter(),n);case"transform":return!0;case"pipe":return aP(r.in,n)||aP(r.out,n)}throw new Error("Unknown schema type: ".concat(r.type))}Object.freeze({status:"aborted"});function oP(e,t,n){var r;function i(n,r){var i,a,o;Object.defineProperty(n,"_zod",{value:null!==(i=n._zod)&&void 0!==i?i:{},enumerable:!1}),null!==(a=(o=n._zod).traits)&&void 0!==a||(o.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in s.prototype)e in n||Object.defineProperty(n,e,{value:s.prototype[e].bind(n)});n._zod.constr=s,n._zod.def=r}const a=null!==(r=null===n||void 0===n?void 0:n.Parent)&&void 0!==r?r:Object;class o extends a{}function s(e){var t,r;const a=null!==n&&void 0!==n&&n.Parent?new o:this;i(a,e),null!==(t=(r=a._zod).deferred)&&void 0!==t||(r.deferred=[]);for(const n of a._zod.deferred)n();return a}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(s,"init",{value:i}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>{var r;return!!(null!==n&&void 0!==n&&n.Parent&&t instanceof n.Parent)||(null===t||void 0===t||null===(r=t._zod)||void 0===r||null===(r=r.traits)||void 0===r?void 0:r.has(e))}}),Object.defineProperty(s,"name",{value:e}),s}Symbol("zod_brand");class sP extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const lP={};function cP(e){return e&&Object.assign(lP,e),lP}const uP=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,OI,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},dP=oP("$ZodError",uP),hP=oP("$ZodError",uP,{Parent:Error});const pP=e=>(t,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new sP;if(o.issues.length){var s;const t=new(null!==(s=null===i||void 0===i?void 0:i.Err)&&void 0!==s?s:e)(o.issues.map((e=>tP(e,a,cP()))));throw qI(t,null===i||void 0===i?void 0:i.callee),t}return o.value},fP=e=>async(t,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){var s;const t=new(null!==(s=null===i||void 0===i?void 0:i.Err)&&void 0!==s?s:e)(o.issues.map((e=>tP(e,a,cP()))));throw qI(t,null===i||void 0===i?void 0:i.callee),t}return o.value},mP=e=>(t,n,r)=>{const i=r?u(u({},r),{},{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new sP;return a.issues.length?{success:!1,error:new(null!==e&&void 0!==e?e:dP)(a.issues.map((e=>tP(e,i,cP()))))}:{success:!0,data:a.value}},gP=mP(hP),yP=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map((e=>tP(e,i,cP()))))}:{success:!0,data:a.value}},bP=yP(hP),wP=(e,t)=>{dP.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t){const n=t||function(e){return e.message},r={_errors:[]},i=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map((e=>i({issues:e})));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)r._errors.push(n(t));else{let e=r,i=0;for(;i<t.path.length;){const r=t.path[i];i===t.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(n(t))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}(e,t)},flatten:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})},vP=(oP("ZodError",wP),oP("ZodError",wP,{Parent:Error})),_P=pP(vP),xP=fP(vP),kP=mP(vP),DP=yP(vP);var TP,AP;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(TP||(TP={})),function(e){e.mergeShapes=(e,t)=>u(u({},e),t)}(AP||(AP={}));const SP=TP.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),CP=e=>{switch(typeof e){case"undefined":return SP.undefined;case"string":return SP.string;case"number":return Number.isNaN(e)?SP.nan:SP.number;case"boolean":return SP.boolean;case"function":return SP.function;case"bigint":return SP.bigint;case"symbol":return SP.symbol;case"object":return Array.isArray(e)?SP.array:null===e?SP.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?SP.promise:"undefined"!==typeof Map&&e instanceof Map?SP.map:"undefined"!==typeof Set&&e instanceof Set?SP.set:"undefined"!==typeof Date&&e instanceof Date?SP.date:SP.object;default:return SP.unknown}},EP=TP.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class FP extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof FP))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,TP.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}FP.create=e=>new FP(e);const MP=(e,t)=>{let n;switch(e.code){case EP.invalid_type:n=e.received===SP.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case EP.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,TP.jsonStringifyReplacer));break;case EP.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(TP.joinValues(e.keys,", "));break;case EP.invalid_union:n="Invalid input";break;case EP.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(TP.joinValues(e.options));break;case EP.invalid_enum_value:n="Invalid enum value. Expected ".concat(TP.joinValues(e.options),", received '").concat(e.received,"'");break;case EP.invalid_arguments:n="Invalid function arguments";break;case EP.invalid_return_type:n="Invalid function return type";break;case EP.invalid_date:n="Invalid date";break;case EP.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):TP.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case EP.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case EP.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case EP.custom:n="Invalid input";break;case EP.invalid_intersection_types:n="Intersection results could not be merged";break;case EP.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case EP.not_finite:n="Number must be finite";break;default:n=t.defaultError,TP.assertNever(e)}return{message:n}};let IP=MP;function PP(){return IP}var zP;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(zP||(zP={}));const NP=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o=u(u({},i),{},{path:a});if(void 0!==i.message)return u(u({},i),{},{path:a,message:i.message});let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(o,{data:t,defaultError:s}).message;return u(u({},i),{},{path:a,message:s})};function OP(e,t){const n=PP(),r=NP({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===MP?void 0:MP].filter((e=>!!e))});e.common.issues.push(r)}class BP{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return LP;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return BP.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return LP;if("aborted"===i.status)return LP;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const LP=Object.freeze({status:"aborted"}),RP=e=>({status:"dirty",value:e}),jP=e=>({status:"valid",value:e}),VP=e=>"aborted"===e.status,WP=e=>"dirty"===e.status,qP=e=>"valid"===e.status,UP=e=>"undefined"!==typeof Promise&&e instanceof Promise;class HP{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const GP=(e,t)=>{if(qP(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new FP(e.common.issues);return this._error=t,this._error}}};function KP(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var a;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!==o&&void 0!==o?o:i.defaultError}:"undefined"===typeof i.data?{message:null!==(s=null!==o&&void 0!==o?o:r)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!==o&&void 0!==o?o:n)&&void 0!==a?a:i.defaultError};var s},description:i}}class YP{get description(){return this._def.description}_getType(e){return CP(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:CP(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new BP,ctx:{common:e.parent.common,data:e.data,parsedType:CP(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(UP(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:CP(e)},i=this._parseSync({data:e,path:r.path,parent:r});return GP(r,i)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:CP(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return qP(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>qP(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:CP(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(UP(r)?r:Promise.resolve(r));return GP(n,i)}refine(e,t){return this._refinement(((n,r)=>{const i=e(n),a=()=>r.addIssue(u({code:EP.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new Hz({schema:this,typeName:eN.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Gz.create(this,this._def)}nullable(){return Kz.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fz.create(this)}promise(){return Uz.create(this,this._def)}or(e){return Pz.create([this,e],this._def)}and(e){return Nz.create(this,e,this._def)}transform(e){return new Hz(u(u({},KP(this._def)),{},{schema:this,typeName:eN.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new Yz(u(u({},KP(this._def)),{},{innerType:this,defaultValue:t,typeName:eN.ZodDefault}))}brand(){return new Xz(u({typeName:eN.ZodBranded,type:this},KP(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new Jz(u(u({},KP(this._def)),{},{innerType:this,catchValue:t,typeName:eN.ZodCatch}))}describe(e){return new(0,this.constructor)(u(u({},this._def),{},{description:e}))}pipe(e){return $z.create(this,e)}readonly(){return Qz.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const JP=/^c[^\s-]{8,}$/i,ZP=/^[0-9a-z]+$/,XP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$P=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QP=/^[a-z0-9_-]{21}$/i,ez=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let rz;const iz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,az=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,uz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dz=new RegExp("^".concat(uz,"$"));function hz(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function pz(e){let t="".concat(uz,"T").concat(hz(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function fz(e,t){return!("v4"!==t&&t||!iz.test(e))||!("v6"!==t&&t||!oz.test(e))}function mz(e,t){if(!ez.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"===typeof i&&null!==i&&((!("typ"in i)||"JWT"===(null===i||void 0===i?void 0:i.typ))&&(!!i.alg&&(!t||i.alg===t)))}catch(n){return!1}}function gz(e,t){return!("v4"!==t&&t||!az.test(e))||!("v6"!==t&&t||!sz.test(e))}class yz extends YP{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==SP.string){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.string,received:t.parsedType}),LP}const t=new BP;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?OP(n,{code:EP.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&OP(n,{code:EP.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)nz.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"email",code:EP.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)rz||(rz=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),rz.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"emoji",code:EP.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)$P.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"uuid",code:EP.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)QP.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"nanoid",code:EP.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)JP.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"cuid",code:EP.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)ZP.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"cuid2",code:EP.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)XP.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"ulid",code:EP.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),OP(n,{validation:"url",code:EP.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"regex",code:EP.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){pz(i).test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){dz.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp("^".concat(hz(i),"$")).test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?tz.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"duration",code:EP.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?fz(e.data,i.version)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"ip",code:EP.invalid_string,message:i.message}),t.dirty()):"jwt"===i.kind?mz(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"jwt",code:EP.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?gz(e.data,i.version)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"cidr",code:EP.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?lz.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"base64",code:EP.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?cz.test(e.data)||(n=this._getOrReturnCtx(e,n),OP(n,{validation:"base64url",code:EP.invalid_string,message:i.message}),t.dirty()):TP.assertNever(i);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),u({validation:t,code:EP.invalid_string},zP.errToObj(n)))}_addCheck(e){return new yz(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(u({kind:"email"},zP.errToObj(e)))}url(e){return this._addCheck(u({kind:"url"},zP.errToObj(e)))}emoji(e){return this._addCheck(u({kind:"emoji"},zP.errToObj(e)))}uuid(e){return this._addCheck(u({kind:"uuid"},zP.errToObj(e)))}nanoid(e){return this._addCheck(u({kind:"nanoid"},zP.errToObj(e)))}cuid(e){return this._addCheck(u({kind:"cuid"},zP.errToObj(e)))}cuid2(e){return this._addCheck(u({kind:"cuid2"},zP.errToObj(e)))}ulid(e){return this._addCheck(u({kind:"ulid"},zP.errToObj(e)))}base64(e){return this._addCheck(u({kind:"base64"},zP.errToObj(e)))}base64url(e){return this._addCheck(u({kind:"base64url"},zP.errToObj(e)))}jwt(e){return this._addCheck(u({kind:"jwt"},zP.errToObj(e)))}ip(e){return this._addCheck(u({kind:"ip"},zP.errToObj(e)))}cidr(e){return this._addCheck(u({kind:"cidr"},zP.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(u({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},zP.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(u({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},zP.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(u({kind:"duration"},zP.errToObj(e)))}regex(e,t){return this._addCheck(u({kind:"regex",regex:e},zP.errToObj(t)))}includes(e,t){return this._addCheck(u({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},zP.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(u({kind:"startsWith",value:e},zP.errToObj(t)))}endsWith(e,t){return this._addCheck(u({kind:"endsWith",value:e},zP.errToObj(t)))}min(e,t){return this._addCheck(u({kind:"min",value:e},zP.errToObj(t)))}max(e,t){return this._addCheck(u({kind:"max",value:e},zP.errToObj(t)))}length(e,t){return this._addCheck(u({kind:"length",value:e},zP.errToObj(t)))}nonempty(e){return this.min(1,zP.errToObj(e))}trim(){return new yz(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new yz(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new yz(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function bz(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}yz.create=e=>{var t;return new yz(u({checks:[],typeName:eN.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},KP(e)))};class wz extends YP{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==SP.number){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.number,received:t.parsedType}),LP}let t;const n=new BP;for(const r of this._def.checks)if("int"===r.kind)TP.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),OP(t,{code:EP.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),OP(t,{code:EP.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),OP(t,{code:EP.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==bz(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),OP(t,{code:EP.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),OP(t,{code:EP.not_finite,message:r.message}),n.dirty()):TP.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,zP.toString(t))}gt(e,t){return this.setLimit("min",e,!1,zP.toString(t))}lte(e,t){return this.setLimit("max",e,!0,zP.toString(t))}lt(e,t){return this.setLimit("max",e,!1,zP.toString(t))}setLimit(e,t,n,r){return new wz(u(u({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:zP.toString(r)}]}))}_addCheck(e){return new wz(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:zP.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:zP.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:zP.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:zP.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:zP.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:zP.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:zP.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:zP.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:zP.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&TP.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}wz.create=e=>new wz(u({checks:[],typeName:eN.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},KP(e)));class vz extends YP{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==SP.bigint)return this._getInvalidInput(e);let t;const n=new BP;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),OP(t,{code:EP.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),OP(t,{code:EP.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),OP(t,{code:EP.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):TP.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.bigint,received:t.parsedType}),LP}gte(e,t){return this.setLimit("min",e,!0,zP.toString(t))}gt(e,t){return this.setLimit("min",e,!1,zP.toString(t))}lte(e,t){return this.setLimit("max",e,!0,zP.toString(t))}lt(e,t){return this.setLimit("max",e,!1,zP.toString(t))}setLimit(e,t,n,r){return new vz(u(u({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:zP.toString(r)}]}))}_addCheck(e){return new vz(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:zP.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:zP.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:zP.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:zP.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:zP.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}vz.create=e=>{var t;return new vz(u({checks:[],typeName:eN.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},KP(e)))};class _z extends YP{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==SP.boolean){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.boolean,received:t.parsedType}),LP}return jP(e.data)}}_z.create=e=>new _z(u({typeName:eN.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},KP(e)));class xz extends YP{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==SP.date){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.date,received:t.parsedType}),LP}if(Number.isNaN(e.data.getTime())){return OP(this._getOrReturnCtx(e),{code:EP.invalid_date}),LP}const t=new BP;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),OP(n,{code:EP.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):TP.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xz(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:zP.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:zP.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}xz.create=e=>new xz(u({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:eN.ZodDate},KP(e)));class kz extends YP{_parse(e){if(this._getType(e)!==SP.symbol){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.symbol,received:t.parsedType}),LP}return jP(e.data)}}kz.create=e=>new kz(u({typeName:eN.ZodSymbol},KP(e)));class Dz extends YP{_parse(e){if(this._getType(e)!==SP.undefined){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.undefined,received:t.parsedType}),LP}return jP(e.data)}}Dz.create=e=>new Dz(u({typeName:eN.ZodUndefined},KP(e)));class Tz extends YP{_parse(e){if(this._getType(e)!==SP.null){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.null,received:t.parsedType}),LP}return jP(e.data)}}Tz.create=e=>new Tz(u({typeName:eN.ZodNull},KP(e)));class Az extends YP{constructor(){super(...arguments),this._any=!0}_parse(e){return jP(e.data)}}Az.create=e=>new Az(u({typeName:eN.ZodAny},KP(e)));class Sz extends YP{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jP(e.data)}}Sz.create=e=>new Sz(u({typeName:eN.ZodUnknown},KP(e)));class Cz extends YP{_parse(e){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.never,received:t.parsedType}),LP}}Cz.create=e=>new Cz(u({typeName:eN.ZodNever},KP(e)));class Ez extends YP{_parse(e){if(this._getType(e)!==SP.undefined){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.void,received:t.parsedType}),LP}return jP(e.data)}}Ez.create=e=>new Ez(u({typeName:eN.ZodVoid},KP(e)));class Fz extends YP{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==SP.array)return OP(t,{code:EP.invalid_type,expected:SP.array,received:t.parsedType}),LP;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(OP(t,{code:e?EP.too_big:EP.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(OP(t,{code:EP.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(OP(t,{code:EP.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new HP(t,e,t.path,n))))).then((e=>BP.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new HP(t,e,t.path,n))));return BP.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new Fz(u(u({},this._def),{},{minLength:{value:e,message:zP.toString(t)}}))}max(e,t){return new Fz(u(u({},this._def),{},{maxLength:{value:e,message:zP.toString(t)}}))}length(e,t){return new Fz(u(u({},this._def),{},{exactLength:{value:e,message:zP.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Mz(e){if(e instanceof Iz){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Gz.create(Mz(r))}return new Iz(u(u({},e._def),{},{shape:()=>t}))}return e instanceof Fz?new Fz(u(u({},e._def),{},{type:Mz(e.element)})):e instanceof Gz?Gz.create(Mz(e.unwrap())):e instanceof Kz?Kz.create(Mz(e.unwrap())):e instanceof Oz?Oz.create(e.items.map((e=>Mz(e)))):e}Fz.create=(e,t)=>new Fz(u({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eN.ZodArray},KP(t)));class Iz extends YP{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=TP.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==SP.object){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.object,received:t.parsedType}),LP}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Cz&&"strip"===this._def.unknownKeys))for(const s in n.data)i.includes(s)||a.push(s);const o=[];for(const s of i){const e=r[s],t=n.data[s];o.push({key:{status:"valid",value:s},value:e._parse(new HP(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof Cz){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(OP(n,{code:EP.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new HP(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>BP.mergeObjectSync(t,e))):BP.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return zP.errToObj,new Iz(u(u({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,i,a,o;const s=null!==(r=null===(i=(a=this._def).errorMap)||void 0===i?void 0:i.call(a,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=zP.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}))}strip(){return new Iz(u(u({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new Iz(u(u({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new Iz(u(u({},this._def),{},{shape:()=>u(u({},this._def.shape()),e)}))}merge(e){return new Iz({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>u(u({},this._def.shape()),e._def.shape()),typeName:eN.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Iz(u(u({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of TP.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Iz(u(u({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of TP.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Iz(u(u({},this._def),{},{shape:()=>t}))}deepPartial(){return Mz(this)}partial(e){const t={};for(const n of TP.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new Iz(u(u({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of TP.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Gz;)e=e._def.innerType;t[n]=e}return new Iz(u(u({},this._def),{},{shape:()=>t}))}keyof(){return Vz(TP.objectKeys(this.shape))}}Iz.create=(e,t)=>new Iz(u({shape:()=>e,unknownKeys:"strip",catchall:Cz.create(),typeName:eN.ZodObject},KP(t))),Iz.strictCreate=(e,t)=>new Iz(u({shape:()=>e,unknownKeys:"strict",catchall:Cz.create(),typeName:eN.ZodObject},KP(t))),Iz.lazycreate=(e,t)=>new Iz(u({shape:e,unknownKeys:"strip",catchall:Cz.create(),typeName:eN.ZodObject},KP(t)));class Pz extends YP{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new FP(e.ctx.common.issues)));return OP(t,{code:EP.invalid_union,unionErrors:n}),LP}));{let e;const r=[];for(const a of n){const n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]}),parent:null}),i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new FP(e)));return OP(t,{code:EP.invalid_union,unionErrors:i}),LP}}get options(){return this._def.options}}Pz.create=(e,t)=>new Pz(u({options:e,typeName:eN.ZodUnion},KP(t)));function zz(e,t){const n=CP(e),r=CP(t);if(e===t)return{valid:!0,data:e};if(n===SP.object&&r===SP.object){const n=TP.objectKeys(t),r=TP.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i=u(u({},e),t);for(const a of r){const n=zz(e[a],t[a]);if(!n.valid)return{valid:!1};i[a]=n.data}return{valid:!0,data:i}}if(n===SP.array&&r===SP.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=zz(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===SP.date&&r===SP.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Nz extends YP{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(VP(e)||VP(r))return LP;const i=zz(e.value,r.value);return i.valid?((WP(e)||WP(r))&&t.dirty(),{status:t.value,value:i.data}):(OP(n,{code:EP.invalid_intersection_types}),LP)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Nz.create=(e,t,n)=>new Nz(u({left:e,right:t,typeName:eN.ZodIntersection},KP(n)));class Oz extends YP{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==SP.array)return OP(n,{code:EP.invalid_type,expected:SP.array,received:n.parsedType}),LP;if(n.data.length<this._def.items.length)return OP(n,{code:EP.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),LP;!this._def.rest&&n.data.length>this._def.items.length&&(OP(n,{code:EP.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new HP(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>BP.mergeArray(t,e))):BP.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Oz(u(u({},this._def),{},{rest:e}))}}Oz.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oz(u({items:e,typeName:eN.ZodTuple,rest:null},KP(t)))};class Bz extends YP{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==SP.map)return OP(n,{code:EP.invalid_type,expected:SP.map,received:n.parsedType}),LP;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(((e,t)=>{let[a,o]=e;return{key:r._parse(new HP(n,a,n.path,[t,"key"])),value:i._parse(new HP(n,o,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return LP;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return LP;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}Bz.create=(e,t,n)=>new Bz(u({valueType:t,keyType:e,typeName:eN.ZodMap},KP(n)));class Lz extends YP{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==SP.set)return OP(n,{code:EP.invalid_type,expected:SP.set,received:n.parsedType}),LP;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(OP(n,{code:EP.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(OP(n,{code:EP.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return LP;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>i._parse(new HP(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>a(e))):a(o)}min(e,t){return new Lz(u(u({},this._def),{},{minSize:{value:e,message:zP.toString(t)}}))}max(e,t){return new Lz(u(u({},this._def),{},{maxSize:{value:e,message:zP.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Lz.create=(e,t)=>new Lz(u({valueType:e,minSize:null,maxSize:null,typeName:eN.ZodSet},KP(t)));class Rz extends YP{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Rz.create=(e,t)=>new Rz(u({getter:e,typeName:eN.ZodLazy},KP(t)));class jz extends YP{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return OP(t,{received:t.data,code:EP.invalid_literal,expected:this._def.value}),LP}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Vz(e,t){return new Wz(u({values:e,typeName:eN.ZodEnum},KP(t)))}jz.create=(e,t)=>new jz(u({value:e,typeName:eN.ZodLiteral},KP(t)));class Wz extends YP{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return OP(t,{expected:TP.joinValues(n),received:t.parsedType,code:EP.invalid_type}),LP}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return OP(t,{received:t.data,code:EP.invalid_enum_value,options:n}),LP}return jP(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Wz.create(e,u(u({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Wz.create(this.options.filter((t=>!e.includes(t))),u(u({},this._def),t))}}Wz.create=Vz;class qz extends YP{_parse(e){const t=TP.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==SP.string&&n.parsedType!==SP.number){const e=TP.objectValues(t);return OP(n,{expected:TP.joinValues(e),received:n.parsedType,code:EP.invalid_type}),LP}if(this._cache||(this._cache=new Set(TP.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=TP.objectValues(t);return OP(n,{received:n.data,code:EP.invalid_enum_value,options:e}),LP}return jP(e.data)}get enum(){return this._def.values}}qz.create=(e,t)=>new qz(u({values:e,typeName:eN.ZodNativeEnum},KP(t)));class Uz extends YP{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==SP.promise&&!1===t.common.async)return OP(t,{code:EP.invalid_type,expected:SP.promise,received:t.parsedType}),LP;const n=t.parsedType===SP.promise?t.data:Promise.resolve(t.data);return jP(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Uz.create=(e,t)=>new Uz(u({type:e,typeName:eN.ZodPromise},KP(t)));class Hz extends YP{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eN.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{OP(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return LP;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?LP:"dirty"===r.status||"dirty"===t.value?RP(r.value):r}));{if("aborted"===t.value)return LP;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?LP:"dirty"===r.status||"dirty"===t.value?RP(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?LP:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?LP:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qP(e))return LP;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>qP(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):LP))}TP.assertNever(r)}}Hz.create=(e,t,n)=>new Hz(u({schema:e,typeName:eN.ZodEffects,effect:t},KP(n))),Hz.createWithPreprocess=(e,t,n)=>new Hz(u({schema:t,effect:{type:"preprocess",transform:e},typeName:eN.ZodEffects},KP(n)));class Gz extends YP{_parse(e){return this._getType(e)===SP.undefined?jP(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gz.create=(e,t)=>new Gz(u({innerType:e,typeName:eN.ZodOptional},KP(t)));class Kz extends YP{_parse(e){return this._getType(e)===SP.null?jP(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Kz.create=(e,t)=>new Kz(u({innerType:e,typeName:eN.ZodNullable},KP(t)));class Yz extends YP{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===SP.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Yz.create=(e,t)=>new Yz(u({innerType:e,typeName:eN.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},KP(t)));class Jz extends YP{_parse(e){const{ctx:t}=this._processInputParams(e),n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:u({},n)});return UP(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new FP(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new FP(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Jz.create=(e,t)=>new Jz(u({innerType:e,typeName:eN.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},KP(t)));class Zz extends YP{_parse(e){if(this._getType(e)!==SP.nan){const t=this._getOrReturnCtx(e);return OP(t,{code:EP.invalid_type,expected:SP.nan,received:t.parsedType}),LP}return{status:"valid",value:e.data}}}Zz.create=e=>new Zz(u({typeName:eN.ZodNaN},KP(e)));Symbol("zod_brand");class Xz extends YP{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class $z extends YP{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?LP:"dirty"===e.status?(t.dirty(),RP(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?LP:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new $z({in:e,out:t,typeName:eN.ZodPipeline})}}class Qz extends YP{_parse(e){const t=this._def.innerType._parse(e),n=e=>(qP(e)&&(e.value=Object.freeze(e.value)),e);return UP(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}Qz.create=(e,t)=>new Qz(u({innerType:e,typeName:eN.ZodReadonly},KP(t)));Iz.lazycreate;var eN;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eN||(eN={}));yz.create,wz.create,Zz.create,vz.create,_z.create,xz.create,kz.create,Dz.create,Tz.create,Az.create,Sz.create,Cz.create,Ez.create,Fz.create,Iz.create,Iz.strictCreate,Pz.create,Nz.create,Oz.create,Bz.create,Lz.create,Rz.create,jz.create,Wz.create,qz.create,Uz.create,Hz.create,Gz.create,Kz.create,Hz.createWithPreprocess,$z.create;const tN=["execute","outputSchema","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],nN=["execute","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],rN=["additionalProperties"],iN=["type"],aN=["type"];function oN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>u(u({},e),null!=t?t:{})),{})}function sN(){return new DOMException("Delay was aborted","AbortError")}function lN(e){return Object.fromEntries([...e.headers])}var cN=function(){let{prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=()=>{const e=n.length,r=new Array(t);for(let i=0;i<t;i++)r[i]=n[Math.random()*e|0];return r.join("")};if(null==e)return i;if(n.includes(r))throw new NM({argument:"separator",message:'The separator "'.concat(r,'" must not be part of the alphabet "').concat(n,'".')});return()=>"".concat(e).concat(r).concat(i())},uN=cN();function dN(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}function hN(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var pN=["fetch failed","failed to fetch"];function fN(e){let{error:t,url:n,requestBodyValues:r}=e;if(hN(t))return t;if(t instanceof TypeError&&pN.includes(t.message.toLowerCase())){const e=t.cause;if(null!=e)return new DM({message:"Cannot connect to API: ".concat(e.message),cause:e,url:n,requestBodyValues:r,isRetryable:!0})}return t}function mN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;var t,n,r;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?"runtime/".concat(e.navigator.userAgent.toLowerCase()):(null==(r=null==(n=e.process)?void 0:n.versions)?void 0:r.node)?"runtime/node.js/".concat(e.process.version.substring(0)):e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function gN(e){const t=function(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return null!=n})))}(null!=e?e:{}),n=new Headers(t),r=n.get("user-agent")||"";for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return n.set("user-agent",[r,...a].filter(Boolean).join(" ")),Object.fromEntries(n)}var yN="3.0.12",bN=()=>globalThis.fetch,wN=async e=>{let{url:t,headers:n={},successfulResponseHandler:r,failedResponseHandler:i,abortSignal:a,fetch:o=bN()}=e;try{const e=await o(t,{method:"GET",headers:gN(n,"ai-sdk/provider-utils/".concat(yN),mN()),signal:a}),l=lN(e);if(!e.ok){let n;try{n=await i({response:e,url:t,requestBodyValues:{}})}catch(s){if(hN(s)||DM.isInstance(s))throw s;throw new DM({message:"Failed to process error response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}throw n.value}try{return await r({response:e,url:t,requestBodyValues:{}})}catch(s){if(s instanceof Error&&(hN(s)||DM.isInstance(s)))throw s;throw new DM({message:"Failed to process successful response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}}catch(s){throw fN({error:s,url:t,requestBodyValues:{}})}};function vN(e){let{mediaType:t,url:n,supportedUrls:r}=e;return n=n.toLowerCase(),t=t.toLowerCase(),Object.entries(r).map((e=>{let[t,n]=e;const r=t.toLowerCase();return"*"===r||"*/*"===r?{mediaTypePrefix:"",regexes:n}:{mediaTypePrefix:r.replace(/\*/,""),regexes:n}})).filter((e=>{let{mediaTypePrefix:n}=e;return t.startsWith(n)})).flatMap((e=>{let{regexes:t}=e;return t})).some((e=>e.test(n)))}function _N(e){let{apiKey:t,environmentVariableName:n,apiKeyParameterName:r="apiKey",description:i}=e;if("string"===typeof t)return t;if(null!=t)throw new tI({message:"".concat(i," API key must be a string.")});if("undefined"===typeof process)throw new tI({message:"".concat(i," API key is missing. Pass it using the '").concat(r,"' parameter. Environment variables is not supported in this environment.")});if(t={NODE_ENV:"production",PUBLIC_URL:"/llm-consistency-vis",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null==t)throw new tI({message:"".concat(i," API key is missing. Pass it using the '").concat(r,"' parameter or the ").concat(n," environment variable.")});if("string"!==typeof t)throw new tI({message:"".concat(i," API key must be a string. The value of the ").concat(n," environment variable is not a string.")});return t}function xN(e){let{settingValue:t,environmentVariableName:n}=e;return"string"===typeof t||null==t&&"undefined"!==typeof process&&(t={NODE_ENV:"production",PUBLIC_URL:"/llm-consistency-vis",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null!=t&&"string"===typeof t)?t:void 0}var kN=/"__proto__"\s*:/,DN=/"constructor"\s*:/;function TN(e){const t=JSON.parse(e);return null===t||"object"!==typeof t||!1===kN.test(e)&&!1===DN.test(e)?t:function(e){let t=[e];for(;t.length;){const e=t;t=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const e in n){const r=n[e];r&&"object"===typeof r&&t.push(r)}}}return e}(t)}function AN(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return TN(e)}finally{Error.stackTraceLimit=t}}var SN=Symbol.for("vercel.ai.validator");function CN(e){let t;return()=>(null==t&&(t=e()),t)}function EN(e){return function(e){return"object"===typeof e&&null!==e&&SN in e&&!0===e[SN]&&"validate"in e}(e)?e:"function"===typeof e?e():function(e){return t=async t=>{const n=await e["~standard"].validate(t);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new kI({value:t,cause:n.issues})}},{[SN]:!0,validate:t};var t}(e)}async function FN(e){let{value:t,schema:n}=e;const r=await MN({value:t,schema:n});if(!r.success)throw kI.wrap({value:t,cause:r.error});return r.value}async function MN(e){let{value:t,schema:n}=e;const r=EN(n);try{if(null==r.validate)return{success:!0,value:t,rawValue:t};const e=await r.validate(t);return e.success?{success:!0,value:e.value,rawValue:t}:{success:!1,error:kI.wrap({value:t,cause:e.error}),rawValue:t}}catch(i){return{success:!1,error:kI.wrap({value:t,cause:i}),rawValue:t}}}async function IN(e){let{text:t,schema:n}=e;try{const e=AN(t);return null==n?{success:!0,value:e,rawValue:e}:await MN({value:e,schema:n})}catch(r){return{success:!1,error:ZM.isInstance(r)?r:new ZM({text:t,cause:r}),rawValue:void 0}}}function PN(e){try{return AN(e),!0}catch(F){return!1}}function zN(e){let{stream:t,schema:n}=e;return t.pipeThrough(new TextDecoderStream).pipeThrough(new MI).pipeThrough(new TransformStream({async transform(e,t){let{data:r}=e;"[DONE]"!==r&&t.enqueue(await IN({text:r,schema:n}))}}))}async function NN(e){let{provider:t,providerOptions:n,schema:r}=e;if(null==(null==n?void 0:n[t]))return;const i=await MN({value:n[t],schema:r});if(!i.success)throw new NM({argument:"providerOptions",message:"invalid ".concat(t," provider options"),cause:i.error});return i.value}var ON=()=>globalThis.fetch,BN=async e=>{let{url:t,headers:n,body:r,failedResponseHandler:i,successfulResponseHandler:a,abortSignal:o,fetch:s}=e;return LN({url:t,headers:u({"Content-Type":"application/json"},n),body:{content:JSON.stringify(r),values:r},failedResponseHandler:i,successfulResponseHandler:a,abortSignal:o,fetch:s})},LN=async e=>{let{url:t,headers:n={},body:r,successfulResponseHandler:i,failedResponseHandler:a,abortSignal:o,fetch:s=ON()}=e;try{const e=await s(t,{method:"POST",headers:gN(n,"ai-sdk/provider-utils/".concat(yN),mN()),body:r.content,signal:o}),c=lN(e);if(!e.ok){let n;try{n=await a({response:e,url:t,requestBodyValues:r.values})}catch(l){if(hN(l)||DM.isInstance(l))throw l;throw new DM({message:"Failed to process error response",cause:l,statusCode:e.status,url:t,responseHeaders:c,requestBodyValues:r.values})}throw n.value}try{return await i({response:e,url:t,requestBodyValues:r.values})}catch(l){if(l instanceof Error&&(hN(l)||DM.isInstance(l)))throw l;throw new DM({message:"Failed to process successful response",cause:l,statusCode:e.status,url:t,responseHeaders:c,requestBodyValues:r.values})}}catch(l){throw fN({error:l,url:t,requestBodyValues:r.values})}};function RN(e){let{id:t,name:n,inputSchema:r}=e;return e=>{let{execute:i,outputSchema:o,toModelOutput:s,onInputStart:l,onInputDelta:c,onInputAvailable:u}=e,d=a(e,tN);return{type:"provider-defined",id:t,name:n,args:d,inputSchema:r,outputSchema:o,execute:i,toModelOutput:s,onInputStart:l,onInputDelta:c,onInputAvailable:u}}}function jN(e){let{id:t,name:n,inputSchema:r,outputSchema:i}=e;return e=>{let{execute:o,toModelOutput:s,onInputStart:l,onInputDelta:c,onInputAvailable:u}=e,d=a(e,nN);return{type:"provider-defined",id:t,name:n,args:d,inputSchema:r,outputSchema:i,execute:o,toModelOutput:s,onInputStart:l,onInputDelta:c,onInputAvailable:u}}}async function VN(e){return"function"===typeof e&&(e=e()),Promise.resolve(e)}var WN=e=>{let{errorSchema:t,errorToMessage:n,isRetryable:r}=e;return async e=>{let{response:i,url:a,requestBodyValues:o}=e;const s=await i.text(),l=lN(i);if(""===s.trim())return{responseHeaders:l,value:new DM({message:i.statusText,url:a,requestBodyValues:o,statusCode:i.status,responseHeaders:l,responseBody:s,isRetryable:null==r?void 0:r(i)})};try{const e=await async function(e){let{text:t,schema:n}=e;try{const e=AN(t);return null==n?e:FN({value:e,schema:n})}catch(r){if(ZM.isInstance(r)||kI.isInstance(r))throw r;throw new ZM({text:t,cause:r})}}({text:s,schema:t});return{responseHeaders:l,value:new DM({message:n(e),url:a,requestBodyValues:o,statusCode:i.status,responseHeaders:l,responseBody:s,data:e,isRetryable:null==r?void 0:r(i,e)})}}catch(c){return{responseHeaders:l,value:new DM({message:i.statusText,url:a,requestBodyValues:o,statusCode:i.status,responseHeaders:l,responseBody:s,isRetryable:null==r?void 0:r(i)})}}}},qN=e=>async t=>{let{response:n}=t;const r=lN(n);if(null==n.body)throw new EM({});return{responseHeaders:r,value:zN({stream:n.body,schema:e})}},UN=e=>async t=>{let{response:n,url:r,requestBodyValues:i}=t;const a=await n.text(),o=await IN({text:a,schema:e}),s=lN(n);if(!o.success)throw new DM({message:"Invalid JSON response",cause:o.error,statusCode:n.status,responseHeaders:s,responseBody:a,url:r,requestBodyValues:i});return{responseHeaders:s,value:o.value,rawValue:o.rawValue}},HN=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},GN=Symbol("Let zodToJsonSchema decide on which parser to use"),KN={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function YN(e,t){return _O(e.type._def,t)}function JN(e,t,n){const r=null!=n?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>JN(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return ZN(e)}}var ZN=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value}return t};var XN=void 0,$N=/^[cC][^\s-]{8,}$/,QN=/^[0-9a-z]+$/,eO=/^[0-9A-HJKMNP-TV-Z]{26}$/,tO=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,nO=()=>(void 0===XN&&(XN=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),XN),rO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oO=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sO=/^[a-zA-Z0-9_-]{21}$/,lO=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function cO(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":hO(n,"email",r.message,t);break;case"format:idn-email":hO(n,"idn-email",r.message,t);break;case"pattern:zod":pO(n,tO,r.message,t)}break;case"url":hO(n,"uri",r.message,t);break;case"uuid":hO(n,"uuid",r.message,t);break;case"regex":pO(n,r.regex,r.message,t);break;case"cuid":pO(n,$N,r.message,t);break;case"cuid2":pO(n,QN,r.message,t);break;case"startsWith":pO(n,RegExp("^".concat(uO(r.value,t))),r.message,t);break;case"endsWith":pO(n,RegExp("".concat(uO(r.value,t),"$")),r.message,t);break;case"datetime":hO(n,"date-time",r.message,t);break;case"date":hO(n,"date",r.message,t);break;case"time":hO(n,"time",r.message,t);break;case"duration":hO(n,"duration",r.message,t);break;case"length":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":pO(n,RegExp(uO(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&hO(n,"ipv4",r.message,t),"v4"!==r.version&&hO(n,"ipv6",r.message,t);break;case"base64url":pO(n,oO,r.message,t);break;case"jwt":pO(n,lO,r.message,t);break;case"cidr":"v6"!==r.version&&pO(n,rO,r.message,t),"v4"!==r.version&&pO(n,iO,r.message,t);break;case"emoji":pO(n,nO(),r.message,t);break;case"ulid":pO(n,eO,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":hO(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":pO(n,aO,r.message,t)}break;case"nanoid":pO(n,sO,r.message,t)}return n}function uO(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)dO.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var dO=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function hO(e,t,n,r){var i;e.format||(null==(i=e.anyOf)?void 0:i.some((e=>e.format)))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push(u({format:t},n&&r.errorMessages&&{errorMessage:{format:n}}))):e.format=t}function pO(e,t,n,r){var i;e.pattern||(null==(i=e.allOf)?void 0:i.some((e=>e.pattern)))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push(u({pattern:fO(t,r)},n&&r.errorMessages&&{errorMessage:{pattern:n}}))):e.pattern=fO(t,r)}function fO(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r=e.flags.includes("i"),i=e.flags.includes("m"),a=e.flags.includes("s"),o=r?e.source.toLowerCase():e.source;let s="",l=!1,c=!1,u=!1;for(let d=0;d<o.length;d++)if(l)s+=o[d],l=!1;else{if(r)if(c){if(o[d].match(/[a-z]/)){u?(s+=o[d],s+="".concat(o[d-2],"-").concat(o[d]).toUpperCase(),u=!1):"-"===o[d+1]&&(null==(n=o[d+2])?void 0:n.match(/[a-z]/))?(s+=o[d],u=!0):s+="".concat(o[d]).concat(o[d].toUpperCase());continue}}else if(o[d].match(/[a-z]/)){s+="[".concat(o[d]).concat(o[d].toUpperCase(),"]");continue}if(i){if("^"===o[d]){s+="(^|(?<=[\r\n]))";continue}if("$"===o[d]){s+="($|(?=[\r\n]))";continue}}a&&"."===o[d]?s+=c?"".concat(o[d],"\r\n"):"[".concat(o[d],"\r\n]"):(s+=o[d],"\\"===o[d]?l=!0:c&&"]"===o[d]?c=!1:c||"["!==o[d]||(c=!0))}try{new RegExp(s)}catch(F){return console.warn("Could not convert regex pattern at ".concat(t.currentPath.join("/")," to a flag-independent form! Falling back to the flag-ignorant source")),e.source}return s}function mO(e,t){var n,r,i,o,s,l;const c={type:"object",additionalProperties:null!=(n=_O(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]})))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===eN.ZodString&&(null==(i=e.keyType._def.checks)?void 0:i.length)){const n=cO(e.keyType._def,t),{type:r}=n,i=a(n,iN);return u(u({},c),{},{propertyNames:i})}if((null==(o=e.keyType)?void 0:o._def.typeName)===eN.ZodEnum)return u(u({},c),{},{propertyNames:{enum:e.keyType._def.values}});if((null==(s=e.keyType)?void 0:s._def.typeName)===eN.ZodBranded&&e.keyType._def.type._def.typeName===eN.ZodString&&(null==(l=e.keyType._def.type._def.checks)?void 0:l.length)){const n=YN(e.keyType._def,t),{type:r}=n,i=a(n,aN);return u(u({},c),{},{propertyNames:i})}return c}var gO={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};var yO=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>_O(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","".concat(n)]})))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function bO(e,t){const n={type:"object",properties:{}},r=[],i=e.shape();for(const o in i){let e=i[o];if(void 0===e||void 0===e._def)continue;const a=wO(e),s=_O(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]}));void 0!==s&&(n.properties[o]=s,a||r.push(o))}r.length&&(n.required=r);const a=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return _O(e.catchall._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]}));switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==a&&(n.additionalProperties=a),n}function wO(e){try{return e.isOptional()}catch(F){return!0}}var vO=(e,t,n)=>{switch(t){case eN.ZodString:return cO(e,n);case eN.ZodNumber:return function(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case eN.ZodObject:return bO(e,n);case eN.ZodBigInt:return function(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case eN.ZodBoolean:return{type:"boolean"};case eN.ZodDate:return JN(e,n);case eN.ZodUndefined:return{not:{}};case eN.ZodNull:return{type:"null"};case eN.ZodArray:return function(e,t){var n,r,i;const a={type:"array"};return(null==(n=e.type)?void 0:n._def)&&(null==(i=null==(r=e.type)?void 0:r._def)?void 0:i.typeName)!==eN.ZodAny&&(a.items=_O(e.type._def,u(u({},t),{},{currentPath:[...t.currentPath,"items"]}))),e.minLength&&(a.minItems=e.minLength.value),e.maxLength&&(a.maxItems=e.maxLength.value),e.exactLength&&(a.minItems=e.exactLength.value,a.maxItems=e.exactLength.value),a}(e,n);case eN.ZodUnion:case eN.ZodDiscriminatedUnion:return function(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in gO&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=gO[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return yO(e,t)}(e,n);case eN.ZodIntersection:return function(e,t){const n=[_O(e.left._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","0"]})),_O(e.right._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","1"]}))].filter((e=>!!e)),r=[];return n.forEach((e=>{if((e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e)(e))r.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n}=e;t=a(e,rN)}r.push(t)}})),r.length?{allOf:r}:void 0}(e,n);case eN.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>_O(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:_O(e.rest._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>_O(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case eN.ZodRecord:return mO(e,n);case eN.ZodLiteral:return function(e){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case eN.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case eN.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case eN.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[gO[e.innerType._def.typeName],"null"]};const n=_O(e.innerType._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","0"]}));return n&&{anyOf:[n,{type:"null"}]}}(e,n);case eN.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null==(n=t.propertyPath)?void 0:n.toString()))return _O(e.innerType._def,t);const r=_O(e.innerType._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","1"]}));return r?{anyOf:[{not:{}},r]}:{}})(e,n);case eN.ZodMap:return function(e,t){return"record"===t.mapStrategy?mO(e,t):{type:"array",maxItems:125,items:{type:"array",items:[_O(e.keyType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","items","0"]}))||{},_O(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","items","1"]}))||{}],minItems:2,maxItems:2}}}(e,n);case eN.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:_O(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items"]}))};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}(e,n);case eN.ZodLazy:return()=>e.getter()._def;case eN.ZodPromise:return function(e,t){return _O(e.type._def,t)}(e,n);case eN.ZodNaN:case eN.ZodNever:return{not:{}};case eN.ZodEffects:return function(e,t){return"input"===t.effectStrategy?_O(e.schema._def,t):{}}(e,n);case eN.ZodAny:case eN.ZodUnknown:return{};case eN.ZodDefault:return function(e,t){return u(u({},_O(e.innerType._def,t)),{},{default:e.defaultValue()})}(e,n);case eN.ZodBranded:return YN(e,n);case eN.ZodReadonly:case eN.ZodCatch:return((e,t)=>_O(e.innerType._def,t))(e,n);case eN.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return _O(e.in._def,t);if("output"===t.pipeStrategy)return _O(e.out._def,t);const n=_O(e.in._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","0"]}));return{allOf:[n,_O(e.out._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf",n?"1":"0"]}))].filter((e=>void 0!==e))}})(e,n);case eN.ZodFunction:case eN.ZodVoid:case eN.ZodSymbol:default:return}};function _O(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r;const i=t.seen.get(e);if(t.override){const a=null==(r=t.override)?void 0:r.call(t,e,t,i,n);if(a!==GN)return a}if(i&&!n){const e=xO(i,t);if(void 0!==e)return e}const a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);const o=vO(e,e.typeName,t),s="function"===typeof o?_O(o(),t):o;if(s&&kO(e,t,s),t.postProcess){const n=t.postProcess(s,e,t);return a.jsonSchema=s,n}return a.jsonSchema=s,s}var xO=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:HN(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn("Recursive reference detected at ".concat(t.currentPath.join("/"),"! Defaulting to any")),{}):"seen"===t.$refStrategy?{}:void 0}},kO=(e,t,n)=>(e.description&&(n.description=e.description),n),DO=e=>{const t=(e=>"string"===typeof e?u(u({},KN),{},{name:e}):u(u({},KN),e))(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return u(u({},t),{},{currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((e=>{let[n,r]=e;return[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]})))})},TO=(e,t)=>{var n;const r=DO(t);let i="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,t)=>{let[n,i]=t;var a;return u(u({},e),{},{[n]:null!=(a=_O(i._def,u(u({},r),{},{currentPath:[...r.basePath,r.definitionPath,n]}),!0))?a:{}})}),{}):void 0;const a="string"===typeof t?t:"title"===(null==t?void 0:t.nameStrategy)||null==t?void 0:t.name,o=null!=(n=_O(e._def,void 0===a?r:u(u({},r),{},{currentPath:[...r.basePath,r.definitionPath,a]}),!1))?n:{},s="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(o.title=s);const l=void 0===a?i?u(u({},o),{},{[r.definitionPath]:i}):o:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:u(u({},i),{},{[a]:o})};return l.$schema="http://json-schema.org/draft-07/schema#",l};function AO(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return FO((()=>function(e,t){if(e instanceof II){const n=new iP(t),r={};for(const t of e._idmap.entries()){const[e,r]=t;n.process(r)}const i={},a={registry:e,uri:null===t||void 0===t?void 0:t.uri,defs:r};for(const o of e._idmap.entries()){const[e,r]=o;i[e]=n.emit(r,u(u({},t),{},{external:a}))}if(Object.keys(r).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";i.__shared={[e]:r}}return{schemas:i}}const n=new iP(t);return n.process(e),n.emit(e,t)}(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"})),{validate:async t=>{const n=await DP(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}function SO(e,t){return function(e){return"_zod"in e}(e)?AO(e,t):function(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return FO((()=>TO(e,{$refStrategy:r?"root":"none"})),{validate:async t=>{const n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e,t)}var CO=Symbol.for("vercel.ai.schema");function EO(e){let t;return()=>(null==t&&(t=e()),t)}function FO(e){let{validate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{[CO]:!0,_type:void 0,[SN]:!0,get jsonSchema(){return"function"===typeof e&&(e=e()),e},validate:t}}function MO(e){return null==e?FO({properties:{},additionalProperties:!1}):function(e){return"object"===typeof e&&null!==e&&CO in e&&!0===e[CO]&&"jsonSchema"in e&&"validate"in e}(e)?e:"function"===typeof e?e():SO(e)}var{btoa:IO,atob:PO}=globalThis;function zO(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=PO(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))}function NO(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return IO(t)}function OO(e){return e instanceof Uint8Array?NO(e):e}function BO(e){return null==e?void 0:e.replace(/\/$/,"")}function LO(){return LO=function(e){return function(){return new fM(e.apply(this,arguments))}}((function(e){let{execute:t,input:n,options:r}=e;return function*(){const e=t(n,r);if(null!=(c=e)&&"function"===typeof c[Symbol.asyncIterator]){let t;var i,a=!1,o=!1;try{for(var s,l=uM(e);a=!(s=yield pM(l.next())).done;a=!1){const e=s.value;t=e,yield{type:"preliminary",output:e}}}catch(u){o=!0,i=u}finally{try{a&&null!=l.return&&(yield pM(l.return()))}finally{if(o)throw i}}yield{type:"final",output:t}}else yield{type:"final",output:yield pM(e)};var c}()})),LO.apply(this,arguments)}const RO=/^[cC][^\s-]{8,}$/,jO=/^[0-9a-z]+$/,VO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,WO=/^[0-9a-vA-V]{20}$/,qO=/^[A-Za-z0-9]{27}$/,UO=/^[a-zA-Z0-9_-]{21}$/,HO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,GO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,KO=e=>e?new RegExp("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-".concat(e,"[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$")):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,YO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const JO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,XO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$O=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,QO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,eB=/^[A-Za-z0-9_-]*$/,tB=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,nB=/^\+(?:[0-9]){6,14}[0-9]$/,rB="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",iB=new RegExp("^".concat(rB,"$"));function aB(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"===typeof e.precision?-1===e.precision?"".concat(t):0===e.precision?"".concat(t,":[0-5]\\d"):"".concat(t,":[0-5]\\d\\.\\d{").concat(e.precision,"}"):"".concat(t,"(?::[0-5]\\d(?:\\.\\d+)?)?")}const oB=/^\d+$/,sB=/^-?\d+(?:\.\d+)?/i,lB=/true|false/i,cB=/null/i,uB=/^[^A-Z]*$/,dB=/^[^a-z]*$/,hB=oP("$ZodCheck",((e,t)=>{var n,r,i;null!==(n=e._zod)&&void 0!==n||(e._zod={}),e._zod.def=t,null!==(r=(i=e._zod).onattach)&&void 0!==r||(i.onattach=[])})),pB={number:"number",bigint:"bigint",object:"date"},fB=oP("$ZodCheckLessThan",((e,t)=>{hB.init(e,t);const n=pB[typeof t.value];e._zod.onattach.push((e=>{var n;const r=e._zod.bag,i=null!==(n=t.inclusive?r.maximum:r.exclusiveMaximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),mB=oP("$ZodCheckGreaterThan",((e,t)=>{hB.init(e,t);const n=pB[typeof t.value];e._zod.onattach.push((e=>{var n;const r=e._zod.bag,i=null!==(n=t.inclusive?r.minimum:r.exclusiveMinimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),gB=oP("$ZodCheckMultipleOf",((e,t)=>{hB.init(e,t),e._zod.onattach.push((e=>{var n,r;null!==(n=(r=e._zod.bag).multipleOf)&&void 0!==n||(r.multipleOf=t.value)})),e._zod.check=n=>{if(typeof n.value!==typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"===typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}})),yB=oP("$ZodCheckNumberFormat",((e,t)=>{var n;hB.init(e,t),t.format=t.format||"float64";const r=null===(n=t.format)||void 0===n?void 0:n.includes("int"),i=r?"int":"number",[a,o]=XI[t.format];e._zod.onattach.push((e=>{const n=e._zod.bag;n.format=t.format,n.minimum=a,n.maximum=o,r&&(n.pattern=oB)})),e._zod.check=n=>{const s=n.value;if(r){if(!Number.isInteger(s))return void n.issues.push({expected:i,format:t.format,code:"invalid_type",input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?n.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):n.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}s<a&&n.issues.push({origin:"number",input:s,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),s>o&&n.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}})),bB=oP("$ZodCheckMaxLength",((e,t)=>{var n,r;hB.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!LI(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const r=null!==(n=e._zod.bag.maximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)})),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const i=nP(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),wB=oP("$ZodCheckMinLength",((e,t)=>{var n,r;hB.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!LI(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const r=null!==(n=e._zod.bag.minimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)})),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const i=nP(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),vB=oP("$ZodCheckLengthEquals",((e,t)=>{var n,r;hB.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!LI(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length})),e._zod.check=n=>{const r=n.value,i=r.length;if(i===t.length)return;const a=nP(r),o=i>t.length;n.issues.push(u(u({origin:a},o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length}),{},{inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort}))}})),_B=oP("$ZodCheckStringFormat",((e,t)=>{var n,r,i,a;hB.init(e,t),e._zod.onattach.push((e=>{const n=e._zod.bag;var r;(n.format=t.format,t.pattern)&&(null!==(r=n.patterns)&&void 0!==r||(n.patterns=new Set),n.patterns.add(t.pattern))})),t.pattern?null!==(n=(i=e._zod).check)&&void 0!==n||(i.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push(u(u({origin:"string",code:"invalid_format",format:t.format,input:n.value},t.pattern?{pattern:t.pattern.toString()}:{}),{},{inst:e,continue:!t.abort}))}):null!==(r=(a=e._zod).check)&&void 0!==r||(a.check=()=>{})})),xB=oP("$ZodCheckRegex",((e,t)=>{_B.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}})),kB=oP("$ZodCheckLowerCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=uB),_B.init(e,t)})),DB=oP("$ZodCheckUpperCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=dB),_B.init(e,t)})),TB=oP("$ZodCheckIncludes",((e,t)=>{hB.init(e,t);const n=YI(t.includes),r=new RegExp("number"===typeof t.position?"^.{".concat(t.position,"}").concat(n):n);t.pattern=r,e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}})),AB=oP("$ZodCheckStartsWith",((e,t)=>{var n;hB.init(e,t);const r=new RegExp("^".concat(YI(t.prefix),".*"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}})),SB=oP("$ZodCheckEndsWith",((e,t)=>{var n;hB.init(e,t);const r=new RegExp(".*".concat(YI(t.suffix),"$"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}));const CB=oP("$ZodCheckOverwrite",((e,t)=>{hB.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}));class EB{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"===typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter((e=>e)),n=Math.min(...t.map((e=>e.length-e.trimStart().length))),r=t.map((e=>e.slice(n))).map((e=>" ".repeat(2*this.indent)+e));for(const i of r)this.content.push(i)}compile(){var e;const t=Function,n=null===this||void 0===this?void 0:this.args,r=[...(null!==(e=null===this||void 0===this?void 0:this.content)&&void 0!==e?e:[""]).map((e=>"  ".concat(e)))];return new t(...n,r.join("\n"))}}const FB={major:4,minor:0,patch:0},MB=oP("$ZodType",((e,t)=>{var n,r;null!==e&&void 0!==e||(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=FB;const i=[...null!==(n=e._zod.def.checks)&&void 0!==n?n:[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const s of i)for(const t of s._zod.onattach)t(e);if(0===i.length){var a,o;null!==(a=(r=e._zod).deferred)&&void 0!==a||(r.deferred=[]),null===(o=e._zod.deferred)||void 0===o||o.push((()=>{e._zod.run=e._zod.parse}))}else{const t=(e,t,n)=>{let r,i=$I(e);for(const a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,o=a._zod.check(e);if(o instanceof Promise&&!1===(null===n||void 0===n?void 0:n.async))throw new sP;if(r||o instanceof Promise)r=(null!==r&&void 0!==r?r:Promise.resolve()).then((async()=>{await o;e.issues.length!==t&&(i||(i=$I(e,t)))}));else{if(e.issues.length===t)continue;i||(i=$I(e,t))}}return r?r.then((()=>e)):e};e._zod.run=(n,r)=>{const a=e._zod.parse(n,r);if(a instanceof Promise){if(!1===r.async)throw new sP;return a.then((e=>t(e,i,r)))}return t(a,i,r)}}e["~standard"]={validate:t=>{try{var n;const r=gP(e,t);return r.success?{value:r.data}:{issues:null===(n=r.error)||void 0===n?void 0:n.issues}}catch(r){return bP(e,t).then((e=>{var t;return e.success?{value:e.data}:{issues:null===(t=e.error)||void 0===t?void 0:t.issues}}))}},vendor:"zod",version:1}})),IB=oP("$ZodString",((e,t)=>{var n,r,i;MB.init(e,t),e._zod.pattern=null!==(n=[...null!==(r=null===e||void 0===e||null===(i=e._zod.bag)||void 0===i?void 0:i.patterns)&&void 0!==r?r:[]].pop())&&void 0!==n?n:(e=>{var t,n;const r=e?"[\\s\\S]{".concat(null!==(t=null===e||void 0===e?void 0:e.minimum)&&void 0!==t?t:0,",").concat(null!==(n=null===e||void 0===e?void 0:e.maximum)&&void 0!==n?n:"","}"):"[\\s\\S]*";return new RegExp("^".concat(r,"$"))})(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"===typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}})),PB=oP("$ZodStringFormat",((e,t)=>{_B.init(e,t),IB.init(e,t)})),zB=oP("$ZodGUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=GO),PB.init(e,t)})),NB=oP("$ZodUUID",((e,t)=>{var n;if(t.version){var r;const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error('Invalid UUID version: "'.concat(t.version,'"'));null!==(r=t.pattern)&&void 0!==r||(t.pattern=KO(e))}else null!==(n=t.pattern)&&void 0!==n||(t.pattern=KO());PB.init(e,t)})),OB=oP("$ZodEmail",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=YO),PB.init(e,t)})),BB=oP("$ZodURL",((e,t)=>{PB.init(e,t),e._zod.check=n=>{try{const r=n.value,i=new URL(r),a=i.href;return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:tB.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(!r.endsWith("/")&&a.endsWith("/")?n.value=a.slice(0,-1):n.value=a)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}})),LB=oP("$ZodEmoji",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),PB.init(e,t)})),RB=oP("$ZodNanoID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=UO),PB.init(e,t)})),jB=oP("$ZodCUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=RO),PB.init(e,t)})),VB=oP("$ZodCUID2",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=jO),PB.init(e,t)})),WB=oP("$ZodULID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=VO),PB.init(e,t)})),qB=oP("$ZodXID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=WO),PB.init(e,t)})),UB=oP("$ZodKSUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=qO),PB.init(e,t)})),HB=oP("$ZodISODateTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=function(e){const t=aB({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r="".concat(t,"(?:").concat(n.join("|"),")");return new RegExp("^".concat(rB,"T(?:").concat(r,")$"))}(t)),PB.init(e,t)})),GB=oP("$ZodISODate",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=iB),PB.init(e,t)})),KB=oP("$ZodISOTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=new RegExp("^".concat(aB(t),"$"))),PB.init(e,t)})),YB=oP("$ZodISODuration",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=HO),PB.init(e,t)})),JB=oP("$ZodIPv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=JO),PB.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv4"}))})),ZB=oP("$ZodIPv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=ZO),PB.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv6"})),e._zod.check=n=>{try{new URL("http://[".concat(n.value,"]"))}catch(r){n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}})),XB=oP("$ZodCIDRv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=XO),PB.init(e,t)})),$B=oP("$ZodCIDRv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=$O),PB.init(e,t),e._zod.check=n=>{const[r,i]=n.value.split("/");try{if(!i)throw new Error;const e=Number(i);if("".concat(e)!==i)throw new Error;if(e<0||e>128)throw new Error;new URL("http://[".concat(r,"]"))}catch(a){n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}}));function QB(e){if(""===e)return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch(t){return!1}}const eL=oP("$ZodBase64",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=QO),PB.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64"})),e._zod.check=n=>{QB(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}));const tL=oP("$ZodBase64URL",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=eB),PB.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64url"})),e._zod.check=n=>{(function(e){if(!eB.test(e))return!1;const t=e.replace(/[-_]/g,(e=>"-"===e?"+":"/"));return QB(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}})),nL=oP("$ZodE164",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=nB),PB.init(e,t)}));const rL=oP("$ZodJWT",((e,t)=>{PB.init(e,t),e._zod.check=n=>{(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return(!("typ"in i)||"JWT"===(null===i||void 0===i?void 0:i.typ))&&!!i.alg&&(!t||"alg"in i&&i.alg===t)}catch(n){return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}})),iL=oP("$ZodNumber",((e,t)=>{var n;MB.init(e,t),e._zod.pattern=null!==(n=e._zod.bag.pattern)&&void 0!==n?n:sB,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(o){}const i=n.value;if("number"===typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;const a="number"===typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push(u({expected:"number",code:"invalid_type",input:i,inst:e},a?{received:a}:{})),n}})),aL=oP("$ZodNumber",((e,t)=>{yB.init(e,t),iL.init(e,t)})),oL=oP("$ZodBoolean",((e,t)=>{MB.init(e,t),e._zod.pattern=lB,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(a){}const i=n.value;return"boolean"===typeof i||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}})),sL=oP("$ZodNull",((e,t)=>{MB.init(e,t),e._zod.pattern=cB,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}})),lL=oP("$ZodAny",((e,t)=>{MB.init(e,t),e._zod.parse=e=>e})),cL=oP("$ZodUnknown",((e,t)=>{MB.init(e,t),e._zod.parse=e=>e})),uL=oP("$ZodNever",((e,t)=>{MB.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}));function dL(e,t,n){e.issues.length&&t.issues.push(...QI(n,e.issues)),t.value[n]=e.value}const hL=oP("$ZodArray",((e,t)=>{MB.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const a=[];for(let e=0;e<i.length;e++){const o=i[e],s=t.element._zod.run({value:o,issues:[]},r);s instanceof Promise?a.push(s.then((t=>dL(t,n,e)))):dL(s,n,e)}return a.length?Promise.all(a).then((()=>n)):n}}));function pL(e,t,n){e.issues.length&&t.issues.push(...QI(n,e.issues)),t.value[n]=e.value}function fL(e,t,n,r){e.issues.length?void 0===r[n]?t.value[n]=n in r?void 0:e.value:t.issues.push(...QI(n,e.issues)):void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const mL=oP("$ZodObject",((e,t)=>{MB.init(e,t);const n=BI((()=>{const e=Object.keys(t.shape);for(const r of e)if(!(t.shape[r]instanceof MB))throw new Error('Invalid element at key "'.concat(r,'": expected a Zod schema'));const n=function(e){return Object.keys(e).filter((t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout))}(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}));jI(e._zod,"propValues",(()=>{const e=t.shape,n={};for(const t in e){const i=e[t]._zod;if(i.values){var r;null!==(r=n[t])&&void 0!==r||(n[t]=new Set);for(const e of i.values)n[t].add(e)}}return n}));let r;const i=UI,a=!lP.jitless,o=a&&HI.value,s=t.catchall;let l;e._zod.parse=(c,u)=>{null!==l&&void 0!==l||(l=n.value);const d=c.value;if(!i(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),c;const h=[];if(a&&o&&!1===(null===u||void 0===u?void 0:u.async)&&!0!==u.jitless)r||(r=(e=>{const t=new EB(["shape","payload","ctx"]),r=n.value,i=e=>{const t=WI(e);return"shape[".concat(t,"]._zod.run({ value: input[").concat(t,"], issues: [] }, ctx)")};t.write("const input = payload.value;");const a=Object.create(null);let o=0;for(const n of r.keys)a[n]="key_".concat(o++);t.write("const newResult = {}");for(const n of r.keys)if(r.optionalKeys.has(n)){const e=a[n];t.write("const ".concat(e," = ").concat(i(n),";"));const r=WI(n);t.write("\n        if (".concat(e,".issues.length) {\n          if (input[").concat(r,"] === undefined) {\n            if (").concat(r," in input) {\n              newResult[").concat(r,"] = undefined;\n            }\n          } else {\n            payload.issues = payload.issues.concat(\n              ").concat(e,".issues.map((iss) => ({\n                ...iss,\n                path: iss.path ? [").concat(r,", ...iss.path] : [").concat(r,"],\n              }))\n            );\n          }\n        } else if (").concat(e,".value === undefined) {\n          if (").concat(r," in input) newResult[").concat(r,"] = undefined;\n        } else {\n          newResult[").concat(r,"] = ").concat(e,".value;\n        }\n        "))}else{const e=a[n];t.write("const ".concat(e," = ").concat(i(n),";")),t.write("\n          if (".concat(e,".issues.length) payload.issues = payload.issues.concat(").concat(e,".issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [").concat(WI(n),", ...iss.path] : [").concat(WI(n),"]\n          })));")),t.write("newResult[".concat(WI(n),"] = ").concat(e,".value"))}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),c=r(c,u);else{c.value={};const e=l.shape;for(const t of l.keys){const n=e[t],r=n._zod.run({value:d[t],issues:[]},u),i="optional"===n._zod.optin&&"optional"===n._zod.optout;r instanceof Promise?h.push(r.then((e=>i?fL(e,c,t,d):pL(e,c,t)))):i?fL(r,c,t,d):pL(r,c,t)}}if(!s)return h.length?Promise.all(h).then((()=>c)):c;const p=[],f=l.keySet,m=s._zod,g=m.def.type;for(const e of Object.keys(d)){if(f.has(e))continue;if("never"===g){p.push(e);continue}const t=m.run({value:d[e],issues:[]},u);t instanceof Promise?h.push(t.then((t=>pL(t,c,e)))):pL(t,c,e)}return p.length&&c.issues.push({code:"unrecognized_keys",keys:p,input:d,inst:e}),h.length?Promise.all(h).then((()=>c)):c}}));function gL(e,t,n,r){for(const i of e)if(0===i.issues.length)return t.value=i.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map((e=>e.issues.map((e=>tP(e,r,cP())))))}),t}const yL=oP("$ZodUnion",((e,t)=>{MB.init(e,t),jI(e._zod,"optin",(()=>t.options.some((e=>"optional"===e._zod.optin))?"optional":void 0)),jI(e._zod,"optout",(()=>t.options.some((e=>"optional"===e._zod.optout))?"optional":void 0)),jI(e._zod,"values",(()=>{if(t.options.every((e=>e._zod.values)))return new Set(t.options.flatMap((e=>Array.from(e._zod.values))))})),jI(e._zod,"pattern",(()=>{if(t.options.every((e=>e._zod.pattern))){const e=t.options.map((e=>e._zod.pattern));return new RegExp("^(".concat(e.map((e=>RI(e.source))).join("|"),")$"))}})),e._zod.parse=(n,r)=>{let i=!1;const a=[];for(const e of t.options){const t=e._zod.run({value:n.value,issues:[]},r);if(t instanceof Promise)a.push(t),i=!0;else{if(0===t.issues.length)return t;a.push(t)}}return i?Promise.all(a).then((t=>gL(t,n,e,r))):gL(a,n,e,r)}})),bL=oP("$ZodDiscriminatedUnion",((e,t)=>{yL.init(e,t);const n=e._zod.parse;jI(e._zod,"propValues",(()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(n),'"'));for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e}));const r=BI((()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues[t.discriminator];if(!e||0===e.size)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(r),'"'));for(const t of e){if(n.has(t))throw new Error('Duplicate discriminator value "'.concat(String(t),'"'));n.set(t,r)}}return n}));e._zod.parse=(i,a)=>{const o=i.value;if(!UI(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),i;const s=r.value.get(null===o||void 0===o?void 0:o[t.discriminator]);return s?s._zod.run(i,a):t.unionFallback?n(i,a):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[t.discriminator],inst:e}),i)}})),wL=oP("$ZodIntersection",((e,t)=>{MB.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,i=t.left._zod.run({value:r,issues:[]},n),a=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then((t=>{let[n,r]=t;return _L(e,n,r)})):_L(e,i,a)}}));function vL(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(GI(e)&&GI(t)){const n=Object.keys(t),r=Object.keys(e).filter((e=>-1!==n.indexOf(e))),i=u(u({},e),t);for(const a of r){const n=vL(e[a],t[a]);if(!n.valid)return{valid:!1,mergeErrorPath:[a,...n.mergeErrorPath]};i[a]=n.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=vL(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function _L(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),$I(e))return e;const r=vL(t.value,n.value);if(!r.valid)throw new Error("Unmergable intersection. Error path: "+"".concat(JSON.stringify(r.mergeErrorPath)));return e.value=r.data,e}const xL=oP("$ZodTuple",((e,t)=>{MB.init(e,t);const n=t.items,r=n.length-[...n].reverse().findIndex((e=>"optional"!==e._zod.optin));e._zod.parse=(i,a)=>{const o=i.value;if(!Array.isArray(o))return i.issues.push({input:o,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];const s=[];if(!t.rest){const t=o.length>n.length,a=o.length<r-1;if(t||a)return i.issues.push(u({input:o,inst:e,origin:"array"},t?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length})),i}let l=-1;for(const e of n){if(l++,l>=o.length&&l>=r)continue;const t=e._zod.run({value:o[l],issues:[]},a);t instanceof Promise?s.push(t.then((e=>kL(e,i,l)))):kL(t,i,l)}if(t.rest){const e=o.slice(n.length);for(const n of e){l++;const e=t.rest._zod.run({value:n,issues:[]},a);e instanceof Promise?s.push(e.then((e=>kL(e,i,l)))):kL(e,i,l)}}return s.length?Promise.all(s).then((()=>i)):i}}));function kL(e,t,n){e.issues.length&&t.issues.push(...QI(n,e.issues)),t.value[n]=e.value}const DL=oP("$ZodRecord",((e,t)=>{MB.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!GI(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const a=[];if(t.keyType._zod.values){const o=t.keyType._zod.values;n.value={};for(const e of o)if("string"===typeof e||"number"===typeof e||"symbol"===typeof e){const o=t.valueType._zod.run({value:i[e],issues:[]},r);o instanceof Promise?a.push(o.then((t=>{t.issues.length&&n.issues.push(...QI(e,t.issues)),n.value[e]=t.value}))):(o.issues.length&&n.issues.push(...QI(e,o.issues)),n.value[e]=o.value)}let s;for(const e in i)o.has(e)||(s=null!==s&&void 0!==s?s:[],s.push(e));s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:s})}else{n.value={};for(const o of Reflect.ownKeys(i)){if("__proto__"===o)continue;const s=t.keyType._zod.run({value:o,issues:[]},r);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:s.issues.map((e=>tP(e,r,cP()))),input:o,path:[o],inst:e}),n.value[s.value]=s.value;continue}const l=t.valueType._zod.run({value:i[o],issues:[]},r);l instanceof Promise?a.push(l.then((e=>{e.issues.length&&n.issues.push(...QI(o,e.issues)),n.value[s.value]=e.value}))):(l.issues.length&&n.issues.push(...QI(o,l.issues)),n.value[s.value]=l.value)}}return a.length?Promise.all(a).then((()=>n)):n}}));const TL=oP("$ZodEnum",((e,t)=>{MB.init(e,t);const n=NI(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp("^(".concat(n.filter((e=>KI.has(typeof e))).map((e=>"string"===typeof e?YI(e):e.toString())).join("|"),")$")),e._zod.parse=(t,r)=>{const i=t.value;return e._zod.values.has(i)||t.issues.push({code:"invalid_value",values:n,input:i,inst:e}),t}})),AL=oP("$ZodLiteral",((e,t)=>{MB.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp("^(".concat(t.values.map((e=>"string"===typeof e?YI(e):e?e.toString():String(e))).join("|"),")$")),e._zod.parse=(n,r)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}})),SL=oP("$ZodTransform",((e,t)=>{MB.init(e,t),e._zod.parse=(e,n)=>{const r=t.transform(e.value,e);if(n.async){return(r instanceof Promise?r:Promise.resolve(r)).then((t=>(e.value=t,e)))}if(r instanceof Promise)throw new sP;return e.value=r,e}})),CL=oP("$ZodOptional",((e,t)=>{MB.init(e,t),e._zod.optin="optional",e._zod.optout="optional",jI(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0)),jI(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(RI(e.source),")?$")):void 0})),e._zod.parse=(e,n)=>"optional"===t.innerType._zod.optin?t.innerType._zod.run(e,n):void 0===e.value?e:t.innerType._zod.run(e,n)})),EL=oP("$ZodNullable",((e,t)=>{MB.init(e,t),jI(e._zod,"optin",(()=>t.innerType._zod.optin)),jI(e._zod,"optout",(()=>t.innerType._zod.optout)),jI(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(RI(e.source),"|null)$")):void 0})),jI(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0)),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)})),FL=oP("$ZodDefault",((e,t)=>{MB.init(e,t),e._zod.optin="optional",jI(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((e=>ML(e,t))):ML(r,t)}}));function ML(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const IL=oP("$ZodPrefault",((e,t)=>{MB.init(e,t),e._zod.optin="optional",jI(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))})),PL=oP("$ZodNonOptional",((e,t)=>{MB.init(e,t),jI(e._zod,"values",(()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter((e=>void 0!==e))):void 0})),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then((t=>zL(t,e))):zL(i,e)}}));function zL(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const NL=oP("$ZodCatch",((e,t)=>{MB.init(e,t),e._zod.optin="optional",jI(e._zod,"optout",(()=>t.innerType._zod.optout)),jI(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue(u(u({},e),{},{error:{issues:r.issues.map((e=>tP(e,n,cP())))},input:e.value})),e.issues=[]),e))):(e.value=r.value,r.issues.length&&(e.value=t.catchValue(u(u({},e),{},{error:{issues:r.issues.map((e=>tP(e,n,cP())))},input:e.value})),e.issues=[]),e)}})),OL=oP("$ZodPipe",((e,t)=>{MB.init(e,t),jI(e._zod,"values",(()=>t.in._zod.values)),jI(e._zod,"optin",(()=>t.in._zod.optin)),jI(e._zod,"optout",(()=>t.out._zod.optout)),e._zod.parse=(e,n)=>{const r=t.in._zod.run(e,n);return r instanceof Promise?r.then((e=>BL(e,t,n))):BL(r,t,n)}}));function BL(e,t,n){return $I(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const LL=oP("$ZodReadonly",((e,t)=>{MB.init(e,t),jI(e._zod,"propValues",(()=>t.innerType._zod.propValues)),jI(e._zod,"values",(()=>t.innerType._zod.values)),jI(e._zod,"optin",(()=>t.innerType._zod.optin)),jI(e._zod,"optout",(()=>t.innerType._zod.optout)),e._zod.parse=(e,n)=>{const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(RL):RL(r)}}));function RL(e){return e.value=Object.freeze(e.value),e}const jL=oP("$ZodLazy",((e,t)=>{MB.init(e,t),jI(e._zod,"innerType",(()=>t.getter())),jI(e._zod,"pattern",(()=>e._zod.innerType._zod.pattern)),jI(e._zod,"propValues",(()=>e._zod.innerType._zod.propValues)),jI(e._zod,"optin",(()=>e._zod.innerType._zod.optin)),jI(e._zod,"optout",(()=>e._zod.innerType._zod.optout)),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)})),VL=oP("$ZodCustom",((e,t)=>{hB.init(e,t),MB.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then((t=>WL(t,n,r,e)));WL(i,n,r,e)}}));function WL(e,t,n,r){if(!e){var i;const e={code:"custom",input:n,inst:r,path:[...null!==(i=r._zod.def.path)&&void 0!==i?i:[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(rP(e))}}function qL(e,t){return new e(u({type:"string",format:"guid",check:"string_format",abort:!1},ZI(t)))}function UL(e,t){return new e(u({type:"string",format:"base64",check:"string_format",abort:!1},ZI(t)))}function HL(e,t){return new fB(u(u({check:"less_than"},ZI(t)),{},{value:e,inclusive:!1}))}function GL(e,t){return new fB(u(u({check:"less_than"},ZI(t)),{},{value:e,inclusive:!0}))}function KL(e,t){return new mB(u(u({check:"greater_than"},ZI(t)),{},{value:e,inclusive:!1}))}function YL(e,t){return new mB(u(u({check:"greater_than"},ZI(t)),{},{value:e,inclusive:!0}))}function JL(e,t){return new gB(u(u({check:"multiple_of"},ZI(t)),{},{value:e}))}function ZL(e,t){return new bB(u(u({check:"max_length"},ZI(t)),{},{maximum:e}))}function XL(e,t){return new wB(u(u({check:"min_length"},ZI(t)),{},{minimum:e}))}function $L(e,t){return new vB(u(u({check:"length_equals"},ZI(t)),{},{length:e}))}function QL(e){return new CB({check:"overwrite",tx:e})}const eR=oP("ZodISODateTime",((e,t)=>{HB.init(e,t),hR.init(e,t)}));function tR(e){return function(e,t){return new e(u({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null},ZI(t)))}(eR,e)}const nR=oP("ZodISODate",((e,t)=>{GB.init(e,t),hR.init(e,t)}));function rR(e){return function(e,t){return new e(u({type:"string",format:"date",check:"string_format"},ZI(t)))}(nR,e)}const iR=oP("ZodISOTime",((e,t)=>{KB.init(e,t),hR.init(e,t)}));function aR(e){return function(e,t){return new e(u({type:"string",format:"time",check:"string_format",precision:null},ZI(t)))}(iR,e)}const oR=oP("ZodISODuration",((e,t)=>{YB.init(e,t),hR.init(e,t)}));function sR(e){return function(e,t){return new e(u({type:"string",format:"duration",check:"string_format"},ZI(t)))}(oR,e)}const lR=oP("ZodType",((e,t)=>(MB.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=function(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.clone(u(u({},t),{},{checks:[...null!==(n=t.checks)&&void 0!==n?n:[],...i.map((e=>"function"===typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e))]}))},e.clone=(t,n)=>JI(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>_P(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>kP(e,t,n),e.parseAsync=async(t,n)=>xP(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>DP(e,t,n),e.spa=e.safeParseAsync,e.refine=(t,n)=>e.check(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){return new e(u({type:"custom",check:"custom",fn:t},ZI(n)))}(Sj,e,t)}(t,n)),e.superRefine=t=>e.check(function(e){const t=function(e){const t=new hB({check:"custom"});return t._zod.check=e,t}((n=>(n.addIssue=e=>{if("string"===typeof e)n.issues.push(rP(e,n.value,t._zod.def));else{var r,i,a,o;const s=e;s.fatal&&(s.continue=!1),null!==(r=s.code)&&void 0!==r||(s.code="custom"),null!==(i=s.input)&&void 0!==i||(s.input=n.value),null!==(a=s.inst)&&void 0!==a||(s.inst=t),null!==(o=s.continue)&&void 0!==o||(s.continue=!t._zod.def.abort),n.issues.push(rP(s))}},e(n.value,n))));return t}(t)),e.overwrite=t=>e.check(QL(t)),e.optional=()=>mj(e),e.nullable=()=>yj(e),e.nullish=()=>mj(yj(e)),e.nonoptional=t=>function(e,t){return new vj(u({type:"nonoptional",innerType:e},ZI(t)))}(e,t),e.array=()=>YR(e),e.or=t=>ej([e,t]),e.and=t=>new rj({type:"intersection",left:e,right:t}),e.transform=t=>kj(e,pj(t)),e.default=t=>{return n=t,new bj({type:"default",innerType:e,get defaultValue(){return"function"===typeof n?n():n}});var n},e.prefault=t=>{return n=t,new wj({type:"prefault",innerType:e,get defaultValue(){return"function"===typeof n?n():n}});var n},e.catch=t=>{return new _j({type:"catch",innerType:e,catchValue:"function"===typeof(n=t)?n:()=>n});var n},e.pipe=t=>kj(e,t),e.readonly=()=>new Dj({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return zI.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){var t;return null===(t=zI.get(e))||void 0===t?void 0:t.description},configurable:!0}),e.meta=function(){if(0===arguments.length)return zI.get(e);const t=e.clone();return zI.add(t,arguments.length<=0?void 0:arguments[0]),t},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e))),cR=oP("_ZodString",((e,t)=>{var n,r,i;IB.init(e,t),lR.init(e,t);const a=e._zod.bag;e.format=null!==(n=a.format)&&void 0!==n?n:null,e.minLength=null!==(r=a.minimum)&&void 0!==r?r:null,e.maxLength=null!==(i=a.maximum)&&void 0!==i?i:null,e.regex=function(){return e.check(function(e,t){return new xB(u(u({check:"string_format",format:"regex"},ZI(t)),{},{pattern:e}))}(...arguments))},e.includes=function(){return e.check(function(e,t){return new TB(u(u({check:"string_format",format:"includes"},ZI(t)),{},{includes:e}))}(...arguments))},e.startsWith=function(){return e.check(function(e,t){return new AB(u(u({check:"string_format",format:"starts_with"},ZI(t)),{},{prefix:e}))}(...arguments))},e.endsWith=function(){return e.check(function(e,t){return new SB(u(u({check:"string_format",format:"ends_with"},ZI(t)),{},{suffix:e}))}(...arguments))},e.min=function(){return e.check(XL(...arguments))},e.max=function(){return e.check(ZL(...arguments))},e.length=function(){return e.check($L(...arguments))},e.nonempty=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.check(XL(1,...n))},e.lowercase=t=>e.check(function(e){return new kB(u({check:"string_format",format:"lowercase"},ZI(e)))}(t)),e.uppercase=t=>e.check(function(e){return new DB(u({check:"string_format",format:"uppercase"},ZI(e)))}(t)),e.trim=()=>e.check(QL((e=>e.trim()))),e.normalize=function(){return e.check(function(e){return QL((t=>t.normalize(e)))}(...arguments))},e.toLowerCase=()=>e.check(QL((e=>e.toLowerCase()))),e.toUpperCase=()=>e.check(QL((e=>e.toUpperCase())))})),uR=oP("ZodString",((e,t)=>{IB.init(e,t),cR.init(e,t),e.email=t=>e.check(function(e,t){return new e(u({type:"string",format:"email",check:"string_format",abort:!1},ZI(t)))}(pR,t)),e.url=t=>e.check(function(e,t){return new e(u({type:"string",format:"url",check:"string_format",abort:!1},ZI(t)))}(gR,t)),e.jwt=t=>e.check(function(e,t){return new e(u({type:"string",format:"jwt",check:"string_format",abort:!1},ZI(t)))}(IR,t)),e.emoji=t=>e.check(function(e,t){return new e(u({type:"string",format:"emoji",check:"string_format",abort:!1},ZI(t)))}(yR,t)),e.guid=t=>e.check(qL(fR,t)),e.uuid=t=>e.check(function(e,t){return new e(u({type:"string",format:"uuid",check:"string_format",abort:!1},ZI(t)))}(mR,t)),e.uuidv4=t=>e.check(function(e,t){return new e(u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4"},ZI(t)))}(mR,t)),e.uuidv6=t=>e.check(function(e,t){return new e(u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6"},ZI(t)))}(mR,t)),e.uuidv7=t=>e.check(function(e,t){return new e(u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7"},ZI(t)))}(mR,t)),e.nanoid=t=>e.check(function(e,t){return new e(u({type:"string",format:"nanoid",check:"string_format",abort:!1},ZI(t)))}(bR,t)),e.guid=t=>e.check(qL(fR,t)),e.cuid=t=>e.check(function(e,t){return new e(u({type:"string",format:"cuid",check:"string_format",abort:!1},ZI(t)))}(wR,t)),e.cuid2=t=>e.check(function(e,t){return new e(u({type:"string",format:"cuid2",check:"string_format",abort:!1},ZI(t)))}(vR,t)),e.ulid=t=>e.check(function(e,t){return new e(u({type:"string",format:"ulid",check:"string_format",abort:!1},ZI(t)))}(_R,t)),e.base64=t=>e.check(UL(CR,t)),e.base64url=t=>e.check(function(e,t){return new e(u({type:"string",format:"base64url",check:"string_format",abort:!1},ZI(t)))}(FR,t)),e.xid=t=>e.check(function(e,t){return new e(u({type:"string",format:"xid",check:"string_format",abort:!1},ZI(t)))}(xR,t)),e.ksuid=t=>e.check(function(e,t){return new e(u({type:"string",format:"ksuid",check:"string_format",abort:!1},ZI(t)))}(kR,t)),e.ipv4=t=>e.check(function(e,t){return new e(u({type:"string",format:"ipv4",check:"string_format",abort:!1},ZI(t)))}(DR,t)),e.ipv6=t=>e.check(function(e,t){return new e(u({type:"string",format:"ipv6",check:"string_format",abort:!1},ZI(t)))}(TR,t)),e.cidrv4=t=>e.check(function(e,t){return new e(u({type:"string",format:"cidrv4",check:"string_format",abort:!1},ZI(t)))}(AR,t)),e.cidrv6=t=>e.check(function(e,t){return new e(u({type:"string",format:"cidrv6",check:"string_format",abort:!1},ZI(t)))}(SR,t)),e.e164=t=>e.check(function(e,t){return new e(u({type:"string",format:"e164",check:"string_format",abort:!1},ZI(t)))}(MR,t)),e.datetime=t=>e.check(tR(t)),e.date=t=>e.check(rR(t)),e.time=t=>e.check(aR(t)),e.duration=t=>e.check(sR(t))}));function dR(e){return function(e,t){return new e(u({type:"string"},ZI(t)))}(uR,e)}const hR=oP("ZodStringFormat",((e,t)=>{PB.init(e,t),cR.init(e,t)})),pR=oP("ZodEmail",((e,t)=>{OB.init(e,t),hR.init(e,t)}));const fR=oP("ZodGUID",((e,t)=>{zB.init(e,t),hR.init(e,t)}));const mR=oP("ZodUUID",((e,t)=>{NB.init(e,t),hR.init(e,t)}));const gR=oP("ZodURL",((e,t)=>{BB.init(e,t),hR.init(e,t)}));const yR=oP("ZodEmoji",((e,t)=>{LB.init(e,t),hR.init(e,t)}));const bR=oP("ZodNanoID",((e,t)=>{RB.init(e,t),hR.init(e,t)}));const wR=oP("ZodCUID",((e,t)=>{jB.init(e,t),hR.init(e,t)}));const vR=oP("ZodCUID2",((e,t)=>{VB.init(e,t),hR.init(e,t)}));const _R=oP("ZodULID",((e,t)=>{WB.init(e,t),hR.init(e,t)}));const xR=oP("ZodXID",((e,t)=>{qB.init(e,t),hR.init(e,t)}));const kR=oP("ZodKSUID",((e,t)=>{UB.init(e,t),hR.init(e,t)}));const DR=oP("ZodIPv4",((e,t)=>{JB.init(e,t),hR.init(e,t)}));const TR=oP("ZodIPv6",((e,t)=>{ZB.init(e,t),hR.init(e,t)}));const AR=oP("ZodCIDRv4",((e,t)=>{XB.init(e,t),hR.init(e,t)}));const SR=oP("ZodCIDRv6",((e,t)=>{$B.init(e,t),hR.init(e,t)}));const CR=oP("ZodBase64",((e,t)=>{eL.init(e,t),hR.init(e,t)}));function ER(e){return UL(CR,e)}const FR=oP("ZodBase64URL",((e,t)=>{tL.init(e,t),hR.init(e,t)}));const MR=oP("ZodE164",((e,t)=>{nL.init(e,t),hR.init(e,t)}));const IR=oP("ZodJWT",((e,t)=>{rL.init(e,t),hR.init(e,t)}));const PR=oP("ZodNumber",((e,t)=>{var n,r,i,a,o,s,l,c,u;iL.init(e,t),lR.init(e,t),e.gt=(t,n)=>e.check(KL(t,n)),e.gte=(t,n)=>e.check(YL(t,n)),e.min=(t,n)=>e.check(YL(t,n)),e.lt=(t,n)=>e.check(HL(t,n)),e.lte=(t,n)=>e.check(GL(t,n)),e.max=(t,n)=>e.check(GL(t,n)),e.int=t=>e.check(OR(t)),e.safe=t=>e.check(OR(t)),e.positive=t=>e.check(KL(0,t)),e.nonnegative=t=>e.check(YL(0,t)),e.negative=t=>e.check(HL(0,t)),e.nonpositive=t=>e.check(GL(0,t)),e.multipleOf=(t,n)=>e.check(JL(t,n)),e.step=(t,n)=>e.check(JL(t,n)),e.finite=()=>e;const d=e._zod.bag;e.minValue=null!==(n=Math.max(null!==(r=d.minimum)&&void 0!==r?r:Number.NEGATIVE_INFINITY,null!==(i=d.exclusiveMinimum)&&void 0!==i?i:Number.NEGATIVE_INFINITY))&&void 0!==n?n:null,e.maxValue=null!==(a=Math.min(null!==(o=d.maximum)&&void 0!==o?o:Number.POSITIVE_INFINITY,null!==(s=d.exclusiveMaximum)&&void 0!==s?s:Number.POSITIVE_INFINITY))&&void 0!==a?a:null,e.isInt=(null!==(l=d.format)&&void 0!==l?l:"").includes("int")||Number.isSafeInteger(null!==(c=d.multipleOf)&&void 0!==c?c:.5),e.isFinite=!0,e.format=null!==(u=d.format)&&void 0!==u?u:null}));function zR(e){return function(e,t){return new e(u({type:"number",checks:[]},ZI(t)))}(PR,e)}const NR=oP("ZodNumberFormat",((e,t)=>{aL.init(e,t),PR.init(e,t)}));function OR(e){return function(e,t){return new e(u({type:"number",check:"number_format",abort:!1,format:"safeint"},ZI(t)))}(NR,e)}const BR=oP("ZodBoolean",((e,t)=>{oL.init(e,t),lR.init(e,t)}));function LR(e){return function(e,t){return new e(u({type:"boolean"},ZI(t)))}(BR,e)}const RR=oP("ZodNull",((e,t)=>{sL.init(e,t),lR.init(e,t)}));function jR(e){return function(e,t){return new e(u({type:"null"},ZI(t)))}(RR,e)}const VR=oP("ZodAny",((e,t)=>{lL.init(e,t),lR.init(e,t)}));function WR(){return function(e){return new e({type:"any"})}(VR)}const qR=oP("ZodUnknown",((e,t)=>{cL.init(e,t),lR.init(e,t)}));function UR(){return function(e){return new e({type:"unknown"})}(qR)}const HR=oP("ZodNever",((e,t)=>{uL.init(e,t),lR.init(e,t)}));function GR(e){return function(e,t){return new e(u({type:"never"},ZI(t)))}(HR,e)}const KR=oP("ZodArray",((e,t)=>{hL.init(e,t),lR.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(XL(t,n)),e.nonempty=t=>e.check(XL(1,t)),e.max=(t,n)=>e.check(ZL(t,n)),e.length=(t,n)=>e.check($L(t,n)),e.unwrap=()=>e.element}));function YR(e,t){return function(e,t,n){return new e(u({type:"array",element:t},ZI(n)))}(KR,e,t)}const JR=oP("ZodObject",((e,t)=>{mL.init(e,t),lR.init(e,t),jI(e,"shape",(()=>t.shape)),e.keyof=()=>cj(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone(u(u({},e._zod.def),{},{catchall:t})),e.passthrough=()=>e.clone(u(u({},e._zod.def),{},{catchall:UR()})),e.loose=()=>e.clone(u(u({},e._zod.def),{},{catchall:UR()})),e.strict=()=>e.clone(u(u({},e._zod.def),{},{catchall:GR()})),e.strip=()=>e.clone(u(u({},e._zod.def),{},{catchall:void 0})),e.extend=t=>function(e,t){if(!GI(t))throw new Error("Invalid input to extend: expected a plain object");const n=u(u({},e._zod.def),{},{get shape(){const n=u(u({},e._zod.def.shape),t);return VI(this,"shape",n),n},checks:[]});return JI(e,n)}(e,t),e.merge=t=>function(e,t){return JI(e,u(u({},e._zod.def),{},{get shape(){const n=u(u({},e._zod.def.shape),t._zod.def.shape);return VI(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]}))}(e,t),e.pick=t=>function(e,t){const n={},r=e._zod.def;for(const i in t){if(!(i in r.shape))throw new Error('Unrecognized key: "'.concat(i,'"'));t[i]&&(n[i]=r.shape[i])}return JI(e,u(u({},e._zod.def),{},{shape:n,checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=u({},e._zod.def.shape),r=e._zod.def;for(const i in t){if(!(i in r.shape))throw new Error('Unrecognized key: "'.concat(i,'"'));t[i]&&delete n[i]}return JI(e,u(u({},e._zod.def),{},{shape:n,checks:[]}))}(e,t),e.partial=function(){return function(e,t,n){const r=t._zod.def.shape,i=u({},r);if(n)for(const a in n){if(!(a in r))throw new Error('Unrecognized key: "'.concat(a,'"'));n[a]&&(i[a]=e?new e({type:"optional",innerType:r[a]}):r[a])}else for(const a in r)i[a]=e?new e({type:"optional",innerType:r[a]}):r[a];return JI(t,u(u({},t._zod.def),{},{shape:i,checks:[]}))}(fj,e,arguments.length<=0?void 0:arguments[0])},e.required=function(){return function(e,t,n){const r=t._zod.def.shape,i=u({},r);if(n)for(const a in n){if(!(a in i))throw new Error('Unrecognized key: "'.concat(a,'"'));n[a]&&(i[a]=new e({type:"nonoptional",innerType:r[a]}))}else for(const a in r)i[a]=new e({type:"nonoptional",innerType:r[a]});return JI(t,u(u({},t._zod.def),{},{shape:i,checks:[]}))}(vj,e,arguments.length<=0?void 0:arguments[0])}}));function ZR(e,t){const n=u({type:"object",get shape(){return VI(this,"shape",u({},e)),this.shape}},ZI(t));return new JR(n)}function XR(e,t){return new JR(u({type:"object",get shape(){return VI(this,"shape",u({},e)),this.shape},catchall:GR()},ZI(t)))}function $R(e,t){return new JR(u({type:"object",get shape(){return VI(this,"shape",u({},e)),this.shape},catchall:UR()},ZI(t)))}const QR=oP("ZodUnion",((e,t)=>{yL.init(e,t),lR.init(e,t),e.options=t.options}));function ej(e,t){return new QR(u({type:"union",options:e},ZI(t)))}const tj=oP("ZodDiscriminatedUnion",((e,t)=>{QR.init(e,t),bL.init(e,t)}));function nj(e,t,n){return new tj(u({type:"union",options:t,discriminator:e},ZI(n)))}const rj=oP("ZodIntersection",((e,t)=>{wL.init(e,t),lR.init(e,t)}));const ij=oP("ZodTuple",((e,t)=>{xL.init(e,t),lR.init(e,t),e.rest=t=>e.clone(u(u({},e._zod.def),{},{rest:t}))}));function aj(e,t,n){const r=t instanceof MB;return new ij(u({type:"tuple",items:e,rest:r?t:null},ZI(r?n:t)))}const oj=oP("ZodRecord",((e,t)=>{DL.init(e,t),lR.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}));function sj(e,t,n){return new oj(u({type:"record",keyType:e,valueType:t},ZI(n)))}const lj=oP("ZodEnum",((e,t)=>{TL.init(e,t),lR.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const i={};for(const a of e){if(!n.has(a))throw new Error("Key ".concat(a," not found in enum"));i[a]=t.entries[a]}return new lj(u(u(u({},t),{},{checks:[]},ZI(r)),{},{entries:i}))},e.exclude=(e,r)=>{const i=u({},t.entries);for(const t of e){if(!n.has(t))throw new Error("Key ".concat(t," not found in enum"));delete i[t]}return new lj(u(u(u({},t),{},{checks:[]},ZI(r)),{},{entries:i}))}}));function cj(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map((e=>[e,e]))):e;return new lj(u({type:"enum",entries:n},ZI(t)))}const uj=oP("ZodLiteral",((e,t)=>{AL.init(e,t),lR.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})}));function dj(e,t){return new uj(u({type:"literal",values:Array.isArray(e)?e:[e]},ZI(t)))}const hj=oP("ZodTransform",((e,t)=>{SL.init(e,t),lR.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=r=>{if("string"===typeof r)n.issues.push(rP(r,n.value,t));else{var i,a,o,s;const t=r;t.fatal&&(t.continue=!1),null!==(i=t.code)&&void 0!==i||(t.code="custom"),null!==(a=t.input)&&void 0!==a||(t.input=n.value),null!==(o=t.inst)&&void 0!==o||(t.inst=e),null!==(s=t.continue)&&void 0!==s||(t.continue=!0),n.issues.push(rP(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then((e=>(n.value=e,n))):(n.value=i,n)}}));function pj(e){return new hj({type:"transform",transform:e})}const fj=oP("ZodOptional",((e,t)=>{CL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function mj(e){return new fj({type:"optional",innerType:e})}const gj=oP("ZodNullable",((e,t)=>{EL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function yj(e){return new gj({type:"nullable",innerType:e})}const bj=oP("ZodDefault",((e,t)=>{FL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}));const wj=oP("ZodPrefault",((e,t)=>{IL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const vj=oP("ZodNonOptional",((e,t)=>{PL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const _j=oP("ZodCatch",((e,t)=>{NL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}));const xj=oP("ZodPipe",((e,t)=>{OL.init(e,t),lR.init(e,t),e.in=t.in,e.out=t.out}));function kj(e,t){return new xj({type:"pipe",in:e,out:t})}const Dj=oP("ZodReadonly",((e,t)=>{LL.init(e,t),lR.init(e,t)}));const Tj=oP("ZodLazy",((e,t)=>{jL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.getter()}));function Aj(e){return new Tj({type:"lazy",getter:e})}const Sj=oP("ZodCustom",((e,t)=>{VL.init(e,t),lR.init(e,t)}));function Cj(e,t){return function(e,t,n){var r;const i=ZI(n);return null!==(r=i.abort)&&void 0!==r||(i.abort=!0),new e(u({type:"custom",check:"custom",fn:t},i))}(Sj,null!==e&&void 0!==e?e:()=>!0,t)}function Ej(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{error:"Input not instance of ".concat(e.name)};const n=new Sj(u({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0},ZI(t)));return n._zod.bag.Class=e,n}var Fj=__webpack_require__(327);const Mj=["abortSignal"];var Ij,Pj,zj,Nj,Oj,Bj,Lj,Rj,jj,Vj,Wj,qj,Uj,Hj,Gj=Symbol.for("vercel.ai.gateway.error"),Kj=class e extends(Pj=Error,Ij=Gj,Pj){constructor(e){let{message:t,statusCode:n=500,cause:r}=e;super(t),this[Ij]=!0,this.statusCode=n,this.cause=r}static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return"object"===typeof e&&null!==e&&Gj in e&&!0===e[Gj]}},Yj="GatewayAuthenticationError",Jj="vercel.ai.gateway.error.".concat(Yj),Zj=Symbol.for(Jj),Xj=class e extends(Nj=Kj,zj=Zj,Nj){constructor(){let{message:e="Authentication failed",statusCode:t=401,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[zj]=!0,this.name=Yj,this.type="authentication_error"}static isInstance(e){return Kj.hasMarker(e)&&Zj in e}static createContextualError(t){let n,{apiKeyProvided:r,oidcTokenProvided:i,message:a="Authentication failed",statusCode:o=401,cause:s}=t;return n=r?"AI Gateway authentication failed: Invalid API key provided.\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":i?"AI Gateway authentication failed: Invalid OIDC token provided.\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed\n\nAlternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":"AI Gateway authentication failed: No authentication provided.\n\nProvide either an API key or OIDC token.\n\nAPI key instructions:\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOIDC token instructions:\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed",new e({message:n,statusCode:o,cause:s})}},$j="GatewayInvalidRequestError",Qj="vercel.ai.gateway.error.".concat($j),eV=Symbol.for(Qj),tV=class extends(Bj=Kj,Oj=eV,Bj){constructor(){let{message:e="Invalid request",statusCode:t=400,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Oj]=!0,this.name=$j,this.type="invalid_request_error"}static isInstance(e){return Kj.hasMarker(e)&&eV in e}},nV="GatewayRateLimitError",rV="vercel.ai.gateway.error.".concat(nV),iV=Symbol.for(rV),aV=class extends(Rj=Kj,Lj=iV,Rj){constructor(){let{message:e="Rate limit exceeded",statusCode:t=429,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Lj]=!0,this.name=nV,this.type="rate_limit_exceeded"}static isInstance(e){return Kj.hasMarker(e)&&iV in e}},oV="GatewayModelNotFoundError",sV="vercel.ai.gateway.error.".concat(oV),lV=Symbol.for(sV),cV=CN((()=>SO(ZR({modelId:dR()})))),uV=class extends(Vj=Kj,jj=lV,Vj){constructor(){let{message:e="Model not found",statusCode:t=404,modelId:n,cause:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:r}),this[jj]=!0,this.name=oV,this.type="model_not_found",this.modelId=n}static isInstance(e){return Kj.hasMarker(e)&&lV in e}},dV="GatewayInternalServerError",hV="vercel.ai.gateway.error.".concat(dV),pV=Symbol.for(hV),fV=class extends(qj=Kj,Wj=pV,qj){constructor(){let{message:e="Internal server error",statusCode:t=500,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Wj]=!0,this.name=dV,this.type="internal_server_error"}static isInstance(e){return Kj.hasMarker(e)&&pV in e}},mV="GatewayResponseError",gV="vercel.ai.gateway.error.".concat(mV),yV=Symbol.for(gV),bV=class extends(Hj=Kj,Uj=yV,Hj){constructor(){let{message:e="Invalid response from Gateway",statusCode:t=502,response:n,validationError:r,cause:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:i}),this[Uj]=!0,this.name=mV,this.type="response_error",this.response=n,this.validationError=r}static isInstance(e){return Kj.hasMarker(e)&&yV in e}};async function wV(e){let{response:t,statusCode:n,defaultMessage:r="Gateway request failed",cause:i,authMethod:a}=e;const o=await MN({value:t,schema:vV});if(!o.success)return new bV({message:"Invalid error response format: ".concat(r),statusCode:n,response:t,validationError:o.error,cause:i});const s=o.value,l=s.error.type,c=s.error.message;switch(l){case"authentication_error":return Xj.createContextualError({apiKeyProvided:"api-key"===a,oidcTokenProvided:"oidc"===a,statusCode:n,cause:i});case"invalid_request_error":return new tV({message:c,statusCode:n,cause:i});case"rate_limit_exceeded":return new aV({message:c,statusCode:n,cause:i});case"model_not_found":{const e=await MN({value:s.error.param,schema:cV});return new uV({message:c,statusCode:n,modelId:e.success?e.value.modelId:void 0,cause:i})}default:return new fV({message:c,statusCode:n,cause:i})}}var vV=CN((()=>SO(ZR({error:ZR({message:dR(),type:dR().nullish(),param:UR().nullish(),code:ej([dR(),zR()]).nullish()})}))));function _V(e,t){var n;return Kj.isInstance(e)?e:DM.isInstance(e)?wV({response:xV(e),statusCode:null!=(n=e.statusCode)?n:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):wV({response:{},statusCode:500,defaultMessage:e instanceof Error?"Gateway request failed: ".concat(e.message):"Unknown Gateway error",cause:e,authMethod:t})}function xV(e){if(void 0!==e.data)return e.data;if(null!=e.responseBody)try{return JSON.parse(e.responseBody)}catch(F){return e.responseBody}return{}}var kV="ai-gateway-auth-method";async function DV(e){const t=await MN({value:e[kV],schema:TV});return t.success?t.value:void 0}var TV=CN((()=>SO(ej([dj("api-key"),dj("oidc")])))),AV=class{constructor(e){this.config=e}async getAvailableModels(){try{const{value:e}=await wN({url:"".concat(this.config.baseURL,"/config"),headers:await VN(this.config.headers()),successfulResponseHandler:UN(SV),failedResponseHandler:WN({errorSchema:WR(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await _V(e)}}async getCredits(){try{const e=new URL(this.config.baseURL),{value:t}=await wN({url:"".concat(e.origin,"/v1/credits"),headers:await VN(this.config.headers()),successfulResponseHandler:UN(CV),failedResponseHandler:WN({errorSchema:WR(),errorToMessage:e=>e}),fetch:this.config.fetch});return t}catch(e){throw await _V(e)}}},SV=CN((()=>SO(ZR({models:YR(ZR({id:dR(),name:dR(),description:dR().nullish(),pricing:ZR({input:dR(),output:dR(),input_cache_read:dR().nullish(),input_cache_write:dR().nullish()}).transform((e=>{let{input:t,output:n,input_cache_read:r,input_cache_write:i}=e;return u(u({input:t,output:n},r?{cachedInputTokens:r}:{}),i?{cacheCreationInputTokens:i}:{})})).nullish(),specification:ZR({specificationVersion:dj("v2"),provider:dR(),modelId:dR()}),modelType:cj(["language","embedding","image"]).nullish()}))})))),CV=CN((()=>SO(ZR({balance:dR(),total_used:dR()}).transform((e=>{let{balance:t,total_used:n}=e;return{balance:t,totalUsed:n}}))))),EV=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){const{abortSignal:t}=e,n=a(e,Mj);return{args:this.maybeEncodeFileParts(n),warnings:[]}}async doGenerate(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,i=await VN(this.config.headers());try{const{responseHeaders:a,value:o,rawValue:s}=await BN(u(u({url:this.getUrl(),headers:oN(i,e.headers,this.getModelConfigHeaders(this.modelId,!1),await VN(this.config.o11yHeaders)),body:t,successfulResponseHandler:UN(WR()),failedResponseHandler:WN({errorSchema:WR(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return u(u({},o),{},{request:{body:t},response:{headers:a,body:s},warnings:n})}catch(a){throw await _V(a,await DV(i))}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,i=await VN(this.config.headers());try{const{value:a,responseHeaders:o}=await BN(u(u({url:this.getUrl(),headers:oN(i,e.headers,this.getModelConfigHeaders(this.modelId,!0),await VN(this.config.o11yHeaders)),body:t,successfulResponseHandler:qN(WR()),failedResponseHandler:WN({errorSchema:WR(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return{stream:a.pipeThrough(new TransformStream({start(e){n.length>0&&e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(t.success){const r=t.value;if("raw"===r.type&&!e.includeRawChunks)return;"response-metadata"===r.type&&r.timestamp&&"string"===typeof r.timestamp&&(r.timestamp=new Date(r.timestamp)),n.enqueue(r)}else n.error(t.error)}})),request:{body:t},response:{headers:o}}}catch(a){throw await _V(a,await DV(i))}}isFilePart(e){return e&&"object"===typeof e&&"type"in e&&"file"===e.type}maybeEncodeFileParts(e){for(const t of e.prompt)for(const e of t.content)if(this.isFilePart(e)){const t=e;if(t.data instanceof Uint8Array){const e=Uint8Array.from(t.data),n=Buffer.from(e).toString("base64");t.data=new URL("data:".concat(t.mediaType||"application/octet-stream",";base64,").concat(n))}}return e}getUrl(){return"".concat(this.config.baseURL,"/language-model")}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},FV=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:r,providerOptions:i}=e;var a;const o=await VN(this.config.headers());try{const{responseHeaders:e,value:s,rawValue:l}=await BN(u(u({url:this.getUrl(),headers:oN(o,null!=n?n:{},this.getModelConfigHeaders(),await VN(this.config.o11yHeaders)),body:u({input:1===t.length?t[0]:t},i?{providerOptions:i}:{}),successfulResponseHandler:UN(MV),failedResponseHandler:WN({errorSchema:WR(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return{embeddings:s.embeddings,usage:null!=(a=s.usage)?a:void 0,providerMetadata:s.providerMetadata,response:{headers:e,body:l}}}catch(s){throw await _V(s,await DV(o))}}getUrl(){return"".concat(this.config.baseURL,"/embedding-model")}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},MV=CN((()=>SO(ZR({embeddings:YR(YR(zR())),usage:ZR({tokens:zR()}).nullish(),providerMetadata:sj(dR(),sj(dR(),UR())).optional()}))));var IV=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;let r=null,i=null;const a=null!=(t=e.metadataCacheRefreshMillis)?t:3e5;let o=0;const s=null!=(n=BO(e.baseURL))?n:"https://ai-gateway.vercel.sh/v1/ai",l=async()=>{const t=await async function(e){const t=xN({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await(0,Fj.getVercelOidcToken)(),authMethod:"oidc"}}catch(F){return null}}(e);if(t)return gN(u({Authorization:"Bearer ".concat(t.token),"ai-gateway-protocol-version":"0.0.1",[kV]:t.authMethod},e.headers),"ai-sdk/gateway/".concat("1.0.40"));throw Xj.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},c=()=>{const e=xN({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),t=xN({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),n=xN({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{const r=await async function(){var e;return null==(e=(0,Fj.getContext)().headers)?void 0:e["x-vercel-id"]}();return u(u(u(u({},e&&{"ai-o11y-deployment-id":e}),t&&{"ai-o11y-environment":t}),n&&{"ai-o11y-region":n}),r&&{"ai-o11y-request-id":r})}},d=t=>new EV(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:c()}),h=function(e){if(new.target)throw new Error("The Gateway Provider model function cannot be called with the new keyword.");return d(e)};return h.getAvailableModels=async()=>{var t,n,c;const u=null!=(c=null==(n=null==(t=e._internal)?void 0:t.currentDate)?void 0:n.call(t).getTime())?c:Date.now();return(!r||u-o>a)&&(o=u,r=new AV({baseURL:s,headers:l,fetch:e.fetch}).getAvailableModels().then((e=>(i=e,e))).catch((async e=>{throw await _V(e,await DV(await l()))}))),i?Promise.resolve(i):r},h.getCredits=async()=>new AV({baseURL:s,headers:l,fetch:e.fetch}).getCredits().catch((async e=>{throw await _V(e,await DV(await l()))})),h.imageModel=e=>{throw new hI({modelId:e,modelType:"imageModel"})},h.languageModel=d,h.textEmbeddingModel=t=>new FV(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:c()}),h}();var PV="object"===typeof globalThis?globalThis:"object"===typeof self?self:"object"===typeof window?window:"object"===typeof __webpack_require__.g?__webpack_require__.g:{},zV="1.9.0",NV=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var OV=function(e){var t=new Set([e]),n=new Set,r=e.match(NV);if(!r)return function(){return!1};var i=+r[1],a=+r[2],o=+r[3];if(null!=r[4])return function(t){return t===e};function s(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(NV);if(!r)return s(e);var c=+r[1],u=+r[2],d=+r[3];return null!=r[4]||i!==c?s(e):0===i?a===u&&o<=d?l(e):s(e):a<=u?l(e):s(e)}}(zV),BV=zV.split(".")[0],LV=Symbol.for("opentelemetry.js.api."+BV),RV=PV;function jV(e,t,n,r){var i;void 0===r&&(r=!1);var a=RV[LV]=null!==(i=RV[LV])&&void 0!==i?i:{version:zV};if(!r&&a[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(o.stack||o.message),!1}if(a.version!==zV){o=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+zV);return n.error(o.stack||o.message),!1}return a[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+zV+"."),!0}function VV(e){var t,n,r=null===(t=RV[LV])||void 0===t?void 0:t.version;if(r&&OV(r))return null===(n=RV[LV])||void 0===n?void 0:n[e]}function WV(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+zV+".");var n=RV[LV];n&&delete n[e]}var qV,UV=function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},HV=new UV,GV=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},KV=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},YV=function(){function e(){}return e.prototype.active=function(){return HV},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,KV([n],GV(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),JV=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},ZV=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},XV=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("verbose",this._namespace,e)},e}();function $V(e,t,n){var r=VV("diag");if(r)return n.unshift(t),r[e].apply(r,ZV([],JV(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(qV||(qV={}));var QV,eW=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},tW=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},nW=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=VV("diag");if(r)return r[e].apply(r,tW([],eW(t),!1))}}var t=this;t.setLogger=function(e,n){var r,i,a;if(void 0===n&&(n={logLevel:qV.INFO}),e===t){var o=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=o.stack)&&void 0!==r?r:o.message),!1}"number"===typeof n&&(n={logLevel:n});var s=VV("diag"),l=function(e,t){function n(n,r){var i=t[n];return"function"===typeof i&&e>=r?i.bind(t):function(){}}return e<qV.NONE?e=qV.NONE:e>qV.ALL&&(e=qV.ALL),t=t||{},{error:n("error",qV.ERROR),warn:n("warn",qV.WARN),info:n("info",qV.INFO),debug:n("debug",qV.DEBUG),verbose:n("verbose",qV.VERBOSE)}}(null!==(i=n.logLevel)&&void 0!==i?i:qV.INFO,e);if(s&&!n.suppressOverrideMessage){var c=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";s.warn("Current logger will be overwritten from "+c),l.warn("Current logger will overwrite one already registered from "+c)}return jV("diag",l,t,!0)},t.disable=function(){WV("diag",t)},t.createComponentLogger=function(e){return new XV(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),rW=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},iW=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},aW="context",oW=new YV,sW=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return jV(aW,e,nW.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(r=this._getContextManager()).with.apply(r,iW([e,t,n],rW(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return VV(aW)||oW},e.prototype.disable=function(){this._getContextManager().disable(),WV(aW,nW.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(QV||(QV={}));var lW,cW="0000000000000000",uW="00000000000000000000000000000000",dW={traceId:uW,spanId:cW,traceFlags:QV.NONE},hW=function(){function e(e){void 0===e&&(e=dW),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),pW=(lW="OpenTelemetry Context Key SPAN",Symbol.for(lW));function fW(e){return e.getValue(pW)||void 0}function mW(){return fW(sW.getInstance().active())}function gW(e,t){return e.setValue(pW,t)}function yW(e){return e.deleteValue(pW)}function bW(e,t){return gW(e,new hW(t))}function wW(e){var t;return null===(t=fW(e))||void 0===t?void 0:t.spanContext()}var vW=/^([0-9a-f]{32})$/i,_W=/^[0-9a-f]{16}$/i;function xW(e){return n=e.traceId,vW.test(n)&&n!==uW&&(t=e.spanId,_W.test(t)&&t!==cW);var t,n}function kW(e){return new hW(e)}var DW=sW.getInstance(),TW=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=DW.active()),Boolean(null===t||void 0===t?void 0:t.root))return new hW;var r,i=n&&wW(n);return"object"===typeof(r=i)&&"string"===typeof r.spanId&&"string"===typeof r.traceId&&"number"===typeof r.traceFlags&&xW(i)?new hW(i):new hW},e.prototype.startActiveSpan=function(e,t,n,r){var i,a,o;if(!(arguments.length<2)){2===arguments.length?o=t:3===arguments.length?(i=t,o=n):(i=t,a=n,o=r);var s=null!==a&&void 0!==a?a:DW.active(),l=this.startSpan(e,i,s),c=gW(s,l);return DW.with(c,o,void 0,l)}},e}();var AW,SW=new TW,CW=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):SW},e}(),EW=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new TW},e}()),FW=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new CW(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:EW},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}(),MW="trace",IW=function(){function e(){this._proxyTracerProvider=new FW,this.wrapSpanContext=kW,this.isSpanContextValid=xW,this.deleteSpan=yW,this.getSpan=fW,this.getActiveSpan=mW,this.getSpanContext=wW,this.setSpan=gW,this.setSpanContext=bW}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=jV(MW,this._proxyTracerProvider,nW.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return VV(MW)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){WV(MW,nW.instance()),this._proxyTracerProvider=new FW},e}(),PW=IW.getInstance();!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(AW||(AW={}));const zW=["model","tools","toolChoice","system","prompt","messages","maxRetries","abortSignal","headers","stopWhen","experimental_output","experimental_telemetry","providerOptions","experimental_activeTools","activeTools","experimental_prepareStep","prepareStep","experimental_repairToolCall","experimental_download","experimental_context","_internal","onStepFinish"];var NW,OW=Object.defineProperty,BW="AI_NoOutputSpecifiedError",LW="vercel.ai.error.".concat(BW),RW=Symbol.for(LW),jW=class extends vM{constructor(){let{message:e="No output specified."}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:BW,message:e}),this[NW]=!0}static isInstance(e){return vM.hasMarker(e,LW)}};function VW(e){const t="AI SDK Warning:";switch(e.type){case"unsupported-setting":{let n="".concat(t,' The "').concat(e.setting,'" setting is not supported by this model');return e.details&&(n+=" - ".concat(e.details)),n}case"unsupported-tool":{const n="name"in e.tool?e.tool.name:"unknown tool";let r="".concat(t,' The tool "').concat(n,'" is not supported by this model');return e.details&&(r+=" - ".concat(e.details)),r}case"other":return"".concat(t," ").concat(e.message);default:return"".concat(t," ").concat(JSON.stringify(e,null,2))}}NW=RW;var WW,qW=!1,UW=e=>{if(0===e.length)return;const t=globalThis.AI_SDK_LOG_WARNINGS;if(!1!==t)if("function"!==typeof t){qW||(qW=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false."));for(const t of e)console.warn(VW(t))}else t(e)},HW="AI_InvalidArgumentError",GW="vercel.ai.error.".concat(HW),KW=Symbol.for(GW),YW=class extends vM{constructor(e){let{parameter:t,value:n,message:r}=e;super({name:HW,message:"Invalid argument for parameter ".concat(t,": ").concat(r)}),this[WW]=!0,this.parameter=t,this.value=n}static isInstance(e){return vM.hasMarker(e,GW)}};WW=KW;var JW="AI_InvalidStreamPartError",ZW="vercel.ai.error.".concat(JW),XW=Symbol.for(ZW);var $W,QW="AI_InvalidToolInputError",eq="vercel.ai.error.".concat(QW),tq=Symbol.for(eq),nq=class extends vM{constructor(e){let{toolInput:t,toolName:n,cause:r,message:i="Invalid input for tool ".concat(n,": ").concat(FM(r))}=e;super({name:QW,message:i,cause:r}),this[$W]=!0,this.toolInput=t,this.toolName=n}static isInstance(e){return vM.hasMarker(e,eq)}};$W=tq;var rq="vercel.ai.error.".concat("AI_MCPClientError"),iq=Symbol.for(rq);var aq="AI_NoImageGeneratedError",oq="vercel.ai.error.".concat(aq),sq=Symbol.for(oq);var lq,cq="AI_NoObjectGeneratedError",uq="vercel.ai.error.".concat(cq),dq=Symbol.for(uq),hq=class extends vM{constructor(e){let{message:t="No object generated.",cause:n,text:r,response:i,usage:a,finishReason:o}=e;super({name:cq,message:t,cause:n}),this[lq]=!0,this.text=r,this.response=i,this.usage=a,this.finishReason=o}static isInstance(e){return vM.hasMarker(e,uq)}};lq=dq;var pq="AI_NoOutputGeneratedError",fq="vercel.ai.error.".concat(pq),mq=Symbol.for(fq);var gq,yq="AI_NoSuchToolError",bq="vercel.ai.error.".concat(yq),wq=Symbol.for(bq),vq=class extends vM{constructor(e){let{toolName:t,availableTools:n,message:r="Model tried to call unavailable tool '".concat(t,"'. ").concat(void 0===n?"No tools are available.":"Available tools: ".concat(n.join(", "),"."))}=e;super({name:yq,message:r}),this[gq]=!0,this.toolName=t,this.availableTools=n}static isInstance(e){return vM.hasMarker(e,bq)}};gq=wq;var _q,xq="AI_ToolCallRepairError",kq="vercel.ai.error.".concat(xq),Dq=Symbol.for(kq),Tq=class extends vM{constructor(e){let{cause:t,originalError:n,message:r="Error repairing tool call: ".concat(FM(t))}=e;super({name:xq,message:r,cause:t}),this[_q]=!0,this.originalError=n}static isInstance(e){return vM.hasMarker(e,kq)}};_q=Dq;var Aq=class extends vM{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:"Unsupported model version ".concat(e.version,' for provider "').concat(e.provider,'" and model "').concat(e.modelId,'". AI SDK 5 only supports models that implement specification version "v2".')}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},Sq="AI_InvalidDataContentError",Cq="vercel.ai.error.".concat(Sq),Eq=Symbol.for(Cq);var Fq,Mq="AI_InvalidMessageRoleError",Iq="vercel.ai.error.".concat(Mq),Pq=Symbol.for(Iq),zq=class extends vM{constructor(e){let{role:t,message:n="Invalid message role: '".concat(t,'\'. Must be one of: "system", "user", "assistant", "tool".')}=e;super({name:Mq,message:n}),this[Fq]=!0,this.role=t}static isInstance(e){return vM.hasMarker(e,Iq)}};Fq=Pq;var Nq="AI_MessageConversionError",Oq="vercel.ai.error.".concat(Nq),Bq=Symbol.for(Oq);var Lq,Rq="AI_DownloadError",jq="vercel.ai.error.".concat(Rq),Vq=Symbol.for(jq),Wq=class extends vM{constructor(e){let{url:t,statusCode:n,statusText:r,cause:i,message:a=(null==i?"Failed to download ".concat(t,": ").concat(n," ").concat(r):"Failed to download ".concat(t,": ").concat(i))}=e;super({name:Rq,message:a,cause:i}),this[Lq]=!0,this.url=t,this.statusCode=n,this.statusText=r}static isInstance(e){return vM.hasMarker(e,jq)}};Lq=Vq;var qq,Uq="AI_RetryError",Hq="vercel.ai.error.".concat(Uq),Gq=Symbol.for(Hq),Kq=class extends vM{constructor(e){let{message:t,reason:n,errors:r}=e;super({name:Uq,message:t}),this[qq]=!0,this.reason=n,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return vM.hasMarker(e,Hq)}};function Yq(e){if("string"!==typeof e){if("v2"!==e.specificationVersion)throw new Aq({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return Jq().languageModel(e)}function Jq(){var e;return null!=(e=globalThis.AI_SDK_DEFAULT_PROVIDER)?e:IV}qq=Gq;var Zq=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}];function Xq(e){return"string"===typeof e&&e.startsWith("SUQz")||"string"!==typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?(e=>{const t="string"===typeof e?zO(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)})(e):e}function $q(e){let{data:t,signatures:n}=e;const r=Xq(t),i="string"===typeof r?zO(r.substring(0,Math.min(r.length,24))):r;for(const a of n)if(i.length>=a.bytesPrefix.length&&a.bytesPrefix.every(((e,t)=>null===e||i[t]===e)))return a.mediaType}var Qq="5.0.71",eU=async e=>{let{url:t}=e;var n;const r=t.toString();try{const e=await fetch(r,{headers:gN({},"ai-sdk/".concat(Qq),mN())});if(!e.ok)throw new Wq({url:r,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mediaType:null!=(n=e.headers.get("content-type"))?n:void 0}}catch(i){if(Wq.isInstance(i))throw i;throw new Wq({url:r,cause:i})}},tU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eU;return t=>Promise.all(t.map((async t=>t.isUrlSupportedByModel?null:e(t))))};var nU=ej([dR(),Ej(Uint8Array),Ej(ArrayBuffer),Cj((e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n}),{message:"Must be a Buffer"})]);function rU(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if("string"===typeof e)try{e=new URL(e)}catch(t){}if(e instanceof URL&&"data:"===e.protocol){const{mediaType:n,base64Content:r}=function(e){try{const[t,n]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:n}}catch(t){return{mediaType:void 0,base64Content:void 0}}}(e.toString());if(null==n||null==r)throw new vM({name:"InvalidDataContentError",message:"Invalid data URL format in content ".concat(e.toString())});return{data:r,mediaType:n}}return{data:e,mediaType:void 0}}async function iU(e){let{prompt:t,supportedUrls:n,download:r=tU()}=e;const i=await async function(e,t,n){const r=e.filter((e=>"user"===e.role)).map((e=>e.content)).filter((e=>Array.isArray(e))).flat().filter((e=>"image"===e.type||"file"===e.type)).map((e=>{var t;const n=null!=(t=e.mediaType)?t:"image"===e.type?"image/*":void 0;let r="image"===e.type?e.image:e.data;if("string"===typeof r)try{r=new URL(r)}catch(i){}return{mediaType:n,data:r}})).filter((e=>e.data instanceof URL)).map((e=>({url:e.data,isUrlSupportedByModel:null!=e.mediaType&&vN({url:e.data.toString(),mediaType:e.mediaType,supportedUrls:n})}))),i=await t(r);return Object.fromEntries(i.map(((e,t)=>null==e?null:[r[t].url.toString(),{data:e.data,mediaType:e.mediaType}])).filter((e=>null!=e)))}(t.messages,r,n);return[...null!=t.system?[{role:"system",content:t.system}]:[],...t.messages.map((e=>function(e){let{message:t,downloadedAssets:n}=e;const r=t.role;switch(r){case"system":return{role:"system",content:t.content,providerOptions:t.providerOptions};case"user":return"string"===typeof t.content?{role:"user",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"user",content:t.content.map((e=>function(e,t){var n;if("text"===e.type)return{type:"text",text:e.text,providerOptions:e.providerOptions};let r;const i=e.type;switch(i){case"image":r=e.image;break;case"file":r=e.data;break;default:throw new Error("Unsupported part type: ".concat(i))}const{data:a,mediaType:o}=rU(r);let s=null!=o?o:e.mediaType,l=a;if(l instanceof URL){const e=t[l.toString()];e&&(l=e.data,null!=s||(s=e.mediaType))}switch(i){case"image":return(l instanceof Uint8Array||"string"===typeof l)&&(s=null!=(n=$q({data:l,signatures:Zq}))?n:s),{type:"file",mediaType:null!=s?s:"image/*",filename:void 0,data:l,providerOptions:e.providerOptions};case"file":if(null==s)throw new Error("Media type is missing for file part");return{type:"file",mediaType:s,filename:e.filename,data:l,providerOptions:e.providerOptions}}}(e,n))).filter((e=>"text"!==e.type||""!==e.text)),providerOptions:t.providerOptions};case"assistant":return"string"===typeof t.content?{role:"assistant",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"assistant",content:t.content.filter((e=>"text"!==e.type||""!==e.text||null!=e.providerOptions)).map((e=>{const t=e.providerOptions;switch(e.type){case"file":{const{data:n,mediaType:r}=rU(e.data);return{type:"file",data:n,filename:e.filename,mediaType:null!=r?r:e.mediaType,providerOptions:t}}case"reasoning":return{type:"reasoning",text:e.text,providerOptions:t};case"text":return{type:"text",text:e.text,providerOptions:t};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:t};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:t}}})),providerOptions:t.providerOptions};case"tool":return{role:"tool",content:t.content.map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:e.providerOptions}))),providerOptions:t.providerOptions};default:throw new zq({role:r})}}({message:e,downloadedAssets:i})))]}function aU(e){let{maxOutputTokens:t,temperature:n,topP:r,topK:i,presencePenalty:a,frequencyPenalty:o,seed:s,stopSequences:l}=e;if(null!=t){if(!Number.isInteger(t))throw new YW({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be an integer"});if(t<1)throw new YW({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be >= 1"})}if(null!=n&&"number"!==typeof n)throw new YW({parameter:"temperature",value:n,message:"temperature must be a number"});if(null!=r&&"number"!==typeof r)throw new YW({parameter:"topP",value:r,message:"topP must be a number"});if(null!=i&&"number"!==typeof i)throw new YW({parameter:"topK",value:i,message:"topK must be a number"});if(null!=a&&"number"!==typeof a)throw new YW({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(null!=o&&"number"!==typeof o)throw new YW({parameter:"frequencyPenalty",value:o,message:"frequencyPenalty must be a number"});if(null!=s&&!Number.isInteger(s))throw new YW({parameter:"seed",value:s,message:"seed must be an integer"});return{maxOutputTokens:t,temperature:n,topP:r,topK:i,presencePenalty:a,frequencyPenalty:o,stopSequences:l,seed:s}}function oU(e){let{tools:t,toolChoice:n,activeTools:r}=e;if(!(null!=(i=t)&&Object.keys(i).length>0))return{tools:void 0,toolChoice:void 0};var i;return{tools:(null!=r?Object.entries(t).filter((e=>{let[t]=e;return r.includes(t)})):Object.entries(t)).map((e=>{let[t,n]=e;const r=n.type;switch(r){case void 0:case"dynamic":case"function":return{type:"function",name:t,description:n.description,inputSchema:MO(n.inputSchema).jsonSchema,providerOptions:n.providerOptions};case"provider-defined":return{type:"provider-defined",name:t,id:n.id,args:n.args};default:throw new Error("Unsupported tool type: ".concat(r))}})),toolChoice:null==n?{type:"auto"}:"string"===typeof n?{type:n}:{type:"tool",toolName:n.toolName}}}var sU=Aj((()=>ej([jR(),dR(),zR(),LR(),sj(dR(),sU),YR(sU)]))),lU=sj(dR(),sj(dR(),sU)),cU=ZR({type:dj("text"),text:dR(),providerOptions:lU.optional()}),uU=ZR({type:dj("image"),image:ej([nU,Ej(URL)]),mediaType:dR().optional(),providerOptions:lU.optional()}),dU=ZR({type:dj("file"),data:ej([nU,Ej(URL)]),filename:dR().optional(),mediaType:dR(),providerOptions:lU.optional()}),hU=ZR({type:dj("reasoning"),text:dR(),providerOptions:lU.optional()}),pU=ZR({type:dj("tool-call"),toolCallId:dR(),toolName:dR(),input:UR(),providerOptions:lU.optional(),providerExecuted:LR().optional()}),fU=nj("type",[ZR({type:dj("text"),value:dR()}),ZR({type:dj("json"),value:sU}),ZR({type:dj("error-text"),value:dR()}),ZR({type:dj("error-json"),value:sU}),ZR({type:dj("content"),value:YR(ej([ZR({type:dj("text"),text:dR()}),ZR({type:dj("media"),data:dR(),mediaType:dR()})]))})]),mU=ZR({type:dj("tool-result"),toolCallId:dR(),toolName:dR(),output:fU,providerOptions:lU.optional()}),gU=ZR({role:dj("system"),content:dR(),providerOptions:lU.optional()}),yU=ZR({role:dj("user"),content:ej([dR(),YR(ej([cU,uU,dU]))]),providerOptions:lU.optional()}),bU=ZR({role:dj("assistant"),content:ej([dR(),YR(ej([cU,dU,hU,pU,mU]))]),providerOptions:lU.optional()}),wU=ZR({role:dj("tool"),content:YR(mU),providerOptions:lU.optional()}),vU=ej([gU,yU,bU,wU]);async function _U(e){if(null==e.prompt&&null==e.messages)throw new jM({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new jM({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!==typeof e.system)throw new jM({prompt:e,message:"system must be a string"});let t;if(null!=e.prompt&&"string"===typeof e.prompt)t=[{role:"user",content:e.prompt}];else if(null!=e.prompt&&Array.isArray(e.prompt))t=e.prompt;else{if(null==e.messages)throw new jM({prompt:e,message:"prompt or messages must be defined"});t=e.messages}if(0===t.length)throw new jM({prompt:e,message:"messages must not be empty"});const n=await MN({value:t,schema:YR(vU)});if(!n.success)throw new jM({prompt:e,message:"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",cause:n.error});return{messages:t,system:e.system}}function xU(e){return Xj.isInstance(e)||uV.isInstance(e)?new vM({name:"GatewayError",message:"Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",cause:e}):e}function kU(e){let{operationId:t,telemetry:n}=e;return{"operation.name":"".concat(t).concat(null!=(null==n?void 0:n.functionId)?" ".concat(n.functionId):""),"resource.name":null==n?void 0:n.functionId,"ai.operationId":t,"ai.telemetry.functionId":null==n?void 0:n.functionId}}function DU(e){let{model:t,settings:n,telemetry:r,headers:i}=e;var a;return u(u(u({"ai.model.provider":t.provider,"ai.model.id":t.modelId},Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return e["ai.settings.".concat(n)]=r,e}),{})),Object.entries(null!=(a=null==r?void 0:r.metadata)?a:{}).reduce(((e,t)=>{let[n,r]=t;return e["ai.telemetry.metadata.".concat(n)]=r,e}),{})),Object.entries(null!=i?i:{}).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e["ai.request.headers.".concat(n)]=r),e}),{}))}var TU={startSpan:()=>AU,startActiveSpan:(e,t,n,r)=>"function"===typeof t?t(AU):"function"===typeof n?n(AU):"function"===typeof r?r(AU):void 0},AU={spanContext:()=>SU,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},SU={traceId:"",spanId:"",traceFlags:0};function CU(){let{isEnabled:e=!1,tracer:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?t||PW.getTracer("ai"):TU}function EU(e){let{name:t,tracer:n,attributes:r,fn:i,endWhenDone:a=!0}=e;return n.startActiveSpan(t,{attributes:r},(async e=>{try{const t=await i(e);return a&&e.end(),t}catch(t){try{FU(e,t)}finally{e.end()}throw t}}))}function FU(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:AW.ERROR,message:t.message})):e.setStatus({code:AW.ERROR})}function MU(e){let{telemetry:t,attributes:n}=e;return!0!==(null==t?void 0:t.isEnabled)?{}:Object.entries(n).reduce(((e,n)=>{let[r,i]=n;if(null==i)return e;if("object"===typeof i&&"input"in i&&"function"===typeof i.input){if(!1===(null==t?void 0:t.recordInputs))return e;const n=i.input();return null==n?e:u(u({},e),{},{[r]:n})}if("object"===typeof i&&"output"in i&&"function"===typeof i.output){if(!1===(null==t?void 0:t.recordOutputs))return e;const n=i.output();return null==n?e:u(u({},e),{},{[r]:n})}return u(u({},e),{},{[r]:i})}),{})}function IU(e){return JSON.stringify(e.map((e=>u(u({},e),{},{content:"string"===typeof e.content?e.content:e.content.map((e=>{return"file"===e.type?u(u({},e),{},{data:e.data instanceof Uint8Array?(t=e.data,"string"===typeof t?t:t instanceof ArrayBuffer?NO(new Uint8Array(t)):NO(t)):e.data}):e;var t}))}))))}function PU(e,t){return{inputTokens:zU(e.inputTokens,t.inputTokens),outputTokens:zU(e.outputTokens,t.outputTokens),totalTokens:zU(e.totalTokens,t.totalTokens),reasoningTokens:zU(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:zU(e.cachedInputTokens,t.cachedInputTokens)}}function zU(e,t){return null==e&&null==t?void 0:(null!=e?e:0)+(null!=t?t:0)}function NU(e){return void 0===e?[]:Array.isArray(e)?e:[e]}var OU=function(){let{maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2,abortSignal:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async i=>BU(i,{maxRetries:e,delayInMs:t,backoffFactor:n,abortSignal:r})};async function BU(e,t){let{maxRetries:n,delayInMs:r,backoffFactor:i,abortSignal:a}=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{return await e()}catch(s){if(hN(s))throw s;if(0===n)throw s;const t=dN(s),l=[...o,s],c=l.length;if(c>n)throw new Kq({message:"Failed after ".concat(c," attempts. Last error: ").concat(t),reason:"maxRetriesExceeded",errors:l});if(s instanceof Error&&DM.isInstance(s)&&!0===s.isRetryable&&c<=n)return await async function(e,t){if(null==e)return Promise.resolve();const n=null==t?void 0:t.abortSignal;return new Promise(((t,r)=>{if(null==n?void 0:n.aborted)return void r(sN());const i=setTimeout((()=>{a(),t()}),e),a=()=>{clearTimeout(i),null==n||n.removeEventListener("abort",o)},o=()=>{a(),r(sN())};null==n||n.addEventListener("abort",o)}))}(function(e){let{error:t,exponentialBackoffDelay:n}=e;const r=t.responseHeaders;if(!r)return n;let i;const a=r["retry-after-ms"];if(a){const e=parseFloat(a);Number.isNaN(e)||(i=e)}const o=r["retry-after"];if(o&&void 0===i){const e=parseFloat(o);i=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}return null!=i&&!Number.isNaN(i)&&0<=i&&(i<6e4||i<n)?i:n}({error:s,exponentialBackoffDelay:r}),{abortSignal:a}),BU(e,{maxRetries:n,delayInMs:i*r,backoffFactor:i,abortSignal:a},l);if(1===c)throw s;throw new Kq({message:"Failed after ".concat(c," attempts with non-retryable error: '").concat(t,"'"),reason:"errorNotRetryable",errors:l})}}function LU(e){let{maxRetries:t,abortSignal:n}=e;if(null!=t){if(!Number.isInteger(t))throw new YW({parameter:"maxRetries",value:t,message:"maxRetries must be an integer"});if(t<0)throw new YW({parameter:"maxRetries",value:t,message:"maxRetries must be >= 0"})}const r=null!=t?t:2;return{maxRetries:r,retry:OU({maxRetries:r,abortSignal:n})}}function RU(e){const t=e.filter((e=>"text"===e.type));if(0!==t.length)return t.map((e=>e.text)).join("")}var jU=class{constructor(e){let{data:t,mediaType:n}=e;const r=t instanceof Uint8Array;this.base64Data=r?void 0:t,this.uint8ArrayData=r?t:void 0,this.mediaType=n}get base64(){return null==this.base64Data&&(this.base64Data=NO(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=zO(this.base64Data)),this.uint8ArrayData}};async function VU(e){let{toolCall:t,tools:n,repairToolCall:r,system:i,messages:a}=e;try{if(null==n)throw new vq({toolName:t.toolName});try{return await WU({toolCall:t,tools:n})}catch(o){if(null==r||!vq.isInstance(o)&&!nq.isInstance(o))throw o;let e=null;try{e=await r({toolCall:t,tools:n,inputSchema:e=>{let{toolName:t}=e;const{inputSchema:r}=n[t];return MO(r).jsonSchema},system:i,messages:a,error:o})}catch(s){throw new Tq({cause:s,originalError:o})}if(null==e)throw o;return await WU({toolCall:e,tools:n})}}catch(o){const e=await IN({text:t.input}),n=e.success?e.value:t.input;return{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:n,dynamic:!0,invalid:!0,error:o}}}async function WU(e){let{toolCall:t,tools:n}=e;const r=t.toolName,i=n[r];if(null==i)throw new vq({toolName:t.toolName,availableTools:Object.keys(n)});const a=MO(i.inputSchema),o=""===t.input.trim()?await MN({value:{},schema:a}):await IN({text:t.input,schema:a});if(!1===o.success)throw new nq({toolName:r,toolInput:t.input,cause:o.error});return"dynamic"===i.type?{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:o.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata,dynamic:!0}:{type:"tool-call",toolCallId:t.toolCallId,toolName:r,input:o.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata}}var qU=class{constructor(e){let{content:t,finishReason:n,usage:r,warnings:i,request:a,response:o,providerMetadata:s}=e;this.content=t,this.finishReason=n,this.usage=r,this.warnings=i,this.request=a,this.response=o,this.providerMetadata=s}get text(){return this.content.filter((e=>"text"===e.type)).map((e=>e.text)).join("")}get reasoning(){return this.content.filter((e=>"reasoning"===e.type))}get reasoningText(){return 0===this.reasoning.length?void 0:this.reasoning.map((e=>e.text)).join("")}get files(){return this.content.filter((e=>"file"===e.type)).map((e=>e.file))}get sources(){return this.content.filter((e=>"source"===e.type))}get toolCalls(){return this.content.filter((e=>"tool-call"===e.type))}get staticToolCalls(){return this.toolCalls.filter((e=>!0!==e.dynamic))}get dynamicToolCalls(){return this.toolCalls.filter((e=>!0===e.dynamic))}get toolResults(){return this.content.filter((e=>"tool-result"===e.type))}get staticToolResults(){return this.toolResults.filter((e=>!0!==e.dynamic))}get dynamicToolResults(){return this.toolResults.filter((e=>!0===e.dynamic))}};function UU(e){return t=>{let{steps:n}=t;return n.length===e}}async function HU(e){let{stopConditions:t,steps:n}=e;return(await Promise.all(t.map((e=>e({steps:n}))))).some((e=>e))}function GU(e){let{output:t,tool:n,errorMode:r}=e;return"text"===r?{type:"error-text",value:FM(t)}:"json"===r?{type:"error-json",value:KU(t)}:(null==n?void 0:n.toModelOutput)?n.toModelOutput(t):"string"===typeof t?{type:"text",value:t}:{type:"json",value:KU(t)}}function KU(e){return void 0===e?null:e}function YU(e){let{content:t,tools:n}=e;const r=[],i=t.filter((e=>"source"!==e.type)).filter((e=>("tool-result"!==e.type||e.providerExecuted)&&("tool-error"!==e.type||e.providerExecuted))).filter((e=>"text"!==e.type||e.text.length>0)).map((e=>{switch(e.type){case"text":return{type:"text",text:e.text,providerOptions:e.providerMetadata};case"reasoning":return{type:"reasoning",text:e.text,providerOptions:e.providerMetadata};case"file":return{type:"file",data:e.file.base64,mediaType:e.file.mediaType,providerOptions:e.providerMetadata};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:e.providerMetadata};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:GU({tool:null==n?void 0:n[e.toolName],output:e.output,errorMode:"none"}),providerExecuted:!0,providerOptions:e.providerMetadata};case"tool-error":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:GU({tool:null==n?void 0:n[e.toolName],output:e.error,errorMode:"json"}),providerOptions:e.providerMetadata}}}));i.length>0&&r.push({role:"assistant",content:i});const a=t.filter((e=>"tool-result"===e.type||"tool-error"===e.type)).filter((e=>!e.providerExecuted)).map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:GU({tool:null==n?void 0:n[e.toolName],output:"tool-result"===e.type?e.output:e.error,errorMode:"tool-error"===e.type?"text":"none"})})));return a.length>0&&r.push({role:"tool",content:a}),r}var JU=cN({prefix:"aitxt",size:24});async function ZU(e){let{model:t,tools:n,toolChoice:r,system:i,prompt:o,messages:s,maxRetries:l,abortSignal:c,headers:d,stopWhen:h=UU(1),experimental_output:p,experimental_telemetry:f,providerOptions:m,experimental_activeTools:g,activeTools:y=g,experimental_prepareStep:b,prepareStep:w=b,experimental_repairToolCall:v,experimental_download:_,experimental_context:x,_internal:{generateId:k=JU,currentDate:D=()=>new Date}={},onStepFinish:T}=e,A=a(e,zW);const S=Yq(t),C=NU(h),{maxRetries:E,retry:F}=LU({maxRetries:l,abortSignal:c}),M=aU(A),I=gN(null!=d?d:{},"ai/".concat(Qq)),P=DU({model:S,telemetry:f,headers:I,settings:u(u({},M),{},{maxRetries:E})}),z=await _U({system:i,prompt:o,messages:s}),N=CU(f);try{return await EU({name:"ai.generateText",attributes:MU({telemetry:f,attributes:u(u(u({},kU({operationId:"ai.generateText",telemetry:f})),P),{},{"ai.model.provider":S.provider,"ai.model.id":S.modelId,"ai.prompt":{input:()=>JSON.stringify({system:i,prompt:o,messages:s})}})}),tracer:N,fn:async e=>{var t,a,o,s,l,d,h;const g=aU(A);let b,E=[],M=[];const O=[],B=[];do{const e=[...z.messages,...O],C=await(null==w?void 0:w({model:S,steps:B,stepNumber:B.length,messages:e})),L=Yq(null!=(t=null==C?void 0:C.model)?t:S),R=await iU({prompt:{system:null!=(a=null==C?void 0:C.system)?a:z.system,messages:null!=(o=null==C?void 0:C.messages)?o:e},supportedUrls:await L.supportedUrls,download:_}),{toolChoice:j,tools:V}=oU({tools:n,toolChoice:null!=(s=null==C?void 0:C.toolChoice)?s:r,activeTools:null!=(l=null==C?void 0:C.activeTools)?l:y});b=await F((()=>{var e;return EU({name:"ai.generateText.doGenerate",attributes:MU({telemetry:f,attributes:u(u(u({},kU({operationId:"ai.generateText.doGenerate",telemetry:f})),P),{},{"ai.model.provider":L.provider,"ai.model.id":L.modelId,"ai.prompt.messages":{input:()=>IU(R)},"ai.prompt.tools":{input:()=>null==V?void 0:V.map((e=>JSON.stringify(e)))},"ai.prompt.toolChoice":{input:()=>null!=j?JSON.stringify(j):void 0},"gen_ai.system":L.provider,"gen_ai.request.model":L.modelId,"gen_ai.request.frequency_penalty":A.frequencyPenalty,"gen_ai.request.max_tokens":A.maxOutputTokens,"gen_ai.request.presence_penalty":A.presencePenalty,"gen_ai.request.stop_sequences":A.stopSequences,"gen_ai.request.temperature":null!=(e=A.temperature)?e:void 0,"gen_ai.request.top_k":A.topK,"gen_ai.request.top_p":A.topP})}),tracer:N,fn:async e=>{var t,n,r,i,a,o,s,l;const d=await L.doGenerate(u(u({},g),{},{tools:V,toolChoice:j,responseFormat:null==p?void 0:p.responseFormat,prompt:R,providerOptions:m,abortSignal:c,headers:I})),h={id:null!=(n=null==(t=d.response)?void 0:t.id)?n:k(),timestamp:null!=(i=null==(r=d.response)?void 0:r.timestamp)?i:D(),modelId:null!=(o=null==(a=d.response)?void 0:a.modelId)?o:L.modelId,headers:null==(s=d.response)?void 0:s.headers,body:null==(l=d.response)?void 0:l.body};return e.setAttributes(MU({telemetry:f,attributes:{"ai.response.finishReason":d.finishReason,"ai.response.text":{output:()=>RU(d.content)},"ai.response.toolCalls":{output:()=>{const e=QU(d.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.id":h.id,"ai.response.model":h.modelId,"ai.response.timestamp":h.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(d.providerMetadata),"ai.usage.promptTokens":d.usage.inputTokens,"ai.usage.completionTokens":d.usage.outputTokens,"gen_ai.response.finish_reasons":[d.finishReason],"gen_ai.response.id":h.id,"gen_ai.response.model":h.modelId,"gen_ai.usage.input_tokens":d.usage.inputTokens,"gen_ai.usage.output_tokens":d.usage.outputTokens}})),u(u({},d),{},{response:h})}})}));const W=await Promise.all(b.content.filter((e=>"tool-call"===e.type)).map((t=>VU({toolCall:t,tools:n,repairToolCall:v,system:i,messages:e}))));for(const t of W){if(t.invalid)continue;const r=n[t.toolName];null!=(null==r?void 0:r.onInputAvailable)&&await r.onInputAvailable({input:t.input,toolCallId:t.toolCallId,messages:e,abortSignal:c,experimental_context:x})}const q=W.filter((e=>e.invalid&&e.dynamic));M=[];for(const t of q)M.push({type:"tool-error",toolCallId:t.toolCallId,toolName:t.toolName,input:t.input,error:dN(t.error),dynamic:!0});E=W.filter((e=>!e.providerExecuted)),null!=n&&M.push(...await XU({toolCalls:E.filter((e=>!e.invalid)),tools:n,tracer:N,telemetry:f,messages:e,abortSignal:c,experimental_context:x}));const U=eH({content:b.content,toolCalls:W,toolOutputs:M});O.push(...YU({content:U,tools:n}));const H=new qU({content:U,finishReason:b.finishReason,usage:b.usage,warnings:b.warnings,providerMetadata:b.providerMetadata,request:null!=(d=b.request)?d:{},response:u(u({},b.response),{},{messages:structuredClone(O)})});UW(null!=(h=b.warnings)?h:[]),B.push(H),await(null==T?void 0:T(H))}while(E.length>0&&M.length===E.length&&!await HU({stopConditions:C,steps:B}));e.setAttributes(MU({telemetry:f,attributes:{"ai.response.finishReason":b.finishReason,"ai.response.text":{output:()=>RU(b.content)},"ai.response.toolCalls":{output:()=>{const e=QU(b.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.providerMetadata":JSON.stringify(b.providerMetadata),"ai.usage.promptTokens":b.usage.inputTokens,"ai.usage.completionTokens":b.usage.outputTokens}}));const L=B[B.length-1];let R;return"stop"===L.finishReason&&(R=await(null==p?void 0:p.parseOutput({text:L.text},{response:L.response,usage:L.usage,finishReason:L.finishReason}))),new $U({steps:B,resolvedOutput:R})}})}catch(O){throw xU(O)}}async function XU(e){let{toolCalls:t,tools:n,tracer:r,telemetry:i,messages:a,abortSignal:o,experimental_context:s}=e;const l=await Promise.all(t.map((async e=>{let{toolCallId:t,toolName:l,input:c}=e;const d=n[l];if(null!=(null==d?void 0:d.execute))return EU({name:"ai.toolCall",attributes:MU({telemetry:i,attributes:u(u({},kU({operationId:"ai.toolCall",telemetry:i})),{},{"ai.toolCall.name":l,"ai.toolCall.id":t,"ai.toolCall.args":{output:()=>JSON.stringify(c)}})}),tracer:r,fn:async e=>{try{const g=function(e){return LO.apply(this,arguments)}({execute:d.execute.bind(d),input:c,options:{toolCallId:t,messages:a,abortSignal:o,experimental_context:s}});let y;var n,r=!1,u=!1;try{for(var h,p=uM(g);r=!(h=await p.next()).done;r=!1){const e=h.value;"final"===e.type&&(y=e.output)}}catch(f){u=!0,n=f}finally{try{r&&null!=p.return&&await p.return()}finally{if(u)throw n}}try{e.setAttributes(MU({telemetry:i,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(y)}}}))}catch(m){}return{type:"tool-result",toolCallId:t,toolName:l,input:c,output:y,dynamic:"dynamic"===d.type}}catch(g){return FU(e,g),{type:"tool-error",toolCallId:t,toolName:l,input:c,error:g,dynamic:"dynamic"===d.type}}}})})));return l.filter((e=>null!=e))}var $U=class{constructor(e){this.steps=e.steps,this.resolvedOutput=e.resolvedOutput}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get totalUsage(){return this.steps.reduce(((e,t)=>PU(e,t.usage)),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0})}get experimental_output(){if(null==this.resolvedOutput)throw new jW;return this.resolvedOutput}};function QU(e){const t=e.filter((e=>"tool-call"===e.type));if(0!==t.length)return t.map((e=>({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input})))}function eH(e){let{content:t,toolCalls:n,toolOutputs:r}=e;return[...t.map((e=>{switch(e.type){case"text":case"reasoning":case"source":return e;case"file":return{type:"file",file:new jU(e)};case"tool-call":return n.find((t=>t.toolCallId===e.toolCallId));case"tool-result":{const t=n.find((t=>t.toolCallId===e.toolCallId));if(null==t)throw new Error("Tool call ".concat(e.toolCallId," not found."));return e.isError?{type:"tool-error",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,error:e.result,providerExecuted:!0,dynamic:t.dynamic}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,output:e.result,providerExecuted:!0,dynamic:t.dynamic}}}})),...r]}TransformStream;CN((()=>SO(ej([XR({type:dj("text-start"),id:dR(),providerMetadata:lU.optional()}),XR({type:dj("text-delta"),id:dR(),delta:dR(),providerMetadata:lU.optional()}),XR({type:dj("text-end"),id:dR(),providerMetadata:lU.optional()}),XR({type:dj("error"),errorText:dR()}),XR({type:dj("tool-input-start"),toolCallId:dR(),toolName:dR(),providerExecuted:LR().optional(),dynamic:LR().optional()}),XR({type:dj("tool-input-delta"),toolCallId:dR(),inputTextDelta:dR()}),XR({type:dj("tool-input-available"),toolCallId:dR(),toolName:dR(),input:UR(),providerExecuted:LR().optional(),providerMetadata:lU.optional(),dynamic:LR().optional()}),XR({type:dj("tool-input-error"),toolCallId:dR(),toolName:dR(),input:UR(),providerExecuted:LR().optional(),providerMetadata:lU.optional(),dynamic:LR().optional(),errorText:dR()}),XR({type:dj("tool-output-available"),toolCallId:dR(),output:UR(),providerExecuted:LR().optional(),dynamic:LR().optional(),preliminary:LR().optional()}),XR({type:dj("tool-output-error"),toolCallId:dR(),errorText:dR(),providerExecuted:LR().optional(),dynamic:LR().optional()}),XR({type:dj("reasoning-start"),id:dR(),providerMetadata:lU.optional()}),XR({type:dj("reasoning-delta"),id:dR(),delta:dR(),providerMetadata:lU.optional()}),XR({type:dj("reasoning-end"),id:dR(),providerMetadata:lU.optional()}),XR({type:dj("source-url"),sourceId:dR(),url:dR(),title:dR().optional(),providerMetadata:lU.optional()}),XR({type:dj("source-document"),sourceId:dR(),mediaType:dR(),title:dR(),filename:dR().optional(),providerMetadata:lU.optional()}),XR({type:dj("file"),url:dR(),mediaType:dR(),providerMetadata:lU.optional()}),XR({type:Cj((e=>"string"===typeof e&&e.startsWith("data-")),{message:'Type must start with "data-"'}),id:dR().optional(),data:UR(),transient:LR().optional()}),XR({type:dj("start-step")}),XR({type:dj("finish-step")}),XR({type:dj("start"),messageId:dR().optional(),messageMetadata:UR().optional()}),XR({type:dj("finish"),messageMetadata:UR().optional()}),XR({type:dj("abort")}),XR({type:dj("message-metadata"),messageMetadata:UR()})]))));function tH(e){const t=["ROOT"];let n=-1,r=null;function i(e,i,a){switch(e){case'"':n=i,t.pop(),t.push(a),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=i,r=i,t.pop(),t.push(a),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(a),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=i,t.pop(),t.push(a),t.push("INSIDE_NUMBER");break;case"{":n=i,t.pop(),t.push(a),t.push("INSIDE_OBJECT_START");break;case"[":n=i,t.pop(),t.push(a),t.push("INSIDE_ARRAY_START")}}function a(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function o(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let l=0;l<e.length;l++){const s=e[l];switch(t[t.length-1]){case"ROOT":i(s,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(s){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===s)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":i(s,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":a(s,l);break;case"INSIDE_STRING":switch(s){case'"':t.pop(),n=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=l}break;case"INSIDE_ARRAY_START":if("]"===s)n=l,t.pop();else n=l,i(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(s){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=l,t.pop();break;default:n=l}break;case"INSIDE_ARRAY_AFTER_COMMA":i(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=l;break;case"INSIDE_NUMBER":switch(s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(s,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&a(s,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&a(s,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{const i=e.substring(r,l+1);"false".startsWith(i)||"true".startsWith(i)||"null".startsWith(i)?n=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?a(s,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(s,l));break}}}let s=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--){switch(t[l]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}}return s}async function nH(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await IN({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await IN({text:tH(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}cN({prefix:"aitxt",size:24});cN({prefix:"aiobj",size:24});cN({prefix:"aiobj",size:24});((e,t)=>{for(var n in t)OW(e,n,{get:t[n],enumerable:!0})})({},{object:()=>iH,text:()=>rH});var rH=()=>({type:"text",responseFormat:{type:"text"},async parsePartial(e){let{text:t}=e;return{partial:t}},async parseOutput(e){let{text:t}=e;return t}}),iH=e=>{let{schema:t}=e;const n=MO(t);return{type:"object",responseFormat:{type:"json",schema:n.jsonSchema},async parsePartial(e){let{text:t}=e;const n=await nH(t);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const e=n.state;throw new Error("Unsupported parse state: ".concat(e))}}},async parseOutput(e,t){let{text:r}=e;const i=await IN({text:r});if(!i.success)throw new hq({message:"No object generated: could not parse the response.",cause:i.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});const a=await MN({value:i.value,schema:n});if(!a.success)throw new hq({message:"No object generated: response did not match schema.",cause:a.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});return a.value}}};var aH="AI_NoSuchProviderError",oH="vercel.ai.error.".concat(aH),sH=Symbol.for(oH);var lH=$R({name:dR(),version:dR()}),cH=$R({_meta:mj(ZR({}).loose())}),uH=cH,dH=ZR({method:dR(),params:mj(cH)}),hH=$R({experimental:mj(ZR({}).loose()),logging:mj(ZR({}).loose()),prompts:mj($R({listChanged:mj(LR())})),resources:mj($R({subscribe:mj(LR()),listChanged:mj(LR())})),tools:mj($R({listChanged:mj(LR())}))}),pH=(uH.extend({protocolVersion:dR(),capabilities:hH,serverInfo:lH,instructions:mj(dR())}),uH.extend({nextCursor:mj(dR())})),fH=ZR({name:dR(),description:mj(dR()),inputSchema:ZR({type:dj("object"),properties:mj(ZR({}).loose())}).loose()}).loose(),mH=(pH.extend({tools:YR(fH)}),ZR({type:dj("text"),text:dR()}).loose()),gH=ZR({type:dj("image"),data:ER(),mimeType:dR()}).loose(),yH=ZR({uri:dR(),mimeType:mj(dR())}).loose(),bH=yH.extend({text:dR()}),wH=yH.extend({blob:ER()}),vH=ZR({type:dj("resource"),resource:ej([bH,wH])}).loose(),_H=(uH.extend({content:YR(ej([mH,gH,vH])),isError:LR().default(!1).optional()}).or(uH.extend({toolResult:UR()})),"2.0"),xH=ZR({jsonrpc:dj(_H),id:ej([dR(),zR().int()])}).merge(dH).strict(),kH=ZR({jsonrpc:dj(_H),id:ej([dR(),zR().int()]),result:uH}).strict(),DH=ZR({jsonrpc:dj(_H),id:ej([dR(),zR().int()]),error:ZR({code:zR().int(),message:dR(),data:mj(UR())})}).strict();ej([xH,ZR({jsonrpc:dj(_H)}).merge(ZR({method:dR(),params:mj(cH)})).strict(),kH,DH]);CN((()=>SO(YR(ZR({id:dR(),role:cj(["system","user","assistant"]),metadata:UR().optional(),parts:YR(ej([ZR({type:dj("text"),text:dR(),state:cj(["streaming","done"]).optional(),providerMetadata:lU.optional()}),ZR({type:dj("reasoning"),text:dR(),state:cj(["streaming","done"]).optional(),providerMetadata:lU.optional()}),ZR({type:dj("source-url"),sourceId:dR(),url:dR(),title:dR().optional(),providerMetadata:lU.optional()}),ZR({type:dj("source-document"),sourceId:dR(),mediaType:dR(),title:dR(),filename:dR().optional(),providerMetadata:lU.optional()}),ZR({type:dj("file"),mediaType:dR(),filename:dR().optional(),url:dR(),providerMetadata:lU.optional()}),ZR({type:dj("step-start")}),ZR({type:dR().startsWith("data-"),id:dR().optional(),data:UR()}),ZR({type:dj("dynamic-tool"),toolName:dR(),toolCallId:dR(),state:dj("input-streaming"),input:UR().optional(),output:GR().optional(),errorText:GR().optional()}),ZR({type:dj("dynamic-tool"),toolName:dR(),toolCallId:dR(),state:dj("input-available"),input:UR(),output:GR().optional(),errorText:GR().optional(),callProviderMetadata:lU.optional()}),ZR({type:dj("dynamic-tool"),toolName:dR(),toolCallId:dR(),state:dj("output-available"),input:UR(),output:UR(),errorText:GR().optional(),callProviderMetadata:lU.optional(),preliminary:LR().optional()}),ZR({type:dj("dynamic-tool"),toolName:dR(),toolCallId:dR(),state:dj("output-error"),input:UR(),output:GR().optional(),errorText:dR(),callProviderMetadata:lU.optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("input-streaming"),providerExecuted:LR().optional(),input:UR().optional(),output:GR().optional(),errorText:GR().optional(),approval:GR().optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("input-available"),providerExecuted:LR().optional(),input:UR(),output:GR().optional(),errorText:GR().optional(),callProviderMetadata:lU.optional(),approval:GR().optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("approval-requested"),input:UR(),providerExecuted:LR().optional(),output:GR().optional(),errorText:GR().optional(),callProviderMetadata:lU.optional(),approval:ZR({id:dR(),approved:GR().optional(),reason:GR().optional()})}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("approval-responded"),input:UR(),providerExecuted:LR().optional(),output:GR().optional(),errorText:GR().optional(),callProviderMetadata:lU.optional(),approval:ZR({id:dR(),approved:LR(),reason:dR().optional()})}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("output-available"),providerExecuted:LR().optional(),input:UR(),output:UR(),errorText:GR().optional(),callProviderMetadata:lU.optional(),preliminary:LR().optional(),approval:ZR({id:dR(),approved:dj(!0),reason:dR().optional()}).optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("output-error"),providerExecuted:LR().optional(),input:UR(),output:GR().optional(),errorText:dR(),callProviderMetadata:lU.optional(),approval:ZR({id:dR(),approved:dj(!0),reason:dR().optional()}).optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("output-denied"),providerExecuted:LR().optional(),input:UR(),output:GR().optional(),errorText:GR().optional(),callProviderMetadata:lU.optional(),approval:ZR({id:dR(),approved:dj(!1),reason:dR().optional()})})]))})))));class TH{constructor(e,t,n){this.apiKey=null,this.modelId=void 0,this.provider=null,this.config=void 0,this.config=e,this.apiKey=n||null,this.modelId=t||e.defaultModel}setModel(e){this.modelId=e,this.provider=null}getApiKey(e,t){let n=iM(e)||this.apiKey;return n||(n=prompt(t)||"",n&&function(e,t){const n=new URLSearchParams(window.location.search);n.set(e,encodeURIComponent(t));const r="".concat(window.location.pathname,"?").concat(n.toString());window.history.pushState({},"",r)}(e,n)),n}getProvider(){if(!this.provider){const e=this.config.name,t="".concat(e.toLowerCase().replace(/\s+/g,"_"),"_api_key"),n="Please enter your ".concat(e," API key:"),r=this.getApiKey(t,n);if(!r)throw new Error("".concat(e," API key is required"));this.provider=this.config.createProvider(r.trim())}return this.provider}async generateCompletions(e,t,n){try{const r=this.getProvider()(this.modelId),i=this.config.name;console.log("Calling ".concat(i," API via Vercel AI SDK"),e,t,n,"with model:",this.modelId);const a=Array.from({length:n},(()=>ZU({model:r,messages:[{role:"system",content:"You are a helpful assistant. Answer in at most one short sentence."},{role:"user",content:e}],temperature:t})));return(await Promise.all(a)).map((e=>e.text))}catch(r){const e=r instanceof Error?r.message:String(r);return console.error("Error generating completions with ".concat(this.config.name,":"),r),alert("Error calling ".concat(this.config.name," API: ").concat(e,"\n\nPlease check your API key and model selection, then try again.")),[]}}validateApiKey(e){return null!==e&&e.trim().length>0}}function AH(e){return function(e,t){return new e(u({type:"number",coerce:!0,checks:[]},ZI(t)))}(PR,e)}var SH=ZR({error:ZR({message:dR(),type:dR().nullish(),param:WR().nullish(),code:ej([dR(),zR()]).nullish()})}),CH=WN({errorSchema:SH,errorToMessage:e=>e.error.message});function EH(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function FH(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var MH=CN((()=>SO(ZR({id:dR().nullish(),created:zR().nullish(),model:dR().nullish(),choices:YR(ZR({message:ZR({role:dj("assistant").nullish(),content:dR().nullish(),tool_calls:YR(ZR({id:dR().nullish(),type:dj("function"),function:ZR({name:dR(),arguments:dR()})})).nullish(),annotations:YR(ZR({type:dj("url_citation"),start_index:zR(),end_index:zR(),url:dR(),title:dR()})).nullish()}),index:zR(),logprobs:ZR({content:YR(ZR({token:dR(),logprob:zR(),top_logprobs:YR(ZR({token:dR(),logprob:zR()}))})).nullish()}).nullish(),finish_reason:dR().nullish()})),usage:ZR({prompt_tokens:zR().nullish(),completion_tokens:zR().nullish(),total_tokens:zR().nullish(),prompt_tokens_details:ZR({cached_tokens:zR().nullish()}).nullish(),completion_tokens_details:ZR({reasoning_tokens:zR().nullish(),accepted_prediction_tokens:zR().nullish(),rejected_prediction_tokens:zR().nullish()}).nullish()}).nullish()})))),IH=CN((()=>SO(ej([ZR({id:dR().nullish(),created:zR().nullish(),model:dR().nullish(),choices:YR(ZR({delta:ZR({role:cj(["assistant"]).nullish(),content:dR().nullish(),tool_calls:YR(ZR({index:zR(),id:dR().nullish(),type:dj("function").nullish(),function:ZR({name:dR().nullish(),arguments:dR().nullish()})})).nullish(),annotations:YR(ZR({type:dj("url_citation"),start_index:zR(),end_index:zR(),url:dR(),title:dR()})).nullish()}).nullish(),logprobs:ZR({content:YR(ZR({token:dR(),logprob:zR(),top_logprobs:YR(ZR({token:dR(),logprob:zR()}))})).nullish()}).nullish(),finish_reason:dR().nullish(),index:zR()})),usage:ZR({prompt_tokens:zR().nullish(),completion_tokens:zR().nullish(),total_tokens:zR().nullish(),prompt_tokens_details:ZR({cached_tokens:zR().nullish()}).nullish(),completion_tokens_details:ZR({reasoning_tokens:zR().nullish(),accepted_prediction_tokens:zR().nullish(),rejected_prediction_tokens:zR().nullish()}).nullish()}).nullish()}),SH])))),PH=CN((()=>SO(ZR({logitBias:sj(AH(),zR()).optional(),logprobs:ej([LR(),zR()]).optional(),parallelToolCalls:LR().optional(),user:dR().optional(),reasoningEffort:cj(["minimal","low","medium","high"]).optional(),maxCompletionTokens:zR().optional(),store:LR().optional(),metadata:sj(dR().max(64),dR().max(512)).optional(),prediction:sj(dR(),WR()).optional(),structuredOutputs:LR().optional(),serviceTier:cj(["auto","flex","priority","default"]).optional(),strictJsonSchema:LR().optional(),textVerbosity:cj(["low","medium","high"]).optional(),promptCacheKey:dR().optional(),safetyIdentifier:dR().optional()}))));var zH=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:i,topK:a,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:c,seed:d,tools:h,toolChoice:p,providerOptions:f}=e;var m,g,y,b;const w=[],v=null!=(m=await NN({provider:"openai",providerOptions:f,schema:PH}))?m:{},_=null==(g=v.structuredOutputs)||g;null!=a&&w.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==c?void 0:c.type)||null==c.schema||_||w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const{messages:x,warnings:k}=function(e){let{prompt:t,systemMessageMode:n="system"}=e;const r=[],i=[];for(const{role:a,content:o}of t)switch(a){case"system":switch(n){case"system":r.push({role:"system",content:o});break;case"developer":r.push({role:"developer",content:o});break;case"remove":i.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":if(1===o.length&&"text"===o[0].type){r.push({role:"user",content:o[0].text});break}r.push({role:"user",content:o.map(((e,t)=>{var n,r,i;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():"data:".concat(t,";base64,").concat(OO(e.data)),detail:null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.imageDetail}}}if(!e.mediaType.startsWith("audio/")){if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new SI({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"===typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(i=e.filename)?i:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(OO(e.data))}}}throw new SI({functionality:"file part media type ".concat(e.mediaType)})}if(e.data instanceof URL)throw new SI({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:OO(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:OO(e.data),format:"mp3"}};default:throw new SI({functionality:"audio content parts with media type ".concat(e.mediaType)})}}}))});break;case"assistant":{let e="";const t=[];for(const n of o)switch(n.type){case"text":e+=n.text;break;case"tool-call":t.push({id:n.toolCallId,type:"function",function:{name:n.toolName,arguments:JSON.stringify(n.input)}})}r.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(const e of o){const t=e.output;let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"content":case"json":case"error-json":n=JSON.stringify(t.value)}r.push({role:"tool",tool_call_id:e.toolCallId,content:n})}break;default:throw new Error("Unsupported role: ".concat(a))}return{messages:r,warnings:i}}({prompt:t,systemMessageMode:OH(this.modelId)});w.push(...k);const D=null!=(y=v.strictJsonSchema)&&y,T={model:this.modelId,logit_bias:v.logitBias,logprobs:!0===v.logprobs||"number"===typeof v.logprobs||void 0,top_logprobs:"number"===typeof v.logprobs?v.logprobs:"boolean"===typeof v.logprobs&&v.logprobs?0:void 0,user:v.user,parallel_tool_calls:v.parallelToolCalls,max_tokens:n,temperature:r,top_p:i,frequency_penalty:o,presence_penalty:s,response_format:"json"===(null==c?void 0:c.type)?_&&null!=c.schema?{type:"json_schema",json_schema:{schema:c.schema,strict:D,name:null!=(b=c.name)?b:"response",description:c.description}}:{type:"json_object"}:void 0,stop:l,seed:d,verbosity:v.textVerbosity,max_completion_tokens:v.maxCompletionTokens,store:v.store,metadata:v.metadata,prediction:v.prediction,reasoning_effort:v.reasoningEffort,service_tier:v.serviceTier,prompt_cache_key:v.promptCacheKey,safety_identifier:v.safetyIdentifier,messages:x};NH(this.modelId)?(null!=T.temperature&&(T.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=T.top_p&&(T.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=T.frequency_penalty&&(T.frequency_penalty=void 0,w.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=T.presence_penalty&&(T.presence_penalty=void 0,w.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=T.logit_bias&&(T.logit_bias=void 0,w.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=T.logprobs&&(T.logprobs=void 0,w.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=T.top_logprobs&&(T.top_logprobs=void 0,w.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=T.max_tokens&&(null==T.max_completion_tokens&&(T.max_completion_tokens=T.max_tokens),T.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=T.temperature&&(T.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==v.serviceTier||function(e){return e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat")}(this.modelId)||(w.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),T.service_tier=void 0),"priority"!==v.serviceTier||function(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}(this.modelId)||(w.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),T.service_tier=void 0);const{tools:A,toolChoice:S,toolWarnings:C}=function(e){let{tools:t,toolChoice:n,structuredOutputs:r,strictJsonSchema:i}=e;t=(null==t?void 0:t.length)?t:void 0;const a=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:a};const o=[];for(const l of t)"function"===l.type?o.push({type:"function",function:{name:l.name,description:l.description,parameters:l.inputSchema,strict:r?i:void 0}}):a.push({type:"unsupported-tool",tool:l});if(null==n)return{tools:o,toolChoice:void 0,toolWarnings:a};const s=n.type;switch(s){case"auto":case"none":case"required":return{tools:o,toolChoice:s,toolWarnings:a};case"tool":return{tools:o,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:a};default:throw new SI({functionality:"tool choice type: ".concat(s)})}}({tools:h,toolChoice:p,structuredOutputs:_,strictJsonSchema:D});return{args:u(u({},T),{},{tools:A,tool_choice:S}),warnings:[...w,...C]}}async doGenerate(e){var t,n,r,i,a,o,s,l,c,d,h,p,f,m;const{args:g,warnings:y}=await this.getArgs(e),{responseHeaders:b,value:w,rawValue:v}=await BN({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:g,failedResponseHandler:CH,successfulResponseHandler:UN(MH),abortSignal:e.abortSignal,fetch:this.config.fetch}),_=w.choices[0],x=[],k=_.message.content;null!=k&&k.length>0&&x.push({type:"text",text:k});for(const u of null!=(t=_.message.tool_calls)?t:[])x.push({type:"tool-call",toolCallId:null!=(n=u.id)?n:uN(),toolName:u.function.name,input:u.function.arguments});for(const u of null!=(r=_.message.annotations)?r:[])x.push({type:"source",sourceType:"url",id:uN(),url:u.url,title:u.title});const D=null==(i=w.usage)?void 0:i.completion_tokens_details,T=null==(a=w.usage)?void 0:a.prompt_tokens_details,A={openai:{}};return null!=(null==D?void 0:D.accepted_prediction_tokens)&&(A.openai.acceptedPredictionTokens=null==D?void 0:D.accepted_prediction_tokens),null!=(null==D?void 0:D.rejected_prediction_tokens)&&(A.openai.rejectedPredictionTokens=null==D?void 0:D.rejected_prediction_tokens),null!=(null==(o=_.logprobs)?void 0:o.content)&&(A.openai.logprobs=_.logprobs.content),{content:x,finishReason:FH(_.finish_reason),usage:{inputTokens:null!=(l=null==(s=w.usage)?void 0:s.prompt_tokens)?l:void 0,outputTokens:null!=(d=null==(c=w.usage)?void 0:c.completion_tokens)?d:void 0,totalTokens:null!=(p=null==(h=w.usage)?void 0:h.total_tokens)?p:void 0,reasoningTokens:null!=(f=null==D?void 0:D.reasoning_tokens)?f:void 0,cachedInputTokens:null!=(m=null==T?void 0:T.cached_tokens)?m:void 0},request:{body:g},response:u(u({},EH(w)),{},{headers:b,body:v}),warnings:y,providerMetadata:A}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=u(u({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:i,value:a}=await BN({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:r,failedResponseHandler:CH,successfulResponseHandler:qN(IH),abortSignal:e.abortSignal,fetch:this.config.fetch}),o=[];let s="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0,d=!1;const h={openai:{}};return{stream:a.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var r,i,a,p,f,m,g,y,b,w,v,_,x,k,D,T,A,S,C,E,F,M,I,P;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return s="error",void n.enqueue({type:"error",error:t.error});const z=t.value;if("error"in z)return s="error",void n.enqueue({type:"error",error:z.error});c&&(c=!1,n.enqueue(u({type:"response-metadata"},EH(z)))),null!=z.usage&&(l.inputTokens=null!=(r=z.usage.prompt_tokens)?r:void 0,l.outputTokens=null!=(i=z.usage.completion_tokens)?i:void 0,l.totalTokens=null!=(a=z.usage.total_tokens)?a:void 0,l.reasoningTokens=null!=(f=null==(p=z.usage.completion_tokens_details)?void 0:p.reasoning_tokens)?f:void 0,l.cachedInputTokens=null!=(g=null==(m=z.usage.prompt_tokens_details)?void 0:m.cached_tokens)?g:void 0,null!=(null==(y=z.usage.completion_tokens_details)?void 0:y.accepted_prediction_tokens)&&(h.openai.acceptedPredictionTokens=null==(b=z.usage.completion_tokens_details)?void 0:b.accepted_prediction_tokens),null!=(null==(w=z.usage.completion_tokens_details)?void 0:w.rejected_prediction_tokens)&&(h.openai.rejectedPredictionTokens=null==(v=z.usage.completion_tokens_details)?void 0:v.rejected_prediction_tokens));const N=z.choices[0];if(null!=(null==N?void 0:N.finish_reason)&&(s=FH(N.finish_reason)),null!=(null==(_=null==N?void 0:N.logprobs)?void 0:_.content)&&(h.openai.logprobs=N.logprobs.content),null==(null==N?void 0:N.delta))return;const O=N.delta;if(null!=O.content&&(d||(n.enqueue({type:"text-start",id:"0"}),d=!0),n.enqueue({type:"text-delta",id:"0",delta:O.content})),null!=O.tool_calls)for(const e of O.tool_calls){const t=e.index;if(null==o[t]){if("function"!==e.type)throw new HM({data:e,message:"Expected 'function' type."});if(null==e.id)throw new HM({data:e,message:"Expected 'id' to be a string."});if(null==(null==(x=e.function)?void 0:x.name))throw new HM({data:e,message:"Expected 'function.name' to be a string."});n.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),o[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(k=e.function.arguments)?k:""},hasFinished:!1};const r=o[t];null!=(null==(D=r.function)?void 0:D.name)&&null!=(null==(T=r.function)?void 0:T.arguments)&&(r.function.arguments.length>0&&n.enqueue({type:"tool-input-delta",id:r.id,delta:r.function.arguments}),PN(r.function.arguments)&&(n.enqueue({type:"tool-input-end",id:r.id}),n.enqueue({type:"tool-call",toolCallId:null!=(A=r.id)?A:uN(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0));continue}const r=o[t];r.hasFinished||(null!=(null==(S=e.function)?void 0:S.arguments)&&(r.function.arguments+=null!=(E=null==(C=e.function)?void 0:C.arguments)?E:""),n.enqueue({type:"tool-input-delta",id:r.id,delta:null!=(F=e.function.arguments)?F:""}),null!=(null==(M=r.function)?void 0:M.name)&&null!=(null==(I=r.function)?void 0:I.arguments)&&PN(r.function.arguments)&&(n.enqueue({type:"tool-input-end",id:r.id}),n.enqueue({type:"tool-call",toolCallId:null!=(P=r.id)?P:uN(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0))}if(null!=O.annotations)for(const e of O.annotations)n.enqueue({type:"source",sourceType:"url",id:uN(),url:e.url,title:e.title})},flush(e){d&&e.enqueue({type:"text-end",id:"0"}),e.enqueue(u({type:"finish",finishReason:s,usage:l},null!=h?{providerMetadata:h}:{}))}})),request:{body:r},response:{headers:i}}}};function NH(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}function OH(e){var t,n;return NH(e)?null!=(n=null==(t=BH[e])?void 0:t.systemMessageMode)?n:"developer":"system"}var BH={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function LH(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function RH(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var jH=CN((()=>SO(ZR({id:dR().nullish(),created:zR().nullish(),model:dR().nullish(),choices:YR(ZR({text:dR(),finish_reason:dR(),logprobs:ZR({tokens:YR(dR()),token_logprobs:YR(zR()),top_logprobs:YR(sj(dR(),zR())).nullish()}).nullish()})),usage:ZR({prompt_tokens:zR(),completion_tokens:zR(),total_tokens:zR()}).nullish()})))),VH=CN((()=>SO(ej([ZR({id:dR().nullish(),created:zR().nullish(),model:dR().nullish(),choices:YR(ZR({text:dR(),finish_reason:dR().nullish(),index:zR(),logprobs:ZR({tokens:YR(dR()),token_logprobs:YR(zR()),top_logprobs:YR(sj(dR(),zR())).nullish()}).nullish()})),usage:ZR({prompt_tokens:zR(),completion_tokens:zR(),total_tokens:zR()}).nullish()}),SH])))),WH=CN((()=>SO(ZR({echo:LR().optional(),logitBias:sj(dR(),zR()).optional(),suffix:dR().optional(),user:dR().optional(),logprobs:ej([LR(),zR()]).optional()})))),qH=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:i,topK:a,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:c,tools:d,toolChoice:h,seed:p,providerOptions:f}=e;const m=[],g=u(u({},await NN({provider:"openai",providerOptions:f,schema:WH})),await NN({provider:this.providerOptionsName,providerOptions:f,schema:WH}));null!=a&&m.push({type:"unsupported-setting",setting:"topK"}),(null==d?void 0:d.length)&&m.push({type:"unsupported-setting",setting:"tools"}),null!=h&&m.push({type:"unsupported-setting",setting:"toolChoice"}),null!=c&&"text"!==c.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:y,stopSequences:b}=function(e){let{prompt:t,user:n="user",assistant:r="assistant"}=e,i="";"system"===t[0].role&&(i+="".concat(t[0].content,"\n\n"),t=t.slice(1));for(const{role:a,content:o}of t)switch(a){case"system":throw new jM({message:"Unexpected system message in prompt: ${content}",prompt:t});case"user":{const e=o.map((e=>{if("text"===e.type)return e.text})).filter(Boolean).join("");i+="".concat(n,":\n").concat(e,"\n\n");break}case"assistant":{const e=o.map((e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new SI({functionality:"tool-call messages"})}})).join("");i+="".concat(r,":\n").concat(e,"\n\n");break}case"tool":throw new SI({functionality:"tool messages"});default:throw new Error("Unsupported role: ".concat(a))}return i+="".concat(r,":\n"),{prompt:i,stopSequences:["\n".concat(n,":")]}}({prompt:t}),w=[...null!=b?b:[],...null!=l?l:[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:!0===(null==g?void 0:g.logprobs)?0:!1===(null==g?void 0:g.logprobs)||null==g?void 0:g.logprobs,suffix:g.suffix,user:g.user,max_tokens:n,temperature:r,top_p:i,frequency_penalty:o,presence_penalty:s,seed:p,prompt:y,stop:w.length>0?w:void 0},warnings:m}}async doGenerate(e){var t,n,r;const{args:i,warnings:a}=await this.getArgs(e),{responseHeaders:o,value:s,rawValue:l}=await BN({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:i,failedResponseHandler:CH,successfulResponseHandler:UN(jH),abortSignal:e.abortSignal,fetch:this.config.fetch}),c=s.choices[0],d={openai:{}};return null!=c.logprobs&&(d.openai.logprobs=c.logprobs),{content:[{type:"text",text:c.text}],usage:{inputTokens:null==(t=s.usage)?void 0:t.prompt_tokens,outputTokens:null==(n=s.usage)?void 0:n.completion_tokens,totalTokens:null==(r=s.usage)?void 0:r.total_tokens},finishReason:RH(c.finish_reason),request:{body:i},response:u(u({},LH(s)),{},{headers:o,body:l}),providerMetadata:d,warnings:a}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=u(u({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:i,value:a}=await BN({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:r,failedResponseHandler:CH,successfulResponseHandler:qN(VH),abortSignal:e.abortSignal,fetch:this.config.fetch});let o="unknown";const s={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0;return{stream:a.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return o="error",void n.enqueue({type:"error",error:t.error});const r=t.value;if("error"in r)return o="error",void n.enqueue({type:"error",error:r.error});c&&(c=!1,n.enqueue(u({type:"response-metadata"},LH(r))),n.enqueue({type:"text-start",id:"0"})),null!=r.usage&&(l.inputTokens=r.usage.prompt_tokens,l.outputTokens=r.usage.completion_tokens,l.totalTokens=r.usage.total_tokens);const i=r.choices[0];null!=(null==i?void 0:i.finish_reason)&&(o=RH(i.finish_reason)),null!=(null==i?void 0:i.logprobs)&&(s.openai.logprobs=i.logprobs),null!=(null==i?void 0:i.text)&&i.text.length>0&&n.enqueue({type:"text-delta",id:"0",delta:i.text})},flush(e){c||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:o,providerMetadata:s,usage:l})}})),request:{body:r},response:{headers:i}}}},UH=CN((()=>SO(ZR({dimensions:zR().optional(),user:dR().optional()})))),HH=CN((()=>SO(ZR({data:YR(ZR({embedding:YR(zR())})),usage:ZR({prompt_tokens:zR()}).nullish()})))),GH=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:r,providerOptions:i}=e;var a;if(t.length>this.maxEmbeddingsPerCall)throw new yI({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:t});const o=null!=(a=await NN({provider:"openai",providerOptions:i,schema:UH}))?a:{},{responseHeaders:s,value:l,rawValue:c}=await BN({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:oN(this.config.headers(),n),body:{model:this.modelId,input:t,encoding_format:"float",dimensions:o.dimensions,user:o.user},failedResponseHandler:CH,successfulResponseHandler:UN(HH),abortSignal:r,fetch:this.config.fetch});return{embeddings:l.data.map((e=>e.embedding)),usage:l.usage?{tokens:l.usage.prompt_tokens}:void 0,response:{headers:s,body:c}}}},KH=CN((()=>SO(ZR({data:YR(ZR({b64_json:dR(),revised_prompt:dR().optional()}))})))),YH={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},JH=new Set(["gpt-image-1","gpt-image-1-mini"]),ZH=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=YH[this.modelId])?e:1}get provider(){return this.config.provider}async doGenerate(e){let{prompt:t,n:n,size:r,aspectRatio:i,seed:a,providerOptions:o,headers:s,abortSignal:l}=e;var c,d,h,p;const f=[];null!=i&&f.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=a&&f.push({type:"unsupported-setting",setting:"seed"});const m=null!=(h=null==(d=null==(c=this.config._internal)?void 0:c.currentDate)?void 0:d.call(c))?h:new Date,{value:g,responseHeaders:y}=await BN({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:oN(this.config.headers(),s),body:u(u({model:this.modelId,prompt:t,n:n,size:r},null!=(p=o.openai)?p:{}),JH.has(this.modelId)?{}:{response_format:"b64_json"}),failedResponseHandler:CH,successfulResponseHandler:UN(KH),abortSignal:l,fetch:this.config.fetch});return{images:g.data.map((e=>e.b64_json)),warnings:f,response:{timestamp:m,modelId:this.modelId,headers:y},providerMetadata:{openai:{images:g.data.map((e=>e.revised_prompt?{revisedPrompt:e.revised_prompt}:null))}}}}},XH=EO((()=>SO(ZR({code:dR().nullish(),containerId:dR()})))),$H=EO((()=>SO(ZR({outputs:YR(nj("type",[ZR({type:dj("logs"),logs:dR()}),ZR({type:dj("image"),url:dR()})])).nullish()})))),QH=EO((()=>SO(ZR({container:ej([dR(),ZR({fileIds:YR(dR()).optional()})]).optional()})))),eG=jN({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:XH,outputSchema:$H}),tG=ZR({key:dR(),type:cj(["eq","ne","gt","gte","lt","lte"]),value:ej([dR(),zR(),LR()])}),nG=ZR({type:cj(["and","or"]),filters:YR(ej([tG,Aj((()=>nG))]))}),rG=EO((()=>SO(ZR({vectorStoreIds:YR(dR()),maxNumResults:zR().optional(),ranking:ZR({ranker:dR().optional(),scoreThreshold:zR().optional()}).optional(),filters:ej([tG,nG]).optional()})))),iG=EO((()=>SO(ZR({queries:YR(dR()),results:YR(ZR({attributes:sj(dR(),UR()),fileId:dR(),filename:dR(),score:zR(),text:dR()})).nullable()})))),aG=jN({id:"openai.file_search",name:"file_search",inputSchema:ZR({}),outputSchema:iG}),oG=EO((()=>SO(ZR({background:cj(["auto","opaque","transparent"]).optional(),inputFidelity:cj(["low","high"]).optional(),inputImageMask:ZR({fileId:dR().optional(),imageUrl:dR().optional()}).optional(),model:dR().optional(),moderation:cj(["auto"]).optional(),outputCompression:zR().int().min(0).max(100).optional(),outputFormat:cj(["png","jpeg","webp"]).optional(),partialImages:zR().int().min(0).max(3).optional(),quality:cj(["auto","low","medium","high"]).optional(),size:cj(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict()))),sG=jN({id:"openai.image_generation",name:"image_generation",inputSchema:EO((()=>SO(ZR({})))),outputSchema:EO((()=>SO(ZR({result:dR()}))))}),lG=EO((()=>SO(ZR({action:ZR({type:dj("exec"),command:YR(dR()),timeoutMs:zR().optional(),user:dR().optional(),workingDirectory:dR().optional(),env:sj(dR(),dR()).optional()})})))),cG=EO((()=>SO(ZR({output:dR()})))),uG=jN({id:"openai.local_shell",name:"local_shell",inputSchema:lG,outputSchema:cG}),dG=EO((()=>SO(ZR({filters:ZR({allowedDomains:YR(dR()).optional()}).optional(),searchContextSize:cj(["low","medium","high"]).optional(),userLocation:ZR({type:dj("approximate"),country:dR().optional(),city:dR().optional(),region:dR().optional(),timezone:dR().optional()}).optional()})))),hG=jN({id:"openai.web_search",name:"web_search",inputSchema:EO((()=>SO(ZR({})))),outputSchema:EO((()=>SO(ZR({action:nj("type",[ZR({type:dj("search"),query:dR().optional()}),ZR({type:dj("openPage"),url:dR()}),ZR({type:dj("find"),url:dR(),pattern:dR()})])}))))}),pG=EO((()=>SO(ZR({searchContextSize:cj(["low","medium","high"]).optional(),userLocation:ZR({type:dj("approximate"),country:dR().optional(),city:dR().optional(),region:dR().optional(),timezone:dR().optional()}).optional()})))),fG={codeInterpreter:function(){return eG(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},fileSearch:aG,imageGeneration:function(){return sG(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},localShell:uG,webSearchPreview:jN({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:EO((()=>SO(ZR({})))),outputSchema:EO((()=>SO(ZR({action:nj("type",[ZR({type:dj("search"),query:dR().optional()}),ZR({type:dj("openPage"),url:dR()}),ZR({type:dj("find"),url:dR(),pattern:dR()})])}))))}),webSearch:function(){return hG(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}};function mG(e,t){return!!t&&t.some((t=>e.startsWith(t)))}var gG=ZR({itemId:dR().nullish(),reasoningEncryptedContent:dR().nullish()});function yG(e){let{finishReason:t,hasFunctionCall:n}=e;switch(t){case void 0:case null:return n?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return n?"tool-calls":"unknown"}}var bG=CN((()=>SO(ej([ZR({type:dj("response.output_text.delta"),item_id:dR(),delta:dR(),logprobs:YR(ZR({token:dR(),logprob:zR(),top_logprobs:YR(ZR({token:dR(),logprob:zR()}))})).nullish()}),ZR({type:cj(["response.completed","response.incomplete"]),response:ZR({incomplete_details:ZR({reason:dR()}).nullish(),usage:ZR({input_tokens:zR(),input_tokens_details:ZR({cached_tokens:zR().nullish()}).nullish(),output_tokens:zR(),output_tokens_details:ZR({reasoning_tokens:zR().nullish()}).nullish()}),service_tier:dR().nullish()})}),ZR({type:dj("response.created"),response:ZR({id:dR(),created_at:zR(),model:dR(),service_tier:dR().nullish()})}),ZR({type:dj("response.output_item.added"),output_index:zR(),item:nj("type",[ZR({type:dj("message"),id:dR()}),ZR({type:dj("reasoning"),id:dR(),encrypted_content:dR().nullish()}),ZR({type:dj("function_call"),id:dR(),call_id:dR(),name:dR(),arguments:dR()}),ZR({type:dj("web_search_call"),id:dR(),status:dR()}),ZR({type:dj("computer_call"),id:dR(),status:dR()}),ZR({type:dj("file_search_call"),id:dR()}),ZR({type:dj("image_generation_call"),id:dR()}),ZR({type:dj("code_interpreter_call"),id:dR(),container_id:dR(),code:dR().nullable(),outputs:YR(nj("type",[ZR({type:dj("logs"),logs:dR()}),ZR({type:dj("image"),url:dR()})])).nullable(),status:dR()})])}),ZR({type:dj("response.output_item.done"),output_index:zR(),item:nj("type",[ZR({type:dj("message"),id:dR()}),ZR({type:dj("reasoning"),id:dR(),encrypted_content:dR().nullish()}),ZR({type:dj("function_call"),id:dR(),call_id:dR(),name:dR(),arguments:dR(),status:dj("completed")}),ZR({type:dj("code_interpreter_call"),id:dR(),code:dR().nullable(),container_id:dR(),outputs:YR(nj("type",[ZR({type:dj("logs"),logs:dR()}),ZR({type:dj("image"),url:dR()})])).nullable()}),ZR({type:dj("image_generation_call"),id:dR(),result:dR()}),ZR({type:dj("web_search_call"),id:dR(),status:dR(),action:nj("type",[ZR({type:dj("search"),query:dR().nullish()}),ZR({type:dj("open_page"),url:dR()}),ZR({type:dj("find"),url:dR(),pattern:dR()})])}),ZR({type:dj("file_search_call"),id:dR(),queries:YR(dR()),results:YR(ZR({attributes:sj(dR(),UR()),file_id:dR(),filename:dR(),score:zR(),text:dR()})).nullish()}),ZR({type:dj("local_shell_call"),id:dR(),call_id:dR(),action:ZR({type:dj("exec"),command:YR(dR()),timeout_ms:zR().optional(),user:dR().optional(),working_directory:dR().optional(),env:sj(dR(),dR()).optional()})}),ZR({type:dj("computer_call"),id:dR(),status:dj("completed")})])}),ZR({type:dj("response.function_call_arguments.delta"),item_id:dR(),output_index:zR(),delta:dR()}),ZR({type:dj("response.image_generation_call.partial_image"),item_id:dR(),output_index:zR(),partial_image_b64:dR()}),ZR({type:dj("response.code_interpreter_call_code.delta"),item_id:dR(),output_index:zR(),delta:dR()}),ZR({type:dj("response.code_interpreter_call_code.done"),item_id:dR(),output_index:zR(),code:dR()}),ZR({type:dj("response.output_text.annotation.added"),annotation:nj("type",[ZR({type:dj("url_citation"),url:dR(),title:dR()}),ZR({type:dj("file_citation"),file_id:dR(),filename:dR().nullish(),index:zR().nullish(),start_index:zR().nullish(),end_index:zR().nullish(),quote:dR().nullish()})])}),ZR({type:dj("response.reasoning_summary_part.added"),item_id:dR(),summary_index:zR()}),ZR({type:dj("response.reasoning_summary_text.delta"),item_id:dR(),summary_index:zR(),delta:dR()}),ZR({type:dj("response.reasoning_summary_part.done"),item_id:dR(),summary_index:zR()}),ZR({type:dj("error"),code:dR(),message:dR(),param:dR().nullish(),sequence_number:zR()}),ZR({type:dR()}).loose().transform((e=>({type:"unknown_chunk",message:e.type})))])))),wG=CN((()=>SO(ZR({id:dR(),created_at:zR(),error:ZR({code:dR(),message:dR()}).nullish(),model:dR(),output:YR(nj("type",[ZR({type:dj("message"),role:dj("assistant"),id:dR(),content:YR(ZR({type:dj("output_text"),text:dR(),logprobs:YR(ZR({token:dR(),logprob:zR(),top_logprobs:YR(ZR({token:dR(),logprob:zR()}))})).nullish(),annotations:YR(nj("type",[ZR({type:dj("url_citation"),start_index:zR(),end_index:zR(),url:dR(),title:dR()}),ZR({type:dj("file_citation"),file_id:dR(),filename:dR().nullish(),index:zR().nullish(),start_index:zR().nullish(),end_index:zR().nullish(),quote:dR().nullish()}),ZR({type:dj("container_file_citation")})]))}))}),ZR({type:dj("web_search_call"),id:dR(),status:dR(),action:nj("type",[ZR({type:dj("search"),query:dR().nullish()}),ZR({type:dj("open_page"),url:dR()}),ZR({type:dj("find"),url:dR(),pattern:dR()})])}),ZR({type:dj("file_search_call"),id:dR(),queries:YR(dR()),results:YR(ZR({attributes:sj(dR(),UR()),file_id:dR(),filename:dR(),score:zR(),text:dR()})).nullish()}),ZR({type:dj("code_interpreter_call"),id:dR(),code:dR().nullable(),container_id:dR(),outputs:YR(nj("type",[ZR({type:dj("logs"),logs:dR()}),ZR({type:dj("image"),url:dR()})])).nullable()}),ZR({type:dj("image_generation_call"),id:dR(),result:dR()}),ZR({type:dj("local_shell_call"),id:dR(),call_id:dR(),action:ZR({type:dj("exec"),command:YR(dR()),timeout_ms:zR().optional(),user:dR().optional(),working_directory:dR().optional(),env:sj(dR(),dR()).optional()})}),ZR({type:dj("function_call"),call_id:dR(),name:dR(),arguments:dR(),id:dR()}),ZR({type:dj("computer_call"),id:dR(),status:dR().optional()}),ZR({type:dj("reasoning"),id:dR(),encrypted_content:dR().nullish(),summary:YR(ZR({type:dj("summary_text"),text:dR()}))})])),service_tier:dR().nullish(),incomplete_details:ZR({reason:dR()}).nullish(),usage:ZR({input_tokens:zR(),input_tokens_details:ZR({cached_tokens:zR().nullish()}).nullish(),output_tokens:zR(),output_tokens_details:ZR({reasoning_tokens:zR().nullish()}).nullish()})})))),vG=CN((()=>SO(ZR({include:YR(cj(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:dR().nullish(),logprobs:ej([LR(),zR().min(1).max(20)]).optional(),maxToolCalls:zR().nullish(),metadata:WR().nullish(),parallelToolCalls:LR().nullish(),previousResponseId:dR().nullish(),promptCacheKey:dR().nullish(),reasoningEffort:dR().nullish(),reasoningSummary:dR().nullish(),safetyIdentifier:dR().nullish(),serviceTier:cj(["auto","flex","priority","default"]).nullish(),store:LR().nullish(),strictJsonSchema:LR().nullish(),textVerbosity:cj(["low","medium","high"]).nullish(),user:dR().nullish()}))));var _G=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{maxOutputTokens:t,temperature:n,stopSequences:r,topP:i,topK:a,presencePenalty:o,frequencyPenalty:s,seed:l,prompt:c,providerOptions:d,tools:h,toolChoice:p,responseFormat:f}=e;var m,g,y,b;const w=[],v=function(e){const t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),n=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),r={requiredAutoTruncation:!1,systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:n};if(e.startsWith("gpt-5-chat"))return u(u({},r),{},{isReasoningModel:!1});if(e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use"))return e.startsWith("o1-mini")||e.startsWith("o1-preview")?u(u({},r),{},{isReasoningModel:!0,systemMessageMode:"remove"}):u(u({},r),{},{isReasoningModel:!0,systemMessageMode:"developer"});return u(u({},r),{},{isReasoningModel:!1})}(this.modelId);null!=a&&w.push({type:"unsupported-setting",setting:"topK"}),null!=l&&w.push({type:"unsupported-setting",setting:"seed"}),null!=o&&w.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=s&&w.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=r&&w.push({type:"unsupported-setting",setting:"stopSequences"});const _=await NN({provider:"openai",providerOptions:d,schema:vG}),{input:x,warnings:k}=await async function(e){let{prompt:t,systemMessageMode:n,fileIdPrefixes:r,store:i,hasLocalShellTool:a=!1}=e;var o,s,l,c;const d=[],h=[];for(const{role:p,content:f}of t)switch(p){case"system":switch(n){case"system":d.push({role:"system",content:f});break;case"developer":d.push({role:"developer",content:f});break;case"remove":h.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":d.push({role:"user",content:f.map(((e,t)=>{var n,i,a;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return u(u({type:"input_image"},e.data instanceof URL?{image_url:e.data.toString()}:"string"===typeof e.data&&mG(e.data,r)?{file_id:e.data}:{image_url:"data:".concat(t,";base64,").concat(OO(e.data))}),{},{detail:null==(i=null==(n=e.providerOptions)?void 0:n.openai)?void 0:i.imageDetail})}if("application/pdf"===e.mediaType)return e.data instanceof URL?{type:"input_file",file_url:e.data.toString()}:u({type:"input_file"},"string"===typeof e.data&&mG(e.data,r)?{file_id:e.data}:{filename:null!=(a=e.filename)?a:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(OO(e.data))});throw new SI({functionality:"file part media type ".concat(e.mediaType)})}}))});break;case"assistant":{const e={},t={};for(const n of f)switch(n.type){case"text":{const e=null==(s=null==(o=n.providerOptions)?void 0:o.openai)?void 0:s.itemId;if(i&&null!=e){d.push({type:"item_reference",id:e});break}d.push({role:"assistant",content:[{type:"output_text",text:n.text}],id:e});break}case"tool-call":{if(t[n.toolCallId]=n,n.providerExecuted)break;const e=null==(c=null==(l=n.providerOptions)?void 0:l.openai)?void 0:c.itemId;if(i&&null!=e){d.push({type:"item_reference",id:e});break}if(a&&"local_shell"===n.toolName){const t=await FN({value:n.input,schema:lG});d.push({type:"local_shell_call",call_id:n.toolCallId,id:e,action:{type:"exec",command:t.action.command,timeout_ms:t.action.timeoutMs,user:t.action.user,working_directory:t.action.workingDirectory,env:t.action.env}});break}d.push({type:"function_call",call_id:n.toolCallId,name:n.toolName,arguments:JSON.stringify(n.input),id:e});break}case"tool-result":i?d.push({type:"item_reference",id:n.toolCallId}):h.push({type:"other",message:"Results for OpenAI tool ".concat(n.toolName," are not sent to the API when store is false")});break;case"reasoning":{const t=await NN({provider:"openai",providerOptions:n.providerOptions,schema:gG}),r=null==t?void 0:t.itemId;if(null!=r){const a=e[r];if(i)void 0===a&&(d.push({type:"item_reference",id:r}),e[r]={type:"reasoning",id:r,summary:[]});else{const i=[];n.text.length>0?i.push({type:"summary_text",text:n.text}):void 0!==a&&h.push({type:"other",message:"Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ".concat(JSON.stringify(n),".")}),void 0===a?(e[r]={type:"reasoning",id:r,encrypted_content:null==t?void 0:t.reasoningEncryptedContent,summary:i},d.push(e[r])):(a.summary.push(...i),null!=(null==t?void 0:t.reasoningEncryptedContent)&&(a.encrypted_content=t.reasoningEncryptedContent))}}else h.push({type:"other",message:"Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ".concat(JSON.stringify(n),".")});break}}break}case"tool":for(const e of f){const t=e.output;if(a&&"local_shell"===e.toolName&&"json"===t.type){const n=await FN({value:t.value,schema:cG});d.push({type:"local_shell_call_output",call_id:e.toolCallId,output:n.output});break}let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"json":case"error-json":n=JSON.stringify(t.value);break;case"content":n=t.value.map((e=>{switch(e.type){case"text":return{type:"input_text",text:e.text};case"media":return e.mediaType.startsWith("image/")?{type:"input_image",image_url:"data:".concat(e.mediaType,";base64,").concat(e.data)}:{type:"input_file",filename:"data",file_data:"data:".concat(e.mediaType,";base64,").concat(e.data)}}}))}d.push({type:"function_call_output",call_id:e.toolCallId,output:n})}break;default:throw new Error("Unsupported role: ".concat(p))}return{input:d,warnings:h}}({prompt:c,systemMessageMode:v.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(m=null==_?void 0:_.store)||m,hasLocalShellTool:S("openai.local_shell")});w.push(...k);const D=null!=(g=null==_?void 0:_.strictJsonSchema)&&g;let T=null==_?void 0:_.include;function A(e){null==T?T=[e]:T.includes(e)||(T=[...T,e])}function S(e){return null!=(null==h?void 0:h.find((t=>"provider-defined"===t.type&&t.id===e)))}const C="number"===typeof(null==_?void 0:_.logprobs)?null==_?void 0:_.logprobs:!0===(null==_?void 0:_.logprobs)?20:void 0;C&&A("message.output_text.logprobs");const E=null==(y=null==h?void 0:h.find((e=>"provider-defined"===e.type&&("openai.web_search"===e.id||"openai.web_search_preview"===e.id))))?void 0:y.name;E&&A("web_search_call.action.sources"),S("openai.code_interpreter")&&A("code_interpreter_call.outputs");const F=null==_?void 0:_.store;!1===F&&v.isReasoningModel&&A("reasoning.encrypted_content");const M=u(u(u({model:this.modelId,input:x,temperature:n,top_p:i,max_output_tokens:t},("json"===(null==f?void 0:f.type)||(null==_?void 0:_.textVerbosity))&&{text:u(u({},"json"===(null==f?void 0:f.type)&&{format:null!=f.schema?{type:"json_schema",strict:D,name:null!=(b=f.name)?b:"response",description:f.description,schema:f.schema}:{type:"json_object"}}),(null==_?void 0:_.textVerbosity)&&{verbosity:_.textVerbosity})}),{},{max_tool_calls:null==_?void 0:_.maxToolCalls,metadata:null==_?void 0:_.metadata,parallel_tool_calls:null==_?void 0:_.parallelToolCalls,previous_response_id:null==_?void 0:_.previousResponseId,store:F,user:null==_?void 0:_.user,instructions:null==_?void 0:_.instructions,service_tier:null==_?void 0:_.serviceTier,include:T,prompt_cache_key:null==_?void 0:_.promptCacheKey,safety_identifier:null==_?void 0:_.safetyIdentifier,top_logprobs:C},v.isReasoningModel&&(null!=(null==_?void 0:_.reasoningEffort)||null!=(null==_?void 0:_.reasoningSummary))&&{reasoning:u(u({},null!=(null==_?void 0:_.reasoningEffort)&&{effort:_.reasoningEffort}),null!=(null==_?void 0:_.reasoningSummary)&&{summary:_.reasoningSummary})}),v.requiredAutoTruncation&&{truncation:"auto"});v.isReasoningModel?(null!=M.temperature&&(M.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=M.top_p&&(M.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(null!=(null==_?void 0:_.reasoningEffort)&&w.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),null!=(null==_?void 0:_.reasoningSummary)&&w.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),"flex"!==(null==_?void 0:_.serviceTier)||v.supportsFlexProcessing||(w.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete M.service_tier),"priority"!==(null==_?void 0:_.serviceTier)||v.supportsPriorityProcessing||(w.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete M.service_tier);const{tools:I,toolChoice:P,toolWarnings:z}=await async function(e){let{tools:t,toolChoice:n,strictJsonSchema:r}=e;t=(null==t?void 0:t.length)?t:void 0;const i=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:i};const a=[];for(const s of t)switch(s.type){case"function":a.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:r});break;case"provider-defined":switch(s.id){case"openai.file_search":{const e=await FN({value:s.args,schema:rG});a.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":a.push({type:"local_shell"});break;case"openai.web_search_preview":{const e=await FN({value:s.args,schema:pG});a.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{const e=await FN({value:s.args,schema:dG});a.push({type:"web_search",filters:null!=e.filters?{allowed_domains:e.filters.allowedDomains}:void 0,search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{const e=await FN({value:s.args,schema:QH});a.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"===typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{const e=await FN({value:s.args,schema:oG});a.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,size:e.size,quality:e.quality,moderation:e.moderation,output_format:e.outputFormat,output_compression:e.outputCompression});break}}break;default:i.push({type:"unsupported-tool",tool:s})}if(null==n)return{tools:a,toolChoice:void 0,toolWarnings:i};const o=n.type;switch(o){case"auto":case"none":case"required":return{tools:a,toolChoice:o,toolWarnings:i};case"tool":return{tools:a,toolChoice:"code_interpreter"===n.toolName||"file_search"===n.toolName||"image_generation"===n.toolName||"web_search_preview"===n.toolName||"web_search"===n.toolName?{type:n.toolName}:{type:"function",name:n.toolName},toolWarnings:i};default:throw new SI({functionality:"tool choice type: ".concat(o)})}}({tools:h,toolChoice:p,strictJsonSchema:D});return{webSearchToolName:E,args:u(u({},M),{},{tools:I,tool_choice:P}),warnings:[...w,...z],store:F}}async doGenerate(e){var t,n,r,i,a,o,s,l,c,u,d,h,p,f,m,g,y,b,w;const{args:v,warnings:_,webSearchToolName:x}=await this.getArgs(e),k=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:D,value:T,rawValue:A}=await BN({url:k,headers:oN(this.config.headers(),e.headers),body:v,failedResponseHandler:CH,successfulResponseHandler:UN(wG),abortSignal:e.abortSignal,fetch:this.config.fetch});if(T.error)throw new DM({message:T.error.message,url:k,requestBodyValues:v,statusCode:400,responseHeaders:D,responseBody:A,isRetryable:!1});const S=[],C=[];let E=!1;for(const M of T.output)switch(M.type){case"reasoning":0===M.summary.length&&M.summary.push({type:"summary_text",text:""});for(const e of M.summary)S.push({type:"reasoning",text:e.text,providerMetadata:{openai:{itemId:M.id,reasoningEncryptedContent:null!=(t=M.encrypted_content)?t:null}}});break;case"image_generation_call":S.push({type:"tool-call",toolCallId:M.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),S.push({type:"tool-result",toolCallId:M.id,toolName:"image_generation",result:{result:M.result},providerExecuted:!0});break;case"local_shell_call":S.push({type:"tool-call",toolCallId:M.call_id,toolName:"local_shell",input:JSON.stringify({action:M.action}),providerMetadata:{openai:{itemId:M.id}}});break;case"message":for(const t of M.content){(null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.logprobs)&&t.logprobs&&C.push(t.logprobs),S.push({type:"text",text:t.text,providerMetadata:{openai:{itemId:M.id}}});for(const e of t.annotations)"url_citation"===e.type?S.push({type:"source",sourceType:"url",id:null!=(o=null==(a=(i=this.config).generateId)?void 0:a.call(i))?o:uN(),url:e.url,title:e.title}):"file_citation"===e.type&&S.push({type:"source",sourceType:"document",id:null!=(c=null==(l=(s=this.config).generateId)?void 0:l.call(s))?c:uN(),mediaType:"text/plain",title:null!=(d=null!=(u=e.quote)?u:e.filename)?d:"Document",filename:null!=(h=e.filename)?h:e.file_id})}break;case"function_call":E=!0,S.push({type:"tool-call",toolCallId:M.call_id,toolName:M.name,input:M.arguments,providerMetadata:{openai:{itemId:M.id}}});break;case"web_search_call":S.push({type:"tool-call",toolCallId:M.id,toolName:null!=x?x:"web_search",input:JSON.stringify({}),providerExecuted:!0}),S.push({type:"tool-result",toolCallId:M.id,toolName:null!=x?x:"web_search",result:kG(M.action),providerExecuted:!0});break;case"computer_call":S.push({type:"tool-call",toolCallId:M.id,toolName:"computer_use",input:"",providerExecuted:!0}),S.push({type:"tool-result",toolCallId:M.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:M.status||"completed"},providerExecuted:!0});break;case"file_search_call":S.push({type:"tool-call",toolCallId:M.id,toolName:"file_search",input:"{}",providerExecuted:!0}),S.push({type:"tool-result",toolCallId:M.id,toolName:"file_search",result:{queries:M.queries,results:null!=(f=null==(p=M.results)?void 0:p.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?f:null},providerExecuted:!0});break;case"code_interpreter_call":S.push({type:"tool-call",toolCallId:M.id,toolName:"code_interpreter",input:JSON.stringify({code:M.code,containerId:M.container_id}),providerExecuted:!0}),S.push({type:"tool-result",toolCallId:M.id,toolName:"code_interpreter",result:{outputs:M.outputs},providerExecuted:!0})}const F={openai:{responseId:T.id}};return C.length>0&&(F.openai.logprobs=C),"string"===typeof T.service_tier&&(F.openai.serviceTier=T.service_tier),{content:S,finishReason:yG({finishReason:null==(m=T.incomplete_details)?void 0:m.reason,hasFunctionCall:E}),usage:{inputTokens:T.usage.input_tokens,outputTokens:T.usage.output_tokens,totalTokens:T.usage.input_tokens+T.usage.output_tokens,reasoningTokens:null!=(y=null==(g=T.usage.output_tokens_details)?void 0:g.reasoning_tokens)?y:void 0,cachedInputTokens:null!=(w=null==(b=T.usage.input_tokens_details)?void 0:b.cached_tokens)?w:void 0},request:{body:v},response:{id:T.id,timestamp:new Date(1e3*T.created_at),modelId:T.model,headers:D,body:A},providerMetadata:F,warnings:_}}async doStream(e){const{args:t,warnings:n,webSearchToolName:r,store:i}=await this.getArgs(e),{responseHeaders:a,value:o}=await BN({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:u(u({},t),{},{stream:!0}),failedResponseHandler:CH,successfulResponseHandler:qN(bG),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=this;let l="unknown";const c={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=[];let h=null;const p={};let f=!1;const m={};let g;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var a,o,u,y,b,w,v,_,x,k,D,T,A,S,C,E,F,M,I,P,z,N;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return l="error",void n.enqueue({type:"error",error:t.error});const O=t.value;if(xG(O))"function_call"===O.item.type?(p[O.output_index]={toolName:O.item.name,toolCallId:O.item.call_id},n.enqueue({type:"tool-input-start",id:O.item.call_id,toolName:O.item.name})):"web_search_call"===O.item.type?(p[O.output_index]={toolName:null!=r?r:"web_search",toolCallId:O.item.id},n.enqueue({type:"tool-input-start",id:O.item.id,toolName:null!=r?r:"web_search",providerExecuted:!0}),n.enqueue({type:"tool-input-end",id:O.item.id}),n.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"web_search",input:JSON.stringify({}),providerExecuted:!0})):"computer_call"===O.item.type?(p[O.output_index]={toolName:"computer_use",toolCallId:O.item.id},n.enqueue({type:"tool-input-start",id:O.item.id,toolName:"computer_use",providerExecuted:!0})):"code_interpreter_call"===O.item.type?(p[O.output_index]={toolName:"code_interpreter",toolCallId:O.item.id,codeInterpreter:{containerId:O.item.container_id}},n.enqueue({type:"tool-input-start",id:O.item.id,toolName:"code_interpreter",providerExecuted:!0}),n.enqueue({type:"tool-input-delta",id:O.item.id,delta:'{"containerId":"'.concat(O.item.container_id,'","code":"')})):"file_search_call"===O.item.type?n.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===O.item.type?n.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===O.item.type?n.enqueue({type:"text-start",id:O.item.id,providerMetadata:{openai:{itemId:O.item.id}}}):xG(O)&&"reasoning"===O.item.type&&(m[O.item.id]={encryptedContent:O.item.encrypted_content,summaryParts:{0:"active"}},n.enqueue({type:"reasoning-start",id:"".concat(O.item.id,":0"),providerMetadata:{openai:{itemId:O.item.id,reasoningEncryptedContent:null!=(a=O.item.encrypted_content)?a:null}}}));else if(function(e){return"response.output_item.done"===e.type}(O)){if("function_call"===O.item.type)p[O.output_index]=void 0,f=!0,n.enqueue({type:"tool-input-end",id:O.item.call_id}),n.enqueue({type:"tool-call",toolCallId:O.item.call_id,toolName:O.item.name,input:O.item.arguments,providerMetadata:{openai:{itemId:O.item.id}}});else if("web_search_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"web_search",result:kG(O.item.action),providerExecuted:!0});else if("computer_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-input-end",id:O.item.id}),n.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:O.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"file_search",result:{queries:O.item.queries,results:null!=(u=null==(o=O.item.results)?void 0:o.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?u:null},providerExecuted:!0});else if("code_interpreter_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"code_interpreter",result:{outputs:O.item.outputs},providerExecuted:!0});else if("image_generation_call"===O.item.type)n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"image_generation",result:{result:O.item.result},providerExecuted:!0});else if("local_shell_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:O.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:O.item.action.command,timeoutMs:O.item.action.timeout_ms,user:O.item.action.user,workingDirectory:O.item.action.working_directory,env:O.item.action.env}}),providerMetadata:{openai:{itemId:O.item.id}}});else if("message"===O.item.type)n.enqueue({type:"text-end",id:O.item.id});else if("reasoning"===O.item.type){const e=m[O.item.id],t=Object.entries(e.summaryParts).filter((e=>{let[t,n]=e;return"active"===n||"can-conclude"===n})).map((e=>{let[t]=e;return t}));for(const r of t)n.enqueue({type:"reasoning-end",id:"".concat(O.item.id,":").concat(r),providerMetadata:{openai:{itemId:O.item.id,reasoningEncryptedContent:null!=(y=O.item.encrypted_content)?y:null}}});delete m[O.item.id]}}else if(function(e){return"response.function_call_arguments.delta"===e.type}(O)){const e=p[O.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:O.delta})}else if(function(e){return"response.code_interpreter_call_code.delta"===e.type}(O)){const e=p[O.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:JSON.stringify(O.delta).slice(1,-1)})}else if(function(e){return"response.code_interpreter_call_code.done"===e.type}(O)){const e=p[O.output_index];null!=e&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:O.code,containerId:e.codeInterpreter.containerId}),providerExecuted:!0}))}else if(function(e){return"response.created"===e.type}(O))h=O.response.id,n.enqueue({type:"response-metadata",id:O.response.id,timestamp:new Date(1e3*O.response.created_at),modelId:O.response.model});else if(function(e){return"response.output_text.delta"===e.type}(O))n.enqueue({type:"text-delta",id:O.item_id,delta:O.delta}),(null==(w=null==(b=e.providerOptions)?void 0:b.openai)?void 0:w.logprobs)&&O.logprobs&&d.push(O.logprobs);else if("response.reasoning_summary_part.added"===O.type){if(O.summary_index>0){const e=m[O.item_id];e.summaryParts[O.summary_index]="active";for(const t of Object.keys(e.summaryParts))"can-conclude"===e.summaryParts[t]&&(n.enqueue({type:"reasoning-end",id:"".concat(O.item_id,":").concat(t),providerMetadata:{openai:{itemId:O.item_id}}}),e.summaryParts[t]="concluded");n.enqueue({type:"reasoning-start",id:"".concat(O.item_id,":").concat(O.summary_index),providerMetadata:{openai:{itemId:O.item_id,reasoningEncryptedContent:null!=(_=null==(v=m[O.item_id])?void 0:v.encryptedContent)?_:null}}})}}else"response.reasoning_summary_text.delta"===O.type?n.enqueue({type:"reasoning-delta",id:"".concat(O.item_id,":").concat(O.summary_index),delta:O.delta,providerMetadata:{openai:{itemId:O.item_id}}}):"response.reasoning_summary_part.done"===O.type?i?(n.enqueue({type:"reasoning-end",id:"".concat(O.item_id,":").concat(O.summary_index),providerMetadata:{openai:{itemId:O.item_id}}}),m[O.item_id].summaryParts[O.summary_index]="concluded"):m[O.item_id].summaryParts[O.summary_index]="can-conclude":!function(e){return"response.completed"===e.type||"response.incomplete"===e.type}(O)?!function(e){return"response.output_text.annotation.added"===e.type}(O)?function(e){return"error"===e.type}(O)&&n.enqueue({type:"error",error:O}):"url_citation"===O.annotation.type?n.enqueue({type:"source",sourceType:"url",id:null!=(E=null==(C=(S=s.config).generateId)?void 0:C.call(S))?E:uN(),url:O.annotation.url,title:O.annotation.title}):"file_citation"===O.annotation.type&&n.enqueue({type:"source",sourceType:"document",id:null!=(I=null==(M=(F=s.config).generateId)?void 0:M.call(F))?I:uN(),mediaType:"text/plain",title:null!=(z=null!=(P=O.annotation.quote)?P:O.annotation.filename)?z:"Document",filename:null!=(N=O.annotation.filename)?N:O.annotation.file_id}):(l=yG({finishReason:null==(x=O.response.incomplete_details)?void 0:x.reason,hasFunctionCall:f}),c.inputTokens=O.response.usage.input_tokens,c.outputTokens=O.response.usage.output_tokens,c.totalTokens=O.response.usage.input_tokens+O.response.usage.output_tokens,c.reasoningTokens=null!=(D=null==(k=O.response.usage.output_tokens_details)?void 0:k.reasoning_tokens)?D:void 0,c.cachedInputTokens=null!=(A=null==(T=O.response.usage.input_tokens_details)?void 0:T.cached_tokens)?A:void 0,"string"===typeof O.response.service_tier&&(g=O.response.service_tier))},flush(e){const t={openai:{responseId:h}};d.length>0&&(t.openai.logprobs=d),void 0!==g&&(t.openai.serviceTier=g),e.enqueue({type:"finish",finishReason:l,usage:c,providerMetadata:t})}})),request:{body:t},response:{headers:a}}}};function xG(e){return"response.output_item.added"===e.type}function kG(e){var t;switch(e.type){case"search":return{action:{type:"search",query:null!=(t=e.query)?t:void 0}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find":return{action:{type:"find",url:e.url,pattern:e.pattern}}}}var DG=CN((()=>SO(ZR({instructions:dR().nullish(),speed:zR().min(.25).max(4).default(1).nullish()})))),TG=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{text:t,voice:n="alloy",outputFormat:r="mp3",speed:i,instructions:a,language:o,providerOptions:s}=e;const l=[],c=await NN({provider:"openai",providerOptions:s,schema:DG}),u={model:this.modelId,input:t,voice:n,response_format:"mp3",speed:i,instructions:a};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?u.response_format=r:l.push({type:"unsupported-setting",setting:"outputFormat",details:"Unsupported output format: ".concat(r,". Using mp3 instead.")})),c){const e={};for(const t in e){const n=e[t];void 0!==n&&(u[t]=n)}}return o&&l.push({type:"unsupported-setting",setting:"language",details:'OpenAI speech models do not support language selection. Language parameter "'.concat(o,'" was ignored.')}),{requestBody:u,warnings:l}}async doGenerate(e){var t,n,r;const i=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{requestBody:a,warnings:o}=await this.getArgs(e),{value:s,responseHeaders:l,rawValue:c}=await BN({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:a,failedResponseHandler:CH,successfulResponseHandler:async e=>{let{response:t,url:n,requestBodyValues:r}=e;const i=lN(t);if(!t.body)throw new DM({message:"Response body is empty",url:n,requestBodyValues:r,statusCode:t.status,responseHeaders:i,responseBody:void 0});try{const e=await t.arrayBuffer();return{responseHeaders:i,value:new Uint8Array(e)}}catch(a){throw new DM({message:"Failed to read response as array buffer",url:n,requestBodyValues:r,statusCode:t.status,responseHeaders:i,responseBody:void 0,cause:a})}},abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:o,request:{body:JSON.stringify(a)},response:{timestamp:i,modelId:this.modelId,headers:l,body:c}}}},AG=CN((()=>SO(ZR({text:dR(),language:dR().nullish(),duration:zR().nullish(),words:YR(ZR({word:dR(),start:zR(),end:zR()})).nullish(),segments:YR(ZR({id:zR(),seek:zR(),start:zR(),end:zR(),text:dR(),tokens:YR(zR()),temperature:zR(),avg_logprob:zR(),compression_ratio:zR(),no_speech_prob:zR()})).nullish()})))),SG=CN((()=>SO(ZR({include:YR(dR()).optional(),language:dR().optional(),prompt:dR().optional(),temperature:zR().min(0).max(1).default(0).optional(),timestampGranularities:YR(cj(["word","segment"])).default(["segment"]).optional()})))),CG={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},EG=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{audio:t,mediaType:n,providerOptions:r}=e;const i=await NN({provider:"openai",providerOptions:r,schema:SG}),a=new FormData,o=t instanceof Uint8Array?new Blob([t]):new Blob([zO(t)]);a.append("model",this.modelId);const s=function(e){var t;const[n,r=""]=e.toLowerCase().split("/");return null!=(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[r])?t:r}(n);if(a.append("file",new File([o],"audio",{type:n}),"audio.".concat(s)),i){const e={include:i.include,language:i.language,prompt:i.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:i.temperature,timestamp_granularities:i.timestampGranularities};for(const[t,n]of Object.entries(e))if(null!=n)if(Array.isArray(n))for(const e of n)a.append("".concat(t,"[]"),String(e));else a.append(t,String(n))}return{formData:a,warnings:[]}}async doGenerate(e){var t,n,r,i,a,o,s,l;const c=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{formData:u,warnings:d}=await this.getArgs(e),{value:h,responseHeaders:p,rawValue:f}=await(async e=>{let{url:t,headers:n,formData:r,failedResponseHandler:i,successfulResponseHandler:a,abortSignal:o,fetch:s}=e;return LN({url:t,headers:n,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:i,successfulResponseHandler:a,abortSignal:o,fetch:s})})({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),formData:u,failedResponseHandler:CH,successfulResponseHandler:UN(AG),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=null!=h.language&&h.language in CG?CG[h.language]:void 0;return{text:h.text,segments:null!=(s=null!=(o=null==(i=h.segments)?void 0:i.map((e=>({text:e.text,startSecond:e.start,endSecond:e.end}))))?o:null==(a=h.words)?void 0:a.map((e=>({text:e.word,startSecond:e.start,endSecond:e.end}))))?s:[],language:m,durationInSeconds:null!=(l=h.duration)?l:void 0,warnings:d,response:{timestamp:c,modelId:this.modelId,headers:p,body:f}}}};function FG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r=null!=(t=BO(xN({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))?t:"https://api.openai.com/v1",i=null!=(n=e.name)?n:"openai",a=()=>gN(u({Authorization:"Bearer ".concat(_N({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})),"OpenAI-Organization":e.organization,"OpenAI-Project":e.project},e.headers),"ai-sdk/openai/".concat("2.0.52")),o=t=>new GH(t,{provider:"".concat(i,".embedding"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:a,fetch:e.fetch}),s=t=>new ZH(t,{provider:"".concat(i,".image"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:a,fetch:e.fetch}),l=t=>new EG(t,{provider:"".concat(i,".transcription"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:a,fetch:e.fetch}),c=t=>new TG(t,{provider:"".concat(i,".speech"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:a,fetch:e.fetch}),d=e=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return h(e)},h=t=>new _G(t,{provider:"".concat(i,".responses"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:a,fetch:e.fetch,fileIdPrefixes:["file-"]}),p=function(e){return d(e)};return p.languageModel=d,p.chat=t=>new zH(t,{provider:"".concat(i,".chat"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:a,fetch:e.fetch}),p.completion=t=>new qH(t,{provider:"".concat(i,".completion"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:a,fetch:e.fetch}),p.responses=h,p.embedding=o,p.textEmbedding=o,p.textEmbeddingModel=o,p.image=s,p.imageModel=s,p.transcription=l,p.transcriptionModel=l,p.speech=c,p.speechModel=c,p.tools=fG,p}FG();ZR({user:dR().optional(),reasoningEffort:dR().optional(),textVerbosity:dR().optional()});var MG={errorSchema:ZR({error:ZR({message:dR(),type:dR().nullish(),param:WR().nullish(),code:ej([dR(),zR()]).nullish()})}),errorToMessage:e=>e.error.message};var IG=ZR({prompt_tokens:zR().nullish(),completion_tokens:zR().nullish(),total_tokens:zR().nullish(),prompt_tokens_details:ZR({cached_tokens:zR().nullish()}).nullish(),completion_tokens_details:ZR({reasoning_tokens:zR().nullish(),accepted_prediction_tokens:zR().nullish(),rejected_prediction_tokens:zR().nullish()}).nullish()}).nullish();ZR({id:dR().nullish(),created:zR().nullish(),model:dR().nullish(),choices:YR(ZR({message:ZR({role:dj("assistant").nullish(),content:dR().nullish(),reasoning_content:dR().nullish(),reasoning:dR().nullish(),tool_calls:YR(ZR({id:dR().nullish(),function:ZR({name:dR(),arguments:dR()})})).nullish()}),finish_reason:dR().nullish()})),usage:IG});ZR({echo:LR().optional(),logitBias:sj(dR(),zR()).optional(),suffix:dR().optional(),user:dR().optional()});var PG=ZR({prompt_tokens:zR(),completion_tokens:zR(),total_tokens:zR()}),zG=(ZR({id:dR().nullish(),created:zR().nullish(),model:dR().nullish(),choices:YR(ZR({text:dR(),finish_reason:dR()})),usage:PG.nullish()}),ZR({dimensions:zR().optional(),user:dR().optional()}),ZR({data:YR(ZR({embedding:YR(zR())})),usage:ZR({prompt_tokens:zR()}).nullish(),providerMetadata:sj(dR(),sj(dR(),WR())).optional()}),class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxImagesPerCall=10}get provider(){return this.config.provider}async doGenerate(e){let{prompt:t,n:n,size:r,aspectRatio:i,seed:a,providerOptions:o,headers:s,abortSignal:l}=e;var c,d,h,p,f;const m=[];null!=i&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=a&&m.push({type:"unsupported-setting",setting:"seed"});const g=null!=(h=null==(d=null==(c=this.config._internal)?void 0:c.currentDate)?void 0:d.call(c))?h:new Date,{value:y,responseHeaders:b}=await BN({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:oN(this.config.headers(),s),body:u(u({model:this.modelId,prompt:t,n:n,size:r},null!=(p=o.openai)?p:{}),{},{response_format:"b64_json"}),failedResponseHandler:WN(null!=(f=this.config.errorStructure)?f:MG),successfulResponseHandler:UN(NG),abortSignal:l,fetch:this.config.fetch});return{images:y.data.map((e=>e.b64_json)),warnings:m,response:{timestamp:g,modelId:this.modelId,headers:b}}}}),NG=ZR({data:YR(ZR({b64_json:dR()}))});function OG(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function BG(e){switch(e){case"stop":return"stop";case"length":return"length";case"tool_calls":case"function_call":return"tool-calls";case"content_filter":return"content-filter";default:return"unknown"}}var LG=nj("type",[ZR({type:dj("web"),country:dR().length(2).optional(),excludedWebsites:YR(dR()).max(5).optional(),allowedWebsites:YR(dR()).max(5).optional(),safeSearch:LR().optional()}),ZR({type:dj("x"),excludedXHandles:YR(dR()).optional(),includedXHandles:YR(dR()).optional(),postFavoriteCount:zR().int().optional(),postViewCount:zR().int().optional(),xHandles:YR(dR()).optional()}),ZR({type:dj("news"),country:dR().length(2).optional(),excludedWebsites:YR(dR()).max(5).optional(),safeSearch:LR().optional()}),ZR({type:dj("rss"),links:YR(dR().url()).max(1)})]),RG=ZR({reasoningEffort:cj(["low","high"]).optional(),searchParameters:ZR({mode:cj(["off","auto","on"]),returnCitations:LR().optional(),fromDate:dR().optional(),toDate:dR().optional(),maxSearchResults:zR().min(1).max(50).optional(),sources:YR(LG).optional()}).optional()}),jG=ZR({error:ZR({message:dR(),type:dR().nullish(),param:WR().nullish(),code:ej([dR(),zR()]).nullish()})}),VG=WN({errorSchema:jG,errorToMessage:e=>e.error.message});var WG=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:i,topK:a,frequencyPenalty:o,presencePenalty:s,stopSequences:l,seed:c,responseFormat:d,providerOptions:h,tools:p,toolChoice:f}=e;var m,g,y;const b=[],w=null!=(m=await NN({provider:"xai",providerOptions:h,schema:RG}))?m:{};null!=a&&b.push({type:"unsupported-setting",setting:"topK"}),null!=o&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=s&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=l&&b.push({type:"unsupported-setting",setting:"stopSequences"}),null!=d&&"json"===d.type&&null!=d.schema&&b.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const{messages:v,warnings:_}=function(e){const t=[];for(const{role:n,content:r}of e)switch(n){case"system":t.push({role:"system",content:r});break;case"user":if(1===r.length&&"text"===r[0].type){t.push({role:"user",content:r[0].text});break}t.push({role:"user",content:r.map((e=>{switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():"data:".concat(t,";base64,").concat(OO(e.data))}}}throw new SI({functionality:"file part media type ".concat(e.mediaType)})}}))});break;case"assistant":{let e="";const n=[];for(const t of r)switch(t.type){case"text":e+=t.text;break;case"tool-call":n.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.input)}})}t.push({role:"assistant",content:e,tool_calls:n.length>0?n:void 0});break}case"tool":for(const e of r){const n=e.output;let r;switch(n.type){case"text":case"error-text":r=n.value;break;case"content":case"json":case"error-json":r=JSON.stringify(n.value)}t.push({role:"tool",tool_call_id:e.toolCallId,content:r})}break;default:throw new Error("Unsupported role: ".concat(n))}return{messages:t,warnings:[]}}(t);b.push(..._);const{tools:x,toolChoice:k,toolWarnings:D}=function(e){let{tools:t,toolChoice:n}=e;t=(null==t?void 0:t.length)?t:void 0;const r=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:r};const i=[];for(const o of t)"provider-defined"===o.type?r.push({type:"unsupported-tool",tool:o}):i.push({type:"function",function:{name:o.name,description:o.description,parameters:o.inputSchema}});if(null==n)return{tools:i,toolChoice:void 0,toolWarnings:r};const a=n.type;switch(a){case"auto":case"none":return{tools:i,toolChoice:a,toolWarnings:r};case"required":return{tools:i,toolChoice:"required",toolWarnings:r};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:r};default:throw new SI({functionality:"tool choice type: ".concat(a)})}}({tools:p,toolChoice:f});b.push(...D);const T={model:this.modelId,max_tokens:n,temperature:r,top_p:i,seed:c,reasoning_effort:w.reasoningEffort,response_format:"json"===(null==d?void 0:d.type)?null!=d.schema?{type:"json_schema",json_schema:{name:null!=(g=d.name)?g:"response",schema:d.schema,strict:!0}}:{type:"json_object"}:void 0,search_parameters:w.searchParameters?{mode:w.searchParameters.mode,return_citations:w.searchParameters.returnCitations,from_date:w.searchParameters.fromDate,to_date:w.searchParameters.toDate,max_search_results:w.searchParameters.maxSearchResults,sources:null==(y=w.searchParameters.sources)?void 0:y.map((e=>{var t;return u(u(u(u({type:e.type},"web"===e.type&&{country:e.country,excluded_websites:e.excludedWebsites,allowed_websites:e.allowedWebsites,safe_search:e.safeSearch}),"x"===e.type&&{excluded_x_handles:e.excludedXHandles,included_x_handles:null!=(t=e.includedXHandles)?t:e.xHandles,post_favorite_count:e.postFavoriteCount,post_view_count:e.postViewCount}),"news"===e.type&&{country:e.country,excluded_websites:e.excludedWebsites,safe_search:e.safeSearch}),"rss"===e.type&&{links:e.links})}))}:void 0,messages:v,tools:x,tool_choice:k};return{args:T,warnings:b}}async doGenerate(e){var t,n,r;const{args:i,warnings:a}=await this.getArgs(e),{responseHeaders:o,value:s,rawValue:l}=await BN({url:"".concat(null!=(t=this.config.baseURL)?t:"https://api.x.ai/v1","/chat/completions"),headers:oN(this.config.headers(),e.headers),body:i,failedResponseHandler:VG,successfulResponseHandler:UN(UG),abortSignal:e.abortSignal,fetch:this.config.fetch}),c=s.choices[0],d=[];if(null!=c.message.content&&c.message.content.length>0){let e=c.message.content;const t=i.messages[i.messages.length-1];"assistant"===(null==t?void 0:t.role)&&e===t.content&&(e=""),e.length>0&&d.push({type:"text",text:e})}if(null!=c.message.reasoning_content&&c.message.reasoning_content.length>0&&d.push({type:"reasoning",text:c.message.reasoning_content}),null!=c.message.tool_calls)for(const u of c.message.tool_calls)d.push({type:"tool-call",toolCallId:u.id,toolName:u.function.name,input:u.function.arguments});if(null!=s.citations)for(const u of s.citations)d.push({type:"source",sourceType:"url",id:this.config.generateId(),url:u});return{content:d,finishReason:BG(c.finish_reason),usage:{inputTokens:s.usage.prompt_tokens,outputTokens:s.usage.completion_tokens,totalTokens:s.usage.total_tokens,reasoningTokens:null!=(r=null==(n=s.usage.completion_tokens_details)?void 0:n.reasoning_tokens)?r:void 0},request:{body:i},response:u(u({},OG(s)),{},{headers:o,body:l}),warnings:a}}async doStream(e){var t;const{args:n,warnings:r}=await this.getArgs(e),i=u(u({},n),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:o}=await BN({url:"".concat(null!=(t=this.config.baseURL)?t:"https://api.x.ai/v1","/chat/completions"),headers:oN(this.config.headers(),e.headers),body:i,failedResponseHandler:VG,successfulResponseHandler:qN(HG),abortSignal:e.abortSignal,fetch:this.config.fetch});let s="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0;const d={},h={},p=this;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:r})},transform(t,n){var r,a;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return void n.enqueue({type:"error",error:t.error});const o=t.value;if(c&&(n.enqueue(u({type:"response-metadata"},OG(o))),c=!1),null!=o.citations)for(const e of o.citations)n.enqueue({type:"source",sourceType:"url",id:p.config.generateId(),url:e});null!=o.usage&&(l.inputTokens=o.usage.prompt_tokens,l.outputTokens=o.usage.completion_tokens,l.totalTokens=o.usage.total_tokens,l.reasoningTokens=null!=(a=null==(r=o.usage.completion_tokens_details)?void 0:r.reasoning_tokens)?a:void 0);const f=o.choices[0];if(null!=(null==f?void 0:f.finish_reason)&&(s=BG(f.finish_reason)),null==(null==f?void 0:f.delta))return;const m=f.delta,g=f.index;if(null!=m.content&&m.content.length>0){const e=m.content,t=i.messages[i.messages.length-1];if("assistant"===(null==t?void 0:t.role)&&e===t.content)return;const r="text-".concat(o.id||g);null==d[r]&&(d[r]={type:"text"},n.enqueue({type:"text-start",id:r})),n.enqueue({type:"text-delta",id:r,delta:e})}if(null!=m.reasoning_content&&m.reasoning_content.length>0){const e="reasoning-".concat(o.id||g);if(h[e]===m.reasoning_content)return;h[e]=m.reasoning_content,null==d[e]&&(d[e]={type:"reasoning"},n.enqueue({type:"reasoning-start",id:e})),n.enqueue({type:"reasoning-delta",id:e,delta:m.reasoning_content})}if(null!=m.tool_calls)for(const e of m.tool_calls){const t=e.id;n.enqueue({type:"tool-input-start",id:t,toolName:e.function.name}),n.enqueue({type:"tool-input-delta",id:t,delta:e.function.arguments}),n.enqueue({type:"tool-input-end",id:t}),n.enqueue({type:"tool-call",toolCallId:t,toolName:e.function.name,input:e.function.arguments})}},flush(e){for(const[t,n]of Object.entries(d))e.enqueue({type:"text"===n.type?"text-end":"reasoning-end",id:t});e.enqueue({type:"finish",finishReason:s,usage:l})}})),request:{body:i},response:{headers:a}}}},qG=ZR({prompt_tokens:zR(),completion_tokens:zR(),total_tokens:zR(),completion_tokens_details:ZR({reasoning_tokens:zR().nullish()}).nullish()}),UG=ZR({id:dR().nullish(),created:zR().nullish(),model:dR().nullish(),choices:YR(ZR({message:ZR({role:dj("assistant"),content:dR().nullish(),reasoning_content:dR().nullish(),tool_calls:YR(ZR({id:dR(),type:dj("function"),function:ZR({name:dR(),arguments:dR()})})).nullish()}),index:zR(),finish_reason:dR().nullish()})),object:dj("chat.completion"),usage:qG,citations:YR(dR().url()).nullish()}),HG=ZR({id:dR().nullish(),created:zR().nullish(),model:dR().nullish(),choices:YR(ZR({delta:ZR({role:cj(["assistant"]).optional(),content:dR().nullish(),reasoning_content:dR().nullish(),tool_calls:YR(ZR({id:dR(),type:dj("function"),function:ZR({name:dR(),arguments:dR()})})).nullish()}),finish_reason:dR().nullish(),index:zR()})),usage:qG.nullish(),citations:YR(dR().url()).nullish()}),GG={errorSchema:jG,errorToMessage:e=>e.error.message};function KG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=BO(null!=(t=e.baseURL)?t:"https://api.x.ai/v1"),r=()=>gN(u({Authorization:"Bearer ".concat(_N({apiKey:e.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"}))},e.headers),"ai-sdk/xai/".concat("2.0.26")),i=t=>new WG(t,{provider:"xai.chat",baseURL:n,headers:r,generateId:uN,fetch:e.fetch}),a=t=>new zG(t,{provider:"xai.image",url:e=>{let{path:t}=e;return"".concat(n).concat(t)},headers:r,fetch:e.fetch,errorStructure:GG}),o=e=>i(e);return o.languageModel=i,o.chat=i,o.textEmbeddingModel=e=>{throw new hI({modelId:e,modelType:"textEmbeddingModel"})},o.imageModel=a,o.image=a,o}KG();var YG=EO((()=>SO(ZR({type:dj("error"),error:ZR({type:dR(),message:dR()})})))),JG=WN({errorSchema:YG,errorToMessage:e=>e.error.message}),ZG=EO((()=>SO(ZR({type:dj("message"),id:dR().nullish(),model:dR().nullish(),content:YR(nj("type",[ZR({type:dj("text"),text:dR(),citations:YR(nj("type",[ZR({type:dj("web_search_result_location"),cited_text:dR(),url:dR(),title:dR(),encrypted_index:dR()}),ZR({type:dj("page_location"),cited_text:dR(),document_index:zR(),document_title:dR().nullable(),start_page_number:zR(),end_page_number:zR()}),ZR({type:dj("char_location"),cited_text:dR(),document_index:zR(),document_title:dR().nullable(),start_char_index:zR(),end_char_index:zR()})])).optional()}),ZR({type:dj("thinking"),thinking:dR(),signature:dR()}),ZR({type:dj("redacted_thinking"),data:dR()}),ZR({type:dj("tool_use"),id:dR(),name:dR(),input:UR()}),ZR({type:dj("server_tool_use"),id:dR(),name:dR(),input:sj(dR(),UR()).nullish()}),ZR({type:dj("web_fetch_tool_result"),tool_use_id:dR(),content:ej([ZR({type:dj("web_fetch_result"),url:dR(),retrieved_at:dR(),content:ZR({type:dj("document"),title:dR().nullable(),citations:ZR({enabled:LR()}).optional(),source:ZR({type:dj("text"),media_type:dR(),data:dR()})})}),ZR({type:dj("web_fetch_tool_result_error"),error_code:dR()})])}),ZR({type:dj("web_search_tool_result"),tool_use_id:dR(),content:ej([YR(ZR({type:dj("web_search_result"),url:dR(),title:dR(),encrypted_content:dR(),page_age:dR().nullish()})),ZR({type:dj("web_search_tool_result_error"),error_code:dR()})])}),ZR({type:dj("code_execution_tool_result"),tool_use_id:dR(),content:ej([ZR({type:dj("code_execution_result"),stdout:dR(),stderr:dR(),return_code:zR()}),ZR({type:dj("code_execution_tool_result_error"),error_code:dR()})])}),ZR({type:dj("bash_code_execution_tool_result"),tool_use_id:dR(),content:nj("type",[ZR({type:dj("bash_code_execution_result"),content:YR(ZR({type:dj("bash_code_execution_output"),file_id:dR()})),stdout:dR(),stderr:dR(),return_code:zR()}),ZR({type:dj("bash_code_execution_tool_result_error"),error_code:dR()})])}),ZR({type:dj("text_editor_code_execution_tool_result"),tool_use_id:dR(),content:nj("type",[ZR({type:dj("text_editor_code_execution_tool_result_error"),error_code:dR()}),ZR({type:dj("text_editor_code_execution_view_result"),content:dR(),file_type:dR(),num_lines:zR().nullable(),start_line:zR().nullable(),total_lines:zR().nullable()}),ZR({type:dj("text_editor_code_execution_create_result"),is_file_update:LR()}),ZR({type:dj("text_editor_code_execution_str_replace_result"),lines:YR(dR()).nullable(),new_lines:zR().nullable(),new_start:zR().nullable(),old_lines:zR().nullable(),old_start:zR().nullable()})])})])),stop_reason:dR().nullish(),stop_sequence:dR().nullish(),usage:$R({input_tokens:zR(),output_tokens:zR(),cache_creation_input_tokens:zR().nullish(),cache_read_input_tokens:zR().nullish()})})))),XG=EO((()=>SO(nj("type",[ZR({type:dj("message_start"),message:ZR({id:dR().nullish(),model:dR().nullish(),usage:$R({input_tokens:zR(),cache_creation_input_tokens:zR().nullish(),cache_read_input_tokens:zR().nullish()})})}),ZR({type:dj("content_block_start"),index:zR(),content_block:nj("type",[ZR({type:dj("text"),text:dR()}),ZR({type:dj("thinking"),thinking:dR()}),ZR({type:dj("tool_use"),id:dR(),name:dR()}),ZR({type:dj("redacted_thinking"),data:dR()}),ZR({type:dj("server_tool_use"),id:dR(),name:dR(),input:sj(dR(),UR()).nullish()}),ZR({type:dj("web_fetch_tool_result"),tool_use_id:dR(),content:ej([ZR({type:dj("web_fetch_result"),url:dR(),retrieved_at:dR(),content:ZR({type:dj("document"),title:dR().nullable(),citations:ZR({enabled:LR()}).optional(),source:ZR({type:dj("text"),media_type:dR(),data:dR()})})}),ZR({type:dj("web_fetch_tool_result_error"),error_code:dR()})])}),ZR({type:dj("web_search_tool_result"),tool_use_id:dR(),content:ej([YR(ZR({type:dj("web_search_result"),url:dR(),title:dR(),encrypted_content:dR(),page_age:dR().nullish()})),ZR({type:dj("web_search_tool_result_error"),error_code:dR()})])}),ZR({type:dj("code_execution_tool_result"),tool_use_id:dR(),content:ej([ZR({type:dj("code_execution_result"),stdout:dR(),stderr:dR(),return_code:zR()}),ZR({type:dj("code_execution_tool_result_error"),error_code:dR()})])}),ZR({type:dj("bash_code_execution_tool_result"),tool_use_id:dR(),content:nj("type",[ZR({type:dj("bash_code_execution_result"),content:YR(ZR({type:dj("bash_code_execution_output"),file_id:dR()})),stdout:dR(),stderr:dR(),return_code:zR()}),ZR({type:dj("bash_code_execution_tool_result_error"),error_code:dR()})])}),ZR({type:dj("text_editor_code_execution_tool_result"),tool_use_id:dR(),content:nj("type",[ZR({type:dj("text_editor_code_execution_tool_result_error"),error_code:dR()}),ZR({type:dj("text_editor_code_execution_view_result"),content:dR(),file_type:dR(),num_lines:zR().nullable(),start_line:zR().nullable(),total_lines:zR().nullable()}),ZR({type:dj("text_editor_code_execution_create_result"),is_file_update:LR()}),ZR({type:dj("text_editor_code_execution_str_replace_result"),lines:YR(dR()).nullable(),new_lines:zR().nullable(),new_start:zR().nullable(),old_lines:zR().nullable(),old_start:zR().nullable()})])})])}),ZR({type:dj("content_block_delta"),index:zR(),delta:nj("type",[ZR({type:dj("input_json_delta"),partial_json:dR()}),ZR({type:dj("text_delta"),text:dR()}),ZR({type:dj("thinking_delta"),thinking:dR()}),ZR({type:dj("signature_delta"),signature:dR()}),ZR({type:dj("citations_delta"),citation:nj("type",[ZR({type:dj("web_search_result_location"),cited_text:dR(),url:dR(),title:dR(),encrypted_index:dR()}),ZR({type:dj("page_location"),cited_text:dR(),document_index:zR(),document_title:dR().nullable(),start_page_number:zR(),end_page_number:zR()}),ZR({type:dj("char_location"),cited_text:dR(),document_index:zR(),document_title:dR().nullable(),start_char_index:zR(),end_char_index:zR()})])})])}),ZR({type:dj("content_block_stop"),index:zR()}),ZR({type:dj("error"),error:ZR({type:dR(),message:dR()})}),ZR({type:dj("message_delta"),delta:ZR({stop_reason:dR().nullish(),stop_sequence:dR().nullish()}),usage:$R({output_tokens:zR(),cache_creation_input_tokens:zR().nullish()})}),ZR({type:dj("message_stop")}),ZR({type:dj("ping")})])))),$G=EO((()=>SO(ZR({signature:dR().optional(),redactedData:dR().optional()})))),QG=ZR({citations:ZR({enabled:LR()}).optional(),title:dR().optional(),context:dR().optional()}),eK=ZR({sendReasoning:LR().optional(),thinking:ZR({type:ej([dj("enabled"),dj("disabled")]),budgetTokens:zR().optional()}).optional(),disableParallelToolUse:LR().optional(),cacheControl:ZR({type:dj("ephemeral"),ttl:ej([dj("5m"),dj("1h")]).optional()}).optional()});function tK(e){var t;const n=null==e?void 0:e.anthropic;return null!=(t=null==n?void 0:n.cacheControl)?t:null==n?void 0:n.cache_control}var nK=EO((()=>SO(ZR({maxCharacters:zR().optional()})))),rK=RN({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:EO((()=>SO(ZR({command:cj(["view","create","str_replace","insert"]),path:dR(),file_text:dR().optional(),insert_line:zR().int().optional(),new_str:dR().optional(),old_str:dR().optional(),view_range:YR(zR().int()).optional()}))))}),iK=EO((()=>SO(ZR({maxUses:zR().optional(),allowedDomains:YR(dR()).optional(),blockedDomains:YR(dR()).optional(),userLocation:ZR({type:dj("approximate"),city:dR().optional(),region:dR().optional(),country:dR().optional(),timezone:dR().optional()}).optional()})))),aK=EO((()=>SO(YR(ZR({url:dR(),title:dR(),pageAge:dR().nullable(),encryptedContent:dR(),type:dj("web_search_result")}))))),oK=jN({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:EO((()=>SO(ZR({query:dR()})))),outputSchema:aK}),sK=EO((()=>SO(ZR({maxUses:zR().optional(),allowedDomains:YR(dR()).optional(),blockedDomains:YR(dR()).optional(),citations:ZR({enabled:LR()}).optional(),maxContentTokens:zR().optional()})))),lK=EO((()=>SO(ZR({type:dj("web_fetch_result"),url:dR(),content:ZR({type:dj("document"),title:dR(),citations:ZR({enabled:LR()}).optional(),source:ej([ZR({type:dj("base64"),mediaType:dj("application/pdf"),data:dR()}),ZR({type:dj("text"),mediaType:dj("text/plain"),data:dR()})])}),retrievedAt:dR().nullable()})))),cK=jN({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:EO((()=>SO(ZR({url:dR()})))),outputSchema:lK});var uK=EO((()=>SO(ZR({type:dj("code_execution_result"),stdout:dR(),stderr:dR(),return_code:zR()})))),dK=jN({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:EO((()=>SO(ZR({code:dR()})))),outputSchema:uK}),hK=EO((()=>SO(nj("type",[ZR({type:dj("bash_code_execution_result"),content:YR(ZR({type:dj("bash_code_execution_output"),file_id:dR()})),stdout:dR(),stderr:dR(),return_code:zR()}),ZR({type:dj("bash_code_execution_tool_result_error"),error_code:dR()}),ZR({type:dj("text_editor_code_execution_tool_result_error"),error_code:dR()}),ZR({type:dj("text_editor_code_execution_view_result"),content:dR(),file_type:dR(),num_lines:zR().nullable(),start_line:zR().nullable(),total_lines:zR().nullable()}),ZR({type:dj("text_editor_code_execution_create_result"),is_file_update:LR()}),ZR({type:dj("text_editor_code_execution_str_replace_result"),lines:YR(dR()).nullable(),new_lines:zR().nullable(),new_start:zR().nullable(),old_lines:zR().nullable(),old_start:zR().nullable()})])))),pK=jN({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:EO((()=>SO(nj("type",[ZR({type:dj("bash_code_execution"),command:dR()}),nj("command",[ZR({type:dj("text_editor_code_execution"),command:dj("view"),path:dR()}),ZR({type:dj("text_editor_code_execution"),command:dj("create"),path:dR(),file_text:dR().nullish()}),ZR({type:dj("text_editor_code_execution"),command:dj("str_replace"),path:dR(),old_str:dR(),new_str:dR()})])])))),outputSchema:hK});function fK(e){if("string"===typeof e)return Buffer.from(e,"base64").toString("utf-8");if(e instanceof Uint8Array)return(new TextDecoder).decode(e);if(e instanceof URL)throw new SI({functionality:"URL-based text documents are not supported for citations"});throw new SI({functionality:"unsupported data type for text documents: ".concat(typeof e)})}async function mK(e){let{prompt:t,sendReasoning:n,warnings:r}=e;var i,a,o,s,l;const c=new Set,d=function(e){const t=[];let n;for(const r of e){const{role:e}=r;switch(e){case"system":"system"!==(null==n?void 0:n.type)&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(r);break;case"assistant":"assistant"!==(null==n?void 0:n.type)&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(r);break;case"user":case"tool":"user"!==(null==n?void 0:n.type)&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break;default:throw new Error("Unsupported role: ".concat(e))}}return t}(t);let h;const p=[];async function f(e){var t,n;const r=await NN({provider:"anthropic",providerOptions:e,schema:QG});return null!=(n=null==(t=null==r?void 0:r.citations)?void 0:t.enabled)&&n}async function m(e){const t=await NN({provider:"anthropic",providerOptions:e,schema:QG});return{title:null==t?void 0:t.title,context:null==t?void 0:t.context}}for(let g=0;g<d.length;g++){const e=d[g],t=g===d.length-1,y=e.type;switch(y){case"system":if(null!=h)throw new SI({functionality:"Multiple system messages that are separated by user/assistant messages"});h=e.messages.map((e=>{let{content:t,providerOptions:n}=e;return{type:"text",text:t,cache_control:tK(n)}}));break;case"user":{const t=[];for(const n of e.messages){const{role:e,content:r}=n;switch(e){case"user":for(let e=0;e<r.length;e++){const s=r[e],l=e===r.length-1,d=null!=(i=tK(s.providerOptions))?i:l?tK(n.providerOptions):void 0;switch(s.type){case"text":t.push({type:"text",text:s.text,cache_control:d});break;case"file":if(s.mediaType.startsWith("image/"))t.push({type:"image",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"base64",media_type:"image/*"===s.mediaType?"image/jpeg":s.mediaType,data:OO(s.data)},cache_control:d});else if("application/pdf"===s.mediaType){c.add("pdfs-2024-09-25");const e=await f(s.providerOptions),n=await m(s.providerOptions);t.push(u(u(u({type:"document",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"base64",media_type:"application/pdf",data:OO(s.data)},title:null!=(a=n.title)?a:s.filename},n.context&&{context:n.context}),e&&{citations:{enabled:!0}}),{},{cache_control:d}))}else{if("text/plain"!==s.mediaType)throw new SI({functionality:"media type: ".concat(s.mediaType)});{const e=await f(s.providerOptions),n=await m(s.providerOptions);t.push(u(u(u({type:"document",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"text",media_type:"text/plain",data:fK(s.data)},title:null!=(o=n.title)?o:s.filename},n.context&&{context:n.context}),e&&{citations:{enabled:!0}}),{},{cache_control:d}))}}}}break;case"tool":for(let e=0;e<r.length;e++){const i=r[e],a=e===r.length-1,o=null!=(s=tK(i.providerOptions))?s:a?tK(n.providerOptions):void 0,l=i.output;let u;switch(l.type){case"content":u=l.value.map((e=>{switch(e.type){case"text":return{type:"text",text:e.text,cache_control:void 0};case"media":if(e.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:e.mediaType,data:e.data},cache_control:void 0};if("application/pdf"===e.mediaType)return c.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:e.mediaType,data:e.data},cache_control:void 0};throw new SI({functionality:"media type: ".concat(e.mediaType)})}}));break;case"text":case"error-text":u=l.value;break;default:u=JSON.stringify(l.value)}t.push({type:"tool_result",tool_use_id:i.toolCallId,content:u,is_error:"error-text"===l.type||"error-json"===l.type||void 0,cache_control:o})}break;default:throw new Error("Unsupported role: ".concat(e))}}p.push({role:"user",content:t});break}case"assistant":{const i=[];for(let a=0;a<e.messages.length;a++){const o=e.messages[a],s=a===e.messages.length-1,{content:c}=o;for(let e=0;e<c.length;e++){const a=c[e],u=e===c.length-1,d=null!=(l=tK(a.providerOptions))?l:u?tK(o.providerOptions):void 0;switch(a.type){case"text":i.push({type:"text",text:t&&s&&u?a.text.trim():a.text,cache_control:d});break;case"reasoning":if(n){const e=await NN({provider:"anthropic",providerOptions:a.providerOptions,schema:$G});null!=e?null!=e.signature?i.push({type:"thinking",thinking:a.text,signature:e.signature,cache_control:d}):null!=e.redactedData?i.push({type:"redacted_thinking",data:e.redactedData,cache_control:d}):r.push({type:"other",message:"unsupported reasoning metadata"}):r.push({type:"other",message:"unsupported reasoning metadata"})}else r.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"tool-call":if(a.providerExecuted){"code_execution"!==a.toolName||null==a.input||"object"!==typeof a.input||!("type"in a.input)||"string"!==typeof a.input.type||"bash_code_execution"!==a.input.type&&"text_editor_code_execution"!==a.input.type?"code_execution"===a.toolName||"web_fetch"===a.toolName||"web_search"===a.toolName?i.push({type:"server_tool_use",id:a.toolCallId,name:a.toolName,input:a.input,cache_control:d}):r.push({type:"other",message:"provider executed tool call for tool ".concat(a.toolName," is not supported")}):i.push({type:"server_tool_use",id:a.toolCallId,name:a.input.type,input:a.input,cache_control:d});break}i.push({type:"tool_use",id:a.toolCallId,name:a.toolName,input:a.input,cache_control:d});break;case"tool-result":if("code_execution"===a.toolName){const e=a.output;if("json"!==e.type){r.push({type:"other",message:"provider executed tool result output type ".concat(e.type," for tool ").concat(a.toolName," is not supported")});break}if(null==e.value||"object"!==typeof e.value||!("type"in e.value)||"string"!==typeof e.value.type){r.push({type:"other",message:"provider executed tool result output value is not a valid code execution result for tool ".concat(a.toolName)});break}if("code_execution_result"===e.value.type){const t=await FN({value:e.value,schema:uK});i.push({type:"code_execution_tool_result",tool_use_id:a.toolCallId,content:{type:t.type,stdout:t.stdout,stderr:t.stderr,return_code:t.return_code},cache_control:d})}else{const t=await FN({value:e.value,schema:hK});i.push("bash_code_execution_result"===t.type||"bash_code_execution_tool_result_error"===t.type?{type:"bash_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:d,content:t}:{type:"text_editor_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:d,content:t})}break}if("web_fetch"===a.toolName){const e=a.output;if("json"!==e.type){r.push({type:"other",message:"provider executed tool result output type ".concat(e.type," for tool ").concat(a.toolName," is not supported")});break}const t=await FN({value:e.value,schema:lK});i.push({type:"web_fetch_tool_result",tool_use_id:a.toolCallId,content:{type:"web_fetch_result",url:t.url,retrieved_at:t.retrievedAt,content:{type:"document",title:t.content.title,citations:t.content.citations,source:{type:t.content.source.type,media_type:t.content.source.mediaType,data:t.content.source.data}}},cache_control:d});break}if("web_search"===a.toolName){const e=a.output;if("json"!==e.type){r.push({type:"other",message:"provider executed tool result output type ".concat(e.type," for tool ").concat(a.toolName," is not supported")});break}const t=await FN({value:e.value,schema:aK});i.push({type:"web_search_tool_result",tool_use_id:a.toolCallId,content:t.map((e=>({url:e.url,title:e.title,page_age:e.pageAge,encrypted_content:e.encryptedContent,type:e.type}))),cache_control:d});break}r.push({type:"other",message:"provider executed tool result for tool ".concat(a.toolName," is not supported")})}}}p.push({role:"assistant",content:i});break}default:throw new Error("content type: ".concat(y))}}return{prompt:{system:h,messages:p},betas:c}}function gK(e){let{finishReason:t,isJsonResponseFromTool:n}=e;switch(t){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return n?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function yK(e,t,n){var r;if("page_location"!==e.type&&"char_location"!==e.type)return;const i=t[e.document_index];return i?{type:"source",sourceType:"document",id:n(),mediaType:i.mediaType,title:null!=(r=e.document_title)?r:i.title,filename:i.filename,providerMetadata:{anthropic:"page_location"===e.type?{citedText:e.cited_text,startPageNumber:e.start_page_number,endPageNumber:e.end_page_number}:{citedText:e.cited_text,startCharIndex:e.start_char_index,endCharIndex:e.end_char_index}}}:void 0}var bK=class{constructor(e,t){var n;this.specificationVersion="v2",this.modelId=e,this.config=t,this.generateId=null!=(n=t.generateId)?n:uN}supportsUrl(e){return"https:"===e.protocol}get provider(){return this.config.provider}get supportedUrls(){var e,t,n;return null!=(n=null==(t=(e=this.config).supportedUrls)?void 0:t.call(e))?n:{}}async getArgs(e){let{prompt:t,maxOutputTokens:n=4096,temperature:r,topP:i,topK:a,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:c,seed:d,tools:h,toolChoice:p,providerOptions:f}=e;var m,g,y;const b=[];null!=o&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=s&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=d&&b.push({type:"unsupported-setting",setting:"seed"}),"json"===(null==c?void 0:c.type)&&(null==c.schema?b.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):null!=h&&b.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));const w="json"===(null==c?void 0:c.type)&&null!=c.schema?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:c.schema}:void 0,v=await NN({provider:"anthropic",providerOptions:f,schema:eK}),{prompt:_,betas:x}=await mK({prompt:t,sendReasoning:null==(m=null==v?void 0:v.sendReasoning)||m,warnings:b}),k="enabled"===(null==(g=null==v?void 0:v.thinking)?void 0:g.type),D=null==(y=null==v?void 0:v.thinking)?void 0:y.budgetTokens,T=u(u({model:this.modelId,max_tokens:n,temperature:r,top_k:a,top_p:i,stop_sequences:l},k&&{thinking:{type:"enabled",budget_tokens:D}}),{},{system:_.system,messages:_.messages});if(k){if(null==D)throw new SI({functionality:"thinking requires a budget"});null!=T.temperature&&(T.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),null!=a&&(T.top_k=void 0,b.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),null!=i&&(T.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),T.max_tokens=n+D}const{tools:A,toolChoice:S,toolWarnings:C,betas:E}=await async function(e){let{tools:t,toolChoice:n,disableParallelToolUse:r}=e;t=(null==t?void 0:t.length)?t:void 0;const i=[],a=new Set;if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:i,betas:a};const o=[];for(const l of t)switch(l.type){case"function":{const e=tK(l.providerOptions);o.push({name:l.name,description:l.description,input_schema:l.inputSchema,cache_control:e});break}case"provider-defined":switch(l.id){case"anthropic.code_execution_20250522":a.add("code-execution-2025-05-22"),o.push({type:"code_execution_20250522",name:"code_execution"});break;case"anthropic.code_execution_20250825":a.add("code-execution-2025-08-25"),o.push({type:"code_execution_20250825",name:"code_execution"});break;case"anthropic.computer_20250124":a.add("computer-use-2025-01-24"),o.push({name:"computer",type:"computer_20250124",display_width_px:l.args.displayWidthPx,display_height_px:l.args.displayHeightPx,display_number:l.args.displayNumber});break;case"anthropic.computer_20241022":a.add("computer-use-2024-10-22"),o.push({name:"computer",type:"computer_20241022",display_width_px:l.args.displayWidthPx,display_height_px:l.args.displayHeightPx,display_number:l.args.displayNumber});break;case"anthropic.text_editor_20250124":a.add("computer-use-2025-01-24"),o.push({name:"str_replace_editor",type:"text_editor_20250124"});break;case"anthropic.text_editor_20241022":a.add("computer-use-2024-10-22"),o.push({name:"str_replace_editor",type:"text_editor_20241022"});break;case"anthropic.text_editor_20250429":a.add("computer-use-2025-01-24"),o.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429"});break;case"anthropic.text_editor_20250728":{const e=await FN({value:l.args,schema:nK});o.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:e.maxCharacters});break}case"anthropic.bash_20250124":a.add("computer-use-2025-01-24"),o.push({name:"bash",type:"bash_20250124"});break;case"anthropic.bash_20241022":a.add("computer-use-2024-10-22"),o.push({name:"bash",type:"bash_20241022"});break;case"anthropic.memory_20250818":a.add("context-management-2025-06-27"),o.push({name:"memory",type:"memory_20250818"});break;case"anthropic.web_fetch_20250910":{a.add("web-fetch-2025-09-10");const e=await FN({value:l.args,schema:sK});o.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:e.maxUses,allowed_domains:e.allowedDomains,blocked_domains:e.blockedDomains,citations:e.citations,max_content_tokens:e.maxContentTokens});break}case"anthropic.web_search_20250305":{const e=await FN({value:l.args,schema:iK});o.push({type:"web_search_20250305",name:"web_search",max_uses:e.maxUses,allowed_domains:e.allowedDomains,blocked_domains:e.blockedDomains,user_location:e.userLocation});break}default:i.push({type:"unsupported-tool",tool:l})}break;default:i.push({type:"unsupported-tool",tool:l})}if(null==n)return{tools:o,toolChoice:r?{type:"auto",disable_parallel_tool_use:r}:void 0,toolWarnings:i,betas:a};const s=n.type;switch(s){case"auto":return{tools:o,toolChoice:{type:"auto",disable_parallel_tool_use:r},toolWarnings:i,betas:a};case"required":return{tools:o,toolChoice:{type:"any",disable_parallel_tool_use:r},toolWarnings:i,betas:a};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:i,betas:a};case"tool":return{tools:o,toolChoice:{type:"tool",name:n.toolName,disable_parallel_tool_use:r},toolWarnings:i,betas:a};default:throw new SI({functionality:"tool choice type: ".concat(s)})}}(null!=w?{tools:[w],toolChoice:{type:"tool",toolName:w.name},disableParallelToolUse:!0}:{tools:null!=h?h:[],toolChoice:p,disableParallelToolUse:null==v?void 0:v.disableParallelToolUse});return{args:u(u({},T),{},{tools:A,tool_choice:S}),warnings:[...b,...C],betas:new Set([...x,...E]),usesJsonResponseTool:null!=w}}async getHeaders(e){let{betas:t,headers:n}=e;return oN(await VN(this.config.headers),t.size>0?{"anthropic-beta":Array.from(t).join(",")}:{},n)}buildRequestUrl(e){var t,n,r;return null!=(r=null==(n=(t=this.config).buildRequestUrl)?void 0:n.call(t,this.config.baseURL,e))?r:"".concat(this.config.baseURL,"/messages")}transformRequestBody(e){var t,n,r;return null!=(r=null==(n=(t=this.config).transformRequestBody)?void 0:n.call(t,e))?r:e}extractCitationDocuments(e){return e.filter((e=>"user"===e.role)).flatMap((e=>e.content)).filter((e=>{var t,n;if("file"!==e.type)return!1;if("application/pdf"!==e.mediaType&&"text/plain"!==e.mediaType)return!1;const r=null==(t=e.providerOptions)?void 0:t.anthropic,i=null==r?void 0:r.citations;return null!=(n=null==i?void 0:i.enabled)&&n})).map((e=>{var t;const n=e;return{title:null!=(t=n.filename)?t:"Untitled Document",filename:n.filename,mediaType:n.mediaType}}))}async doGenerate(e){var t,n,r,i,a,o;const{args:s,warnings:l,betas:c,usesJsonResponseTool:d}=await this.getArgs(e),h=this.extractCitationDocuments(e.prompt),{responseHeaders:p,value:f,rawValue:m}=await BN({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:c,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:JG,successfulResponseHandler:UN(ZG),abortSignal:e.abortSignal,fetch:this.config.fetch}),g=[];for(const y of f.content)switch(y.type){case"text":if(!d&&(g.push({type:"text",text:y.text}),y.citations))for(const e of y.citations){const t=yK(e,h,this.generateId);t&&g.push(t)}break;case"thinking":g.push({type:"reasoning",text:y.thinking,providerMetadata:{anthropic:{signature:y.signature}}});break;case"redacted_thinking":g.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:y.data}}});break;case"tool_use":g.push(d?{type:"text",text:JSON.stringify(y.input)}:{type:"tool-call",toolCallId:y.id,toolName:y.name,input:JSON.stringify(y.input)});break;case"server_tool_use":"text_editor_code_execution"===y.name||"bash_code_execution"===y.name?g.push({type:"tool-call",toolCallId:y.id,toolName:"code_execution",input:JSON.stringify(u({type:y.name},y.input)),providerExecuted:!0}):"web_search"!==y.name&&"code_execution"!==y.name&&"web_fetch"!==y.name||g.push({type:"tool-call",toolCallId:y.id,toolName:y.name,input:JSON.stringify(y.input),providerExecuted:!0});break;case"web_fetch_tool_result":"web_fetch_result"===y.content.type?g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:y.content.url,retrievedAt:y.content.retrieved_at,content:{type:y.content.content.type,title:y.content.content.title,citations:y.content.content.citations,source:{type:y.content.content.source.type,mediaType:y.content.content.source.media_type,data:y.content.content.source.data}}},providerExecuted:!0}):"web_fetch_tool_result_error"===y.content.type&&g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:y.content.error_code},providerExecuted:!0});break;case"web_search_tool_result":if(Array.isArray(y.content)){g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"web_search",result:y.content.map((e=>{var t;return{url:e.url,title:e.title,pageAge:null!=(t=e.page_age)?t:null,encryptedContent:e.encrypted_content,type:e.type}})),providerExecuted:!0});for(const e of y.content)g.push({type:"source",sourceType:"url",id:this.generateId(),url:e.url,title:e.title,providerMetadata:{anthropic:{pageAge:null!=(t=e.page_age)?t:null}}})}else g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:y.content.error_code},providerExecuted:!0});break;case"code_execution_tool_result":"code_execution_result"===y.content.type?g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"code_execution",result:{type:y.content.type,stdout:y.content.stdout,stderr:y.content.stderr,return_code:y.content.return_code},providerExecuted:!0}):"code_execution_tool_result_error"===y.content.type&&g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:y.content.error_code},providerExecuted:!0});break;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"code_execution",result:y.content,providerExecuted:!0})}return{content:g,finishReason:gK({finishReason:f.stop_reason,isJsonResponseFromTool:d}),usage:{inputTokens:f.usage.input_tokens,outputTokens:f.usage.output_tokens,totalTokens:f.usage.input_tokens+f.usage.output_tokens,cachedInputTokens:null!=(n=f.usage.cache_read_input_tokens)?n:void 0},request:{body:s},response:{id:null!=(r=f.id)?r:void 0,modelId:null!=(i=f.model)?i:void 0,headers:p,body:m},warnings:l,providerMetadata:{anthropic:{usage:f.usage,cacheCreationInputTokens:null!=(a=f.usage.cache_creation_input_tokens)?a:null,stopSequence:null!=(o=f.stop_sequence)?o:null}}}}async doStream(e){const{args:t,warnings:n,betas:r,usesJsonResponseTool:i}=await this.getArgs(e),a=this.extractCitationDocuments(e.prompt),o=u(u({},t),{},{stream:!0}),{responseHeaders:s,value:l}=await BN({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:r,headers:e.headers}),body:this.transformRequestBody(o),failedResponseHandler:JG,successfulResponseHandler:qN(XG),abortSignal:e.abortSignal,fetch:this.config.fetch});let c="unknown";const d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},h={};let p,f,m=null,g=null;const y=this.generateId;return{stream:l.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var r,o,s,l,b,w,v,_;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return void n.enqueue({type:"error",error:t.error});const x=t.value;switch(x.type){case"ping":return;case"content_block_start":{const e=x.content_block.type;switch(f=e,e){case"text":return h[x.index]={type:"text"},void n.enqueue({type:"text-start",id:String(x.index)});case"thinking":return h[x.index]={type:"reasoning"},void n.enqueue({type:"reasoning-start",id:String(x.index)});case"redacted_thinking":return h[x.index]={type:"reasoning"},void n.enqueue({type:"reasoning-start",id:String(x.index),providerMetadata:{anthropic:{redactedData:x.content_block.data}}});case"tool_use":return h[x.index]=i?{type:"text"}:{type:"tool-call",toolCallId:x.content_block.id,toolName:x.content_block.name,input:"",firstDelta:!0},void n.enqueue(i?{type:"text-start",id:String(x.index)}:{type:"tool-input-start",id:x.content_block.id,toolName:x.content_block.name});case"server_tool_use":if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(x.content_block.name)){h[x.index]={type:"tool-call",toolCallId:x.content_block.id,toolName:x.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};const e="text_editor_code_execution"===x.content_block.name||"bash_code_execution"===x.content_block.name?"code_execution":x.content_block.name;n.enqueue({type:"tool-input-start",id:x.content_block.id,toolName:e,providerExecuted:!0})}return;case"web_fetch_tool_result":{const e=x.content_block;return void("web_fetch_result"===e.content.type?n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:e.content.url,retrievedAt:e.content.retrieved_at,content:{type:e.content.content.type,title:e.content.content.title,citations:e.content.content.citations,source:{type:e.content.content.source.type,mediaType:e.content.content.source.media_type,data:e.content.content.source.data}}}}):"web_fetch_tool_result_error"===e.content.type&&n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0}))}case"web_search_tool_result":{const e=x.content_block;if(Array.isArray(e.content)){n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_search",result:e.content.map((e=>{var t;return{url:e.url,title:e.title,pageAge:null!=(t=e.page_age)?t:null,encryptedContent:e.encrypted_content,type:e.type}})),providerExecuted:!0});for(const t of e.content)n.enqueue({type:"source",sourceType:"url",id:y(),url:t.url,title:t.title,providerMetadata:{anthropic:{pageAge:null!=(r=t.page_age)?r:null}}})}else n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{const e=x.content_block;return void("code_execution_result"===e.content.type?n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",result:{type:e.content.type,stdout:e.content.stdout,stderr:e.content.stderr,return_code:e.content.return_code},providerExecuted:!0}):"code_execution_tool_result_error"===e.content.type&&n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0}))}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{const e=x.content_block;return void n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",result:e.content,providerExecuted:!0})}default:throw new Error("Unsupported content block type: ".concat(e))}}case"content_block_stop":if(null!=h[x.index]){const e=h[x.index];switch(e.type){case"text":n.enqueue({type:"text-end",id:String(x.index)});break;case"reasoning":n.enqueue({type:"reasoning-end",id:String(x.index)});break;case"tool-call":if(!i){n.enqueue({type:"tool-input-end",id:e.toolCallId});const t="text_editor_code_execution"===e.toolName||"bash_code_execution"===e.toolName?"code_execution":e.toolName;n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:t,input:e.input,providerExecuted:e.providerExecuted})}}delete h[x.index]}return void(f=void 0);case"content_block_delta":{const e=x.delta.type;switch(e){case"text_delta":if(i)return;return void n.enqueue({type:"text-delta",id:String(x.index),delta:x.delta.text});case"thinking_delta":return void n.enqueue({type:"reasoning-delta",id:String(x.index),delta:x.delta.thinking});case"signature_delta":return void("thinking"===f&&n.enqueue({type:"reasoning-delta",id:String(x.index),delta:"",providerMetadata:{anthropic:{signature:x.delta.signature}}}));case"input_json_delta":{const e=h[x.index];let t=x.delta.partial_json;if(0===t.length)return;if(i){if("text"!==(null==e?void 0:e.type))return;n.enqueue({type:"text-delta",id:String(x.index),delta:t})}else{if("tool-call"!==(null==e?void 0:e.type))return;!e.firstDelta||"bash_code_execution"!==e.toolName&&"text_editor_code_execution"!==e.toolName||(t='{"type": "'.concat(e.toolName,'",').concat(t.substring(1))),n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:t}),e.input+=t,e.firstDelta=!1}return}case"citations_delta":{const e=yK(x.delta.citation,a,y);return void(e&&n.enqueue(e))}default:throw new Error("Unsupported delta type: ".concat(e))}}case"message_start":return d.inputTokens=x.message.usage.input_tokens,d.cachedInputTokens=null!=(o=x.message.usage.cache_read_input_tokens)?o:void 0,p=u({},x.message.usage),m=null!=(s=x.message.usage.cache_creation_input_tokens)?s:null,void n.enqueue({type:"response-metadata",id:null!=(l=x.message.id)?l:void 0,modelId:null!=(b=x.message.model)?b:void 0});case"message_delta":return d.outputTokens=x.usage.output_tokens,d.totalTokens=(null!=(w=d.inputTokens)?w:0)+(null!=(v=x.usage.output_tokens)?v:0),c=gK({finishReason:x.delta.stop_reason,isJsonResponseFromTool:i}),g=null!=(_=x.delta.stop_sequence)?_:null,void(p=u(u({},p),x.usage));case"message_stop":return void n.enqueue({type:"finish",finishReason:c,usage:d,providerMetadata:{anthropic:{usage:null!=p?p:null,cacheCreationInputTokens:m,stopSequence:g}}});case"error":return void n.enqueue({type:"error",error:x.error});default:throw new Error("Unsupported chunk type: ".concat(x))}}})),request:{body:o},response:{headers:s}}}},wK={bash_20241022:RN({id:"anthropic.bash_20241022",name:"bash",inputSchema:EO((()=>SO(ZR({command:dR(),restart:LR().optional()}))))}),bash_20250124:RN({id:"anthropic.bash_20250124",name:"bash",inputSchema:EO((()=>SO(ZR({command:dR(),restart:LR().optional()}))))}),codeExecution_20250522:function(){return dK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},codeExecution_20250825:function(){return pK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},computer_20241022:RN({id:"anthropic.computer_20241022",name:"computer",inputSchema:EO((()=>SO(ZR({action:cj(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:YR(zR().int()).optional(),text:dR().optional()}))))}),computer_20250124:RN({id:"anthropic.computer_20250124",name:"computer",inputSchema:EO((()=>SO(ZR({action:cj(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:aj([zR().int(),zR().int()]).optional(),duration:zR().optional(),scroll_amount:zR().optional(),scroll_direction:cj(["up","down","left","right"]).optional(),start_coordinate:aj([zR().int(),zR().int()]).optional(),text:dR().optional()}))))}),memory_20250818:RN({id:"anthropic.memory_20250818",name:"memory",inputSchema:EO((()=>SO(nj("command",[ZR({command:dj("view"),path:dR(),view_range:aj([zR(),zR()]).optional()}),ZR({command:dj("create"),path:dR(),file_text:dR()}),ZR({command:dj("str_replace"),path:dR(),old_str:dR(),new_str:dR()}),ZR({command:dj("insert"),path:dR(),insert_line:zR(),insert_text:dR()}),ZR({command:dj("delete"),path:dR()}),ZR({command:dj("rename"),old_path:dR(),new_path:dR()})]))))}),textEditor_20241022:RN({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:EO((()=>SO(ZR({command:cj(["view","create","str_replace","insert","undo_edit"]),path:dR(),file_text:dR().optional(),insert_line:zR().int().optional(),new_str:dR().optional(),old_str:dR().optional(),view_range:YR(zR().int()).optional()}))))}),textEditor_20250124:RN({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:EO((()=>SO(ZR({command:cj(["view","create","str_replace","insert","undo_edit"]),path:dR(),file_text:dR().optional(),insert_line:zR().int().optional(),new_str:dR().optional(),old_str:dR().optional(),view_range:YR(zR().int()).optional()}))))}),textEditor_20250429:RN({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:EO((()=>SO(ZR({command:cj(["view","create","str_replace","insert"]),path:dR(),file_text:dR().optional(),insert_line:zR().int().optional(),new_str:dR().optional(),old_str:dR().optional(),view_range:YR(zR().int()).optional()}))))}),textEditor_20250728:function(){return rK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},webFetch_20250910:function(){return cK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},webSearch_20250305:function(){return oK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}};function vK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=null!=(t=BO(e.baseURL))?t:"https://api.anthropic.com/v1",r=()=>gN(u({"anthropic-version":"2023-06-01","x-api-key":_N({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"})},e.headers),"ai-sdk/anthropic/".concat("2.0.29")),i=t=>{var i;return new bK(t,{provider:"anthropic.messages",baseURL:n,headers:r,fetch:e.fetch,generateId:null!=(i=e.generateId)?i:uN,supportedUrls:()=>({"image/*":[/^https?:\/\/.*$/]})})},a=function(e){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return i(e)};return a.languageModel=i,a.chat=i,a.messages=i,a.textEmbeddingModel=e=>{throw new hI({modelId:e,modelType:"textEmbeddingModel"})},a.imageModel=e=>{throw new hI({modelId:e,modelType:"imageModel"})},a.tools=wK,a}vK();const _K=[{id:"openai",name:"OpenAI",createProvider:e=>FG({apiKey:e}),defaultModel:"gpt-4o",models:[{id:"gpt-4o",name:"GPT-4o",family:"GPT-4"},{id:"gpt-4o-mini",name:"GPT-4o Mini",family:"GPT-4"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",family:"GPT-4"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",family:"GPT-3.5"}]},{id:"grok",name:"xAI",createProvider:e=>KG({apiKey:e}),defaultModel:"grok-beta",models:[{id:"grok-4-fast-reasoning",name:"Grok 4 Fast Reasoning",family:"Grok"},{id:"grok-4-fast-non-reasoning",name:"Grok 4 Fast Non-Reasoning",family:"Grok"},{id:"grok-3",name:"Grok 3",family:"Grok"},{id:"grok-3-mini",name:"Grok 3 Mini",family:"Grok"}]},{id:"anthropic",name:"Anthropic",createProvider:e=>vK({apiKey:e}),defaultModel:"claude-sonnet-4-0",models:[{id:"claude-opus-4-1",name:"Claude Opus 4.1",family:"Claude"},{id:"claude-opus-4-0",name:"Claude Opus 4.0",family:"Claude"},{id:"claude-sonnet-4-0",name:"Claude Sonnet 4.0",family:"Claude"},{id:"claude-3-7-sonnet-latest",name:"Claude 3.7 Sonnet",family:"Claude"},{id:"claude-3-5-haiku-latest",name:"Claude 3.5 Haiku",family:"Claude"}]}];function xK(e){return _K.find((t=>t.id===e))}function kK(e){const t=_K.find((t=>t.id===e));return t?t.models:[]}function DK(){var e;return(null===(e=_K[0])||void 0===e?void 0:e.id)||"openai"}function TK(e){const t=_K.find((t=>t.id===e));return(null===t||void 0===t?void 0:t.defaultModel)||"gpt-4o"}class AK extends TH{constructor(e,t){const n=xK("openai");if(!n)throw new Error("OpenAI provider config not found");super(n,e,t)}async generateSimilarPrompts(e,t,n){try{const i=this.getProvider()(this.modelId),a="Here is a test input to a model: ".concat(e," Generate 10 similar inputs, in the format of a js list. By similar, I mean: ").concat(t),{text:o}=await ZU({model:i,messages:[{role:"system",content:'You are a helpful assistant. Generate exactly 10 similar prompts in JavaScript array format like ["prompt1", "prompt2", ...].'},{role:"user",content:a}],temperature:n});try{const e=o.match(/\[[\s\S]*\]/);if(e){const t=e[0];return JSON.parse(t)}return JSON.parse(o)}catch(r){return console.error("Error parsing similar prompts:",r),o.split("\n").map((e=>e.trim())).filter((e=>e.length>0&&!e.startsWith("[")&&!e.startsWith("]"))).slice(0,10)}}catch(r){const e=r instanceof Error?r.message:String(r);return console.error("Error generating similar prompts:",r),alert("Error generating similar prompts: ".concat(e,"\n\nPlease check your API key and try again.")),[]}}}const SK="llm_consistency_study_session",CK="https://script.google.com/macros/s/AKfycbzjSK-bJaYB15HqtNBDNK9kjoDdJS9LDmkxMkoK22ij_kzsdGqtu5B58HIisn-qo5Ls/exec";function EK(){const e=iM("participant_id")||iM("user_id");return e||"participant_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}function FK(){const e=localStorage.getItem(SK);if(e)try{const t=JSON.parse(e);if(!t.submitted){const e=iM("participant_id")||iM("user_id");e&&e!==t.participantId&&(t.participantId=e,MK(t));const n=iM("prolific_pid"),r=iM("session_id"),i=iM("study_id");return n&&(t.prolificPid=n),r&&(t.sessionId=r),i&&(t.studyId=i),(n||r||i)&&MK(t),t}}catch(F){console.error("Error parsing stored session:",F)}const t=iM("prolific_pid"),n=iM("session_id"),r=iM("study_id"),i=u(u(u({participantId:EK(),interfaceVersion:LK.visType,startedAt:Date.now(),telemetry:[],submitted:!1},t&&{prolificPid:t}),n&&{sessionId:n}),r&&{studyId:r});return MK(i),i}function MK(e){if(LK.isUserStudy)try{localStorage.setItem(SK,JSON.stringify(e))}catch(F){console.error("Error saving session to localStorage:",F)}}function IK(){try{localStorage.removeItem(SK),console.log("\u2705 Telemetry session data cleared from localStorage")}catch(F){console.error("Error clearing session from localStorage:",F)}}function PK(e,t){if(!LK.isUserStudy)return;const n=FK(),r={timestamp:Date.now(),type:e,data:t};n.telemetry.push(r),MK(n)}function zK(e){return JSON.stringify(u(u(u({participantId:e.participantId,interfaceVersion:e.interfaceVersion,telemetry:e.telemetry},e.prolificPid&&{prolificPid:e.prolificPid}),e.sessionId&&{sessionId:e.sessionId}),e.studyId&&{studyId:e.studyId}))}function NK(){const e=FK();return e.telemetry.length>0&&!e.submitted}const OK={logSliderChange:(e,t,n)=>{PK("slider_change",{name:e,value:t,promptIndex:n})},logDropdownChange:(e,t,n)=>{PK("dropdown_change",{name:e,value:t,promptIndex:n})},logPromptEdit:(e,t)=>{PK("prompt_edit",{promptIndex:e,text:t})},logGenerateSimilar:(e,t)=>{PK("generate_similar",{promptIndex:e,similarityText:t})},logNodeClick:(e,t)=>{PK("node_click",{nodeWord:e,nodeData:t})},logGraphPan:(e,t)=>{PK("graph_pan",{translateX:e,translateY:t})},logGraphZoom:(e,t,n)=>{PK("graph_zoom",{scale:e,translateX:t,translateY:n})},logVisTypeChange:e=>{PK("vis_type_change",{visType:e})},logPromptAdd:(e,t)=>{PK("prompt_add",{promptIndex:e,text:t})},logPromptDelete:e=>{PK("prompt_delete",{promptIndex:e})},logPromptToggleDisabled:(e,t)=>{PK("prompt_toggle_disabled",{promptIndex:e,disabled:t})},logPromptSelect:(e,t,n)=>{PK("prompt_select",{promptIndex:e,text:t,source:n})},logPageLoad:function(){PK("page_load",{url:window.location.href,userAgent:navigator.userAgent})},log:PK,clearSessionData:IK};"undefined"!==typeof window&&(window.clearTelemetryData=IK,console.log("\ud83d\udca1 Dev tool: Call clearTelemetryData() in the console to clear telemetry data"));const BK=lM.map((e=>{var t;return(null===(t=Cw(e))||void 0===t?void 0:t.copy({opacity:.3}).formatHex8())||"black"}));const LK=new class{constructor(){var e,t,n,r=this;this.loading=!1,this.prompts=[],this.numGenerations=30,this.shuffle=!1,this.tokenizeMode="space",this.isUserStudy=!1,this.visType="graph",this.generationsCache={},this.disabledPrompts=[],this.failedFetches=new Set,this.selectedModelFamily=DK(),this.selectedModel=TK(DK()),this.llmInstanceCache={},this.getPromptColor=e=>BK[e%BK.length],this.addPrompt=function(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const a=r.prompts[r.prompts.length-1],o=i||(null===a||void 0===a?void 0:a.text)||"",s=null!==(e=null===a||void 0===a?void 0:a.temp)&&void 0!==e?e:.7,l=null!==(t=null===a||void 0===a?void 0:a.modelFamily)&&void 0!==t?t:r.selectedModelFamily,c=null!==(n=null===a||void 0===a?void 0:a.model)&&void 0!==n?n:r.selectedModel,u=r.prompts.length;r.prompts=[...r.prompts,{text:o,temp:s,modelFamily:l,model:c}],OK.logPromptAdd(u,o)},this.updatePromptTextAt=(e,t)=>{const n=[...this.prompts];n[e]=u(u({},n[e]),{},{text:t}),this.prompts=n},this.updatePromptTempAt=(e,t)=>{const n=[...this.prompts];n[e]=u(u({},n[e]),{},{temp:t}),this.prompts=n},this.updatePromptModelFamilyAt=(e,t)=>{const n=[...this.prompts];this.clearFailedFetchForPrompt(n[e]),n[e]=u(u({},n[e]),{},{modelFamily:t}),n[e]=u(u({},n[e]),{},{model:TK(t)}),this.prompts=n},this.updatePromptModelAt=(e,t)=>{const n=[...this.prompts];this.clearFailedFetchForPrompt(n[e]),n[e]=u(u({},n[e]),{},{model:t}),this.prompts=n},this.removePromptAt=Hf((e=>{if(0===e&&this.prompts.length<=1)return;const t=[...this.prompts];t.splice(e,1),this.prompts=t,this.disabledPrompts=this.disabledPrompts.filter((t=>t!==e)).map((t=>t>e?t-1:t))})),this.togglePromptDisabled=Hf((e=>{0===e&&this.prompts.length<=1||(this.disabledPrompts.includes(e)?this.disabledPrompts=this.disabledPrompts.filter((t=>t!==e)):this.disabledPrompts=[...this.disabledPrompts,e])})),this.isPromptDisabled=e=>this.disabledPrompts.includes(e),this.setNumGenerations=e=>{this.numGenerations=e},this.setShuffle=e=>{this.shuffle=e},this.setTokenizeMode=e=>{this.tokenizeMode=e},this.setModelFamily=e=>{this.selectedModelFamily=e,this.selectedModel=TK(e)},this.setModel=e=>{this.selectedModel=e},this.setVisType=e=>{this.visType=e},this.clearFailedFetchForPrompt=e=>{const t="".concat(e.text,"|").concat(e.temp,"|").concat(e.modelFamily,"|").concat(e.model);this.failedFetches.delete(t);const n="".concat(e.modelFamily,":").concat(e.model);delete this.llmInstanceCache[n]},this.clearAllFailedFetches=()=>{this.failedFetches.clear(),this.llmInstanceCache={}},Ah(e=this)?rm(e,e,t,n):gg((function(){var r=Zm(e,n)[$h];if(!e[Dm]){var i=Object.getPrototypeOf(e),a=new Set([].concat(zh(e),zh(i)));a.delete("constructor"),a.delete($h),Ch(i,Dm,a)}e[Dm].forEach((function(e){return r.make_(e,!t||!(e in t)||t[e])}))})),this.isUserStudy="true"===iM("is_user_study");const i=iM("vis_type");if(i){["graph","raw_outputs","first_output","word_tree","highlights"].includes(i)&&(this.visType=i)}const a=DK(),o=TK(a);for(const[u,m]of Object.entries(sM)){var s,l,c,d,h,p;null!==(l=(s=this.generationsCache)[u])&&void 0!==l||(s[u]={}),null!==(d=(c=this.generationsCache[u])[.7])&&void 0!==d||(c[.7]={}),null!==(p=(h=this.generationsCache[u][.7])[a])&&void 0!==p||(h[a]={}),this.generationsCache[u][.7][a][o]=m}const f=Object.keys(sM)[0];this.prompts=[{text:f,temp:.7,modelFamily:a,model:o}]}getLLMInstance(e,t){const n="".concat(e,":").concat(t);return this.llmInstanceCache[n]||(this.llmInstanceCache[n]=function(e,t,n){if("openai"===e)return new AK(t,n);const r=xK(e);if(!r)throw new Error("Unknown provider: ".concat(e));return new TH(r,t,n)}(e,t)),this.llmInstanceCache[n]}async fetchFromLLM(e,t,n,r,i){try{const a=this.getLLMInstance(r,i);return await a.generateCompletions(e,t,n)}catch(a){return console.error("Error fetching from LLM:",a),[]}}async fetchGenerationsFor(e){var t,n,r,i,a,o,s,l;const c=this.prompts[e];if(!c)return[];const u=c.text,d=c.temp,h=c.modelFamily,p=c.model,f=this.numGenerations;if(!u)return[];null!==(n=(t=this.generationsCache)[u])&&void 0!==n||(t[u]={}),null!==(i=(r=this.generationsCache[u])[d])&&void 0!==i||(r[d]={}),null!==(o=(a=this.generationsCache[u][d])[h])&&void 0!==o||(a[h]={}),null!==(l=(s=this.generationsCache[u][d][h])[p])&&void 0!==l||(s[p]=[]);let m=this.generationsCache[u][d][h][p];const g=m.length;if(g>=f)return m.slice(0,f);const y="".concat(u,"|").concat(d,"|").concat(h,"|").concat(p);if(this.failedFetches.has(y))return m;const b=f-g;this.loading=!0;const w=await this.fetchFromLLM(u,d,b,h,p);return 0===w.length&&this.failedFetches.add(y),this.generationsCache[u][d][h][p].push(...w),this.loading=!1,this.generationsCache[u][d][h][p].slice(0,f)}async generateSimilarPrompts(e,t,n){try{const r=this.getLLMInstance("openai","gpt-4o");return await r.generateSimilarPrompts(e,t,n)}catch(r){return console.error("Error generating similar prompts:",r),[]}}};class RK{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.children={},this.numTotalChildren=void 0,this.isLeaf=void 0,this.parent=void 0,this.weight=0,this.children={},this.isLeaf=!1,this.numTotalChildren=0,this.parent=e}}class jK{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"space";this.root=void 0,this.tokenizeMode=void 0,this.root=new RK,this.tokenizeMode=e}async insert(e){const t=await XF(e,void 0,this.tokenizeMode);let n=this.root;for(let r of t)r=ZF(r),n.children[r]||(n.children[r]=new RK(n)),n.isLeaf=!1,n=n.children[r],n.weight+=1;Object.keys(n.children).length||(n.isLeaf=!0)}async insertSents(e){for(const t of e)await this.insert(t);this.computeNumLeafChildren()}computeNumLeafChildren(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;if(e.isLeaf)return e.numTotalChildren=1,1;let t=0;for(const n of Object.values(e.children))t+=this.computeNumLeafChildren(n);return e.numTotalChildren=t,t}}var VK=__webpack_require__(579);class WK extends n.Component{constructor(){super(...arguments),this.trie=new jK,this.state={hoveredToken:"",trieReady:!1}}async componentDidMount(){await this.initializeTrie()}async componentDidUpdate(e){e.generations!==this.props.generations&&(this.setState({hoveredToken:""}),await this.initializeTrie())}async initializeTrie(){const e=this.props.generations;e&&(this.trie=new jK(LK.tokenizeMode),await this.trie.insertSents(e),this.setState({trieReady:!0}))}render(){const e=this.props.generations;if(!e||!this.state.trieReady)return null;const t=35*e.length,n=t/this.trie.root.numTotalChildren,r=(e,t,i,a,o)=>{const s=Object.entries(e.children),l=e.numTotalChildren*n,c=s.length;let d=0;const h=s.reverse().map((t=>{const[n,r]=t,i=r.numTotalChildren/e.numTotalChildren/2||0;return d+=i,d})),p=l/2,f=A_().range([p,-p]).domain([0,1]);return s.map(((n,s)=>{const[l,d]=n,p=d.weight/10,m=Math.ceil(Math.max(12,30*p)),g=.6*m,y=f(h[s]),b=l.length*g,w=b+g*(1===Object.keys(d.children).length?1:5),v=i+y,_=t,x=_+b,k=v-m/2,D=1===c||e===this.trie.root?"":(0,VK.jsx)("path",{d:"M ".concat(a," ").concat(o," \n                            C ").concat((a+_)/2," ").concat(o,", \n                              ").concat((a+_)/2," ").concat(k,", \n                              ").concat(_-5," ").concat(k),stroke:"black",fill:"transparent"}),T=this.state.hoveredToken===l?"rgb(163, 198, 250)":"rgba(0, 0, 0, 0)";return(0,VK.jsxs)("g",{children:[D,(0,VK.jsx)("rect",{x:_,y:v-m,width:b,height:m,fill:T}),(0,VK.jsxs)("text",{x:_,y:v,onMouseEnter:()=>this.setState((e=>u(u({},e),{},{hoveredToken:l}))),fontSize:m,children:[l,(0,VK.jsxs)("title",{children:[s," ",c," ",l]})]},l+t+i),r(d,_+w,v,x+5,k)]})}))};return(0,VK.jsx)("svg",{className:"wordtree-holder",style:{height:.6*t},children:r(this.trie.root,0,t/8+5,0,0)})}}const qK=ry(WK);class UK extends n.Component{constructor(){super(...arguments),this.state={hoveredToken:""}}render(){let e=this.props.generations;if(!e)return;let t=[...e];const[n,r]=this.getAllSubstrings(t),i=P_(R_).domain(n),a=[...t].sort();return(0,VK.jsx)("div",{className:"outputs",children:a.map(((e,t)=>{const a=r.map((t=>{const r=n.find((e=>e.includes(t)))||"",a=Cw(i(r));a.opacity=.2;const o=e.replace(t,"<span style='background-color:".concat(a,"'>").concat(t,"</span>"));return(0,VK.jsx)("div",{className:"highlight",dangerouslySetInnerHTML:{__html:o}})}));return(0,VK.jsxs)("div",{className:"line-holder",children:[a,(0,VK.jsx)("div",{children:e})]},"".concat(e,"-").concat(t))}))})}getAllSubstrings(e){const t={};for(let i of e){let e,n;const r=i.split(" ");for(e=0;e<r.length;e++)for(n=e+1;n<r.length+1;n++){const i=r.slice(e,n).join(" ");i in t||(t[i]=0),t[i]+=1}}const n=Object.entries(t).filter((e=>{let[t,n]=e;return n>=2&&t.length>=2})).sort(((e,t)=>t[1]-e[1])).sort(((e,t)=>t[0].length-e[0].length)).map((e=>{let[t,n]=e;return t})),r=[];return n.forEach((e=>{r.join("").includes(e)||r.push(e)})),[r,n]}}const HK=ry(UK);function GK(e){return function(){return e}}class KK extends n.Component{constructor(e){super(e),this.popupRef=n.createRef(),this.handleToggleMaximize=()=>{this.setState((e=>({isMaximized:!e.isMaximized})))},this.state={examples:[],matchingCount:0,totalGenerations:this.calculateTotalGenerations(e.promptGroups),isMaximized:!1}}componentDidUpdate(e){const t=!this.areNodeArraysEqual(e.nodes,this.props.nodes),n=e.isVisible!==this.props.isVisible,r=e.promptGroups!==this.props.promptGroups;if((this.props.isVisible&&(t||n||r)||!e.isVisible&&this.props.isVisible)&&this.updatePopupContent(),r&&!this.props.isVisible){const e=this.calculateTotalGenerations(this.props.promptGroups);e!==this.state.totalGenerations&&this.setState({totalGenerations:e})}if(!this.props.isVisible&&n){const e=this.calculateTotalGenerations(this.props.promptGroups);(this.state.examples.length||this.state.matchingCount)&&this.setState({examples:[],matchingCount:0,totalGenerations:e})}}updatePopupContent(){const{nodes:e,promptGroups:t}=this.props,n=this.calculateTotalGenerations(t);if(!e.length)return void((this.state.examples.length||this.state.matchingCount||this.state.totalGenerations!==n)&&this.setState({examples:[],matchingCount:0,totalGenerations:n}));const r=this.getCommonSentIndices(e);if(!r.length)return void((this.state.examples.length||this.state.matchingCount||this.state.totalGenerations!==n)&&this.setState({examples:[],matchingCount:0,totalGenerations:n}));const i=this.buildSentenceHighlights(e,r),a=this.buildExamples(t,r,i),o=a.length;this.areExamplesEqual(a,this.state.examples)&&o===this.state.matchingCount&&n===this.state.totalGenerations||this.setState({examples:a,matchingCount:o,totalGenerations:n})}buildExamples(e,t,n){const r=new Set(t),i=[];let a=0;return e.forEach((e=>{e.generations.forEach((t=>{if(a++,!r.has(a))return;const o=this.getPromptColor(e.promptId),s=n.get(a)||[],l=this.createHighlightedHtml(t,s);i.push({html:l,sentIdx:a,promptId:e.promptId,textColor:o})}))})),i}buildSentenceHighlights(e,t){const n=new Map,r=new Set(t),i=e.map(((e,t)=>{const n=this.getNodeKey(e,t),i=this.getNodeDisplayColor(e,t),a=new Map;return(e.origSentenceInfo||[]).forEach((e=>{if(!r.has(e.sentIdx))return;const t=e.origWords.join(" ").trim();t&&(a.has(e.sentIdx)||a.set(e.sentIdx,[]),a.get(e.sentIdx).push(t))})),{node:e,index:t,key:n,color:i,infoBySentence:a}}));return t.forEach((e=>{const t=[];i.forEach((n=>{let{node:r,key:i,color:a,infoBySentence:o}=n;const s=o.get(e)||[r.word],l=Array.from(new Set(s.map((e=>e.trim())).filter((e=>e.length))));t.push({key:i,color:a,nodeWord:r.word,phrases:l.length?l:[r.word]})})),n.set(e,t)})),n}createHighlightedHtml(e,t){const n=[];if(t.forEach((t=>{const r=[...t.phrases].sort(((e,t)=>t.length-e.length)),i=this.withAlpha(t.color,.2);r.forEach((t=>{const r=this.findMatches(e,t);for(const e of r)if(!this.overlapsExistingRange(e.start,e.end,n)){n.push({start:e.start,end:e.end,color:i});break}}))})),!n.length)return this.escapeHtml(e);n.sort(((e,t)=>e.start-t.start));let r="",i=0;return n.forEach((t=>{t.start>i&&(r+=this.escapeHtml(e.slice(i,t.start)));const n=this.escapeHtml(e.slice(t.start,t.end));r+='<b style="background-color: '.concat(t.color,';">').concat(n,"</b>"),i=t.end})),i<e.length&&(r+=this.escapeHtml(e.slice(i))),r}findMatches(e,t){const n=t.trim();if(!n.length)return[];const r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(r,"gi"),a=[];let o;for(;null!==(o=i.exec(e));)a.push({start:o.index,end:o.index+o[0].length}),i.lastIndex===o.index&&i.lastIndex++;return a}overlapsExistingRange(e,t,n){return n.some((n=>!(t<=n.start||e>=n.end)))}escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\r\n|\r|\n/g,"<br/>")}calculateTotalGenerations(e){return e.reduce(((e,t)=>e+t.generations.length),0)}getPromptColor(e){const t=e.match(/_(\d+)_/),n=t?parseInt(t[1],10):0;return lM[n%lM.length]}getNodeDisplayColor(e,t){if(e.origPromptIds&&e.origPromptIds.length){var n;const t=null===(n=e.origPromptIds[0])||void 0===n?void 0:n.match(/_(\d+)_/);if(t){const e=parseInt(t[1],10);return lM[e%lM.length]}}const r=(e.word.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)+7*t)%lM.length;return lM[r]}getCommonSentIndices(e){if(!e.length)return[];let t=Array.from(new Set(e[0].origSentIndices||[]));for(let n=1;n<e.length;n++){const r=new Set(e[n].origSentIndices||[]);if(t=t.filter((e=>r.has(e))),!t.length)break}return t}areNodeArraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}areExamplesEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n].html!==t[n].html||e[n].sentIdx!==t[n].sentIdx||e[n].promptId!==t[n].promptId||e[n].textColor!==t[n].textColor)return!1;return!0}getNodeKey(e,t){return"".concat(e.word,"-").concat(t)}withAlpha(e,t){const n=Cw(e);if(!n)return e;const r=n.rgb();return r.opacity=t,r.toString()}render(){const{isVisible:e,onClose:t,nodes:r,onRemoveNode:i}=this.props,{examples:a,matchingCount:o,totalGenerations:s,isMaximized:l}=this.state,c=s>0?Math.round(o/s*100):0,u=(0,VK.jsx)("div",{className:"selected-nodes",children:r.map(((e,t)=>{const a=this.getNodeDisplayColor(e,t),o=this.withAlpha(a,.15);return(0,VK.jsxs)(n.Fragment,{children:[(0,VK.jsxs)("span",{className:"node-chip",style:{borderColor:a,color:a,backgroundColor:o},children:[(0,VK.jsx)("span",{className:"node-chip-label",children:ZF(e.word)}),(0,VK.jsx)("button",{type:"button",className:"node-chip-remove",onClick:()=>i(e),"aria-label":"Remove ".concat(e.word),children:"\xd7"})]}),t<r.length-1&&(0,VK.jsx)("span",{children:"or "})]},"".concat(e.word,"-").concat(t))}))});return(0,VK.jsxs)("div",{ref:this.popupRef,className:"node-examples-popup".concat(l?" maximized":""),style:{display:e?"block":"none"},children:[(0,VK.jsxs)("div",{className:"popup-header",children:[(0,VK.jsx)("div",{className:"popup-title",children:(0,VK.jsxs)("div",{className:"popup-title-main",children:["Examples containing ",u,": ",o,"/",s," (",c,"%)"]})}),(0,VK.jsxs)("div",{className:"popup-actions",children:[(0,VK.jsx)("button",{type:"button",className:"popup-action-button popup-maximize",onClick:this.handleToggleMaximize,children:l?"\u2199":"\u2197"}),(0,VK.jsx)("button",{className:"popup-action-button popup-close",onClick:t,"aria-label":"Close examples panel",children:"\xd7"})]})]}),(0,VK.jsx)("div",{className:"popup-content",children:0===o?(0,VK.jsx)("div",{className:"no-examples-message",children:"No examples found containing all selected nodes."}):a.map((e=>(0,VK.jsx)("div",{className:"example-item",style:{color:e.textColor},dangerouslySetInnerHTML:{__html:e.html}},"".concat(e.promptId,"-").concat(e.sentIdx))))})]})}}const YK=KK;function JK(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=JK(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const ZK=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=JK(e))&&(r&&(r+=" "),r+=t);return r};function XK(){return XK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XK.apply(null,arguments)}var $K=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(F){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),QK=Math.abs,eY=String.fromCharCode,tY=Object.assign;function nY(e){return e.trim()}function rY(e,t,n){return e.replace(t,n)}function iY(e,t){return e.indexOf(t)}function aY(e,t){return 0|e.charCodeAt(t)}function oY(e,t,n){return e.slice(t,n)}function sY(e){return e.length}function lY(e){return e.length}function cY(e,t){return t.push(e),e}var uY=1,dY=1,hY=0,pY=0,fY=0,mY="";function gY(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:uY,column:dY,length:o,return:""}}function yY(e,t){return tY(gY("",null,null,"",null,null,0),e,{length:-e.length},t)}function bY(){return fY=pY>0?aY(mY,--pY):0,dY--,10===fY&&(dY=1,uY--),fY}function wY(){return fY=pY<hY?aY(mY,pY++):0,dY++,10===fY&&(dY=1,uY++),fY}function vY(){return aY(mY,pY)}function _Y(){return pY}function xY(e,t){return oY(mY,e,t)}function kY(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DY(e){return uY=dY=1,hY=sY(mY=e),pY=0,[]}function TY(e){return mY="",e}function AY(e){return nY(xY(pY-1,EY(91===e?e+2:40===e?e+1:e)))}function SY(e){for(;(fY=vY())&&fY<33;)wY();return kY(e)>2||kY(fY)>3?"":" "}function CY(e,t){for(;--t&&wY()&&!(fY<48||fY>102||fY>57&&fY<65||fY>70&&fY<97););return xY(e,_Y()+(t<6&&32==vY()&&32==wY()))}function EY(e){for(;wY();)switch(fY){case e:return pY;case 34:case 39:34!==e&&39!==e&&EY(fY);break;case 40:41===e&&EY(e);break;case 92:wY()}return pY}function FY(e,t){for(;wY()&&e+fY!==57&&(e+fY!==84||47!==vY()););return"/*"+xY(t,pY-1)+"*"+eY(47===e?e:wY())}function MY(e){for(;!kY(vY());)wY();return xY(e,pY)}var IY="-ms-",PY="-moz-",zY="-webkit-",NY="comm",OY="rule",BY="decl",LY="@keyframes";function RY(e,t){for(var n="",r=lY(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function jY(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case BY:return e.return=e.return||e.value;case NY:return"";case LY:return e.return=e.value+"{"+RY(e.children,r)+"}";case OY:e.value=e.props.join(",")}return sY(n=RY(e.children,r))?e.return=e.value+"{"+n+"}":""}function VY(e){return TY(WY("",null,null,null,[""],e=DY(e),0,[0],e))}function WY(e,t,n,r,i,a,o,s,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,m=1,g=1,y=1,b=0,w="",v=i,_=a,x=r,k=w;g;)switch(f=b,b=wY()){case 40:if(108!=f&&58==aY(k,d-1)){-1!=iY(k+=rY(AY(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:k+=AY(b);break;case 9:case 10:case 13:case 32:k+=SY(f);break;case 92:k+=CY(_Y()-1,7);continue;case 47:switch(vY()){case 42:case 47:cY(UY(FY(wY(),_Y()),t,n),l);break;default:k+="/"}break;case 123*m:s[c++]=sY(k)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==y&&(k=rY(k,/\f/g,"")),p>0&&sY(k)-d&&cY(p>32?HY(k+";",r,n,d-1):HY(rY(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(cY(x=qY(k,t,n,c,u,i,s,w,v=[],_=[],d),a),123===b)if(0===u)WY(k,t,x,x,v,a,d,s,_);else switch(99===h&&110===aY(k,3)?100:h){case 100:case 108:case 109:case 115:WY(e,x,x,r&&cY(qY(e,x,x,0,0,i,s,w,i,v=[],d),_),i,_,d,s,r?v:_);break;default:WY(k,x,x,x,[""],_,0,s,_)}}c=u=p=0,m=y=1,w=k="",d=o;break;case 58:d=1+sY(k),p=f;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==bY())continue;switch(k+=eY(b),b*m){case 38:y=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(sY(k)-1)*y,y=1;break;case 64:45===vY()&&(k+=AY(wY())),h=vY(),u=d=sY(w=k+=MY(_Y())),b++;break;case 45:45===f&&2==sY(k)&&(m=0)}}return a}function qY(e,t,n,r,i,a,o,s,l,c,u){for(var d=i-1,h=0===i?a:[""],p=lY(h),f=0,m=0,g=0;f<r;++f)for(var y=0,b=oY(e,d+1,d=QK(m=o[f])),w=e;y<p;++y)(w=nY(m>0?h[y]+" "+b:rY(b,/&\f/g,h[y])))&&(l[g++]=w);return gY(e,t,n,0===i?OY:s,l,c,u)}function UY(e,t,n){return gY(e,t,n,NY,eY(fY),oY(e,2,-2),0)}function HY(e,t,n,r){return gY(e,t,n,BY,oY(e,0,r),oY(e,r+1,-1),r)}var GY=function(e,t,n){for(var r=0,i=0;r=i,i=vY(),38===r&&12===i&&(t[n]=1),!kY(i);)wY();return xY(e,pY)},KY=function(e,t){return TY(function(e,t){var n=-1,r=44;do{switch(kY(r)){case 0:38===r&&12===vY()&&(t[n]=1),e[n]+=GY(pY-1,t,n);break;case 2:e[n]+=AY(r);break;case 4:if(44===r){e[++n]=58===vY()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=eY(r)}}while(r=wY());return e}(DY(e),t))},YY=new WeakMap,JY=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||YY.get(n))&&!r){YY.set(e,!0);for(var i=[],a=KY(t,i),o=n.props,s=0,l=0;s<a.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},ZY=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function XY(e,t){switch(function(e,t){return 45^aY(e,0)?(((t<<2^aY(e,0))<<2^aY(e,1))<<2^aY(e,2))<<2^aY(e,3):0}(e,t)){case 5103:return zY+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zY+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return zY+e+PY+e+IY+e+e;case 6828:case 4268:return zY+e+IY+e+e;case 6165:return zY+e+IY+"flex-"+e+e;case 5187:return zY+e+rY(e,/(\w+).+(:[^]+)/,zY+"box-$1$2"+IY+"flex-$1$2")+e;case 5443:return zY+e+IY+"flex-item-"+rY(e,/flex-|-self/,"")+e;case 4675:return zY+e+IY+"flex-line-pack"+rY(e,/align-content|flex-|-self/,"")+e;case 5548:return zY+e+IY+rY(e,"shrink","negative")+e;case 5292:return zY+e+IY+rY(e,"basis","preferred-size")+e;case 6060:return zY+"box-"+rY(e,"-grow","")+zY+e+IY+rY(e,"grow","positive")+e;case 4554:return zY+rY(e,/([^-])(transform)/g,"$1"+zY+"$2")+e;case 6187:return rY(rY(rY(e,/(zoom-|grab)/,zY+"$1"),/(image-set)/,zY+"$1"),e,"")+e;case 5495:case 3959:return rY(e,/(image-set\([^]*)/,zY+"$1$`$1");case 4968:return rY(rY(e,/(.+:)(flex-)?(.*)/,zY+"box-pack:$3"+IY+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zY+e+e;case 4095:case 3583:case 4068:case 2532:return rY(e,/(.+)-inline(.+)/,zY+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sY(e)-1-t>6)switch(aY(e,t+1)){case 109:if(45!==aY(e,t+4))break;case 102:return rY(e,/(.+:)(.+)-([^]+)/,"$1"+zY+"$2-$3$1"+PY+(108==aY(e,t+3)?"$3":"$2-$3"))+e;case 115:return~iY(e,"stretch")?XY(rY(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==aY(e,t+1))break;case 6444:switch(aY(e,sY(e)-3-(~iY(e,"!important")&&10))){case 107:return rY(e,":",":"+zY)+e;case 101:return rY(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zY+(45===aY(e,14)?"inline-":"")+"box$3$1"+zY+"$2$3$1"+IY+"$2box$3")+e}break;case 5936:switch(aY(e,t+11)){case 114:return zY+e+IY+rY(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return zY+e+IY+rY(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return zY+e+IY+rY(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return zY+e+IY+e+e}return e}var $Y=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case BY:e.return=XY(e.value,e.length);break;case LY:return RY([yY(e,{value:rY(e.value,"@","@"+zY)})],r);case OY:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return RY([yY(e,{props:[rY(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return RY([yY(e,{props:[rY(t,/:(plac\w+)/,":"+zY+"input-$1")]}),yY(e,{props:[rY(t,/:(plac\w+)/,":-moz-$1")]}),yY(e,{props:[rY(t,/:(plac\w+)/,IY+"input-$1")]})],r)}return""}))}}],QY=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,a=e.stylisPlugins||$Y,o={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l,c,u=[jY,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=lY(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([JY,ZY].concat(a,u));i=function(e,t,n,r){l=n,RY(VY(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new $K({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:i};return h.sheet.hydrate(s),h};var eJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function tJ(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var nJ=/[A-Z]|^ms/g,rJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iJ=function(e){return 45===e.charCodeAt(1)},aJ=function(e){return null!=e&&"boolean"!==typeof e},oJ=tJ((function(e){return iJ(e)?e:e.replace(nJ,"-$&").toLowerCase()})),sJ=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(rJ,(function(e,t,n){return cJ={name:t,styles:n,next:cJ},t}))}return 1===eJ[e]||iJ(e)||"number"!==typeof t||0===t?t:t+"px"};function lJ(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return cJ={name:i.name,styles:i.styles,next:cJ},i.name;var a=n;if(void 0!==a.styles){var o=a.next;if(void 0!==o)for(;void 0!==o;)cJ={name:o.name,styles:o.styles,next:cJ},o=o.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=lJ(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o){var s=o;null!=t&&void 0!==t[s]?r+=a+"{"+t[s]+"}":aJ(s)&&(r+=oJ(a)+":"+sJ(a,s)+";")}else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=lJ(e,t,o);switch(a){case"animation":case"animationName":r+=oJ(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var c=0;c<o.length;c++)aJ(o[c])&&(r+=oJ(a)+":"+sJ(a,o[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=cJ,l=n(e);return cJ=s,lJ(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var cJ,uJ=/label:\s*([^\s;{]+)\s*(;|$)/g;function dJ(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";cJ=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=lJ(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++){if(i+=lJ(n,t,e[o]),r)i+=a[o]}uJ.lastIndex=0;for(var s,l="";null!==(s=uJ.exec(i));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:cJ}}var hJ=!!r.useInsertionEffect&&r.useInsertionEffect,pJ=hJ||function(e){return e()},fJ=(hJ||n.useLayoutEffect,n.createContext("undefined"!==typeof HTMLElement?QY({key:"css"}):null)),mJ=(fJ.Provider,function(e){return(0,n.forwardRef)((function(t,r){var i=(0,n.useContext)(fJ);return e(t,i,r)}))}),gJ=n.createContext({});var yJ=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},bJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wJ=tJ((function(e){return bJ.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),vJ=function(e){return"theme"!==e},_J=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?wJ:vJ},xJ=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},kJ=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return yJ(t,n,r),pJ((function(){return function(e,t,n){yJ(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},DJ=function e(t,r){var i,a,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==r&&(i=r.label,a=r.target);var l=xJ(t,r,o),c=l||_J(s),u=!c("as");return function(){var d=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],p[m])}var g=mJ((function(e,t,r){var i=u&&e.as||s,o="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=n.useContext(gJ)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(t.registered,d,e.className):null!=e.className&&(o=e.className+" ");var m=dJ(h.concat(d),t.registered,p);o+=t.key+"-"+m.name,void 0!==a&&(o+=" "+a);var g=u&&void 0===l?_J(i):c,y={};for(var b in e)u&&"as"===b||g(b)&&(y[b]=e[b]);return y.className=o,r&&(y.ref=r),n.createElement(n.Fragment,null,n.createElement(kJ,{cache:t,serialized:m,isStringTag:"string"===typeof i}),n.createElement(i,y))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(t,n){return e(t,XK({},r,n,{shouldForwardProp:xJ(g,n,!0)})).apply(void 0,h)},g}}.bind(null);function TJ(e,t){return DJ(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){DJ[e]=DJ(e)}));const AJ=[];function SJ(e){return AJ[0]=e,dJ(AJ)}function CJ(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function EJ(e){if("string"!==typeof e)throw new Error(CJ(7));return e.charAt(0).toUpperCase()+e.slice(1)}var FJ=__webpack_require__(191);function MJ(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function IJ(e){if(n.isValidElement(e)||(0,FJ.Hy)(e)||!MJ(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=IJ(e[n])})),t}function PJ(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=r.clone?u({},e):e;return MJ(e)&&MJ(t)&&Object.keys(t).forEach((a=>{n.isValidElement(t[a])||(0,FJ.Hy)(t[a])?i[a]=t[a]:MJ(t[a])&&Object.prototype.hasOwnProperty.call(e,a)&&MJ(e[a])?i[a]=PJ(e[a],t[a],r):r.clone?i[a]=MJ(t[a])?IJ(t[a]):t[a]:i[a]=t[a]})),i}const zJ=function(e,t){return t?PJ(e,t,{clone:!1}):e};function NJ(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),u({},t)):t}const OJ={xs:0,sm:600,md:900,lg:1200,xl:1536},BJ={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(OJ[e],"px)")},LJ={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:OJ[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function RJ(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||BJ;return t.reduce(((r,i,a)=>(r[e.up(e.keys[a])]=n(t[a]),r)),{})}if("object"===typeof t){const e=r.breakpoints||BJ;return Object.keys(t).reduce(((i,a)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,a)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,a=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(a)}(r.containerQueries?r:LJ,a);e&&(i[e]=n(t[a],a))}else if(Object.keys(e.values||OJ).includes(a)){i[e.up(a)]=n(t[a],a)}else{const e=a;i[e]=t[e]}return i}),{})}return n(t)}function jJ(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function VJ(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function WJ(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function qJ(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:WJ(e,n)||i,t&&(r=t(r,i,e)),r}const UJ=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,a=e=>{if(null==e[t])return null;const a=e[t],o=WJ(e.theme,r)||{};return RJ(e,a,(e=>{let r=qJ(o,i,e);return e===r&&"string"===typeof e&&(r=qJ(o,i,"".concat(t).concat("default"===e?"":EJ(e)),e)),!1===n?r:{[n]:r}}))};return a.propTypes={},a.filterProps=[t],a};const HJ={m:"margin",p:"padding"},GJ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},KJ={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},YJ=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!KJ[e])return[e];e=KJ[e]}const[t,n]=e.split(""),r=HJ[t],i=GJ[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),JJ=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ZJ=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],XJ=[...JJ,...ZJ];function $J(e,t,n,r){var i;const a=null!==(i=WJ(e,t,!0))&&void 0!==i?i:n;return"number"===typeof a||"string"===typeof a?e=>"string"===typeof e?e:"string"===typeof a?a.startsWith("var(")&&0===e?0:a.startsWith("var(")&&1===e?a:"calc(".concat(e," * ").concat(a,")"):a*e:Array.isArray(a)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=a[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof a?a:()=>{}}function QJ(e){return $J(e,"spacing",8)}function eZ(e,t){return"string"===typeof t||null==t?t:e(t)}function tZ(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=eZ(t,n),e)),{})}(YJ(n),r);return RJ(e,e[n],i)}function nZ(e,t){const n=QJ(e.theme);return Object.keys(e).map((r=>tZ(e,t,r,n))).reduce(zJ,{})}function rZ(e){return nZ(e,JJ)}function iZ(e){return nZ(e,ZJ)}function aZ(e){return nZ(e,XJ)}rZ.propTypes={},rZ.filterProps=JJ,iZ.propTypes={},iZ.filterProps=ZJ,aZ.propTypes={},aZ.filterProps=XJ;const oZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?zJ(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function sZ(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function lZ(e,t){return UJ({prop:e,themeKey:"borders",transform:t})}const cZ=lZ("border",sZ),uZ=lZ("borderTop",sZ),dZ=lZ("borderRight",sZ),hZ=lZ("borderBottom",sZ),pZ=lZ("borderLeft",sZ),fZ=lZ("borderColor"),mZ=lZ("borderTopColor"),gZ=lZ("borderRightColor"),yZ=lZ("borderBottomColor"),bZ=lZ("borderLeftColor"),wZ=lZ("outline",sZ),vZ=lZ("outlineColor"),_Z=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=$J(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:eZ(t,e)});return RJ(e,e.borderRadius,n)}return null};_Z.propTypes={},_Z.filterProps=["borderRadius"];oZ(cZ,uZ,dZ,hZ,pZ,fZ,mZ,gZ,yZ,bZ,_Z,wZ,vZ);const xZ=e=>{if(void 0!==e.gap&&null!==e.gap){const t=$J(e.theme,"spacing",8),n=e=>({gap:eZ(t,e)});return RJ(e,e.gap,n)}return null};xZ.propTypes={},xZ.filterProps=["gap"];const kZ=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=$J(e.theme,"spacing",8),n=e=>({columnGap:eZ(t,e)});return RJ(e,e.columnGap,n)}return null};kZ.propTypes={},kZ.filterProps=["columnGap"];const DZ=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=$J(e.theme,"spacing",8),n=e=>({rowGap:eZ(t,e)});return RJ(e,e.rowGap,n)}return null};DZ.propTypes={},DZ.filterProps=["rowGap"];oZ(xZ,kZ,DZ,UJ({prop:"gridColumn"}),UJ({prop:"gridRow"}),UJ({prop:"gridAutoFlow"}),UJ({prop:"gridAutoColumns"}),UJ({prop:"gridAutoRows"}),UJ({prop:"gridTemplateColumns"}),UJ({prop:"gridTemplateRows"}),UJ({prop:"gridTemplateAreas"}),UJ({prop:"gridArea"}));function TZ(e,t){return"grey"===t?t:e}oZ(UJ({prop:"color",themeKey:"palette",transform:TZ}),UJ({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:TZ}),UJ({prop:"backgroundColor",themeKey:"palette",transform:TZ}));function AZ(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const SZ=UJ({prop:"width",transform:AZ}),CZ=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||OJ[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:AZ(t)}};return RJ(e,e.maxWidth,t)}return null};CZ.filterProps=["maxWidth"];const EZ=UJ({prop:"minWidth",transform:AZ}),FZ=UJ({prop:"height",transform:AZ}),MZ=UJ({prop:"maxHeight",transform:AZ}),IZ=UJ({prop:"minHeight",transform:AZ}),PZ=(UJ({prop:"size",cssProperty:"width",transform:AZ}),UJ({prop:"size",cssProperty:"height",transform:AZ}),oZ(SZ,CZ,EZ,FZ,MZ,IZ,UJ({prop:"boxSizing"})),{border:{themeKey:"borders",transform:sZ},borderTop:{themeKey:"borders",transform:sZ},borderRight:{themeKey:"borders",transform:sZ},borderBottom:{themeKey:"borders",transform:sZ},borderLeft:{themeKey:"borders",transform:sZ},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:sZ},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_Z},color:{themeKey:"palette",transform:TZ},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:TZ},backgroundColor:{themeKey:"palette",transform:TZ},p:{style:iZ},pt:{style:iZ},pr:{style:iZ},pb:{style:iZ},pl:{style:iZ},px:{style:iZ},py:{style:iZ},padding:{style:iZ},paddingTop:{style:iZ},paddingRight:{style:iZ},paddingBottom:{style:iZ},paddingLeft:{style:iZ},paddingX:{style:iZ},paddingY:{style:iZ},paddingInline:{style:iZ},paddingInlineStart:{style:iZ},paddingInlineEnd:{style:iZ},paddingBlock:{style:iZ},paddingBlockStart:{style:iZ},paddingBlockEnd:{style:iZ},m:{style:rZ},mt:{style:rZ},mr:{style:rZ},mb:{style:rZ},ml:{style:rZ},mx:{style:rZ},my:{style:rZ},margin:{style:rZ},marginTop:{style:rZ},marginRight:{style:rZ},marginBottom:{style:rZ},marginLeft:{style:rZ},marginX:{style:rZ},marginY:{style:rZ},marginInline:{style:rZ},marginInlineStart:{style:rZ},marginInlineEnd:{style:rZ},marginBlock:{style:rZ},marginBlockStart:{style:rZ},marginBlockEnd:{style:rZ},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xZ},rowGap:{style:DZ},columnGap:{style:kZ},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:AZ},maxWidth:{style:CZ},minWidth:{transform:AZ},height:{transform:AZ},maxHeight:{transform:AZ},minHeight:{transform:AZ},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),zZ=PZ;const NZ=function(){function e(e,t,n,r){const i={[e]:t,theme:n},a=r[e];if(!a)return{[e]:t};const{cssProperty:o=e,themeKey:s,transform:l,style:c}=a;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const u=WJ(n,s)||{};if(c)return c(i);return RJ(i,t,(t=>{let n=qJ(u,l,t);return t===n&&"string"===typeof t&&(n=qJ(u,l,"".concat(e).concat("default"===t?"":EJ(t)),t)),!1===o?n:{[o]:n}}))}return function t(n){var r;const{sx:i,theme:a={},nested:o}=n||{};if(!i)return null;const s=null!==(r=a.unstable_sxConfig)&&void 0!==r?r:zZ;function l(n){let r=n;if("function"===typeof n)r=n(a);else if("object"!==typeof n)return n;if(!r)return null;const i=jJ(a.breakpoints),l=Object.keys(i);let c=i;return Object.keys(r).forEach((n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],a);if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])c=zJ(c,e(n,i,a,s));else{const e=RJ({theme:a},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?c=zJ(c,e):c[n]=t({sx:i,theme:a,nested:!0})}else c=zJ(c,e(n,i,a,s))})),!o&&a.modularCssLayers?{"@layer sx":NJ(a,VJ(l,c))}:NJ(a,VJ(l,c))}return Array.isArray(i)?i.map(l):l(i)}}();NZ.filterProps=["sx"];const OZ=NZ,BZ=["sx"];function LZ(e){const{sx:t}=e,n=a(e,BZ),{systemProps:r,otherProps:i}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:zZ;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return MJ(e)?u(u({},r),e):r}:u(u({},r),t),u(u({},i),{},{sx:o})}const RZ=["values","unit","step"];function jZ(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=a(e,RZ),o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>u(u({},e),{},{[t.key]:t.val})),{})})(t),s=Object.keys(o);function l(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function d(e,i){const a=s.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==a&&"number"===typeof t[s[a]]?t[s[a]]:i)-r/100).concat(n,")")}return u({keys:s,values:o,up:l,down:c,between:d,only:function(e){return s.indexOf(e)+1<s.length?d(e,s[s.indexOf(e)+1]):l(e)},not:function(e){const t=s.indexOf(e);return 0===t?l(s[1]):t===s.length-1?c(s[t]):d(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}const VZ={borderRadius:4};function WZ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QJ({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}function qZ(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const UZ=["breakpoints","palette","spacing","shape"];const HZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=a(e,UZ),s=jZ(t),l=WZ(r);let c=PJ({breakpoints:s,direction:"ltr",components:{},palette:u({mode:"light"},n),spacing:l,shape:u(u({},VZ),i)},o);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),u(u({},e),{},{containerQueries:i})}(c),c.applyStyles=qZ;for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return c=h.reduce(((e,t)=>PJ(e,t)),c),c.unstable_sxConfig=u(u({},zZ),null===o||void 0===o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return OZ({sx:e,theme:this})},c};const GZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=n.useContext(gJ);return t&&(r=t,0!==Object.keys(r).length)?t:e;var r},KZ=HZ();const YZ=function(){return GZ(arguments.length>0&&void 0!==arguments[0]?arguments[0]:KZ)},JZ=["className","component"];const ZZ=e=>e,XZ=(()=>{let e=ZZ;return{configure(t){e=t},generate:t=>e(t),reset(){e=ZZ}}})();const $Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function QZ(e){return $Z(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function eX(e){if(e.type)return e;if("#"===e.charAt(0))return eX(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(CJ(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(CJ(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const tX=(e,t)=>{try{return(e=>{const t=eX(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function nX(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function rX(e){e=eX(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),nX({type:s,values:l})}function iX(e){let t="hsl"===(e=eX(e)).type||"hsla"===e.type?eX(rX(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function aX(e,t){return e=eX(e),t=QZ(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,nX(e)}function oX(e,t,n){try{return aX(e,t)}catch(r){return e}}function sX(e,t){if(e=eX(e),t=QZ(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return nX(e)}function lX(e,t,n){try{return sX(e,t)}catch(r){return e}}function cX(e,t){if(e=eX(e),t=QZ(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return nX(e)}function uX(e,t,n){try{return cX(e,t)}catch(r){return e}}function dX(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return iX(e)>.5?sX(e,t):cX(e,t)}(e,t)}catch(r){return e}}const hX={black:"#000",white:"#fff"},pX={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},fX={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},mX={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},gX={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},yX={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bX={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},wX={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},vX=["mode","contrastThreshold","tonalOffset","colorSpace"];function _X(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hX.white,default:hX.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const xX=_X();function kX(){return{text:{primary:hX.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hX.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const DX=kX();function TX(e,t,n,r){const i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=cX(e.main,i):"dark"===t&&(e.dark=sX(e.main,a)))}function AX(e,t,n,r,i){const a=i.light||i,o=i.dark||1.5*i;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:"light"===n?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*a).toFixed(0),"%)"):"dark"===n&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*o).toFixed(0),"%)")))}function SX(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i}=e,o=a(e,vX),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:yX[200],light:yX[50],dark:yX[400]}:{main:yX[700],light:yX[400],dark:yX[800]}}(t),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fX[200],light:fX[50],dark:fX[400]}:{main:fX[500],light:fX[300],dark:fX[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:mX[500],light:mX[300],dark:mX[700]}:{main:mX[700],light:mX[400],dark:mX[800]}}(t),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:bX[400],light:bX[300],dark:bX[700]}:{main:bX[700],light:bX[500],dark:bX[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wX[400],light:wX[300],dark:wX[700]}:{main:wX[800],light:wX[500],dark:wX[900]}}(t),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gX[400],light:gX[300],dark:gX[700]}:{main:"#ed6c02",light:gX[500],dark:gX[900]}}(t);function f(e){if(i)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const n=iX(e),r=iX(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,DX.text.primary)>=n?DX.text.primary:xX.text.primary;return t}const m=e=>{let{color:t,name:n,mainShade:a=500,lightShade:o=300,darkShade:s=700}=e;if(t=u({},t),!t.main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(CJ(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(CJ(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return i?(AX(i,t,"light",o,r),AX(i,t,"dark",s,r)):(TX(t,"light",o,r),TX(t,"dark",s,r)),t.contrastText||(t.contrastText=f(t.main)),t};let g;"light"===t?g=_X():"dark"===t&&(g=kX());return PJ(u({common:u({},hX),mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:pX,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:r},g),o)}function CX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const a=r[0];return"string"!==typeof a||a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(a):", var(--".concat(e?"".concat(e,"-"):"").concat(a).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function EX(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const FX=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,a)=>{a===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function MX(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},a={},o={};var s,l;return s=(e,t,s)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(i,{[r]:l}),FX(a,e,"var(".concat(r,")"),s),FX(o,e,"var(".concat(r,", ").concat(l,")"),s)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach((t=>{let[i,a]=t;(!l||l&&!l([...n,i]))&&void 0!==a&&null!==a&&("object"===typeof a&&Object.keys(a).length>0?e(a,[...n,i],Array.isArray(a)?[...r,i]:r):s([...n,i],a,r))}))}(e),{css:i,vars:a,varsWithDefaults:o}}const IX=["colorSchemes","components","defaultColorScheme"];const PX=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=v,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:o}=t,{colorSchemes:l={},components:c,defaultColorScheme:d="light"}=e,h=a(e,IX),{vars:p,css:f,varsWithDefaults:m}=MX(h,t);let g=m;const y={},{[d]:b}=l,w=a(l,[d].map(s));if(Object.entries(w||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:a,varsWithDefaults:o}=MX(r,t);g=PJ(g,o),y[n]={css:a,vars:i}})),b){const{css:e,vars:n,varsWithDefaults:r}=MX(b,t);g=PJ(g,r),y[d]={css:e,vars:n}}function v(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var a;if(e.defaultColorScheme===t)return":root";const r=(null===(a=l[t])||void 0===a||null===(a=a.palette)||void 0===a?void 0:a.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:g,generateThemeVars:()=>{let e=u({},p);return Object.entries(y).forEach((t=>{let[,{vars:n}]=t;e=PJ(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function c(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:u({},n)}:e)}c(n(void 0,u({},f)),f);const{[i]:d}=y,h=a(y,[i].map(s));if(d){var p;const{css:e}=d,t=null===(p=l[i])||void 0===p||null===(p=p.palette)||void 0===p?void 0:p.mode,a=u(!r&&t?{colorScheme:t}:{},e);c(n(i,u({},a)),a)}return Object.entries(h).forEach((e=>{var t;let[i,{css:a}]=e;const o=null===(t=l[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,s=u(!r&&o?{colorScheme:o}:{},a);c(n(i,u({},s)),s)})),o&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};function zX(e,t){return u({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const NX=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function OX(e){return Math.round(1e5*e)/1e5}const BX={textTransform:"uppercase"},LX='"Roboto", "Helvetica", "Arial", sans-serif';function RX(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=LX,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:p}=n,f=a(n,NX);const m=i/14,g=p||(e=>"".concat(e/d*m,"rem")),y=(e,t,n,i,a)=>u(u(u({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===LX?{letterSpacing:"".concat(OX(i/t),"em")}:{}),a),h),b={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,BX),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,BX),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return PJ(u({htmlFontSize:d,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},b),f,{clone:!1})}function jX(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const VX=["none",jX(0,2,1,-1,0,1,1,0,0,1,3,0),jX(0,3,1,-2,0,2,2,0,0,1,5,0),jX(0,3,3,-2,0,3,4,0,0,1,8,0),jX(0,2,4,-1,0,4,5,0,0,1,10,0),jX(0,3,5,-1,0,5,8,0,0,1,14,0),jX(0,3,5,-1,0,6,10,0,0,1,18,0),jX(0,4,5,-2,0,7,10,1,0,2,16,1),jX(0,5,5,-3,0,8,10,1,0,3,14,2),jX(0,5,6,-3,0,9,12,1,0,3,16,2),jX(0,6,6,-3,0,10,14,1,0,4,18,3),jX(0,6,7,-4,0,11,15,1,0,4,20,3),jX(0,7,8,-4,0,12,17,2,0,5,22,4),jX(0,7,8,-4,0,13,19,2,0,5,24,4),jX(0,7,9,-4,0,14,21,2,0,5,26,4),jX(0,8,9,-5,0,15,22,2,0,6,28,5),jX(0,8,10,-5,0,16,24,2,0,6,30,5),jX(0,8,11,-5,0,17,26,2,0,6,32,5),jX(0,9,11,-5,0,18,28,2,0,7,34,6),jX(0,9,12,-6,0,19,29,2,0,7,36,6),jX(0,10,13,-6,0,20,31,3,0,8,38,7),jX(0,10,13,-6,0,21,33,3,0,8,40,7),jX(0,10,14,-6,0,22,35,3,0,8,42,7),jX(0,11,14,-7,0,23,36,3,0,9,44,8),jX(0,11,15,-7,0,24,38,3,0,9,46,8)],WX=["duration","easing","delay"],qX={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},UX={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function HX(e){return"".concat(Math.round(e),"ms")}function GX(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function KX(e){const t=u(u({},qX),e.easing),n=u(u({},UX),e.duration);return u(u({getAutoHeightDuration:GX,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0}=r;a(r,WX);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:HX(i)," ").concat(o," ").concat("string"===typeof s?s:HX(s)))).join(",")}},e),{},{easing:t,duration:n})}const YX={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function JX(){const e=u({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[a,o]=n[i];!MJ(r=o)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||a.startsWith("unstable_")?delete t[a]:MJ(o)&&(t[a]=u({},o),e(t[a]))}var r}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const ZX=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function XX(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function $X(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):r.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):aX(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n})(n))},lighten(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #fff ").concat(XX(n),")"):cX(t,n)},darken(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #000 ").concat(XX(n),")"):sX(t,n)}})}const QX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:s={},shape:l,colorSpace:c}=e,d=a(e,ZX);if(e.vars&&void 0===e.generateThemeVars)throw new Error(CJ(20));const h=SX(u(u({},i),{},{colorSpace:c})),p=HZ(e);let f=PJ(p,{mixins:zX(p.breakpoints,n),palette:h,shadows:VX.slice(),typography:RX(h,s),transitions:KX(o),zIndex:u({},YX)});f=PJ(f,d);for(var m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return f=g.reduce(((e,t)=>PJ(e,t)),f),f.unstable_sxConfig=u(u({},zZ),null===d||void 0===d?void 0:d.unstable_sxConfig),f.unstable_sx=function(e){return OZ({sx:e,theme:this})},f.toRuntimeSource=JX,$X(f),f};const e$=["palette","opacity","overlays","colorSpace"],t$=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=function(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function n$(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function r$(e){return"dark"===e?t$:[]}function i$(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const a$=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],o$=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let a=i;if("class"===i&&(a=".%s"),"data"===i&&(a="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(a="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return a$(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===a?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:a?{[a.replace("%s",t)]:i,["".concat(r,", ").concat(a.replace("%s",t))]:n}:{[r]:u(u({},n),i)}}if(a&&"media"!==a)return"".concat(r,", ").concat(a.replace("%s",String(t)))}else if(t){if("media"===a)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(a)return a.replace("%s",String(t))}return r},s$=["palette"],l$=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function c$(e,t,n){!e[t]&&n&&(e[t]=n)}function u$(e){return"string"===typeof e&&e.startsWith("hsl")?rX(e):e}function d$(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=tX(u$(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const h$=e=>{try{return e()}catch(t){}};function p$(e,t,n,r,i){var o,s,l;if(!n)return;n=!0===n?{}:n;const c="dark"===i?"dark":"light";var d;if(!r)return void(t[i]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:i}=e,o=a(e,e$),s=SX(u(u({},t),{},{colorSpace:i}));return u({palette:s,opacity:u(u({},n$(s.mode)),n),overlays:r||r$(s.mode)},o)}(u(u({},n),{},{palette:u({mode:c},null===(d=n)||void 0===d?void 0:d.palette),colorSpace:e})));const h=QX(u(u({},r),{},{palette:u({mode:c},null===(o=n)||void 0===o?void 0:o.palette),colorSpace:e})),{palette:p}=h,f=a(h,s$);return t[i]=u(u({},n),{},{palette:p,opacity:u(u({},n$(c)),null===(s=n)||void 0===s?void 0:s.opacity),overlays:(null===(l=n)||void 0===l?void 0:l.overlays)||r$(c)}),f}function f$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:l=i$,colorSchemeSelector:c=(t.light&&t.dark?"media":void 0),rootSelector:d=":root"}=e,h=a(e,l$),p=Object.keys(t)[0],f=n||(t.light&&"light"!==p?"light":p),m=function(){return CX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[f]:g,light:y,dark:b}=t,w=u({},a(t,[f,"light","dark"].map(s)));let v,_=g;if(("dark"===f&&!("dark"in t)||"light"===f&&!("light"in t))&&(_=!0),!_)throw new Error(CJ(21,f));o&&(v="oklch");const x=p$(v,w,_,h,f);y&&!w.light&&p$(v,w,y,void 0,"light"),b&&!w.dark&&p$(v,w,b,void 0,"dark");let k=u(u({defaultColorScheme:f},x),{},{cssVarPrefix:i,colorSchemeSelector:c,rootSelector:d,getCssVar:m,colorSchemes:w,font:u(u({},EX(x.typography)),x.font),spacing:(D=h.spacing,"number"===typeof D?"".concat(D,"px"):"string"===typeof D||"function"===typeof D||Array.isArray(D)?D:"8px")});var D;Object.keys(k.colorSchemes).forEach((e=>{const t=k.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return m(e,t[r][i])};function r(e,t,n){if(v){let r;return e===oX&&(r="transparent ".concat((100*(1-n)).toFixed(0),"%")),e===lX&&(r="#000 ".concat((100*n).toFixed(0),"%")),e===uX&&(r="#fff ".concat((100*n).toFixed(0),"%")),"color-mix(in ".concat(v,", ").concat(t,", ").concat(r,")")}return e(t,n)}if("light"===t.mode&&(c$(t.common,"background","#fff"),c$(t.common,"onBackground","#000")),"dark"===t.mode&&(c$(t.common,"background","#000"),c$(t.common,"onBackground","#fff")),function(e,t){t.forEach((t=>{e[t]||(e[t]={})}))}(t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),"light"===t.mode){c$(t.Alert,"errorColor",r(lX,t.error.light,.6)),c$(t.Alert,"infoColor",r(lX,t.info.light,.6)),c$(t.Alert,"successColor",r(lX,t.success.light,.6)),c$(t.Alert,"warningColor",r(lX,t.warning.light,.6)),c$(t.Alert,"errorFilledBg",n("palette-error-main")),c$(t.Alert,"infoFilledBg",n("palette-info-main")),c$(t.Alert,"successFilledBg",n("palette-success-main")),c$(t.Alert,"warningFilledBg",n("palette-warning-main")),c$(t.Alert,"errorFilledColor",h$((()=>t.getContrastText(t.error.main)))),c$(t.Alert,"infoFilledColor",h$((()=>t.getContrastText(t.info.main)))),c$(t.Alert,"successFilledColor",h$((()=>t.getContrastText(t.success.main)))),c$(t.Alert,"warningFilledColor",h$((()=>t.getContrastText(t.warning.main)))),c$(t.Alert,"errorStandardBg",r(uX,t.error.light,.9)),c$(t.Alert,"infoStandardBg",r(uX,t.info.light,.9)),c$(t.Alert,"successStandardBg",r(uX,t.success.light,.9)),c$(t.Alert,"warningStandardBg",r(uX,t.warning.light,.9)),c$(t.Alert,"errorIconColor",n("palette-error-main")),c$(t.Alert,"infoIconColor",n("palette-info-main")),c$(t.Alert,"successIconColor",n("palette-success-main")),c$(t.Alert,"warningIconColor",n("palette-warning-main")),c$(t.AppBar,"defaultBg",n("palette-grey-100")),c$(t.Avatar,"defaultBg",n("palette-grey-400")),c$(t.Button,"inheritContainedBg",n("palette-grey-300")),c$(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),c$(t.Chip,"defaultBorder",n("palette-grey-400")),c$(t.Chip,"defaultAvatarColor",n("palette-grey-700")),c$(t.Chip,"defaultIconColor",n("palette-grey-700")),c$(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),c$(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),c$(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),c$(t.LinearProgress,"primaryBg",r(uX,t.primary.main,.62)),c$(t.LinearProgress,"secondaryBg",r(uX,t.secondary.main,.62)),c$(t.LinearProgress,"errorBg",r(uX,t.error.main,.62)),c$(t.LinearProgress,"infoBg",r(uX,t.info.main,.62)),c$(t.LinearProgress,"successBg",r(uX,t.success.main,.62)),c$(t.LinearProgress,"warningBg",r(uX,t.warning.main,.62)),c$(t.Skeleton,"bg",v?r(oX,t.text.primary,.11):"rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),c$(t.Slider,"primaryTrack",r(uX,t.primary.main,.62)),c$(t.Slider,"secondaryTrack",r(uX,t.secondary.main,.62)),c$(t.Slider,"errorTrack",r(uX,t.error.main,.62)),c$(t.Slider,"infoTrack",r(uX,t.info.main,.62)),c$(t.Slider,"successTrack",r(uX,t.success.main,.62)),c$(t.Slider,"warningTrack",r(uX,t.warning.main,.62));const e=v?r(lX,t.background.default,.6825):dX(t.background.default,.8);c$(t.SnackbarContent,"bg",e),c$(t.SnackbarContent,"color",h$((()=>v?DX.text.primary:t.getContrastText(e)))),c$(t.SpeedDialAction,"fabHoverBg",dX(t.background.paper,.15)),c$(t.StepConnector,"border",n("palette-grey-400")),c$(t.StepContent,"border",n("palette-grey-400")),c$(t.Switch,"defaultColor",n("palette-common-white")),c$(t.Switch,"defaultDisabledColor",n("palette-grey-100")),c$(t.Switch,"primaryDisabledColor",r(uX,t.primary.main,.62)),c$(t.Switch,"secondaryDisabledColor",r(uX,t.secondary.main,.62)),c$(t.Switch,"errorDisabledColor",r(uX,t.error.main,.62)),c$(t.Switch,"infoDisabledColor",r(uX,t.info.main,.62)),c$(t.Switch,"successDisabledColor",r(uX,t.success.main,.62)),c$(t.Switch,"warningDisabledColor",r(uX,t.warning.main,.62)),c$(t.TableCell,"border",r(uX,r(oX,t.divider,1),.88)),c$(t.Tooltip,"bg",r(oX,t.grey[700],.92))}if("dark"===t.mode){c$(t.Alert,"errorColor",r(uX,t.error.light,.6)),c$(t.Alert,"infoColor",r(uX,t.info.light,.6)),c$(t.Alert,"successColor",r(uX,t.success.light,.6)),c$(t.Alert,"warningColor",r(uX,t.warning.light,.6)),c$(t.Alert,"errorFilledBg",n("palette-error-dark")),c$(t.Alert,"infoFilledBg",n("palette-info-dark")),c$(t.Alert,"successFilledBg",n("palette-success-dark")),c$(t.Alert,"warningFilledBg",n("palette-warning-dark")),c$(t.Alert,"errorFilledColor",h$((()=>t.getContrastText(t.error.dark)))),c$(t.Alert,"infoFilledColor",h$((()=>t.getContrastText(t.info.dark)))),c$(t.Alert,"successFilledColor",h$((()=>t.getContrastText(t.success.dark)))),c$(t.Alert,"warningFilledColor",h$((()=>t.getContrastText(t.warning.dark)))),c$(t.Alert,"errorStandardBg",r(lX,t.error.light,.9)),c$(t.Alert,"infoStandardBg",r(lX,t.info.light,.9)),c$(t.Alert,"successStandardBg",r(lX,t.success.light,.9)),c$(t.Alert,"warningStandardBg",r(lX,t.warning.light,.9)),c$(t.Alert,"errorIconColor",n("palette-error-main")),c$(t.Alert,"infoIconColor",n("palette-info-main")),c$(t.Alert,"successIconColor",n("palette-success-main")),c$(t.Alert,"warningIconColor",n("palette-warning-main")),c$(t.AppBar,"defaultBg",n("palette-grey-900")),c$(t.AppBar,"darkBg",n("palette-background-paper")),c$(t.AppBar,"darkColor",n("palette-text-primary")),c$(t.Avatar,"defaultBg",n("palette-grey-600")),c$(t.Button,"inheritContainedBg",n("palette-grey-800")),c$(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),c$(t.Chip,"defaultBorder",n("palette-grey-700")),c$(t.Chip,"defaultAvatarColor",n("palette-grey-300")),c$(t.Chip,"defaultIconColor",n("palette-grey-300")),c$(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),c$(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),c$(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),c$(t.LinearProgress,"primaryBg",r(lX,t.primary.main,.5)),c$(t.LinearProgress,"secondaryBg",r(lX,t.secondary.main,.5)),c$(t.LinearProgress,"errorBg",r(lX,t.error.main,.5)),c$(t.LinearProgress,"infoBg",r(lX,t.info.main,.5)),c$(t.LinearProgress,"successBg",r(lX,t.success.main,.5)),c$(t.LinearProgress,"warningBg",r(lX,t.warning.main,.5)),c$(t.Skeleton,"bg",v?r(oX,t.text.primary,.13):"rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),c$(t.Slider,"primaryTrack",r(lX,t.primary.main,.5)),c$(t.Slider,"secondaryTrack",r(lX,t.secondary.main,.5)),c$(t.Slider,"errorTrack",r(lX,t.error.main,.5)),c$(t.Slider,"infoTrack",r(lX,t.info.main,.5)),c$(t.Slider,"successTrack",r(lX,t.success.main,.5)),c$(t.Slider,"warningTrack",r(lX,t.warning.main,.5));const e=v?r(uX,t.background.default,.985):dX(t.background.default,.98);c$(t.SnackbarContent,"bg",e),c$(t.SnackbarContent,"color",h$((()=>v?xX.text.primary:t.getContrastText(e)))),c$(t.SpeedDialAction,"fabHoverBg",dX(t.background.paper,.15)),c$(t.StepConnector,"border",n("palette-grey-600")),c$(t.StepContent,"border",n("palette-grey-600")),c$(t.Switch,"defaultColor",n("palette-grey-300")),c$(t.Switch,"defaultDisabledColor",n("palette-grey-600")),c$(t.Switch,"primaryDisabledColor",r(lX,t.primary.main,.55)),c$(t.Switch,"secondaryDisabledColor",r(lX,t.secondary.main,.55)),c$(t.Switch,"errorDisabledColor",r(lX,t.error.main,.55)),c$(t.Switch,"infoDisabledColor",r(lX,t.info.main,.55)),c$(t.Switch,"successDisabledColor",r(lX,t.success.main,.55)),c$(t.Switch,"warningDisabledColor",r(lX,t.warning.main,.55)),c$(t.TableCell,"border",r(lX,r(oX,t.divider,1),.68)),c$(t.Tooltip,"bg",r(oX,t.grey[700],.92))}d$(t.background,"default"),d$(t.background,"paper"),d$(t.common,"background"),d$(t.common,"onBackground"),d$(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&c$(t[e],"mainChannel",tX(u$(n.main))),n.light&&c$(t[e],"lightChannel",tX(u$(n.light))),n.dark&&c$(t[e],"darkChannel",tX(u$(n.dark))),n.contrastText&&c$(t[e],"contrastTextChannel",tX(u$(n.contrastText))),"text"===e&&(d$(t[e],"primary"),d$(t[e],"secondary")),"action"===e&&(n.active&&d$(t[e],"active"),n.selected&&d$(t[e],"selected")))}))}));for(var T=arguments.length,A=new Array(T>1?T-1:0),S=1;S<T;S++)A[S-1]=arguments[S];k=A.reduce(((e,t)=>PJ(e,t)),k);const C={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:l,getSelector:o$(k),enableContrastVars:o},{vars:E,generateThemeVars:F,generateStyleSheets:M}=PX(k,C);return k.vars=E,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach((e=>{let[t,n]=e;k[t]=n})),k.generateThemeVars=F,k.generateStyleSheets=M,k.generateSpacing=function(){return WZ(h.spacing,QJ(this))},k.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(c),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=l,k.unstable_sxConfig=u(u({},zZ),null===h||void 0===h?void 0:h.unstable_sxConfig),k.unstable_sx=function(e){return OZ({sx:e,theme:this})},k.toRuntimeSource=JX,k}const m$=["palette","cssVariables","colorSchemes","defaultColorScheme"];function g$(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=u(u({},!0!==n&&n),{},{palette:SX(u(u({},!0===n?{}:n.palette),{},{mode:t}))}))}function y$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,o=a(e,m$),s=i||"light",l=null===r||void 0===r?void 0:r[s],c=u(u({},r),t?{[s]:u(u({},"boolean"!==typeof l&&l),{},{palette:t})}:void 0);for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];if(!1===n){if(!("colorSchemes"in e))return QX(e,...h);let n=t;"palette"in e||c[s]&&(!0!==c[s]?n=c[s].palette:"dark"===s&&(n={mode:"dark"}));const r=QX(u(u({},e),{},{palette:n}),...h);return r.defaultColorScheme=s,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light=u(u({},!0!==c.light&&c.light),{},{palette:r.palette}),g$(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=u(u({},!0!==c.dark&&c.dark),{},{palette:r.palette}),g$(r,"light",c.light)),r}return t||"light"in c||"light"!==s||(c.light=!0),f$(u(u({},o),{},{colorSchemes:c,defaultColorScheme:s},"boolean"!==typeof n&&n),...h)}const b$="$$material",w$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function v$(e,t){const n=w$[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(XZ.generate(e),"-").concat(t)}function _$(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=v$(e,t,n)})),r}const x$=_$("MuiBox",["root"]),k$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=e,s=TJ("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(OZ);return n.forwardRef((function(e,n){const l=YZ(r),c=LZ(e),{className:d,component:h="div"}=c,p=a(c,JZ);return(0,VK.jsx)(s,u({as:h,ref:n,className:ZK(d,o?o(i):i),theme:t&&l[t]||l},p))}))}({themeId:b$,defaultTheme:y$(),defaultClassName:x$.root,generateClassName:XZ.generate}),D$=k$;const T$=n.createContext();function A$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const i=n.useRef(void 0),a=n.useCallback((e=>{const n=t.map((t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}}));return()=>{n.forEach((e=>null===e||void 0===e?void 0:e()))}}),t);return n.useMemo((()=>t.every((e=>null==e))?null:e=>{i.current&&(i.current(),i.current=void 0),null!=e&&(i.current=a(e))}),t)}const S$=function(e){return"string"===typeof e};const C$=function(e,t,n){return void 0===e||S$(e)?t:u(u({},t),{},{ownerState:u(u({},t.ownerState),n)})};const E$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const F$=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const M$=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!t){const e=ZK(null===n||void 0===n?void 0:n.className,a,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),t=u(u(u({},null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),o=u(u(u({},n),i),r);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}const o=E$(u(u({},i),r)),s=F$(r),l=F$(i),c=t(o),d=ZK(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,a,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),h=u(u(u(u({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),p=u(u(u(u({},c),n),l),s);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:c.ref}};const I$=function(e,t,n){return"function"===typeof e?e(t,n):e},P$=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const z$=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=a(e,P$),l=o?{}:I$(r,i),{props:c,internalRef:d}=M$(u(u({},s),{},{externalSlotProps:l})),h=A$(d,null===l||void 0===l?void 0:l.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return C$(n,u(u({},c),{},{ref:h}),i)};function N$(e){return e&&e.ownerDocument||document}const O$="undefined"!==typeof window?n.useLayoutEffect:n.useEffect;const B$=function(e){const t=n.useRef(e);return O$((()=>{t.current=e})),n.useRef((function(){return(0,t.current)(...arguments)})).current};function L$(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const R$={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const j$=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))};function V$(e,t,n,r,i){return 1===n?Math.min(e+t,i):Math.max(e-t,r)}function W$(e,t){return e-t}function q$(e,t){var n;const{index:r}=null!==(n=e.reduce(((e,n,r)=>{const i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null))&&void 0!==n?n:{};return r}function U$(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function H$(e,t,n){return 100*(e-t)/(n-t)}function G$(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function K$(e){let{values:t,newValue:n,index:r}=e;const i=t.slice();return i[r]=n,i.sort(W$)}function Y$(e){var t,n;let{sliderRef:r,activeIndex:i,setActive:a}=e;const o=N$(r.current);var s;null!==(t=r.current)&&void 0!==t&&t.contains(o.activeElement)&&Number(null===o||void 0===o||null===(n=o.activeElement)||void 0===n?void 0:n.getAttribute("data-index"))===i||(null===(s=r.current)||void 0===s||s.querySelector('[type="range"][data-index="'.concat(i,'"]')).focus());a&&a(i)}function J$(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&j$(e,t)}const Z$={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},X$=e=>e;let $$;function Q$(){return void 0===$$&&($$="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),$$}function eQ(e){const{"aria-labelledby":t,defaultValue:r,disabled:i=!1,disableSwap:a=!1,isRtl:o=!1,marks:s=!1,max:l=100,min:c=0,name:d,onChange:h,onChangeCommitted:p,orientation:f="horizontal",rootRef:m,scale:g=X$,step:y=1,shiftStep:b=10,tabIndex:w,value:v}=e,_=n.useRef(void 0),[x,k]=n.useState(-1),[D,T]=n.useState(-1),[A,S]=n.useState(!1),C=n.useRef(0),E=n.useRef(null),[F,M]=function(e){const{controlled:t,default:r,name:i,state:a="value"}=e,{current:o}=n.useRef(void 0!==t),[s,l]=n.useState(r);return[o?t:s,n.useCallback((e=>{o||l(e)}),[])]}({controlled:v,default:null!==r&&void 0!==r?r:c,name:"Slider"}),I=h&&((e,t,n)=>{const r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:d}}),E.current=t,h(i,t,n)}),P=Array.isArray(F);let z=P?F.slice().sort(W$):[F];z=z.map((e=>null==e?c:$Z(e,c,l)));const N=!0===s&&null!==y?[...Array(Math.floor((l-c)/y)+1)].map(((e,t)=>({value:c+y*t}))):s||[],O=N.map((e=>e.value)),[B,L]=n.useState(-1),R=n.useRef(null),j=A$(m,R),V=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));L$(t.target)&&L(r),T(r),null===e||void 0===e||null===(n=e.onFocus)||void 0===n||n.call(e,t)},W=e=>t=>{var n;L$(t.target)||L(-1),T(-1),null===e||void 0===e||null===(n=e.onBlur)||void 0===n||n.call(e,t)},q=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=z[n],i=O.indexOf(r);let o=t;if(N&&null==y){const e=O[O.length-1];o=o>=e?e:o<=O[0]?O[0]:o<r?O[i-1]:O[i+1]}if(o=$Z(o,c,l),P){a&&(o=$Z(o,z[n-1]||-1/0,z[n+1]||1/0));const e=o;o=K$({values:z,newValue:o,index:n});let t=n;a||(t=o.indexOf(e)),Y$({sliderRef:R,activeIndex:t})}var s;(M(o),L(n),I&&!J$(o,F)&&I(e,o,n),p)&&p(e,null!==(s=E.current)&&void 0!==s?s:o)},U=e=>t=>{var n;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(t.key)){t.preventDefault();const e=Number(t.currentTarget.getAttribute("data-index")),n=z[e];let r=null;if(null!=y){const e=t.shiftKey?b:y;switch(t.key){case"ArrowUp":r=V$(n,e,1,c,l);break;case"ArrowRight":r=V$(n,e,o?-1:1,c,l);break;case"ArrowDown":r=V$(n,e,-1,c,l);break;case"ArrowLeft":r=V$(n,e,o?1:-1,c,l);break;case"PageUp":r=V$(n,b,1,c,l);break;case"PageDown":r=V$(n,b,-1,c,l);break;case"Home":r=c;break;case"End":r=l}}else if(N){const e=O[O.length-1],i=O.indexOf(n),a=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"].includes(t.key)?r=0===i?O[0]:O[i-1]:a.includes(t.key)&&(r=i===O.length-1?e:O[i+1])}null!=r&&q(t,r)}null===e||void 0===e||null===(n=e.onKeyDown)||void 0===n||n.call(e,t)};O$((()=>{var e;i&&R.current.contains(document.activeElement)&&(null===(e=document.activeElement)||void 0===e||e.blur())}),[i]),i&&-1!==x&&k(-1),i&&-1!==B&&L(-1);const H=n.useRef(void 0);let G=f;o&&"horizontal"===f&&(G+="-reverse");const K=e=>{let{finger:t,move:n=!1}=e;const{current:r}=R,{width:i,height:o,bottom:s,left:u}=r.getBoundingClientRect();let d,h;if(d=G.startsWith("vertical")?(s-t.y)/o:(t.x-u)/i,G.includes("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,c,l),y)h=G$(h,y,c);else{const e=q$(O,h);h=O[e]}h=$Z(h,c,l);let p=0;if(P){p=n?H.current:q$(z,h),a&&(h=$Z(h,z[p-1]||-1/0,z[p+1]||1/0));const e=h;h=K$({values:z,newValue:h,index:p}),a&&n||(p=h.indexOf(e),H.current=p)}return{newValue:h,activeIndex:p}},Y=B$((e=>{const t=U$(e,_);if(!t)return;if(C.current+=1,"mousemove"===e.type&&0===e.buttons)return void J(e);const{newValue:n,activeIndex:r}=K({finger:t,move:!0});Y$({sliderRef:R,activeIndex:r,setActive:k}),M(n),!A&&C.current>2&&S(!0),I&&!J$(n,F)&&I(e,n,r)})),J=B$((e=>{const t=U$(e,_);if(S(!1),!t)return;const{newValue:n}=K({finger:t,move:!0});var r;(k(-1),"touchend"===e.type&&T(-1),p)&&p(e,null!==(r=E.current)&&void 0!==r?r:n);_.current=void 0,X()})),Z=B$((e=>{if(i)return;Q$()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(_.current=t.identifier);const n=U$(e,_);if(!1!==n){const{newValue:t,activeIndex:r}=K({finger:n});Y$({sliderRef:R,activeIndex:r,setActive:k}),M(t),I&&!J$(t,F)&&I(e,t,r)}C.current=0;const r=N$(R.current);r.addEventListener("touchmove",Y,{passive:!0}),r.addEventListener("touchend",J,{passive:!0})})),X=n.useCallback((()=>{const e=N$(R.current);e.removeEventListener("mousemove",Y),e.removeEventListener("mouseup",J),e.removeEventListener("touchmove",Y),e.removeEventListener("touchend",J)}),[J,Y]);n.useEffect((()=>{const{current:e}=R;return e.addEventListener("touchstart",Z,{passive:Q$()}),()=>{e.removeEventListener("touchstart",Z),X()}}),[X,Z]),n.useEffect((()=>{i&&X()}),[i,X]);const $=H$(P?z[0]:c,c,l),Q=H$(z[z.length-1],c,l)-$,ee=e=>t=>{var n;null===(n=e.onMouseLeave)||void 0===n||n.call(e,t),T(-1)};let te;"vertical"===f&&(te=o?"vertical-rl":"vertical-lr");return{active:x,axis:G,axisProps:Z$,dragging:A,focusedThumbIndex:B,getHiddenInputProps:function(){var n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=E$(r),s={onChange:(h=a||{},e=>{var t;null===(t=h.onChange)||void 0===t||t.call(h,e),q(e,e.target.valueAsNumber)}),onFocus:V(a||{}),onBlur:W(a||{}),onKeyDown:U(a||{})};var h;const p=u(u({},a),s);return u(u(u({tabIndex:w,"aria-labelledby":t,"aria-orientation":f,"aria-valuemax":g(l),"aria-valuemin":g(c),name:d,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!==(n=e.step)&&void 0!==n?n:void 0,disabled:i},r),p),{},{style:u(u({},R$),{},{direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:te})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=E$(e),n={onMouseDown:(r=t||{},e=>{var t;if(null===(t=r.onMouseDown)||void 0===t||t.call(r,e),i)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=U$(e,_);if(!1!==n){const{newValue:t,activeIndex:r}=K({finger:n});Y$({sliderRef:R,activeIndex:r,setActive:k}),M(t),I&&!J$(t,F)&&I(e,t,r)}C.current=0;const a=N$(R.current);a.addEventListener("mousemove",Y,{passive:!0}),a.addEventListener("mouseup",J)})};var r;const a=u(u({},t),n);return u(u({},e),{},{ref:j},a)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=E$(e),n={onMouseOver:(r=t||{},e=>{var t;null===(t=r.onMouseOver)||void 0===t||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));T(n)}),onMouseLeave:ee(t||{})};var r;return u(u(u({},e),t),n)},marks:N,open:D,range:P,rootRef:j,trackLeap:Q,trackOffset:$,values:z,getThumbStyle:e=>({pointerEvents:-1!==x&&x!==e?"none":void 0})}}const tQ=["variants"];function nQ(e){const{variants:t}=e,n=a(e,tQ),r={variants:t,style:SJ(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=SJ(e.style))})),r}const rQ=["variants"],iQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],aQ=HZ();function oQ(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function sQ(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function lQ(e){return e?(t,n)=>n[e]:null}function cQ(e,t,n){const r="function"===typeof t?t(e):t;if(Array.isArray(r))return r.flatMap((t=>cQ(e,t,n)));if(Array.isArray(null===r||void 0===r?void 0:r.variants)){let t;if(r.isProcessed)t=n?sQ(r.style,n):r.style;else{const{variants:e}=r,i=a(r,rQ);t=n?sQ(SJ(i),n):i}return uQ(e,r.variants,[t],n)}return null!==r&&void 0!==r&&r.isProcessed?n?sQ(SJ(r.style),n):r.style:n?sQ(SJ(r),n):r}function uQ(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let o=0;o<t.length;o+=1){const s=t[o];if("function"===typeof s.props){if(null!==n&&void 0!==n||(n=u(u(u({},e),e.ownerState),{},{ownerState:e.ownerState})),!s.props(n))continue}else for(const t in s.props){var a;if(e[t]!==s.props[t]&&(null===(a=e.ownerState)||void 0===a?void 0:a[t])!==s.props[t])continue e}"function"===typeof s.style?(null!==n&&void 0!==n||(n=u(u(u({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(i?sQ(SJ(s.style(n)),i):s.style(n))):r.push(i?sQ(SJ(s.style),i):s.style)}return r}function dQ(e,t){}function hQ(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const pQ=y$();const fQ=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},mQ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=aQ,rootShouldForwardProp:r=oQ,slotShouldForwardProp:i=oQ}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==OZ))));const{name:n,slot:s,skipVariantsResolver:l,skipSx:c,overridesResolver:d=lQ(hQ(s))}=t,h=a(t,iQ),p=n&&n.startsWith("Mui")||s?"components":"custom",f=void 0!==l?l:s&&"Root"!==s&&"root"!==s||!1,m=c||!1;let g=oQ;"Root"===s||"root"===s?g=r:s?g=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);const y=TJ(e,u({shouldForwardProp:g,label:dQ(n,s)},h)),b=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return cQ(t,e,t.theme.modularCssLayers?p:void 0)};if(MJ(e)){const t=nQ(e);return function(e){return t.variants?cQ(e,t,e.theme.modularCssLayers?p:void 0):e.theme.modularCssLayers?sQ(t.style,p):t.style}}return e},w=function(){const t=[];for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const s=i.map(b),l=[];if(t.push(o),n&&d&&l.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=cQ(e,r[n],e.theme.modularCssLayers?"theme":void 0);return d(e,i)})),n&&!f&&l.push((function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?uQ(e,i,[],e.theme.modularCssLayers?"theme":void 0):null})),m||l.push(OZ),Array.isArray(s[0])){const e=s.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const c=[...t,...s,...l],u=y(...c);return e.muiName&&(u.muiName=e.muiName),u};return y.withConfig&&(w.withConfig=y.withConfig),w}}({themeId:b$,defaultTheme:pQ,rootShouldForwardProp:e=>fQ(e)&&"classes"!==e}),gQ=mQ,yQ={theme:void 0};const bQ=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(yQ.theme=r.theme,i=nQ(e(yQ)),t=i,n=r.theme),i}},wQ=bQ;function vQ(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=u({},t);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const a=i;if("components"===a||"slots"===a)r[a]=u(u({},e[a]),r[a]);else if("componentsProps"===a||"slotProps"===a){const i=e[a],o=t[a];if(o)if(i){r[a]=u({},o);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const t=e;r[a][t]=vQ(i[t],o[t],n)}}else r[a]=o;else r[a]=i||{}}else"className"===a&&n&&t.className?r.className=ZK(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===a&&n&&t.style?r.style=u(u({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===r[a]&&(r[a]=e[a])}return r}const _Q=n.createContext(void 0);function xQ(e){let{props:t,name:r}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?vQ(i.defaultProps,r,t.components.mergeClassNameAndStyle):i.styleOverrides||i.variants?r:vQ(i,r,t.components.mergeClassNameAndStyle)}({props:t,name:r,theme:{components:n.useContext(_Q)}})}const kQ=e=>!e||!S$(e),DQ=EJ;function TQ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function AQ(e){return v$("MuiSlider",e)}const SQ=_$("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const CQ=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function EQ(e){return e}const FQ=gQ("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(DQ(n.color))],"medium"!==n.size&&t["size".concat(DQ(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(wQ((e=>{let{theme:t}=e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(SQ.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(SQ.dragging)]:{["& .".concat(SQ.thumb,", & .").concat(SQ.track)]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(TQ()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}))),MQ=gQ("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),IQ=gQ("span",{name:"MuiSlider",slot:"Track"})(wQ((e=>{let{theme:t}=e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(TQ()).map((e=>{let[n]=e;return{props:{color:n,track:"inverted"},style:u({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(n,"Track")],borderColor:t.vars.palette.Slider["".concat(n,"Track")]}:u(u({backgroundColor:t.lighten(t.palette[n].main,.62),borderColor:t.lighten(t.palette[n].main,.62)},t.applyStyles("dark",{backgroundColor:t.darken(t.palette[n].main,.5)})),t.applyStyles("dark",{borderColor:t.darken(t.palette[n].main,.5)})))}}))]}}))),PQ=gQ("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(DQ(n.color))],"medium"!==n.size&&t["thumbSize".concat(DQ(n.size))]]}})(wQ((e=>{let{theme:t}=e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(SQ.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(TQ()).map((e=>{let[n]=e;return{props:{color:n},style:{["&:hover, &.".concat(SQ.focusVisible)]:{boxShadow:"0px 0px 0px 8px ".concat(t.alpha((t.vars||t).palette[n].main,.16)),"@media (hover: none)":{boxShadow:"none"}},["&.".concat(SQ.active)]:{boxShadow:"0px 0px 0px 14px ".concat(t.alpha((t.vars||t).palette[n].main,.16))}}}}))]}}))),zQ=gQ((function(e){const{children:t,className:r,value:i}=e,a=(e=>{const{open:t}=e;return{offset:ZK(t&&SQ.valueLabelOpen),circle:SQ.valueLabelCircle,label:SQ.valueLabelLabel}})(e);return t?n.cloneElement(t,{className:t.props.className},(0,VK.jsxs)(n.Fragment,{children:[t.props.children,(0,VK.jsx)("span",{className:ZK(a.offset,r),"aria-hidden":!0,children:(0,VK.jsx)("span",{className:a.circle,children:(0,VK.jsx)("span",{className:a.label,children:i})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel"})(wQ((e=>{let{theme:t}=e;return u(u({zIndex:1,whiteSpace:"nowrap"},t.typography.body2),{},{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(SQ.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(SQ.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})}))),NQ=gQ("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>fQ(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(wQ((e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}}))),OQ=gQ("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>fQ(e)&&"markLabelActive"!==e})(wQ((e=>{let{theme:t}=e;return u(u({},t.typography.body2),{},{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})}))),BQ=e=>{let{children:t}=e;return t},LQ=n.forwardRef((function(e,t){var r,i,o,s,l,c,d,h,p,f,m,g,y,b,w,v,_,x,k,D,T,A,S,C;const E=xQ({props:e,name:"MuiSlider"});const F=(()=>{const e=n.useContext(T$);return null!==e&&void 0!==e&&e})(),{"aria-label":M,"aria-valuetext":I,"aria-labelledby":P,component:z="span",components:N={},componentsProps:O={},color:B="primary",classes:L,className:R,disableSwap:j=!1,disabled:V=!1,getAriaLabel:W,getAriaValueText:q,marks:U=!1,max:H=100,min:G=0,name:K,onChange:Y,onChangeCommitted:J,orientation:Z="horizontal",shiftStep:X=10,size:$="medium",step:Q=1,scale:ee=EQ,slotProps:te,slots:ne,tabIndex:re,track:ie="normal",value:ae,valueLabelDisplay:oe="off",valueLabelFormat:se=EQ}=E,le=a(E,CQ),ce=u(u({},E),{},{isRtl:F,max:H,min:G,classes:L,disabled:V,disableSwap:j,orientation:Z,marks:U,color:B,size:$,step:Q,shiftStep:X,scale:ee,track:ie,valueLabelDisplay:oe,valueLabelFormat:se}),{axisProps:ue,getRootProps:de,getHiddenInputProps:he,getThumbProps:pe,open:fe,active:me,axis:ge,focusedThumbIndex:ye,range:be,dragging:we,marks:ve,values:_e,trackOffset:xe,trackLeap:ke,getThumbStyle:De}=eQ(u(u({},ce),{},{rootRef:t}));ce.marked=ve.length>0&&ve.some((e=>e.label)),ce.dragging=we,ce.focusedThumbIndex=ye;const Te=(e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:a,classes:o,color:s,size:l}=e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const a=e[i];let o="",s=!0;for(let e=0;e<a.length;e+=1){const r=a[e];r&&(o+=(!0===s?"":" ")+t(r),s=!1,n&&n[r]&&(o+=" "+n[r]))}r[i]=o}return r}({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse",s&&"color".concat(DQ(s)),l&&"size".concat(DQ(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(DQ(l)),s&&"thumbColor".concat(DQ(s))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},AQ,o)})(ce),Ae=null!==(r=null!==(i=null===ne||void 0===ne?void 0:ne.root)&&void 0!==i?i:N.Root)&&void 0!==r?r:FQ,Se=null!==(o=null!==(s=null===ne||void 0===ne?void 0:ne.rail)&&void 0!==s?s:N.Rail)&&void 0!==o?o:MQ,Ce=null!==(l=null!==(c=null===ne||void 0===ne?void 0:ne.track)&&void 0!==c?c:N.Track)&&void 0!==l?l:IQ,Ee=null!==(d=null!==(h=null===ne||void 0===ne?void 0:ne.thumb)&&void 0!==h?h:N.Thumb)&&void 0!==d?d:PQ,Fe=null!==(p=null!==(f=null===ne||void 0===ne?void 0:ne.valueLabel)&&void 0!==f?f:N.ValueLabel)&&void 0!==p?p:zQ,Me=null!==(m=null!==(g=null===ne||void 0===ne?void 0:ne.mark)&&void 0!==g?g:N.Mark)&&void 0!==m?m:NQ,Ie=null!==(y=null!==(b=null===ne||void 0===ne?void 0:ne.markLabel)&&void 0!==b?b:N.MarkLabel)&&void 0!==y?y:OQ,Pe=null!==(w=null!==(v=null===ne||void 0===ne?void 0:ne.input)&&void 0!==v?v:N.Input)&&void 0!==w?w:"input",ze=null!==(_=null===te||void 0===te?void 0:te.root)&&void 0!==_?_:O.root,Ne=null!==(x=null===te||void 0===te?void 0:te.rail)&&void 0!==x?x:O.rail,Oe=null!==(k=null===te||void 0===te?void 0:te.track)&&void 0!==k?k:O.track,Be=null!==(D=null===te||void 0===te?void 0:te.thumb)&&void 0!==D?D:O.thumb,Le=null!==(T=null===te||void 0===te?void 0:te.valueLabel)&&void 0!==T?T:O.valueLabel,Re=null!==(A=null===te||void 0===te?void 0:te.mark)&&void 0!==A?A:O.mark,je=null!==(S=null===te||void 0===te?void 0:te.markLabel)&&void 0!==S?S:O.markLabel,Ve=null!==(C=null===te||void 0===te?void 0:te.input)&&void 0!==C?C:O.input,We=z$({elementType:Ae,getSlotProps:de,externalSlotProps:ze,externalForwardedProps:le,additionalProps:u({},kQ(Ae)&&{as:z}),ownerState:u(u({},ce),null===ze||void 0===ze?void 0:ze.ownerState),className:[Te.root,R]}),qe=z$({elementType:Se,externalSlotProps:Ne,ownerState:ce,className:Te.rail}),Ue=z$({elementType:Ce,externalSlotProps:Oe,additionalProps:{style:u(u({},ue[ge].offset(xe)),ue[ge].leap(ke))},ownerState:u(u({},ce),null===Oe||void 0===Oe?void 0:Oe.ownerState),className:Te.track}),He=z$({elementType:Ee,getSlotProps:pe,externalSlotProps:Be,ownerState:u(u({},ce),null===Be||void 0===Be?void 0:Be.ownerState),className:Te.thumb}),Ge=z$({elementType:Fe,externalSlotProps:Le,ownerState:u(u({},ce),null===Le||void 0===Le?void 0:Le.ownerState),className:Te.valueLabel}),Ke=z$({elementType:Me,externalSlotProps:Re,ownerState:ce,className:Te.mark}),Ye=z$({elementType:Ie,externalSlotProps:je,ownerState:ce,className:Te.markLabel}),Je=z$({elementType:Pe,getSlotProps:he,externalSlotProps:Ve,ownerState:ce});return(0,VK.jsxs)(Ae,u(u({},We),{},{children:[(0,VK.jsx)(Se,u({},qe)),(0,VK.jsx)(Ce,u({},Ue)),ve.filter((e=>e.value>=G&&e.value<=H)).map(((e,t)=>{const r=H$(e.value,G,H),i=ue[ge].offset(r);let a;return a=!1===ie?_e.includes(e.value):"normal"===ie&&(be?e.value>=_e[0]&&e.value<=_e[_e.length-1]:e.value<=_e[0])||"inverted"===ie&&(be?e.value<=_e[0]||e.value>=_e[_e.length-1]:e.value>=_e[0]),(0,VK.jsxs)(n.Fragment,{children:[(0,VK.jsx)(Me,u(u(u({"data-index":t},Ke),!S$(Me)&&{markActive:a}),{},{style:u(u({},i),Ke.style),className:ZK(Ke.className,a&&Te.markActive)})),null!=e.label?(0,VK.jsx)(Ie,u(u(u({"aria-hidden":!0,"data-index":t},Ye),!S$(Ie)&&{markLabelActive:a}),{},{style:u(u({},i),Ye.style),className:ZK(Te.markLabel,Ye.className,a&&Te.markLabelActive),children:e.label})):null]},t)})),_e.map(((e,t)=>{const n=H$(e,G,H),r=ue[ge].offset(n),i="off"===oe?BQ:Fe;return(0,VK.jsx)(i,u(u(u({},!S$(i)&&{valueLabelFormat:se,valueLabelDisplay:oe,value:"function"===typeof se?se(ee(e),t):se,index:t,open:fe===t||me===t||"on"===oe,disabled:V}),Ge),{},{children:(0,VK.jsx)(Ee,u(u({"data-index":t},He),{},{className:ZK(Te.thumb,He.className,me===t&&Te.active,ye===t&&Te.focusVisible),style:u(u(u({},r),De(t)),He.style),children:(0,VK.jsx)(Pe,u({"data-index":t,"aria-label":W?W(t):M,"aria-valuenow":ee(e),"aria-labelledby":P,"aria-valuetext":q?q(ee(e),t):I,value:_e[t]},Je))}))}),t)}))]}))})),RQ=LQ;class jQ extends n.Component{constructor(e){super(e),this.hoveredNode=null,this.selectedNodes=new Set,this.fontScale=null,this.opacityScale=null,this.simulation=null,this.nodesData=[],this.linksData=[],this.links=null,this.nodes=null,this.defs=null,this.getLinkEndpoints=null,this.height=0,this.width=0,this.lastTransform=null,this.zoomThrottleTimer=null,this.handleKeyDown=e=>{"Escape"===e.key&&(this.selectedNodes.clear(),this.hoveredNode=null,this.hidePopup(),this.rebuildGraph())},this.handleResize=()=>{this.rebuildGraph()},this.togglePopupNode=e=>{this.setState((t=>{const n=t.popupNodes.some((t=>t===e))?t.popupNodes.filter((t=>t!==e)):[...t.popupNodes,e];return{popupNodes:n,isPopupVisible:n.length>0}}))},this.removePopupNode=e=>{this.setState((t=>{const n=t.popupNodes.filter((t=>t!==e));return{popupNodes:n,isPopupVisible:n.length>0}}))},this.state={popupNodes:[],isPopupVisible:!1,similarityThreshold:.7,minOpacityThreshold:0,spread:.5,tokenizeMode:LK.tokenizeMode}}componentDidMount(){this.rebuildGraph(),window.addEventListener("resize",this.handleResize),window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("keydown",this.handleKeyDown),null!==this.zoomThrottleTimer&&(clearTimeout(this.zoomThrottleTimer),this.zoomThrottleTimer=null)}nodeSelected(){return this.selectedNodes.size>0}createFontScale(){const e=this.props.promptGroups.reduce(((e,t)=>e+t.generations.length),0);this.fontScale=A_().domain([1,e]).range([11,30]).clamp(!0),this.opacityScale=L_().exponent(.5).domain([(this.state.minOpacityThreshold-.3)*e/2,e/2]).range([0,1]).clamp(!0).nice(),this.nodesData.forEach((e=>e.fontSize=this.fontSize(e))),this.nodesData.forEach((e=>e.textLength=this.textLength(e)))}render(){return(0,VK.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,VK.jsx)("span",{id:"loader",className:"loader"}),(0,VK.jsx)("svg",{id:"graph-holder"}),(0,VK.jsxs)("div",{className:"graph-controls-overlay",children:[(0,VK.jsxs)("div",{className:"slider-container",children:[(0,VK.jsx)("label",{children:"Graph spread"}),(0,VK.jsx)("div",{className:"tooltip",children:"How spread out the graph is. Higher values means every output is rendered more like standard LTR text, lower values means the graph is more compact."}),(0,VK.jsx)(D$,{sx:{width:150},children:(0,VK.jsx)(RQ,{size:"small",min:0,max:1,step:.1,value:this.state.spread,onChange:(e,t)=>{this.setState({spread:t}),OK.logSliderChange("spread",t)},valueLabelDisplay:"off","aria-label":"Graph spread"})})]}),(0,VK.jsxs)("div",{className:"slider-container",children:[(0,VK.jsx)("label",{children:"Hide Rare Outputs"}),(0,VK.jsx)("div",{className:"tooltip",children:"How strongly rare outputs are faded. Higher values hide nodes and edges that appear infrequently across outputs."}),(0,VK.jsx)(D$,{sx:{width:150},children:(0,VK.jsx)(RQ,{size:"small",min:0,max:1,step:.1,value:this.state.minOpacityThreshold,onChange:(e,t)=>{this.setState({minOpacityThreshold:t}),OK.logSliderChange("minOpacityThreshold",t)},valueLabelDisplay:"off","aria-label":"Hide Rare Outputs"})})]}),(0,VK.jsxs)("div",{className:"slider-container",children:[(0,VK.jsx)("label",{children:"Token merging threshold"}),(0,VK.jsx)("div",{className:"tooltip",children:"How similar words need to be to be merged in the graph. Lower values merge more words together, higher values keep more words separate."}),(0,VK.jsx)(D$,{sx:{width:150},children:(0,VK.jsx)(RQ,{size:"small",min:0,max:1,step:.1,value:this.state.similarityThreshold,onChange:(e,t)=>{this.setState({similarityThreshold:t}),OK.logSliderChange("similarityThreshold",t)},valueLabelDisplay:"auto","aria-label":"Merging coefficient"})})]}),(0,VK.jsxs)("div",{className:"dropdown-container",children:[(0,VK.jsx)("label",{children:"Tokenize Mode:"}),(0,VK.jsxs)("select",{value:this.state.tokenizeMode,onChange:e=>{const t=e.target.value;this.setState({tokenizeMode:t}),LK.setTokenizeMode(t),OK.logDropdownChange("tokenizeMode",t)},children:[(0,VK.jsx)("option",{value:"space",children:"Space"}),(0,VK.jsx)("option",{value:"comma",children:"Comma"}),(0,VK.jsx)("option",{value:"sentence",children:"Sentence"})]})]})]}),(0,VK.jsx)(YK,{nodes:this.state.popupNodes,promptGroups:this.props.promptGroups,isVisible:this.state.isPopupVisible,onClose:()=>this.hidePopup(),onRemoveNode:this.removePopupNode})]})}async componentDidUpdate(e,t){if(LK.tokenizeMode!==this.state.tokenizeMode&&LK.tokenizeMode!==t.tokenizeMode)return void this.setState({tokenizeMode:LK.tokenizeMode});const n=t.tokenizeMode!==this.state.tokenizeMode,r=t.similarityThreshold!==this.state.similarityThreshold,i=!function(e,t){return JSON.stringify(e)===JSON.stringify(t)}(e.promptGroups,this.props.promptGroups);if(i&&(this.selectedNodes.clear(),this.hoveredNode=null,this.hidePopup()),(r||n||i)&&this.rebuildGraph(),t.minOpacityThreshold!==this.state.minOpacityThreshold)return this.createFontScale(),void this.update();t.spread===this.state.spread?this.update():this.updateSimulation()}toggleLoading(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j_("#graph-holder").classed("hidden",e),j_("#loader").classed("hidden",!e)}async rebuildGraph(){this.toggleLoading(!0),setTimeout((async()=>{await this.rebuildGraphContent(),this.updateSimulation(!0),this.toggleLoading(!1)}),0)}async rebuildGraphContent(){const{nodesData:e,linksData:t}=await rM(this.props.promptGroups,this.state.similarityThreshold,LK.shuffle,this.state.tokenizeMode);this.nodesData=e,this.linksData=t,this.createFontScale(),this.addBoundingBoxData(e),this.width=Math.min(window.innerWidth,5e3),this.height=Math.min(.8*window.innerHeight,800);const n=j_("#graph-holder").html("").attr("width",this.width).attr("height",this.height).style("cursor","grab").on("click",(e=>{"svg"===e.target.tagName&&(this.nodeSelected()||this.hoveredNode)&&(this.selectedNodes.clear(),this.hoveredNode=null,this.hidePopup(),this.updateSimulation(),this.update())})),r=n.append("g"),i=Rx().scaleExtent([.5,3]).on("zoom",(e=>{r.attr("transform",e.transform);const t=e.transform,n=t.k,i=t.x,a=t.y;if(this.lastTransform){const e=Math.abs(n-this.lastTransform.k)>.01,t=Math.abs(i-this.lastTransform.x)>1||Math.abs(a-this.lastTransform.y)>1;null!==this.zoomThrottleTimer&&clearTimeout(this.zoomThrottleTimer),this.zoomThrottleTimer=window.setTimeout((()=>{e?OK.logGraphZoom(n,i,a):t&&OK.logGraphPan(i,a),this.zoomThrottleTimer=null}),100)}this.lastTransform={k:n,x:i,y:a}}));n.call(i).on("dblclick.zoom",null),this.defs=n.append("defs");const a=(e,t,n)=>{var r;const i=this.defs.append("linearGradient").attr("id",((e,t)=>"gradient-".concat(t))(0,t)).attr("gradientUnits","objectBoundingBox"),a=(e=>{const t=parseInt(e);return lM[t%lM.length]})(e.promptId&&(null===(r=e.promptId.match(/_(\d+)_/))||void 0===r?void 0:r[1])||"0");return i.append("stop").attr("offset","0%").attr("stop-color",a),i.append("stop").attr("offset","100%").attr("stop-color",a),i};t.forEach(((e,t)=>{a(e,t,this.linkIsInSents(e))})),this.getLinkEndpoints=e=>{var t;const n=t=>{const n=([...t.origSentIndices].indexOf(e.sentIdx)/t.origSentIndices.length-.75)*t.fontSize;return t.y+n},r=e=>{const t=e.x,n=t+e.textLength;return[t,n,(t+n)/2]},[i,a,o]=r(e.source),[s,l,c]=r(e.target),u=null!==(t=e.source)&&void 0!==t&&t.isRoot?i:o,d=e.target.isEnd?l:c,[h,p]=[n(e.source),n(e.target)];return{sourceX:u,targetX:d,y1:h,y2:p,sourceRightX:a,targetLeftX:s}},this.links=r.selectAll(".link").data(t).enter().append("path").attr("class","link").attr("fill","none"),this.nodes=r.selectAll(".node").data(e).enter().append("g").attr("class","node").on("mouseover",((e,t)=>{this.hoveredNode=t,this.update()})).on("mouseout",((e,t)=>{this.hoveredNode=null,this.update()})).on("click",((e,t)=>{this.nodeIsInSelectedSents(t)&&(this.selectedNodes.has(t)?(this.selectedNodes.delete(t),this.hoveredNode=null):(this.selectedNodes.add(t),this.hoveredNode=null),this.updateSimulation(),this.update(),this.togglePopupNode(t),OK.logNodeClick(t.word,{count:t.count,origSentIndices:t.origSentIndices}))})),this.nodes.append("text").call(this.wrapText).attr("font-size",(e=>e.fontSize))}update(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.links||!this.nodes||!this.defs||!this.getLinkEndpoints)return;const t=e=>{const t=e=>"blur(2px) opacity(".concat(e,")"),n=(e=>void 0!==e.word)(e)?e=>this.nodeIsInSelectedSents(e):e=>this.linkIsInSents(e);if(!this.nodeSelected()&&!this.hoveredNode)return"";const r=t(.2),i=t(.5);return this.hoveredNode?n(e)?"":i:this.nodeSelected()?n(e)?"":r:""};this.links.transition().duration(e?0:300).ease(Cv).attr("d",(e=>{const{sourceX:t,targetX:n,y1:r,y2:i,sourceRightX:a,targetLeftX:o}=this.getLinkEndpoints(e),s=[{x:t,y:r},{x:a,y:r},{x:o,y:i},{x:n,y:i}];return px().x((e=>e.x)).y((e=>e.y)).curve(_x)(s)})).attr("stroke",((e,t)=>"url(#gradient-".concat(t,")"))).attr("stroke-width",(e=>2)).style("filter",(e=>t(e)));const n=e=>""!==e.word&&this.opacityScale?this.opacityScale(e.count):0;this.links.each(((e,t)=>{const r=this.defs.select("#gradient-".concat(t)).selectAll("stop");r.filter(((e,t)=>0===t)).attr("stop-opacity",.2*n(e.source)),r.filter(((e,t)=>1===t)).attr("stop-opacity",.2*n(e.target))})),this.nodes.transition().duration(e?0:300).ease(Cv).attr("transform",(e=>"translate(".concat(e.x,", ").concat(e.y,")"))).attr("fill",(e=>cM(e,this.linksData))).style("opacity",(e=>n(e))).style("font-weight",(e=>this.selectedNodes.has(e)||this.hoveredNode===e?"bold":"normal")).style("filter",(e=>t(e)))}updateSimulation(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.simulation&&(this.simulation.stop(),this.simulation.force("x",null),this.simulation.force("y",null),this.simulation.force("link",null),this.simulation.force("collide",null)),this.simulation=Nv(this.nodesData);const t=this.nodeSelected()?this.linksData.filter((e=>this.linkIsInSents(e))):this.linksData,n=this.nodeSelected()?this.nodesData.filter((e=>this.nodeIsInSelectedSents(e))):this.nodesData;this.simulation.nodes(n).force("collide",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;function i(i){const a=e.length,o=16*r,s=new Array(a);for(let n=0;n<a;++n){const r=e[n],i=+t(r,n,e),a=r.rx+i,o=r.ry+i;s[n]={w:a,h:o,w2:a*a,h2:o*o,wh:a*o,x:r.x+r.vx,y:r.y+r.vy,maxRadius:Math.max(a,o)}}for(let t=0;t<a;++t){const r=e[t],l=s[t];for(let c=t+1;c<a;++c){const t=e[c],a=s[c];let u=l.x-a.x,d=l.y-a.y;const h=u*u+d*d;if(h>(l.maxRadius+a.maxRadius+100)**2)continue;if(0===u&&0===d){const e=4*Math.random()-2,n=4*Math.random()-2;r.vx+=e,r.vy+=n,t.vx-=e,t.vy-=n;continue}let p,f,m,g,y,b;if(0===u)p=(l.h/l.w+a.h/a.w)/2,f=Math.abs(d),m=f-l.h-a.h;else if(0===d)p=1,f=Math.abs(u),m=f-l.w-a.w;else{const e=d/u,t=e*e,n=l.wh/Math.sqrt(l.h2+t*l.w2),r=e*n,i=Math.sqrt(n*n+r*r),o=i/l.w,s=a.wh/Math.sqrt(a.h2+t*a.w2),c=e*s,g=Math.sqrt(s*s+c*c),y=g/a.w;f=Math.sqrt(h),m=f-g-i,p=(o+y)/2}g=u/f,y=d/f,b=m<0?Math.min(Math.max(1,n*p*-m),5):Math.min(20,p*o*i/m),r.vx+=b*g,r.vy+=b*y,t.vx-=b*g,t.vy-=b*y}}}return"function"!==typeof t&&(t=GK(+t)),i.initialize=function(t){e=t},i.outerRepulsion=function(e){return void 0===e?r:(r=+e,i)},i.innerRepulsion=function(e){return void 0===e?n:(n=+e,i)},i.padding=function(e){return void 0===e?t:(t="function"===typeof e?e:GK(+e),i)},i}(n,10,5,5)).force("link",function(e){var t,n,r,i,a,o,s=Mv,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=Ev(30),u=1;function d(r){for(var i=0,s=e.length;i<u;++i)for(var l,c,d,h,p,f,m,g=0;g<s;++g)c=(l=e[g]).source,h=(d=l.target).x+d.vx-c.x-c.vx||Fv(o),p=d.y+d.vy-c.y-c.vy||Fv(o),h*=f=((f=Math.sqrt(h*h+p*p))-n[g])/f*r*t[g],p*=f,d.vx-=h*(m=a[g]),d.vy-=p*m,c.vx+=h*(m=1-m),c.vy+=p*m}function h(){if(r){var o,l,c=r.length,u=e.length,d=new Map(r.map(((e,t)=>[s(e,t,r),e])));for(o=0,i=new Array(c);o<u;++o)(l=e[o]).index=o,"object"!==typeof l.source&&(l.source=Iv(d,l.source)),"object"!==typeof l.target&&(l.target=Iv(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(o=0,a=new Array(u);o<u;++o)l=e[o],a[o]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(u),p(),n=new Array(u),f()}}function p(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function f(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,o=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(l="function"===typeof e?e:Ev(+e),p(),d):l},d.distance=function(e){return arguments.length?(c="function"===typeof e?e:Ev(+e),f(),d):c},d}(t).id((e=>e.word)).strength(.4)).force("y",function(e){var t,n,r,i=Ev(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=Ev(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:Ev(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:Ev(+t),o(),a):e},a}(this.height/2).strength((e=>e.count/100))).force("x",(()=>n.forEach((e=>e.x=this.getExpectedX(e,n))))),this.simulation.on("tick",(()=>this.update())),this.runSimulationToConvergence(),this.update(e)}runSimulationToConvergence(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(!this.simulation)return;this.simulation.stop();let n=!1,r=0;for(;!n&&r<t;)this.simulation.tick(),n=this.simulation.nodes().every((t=>Math.abs(t.vx)<e&&Math.abs(t.vy)<e)),r++;console.log("Simulation converged after ".concat(r," iterations"))}linkIsInSents(e){if(this.nodeSelected())return Array.from(this.selectedNodes).some((t=>t.origSentIndices.includes(e.sentIdx)));const t=this.hoveredNode;return null===t||void 0===t?void 0:t.origSentIndices.includes(e.sentIdx)}nodeIsInSelectedSents(e){if(this.nodeSelected()){const t=new Set;return Array.from(this.selectedNodes).forEach((e=>{e.origSentIndices.forEach((e=>t.add(e)))})),e.origSentIndices.some((e=>t.has(e)))}if(!this.hoveredNode)return!1;const t=[...this.hoveredNode.origSentIndices],n=e.origSentIndices,r=t.filter((e=>n.includes(e)));return r.length>0}addBoundingBoxData(e){e.forEach((e=>{e.rx=e.textLength/2,e.ry=this.textHeight(e)/2}))}getExpectedX(e,t){const n=e.parents.filter((e=>t.includes(e)));if(e.isRoot&&!n.length)return 30;if(!n.length)return e.x;const r=n.map((e=>e.x+e.textLength+30)),i=oy(r)||0,a=ay(r)||0,o=function(e,t){let n=0,r=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}(r)||0;return A_().domain([0,.5,1]).range([i,o,a])(this.state.spread)}getExpectedY(e,t){const n=oy(e.origSentIndices||[])||0,r=this.props.promptGroups.reduce(((e,t)=>e+t.generations.length),0);return A_().domain([0,r]).range([.1*t,.9*t])(n)}fontSize(e){return this.fontScale?this.fontScale(e.count):10}textLength(e){return ay(WQ(e.word).map((t=>t.length*e.fontSize*.6)))||0}textHeight(e){return WQ(e.word).length*e.fontSize}wrapText(e){e.each((function(e){const t=j_(this),n=WQ(e.word);t.text(null).selectAll("tspan").data(n).enter().append("tspan").attr("x",0).attr("dy",((e,t)=>"".concat(0===t?0:1.2,"em"))).text((e=>e))}))}hidePopup(){(this.state.isPopupVisible||0!==this.state.popupNodes.length)&&this.setState({popupNodes:[],isPopupVisible:!1})}}const VQ=new Map;function WQ(e){if(VQ.has(e))return VQ.get(e);const t=ZF(e).split(" "),n=[];for(let r=0;r<t.length;r+=3)n.push(t.slice(r,r+3).join(" "));return VQ.set(e,n),n}const qQ=ry(jQ);class UQ extends n.Component{constructor(){super(...arguments),this.state={promptGroups:[]},this.disposer=void 0}getPromptGroupKey(e,t){return"".concat(e.text,"_").concat(t,"_").concat(e.modelFamily,"_").concat(e.model)}render(){var e;if(LK.prompts.length&&null!==(e=LK.prompts[0])&&void 0!==e&&e.text)return(0,VK.jsx)("div",{className:"single-example",children:(0,VK.jsx)("div",{children:this.renderOutputs()})})}renderOutputs(){if(!this.state.promptGroups)return;let e,t="";switch(LK.visType){case"word_tree":e=this.renderOutputsWordTree(),t="Hover over a word to highlight it across all generated sentences. \n                The size of the word corresponds to its frequency in the generated sentences.";break;case"graph":e=this.renderOutputsGraph(),t="Hover over any word or phrase to highlight all sentences containing it. \n                \nClick to pin the highlight - click again or click elsewhere to unpin.\n                \nDrag to pan, scroll to zoom in and out.";break;case"highlights":e=this.renderOutputsHighlights(),t="Highlighted words are the ones that are present in multiple generated sentences. The bolded output is the text you entered to compare against the LLM outputs (if provided). Color of highlights is not related to the colors used in the graph visualization.";break;case"first_output":e=this.renderOutputsBasic(!0),t="First output generated by the LLM for each prompt.";break;default:e=this.renderOutputsBasic(),t="Outputs generated by the LLM."}const n=[{value:"graph",label:"Graph"},{value:"raw_outputs",label:"Raw Outputs"},{value:"first_output",label:"First Output"},...LK.isUserStudy?[]:[{value:"word_tree",label:"Word Tree"},{value:"highlights",label:"Highlights"}]];return(0,VK.jsxs)("div",{children:[(0,VK.jsxs)("div",{className:"section-label-with-selector",children:[(0,VK.jsx)("span",{className:"section-label-text",children:"LLM Generations:"}),!LK.isUserStudy&&(0,VK.jsx)("select",{id:"vis-type-select",value:LK.visType,onChange:e=>{const t=e.target.value;LK.setVisType(t),OK.logVisTypeChange(t)},children:n.map((e=>(0,VK.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),e]})}renderOutputsWordTree(){var e;const t=null===(e=this.state.promptGroups[0])||void 0===e?void 0:e.generations;return(0,VK.jsx)(qK,{generations:t})}renderOutputsGraph(){return(0,VK.jsx)(qQ,{promptGroups:this.state.promptGroups})}renderOutputsBasic(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.state.promptGroups&&0!==this.state.promptGroups.length?(0,VK.jsx)("div",{className:"outputs",children:this.state.promptGroups.map(((t,n)=>{var r,i,a;const o=t.promptId.match(/_(\d+)_/),s=o?parseInt(o[1]):0,l=LK.getPromptColor(s),c=(null===(r=LK.prompts[s])||void 0===r?void 0:r.text)||"",u=e?t.generations.slice(0,1):t.generations;return(0,VK.jsxs)("div",{className:"prompt-output-group",style:{borderColor:l},children:[(0,VK.jsxs)("div",{className:"prompt-output-header",style:{backgroundColor:l},children:[(0,VK.jsxs)("div",{className:"prompt-text",children:["Prompt ",s+1,": ",c]}),(0,VK.jsxs)("div",{className:"prompt-info",children:[!e&&"".concat(t.generations.length," outputs - "),null===(i=LK.prompts[s])||void 0===i?void 0:i.modelFamily,"/",null===(a=LK.prompts[s])||void 0===a?void 0:a.model]})]}),(0,VK.jsx)("div",{children:u.map(((e,t)=>(0,VK.jsx)("div",{className:"output-item",children:e},"".concat(e,"-").concat(t))))})]},"group-".concat(n))}))}):(0,VK.jsx)("div",{className:"outputs",children:"No outputs available"})}renderOutputsHighlights(){var e;const t=null===(e=this.state.promptGroups[0])||void 0===e?void 0:e.generations;return(0,VK.jsx)(HK,{generations:t})}componentDidUpdate(e,t){!LK.isUserStudy||"word_tree"!==LK.visType&&"highlights"!==LK.visType||LK.setVisType("graph")}componentDidMount(){!LK.isUserStudy||"word_tree"!==LK.visType&&"highlights"!==LK.visType||LK.setVisType("graph"),this.disposer=function(e,t,n){var r,i,a;void 0===n&&(n=yh);var o,s,l,c=null!=(r=n.name)?r:"Reaction",u=Hf(c,n.onError?(o=n.onError,s=t,function(){try{return s.apply(this,arguments)}catch(F){o.call(this,F)}}):t),d=!n.scheduler&&!n.delay,h=Zf(n),p=!0,f=!1,m=n.compareStructural?np.structural:n.equals||np.default,g=new Mf(c,(function(){p||d?y():f||(f=!0,h(y))}),n.onError,n.requiresObservable);function y(){if(f=!1,!g.isDisposed){var t=!1,r=l;g.track((function(){var n=Qp(!1,(function(){return e(g)}));t=p||!m(l,n),l=n})),(p&&n.fireImmediately||!p&&t)&&u(l,r,g),p=!1}}return null!=(i=n)&&null!=(i=i.signal)&&i.aborted||g.schedule_(),g.getDisposer_(null==(a=n)?void 0:a.signal)}((()=>[LK.prompts.map((e=>e.text)).join("\x01"),LK.prompts.map((e=>e.temp)).join(","),LK.prompts.map((e=>e.modelFamily)).join(","),LK.prompts.map((e=>e.model)).join(","),LK.numGenerations,LK.shuffle,LK.tokenizeMode,LK.disabledPrompts]),(async()=>{const e=LK.prompts.map(((e,t)=>({prompt:e,originalIndex:t}))).filter((e=>{let{prompt:t,originalIndex:n}=e;return t.text&&t.text.trim().length>0&&!LK.isPromptDisabled(n)}));if(0===e.length)return;const t=[];for(let n=0;n<e.length;n++){const{prompt:r,originalIndex:i}=e[n],a=await LK.fetchGenerationsFor(i);t.push({promptId:this.getPromptGroupKey(r,i),generations:a})}this.setState({promptGroups:t.length>=1?t:[]})}),{fireImmediately:!0})}componentWillUnmount(){this.disposer&&this.disposer()}}const HQ=ry(UQ);class GQ extends n.Component{constructor(){super(...arguments),this.state={expanded:!1,generatingSimilar:!1,similarPrompts:[]},this.toggleExpanded=()=>{this.setState((e=>({expanded:!e.expanded})))},this.handleGenerateSimilar=async()=>{var e;const t=(null===(e=document.querySelector(".similarity-input-".concat(this.props.promptIndex)))||void 0===e?void 0:e.value)||"";this.setState({generatingSimilar:!0,similarPrompts:[]}),OK.logGenerateSimilar(this.props.promptIndex,t);try{const e=await LK.generateSimilarPrompts(this.props.prompt.text,t,this.props.prompt.temp);this.setState({similarPrompts:e,generatingSimilar:!1})}catch(n){console.error("Error generating similar prompts:",n),this.setState({generatingSimilar:!1})}},this.handlePromptSelect=e=>{LK.addPrompt(e);const t=LK.prompts.length-1;OK.logPromptSelect(t,e,"similar_prompts")}}render(){const{prompt:e,promptIndex:t,onUpdateText:n,onUpdateTemp:r,onUpdateModelFamily:i,onUpdateModel:a,onDelete:o,onToggleDisabled:s,isDisabled:l,totalPrompts:c}=this.props,{expanded:u,generatingSimilar:d,similarPrompts:h}=this.state,p=LK.getPromptColor(t),f=1===c?"Prompt":"Prompt ".concat(t+1);return(0,VK.jsxs)("div",{className:"compare-prompt-container ".concat(l?"disabled":""),style:{backgroundColor:l?"#f0f0f0":p,color:l?"#666":"black",borderColor:l?"#ccc":p,opacity:l?.6:1},children:[(0,VK.jsxs)("div",{className:"controls-row",children:[!LK.isUserStudy&&(0,VK.jsx)("div",{className:"expand-caret",onClick:this.toggleExpanded,children:(0,VK.jsx)("span",{className:"material-icons ".concat(u?"expanded":""),children:u?"expand_less":"expand_more"})}),(0,VK.jsx)("div",{className:"input-header",children:f}),(0,VK.jsx)(KQ,{value:e.text||"",options:Object.keys(sM),onSubmit:e=>{n(t,e),OK.logPromptEdit(t,e)},readOnly:LK.isUserStudy,promptIndex:t},"prompt-"+t+"-"+(e.text||"")),!LK.isUserStudy&&(0,VK.jsxs)(VK.Fragment,{children:[(0,VK.jsxs)("div",{className:"slider-container",children:[(0,VK.jsxs)("label",{children:["Temperature: ",e.temp]}),(0,VK.jsx)(D$,{sx:{width:150},children:(0,VK.jsx)(RQ,{size:"small",min:0,max:1,step:.1,value:e.temp,onChange:(e,n)=>{r(t,n),OK.logSliderChange("temperature",n,t)},valueLabelDisplay:"auto","aria-label":"Temperature",disabled:l})})]}),(0,VK.jsxs)("div",{className:"dropdown-container",children:[(0,VK.jsx)("label",{children:"Model Family:"}),(0,VK.jsx)("select",{value:e.modelFamily,onChange:e=>{i(t,e.target.value),OK.logDropdownChange("modelFamily",e.target.value,t)},disabled:l,children:_K.map((e=>(0,VK.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,VK.jsxs)("div",{className:"dropdown-container",children:[(0,VK.jsx)("label",{children:"Model:"}),(0,VK.jsx)("select",{value:e.model,onChange:e=>{a(t,e.target.value),OK.logDropdownChange("model",e.target.value,t)},disabled:l,children:kK(e.modelFamily).map((e=>(0,VK.jsx)("option",{value:e.id,children:e.name},e.id)))})]})]}),c>1&&(0,VK.jsxs)(VK.Fragment,{children:[(0,VK.jsx)("button",{className:"toggle-disabled-button",onClick:()=>{s(t),OK.logPromptToggleDisabled(t,!l)},title:l?"Enable this prompt":"Disable this prompt",children:(0,VK.jsx)("span",{className:"material-icons",children:l?"visibility":"visibility_off"})}),(0,VK.jsx)("button",{className:"delete-prompt-button",onClick:()=>{OK.logPromptDelete(t),o(t)},title:"Delete this prompt",children:(0,VK.jsx)("span",{className:"material-icons",children:"close"})})]})]}),u&&!LK.isUserStudy&&(0,VK.jsxs)("div",{className:"generate-similar-container",children:[(0,VK.jsxs)("div",{className:"controls-row",children:[(0,VK.jsx)("button",{className:"generate-similar-button",onClick:this.handleGenerateSimilar,disabled:d,children:"generate similar prompts"}),(0,VK.jsx)("div",{className:"similarity-input-container",children:(0,VK.jsxs)("div",{className:"input-with-hint",children:[(0,VK.jsx)("input",{type:"text",className:"input-field similarity-input-".concat(t),placeholder:"Optionally specify what aspect of the input you care about, e.g., 'about food', 'asking for advice', 'formal tone'",onKeyDown:e=>{"Enter"===e.key&&e.target.blur()}}),(0,VK.jsxs)("span",{className:"enter-hint",children:[(0,VK.jsx)("span",{className:"material-icons",children:"keyboard_return"})," Enter"]})]})})]}),h.length>0&&(0,VK.jsx)("div",{className:"controls-row",children:(0,VK.jsx)("div",{className:"similar-prompts-table-container",children:(0,VK.jsxs)("table",{className:"similar-prompts-table",children:[(0,VK.jsx)("thead",{children:(0,VK.jsx)("tr",{children:(0,VK.jsx)("th",{children:"Prompt"})})}),(0,VK.jsx)("tbody",{children:h.map(((e,t)=>(0,VK.jsx)("tr",{className:"clickable-row",onClick:()=>this.handlePromptSelect(e),children:(0,VK.jsx)("td",{children:e})},t)))})]})})}),d&&(0,VK.jsx)("div",{className:"similar-prompts-table-container",children:(0,VK.jsxs)("table",{className:"similar-prompts-table",children:[(0,VK.jsx)("thead",{children:(0,VK.jsx)("tr",{children:(0,VK.jsx)("th",{children:"Prompt"})})}),(0,VK.jsx)("tbody",{children:(0,VK.jsx)("tr",{children:(0,VK.jsxs)("td",{className:"loading-cell",children:[(0,VK.jsx)("span",{className:"loader"}),(0,VK.jsx)("span",{children:"Generating similar prompts..."})]})})})]})})]})]})}}class KQ extends n.Component{constructor(){super(...arguments),this.state={open:!1,value:this.props.value||""},this.handleClickOutside=e=>{this.dropdownRef.current&&!this.dropdownRef.current.contains(e.target)&&this.setState({open:!1})},this.handleKeyDown=e=>{"Escape"===e.key&&this.setState({open:!1})},this.dropdownRef=n.createRef(),this.handleInputChange=e=>{this.props.readOnly||this.setState({value:e.target.value})},this.handleInputKeyDown=e=>{var t,n;this.props.readOnly?"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.setState({open:!0})):"Enter"===e.key&&(null===(t=(n=this.props).onSubmit)||void 0===t||t.call(n,this.state.value),this.setState({open:!1}),void 0===this.props.promptIndex||this.props.readOnly||OK.logPromptEdit(this.props.promptIndex,this.state.value))},this.handleSelect=e=>{this.setState({value:e,open:!1},(()=>{var t,n;null===(t=(n=this.props).onSubmit)||void 0===t||t.call(n,e),void 0!==this.props.promptIndex&&OK.logPromptSelect(this.props.promptIndex,e,"dropdown")}))}}componentDidMount(){document.addEventListener("click",this.handleClickOutside),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("keydown",this.handleKeyDown)}render(){const{options:e,readOnly:t}=this.props,{open:n,value:r}=this.state;return(0,VK.jsxs)("div",{className:"input-with-hint",ref:this.dropdownRef,children:[(0,VK.jsx)("input",{type:"text",className:"input-field",value:r,placeholder:t?"Select a prompt":"Enter or select a prompt",onChange:this.handleInputChange,onFocus:()=>this.setState({open:!0}),onKeyDown:this.handleInputKeyDown,readOnly:t}),n&&(0,VK.jsx)("ul",{className:"dropdown-list",children:e.map((e=>(0,VK.jsx)("li",{onClick:()=>this.handleSelect(e),title:e,children:e},e)))}),!t&&(0,VK.jsxs)("span",{className:"enter-hint",children:[(0,VK.jsx)("span",{className:"material-icons",children:"keyboard_return"})," Enter"]})]})}}const YQ=GQ,JQ=Object.keys(sM)[0];class ZQ extends n.Component{constructor(){var e,t;super(...arguments),this.state={selectedExample:JQ,temperature:null!==(e=null===(t=LK.prompts[0])||void 0===t?void 0:t.temp)&&void 0!==e?e:.7,numGenerations:LK.numGenerations,shuffle:LK.shuffle},this.handleSliderChange=(e,t)=>{this.state[t]=e,this.setState({}),OK.logSliderChange(t,e)},this.handleCheckboxChange=(e,t)=>{this.state[t]=e.target.checked,this.setState({})},this.handleDropdownChange=(e,t)=>{this.state[t]=e.target.value,this.setState({}),OK.logDropdownChange(t,e.target.value)},this.handleSubmit=e=>{const t=null!==e&&void 0!==e?e:this.state.selectedExample;this.setState({selectedExample:t}),LK.updatePromptTempAt(0,this.state.temperature),LK.setNumGenerations(this.state.numGenerations),LK.updatePromptTextAt(0,t)},this.handlePromptSelect=e=>{this.setState({selectedExample:e}),LK.updatePromptTextAt(0,e),LK.updatePromptTempAt(0,this.state.temperature),LK.setNumGenerations(this.state.numGenerations),LK.fetchGenerationsFor(0)}}render(){return(0,VK.jsxs)("div",{className:"single-input-holder",children:[(0,VK.jsxs)("div",{className:"controls",children:[(0,VK.jsxs)("h1",{className:"controls-title",children:["Visualizing LLM outputs",(0,VK.jsxs)("div",{className:"info-icon-container",children:[(0,VK.jsx)("div",{className:"info-icon",children:"?"}),(0,VK.jsxs)("div",{className:"info-tooltip",children:[(0,VK.jsx)("p",{children:"When an LLM returns a response, we're actually sampling from a probability distribution over many possible outputs. But we usually only see one of those samples\u2014the response that gets returned."}),(0,VK.jsxs)("p",{children:["If we're just using the model to get an answer or write some text, that's fine. But if we want to understand how the model behaves\u2014or build systems that depend on it\u2014we need more than just one response. ",(0,VK.jsx)("b",{children:"We need to understand the whole distribution of possible outputs."})]})]})]})]}),!LK.isUserStudy&&(0,VK.jsx)("div",{className:"controls-row",children:(0,VK.jsxs)("div",{className:"slider-container",children:[(0,VK.jsxs)("label",{children:["Samples: ",this.state.numGenerations]}),(0,VK.jsx)("div",{className:"tooltip",children:"How many different responses the LLM will generate for each prompt. More generations help visualize the diversity of possible responses."}),(0,VK.jsx)(D$,{sx:{width:150},children:(0,VK.jsx)(RQ,{size:"small",min:1,max:50,step:1,value:this.state.numGenerations,onChange:(e,t)=>this.handleSliderChange(t,"numGenerations"),onChangeCommitted:()=>LK.setNumGenerations(this.state.numGenerations),valueLabelDisplay:"auto","aria-label":"Number of Generations"})})]})})]}),LK.prompts.map(((e,t)=>(0,VK.jsx)(YQ,{promptIndex:t,prompt:e,onUpdateText:LK.updatePromptTextAt,onUpdateTemp:LK.updatePromptTempAt,onUpdateModelFamily:LK.updatePromptModelFamilyAt,onUpdateModel:LK.updatePromptModelAt,onDelete:LK.removePromptAt,onToggleDisabled:LK.togglePromptDisabled,isDisabled:LK.isPromptDisabled(t),totalPrompts:LK.prompts.length},"prompt-"+t))),(0,VK.jsx)("div",{className:"add-prompt-container",onClick:()=>{LK.prompts.length<3&&LK.addPrompt("")},style:{backgroundColor:LK.getPromptColor(LK.prompts.length),borderColor:LK.getPromptColor(LK.prompts.length),opacity:LK.prompts.length>=3?.5:1,cursor:LK.prompts.length>=3?"not-allowed":"pointer"},children:(0,VK.jsxs)("div",{className:"controls-row",style:{width:"fit-content"},children:["Compare to another prompt",(0,VK.jsx)("div",{className:"input-header",children:(0,VK.jsx)("span",{className:"material-icons",children:"add"})})]})}),LK.loading?this.renderLoading():(0,VK.jsx)(HQ,{})]})}renderLoading(){return(0,VK.jsx)("span",{className:"loader"})}async componentDidMount(){LK.updatePromptTextAt(0,JQ)}}const XQ=ry(ZQ);const $Q=function(){const e=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{FK(),OK.logPageLoad();const t=async()=>{if(e.current)return;if(!NK())return;e.current=!0;const t=await async function(){if(!LK.isUserStudy)return!1;const e=FK();if(e.submitted)return console.warn("Session already submitted"),!1;try{console.log("CALLING TELEMETRY ENDPOINT");const t=zK(e);console.log(t);const n=await fetch(CK,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:t});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));if("ok"===(await n.json()).status)return e.submitted=!0,MK(e),!0;throw new Error("Unexpected response from server")}catch(t){return console.error("Error submitting telemetry:",t),!1}}();t?IK():e.current=!1},n=()=>{t()},r=()=>{document.hidden&&t()},i=()=>{!e.current&&NK()&&(e.current=!0,function(){if(!LK.isUserStudy)return;const e=FK();if(0===e.telemetry.length||e.submitted)return;const t=zK(e),n=new Blob([t],{type:"text/plain;charset=utf-8"});navigator.sendBeacon(CK,n)||fetch(CK,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:t,keepalive:!0}).catch((()=>{})),e.submitted=!0,MK(e)}())};return window.addEventListener("blur",n),document.addEventListener("visibilitychange",r),window.onbeforeunload=i,window.addEventListener("pagehide",i),()=>{window.removeEventListener("blur",n),document.removeEventListener("visibilitychange",r),window.removeEventListener("pagehide",i),window.onbeforeunload=null}}),[]),(0,VK.jsx)(XQ,{})};window.__webpack_public_path__="/llm-consistency-vis/";i.createRoot(document.getElementById("root")).render((0,VK.jsx)(n.StrictMode,{children:(0,VK.jsx)($Q,{})}))})()})();
//# sourceMappingURL=main.644af6b5.js.map
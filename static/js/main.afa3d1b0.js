/*! For license information please see main.afa3d1b0.js.LICENSE.txt */
(()=>{var __webpack_modules__={9:()=>{},43:(e,t,n)=>{"use strict";e.exports=n(202)},52:()=>{},78:(e,t)=>{"use strict";t.Lb=void 0;class n extends Error{constructor(){super("EmptyVectorError::the vectors being compared cannot be empty.")}}class a extends Error{constructor(){super("InvalidParameterType::the parameters must be arrays of numbers.")}}class r extends Error{constructor(){super("NotNumberVectorError::the vectors being compared must contain only numbers.")}}class i extends Error{constructor(){super("MissingVectorError::the vectors being compared must be provided.")}}class o extends Error{constructor(){super("ZeroVectorError::the vectors being compared cannot be all zeros.")}}t.Lb=(e,t)=>{let s=0,l=0,c=0;if(!e||!t)throw new i;if(!Array.isArray(e)||!Array.isArray(t))throw new a;if(!e.length||!t.length)throw new n;const u=Math.max(e.length,t.length);for(let n=0;n<u;n++){let a=e[n]||0,i=t[n]||0;if("number"!==typeof a||"number"!==typeof i)throw new r;s+=a*i,n<e.length&&(l+=e[n]*e[n]),n<t.length&&(c+=t[n]*t[n])}if(!l||!c)throw new o;return s/(Math.sqrt(l)*Math.sqrt(c))}},81:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InferenceSession:()=>f,Tensor:()=>h,env:()=>o,registerBackend:()=>i});const a={},r=[],i=(e,t,n)=>{if(!t||"function"!==typeof t.init||"function"!==typeof t.createSessionHandler)throw new TypeError("not a valid backend");{const i=a[e];if(void 0===i)a[e]={backend:t,priority:n};else{if(i.priority>n)return;if(i.priority===n&&i.backend!==t)throw new Error('cannot register backend "'.concat(e,'" using priority ').concat(n))}if(n>=0){const t=r.indexOf(e);-1!==t&&r.splice(t,1);for(let i=0;i<r.length;i++)if(a[r[i]].priority<=n)return void r.splice(i,0,e);r.push(e)}}};const o=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!==typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: ".concat(e));this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}},s="undefined"!==typeof BigInt64Array&&"function"===typeof BigInt64Array.from,l="undefined"!==typeof BigUint64Array&&"function"===typeof BigUint64Array.from,c=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),u=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);s&&(c.set("int64",BigInt64Array),u.set(BigInt64Array,"int64")),l&&(c.set("uint64",BigUint64Array),u.set(BigUint64Array,"uint64"));class d{constructor(e,t,n){let a,r,i;if("string"===typeof e)if(a=e,i=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");r=t}else{const n=c.get(e);if(void 0===n)throw new TypeError("Unsupported tensor type: ".concat(e,"."));if(Array.isArray(t))r=n.from(t);else{if(!(t instanceof n))throw new TypeError("A ".concat(a," tensor's data must be type of ").concat(n));r=t}}else if(i=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)a="string",r=e;else{if("boolean"!==t)throw new TypeError("Invalid element type of data array: ".concat(t,"."));a="bool",r=Uint8Array.from(e)}}else{const t=u.get(e.constructor);if(void 0===t)throw new TypeError("Unsupported type for tensor data: ".concat(e.constructor,"."));a=t,r=e}if(void 0===i)i=[r.length];else if(!Array.isArray(i))throw new TypeError("A tensor's dims must be a number array");const o=(e=>{let t=1;for(let n=0;n<e.length;n++){const a=e[n];if("number"!==typeof a||!Number.isSafeInteger(a))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(a));if(a<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(a));t*=a}return t})(i);if(o!==r.length)throw new Error("Tensor's size(".concat(o,") does not match data length(").concat(r.length,")."));this.dims=i,this.type=a,this.data=r,this.size=o}static bufferToTensor(e,t){if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");const{height:n,width:a}=t,r=t.norm;let i,o;i=void 0===r||void 0===r.mean?255:r.mean,o=void 0===r||void 0===r.bias?0:r.bias;const s=void 0!==t.bitmapFormat?t.bitmapFormat:"RGBA",l=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",c=n*a,u="RGBA"===l?new Float32Array(4*c):new Float32Array(3*c);let h=4,p=0,f=1,m=2,g=3,y=0,b=c,v=2*c,w=-1;"RGB"===s&&(h=3,p=0,f=1,m=2,g=-1),"RGBA"===l?w=3*c:"RBG"===l?(y=0,v=c,b=2*c):"BGR"===l&&(v=0,b=c,y=2*c);for(let d=0;d<c;d++,p+=h,m+=h,f+=h,g+=h)u[y++]=(e[p]+o)/i,u[b++]=(e[f]+o)/i,u[v++]=(e[m]+o)/i,-1!==w&&-1!==g&&(u[w++]=(e[g]+o)/i);return new d("float32",u,"RGBA"===l?[1,4,n,a]:[1,3,n,a])}static async fromImage(e,t){const n="undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement,a="undefined"!==typeof ImageData&&e instanceof ImageData,r="undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap,i="undefined"!==typeof String&&(e instanceof String||"string"===typeof e);let o,s={};if(n){const n=document.createElement("canvas"),a=n.getContext("2d");if(null==a)throw new Error("Can not access image data");{let r=e.naturalHeight,i=e.naturalWidth;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(r=t.resizedHeight,i=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(s.tensorFormat="RGBA",void 0!==t.height&&t.height!==r)throw new Error("Image input config height doesn't match HTMLImageElement height");if(s.height=r,void 0!==t.width&&t.width!==i)throw new Error("Image input config width doesn't match HTMLImageElement width");s.width=i}else s.tensorFormat="RGBA",s.height=r,s.width=i;n.width=i,n.height=r,a.drawImage(e,0,0,i,r),o=a.getImageData(0,0,i,r).data}}else{if(!a){if(r){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");if(void 0!==t.bitmapFormat)throw new Error("Image input config format must be defined for ImageBitmap");const n=document.createElement("canvas").getContext("2d");if(null!=n){const a=e.height,r=e.width;if(n.drawImage(e,0,0,r,a),o=n.getImageData(0,0,r,a).data,void 0!==t){if(void 0!==t.height&&t.height!==a)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=a,void 0!==t.width&&t.width!==r)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=r}else s.height=a,s.width=r;return d.bufferToTensor(o,s)}throw new Error("Can not access image data")}if(i)return new Promise(((n,a)=>{const r=document.createElement("canvas"),i=r.getContext("2d");if(!e||!i)return a();const o=new Image;o.crossOrigin="Anonymous",o.src=e,o.onload=()=>{r.width=o.width,r.height=o.height,i.drawImage(o,0,0,r.width,r.height);const e=i.getImageData(0,0,r.width,r.height);if(void 0!==t){if(void 0!==t.height&&t.height!==r.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=r.height,void 0!==t.width&&t.width!==r.width)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=r.width}else s.height=r.height,s.width=r.width;n(d.bufferToTensor(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{const n="RGBA";let a,r;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(a=t.resizedHeight,r=t.resizedWidth):(a=e.height,r=e.width),void 0!==t){if(s=t,void 0!==t.bitmapFormat&&t.bitmapFormat!==n)throw new Error("Image input config format must be RGBA for ImageData");s.bitmapFormat="RGBA"}else s.bitmapFormat="RGBA";if(s.height=a,s.width=r,void 0!==t){const t=document.createElement("canvas");t.width=r,t.height=a;const n=t.getContext("2d");if(null==n)throw new Error("Can not access image data");n.putImageData(e,0,0),o=n.getImageData(0,0,r,a).data}else o=e.data}}if(void 0!==o)return d.bufferToTensor(o,s);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){var t,n;const a=document.createElement("canvas").getContext("2d");let r;if(null==a)throw new Error("Can not access image data");{const i=this.dims[3],o=this.dims[2],s=this.dims[1],l=void 0!==e&&void 0!==e.format?e.format:"RGB",c=void 0!==e&&void 0!==(null===(t=e.norm)||void 0===t?void 0:t.mean)?e.norm.mean:255,u=void 0!==e&&void 0!==(null===(n=e.norm)||void 0===n?void 0:n.bias)?e.norm.bias:0,d=o*i;if(void 0!==e){if(void 0!==e.height&&e.height!==o)throw new Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==i)throw new Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===s&&"RGBA"!==e.format||3===s&&"RGB"!==e.format&&"BGR"!==e.format)throw new Error("Tensor format doesn't match input tensor dims")}const h=4;let p=0,f=1,m=2,g=3,y=0,b=d,v=2*d,w=-1;"RGBA"===l?(y=0,b=d,v=2*d,w=3*d):"RGB"===l?(y=0,b=d,v=2*d):"RBG"===l&&(y=0,v=d,b=2*d),r=a.createImageData(i,o);for(let e=0;e<o*i;p+=h,f+=h,m+=h,g+=h,e++)r.data[p]=(this.data[y++]-u)*c,r.data[f]=(this.data[b++]-u)*c,r.data[m]=(this.data[v++]-u)*c,r.data[g]=-1===w?255:(this.data[w++]-u)*c}return r}reshape(e){return new d(this.type,this.data,e)}}const h=d;class p{constructor(e){this.handler=e}async run(e,t,n){const a={};let r={};if("object"!==typeof e||null===e||e instanceof h||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let i=!0;if("object"===typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof h)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");i=!1;for(const e of t){if("string"!==typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError("'fetches' contains invalid output name: ".concat(e,"."));a[e]=null}if("object"===typeof n&&null!==n)r=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else{let e=!1;const o=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==o.indexOf(n)){const r=t[n];(null===r||r instanceof h)&&(e=!0,i=!1,a[n]=r)}if(e){if("object"===typeof n&&null!==n)r=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else r=t}}else if("undefined"!==typeof t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const l of this.inputNames)if("undefined"===typeof e[l])throw new Error("input '".concat(l,"' is missing in 'feeds'."));if(i)for(const l of this.outputNames)a[l]=null;const o=await this.handler.run(e,a,r),s={};for(const l in o)Object.hasOwnProperty.call(o,l)&&(s[l]=new h(o[l].type,o[l].data,o[l].dims));return s}static async create(e,t,n,i){let o,s={};if("string"===typeof e){if(o=e,"object"===typeof t&&null!==t)s=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(o=e,"object"===typeof t&&null!==t)s=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const a=e;let r=0,l=e.byteLength;if("object"===typeof t&&null!==t)s=t;else if("number"===typeof t){if(r=t,!Number.isSafeInteger(r))throw new RangeError("'byteOffset' must be an integer.");if(r<0||r>=a.byteLength)throw new RangeError("'byteOffset' is out of range [0, ".concat(a.byteLength,")."));if(l=e.byteLength-r,"number"===typeof n){if(l=n,!Number.isSafeInteger(l))throw new RangeError("'byteLength' must be an integer.");if(l<=0||r+l>a.byteLength)throw new RangeError("'byteLength' is out of range (0, ".concat(a.byteLength-r,"]."));if("object"===typeof i&&null!==i)s=i;else if("undefined"!==typeof i)throw new TypeError("'options' must be an object.")}else if("undefined"!==typeof n)throw new TypeError("'byteLength' must be a number.")}else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.");o=new Uint8Array(a,r,l)}}const l=(s.executionProviders||[]).map((e=>"string"===typeof e?e:e.name)),c=await(async e=>{const t=0===e.length?r:e,n=[];for(const r of t){const e=a[r];if(e){if(e.initialized)return e.backend;if(e.aborted)continue;const t=!!e.initPromise;try{return t||(e.initPromise=e.backend.init()),await e.initPromise,e.initialized=!0,e.backend}catch(i){t||n.push({name:r,err:i}),e.aborted=!0}finally{delete e.initPromise}}}throw new Error("no available backend found. ERR: ".concat(n.map((e=>"[".concat(e.name,"] ").concat(e.err))).join(", ")))})(l),u=await c.createSessionHandler(o,s);return new p(u)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const f=p},98:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ort-wasm-simd-threaded.jsep.666d0398a1e13e9c0c1d.wasm"},143:()=>{},153:(e,t,n)=>{"use strict";var a=n(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,i={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,a)&&!l.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},191:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case o:case i:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case a:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===r||e===o||e===i||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function D(e,t,a){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=a;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,r,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return o=o(l=e),e=""===i?"."+S(l,0):i,_(o)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),E(o,t,r,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",_(e))for(var c=0;c<e.length;c++){var u=i+S(s=e[c],c);l+=E(s,t,r,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,r,u=i+S(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function F(e,t,n){if(null==e)return e;var a=[],r=0;return E(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},z={transition:null},P={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:z,ReactCurrentOwner:k};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:F,forEach:function(e,t,n){F(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return F(e,(function(){t++})),t},toArray:function(e){return F(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=o,t.PureComponent=v,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=N,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=D,t.createFactory=function(e){var t=D.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<i(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,o=r>>>1;a<o;){var s=2*(a+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<r&&0>i(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[s]=n,a=s);else{if(!(c<r&&0>i(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=a(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function _(e){if(g=!1,w(e),!m)if(null!==a(c))m=!0,z(x);else{var t=a(u);null!==t&&P(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,b(A),A=-1),f=!0;var i=p;try{for(w(n),h=a(c);null!==h&&(!(h.expirationTime>n)||e&&!E());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===a(c)&&r(c),w(n)}else r(c);h=a(c)}if(null!==h)var l=!0;else{var d=a(u);null!==d&&P(_,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,T=!1,D=null,A=-1,C=5,S=-1;function E(){return!(t.unstable_now()-S<C)}function F(){if(null!==D){var e=t.unstable_now();S=e;var n=!0;try{n=D(!0,e)}finally{n?k():(T=!1,D=null)}}else T=!1}if("function"===typeof v)k=function(){v(F)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,I=M.port2;M.port1.onmessage=F,k=function(){I.postMessage(null)}}else k=function(){y(F,0)};function z(e){D=e,T||(T=!0,k())}function P(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,z(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===a(c)&&e===a(u)&&(g?(b(A),A=-1):g=!0,P(_,i-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,z(x))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},327:(e,t,n)=>{"use strict";var a,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(l,{getContext:()=>c.getContext,getVercelOidcToken:()=>u,getVercelOidcTokenSync:()=>d}),e.exports=(a=l,((e,t,n,a)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of o(t))s.call(e,l)||l===n||r(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e})(r({},"__esModule",{value:!0}),a));var c=n(812);async function u(){return""}function d(){return""}},330:(e,t,n)=>{"use strict";var a=n(43);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=a.useState,o=a.useEffect,s=a.useLayoutEffect,l=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(a){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=i({inst:{value:n,getSnapshot:t}}),r=a[0].inst,u=a[1];return s((function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})}),[e,n,t]),o((function(){return c(r)&&u({inst:r}),e((function(){c(r)&&u({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},391:(e,t,n)=>{"use strict";var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},431:(module,__unused_webpack_exports,__webpack_require__)=>{var e;self,e=__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(e,t,n)=>{var a,r=(a=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return I.buffer!=P&&W(I.buffer),N}function r(){return I.buffer!=P&&W(I.buffer),O}function i(){return I.buffer!=P&&W(I.buffer),B}function o(){return I.buffer!=P&&W(I.buffer),L}function s(){return I.buffer!=P&&W(I.buffer),R}var l,c,u;e=e||{},l||(l=void 0!==e?e:{}),l.ready=new Promise((function(e,t){c=e,u=t}));var d,h,p,f,m,g,y=Object.assign({},l),b="./this.program",v=(e,t)=>{throw t},w="object"==typeof window,_="function"==typeof importScripts,x="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,k=l.ENVIRONMENT_IS_PTHREAD||!1,T="";function D(e){return l.locateFile?l.locateFile(e,T):T+e}if(x){let t;T=_?n(908).dirname(T)+"/":"//",g=()=>{m||(f=n(1384),m=n(908))},d=function(e,t){return g(),e=m.normalize(e),f.readFileSync(e,t?void 0:"utf8")},p=e=>((e=d(e,!0)).buffer||(e=new Uint8Array(e)),e),h=(e,t,n)=>{g(),e=m.normalize(e),f.readFile(e,(function(e,a){e?n(e):t(a.buffer)}))},1<process.argv.length&&(b=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ce))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(Q())throw process.exitCode=e,t;t instanceof ce||F("exiting due to exception: "+t),process.exit(e)},l.inspect=function(){return"[Emscripten Module object]"};try{t=n(9925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=t.Worker}else(w||_)&&(_?T=self.location.href:"undefined"!=typeof document&&document.currentScript&&(T=document.currentScript.src),a&&(T=a),T=0!==T.indexOf("blob:")?T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):"",x||(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=(e,t,n)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{200==a.status||0==a.status&&a.response?t(a.response):n()},a.onerror=n,a.send(null)}));x&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var A=console.log.bind(console),C=console.warn.bind(console);x&&(g(),A=e=>f.writeSync(1,e+"\n"),C=e=>f.writeSync(2,e+"\n"));var S,E=l.print||A,F=l.printErr||C;Object.assign(l,y),y=null,l.thisProgram&&(b=l.thisProgram),l.quit&&(v=l.quit),l.wasmBinary&&(S=l.wasmBinary);var M=l.noExitRuntime||!1;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var I,z,P,N,O,B,L,R,j=!1,V="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function q(e,t,n){var a=(t>>>=0)+n;for(n=t;e[n]&&!(n>=a);)++n;if(16<n-t&&e.buffer&&V)return V.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(a="";t<n;){var r=e[t++];if(128&r){var i=63&e[t++];if(192==(224&r))a+=String.fromCharCode((31&r)<<6|i);else{var o=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|i<<6|o:(7&r)<<18|i<<12|o<<6|63&e[t++])?a+=String.fromCharCode(r):(r-=65536,a+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else a+=String.fromCharCode(r)}return a}function U(e,t){return(e>>>=0)?q(r(),e,t):""}function G(e,t,n,a){if(!(0<a))return 0;var r=n>>>=0;a=n+a-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(n>=a)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=a)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=a)break;t[n++>>>0]=224|o>>12}else{if(n+3>=a)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-r}function H(e){for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++n):t+=3}return t}function W(e){P=e,l.HEAP8=N=new Int8Array(e),l.HEAP16=new Int16Array(e),l.HEAP32=B=new Int32Array(e),l.HEAPU8=O=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAPU32=L=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=R=new Float64Array(e)}k&&(P=l.buffer);var K=l.INITIAL_MEMORY||16777216;if(k)I=l.wasmMemory,P=l.buffer;else if(l.wasmMemory)I=l.wasmMemory;else if(!((I=new WebAssembly.Memory({initial:K/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw F("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");I&&(P=I.buffer),K=P.byteLength,W(P);var Y,J=[],Z=[],X=[],$=[];function Q(){return M||!1}function ee(){var e=l.preRun.shift();J.unshift(e)}var te,ne=0,ae=null,re=null;function ie(e){throw k?postMessage({cmd:"onAbort",arg:e}):l.onAbort&&l.onAbort(e),F(e="Aborted("+e+")"),j=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function oe(){return te.startsWith("data:application/octet-stream;base64,")}function se(){var e=te;try{if(e==te&&S)return new Uint8Array(S);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}te="ort-wasm-threaded.wasm",oe()||(te=D(te));var le={};function ce(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ue(e){(e=fe.Vb[e])||ie(),fe.mc(e)}function de(e){var t=fe.Cc();if(!t)return 6;fe.ac.push(t),fe.Vb[e.Ub]=t,t.Ub=e.Ub;var n={cmd:"run",start_routine:e.Ic,arg:e.zc,pthread_ptr:e.Ub};return t.$b=()=>{n.time=performance.now(),t.postMessage(n,e.Nc)},t.loaded&&(t.$b(),delete t.$b),0}function he(e){if(k)return Ke(1,1,e);Q()||(fe.oc(),l.onExit&&l.onExit(e),j=!0),v(e,new ce(e))}function pe(e,t){if(!t&&k)throw ge(e),"unwind";Q()||k||(yt(),me(X),gt(0),at[1].length&&rt(1,10),at[2].length&&rt(2,10),fe.oc()),he(e)}var fe={Yb:[],ac:[],qc:[],Vb:{},fc:function(){k&&fe.Ec()},Pc:function(){},Ec:function(){fe.receiveObjectTransfer=fe.Gc,fe.threadInitTLS=fe.pc,fe.setExitStatus=fe.nc,M=!1},nc:function(){},oc:function(){for(var e of Object.values(fe.Vb))fe.mc(e);for(e of fe.Yb)e.terminate();fe.Yb=[]},mc:function(e){var t=e.Ub;delete fe.Vb[t],fe.Yb.push(e),fe.ac.splice(fe.ac.indexOf(e),1),e.Ub=0,xt(t)},Gc:function(){},pc:function(){fe.qc.forEach((e=>e()))},Fc:function(e,t){e.onmessage=n=>{var a=(n=n.data).cmd;if(e.Ub&&(fe.Bc=e.Ub),n.targetThread&&n.targetThread!=pt()){var r=fe.Vb[n.Qc];r?r.postMessage(n,n.transferList):F('Internal error! Worker sent a message "'+a+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===a?Ve(n.queue):"spawnThread"===a?de(n):"cleanupThread"===a?ue(n.thread):"killThread"===a?(n=n.thread,a=fe.Vb[n],delete fe.Vb[n],a.terminate(),xt(n),fe.ac.splice(fe.ac.indexOf(a),1),a.Ub=0):"cancelThread"===a?fe.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===a?(e.loaded=!0,t&&t(e),e.$b&&(e.$b(),delete e.$b)):"print"===a?E("Thread "+n.threadId+": "+n.text):"printErr"===a?F("Thread "+n.threadId+": "+n.text):"alert"===a?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===a?l.onAbort&&l.onAbort(n.arg):a&&F("worker sent an unknown command "+a);fe.Bc=void 0},e.onerror=e=>{throw F("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},x&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:l.mainScriptUrlOrBlob||a,wasmMemory:I,wasmModule:z})},yc:function(){var e=D("ort-wasm-threaded.worker.js");fe.Yb.push(new Worker(e))},Cc:function(){return 0==fe.Yb.length&&(fe.yc(),fe.Fc(fe.Yb[0])),fe.Yb.pop()}};function me(e){for(;0<e.length;)e.shift()(l)}function ge(e){if(k)return Ke(2,0,e);try{pe(e)}catch(e){e instanceof ce||"unwind"==e||v(1,e)}}l.PThread=fe,l.establishStackSpace=function(){var e=pt(),t=i()[e+44>>2>>>0];e=i()[e+48>>2>>>0],Dt(t,t-e),Ct(t)};var ye=[];function be(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=Y.get(e)),t}l.invokeEntryPoint=function(e,t){e=be(e)(t),Q()?fe.nc(e):kt(e)};var ve,we,_e=[],xe=0,ke=0;function Te(e){this.Zb=e,this.Sb=e-24,this.xc=function(e){o()[this.Sb+4>>2>>>0]=e},this.bc=function(){return o()[this.Sb+4>>2>>>0]},this.wc=function(e){o()[this.Sb+8>>2>>>0]=e},this.Dc=function(){return o()[this.Sb+8>>2>>>0]},this.rc=function(){i()[this.Sb>>2>>>0]=0},this.hc=function(e){e=e?1:0,t()[(this.Sb+12|0)>>>0]=e},this.uc=function(){return 0!=t()[(this.Sb+12|0)>>>0]},this.ic=function(e){e=e?1:0,t()[(this.Sb+13|0)>>>0]=e},this.kc=function(){return 0!=t()[(this.Sb+13|0)>>>0]},this.fc=function(e,t){this.cc(0),this.xc(e),this.wc(t),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(i(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(i(),this.Sb>>2,1)},this.cc=function(e){o()[this.Sb+16>>2>>>0]=e},this.tc=function(){return o()[this.Sb+16>>2>>>0]},this.vc=function(){if(Ft(this.bc()))return o()[this.Zb>>2>>>0];var e=this.tc();return 0!==e?e:this.Zb}}function De(e){return mt(new Te(e).Sb)}function Ae(e,t,n,a){return k?Ke(3,1,e,t,n,a):Ce(e,t,n,a)}function Ce(e,t,n,a){if("undefined"==typeof SharedArrayBuffer)return F("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var r=[];return k&&0===r.length?Ae(e,t,n,a):(e={Ic:n,Ub:e,zc:a,Nc:r},k?(e.Oc="spawnThread",postMessage(e,r),0):de(e))}function Se(e,t,n){return k?Ke(4,1,e,t,n):0}function Ee(e,t){if(k)return Ke(5,1,e,t)}function Fe(e,t){if(k)return Ke(6,1,e,t)}function Me(e,t,n){if(k)return Ke(7,1,e,t,n)}function Ie(e,t,n){return k?Ke(8,1,e,t,n):0}function ze(e,t){if(k)return Ke(9,1,e,t)}function Pe(e,t,n){if(k)return Ke(10,1,e,t,n)}function Ne(e,t,n,a){if(k)return Ke(11,1,e,t,n,a)}function Oe(e,t,n,a){if(k)return Ke(12,1,e,t,n,a)}function Be(e,t,n,a){if(k)return Ke(13,1,e,t,n,a)}function Le(e){if(k)return Ke(14,1,e)}function Re(e,t){if(k)return Ke(15,1,e,t)}function je(e,t,n){if(k)return Ke(16,1,e,t,n)}function Ve(e){Atomics.store(i(),e>>2,1),pt()&&_t(e),Atomics.compareExchange(i(),e>>2,1,0)}function qe(e){return o()[e>>>2]+4294967296*i()[e+4>>>2]}function Ue(e,t,n,a,r,i){return k?Ke(17,1,e,t,n,a,r,i):-52}function Ge(e,t,n,a,r,i){if(k)return Ke(18,1,e,t,n,a,r,i)}function He(e){var n=H(e)+1,a=ft(n);return a&&G(e,t(),a,n),a}function We(e,t,n){function a(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(k)return Ke(19,1,e,t,n);var r=(new Date).getFullYear(),s=new Date(r,0,1),l=new Date(r,6,1);r=s.getTimezoneOffset();var c=l.getTimezoneOffset(),u=Math.max(r,c);i()[e>>2>>>0]=60*u,i()[t>>2>>>0]=Number(r!=c),e=a(s),t=a(l),e=He(e),t=He(t),c<r?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function Ke(e,t){var n=arguments.length-2,a=arguments;return function(e){var t=At();return e=e(),Ct(t),e}((()=>{for(var r=St(8*n),i=r>>3,o=0;o<n;o++){var l=a[2+o];s()[i+o>>>0]=l}return wt(e,n,r,t)}))}l.executeNotifiedProxyingQueue=Ve,we=x?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:k?()=>performance.now()-l.__performance_now_clock_drift:()=>performance.now();var Ye,Je=[],Ze={};function Xe(){if(!Ye){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"};for(e in Ze)void 0===Ze[e]?delete t[e]:t[e]=Ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ye=n}return Ye}function $e(e,n){if(k)return Ke(20,1,e,n);var a=0;return Xe().forEach((function(r,i){var s=n+a;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<r.length;++s)t()[(0|i++)>>>0]=r.charCodeAt(s);t()[(0|i)>>>0]=0,a+=r.length+1})),0}function Qe(e,t){if(k)return Ke(21,1,e,t);var n=Xe();o()[e>>2>>>0]=n.length;var a=0;return n.forEach((function(e){a+=e.length+1})),o()[t>>2>>>0]=a,0}function et(e){return k?Ke(22,1,e):52}function tt(e,t,n,a){return k?Ke(23,1,e,t,n,a):52}function nt(e,t,n,a,r){return k?Ke(24,1,e,t,n,a,r):70}var at=[null,[],[]];function rt(e,t){var n=at[e];0===t||10===t?((1===e?E:F)(q(n,0)),n.length=0):n.push(t)}function it(e,t,n,a){if(k)return Ke(25,1,e,t,n,a);for(var i=0,s=0;s<n;s++){var l=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var u=0;u<c;u++)rt(e,r()[l+u>>>0]);i+=c}return o()[a>>2>>>0]=i,0}var ot=0;function st(e){return 0==e%4&&(0!=e%100||0==e%400)}var lt=[31,29,31,30,31,30,31,31,30,31,30,31],ct=[31,28,31,30,31,30,31,31,30,31,30,31];function ut(e,n,a,r){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return o(e,t,"0")}function l(e,t){function n(e){return 0>e?-1:0<e?1:0}var a;return 0===(a=n(e.getFullYear()-t.getFullYear()))&&0===(a=n(e.getMonth()-t.getMonth()))&&(a=n(e.getDate()-t.getDate())),a}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.Wb;for(e=new Date(new Date(e.Xb+1900,0,1).getTime());0<t;){var n=e.getMonth(),a=(st(e.getFullYear())?lt:ct)[n];if(!(t>a-e.getDate())){e.setDate(e.getDate()+t);break}t-=a-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=l(t,e)?0>=l(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var d=i()[r+40>>2>>>0];for(var h in r={Lc:i()[r>>2>>>0],Kc:i()[r+4>>2>>>0],dc:i()[r+8>>2>>>0],jc:i()[r+12>>2>>>0],ec:i()[r+16>>2>>>0],Xb:i()[r+20>>2>>>0],Tb:i()[r+24>>2>>>0],Wb:i()[r+28>>2>>>0],Rc:i()[r+32>>2>>>0],Jc:i()[r+36>>2>>>0],Mc:d?U(d):""},a=U(a),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})a=a.replace(new RegExp(h,"g"),d[h]);var p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),f="January February March April May June July August September October November December".split(" ");for(h in d={"%a":function(e){return p[e.Tb].substring(0,3)},"%A":function(e){return p[e.Tb]},"%b":function(e){return f[e.ec].substring(0,3)},"%B":function(e){return f[e.ec]},"%C":function(e){return s((e.Xb+1900)/100|0,2)},"%d":function(e){return s(e.jc,2)},"%e":function(e){return o(e.jc,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return s(e.dc,2)},"%I":function(e){return 0==(e=e.dc)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ec-1;t+=(st(e.Xb+1900)?lt:ct)[n++]);return s(e.jc+t,3)},"%m":function(e){return s(e.ec+1,2)},"%M":function(e){return s(e.Kc,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.dc&&12>e.dc?"AM":"PM"},"%S":function(e){return s(e.Lc,2)},"%t":function(){return"\t"},"%u":function(e){return e.Tb||7},"%U":function(e){return s(Math.floor((e.Wb+7-e.Tb)/7),2)},"%V":function(e){var t=Math.floor((e.Wb+7-(e.Tb+6)%7)/7);if(2>=(e.Tb+371-e.Wb-2)%7&&t++,t)53==t&&(4==(n=(e.Tb+371-e.Wb)%7)||3==n&&st(e.Xb)||(t=1));else{t=52;var n=(e.Tb+7-e.Wb-1)%7;(4==n||5==n&&st(e.Xb%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Tb},"%W":function(e){return s(Math.floor((e.Wb+7-(e.Tb+6)%7)/7),2)},"%y":function(e){return(e.Xb+1900).toString().substring(2)},"%Y":function(e){return e.Xb+1900},"%z":function(e){var t=0<=(e=e.Jc);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Mc},"%%":function(){return"%"}},a=a.replace(/%%/g,"\0\0"),d)a.includes(h)&&(a=a.replace(new RegExp(h,"g"),d[h](r)));return h=function(e){var t=Array(H(e)+1);return G(e,t,0,t.length),t}(a=a.replace(/\0\0/g,"%")),h.length>n?0:(function(e,n){t().set(e,n>>>0)}(h,e),h.length-1)}fe.fc();var dt=[null,he,ge,Ae,Se,Ee,Fe,Me,Ie,ze,Pe,Ne,Oe,Be,Le,Re,je,Ue,Ge,We,$e,Qe,et,tt,nt,it],ht={b:function(e){return ft(e+24)+24},n:function(e){return(e=new Te(e)).uc()||(e.hc(!0),xe--),e.ic(!1),_e.push(e),e.sc(),e.vc()},ma:function(e){throw F("Unexpected exception thrown, this is not properly supported - aborting"),j=!0,e},x:function(){Tt(0);var e=_e.pop();if(e.Hc()&&!e.kc()){var t=e.Dc();t&&be(t)(e.Zb),De(e.Zb)}ke=0},e:function(){var e=ke;if(!e)return ot=0;var t=new Te(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var a=Array.prototype.slice.call(arguments),r=0;r<a.length;r++){var i=a[r];if(0===i||i===n)break;if(Et(i,n,t.Sb+16))return ot=i,e}return ot=n,e},l:function(){var e=ke;if(!e)return ot=0;var t=new Te(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var a=Array.prototype.slice.call(arguments),r=0;r<a.length;r++){var i=a[r];if(0===i||i===n)break;if(Et(i,n,t.Sb+16))return ot=i,e}return ot=n,e},h:function(){var e=ke;if(!e)return ot=0;var t=new Te(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var a=Array.prototype.slice.call(arguments),r=0;r<a.length;r++){var i=a[r];if(0===i||i===n)break;if(Et(i,n,t.Sb+16))return ot=i,e}return ot=n,e},t:De,M:function(){var e=_e.pop();e||ie("no exception to throw");var t=e.Zb;throw e.kc()||(_e.push(e),e.ic(!0),e.hc(!1),xe++),ke=t,t},c:function(e,t,n){throw new Te(e).fc(t,n),ke=e,xe++,e},pa:function(){return xe},Fa:function(e){bt(e,!_,1,!w),fe.pc()},T:function(e){k?postMessage({cmd:"cleanupThread",thread:e}):ue(e)},xa:Ce,j:function(e){throw ke||(ke=e),e},H:Se,Ma:Ee,ua:Fe,wa:Me,oa:Ie,Ka:ze,Ca:Pe,Ja:Ne,V:Oe,va:Be,sa:Le,La:Re,ta:je,Ta:function(){},X:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(e,t,n,a){if(e==t)setTimeout((()=>Ve(a)));else if(k)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:a});else{if(!(e=fe.Vb[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:a})}return 1},Ea:function(){return-1},Pa:function(e,t){e=new Date(1e3*qe(e)),i()[t>>2>>>0]=e.getUTCSeconds(),i()[t+4>>2>>>0]=e.getUTCMinutes(),i()[t+8>>2>>>0]=e.getUTCHours(),i()[t+12>>2>>>0]=e.getUTCDate(),i()[t+16>>2>>>0]=e.getUTCMonth(),i()[t+20>>2>>>0]=e.getUTCFullYear()-1900,i()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[t+28>>2>>>0]=e},Qa:function(e,t){e=new Date(1e3*qe(e)),i()[t>>2>>>0]=e.getSeconds(),i()[t+4>>2>>>0]=e.getMinutes(),i()[t+8>>2>>>0]=e.getHours(),i()[t+12>>2>>>0]=e.getDate(),i()[t+16>>2>>>0]=e.getMonth(),i()[t+20>>2>>>0]=e.getFullYear()-1900,i()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),a=(e.getTime()-n.getTime())/864e5|0;i()[t+28>>2>>>0]=a,i()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),a=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(a!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,a)),i()[t+32>>2>>>0]=e},Ra:function(e){var t=new Date(i()[e+20>>2>>>0]+1900,i()[e+16>>2>>>0],i()[e+12>>2>>>0],i()[e+8>>2>>>0],i()[e+4>>2>>>0],i()[e>>2>>>0],0),n=i()[e+32>>2>>>0],a=t.getTimezoneOffset(),r=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=r.getTimezoneOffset(),l=Math.min(s,o);return 0>n?i()[e+32>>2>>>0]=Number(o!=s&&l==a):0<n!=(l==a)&&(o=Math.max(s,o),t.setTime(t.getTime()+6e4*((0<n?l:o)-a))),i()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-r.getTime())/864e5|0,i()[e+28>>2>>>0]=n,i()[e>>2>>>0]=t.getSeconds(),i()[e+4>>2>>>0]=t.getMinutes(),i()[e+8>>2>>>0]=t.getHours(),i()[e+12>>2>>>0]=t.getDate(),i()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},Aa:Ue,Ba:Ge,Sa:function e(t,n,a){e.Ac||(e.Ac=!0,We(t,n,a))},y:function(){ie("")},U:function(){if(!x&&!_){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ve||(ve={}),ve[e]||(ve[e]=1,x&&(e="warning: "+e),F(e))}},ra:function(){return 4294901760},B:we,Ia:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},F:function(){return x?n(3993).cpus().length:navigator.hardwareConcurrency},Da:function(e,t,n){Je.length=t,n>>=3;for(var a=0;a<t;a++)Je[a]=s()[n+a>>>0];return(0>e?le[-e-1]:dt[e]).apply(null,Je)},qa:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var i=Math;a=Math.max(e,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);e:{try{I.grow(i-P.byteLength+65535>>>16),W(I.buffer);var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:$e,Ha:Qe,J:pe,I:et,S:tt,ga:nt,R:it,d:function(){return ot},na:function e(a,r){e.lc||(e.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(x)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>ie("randomDevice")}());for(var i=0;i<r;i++)t()[(a+i|0)>>>0]=e.lc();return 0},ia:function(e,t,n){var a=At();try{return be(e)(t,n)}catch(e){if(Ct(a),e!==e+0)throw e;Tt(1,0)}},ja:function(e,t,n){var a=At();try{return be(e)(t,n)}catch(e){if(Ct(a),e!==e+0)throw e;Tt(1,0)}},K:function(e){var t=At();try{return be(e)()}catch(e){if(Ct(t),e!==e+0)throw e;Tt(1,0)}},f:function(e,t){var n=At();try{return be(e)(t)}catch(e){if(Ct(n),e!==e+0)throw e;Tt(1,0)}},P:function(e,t,n){var a=At();try{return be(e)(t,n)}catch(e){if(Ct(a),e!==e+0)throw e;Tt(1,0)}},Q:function(e,t,n){var a=At();try{return be(e)(t,n)}catch(e){if(Ct(a),e!==e+0)throw e;Tt(1,0)}},k:function(e,t,n){var a=At();try{return be(e)(t,n)}catch(e){if(Ct(a),e!==e+0)throw e;Tt(1,0)}},p:function(e,t,n,a){var r=At();try{return be(e)(t,n,a)}catch(e){if(Ct(r),e!==e+0)throw e;Tt(1,0)}},q:function(e,t,n,a,r){var i=At();try{return be(e)(t,n,a,r)}catch(e){if(Ct(i),e!==e+0)throw e;Tt(1,0)}},N:function(e,t,n,a,r,i){var o=At();try{return be(e)(t,n,a,r,i)}catch(e){if(Ct(o),e!==e+0)throw e;Tt(1,0)}},s:function(e,t,n,a,r,i){var o=At();try{return be(e)(t,n,a,r,i)}catch(e){if(Ct(o),e!==e+0)throw e;Tt(1,0)}},w:function(e,t,n,a,r,i,o){var s=At();try{return be(e)(t,n,a,r,i,o)}catch(e){if(Ct(s),e!==e+0)throw e;Tt(1,0)}},L:function(e,t,n,a,r,i,o,s){var l=At();try{return be(e)(t,n,a,r,i,o,s)}catch(e){if(Ct(l),e!==e+0)throw e;Tt(1,0)}},E:function(e,t,n,a,r,i,o,s,l,c,u,d){var h=At();try{return be(e)(t,n,a,r,i,o,s,l,c,u,d)}catch(e){if(Ct(h),e!==e+0)throw e;Tt(1,0)}},aa:function(e,t,n,a,r,i,o,s){var l=At();try{return Rt(e,t,n,a,r,i,o,s)}catch(e){if(Ct(l),e!==e+0)throw e;Tt(1,0)}},_:function(e,t,n,a,r,i,o){var s=At();try{return It(e,t,n,a,r,i,o)}catch(e){if(Ct(s),e!==e+0)throw e;Tt(1,0)}},Z:function(e,t,n,a,r){var i=At();try{return jt(e,t,n,a,r)}catch(e){if(Ct(i),e!==e+0)throw e;Tt(1,0)}},ca:function(e,t,n,a){var r=At();try{return Bt(e,t,n,a)}catch(e){if(Ct(r),e!==e+0)throw e;Tt(1,0)}},$:function(e){var t=At();try{return Mt(e)}catch(e){if(Ct(t),e!==e+0)throw e;Tt(1,0)}},ba:function(e,t){var n=At();try{return Lt(e,t)}catch(e){if(Ct(n),e!==e+0)throw e;Tt(1,0)}},Y:function(e,t,n){var a=At();try{return zt(e,t,n)}catch(e){if(Ct(a),e!==e+0)throw e;Tt(1,0)}},g:function(e){var t=At();try{be(e)()}catch(e){if(Ct(t),e!==e+0)throw e;Tt(1,0)}},r:function(e,t){var n=At();try{be(e)(t)}catch(e){if(Ct(n),e!==e+0)throw e;Tt(1,0)}},i:function(e,t,n){var a=At();try{be(e)(t,n)}catch(e){if(Ct(a),e!==e+0)throw e;Tt(1,0)}},ha:function(e,t,n,a){var r=At();try{be(e)(t,n,a)}catch(e){if(Ct(r),e!==e+0)throw e;Tt(1,0)}},m:function(e,t,n,a){var r=At();try{be(e)(t,n,a)}catch(e){if(Ct(r),e!==e+0)throw e;Tt(1,0)}},v:function(e,t,n,a,r){var i=At();try{be(e)(t,n,a,r)}catch(e){if(Ct(i),e!==e+0)throw e;Tt(1,0)}},u:function(e,t,n,a,r,i){var o=At();try{be(e)(t,n,a,r,i)}catch(e){if(Ct(o),e!==e+0)throw e;Tt(1,0)}},O:function(e,t,n,a,r,i,o){var s=At();try{be(e)(t,n,a,r,i,o)}catch(e){if(Ct(s),e!==e+0)throw e;Tt(1,0)}},A:function(e,t,n,a,r,i,o,s){var l=At();try{be(e)(t,n,a,r,i,o,s)}catch(e){if(Ct(l),e!==e+0)throw e;Tt(1,0)}},ka:function(e,t,n,a,r,i,o,s,l){var c=At();try{be(e)(t,n,a,r,i,o,s,l)}catch(e){if(Ct(c),e!==e+0)throw e;Tt(1,0)}},C:function(e,t,n,a,r,i,o,s,l,c,u){var d=At();try{be(e)(t,n,a,r,i,o,s,l,c,u)}catch(e){if(Ct(d),e!==e+0)throw e;Tt(1,0)}},D:function(e,t,n,a,r,i,o,s,l,c,u,d,h,p,f,m){var g=At();try{be(e)(t,n,a,r,i,o,s,l,c,u,d,h,p,f,m)}catch(e){if(Ct(g),e!==e+0)throw e;Tt(1,0)}},fa:function(e,t,n,a,r,i,o,s){var l=At();try{Pt(e,t,n,a,r,i,o,s)}catch(e){if(Ct(l),e!==e+0)throw e;Tt(1,0)}},da:function(e,t,n,a,r,i,o,s,l,c,u,d){var h=At();try{Ot(e,t,n,a,r,i,o,s,l,c,u,d)}catch(e){if(Ct(h),e!==e+0)throw e;Tt(1,0)}},ea:function(e,t,n,a,r,i){var o=At();try{Nt(e,t,n,a,r,i)}catch(e){if(Ct(o),e!==e+0)throw e;Tt(1,0)}},o:function(e){return e},a:I||l.wasmMemory,G:function(e){ot=e},la:ut,z:function(e,t,n,a){return ut(e,t,n,a)}};!function(){function e(e,t){l.asm=e.exports,fe.qc.push(l.asm.sb),Y=l.asm.ub,Z.unshift(l.asm.Va),z=t,k||(ne--,l.monitorRunDependencies&&l.monitorRunDependencies(ne),0==ne&&(null!==ae&&(clearInterval(ae),ae=null),re&&(e=re,re=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!S&&(w||_)){if("function"==typeof fetch&&!te.startsWith("file://"))return fetch(te,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+te+"'";return e.arrayBuffer()})).catch((function(){return se()}));if(h)return new Promise((function(e,t){h(te,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return se()}))}().then((function(e){return WebAssembly.instantiate(e,a)})).then((function(e){return e})).then(e,(function(e){F("failed to asynchronously prepare wasm: "+e),ie(e)}))}var a={a:ht};if(k||(ne++,l.monitorRunDependencies&&l.monitorRunDependencies(ne)),l.instantiateWasm)try{return l.instantiateWasm(a,e)}catch(e){return F("Module.instantiateWasm callback failed with error: "+e),!1}(S||"function"!=typeof WebAssembly.instantiateStreaming||oe()||te.startsWith("file://")||x||"function"!=typeof fetch?n(t):fetch(te,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(t,(function(e){return F("wasm streaming compile failed: "+e),F("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(u)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.Va).apply(null,arguments)},l._OrtInit=function(){return(l._OrtInit=l.asm.Wa).apply(null,arguments)},l._OrtCreateSessionOptions=function(){return(l._OrtCreateSessionOptions=l.asm.Xa).apply(null,arguments)},l._OrtAppendExecutionProvider=function(){return(l._OrtAppendExecutionProvider=l.asm.Ya).apply(null,arguments)},l._OrtAddSessionConfigEntry=function(){return(l._OrtAddSessionConfigEntry=l.asm.Za).apply(null,arguments)},l._OrtReleaseSessionOptions=function(){return(l._OrtReleaseSessionOptions=l.asm._a).apply(null,arguments)},l._OrtCreateSession=function(){return(l._OrtCreateSession=l.asm.$a).apply(null,arguments)},l._OrtReleaseSession=function(){return(l._OrtReleaseSession=l.asm.ab).apply(null,arguments)},l._OrtGetInputCount=function(){return(l._OrtGetInputCount=l.asm.bb).apply(null,arguments)},l._OrtGetOutputCount=function(){return(l._OrtGetOutputCount=l.asm.cb).apply(null,arguments)},l._OrtGetInputName=function(){return(l._OrtGetInputName=l.asm.db).apply(null,arguments)},l._OrtGetOutputName=function(){return(l._OrtGetOutputName=l.asm.eb).apply(null,arguments)},l._OrtFree=function(){return(l._OrtFree=l.asm.fb).apply(null,arguments)},l._OrtCreateTensor=function(){return(l._OrtCreateTensor=l.asm.gb).apply(null,arguments)},l._OrtGetTensorData=function(){return(l._OrtGetTensorData=l.asm.hb).apply(null,arguments)},l._OrtReleaseTensor=function(){return(l._OrtReleaseTensor=l.asm.ib).apply(null,arguments)},l._OrtCreateRunOptions=function(){return(l._OrtCreateRunOptions=l.asm.jb).apply(null,arguments)},l._OrtAddRunConfigEntry=function(){return(l._OrtAddRunConfigEntry=l.asm.kb).apply(null,arguments)},l._OrtReleaseRunOptions=function(){return(l._OrtReleaseRunOptions=l.asm.lb).apply(null,arguments)},l._OrtRun=function(){return(l._OrtRun=l.asm.mb).apply(null,arguments)},l._OrtEndProfiling=function(){return(l._OrtEndProfiling=l.asm.nb).apply(null,arguments)};var pt=l._pthread_self=function(){return(pt=l._pthread_self=l.asm.ob).apply(null,arguments)},ft=l._malloc=function(){return(ft=l._malloc=l.asm.pb).apply(null,arguments)},mt=l._free=function(){return(mt=l._free=l.asm.qb).apply(null,arguments)},gt=l._fflush=function(){return(gt=l._fflush=l.asm.rb).apply(null,arguments)};l.__emscripten_tls_init=function(){return(l.__emscripten_tls_init=l.asm.sb).apply(null,arguments)};var yt=l.___funcs_on_exit=function(){return(yt=l.___funcs_on_exit=l.asm.tb).apply(null,arguments)},bt=l.__emscripten_thread_init=function(){return(bt=l.__emscripten_thread_init=l.asm.vb).apply(null,arguments)};l.__emscripten_thread_crashed=function(){return(l.__emscripten_thread_crashed=l.asm.wb).apply(null,arguments)};var vt,wt=l._emscripten_run_in_main_runtime_thread_js=function(){return(wt=l._emscripten_run_in_main_runtime_thread_js=l.asm.xb).apply(null,arguments)},_t=l.__emscripten_proxy_execute_task_queue=function(){return(_t=l.__emscripten_proxy_execute_task_queue=l.asm.yb).apply(null,arguments)},xt=l.__emscripten_thread_free_data=function(){return(xt=l.__emscripten_thread_free_data=l.asm.zb).apply(null,arguments)},kt=l.__emscripten_thread_exit=function(){return(kt=l.__emscripten_thread_exit=l.asm.Ab).apply(null,arguments)},Tt=l._setThrew=function(){return(Tt=l._setThrew=l.asm.Bb).apply(null,arguments)},Dt=l._emscripten_stack_set_limits=function(){return(Dt=l._emscripten_stack_set_limits=l.asm.Cb).apply(null,arguments)},At=l.stackSave=function(){return(At=l.stackSave=l.asm.Db).apply(null,arguments)},Ct=l.stackRestore=function(){return(Ct=l.stackRestore=l.asm.Eb).apply(null,arguments)},St=l.stackAlloc=function(){return(St=l.stackAlloc=l.asm.Fb).apply(null,arguments)},Et=l.___cxa_can_catch=function(){return(Et=l.___cxa_can_catch=l.asm.Gb).apply(null,arguments)},Ft=l.___cxa_is_pointer_type=function(){return(Ft=l.___cxa_is_pointer_type=l.asm.Hb).apply(null,arguments)},Mt=l.dynCall_j=function(){return(Mt=l.dynCall_j=l.asm.Ib).apply(null,arguments)},It=l.dynCall_iiiiij=function(){return(It=l.dynCall_iiiiij=l.asm.Jb).apply(null,arguments)},zt=l.dynCall_jii=function(){return(zt=l.dynCall_jii=l.asm.Kb).apply(null,arguments)},Pt=l.dynCall_viiiiij=function(){return(Pt=l.dynCall_viiiiij=l.asm.Lb).apply(null,arguments)},Nt=l.dynCall_vjji=function(){return(Nt=l.dynCall_vjji=l.asm.Mb).apply(null,arguments)},Ot=l.dynCall_viiijjjii=function(){return(Ot=l.dynCall_viiijjjii=l.asm.Nb).apply(null,arguments)},Bt=l.dynCall_iij=function(){return(Bt=l.dynCall_iij=l.asm.Ob).apply(null,arguments)},Lt=l.dynCall_ji=function(){return(Lt=l.dynCall_ji=l.asm.Pb).apply(null,arguments)},Rt=l.dynCall_iiiiiij=function(){return(Rt=l.dynCall_iiiiiij=l.asm.Qb).apply(null,arguments)},jt=l.dynCall_iiij=function(){return(jt=l.dynCall_iiij=l.asm.Rb).apply(null,arguments)};function Vt(){function e(){if(!vt&&(vt=!0,l.calledRun=!0,!j)&&(k||me(Z),c(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),!k)){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;){var e=l.postRun.shift();$.unshift(e)}me($)}}if(!(0<ne))if(k)c(l),k||me(Z),postMessage({cmd:"loaded"});else{if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)ee();me(J),0<ne||(l.setStatus?(l.setStatus("Running..."),setTimeout((function(){setTimeout((function(){l.setStatus("")}),1),e()}),1)):e())}}if(l.UTF8ToString=U,l.stringToUTF8=function(e,t,n){return G(e,r(),t,n)},l.lengthBytesUTF8=H,l.keepRuntimeAlive=Q,l.wasmMemory=I,l.stackSave=At,l.stackRestore=Ct,l.stackAlloc=St,l.ExitStatus=ce,l.PThread=fe,re=function e(){vt||Vt(),vt||(re=e)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return Vt(),e.ready});e.exports=r},932:(e,t,n)=>{var a,r=(a=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,i;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,i=t}));var o,s,l,c,u,d,h=Object.assign({},t),p="./this.program",f=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b="";y?(b=g?n(908).dirname(b)+"/":"//",d=()=>{u||(c=n(1384),u=n(908))},o=function(e,t){return d(),e=u.normalize(e),c.readFileSync(e,t?void 0:"utf8")},l=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),s=(e,t,n)=>{d(),e=u.normalize(e),c.readFile(e,(function(e,a){e?n(e):t(a.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof X))throw e})),process.on("unhandledRejection",(function(e){throw e})),f=(e,t)=>{if(x||0<V)throw process.exitCode=e,t;t instanceof X||_("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),a&&(b=a),b=0!==b.indexOf("blob:")?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,n)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{200==a.status||0==a.status&&a.response?t(a.response):n()},a.onerror=n,a.send(null)});var v,w=t.print||console.log.bind(console),_=t.printErr||console.warn.bind(console);Object.assign(t,h),h=null,t.thisProgram&&(p=t.thisProgram),t.quit&&(f=t.quit),t.wasmBinary&&(v=t.wasmBinary);var x=t.noExitRuntime||!1;"object"!=typeof WebAssembly&&K("no native wasm support detected");var k,T,D,A,C,S,E=!1,F="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function M(e,t,n){var a=(t>>>=0)+n;for(n=t;e[n]&&!(n>=a);)++n;if(16<n-t&&e.buffer&&F)return F.decode(e.subarray(t,n));for(a="";t<n;){var r=e[t++];if(128&r){var i=63&e[t++];if(192==(224&r))a+=String.fromCharCode((31&r)<<6|i);else{var o=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|i<<6|o:(7&r)<<18|i<<12|o<<6|63&e[t++])?a+=String.fromCharCode(r):(r-=65536,a+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else a+=String.fromCharCode(r)}return a}function I(e,t){return(e>>>=0)?M(A,e,t):""}function z(e,t,n,a){if(!(0<a))return 0;var r=n>>>=0;a=n+a-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(n>=a)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=a)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=a)break;t[n++>>>0]=224|o>>12}else{if(n+3>=a)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-r}function P(e){for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++n):t+=3}return t}function N(){var e=k.buffer;T=e,t.HEAP8=D=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=C=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=S=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var O,B=[],L=[],R=[],j=[],V=0;function q(){var e=t.preRun.shift();B.unshift(e)}var U,G=0,H=null,W=null;function K(e){throw t.onAbort&&t.onAbort(e),_(e="Aborted("+e+")"),E=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),i(e),e}function Y(){return U.startsWith("data:application/octet-stream;base64,")}if(U="ort-wasm.wasm",!Y()){var J=U;U=t.locateFile?t.locateFile(J,b):b+J}function Z(){var e=U;try{if(e==U&&v)return new Uint8Array(v);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){K(e)}}function X(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function $(e){for(;0<e.length;)e.shift()(t)}var Q=[],ee=0,te=0;function ne(e){this.Db=e,this.zb=e-24,this.Ub=function(e){S[this.zb+4>>2>>>0]=e},this.Eb=function(){return S[this.zb+4>>2>>>0]},this.Sb=function(e){S[this.zb+8>>2>>>0]=e},this.Wb=function(){return S[this.zb+8>>2>>>0]},this.Tb=function(){C[this.zb>>2>>>0]=0},this.Ib=function(e){D[(this.zb+12|0)>>>0]=e?1:0},this.Pb=function(){return 0!=D[(this.zb+12|0)>>>0]},this.Jb=function(e){D[(this.zb+13|0)>>>0]=e?1:0},this.Lb=function(){return 0!=D[(this.zb+13|0)>>>0]},this.Rb=function(e,t){this.Fb(0),this.Ub(e),this.Sb(t),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){C[this.zb>>2>>>0]+=1},this.Xb=function(){var e=C[this.zb>>2>>>0];return C[this.zb>>2>>>0]=e-1,1===e},this.Fb=function(e){S[this.zb+16>>2>>>0]=e},this.Ob=function(){return S[this.zb+16>>2>>>0]},this.Qb=function(){if(Se(this.Eb()))return S[this.Db>>2>>>0];var e=this.Ob();return 0!==e?e:this.Db}}function ae(e){return we(new ne(e).zb)}var re=[];function ie(e){var t=re[e];return t||(e>=re.length&&(re.length=e+1),re[e]=t=O.get(e)),t}function oe(e){var t=P(e)+1,n=ve(t);return n&&z(e,D,n,t),n}var se={};function le(){if(!ce){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in se)void 0===se[e]?delete t[e]:t[e]=se[e];var n=[];for(e in t)n.push(e+"="+t[e]);ce=n}return ce}var ce,ue=[null,[],[]];function de(e,t){var n=ue[e];0===t||10===t?((1===e?w:_)(M(n,0)),n.length=0):n.push(t)}var he=0;function pe(e){return 0==e%4&&(0!=e%100||0==e%400)}var fe=[31,29,31,30,31,30,31,31,30,31,30,31],me=[31,28,31,30,31,30,31,31,30,31,30,31];function ge(e,t,n,a){function r(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function i(e,t){return r(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var a;return 0===(a=n(e.getFullYear()-t.getFullYear()))&&0===(a=n(e.getMonth()-t.getMonth()))&&(a=n(e.getDate()-t.getDate())),a}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Bb;for(e=new Date(new Date(e.Cb+1900,0,1).getTime());0<t;){var n=e.getMonth(),a=(pe(e.getFullYear())?fe:me)[n];if(!(t>a-e.getDate())){e.setDate(e.getDate()+t);break}t-=a-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=o(t,e)?0>=o(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=C[a+40>>2>>>0];for(var u in a={$b:C[a>>2>>>0],Zb:C[a+4>>2>>>0],Gb:C[a+8>>2>>>0],Kb:C[a+12>>2>>>0],Hb:C[a+16>>2>>>0],Cb:C[a+20>>2>>>0],Ab:C[a+24>>2>>>0],Bb:C[a+28>>2>>>0],bc:C[a+32>>2>>>0],Yb:C[a+36>>2>>>0],ac:c?I(c):""},n=I(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(u,"g"),c[u]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(u in c={"%a":function(e){return d[e.Ab].substring(0,3)},"%A":function(e){return d[e.Ab]},"%b":function(e){return h[e.Hb].substring(0,3)},"%B":function(e){return h[e.Hb]},"%C":function(e){return i((e.Cb+1900)/100|0,2)},"%d":function(e){return i(e.Kb,2)},"%e":function(e){return r(e.Kb,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return i(e.Gb,2)},"%I":function(e){return 0==(e=e.Gb)?e=12:12<e&&(e-=12),i(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Hb-1;t+=(pe(e.Cb+1900)?fe:me)[n++]);return i(e.Kb+t,3)},"%m":function(e){return i(e.Hb+1,2)},"%M":function(e){return i(e.Zb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Gb&&12>e.Gb?"AM":"PM"},"%S":function(e){return i(e.$b,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ab||7},"%U":function(e){return i(Math.floor((e.Bb+7-e.Ab)/7),2)},"%V":function(e){var t=Math.floor((e.Bb+7-(e.Ab+6)%7)/7);if(2>=(e.Ab+371-e.Bb-2)%7&&t++,t)53==t&&(4==(n=(e.Ab+371-e.Bb)%7)||3==n&&pe(e.Cb)||(t=1));else{t=52;var n=(e.Ab+7-e.Bb-1)%7;(4==n||5==n&&pe(e.Cb%400-1))&&t++}return i(t,2)},"%w":function(e){return e.Ab},"%W":function(e){return i(Math.floor((e.Bb+7-(e.Ab+6)%7)/7),2)},"%y":function(e){return(e.Cb+1900).toString().substring(2)},"%Y":function(e){return e.Cb+1900},"%z":function(e){var t=0<=(e=e.Yb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),c)n.includes(u)&&(n=n.replace(new RegExp(u,"g"),c[u](a)));return u=function(e){var t=Array(P(e)+1);return z(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),u.length>t?0:(D.set(u,e>>>0),u.length-1)}var ye={a:function(e){return ve(e+24)+24},m:function(e){return(e=new ne(e)).Pb()||(e.Ib(!0),ee--),e.Jb(!1),Q.push(e),e.Nb(),e.Qb()},ia:function(e){throw _("Unexpected exception thrown, this is not properly supported - aborting"),E=!0,e},w:function(){ke(0);var e=Q.pop();if(e.Xb()&&!e.Lb()){var t=e.Wb();t&&ie(t)(e.Db),ae(e.Db)}te=0},d:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var a=Array.prototype.slice.call(arguments),r=0;r<a.length;r++){var i=a[r];if(0===i||i===n)break;if(Ce(i,n,t.zb+16))return he=i,e}return he=n,e},k:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var a=Array.prototype.slice.call(arguments),r=0;r<a.length;r++){var i=a[r];if(0===i||i===n)break;if(Ce(i,n,t.zb+16))return he=i,e}return he=n,e},g:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var a=Array.prototype.slice.call(arguments),r=0;r<a.length;r++){var i=a[r];if(0===i||i===n)break;if(Ce(i,n,t.zb+16))return he=i,e}return he=n,e},s:ae,L:function(){var e=Q.pop();e||K("no exception to throw");var t=e.Db;throw e.Lb()||(Q.push(e),e.Jb(!0),e.Ib(!1),ee++),te=t,t},b:function(e,t,n){throw new ne(e).Rb(t,n),te=e,ee++,e},la:function(){return ee},i:function(e){throw te||(te=e),e},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){K("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){K("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(e,t){e=new Date(1e3*(S[e>>>2]+4294967296*C[e+4>>>2])),C[t>>2>>>0]=e.getUTCSeconds(),C[t+4>>2>>>0]=e.getUTCMinutes(),C[t+8>>2>>>0]=e.getUTCHours(),C[t+12>>2>>>0]=e.getUTCDate(),C[t+16>>2>>>0]=e.getUTCMonth(),C[t+20>>2>>>0]=e.getUTCFullYear()-1900,C[t+24>>2>>>0]=e.getUTCDay(),C[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(e,t){e=new Date(1e3*(S[e>>>2]+4294967296*C[e+4>>>2])),C[t>>2>>>0]=e.getSeconds(),C[t+4>>2>>>0]=e.getMinutes(),C[t+8>>2>>>0]=e.getHours(),C[t+12>>2>>>0]=e.getDate(),C[t+16>>2>>>0]=e.getMonth(),C[t+20>>2>>>0]=e.getFullYear()-1900,C[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);C[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,C[t+36>>2>>>0]=-60*e.getTimezoneOffset();var a=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),C[t+32>>2>>>0]=0|(a!=n&&e.getTimezoneOffset()==Math.min(n,a))},Fa:function(e){var t=new Date(C[e+20>>2>>>0]+1900,C[e+16>>2>>>0],C[e+12>>2>>>0],C[e+8>>2>>>0],C[e+4>>2>>>0],C[e>>2>>>0],0),n=C[e+32>>2>>>0],a=t.getTimezoneOffset(),r=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=r.getTimezoneOffset(),s=Math.min(o,i);return 0>n?C[e+32>>2>>>0]=Number(i!=o&&s==a):0<n!=(s==a)&&(i=Math.max(o,i),t.setTime(t.getTime()+6e4*((0<n?s:i)-a))),C[e+24>>2>>>0]=t.getDay(),C[e+28>>2>>>0]=(t.getTime()-r.getTime())/864e5|0,C[e>>2>>>0]=t.getSeconds(),C[e+4>>2>>>0]=t.getMinutes(),C[e+8>>2>>>0]=t.getHours(),C[e+12>>2>>>0]=t.getDate(),C[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function e(t,n,a){e.Vb||(e.Vb=!0,function(e,t,n){function a(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var r=(new Date).getFullYear(),i=new Date(r,0,1),o=new Date(r,6,1);r=i.getTimezoneOffset();var s=o.getTimezoneOffset();C[e>>2>>>0]=60*Math.max(r,s),C[t>>2>>>0]=Number(r!=s),e=a(i),t=a(o),e=oe(e),t=oe(t),s<r?(S[n>>2>>>0]=e,S[n+4>>2>>>0]=t):(S[n>>2>>>0]=t,S[n+4>>2>>>0]=e)}(t,n,a))},B:function(){K("")},ma:function(){return 4294901760},I:y?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),xa:function(e,t,n){A.copyWithin(e>>>0,t>>>0,t+n>>>0)},G:function(e){var t=A.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var r=Math;a=Math.max(e,a),r=r.min.call(r,4294901760,a+(65536-a%65536)%65536);e:{try{k.grow(r-T.byteLength+65535>>>16),N();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},va:function(e,t){var n=0;return le().forEach((function(a,r){var i=t+n;for(r=S[e+4*r>>2>>>0]=i,i=0;i<a.length;++i)D[(0|r++)>>>0]=a.charCodeAt(i);D[(0|r)>>>0]=0,n+=a.length+1})),0},wa:function(e,t){var n=le();S[e>>2>>>0]=n.length;var a=0;return n.forEach((function(e){a+=e.length+1})),S[t>>2>>>0]=a,0},ba:function(e){x||0<V||(xe(),$(R),_e(0),ue[1].length&&de(1,10),ue[2].length&&de(2,10)),x||0<V||(t.onExit&&t.onExit(e),E=!0),f(e,new X(e))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(e,t,n,a){for(var r=0,i=0;i<n;i++){var o=S[t>>2>>>0],s=S[t+4>>2>>>0];t+=8;for(var l=0;l<s;l++)de(e,A[o+l>>>0]);r+=s}return S[a>>2>>>0]=r,0},c:function(){return he},ja:function e(t,a){e.Mb||(e.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(y)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>K("randomDevice")}());for(var r=0;r<a;r++)D[(t+r|0)>>>0]=e.Mb();return 0},ea:function(e,t,n){var a=Te();try{return ie(e)(t,n)}catch(e){if(De(a),e!==e+0)throw e;ke(1,0)}},fa:function(e,t,n){var a=Te();try{return ie(e)(t,n)}catch(e){if(De(a),e!==e+0)throw e;ke(1,0)}},J:function(e){var t=Te();try{return ie(e)()}catch(e){if(De(t),e!==e+0)throw e;ke(1,0)}},e:function(e,t){var n=Te();try{return ie(e)(t)}catch(e){if(De(n),e!==e+0)throw e;ke(1,0)}},N:function(e,t,n){var a=Te();try{return ie(e)(t,n)}catch(e){if(De(a),e!==e+0)throw e;ke(1,0)}},O:function(e,t,n){var a=Te();try{return ie(e)(t,n)}catch(e){if(De(a),e!==e+0)throw e;ke(1,0)}},j:function(e,t,n){var a=Te();try{return ie(e)(t,n)}catch(e){if(De(a),e!==e+0)throw e;ke(1,0)}},o:function(e,t,n,a){var r=Te();try{return ie(e)(t,n,a)}catch(e){if(De(r),e!==e+0)throw e;ke(1,0)}},p:function(e,t,n,a,r){var i=Te();try{return ie(e)(t,n,a,r)}catch(e){if(De(i),e!==e+0)throw e;ke(1,0)}},M:function(e,t,n,a,r,i){var o=Te();try{return ie(e)(t,n,a,r,i)}catch(e){if(De(o),e!==e+0)throw e;ke(1,0)}},r:function(e,t,n,a,r,i){var o=Te();try{return ie(e)(t,n,a,r,i)}catch(e){if(De(o),e!==e+0)throw e;ke(1,0)}},v:function(e,t,n,a,r,i,o){var s=Te();try{return ie(e)(t,n,a,r,i,o)}catch(e){if(De(s),e!==e+0)throw e;ke(1,0)}},K:function(e,t,n,a,r,i,o,s){var l=Te();try{return ie(e)(t,n,a,r,i,o,s)}catch(e){if(De(l),e!==e+0)throw e;ke(1,0)}},D:function(e,t,n,a,r,i,o,s,l,c,u,d){var h=Te();try{return ie(e)(t,n,a,r,i,o,s,l,c,u,d)}catch(e){if(De(h),e!==e+0)throw e;ke(1,0)}},X:function(e,t,n,a,r,i,o,s){var l=Te();try{return Be(e,t,n,a,r,i,o,s)}catch(e){if(De(l),e!==e+0)throw e;ke(1,0)}},V:function(e,t,n,a,r,i,o){var s=Te();try{return Fe(e,t,n,a,r,i,o)}catch(e){if(De(s),e!==e+0)throw e;ke(1,0)}},U:function(e,t,n,a,r){var i=Te();try{return Le(e,t,n,a,r)}catch(e){if(De(i),e!==e+0)throw e;ke(1,0)}},Z:function(e,t,n,a){var r=Te();try{return Ne(e,t,n,a)}catch(e){if(De(r),e!==e+0)throw e;ke(1,0)}},W:function(e){var t=Te();try{return Ee(e)}catch(e){if(De(t),e!==e+0)throw e;ke(1,0)}},Y:function(e,t){var n=Te();try{return Oe(e,t)}catch(e){if(De(n),e!==e+0)throw e;ke(1,0)}},T:function(e,t,n){var a=Te();try{return Me(e,t,n)}catch(e){if(De(a),e!==e+0)throw e;ke(1,0)}},f:function(e){var t=Te();try{ie(e)()}catch(e){if(De(t),e!==e+0)throw e;ke(1,0)}},q:function(e,t){var n=Te();try{ie(e)(t)}catch(e){if(De(n),e!==e+0)throw e;ke(1,0)}},h:function(e,t,n){var a=Te();try{ie(e)(t,n)}catch(e){if(De(a),e!==e+0)throw e;ke(1,0)}},da:function(e,t,n,a){var r=Te();try{ie(e)(t,n,a)}catch(e){if(De(r),e!==e+0)throw e;ke(1,0)}},l:function(e,t,n,a){var r=Te();try{ie(e)(t,n,a)}catch(e){if(De(r),e!==e+0)throw e;ke(1,0)}},t:function(e,t,n,a,r){var i=Te();try{ie(e)(t,n,a,r)}catch(e){if(De(i),e!==e+0)throw e;ke(1,0)}},u:function(e,t,n,a,r,i){var o=Te();try{ie(e)(t,n,a,r,i)}catch(e){if(De(o),e!==e+0)throw e;ke(1,0)}},x:function(e,t,n,a,r,i,o){var s=Te();try{ie(e)(t,n,a,r,i,o)}catch(e){if(De(s),e!==e+0)throw e;ke(1,0)}},z:function(e,t,n,a,r,i,o,s){var l=Te();try{ie(e)(t,n,a,r,i,o,s)}catch(e){if(De(l),e!==e+0)throw e;ke(1,0)}},ga:function(e,t,n,a,r,i,o,s,l){var c=Te();try{ie(e)(t,n,a,r,i,o,s,l)}catch(e){if(De(c),e!==e+0)throw e;ke(1,0)}},A:function(e,t,n,a,r,i,o,s,l,c,u){var d=Te();try{ie(e)(t,n,a,r,i,o,s,l,c,u)}catch(e){if(De(d),e!==e+0)throw e;ke(1,0)}},C:function(e,t,n,a,r,i,o,s,l,c,u,d,h,p,f,m){var g=Te();try{ie(e)(t,n,a,r,i,o,s,l,c,u,d,h,p,f,m)}catch(e){if(De(g),e!==e+0)throw e;ke(1,0)}},aa:function(e,t,n,a,r,i,o,s){var l=Te();try{Ie(e,t,n,a,r,i,o,s)}catch(e){if(De(l),e!==e+0)throw e;ke(1,0)}},_:function(e,t,n,a,r,i,o,s,l,c,u,d){var h=Te();try{Pe(e,t,n,a,r,i,o,s,l,c,u,d)}catch(e){if(De(h),e!==e+0)throw e;ke(1,0)}},$:function(e,t,n,a,r,i){var o=Te();try{ze(e,t,n,a,r,i)}catch(e){if(De(o),e!==e+0)throw e;ke(1,0)}},n:function(e){return e},F:function(e){he=e},ha:ge,y:function(e,t,n,a){return ge(e,t,n,a)}};!function(){function e(e){t.asm=e.exports,k=t.asm.Ka,N(),O=t.asm.ib,L.unshift(t.asm.La),G--,t.monitorRunDependencies&&t.monitorRunDependencies(G),0==G&&(null!==H&&(clearInterval(H),H=null),W&&(e=W,W=null,e()))}function n(t){e(t.instance)}function a(e){return function(){if(!v&&(m||g)){if("function"==typeof fetch&&!U.startsWith("file://"))return fetch(U,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+U+"'";return e.arrayBuffer()})).catch((function(){return Z()}));if(s)return new Promise((function(e,t){s(U,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return Z()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){_("failed to asynchronously prepare wasm: "+e),K(e)}))}var r={a:ye};if(G++,t.monitorRunDependencies&&t.monitorRunDependencies(G),t.instantiateWasm)try{return t.instantiateWasm(r,e)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||Y()||U.startsWith("file://")||y||"function"!=typeof fetch?a(n):fetch(U,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(n,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),a(n)}))}))).catch(i)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.La).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.Ma).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Na).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.Oa).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.Pa).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.Qa).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.Ra).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.Sa).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Ta).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Ua).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.Va).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Wa).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.Xa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.Ya).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.Za).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm._a).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.$a).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ab).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.bb).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.cb).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.db).apply(null,arguments)};var be,ve=t._malloc=function(){return(ve=t._malloc=t.asm.eb).apply(null,arguments)},we=t._free=function(){return(we=t._free=t.asm.fb).apply(null,arguments)},_e=t._fflush=function(){return(_e=t._fflush=t.asm.gb).apply(null,arguments)},xe=t.___funcs_on_exit=function(){return(xe=t.___funcs_on_exit=t.asm.hb).apply(null,arguments)},ke=t._setThrew=function(){return(ke=t._setThrew=t.asm.jb).apply(null,arguments)},Te=t.stackSave=function(){return(Te=t.stackSave=t.asm.kb).apply(null,arguments)},De=t.stackRestore=function(){return(De=t.stackRestore=t.asm.lb).apply(null,arguments)},Ae=t.stackAlloc=function(){return(Ae=t.stackAlloc=t.asm.mb).apply(null,arguments)},Ce=t.___cxa_can_catch=function(){return(Ce=t.___cxa_can_catch=t.asm.nb).apply(null,arguments)},Se=t.___cxa_is_pointer_type=function(){return(Se=t.___cxa_is_pointer_type=t.asm.ob).apply(null,arguments)},Ee=t.dynCall_j=function(){return(Ee=t.dynCall_j=t.asm.pb).apply(null,arguments)},Fe=t.dynCall_iiiiij=function(){return(Fe=t.dynCall_iiiiij=t.asm.qb).apply(null,arguments)},Me=t.dynCall_jii=function(){return(Me=t.dynCall_jii=t.asm.rb).apply(null,arguments)},Ie=t.dynCall_viiiiij=function(){return(Ie=t.dynCall_viiiiij=t.asm.sb).apply(null,arguments)},ze=t.dynCall_vjji=function(){return(ze=t.dynCall_vjji=t.asm.tb).apply(null,arguments)},Pe=t.dynCall_viiijjjii=function(){return(Pe=t.dynCall_viiijjjii=t.asm.ub).apply(null,arguments)},Ne=t.dynCall_iij=function(){return(Ne=t.dynCall_iij=t.asm.vb).apply(null,arguments)},Oe=t.dynCall_ji=function(){return(Oe=t.dynCall_ji=t.asm.wb).apply(null,arguments)},Be=t.dynCall_iiiiiij=function(){return(Be=t.dynCall_iiiiiij=t.asm.xb).apply(null,arguments)},Le=t.dynCall_iiij=function(){return(Le=t.dynCall_iiij=t.asm.yb).apply(null,arguments)};function Re(){function e(){if(!be&&(be=!0,t.calledRun=!0,!E)){if($(L),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();j.unshift(e)}$(j)}}if(!(0<G)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)q();$(B),0<G||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.UTF8ToString=I,t.stringToUTF8=function(e,t,n){return z(e,A,t,n)},t.lengthBytesUTF8=P,t.stackSave=Te,t.stackRestore=De,t.stackAlloc=Ae,W=function e(){be||Re(),be||(W=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return Re(),e.ready});e.exports=r},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),a=0,r=2,i=!0;r<arguments.length;)n[a++]=arguments[r++];return new Promise((function(r,o){n[a]=function(e){if(i)if(i=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];r.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,o(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var a=new Array(64),r=new Array(123),i=0;i<64;)r[a[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,n){for(var r,i=null,o=[],s=0,l=0;t<n;){var c=e[t++];switch(l){case 0:o[s++]=a[c>>2],r=(3&c)<<4,l=1;break;case 1:o[s++]=a[r|c>>4],r=(15&c)<<2,l=2;break;case 2:o[s++]=a[r|c>>6],o[s++]=a[63&c],l=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=a[r],o[s++]=61,1===l&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";n.decode=function(e,t,n){for(var a,i=n,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=r[c]))throw Error(o);switch(s){case 0:a=c,s=1;break;case 1:t[n++]=a<<2|(48&c)>>4,a=c,s=2;break;case 2:t[n++]=(15&a)<<4|(60&c)>>2,a=c,s=3;break;case 3:t[n++]=(3&a)<<6|c,s=0}}if(1===s)throw Error(o);return n-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],a=0;a<n.length;)n[a].fn===t?n.splice(a,1):++a;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],a=1;a<arguments.length;)n.push(arguments[a++]);for(a=0;a<t.length;)t[a].fn.apply(t[a++].ctx,n)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),a=128===n[3];function r(e,a,r){t[0]=e,a[r]=n[0],a[r+1]=n[1],a[r+2]=n[2],a[r+3]=n[3]}function i(e,a,r){t[0]=e,a[r]=n[3],a[r+1]=n[2],a[r+2]=n[1],a[r+3]=n[0]}function o(e,a){return n[0]=e[a],n[1]=e[a+1],n[2]=e[a+2],n[3]=e[a+3],t[0]}function s(e,a){return n[3]=e[a],n[2]=e[a+1],n[1]=e[a+2],n[0]=e[a+3],t[0]}e.writeFloatLE=a?r:i,e.writeFloatBE=a?i:r,e.readFloatLE=a?o:s,e.readFloatBE=a?s:o}():function(){function t(e,t,n,a){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,n,a);else if(isNaN(t))e(2143289344,n,a);else if(t>34028234663852886e22)e((r<<31|2139095040)>>>0,n,a);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,n,a);else{var i=Math.floor(Math.log(t)/Math.LN2);e((r<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,a)}}function o(e,t,n){var a=e(t,n),r=2*(a>>31)+1,i=a>>>23&255,o=8388607&a;return 255===i?o?NaN:r*(1/0):0===i?1401298464324817e-60*r*o:r*Math.pow(2,i-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,a),e.readFloatLE=o.bind(null,r),e.readFloatBE=o.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),a=128===n[7];function r(e,a,r){t[0]=e,a[r]=n[0],a[r+1]=n[1],a[r+2]=n[2],a[r+3]=n[3],a[r+4]=n[4],a[r+5]=n[5],a[r+6]=n[6],a[r+7]=n[7]}function i(e,a,r){t[0]=e,a[r]=n[7],a[r+1]=n[6],a[r+2]=n[5],a[r+3]=n[4],a[r+4]=n[3],a[r+5]=n[2],a[r+6]=n[1],a[r+7]=n[0]}function o(e,a){return n[0]=e[a],n[1]=e[a+1],n[2]=e[a+2],n[3]=e[a+3],n[4]=e[a+4],n[5]=e[a+5],n[6]=e[a+6],n[7]=e[a+7],t[0]}function s(e,a){return n[7]=e[a],n[6]=e[a+1],n[5]=e[a+2],n[4]=e[a+3],n[3]=e[a+4],n[2]=e[a+5],n[1]=e[a+6],n[0]=e[a+7],t[0]}e.writeDoubleLE=a?r:i,e.writeDoubleBE=a?i:r,e.readDoubleLE=a?o:s,e.readDoubleBE=a?s:o}():function(){function t(e,t,n,a,r,i){var o=a<0?1:0;if(o&&(a=-a),0===a)e(0,r,i+t),e(1/a>0?0:2147483648,r,i+n);else if(isNaN(a))e(0,r,i+t),e(2146959360,r,i+n);else if(a>17976931348623157e292)e(0,r,i+t),e((o<<31|2146435072)>>>0,r,i+n);else{var s;if(a<22250738585072014e-324)e((s=a/5e-324)>>>0,r,i+t),e((o<<31|s/4294967296)>>>0,r,i+n);else{var l=Math.floor(Math.log(a)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=a*Math.pow(2,-l))>>>0,r,i+t),e((o<<31|l+1023<<20|1048576*s&1048575)>>>0,r,i+n)}}}function o(e,t,n,a,r){var i=e(a,r+t),o=e(a,r+n),s=2*(o>>31)+1,l=o>>>20&2047,c=4294967296*(1048575&o)+i;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,a,4,0),e.readDoubleLE=o.bind(null,r,0,4),e.readDoubleBE=o.bind(null,i,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function a(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function r(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:e=>{"use strict";e.exports=function(e,t,n){var a=n||8192,r=a>>>1,i=null,o=a;return function(n){if(n<1||n>r)return e(n);o+n>a&&(i=e(a),o=0);var s=t.call(i,o,o+=n);return 7&o&&(o=1+(7|o)),s}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(a+1))?(++a,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var a,r=null,i=[],o=0;t<n;)(a=e[t++])<128?i[o++]=a:a>191&&a<224?i[o++]=(31&a)<<6|63&e[t++]:a>239&&a<365?(a=((7&a)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[o++]=55296+(a>>10),i[o++]=56320+(1023&a)):i[o++]=(15&a)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,i)),o=0);return r?(o&&r.push(String.fromCharCode.apply(String,i.slice(0,o))),r.join("")):String.fromCharCode.apply(String,i.slice(0,o))},n.write=function(e,t,n){for(var a,r,i=n,o=0;o<e.length;++o)(a=e.charCodeAt(o))<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296==(64512&a)&&56320==(64512&(r=e.charCodeAt(o+1)))?(a=65536+((1023&a)<<10)+(1023&r),++o,t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128);return n-i}},3442:(e,t)=>{"use strict";t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n},3720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=a;var r={},i={};function o(e,t){var n,a,o;return t?(o=0<=(e>>>=0)&&e<256)&&(a=i[e])?a:(n=l(e,(0|e)<0?-1:0,!0),o&&(i[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(a=r[e])?a:(n=l(e,e<0?-1:0,!1),o&&(r[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return x}else{if(e<=-f)return k;if(e+1>=f)return _}return e<0?s(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,a){return new n(e,t,a)}n.fromInt=o,n.fromNumber=s,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var a;if((a=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===a)return u(e.substring(1),t,n).neg();for(var r=s(c(n,8)),i=g,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+l),n);if(l<8){var h=s(c(n,l));i=i.mul(h).add(s(d))}else i=(i=i.mul(r)).add(s(d))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?u(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var h=4294967296,p=h*h,f=p/2,m=o(1<<24),g=o(0);n.ZERO=g;var y=o(0,!0);n.UZERO=y;var b=o(1);n.ONE=b;var v=o(1,!0);n.UONE=v;var w=o(-1);n.NEG_ONE=w;var _=l(-1,2147483647,!1);n.MAX_VALUE=_;var x=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=s(e),n=this.div(t),a=n.mul(t).sub(this);return n.toString(e)+a.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=s(c(e,6),this.unsigned),i=this,o="";;){var l=i.div(r),u=(i.sub(l.mul(r)).toInt()>>>0).toString(e);if((i=l).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return a(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(a(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},T.neg=T.negate,T.add=function(e){a(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,h=0,p=0,f=0;return p+=(f+=i+(65535&e.low))>>>16,h+=(p+=r+c)>>>16,u+=(h+=n+s)>>>16,u+=t+o,l((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},T.subtract=function(e){return a(e)||(e=d(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return g;if(a(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,c=e.high>>>16,u=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,y=0,b=0,v=0;return b+=(v+=o*p)>>>16,y+=(b+=i*p)>>>16,b&=65535,y+=(b+=o*h)>>>16,f+=(y+=r*p)>>>16,y&=65535,f+=(y+=i*h)>>>16,y&=65535,f+=(y+=o*u)>>>16,f+=n*p+r*h+i*u+o*c,l((b&=65535)<<16|(v&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(a(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,r,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;i=y}else{if(this.eq(k))return e.eq(b)||e.eq(w)?k:e.eq(k)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:w:(r=this.sub(e.mul(n)),i=n.add(r.div(e)));if(e.eq(k))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:c(2,o-48),h=s(n),p=h.mul(e);p.isNegative()||p.gt(r);)p=(h=s(n-=u,this.unsigned)).mul(e);h.isZero()&&(h=b),i=i.add(h),r=r.sub(p)}return i},T.div=T.divide,T.modulo=function(e){return a(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return l(~this.low,~this.high,this.unsigned)},T.and=function(e){return a(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return a(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return a(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return a(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,a){return a?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1446:(e,t,n)=>{"use strict";var a,r,i,o=n(2100),s=o.Reader,l=o.Writer,c=o.util,u=o.roots.default||(o.roots.default={});u.onnx=((i={}).Version=(a={},(r=Object.create(a))[a[0]="_START_VERSION"]=0,r[a[1]="IR_VERSION_2017_10_10"]=1,r[a[2]="IR_VERSION_2017_10_30"]=2,r[a[3]="IR_VERSION_2017_11_3"]=3,r[a[4]="IR_VERSION_2019_1_22"]=4,r[a[5]="IR_VERSION"]=5,r),i.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.s=c.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.floats=c.emptyArray,e.prototype.ints=c.emptyArray,e.prototype.strings=c.emptyArray,e.prototype.tensors=c.emptyArray,e.prototype.graphs=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&u.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&u.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)u.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)u.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.AttributeProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.name=e.string();break;case 21:a.refAttrName=e.string();break;case 13:a.docString=e.string();break;case 20:a.type=e.int32();break;case 2:a.f=e.float();break;case 3:a.i=e.int64();break;case 4:a.s=e.bytes();break;case 5:a.t=u.onnx.TensorProto.decode(e,e.uint32());break;case 6:a.g=u.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(a.floats&&a.floats.length||(a.floats=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)a.floats.push(e.float());else a.floats.push(e.float());break;case 8:if(a.ints&&a.ints.length||(a.ints=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)a.ints.push(e.int64());else a.ints.push(e.int64());break;case 9:a.strings&&a.strings.length||(a.strings=[]),a.strings.push(e.bytes());break;case 10:a.tensors&&a.tensors.length||(a.tensors=[]),a.tensors.push(u.onnx.TensorProto.decode(e,e.uint32()));break;case 11:a.graphs&&a.graphs.length||(a.graphs=[]),a.graphs.push(u.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!c.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(c.isInteger(e.i)||e.i&&c.isInteger(e.i.low)&&c.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||c.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=u.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=u.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(c.isInteger(e.ints[t])||e.ints[t]&&c.isInteger(e.ints[t].low)&&c.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||c.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=u.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var n;if(n=u.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.AttributeProto)return e;var t=new u.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(c.Long?(t.i=c.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new c.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?c.base64.decode(e.s,t.s=c.newBuffer(c.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=u.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=u.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)c.Long?(t.ints[n]=c.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new c.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?c.base64.decode(e.strings[n],t.strings[n]=c.newBuffer(c.base64.length(e.strings[n])),0):e.strings[n].length&&(t.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=u.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=u.onnx.GraphProto.fromObject(e.graphs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),t.defaults){if(n.name="",n.f=0,c.Long){var a=new c.Long(0,0,!1);n.i=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.i=t.longs===String?"0":0;t.bytes===String?n.s="":(n.s=[],t.bytes!==Array&&(n.s=c.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=t.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(n.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?n.i=t.longs===String?String(e.i):e.i:n.i=t.longs===String?c.Long.prototype.toString.call(e.i):t.longs===Number?new c.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?c.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(n.t=u.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(n.g=u.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){n.floats=[];for(var r=0;r<e.floats.length;++r)n.floats[r]=t.json&&!isFinite(e.floats[r])?String(e.floats[r]):e.floats[r]}if(e.ints&&e.ints.length)for(n.ints=[],r=0;r<e.ints.length;++r)"number"==typeof e.ints[r]?n.ints[r]=t.longs===String?String(e.ints[r]):e.ints[r]:n.ints[r]=t.longs===String?c.Long.prototype.toString.call(e.ints[r]):t.longs===Number?new c.LongBits(e.ints[r].low>>>0,e.ints[r].high>>>0).toNumber():e.ints[r];if(e.strings&&e.strings.length)for(n.strings=[],r=0;r<e.strings.length;++r)n.strings[r]=t.bytes===String?c.base64.encode(e.strings[r],0,e.strings[r].length):t.bytes===Array?Array.prototype.slice.call(e.strings[r]):e.strings[r];if(e.tensors&&e.tensors.length)for(n.tensors=[],r=0;r<e.tensors.length;++r)n.tensors[r]=u.onnx.TensorProto.toObject(e.tensors[r],t);if(e.graphs&&e.graphs.length)for(n.graphs=[],r=0;r<e.graphs.length;++r)n.graphs[r]=u.onnx.GraphProto.toObject(e.graphs[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t}(),e}(),i.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&u.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.ValueInfoProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.name=e.string();break;case 2:a.type=u.onnx.TypeProto.decode(e,e.uint32());break;case 3:a.docString=e.string();break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=u.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.ValueInfoProto)return e;var t=new u.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=u.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=u.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.input=c.emptyArray,e.prototype.output=c.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=c.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)u.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.NodeProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.input&&a.input.length||(a.input=[]),a.input.push(e.string());break;case 2:a.output&&a.output.length||(a.output=[]),a.output.push(e.string());break;case 3:a.name=e.string();break;case 4:a.opType=e.string();break;case 7:a.domain=e.string();break;case 5:a.attribute&&a.attribute.length||(a.attribute=[]),a.attribute.push(u.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:a.docString=e.string();break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!c.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!c.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!c.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!c.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=u.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n}}return null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.NodeProto)return e;var t=new u.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=u.onnx.AttributeProto.fromObject(e.attribute[n])}}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var a=0;a<e.input.length;++a)n.input[a]=e.input[a]}if(e.output&&e.output.length)for(n.output=[],a=0;a<e.output.length;++a)n.output[a]=e.output[a];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],a=0;a<e.attribute.length;++a)n.attribute[a]=u.onnx.AttributeProto.toObject(e.attribute[a],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.irVersion=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=c.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&u.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)u.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)u.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.ModelProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.irVersion=e.int64();break;case 8:a.opsetImport&&a.opsetImport.length||(a.opsetImport=[]),a.opsetImport.push(u.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:a.producerName=e.string();break;case 3:a.producerVersion=e.string();break;case 4:a.domain=e.string();break;case 5:a.modelVersion=e.int64();break;case 6:a.docString=e.string();break;case 7:a.graph=u.onnx.GraphProto.decode(e,e.uint32());break;case 14:a.metadataProps&&a.metadataProps.length||(a.metadataProps=[]),a.metadataProps.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(c.isInteger(e.irVersion)||e.irVersion&&c.isInteger(e.irVersion.low)&&c.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=u.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!c.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!c.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!c.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(c.isInteger(e.modelVersion)||e.modelVersion&&c.isInteger(e.modelVersion.low)&&c.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=u.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var n;if(n=u.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.ModelProto)return e;var t=new u.onnx.ModelProto;if(null!=e.irVersion&&(c.Long?(t.irVersion=c.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new c.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=u.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(c.Long?(t.modelVersion=c.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new c.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=u.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=u.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.opsetImport=[],n.metadataProps=[]),t.defaults){if(c.Long){var a=new c.Long(0,0,!1);n.irVersion=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.irVersion=t.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",c.Long?(a=new c.Long(0,0,!1),n.modelVersion=t.longs===String?a.toString():t.longs===Number?a.toNumber():a):n.modelVersion=t.longs===String?"0":0,n.docString="",n.graph=null}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?n.irVersion=t.longs===String?String(e.irVersion):e.irVersion:n.irVersion=t.longs===String?c.Long.prototype.toString.call(e.irVersion):t.longs===Number?new c.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?n.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=t.longs===String?c.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new c.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(n.graph=u.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var r=0;r<e.opsetImport.length;++r)n.opsetImport[r]=u.onnx.OperatorSetIdProto.toObject(e.opsetImport[r],t)}if(e.metadataProps&&e.metadataProps.length)for(n.metadataProps=[],r=0;r<e.metadataProps.length;++r)n.metadataProps[r]=u.onnx.StringStringEntryProto.toObject(e.metadataProps[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.StringStringEntryProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.key=e.string();break;case 2:a.value=e.string();break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!c.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!c.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.StringStringEntryProto)return e;var t=new u.onnx.StringStringEntryProto;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)u.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.TensorAnnotation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.tensorName=e.string();break;case 2:a.quantParameterTensorNames&&a.quantParameterTensorNames.length||(a.quantParameterTensorNames=[]),a.quantParameterTensorNames.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!c.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=u.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorAnnotation)return e;var t=new u.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=u.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var a=0;a<e.quantParameterTensorNames.length;++a)n.quantParameterTensorNames[a]=u.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[a],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.node=c.emptyArray,e.prototype.name="",e.prototype.initializer=c.emptyArray,e.prototype.docString="",e.prototype.input=c.emptyArray,e.prototype.output=c.emptyArray,e.prototype.valueInfo=c.emptyArray,e.prototype.quantizationAnnotation=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)u.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)u.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)u.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)u.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)u.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)u.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.GraphProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.node&&a.node.length||(a.node=[]),a.node.push(u.onnx.NodeProto.decode(e,e.uint32()));break;case 2:a.name=e.string();break;case 5:a.initializer&&a.initializer.length||(a.initializer=[]),a.initializer.push(u.onnx.TensorProto.decode(e,e.uint32()));break;case 10:a.docString=e.string();break;case 11:a.input&&a.input.length||(a.input=[]),a.input.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:a.output&&a.output.length||(a.output=[]),a.output.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:a.valueInfo&&a.valueInfo.length||(a.valueInfo=[]),a.valueInfo.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:a.quantizationAnnotation&&a.quantizationAnnotation.length||(a.quantizationAnnotation=[]),a.quantizationAnnotation.push(u.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=u.onnx.NodeProto.verify(e.node[t]))return"node."+n}if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=u.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n}if(null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=u.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.GraphProto)return e;var t=new u.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=u.onnx.NodeProto.fromObject(e.node[n])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=u.onnx.TensorProto.fromObject(e.initializer[n])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=u.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=u.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=u.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=u.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var a=0;a<e.node.length;++a)n.node[a]=u.onnx.NodeProto.toObject(e.node[a],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],a=0;a<e.initializer.length;++a)n.initializer[a]=u.onnx.TensorProto.toObject(e.initializer[a],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],a=0;a<e.input.length;++a)n.input[a]=u.onnx.ValueInfoProto.toObject(e.input[a],t);if(e.output&&e.output.length)for(n.output=[],a=0;a<e.output.length;++a)n.output[a]=u.onnx.ValueInfoProto.toObject(e.output[a],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],a=0;a<e.valueInfo.length;++a)n.valueInfo[a]=u.onnx.ValueInfoProto.toObject(e.valueInfo[a],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],a=0;a<e.quantizationAnnotation.length;++a)n.quantizationAnnotation[a]=u.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[a],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dims=c.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=c.emptyArray,e.prototype.int32Data=c.emptyArray,e.prototype.stringData=c.emptyArray,e.prototype.int64Data=c.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=c.newBuffer([]),e.prototype.externalData=c.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=c.emptyArray,e.prototype.uint64Data=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&u.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)u.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.TensorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(a.dims&&a.dims.length||(a.dims=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)a.dims.push(e.int64());else a.dims.push(e.int64());break;case 2:a.dataType=e.int32();break;case 3:a.segment=u.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(a.floatData&&a.floatData.length||(a.floatData=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)a.floatData.push(e.float());else a.floatData.push(e.float());break;case 5:if(a.int32Data&&a.int32Data.length||(a.int32Data=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)a.int32Data.push(e.int32());else a.int32Data.push(e.int32());break;case 6:a.stringData&&a.stringData.length||(a.stringData=[]),a.stringData.push(e.bytes());break;case 7:if(a.int64Data&&a.int64Data.length||(a.int64Data=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)a.int64Data.push(e.int64());else a.int64Data.push(e.int64());break;case 8:a.name=e.string();break;case 12:a.docString=e.string();break;case 9:a.rawData=e.bytes();break;case 13:a.externalData&&a.externalData.length||(a.externalData=[]),a.externalData.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:a.dataLocation=e.int32();break;case 10:if(a.doubleData&&a.doubleData.length||(a.doubleData=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)a.doubleData.push(e.double());else a.doubleData.push(e.double());break;case 11:if(a.uint64Data&&a.uint64Data.length||(a.uint64Data=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)a.uint64Data.push(e.uint64());else a.uint64Data.push(e.uint64());break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(c.isInteger(e.dims[t])||e.dims[t]&&c.isInteger(e.dims[t].low)&&c.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!c.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=u.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!c.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||c.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(c.isInteger(e.int64Data[t])||e.int64Data[t]&&c.isInteger(e.int64Data[t].low)&&c.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!c.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||c.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=u.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(c.isInteger(e.uint64Data[t])||e.uint64Data[t]&&c.isInteger(e.uint64Data[t].low)&&c.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorProto)return e;var t=new u.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)c.Long?(t.dims[n]=c.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new c.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=u.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?c.base64.decode(e.stringData[n],t.stringData[n]=c.newBuffer(c.base64.length(e.stringData[n])),0):e.stringData[n].length&&(t.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)c.Long?(t.int64Data[n]=c.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new c.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?c.base64.decode(e.rawData,t.rawData=c.newBuffer(c.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=u.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)c.Long?(t.uint64Data[n]=c.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new c.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=c.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var a=0;a<e.dims.length;++a)"number"==typeof e.dims[a]?n.dims[a]=t.longs===String?String(e.dims[a]):e.dims[a]:n.dims[a]=t.longs===String?c.Long.prototype.toString.call(e.dims[a]):t.longs===Number?new c.LongBits(e.dims[a].low>>>0,e.dims[a].high>>>0).toNumber():e.dims[a]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=u.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],a=0;a<e.floatData.length;++a)n.floatData[a]=t.json&&!isFinite(e.floatData[a])?String(e.floatData[a]):e.floatData[a];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],a=0;a<e.int32Data.length;++a)n.int32Data[a]=e.int32Data[a];if(e.stringData&&e.stringData.length)for(n.stringData=[],a=0;a<e.stringData.length;++a)n.stringData[a]=t.bytes===String?c.base64.encode(e.stringData[a],0,e.stringData[a].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[a]):e.stringData[a];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],a=0;a<e.int64Data.length;++a)"number"==typeof e.int64Data[a]?n.int64Data[a]=t.longs===String?String(e.int64Data[a]):e.int64Data[a]:n.int64Data[a]=t.longs===String?c.Long.prototype.toString.call(e.int64Data[a]):t.longs===Number?new c.LongBits(e.int64Data[a].low>>>0,e.int64Data[a].high>>>0).toNumber():e.int64Data[a];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?c.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],a=0;a<e.doubleData.length;++a)n.doubleData[a]=t.json&&!isFinite(e.doubleData[a])?String(e.doubleData[a]):e.doubleData[a];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],a=0;a<e.uint64Data.length;++a)"number"==typeof e.uint64Data[a]?n.uint64Data[a]=t.longs===String?String(e.uint64Data[a]):e.uint64Data[a]:n.uint64Data[a]=t.longs===String?c.Long.prototype.toString.call(e.uint64Data[a]):t.longs===Number?new c.LongBits(e.uint64Data[a].low>>>0,e.uint64Data[a].high>>>0).toNumber(!0):e.uint64Data[a];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],a=0;a<e.externalData.length;++a)n.externalData[a]=u.onnx.StringStringEntryProto.toObject(e.externalData[a],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?u.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.begin=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.end=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.TensorProto.Segment;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.begin=e.int64();break;case 2:a.end=e.int64();break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(c.isInteger(e.begin)||e.begin&&c.isInteger(e.begin.low)&&c.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(c.isInteger(e.end)||e.end&&c.isInteger(e.end.low)&&c.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TensorProto.Segment)return e;var t=new u.onnx.TensorProto.Segment;return null!=e.begin&&(c.Long?(t.begin=c.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new c.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(c.Long?(t.end=c.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new c.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var a=new c.Long(0,0,!1);n.begin=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.begin=t.longs===String?"0":0;c.Long?(a=new c.Long(0,0,!1),n.end=t.longs===String?a.toString():t.longs===Number?a.toNumber():a):n.end=t.longs===String?"0":0}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?n.begin=t.longs===String?String(e.begin):e.begin:n.begin=t.longs===String?c.Long.prototype.toString.call(e.begin):t.longs===Number?new c.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?c.Long.prototype.toString.call(e.end):t.longs===Number?new c.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),e}(),i.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dim=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)u.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.TensorShapeProto;e.pos<n;){var r=e.uint32();r>>>3==1?(a.dim&&a.dim.length||(a.dim=[]),a.dim.push(u.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&r)}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=u.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorShapeProto)return e;var t=new u.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=u.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var a=0;a<e.dim.length;++a)n.dim[a]=u.onnx.TensorShapeProto.Dimension.toObject(e.dim[a],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.dimValue=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:c.oneOfGetter(t=["dimValue","dimParam"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.TensorShapeProto.Dimension;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.dimValue=e.int64();break;case 2:a.dimParam=e.string();break;case 3:a.denotation=e.string();break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(c.isInteger(e.dimValue)||e.dimValue&&c.isInteger(e.dimValue.low)&&c.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!c.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!c.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TensorShapeProto.Dimension)return e;var t=new u.onnx.TensorShapeProto.Dimension;return null!=e.dimValue&&(c.Long?(t.dimValue=c.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new c.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?c.Long.prototype.toString.call(e.dimValue):t.longs===Number?new c.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(n.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs&&(n.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),i.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.tensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:c.oneOfGetter(t=["tensorType"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&u.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.TypeProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.tensorType=u.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:a.denotation=e.string();break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=u.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!c.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TypeProto)return e;var t=new u.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=u.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=u.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(n.value="tensorType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&u.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.TypeProto.Tensor;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.elemType=e.int32();break;case 2:a.shape=u.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!c.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=u.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t}return null},e.fromObject=function(e){if(e instanceof u.onnx.TypeProto.Tensor)return e;var t=new u.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=u.onnx.TensorShapeProto.fromObject(e.shape)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=u.onnx.TensorShapeProto.toObject(e.shape,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),i.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.domain="",e.prototype.version=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new u.onnx.OperatorSetIdProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:a.domain=e.string();break;case 2:a.version=e.int64();break;default:e.skipType(7&r)}}return a},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!c.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(c.isInteger(e.version)||e.version&&c.isInteger(e.version.low)&&c.isInteger(e.version.high))?"version: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.onnx.OperatorSetIdProto)return e;var t=new u.onnx.OperatorSetIdProto;return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(c.Long?(t.version=c.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.domain="",c.Long){var a=new c.Long(0,0,!1);n.version=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?c.Long.prototype.toString.call(e.version):t.longs===Number?new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i),e.exports=u},2100:(e,t,n)=>{"use strict";e.exports=n(9482)},9482:(e,t,n)=>{"use strict";var a=t;function r(){a.util._configure(),a.Writer._configure(a.BufferWriter),a.Reader._configure(a.BufferReader)}a.build="minimal",a.Writer=n(1173),a.BufferWriter=n(3155),a.Reader=n(1408),a.BufferReader=n(593),a.util=n(9693),a.rpc=n(5994),a.roots=n(5054),a.configure=r,r()},1408:(e,t,n)=>{"use strict";e.exports=l;var a,r=n(9693),i=r.LongBits,o=r.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return r.Buffer?function(e){return(l.create=function(e){return r.Buffer.isBuffer(e)?new a(e):u(e)})(e)}:u};function h(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new i(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){a=e,l.create=d(),a._configure();var t=r.Long?"toLong":"toNumber";r.merge(l.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=i;var a=n(1408);(i.prototype=Object.create(a.prototype)).constructor=i;var r=n(9693);function i(e){a.call(this,e)}i._configure=function(){r.Buffer&&(i.prototype._slice=r.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=r;var a=n(9693);function r(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(r.prototype=Object.create(a.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,n,r,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return a.asPromise(e,s,t,n,r,i);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof r))try{n=r[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=r;var a=n(9693);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=r.zero=new r(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var o=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,a=(e-n)/4294967296>>>0;return t&&(a=~a>>>0,n=~n>>>0,++n>4294967295&&(n=0,++a>4294967295&&(a=0))),new r(n,a)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(a.isString(e)){if(!a.Long)return r.fromNumber(parseInt(e,10));e=a.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):i},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return a.Long?new a.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;r.fromHash=function(e){return e===o?i:new r((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var a=t;function r(e,t,n){for(var a=Object.keys(t),r=0;r<a.length;++r)void 0!==e[a[r]]&&n||(e[a[r]]=t[a[r]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}a.asPromise=n(4537),a.base64=n(7419),a.EventEmitter=n(9211),a.float=n(945),a.inquire=n(7199),a.utf8=n(4997),a.pool=n(6662),a.LongBits=n(1945),a.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),a.global=a.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},a.isString=function(e){return"string"==typeof e||e instanceof String},a.isObject=function(e){return e&&"object"==typeof e},a.isset=a.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},a.Buffer=function(){try{var e=a.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(e){return"number"==typeof e?a.Buffer?a._Buffer_allocUnsafe(e):new a.Array(e):a.Buffer?a._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},a.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(e){return e?a.LongBits.from(e).toHash():a.LongBits.zeroHash},a.longFromHash=function(e,t){var n=a.LongBits.fromHash(e);return a.Long?a.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},a.merge=r,a.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},a.newError=i,a.ProtocolError=i("ProtocolError"),a.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},a.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var e=a.Buffer;e?(a._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},a._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):a._Buffer_from=a._Buffer_allocUnsafe=null}},1173:(e,t,n)=>{"use strict";e.exports=d;var a,r=n(9693),i=r.LongBits,o=r.base64,s=r.utf8;function l(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var h=function(){return r.Buffer?function(){return(d.create=function(){return new a})()}:function(){return new d}};function p(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=h(),d.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(d.alloc=r.pool(d.alloc,r.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new l(e,t,n),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var y=r.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var a=0;a<e.length;++a)t[n+a]=e[a]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(r.isString(e)){var n=d.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){a=e,d.create=h(),a._configure()}},3155:(e,t,n)=>{"use strict";e.exports=i;var a=n(1173);(i.prototype=Object.create(a.prototype)).constructor=i;var r=n(9693);function i(){a.call(this)}function o(e,t,n){e.length<40?r.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=r._Buffer_allocUnsafe,i.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var a=0;a<e.length;)t[n++]=e[a++]}},i.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},i._configure()},7714:(e,t,n)=>{"use strict";t.R=void 0;const a=n(6919),r=n(7448);t.R=new class{async init(){}async createSessionHandler(e,t){const n=new a.Session(t);return await n.loadModel(e),new r.OnnxjsSessionHandler(n)}}},4200:(e,t,n)=>{"use strict";t.c8=t.rX=void 0;const a=n(1670),r=n(5381),i=n(2157),o=n(2306);t.rX=()=>{if(("number"!=typeof a.env.wasm.initTimeout||a.env.wasm.initTimeout<0)&&(a.env.wasm.initTimeout=0),"boolean"!=typeof a.env.wasm.simd&&(a.env.wasm.simd=!0),"boolean"!=typeof a.env.wasm.proxy&&(a.env.wasm.proxy=!1),"number"!=typeof a.env.wasm.numThreads||!Number.isInteger(a.env.wasm.numThreads)||a.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?(0,r.cpus)().length:navigator.hardwareConcurrency;a.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,i.initWasm)()}async createSessionHandler(e,t){const n=new o.OnnxruntimeWebAssemblySessionHandler;return await n.loadModel(e,t),Promise.resolve(n)}}},6018:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1670),t);const i=n(1670);{const e=n(7714).R;(0,i.registerBackend)("webgl",e,-10)}{const e=n(4200).c8;(0,i.registerBackend)("cpu",e,10),(0,i.registerBackend)("wasm",e,10),(0,i.registerBackend)("xnnpack",e,9)}},246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((e=>"".concat(this[e]))).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},7778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const a=n(1446),r=n(9395),i=n(9162),o=n(2517);var s=r.onnxruntime.experimental.fbs;class l{constructor(e){if(this._attributes=new Map,null!=e){for(const t of e)t instanceof a.onnx.AttributeProto?this._attributes.set(t.name,[l.getValue(t),l.getType(t)]):t instanceof s.Attribute&&this._attributes.set(t.name(),[l.getValue(t),l.getType(t)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,t,n){this._attributes.set(e,[n,t])}delete(e){this._attributes.delete(e)}getFloat(e,t){return this.get(e,"float",t)}getInt(e,t){return this.get(e,"int",t)}getString(e,t){return this.get(e,"string",t)}getTensor(e,t){return this.get(e,"tensor",t)}getFloats(e,t){return this.get(e,"floats",t)}getInts(e,t){return this.get(e,"ints",t)}getStrings(e,t){return this.get(e,"strings",t)}getTensors(e,t){return this.get(e,"tensors",t)}get(e,t,n){const a=this._attributes.get(e);if(void 0===a){if(void 0!==n)return n;throw new Error("required attribute not found: ".concat(e))}if(a[1]!==t)throw new Error("type mismatch: expected ".concat(t," but got ").concat(a[1]));return a[0]}static getType(e){const t=e instanceof a.onnx.AttributeProto?e.type:e.type();switch(t){case a.onnx.AttributeProto.AttributeType.FLOAT:return"float";case a.onnx.AttributeProto.AttributeType.INT:return"int";case a.onnx.AttributeProto.AttributeType.STRING:return"string";case a.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case a.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case a.onnx.AttributeProto.AttributeType.INTS:return"ints";case a.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case a.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: ".concat(a.onnx.AttributeProto.AttributeType[t]))}}static getValue(e){const t=e instanceof a.onnx.AttributeProto?e.type:e.type();if(t===a.onnx.AttributeProto.AttributeType.GRAPH||t===a.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const n=this.getValueNoCheck(e);if(t===a.onnx.AttributeProto.AttributeType.INT&&o.LongUtil.isLong(n))return o.LongUtil.longToNumber(n);if(t===a.onnx.AttributeProto.AttributeType.INTS){const e=n,t=new Array(e.length);for(let n=0;n<e.length;n++){const a=e[n];t[n]=o.LongUtil.longToNumber(a)}return t}if(t===a.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof a.onnx.AttributeProto?i.Tensor.fromProto(n):i.Tensor.fromOrtTensor(n);if(t===a.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof a.onnx.AttributeProto)return n.map((e=>i.Tensor.fromProto(e)));if(e instanceof s.Attribute)return n.map((e=>i.Tensor.fromOrtTensor(e)))}if(t===a.onnx.AttributeProto.AttributeType.STRING&&e instanceof a.onnx.AttributeProto){const e=n;return(0,o.decodeUtf8String)(e)}return t===a.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof a.onnx.AttributeProto?n.map(o.decodeUtf8String):n}static getValueNoCheck(e){return e instanceof a.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case a.onnx.AttributeProto.AttributeType.INT:return e.i;case a.onnx.AttributeProto.AttributeType.STRING:return e.s;case a.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case a.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case a.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case a.onnx.AttributeProto.AttributeType.INTS:return e.ints;case a.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case a.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case a.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error("unsupported attribute type: ".concat(a.onnx.AttributeProto.AttributeType[e.type]))}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case s.AttributeType.FLOAT:return e.f();case s.AttributeType.INT:return e.i();case s.AttributeType.STRING:return e.s();case s.AttributeType.TENSOR:return e.t();case s.AttributeType.GRAPH:return e.g();case s.AttributeType.FLOATS:return e.floatsArray();case s.AttributeType.INTS:{const t=[];for(let n=0;n<e.intsLength();n++)t.push(e.ints(n));return t}case s.AttributeType.STRINGS:{const t=[];for(let n=0;n<e.stringsLength();n++)t.push(e.strings(n));return t}case s.AttributeType.TENSORS:{const t=[];for(let n=0;n<e.tensorsLength();n++)t.push(e.tensors(n));return t}default:throw new Error("unsupported attribute type: ".concat(s.AttributeType[e.type()]))}}}t.Attribute=l},7091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.backend=void 0;const a=n(5038),r=new Map;async function i(e){const n=t.backend;if(void 0!==n[e]&&function(e){const t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose}(n[e])){const t=n[e];let a=t.initialize();if("object"==typeof a&&"then"in a&&(a=await a),a)return r.set(e,t),t}}t.backend={webgl:new a.WebGLBackend},t.resolveBackend=async function e(t){if(!t)return e(["webgl"]);{const e="string"==typeof t?[t]:t;for(const t of e){const e=r.get(t);if(e)return e;const n=await i(t);if(n)return n}}throw new Error("no available backend to use")}},5038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;const a=n(1670),r=n(6231),i=n(6416),o=n(7305);t.WebGLBackend=class{get contextId(){return a.env.webgl.contextId}set contextId(e){a.env.webgl.contextId=e}get matmulMaxBatchSize(){return a.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){a.env.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return a.env.webgl.textureCacheMode}set textureCacheMode(e){a.env.webgl.textureCacheMode=e}get pack(){return a.env.webgl.pack}set pack(e){a.env.webgl.pack=e}get async(){return a.env.webgl.async}set async(e){a.env.webgl.async=e}initialize(){try{return this.glContext=(0,o.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),r.Logger.setWithEnv(a.env),r.Logger.verbose("WebGLBackend","Created WebGLContext: ".concat(typeof this.glContext," with matmulMaxBatchSize: ").concat(this.matmulMaxBatchSize,"; textureCacheMode: ").concat(this.textureCacheMode,"; pack: ").concat(this.pack,"; async: ").concat(this.async,".")),!0}catch(e){return r.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. ".concat(e)),!1}}createSessionHandler(e){return new i.WebGLSessionHandler(this,e)}dispose(){this.glContext.dispose()}}},5107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;const a=n(2517),r=n(8520),i=n(5060),o=n(7859),s=n(9390);class l extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new r.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new r.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}getPackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],a={},o="getOutputCoords";switch(t.length){case 0:a[o]=this.getOutputScalarCoords();break;case 1:a[o]=this.getOutputPacked1DCoords(t,n);break;case 2:a[o]=this.getOutputPacked2DCoords(t,n);break;case 3:a[o]=this.getOutputPacked3DCoords(t,n);break;default:a[o]=this.getOutputPackedNDCoords(t,n)}const s="\n      void setOutput(vec4 val) {\n        ".concat((0,i.getGlsl)(this.context.glContext.version).output," = val;\n      }\n    ");return a.floatTextureSetRGBA=new r.GlslLibRoutine(s),a}getUnpackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],a={},o="getOutputCoords";switch(t.length){case 0:a[o]=this.getOutputScalarCoords();break;case 1:a[o]=this.getOutputUnpacked1DCoords(t,n);break;case 2:a[o]=this.getOutputUnpacked2DCoords(t,n);break;case 3:a[o]=this.getOutputUnpacked3DCoords(t,n);break;case 4:a[o]=this.getOutputUnpacked4DCoords(t,n);break;case 5:a[o]=this.getOutputUnpacked5DCoords(t,n);break;case 6:a[o]=this.getOutputUnpacked6DCoords(t,n);break;default:throw new Error("Unsupported output dimensionality: ".concat(t.length))}const s="\n        void setOutput(float val) {\n          ".concat((0,i.getGlsl)(this.context.glContext.version).output," = vec4(val, 0, 0, 0);\n        }\n    ");return a.floatTextureSetR=new r.GlslLibRoutine(s),a}getOutputScalarCoords(){return new r.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(e,t){const n=t;let a="";return 1===n[0]?(a="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ".concat(n[1],".0);\n          }\n        "),new r.GlslLibRoutine(a)):1===n[1]?(a="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ".concat(n[0],".0);\n          }\n        "),new r.GlslLibRoutine(a)):(a="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(".concat(n[0],", ").concat(n[1],"));\n          return 2 * (resTexRC.y * ").concat(n[0]," + resTexRC.x);\n        }\n      "),new r.GlslLibRoutine(a))}getOutputPacked2DCoords(e,t){let n="";if(a.ArrayUtil.arraysEqual(e,t))return n="\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(".concat(t[0],", ").concat(t[1],"));\n        }\n      "),new r.GlslLibRoutine(n);const i=t,o=Math.ceil(e[1]/2);return n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(i[0],", ").concat(i[1],"));\n\n          int index = resTexRC.y * ").concat(i[0]," + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(o,") * 2;\n          int c = 2 * (index / ").concat(o,");\n\n          return ivec2(r, c);\n        }\n      "),new r.GlslLibRoutine(n)}getOutputPacked3DCoords(e,t){const n=[t[0],t[1]],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2),o="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(n[0],", ").concat(n[1],"));\n          int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n          int b = index / ").concat(i,";\n          index -= b * ").concat(i,";\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(a,") * 2;\n          int c = 2 * (index / ").concat(a,");\n\n          return ivec3(b, r, c);\n        }\n      ");return new r.GlslLibRoutine(o)}getOutputPackedNDCoords(e,t){const n=[t[0],t[1]],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2);let o=i,s="",l="b, r, c";for(let r=2;r<e.length-1;r++)o*=e[e.length-r-1],s="\n      int b".concat(r," = index / ").concat(o,";\n      index -= b").concat(r," * ").concat(o,";\n    ")+s,l="b".concat(r,", ")+l;const c="\n      ivec".concat(e.length," getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n        ").concat(s,"\n\n        int b = index / ").concat(i,";\n        index -= b * ").concat(i,";\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ").concat(a,") * 2;\n        int c = 2 * (index / ").concat(a,");\n\n        return ivec").concat(e.length,"(").concat(l,");\n      }\n    ");return new r.GlslLibRoutine(c)}getOutputUnpacked1DCoords(e,t){const n="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          return resTexRC.y * ").concat(t[0]," + resTexRC.x;\n        }\n      ");return new r.GlslLibRoutine(n)}getOutputUnpacked2DCoords(e,t){const n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          int r = index / ").concat(e[1],";\n          int c = index - r * ").concat(e[1],";\n          return ivec2(r, c);\n        }\n      ");return new r.GlslLibRoutine(n)}getOutputUnpacked3DCoords(e,t){let n="";const a=e.length;let i=null;a<2&&(i=[]),i=new Array(a-1),i[a-2]=e[a-1];for(let r=a-3;r>=0;--r)i[r]=i[r+1]*e[r+1];const o=["r","c","d"],s=i.map(((e,t)=>"int ".concat(o[t]," = index / ").concat(e,"; ").concat(t===i.length-1?"int ".concat(o[t+1]," = index - ").concat(o[t]," * ").concat(e):"index -= ".concat(o[t]," * ").concat(e),";"))).join("");return n="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec3(r, c, d);\n        }\n      "),new r.GlslLibRoutine(n)}getOutputUnpacked4DCoords(e,t){let n="";const a=e.length;let i=null;a<2&&(i=[]),i=new Array(a-1),i[a-2]=e[a-1];for(let r=a-3;r>=0;--r)i[r]=i[r+1]*e[r+1];const o=["r","c","d","d2"],s=i.map(((e,t)=>"int ".concat(o[t]," = index / ").concat(e,"; ").concat(t===i.length-1?"int ".concat(o[t+1]," = index - ").concat(o[t]," * ").concat(e):"index -= ".concat(o[t]," * ").concat(e),";"))).join("");return n="\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec4(r, c, d, d2);\n        }\n      "),new r.GlslLibRoutine(n)}getOutputUnpacked5DCoords(e,t){let n="";const a=e.length;let i=null;a<2&&(i=[]),i=new Array(a-1),i[a-2]=e[a-1];for(let r=a-3;r>=0;--r)i[r]=i[r+1]*e[r+1];const o=["r","c","d","d2","d3"],s=i.map(((e,t)=>"int ".concat(o[t]," = index / ").concat(e,"; ").concat(t===i.length-1?"int ".concat(o[t+1]," = index - ").concat(o[t]," * ").concat(e):"index -= ".concat(o[t]," * ").concat(e),";"))).join("");return n="\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec5(r, c, d, d2, d3);\n        }\n      "),new r.GlslLibRoutine(n)}getOutputUnpacked6DCoords(e,t){let n="";const a=e.length;let i=null;a<2&&(i=[]),i=new Array(a-1),i[a-2]=e[a-1];for(let r=a-3;r>=0;--r)i[r]=i[r+1]*e[r+1];const o=["r","c","d","d2","d3","d4"],s=i.map(((e,t)=>"int ".concat(o[t]," = index / ").concat(e,"; ").concat(t===i.length-1?"int ".concat(o[t+1]," = index - ").concat(o[t]," * ").concat(e):"index -= ".concat(o[t]," * ").concat(e),";"))).join("");return n="\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n         int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n         ").concat(s,"\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     "),new r.GlslLibRoutine(n)}getCommonUtilFuncs(){const e={};let t="uvFromFlat";e[t]=new r.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t="packedUVfrom1D",e[t]=new r.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom2D",e[t]=new r.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom3D",e[t]=new r.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="sampleTexture";const n=(0,i.getGlsl)(this.context.glContext.version);return e[t]=new r.GlslLibRoutine("\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ".concat(n.texture2D,"(textureSampler, uv).r;\n        }")),e}getInputsSamplingSnippets(){const e={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach(((n,a)=>{const r=this.context.inputTextureLayouts[a],i=(0,s.generateShaderFuncNameFromInputSamplerName)(n);r.isPacked?e[i]=this.getPackedSamplerFromInput(i,n,r):e[i]=this.getUnpackedSamplerFromInput(i,n,r);const o=(0,s.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(n);r.unpackedShape.length<=t.unpackedShape.length&&(r.isPacked?e[o]=this.getPackedSamplerAtOutputCoords(o,r,t,n):e[o]=this.getUnpackedSamplerAtOutputCoords(o,r,t,n))})),e}getPackedSamplerAtOutputCoords(e,t,n,i){const o=t.unpackedShape,l=n.unpackedShape,c=i,u=(0,s.generateShaderFuncNameFromInputSamplerName)(c),d=o.length,h=l.length,p=a.BroadcastUtil.getBroadcastDims(o,l),f=(0,s.getCoordsDataType)(h),m=h-d;let g;const y=(0,s.getGlChannels)();g=0===d?"":h<2&&p.length>=1?"coords = 0;":p.map((e=>"coords.".concat(y[e+m]," = 0;"))).join("\n");let b="";b=h<2&&d>0?"coords":o.map(((e,t)=>"coords.".concat(y[t+m]))).join(", ");let v="return outputValue;";const w=1===a.ShapeUtil.size(o),_=1===a.ShapeUtil.size(l);if(1!==d||w||_){if(w&&!_)v=1===h?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(p.length){const e=d-2,t=d-1;p.indexOf(e)>-1&&p.indexOf(t)>-1?v="return vec4(outputValue.x);":p.indexOf(e)>-1?v="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":p.indexOf(t)>-1&&(v="return vec4(outputValue.xx, outputValue.zz);")}}else v="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";const x="\n      vec4 ".concat(e,"() {\n        ").concat(f," coords = getOutputCoords();\n        \n        int lastDim = coords.").concat(y[h-1],";\n        coords.").concat(y[h-1]," = coords.").concat(y[h-2],";\n        coords.").concat(y[h-2]," = lastDim;\n      \n        ").concat(g,"\n        vec4 outputValue = ").concat(u,"(").concat(b,");\n        ").concat(v,"\n      }\n    ");return new r.GlslLibRoutine(x,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(e,t,n,i){const o=[n.width,n.height],l=[t.width,t.height],c=t.unpackedShape.length,u=n.unpackedShape.length,d=t.unpackedShape,h=n.unpackedShape,p=(0,s.generateShaderFuncNameFromInputSamplerName)(i);if(c===u&&a.ArrayUtil.arraysEqual(l,o)){const t="\n          float ".concat(e,"() {\n            return sampleTexture(").concat(i,", TexCoords);\n          }\n        ");return new r.GlslLibRoutine(t,["coordinates.sampleTexture"])}const f=(0,s.getCoordsDataType)(u),m=a.BroadcastUtil.getBroadcastDims(d,h),g=u-c;let y;const b=(0,s.getGlChannels)();y=0===c?"":u<2&&m.length>=1?"coords = 0;":m.map((e=>"coords.".concat(b[e+g]," = 0;"))).join("\n");let v="";v=u<2&&c>0?"coords":t.unpackedShape.map(((e,t)=>"coords.".concat(b[t+g]))).join(", ");const w="\n        float ".concat(e,"() {\n          ").concat(f," coords = getOutputCoords();\n          ").concat(y,"\n          return ").concat(p,"(").concat(v,");\n        }\n      ");return new r.GlslLibRoutine(w,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(e,t,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,n);case 2:return this.getPackedSampler2D(e,t,n);case 3:return this.getPackedSampler3D(e,t,n);default:return this.getPackedSamplerND(e,t,n)}}getUnpackedSamplerFromInput(e,t,n){const a=n.unpackedShape;switch(a.length){case 0:return this.getUnpackedSamplerScalar(e,t,n);case 1:return this.getUnpackedSampler1D(e,t,n);case 2:return this.getUnpackedSampler2D(e,t,n);case 3:return this.getUnpackedSampler3D(e,t,n);case 4:return this.getUnpackedSampler4D(e,t,n);case 5:return this.getUnpackedSampler5D(e,t,n);case 6:return this.getUnpackedSampler6D(e,t,n);default:throw new Error("Unsupported dimension ".concat(a.length,"-D"))}}getPackedSamplerScalar(e,t){const n="\n          vec4 ".concat(e,"() {\n            return ").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(t,", halfCR);\n          }\n        ");return new r.GlslLibRoutine(n)}getPackedSampler1D(e,t,n){const a=[n.width,n.height],o=[a[1],a[0]],s=(0,i.getGlsl)(this.context.glContext.version),l="vec4 ".concat(e,"(int index) {\n      vec2 uv = packedUVfrom1D(\n      ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(s.texture2D,"(").concat(t,", uv);\n    }");return new r.GlslLibRoutine(l,["coordinates.packedUVfrom1D"])}getPackedSampler2D(e,t,n){const o=n.unpackedShape,s=[n.width,n.height],l=(0,i.getGlsl)(this.context.glContext.version),c=s[0],u=s[1];if(null!=s&&a.ArrayUtil.arraysEqual(o,s)){const n="vec4 ".concat(e,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(c,".0);\n        return ").concat(l.texture2D,"(").concat(t,", uv);\n      }");return new r.GlslLibRoutine(n)}const d=s,h=Math.ceil(o[1]/2),p="vec4 ".concat(e,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(d[1],", ").concat(d[0],", ").concat(h,", row, col);\n      return ").concat(l.texture2D,"(").concat(t,", uv);\n    }");return new r.GlslLibRoutine(p,["coordinates.packedUVfrom2D"])}getPackedSampler3D(e,t,n){const a=n.unpackedShape,o=[n.width,n.height],l=[o[0],o[1]],c=(0,i.getGlsl)(this.context.glContext.version);if(1===a[0]){const i=a.slice(1),o=[1,2],l=(0,s.squeezeInputShape)(a,i),c=["b","row","col"],u=JSON.parse(JSON.stringify(n));u.unpackedShape=l;const d=this.getPackedSamplerFromInput(e,t,u),h="".concat(d.routineBody,"\n      vec4 ").concat(e,"(int b, int row, int col) {\n        return ").concat(e,"(").concat((0,s.getSqueezedParams)(c,o),");\n      } ");return new r.GlslLibRoutine(h,d.dependencies)}const u=l[0],d=l[1],h=Math.ceil(a[2]/2),p="vec4 ".concat(e,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(u,", ").concat(h*Math.ceil(a[1]/2),", ").concat(h,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(t,", uv);}");return new r.GlslLibRoutine(p,["coordinates.packedUVfrom3D"])}getPackedSamplerND(e,t,n){const a=n.unpackedShape,o=a.length,s=[n.width,n.height],l=(0,i.getGlsl)(this.context.glContext.version),c=[s[0],s[1]],u=c[1],d=c[0],h=Math.ceil(a[o-1]/2);let p=h*Math.ceil(a[o-2]/2),f="int b, int row, int col",m="b * ".concat(p," + (row / 2) * ").concat(h," + (col / 2)");for(let r=2;r<o-1;r++)f="int b".concat(r,", ")+f,p*=a[o-r-1],m="b".concat(r," * ").concat(p," + ")+m;const g="vec4 ".concat(e,"(").concat(f,") {\n      int index = ").concat(m,";\n      int texR = index / ").concat(d,";\n      int texC = index - texR * ").concat(d,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(d,", ").concat(u,");\n      return ").concat(l.texture2D,"(").concat(t,", uv);\n    }");return new r.GlslLibRoutine(g)}getUnpackedSamplerScalar(e,t,n){const[a,i]=[n.width,n.height];if(1===a&&1===i){const n="\n          float ".concat(e,"() {\n            return sampleTexture(").concat(t,", halfCR);\n          }\n        ");return new r.GlslLibRoutine(n,["coordinates.sampleTexture"])}const o="\n        float ".concat(e,"() {\n          int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(a,", ").concat(i,");\n          vec2 uv = uvFromFlat(").concat(a,", ").concat(i,", offset_").concat(t,");\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new r.GlslLibRoutine(o,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(e,t,n){const a=n.width,i=n.height;if(1===i&&1===a){const n="\n        float ".concat(e,"(int index) {\n          return sampleTexture(").concat(t,", halfCR);\n        }\n      ");return new r.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===i){const n="\n          float ".concat(e,"(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ").concat(a,".0, 0.5);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new r.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===a){const n="\n          float ".concat(e,"(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ").concat(i,".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new r.GlslLibRoutine(n,["coordinates.sampleTexture"])}const o="\n        float ".concat(e,"(int index) {\n          vec2 uv = uvFromFlat(").concat(a,", ").concat(i,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new r.GlslLibRoutine(o,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(e,t,n){const i=n.unpackedShape,l=[n.height,n.width];if(null!=l&&a.ArrayUtil.arraysEqual(i,l)){const n="\n          float ".concat(e,"(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(").concat(l[1],".0, ").concat(l[0],".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new r.GlslLibRoutine(n,["coordinates.sampleTexture"])}const{newShape:c,keptDims:u}=(0,o.squeezeShape)(i),d=c;if(d.length<i.length){const a=(0,s.squeezeInputShape)(i,d),o=JSON.parse(JSON.stringify(n));o.unpackedShape=a;const l=["col","row"],c="\n          ".concat(this.getUnpackedSamplerFromInput(e,t,o).routineBody,"\n          float ").concat(e,"(int row, int col) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(l,u),");\n          }\n        ");return new r.GlslLibRoutine(c,["coordinates.sampleTexture"])}const h=l[1],p=l[0];if(1===p){const n="\n          float ".concat(e,"(int row, int col) {\n            int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(h,", ").concat(p,");\n            float index = dot(vec3(row, col, offset_").concat(t,"), vec3(").concat(i[1],", 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new r.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===h){const n="\n          float ".concat(e,"(int row, int col) {\n            int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(h,", ").concat(p,");\n            float index = dot(vec3(row, col, offset_").concat(t,"), vec3(").concat(i[1],", 1, 1));\n            vec2 uv = vec2((index + 0.5) / ").concat(p,".0, 0.5);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new r.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const f="\n        float ".concat(e,"(int row, int col) {\n          int index = col * ").concat(i[1]," + row;\n          vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new r.GlslLibRoutine(f,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(e,t,n){const a=n.unpackedShape,i=a[1]*a[2],l=a[2],{newShape:c,keptDims:u}=(0,o.squeezeShape)(a),d=c;if(d.length<a.length){const i=(0,s.squeezeInputShape)(a,d),o=["batch","col","row"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=i;const c=this.getUnpackedSamplerFromInput(e,t,l),h=u.reverse(),p="\n          ".concat(c.routineBody,"\n          float ").concat(e,"(int batch, int row, int col) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(o,h),");\n          }\n        ");return new r.GlslLibRoutine(p,c.dependencies)}const h="\n          float ".concat(e,"(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ").concat(i," + col * ").concat(l," + row;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(t,", uv);\n          }\n      ");return new r.GlslLibRoutine(h,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(e,t,n){const a=n.unpackedShape,i=a[3],o=a[2]*i,s="\n        float ".concat(e,"(int row, int col, int depth, int depth2) {\n          int index = row * ").concat(a[1]*o," + col * ").concat(o," +\n              depth2 * ").concat(i," + depth;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new r.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(e,t,n){const a=n.unpackedShape,i=a[4],l=a[3]*i,c=a[2]*l,u=a[1]*c,{newShape:d,keptDims:h}=(0,o.squeezeShape)(a);if(d.length<a.length){const i=(0,s.squeezeInputShape)(a,d),o=["row","col","depth","depth2","depth3"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=i;const c="\n          ".concat(this.getUnpackedSamplerFromInput(e,t,l).routineBody,"\n          float ").concat(e,"(int row, int col, int depth, int depth2, int depth3) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(o,h),");\n          }\n        ");return new r.GlslLibRoutine(c,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const p="\n        float ".concat(e,"(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(l," +\n          depth3 * ").concat(i," + depth2;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new r.GlslLibRoutine(p,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(e,t,n){const a=n.unpackedShape,i=a[5],l=a[4]*i,c=a[3]*l,u=a[2]*c,d=a[1]*u,{newShape:h,keptDims:p}=(0,o.squeezeShape)(a);if(h.length<a.length){const i=(0,s.squeezeInputShape)(a,h),o=["row","col","depth","depth2","depth3","depth4"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=i;const c="\n            ".concat(this.getUnpackedSamplerFromInput(e,t,l).routineBody,"\n            float ").concat(e,"(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ").concat(e,"(").concat((0,s.getSqueezedParams)(o,p),");\n            }\n          ");return new r.GlslLibRoutine(c,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const f="\n          float ".concat(e,"(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ").concat(d," + col * ").concat(u," + depth * ").concat(c," +\n            depth2 * ").concat(l," + depth3 * ").concat(i," + depth4;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new r.GlslLibRoutine(f,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const e=this.context.outputTextureLayout,t=e.shape.length,n=e.strides,a=e.width,i=e.height,o=[];for(let r=0;r<t-1;++r)o.push("\n        c[".concat(r,"] = offset / ").concat(n[r],";")),o.push("\n        offset -= c[".concat(r,"] * ").concat(n[r],";"));o.push("\n        c[".concat(t-1,"] = offset;"));const s="\n      void toVec(vec2 texCoords, out int c[".concat(t,"]) {\n        int offset = coordsToOffset(texCoords, ").concat(a,", ").concat(i,");\n        ").concat(o.join(""),"\n      }\n      void toVec(int offset, out int c[").concat(t,"]) {\n        ").concat(o.join(""),"\n      }\n    ");return{toVec:new r.GlslLibRoutine(s,["coordinates.coordsToOffset"])}}valueFrom(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const a=this.context.inputTextureLayouts[n],i=(a.unpackedShape.length>0?a.unpackedShape:a.shape).length;let o="_".concat(t);e[o]=new r.GlslLibRoutine(this.getValueFromSingle(t,i,a.width,a.height,!1),["shapeUtils.indicesToOffset".concat(o),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),o+="_T",e[o]=new r.GlslLibRoutine(this.getValueFromSingle(t,i,a.width,a.height,!0),["shapeUtils.indicesToOffset".concat(o),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),e}getValueFromSingle(e,t,n,a,r){let o="_".concat(e);return r&&(o+="_T"),"\n        float ".concat(o,"(int m[").concat(t,"]) {\n          int offset = indicesToOffset").concat(o,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(a,");\n          float value = getColorAsFloat(").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", coords));\n          return value;\n        }\n        ")}getPackedValueFrom(e,t,n,a,r){let o="_".concat(e,"_Pack");return r&&(o+="_T"),"\n        vec4 ".concat(o,"(int m[").concat(t,"]) {\n          int offset = indicesToOffset_").concat(e,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(a,");\n          return ").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", coords);\n        }\n        ")}}t.CoordsGlslLib=l},8520:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(n=t.FunctionType||(t.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",t.GlslContext=class{constructor(e,t,n,a){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=n,this.outputTextureLayout=a}},t.GlslLib=class{constructor(e){this.context=e}},t.GlslLibRoutine=class{constructor(e,t){this.routineBody=e,this.dependencies=t}},t.GlslLibRoutineNode=class{constructor(e,t,n){this.name=e,this.dependencies=n||[],t&&(this.routineBody=t)}addDependency(e){e&&this.dependencies.push(e)}},t.TopologicalSortGlslRoutines=class{static returnOrderedNodes(e){if(!e||0===e.length)return[];if(1===e.length)return e;const t=new Set,n=new Set,a=new Array;return this.createOrderedNodes(e,t,n,a),a}static createOrderedNodes(e,t,n,a){for(let r=0;r<e.length;++r)this.dfsTraverse(e[r],t,n,a)}static dfsTraverse(e,t,n,a){if(!e||n.has(e.name))return;if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);const r=e.dependencies;if(r&&r.length>0)for(let i=0;i<r.length;++i)this.dfsTraverse(r[i],t,n,a);a.push(e),n.add(e.name),t.delete(e.name)}}},7341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;const a=n(8520);class r extends a.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new a.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new a.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const e=r.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new a.GlslLibRoutine("\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ".concat(e,"\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        "))}}decodeUint8(){const e=r.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new a.GlslLibRoutine("\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ".concat(e,"\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        "))}}static isLittleEndian(){const e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")}}t.EncodingGlslLib=r},9894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;const a=n(8520),r=n(5060);class i extends a.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const e=(0,r.getGlsl)(this.context.glContext.version);return{setFragColor:new a.GlslLibRoutine("\n        void setFragColor(float value) {\n            ".concat(e.output," = encode(value);\n        }\n        "),["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new a.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}t.FragColorGlslLib=i},2848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;const n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(e){const t={};let a;for(;null!==(a=n.exec(e));){const e=a[3].split(",").map((e=>{const t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null})).filter((e=>null!==e));t[a[2]]={params:e,body:a[4]}}for(const n in t){const r="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",n),i=new RegExp(r,"gm");for(;null!==(a=i.exec(e));){const r=a[1],i=a[2],o=a[3].split(","),s=r?"".concat(r," ").concat(i,";"):"";let l=t[n].body,c="";t[n].params.forEach(((e,t)=>{e&&(c+="".concat(e.type," ").concat(e.name," = ").concat(o[t],";\n"))})),l="".concat(c,"\n ").concat(l),l=l.replace("return","".concat(i," = "));const u="\n      ".concat(s,"\n      {\n        ").concat(l,"\n      }\n      ");e=e.replace(a[0],u)}}return e.replace(n,"")}},8879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;const a=n(8520),r=n(2848),i=n(5483),o=n(5060);t.GlslPreprocessor=class{constructor(e,t,n,r){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new a.GlslContext(e,t,n,r),Object.keys(i.glslRegistry).forEach((e=>{const t=new i.glslRegistry[e](this.context);this.libs[e]=t}));const o=this.glslLibRoutineDependencyGraph;for(const i in this.libs){const e=this.libs[i].getFunctions();for(const t in e){const n=i+"."+t;let r;o[n]?(r=o[n],r.routineBody=e[t].routineBody):(r=new a.GlslLibRoutineNode(n,e[t].routineBody),o[n]=r);const s=e[t].dependencies;if(s)for(let e=0;e<s.length;++e)if(o[s[e]])r.addDependency(o[s[e]]);else{const t=new a.GlslLibRoutineNode(s[e]);o[s[e]]=t,r.addDependency(t)}}}}preprocess(){const e=this.context.programInfo;let t=e.shaderSource;return this.context.programInfo.hasMain||(t="".concat(t,"\n      ").concat((0,o.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length))),t=(0,r.replaceInlines)(t),"".concat((0,o.getFragShaderPreamble)(this.context.glContext.version),"\n    ").concat(this.getUniforms(e.inputNames,e.variables),"\n    ").concat(this.getImports(t),"\n    ").concat(t)}getImports(e){const t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";let n="";for(let a=0;a<t.length;++a){if(!t[a].routineBody)throw new Error("Missing body for the Glsl Library routine: ".concat(t[a].name));n+=t[a].routineBody+"\n"}return n}selectGlslLibRoutinesToBeIncluded(e){const t=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((n=>{const a=n.split(".")[1];-1!==e.indexOf(a)&&t.push(this.glslLibRoutineDependencyGraph[n])})),a.TopologicalSortGlslRoutines.returnOrderedNodes(t)}getUniforms(e,t){const n=[];if(e)for(const a of e)n.push("uniform sampler2D ".concat(a,";"));if(t)for(const a of t)n.push("uniform ".concat(a.type," ").concat(a.name).concat(a.arrayLength?"[".concat(a.arrayLength,"]"):"",";"));return n.join("\n")}}},5483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;const a=n(5107),r=n(7341),i=n(9894),o=n(2655),s=n(3891);t.glslRegistry={encoding:r.EncodingGlslLib,fragcolor:i.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:o.ShapeUtilsGlslLib,coordinates:a.CoordsGlslLib}},2655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;const a=n(8520);class r extends a.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach(((n,r)=>{const i=this.context.inputTextureLayouts[r].unpackedShape;if(i.length<=e){const r=i.length,o=e-r,s="bcastIndices_".concat(n);let l="";for(let e=0;e<r;++e)l+="\n          realIndices[".concat(e,"] = int( mod(float(bcastedIndices[").concat(o+e,"]), ").concat(i[e],".0) );\n          ");const c="\n        void ".concat(s," (int bcastedIndices[").concat(e,"], out int realIndices[").concat(r,"]) {\n          ").concat(l,"\n        }\n        ");t[s]=new a.GlslLibRoutine(c)}})),t}bcastMatmulIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach(((n,r)=>{const i=this.context.inputTextureLayouts[r].shape;if(!(i.length<2||i.length>e)){const r=i.length,o=e-r,s="bcastMatmulIndices_".concat(n);let l="";for(let e=0;e<r-2;++e)l+="\n          realIndices[".concat(e,"] = int( mod(float(bcastedIndices[").concat(o+e,"]), ").concat(i[e],".0) );\n          ");const c="\n        void ".concat(s,"(int bcastedIndices[").concat(e,"], out int realIndices[").concat(r,"]) {\n          ").concat(l,"\n          realIndices[").concat(r-1,"] = bcastedIndices[").concat(e-1,"];\n          realIndices[").concat(r-2,"] = bcastedIndices[").concat(e-2,"];\n        }\n        ");t[s]=new a.GlslLibRoutine(c)}})),t}indicesToOffset(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const i=this.context.inputTextureLayouts[n].shape,o=this.context.inputTextureLayouts[n].strides,s=i.length;let l="indicesToOffset_".concat(t);e[l]=new a.GlslLibRoutine(r.indexToOffsetSingle(l,s,o)),l="indicesToOffset_".concat(t,"_T"),e[l]=new a.GlslLibRoutine(r.indexToOffsetSingle(l,s,o.slice().reverse()))})),e}static indexToOffsetSingle(e,t,n){let a="";for(let r=t-1;r>=0;--r)a+="\n        offset += indices[".concat(r,"] * ").concat(n[r],";\n        ");return"\n      int ".concat(e,"(int indices[").concat(t,"]) {\n        int offset = 0;\n        ").concat(a,"\n        return offset;\n      }\n      ")}offsetToIndices(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const i=this.context.inputTextureLayouts[n].shape,o=this.context.inputTextureLayouts[n].strides,s=i.length;let l="offsetToIndices_".concat(t);e[l]=new a.GlslLibRoutine(r.offsetToIndicesSingle(l,s,o)),l="offsetToIndices_".concat(t,"_T"),e[l]=new a.GlslLibRoutine(r.offsetToIndicesSingle(l,s,o.slice().reverse()))})),e}static offsetToIndicesSingle(e,t,n){const a=[];for(let r=0;r<t-1;++r)a.push("\n      indices[".concat(r,"] = offset / ").concat(n[r],";")),a.push("\n        offset -= indices[".concat(r,"] * ").concat(n[r],";"));return a.push("\n      indices[".concat(t-1,"] = offset;")),"\n      void ".concat(e,"(int offset, out int indices[").concat(t,"]) {\n        ").concat(a.join(""),"\n      }\n      ")}incrementIndices(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const r=this.context.inputTextureLayouts[n].shape,i=r.length,o="incrementIndices_".concat(t);let s="";for(let e=0;e<i;++e)s+="\n        shape[".concat(e,"] = ").concat(r[e],";");const l="\n        void ".concat(o,"(int axis, out int indices[").concat(i,"]) {\n          int shape[").concat(i,"];\n          ").concat(s,";\n          for(int i = ").concat(i," -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        ");e[o]=new a.GlslLibRoutine(l)})),e}}t.ShapeUtilsGlslLib=r},5060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;const n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},a={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function r(e){return 1===e?n:a}t.getGlsl=r,t.getVertexShaderSource=function(e){const t=r(e);return"".concat(t.version,"\n      precision highp float;\n      ").concat(t.attribute," vec3 position;\n      ").concat(t.attribute," vec2 textureCoord;\n\n      ").concat(t.varyingVertex," vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }")},t.getFragShaderPreamble=function(e){const t=r(e);return"".concat(t.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(t.varyingFrag," vec2 TexCoords;\n    ").concat(t.outputDeclaration,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    ")},t.getDefaultFragShaderMain=function(e,t){return"\n  void main() {\n    int indices[".concat(t,"];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ").concat(r(e).output," = result;\n  }\n  ")}},3891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;const a=n(8520);class r extends a.GlslLib{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(const r in t){const i="".concat(r,"Vec");let o="";for(let n=0;n<e;++n)o+="\n          dest[".concat(n,"] ").concat(t[r]," src[").concat(n,"];\n          ");const s="\n        void ".concat(i,"(int src[").concat(e,"], out int dest[").concat(e,"]) {\n          ").concat(o,"\n        }\n        ");n[i]=new a.GlslLibRoutine(s)}return n}copyVec(){const e=this.context.outputTextureLayout.shape.length;let t="";for(let a=0;a<e;++a)t+="\n        dest[".concat(a,"] = src[").concat(a,"];\n        ");const n="\n      void copyVec(int src[".concat(e,"], out int dest[").concat(e,"]) {\n        ").concat(t,"\n      }\n      ");return{copyVec:new a.GlslLibRoutine(n)}}setVecItem(){const e=this.context.outputTextureLayout.shape.length;let t="\n        if(index < 0)\n            index =".concat(e," + index;\n        if (index == 0)\n            m[0] = value;\n        ");for(let a=1;a<e-1;++a)t+="\n        else if (index == ".concat(a,")\n            m[").concat(a,"] = value;\n            ");t+="\n        else\n            m[".concat(e-1,"] = value;\n        ");const n="\n      void setVecItem(out int m[".concat(e,"], int index, int value) {\n        ").concat(t,"\n      }\n        ");return{setVecItem:new a.GlslLibRoutine(n)}}getVecItem(){const e=this.context.outputTextureLayout.shape.length;let t="\n        if(index < 0)\n            index = ".concat(e," + index;\n        if (index == 0)\n            return m[0];\n      ");for(let a=1;a<e-1;++a)t+="\n        else if (index == ".concat(a,")\n            return m[").concat(a,"];\n      ");t+="\n        else\n            return m[".concat(e-1,"];\n        ");const n="\n      int getVecItem(int m[".concat(e,"], int index) {\n        ").concat(t,"\n      }\n    ");return{getVecItem:new a.GlslLibRoutine(n)}}}t.VecGlslLib=r},8316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;const a=n(6231),r=n(9162),i=n(2517),o=n(2403),s=n(7019),l=n(8710),c=n(5611),u=n(4057),d=n(2039);t.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return(0,u.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,t)}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error("Input size mustn't be less than ".concat(e.inputNames.length,"."));if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const n=[];for(let l=0;l<e.inputNames.length;++l)n[l]=this.getOrCreateTextureData(t[l],e.inputTypes[l]);const a=((e,t)=>{const n=t.map((e=>"".concat(e.unpackedShape.join(","),";").concat(e.width,"x").concat(e.height))).join("_");let a=e.name;return e.cacheHint&&(a+="["+e.cacheHint+"]"),a+=":"+n,a})(e,n);let r=this.session.programManager.getArtifact(a);const i=r?r.programInfo:"function"==typeof e.get?e.get():e,o=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,i.output.dims,i.output.textureType),s=this.createTextureData(o,i.output.type);return r||(r=this.session.programManager.build(i,n,s),this.session.programManager.setArtifact(a,r)),this.runProgram(r,n,s),s}run(e,t){return this.executeProgram(e,t).tensor}runProgram(e,t,n){for(let a=0;a<t.length;++a)if(!!t[a].isPacked!=(e.programInfo.inputTypes[a]===d.TextureType.packed))throw new Error("input[".concat(a,"] property packed inconsistent"));if(!!n.isPacked!=(e.programInfo.output.textureType===d.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,n)}getOrCreateTextureData(e,t){let n=this.getTextureData(e.dataId,t===d.TextureType.packed);if(!n&&(n=this.getTextureData(e.dataId,t!==d.TextureType.packed),n))return t===d.TextureType.packed?this.pack(n):this.unpack(n);if(!n){const a=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,t);if(t===d.TextureType.packedLastDimension){const n=1,a=4,r=e.dims;if(4===r.length){const i=[r[0],Math.ceil(r[1]*r[2]*r[3]/a)],o=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,i,t);let s=e.numberData;if(r[1]*r[2]*r[3]%a!=0){const t=r[0],i=r[1]*r[2]*r[3],o=Math.ceil(i*n/a)*a;s=new Float32Array(t*o);for(let a=0;a<t;++a){const t=a*i,r=a*o+a%n*i;s.set(e.numberData.subarray(t,t+i),r)}}return this.createTextureData(o,e.type,s,e,1)}}if(t===d.TextureType.packed){const t=(0,u.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),a=this.createTextureData(t,e.type,e.numberData,e,1);n=this.pack(a)}else n=this.createTextureData(a,e.type,e.numberData,e,1)}return n}createTextureDataFromLayoutBindTensor(e,t,n,a){return this.createTextureData(e,t,n,a,1)}createTextureData(e,t,n,r,i){a.Logger.verbose("InferenceHandler","Creating TextureData: layout:[".concat(JSON.stringify(e),"]"));const o=this.session.textureManager.createTextureFromLayout(t,e,n,i);return this.createTextureDataFromTexture(e,t,o,r)}reshapeUnpacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked),a={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:i.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(a,e.type,n.texture).tensor}reshapePacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.packed);if((0,s.isReshapeCheap)(e.dims,t)){const a={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:i.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(a,e.type,n.texture).tensor}const a=(0,s.processDims3D)(e.dims),r=(0,s.processDims3D)(t),o=this.reshapePacked(e,a),l=this.run((0,s.createPackedReshape3DProgramInfoLoader)(this,o,r),[o]);return this.reshapePacked(l,t)}cast(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked);return this.createTextureDataFromTexture(n,t,n.texture).tensor}createTextureDataFromTexture(e,t,n,a,i){const o=Object.assign(Object.assign({},e),{tensor:a||new r.Tensor(e.unpackedShape,t,(e=>this.readTexture(o)),(async e=>this.readTextureAsync(o)),void 0,i),texture:n});return this.setTextureData(o.tensor.dataId,o,e.isPacked),o}getTextureData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.session.isInitializer(e)?this.session.setTextureData(e,t,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((e=>this.session.textureManager.releaseTexture(e))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((e=>this.session.textureManager.releaseTexture(e))),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,l.encodeAsUint8)(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,l.encodeAsUint8)(this,e))}pack(e){return this.executeProgram((0,o.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram((0,c.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}},1640:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;const o=n(2898),s=i(n(7839)),l=n(4196),c=n(2069),u=n(8138),d=n(9663),h=n(5193),p=n(7992),f=n(1253),m=n(4776),g=n(6572),y=n(3346),b=n(5623),v=n(2870),w=n(2143),_=n(4939),x=n(718),k=n(2268),T=n(8117),D=n(2278),A=n(5524),C=n(5975),S=n(3933),E=n(6558),F=n(5723),M=n(3738),I=i(n(4909)),z=n(8428),P=n(9793);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",I.abs],["Acos","","7+",I.acos],["Add","","7+",s.add],["And","","7+",s.and],["Asin","","7+",I.asin],["Atan","","7+",I.atan],["AveragePool","","7+",w.averagePool,w.parseAveragePoolAttributes],["BatchNormalization","","7+",o.batchNormalization,o.parseBatchNormalizationAttributes],["Cast","","6+",l.cast,l.parseCastAttributes],["Ceil","","6+",I.ceil],["Clip","","6-10",I.clip,I.parseClipAttributes],["Clip","","11+",I.clipV11],["Concat","","4+",c.concat,c.parseConcatAttributes],["Conv","","1+",u.conv,u.parseConvAttributes],["ConvTranspose","","1+",d.convTranspose,d.parseConvTransposeAttributes],["Cos","","7+",I.cos],["Div","","7+",s.div],["Dropout","","7+",I.identity],["DepthToSpace","","1+",h.depthToSpace,h.parseDepthToSpaceAttributes],["Equal","","7+",s.equal],["Elu","","6+",I.elu,I.parseEluAttributes],["Exp","","6+",I.exp],["Flatten","","1+",p.flatten,p.parseFlattenAttributes],["Floor","","6+",I.floor],["FusedConv","com.microsoft","1+",u.conv,u.parseConvAttributes],["Gather","","1+",f.gather,f.parseGatherAttributes],["Gemm","","7-10",m.gemm,m.parseGemmAttributesV7],["Gemm","","11+",m.gemm,m.parseGemmAttributesV11],["GlobalAveragePool","","1+",w.globalAveragePool,w.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",w.globalMaxPool],["Greater","","7+",s.greater],["Identity","","1+",I.identity],["ImageScaler","","1+",g.imageScaler,g.parseImageScalerAttributes],["InstanceNormalization","","6+",y.instanceNormalization,y.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",I.leakyRelu,I.parseLeakyReluAttributes],["Less","","7+",s.less],["Log","","6+",I.log],["MatMul","","1+",b.matMul,b.parseMatMulAttributes],["MaxPool","","1+",w.maxPool,w.parseMaxPoolAttributes],["Mul","","7+",s.mul],["Neg","","6+",I.neg],["Not","","1+",I.not],["Or","","7+",s.or],["Pad","","2-10",v.padV2,v.parsePadAttributesV2],["Pad","","11+",v.padV11,v.parsePadAttributesV11],["Pow","","7+",s.pow],["PRelu","","7+",s.pRelu],["ReduceLogSum","","1+",_.reduceLogSum,_.parseReduceAttributes],["ReduceMax","","1+",_.reduceMax,_.parseReduceAttributes],["ReduceMean","","1+",_.reduceMean,_.parseReduceAttributes],["ReduceMin","","1+",_.reduceMin,_.parseReduceAttributes],["ReduceProd","","1+",_.reduceProd,_.parseReduceAttributes],["ReduceSum","","1-12",_.reduceSum,_.parseReduceAttributes],["ReduceSumSquare","","1+",_.reduceLogSumSquare,_.parseReduceAttributes],["Relu","","6+",I.relu],["Reshape","","5+",x.reshape],["Resize","","10",k.resize,k.parseResizeAttributesV10],["Resize","","11+",k.resize,k.parseResizeAttributesV11],["Shape","","1+",T.shape],["Sigmoid","","6+",I.sigmoid],["Sin","","7+",I.sin],["Slice","","10+",D.sliceV10],["Slice","","1-9",D.slice,D.parseSliceAttributes],["Softmax","","1-12",A.softmax,A.parseSoftmaxAttributes],["Softmax","","13+",A.softmaxV13,A.parseSoftmaxAttributesV13],["Split","","2-12",C.split,C.parseSplitAttributes],["Sqrt","","6+",I.sqrt],["Squeeze","","1-12",S.squeeze,S.parseSqueezeAttributes],["Squeeze","","13+",S.squeezeV13],["Sub","","7+",s.sub],["Sum","","6+",E.sum],["Tan","","7+",I.tan],["Tanh","","6+",I.tanh],["Tile","","6+",F.tile],["Transpose","","1+",M.transpose,M.parseTransposeAttributes],["Upsample","","7-8",P.upsample,P.parseUpsampleAttributesV7],["Upsample","","9",P.upsample,P.parseUpsampleAttributesV9],["Unsqueeze","","1-12",z.unsqueeze,z.parseUnsqueezeAttributes],["Unsqueeze","","13+",z.unsqueezeV13],["Xor","","7+",s.xor]]},2898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;const a=n(246),r=n(5060),i=n(2039),o={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]};t.batchNormalization=(e,t,n)=>(l(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:()=>s(e,t,n)}),t)]),t.parseBatchNormalizationAttributes=e=>{const t=e.attributes.getFloat("epsilon",1e-5),n=e.attributes.getFloat("momentum",.9),r=e.attributes.getInt("spatial",1);return(0,a.createAttributeWithCacheKey)({epsilon:t,momentum:n,spatial:r})};const s=(e,t,n)=>{const a=(0,r.getGlsl)(e.session.backend.glContext.version),s=t[0].dims.length,[l,c]=e.calculateTextureWidthAndHeight(t[1].dims,i.TextureType.unpacked),u="\n  float process(int[".concat(s,"] indices) {\n    vec2 position = offsetToCoords(indices[1], ").concat(l,", ").concat(c,");\n    float scale = getColorAsFloat(").concat(a.texture2D,"(Scale, position));\n    float mean = getColorAsFloat(").concat(a.texture2D,"(Mean, position));\n    float variance = getColorAsFloat(").concat(a.texture2D,"(Variance, position));\n    float b = getColorAsFloat(").concat(a.texture2D,"(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(").concat(n.epsilon,")) ) + b;\n  }");return Object.assign(Object.assign({},o),{output:{dims:t[0].dims,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:u})},l=e=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");const t=e[0],n=e[1],a=e[2],r=e[3],i=e[4];if(t.dims.length<3||1!==n.dims.length||1!==a.dims.length||1!==r.dims.length||1!==i.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||a.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==a.type&&"float64"!==a.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==i.type&&"float64"!==i.type)throw new Error("invalid input tensor types.")}},7839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;const a=n(2517),r=n(8520),i=n(5060),o=n(2039);function s(){const e="add_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a + b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function l(){const e="div_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a / b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function c(){const e="mul_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a * b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function u(){const e="sub_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a - b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function d(){const e="equal_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function h(){const e="greater_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function p(){const e="less_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function f(){const e="and_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function m(){const e="or_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function g(){const e="xor_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}function y(){return function(e){const t="".concat(e,"_");return{body:"\n  float ".concat(t,"(float a, float b) {\n    return ").concat(e,"(a, b);\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return ").concat(e,"(v1, v2);\n  }\n  "),name:t,type:r.FunctionType.ValueBased}}("pow")}function b(){const e="prelu_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  "),name:e,type:r.FunctionType.ValueBased}}t.glslAdd=s,t.glslDiv=l,t.glslMul=c,t.glslSub=u,t.glslEqual=d,t.glslGreater=h,t.glslLess=p,t.glslAnd=f,t.glslOr=m,t.glslXor=g,t.glslPow=y,t.glslPRelu=b;const v=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t[0].type,r=arguments.length>4?arguments[4]:void 0;const i=e.session.pack?o.TextureType.packed:o.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[i,i],cacheHint:r,get:()=>w(e,t,n,a)}},w=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t[0].type;const s=e.session.pack?o.TextureType.packed:o.TextureType.unpacked,l=!a.ShapeUtil.areEqual(t[0].dims,t[1].dims);let c=t[0].dims;const u=e.session.pack;if(l){const o=a.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!o)throw new Error("Can't perform binary op on the given tensors");c=o;const l=c.length,d=0!==t[0].dims.length?t[0].dims.length:1,h=0!==t[1].dims.length?t[1].dims.length:1,p=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",f=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",m=(0,i.getGlsl)(e.session.backend.glContext.version),g=u?"\n      ".concat(n.body,"\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ").concat(n.name,"(a, b);\n        ").concat(m.output," = result;\n      }"):"\n      ".concat(n.body,"\n      float process(int indices[").concat(l,"]) {\n        int aindices[").concat(d,"];\n        int bindices[").concat(h,"];\n        ").concat(p,"\n        ").concat(f,"\n        return ").concat(n.name,"(_A(aindices), _B(bindices));\n      }");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:c,type:r,textureType:s},shaderSource:g,hasMain:u}}const d=(0,i.getGlsl)(e.session.backend.glContext.version),h="\n    ".concat(n.body,"\n    void main() {\n      vec4 v1 = ").concat(d.texture2D,"(A, TexCoords);\n      vec4 v2 = ").concat(d.texture2D,"(B, TexCoords);\n      vec4 result = ").concat(n.name,"(v1, v2);\n      ").concat(d.output," = result;\n    }\n    ");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:t[0].dims,type:r,textureType:s},shaderSource:h,hasMain:!0}};t.add=(e,t)=>[e.run(v(e,t,s()),t)],t.and=(e,t)=>[e.run(v(e,t,f(),"bool"),t)],t.div=(e,t)=>[e.run(v(e,t,l()),t)],t.equal=(e,t)=>[e.run(v(e,t,d(),"bool"),t)],t.greater=(e,t)=>[e.run(v(e,t,h(),"bool"),t)],t.less=(e,t)=>[e.run(v(e,t,p(),"bool"),t)],t.mul=(e,t)=>[e.run(v(e,t,c()),t)],t.or=(e,t)=>[e.run(v(e,t,m(),"bool"),t)],t.pow=(e,t)=>[e.run(v(e,t,y()),t)],t.pRelu=(e,t)=>[e.run(v(e,t,b()),t)],t.sub=(e,t)=>[e.run(v(e,t,u()),t)],t.xor=(e,t)=>[e.run(v(e,t,g(),"bool"),t)]},4196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;const a=n(2517);t.cast=(e,t,n)=>(r(t),[e.cast(t[0],n)]),t.parseCastAttributes=e=>a.ProtoUtil.tensorDataTypeFromProto(e.attributes.getInt("to"));const r=e=>{if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.")}},1163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;const a=n(5060),r=n(2039),i=n(9390),o=n(2827);t.createPackedConcatProgramInfoLoader=(e,t,n)=>{const l=(c=t.length,u=n.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:c},((e,t)=>"X".concat(t))),inputTypes:Array(c).fill(r.TextureType.packed),cacheHint:u});var c,u;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,l)=>{const c=n[0].dims.slice();if(l>=c.length||l<-1*c.length)throw new Error("axis specified for concat doesn't match input dimensionality");l<0&&(l=c.length+l);const u=c.slice(0);for(let a=1;a<n.length;a++){const e=n[a].dims.slice();for(let t=0;t<c.length;t++)if(t===l)u[l]+=e[t];else if(c[t]!==e[t])throw new Error("non concat dimensions must match")}const d=u.length,h=(0,o.getChannels)("coords",d),p=(0,i.getCoordsDataType)(d),f=(0,o.unpackFromChannel)(),m=n.map((e=>e.dims)),g=(0,i.getGlChannels)(d),y=new Array(m.length-1);y[0]=m[0][l];for(let a=1;a<y.length;a++)y[a]=y[a-1]+m[a][l];const b=g[l],v=g.slice(-2),w=g.join();let _="if (".concat(b," < ").concat(y[0],") {\n        return getChannel(\n            getX0(").concat(w,"), vec2(").concat(v.join(),"));\n        }");for(let a=1;a<y.length;a++){const e=y[a-1];_+="\n            if (".concat(b," < ").concat(y[a],"  && ").concat(b," >= ").concat(y[a-1],") {\n              return getChannel(\n                getX").concat(a,"(").concat(s(g,b,e),"),\n                vec2(").concat(s(v,b,e),"));\n            }")}const x=y.length,k=y[y.length-1];_+="\n            return getChannel(\n              getX".concat(x,"(").concat(s(g,b,k),"),\n              vec2(").concat(s(v,b,k),"));");const T=(0,a.getGlsl)(e.session.backend.glContext.version),D="\n          ".concat(f,"\n          float getValue(").concat(g.map((e=>"int "+e)),") {\n            ").concat(_,"\n          }\n\n          void main() {\n            ").concat(p," coords = getOutputCoords();\n            int lastDim = coords.").concat(g[d-1],";\n            coords.").concat(g[d-1]," = coords.").concat(g[d-2],";\n            coords.").concat(g[d-2]," = lastDim;\n\n            vec4 result = vec4(getValue(").concat(h,"), 0., 0., 0.);\n\n            ").concat(h[d-1]," = ").concat(h[d-1]," + 1;\n            if (").concat(h[d-1]," < ").concat(u[d-1],") {\n              result.g = getValue(").concat(h,");\n            }\n\n            ").concat(h[d-2]," = ").concat(h[d-2]," + 1;\n            if (").concat(h[d-2]," < ").concat(u[d-2],") {\n              result.a = getValue(").concat(h,");\n            }\n\n            ").concat(h[d-1]," = ").concat(h[d-1]," - 1;\n            if (").concat(h[d-2]," < ").concat(u[d-2]," &&\n                ").concat(h[d-1]," < ").concat(u[d-1],") {\n              result.b = getValue(").concat(h,");\n            }\n            ").concat(T.output," = result;\n          }\n        ");return Object.assign(Object.assign({},t),{output:{dims:u,type:n[0].type,textureType:r.TextureType.packed},shaderSource:D,hasMain:!0})})(e,l,t,n.axis)})};const s=(e,t,n)=>{const a=e.indexOf(t);return e.map(((e,t)=>t===a?"".concat(e," - ").concat(n):e)).join()}},2069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;const a=n(246),r=n(2039),i=n(1163);t.concat=(e,t,n)=>(d(t),e.session.pack&&t[0].dims.length>1?[e.run((0,i.createPackedConcatProgramInfoLoader)(e,t,n),t)]:[e.run(o(e,t,n),t)]);const o=(e,t,n)=>{const a=(i=t.length,o=n.cacheKey,{name:"Concat",inputNames:Array.from({length:i},((e,t)=>"X".concat(t))),inputTypes:Array(i).fill(r.TextureType.unpacked),cacheHint:o});var i,o;return Object.assign(Object.assign({},a),{get:()=>((e,t,n,a)=>{const i=n[0].dims.slice();if(a>=i.length||a<-1*i.length)throw new Error("axis specified for concat doesn't match input dimensionality");a<0&&(a=i.length+a);const o=i.slice(0);for(let r=1;r<n.length;r++){const e=n[r].dims.slice();for(let t=0;t<i.length;t++)if(t===a)o[a]+=e[t];else if(i[t]!==e[t])throw new Error("non concat dimensions must match")}const d=o.length,h=new Array(n.length);let p=0;for(let r=0;r<h.length;++r)p+=n[r].dims[a],h[r]=p;let f="";f=n.length<5?s(h):l(h);const m="\n        ".concat(c(n.length,d),"\n        ").concat(u(h),"\n        ").concat(f,"\n        float process(int indices[").concat(d,"]) {\n          int textureIndex = getTextureWhereDataResides (indices[").concat(a,"]);\n\n          if(textureIndex != 0) {\n            indices[").concat(a,"] = indices[").concat(a,"] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }");return Object.assign(Object.assign({},t),{output:{dims:o,type:n[0].type,textureType:r.TextureType.unpacked},shaderSource:m})})(0,a,t,n.axis)})},s=e=>"int getTextureWhereDataResides(int index) {\n      ".concat(e.map(((e,t)=>"if(index<".concat(e,") {return ").concat(t,";}\n"))).join(""),"\n    }"),l=e=>s(e),c=(e,t)=>{const n=["float fetchDataFromCorrectTexture(int textureIndex, int indices[".concat(t,"]) {")];for(let a=0;a<e;++a)0===a?n.push("\tif (textureIndex == ".concat(a,") { return _X").concat(a,"(indices); }")):a===e-1?n.push("\telse { return _X".concat(a,"(indices); }")):n.push("\telse if (textureIndex == ".concat(a,") { return _X").concat(a,"(indices); }"));return n.push("\t}"),n.join("\n")},u=e=>{const t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let n=0;n<e.length;++n)0===n?t.push("\tif (index == ".concat(n,") { return ").concat(e[n],"; }")):n===e.length-1?t.push("\telse { return ".concat(e[n],"; }")):t.push("\telse if (index == ".concat(n,") { return ").concat(e[n],"; }"));return t.push("\t}"),t.join("\n")};t.parseConcatAttributes=e=>(0,a.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")});const d=e=>{if(!e||e.length<1)throw new Error("too few inputs");const t=e[0].type,n=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");for(const a of e){if(a.type!==t)throw new Error("input tensors should be one type");if(a.dims.length!==n)throw new Error("input tensors should have the same shape")}}},4770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;const a=n(6231),r=n(5060),i=n(2039),o=n(8138),s=n(2823);t.createUnpackedGroupedConvProgramInfoLoader=(e,t,n)=>{const l=(c=t.length>2,u=n.cacheKey,{name:"GroupedConv",inputNames:c?["X","W","Bias"]:["X","W"],inputTypes:c?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:u});var c,u;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,l)=>{const c=t.length>2?"value += getBias(output_channel);":"",u=t[0].dims.slice(),d=t[1].dims.slice(),h=d[0]/l.group;a.Logger.verbose("GroupedConv","autpPad:".concat(l.autoPad,", dilations:").concat(l.dilations,", group:").concat(l.group,", kernelShape:").concat(l.kernelShape,", pads:").concat(l.pads,", strides:").concat(l.strides));const p=(0,o.calculateOutputShape)(u,d,l.dilations,l.pads,l.strides),f=(0,r.getGlsl)(e.session.backend.glContext.version),{activationFunction:m,applyActivation:g}=(0,s.getActivationSnippet)(l),y="\n  const ivec2 strides = ivec2(".concat(l.strides[0],", ").concat(l.strides[1],");\n  const ivec2 pads = ivec2(").concat(l.pads[0],", ").concat(l.pads[1],");\n  ").concat(m,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ").concat(h,";\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ").concat(d[1],"; wInChannel++) {\n      int input_channel = group_id * ").concat(d[1]," + wInChannel;\n      for (int wHeight = 0; wHeight < ").concat(d[2],"; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ").concat(l.dilations[0],";\n\n        if (xHeight < 0 || xHeight >= ").concat(u[2],") {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ").concat(d[3],"; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ").concat(l.dilations[1],";\n          if (xWidth < 0 || xWidth >= ").concat(u[3],") {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ").concat(c,"\n    ").concat(g,"\n    ").concat(f.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:p,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:y,hasMain:!0})})(e,t,l,n)})}},1386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;const a=n(8138),r=n(8555),i=n(708);t.conv2DPackedPointwise=(e,t,n)=>{const r=t[0].dims,o=t[1].dims,s=(0,a.calculateOutputShape)(r,o,n.dilations,n.pads,n.strides),l=e.reshapePacked(t[0],[r[1],r[2]*r[3]]),c=e.reshapePacked(t[1],[o[0],o[1]]),u=t.length>2?[c,l,t[2]]:[c,l],d=e.run((0,i.createPackedMatmulProgramInfoLoader)(e,u,n),u);return e.reshapePacked(d,s)},t.conv2DPacked=(e,t,n)=>{const o=t[0].dims,s=t[1].dims,l=(0,a.calculateOutputShape)(o,s,n.dilations,n.pads,n.strides),c=e.run((0,r.createPackedIm2ColProgramInfoLoader)(e,t[0],t[1],l,n),[t[0]]),u=e.reshapePacked(t[1],[s[0],s[1]*s[2]*s[3]]),d=3===t.length?[u,c,t[2]]:[u,c],h=e.run((0,i.createPackedMatmulProgramInfoLoader)(e,d,n),d);return e.reshapePacked(h,l)}},9663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvTransposeAttributes=t.convTranspose=void 0;const a=n(246),r=n(5060),i=n(2039),o=n(2823),s=(e,t,n,a,r,i)=>(e-1)*t+n+(a-1)*r+1-i,l=(e,t,n,a,r)=>{const i=Math.floor(e/2);"SAME_UPPER"===t?(n[a]=i,n[r]=e-i):"SAME_LOWER"===t&&(n[a]=e-i,n[r]=i)};t.convTranspose=(e,t,n)=>(h(t,n),c(e,t,n));const c=(e,t,n)=>{const a=d(n,t);return[u(e,t,a)]},u=(e,t,n)=>e.run(((e,t,n)=>{const a=(s=t.length>2,l=n.cacheKey,{name:"ConvTranspose",inputNames:s?["X","W","B"]:["X","W"],inputTypes:s?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:l});var s,l;return Object.assign(Object.assign({},a),{get:()=>((e,t,n,a)=>{const s=t.length>2?"getB(output_channel)":"0.0",l=t[0].dims,c=t[1].dims,u=c[1],d=c[0]/a.group,h=[t[0].dims[0],t[1].dims[1]*a.group,...a.outputShape],p=(0,r.getGlsl)(e.session.backend.glContext.version),{activationFunction:f,applyActivation:m}=(0,o.getActivationSnippet)(a),g="\n  const ivec2 strides = ivec2(".concat(a.strides[0],", ").concat(a.strides[1],");\n  const ivec2 pads = ivec2(").concat(a.pads[0],", ").concat(a.pads[1],");\n  ").concat(f,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ").concat(u,";\n    int wOutChannel = output_channel - group_id * ").concat(u,";\n\n    float value = ").concat(s,";\n    for (int inChannelOffset = 0; inChannelOffset < ").concat(d,"; inChannelOffset++) {\n      int input_channel = group_id * ").concat(d," + inChannelOffset;\n      for (int wWOff = 0; wWOff < ").concat(c[2],"; wWOff++) {\n        for (int wHOff = 0; wHOff < ").concat(c[3],"; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ").concat(a.dilations[0],", wHOff * ").concat(a.dilations[1],");\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ").concat(l[2]," &&\n            wLocIn.y >= 0 && wLocIn.y < ").concat(l[3],"\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ").concat(m,"\n    ").concat(p.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:h,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:g,hasMain:!0})})(e,t,a,n)})})(e,t,n),t),d=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let o=2;o<t[1].dims.length;++o)n.push(t[1].dims[o]);const a=e.pads.slice(),r=e.outputShape.slice();((e,t,n,a,r,i,o,c)=>{const u=e.length-2,d=0===c.length;for(let h=0;h<u;++h){const p=d?e[h+2]*i[h]:c[h],f=s(e[h+2],i[h],r[h],t[h],n[h],p);l(f,a,r,h,h+u),d&&c.push(i[h]*(e[h+2]-1)+o[h]+(t[h]-1)*n[h]+1-r[h]-r[h+u])}})(t[0].dims,n,e.dilations,e.autoPad,a,e.strides,e.outputPadding,r);const i=Object.assign({},e);return Object.assign(i,{kernelShape:n,pads:a,outputShape:r,cacheKey:e.cacheKey}),i};t.parseConvTransposeAttributes=e=>{const t=e.attributes,n=(0,o.parseInternalActivationAttributes)(t),r=t.getString("auto_pad","NOTSET"),i=t.getInts("dilations",[1,1]),s=t.getInt("group",1),l=t.getInts("kernel_shape",[]),c=t.getInts("output_padding",[0,0]),u=t.getInts("output_shape",[]),d=t.getInts("pads",[0,0,0,0]),h=t.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:r,dilations:i,group:s,kernelShape:l,outputPadding:c,outputShape:u,pads:d,strides:h},n))};const h=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");const a=e[0].dims.length-2;if(t.dilations.length!==a)throw new Error("dilations should be ".concat(a,"D"));if(t.strides.length!==a)throw new Error("strides should be ".concat(a,"D"));if(t.pads.length!==2*a)throw new Error("pads should be ".concat(2*a,"D"));if(t.outputPadding.length!==a)throw new Error("output_padding should be ".concat(a,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvAttributes=t.conv=t.calculateOutputShape=void 0;const a=n(246),r=n(2517),i=n(4770),o=n(1386),s=n(9828),l=n(2823),c=n(3248),u=n(5623);t.calculateOutputShape=(e,t,n,a,r)=>{const i=e[0],o=e.slice(2),s=o.length,l=t[0],c=t.slice(2).map(((e,t)=>e+(e-1)*(n[t]-1))),u=o.map(((e,t)=>e+a[t]+a[t+s])).map(((e,t)=>Math.floor((e-c[t]+r[t])/r[t])));return[i,l].concat(...u)},t.conv=(e,t,n)=>(m(t,n),d(e,t,n));const d=(e,t,n)=>{const a=f(n,t),r=e.session.pack,s=1===a.kernelShape[0]&&1===a.kernelShape[1];return a.group>1?[e.run((0,i.createUnpackedGroupedConvProgramInfoLoader)(e,t,a),t)]:s&&r?[h(e,t,a)]:r&&4===t[0].dims.length&&1===t[0].dims[0]&&!s?[(0,o.conv2DPacked)(e,t,a)]:[p(e,t,a)]},h=(e,n,a)=>{const r=n[0].dims,i=n[1].dims,o=(0,t.calculateOutputShape)(r,i,a.dilations,a.pads,a.strides),s=e.reshapeUnpacked(n[0],[r[1],r[2]*r[3]]),l=e.reshapeUnpacked(n[1],[i[0],i[1]]),c=n.length>2?[l,s,n[2]]:[l,s],d=e.run((0,u.createMatmulProgramInfoLoader)(c,a),c);return e.reshapeUnpacked(d,o)},p=(e,n,a)=>{const r=n[0].dims,i=n[1].dims,o=(0,t.calculateOutputShape)(r,i,a.dilations,a.pads,a.strides),l=e.run((0,c.createIm2ColProgramInfoLoader)(e,n[0],n[1],o,a),[n[0]]),u=3===n.length?[l,n[1],n[2]]:[l,n[1]];return e.run((0,s.createDotProductProgramInfoLoader)(e,n,o,a),u)},f=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let r=2;r<t[1].dims.length;++r)n.push(t[1].dims[r]);const a=e.pads.slice();r.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,a,e.autoPad);const i=Object.assign({},e);return Object.assign(i,{kernelShape:n,pads:a,cacheKey:e.cacheKey}),i};t.parseConvAttributes=e=>{const t=e.attributes,n=(0,l.parseInternalActivationAttributes)(t),r=t.getString("auto_pad","NOTSET"),i=t.getInts("dilations",[1,1]),o=t.getInt("group",1),s=t.getInts("kernel_shape",[]),c=t.getInts("pads",[0,0,0,0]),u=t.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:r,dilations:i,group:o,kernelShape:s,pads:c,strides:u},n))};const m=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error("dilations should be ".concat(n,"D"));if(t.strides.length!==n)throw new Error("strides should be ".concat(n,"D"));if(t.pads.length!==2*n)throw new Error("pads should be ".concat(2*n,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;const a=n(3738);t.depthToSpace=(e,t,n)=>{r(t);const i=n.blocksize,o=i*i,s="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],l="DCR"===n.mode?[t[0].dims[0],i,i,t[0].dims[1]/o,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/o,i,i,t[0].dims[2],t[0].dims[3]],c=e.reshapeUnpacked(t[0],l),u={perm:s,cacheKey:"".concat(s)},[d]=(0,a.transpose)(e,[c],u),h=[t[0].dims[0],t[0].dims[1]/o,t[0].dims[2]*i,t[0].dims[3]*i];return[e.reshapeUnpacked(d,h)]},t.parseDepthToSpaceAttributes=e=>{const t=e.attributes.getInt("blocksize");if(t<1)throw new Error("blocksize must be >= 1, but got : ".concat(t," for DepthToSpace"));const n=e.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error("unrecognized mode: ".concat(n," for DepthToSpace"));return{mode:n,blocksize:t}};const r=e=>{if(1!==e.length)throw new Error("DepthToSpace expect 1 inputs, but got ".concat(e.length));if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;const a=n(2517),r=n(5060),i=n(2039),o=n(2823),s=n(3248);t.createDotProductProgramInfoLoader=(e,t,n,l)=>{const c=((e,t)=>({name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[i.TextureType.unpacked,i.TextureType.packedLastDimension,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.packedLastDimension],cacheKey:t.activationCacheKey}))(t.length>2,l);return Object.assign(Object.assign({},c),{get:()=>((e,t,n,l,c)=>{const u=n[0].dims,d=n[1].dims,h=[d[0],Math.ceil(u[1]*d[2]*d[3]/4)],p=(0,s.calculateIm2ColDims)(u,d,l),[f,m]=e.calculateTextureWidthAndHeight(h,i.TextureType.packedLastDimension),g=a.ShapeUtil.computeStrides(p),[y,b]=e.calculateTextureWidthAndHeight(p,i.TextureType.packedLastDimension),v=l.length,w=n.length<3?"0.0":"_B(b)",_=Math.ceil(u[1]*d[2]*d[3]/4),{activationFunction:x,applyActivation:k}=(0,o.getActivationSnippet)(c),T=(0,r.getGlsl)(e.session.backend.glContext.version),D="\n".concat(x,"\nfloat process(int indices[").concat(v,"]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ").concat(g[0]," + im2col[1] * ").concat(g[1]," + im2col[2] * ").concat(g[2],";\n  int kernelOffset = indices[1] * ").concat(h[1],";\n  float value = ").concat(w,";\n  for (int i = 0; i < ").concat(_,"; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ").concat(y,", ").concat(b,");\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ").concat(f,", ").concat(m,");\n    value += dot(").concat(T.texture2D,"(Im2Col, im2colCoords), ").concat(T.texture2D,"(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ").concat(k,"\n  return value;\n}");return Object.assign(Object.assign({},t),{output:{dims:l,type:n[0].type,textureType:i.TextureType.unpacked},shaderSource:D})})(e,c,t,n,l)})}},7992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;const a=n(2517);t.flatten=(e,t,n)=>{r(t,n);const i=a.ShapeUtil.flattenShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.parseFlattenAttributes=e=>e.attributes.getInt("axis",1);const r=(e,t)=>{if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");const n=e[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(t<-n||t>n)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.")}},2823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActivationSnippet=void 0;const a=n(2517),r=n(4909);t.getActivationSnippet=function(e){let t;switch(e.activation){case"Relu":t=(0,r.glslRelu)();break;case"Sigmoid":t=(0,r.glslSigmoid)();break;case"Clip":t=(0,r.glslClip)(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const n=t.name;return{activationFunction:t.body,applyActivation:"value = ".concat(n,"_(value);")}},t.parseInternalActivationAttributes=e=>{const t=e.getString("activation","");if("Clip"===t){const[n,r]=e.getFloats("activation_params",[a.MIN_CLIP,a.MAX_CLIP]);return{activation:t,clipMax:r,clipMin:n,activationCacheKey:"".concat(t,":").concat(n,",").concat(r)}}return{activation:t,activationCacheKey:t}}},1253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;const a=n(246),r=n(782),i=n(2517),o=n(2039);t.gather=(e,t,n)=>(c(t,n.axis),[e.run(l(e,t,n),t)]),t.parseGatherAttributes=e=>(0,a.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",0)});const s={name:"Gather",inputNames:["A","B"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked]},l=(e,t,n)=>{const a=Object.assign(Object.assign({},s),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},a),{get:()=>((e,t,n,a)=>{const r=n[0].dims.slice(),s=n[1].dims.slice(),l=new Array(r.length+s.length-1);a=i.ShapeUtil.normalizeAxis(a,r.length);const c=[];for(let i=0;i<l.length;i++)i<a?(l[i]=r[i],c.push("inputIdx[".concat(i,"] = outputIdx[").concat(i,"];"))):i<a+s.length?(l[i]=s[i-a],c.push("indexDataIdx[".concat(i-a,"] = outputIdx[").concat(i,"];"))):(l[i]=r[i-s.length+1],c.push("inputIdx[".concat(i-s.length+1,"] = outputIdx[").concat(i,"];")));const u="\n      float process(int outputIdx[".concat(l.length||1,"]) {\n        int inputIdx[").concat(r.length,"];\n        int indexDataIdx[").concat(s.length||1,"];\n        indexDataIdx[0] = 0;\n        ").concat(c.join("\n        "),"\n        int idx = int(_B(indexDataIdx));\n        inputIdx[").concat(a,"] = idx < 0 ? idx + ").concat(r[a]," : idx;\n        return _A(inputIdx);\n      }");return Object.assign(Object.assign({},t),{output:{dims:l,type:n[0].type,textureType:o.TextureType.unpacked},shaderSource:u})})(0,a,t,n.axis)})},c=(e,t)=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");const n=e[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||t>n-1)throw new Error("Invalid axis.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.")}},4776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;const a=n(246),r=n(2517),i=n(2039);t.gemm=(e,t,n)=>(c(t,n),[e.run(s(t,n),t)]);const o=(e,t)=>{const n=0!==e.attributes.getInt("transA",0),r=0!==e.attributes.getInt("transB",0),i=e.attributes.getFloat("alpha",1),o=e.attributes.getFloat("beta",1);return(0,a.createAttributeWithCacheKey)({transA:n,transB:r,alpha:i,beta:o,isOptionalC:t})};t.parseGemmAttributesV7=e=>o(e,!1),t.parseGemmAttributesV11=e=>o(e,!0);const s=(e,t)=>{const n={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>l(n,e,t)})},l=(e,t,n)=>{const a=t[0].dims.slice(),o=t[1].dims.slice(),[s,l]=r.GemmUtil.getShapeOfGemmResult(a,n.transA,o,n.transB,3===t.length?t[2].dims:void 0),c=[s,l];if(!c)throw new Error("Can't use gemm on the given tensors");let u=a[a.length-1],d="";n.transA&&(u=a[0]),n.transA&&n.transB?d="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?d="value += _A_T(a) * _B(b);":!n.transA&&n.transB?d="value += _A(a) * _B_T(b);":n.transA||n.transB||(d="value += _A(a) * _B(b);");const h=c.length,p="\n      float process(int indices[".concat(h,"]) {\n          int a[").concat(h,"];\n          int b[").concat(h,"];\n          ").concat(3===t.length?"int c[".concat(t[2].dims.length,"];"):"","\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ").concat(3===t.length?"bcastIndices_C(indices, c);":"","\n\n          float value = 0.0;\n          for (int k=0; k<").concat(u,"; ++k) {\n              a[").concat(h-1,"] = k;\n              b[").concat(h-2,"] = k;\n              ").concat(d,"\n          }\n\n          value = value * alpha;\n          ").concat(3===t.length?"value += beta * _C(c);":"","\n          return value;\n      }");return Object.assign(Object.assign({},e),{output:{dims:c,type:t[0].type,textureType:i.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:p})},c=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}},8555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;const a=n(5060),r=n(2039),i=n(2827);t.createPackedIm2ColProgramInfoLoader=(e,t,n,o,s)=>{const l=(c=s.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[r.TextureType.packed],cacheHint:c});var c;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,o,s,l)=>{const c=n.dims,u=o.dims,d=s.length,h=[u[1]*u[2]*u[3],s[2]*s[3]],p=u[2]*u[3],f=(0,i.unpackFromChannel)(),m=(0,a.getGlsl)(e.session.backend.glContext.version);let g="";for(let a=0;a<=1;a++)for(let e=0;e<=1;e++)g+="\n            blockIndex = rc.x + ".concat(e,";\n            pos = rc.y + ").concat(a,";\n\n            if(blockIndex < ").concat(h[1]," && pos < ").concat(h[0],") {\n              offsetY = int(blockIndex / (").concat(s[d-1],")) * ").concat(l.strides[0]," -\n                ").concat(l.pads[0],";\n              d0 = offsetY + ").concat(l.dilations[0]," * (imod(pos, ").concat(p,") / ").concat(u[2],");\n\n              if(d0 < ").concat(c[2]," && d0 >= 0) {\n                offsetX = imod(blockIndex, ").concat(s[d-1],") * ").concat(l.strides[1]," -\n                  ").concat(l.pads[1],";\n                d1 = offsetX + ").concat(l.dilations[1]," * imod(imod(pos, ").concat(p,"), ").concat(u[2],");\n\n                if(d1 < ").concat(c[3]," && d1 >= 0) {\n\n                  ch = int(float(pos)/ ").concat(p,".);\n                    innerDims = vec2(d0, d1);\n                    result[").concat(2*a+e,"] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          ");const y="\n      ".concat(f,"\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ").concat(g,"\n          ").concat(m.output," = result;\n      }\n            ");return Object.assign(Object.assign({},t),{output:{dims:h,type:n.type,textureType:r.TextureType.packed},shaderSource:y,hasMain:!0})})(e,l,t,n,o,s)})}},3248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIm2ColDims=t.createIm2ColProgramInfoLoader=void 0;const a=n(2039);t.createIm2ColProgramInfoLoader=(e,n,r,i,o)=>{const s=(l=o.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:l});var l;return Object.assign(Object.assign({},s),{get:()=>((e,n,r,i,o,s)=>{const l=r.dims,c=i.dims,u=o.length,d=(0,t.calculateIm2ColDims)(l,c,o,4),h="\n        const int XC = ".concat(l[1],";\n        const int XH = ").concat(l[2],";\n        const int XW = ").concat(l[3],";\n        const int KH = ").concat(s.kernelShape[0],";\n        const int KW = ").concat(s.kernelShape[1],";\n        const int dilationH = ").concat(s.dilations[0],";\n        const int dilationW = ").concat(s.dilations[1],";\n        const int strideH = ").concat(s.strides[0],";\n        const int strideW = ").concat(s.strides[1],";\n        const int padH = ").concat(s.pads[0],";\n        const int padW = ").concat(s.pads[1],";\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[").concat(u,"]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[").concat(l.length,"];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        ");return Object.assign(Object.assign({},n),{output:{dims:d,type:r.type,textureType:a.TextureType.packedLastDimension},shaderSource:h})})(0,s,n,r,i,o)})},t.calculateIm2ColDims=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;return[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/a)]}},6572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;const a=n(246),r=n(2039);t.imageScaler=(e,t,n)=>(l(t),[e.run(o(e,t,n),t)]),t.parseImageScalerAttributes=e=>{const t=e.attributes.getFloat("scale"),n=e.attributes.getFloats("bias");return(0,a.createAttributeWithCacheKey)({scale:t,bias:n})};const i={name:"ImageScaler",inputNames:["X"],inputTypes:[r.TextureType.unpacked]},o=(e,t,n)=>{const a=Object.assign(Object.assign({},i),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},a),{get:()=>((e,t,n,a)=>{const i=n[0].dims.slice(),o=i.length,l="\n      ".concat(s(a.bias.length),"\n      float process(int indices[").concat(o,"]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }");return Object.assign(Object.assign({},t),{output:{dims:i,type:n[0].type,textureType:r.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:a.bias.length,data:a.bias},{name:"scale",type:"float",data:a.scale}],shaderSource:l})})(0,a,t,n)})},s=e=>{const t=["float getBias(float bias[".concat(e,"], int channel) {")];for(let n=0;n<e;++n)0===n?t.push("\tif (channel == ".concat(n,") { return bias[").concat(n,"]; }")):n===e-1?t.push("\telse { return bias[".concat(n,"]; }")):t.push("\telse if (channel == ".concat(n,") { return bias[").concat(n,"]; }"));return t.push("\t}"),t.join("\n")},l=e=>{if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}},3346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;const a=n(5060),r=n(2039);t.instanceNormalization=(e,t,n)=>{c(t);const a=e.run(o(t[0]),t);return[e.run(l(e,t[0],n,a.dims),[t[0],a,t[1],t[2]])]},t.parseInstanceNormalizationAttributes=e=>e.attributes.getFloat("epsilon",1e-5);const i={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[r.TextureType.unpacked]},o=e=>Object.assign(Object.assign({},i),{get:()=>((e,t)=>{const n=t.dims.slice(),a=n[1],i=n[2]*n[3],o=[n[0],a],s="\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<".concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(").concat(i,");\n        temp = 0.0;\n        for(int a2=0; a2<").concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(").concat(i,");\n\n        return v;\n      }");return Object.assign(Object.assign({},e),{output:{dims:o,type:t.type,textureType:r.TextureType.packedLastDimension},shaderSource:s})})(i,e)}),s={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[r.TextureType.unpacked,r.TextureType.packedLastDimension,r.TextureType.unpacked,r.TextureType.unpacked]},l=(e,t,n,i)=>{const o=Object.assign(Object.assign({},s),{cacheHint:"".concat(n)});return Object.assign(Object.assign({},o),{get:()=>((e,t,n,i,o)=>{const s=(0,a.getGlsl)(e.session.backend.glContext.version),[l,c]=e.calculateTextureWidthAndHeight(o,r.TextureType.packedLastDimension),[u,d]=[l/4,c],h="\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ".concat(u,", ").concat(d,");\n        return ").concat(s.texture2D,"(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }");return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:r.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:i}],shaderSource:h})})(e,o,t,n,i)})},c=e=>{if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");const t=e[0],n=e[1],a=e[2];if(t.dims.length<3||1!==n.dims.length||1!==a.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||a.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==a.type&&"float64"!==a.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;const a=n(2517),r=n(5060),i=n(2039),o=n(9390),s=n(2823),l=n(5623);t.createPackedMatmulProgramInfoLoader=(e,t,n)=>{const c=(u=t.length>2,d=n.activationCacheKey,{name:"MatMul (packed)",inputNames:u?["A","B","Bias"]:["A","B"],inputTypes:u?[i.TextureType.packed,i.TextureType.packed,i.TextureType.packed]:[i.TextureType.packed,i.TextureType.packed],cacheHint:d});var u,d;return Object.assign(Object.assign({},c),{get:()=>((e,t,n,c)=>{const u=n.length>2,d=u?"value += getBiasForMatmul();":"",h=n[0].dims,p=n[1].dims,f=a.BroadcastUtil.calcShape(h,p,!0),m=!a.ShapeUtil.areEqual(n[0].dims,n[1].dims);if(!f)throw new Error("Can't use matmul on the given tensors");const g=h[h.length-1],y=Math.ceil(g/2),b=h.length,v=p.length,w=(0,r.getGlsl)(e.session.backend.glContext.version),_=(0,o.getCoordsDataType)(f.length),x=f.length,k=(0,o.getGlChannels)(),{activationFunction:T,applyActivation:D}=(0,s.getActivationSnippet)(c),A=u?"".concat((0,l.getBiasForMatmul)(_,k,n[2].dims,f,!0)):"",C=m?"".concat(function(e,t,n,r){let i=[],o=[];const s=n[0].dims,l=n[1].dims,c=s.length,u=l.length,d=r.length,h=d-c,p=d-u;i=s.map(((e,n)=>"coords.".concat(t[n+h]))),i[c-1]="i*2",i.join(", "),o=l.map(((e,n)=>"coords.".concat(t[n+p]))),o[u-2]="i*2",o.join(", ");const f=a.BroadcastUtil.getBroadcastDims(s,r),m=a.BroadcastUtil.getBroadcastDims(l,r),g=f.map((e=>"coords.".concat(t[e+h]," = 0;"))).join("\n"),y=m.map((e=>"coords.".concat(t[e+p]," = 0;"))).join("\n"),b="int lastDim = coords.".concat(t[d-1],";\n  coords.").concat(t[d-1]," = coords.").concat(t[d-2],";\n  coords.").concat(t[d-2]," = lastDim;");return"\nvec4 getAAtOutCoordsMatmul(int i) {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(b,"\n  ").concat(g,"\n  vec4 outputValue = getA(").concat(i,");\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ").concat(e," coords = getOutputCoords();\n  ").concat(b,"\n  ").concat(y,"\n  vec4 outputValue = getB(").concat(o,");\n  return outputValue;\n}")}(_,k,n,f)):"",S=m?"getAAtOutCoordsMatmul(i)":"getA(".concat(function(e,t){let n="";for(let a=0;a<t-2;a++)n+="rc.".concat(e[a],", ");return n+="rc.".concat(e[t-2],", i*2"),n}(k,b),")"),E=m?"getBAtOutCoordsMatmul(i)":"getB(".concat(function(e,t){let n="";for(let a=0;a<t-2;a++)n+="rc.".concat(e[a],", ");return n+="i*2, rc.".concat(e[t-1]),n}(k,v),")"),F="\n            ".concat(C,"\n            ").concat(A,"\n            ").concat(T,"\n            void main() {\n              ").concat(m?"":"".concat(_," rc =\n          getOutputCoords(); int lastDim = rc.").concat(k[x-1],"; rc.").concat(k[x-1]," =\n          rc.").concat(k[x-2],"; rc.").concat(k[x-2]," = lastDim;\n      "),"\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ").concat(y,"; i++) {\n                vec4 a = ").concat(S,";\n                vec4 b = ").concat(E,";\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ").concat(d,"\n              ").concat(D,"\n              ").concat(w.output," = value;\n            }");return Object.assign(Object.assign({},t),{output:{dims:f,type:n[0].type,textureType:i.TextureType.packed},shaderSource:F,hasMain:!0})})(e,c,t,n)})}},5623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;const a=n(2517),r=n(2039),i=n(9390),o=n(2823),s=n(708);function l(e,t){const n=(s=e.length>2,l=t.activationCacheKey,{name:"MatMul",inputNames:s?["A","B","Bias"]:["A","B"],inputTypes:s?[r.TextureType.unpacked,r.TextureType.unpacked,r.TextureType.unpacked]:[r.TextureType.unpacked,r.TextureType.unpacked],cacheHint:l});var s,l;return Object.assign(Object.assign({},n),{get:()=>function(e,t,n){const s=t[0].dims,l=t[1].dims,c=a.BroadcastUtil.calcShape(s,l,!0);if(!c)throw new Error("Can't use matmul on the given tensors");const d=(0,i.getCoordsDataType)(c.length),h=(0,i.getGlChannels)(),{activationFunction:p,applyActivation:f}=(0,o.getActivationSnippet)(n),m=t.length>2,g=m?"value += getBiasForMatmul();":"",y=m?"".concat(u(d,h,t[2].dims,c,!1)):"",b=c.length,v=s.length,w=l.length,_="\n    ".concat(p,"\n    ").concat(y,"\n    float process(int indices[").concat(b,"]) {\n        int a[").concat(v,"];\n        int b[").concat(w,"];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<").concat(s[s.length-1],"; ++k) {\n            a[").concat(v-1,"] = k;\n            b[").concat(w-2,"] = k;\n            value += _A(a) * _B(b);\n        }\n        ").concat(g,"\n        ").concat(f,"\n        return value;\n    }");return Object.assign(Object.assign({},e),{output:{dims:c,type:t[0].type,textureType:r.TextureType.unpacked},shaderSource:_})}(n,e,t)})}t.matMul=(e,t,n)=>(c(t),e.session.pack?[e.run((0,s.createPackedMatmulProgramInfoLoader)(e,t,n),t)]:[e.run(l(t,n),t)]),t.parseMatMulAttributes=e=>(0,o.parseInternalActivationAttributes)(e.attributes),t.createMatmulProgramInfoLoader=l;const c=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function u(e,t,n,r,i){let o="";const s=n.length,l=r.length,c=l-s;o=l<2&&s>0?"coords":n.map(((e,n)=>"coords.".concat(t[n+c]))).join(", ");const u=a.BroadcastUtil.getBroadcastDims(n,r).map((e=>"coords.".concat(t[e+c]," = 0;"))).join("\n");let d="vec4(outputValue.xx, outputValue.yy)";return 1===a.ShapeUtil.size(n)&&(d="vec4(outputValue.x)"),i?"\nvec4 getBiasForMatmul() {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(u,"\n  vec4 outputValue = getBias(").concat(o,");\n  return ").concat(d,";\n}"):"\nfloat getBiasForMatmul() {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(u,"\n  return getBias(coords.x);\n}")}t.getBiasForMatmul=u},2403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;const a=n(5060),r=n(2039),i=n(9390),o=n(2827),s={name:"pack",inputNames:["A"],inputTypes:[r.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=(e,t)=>Object.assign(Object.assign({},s),{get:()=>((e,t)=>{const n=(0,a.getGlsl)(e.session.backend.glContext.version),l=t.dims,c=l.length,u=t.dims.length,d=(0,i.getCoordsDataType)(u),h=(0,o.getChannels)("rc",u),p=(f=u,m=h,g=l[l.length-2],y=l[l.length-1],0===f||1===f?"":"\n    int r = ".concat(m[f-2],";\n    int c = ").concat(m[f-1],";\n    int rp1 = ").concat(m[f-2]," + 1;\n    int cp1 = ").concat(m[f-1]," + 1;\n    bool rEdge = rp1 >= ").concat(y,";\n    bool cEdge = cp1 >= ").concat(g,";\n    "));var f,m,g,y;let b;b=0===c?[1,1]:1===c?[l[0],1]:[l[u-1],l[u-2]];const v=function(e,t,n){if(0===e)return"false";if(1===e)return"rc > ".concat(t[0]);let a="";for(let r=e-2;r<e;r++)a+="".concat(n[r]," >= ").concat(t[r-e+2]),r<e-1&&(a+="||");return a}(u,b,h),w=function(e,t){const n=e.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return"getA(rc),\n            rc + 1 >= ".concat(e[0]," ? 0. : getA(rc + 1),\n            0, 0");let a="";if(n>2)for(let r=0;r<n-2;++r)a+="".concat(t[r],",");return"getA(".concat(a,"r, c),\n          rEdge ? 0. : getA(").concat(a,"rp1, c),\n          cEdge ? 0. : getA(").concat(a,"r, cp1),\n          rEdge || cEdge ? 0. : getA(").concat(a,"rp1, cp1)")}(l,h),_="\n        void main() {\n          ".concat(d," rc = getOutputCoords();\n\n          if(").concat(v,") {\n            ").concat(n.output," = vec4(0);\n          } else {\n            ").concat(p,"\n\n            ").concat(n.output," = vec4(").concat(w,");\n          }\n        }\n      ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:r.TextureType.packed},shaderSource:_})})(e,t)})},2827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;const a=n(9390);function r(e,t){return(0,a.getGlChannels)(t).map((t=>"".concat(e,".").concat(t)))}t.getVecChannels=r,t.getChannels=function(e,t){return 1===t?[e]:r(e,t)},t.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadAttributesV11=t.padV11=t.parsePadAttributesV2=t.padV2=void 0;const a=n(246),r=n(2517),i=n(5060),o=n(2039),s={name:"Pad",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.padV2=(e,t,n)=>(u(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>c(e,t[0],n)}),t)]),t.parsePadAttributesV2=e=>{const t=e.attributes.getString("mode","constant"),n=e.attributes.getFloat("value",0),r=e.attributes.getInts("pads");return(0,a.createAttributeWithCacheKey)({mode:t,value:n,pads:r})},t.padV11=(e,n,a)=>{d(n);const r=l(e,n,a);return(0,t.padV2)(e,[n[0]],r)},t.parsePadAttributesV11=e=>e.attributes.getString("mode","constant");const l=(e,t,n)=>{if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");const r=Array.from(t[1].integerData),i=t.length>=3?t[2].floatData[0]:0;return(0,a.createAttributeWithCacheKey)({mode:n,pads:r,value:i})},c=(e,t,n)=>{const a=r.ShapeUtil.padShape(t.dims.slice(),n.pads),i=a.length,s="\n      ".concat(h(e,t,n),"\n      float process(int[").concat(i,"] indices) {\n          return padA(indices);\n      }");return{name:"Pad",inputNames:["A"],inputTypes:[o.TextureType.unpacked],output:{dims:a,type:t.type,textureType:o.TextureType.unpacked},shaderSource:s}},u=e=>{if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},d=e=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(e.length>=3&&"string"===e[2].type)throw new Error("Invalid input type.")},h=(e,t,n)=>{const a=(0,i.getGlsl)(e.session.backend.glContext.version),[s,l]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),c=r.ShapeUtil.computeStrides(t.dims);switch(n.mode){case"constant":return p(a,t.dims,c,s,l,n.pads,n.value);case"reflect":return f(a,t.dims,c,s,l,n.pads);case"edge":return m(a,t.dims,c,s,l,n.pads);default:throw new Error("Invalid mode")}},p=(e,t,n,a,r,i,o)=>{const s=t.length;let l="";for(let c=s-1;c>=0;--c)l+="\n        k = m[".concat(c,"] - ").concat(i[c],";\n        if (k < 0)  return constant;\n        if (k >= ").concat(t[c],") return constant;\n        offset += k * ").concat(n[c],";\n        ");return"\n      float padA(int m[".concat(s,"]) {\n        const float constant = float(").concat(o,");\n        int offset = 0;\n        int k = 0;\n        ").concat(l,"\n        vec2 coords = offsetToCoords(offset, ").concat(a,", ").concat(r,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")},f=(e,t,n,a,r,i)=>{const o=t.length;let s="";for(let l=o-1;l>=0;--l)s+="\n        k = m[".concat(l,"] - ").concat(i[l],";\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ").concat(2*(t[l]-1),";\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ").concat(t[l],") { k = _2n_1 - k; }\n        }\n        offset += k * ").concat(n[l],";\n        ");return"\n      float padA(int m[".concat(o,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(a,", ").concat(r,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")},m=(e,t,n,a,r,i)=>{const o=t.length;let s="";for(let l=o-1;l>=0;--l)s+="\n        k = m[".concat(l,"] - ").concat(i[l],";\n        if (k < 0)  k = 0;\n        if (k >= ").concat(t[l],") k = ").concat(t[l]-1,";\n        offset += k * ").concat(n[l],";\n      ");return"\n      float padA(int m[".concat(o,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(a,", ").concat(r,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")}},2143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;const a=n(246),r=n(2517),i=n(2039);t.averagePool=(e,t,n)=>{d(t);const a={name:"AveragePool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},a),{get:()=>o(t,a,!1,n)}),t)]},t.parseAveragePoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),r=0!==e.attributes.getInt("count_include_pad",0),i=e.attributes.getInts("kernel_shape"),o=e.attributes.getInts("strides",[]),s=e.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,a.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:r,kernelShape:i,strides:o,pads:s})};const o=(e,t,n,a)=>{const[o,s]=l(e,a,n),c=r.ShapeUtil.size(o.kernelShape);let u="";o.countIncludePad?u+="value /= float(".concat(c,");"):u+="value /= float(".concat(c," - pad);");const d="\n        ".concat(h(e[0].dims,o,"value += _X(x);",u,"0.0"),"\n      ");return Object.assign(Object.assign({},t),{output:{dims:s,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:d})};t.globalAveragePool=(e,t,n)=>{d(t);const a={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:"".concat(n.countIncludePad)};return[e.run(Object.assign(Object.assign({},a),{get:()=>o(t,a,!0,n)}),t)]},t.parseGlobalAveragePoolAttributes=e=>{const t=0!==e.attributes.getInt("count_include_pad",0);return(0,a.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},t.maxPool=(e,t,n)=>{d(t);const a={name:"MaxPool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},a),{get:()=>s(t,a,!1,n)}),t)]},t.parseMaxPoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),r=e.attributes.getInts("kernel_shape"),i=e.attributes.getInts("strides",[]),o=e.attributes.getInts("pads",[]),s=e.attributes.getInt("storage_order",0),l=e.attributes.getInts("dilations",[]);if(0!==s)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,a.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:r,strides:i,pads:o,storageOrder:s,dilations:l})};const s=(e,t,n,a)=>{const[r,o]=l(e,a,n),s="\n      ".concat(h(e[0].dims,r,"\n      value = max(_X(x), value);\n    ","","-1e5"),"\n    ");return Object.assign(Object.assign({},t),{output:{dims:o,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:s})},l=(e,t,n)=>{const a=e[0].dims.slice(),i=Object.hasOwnProperty.call(t,"dilations"),o=t.kernelShape.slice(),s=t.strides.slice(),l=i?t.dilations.slice():[],c=t.pads.slice();r.PoolConvUtil.adjustPoolAttributes(n,a,o,s,l,c);const u=r.PoolConvUtil.computePoolOutputShape(n,a,s,l,o,c,t.autoPad),d=Object.assign({},t);return i?Object.assign(d,{kernelShape:o,strides:s,pads:c,dilations:l,cacheKey:t.cacheKey}):Object.assign(d,{kernelShape:o,strides:s,pads:c,cacheKey:t.cacheKey}),[d,u]},c={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},u={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};t.globalMaxPool=(e,t)=>(d(t),[e.run(Object.assign(Object.assign({},u),{get:()=>s(t,u,!0,c)}),t)]);const d=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},h=(e,t,n,a,i)=>{const o=e.length;if(t.kernelShape.length<=2){const r=t.kernelShape[t.kernelShape.length-1],s=t.strides[t.strides.length-1],l=t.pads[t.pads.length/2-1],c=t.pads[t.pads.length-1],u=e[o-1];let d="",h="",p="";if(d=l+c!==0?"\n          for (int i = 0; i < ".concat(r,"; i++) {\n            x[").concat(o," - 1] = indices[").concat(o," - 1] * ").concat(s," - ").concat(l," + i;\n            if (x[").concat(o," - 1] < 0 || x[").concat(o," - 1] >= ").concat(u,") {\n              pad++;\n              continue;\n            }\n            ").concat(n,"\n          }"):"\n          for (int i = 0; i < ".concat(r,"; i++) {\n            x[").concat(o," - 1] = indices[").concat(o," - 1] * ").concat(s," - ").concat(l," + i;\n            ").concat(n,"\n          }"),2===t.kernelShape.length){const n=t.kernelShape[t.kernelShape.length-2],a=t.strides[t.strides.length-2],i=t.pads[t.pads.length/2-2],s=t.pads[t.pads.length-2],l=e[o-2];h=i+s!==0?"\n            for (int j = 0; j < ".concat(n,"; j++) {\n              x[").concat(o," - 2] = indices[").concat(o," - 2] * ").concat(a," - ").concat(i," + j;\n              if (x[").concat(o," - 2] < 0 || x[").concat(o," - 2] >= ").concat(l,") {\n                pad+= ").concat(r,";\n                continue;\n              }\n          "):"\n            for (int j = 0; j < ".concat(n,"; j++) {\n              x[").concat(o," - 2] = indices[").concat(o," - 2] * ").concat(a," - ").concat(i," + j;\n            "),p="\n          }\n        "}return"\n        float process(int indices[".concat(o,"]) {\n          int x[").concat(o,"];\n          copyVec(indices, x);\n\n          float value = ").concat(i,";\n          int pad = 0;\n          ").concat(h,"\n          ").concat(d,"\n          ").concat(p,"\n          ").concat(a,"\n          return value;\n        }\n      ")}{const s=r.ShapeUtil.size(t.kernelShape),l=r.ShapeUtil.computeStrides(t.kernelShape),c=l.length,u=t.pads.length,d=f(c),h=p(e,"inputDims"),m=p(t.pads,"pads"),g=p(l,"kernelStrides"),y=p(t.strides,"strides");let b="";return b=t.pads.reduce(((e,t)=>e+t))?"\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ".concat(n,"\n          }"):"\n          }\n          ".concat(n,"\n        "),"\n        ".concat(d,"\n        float process(int indices[").concat(o,"]) {\n          int x[").concat(o,"];\n          copyVec(indices, x);\n          int offset[").concat(c,"];\n          int pads[").concat(u,"];\n          int inputDims[").concat(o,"];\n          int kernelStrides[").concat(c,"];\n          int strides[").concat(c,"];\n          ").concat(m,"\n          ").concat(h,"\n          ").concat(y,"\n          ").concat(g,"\n\n          float value = ").concat(i,";\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ").concat(s,"; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ").concat(o," - ").concat(c,"; j < ").concat(o,"; j++) {\n              x[j] = indices[j] * strides[j - ").concat(o," + ").concat(c,"]\n                + offset[j - ").concat(o," + ").concat(c,"] - pads[j - 2];\n              ").concat(b,"\n          }\n          ").concat(a,"\n\n          return value;\n        }\n      ")}},p=(e,t)=>{let n="";for(let a=0;a<e.length;a++)n+="\n      ".concat(t,"[").concat(a,"] = ").concat(e[a],";\n    ");return n},f=e=>"\n  void offsetToIndices(int offset, int[".concat(e,"] strides, out int[").concat(e,"] indices) {\n    if (").concat(e," == 0) {\n      return;\n    }\n    for (int i = 0; i < ").concat(e," - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[").concat(e," - 1] = offset;\n  }")},4939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;const a=n(246),r=n(782),i=n(2517),o=n(2039),s=(e,t,n,a,r)=>{c(t);const i={name:a,inputNames:["A"],inputTypes:[o.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},i),{cacheHint:n.cacheKey,get:()=>l(e,t,n,a,r,i)}),t)]};t.parseReduceAttributes=e=>{const t=e.attributes.getInts("axes",[]),n=1===e.attributes.getInt("keepdims",1);return(0,a.createAttributeWithCacheKey)({axes:t,keepDims:n})};const l=(e,t,n,a,r,s)=>{const l=[],c=t[0].dims.length||1,u=[],d=i.ShapeUtil.normalizeAxes(n.axes,t[0].dims.length),h=r(t,d);let p=h[1];for(let i=0;i<t[0].dims.length;i++)d.indexOf(i)>=0||0===d.length?(n.keepDims&&l.push(1),p="\n          for(int j".concat(i," = 0; j").concat(i," < ").concat(t[0].dims[i],"; j").concat(i,"++) {\n            inputIdx[").concat(i,"] = j").concat(i,";\n            ").concat(p,"\n          }")):(u.push("inputIdx[".concat(i,"] = outputIdx[").concat(l.length,"];")),l.push(t[0].dims[i]));const f="\n      float process(int outputIdx[".concat(l.length||1,"]) {\n        float value;                 // final result\n        int inputIdx[").concat(c,"];      // addressing input data\n        ").concat(u.join("\n"),"\n        ").concat(h[0],"       // init ops for reduce max/min\n        ").concat(p,"\n        ").concat(h[2],"       // final computation for reduce mean\n        return value;\n      }");return Object.assign(Object.assign({},s),{output:{dims:l,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:f})},c=e=>{if(!e||1!==e.length)throw new Error("Reduce op requires 1 input.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.reduceSum=(e,t,n)=>s(e,t,n,"ReduceSum",(()=>["value = 0.0;","value += _A(inputIdx);",""])),t.reduceMean=(e,t,n)=>s(e,t,n,"ReduceMean",((e,t)=>{let n=1;for(let a=0;a<e[0].dims.length;a++)(t.indexOf(a)>=0||0===t.length)&&(n*=e[0].dims[a]);return["value = 0.0;","value += _A(inputIdx);","value /= ".concat(n,".;")]})),t.reduceMax=(e,t,n)=>s(e,t,n,"ReduceMax",((e,t)=>{const n=[];for(let a=0;a<e[0].dims.length;a++)(t.indexOf(a)>=0||0===t.length)&&n.push("inputIdx[".concat(a,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = max(value, _A(inputIdx));",""]})),t.reduceMin=(e,t,n)=>s(e,t,n,"ReduceMin",((e,t)=>{const n=[];for(let a=0;a<e[0].dims.length;a++)(t.indexOf(a)>=0||0===t.length)&&n.push("inputIdx[".concat(a,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = min(value, _A(inputIdx));",""]})),t.reduceProd=(e,t,n)=>s(e,t,n,"ReduceProd",(()=>["value = 1.0;","value *= _A(inputIdx);",""])),t.reduceLogSum=(e,t,n)=>s(e,t,n,"ReduceLogSum",(()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"])),t.reduceLogSumSquare=(e,t,n)=>s(e,t,n,"ReduceLogSumSquare",(()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]))},7019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;const a=n(2517),r=n(5060),i=n(2039),o=n(2827);t.createPackedReshape3DProgramInfoLoader=(e,t,n)=>{const s=(e=>({name:"Reshape (packed)",inputTypes:[i.TextureType.packed],inputNames:["A"],cacheHint:"".concat(e)}))(n);return Object.assign(Object.assign({},s),{get:()=>((e,t,n,s)=>{const l=t.dims,c=s;let u="";for(let a=0;a<4;a++){let e="";switch(a){case 0:e="outputCoords = rc;";break;case 1:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:e="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}u+="\n        ".concat(e,"\n        ").concat(a>0?"if(outputCoords.y < rows && outputCoords.z < cols){":"","\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ").concat(a>0?"}":"","\n      ")}const d=(0,r.getGlsl)(e.session.backend.glContext.version),h="\n      ".concat(function(e){const t=a.ShapeUtil.computeStrides(e),n=["b","r","c"],r="index";return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(t.map(((e,a)=>"int ".concat(n[a]," = ").concat(r," / ").concat(e,"; ").concat(a===t.length-1?"int ".concat(n[a+1]," = ").concat(r," - ").concat(n[a]," * ").concat(e):"index -= ".concat(n[a]," * ").concat(e),";"))).join(""),"\n      return ivec3(b, r, c);\n    }\n  ")}(l),"\n      ").concat(function(e){const t=a.ShapeUtil.computeStrides(e);return"\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ".concat(t[0]," + coords.z * ").concat(t[1]," + coords.y;\n  }\n")}(c),"\n      ").concat((0,o.unpackFromChannel)(),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ").concat(c[2],";\n        int cols = ").concat(c[1],";\n\n        ").concat(u,"\n        ").concat(d.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:c,type:t.type,textureType:i.TextureType.packed},shaderSource:h,hasMain:!0})})(e,t,s,n)})},t.processDims3D=function(e){if(0===e.length)return[1,1,1];let t=1;for(let n=0;n<e.length-2;++n)t*=e[n];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]]},t.isReshapeCheap=function(e,t){let n=!1;return n=0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2]),n}},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;const a=n(2517);t.reshape=(e,t)=>{const n=a.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],n)]:[e.reshapeUnpacked(t[0],n)]}},2268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;const a=n(5060),r=n(2039),i=n(9390),o=n(2827),s=n(9793),l={name:"Resize",inputNames:["A"],inputTypes:[r.TextureType.packed]};t.resize=(e,t,n)=>((0,s.validateInputs)(t,n),[e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:()=>c(e,t,n)}),t)]),t.parseResizeAttributesV10=e=>(0,s.parseUpsampleAttributes)(e,10),t.parseResizeAttributesV11=e=>(0,s.parseUpsampleAttributes)(e,11);const c=(e,t,n)=>{const s=(0,a.getGlsl)(e.session.backend.glContext.version),[c,d]=u(t,n);if(c.every((e=>1===e))&&"tf_crop_and_resize"!==n.coordinateTransformMode)return Object.assign(Object.assign({},l),{output:{dims:d,type:t[0].type,textureType:r.TextureType.packed},hasMain:!0,shaderSource:"void main() {\n                    vec4 v = ".concat(s.texture2D,"(X, TexCoords);\n                    ").concat(s.output," = v;\n                }")});const h=d.length;if(h<2)throw new Error("output dimension should be at least 2, but got ".concat(h));const p=d[h-2],f=d[h-1],m=t[0].dims;if(h!==m.length)throw new Error("output dimension should match input ".concat(m.length,", but got ").concat(h));const g=m[h-2],y=m[h-1],b=c[h-2],v=c[h-1];let w="";if("linear"!==n.mode)throw new Error("resize (packed) does not support mode: '".concat(n.mode,"'"));switch(n.coordinateTransformMode){case"asymmetric":w="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":w="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":w="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ".concat(f,".0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ").concat(p,".0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ").concat(f,".0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ").concat(p,".0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                ");break;case"align_corners":w="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(".concat(f,".0 - 1.0, ").concat(p,".0 - 1.0, ").concat(f,".0 - 1.0,\n                            ").concat(p,".0 - 1.0);\n                        vec4 original = vec4(").concat(y,".0 - 1.0, ").concat(g,".0 - 1.0, ").concat(y,".0 - 1.0,\n                            ").concat(g,".0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                ");break;default:throw new Error("resize (packed) does not support coordinateTransformMode:                                 '".concat(n.coordinateTransformMode,"'"))}const _=(0,i.getCoordsDataType)(h),x="\n            const vec2 inputWH = vec2(".concat(g,".0, ").concat(y,".0);\n            const vec4 scaleWHWH = vec4(float(").concat(b,"), float(").concat(v,"), float(").concat(b,"), float(").concat(v,"));\n            ").concat((0,o.unpackFromChannel)(),"\n            ").concat(w,"\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ").concat(_," rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ").concat(p-1,";\n                bool hasNextCol = rc.z < ").concat(f-1,";\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ").concat(s.output," = vec4(newValue);\n            }\n        ");return Object.assign(Object.assign({},l),{output:{dims:d,type:t[0].type,textureType:r.TextureType.packed},hasMain:!0,shaderSource:x})},u=(e,t)=>{const n=e[0].dims;let a,r=t.scales;if(0===r.length){const i=e[t.scalesInputIdx];if(i&&0!==i.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");r=d(i,t.mode,t.isResize)}else{const i=e[t.sizesInputIdx];if(!i||0===i.size)throw new Error("Either scales or sizes MUST be provided as input.");a=Array.from(i.integerData),r=h(a,n,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const i=a||n.map(((e,t)=>Math.floor(e*r[t])));return[r,i]},d=(e,t,n)=>{const a=Array.from(e.floatData);return(0,s.scalesValidation)(a,t,n),a},h=(e,t,n,a)=>{const r=t.length,i=new Array(r);for(let o=0,s=r;o<s;o++)if(0===t[o]){if(0!==e[o])throw new Error("Input dim is zero but required output dim is non-zero.");i[o]=1}else i[o]=e[o]/t[o];return(0,s.scalesValidation)(i,n,a),i}},8117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;const a=n(9162);t.shape=(e,t)=>(r(t),[new a.Tensor([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]);const r=e=>{if(!e||1!==e.length)throw new Error("Shape requires 1 input.")}},2278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;const a=n(246),r=n(782),i=n(2517),o=n(2039),s={name:"Slice",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.slice=(e,t,n)=>(c(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>l(e,t[0],n)}),t)]),t.parseSliceAttributes=e=>{const t=e.attributes.getInts("starts"),n=e.attributes.getInts("ends"),r=e.attributes.getInts("axes",[]);return(0,a.createAttributeWithCacheKey)({starts:t,ends:n,axes:r})};const l=(e,t,n)=>{const a=0===n.axes.length?t.dims.slice(0).map(((e,t)=>t)):n.axes,r=i.ShapeUtil.normalizeAxes(a,t.dims.length),l=n.starts.map(((e,n)=>e>t.dims[r[n]]-1?t.dims[r[n]]:i.ShapeUtil.normalizeAxis(e,t.dims[r[n]]))),c=n.ends.map(((e,n)=>e>t.dims[r[n]]-1?t.dims[r[n]]:i.ShapeUtil.normalizeAxis(e,t.dims[r[n]]))),u=t.dims.slice(),d=[];for(let i=0;i<r.length;i++)u[r[i]]=c[i]-l[i],l[i]>0&&d.push("outputIdx[".concat(r[i],"] += ").concat(l[i],";"));const h="\n      float process(int outputIdx[".concat(u.length,"]) {\n        ").concat(d.join("\n      "),"\n        return _A(outputIdx);\n      }");return Object.assign(Object.assign({},s),{output:{dims:u,type:t.type,textureType:o.TextureType.unpacked},shaderSource:h})},c=e=>{if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.sliceV10=(e,t)=>{d(t);const n=u(e,t);return[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>l(e,t[0],n)}),[t[0]])]};const u=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some((e=>1!==e)))throw new Error("currently non-1 steps is not supported for Slice");const n=Array.from(t[1].integerData),a=Array.from(t[2].integerData),r=t.length>=4?Array.from(t[3].integerData):[];return{starts:n,ends:a,axes:r,cacheKey:"".concat(r,";").concat(n,";").concat(a)}},d=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.")}},5524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;const a=n(246),r=n(2517),i=n(5060),o=n(2039),s=n(3738),l={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[o.TextureType.unpacked]},c={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked]},u={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]};t.softmax=(e,t,n)=>{m(t);const a=t[0].dims.slice(),i=r.ShapeUtil.normalizeAxis(n.axis,a.length),o=r.ShapeUtil.sizeToDimension(a,i),s=r.ShapeUtil.sizeFromDimension(a,i);return d(e,t,n,o,s)},t.parseSoftmaxAttributes=e=>(0,a.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",1)}),t.parseSoftmaxAttributesV13=e=>(0,a.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",-1)}),t.softmaxV13=(e,t,n)=>{m(t);const i=t[0].dims.slice(),o=r.ShapeUtil.normalizeAxis(n.axis,i.length),l=i.length,c=o!==l-1,u=[];let h,p=[],f=[];c&&(p=Array.from({length:l}).map(((e,t)=>t)),p[o]=l-1,p[l-1]=o,p.map((e=>u.push(i[e]))),h=(0,a.createAttributeWithCacheKey)({perm:p}),f=(0,s.transpose)(e,t,h));const g=c?r.ShapeUtil.sizeToDimension(u,l-1):r.ShapeUtil.sizeToDimension(i,l-1),y=c?r.ShapeUtil.sizeFromDimension(u,l-1):r.ShapeUtil.sizeFromDimension(i,l-1),b=d(e,c?f:t,n,g,y);return c?(0,s.transpose)(e,b,h):b};const d=(e,t,n,a,r)=>{const i=h(e,t[0],a,r,[a]),o=e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:()=>i}),t),s=p(e,t[0],a,r,i.output.dims,[a]),d=e.run(Object.assign(Object.assign({},c),{cacheHint:n.cacheKey,get:()=>s}),[t[0],o]),m=f(e,t[0],a,r,i.output.dims,s.output.dims);return[e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:()=>m}),[t[0],o,d])]},h=(e,t,n,a,r)=>{const[s,c]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),u=r.length;if(n<1||a<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==r.length)throw new Error("Dimensionality of the output should be 1");if(r[0]!==n)throw new Error("Shape of the output should be equal to logical row count");const d=(0,i.getGlsl)(e.session.backend.glContext.version),h="\n      float process(int[".concat(u,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(a,";\n\n        float max = getColorAsFloat(").concat(d.texture2D,"(A, offsetToCoords(logical_row_start_offset, ").concat(s,",\n        ").concat(c," )));\n        for(int i=1; i<").concat(a,"; ++i)\n        {\n          float current = getColorAsFloat(").concat(d.texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(s,", ").concat(c,")));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }");return Object.assign(Object.assign({},l),{output:{dims:r,type:t.type,textureType:o.TextureType.unpacked},shaderSource:h})},p=(e,t,n,a,r,s)=>{const[l,u]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),d=s.length;if(n<1||a<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==s.length)throw new Error("Dimensionality of the output should be 1");if(s[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==r.length)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const h="\n      float process(int[".concat(d,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(a,";\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<").concat(a,"; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(").concat((0,i.getGlsl)(e.session.backend.glContext.version).texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(l,", ").concat(u,"))) - max);\n        }\n\n        return norm_factor;\n      }");return Object.assign(Object.assign({},c),{output:{dims:s,type:t.type,textureType:o.TextureType.unpacked},shaderSource:h})},f=(e,t,n,a,r,i)=>{const[s,l]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),c=t.dims.length;if(n<1||a<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==r.length||1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==n||i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const d="\n      float process(int[".concat(c,"] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ").concat(s,", ").concat(l,");\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ").concat(a,";\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }");return Object.assign(Object.assign({},u),{output:{dims:t.dims,type:t.type,textureType:o.TextureType.unpacked},shaderSource:d})},m=e=>{if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type")}},5975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;const a=n(246),r=n(2517),i=n(2039),o={name:"Split",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};t.split=(e,t,n)=>{c(t);const a=r.ShapeUtil.normalizeAxis(n.axis,t[0].dims.length),i=s(e,t,a,n),u=[];for(let r=0;r<i;++r)u.push(e.run(Object.assign(Object.assign({},o),{cacheHint:"".concat(n.cacheKey,";").concat(r),get:()=>l(e,t[0],n,a,r)}),t));return u},t.parseSplitAttributes=e=>{const t=e.attributes.getInt("axis",0),n=e.attributes.getInts("split",[]),r=e.outputs.length;return(0,a.createAttributeWithCacheKey)({axis:t,split:n,numOutputs:r})};const s=(e,t,n,a)=>{const[,i]=r.SplitUtil.splitShape(t[0].dims,n,a.split,a.numOutputs);return i.length},l=(e,t,n,a,s)=>{const[l,c]=r.SplitUtil.splitShape(t.dims,a,n.split,n.numOutputs),u=c[s],d=l[s],h="\n      float process(int indices[".concat(d.length,"]) {\n        indices[").concat(a,"] += ").concat(u,";\n        return _A(indices);\n      }\n    ");return Object.assign(Object.assign({},o),{cacheHint:"".concat(n.cacheKey,":").concat(s),output:{dims:d,type:t.type,textureType:i.TextureType.unpacked},shaderSource:h})},c=e=>{if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.")}},3933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqueezeAttributes=t.squeezeV13=t.squeeze=void 0;const a=n(2517);t.squeeze=(e,t,n)=>{r(t);const i=a.ShapeUtil.squeezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.squeezeV13=(e,n)=>(i(n),(0,t.squeeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseSqueezeAttributes=e=>e.attributes.getInts("axes");const r=e=>{if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},i=e=>{if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},6558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;const a=n(5060),r=n(2039);t.sum=(e,t)=>{o(t);const n={name:"Sum",inputNames:t.map(((e,t)=>"X".concat(t))),inputTypes:new Array(t.length).fill(r.TextureType.unpacked)};return[e.run(Object.assign(Object.assign({},n),{get:()=>i(e,t,n)}),t)]};const i=(e,t,n)=>{const i=(0,a.getGlsl)(e.session.backend.glContext.version),o=t[0].dims.slice(),s="\n      void main() {\n        vec4 result = ".concat(t.map(((e,t)=>"".concat(i.texture2D,"(X").concat(t,",TexCoords)"))).join(" + "),";\n        ").concat(i.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:o,type:t[0].type,textureType:r.TextureType.unpacked},hasMain:!0,shaderSource:s})},o=e=>{if(!e||0===e.length)throw new Error("Sum requires inputs.");const t=e[0].dims.length;for(let n=1;n<e.length;n++){if(t!==e[n].dims.length)throw new Error("Input shapes are mismatched.");for(let a=0;a<t;a++)if(e[0].dims[a]!==e[n].dims[a])throw new Error("Input shapes are not matched.")}if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");for(let n=1;n<e.length;n++)if(e[0].type!==e[n].type)throw new Error("Input types are not matched.")}},5723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;const a=n(782),r=n(2039);t.tile=(e,t)=>{o(t);const n={name:"Tile",inputNames:["A"],inputTypes:[r.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},n),{get:()=>i(e,t,n)}),t)]};const i=(e,t,n)=>{const a=t[0].dims.slice(),i=new Array(a.length),o=[];for(let r=0;r<a.length;r++)i[r]=a[r]*t[1].numberData[r],o.push("inputIdx[".concat(r,"] = int(mod(float(outputIdx[").concat(r,"]), ").concat(a[r],".));"));const s=i.length,l="\n      float process(int outputIdx[".concat(s,"]) {\n        int inputIdx[").concat(s,"];\n        ").concat(o.join("\n"),"\n        return _A(inputIdx);\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:i,type:t[0].type,textureType:r.TextureType.unpacked},shaderSource:l})},o=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===a.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.")}},3738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;const a=n(246),r=n(2517),i=n(2039),o={name:"Transpose",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};t.transpose=(e,t,n)=>(d(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:()=>s(e,t[0],n.perm)}),t)]),t.parseTransposeAttributes=e=>(0,a.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])});const s=(e,t,n)=>{const a=t.dims;n=l(a,n);const r=c(a,n),s=a.length,d="\n      ".concat(u("perm",n,s),"\n      float process(int indices[").concat(s,"]) {\n        int a[").concat(s,"];\n        perm(a, indices);\n        return _A(a);\n      }");return Object.assign(Object.assign({},o),{output:{dims:r,type:t.type,textureType:i.TextureType.unpacked},shaderSource:d})},l=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),c=(e,t)=>(t=l(e,t),r.ShapeUtil.sortBasedOnPerm(e,t)),u=(e,t,n)=>{const a=[];a.push("void ".concat(e,"(out int a[").concat(n,"], int src[").concat(n,"]) {"));for(let r=0;r<n;++r)a.push("\ta[".concat(t[r],"]=src[").concat(r,"];"));return a.push("\t}"),a.join("\n")},d=e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor")}},8710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;const a=n(5060),r=n(2039);t.encodeAsUint8=(e,t)=>{const n=t.shape,i=(0,a.getGlsl)(e.session.backend.glContext.version),o="\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ".concat(i.texture2D,"(X,TexCoords).r;\n      ").concat(i.output," = encodeAsUint8(value);\n    }"),s={name:"Uint8Encode",inputTypes:[r.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:r.TextureType.downloadUint8AsFloat},shaderSource:o,hasMain:!0};return e.executeProgram(s,[t.tensor])}},4909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sin=t.sigmoid=t.relu=t.not=t.neg=t.log=t.parseLeakyReluAttributes=t.leakyRelu=t.identity=t.floor=t.exp=t.parseEluAttributes=t.elu=t.cos=t.ceil=t.clipV11=t.parseClipAttributes=t.clip=t.atan=t.asin=t.acos=t.abs=t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslLeakyRelu=t.glslIdentity=t.glslClip=t.glslFloor=t.glslExp=t.glslElu=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=void 0;const a=n(246),r=n(2517),i=n(8520),o=n(5060),s=n(2039);function l(){return E("abs")}function c(){return E("acos")}function u(){return E("asin")}function d(){return E("atan")}function h(){return E("ceil")}function p(){return E("cos")}function f(e){const t="elu";return{body:"\n  const float alpha = float(".concat(e,");\n\n  float ").concat(t,"_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(").concat(t,"_(v.x), ").concat(t,"_(v.y), ").concat(t,"_(v.z), ").concat(t,"_(v.w));\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function m(){return E("exp")}function g(){return E("floor")}function y(e,t){const n="clip";return{body:"\n  const float min = float(".concat(e,");\n  const float max = float(").concat(t,");\n\n  float ").concat(n,"_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ").concat(n,"_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  "),name:n,type:i.FunctionType.ValueBased}}function b(){const e="indentity";return{body:"\n  float ".concat(e,"_(float a) {\n    return a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return v;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function v(e){const t="leakyRelu";return{body:"\n  const float alpha = float(".concat(e,");\n\n  float ").concat(t,"_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(").concat(t,"_(v.x), ").concat(t,"_(v.y), ").concat(t,"_(v.z), ").concat(t,"_(v.w));\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function w(){return E("log")}function _(){const e="neg";return{body:"\n  float ".concat(e,"_(float a) {\n    return -a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return -v;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function x(){const e="not";return{body:"\n  float ".concat(e,"_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ").concat(e,"_(bool a) {\n    return !a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ").concat(e,"_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function k(){return E("sin")}function T(){const e="relu";return{body:"\n  float ".concat(e,"_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function D(){const e="sigmoid";return{body:"\n  float ".concat(e,"_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function A(){return E("sqrt")}function C(){return E("tan")}function S(){const e="tanh";return{body:"\n  float ".concat(e,"_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function E(e){return{body:"\n  float ".concat(e,"_(float a) {\n    return ").concat(e,"(a);\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return ").concat(e,"(v);\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}t.glslAbs=l,t.glslAcos=c,t.glslAsin=u,t.glslAtan=d,t.glslCeil=h,t.glslCos=p,t.glslElu=f,t.glslExp=m,t.glslFloor=g,t.glslClip=y,t.glslIdentity=b,t.glslLeakyRelu=v,t.glslLog=w,t.glslNeg=_,t.glslNot=x,t.glslSin=k,t.glslRelu=T,t.glslSigmoid=D,t.glslSqrt=A,t.glslTan=C,t.glslTanh=S;const F=(e,t,n,a)=>{const r=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,i={name:n.name,inputTypes:[r],inputNames:["A"],cacheHint:a};return Object.assign(Object.assign({},i),{get:()=>((e,t,n,a)=>{const r=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,i=(0,o.getGlsl)(e.session.backend.glContext.version);return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:r},shaderSource:"\n     ".concat(a.body,"\n     void main() {\n       vec4 v = ").concat(i.texture2D,"(A, TexCoords);\n       v = ").concat(a.name,"_(v);\n       ").concat(i.output," = v;\n     }\n     "),hasMain:!0})})(e,i,t,n)})};t.abs=(e,t)=>[e.run(F(e,t[0],l()),t)],t.acos=(e,t)=>[e.run(F(e,t[0],c()),t)],t.asin=(e,t)=>[e.run(F(e,t[0],u()),t)],t.atan=(e,t)=>[e.run(F(e,t[0],d()),t)],t.clip=(e,t,n)=>[e.run(F(e,t[0],y(n.min,n.max),n.cacheKey),t)],t.parseClipAttributes=e=>(0,a.createAttributeWithCacheKey)({min:e.attributes.getFloat("min",r.MIN_CLIP),max:e.attributes.getFloat("max",r.MAX_CLIP)}),t.clipV11=(e,n)=>{const a=M(e,n);return(0,t.clip)(e,[n[0]],a)};const M=(e,t)=>{if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const n=t.length>=3?t[1].numberData[0]:r.MIN_CLIP,i=t.length>=3?t[2].numberData[0]:r.MAX_CLIP;return(0,a.createAttributeWithCacheKey)({min:n,max:i})};t.ceil=(e,t)=>[e.run(F(e,t[0],h()),t)],t.cos=(e,t)=>[e.run(F(e,t[0],p()),t)],t.elu=(e,t,n)=>[e.run(F(e,t[0],f(n.alpha),n.cacheKey),t)],t.parseEluAttributes=e=>(0,a.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",1)}),t.exp=(e,t)=>[e.run(F(e,t[0],m()),t)],t.floor=(e,t)=>[e.run(F(e,t[0],g()),t)],t.identity=(e,t)=>[e.run(F(e,t[0],b()),t)],t.leakyRelu=(e,t,n)=>[e.run(F(e,t[0],v(n.alpha),n.cacheKey),t)],t.parseLeakyReluAttributes=e=>(0,a.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",.01)}),t.log=(e,t)=>[e.run(F(e,t[0],w()),t)],t.neg=(e,t)=>[e.run(F(e,t[0],_()),t)],t.not=(e,t)=>[e.run(F(e,t[0],x()),t)],t.relu=(e,t)=>[e.run(F(e,t[0],T()),t)],t.sigmoid=(e,t)=>[e.run(F(e,t[0],D()),t)],t.sin=(e,t)=>[e.run(F(e,t[0],k()),t)],t.sqrt=(e,t)=>[e.run(F(e,t[0],A()),t)],t.tan=(e,t)=>[e.run(F(e,t[0],C()),t)],t.tanh=(e,t)=>[e.run(F(e,t[0],S()),t)]},5611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackProgramInfoLoader=t.createUnpackProgramInfo=void 0;const a=n(5060),r=n(2039),i=n(9390),o=n(2827),s={name:"unpack",inputNames:["A"],inputTypes:[r.TextureType.packed]};t.createUnpackProgramInfo=(e,t)=>{const n=t.dims.length,l=(0,o.getChannels)("rc",n),c=l.slice(-2),u=(0,i.getCoordsDataType)(n),d=(0,o.unpackFromChannel)(),h=0===t.dims.length?"":function(e,t){if(1===e)return"rc";let n="";for(let a=0;a<e;a++)n+=t[a],a<e-1&&(n+=",");return n}(n,l),p=n<=1?"rc":"vec2(".concat(c.join(","),")"),f="\n    ".concat(d,"\n    void main() {\n      ").concat(u," rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(").concat(h,");\n\n       ").concat((0,a.getGlsl)(e.session.backend.glContext.version).output," = vec4(getChannel(packedInput, ").concat(p,"), 0, 0, 0);\n     }\n   ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:r.TextureType.unpacked},shaderSource:f})},t.createUnpackProgramInfoLoader=(e,n)=>Object.assign(Object.assign({},s),{get:()=>(0,t.createUnpackProgramInfo)(e,n)})},8428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnsqueezeAttributes=t.unsqueezeV13=t.unsqueeze=void 0;const a=n(2517);t.unsqueeze=(e,t,n)=>{r(t);const i=a.ShapeUtil.unsqueezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.unsqueezeV13=(e,n)=>(i(n),(0,t.unsqueeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseUnsqueezeAttributes=e=>e.attributes.getInts("axes");const r=e=>{if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},i=e=>{if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},9793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalesValidation=t.validateInputs=t.parseUpsampleAttributes=t.parseUpsampleAttributesV9=t.parseUpsampleAttributesV7=t.upsample=void 0;const a=n(246),r=n(5060),i=n(2039),o={name:"Upsample",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};t.upsample=(e,n,a)=>((0,t.validateInputs)(n,a),[e.run(Object.assign(Object.assign({},o),{cacheHint:a.cacheKey,get:()=>s(e,n,a)}),n)]),t.parseUpsampleAttributesV7=e=>(0,t.parseUpsampleAttributes)(e,7),t.parseUpsampleAttributesV9=e=>(0,t.parseUpsampleAttributes)(e,9),t.parseUpsampleAttributes=(e,n)=>{const r=n>=10,i=e.attributes.getString("mode","nearest");if("nearest"!==i&&"linear"!==i&&(n<11||"cubic"!==i))throw new Error("unrecognized mode: ".concat(i));let o=[];n<9&&(o=e.attributes.getFloats("scales"),(0,t.scalesValidation)(o,i,r));const s=e.attributes.getFloat("extrapolation_value",0),l=n>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(l))throw new Error("coordinate_transform_mode '".concat(l,"' is not supported"));const c="tf_crop_and_resize"===l,u=c,d="nearest"===i&&n>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(d))throw new Error("nearest_mode '".concat(d,"' is not supported"));const h=e.attributes.getFloat("cubic_coeff_a",-.75),p=0!==e.attributes.getInt("exclude_outside",0);if(p&&"cubic"!==i)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const f=n<11||"nearest"===i&&"asymmetric"===l&&"floor"===d;let m=0,g=0,y=0;return n>10?e.inputs.length>2?(m=1,g=2,y=3):(g=1,y=2):9===n&&(g=1),(0,a.createAttributeWithCacheKey)({opset:n,isResize:r,mode:i,scales:o,extrapolationValue:s,coordinateTransformMode:l,useExtrapolation:u,needRoiInput:c,nearestMode:d,cubicCoefficientA:h,excludeOutside:p,useNearest2xOptimization:f,roiInputIdx:m,scalesInputIdx:g,sizesInputIdx:y})};const s=(e,t,n)=>{const a=(0,r.getGlsl)(e.session.backend.glContext.version),[s,l]=e.calculateTextureWidthAndHeight(t[0].dims,i.TextureType.unpacked),c=t[0].dims.map(((e,t)=>Math.floor(e*n.scales[t]))),[u,d]=e.calculateTextureWidthAndHeight(c,i.TextureType.unpacked),h=c.length,p=new Array(h),f=new Array(h);let m="\n      int output_pitches[".concat(h,"];\n      int input_pitches[").concat(h,"];\n      ");for(let r=h-1;r>=0;r--)p[r]=r===h-1?1:p[r+1]*c[r+1],f[r]=r===h-1?1:f[r+1]*t[0].dims[r+1],m+="\n        output_pitches[".concat(r,"] = ").concat(p[r],";\n        input_pitches[").concat(r,"] = ").concat(f[r],";\n        ");const g="\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ".concat(s,", ").concat(l,");\n        float value = getColorAsFloat(").concat(a.texture2D,"(X, coords));\n        return value;\n      }\n      "),y="nearest"===n.mode?"\n    ".concat(g,"\n    float process(int indices[").concat(h,"]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(u,", ").concat(d,");\n\n      ").concat(m,"\n\n      int d, m;\n      for (int dim = 0; dim < ").concat(h,"; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }"):4===h?"\n    ".concat(g,"\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(u,", ").concat(d,");\n\n      ").concat(m,"\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (").concat(t[0].dims[2]," - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }"):"\n    ".concat(g,"\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(u,", ").concat(d,");\n\n      ").concat(m,"\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (").concat(t[0].dims[0]," - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }");return Object.assign(Object.assign({},o),{output:{dims:c,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:y,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map((e=>Math.ceil(e)))}]})};t.validateInputs=(e,t)=>{if(!e||t.opset<9&&1!==e.length||t.opset>=9&&t.opset<11&&2!==e.length||t.opset>=11&&e.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.")},t.scalesValidation=(e,t,n)=>{if(n){for(const a of e)if(a<=0)throw new Error("Scale value should be greater than 0.")}else for(const a of e)if(a<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error("'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ".concat(n?"Resize":"Upsample"," opeartor."))}},1958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const a=n(1670),r=n(6231),i=n(8879),o=n(5060);t.ProgramManager=class{constructor(e,t,n){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=n,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n){var a;this.profiler.event("op","ProgramManager.run ".concat(null!==(a=e.programInfo.name)&&void 0!==a?a:"unknown kernel"),(()=>{var a;const i=this.glContext.gl,o=e.program;i.useProgram(o);try{this.bindOutput(n),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,null!==(a=e.programInfo.variables)&&void 0!==a?a:[],t)}catch(t){throw r.Logger.error("ProgramManager",e.programInfo.shaderSource),t}this.profiler.event("backend","GlContext.draw()",(()=>{this.glContext.draw()}))}),this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((e=>this.glContext.deleteProgram(e.program)))}build(e,t,n){return this.profiler.event("backend","ProgramManager.build",(()=>{const a=new i.GlslPreprocessor(this.glContext,e,t,n),r=a.preprocess(),o=this.compile(r);return{programInfo:e,program:o,uniformLocations:this.getUniformLocations(o,a.context.programInfo.inputNames,a.context.programInfo.variables),attribLocations:this.getAttribLocations(o)}}))}compile(e){if(!this.vertexShader){r.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const e=(0,o.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}a.env.debug&&r.Logger.verbose("ProrgramManager","FragShader:\n".concat(e,"\n"));const t=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),n=this.glContext.createProgram(this.vertexShader,t);return this.glContext.deleteShader(t),n}bindOutput(e){const t=e.width,n=e.height;r.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h=".concat(t,"/").concat(n,", shape=").concat(e.shape,", type=").concat(e.tensor.type)),this.glContext.attachFramebuffer(e.texture,t,n)}bindAttributes(e){const t=e.position,n=e.textureCoord;this.glContext.setVertexAttributes(t,n),this.attributesBound=!0}bindUniforms(e,t,n){var a;const r=this.glContext.gl;let i=0;for(const{name:o,type:s,location:l,arrayLength:c}of e){const e=null===(a=t.find((e=>e.name===o)))||void 0===a?void 0:a.data;if("sampler2D"!==s&&!e)throw new Error("variable '".concat(o,"' does not have data defined in program info"));switch(s){case"sampler2D":this.bindTexture(n[i],l,i),i++;break;case"float":c?r.uniform1fv(l,e):r.uniform1f(l,e);break;case"int":c?r.uniform1iv(l,e):r.uniform1i(l,e);break;default:throw new Error("Uniform not implemented: ".concat(s))}}}bindTexture(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,t,n){const a=[];if(t)for(const r of t)a.push({name:r,type:"sampler2D",location:this.getUniformLocation(e,r)});if(n)for(const r of n)a.push(Object.assign(Object.assign({},r),{location:this.getUniformLocation(e,r.name)}));return a}getUniformLocation(e,t){const n=this.glContext.gl.getUniformLocation(e,t);if(null===n)throw new Error("Uniform ".concat(t," not found."));return n}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t)}}},6416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;const a=n(6231),r=n(1047),i=n(8316),o=n(1640),s=n(1958),l=n(7859),c=n(5702);t.WebGLSessionHandler=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new l.PreferLogicalStrategy(e.glContext.maxTextureSize),this.programManager=new s.ProgramManager(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new c.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new i.WebGLInferenceHandler(this)}onGraphInitialized(e){const t=e.getValues().filter((e=>-1===e.from&&e.tensor)).map((e=>e.tensor.dataId));this.initializers=new Set(t)}isInitializer(e){return!!this.initializers&&this.initializers.has(e)}addInitializer(e){this.initializers.add(e)}getTextureData(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((e=>this.textureManager.releaseTexture(e,!0))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((e=>this.textureManager.releaseTexture(e,!0))),this.unpackedTextureDataCache=new Map}resolve(e,t,n){const a=(0,r.resolveOperator)(e,t,o.WEBGL_OP_RESOLVE_RULES);return{impl:a.opImpl,context:a.opInit?a.opInit(e,n):e}}}},7769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;const a=n(6231);t.RedFloat32DataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1===t)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else{if(4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t}}encode(e,t){let n,r;return e.constructor!==Float32Array&&(a.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),r=new Float32Array(e)),t*this.channelSize>e.length?(a.Logger.warning("Encoder","Source data too small. Allocating larger array"),r=e,n=this.allocate(t*this.channelSize),r.forEach(((e,t)=>n[t]=e))):(r=e,n=r),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter(((e,t)=>t%4==0)).subarray(0,t):e.subarray(0,t)}},t.RGBAFloatDataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(1!==t&&4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=n||e.FLOAT}encode(e,t){let n=e;return 1===this.channelSize&&(a.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach(((e,t)=>n[4*t]=e))),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter(((e,t)=>t%4==0)).subarray(0,t):e.subarray(0,t)}},t.Uint8DataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else{if(4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t}}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error("Invalid array type: ".concat(e.constructor))}}},7859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;const a=n(6231),r=n(2517);function i(e,t){const n=[],a=[],r=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||r?null:o(t,e).sort();let s=0;for(let o=0;o<e.length;++o){if(null!=i){if(i[s]===o&&1!==e[o])throw new Error("Can't squeeze axis ".concat(o," since its dim '").concat(e[o],"' is not 1"));(null==i[s]||i[s]>o)&&1===e[o]&&(n.push(e[o]),a.push(o)),i[s]<=o&&s++}1!==e[o]&&(n.push(e[o]),a.push(o))}return{newShape:n,keptDims:a}}function o(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),(0,r.assert)(e.every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but got axis ").concat(e))),(0,r.assert)(e.every(s),(()=>"All values in axis param must be integers but got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function s(e){return e%1==0}function l(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function c(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}t.AlwaysKeepOriginalSizeStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){if(0===e.length)return[1,1];const n=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const r=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce(((e,t)=>e*t)),i=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce(((e,t)=>e*t));if(!(r>n||i>n))return[r,i];a.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(e,", breakAxis:").concat(t.breakAxis))}const r=e.reduce(((e,t)=>e*t));let i=Math.floor(Math.sqrt(r));for(;i<n&&i<r&&r%i!=0;i++);if(i>=n||r%i!=0)throw new Error("The given dimensions are outside this GPU's boundaries: ".concat(e));return[i,r/i]}},t.PreferLogicalStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){const n=this.computeTexture(e,t);return t&&t.isPacked&&(n[0]/=2,n[1]/=2),t&&t.reverseWH?[n[1],n[0]]:n}computeTexture(e,t){const n=t&&t.isPacked;if(0===e.length)return n?[2,2]:[1,1];let r=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const n=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce(((e,t)=>e*t)),i=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce(((e,t)=>e*t));if(!(n>r||i>r))return[n,i];a.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(e,", breakAxis:").concat(t.breakAxis))}let o=e.slice(0);if(n&&(r*=2,o=o.map(((e,t)=>t>=o.length-2?o[t]%2==0?o[t]:o[t]+1:o[t])),1===o.length&&(o=[2,o[0]])),2!==o.length){const e=i(o);o=e.newShape}const s=l(o);return o.length<=1&&s<=r?[1,s]:2===o.length&&o[0]<=r&&o[1]<=r?o:3===o.length&&o[0]*o[1]<=r&&o[2]<=r?[o[0]*o[1],o[2]]:3===o.length&&o[0]<=r&&o[1]*o[2]<=r?[o[0],o[1]*o[2]]:4===o.length&&o[0]*o[1]*o[2]<=r&&o[3]<=r?[o[0]*o[1]*o[2],o[3]]:4===o.length&&o[0]<=r&&o[1]*o[2]*o[3]<=r?[o[0],o[1]*o[2]*o[3]]:n?c(s/4).map((e=>2*e)):c(s)}},t.squeezeShape=i,t.parseAxisParam=o,t.isInt=s,t.sizeFromShape=l,t.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},t.sizeToSquarishShape=c,t.getBatchDim=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return l(e.slice(0,e.length-t))}},4057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureLayoutFromShape=t.calculateTextureWidthAndHeight=t.createTextureLayoutFromTextureType=void 0;const a=n(2517),r=n(2039);t.createTextureLayoutFromTextureType=(e,n,a)=>{const i=a===r.TextureType.unpacked||a===r.TextureType.unpackedReversed?1:4,o=a===r.TextureType.packed,s=a===r.TextureType.unpackedReversed||a===r.TextureType.packed,l=a===r.TextureType.packedLastDimension?n.length-1:void 0,c=a===r.TextureType.packedLastDimension?n.map(((e,t)=>t===n.length-1?4*e:e)):void 0;return(0,t.createTextureLayoutFromShape)(e,n,i,c,{isPacked:o,reverseWH:s,breakAxis:l})},t.calculateTextureWidthAndHeight=(e,n,a)=>{const r=(0,t.createTextureLayoutFromTextureType)(e,n,a);return[r.width,r.height]},t.createTextureLayoutFromShape=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=!(!i||!i.isPacked),[s,l]=e.computeTextureWH(o&&r||t,i),c=t.length;let u=t.slice(0);if(0===c&&(u=[1]),1===n)r=t;else if(o){if(4!==n)throw new Error("a packed texture must be 4-channel");r=t,c>0&&(u[c-1]=Math.ceil(u[c-1]/2)),c>1&&(u[c-2]=Math.ceil(u[c-2]/2))}else if(!r)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:l,channels:n,isPacked:o,shape:u,strides:a.ShapeUtil.computeStrides(u),unpackedShape:r,reversedWH:i&&i.reverseWH}}},5702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;const a=n(6231);t.TextureManager=class{constructor(e,t,n,a){this.glContext=e,this.layoutStrategy=t,this.profiler=n,this.config=a,this.pendingRead=new Map,a.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,t,n,r){const i=this.toEncoderType(e),o=this.glContext.getEncoder(i,t.channels||1,r);if(t.isPacked&&1===r)throw new Error("not implemented");const s=t.width,l=t.height;let c,u;if(this.config.reuseTextures){c="".concat(s,"x").concat(l,"_").concat(o.format,"_").concat(o.internalFormat,"_").concat(o.textureType),u=this.inUseTextures.get(c),u||(u=[],this.inUseTextures.set(c,u));const t=this.idleTextures.get(c);if(t&&t.length>0){const a=t.pop();return u.push(a),1===r&&this.glContext.updateTexture(a,s,l,o,this.toTextureData(e,n)),a}}a.Logger.verbose("TextureManager","Creating new texture of size ".concat(t.width,"x").concat(t.height));const d=this.glContext.allocateTexture(s,l,o,this.toTextureData(e,n));return this.config.reuseTextures&&(u.push(d),this.textureLookup.set(d,c)),d}readTexture(e,t,n){return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",(()=>{const a=e.shape.reduce(((e,t)=>e*t))*n,r=this.glContext.readTexture(e.texture,e.width,e.height,a,this.toEncoderType(t),n);return this.toTensorData(t,r)}))}async readTextureAsync(e,t,n){const a=e.tensor.dataId;if(n||(n=1),this.pendingRead.has(a)){const e=this.pendingRead.get(a);return new Promise((t=>null==e?void 0:e.push(t)))}return this.profiler.event("backend","TextureManager.readTextureAsync",(async()=>{this.pendingRead.set(a,[]);const r=e.shape.reduce(((e,t)=>e*t))*n;await this.glContext.createAndWaitForFence();const i=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(t),n),o=this.toTensorData(t,i),s=this.pendingRead.get(a);return this.pendingRead.delete(a),null==s||s.forEach((e=>e(o))),o}))}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(()=>{const t=e.shape.reduce(((e,t)=>e*t)),n=this.glContext.readTexture(e.texture,e.width,e.height,4*t,"byte",4);return new Float32Array(n.buffer,n.byteOffset,t)}))}releaseTexture(e,t){let n;if(this.config.reuseTextures&&(n=this.textureLookup.get(e.texture),n)){t&&this.textureLookup.delete(n);const a=this.inUseTextures.get(n);if(a){const t=a.indexOf(e.texture);if(-1!==t){a.splice(t,1);let r=this.idleTextures.get(n);r||(r=[],this.idleTextures.set(n,r)),r.push(e.texture)}}}n&&!t||(a.Logger.verbose("TextureManager","Deleting texture of size ".concat(e.width,"x").concat(e.height)),this.glContext.deleteTexture(e.texture))}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error("TensorData type ".concat(e," is not supported"))}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(n=t.TextureType||(t.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},9390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;const a=n(2517);t.getPackedShape=function(e){const t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)},t.repeatedTry=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0;return new Promise(((a,r)=>{let i=0;const o=()=>{if(e())return void a();i++;const s=t(i);null!=n&&i>=n?r():setTimeout(o,s)};o()}))},t.generateShaderFuncNameFromInputSamplerName=function(e){return(0,a.assert)(void 0!==e&&0!==e.length,(()=>"empty string found for sampler name")),"get"+e.charAt(0).toUpperCase()+e.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(e){return(0,a.assert)(void 0!==e&&0!==e.length,(()=>"empty string found for sampler name")),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(e,t){let n=JSON.parse(JSON.stringify(e));return n=t,n},t.getSqueezedParams=function(e,t){return t.map((t=>e[t])).join(", ")},t.getCoordsDataType=function(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))},t.getGlChannels=function(){return["x","y","z","w","u","v"].slice(0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:6)}},7305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;const a=n(6231),r=n(1713),i={};function o(e){const t=function(){if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const e=document.createElement("canvas");return e.width=1,e.height=1,e}();let n;const i={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(n=t.getContext("webgl2",i),n))try{return new r.WebGLContext(n,2)}catch(e){a.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: ".concat(e))}if((!e||"webgl"===e)&&(n=t.getContext("webgl",i)||t.getContext("experimental-webgl",i),n))try{return new r.WebGLContext(n,1)}catch(e){a.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ".concat(e))}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){let n;t&&"webgl2"!==t||!("webgl2"in i)?t&&"webgl"!==t||!("webgl"in i)||(n=i.webgl):n=i.webgl2,n=n||o(t),t=t||1===n.version?"webgl":"webgl2";const a=n.gl;return i[t]=n,a.isContextLost()?(delete i[t],e(t)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),n)},t.createNewWebGLContext=o},1713:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;const o=n(1670),s=i(n(7769)),l=n(9390);function c(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}t.linearSearchLastTrue=c,t.WebGLContext=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,t,n,a){const r=this.gl,i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const o=a?n.encode(a,e*t):null;return r.texImage2D(r.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,o),this.checkError(),i}updateTexture(e,t,n,a,r){const i=this.gl;i.bindTexture(i.TEXTURE_2D,e);const o=a.encode(r,t*n);i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,n,a.format,a.textureType,o),this.checkError()}attachFramebuffer(e,t,n){const a=this.gl;a.bindTexture(a.TEXTURE_2D,e),a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),this.checkError(),a.viewport(0,0,t,n),a.scissor(0,0,t,n)}readTexture(e,t,n,a,r,i){const o=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(e,t,n);const s=this.getEncoder(r,i),l=s.allocate(t*n);return o.bindTexture(o.TEXTURE_2D,e),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0),o.readPixels(0,0,t,n,o.RGBA,s.textureType,l),this.checkError(),s.decode(l,a)}isFramebufferReady(){return!0}getActiveTexture(){const e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,t){const n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError()}createProgram(e,t){const n=this.gl,a=n.createProgram();return n.attachShader(a,e),n.attachShader(a,t),n.linkProgram(a),a}compileShader(e,t){const n=this.gl,a=n.createShader(t);if(!a)throw new Error("createShader() returned null with type ".concat(t));if(n.shaderSource(a,e),n.compileShader(a),!1===n.getShaderParameter(a,n.COMPILE_STATUS))throw new Error("Failed to compile shader: ".concat(n.getShaderInfoLog(a),"\nShader source:\n").concat(e));return a}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,t,n){const a=this.gl;a.activeTexture(a.TEXTURE0+t),this.checkError(),a.bindTexture(a.TEXTURE_2D,e),this.checkError(),a.uniform1i(n,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(o.env.debug){const e=this.gl,t=e.getError();let n="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:n="INVALID_ENUM";break;case e.INVALID_VALUE:n="INVALID_VALUE";break;case e.INVALID_OPERATION:n="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n="Unknown WebGL Error: ".concat(t.toString(16))}throw new Error(n)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(2===this.version)return new s.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new s.RGBAFloatDataEncoder(this.gl,t):new s.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new s.Uint8DataEncoder(this.gl,t);default:throw new Error("Invalid dataType: ".concat(e))}}clearActiveTextures(){const e=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");const n=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.checkError(),t}createFramebuffer(){const e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){const e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);const n=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(a),r}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const e=this.gl;let t,n,a,r,i;try{t=e.createTexture(),n=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,t);const o=2===this.version?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,o,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.enable(e.BLEND),a=e.createShader(e.VERTEX_SHADER),!!a&&(e.shaderSource(a,"void main(){}"),e.compileShader(a),r=e.createShader(e.FRAGMENT_SHADER),!!r&&(e.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(r),i=e.createProgram(),!!i&&(e.attachShader(i,a),e.attachShader(i,r),e.linkProgram(i),e.useProgram(i),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)))}finally{e.disable(e.BLEND),i&&e.deleteProgram(i),a&&e.deleteShader(a),r&&e.deleteShader(r),n&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(n)),t&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(t))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const e=this.gl,t=this.disjointTimerQueryWebgl2Extension,n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT)}}isTimerResultAvailable(e){let t=!1,n=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const a=this.gl,r=this.disjointTimerQueryWebgl2Extension;t=a.getQueryParameter(e,a.QUERY_RESULT_AVAILABLE),n=a.getParameter(r.GPU_DISJOINT_EXT)}return t&&!n}getTimerResult(e){let t=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const n=this.gl;t=n.getQueryParameter(e,n.QUERY_RESULT),n.deleteQuery(e)}return t/1e6}async waitForQueryAndGetTime(e){return await(0,l.repeatedTry)((()=>this.isTimerResultAvailable(e))),this.getTimerResult(e)}async createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t;const n=e,a=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),t=null===a?()=>!0:()=>{const e=n.clientWaitSync(a,0,0);return e===n.ALREADY_SIGNALED||e===n.CONDITION_SATISFIED},{query:a,isFencePassed:t}}async pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=c(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||await(0,l.repeatedTry)((()=>(this.pollItems(),0===this.itemsToPoll.length)))}}},1036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;const a=n(6231);class r{constructor(e,t){this.op=e,this.node=t}}t.ExecutionPlan=class{constructor(e,t,n){this.graph=e,this.profiler=n,this.initialize(t)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",(()=>{const t=this.graph.getNodes();if(t.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map(((e,n)=>new r(e,t[n]))),this.reset(),this._starter=[],this._ops.forEach(((e,t)=>{let n=!0;for(const a of e.node.inputs)if(!this._values[a]&&-1===this.graph.getInputIndices().indexOf(a)){n=!1;break}n&&this._starter.push(t)}))}))}reset(){this._values=this.graph.getValues().map((e=>e.tensor))}async execute(e,t){return this.profiler.event("session","ExecutionPlan.execute",(async()=>{this.reset();const n=e.createInferenceHandler(),r=this.graph.getInputIndices();if(t.length!==r.length)throw new Error("number of input tensors don't match the number of inputs to the model: actual: ".concat(t.length," expected: ").concat(r.length));t.forEach(((e,t)=>{const n=r[t];this._values[n]=e}));const i=this._starter.slice(0),o=this.graph.getValues(),s=this.graph.getNodes();let l=0;for(;l<i.length;){const e=i[l++],t=this._ops[e],r=t.node.inputs.map((e=>this._values[e]));if(-1!==r.indexOf(void 0))throw new Error("unresolved input detected: op: ".concat(t.node));const c=r;a.Logger.verbose("ExecPlan","Runing op:".concat(t.node.name," (").concat(c.map(((e,n)=>"'".concat(t.node.inputs[n],"': ").concat(e.type,"[").concat(e.dims.join(","),"]"))).join(", "),")"));const u=await this.profiler.event("node",t.node.name,(async()=>t.op.impl(n,c,t.op.context)));if(u.length!==t.node.outputs.length)throw new Error("the size of output does not match model definition.");u.forEach(((e,n)=>{const a=t.node.outputs[n];if(this._values[a])throw new Error("output [".concat(a,"] already has value: op:").concat(t.node.name));this._values[a]=e}));const d=new Set;u.forEach(((e,n)=>{const a=t.node.outputs[n];for(const t of o[a].to){const e=s[t];let n=!0;for(const t of e.inputs)if(!this._values[t]){n=!1;break}n&&d.add(t)}})),i.push(...d)}const c=[];for(let e=0;e<this.graph.getOutputIndices().length;e++){const t=this.graph.getOutputIndices()[e],n=this._values[t];if(void 0===n)throw new Error("required output [".concat(t,"] does not have value"));0===t?await n.getData():n.data,c.push(n)}return a.Logger.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),c}))}}},7070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const a=n(1446),r=n(7778),i=n(9395),o=n(9162),s=n(2517);var l=i.onnxruntime.experimental.fbs;t.Graph={from:(e,t)=>new d(e,t)};class c{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=s.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class u{constructor(e,t){e instanceof a.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new r.Attribute(e.attribute)):e instanceof l.Node&&(this.name=null!=t?t:e.name(),this.opType=e.opType(),this.attributes=new r.Attribute(s.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class d{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof a.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof l.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}buildGraphFromOnnxFormat(e){const t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const n=new Map;if(!e.input)throw new Error("missing information in graph: input");const a=[];for(const r of e.input){if(t.has(r.name))throw new Error("duplicated input name: ".concat(r.name));const e=this._allData.push(new c(r))-1;t.set(r.name,e),a.push(r.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(const r of e.initializer){let e=t.get(r.name);if(void 0===e){const n=new c;n.type={shape:{dims:s.ProtoUtil.tensorDimsFromProto(r.dims)},tensorType:s.ProtoUtil.tensorDataTypeFromProto(r.dataType)},e=this._allData.push(n)-1,t.set(r.name,e)}this._allData[e]._from=-1,this._allData[e].tensor=o.Tensor.fromProto(r)}for(let r=0;r<this._allData.length;r++)this._allData[r].tensor||(this._allInputIndices.push(r),this._allInputNames.push(a[r]));if(!e.output)throw new Error("missing information in graph: output");for(const r of e.output){if(t.has(r.name))throw new Error("duplicated output name: ".concat(r.name));const e=this._allData.push(new c(r))-1;t.set(r.name,e),this._allOutputIndices.push(e),this._allOutputNames.push(r.name)}if(!e.node)throw new Error("missing information in graph: node");for(const r of e.node){if(!r.name)for(let t=0;;t++){const e="unnamed_".concat(r.opType,"_").concat(t);if(!n.has(e)){r.name=e;break}}if(n.has(r.name))throw new Error("duplicated node name: ".concat(r.name));const e=this._nodes.push(new u(r))-1;n.set(r.name,e)}for(let r=0;r<this._nodes.length;r++){const n=this._nodes[r],a=e.node[r];if(!a.output)throw new Error("missing output for node: ".concat(a.name));for(const e of a.output){let i=t.get(e);if(void 0===i&&(i=this._allData.push(new c)-1,t.set(e,i)),n.outputs.push(i),void 0!==this._allData[i]._from)throw new Error("multiple nodes output to one data value: ".concat(i));if(this._allData[i]._from=r,"Constant"===a.opType){if(!a.attribute||1!==a.attribute.length||!a.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!a.output||1!==a.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");n.outputs.pop(),n.executeNode=!1,this._allData[i]._from=-1,this._allData[i].tensor=o.Tensor.fromProto(a.attribute[0].t)}}}for(let r=0;r<this._nodes.length;r++){const n=this._nodes[r],a=e.node[r];if(!a.input)throw new Error("missing input for node: ".concat(a.name));for(const e of a.input){const i=t.get(e);if(void 0===i){if(""===e&&3===a.input.length&&"Resize"===a.opType)continue;throw new Error("unrecognized input '".concat(e,"' for node: ").concat(a.name))}n.inputs.push(i),this._allData[i]._to.push(r)}}return!0}buildGraphFromOrtFormat(e){var t,n,a;const r=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const i=new Map,d=[];for(let o=0;o<e.inputsLength();o++){const i=e.inputs(o);if(r.has(i))throw new Error("duplicated input name: ".concat(i));for(let o=0;o<e.nodeArgsLength();o++)if((null===(t=e.nodeArgs(o))||void 0===t?void 0:t.name())===i){const t=new c;if((null===(a=null===(n=e.nodeArgs(o))||void 0===n?void 0:n.type())||void 0===a?void 0:a.valueType())!==l.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const u=e.nodeArgs(o).type().value(new l.TensorTypeAndShape),h=s.ProtoUtil.tensorDataTypeFromProto(u.elemType()),p=u.shape(),f=[];for(let e=0;e<p.dimLength();e++)f.push(s.LongUtil.longToNumber(p.dim(e).value().dimValue()));t.type={shape:{dims:f},tensorType:h};const m=this._allData.push(t)-1;r.set(i,m),d.push(i)}}for(let l=0;l<e.initializersLength();l++){const t=e.initializers(l);let n=r.get(t.name());if(void 0===n){const e=new c,a=s.ProtoUtil.tensorDimsFromORTFormat(t),i=s.ProtoUtil.tensorDataTypeFromProto(t.dataType());e.type={shape:{dims:a},tensorType:i},n=this._allData.push(e)-1,r.set(t.name(),n)}this._allData[n]._from=-1,this._allData[n].tensor=o.Tensor.fromOrtTensor(t)}for(let o=0;o<this._allData.length;o++)this._allData[o].tensor||(this._allInputIndices.push(o),this._allInputNames.push(d[o]));for(let o=0;o<e.outputsLength();o++){const t=e.outputs(o);if(r.has(t))throw new Error("duplicated output name: ".concat(t));const n=this._allData.push(new c)-1;r.set(t,n),this._allOutputIndices.push(n),this._allOutputNames.push(t)}if(!e.nodes)throw new Error("missing information in graph: node");for(let o=0;o<e.nodesLength();o++){const t=e.nodes(o);let n=t.name();if(!n)for(let e=0;n="unnamed_".concat(t.opType(),"_").concat(e),i.has(n);e++);if(i.has(n))throw new Error("duplicated node name: ".concat(n));const a=this._nodes.push(new u(t,n))-1;i.set(n,a)}for(let s=0;s<this._nodes.length;s++){const t=this._nodes[s],n=e.nodes(s);if(null==n)throw new Error("No node exists at index ".concat(s));if(0===(null==n?void 0:n.outputsLength()))throw new Error("missing output for node: ".concat(n.name));for(let e=0;e<(null==n?void 0:n.outputsLength());e++){const a=null==n?void 0:n.outputs(e);let i=r.get(a);if(void 0===i&&(i=this._allData.push(new c)-1,r.set(a,i)),t.outputs.push(i),void 0!==this._allData[i]._from)throw new Error("multiple nodes output to one data value: ".concat(i));if(this._allData[i]._from=s,"Constant"===n.opType()){if(1!==n.attributesLength()||!n.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==n.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");t.outputs.pop(),t.executeNode=!1,this._allData[i]._from=-1,this._allData[i].tensor=o.Tensor.fromOrtTensor(n.attributes(0).t())}}}for(let o=0;o<this._nodes.length;o++){const t=this._nodes[o],n=e.nodes(o);if(0===n.inputsLength())throw new Error("missing input for node: ".concat(n.name));for(let e=0;e<n.inputsLength();e++){const a=n.inputs(e),i=r.get(a);if(void 0===i)throw new Error("unrecognized input '".concat(a,"' for node: ").concat(n.name()));t.inputs.push(i),this._allData[i]._to.push(o)}}}checkIsAcyclic(){const e=new Set;this._allInputIndices.forEach((t=>{this._allData[t]._to.forEach((t=>{e.add(t)}))}));const t=Array.from(e),n=new Array(this._nodes.length).fill("white");for(;t.length>0;){const e=t.pop();"gray"===n[e]?n[e]="black":(t.push(e),n[e]="gray",this._nodes[e].outputs.forEach((a=>{const r=this._allData[a];if(void 0!==r.tensor)throw new Error("node outputs should not be initialized");if(r._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");r._to.forEach((e=>{if("gray"===n[e])throw new Error("model graph is cyclic");"white"===n[e]&&t.push(e)}))})))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0;for(let t=0;t<this._nodes.length;t++)this._nodes[t].executeNode?e>0&&(this._nodes[t].inputs.forEach((n=>{const a=this._allData[n]._to.indexOf(t+e);-1!==a&&(this._allData[n]._to[a]=t)})),this._nodes[t].outputs.forEach((n=>{this._allData[n]._from&&this._allData[n]._from===t+e&&(this._allData[n]._from=t)}))):(e++,this._nodes[t].outputs.forEach((e=>{this._allData[e]._from=-2})),this._nodes.splice(t,1),t--);e=0;for(let t=0;t<this._allData.length;t++)if(-2!==this._allData[t].from||-1!==this._allOutputIndices.indexOf(t+e)){if(e>0){let n=-1;void 0!==this._allData[t].from&&-1!==this._allData[t].from?(n=this._nodes[this._allData[t].from].outputs.indexOf(t+e),-1!==n&&(this._nodes[this._allData[t].from].outputs[n]=t)):(n=this._allInputIndices.indexOf(t+e),-1!==n&&(this._allInputIndices[n]=t)),this._allData[t].to.forEach((a=>{n=this._nodes[a].inputs.indexOf(t+e),-1!==n&&(this._nodes[a].inputs[n]=t)})),0===this._allData[t].to.length&&(n=this._allOutputIndices.indexOf(t+e),-1!==n&&(this._allOutputIndices[n]=t))}}else e++,this._allData.splice(t,1),t--}deleteNode(e){const t=this._nodes[e];if(t.outputs.length>1)for(let s=1;s<t.outputs.length;s++)if(this._allData[t.outputs[s]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;const n=t.inputs[0],a=t.outputs[0],r=this._allData[a].to,i=this._allData[n].to.indexOf(e);if(-1===i)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n].to.splice(i,1),this._allData[a]._to=[];const o=this._allOutputIndices.indexOf(a);if(-1!==o&&(this._allOutputIndices[o]=n),r&&r.length>0)for(const s of r){const e=this._nodes[s].inputs.indexOf(a);if(-1===e)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[s].inputs[e]=n,this._allData[n].to.push(s)}}removeAllDropoutNodes(){let e=0;for(const t of this._nodes){if("Dropout"===t.opType){if(1!==t.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==t.outputs.length&&2!==t.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===t.outputs.length&&0!==this._allData[t.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(const t of this._nodes)"Identity"===t.opType&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const e of this._nodes)if("Conv"===e.opType){const n=this._allData[e.outputs[0]]._to;if(1===n.length&&this.isActivation(this._nodes[n[0]])){const a=this._nodes[n[0]];if("Clip"===a.opType)if(1===a.inputs.length)try{e.attributes.set("activation_params","floats",[a.attributes.getFloat("min"),a.attributes.getFloat("max")])}catch(t){e.attributes.set("activation_params","floats",[s.MIN_CLIP,s.MAX_CLIP])}else{if(!(a.inputs.length>=3&&void 0!==this._allData[a.inputs[1]].tensor&&void 0!==this._allData[a.inputs[2]].tensor))continue;e.attributes.set("activation_params","floats",[this._allData[a.inputs[1]].tensor.floatData[0],this._allData[a.inputs[2]].tensor.floatData[0]])}e.attributes.set("activation","string",a.opType),this.deleteNode(n[0])}}}}},6231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;const n={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},a={none:new class{log(e,t,n){}},console:new class{log(e,t,n){console.log("".concat(this.color(e)," ").concat(n?"\x1b[35m"+n+"\x1b[0m ":"").concat(t))}color(e){switch(e){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error("unsupported severity: ".concat(e))}}}},r={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let i={"":r};function o(e,t,n,a){if(void 0===t)return r=e,{verbose:o.verbose.bind(null,r),info:o.info.bind(null,r),warning:o.warning.bind(null,r),error:o.error.bind(null,r),fatal:o.fatal.bind(null,r)};if(void 0===n)s(e,t);else if("number"==typeof n&&void 0===a)s(e,t);else if("string"==typeof n&&void 0===a)s(e,n,0,t);else{if("string"!=typeof n||"number"!=typeof a)throw new TypeError("input is valid");s(e,n,0,t)}var r}function s(e,t,r,o){const s=i[o||""]||i[""];n[e]<n[s.minimalSeverity]||(s.logDateTime&&(t="".concat((new Date).toISOString(),"|").concat(t)),s.logSourceLocation,a[s.provider].log(e,t,o))}!function(e){function t(e){i={},n("",e||{})}function n(e,n){if("*"===e)t(n);else{const t=i[e]||r;i[e]={provider:n.provider||t.provider,minimalSeverity:n.minimalSeverity||t.minimalSeverity,logDateTime:void 0===n.logDateTime?t.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?t.logSourceLocation:n.logSourceLocation}}}e.verbose=function(t,n){e("verbose",t,n)},e.info=function(t,n){e("info",t,n)},e.warning=function(t,n){e("warning",t,n)},e.error=function(t,n){e("error",t,n)},e.fatal=function(t,n){e("fatal",t,n)},e.reset=t,e.set=n,e.setWithEnv=function(e){const t={};e.logLevel&&(t.minimalSeverity=e.logLevel),n("",t)}}(o||(o={})),t.Logger=o;class l{constructor(e,t,n,a,r,i){this.category=e,this.name=t,this.startTime=n,this.endCallback=a,this.timer=r,this.ctx=i}end(){return this.endCallback(this)}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class c{constructor(e,t,n,a){this.category=e,this.name=t,this.startTime=n,this.endTime=a}}t.Profiler=class{static create(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}constructor(e,t,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===n?5e3:n}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,t.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,t,n,a){const r=this._started?this.begin(e,t,a):void 0;let i=!1;const o=n();if(o&&"function"==typeof o.then)return i=!0,new Promise(((e,t)=>{o.then((async t=>{r&&await r.end(),e(t)}),(async e=>{r&&await r.end(),t(e)}))}));if(!i&&r){const e=r.end();if(e&&"function"==typeof e.then)return new Promise(((t,n)=>{e.then((()=>{t(o)}),(e=>{n(e)}))}))}return o}begin(e,n,a){if(!this._started)throw new Error("profiler is not started yet");if(void 0===a){const a=(0,t.now)();return this.flush(a),new l(e,n,a,(e=>this.endSync(e)))}{const t=a.beginTimer();return new l(e,n,0,(async e=>this.end(e)),t,a)}}async end(e){const t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new c(e.category,e.name,e.startTime,t)),this.flush(t))}endSync(e){const n=(0,t.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new c(e.category,e.name,e.startTime,n)),this.flush(n))}logOneEvent(e){t.Logger.verbose("Profiler.".concat(e.category),"".concat((e.endTime-e.startTime).toFixed(2),"ms on event '").concat(e.name,"' at ").concat(e.endTime.toFixed(2)))}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(const e=this._flushPointer;this._flushPointer<e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,t.now)()}}get started(){return this._started}},t.now="undefined"!=typeof performance&&performance.now?()=>performance.now():Date.now},2644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const a=n(5686),r=n(1446),i=n(7070),o=n(9395),s=n(2517);var l=o.onnxruntime.experimental.fbs;t.Model=class{constructor(){}load(e,t,n){if(!n)try{return void this.loadFromOnnxFormat(e,t)}catch(e){if(void 0!==n)throw e}this.loadFromOrtFormat(e,t)}loadFromOnnxFormat(e,t){const n=r.onnx.ModelProto.decode(e);if(s.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map((e=>({domain:e.domain,version:s.LongUtil.longToNumber(e.version)}))),this._graph=i.Graph.from(n.graph,t)}loadFromOrtFormat(e,t){const n=new a.flatbuffers.ByteBuffer(e),r=l.InferenceSession.getRootAsInferenceSession(n).model();if(s.LongUtil.longToNumber(r.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let a=0;a<r.opsetImportLength();a++){const e=r.opsetImport(a);this._opsets.push({domain:null==e?void 0:e.domain(),version:s.LongUtil.longToNumber(e.version())})}this._graph=i.Graph.from(r.graph(),t)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},1047:(e,t)=>{"use strict";function n(e,t){if(t.endsWith("+")){const n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=e}if(2===t.split("-").length){const n=t.split("-"),a=Number.parseInt(n[0],10),r=Number.parseInt(n[1],10);return!isNaN(a)&&!isNaN(r)&&a<=e&&e<=r}return Number.parseInt(t,10)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,a){for(const r of a){const a=r[0],i=r[1],o=r[2],s=r[3],l=r[4];if(e.opType===a)for(const e of t)if((e.domain===i||"ai.onnx"===e.domain&&""===i)&&n(e.version,o))return{opImpl:s,opInit:l}}throw new TypeError("cannot resolve operator '".concat(e.opType,"' with opsets: ").concat(t.map((e=>"".concat(e.domain||"ai.onnx"," v").concat(e.version))).join(", ")))}},9395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onnxruntime=void 0;const a=n(5686);var r,i;(function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.INT=2]="INT",e[e.STRING=3]="STRING",e[e.TENSOR=4]="TENSOR",e[e.GRAPH=5]="GRAPH",e[e.FLOATS=6]="FLOATS",e[e.INTS=7]="INTS",e[e.STRINGS=8]="STRINGS",e[e.TENSORS=9]="TENSORS",e[e.GRAPHS=10]="GRAPHS",e[e.SPARSE_TENSOR=11]="SPARSE_TENSOR",e[e.SPARSE_TENSORS=12]="SPARSE_TENSORS"}(t=e.AttributeType||(e.AttributeType={}))})((i=(r=t.onnxruntime||(t.onnxruntime={})).experimental||(r.experimental={})).fbs||(i.fbs={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VALUE=1]="VALUE",e[e.PARAM=2]="PARAM"}(t=e.DimensionValueType||(e.DimensionValueType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.UINT8=2]="UINT8",e[e.INT8=3]="INT8",e[e.UINT16=4]="UINT16",e[e.INT16=5]="INT16",e[e.INT32=6]="INT32",e[e.INT64=7]="INT64",e[e.STRING=8]="STRING",e[e.BOOL=9]="BOOL",e[e.FLOAT16=10]="FLOAT16",e[e.DOUBLE=11]="DOUBLE",e[e.UINT32=12]="UINT32",e[e.UINT64=13]="UINT64",e[e.COMPLEX64=14]="COMPLEX64",e[e.COMPLEX128=15]="COMPLEX128",e[e.BFLOAT16=16]="BFLOAT16"}(t=e.TensorDataType||(e.TensorDataType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.Primitive=0]="Primitive",e[e.Fused=1]="Fused"}(t=e.NodeType||(e.NodeType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.NONE=0]="NONE",e[e.tensor_type=1]="tensor_type",e[e.sequence_type=2]="sequence_type",e[e.map_type=3]="map_type"}(t=e.TypeInfoValue||(e.TypeInfoValue={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsShape(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dim(t,n){let a=this.bb.__offset(this.bb_pos,4);return a?(n||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}dimLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startShape(e){e.startObject(1)}static addDim(e,t){e.addFieldOffset(0,t,0)}static createDimVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startDimVector(e,t){e.startVector(4,t,4)}static endShape(e){return e.endObject()}static createShape(e,t){return n.startShape(e),n.addDim(e,t),n.endShape(e)}}t.Shape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimension(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimension(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}value(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}denotation(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimension(e){e.startObject(2)}static addValue(e,t){e.addFieldOffset(0,t,0)}static addDenotation(e,t){e.addFieldOffset(1,t,0)}static endDimension(e){return e.endObject()}static createDimension(e,t,a){return n.startDimension(e),n.addValue(e,t),n.addDenotation(e,a),n.endDimension(e)}}t.Dimension=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimensionValue(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimensionValue(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dimType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}dimParam(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimensionValue(e){e.startObject(3)}static addDimType(t,n){t.addFieldInt8(0,n,e.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static addDimParam(e,t){e.addFieldOffset(2,t,0)}static endDimensionValue(e){return e.endObject()}static createDimensionValue(e,t,a,r){return n.startDimensionValue(e),n.addDimType(e,t),n.addDimValue(e,a),n.addDimParam(e,r),n.endDimensionValue(e)}}t.DimensionValue=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorTypeAndShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorTypeAndShape(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}shape(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startTensorTypeAndShape(e){e.startObject(2)}static addElemType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(e,t){e.addFieldOffset(1,t,0)}static endTensorTypeAndShape(e){return e.endObject()}static createTensorTypeAndShape(e,t,a){return n.startTensorTypeAndShape(e),n.addElemType(e,t),n.addShape(e,a),n.endTensorTypeAndShape(e)}}t.TensorTypeAndShape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMapType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMapType(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}keyType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}valueType(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startMapType(e){e.startObject(2)}static addKeyType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(e,t){e.addFieldOffset(1,t,0)}static endMapType(e){return e.endObject()}static createMapType(e,t,a){return n.startMapType(e),n.addKeyType(e,t),n.addValueType(e,a),n.endMapType(e)}}t.MapType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSequenceType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSequenceType(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSequenceType(e){e.startObject(1)}static addElemType(e,t){e.addFieldOffset(0,t,0)}static endSequenceType(e){return e.endObject()}static createSequenceType(e,t){return n.startSequenceType(e),n.addElemType(e,t),n.endSequenceType(e)}}t.SequenceType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){(e.fbs||(e.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(e,t,n,a){return e.prep(4,12),e.writeInt32(a),e.writeInt32(n),e.writeInt32(t),e.offset()}}}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNodeEdge(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNodeEdge(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}nodeIndex(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0}inputEdges(t,n){let a=this.bb.__offset(this.bb_pos,6);return a?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+a)+12*t,this.bb):null}inputEdgesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}outputEdges(t,n){let a=this.bb.__offset(this.bb_pos,8);return a?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+a)+12*t,this.bb):null}outputEdgesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNodeEdge(e){e.startObject(3)}static addNodeIndex(e,t){e.addFieldInt32(0,t,0)}static addInputEdges(e,t){e.addFieldOffset(1,t,0)}static startInputEdgesVector(e,t){e.startVector(12,t,4)}static addOutputEdges(e,t){e.addFieldOffset(2,t,0)}static startOutputEdgesVector(e,t){e.startVector(12,t,4)}static endNodeEdge(e){return e.endObject()}static createNodeEdge(e,t,a,r){return n.startNodeEdge(e),n.addNodeIndex(e,t),n.addInputEdges(e,a),n.addOutputEdges(e,r),n.endNodeEdge(e)}}t.NodeEdge=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNode(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNode(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}sinceVersion(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0}index(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0}opType(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.NodeType.Primitive}executionProviderType(e){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null}inputs(e,t){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}attributes(t,n){let a=this.bb.__offset(this.bb_pos,24);return a?(n||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}attributesLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCounts(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}inputArgCountsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCountsArray(){let e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}implicitInputs(e,t){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}implicitInputsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNode(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDomain(e,t){e.addFieldOffset(2,t,0)}static addSinceVersion(e,t){e.addFieldInt32(3,t,0)}static addIndex(e,t){e.addFieldInt32(4,t,0)}static addOpType(e,t){e.addFieldOffset(5,t,0)}static addType(t,n){t.addFieldInt32(6,n,e.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(e,t){e.addFieldOffset(7,t,0)}static addInputs(e,t){e.addFieldOffset(8,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(9,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addAttributes(e,t){e.addFieldOffset(10,t,0)}static createAttributesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startAttributesVector(e,t){e.startVector(4,t,4)}static addInputArgCounts(e,t){e.addFieldOffset(11,t,0)}static createInputArgCountsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startInputArgCountsVector(e,t){e.startVector(4,t,4)}static addImplicitInputs(e,t){e.addFieldOffset(12,t,0)}static createImplicitInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startImplicitInputsVector(e,t){e.startVector(4,t,4)}static endNode(e){return e.endObject()}static createNode(e,t,a,r,i,o,s,l,c,u,d,h,p,f){return n.startNode(e),n.addName(e,t),n.addDocString(e,a),n.addDomain(e,r),n.addSinceVersion(e,i),n.addIndex(e,o),n.addOpType(e,s),n.addType(e,l),n.addExecutionProviderType(e,c),n.addInputs(e,u),n.addOutputs(e,d),n.addAttributes(e,h),n.addInputArgCounts(e,p),n.addImplicitInputs(e,f),n.endNode(e)}}t.Node=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsValueInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsValueInfo(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startValueInfo(e){e.startObject(3)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldOffset(2,t,0)}static endValueInfo(e){return e.endObject()}static createValueInfo(e,t,a,r){return n.startValueInfo(e),n.addName(e,t),n.addDocString(e,a),n.addType(e,r),n.endValueInfo(e)}}t.ValueInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTypeInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTypeInfo(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}denotation(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}valueType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):e.experimental.fbs.TypeInfoValue.NONE}value(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}static startTypeInfo(e){e.startObject(3)}static addDenotation(e,t){e.addFieldOffset(0,t,0)}static addValueType(t,n){t.addFieldInt8(1,n,e.experimental.fbs.TypeInfoValue.NONE)}static addValue(e,t){e.addFieldOffset(2,t,0)}static endTypeInfo(e){return e.endObject()}static createTypeInfo(e,t,a,r){return n.startTypeInfo(e),n.addDenotation(e,t),n.addValueType(e,a),n.addValue(e,r),n.endTypeInfo(e)}}t.TypeInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsOperatorSetId(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsOperatorSetId(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}domain(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}version(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}static startOperatorSetId(e){e.startObject(2)}static addDomain(e,t){e.addFieldOffset(0,t,0)}static addVersion(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static endOperatorSetId(e){return e.endObject()}static createOperatorSetId(e,n,a){return t.startOperatorSetId(e),t.addDomain(e,n),t.addVersion(e,a),t.endOperatorSetId(e)}}e.OperatorSetId=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}dataType(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}rawData(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}rawDataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}rawDataArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}stringData(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringDataLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}static startTensor(e){e.startObject(6)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static addDataType(t,n){t.addFieldInt32(3,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(e,t){e.addFieldOffset(4,t,0)}static createRawDataVector(e,t){e.startVector(1,t.length,1);for(let n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()}static startRawDataVector(e,t){e.startVector(1,t,1)}static addStringData(e,t){e.addFieldOffset(5,t,0)}static createStringDataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringDataVector(e,t){e.startVector(4,t,4)}static endTensor(e){return e.endObject()}static createTensor(e,t,a,r,i,o,s){return n.startTensor(e),n.addName(e,t),n.addDocString(e,a),n.addDims(e,r),n.addDataType(e,i),n.addRawData(e,o),n.addStringData(e,s),n.endTensor(e)}}t.Tensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}values(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}indices(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSparseTensor(e){e.startObject(3)}static addValues(e,t){e.addFieldOffset(0,t,0)}static addIndices(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static endSparseTensor(e){return e.endObject()}static createSparseTensor(e,t,a,r){return n.startSparseTensor(e),n.addValues(e,t),n.addIndices(e,a),n.addDims(e,r),n.endSparseTensor(e)}}t.SparseTensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsAttribute(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsAttribute(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.AttributeType.UNDEFINED}f(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0}i(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}s(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}t(t){let n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}g(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}floats(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0}floatsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}floatsArray(){let e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}ints(e){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}intsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}strings(e,t){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringsLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}tensors(t,n){let a=this.bb.__offset(this.bb_pos,26);return a?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}tensorsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}graphs(t,n){let a=this.bb.__offset(this.bb_pos,28);return a?(n||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}graphsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startAttribute(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(t,n){t.addFieldInt32(2,n,e.experimental.fbs.AttributeType.UNDEFINED)}static addF(e,t){e.addFieldFloat32(3,t,0)}static addI(e,t){e.addFieldInt64(4,t,e.createLong(0,0))}static addS(e,t){e.addFieldOffset(5,t,0)}static addT(e,t){e.addFieldOffset(6,t,0)}static addG(e,t){e.addFieldOffset(7,t,0)}static addFloats(e,t){e.addFieldOffset(8,t,0)}static createFloatsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()}static startFloatsVector(e,t){e.startVector(4,t,4)}static addInts(e,t){e.addFieldOffset(9,t,0)}static createIntsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startIntsVector(e,t){e.startVector(8,t,8)}static addStrings(e,t){e.addFieldOffset(10,t,0)}static createStringsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringsVector(e,t){e.startVector(4,t,4)}static addTensors(e,t){e.addFieldOffset(11,t,0)}static createTensorsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startTensorsVector(e,t){e.startVector(4,t,4)}static addGraphs(e,t){e.addFieldOffset(12,t,0)}static createGraphsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startGraphsVector(e,t){e.startVector(4,t,4)}static endAttribute(e){return e.endObject()}static createAttribute(e,t,a,r,i,o,s,l,c,u,d,h,p,f){return n.startAttribute(e),n.addName(e,t),n.addDocString(e,a),n.addType(e,r),n.addF(e,i),n.addI(e,o),n.addS(e,s),n.addT(e,l),n.addG(e,c),n.addFloats(e,u),n.addInts(e,d),n.addStrings(e,h),n.addTensors(e,p),n.addGraphs(e,f),n.endAttribute(e)}}t.Attribute=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGraph(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGraph(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}initializers(t,n){let a=this.bb.__offset(this.bb_pos,4);return a?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}initializersLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeArgs(t,n){let a=this.bb.__offset(this.bb_pos,6);return a?(n||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}nodeArgsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}nodes(t,n){let a=this.bb.__offset(this.bb_pos,8);return a?(n||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}maxNodeIndex(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0}nodeEdges(t,n){let a=this.bb.__offset(this.bb_pos,12);return a?(n||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}nodeEdgesLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}inputs(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}sparseInitializers(t,n){let a=this.bb.__offset(this.bb_pos,18);return a?(n||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}sparseInitializersLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGraph(e){e.startObject(8)}static addInitializers(e,t){e.addFieldOffset(0,t,0)}static createInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInitializersVector(e,t){e.startVector(4,t,4)}static addNodeArgs(e,t){e.addFieldOffset(1,t,0)}static createNodeArgsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeArgsVector(e,t){e.startVector(4,t,4)}static addNodes(e,t){e.addFieldOffset(2,t,0)}static createNodesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodesVector(e,t){e.startVector(4,t,4)}static addMaxNodeIndex(e,t){e.addFieldInt32(3,t,0)}static addNodeEdges(e,t){e.addFieldOffset(4,t,0)}static createNodeEdgesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeEdgesVector(e,t){e.startVector(4,t,4)}static addInputs(e,t){e.addFieldOffset(5,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(6,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addSparseInitializers(e,t){e.addFieldOffset(7,t,0)}static createSparseInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSparseInitializersVector(e,t){e.startVector(4,t,4)}static endGraph(e){return e.endObject()}static createGraph(e,t,a,r,i,o,s,l,c){return n.startGraph(e),n.addInitializers(e,t),n.addNodeArgs(e,a),n.addNodes(e,r),n.addMaxNodeIndex(e,i),n.addNodeEdges(e,o),n.addInputs(e,s),n.addOutputs(e,l),n.addSparseInitializers(e,c),n.endGraph(e)}}t.Graph=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsModel(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsModel(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}irVersion(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}opsetImport(t,n){let a=this.bb.__offset(this.bb_pos,6);return a?(n||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}opsetImportLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}producerName(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}producerVersion(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}modelVersion(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}docString(e){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null}graph(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}graphDocString(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null}static startModel(e){e.startObject(9)}static addIrVersion(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addOpsetImport(e,t){e.addFieldOffset(1,t,0)}static createOpsetImportVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOpsetImportVector(e,t){e.startVector(4,t,4)}static addProducerName(e,t){e.addFieldOffset(2,t,0)}static addProducerVersion(e,t){e.addFieldOffset(3,t,0)}static addDomain(e,t){e.addFieldOffset(4,t,0)}static addModelVersion(e,t){e.addFieldInt64(5,t,e.createLong(0,0))}static addDocString(e,t){e.addFieldOffset(6,t,0)}static addGraph(e,t){e.addFieldOffset(7,t,0)}static addGraphDocString(e,t){e.addFieldOffset(8,t,0)}static endModel(e){return e.endObject()}static createModel(e,t,a,r,i,o,s,l,c,u){return n.startModel(e),n.addIrVersion(e,t),n.addOpsetImport(e,a),n.addProducerName(e,r),n.addProducerVersion(e,i),n.addDomain(e,o),n.addModelVersion(e,s),n.addDocString(e,l),n.addGraph(e,c),n.addGraphDocString(e,u),n.endModel(e)}}t.Model=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKernelCreateInfos(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKernelCreateInfos(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}nodeIndices(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}nodeIndicesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeIndicesArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}kernelDefHashes(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}kernelDefHashesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startKernelCreateInfos(e){e.startObject(2)}static addNodeIndices(e,t){e.addFieldOffset(0,t,0)}static createNodeIndicesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startNodeIndicesVector(e,t){e.startVector(4,t,4)}static addKernelDefHashes(e,t){e.addFieldOffset(1,t,0)}static createKernelDefHashesVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startKernelDefHashesVector(e,t){e.startVector(8,t,8)}static endKernelCreateInfos(e){return e.endObject()}static createKernelCreateInfos(e,n,a){return t.startKernelCreateInfos(e),t.addNodeIndices(e,n),t.addKernelDefHashes(e,a),t.endKernelCreateInfos(e)}}e.KernelCreateInfos=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSubGraphSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSubGraphSessionState(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}graphId(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSubGraphSessionState(e){e.startObject(2)}static addGraphId(e,t){e.addFieldOffset(0,t,0)}static addSessionState(e,t){e.addFieldOffset(1,t,0)}static endSubGraphSessionState(e){let t=e.endObject();return e.requiredField(t,4),t}static createSubGraphSessionState(e,t,a){return n.startSubGraphSessionState(e),n.addGraphId(e,t),n.addSessionState(e,a),n.endSubGraphSessionState(e)}}t.SubGraphSessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSessionState(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}kernels(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}subGraphSessionStates(t,n){let a=this.bb.__offset(this.bb_pos,6);return a?(n||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*t),this.bb):null}subGraphSessionStatesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSessionState(e){e.startObject(2)}static addKernels(e,t){e.addFieldOffset(0,t,0)}static addSubGraphSessionStates(e,t){e.addFieldOffset(1,t,0)}static createSubGraphSessionStatesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSubGraphSessionStatesVector(e,t){e.startVector(4,t,4)}static endSessionState(e){return e.endObject()}static createSessionState(e,t,a){return n.startSessionState(e),n.addKernels(e,t),n.addSubGraphSessionStates(e,a),n.endSessionState(e)}}t.SessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInferenceSession(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInferenceSession(e,t){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static bufferHasIdentifier(e){return e.__has_identifier("ORTM")}ortVersion(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}model(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startInferenceSession(e){e.startObject(3)}static addOrtVersion(e,t){e.addFieldOffset(0,t,0)}static addModel(e,t){e.addFieldOffset(1,t,0)}static addSessionState(e,t){e.addFieldOffset(2,t,0)}static endInferenceSession(e){return e.endObject()}static finishInferenceSessionBuffer(e,t){e.finish(t,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(e,t){e.finish(t,"ORTM",!0)}static createInferenceSession(e,t,a,r){return n.startInferenceSession(e),n.addOrtVersion(e,t),n.addModel(e,a),n.addSessionState(e,r),n.endInferenceSession(e)}}t.InferenceSession=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={}))},7448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;const a=n(1670),r=n(9162);t.OnnxjsSessionHandler=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,t,n){const i=new Map;for(const a in e)if(Object.hasOwnProperty.call(e,a)){const t=e[a];i.set(a,new r.Tensor(t.dims,t.type,void 0,void 0,t.data))}const o=await this.session.run(i),s={};return o.forEach(((e,t)=>{s[t]=new a.Tensor(e.type,e.data,e.dims)})),s}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const a=n(7067),r=n(1296),i=n(7091),o=n(1036),s=n(6231),l=n(2644);t.Session=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._initialized=!1,this.backendHint=e.backendHint,this.profiler=s.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,t,n){await this.profiler.event("session","Session.loadModel",(async()=>{const o=await(0,i.resolveBackend)(this.backendHint);if(this.sessionHandler=o.createSessionHandler(this.context),this._model=new l.Model,"string"==typeof e){const t=e.endsWith(".ort");if("undefined"==typeof fetch){const n=await(0,r.promisify)(a.readFile)(e);this.initialize(n,t)}else{const n=await fetch(e),a=await n.arrayBuffer();this.initialize(new Uint8Array(a),t)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{const a=new Uint8Array(e,t||0,n||e.byteLength);this.initialize(a)}}))}initialize(e,t){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(()=>{const n=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,n,t),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new o.ExecutionPlan(this._model.graph,this._ops,this.profiler)})),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(async()=>{const t=this.normalizeAndValidateInputs(e),n=await this._executionPlan.execute(this.sessionHandler,t);return this.createOutput(n)}))}normalizeAndValidateInputs(e){const t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error("incorrect input array length: expected ".concat(t.length," but got ").concat(e.length))}else{if(e.size!==t.length)throw new Error("incorrect input map size: expected ".concat(t.length," but got ").concat(e.size));const n=new Array(e.size);let a=0;for(let r=0;r<t.length;++r){const i=e.get(t[r]);if(!i)throw new Error("missing input tensor for: '".concat(name,"'"));n[a++]=i}e=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{const t=this._model.graph.getInputIndices(),n=this._model.graph.getValues(),a=new Array(t.length);for(let r=0;r<t.length;++r){const i=n[t[r]];a[r]=i.type.shape.dims,this.context.graphInputTypes.push(i.type.tensorType),this.context.graphInputDims.push(e[r].dims)}this.validateInputTensorDims(a,e,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,t){for(let n=0;n<t.length;n++){const a=e[n],r=t[n].type;if(a!==r)throw new Error("input tensor[".concat(n,"] check failed: expected type '").concat(a,"' but got ").concat(r))}}validateInputTensorDims(e,t,n){for(let a=0;a<t.length;a++){const r=e[a],i=t[a].dims;if(!this.compareTensorDims(r,i,n))throw new Error("input tensor[".concat(a,"] check failed: expected shape '[").concat(r.join(","),"]' but got [").concat(i.join(","),"]"))}}compareTensorDims(e,t,n){if(e.length!==t.length)return!1;for(let a=0;a<e.length;++a)if(e[a]!==t[a]&&(!n||0!==e[a]))return!1;return!0}createOutput(e){const t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");const n=new Map;for(let a=0;a<t.length;++a)n.set(t[a],e[a]);return n}initializeOps(e){const t=e.getNodes();this._ops=new Array(t.length);for(let n=0;n<t.length;n++)this._ops[n]=this.sessionHandler.resolve(t[n],this._model.opsets,e)}}},9162:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const r=n(3442),i=a(n(3720)),o=n(1446),s=n(9395),l=n(2517);var c=s.onnxruntime.experimental.fbs;class u{get data(){if(void 0===this.cache){const e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[l.ShapeUtil.indicesToOffset(e,this.strides)]}set(e,t){this.data[l.ShapeUtil.indicesToOffset(e,this.strides)]=t}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=l.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(e,t,n,a,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r.Guid.create();this.dims=e,this.type=t,this.dataProvider=n,this.asyncDataProvider=a,this.cache=i,this.dataId=o,this.size=l.ShapeUtil.validateDimsAndCalcSize(e);const s=this.size,c=void 0===n&&void 0===a&&void 0===i;if(void 0!==i&&i.length!==s)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===i||Array.isArray(i)&&i.every((e=>"string"==typeof e))))throw new TypeError("cache should be a string array");c&&(this.cache=new Array(s))}else{if(void 0!==i){const e=h(t);if(!(i instanceof e))throw new TypeError("cache should be type ".concat(e.name))}if(c){const e=new ArrayBuffer(s*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(e))}}(t));this.cache=function(e,t){return new(h(t))(e)}(e,t)}}}static fromProto(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=l.ProtoUtil.tensorDataTypeFromProto(e.dataType),n=l.ProtoUtil.tensorDimsFromProto(e.dims),a=new u(n,t);if("string"===t)e.stringData.forEach(((e,t)=>{a.data[t]=(0,l.decodeUtf8String)(e)}));else if(e.rawData&&"number"==typeof e.rawData.byteLength&&e.rawData.byteLength>0){const t=a.data,n=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),r=d(e.dataType),i=e.rawData.byteLength/r;if(e.rawData.byteLength%r!=0)throw new Error("invalid buffer length");if(t.length!==i)throw new Error("buffer length mismatch");for(let a=0;a<i;a++){const i=f(n,e.dataType,a*r);t[a]=i}}else{let t;switch(e.dataType){case o.onnx.TensorProto.DataType.FLOAT:t=e.floatData;break;case o.onnx.TensorProto.DataType.INT32:case o.onnx.TensorProto.DataType.INT16:case o.onnx.TensorProto.DataType.UINT16:case o.onnx.TensorProto.DataType.INT8:case o.onnx.TensorProto.DataType.UINT8:case o.onnx.TensorProto.DataType.BOOL:t=e.int32Data;break;case o.onnx.TensorProto.DataType.INT64:t=e.int64Data;break;case o.onnx.TensorProto.DataType.DOUBLE:t=e.doubleData;break;case o.onnx.TensorProto.DataType.UINT32:case o.onnx.TensorProto.DataType.UINT64:t=e.uint64Data;break;default:throw new Error("unspecific error")}if(null==t)throw new Error("failed to populate data from a tensorproto value");const n=a.data;if(n.length!==t.length)throw new Error("array length mismatch");for(let a=0;a<t.length;a++){const r=t[a];i.default.isLong(r)?n[a]=p(r,e.dataType):n[a]=r}}return a}static fromData(e,t,n){return new u(t,n,void 0,void 0,e)}static fromOrtTensor(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=l.ProtoUtil.tensorDimsFromORTFormat(e),n=l.ProtoUtil.tensorDataTypeFromProto(e.dataType()),a=new u(t,n);if("string"===n)for(let r=0;r<e.stringDataLength();r++)a.data[r]=e.stringData(r);else if(e.rawDataArray()&&"number"==typeof e.rawDataLength()&&e.rawDataLength()>0){const t=a.data,n=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),r=d(e.dataType()),i=e.rawDataLength()/r;if(e.rawDataLength()%r!=0)throw new Error("invalid buffer length");if(t.length!==i)throw new Error("buffer length mismatch");for(let a=0;a<i;a++){const i=f(n,e.dataType(),a*r);t[a]=i}}return a}}function d(e){switch(e){case o.onnx.TensorProto.DataType.UINT8:case o.onnx.TensorProto.DataType.INT8:case o.onnx.TensorProto.DataType.BOOL:return 1;case o.onnx.TensorProto.DataType.UINT16:case o.onnx.TensorProto.DataType.INT16:return 2;case o.onnx.TensorProto.DataType.FLOAT:case o.onnx.TensorProto.DataType.INT32:case o.onnx.TensorProto.DataType.UINT32:return 4;case o.onnx.TensorProto.DataType.INT64:case o.onnx.TensorProto.DataType.DOUBLE:case o.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(o.onnx.TensorProto.DataType[e]))}}function h(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function p(e,t){if(t===o.onnx.TensorProto.DataType.INT64||t===c.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==o.onnx.TensorProto.DataType.UINT32&&t!==c.TensorDataType.UINT32&&t!==o.onnx.TensorProto.DataType.UINT64&&t!==c.TensorDataType.UINT64)throw new TypeError("not a LONG type: ".concat(o.onnx.TensorProto.DataType[t]));if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function f(e,t,n){switch(t){case o.onnx.TensorProto.DataType.BOOL:case o.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case o.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case o.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case o.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case o.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case o.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case o.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case o.onnx.TensorProto.DataType.INT64:return p(i.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case o.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case o.onnx.TensorProto.DataType.UINT64:return p(i.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error("cannot read from DataView for type ".concat(o.onnx.TensorProto.DataType[t]))}}t.Tensor=u},2517:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;const r=n(5686),i=a(n(3720)),o=n(1446),s=n(9162);t.checkInputsShape=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!e||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].dims||e[r].dims.length!==n[r])return!1;return!0},t.assert=function(e,t){if(!e)throw new Error("string"==typeof t?t:t())},t.ArrayUtil=class{static arraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}};class l{static preprocessInputShapes(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]}static postprocessOutputShape(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop()}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=l;class c{static calcShape(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=e.length,r=t.length;if(0===a)return t;if(0===r)return e;const i=Math.max(e.length,t.length),o=new Array(i);if(n){if(a<2||r<2)return;const n=l.calcMatMulShape([e[a-2],e[a-1]],[t[r-2],t[r-1]]);if(void 0===n)return;[o[i-2],o[i-1]]=n}for(let s=n?3:1;s<=i;s++){const n=a-s<0?1:e[a-s],l=r-s<0?1:t[r-s];if(n!==l&&n>1&&l>1)return;o[i-s]=Math.max(n,l)}return o}static index(e,t){const n=new Array(t.length);return c.fillIndex(e,t,n),n}static fillIndex(e,t,n){const a=e.length-t.length;for(let r=0;r<t.length;r++)n[r]=e[a+r]%t[r]}static calc(e,t,n,a,r){const i=c.calcShape(e.dims,t.dims);if(i){if(a&&!h.areEqual(i,e.dims))return;const o=h.size(i),l=a?e:new s.Tensor(i,r||e.type);if(0===i.length)l.set([],n(e.get([]),t.get([])));else{const a=new Array(i.length),r=new Array(e.dims.length),s=new Array(t.dims.length);let u,d=0,h=0,p=!1,f=!1;0===e.dims.length&&(d=e.get([]),p=!0),0===t.dims.length&&(h=t.get([]),f=!0);for(let m=0;m<o;m++){u=m;for(let e=i.length-1;e>=0;e--)a[e]=u%i[e],u=Math.floor(u/i[e]);p||(c.fillIndex(a,e.dims,r),d=e.get(r)),f||(c.fillIndex(a,t.dims,s),h=t.get(s)),l.set(a,n(d,h))}}return l}}static isValidBroadcast(e,t){const n=e.length,a=t.length;if(n>a)return!1;for(let r=1;r<=n;r++)if(1!==e[n-r]&&e[n-r]!==t[a-r])return!1;return!0}static getBroadcastDims(e,t){const n=e.length,a=[];for(let r=0;r<n;r++){const i=n-1-r,o=e[i]||1;(t[t.length-1-r]||1)>1&&1===o&&a.unshift(i)}return a}}t.BroadcastUtil=c,t.arrayCopyHelper=function(e,t,n,a,r){if(a<0||a>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(a+r>t.length)throw new Error("source indices to be copied are outside bounds");if(n+r>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<r;i++)e[n+i]=t[a+i]},t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,a,r){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let i,o,s;t?(i=e[1],o=e[0]):(i=e[0],o=e[1]);let l=-1;if(a?(s=n[0],l=1):(s=n[1],l=0),n[l]!==o)throw new Error("dimension mismatch");if(i<=0||s<=0||o<=0)throw new Error("invalid shape specified");if(r&&!c.isValidBroadcast(r,[i,s]))throw new Error("gemm: invalid bias shape for broadcast");return[i,s,o]}};class u{static tensorDataTypeFromProto(e){switch(e){case o.onnx.TensorProto.DataType.INT8:return"int8";case o.onnx.TensorProto.DataType.UINT8:return"uint8";case o.onnx.TensorProto.DataType.BOOL:return"bool";case o.onnx.TensorProto.DataType.INT16:return"int16";case o.onnx.TensorProto.DataType.UINT16:return"uint16";case o.onnx.TensorProto.DataType.INT32:return"int32";case o.onnx.TensorProto.DataType.UINT32:return"uint32";case o.onnx.TensorProto.DataType.FLOAT:return"float32";case o.onnx.TensorProto.DataType.DOUBLE:return"float64";case o.onnx.TensorProto.DataType.STRING:return"string";case o.onnx.TensorProto.DataType.INT64:return"int32";case o.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: ".concat(o.onnx.TensorProto.DataType[e]))}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return o.onnx.TensorProto.DataType.INT8;case"uint8":return o.onnx.TensorProto.DataType.UINT8;case"bool":return o.onnx.TensorProto.DataType.BOOL;case"int16":return o.onnx.TensorProto.DataType.INT16;case"uint16":return o.onnx.TensorProto.DataType.UINT16;case"int32":return o.onnx.TensorProto.DataType.INT32;case"uint32":return o.onnx.TensorProto.DataType.UINT32;case"float32":return o.onnx.TensorProto.DataType.FLOAT;case"float64":return o.onnx.TensorProto.DataType.DOUBLE;case"string":return o.onnx.TensorProto.DataType.STRING;case"int64":return o.onnx.TensorProto.DataType.INT64;case"uint64":return o.onnx.TensorProto.DataType.UINT64;default:throw new Error("unsupported data type: ".concat(e))}}static tensorDimsFromProto(e){return e.map((e=>i.default.isLong(e)?e.toNumber():e))}static tensorValueTypeFromProto(e){return{tensorType:u.tensorDataTypeFromProto(e.elemType),shape:{dims:u.tensorDimsFromProto(e.shape.dim.map((e=>e.dimValue)))}}}static tensorDimsFromORTFormat(e){const t=[];for(let n=0;n<e.dimsLength();n++)t.push(d.longToNumber(e.dims(n)));return t}static tensorAttributesFromORTFormat(e){const t=[];for(let n=0;n<e.attributesLength();n++)t.push(e.attributes(n));return t}}t.ProtoUtil=u;class d{static longToNumber(e,t){return i.default.isLong(e)?e.toNumber():e instanceof r.flatbuffers.Long?i.default.fromValue({low:e.low,high:e.high,unsigned:null!=t&&t}).toNumber():e}static isLong(e){return i.default.isLong(e)||e instanceof r.flatbuffers.Long}}t.LongUtil=d;class h{static size(e){return h.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error("invalid dimension of ".concat(t," for sizeFromDimension as Tensor has ").concat(e.length," dimensions."));return h.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error("invalid dimension of ".concat(t," for sizeToDimension as Tensor has ").concat(e.length," dimensions."));return h.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,n){let a=1;for(let r=t;r<n;r++){if(e[r]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");a*=e[r]}return a}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let a=t-3;a>=0;--a)n[a]=n[a+1]*e[a+1];return n}static transpose(e){return e.slice().reverse()}static indicesToOffset(e,t,n){void 0===n&&(n=e.length);let a=0;for(let r=0;r<n;++r)a+=t[r]*e[r];return a}static offsetToIndices(e,t){const n=t.length;if(0===n)return[];if(1===n)return[e*t[0]];const a=new Array(t.length);for(let r=0;r<a.length-1;++r)a[r]=Math.floor(e/t[r]),e-=a[r]*t[r];return a[a.length-1]=e,a}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((e=>this.normalizeAxis(e,t)))}static incrementIndex(e,t,n){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=t.length;else if(n<=0||n>t.length)throw new Error("Incorrect axis to increment on");for(let a=n-1;a>=0&&(e[a]++,!(e[a]<t[a]));--a)e[a]=0}static calculateReshapedDims(e,t){if(0===t.length){if(0===e.length||1===h.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}const n=t.length,a=new Array(n);let r=-1,i=1;for(let s=0;s<n;s++){if(t[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===t[s]){if(-1!==r)throw new Error("at most one dimension in shape hints can be -1");r=s}else{if(0===t[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");a[s]=e[s]}else a[s]=t[s];i*=a[s]}}const o=h.size(e);if(-1!==r){if(o%i!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: [".concat(e,"] Output shape: [").concat(t,"]"));a[r]=o/i}else if(i!==o)throw new Error("reshapedDims and originalDims don't have matching sizes");return a}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){const n=e.length;return e.map(((e,a)=>e+t[a]+t[a+n]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let t=1;for(const n of e){if(!Number.isInteger(n))throw new TypeError("Invalid shape: ".concat(n," is not an integer"));if(n<0||n>2147483647)throw new TypeError("Invalid shape: length ".concat(n," is not allowed"));t*=n}return t}static flattenShape(e,t){t<0&&(t+=e.length);const n=e.reduce(((e,t)=>e*t),1),a=e.slice(t).reduce(((e,t)=>e*t),1);return[n/a,a]}static squeezeShape(e,t){const n=new Array;t=h.normalizeAxes(t,e.length);for(let a=0;a<e.length;a++){const r=t.indexOf(a)>=0;if(r&&1!==e[a])throw new Error("squeeze an axis of size different than 1");(0===t.length&&e[a]>1||t.length>0&&!r)&&n.push(e[a])}return n}static unsqueezeShape(e,t){const n=new Array(e.length+t.length);n.fill(0);for(let r=0;r<t.length;r++){const e=h.normalizeAxis(t[r],n.length);if(e>=n.length)throw new Error("'axes' has an out of range axis");if(0!==n[e])throw new Error("'axes' has a duplicate axis");n[e]=1}let a=0;for(let r=0;r<n.length;r++)0===n[r]&&(n[r]=e[a++]);if(a!==e.length)throw new Error("the unsqueezed dimension could not be established");return n}}t.ShapeUtil=h,t.MathUtil=class{static sqr(e,t,n,a,r){if(a<0||a>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(a+r>t.length)throw new Error("source indices to be copied are outside bounds");if(n+r>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<r;i++)e[n+i]+=Math.pow(t[a+i],2)}static axpy(e,t,n,a,r,i){if(a<0||a>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(a+r>t.length)throw new Error("source indices to be copied are outside bounds");if(n+r>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<r;o++)e[n+o]+=i*t[a+o]}static powx(e,t,n,a,r,i){if(a<0||a>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(a+r>t.length)throw new Error("source indices to be copied are outside bounds");if(n+r>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<r;o++)e[n+o]=Math.pow(t[a+o],i)}static mul(e,t,n,a,r){if(a<0||a>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(a+r>t.length)throw new Error("source indices to be copied are outside bounds");if(n+r>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<r;i++)e[n+i]=t[a+i]*e[n+i]}};class p{static splitShape(e,t,n,a){if(0===n.length){if(!a)throw new Error("need to know number of outputs when the 'split' attribute is not specified");p.determineSplit(e[t],a,n)}const r=[],i=[0];for(let o=0;o<n.length;++o){0!==o&&i.push(i[o-1]+n[o-1]);const a=e.slice();a[t]=n[o],r.push(a)}return[r,i]}static determineSplit(e,t,n){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(let a=0;a<t;++a)n.push(e/t)}}t.SplitUtil=p;class f{static calcReduce(e,t,n,a,r){const i=e.dims.slice(0);0===t.length&&i.forEach(((e,n)=>t.push(n)));const o=f.calcReduceShape(i,t,!0),l=h.size(o),u=new s.Tensor(o,e.type),d=h.computeStrides(o),p=h.computeStrides(i),m=new Array(i.length);for(let s=0;s<l;s++){const n=h.offsetToIndices(s,d);c.fillIndex(n,i,m),u.set(n,f.calcReduceByAxis(e.numberData,t,i,0,h.indicesToOffset(m,p),a,r))}return n?u:new s.Tensor(f.calcReduceShape(i,t,n),u.type,void 0,void 0,u.data,u.dataId)}static calcReduceByAxis(e,t,n,a,r,i,o){let s=0;if(a>=t.length)return i(e[r]);const l=t[a],c=l>=n.length?1:h.size(n.slice(l+1));for(let u=0;u<n[l];u++)s=0===u?f.calcReduceByAxis(e,t,n,a+1,r,i,o):o(s,f.calcReduceByAxis(e,t,n,a+1,r,i,o)),r+=c;return s}static calcReduceShape(e,t,n){const a=e.slice();for(let r=0;r<t.length;r++)a[t[r]]=n?1:0;return a.filter((e=>0!==e))}}t.ReduceUtil=f;class m{static adjustPoolAttributes(e,t,n,a,r,i){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let o=0;o<t.length-2;o++)o>=n.length?n.push(t[o+2]):n[o]=t[o+2];for(let o=0;o<n.length;o++)if(o<a.length){if(a[o]<0)throw new Error("strides should be greater than or equal to 1")}else a.push(1);for(let o=0;o<n.length;o++)if(o<r.length){if(r[o]<0)throw new Error("dilations should be greater than or equal to 1")}else r.push(1);for(let o=0;o<2*n.length;o++)if(o<i.length){if(i[o]<0)throw new Error("pad should be greater than or equal to 1")}else i.push(0);for(let o=0;o<n.length;o++){if(n[o]<=0)throw new Error("kernel shapes need to be greater than 0");if(i[o]>=n[o]||i[o+n.length]>=n[o])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,n,a,r,i){if(i){if(r.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(a.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let o=0;o<e.length-2;o++)m.adjustPadAndReturnShape(e[o+2],t[o],n[o],a[o],r,o,o+e.length-2,i)}}static computePoolOutputShape(e,t,n,a,r,i,o){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const s=[t[0],t[1]];return m.computeShapeHelper(e,t,s,n,a,r,i,o),s}static computeConvOutputShape(e,t,n,a,r,i,o){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const s=[e[0],t[0]];return m.computeShapeHelper(!1,e,s,n,a,r,i,o),s}static computeShapeHelper(e,t,n,a,r,i,o,s){if(e)for(let l=0;l<t.length-2;l++)n.push(1);else for(let l=0;l<t.length-2;l++)n.push(m.adjustPadAndReturnShape(t[l+2],a[l],r[l],i[l],o,l,l+t.length-2,s))}static adjustPadAndReturnShape(e,t,n,a,r,i,o,s){const l=n*(a-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+r[i]+r[o]-l)/t+1);switch(s){case"VALID":return r[i]=0,r[o]=0,Math.floor((e-l)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+a-e;return r[i]="SAME_LOWER"===s?Math.floor((n+1)/2):Math.floor(n/2),r[o]=n-r[i],Math.floor((e+n-a)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=m,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(e){return(new TextDecoder).decode(e)}},7967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,a,r)=>{if("object"==typeof e&&null!==e){if(a.has(e))throw new Error("Circular reference in options");a.add(e)}Object.entries(e).forEach((e=>{let[i,o]=e;const s=n?n+i:i;if("object"==typeof o)(0,t.iterateExtraOptions)(o,s+".",a,r);else if("string"==typeof o||"number"==typeof o)r(s,o.toString());else{if("boolean"!=typeof o)throw new Error("Can't handle extra config type: "+typeof o);r(s,o?"1":"0")}}))}},2157:function(e,t,n){"use strict";var a,r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=t.initWasm=void 0;const s=n(1670),l=o(n(349)),c=n(6361),u=()=>!!s.env.wasm.proxy&&"undefined"!=typeof document;let d,h,p,f=!1,m=!1,g=!1;const y=[],b=[],v=[],w=[],_=[],x=[],k=()=>{if(f||!m||g||!d)throw new Error("worker not ready")},T=e=>{switch(e.data.type){case"init-wasm":f=!1,e.data.err?(g=!0,h[1](e.data.err)):(m=!0,h[0]());break;case"init-ort":e.data.err?p[1](e.data.err):p[0]();break;case"create_allocate":e.data.err?y.shift()[1](e.data.err):y.shift()[0](e.data.out);break;case"create_finalize":e.data.err?b.shift()[1](e.data.err):b.shift()[0](e.data.out);break;case"create":e.data.err?v.shift()[1](e.data.err):v.shift()[0](e.data.out);break;case"release":e.data.err?w.shift()[1](e.data.err):w.shift()[0]();break;case"run":e.data.err?_.shift()[1](e.data.err):_.shift()[0](e.data.out);break;case"end-profiling":e.data.err?x.shift()[1](e.data.err):x.shift()[0]()}},D="undefined"!=typeof document?null===(a=null===document||void 0===document?void 0:document.currentScript)||void 0===a?void 0:a.src:void 0;t.initWasm=async()=>{if(u()){if(m)return;if(f)throw new Error("multiple calls to 'initWasm()' detected.");if(g)throw new Error("previous call to 'initWasm()' failed.");return f=!0,void 0===s.env.wasm.wasmPaths&&D&&0!==D.indexOf("blob:")&&(s.env.wasm.wasmPaths=D.substr(0,+D.lastIndexOf("/")+1)),new Promise(((e,t)=>{null==d||d.terminate(),d=n(9710).Z(),d.onmessage=T,h=[e,t];const a={type:"init-wasm",in:s.env.wasm};d.postMessage(a)}))}return(0,c.initializeWebAssembly)(s.env.wasm)},t.initOrt=async(e,t)=>{if(u())return k(),new Promise(((n,a)=>{p=[n,a];const r={type:"init-ort",in:{numThreads:e,loggingLevel:t}};d.postMessage(r)}));l.initOrt(e,t)},t.createSessionAllocate=async e=>u()?(k(),new Promise(((t,n)=>{y.push([t,n]);const a={type:"create_allocate",in:{model:e}};d.postMessage(a,[e.buffer])}))):l.createSessionAllocate(e),t.createSessionFinalize=async(e,t)=>u()?(k(),new Promise(((n,a)=>{b.push([n,a]);const r={type:"create_finalize",in:{modeldata:e,options:t}};d.postMessage(r)}))):l.createSessionFinalize(e,t),t.createSession=async(e,t)=>u()?(k(),new Promise(((n,a)=>{v.push([n,a]);const r={type:"create",in:{model:e,options:t}};d.postMessage(r,[e.buffer])}))):l.createSession(e,t),t.releaseSession=async e=>{if(u())return k(),new Promise(((t,n)=>{w.push([t,n]);const a={type:"release",in:e};d.postMessage(a)}));l.releaseSession(e)},t.run=async(e,t,n,a,r)=>u()?(k(),new Promise(((i,o)=>{_.push([i,o]);const s={type:"run",in:{sessionId:e,inputIndices:t,inputs:n,outputIndices:a,options:r}};d.postMessage(s,l.extractTransferableBuffers(n))}))):l.run(e,t,n,a,r),t.endProfiling=async e=>{if(u())return k(),new Promise(((t,n)=>{x.push([t,n]);const a={type:"end-profiling",in:e};d.postMessage(a)}));l.endProfiling(e)}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const a=n(7967),r=n(4983),i=n(6361);t.setRunOptions=e=>{const t=(0,i.getInstance)();let n=0;const o=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let i=0;if(void 0!==(null==e?void 0:e.tag)&&(i=(0,r.allocWasmString)(e.tag,o)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,i),0===n)throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,a)=>{const i=(0,r.allocWasmString)(e,o),s=(0,r.allocWasmString)(a,o);if(0!==t._OrtAddRunConfigEntry(n,i,s))throw new Error("Can't set a run config entry: ".concat(e," - ").concat(a))})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),o.forEach(t._free),e}}},2306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const a=n(2806),r=n(1670),i=n(2850),o=n(2157);let s;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(e){const t=await fetch(e),n=await t.arrayBuffer();return(0,o.createSessionAllocate)(new Uint8Array(n))}async loadModel(e,t){if(s||(await(0,o.initOrt)(r.env.wasm.numThreads,(e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: ".concat(e))}})(r.env.logLevel)),s=!0),"string"==typeof e)if("undefined"==typeof fetch){const n=await(0,i.promisify)(a.readFile)(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSession)(n,t)}else{const n=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSessionFinalize)(n,t)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSession)(e,t)}async dispose(){return(0,o.releaseSession)(this.sessionId)}async run(e,t,n){const a=[],i=[];Object.entries(e).forEach((e=>{const t=e[0],n=e[1],r=this.inputNames.indexOf(t);if(-1===r)throw new Error("invalid input '".concat(t,"'"));a.push(n),i.push(r)}));const s=[];Object.entries(t).forEach((e=>{const t=e[0],n=this.outputNames.indexOf(t);if(-1===n)throw new Error("invalid output '".concat(t,"'"));s.push(n)}));const l=await(0,o.run)(this.sessionId,i,a.map((e=>[e.type,e.dims,e.data])),s,n),c={};for(let o=0;o<l.length;o++)c[this.outputNames[s[o]]]=new r.Tensor(l[o][0],l[o][2],l[o][1]);return c}startProfiling(){}endProfiling(){(0,o.endProfiling)(this.sessionId)}}},4919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const a=n(7967),r=n(4983),i=n(6361);t.setSessionOptions=e=>{const t=(0,i.getInstance)();let n=0;const o=[],s=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(s);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");const l=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: ".concat(e))}})(s.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(s.executionMode="sequential");const c=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: ".concat(e))}})(s.executionMode);let u=0;if(void 0!==(null==e?void 0:e.logId)&&(u=(0,r.allocWasmString)(e.logId,o)),void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));if(void 0===(null==e?void 0:e.enableProfiling)&&(s.enableProfiling=!1),n=t._OrtCreateSessionOptions(l,!!s.enableCpuMemArena,!!s.enableMemPattern,c,!!s.enableProfiling,0,u,s.logSeverityLevel,s.logVerbosityLevel),0===n)throw new Error("Can't create session options");return(null==e?void 0:e.executionProviders)&&((e,t,n)=>{for(const a of t){let t="string"==typeof a?a:a.name;switch(t){case"xnnpack":t="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error("not supported EP: ".concat(t))}const o=(0,r.allocWasmString)(t,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(e,o))throw new Error("Can't append execution provider: ".concat(t))}})(n,e.executionProviders,o),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,a)=>{const i=(0,r.allocWasmString)(e,o),s=(0,r.allocWasmString)(a,o);if(0!==t._OrtAddSessionConfigEntry(n,i,s))throw new Error("Can't set a session config entry: ".concat(e," - ").concat(a))})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),o.forEach(t._free),e}}},4983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const a=n(6361);t.allocWasmString=(e,t)=>{const n=(0,a.getInstance)(),r=n.lengthBytesUTF8(e)+1,i=n._malloc(r);return n.stringToUTF8(e,i,r),t.push(i),i}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const a=n(586),r=n(4919),i=n(4983),o=n(6361);t.initOrt=(e,t)=>{const n=(0,o.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error("Can't initialize onnxruntime. error code = ".concat(n))};const s=new Map;t.createSessionAllocate=e=>{const t=(0,o.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,o.getInstance)();let a=0,i=0,l=[];try{if([i,l]=(0,r.setSessionOptions)(t),a=n._OrtCreateSession(e[0],e[1],i),0===a)throw new Error("Can't create a session")}finally{n._free(e[0]),n._OrtReleaseSessionOptions(i),l.forEach(n._free)}const c=n._OrtGetInputCount(a),u=n._OrtGetOutputCount(a),d=[],h=[],p=[],f=[];for(let r=0;r<c;r++){const e=n._OrtGetInputName(a,r);if(0===e)throw new Error("Can't get an input name");h.push(e),d.push(n.UTF8ToString(e))}for(let r=0;r<u;r++){const e=n._OrtGetOutputName(a,r);if(0===e)throw new Error("Can't get an output name");f.push(e),p.push(n.UTF8ToString(e))}return s.set(a,[a,h,f]),[a,d,p]},t.createSession=(e,n)=>{const a=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(a,n)},t.releaseSession=e=>{const t=(0,o.getInstance)(),n=s.get(e);if(!n)throw new Error("invalid session id");const a=n[0],r=n[1],i=n[2];r.forEach(t._OrtFree),i.forEach(t._OrtFree),t._OrtReleaseSession(a),s.delete(e)};const l=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error("unsupported data type: ".concat(e))}},c=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error("unsupported data type: ".concat(e))}},u=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: ".concat(e))}};t.run=(e,t,n,r,d)=>{const h=(0,o.getInstance)(),p=s.get(e);if(!p)throw new Error("invalid session id");const f=p[0],m=p[1],g=p[2],y=t.length,b=r.length;let v=0,w=[];const _=[],x=[];try{[v,w]=(0,a.setRunOptions)(d);for(let t=0;t<y;t++){const e=n[t][0],a=n[t][1],r=n[t][2];let o,s;if(Array.isArray(r)){s=4*r.length,o=h._malloc(s),x.push(o);let e=o/4;for(let t=0;t<r.length;t++){if("string"!=typeof r[t])throw new TypeError("tensor data at index ".concat(t," is not a string"));h.HEAPU32[e++]=(0,i.allocWasmString)(r[t],x)}}else s=r.byteLength,o=h._malloc(s),x.push(o),h.HEAPU8.set(new Uint8Array(r.buffer,r.byteOffset,s),o);const c=h.stackSave(),u=h.stackAlloc(4*a.length);try{let t=u/4;a.forEach((e=>h.HEAP32[t++]=e));const n=h._OrtCreateTensor(l(e),o,s,u,a.length);if(0===n)throw new Error("Can't create a tensor");_.push(n)}finally{h.stackRestore(c)}}const e=h.stackSave(),o=h.stackAlloc(4*y),s=h.stackAlloc(4*y),p=h.stackAlloc(4*b),k=h.stackAlloc(4*b);try{let e=o/4,n=s/4,a=p/4,i=k/4;for(let r=0;r<y;r++)h.HEAPU32[e++]=_[r],h.HEAPU32[n++]=m[t[r]];for(let t=0;t<b;t++)h.HEAPU32[a++]=0,h.HEAPU32[i++]=g[r[t]];let l=h._OrtRun(f,s,o,y,k,b,p,v);const d=[];if(0===l)for(let t=0;t<b;t++){const e=h.HEAPU32[p/4+t],n=h.stackSave(),a=h.stackAlloc(16);let r,i=0;try{if(l=h._OrtGetTensorData(e,a,a+4,a+8,a+12),0!==l)throw new Error("Can't access output tensor data. error code = ".concat(l));let t=a/4;const n=h.HEAPU32[t++];i=h.HEAPU32[t++];const o=h.HEAPU32[t++],s=h.HEAPU32[t++],p=[];for(let e=0;e<s;e++)p.push(h.HEAPU32[o/4+e]);h._OrtFree(o);const f=0===p.length?1:p.reduce(((e,t)=>e*t));if(r=c(n),"string"===r){const e=[];let t=i/4;for(let n=0;n<f;n++){const a=h.HEAPU32[t++],r=n===f-1?void 0:h.HEAPU32[t]-a;e.push(h.UTF8ToString(a,r))}d.push([r,p,e])}else{const e=new(u(r))(f);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(h.HEAPU8.subarray(i,i+e.byteLength)),d.push([r,p,e])}}finally{h.stackRestore(n),"string"===r&&i&&h._free(i),h._OrtReleaseTensor(e)}}if(0===l)return d;throw new Error("failed to call OrtRun(). error code = ".concat(l,"."))}finally{h.stackRestore(e)}}finally{_.forEach(h._OrtReleaseTensor),x.forEach(h._free),h._OrtReleaseRunOptions(v),w.forEach(h._free)}},t.endProfiling=e=>{const t=(0,o.getInstance)(),n=s.get(e);if(!n)throw new Error("invalid session id");const a=n[0],r=t._OrtEndProfiling(a);if(0===r)throw new Error("Can't get an profile file name");t._OrtFree(r)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},6361:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const s=i(n(6449)),l=o(n(932)),c=n(3474);let u,d=!1,h=!1,p=!1;const f=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(d)return Promise.resolve();if(h)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(p)throw new Error("previous call to 'initializeWebAssembly()' failed.");h=!0;const t=e.initTimeout,a=e.numThreads,r=e.simd,i=a>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),o=r&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m="string"==typeof e.wasmPaths?e.wasmPaths:void 0,g=f(!1,i),y=f(o,i),b="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let v=!1;const w=[];if(t>0&&w.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),w.push(new Promise(((e,t)=>{const a=i?c:l.default,r={locateFile:(e,t)=>i&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):e===g?null!=b?b:(null!=m?m:t)+y:t+e};if(i)if("undefined"==typeof Blob)r.mainScriptUrlOrBlob=s.join("/","ort-wasm-threaded.js");else{const e="var ortWasmThreaded=(function(){var _scriptDir;return ".concat(a.toString(),"})();");r.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}a(r).then((t=>{h=!1,d=!0,u=t,e()}),(e=>{h=!1,p=!0,t(e)}))}))),await Promise.race(w),v)throw new Error("WebAssembly backend initializing failed due to timeout: ".concat(t,"ms"))},t.getInstance=()=>{if(d&&u)return u;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!d||h||p||(h=!0,null===(e=u.PThread)||void 0===e||e.terminateAllThreads(),u=void 0,h=!1,d=!1,p=!0)}},9710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(477),r=n.n(a);function i(){return r()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:e=>{"use strict";e.exports=function(e,t,n,a){var r=self||window;try{try{var i;try{i=new r.Blob([e])}catch(t){(i=new(r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder)).append(e),i=i.getBlob()}var o=r.URL||r.webkitURL,s=o.createObjectURL(i),l=new r[t](s,n);return o.revokeObjectURL(s),l}catch(a){return new r[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!a)throw Error("Inline worker is not supported");return new r[t](a,n)}}},4154:e=>{"use strict";e.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},1670:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{flatbuffers:()=>a});var a={};a.Offset,a.Table,a.SIZEOF_SHORT=2,a.SIZEOF_INT=4,a.FILE_IDENTIFIER_LENGTH=4,a.SIZE_PREFIX_LENGTH=4,a.Encoding={UTF8_BYTES:1,UTF16_STRING:2},a.int32=new Int32Array(2),a.float32=new Float32Array(a.int32.buffer),a.float64=new Float64Array(a.int32.buffer),a.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],a.Long=function(e,t){this.low=0|e,this.high=0|t},a.Long.create=function(e,t){return 0==e&&0==t?a.Long.ZERO:new a.Long(e,t)},a.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},a.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},a.Long.ZERO=new a.Long(0,0),a.Builder=function(e){if(e)t=e;else var t=1024;this.bb=a.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},a.Builder.prototype.dataBuffer=function(){return this.bb},a.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},a.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var r=this.bb.capacity();this.bb=a.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(n)},a.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},a.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},a.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},a.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},a.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},a.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},a.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},a.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},a.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},a.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},a.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},a.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},a.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},a.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},a.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},a.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},a.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},a.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},a.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},a.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},a.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},a.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},a.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},a.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},a.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},a.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,r=a.ByteBuffer.allocate(n);return r.setPosition(n-t),r.bytes().set(e.bytes(),n-t),r},a.Builder.prototype.addOffset=function(e){this.prep(a.SIZEOF_INT,0),this.writeInt32(this.offset()-e+a.SIZEOF_INT)},a.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},a.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var r=(n+2)*a.SIZEOF_SHORT;this.addInt16(r);var i=0,o=this.space;e:for(t=0;t<this.vtables.length;t++){var s=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(s)){for(var l=a.SIZEOF_SHORT;l<r;l+=a.SIZEOF_SHORT)if(this.bb.readInt16(o+l)!=this.bb.readInt16(s+l))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},a.Builder.prototype.finish=function(e,t,n){var r=n?a.SIZE_PREFIX_LENGTH:0;if(t){var i=t;if(this.prep(this.minalign,a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH+r),i.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var o=a.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(i.charCodeAt(o))}this.prep(this.minalign,a.SIZEOF_INT+r),this.addOffset(e),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},a.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},a.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,a=n-this.bb.readInt32(n);if(0==this.bb.readInt16(a+t))throw new Error("FlatBuffers: field "+t+" must be set")},a.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(a.SIZEOF_INT,e*t),this.prep(n,e*t)},a.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},a.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var a,r=e.charCodeAt(n++);(a=r<55296||r>=56320?r:(r<<10)+e.charCodeAt(n++)+-56613888)<128?t.push(a):(a<2048?t.push(a>>6&31|192):(a<65536?t.push(a>>12&15|224):t.push(a>>18&7|240,a>>12&63|128),t.push(a>>6&63|128)),t.push(63&a|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),n=0;for(var i=this.space,o=this.bb.bytes();n<t.length;n++)o[i++]=t[n];return this.endVector()},a.Builder.prototype.createLong=function(e,t){return a.Long.create(e,t)},a.ByteBuffer=function(e){this.bytes_=e,this.position_=0},a.ByteBuffer.allocate=function(e){return new a.ByteBuffer(new Uint8Array(e))},a.ByteBuffer.prototype.clear=function(){this.position_=0},a.ByteBuffer.prototype.bytes=function(){return this.bytes_},a.ByteBuffer.prototype.position=function(){return this.position_},a.ByteBuffer.prototype.setPosition=function(e){this.position_=e},a.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},a.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},a.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},a.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},a.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},a.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},a.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},a.ByteBuffer.prototype.readInt64=function(e){return new a.Long(this.readInt32(e),this.readInt32(e+4))},a.ByteBuffer.prototype.readUint64=function(e){return new a.Long(this.readUint32(e),this.readUint32(e+4))},a.ByteBuffer.prototype.readFloat32=function(e){return a.int32[0]=this.readInt32(e),a.float32[0]},a.ByteBuffer.prototype.readFloat64=function(e){return a.int32[a.isLittleEndian?0:1]=this.readInt32(e),a.int32[a.isLittleEndian?1:0]=this.readInt32(e+4),a.float64[0]},a.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},a.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},a.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},a.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},a.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},a.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},a.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},a.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},a.ByteBuffer.prototype.writeFloat32=function(e,t){a.float32[0]=t,this.writeInt32(e,a.int32[0])},a.ByteBuffer.prototype.writeFloat64=function(e,t){a.float64[0]=t,this.writeInt32(e,a.int32[a.isLittleEndian?0:1]),this.writeInt32(e+4,a.int32[a.isLittleEndian?1:0])},a.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<a.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+a.SIZEOF_INT+t));return e},a.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},a.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},a.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),r="",i=0;if(e+=a.SIZEOF_INT,t===a.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){var o,s=this.readUint8(e+i++);if(s<192)o=s;else{var l=this.readUint8(e+i++);if(s<224)o=(31&s)<<6|63&l;else{var c=this.readUint8(e+i++);o=s<240?(15&s)<<12|(63&l)<<6|63&c:(7&s)<<18|(63&l)<<12|(63&c)<<6|63&this.readUint8(e+i++)}}o<65536?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return r},a.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},a.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+a.SIZEOF_INT},a.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},a.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var t=0;t<a.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+a.SIZEOF_INT+t))return!1;return!0},a.ByteBuffer.prototype.createLong=function(e,t){return a.Long.create(e,t)}}},__webpack_module_cache__={};function __nested_webpack_require_817794__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_817794__),n.exports}__nested_webpack_require_817794__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_817794__.d(t,{a:t}),t},__nested_webpack_require_817794__.d=(e,t)=>{for(var n in t)__nested_webpack_require_817794__.o(t,n)&&!__nested_webpack_require_817794__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_817794__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_817794__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_817794__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_817794__(6018);return __nested_webpack_exports__})(),module.exports=e(__webpack_require__(81))},461:(e,t,n)=>{"use strict";e.exports=n(330)},499:()=>{},579:(e,t,n)=>{"use strict";e.exports=n(153)},603:()=>{},618:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ort.bundle.min.e9b190b6e2b022d973ff.mjs"},730:(e,t,n)=>{"use strict";var a=n(43),r=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,a,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,a){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var O,B=Object.assign;function L(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var R=!1;function j(e,t){if(!e||R)return"";R=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),i=a.stack.split("\n"),o=r.length-1,s=i.length-1;1<=o&&0<=s&&r[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==i[s]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{R=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function V(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case D:return"Profiler";case T:return"StrictMode";case E:return"Suspense";case F:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=H(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function $(e,t){X(e,t);var n=G(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ie(e,t){var n=G(t.value),a=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=me(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Te=null;function De(e){if(e=vr(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=_r(t),xe(e.stateNode,e.type,t))}}function Ae(e){ke?Te?Te.push(e):Te=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Te;if(Te=ke=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Se(e,t){return e(t)}function Ee(){}var Fe=!1;function Me(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Se(e,t,n)}finally{Fe=!1,(null!==ke||null!==Te)&&(Ee(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var a=_r(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var ze=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){ze=!1}function Ne(e,t,n,a,r,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Be=null,Le=!1,Re=null,je={onError:function(e){Oe=!0,Be=e}};function Ve(e,t,n,a,r,i,o,s,l){Oe=!1,Be=null,Ne.apply(je,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(qe(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(a=r.return)){n=a;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ge(r),e;if(o===a)return Ge(r),t;o=o.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,a=o;break}if(l===a){s=!0,a=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,a=r;break}if(l===a){s=!0,a=o,n=r;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Je=r.unstable_shouldYield,Ze=r.unstable_requestPaint,Xe=r.unstable_now,$e=r.unstable_getCurrentPriorityLevel,Qe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?a=dt(s):0!==(i&=o)&&(a=dt(i))}else 0!==(o=n&~r)?a=dt(o):0!==i&&(a=dt(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-ot(t)),a|=e[n],t&=~r;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ot(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,kt,Tt,Dt,At=!1,Ct=[],St=null,Et=null,Ft=null,Mt=new Map,It=new Map,zt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ot(e,t,n,a,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&xt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Bt(e){var t=br(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Dt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vr(n))&&xt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);we=a,n.target.dispatchEvent(a),we=null,t.shift()}return!0}function Rt(e,t,n){Lt(e)&&n.delete(t)}function jt(){At=!1,null!==St&&Lt(St)&&(St=null),null!==Et&&Lt(Et)&&(Et=null),null!==Ft&&Lt(Ft)&&(Ft=null),Mt.forEach(Rt),It.forEach(Rt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jt)))}function qt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==St&&Vt(St,e),null!==Et&&Vt(Et,e),null!==Ft&&Vt(Ft,e),Mt.forEach(t),It.forEach(t),n=0;n<zt.length;n++)(a=zt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Bt(n),null===n.blockedOn&&zt.shift()}var Ut=w.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,a){var r=vt,i=Ut.transition;Ut.transition=null;try{vt=1,Kt(e,t,n,a)}finally{vt=r,Ut.transition=i}}function Wt(e,t,n,a){var r=vt,i=Ut.transition;Ut.transition=null;try{vt=4,Kt(e,t,n,a)}finally{vt=r,Ut.transition=i}}function Kt(e,t,n,a){if(Gt){var r=Jt(e,t,n,a);if(null===r)Ga(e,t,a,Yt,n),Nt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return St=Ot(St,e,t,n,a,r),!0;case"dragenter":return Et=Ot(Et,e,t,n,a,r),!0;case"mouseover":return Ft=Ot(Ft,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return Mt.set(i,Ot(Mt.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,It.set(i,Ot(It.get(i)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Nt(e,a),4&t&&-1<Pt.indexOf(e)){for(;null!==r;){var i=vr(r);if(null!==i&&_t(i),null===(i=Jt(e,t,n,a))&&Ga(e,t,a,Yt,n),i===r)break;r=i}null!==r&&a.stopPropagation()}else Ga(e,t,a,null,n)}}var Yt=null;function Jt(e,t,n,a){if(Yt=null,null!==(e=br(e=_e(a))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=$t,a=n.length,r="value"in Xt?Xt.value:Xt.textContent,i=r.length;for(e=0;e<a&&n[e]===r[e];e++);var o=a-e;for(t=1;t<=o&&n[a-t]===r[i-t];t++);return Qt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,i){for(var o in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),dn=B({},cn,{view:0,detail:0}),hn=rn(dn),pn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=rn(pn),mn=rn(B({},pn,{dataTransfer:0})),gn=rn(B({},dn,{relatedTarget:0})),yn=rn(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=rn(bn),wn=rn(B({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Dn(){return Tn}var An=B({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(An),Sn=rn(B({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=rn(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dn})),Fn=rn(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=B({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=rn(Mn),zn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var On=u&&"TextEvent"in window&&!Nn,Bn=u&&(!Pn||Nn&&8<Nn&&11>=Nn),Ln=String.fromCharCode(32),Rn=!1;function jn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Hn(e,t,n,a){Ae(a),0<(t=Wa(t,"onChange")).length&&(n=new un("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Yn(e){La(e,0)}function Jn(e){if(K(wr(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Qn="oninput"in document;if(!Qn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Qn="function"===typeof ea.oninput}$n=Qn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function ta(){Wn&&(Wn.detachEvent("onpropertychange",na),Kn=Wn=null)}function na(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Hn(t,Kn,e,_e(e)),Me(Yn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Kn=n,(Wn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function ia(e,t){if("click"===e)return Jn(t)}function oa(e,t){if("input"===e||"change"===e)return Jn(t)}var sa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(sa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!d.call(t,r)||!sa(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ha(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fa(e){var t=ha(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(null!==a&&pa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=void 0===a.end?i:Math.min(a.end,r),!e.extend&&i>a&&(r=a,a=i,i=r),r=ua(n,i);var o=ua(n,a);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ma=u&&"documentMode"in document&&11>=document.documentMode,ga=null,ya=null,ba=null,va=!1;function wa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;va||null==ga||ga!==Y(a)||("selectionStart"in(a=ga)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ba&&la(ba,a)||(ba=a,0<(a=Wa(ya,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function _a(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xa={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},ka={},Ta={};function Da(e){if(ka[e])return ka[e];if(!xa[e])return e;var t,n=xa[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ta)return ka[e]=n[t];return e}u&&(Ta=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);var Aa=Da("animationend"),Ca=Da("animationiteration"),Sa=Da("animationstart"),Ea=Da("transitionend"),Fa=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ia(e,t){Fa.set(e,t),l(t,[e])}for(var za=0;za<Ma.length;za++){var Pa=Ma[za];Ia(Pa.toLowerCase(),"on"+(Pa[0].toUpperCase()+Pa.slice(1)))}Ia(Aa,"onAnimationEnd"),Ia(Ca,"onAnimationIteration"),Ia(Sa,"onAnimationStart"),Ia("dblclick","onDoubleClick"),Ia("focusin","onFocus"),Ia("focusout","onBlur"),Ia(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function Ba(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,o,s,l,c){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var u=Be;Oe=!1,Be=null,Le||(Le=!0,Re=u)}}(a,t,void 0,e),e.currentTarget=null}function La(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var s=a[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&r.isPropagationStopped())break e;Ba(r,s,c),i=l}else for(o=0;o<a.length;o++){if(l=(s=a[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&r.isPropagationStopped())break e;Ba(r,s,c),i=l}}}if(Le)throw e=Re,Le=!1,Re=null,e}function Ra(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var a=e+"__bubble";n.has(a)||(Ua(t,e,2,!1),n.add(a))}function ja(e,t,n){var a=0;t&&(a|=4),Ua(n,e,a,t)}var Va="_reactListening"+Math.random().toString(36).slice(2);function qa(e){if(!e[Va]){e[Va]=!0,o.forEach((function(t){"selectionchange"!==t&&(Oa.has(t)||ja(t,!1,e),ja(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Va]||(t[Va]=!0,ja("selectionchange",!1,t))}}function Ua(e,t,n,a){switch(Zt(t)){case 1:var r=Ht;break;case 4:r=Wt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ga(e,t,n,a,r){var i=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var o=a.tag;if(3===o||4===o){var s=a.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=a.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=br(s)))return;if(5===(l=o.tag)||6===l){a=i=o;continue e}s=s.parentNode}}a=a.return}Me((function(){var a=i,r=_e(n),o=[];e:{var s=Fa.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Aa:case Ca:case Sa:l=yn;break;case Ea:l=Fn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=a;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Ie(f,h))&&u.push(Ha(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,r),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Sn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:wr(l),p=null==c?s:wr(c),(s=new u(m,f+"leave",l,n,r)).target=d,s.relatedTarget=p,m=null,br(r)===a&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Ka(p))f++;for(p=0,m=h;m;m=Ka(m))p++;for(;0<f-p;)u=Ka(u),f--;for(;0<p-f;)h=Ka(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Ka(u),h=Ka(h)}u=null}else u=null;null!==l&&Ya(o,s,l,u,!1),null!==c&&null!==d&&Ya(o,d,c,u,!0)}if("select"===(l=(s=a?wr(a):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(Gn(s))if(Xn)g=oa;else{g=ra;var y=aa}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ia);switch(g&&(g=g(e,a))?Hn(o,g,n,r):(y&&y(e,s,a),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=a?wr(a):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(ga=y,ya=a,ba=null);break;case"focusout":ba=ya=ga=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,wa(o,n,r);break;case"selectionchange":if(ma)break;case"keydown":case"keyup":wa(o,n,r)}var b;if(Pn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?jn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(b=en()):($t="value"in(Xt=r)?Xt.value:Xt.textContent,qn=!0)),0<(y=Wa(a,v)).length&&(v=new wn(v,e,null,n,r),o.push({event:v,listeners:y}),b?v.data=b:null!==(b=Vn(n))&&(v.data=b))),(b=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Rn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Rn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Pn&&jn(e,t)?(e=en(),Qt=$t=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Wa(a,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:a}),r.data=b))}La(o,t)}))}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Ie(e,n))&&a.unshift(Ha(e,i,r)),null!=(i=Ie(e,t))&&a.push(Ha(e,i,r))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ya(e,t,n,a,r){for(var i=t._reactName,o=[];null!==n&&n!==a;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===a)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Ie(n,i))&&o.unshift(Ha(n,l,s)):r||null!=(l=Ie(n,i))&&o.push(Ha(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Ja=/\r\n?/g,Za=/\u0000|\uFFFD/g;function Xa(e){return("string"===typeof e?e:""+e).replace(Ja,"\n").replace(Za,"")}function $a(e,t,n){if(t=Xa(t),Xa(e)!==t&&n)throw Error(i(425))}function Qa(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(sr)}:ar;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void qt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);qt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,mr="__reactEvents$"+dr,gr="__reactListeners$"+dr,yr="__reactHandles$"+dr;function br(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function vr(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _r(e){return e[pr]||null}var xr=[],kr=-1;function Tr(e){return{current:e}}function Dr(e){0>kr||(e.current=xr[kr],xr[kr]=null,kr--)}function Ar(e,t){kr++,xr[kr]=e.current,e.current=t}var Cr={},Sr=Tr(Cr),Er=Tr(!1),Fr=Cr;function Mr(e,t){var n=e.type.contextTypes;if(!n)return Cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zr(){Dr(Er),Dr(Sr)}function Pr(e,t,n){if(Sr.current!==Cr)throw Error(i(168));Ar(Sr,t),Ar(Er,n)}function Nr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(i(108,U(e)||"Unknown",r));return B({},n,a)}function Or(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Fr=Sr.current,Ar(Sr,e),Ar(Er,Er.current),!0}function Br(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=Nr(e,t,Fr),a.__reactInternalMemoizedMergedChildContext=e,Dr(Er),Dr(Sr),Ar(Sr,e)):Dr(Er),Ar(Er,n)}var Lr=null,Rr=!1,jr=!1;function Vr(e){null===Lr?Lr=[e]:Lr.push(e)}function qr(){if(!jr&&null!==Lr){jr=!0;var e=0,t=vt;try{var n=Lr;for(vt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Lr=null,Rr=!1}catch(r){throw null!==Lr&&(Lr=Lr.slice(e+1)),Ke(Qe,qr),r}finally{vt=t,jr=!1}}return null}var Ur=[],Gr=0,Hr=null,Wr=0,Kr=[],Yr=0,Jr=null,Zr=1,Xr="";function $r(e,t){Ur[Gr++]=Wr,Ur[Gr++]=Hr,Hr=e,Wr=t}function Qr(e,t,n){Kr[Yr++]=Zr,Kr[Yr++]=Xr,Kr[Yr++]=Jr,Jr=e;var a=Zr;e=Xr;var r=32-ot(a)-1;a&=~(1<<r),n+=1;var i=32-ot(t)+r;if(30<i){var o=r-r%5;i=(a&(1<<o)-1).toString(32),a>>=o,r-=o,Zr=1<<32-ot(t)+r|n<<r|a,Xr=i+e}else Zr=1<<i|n<<r|a,Xr=e}function ei(e){null!==e.return&&($r(e,1),Qr(e,1,0))}function ti(e){for(;e===Hr;)Hr=Ur[--Gr],Ur[Gr]=null,Wr=Ur[--Gr],Ur[Gr]=null;for(;e===Jr;)Jr=Kr[--Yr],Kr[Yr]=null,Xr=Kr[--Yr],Kr[Yr]=null,Zr=Kr[--Yr],Kr[Yr]=null}var ni=null,ai=null,ri=!1,ii=null;function oi(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ai=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jr?{id:Zr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ai=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ri){var t=ai;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=cr(n.nextSibling);var a=ni;t&&si(e,t)?oi(a,n):(e.flags=-4097&e.flags|2,ri=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ri)return ui(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ai)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=cr(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ai=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ai=null}}else ai=ni?cr(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ai;e;)e=cr(e.nextSibling)}function pi(){ai=ni=null,ri=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var mi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=a,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function o(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Bc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var i=n.type;return i===k?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&bi(i)===t.type)?((a=r(t,n.props)).ref=gi(e,t,n),a.return=e,a):((a=Pc(n.type,n.key,n.props,null,e.mode,a)).ref=gi(e,t,n),a.return=e,a)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,i){return null===t||7!==t.tag?((t=Nc(n,e.mode,a,i)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case x:return(t=Lc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?c(e,t,n,a):null;case x:return n.key===r?u(e,t,n,a):null;case I:return p(e,t,(r=n._init)(n._payload),a)}if(te(n)||N(n))return null!==r?null:d(e,t,n,a,null);yi(e,n)}return null}function f(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case _:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case x:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case I:return f(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||N(a))return d(t,e=e.get(n)||null,a,r,null);yi(t,a)}return null}function m(r,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(r,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(r,d),ri&&$r(r,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(r,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ri&&$r(r,m),c}for(d=a(r,d);m<s.length;m++)null!==(g=f(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),ri&&$r(r,m),c}function g(r,s,l,c){var u=N(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=p(r,m,b.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(r,m),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return n(r,m),ri&&$r(r,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(r,b.value,c))&&(s=o(b,s,g),null===d?u=b:d.sibling=b,d=b);return ri&&$r(r,g),u}for(m=a(r,m);!b.done;g++,b=l.next())null!==(b=f(m,r,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(r,e)})),ri&&$r(r,g),u}return function e(a,i,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(a,u.sibling),(i=r(u,o.props.children)).return=a,a=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&bi(c)===u.type){n(a,u.sibling),(i=r(u,o.props)).ref=gi(a,u,o),i.return=a,a=i;break e}n(a,u);break}t(a,u),u=u.sibling}o.type===k?((i=Nc(o.props.children,a.mode,l,o.key)).return=a,a=i):((l=Pc(o.type,o.key,o.props,null,a.mode,l)).ref=gi(a,i,o),l.return=a,a=l)}return s(a);case x:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(a,i.sibling),(i=r(i,o.children||[])).return=a,a=i;break e}n(a,i);break}t(a,i),i=i.sibling}(i=Lc(o,a.mode,l)).return=a,a=i}return s(a);case I:return e(a,i,(u=o._init)(o._payload),l)}if(te(o))return m(a,i,o,l);if(N(o))return g(a,i,o,l);yi(a,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(a,i.sibling),(i=r(i,o)).return=a,a=i):(n(a,i),(i=Bc(o,a.mode,l)).return=a,a=i),s(a)):n(a,i)}}var wi=vi(!0),_i=vi(!1),xi=Tr(null),ki=null,Ti=null,Di=null;function Ai(){Di=Ti=ki=null}function Ci(e){var t=xi.current;Dr(xi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t){ki=e,Di=Ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function Fi(e){var t=e._currentValue;if(Di!==e)if(e={context:e,memoizedValue:t,next:null},null===Ti){if(null===ki)throw Error(i(308));Ti=e,ki.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var Mi=null;function Ii(e){null===Mi?Mi=[e]:Mi.push(e)}function zi(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Ii(t)):(n.next=r.next,r.next=n),t.interleaved=n,Pi(e,a)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ni=!1;function Oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ri(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Sl)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Pi(e,n)}return null===(r=a.interleaved)?(t.next=t,Ii(a)):(t.next=r.next,r.next=t),a.interleaved=t,Pi(e,n)}function ji(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Vi(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,a){var r=e.updateQueue;Ni=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=r.baseState;for(o=0,u=c=l=null,s=i;;){var h=s.lane,p=s.eventTime;if((a&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=B({},d,h);break e;case 2:Ni=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=d}}function Ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(i(191,r));r.call(a)}}}var Gi={},Hi=Tr(Gi),Wi=Tr(Gi),Ki=Tr(Gi);function Yi(e){if(e===Gi)throw Error(i(174));return e}function Ji(e,t){switch(Ar(Ki,t),Ar(Wi,e),Ar(Hi,Gi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Dr(Hi),Ar(Hi,t)}function Zi(){Dr(Hi),Dr(Wi),Dr(Ki)}function Xi(e){Yi(Ki.current);var t=Yi(Hi.current),n=le(t,e.type);t!==n&&(Ar(Wi,e),Ar(Hi,n))}function $i(e){Wi.current===e&&(Dr(Hi),Dr(Wi))}var Qi=Tr(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ao=w.ReactCurrentDispatcher,ro=w.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sa(e[n],t[n]))return!1;return!0}function go(e,t,n,a,r,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=null===e||null===e.memoizedState?Qo:es,e=n(a,r),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,ao.current=ts,e=n(a,r)}while(uo)}if(ao.current=$o,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function yo(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=vo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=so,r=a.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}a.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,a=a.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=a):c=c.next=h,oo.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==o);null===c?s=a:c.next=l,sa(a,t.memoizedState)||(vs=!0),t.memoizedState=a,t.baseState=s,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,oo.lanes|=o,Ol|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=vo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);sa(o,t.memoizedState)||(vs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function ko(){}function To(e,t){var n=oo,a=vo(),r=t(),o=!sa(a.memoizedState,r);if(o&&(a.memoizedState=r,vs=!0),a=a.queue,Oo(Co.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Mo(9,Ao.bind(null,n,a,r,t),void 0,null),null===El)throw Error(i(349));0!==(30&io)||Do(n,t,r)}return r}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,a){t.value=n,t.getSnapshot=a,So(t)&&Eo(e)}function Co(e,t,n){return n((function(){So(t)&&Eo(e)}))}function So(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sa(e,n)}catch(a){return!0}}function Eo(e){var t=Pi(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Mo(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Io(){return vo().memoizedState}function zo(e,t,n,a){var r=bo();oo.flags|=e,r.memoizedState=Mo(1|t,n,void 0,void 0===a?null:a)}function Po(e,t,n,a){var r=vo();a=void 0===a?null:a;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==a&&mo(a,o.deps))return void(r.memoizedState=Mo(t,n,i,a))}oo.flags|=e,r.memoizedState=Mo(1|t,n,i,a)}function No(e,t){return zo(8390656,8,e,t)}function Oo(e,t){return Po(2048,8,e,t)}function Bo(e,t){return Po(4,2,e,t)}function Lo(e,t){return Po(4,4,e,t)}function Ro(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4,4,Ro.bind(null,t,e),n)}function Vo(){}function qo(e,t){var n=vo();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&mo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Uo(e,t){var n=vo();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&mo(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n):(sa(n,t)||(n=mt(),oo.lanes|=n,Ol|=n,e.baseState=!0),t)}function Ho(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var a=ro.transition;ro.transition={};try{e(!1),t()}finally{vt=n,ro.transition=a}}function Wo(){return vo().memoizedState}function Ko(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Zo(t,n);else if(null!==(n=zi(e,t,n,a))){nc(n,e,a,ec()),Xo(n,t,a)}}function Yo(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(r.hasEagerState=!0,r.eagerState=s,sa(s,o)){var l=t.interleaved;return null===l?(r.next=r,Ii(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=zi(e,t,r,a))&&(nc(n,e,a,r=ec()),Xo(n,t,a))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Zo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bt(e,n)}}var $o={readContext:Fi,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Qo={readContext:Fi,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Fi,useEffect:No,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ro.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=bo();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Fo,useDebugValue:Vo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Ho.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=oo,r=bo();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===El)throw Error(i(349));0!==(30&io)||Do(a,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,No(Co.bind(null,a,o,e),[e]),a.flags|=2048,Mo(9,Ao.bind(null,a,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=El.identifierPrefix;if(ri){var n=Xr;t=":"+t+"R"+(n=(Zr&~(1<<32-ot(Zr)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Fi,useCallback:qo,useContext:Fi,useEffect:Oo,useImperativeHandle:jo,useInsertionEffect:Bo,useLayoutEffect:Lo,useMemo:Uo,useReducer:_o,useRef:Io,useState:function(){return _o(wo)},useDebugValue:Vo,useDeferredValue:function(e){return Go(vo(),so.memoizedState,e)},useTransition:function(){return[_o(wo)[0],vo().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Wo,unstable_isNewReconciler:!1},ts={readContext:Fi,useCallback:qo,useContext:Fi,useEffect:Oo,useImperativeHandle:jo,useInsertionEffect:Bo,useLayoutEffect:Lo,useMemo:Uo,useReducer:xo,useRef:Io,useState:function(){return xo(wo)},useDebugValue:Vo,useDeferredValue:function(e){var t=vo();return null===so?t.memoizedState=e:Go(t,so.memoizedState,e)},useTransition:function(){return[xo(wo)[0],vo().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Wo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function as(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),i=Li(a,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ri(e,i,r))&&(nc(t,e,r,a),ji(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),i=Li(a,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ri(e,i,r))&&(nc(t,e,r,a),ji(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=Li(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ri(e,r,a))&&(nc(t,e,a,n),ji(t,e,a))}};function is(e,t,n,a,r,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,i))}function os(e,t,n){var a=!1,r=Cr,i=t.contextType;return"object"===typeof i&&null!==i?i=Fi(i):(r=Ir(t)?Fr:Sr.current,i=(a=null!==(a=t.contextTypes)&&void 0!==a)?Mr(e,r):Cr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Oi(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Fi(i):(i=Ir(t)?Fr:Sr.current,r.context=Mr(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(as(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rs.enqueueReplaceState(r,r.state,null),qi(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",a=t;do{n+=V(a),a=a.return}while(a);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Gl||(Gl=!0,Hl=a),ds(0,t)},n}function fs(e,t,n){(n=Li(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof a&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new hs;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Dc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,Ri(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var bs=w.ReactCurrentOwner,vs=!1;function ws(e,t,n,a){t.child=null===e?_i(t,null,n,a):wi(t,e.child,n,a)}function _s(e,t,n,a,r){n=n.render;var i=t.ref;return Ei(t,r),a=go(e,t,n,a,i,r),n=yo(),null===e||vs?(ri&&n&&ei(t),t.flags|=1,ws(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gs(e,t,r))}function xs(e,t,n,a,r){if(null===e){var i=n.type;return"function"!==typeof i||Ic(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,a,r))}if(i=e.child,0===(e.lanes&r)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:la)(o,a)&&e.ref===t.ref)return Gs(e,t,r)}return t.flags|=1,(e=zc(i,a)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,a,r){if(null!==e){var i=e.memoizedProps;if(la(i,a)&&e.ref===t.ref){if(vs=!1,t.pendingProps=a=i,0===(e.lanes&r))return t.lanes=e.lanes,Gs(e,t,r);0!==(131072&e.flags)&&(vs=!0)}}return As(e,t,n,a,r)}function Ts(e,t,n){var a=t.pendingProps,r=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(zl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ar(zl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:n,Ar(zl,Il),Il|=a}else null!==i?(a=i.baseLanes|n,t.memoizedState=null):a=n,Ar(zl,Il),Il|=a;return ws(e,t,r,n),t.child}function Ds(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,a,r){var i=Ir(n)?Fr:Sr.current;return i=Mr(t,i),Ei(t,r),n=go(e,t,n,a,i,r),a=yo(),null===e||vs?(ri&&a&&ei(t),t.flags|=1,ws(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gs(e,t,r))}function Cs(e,t,n,a,r){if(Ir(n)){var i=!0;Or(t)}else i=!1;if(Ei(t,r),null===t.stateNode)Us(e,t),os(t,n,a),ls(t,n,a,r),a=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fi(c):c=Mr(t,c=Ir(n)?Fr:Sr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==a||l!==c)&&ss(t,o,a,c),Ni=!1;var h=t.memoizedState;o.state=h,qi(t,a,o,r),l=t.memoizedState,s!==a||h!==l||Er.current||Ni?("function"===typeof u&&(as(t,n,u,a),l=t.memoizedState),(s=Ni||is(t,n,s,a,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),o.props=a,o.state=l,o.context=c,a=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Bi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fi(l):l=Mr(t,l=Ir(n)?Fr:Sr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,a,l),Ni=!1,h=t.memoizedState,o.state=h,qi(t,a,o,r);var f=t.memoizedState;s!==d||h!==f||Er.current||Ni?("function"===typeof p&&(as(t,n,p,a),f=t.memoizedState),(c=Ni||is(t,n,c,a,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(a,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(a,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),o.props=a,o.state=f,o.context=l,a=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Ss(e,t,n,a,i,r)}function Ss(e,t,n,a,r,i){Ds(e,t);var o=0!==(128&t.flags);if(!a&&!o)return r&&Br(t,n,!1),Gs(e,t,i);a=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&o?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=a.state,r&&Br(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Pr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pr(0,t.context,!1),Ji(e,t.containerInfo)}function Fs(e,t,n,a,r){return pi(),fi(r),t.flags|=256,ws(e,t,n,a),t.child}var Ms,Is,zs,Ps,Ns={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var a,r=t.pendingProps,o=Qi.current,s=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&o)),a?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ar(Qi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Oc(l,r,0,null),e=Nc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Ns,e):Ls(t,l));if(null!==(o=e.memoizedState)&&null!==(a=o.dehydrated))return function(e,t,n,a,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,Rs(e,t,s,a=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=a.fallback,r=t.mode,a=Oc({mode:"visible",children:a.children},r,0,null),(o=Nc(o,r,s,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,0!==(1&t.mode)&&wi(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Ns,o);if(0===(1&t.mode))return Rs(e,t,s,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,Rs(e,t,s,a=us(o=Error(i(419)),a,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(a=El)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Pi(e,r),nc(a,e,r,-1))}return mc(),Rs(e,t,s,a=us(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ai=cr(r.nextSibling),ni=t,ri=!0,ii=null,null!==e&&(Kr[Yr++]=Zr,Kr[Yr++]=Xr,Kr[Yr++]=Jr,Zr=e.id,Xr=e.overflow,Jr=t),t=Ls(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,o,n);if(s){s=r.fallback,l=t.mode,a=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=zc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==a?s=zc(a,s):(s=Nc(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,r}return e=(s=e.child).sibling,r=zc(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ls(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Rs(e,t,n,a){return null!==a&&fi(a),wi(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Si(e.return,t,n)}function Vs(e,t,n,a,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function qs(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;if(ws(e,t,a.children,n),0!==(2&(a=Qi.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ar(Qi,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vs(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vs(t,!0,n,null,i);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=zc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ks(e,t,n){var a=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ir(t.type)&&zr(),Ws(t),null;case 3:return a=t.stateNode,Zi(),Dr(Er),Dr(Sr),no(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Is(e,t),Ws(t),null;case 5:$i(t);var r=Yi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)zs(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=Yi(Hi.current),di(t)){a=t.stateNode,n=t.type;var o=t.memoizedProps;switch(a[hr]=t,a[pr]=o,e=0!==(1&t.mode),n){case"dialog":Ra("cancel",a),Ra("close",a);break;case"iframe":case"object":case"embed":Ra("load",a);break;case"video":case"audio":for(r=0;r<Na.length;r++)Ra(Na[r],a);break;case"source":Ra("error",a);break;case"img":case"image":case"link":Ra("error",a),Ra("load",a);break;case"details":Ra("toggle",a);break;case"input":Z(a,o),Ra("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},Ra("invalid",a);break;case"textarea":re(a,o),Ra("invalid",a)}for(var l in be(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==o.suppressHydrationWarning&&$a(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$a(a.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ra("scroll",a)}switch(n){case"input":W(a),Q(a,o,!0);break;case"textarea":W(a),oe(a);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(a.onclick=Qa)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=a,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,a),n){case"dialog":Ra("cancel",e),Ra("close",e),r=a;break;case"iframe":case"object":case"embed":Ra("load",e),r=a;break;case"video":case"audio":for(r=0;r<Na.length;r++)Ra(Na[r],e);r=a;break;case"source":Ra("error",e),r=a;break;case"img":case"image":case"link":Ra("error",e),Ra("load",e),r=a;break;case"details":Ra("toggle",e),r=a;break;case"input":Z(e,a),r=J(e,a),Ra("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=B({},a,{value:void 0}),Ra("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Ra("invalid",e)}for(o in be(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ra("scroll",e):null!=u&&v(e,o,u,l))}switch(n){case"input":W(e),Q(e,a,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=a.value&&e.setAttribute("value",""+G(a.value));break;case"select":e.multiple=!!a.multiple,null!=(o=a.value)?ne(e,!!a.multiple,o,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Qa)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(n=Yi(Ki.current),Yi(Hi.current),di(t)){if(a=t.stateNode,n=t.memoizedProps,a[hr]=t,(o=a.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:$a(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$a(a.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[hr]=t,t.stateNode=a}return Ws(t),null;case 13:if(Dr(Qi),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,o=!1;else if(o=di(t),null!==a&&null!==a.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[hr]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qi.current)?0===Pl&&(Pl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Zi(),Is(e,t),null===e&&qa(t.stateNode.containerInfo),Ws(t),null;case 10:return Ci(t.type._context),Ws(t),null;case 19:if(Dr(Qi),null===(o=t.memoizedState))return Ws(t),null;if(a=0!==(128&t.flags),null===(l=o.rendering))if(a)Hs(o,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hs(o,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ar(Qi,1&Qi.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,a=!0,Hs(o,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=eo(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ri)return Ws(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,a=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Qi.current,Ar(Qi,a?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ti(t),t.tag){case 1:return Ir(t.type)&&zr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Dr(Er),Dr(Sr),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $i(t),null;case 13:if(Dr(Qi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Dr(Qi),null;case 4:return Zi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},zs=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Yi(Hi.current);var i,o=null;switch(n){case"input":r=J(e,r),a=J(e,a),o=[];break;case"select":r=B({},r,{value:void 0}),a=B({},a,{value:void 0}),o=[];break;case"textarea":r=ae(e,r),a=ae(e,a),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Qa)}for(u in be(n,a),n=null,r)if(!a.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in a){var c=a[u];if(l=null!=r?r[u]:void 0,a.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ra("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ps=function(e,t,n,a){n!==a&&(t.flags|=4)};var Js=!1,Zs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Tc(e,t,a)}else n.current=null}function el(e,t,n){try{n()}catch(a){Tc(e,t,a)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&el(t,n,i)}r=r.next}while(r!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[mr],delete t[gr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qa));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Zs||Qs(n,t);case 6:var a=ul,r=dl;ul=null,hl(e,t,n),dl=r,null!==(ul=a)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),qt(e)):lr(ul,n.stateNode));break;case 4:a=ul,r=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=a,dl=r;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var i=r,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),r=r.next}while(r!==a)}hl(e,t,n);break;case 1:if(!Zs&&(Qs(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(s){Tc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(a=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=a):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var a=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(o,s,r),ul=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Tc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(g){Tc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&a&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&a&&null!==n&&Qs(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){Tc(e,e.return,g)}}if(4&a&&null!=(r=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(r,o),ve(l,s);var u=ve(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):v(r,d,h,u)}switch(l){case"input":$(r,o);break;case"textarea":ie(r,o);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(r,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[pr]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&a){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Xe())),4&a&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(u=Zs)||d,ml(t,e),Zs=u):ml(t,e),yl(e),8192&a){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(f=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){a=p,n=p.return;try{t=a,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(a,n,g)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==f?(f.return=p,$s=f):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Tc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&a&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(he(r,""),a.flags&=-33),cl(e,sl(e),r);break;case 3:case 4:var o=a.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){$s=e,vl(e,t,n)}function vl(e,t,n){for(var a=0!==(1&e.mode);null!==$s;){var r=$s,i=r.child;if(22===r.tag&&a){var o=null!==r.memoizedState||Js;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Js;var c=Zs;if(Js=o,(Zs=l)&&!c)for($s=r;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?xl(r):null!==l?(l.return=o,$s=l):xl(r);for(;null!==i;)$s=i,vl(i,t,n),i=i.sibling;$s=r,Js=s,Zs=c}wl(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,$s=i):wl(e)}}function wl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Zs)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ui(t,o,a);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ui(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(i(163))}Zs||512&t.flags&&rl(t)}catch(p){Tc(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function _l(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function xl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Tc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){Tc(t,r,l)}}var i=t.return;try{rl(t)}catch(l){Tc(t,i,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){Tc(t,o,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var kl,Tl=Math.ceil,Dl=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Sl=0,El=null,Fl=null,Ml=0,Il=0,zl=Tr(0),Pl=0,Nl=null,Ol=0,Bl=0,Ll=0,Rl=null,jl=null,Vl=0,ql=1/0,Ul=null,Gl=!1,Hl=null,Wl=null,Kl=!1,Yl=null,Jl=0,Zl=0,Xl=null,$l=-1,Ql=0;function ec(){return 0!==(6&Sl)?Xe():-1!==$l?$l:$l=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Ml?Ml&-Ml:null!==mi.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,a){if(50<Zl)throw Zl=0,Xl=null,Error(i(185));yt(e,n,a),0!==(2&Sl)&&e===El||(e===El&&(0===(2&Sl)&&(Bl|=n),4===Pl&&sc(e,Ml)),ac(e,a),1===n&&0===Sl&&0===(1&t.mode)&&(ql=Xe()+500,Rr&&qr()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&a)||(r[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var a=ht(e,e===El?Ml:0);if(0===a)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Rr=!0,Vr(e)}(lc.bind(null,e)):Vr(lc.bind(null,e)),or((function(){0===(6&Sl)&&qr()})),n=null;else{switch(wt(a)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Ec(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($l=-1,Ql=0,0!==(6&Sl))throw Error(i(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var a=ht(e,e===El?Ml:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var r=Sl;Sl|=2;var o=fc();for(El===e&&Ml===t||(Ul=null,ql=Xe()+500,hc(e,t));;)try{bc();break}catch(l){pc(e,l)}Ai(),Dl.current=o,Sl=r,null!==Fl?t=0:(El=null,Ml=0,t=Pl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(a=r,t=ic(e,r))),1===t)throw n=Nl,hc(e,0),sc(e,a),ac(e,Xe()),n;if(6===t)sc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!sa(i(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,a))&&(0!==(o=ft(e))&&(a=o,t=ic(e,o))),1===t))throw n=Nl,hc(e,0),sc(e,a),ac(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:_c(e,jl,Ul);break;case 3:if(sc(e,a),(130023424&a)===a&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(_c.bind(null,e,jl,Ul),t);break}_c(e,jl,Ul);break;case 4:if(sc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var s=31-ot(a);o=1<<s,(s=t[s])>r&&(r=s),a&=~o}if(a=r,10<(a=(120>(a=Xe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Tl(a/1960))-a)){e.timeoutHandle=ar(_c.bind(null,e,jl,Ul),a);break}_c(e,jl,Ul);break;default:throw Error(i(329))}}}return ac(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Rl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=jl,jl=n,null!==t&&oc(t)),e}function oc(e){null===jl?jl=e:jl.push.apply(jl,e)}function sc(e,t){for(t&=~Ll,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),a=1<<n;e[n]=-1,t&=~a}}function lc(e){if(0!==(6&Sl))throw Error(i(327));xc();var t=ht(e,0);if(0===(1&t))return ac(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var a=ft(e);0!==a&&(t=a,n=ic(e,a))}if(1===n)throw n=Nl,hc(e,0),sc(e,t),ac(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,jl,Ul),ac(e,Xe()),null}function cc(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(ql=Xe()+500,Rr&&qr())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Sl)&&xc();var t=Sl;Sl|=1;var n=Cl.transition,a=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=a,Cl.transition=n,0===(6&(Sl=t))&&qr()}}function dc(){Il=zl.current,Dr(zl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Fl)for(n=Fl.return;null!==n;){var a=n;switch(ti(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&zr();break;case 3:Zi(),Dr(Er),Dr(Sr),no();break;case 5:$i(a);break;case 4:Zi();break;case 13:case 19:Dr(Qi);break;case 10:Ci(a.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Fl=e=zc(e.current,null),Ml=Il=t,Pl=0,Nl=null,Ll=Bl=Ol=0,jl=Rl=null,null!==Mi){for(t=0;t<Mi.length;t++)if(null!==(a=(n=Mi[t]).interleaved)){n.interleaved=null;var r=a.next,i=n.pending;if(null!==i){var o=i.next;i.next=r,a.next=o}n.pending=a}Mi=null}return e}function pc(e,t){for(;;){var n=Fl;try{if(Ai(),ao.current=$o,co){for(var a=oo.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,ho=0,Al.current=null,null===n||null===n.return){Pl=1,Nl=t,Fl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&ms(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ri&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),fi(cs(c,l));break e}}o=c=cs(c,l),4!==Pl&&(Pl=2),null===Rl?Rl=[o]:Rl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vi(o,ps(0,c,t));break e;case 1:l=c;var b=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Wl||!Wl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Vi(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function fc(){var e=Dl.current;return Dl.current=$o,null===e?$o:e}function mc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===El||0===(268435455&Ol)&&0===(268435455&Bl)||sc(El,Ml)}function gc(e,t){var n=Sl;Sl|=2;var a=fc();for(El===e&&Ml===t||(Ul=null,hc(e,t));;)try{yc();break}catch(r){pc(e,r)}if(Ai(),Sl=n,Dl.current=a,null!==Fl)throw Error(i(261));return El=null,Ml=0,Pl}function yc(){for(;null!==Fl;)vc(Fl)}function bc(){for(;null!==Fl&&!Je();)vc(Fl)}function vc(e){var t=kl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wc(e):Fl=t,Al.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Il)))return void(Fl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Pl=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Pl&&(Pl=5)}function _c(e,t,n){var a=vt,r=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,n,a){do{xc()}while(null!==Yl);if(0!==(6&Sl))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),i=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~i}}(e,o),e===El&&(Fl=El=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ec(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=vt;vt=1;var l=Sl;Sl|=4,Al.current=null,function(e,t){if(er=Gt,pa(e=ha())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==o||0!==a&&3!==h.nodeType||(c=s+a),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=s),p===o&&++d===a&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Gt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_){Tc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=tl,tl=!1}(e,n),gl(n,e),fa(tr),Gt=!!er,tr=er=null,e.current=n,bl(n,e,r),Ze(),Sl=l,vt=s,Cl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Jl=r),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Xe()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Gl)throw Gl=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Zl++:(Zl=0,Xl=e):Zl=0,qr()}(e,t,n,a)}finally{Cl.transition=r,vt=a}return null}function xc(){if(null!==Yl){var e=wt(Jl),t=Cl.transition,n=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Yl)var a=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Sl))throw Error(i(331));var r=Sl;for(Sl|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($s=u;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var p=(d=$s).sibling,f=d.return;if(il(d),d===u){$s=null;break}if(null!==p){p.return=f,$s=p;break}$s=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,$s=b;break e}$s=o.return}}var v=e.current;for($s=v;null!==$s;){var w=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,$s=w;else e:for(s=v;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(x){Tc(l,l.return,x)}if(l===s){$s=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$s=_;break e}$s=l.return}}if(Sl=r,qr(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(x){}a=!0}return a}finally{vt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=Ri(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),ac(e,t))}function Tc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Wl||!Wl.has(a))){t=Ri(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Dc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Ml&n)===n&&(4===Pl||3===Pl&&(130023424&Ml)===Ml&&500>Xe()-Vl?hc(e,0):Ll|=n),ac(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Pi(e,t))&&(yt(e,t,n),ac(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),Ac(e,n)}function Ec(e,t){return Ke(e,t)}function Fc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,a){return new Fc(e,t,n,a)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,a,r,o){var s=2;if(a=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Nc(n.children,r,o,t);case T:s=8,r|=8;break;case D:return(e=Mc(12,n,t,2|r)).elementType=D,e.lanes=o,e;case E:return(e=Mc(13,n,t,r)).elementType=E,e.lanes=o,e;case F:return(e=Mc(19,n,t,r)).elementType=F,e.lanes=o,e;case z:return Oc(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case C:s=9;break e;case S:s=11;break e;case M:s=14;break e;case I:s=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,r)).elementType=e,t.type=a,t.lanes=o,t}function Nc(e,t,n,a){return(e=Mc(7,e,a,t)).lanes=n,e}function Oc(e,t,n,a){return(e=Mc(22,e,a,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,a,r,i,o,s,l){return e=new Rc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Mc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(i),e}function Vc(e){if(!e)return Cr;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ir(n))return Nr(e,n,t)}return t}function qc(e,t,n,a,r,i,o,s,l){return(e=jc(n,a,!0,e,0,i,0,s,l)).context=Vc(null),n=e.current,(i=Li(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Ri(n,i,r),e.current.lanes=r,yt(e,r,a),ac(e,a),e}function Uc(e,t,n,a){var r=t.current,i=ec(),o=tc(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,o)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Ri(r,t,o))&&(nc(e,r,o,i),ji(e,r,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Er.current)vs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Es(t),pi();break;case 5:Xi(t);break;case 1:Ir(t.type)&&Or(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Ar(xi,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Ar(Qi,1&Qi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Ar(Qi,1&Qi.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ar(Qi,1&Qi.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return qs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ar(Qi,Qi.current),a)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Gs(e,t,n)}(e,t,n);vs=0!==(131072&e.flags)}else vs=!1,ri&&0!==(1048576&t.flags)&&Qr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Us(e,t),e=t.pendingProps;var r=Mr(t,Sr.current);Ei(t,n),r=go(null,t,a,e,r,n);var o=yo();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(a)?(o=!0,Or(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Oi(t),r.updater=rs,t.stateNode=r,r._reactInternals=t,ls(t,a,e,n),t=Ss(null,t,a,!0,o,n)):(t.tag=0,ri&&o&&ei(t),ws(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===M)return 14}return 2}(a),e=ns(a,e),r){case 0:t=As(null,t,a,e,n);break e;case 1:t=Cs(null,t,a,e,n);break e;case 11:t=_s(null,t,a,e,n);break e;case 14:t=xs(null,t,a,ns(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,As(e,t,a,r=t.elementType===a?r:ns(a,r),n);case 1:return a=t.type,r=t.pendingProps,Cs(e,t,a,r=t.elementType===a?r:ns(a,r),n);case 3:e:{if(Es(t),null===e)throw Error(i(387));a=t.pendingProps,r=(o=t.memoizedState).element,Bi(e,t),qi(t,a,null,n);var s=t.memoizedState;if(a=s.element,o.isDehydrated){if(o={element:a,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,a,n,r=cs(Error(i(423)),t));break e}if(a!==r){t=Fs(e,t,a,n,r=cs(Error(i(424)),t));break e}for(ai=cr(t.stateNode.containerInfo.firstChild),ni=t,ri=!0,ii=null,n=_i(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),a===r){t=Gs(e,t,n);break e}ws(e,t,a,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),a=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,nr(a,r)?s=null:null!==o&&nr(a,o)&&(t.flags|=32),Ds(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Bs(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=wi(t,null,a,n):ws(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,_s(e,t,a,r=t.elementType===a?r:ns(a,r),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Ar(xi,a._currentValue),a._currentValue=s,null!==o)if(sa(o.value,s)){if(o.children===r.children&&!Er.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===o.tag){(c=Li(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Si(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Si(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ei(t,n),a=a(r=Fi(r)),t.flags|=1,ws(e,t,a,n),t.child;case 14:return r=ns(a=t.type,t.pendingProps),xs(e,t,a,r=ns(a.type,r),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:ns(a,r),Us(e,t),t.tag=1,Ir(a)?(e=!0,Or(t)):e=!1,Ei(t,n),os(t,a,r),ls(t,a,r,n),Ss(null,t,a,!0,e,n);case 19:return qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Qc(e,t,n,a,r){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof r){var s=r;r=function(){var e=Gc(o);s.call(e)}}Uc(t,o,e,r)}else o=function(e,t,n,a,r){if(r){if("function"===typeof a){var i=a;a=function(){var e=Gc(o);i.call(e)}}var o=qc(t,a,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[fr]=o.current,qa(8===e.nodeType?e.parentNode:e),uc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var s=a;a=function(){var e=Gc(l);s.call(e)}}var l=jc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fr]=l.current,qa(8===e.nodeType?e.parentNode:e),uc((function(){Uc(t,l,n,a)})),l}(n,t,e,r,a);return Gc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Uc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Uc(null,e,null,null)})),t[fr]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Bt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),ac(t,Xe()),0===(6&Sl)&&(ql=Xe()+500,qr()))}break;case 13:uc((function(){var t=Pi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Pi(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Tt=function(){return vt},Dt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=_r(a);if(!r)throw Error(i(90));K(a),$(a,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[vr,wr,_r,Ae,Ce,cc]},tu={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{rt=au.inject(nu),it=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var n=!1,a="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,a,r),e[fr]=t.current,qa(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(i(405));var a=null!=n&&n.hydratedSources||null,r=!1,o="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,r,0,o,s),e[fr]=t.current,qa(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Qc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},806:()=>{},812:e=>{"use strict";var t,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var a in t)n(e,a,{get:t[a],enumerable:!0})})(o,{SYMBOL_FOR_REQ_CONTEXT:()=>s,getContext:()=>l}),e.exports=(t=o,((e,t,o,s)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of r(t))i.call(e,l)||l===o||n(e,l,{get:()=>t[l],enumerable:!(s=a(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),t));const s=Symbol.for("@vercel/request-context");function l(){var e,t,n;return null!==(e=null===(t=globalThis[s])||void 0===t||null===(n=t.get)||void 0===n?void 0:n.call(t))&&void 0!==e?e:{}}},837:()=>{},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var r=Object.create(null);__webpack_require__.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,__webpack_require__.d(r,i),r}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{InferenceSession:()=>E,TRACE:()=>T,TRACE_FUNC_BEGIN:()=>A,TRACE_FUNC_END:()=>C,Tensor:()=>k,env:()=>y,registerBackend:()=>p});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{InferenceSession:()=>se,TRACE:()=>ne,TRACE_FUNC_BEGIN:()=>re,TRACE_FUNC_END:()=>ie,Tensor:()=>te,default:()=>Hd,env:()=>R,registerBackend:()=>z});var n=__webpack_require__(43),a=__webpack_require__.t(n,2),r=__webpack_require__(391);function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=new Map,h=[],p=(e,t,n)=>{if(!t||"function"!==typeof t.init||"function"!==typeof t.createInferenceSessionHandler)throw new TypeError("not a valid backend");{const a=d.get(e);if(void 0===a)d.set(e,{backend:t,priority:n});else{if(a.priority>n)return;if(a.priority===n&&a.backend!==t)throw new Error('cannot register backend "'.concat(e,'" using priority ').concat(n))}if(n>=0){const t=h.indexOf(e);-1!==t&&h.splice(t,1);for(let a=0;a<h.length;a++)if(d.get(h[a]).priority<=n)return void h.splice(a,0,e);h.push(e)}}},f=async e=>{const t=d.get(e);if(!t)return"backend not found.";if(t.initialized)return t.backend;if(t.aborted)return t.error;{const n=!!t.initPromise;try{return n||(t.initPromise=t.backend.init(e)),await t.initPromise,t.initialized=!0,t.backend}catch(F){return n||(t.error="".concat(F),t.aborted=!0),t.error}finally{delete t.initPromise}}};let m="warning";const g={wasm:{},webgl:{},webgpu:{},versions:{common:"1.21.0"},set logLevel(e){if(void 0!==e){if("string"!==typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: ".concat(e));m=e}},get logLevel(){return m}};Object.defineProperty(g,"logLevel",{enumerable:!0});const y=g,b=(e,t)=>{var n;if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");const{height:a,width:r}=t,i=null!==(n=t.norm)&&void 0!==n?n:{mean:255,bias:0};let o,s;var l,c;"number"===typeof i.mean?o=[i.mean,i.mean,i.mean,i.mean]:o=[i.mean[0],i.mean[1],i.mean[2],null!==(l=i.mean[3])&&void 0!==l?l:255];"number"===typeof i.bias?s=[i.bias,i.bias,i.bias,i.bias]:s=[i.bias[0],i.bias[1],i.bias[2],null!==(c=i.bias[3])&&void 0!==c?c:0];const u=void 0!==t.format?t.format:"RGBA",d=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",h=a*r,p="RGBA"===d?new Float32Array(4*h):new Float32Array(3*h);let f=4,m=0,g=1,y=2,b=3,v=0,w=h,_=2*h,k=-1;"RGB"===u&&(f=3,m=0,g=1,y=2,b=-1),"RGBA"===d?k=3*h:"RBG"===d?(v=0,_=h,w=2*h):"BGR"===d&&(_=0,w=h,v=2*h);for(let x=0;x<h;x++,m+=f,y+=f,g+=f,b+=f)p[v++]=(e[m]+s[0])/o[0],p[w++]=(e[g]+s[1])/o[1],p[_++]=(e[y]+s[2])/o[2],-1!==k&&-1!==b&&(p[k++]=(e[b]+s[3])/o[3]);return new x("float32",p,"RGBA"===d?[1,4,a,r]:[1,3,a,r])},v=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),w=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let _=!1;class x{constructor(e,t,n){let a,r;if((()=>{if(!_){_=!0;const e="undefined"!==typeof BigInt64Array&&BigInt64Array.from,t="undefined"!==typeof BigUint64Array&&BigUint64Array.from,n=globalThis.Float16Array,a="undefined"!==typeof n&&n.from;e&&(v.set("int64",BigInt64Array),w.set(BigInt64Array,"int64")),t&&(v.set("uint64",BigUint64Array),w.set(BigUint64Array,"uint64")),a?(v.set("float16",n),w.set(n,"float16")):v.set("float16",Uint16Array)}})(),"object"===typeof e&&"location"in e)switch(this.dataLocation=e.location,a=e.type,r=e.dims,e.location){case"cpu-pinned":{const t=v.get(a);if(!t)throw new TypeError('unsupported type "'.concat(a,'" to create tensor from pinned buffer'));if(!(e.data instanceof t))throw new TypeError("buffer should be of type ".concat(t.name));this.cpuData=e.data;break}case"texture":if("float32"!==a)throw new TypeError('unsupported type "'.concat(a,'" to create tensor from texture'));this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break;case"gpu-buffer":if("float32"!==a&&"float16"!==a&&"int32"!==a&&"int64"!==a&&"uint32"!==a&&"uint8"!==a&&"bool"!==a&&"uint4"!==a&&"int4"!==a)throw new TypeError('unsupported type "'.concat(a,'" to create tensor from gpu buffer'));this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break;case"ml-tensor":if("float32"!==a&&"float16"!==a&&"int32"!==a&&"int64"!==a&&"uint32"!==a&&"uint64"!==a&&"int8"!==a&&"uint8"!==a&&"bool"!==a&&"uint4"!==a&&"int4"!==a)throw new TypeError('unsupported type "'.concat(a,'" to create tensor from MLTensor'));this.mlTensorData=e.mlTensor,this.downloader=e.download,this.disposer=e.dispose;break;default:throw new Error("Tensor constructor: unsupported location '".concat(this.dataLocation,"'"))}else{let i,o;if("string"===typeof e)if(a=e,o=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{const n=v.get(e);if(void 0===n)throw new TypeError("Unsupported tensor type: ".concat(e,"."));if(Array.isArray(t)){if("float16"===e&&n===Uint16Array||"uint4"===e||"int4"===e)throw new TypeError("Creating a ".concat(e," tensor from number array is not supported. Please use ").concat(n.name," as data."));i="uint64"===e||"int64"===e?n.from(t,BigInt):n.from(t)}else if(t instanceof n)i=t;else if(t instanceof Uint8ClampedArray){if("uint8"!==e)throw new TypeError("A Uint8ClampedArray tensor's data must be type of uint8");i=Uint8Array.from(t)}else{if(!("float16"===e&&t instanceof Uint16Array&&n!==Uint16Array))throw new TypeError("A ".concat(a," tensor's data must be type of ").concat(n));i=new globalThis.Float16Array(t.buffer,t.byteOffset,t.length)}}else if(o=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)a="string",i=e;else{if("boolean"!==t)throw new TypeError("Invalid element type of data array: ".concat(t,"."));a="bool",i=Uint8Array.from(e)}}else if(e instanceof Uint8ClampedArray)a="uint8",i=Uint8Array.from(e);else{const t=w.get(e.constructor);if(void 0===t)throw new TypeError("Unsupported type for tensor data: ".concat(e.constructor,"."));a=t,i=e}if(void 0===o)o=[i.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");r=o,this.cpuData=i,this.dataLocation="cpu"}const i=(e=>{let t=1;for(let n=0;n<e.length;n++){const a=e[n];if("number"!==typeof a||!Number.isSafeInteger(a))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(a));if(a<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(a));t*=a}return t})(r);if(this.cpuData&&i!==this.cpuData.length&&("uint4"!==a&&"int4"!==a||Math.ceil(i/2)!==this.cpuData.length))throw new Error("Tensor's size(".concat(i,") does not match data length(").concat(this.cpuData.length,")."));this.type=a,this.dims=r,this.size=i}static async fromImage(e,t){return(async(e,t)=>{const n="undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement,a="undefined"!==typeof ImageData&&e instanceof ImageData,r="undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap,i="string"===typeof e;let o,s=null!==t&&void 0!==t?t:{};const l=()=>{if("undefined"!==typeof document)return document.createElement("canvas");if("undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},c=e=>"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas?e.getContext("2d"):null;if(n){const n=l();n.width=e.width,n.height=e.height;const a=c(n);if(null==a)throw new Error("Can not access image data");{let n=e.height,r=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(n=t.resizedHeight,r=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=n,s.width=r}else s.tensorFormat="RGBA",s.height=n,s.width=r;a.drawImage(e,0,0),o=a.getImageData(0,0,r,n).data}}else{if(!a){if(r){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");const n=l();n.width=e.width,n.height=e.height;const a=c(n);if(null!=a){const t=e.height,n=e.width;return a.drawImage(e,0,0,n,t),o=a.getImageData(0,0,n,t).data,s.height=t,s.width=n,b(o,s)}throw new Error("Can not access image data")}if(i)return new Promise(((t,n)=>{const a=l(),r=c(a);if(!e||!r)return n();const i=new Image;i.crossOrigin="Anonymous",i.src=e,i.onload=()=>{a.width=i.width,a.height=i.height,r.drawImage(i,0,0,a.width,a.height);const e=r.getImageData(0,0,a.width,a.height);s.height=a.height,s.width=a.width,t(b(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{let n,a;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(n=t.resizedHeight,a=t.resizedWidth):(n=e.height,a=e.width),void 0!==t&&(s=t),s.format="RGBA",s.height=n,s.width=a,void 0!==t){const t=l();t.width=a,t.height=n;const r=c(t);if(null==r)throw new Error("Can not access image data");r.putImageData(e,0,0),o=r.getImageData(0,0,a,n).data}else o=e.data}}if(void 0!==o)return b(o,s);throw new Error("Input data provided is not supported - aborted tensor creation")})(e,t)}static fromTexture(e,t){return((e,t)=>{const{width:n,height:a,download:r,dispose:i}=t;return new x({location:"texture",type:"float32",texture:e,dims:[1,a,n,4],download:r,dispose:i})})(e,t)}static fromGpuBuffer(e,t){return((e,t)=>{const{dataType:n,dims:a,download:r,dispose:i}=t;return new x({location:"gpu-buffer",type:null!==n&&void 0!==n?n:"float32",gpuBuffer:e,dims:a,download:r,dispose:i})})(e,t)}static fromMLTensor(e,t){return((e,t)=>{const{dataType:n,dims:a,download:r,dispose:i}=t;return new x({location:"ml-tensor",type:null!==n&&void 0!==n?n:"float32",mlTensor:e,dims:a,download:r,dispose:i})})(e,t)}static fromPinnedBuffer(e,t,n){return((e,t,n)=>new x({location:"cpu-pinned",type:e,data:t,dims:null!==n&&void 0!==n?n:[t.length]}))(e,t,n)}toDataURL(e){return((e,t)=>{const n="undefined"!==typeof document?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=e.dims[3],n.height=e.dims[2];const a=n.getContext("2d");if(null!=a){let r,i;void 0!==(null===t||void 0===t?void 0:t.tensorLayout)&&"NHWC"===t.tensorLayout?(r=e.dims[2],i=e.dims[3]):(r=e.dims[3],i=e.dims[2]);const o=void 0!==(null===t||void 0===t?void 0:t.format)?t.format:"RGB",s=null===t||void 0===t?void 0:t.norm;let l,c;void 0===s||void 0===s.mean?l=[255,255,255,255]:"number"===typeof s.mean?l=[s.mean,s.mean,s.mean,s.mean]:(l=[s.mean[0],s.mean[1],s.mean[2],0],void 0!==s.mean[3]&&(l[3]=s.mean[3])),void 0===s||void 0===s.bias?c=[0,0,0,0]:"number"===typeof s.bias?c=[s.bias,s.bias,s.bias,s.bias]:(c=[s.bias[0],s.bias[1],s.bias[2],0],void 0!==s.bias[3]&&(c[3]=s.bias[3]));const u=i*r;let d=0,h=u,p=2*u,f=-1;"RGBA"===o?(d=0,h=u,p=2*u,f=3*u):"RGB"===o?(d=0,h=u,p=2*u):"RBG"===o&&(d=0,p=u,h=2*u);for(let t=0;t<i;t++)for(let n=0;n<r;n++){const r=(e.data[d++]-c[0])*l[0],i=(e.data[h++]-c[1])*l[1],o=(e.data[p++]-c[2])*l[2],s=-1===f?255:(e.data[f++]-c[3])*l[3];a.fillStyle="rgba("+r+","+i+","+o+","+s+")",a.fillRect(n,t,1,1)}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported")}throw new Error("Can not access image data")})(this,e)}toImageData(e){return((e,t)=>{const n="undefined"!==typeof document?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d");let a;if(null==n)throw new Error("Can not access image data");{let r,i,o;void 0!==(null===t||void 0===t?void 0:t.tensorLayout)&&"NHWC"===t.tensorLayout?(r=e.dims[2],i=e.dims[1],o=e.dims[3]):(r=e.dims[3],i=e.dims[2],o=e.dims[1]);const s=void 0!==t&&void 0!==t.format?t.format:"RGB",l=null===t||void 0===t?void 0:t.norm;let c,u;void 0===l||void 0===l.mean?c=[255,255,255,255]:"number"===typeof l.mean?c=[l.mean,l.mean,l.mean,l.mean]:(c=[l.mean[0],l.mean[1],l.mean[2],255],void 0!==l.mean[3]&&(c[3]=l.mean[3])),void 0===l||void 0===l.bias?u=[0,0,0,0]:"number"===typeof l.bias?u=[l.bias,l.bias,l.bias,l.bias]:(u=[l.bias[0],l.bias[1],l.bias[2],0],void 0!==l.bias[3]&&(u[3]=l.bias[3]));const d=i*r;if(void 0!==t&&(void 0!==t.format&&4===o&&"RGBA"!==t.format||3===o&&"RGB"!==t.format&&"BGR"!==t.format))throw new Error("Tensor format doesn't match input tensor dims");const h=4;let p=0,f=1,m=2,g=3,y=0,b=d,v=2*d,w=-1;"RGBA"===s?(y=0,b=d,v=2*d,w=3*d):"RGB"===s?(y=0,b=d,v=2*d):"RBG"===s&&(y=0,v=d,b=2*d),a=n.createImageData(r,i);for(let t=0;t<i*r;p+=h,f+=h,m+=h,g+=h,t++)a.data[p]=(e.data[y++]-u[0])*c[0],a.data[f]=(e.data[b++]-u[1])*c[1],a.data[m]=(e.data[v++]-u[2])*c[2],a.data[g]=-1===w?255:(e.data[w++]-u[3])*c[3]}return a})(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw new Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;const t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}default:throw new Error("cannot get data from location: ".concat(this.dataLocation))}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if("none"===this.dataLocation)throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return((e,t)=>{switch(e.location){case"cpu":return new x(e.type,e.data,t);case"cpu-pinned":return new x({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new x({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new x({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});case"ml-tensor":return new x({location:"ml-tensor",mlTensor:e.mlTensor,type:e.type,dims:t});default:throw new Error("tensorReshape: tensor location ".concat(e.location," is not supported"))}})(this,e)}}const k=x,T=(e,t)=>{("undefined"===typeof g.trace?g.wasm.trace:g.trace)&&console.timeStamp("".concat(e,"::ORT::").concat(t))},D=(e,t)=>{var n;const a=(null===(n=(new Error).stack)||void 0===n?void 0:n.split(/\r\n|\r|\n/g))||[];let r=!1;for(let i=0;i<a.length;i++){if(r&&!a[i].includes("TRACE_FUNC")){let n="FUNC_".concat(e,"::").concat(a[i].trim().split(" ")[1]);return t&&(n+="::".concat(t)),void T("CPU",n)}a[i].includes("TRACE_FUNC")&&(r=!0)}},A=e=>{("undefined"===typeof g.trace?g.wasm.trace:g.trace)&&D("BEGIN",e)},C=e=>{("undefined"===typeof g.trace?g.wasm.trace:g.trace)&&D("END",e)};class S{constructor(e){this.handler=e}async run(e,t,n){A();const a={};let r={};if("object"!==typeof e||null===e||e instanceof k||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let i=!0;if("object"===typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof k)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");i=!1;for(const e of t){if("string"!==typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError("'fetches' contains invalid output name: ".concat(e,"."));a[e]=null}if("object"===typeof n&&null!==n)r=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else{let e=!1;const o=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==o.indexOf(n)){const r=t[n];(null===r||r instanceof k)&&(e=!0,i=!1,a[n]=r)}if(e){if("object"===typeof n&&null!==n)r=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else r=t}}else if("undefined"!==typeof t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const l of this.inputNames)if("undefined"===typeof e[l])throw new Error("input '".concat(l,"' is missing in 'feeds'."));if(i)for(const l of this.outputNames)a[l]=null;const o=await this.handler.run(e,a,r),s={};for(const l in o)if(Object.hasOwnProperty.call(o,l)){const e=o[l];s[l]=e instanceof k?e:new k(e.type,e.data,e.dims)}return C(),s}async release(){return this.handler.dispose()}static async create(e,t,n,a){let r;A();let i={};if("string"===typeof e){if(r=e,"object"===typeof t&&null!==t)i=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(r=e,"object"===typeof t&&null!==t)i=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const o=e;let s=0,l=e.byteLength;if("object"===typeof t&&null!==t)i=t;else if("number"===typeof t){if(s=t,!Number.isSafeInteger(s))throw new RangeError("'byteOffset' must be an integer.");if(s<0||s>=o.byteLength)throw new RangeError("'byteOffset' is out of range [0, ".concat(o.byteLength,")."));if(l=e.byteLength-s,"number"===typeof n){if(l=n,!Number.isSafeInteger(l))throw new RangeError("'byteLength' must be an integer.");if(l<=0||s+l>o.byteLength)throw new RangeError("'byteLength' is out of range (0, ".concat(o.byteLength-s,"]."));if("object"===typeof a&&null!==a)i=a;else if("undefined"!==typeof a)throw new TypeError("'options' must be an object.")}else if("undefined"!==typeof n)throw new TypeError("'byteLength' must be a number.")}else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.");r=new Uint8Array(o,s,l)}}const[o,s]=await(async e=>{const t=e.executionProviders||[],n=t.map((e=>"string"===typeof e?e:e.name)),a=0===n.length?h:n;let r;const i=[],o=new Set;for(const l of a){const e=await f(l);"string"===typeof e?i.push({name:l,err:e}):(r||(r=e),r===e&&o.add(l))}if(!r)throw new Error("no available backend found. ERR: ".concat(i.map((e=>"[".concat(e.name,"] ").concat(e.err))).join(", ")));for(const{name:l,err:c}of i)n.includes(l)&&console.warn('removing requested execution provider "'.concat(l,'" from session options because it is not available: ').concat(c));const s=t.filter((e=>o.has("string"===typeof e?e:e.name)));return[r,new Proxy(e,{get:(e,t)=>"executionProviders"===t?s:Reflect.get(e,t)})]})(i),l=await o.createInferenceSessionHandler(r,s);return C(),new S(l)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const E=S;var F,M,I,z,P,N,O,B,L,R,j,V,q,U,G,H,W,K,Y,J,Z,X,$,Q,ee,te,ne,ae,re,ie,oe,se,le=Object.defineProperty,ce=Object.getOwnPropertyDescriptor,ue=Object.getOwnPropertyNames,de=Object.prototype.hasOwnProperty,he=(F=function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(F,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):F),pe=(e,t)=>()=>(e&&(t=e(e=0)),t),fe=(e,t)=>{for(var n in t)le(e,n,{get:t[n],enumerable:!0})},me=e=>((e,t,n,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of ue(t))!de.call(e,r)&&r!==n&&le(e,r,{get:()=>t[r],enumerable:!(a=ce(t,r))||a.enumerable});return e})(le({},"__esModule",{value:!0}),e),ge=pe((()=>{M=new Map,I=[],z=(e,t,n)=>{if(!t||"function"!=typeof t.init||"function"!=typeof t.createInferenceSessionHandler)throw new TypeError("not a valid backend");{let a=M.get(e);if(void 0===a)M.set(e,{backend:t,priority:n});else{if(a.priority>n)return;if(a.priority===n&&a.backend!==t)throw new Error('cannot register backend "'.concat(e,'" using priority ').concat(n))}if(n>=0){let t=I.indexOf(e);-1!==t&&I.splice(t,1);for(let a=0;a<I.length;a++)if(M.get(I[a]).priority<=n)return void I.splice(a,0,e);I.push(e)}}},P=async e=>{let t=M.get(e);if(!t)return"backend not found.";if(t.initialized)return t.backend;if(t.aborted)return t.error;{let a=!!t.initPromise;try{return a||(t.initPromise=t.backend.init(e)),await t.initPromise,t.initialized=!0,t.backend}catch(n){return a||(t.error="".concat(n),t.aborted=!0),t.error}finally{delete t.initPromise}}},N=async e=>{let t,n=e.executionProviders||[],a=n.map((e=>"string"==typeof e?e:e.name)),r=0===a.length?I:a,i=[],o=new Set;for(let l of r){let e=await P(l);"string"==typeof e?i.push({name:l,err:e}):(t||(t=e),t===e&&o.add(l))}if(!t)throw new Error("no available backend found. ERR: ".concat(i.map((e=>"[".concat(e.name,"] ").concat(e.err))).join(", ")));for(let{name:l,err:c}of i)a.includes(l)&&console.warn('removing requested execution provider "'.concat(l,'" from session options because it is not available: ').concat(c));let s=n.filter((e=>o.has("string"==typeof e?e:e.name)));return[t,new Proxy(e,{get:(e,t)=>"executionProviders"===t?s:Reflect.get(e,t)})]}})),ye=pe((()=>{ge()})),be=pe((()=>{O="1.22.0-dev.20250409-89f8206ba4"})),ve=pe((()=>{be(),B="warning",L={wasm:{},webgl:{},webgpu:{},versions:{common:O},set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: ".concat(e));B=e}},get logLevel(){return B}},Object.defineProperty(L,"logLevel",{enumerable:!0})})),we=pe((()=>{ve(),R=L})),_e=pe((()=>{j=(e,t)=>{let n=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=e.dims[3],n.height=e.dims[2];let a=n.getContext("2d");if(null!=a){let r,i;void 0!==(null===t||void 0===t?void 0:t.tensorLayout)&&"NHWC"===t.tensorLayout?(r=e.dims[2],i=e.dims[3]):(r=e.dims[3],i=e.dims[2]);let o,s,l=void 0!==(null===t||void 0===t?void 0:t.format)?t.format:"RGB",c=null===t||void 0===t?void 0:t.norm;void 0===c||void 0===c.mean?o=[255,255,255,255]:"number"==typeof c.mean?o=[c.mean,c.mean,c.mean,c.mean]:(o=[c.mean[0],c.mean[1],c.mean[2],0],void 0!==c.mean[3]&&(o[3]=c.mean[3])),void 0===c||void 0===c.bias?s=[0,0,0,0]:"number"==typeof c.bias?s=[c.bias,c.bias,c.bias,c.bias]:(s=[c.bias[0],c.bias[1],c.bias[2],0],void 0!==c.bias[3]&&(s[3]=c.bias[3]));let u=i*r,d=0,h=u,p=2*u,f=-1;"RGBA"===l?(d=0,h=u,p=2*u,f=3*u):"RGB"===l?(d=0,h=u,p=2*u):"RBG"===l&&(d=0,p=u,h=2*u);for(let t=0;t<i;t++)for(let n=0;n<r;n++){let r=(e.data[d++]-s[0])*o[0],i=(e.data[h++]-s[1])*o[1],l=(e.data[p++]-s[2])*o[2],c=-1===f?255:(e.data[f++]-s[3])*o[3];a.fillStyle="rgba("+r+","+i+","+l+","+c+")",a.fillRect(n,t,1,1)}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported")}throw new Error("Can not access image data")},V=(e,t)=>{let n,a=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d");if(null==a)throw new Error("Can not access image data");{let r,i,o;void 0!==(null===t||void 0===t?void 0:t.tensorLayout)&&"NHWC"===t.tensorLayout?(r=e.dims[2],i=e.dims[1],o=e.dims[3]):(r=e.dims[3],i=e.dims[2],o=e.dims[1]);let s,l,c=void 0!==t&&void 0!==t.format?t.format:"RGB",u=null===t||void 0===t?void 0:t.norm;void 0===u||void 0===u.mean?s=[255,255,255,255]:"number"==typeof u.mean?s=[u.mean,u.mean,u.mean,u.mean]:(s=[u.mean[0],u.mean[1],u.mean[2],255],void 0!==u.mean[3]&&(s[3]=u.mean[3])),void 0===u||void 0===u.bias?l=[0,0,0,0]:"number"==typeof u.bias?l=[u.bias,u.bias,u.bias,u.bias]:(l=[u.bias[0],u.bias[1],u.bias[2],0],void 0!==u.bias[3]&&(l[3]=u.bias[3]));let d=i*r;if(void 0!==t&&(void 0!==t.format&&4===o&&"RGBA"!==t.format||3===o&&"RGB"!==t.format&&"BGR"!==t.format))throw new Error("Tensor format doesn't match input tensor dims");let h=4,p=0,f=1,m=2,g=3,y=0,b=d,v=2*d,w=-1;"RGBA"===c?(y=0,b=d,v=2*d,w=3*d):"RGB"===c?(y=0,b=d,v=2*d):"RBG"===c&&(y=0,v=d,b=2*d),n=a.createImageData(r,i);for(let t=0;t<i*r;p+=h,f+=h,m+=h,g+=h,t++)n.data[p]=(e.data[y++]-l[0])*s[0],n.data[f]=(e.data[b++]-l[1])*s[1],n.data[m]=(e.data[v++]-l[2])*s[2],n.data[g]=-1===w?255:(e.data[w++]-l[3])*s[3]}return n}})),xe=pe((()=>{De(),q=(e,t)=>{var n,a,r;if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");let i,o,{height:s,width:l}=t,c=null!==(n=t.norm)&&void 0!==n?n:{mean:255,bias:0};i="number"==typeof c.mean?[c.mean,c.mean,c.mean,c.mean]:[c.mean[0],c.mean[1],c.mean[2],null!==(a=c.mean[3])&&void 0!==a?a:255],o="number"==typeof c.bias?[c.bias,c.bias,c.bias,c.bias]:[c.bias[0],c.bias[1],c.bias[2],null!==(r=c.bias[3])&&void 0!==r?r:0];let u=void 0!==t.format?t.format:"RGBA",d=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",h=s*l,p="RGBA"===d?new Float32Array(4*h):new Float32Array(3*h),f=4,m=0,g=1,y=2,b=3,v=0,w=h,_=2*h,x=-1;"RGB"===u&&(f=3,m=0,g=1,y=2,b=-1),"RGBA"===d?x=3*h:"RBG"===d?(v=0,_=h,w=2*h):"BGR"===d&&(_=0,w=h,v=2*h);for(let k=0;k<h;k++,m+=f,y+=f,g+=f,b+=f)p[v++]=(e[m]+o[0])/i[0],p[w++]=(e[g]+o[1])/i[1],p[_++]=(e[y]+o[2])/i[2],-1!==x&&-1!==b&&(p[x++]=(e[b]+o[3])/i[3]);return new ee("float32",p,"RGBA"===d?[1,4,s,l]:[1,3,s,l])},U=async(e,t)=>{let n,a=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,r=typeof ImageData<"u"&&e instanceof ImageData,i=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,o="string"==typeof e,s=null!==t&&void 0!==t?t:{},l=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},c=e=>typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas?e.getContext("2d"):null;if(a){let a=l();a.width=e.width,a.height=e.height;let r=c(a);if(null==r)throw new Error("Can not access image data");{let a=e.height,i=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(a=t.resizedHeight,i=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=a,s.width=i}else s.tensorFormat="RGBA",s.height=a,s.width=i;r.drawImage(e,0,0),n=r.getImageData(0,0,i,a).data}}else{if(!r){if(i){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");let a=l();a.width=e.width,a.height=e.height;let r=c(a);if(null!=r){let t=e.height,a=e.width;return r.drawImage(e,0,0,a,t),n=r.getImageData(0,0,a,t).data,s.height=t,s.width=a,q(n,s)}throw new Error("Can not access image data")}if(o)return new Promise(((t,n)=>{let a=l(),r=c(a);if(!e||!r)return n();let i=new Image;i.crossOrigin="Anonymous",i.src=e,i.onload=()=>{a.width=i.width,a.height=i.height,r.drawImage(i,0,0,a.width,a.height);let e=r.getImageData(0,0,a.width,a.height);s.height=a.height,s.width=a.width,t(q(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{let a,r;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(a=t.resizedHeight,r=t.resizedWidth):(a=e.height,r=e.width),void 0!==t&&(s=t),s.format="RGBA",s.height=a,s.width=r,void 0!==t){let t=l();t.width=r,t.height=a;let i=c(t);if(null==i)throw new Error("Can not access image data");i.putImageData(e,0,0),n=i.getImageData(0,0,r,a).data}else n=e.data}}if(void 0!==n)return q(n,s);throw new Error("Input data provided is not supported - aborted tensor creation")},G=(e,t)=>{let{width:n,height:a,download:r,dispose:i}=t;return new ee({location:"texture",type:"float32",texture:e,dims:[1,a,n,4],download:r,dispose:i})},H=(e,t)=>{let{dataType:n,dims:a,download:r,dispose:i}=t;return new ee({location:"gpu-buffer",type:null!==n&&void 0!==n?n:"float32",gpuBuffer:e,dims:a,download:r,dispose:i})},W=(e,t)=>{let{dataType:n,dims:a,download:r,dispose:i}=t;return new ee({location:"ml-tensor",type:null!==n&&void 0!==n?n:"float32",mlTensor:e,dims:a,download:r,dispose:i})},K=(e,t,n)=>new ee({location:"cpu-pinned",type:e,data:t,dims:null!==n&&void 0!==n?n:[t.length]})})),ke=pe((()=>{Y=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),J=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Z=!1,X=()=>{if(!Z){Z=!0;let e=typeof BigInt64Array<"u"&&BigInt64Array.from,t=typeof BigUint64Array<"u"&&BigUint64Array.from,n=globalThis.Float16Array,a=typeof n<"u"&&n.from;e&&(Y.set("int64",BigInt64Array),J.set(BigInt64Array,"int64")),t&&(Y.set("uint64",BigUint64Array),J.set(BigUint64Array,"uint64")),a?(Y.set("float16",n),J.set(n,"float16")):Y.set("float16",Uint16Array)}}})),Te=pe((()=>{De(),$=e=>{let t=1;for(let n=0;n<e.length;n++){let a=e[n];if("number"!=typeof a||!Number.isSafeInteger(a))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(a));if(a<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(a));t*=a}return t},Q=(e,t)=>{switch(e.location){case"cpu":return new ee(e.type,e.data,t);case"cpu-pinned":return new ee({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new ee({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new ee({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});case"ml-tensor":return new ee({location:"ml-tensor",mlTensor:e.mlTensor,type:e.type,dims:t});default:throw new Error("tensorReshape: tensor location ".concat(e.location," is not supported"))}}})),De=pe((()=>{_e(),xe(),ke(),Te(),ee=class{constructor(e,t,n){let a,r;if(X(),"object"==typeof e&&"location"in e)switch(this.dataLocation=e.location,a=e.type,r=e.dims,e.location){case"cpu-pinned":{let t=Y.get(a);if(!t)throw new TypeError('unsupported type "'.concat(a,'" to create tensor from pinned buffer'));if(!(e.data instanceof t))throw new TypeError("buffer should be of type ".concat(t.name));this.cpuData=e.data;break}case"texture":if("float32"!==a)throw new TypeError('unsupported type "'.concat(a,'" to create tensor from texture'));this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break;case"gpu-buffer":if("float32"!==a&&"float16"!==a&&"int32"!==a&&"int64"!==a&&"uint32"!==a&&"uint8"!==a&&"bool"!==a&&"uint4"!==a&&"int4"!==a)throw new TypeError('unsupported type "'.concat(a,'" to create tensor from gpu buffer'));this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break;case"ml-tensor":if("float32"!==a&&"float16"!==a&&"int32"!==a&&"int64"!==a&&"uint32"!==a&&"uint64"!==a&&"int8"!==a&&"uint8"!==a&&"bool"!==a&&"uint4"!==a&&"int4"!==a)throw new TypeError('unsupported type "'.concat(a,'" to create tensor from MLTensor'));this.mlTensorData=e.mlTensor,this.downloader=e.download,this.disposer=e.dispose;break;default:throw new Error("Tensor constructor: unsupported location '".concat(this.dataLocation,"'"))}else{let i,o;if("string"==typeof e)if(a=e,o=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{let n=Y.get(e);if(void 0===n)throw new TypeError("Unsupported tensor type: ".concat(e,"."));if(Array.isArray(t)){if("float16"===e&&n===Uint16Array||"uint4"===e||"int4"===e)throw new TypeError("Creating a ".concat(e," tensor from number array is not supported. Please use ").concat(n.name," as data."));i="uint64"===e||"int64"===e?n.from(t,BigInt):n.from(t)}else if(t instanceof n)i=t;else if(t instanceof Uint8ClampedArray){if("uint8"!==e)throw new TypeError("A Uint8ClampedArray tensor's data must be type of uint8");i=Uint8Array.from(t)}else{if(!("float16"===e&&t instanceof Uint16Array&&n!==Uint16Array))throw new TypeError("A ".concat(a," tensor's data must be type of ").concat(n));i=new globalThis.Float16Array(t.buffer,t.byteOffset,t.length)}}else if(o=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");let t=typeof e[0];if("string"===t)a="string",i=e;else{if("boolean"!==t)throw new TypeError("Invalid element type of data array: ".concat(t,"."));a="bool",i=Uint8Array.from(e)}}else if(e instanceof Uint8ClampedArray)a="uint8",i=Uint8Array.from(e);else{let t=J.get(e.constructor);if(void 0===t)throw new TypeError("Unsupported type for tensor data: ".concat(e.constructor,"."));a=t,i=e}if(void 0===o)o=[i.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");r=o,this.cpuData=i,this.dataLocation="cpu"}let i=$(r);if(this.cpuData&&i!==this.cpuData.length&&("uint4"!==a&&"int4"!==a||Math.ceil(i/2)!==this.cpuData.length))throw new Error("Tensor's size(".concat(i,") does not match data length(").concat(this.cpuData.length,")."));this.type=a,this.dims=r,this.size=i}static async fromImage(e,t){return U(e,t)}static fromTexture(e,t){return G(e,t)}static fromGpuBuffer(e,t){return H(e,t)}static fromMLTensor(e,t){return W(e,t)}static fromPinnedBuffer(e,t,n){return K(e,t,n)}toDataURL(e){return j(this,e)}toImageData(e){return V(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw new Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}default:throw new Error("cannot get data from location: ".concat(this.dataLocation))}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if("none"===this.dataLocation)throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return Q(this,e)}}})),Ae=pe((()=>{De(),te=ee})),Ce=pe((()=>{ve(),ne=(e,t)=>{(typeof L.trace>"u"?!L.wasm.trace:!L.trace)||console.timeStamp("".concat(e,"::ORT::").concat(t))},ae=(e,t)=>{var n;let a=(null===(n=(new Error).stack)||void 0===n?void 0:n.split(/\r\n|\r|\n/g))||[],r=!1;for(let i=0;i<a.length;i++){if(r&&!a[i].includes("TRACE_FUNC")){let n="FUNC_".concat(e,"::").concat(a[i].trim().split(" ")[1]);return t&&(n+="::".concat(t)),void ne("CPU",n)}a[i].includes("TRACE_FUNC")&&(r=!0)}},re=e=>{(typeof L.trace>"u"?!L.wasm.trace:!L.trace)||ae("BEGIN",e)},ie=e=>{(typeof L.trace>"u"?!L.wasm.trace:!L.trace)||ae("END",e)}})),Se=pe((()=>{ge(),Ae(),Ce(),oe=class e{constructor(e){this.handler=e}async run(e,t,n){re();let a={},r={};if("object"!=typeof e||null===e||e instanceof te||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let i=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof te)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");i=!1;for(let e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError("'fetches' contains invalid output name: ".concat(e,"."));a[e]=null}if("object"==typeof n&&null!==n)r=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else{let e=!1,o=Object.getOwnPropertyNames(t);for(let n of this.outputNames)if(-1!==o.indexOf(n)){let r=t[n];(null===r||r instanceof te)&&(e=!0,i=!1,a[n]=r)}if(e){if("object"==typeof n&&null!==n)r=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else r=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let l of this.inputNames)if(typeof e[l]>"u")throw new Error("input '".concat(l,"' is missing in 'feeds'."));if(i)for(let l of this.outputNames)a[l]=null;let o=await this.handler.run(e,a,r),s={};for(let l in o)if(Object.hasOwnProperty.call(o,l)){let e=o[l];s[l]=e instanceof te?e:new te(e.type,e.data,e.dims)}return ie(),s}async release(){return this.handler.dispose()}static async create(t,n,a,r){re();let i,o={};if("string"==typeof t){if(i=t,"object"==typeof n&&null!==n)o=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(i=t,"object"==typeof n&&null!==n)o=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else{if(!(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{let e=t,s=0,l=t.byteLength;if("object"==typeof n&&null!==n)o=n;else if("number"==typeof n){if(s=n,!Number.isSafeInteger(s))throw new RangeError("'byteOffset' must be an integer.");if(s<0||s>=e.byteLength)throw new RangeError("'byteOffset' is out of range [0, ".concat(e.byteLength,")."));if(l=t.byteLength-s,"number"==typeof a){if(l=a,!Number.isSafeInteger(l))throw new RangeError("'byteLength' must be an integer.");if(l<=0||s+l>e.byteLength)throw new RangeError("'byteLength' is out of range (0, ".concat(e.byteLength-s,"]."));if("object"==typeof r&&null!==r)o=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(typeof a<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");i=new Uint8Array(e,s,l)}}let[s,l]=await N(o),c=await s.createInferenceSessionHandler(i,l);return ie(),new e(c)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}get inputMetadata(){return this.handler.inputMetadata}get outputMetadata(){return this.handler.outputMetadata}}})),Ee=pe((()=>{Se(),se=oe})),Fe=pe((()=>{})),Me=pe((()=>{})),Ie=pe((()=>{})),ze=pe((()=>{})),Pe={};fe(Pe,{InferenceSession:()=>se,TRACE:()=>ne,TRACE_FUNC_BEGIN:()=>re,TRACE_FUNC_END:()=>ie,Tensor:()=>te,env:()=>R,registerBackend:()=>z});var Ne=pe((()=>{ye(),we(),Ee(),Ae(),Fe(),Me(),Ce(),Ie(),ze()})),Oe=pe((()=>{})),Be={};fe(Be,{default:()=>je});var Le,Re,je,Ve=pe((()=>{var e;Bd(),Mc(),Fc(),Le="ort-wasm-proxy-worker",(Re=(null===(e=globalThis.self)||void 0===e?void 0:e.name)===Le)&&(self.onmessage=e=>{let{type:t,in:n}=e.data;try{switch(t){case"init-wasm":pt(n.wasm).then((()=>{ad(n).then((()=>{postMessage({type:t})}),(e=>{postMessage({type:t,err:e})}))}),(e=>{postMessage({type:t,err:e})}));break;case"init-ep":{let{epName:e,env:a}=n;rd(a,e).then((()=>{postMessage({type:t})}),(e=>{postMessage({type:t,err:e})}));break}case"copy-from":{let{buffer:e}=n,a=ld(e);postMessage({type:t,out:a});break}case"create":{let{model:e,options:a}=n;cd(e,a).then((e=>{postMessage({type:t,out:e})}),(e=>{postMessage({type:t,err:e})}));break}case"release":ud(n),postMessage({type:t});break;case"run":{let{sessionId:e,inputIndices:a,inputs:r,outputIndices:i,options:o}=n;hd(e,a,r,i,new Array(i.length).fill(null),o).then((e=>{e.some((e=>"cpu"!==e[3]))?postMessage({type:t,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:t,out:e},fd([...r,...e]))}),(e=>{postMessage({type:t,err:e})}));break}case"end-profiling":pd(n),postMessage({type:t})}}catch(a){postMessage({type:t,err:a})}}),je=Re?null:e=>new Worker(null!==e&&void 0!==e?e:Je,{type:"module",name:Le})})),qe={};fe(qe,{default:()=>He});var Ue,Ge,He,We,Ke,Ye,Je,Ze,Xe,$e,Qe,et,tt,nt,at,rt,it,ot,st,lt,ct,ut,dt,ht,pt,ft,mt,gt,yt,bt,vt,wt,_t,xt,kt,Tt,Dt,At,Ct,St,Et,Ft,Mt,It,zt,Pt,Nt,Ot,Bt,Lt,Rt,jt,Vt,qt,Ut,Gt,Ht,Wt,Kt,Yt,Jt,Zt,Xt,$t,Qt,en,tn,nn,an,rn,on,sn,ln,cn,un,dn,hn,pn,fn,mn,gn,yn,bn,vn,wn,_n,xn,kn,Tn,Dn,An,Cn,Sn,En,Fn,Mn,In,zn,Pn,Nn,On,Bn,Ln,Rn,jn,Vn,qn,Un,Gn,Hn,Wn,Kn,Yn,Jn,Zn,Xn,$n,Qn,ea,ta,na,aa,ra,ia,oa,sa,la,ca,ua,da,ha,pa,fa,ma,ga,ya,ba,va,wa,_a,xa,ka,Ta,Da,Aa,Ca,Sa,Ea,Fa,Ma,Ia,za,Pa,Na,Oa,Ba,La,Ra,ja,Va,qa,Ua,Ga,Ha,Wa,Ka,Ya,Ja,Za,Xa,$a,Qa,er,tr,nr,ar,rr,ir,or,sr,lr,cr,ur,dr,hr,pr,fr,mr,gr,yr,br,vr,wr,_r,xr,kr,Tr,Dr,Ar,Cr,Sr,Er,Fr,Mr,Ir,zr,Pr,Nr,Or,Br,Lr,Rr,jr,Vr,qr,Ur,Gr,Hr,Wr,Kr,Yr,Jr,Zr,Xr,$r,Qr,ei,ti,ni,ai,ri,ii,oi,si,li,ci,ui,di,hi,pi,fi,mi,gi,yi,bi,vi,wi,_i,xi,ki,Ti,Di,Ai,Ci,Si,Ei,Fi,Mi,Ii,zi,Pi,Ni,Oi,Bi,Li,Ri,ji,Vi,qi,Ui,Gi,Hi,Wi,Ki,Yi,Ji,Zi,Xi,$i,Qi,eo,to,no,ao,ro,io,oo,so,lo,co,uo,ho,po,fo,mo,go,yo,bo,vo,wo,_o,xo,ko,To,Do,Ao,Co,So,Eo,Fo,Mo,Io,zo,Po,No,Oo,Bo,Lo,Ro,jo,Vo,qo,Uo,Go,Ho,Wo,Ko,Yo,Jo,Zo,Xo,$o,Qo,es,ts,ns,as,rs,is,os,ss,ls,cs,us,ds,hs,ps,fs,ms,gs,ys,bs,vs,ws,_s,xs,ks,Ts,Ds,As,Cs,Ss,Es,Fs,Ms,Is,zs,Ps,Ns,Os,Bs,Ls,Rs,js,Vs,qs,Us,Gs,Hs,Ws,Ks,Ys,Js,Zs,Xs,$s,Qs,el,tl,nl,al,rl,il,ol,sl,ll,cl,ul,dl,hl,pl,fl,ml,gl,yl,bl,vl,wl,_l,xl,kl,Tl,Dl,Al,Cl,Sl,El,Fl,Ml,Il,zl,Pl,Nl,Ol,Bl,Ll,Rl,jl,Vl,ql,Ul,Gl,Hl,Wl,Kl,Yl,Jl,Zl,Xl,$l,Ql,ec,tc,nc,ac,rc,ic,oc,sc,lc,cc,uc,dc,hc,pc,fc,mc,gc,yc,bc,vc,wc,_c,xc,kc,Tc,Dc,Ac,Cc,Sc,Ec=pe((()=>{var e;Ue="file:///Users/emilyreif/Documents/github/llm-consistency-vis/node_modules/onnxruntime-web/dist/ort.bundle.min.mjs",Ge=async function(){var e,t;var n,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new Promise(((e,t)=>{n=e,a=t})),o="object"==typeof window,s=typeof WorkerGlobalScope<"u",c=s&&(null===(e=self.name)||void 0===e?void 0:e.startsWith("em-pthread"));r.mountExternalData=(e,t)=>{e.startsWith("./")&&(e=e.substring(2)),(r.Eb||(r.Eb=new Map)).set(e,t)},r.unmountExternalData=()=>{delete r.Eb};var u=null!==(t=globalThis.SharedArrayBuffer)&&void 0!==t?t:new WebAssembly.Memory({initial:0,maximum:0,pc:!0}).buffer.constructor;let d=e=>async function(){try{var t;if(r.Fb)throw Error("Session already started");let n=r.Fb={dc:arguments.length<=0?void 0:arguments[0],errors:[]},a=await e(...arguments);if(r.Fb!==n)throw Error("Session mismatch");null===(t=r.Jb)||void 0===t||t.flush();let i=n.errors;if(0<i.length){let e=await Promise.all(i);if(e=e.filter((e=>e)),0<e.length)throw Error(e.join("\n"))}return a}finally{r.Fb=null}};r.jsepInit=(e,t)=>{if("webgpu"===e){[r.Jb,r.Ub,r.Yb,r.Kb,r.Xb,r.jb,r.Zb,r.ac,r.Vb,r.Wb,r.$b]=t;let e=r.Jb;r.jsepRegisterBuffer=(t,n,a,r)=>e.registerBuffer(t,n,a,r),r.jsepGetBuffer=t=>e.getBuffer(t),r.jsepCreateDownloader=(t,n,a)=>e.createDownloader(t,n,a),r.jsepOnCreateSession=t=>{e.onCreateSession(t)},r.jsepOnReleaseSession=t=>{e.onReleaseSession(t)},r.jsepOnRunStart=t=>e.onRunStart(t),r.bc=(t,n)=>{e.upload(t,n)}}else if("webnn"===e){let e=t[0];[r.nc,r.Nb,r.webnnEnsureTensor,r.Ob,r.webnnDownloadTensor]=t.slice(1),r.webnnReleaseTensorId=r.Nb,r.webnnUploadTensor=r.Ob,r.webnnOnRunStart=t=>e.onRunStart(t),r.webnnOnRunEnd=e.onRunEnd.bind(e),r.webnnRegisterMLContext=(t,n)=>{e.registerMLContext(t,n)},r.webnnOnReleaseSession=t=>{e.onReleaseSession(t)},r.webnnCreateMLTensorDownloader=(t,n)=>e.createMLTensorDownloader(t,n),r.webnnRegisterMLTensor=(t,n,a,r)=>e.registerMLTensor(t,n,a,r),r.webnnCreateMLContext=t=>e.createMLContext(t),r.webnnRegisterMLConstant=(t,n,a,i,o,s)=>e.registerMLConstant(t,n,a,i,o,r.Eb,s),r.webnnRegisterGraphInput=e.registerGraphInput.bind(e),r.webnnIsGraphInput=e.isGraphInput.bind(e),r.webnnCreateTemporaryTensor=e.createTemporaryTensor.bind(e),r.webnnIsInt64Supported=e.isInt64Supported.bind(e)}};let h=()=>{let e=(e,t,n)=>function(){for(var a,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];let l=Ut,c=null===(a=t)||void 0===a?void 0:a();o=e(...o);let u=null===(r=t)||void 0===r?void 0:r();return c!==u&&(e=u,n(c),t=n=null),Ut!=l?new Promise(((e,t)=>{Jt={resolve:e,reject:t}})):o};(()=>{for(let t of["_OrtAppendExecutionProvider","_OrtCreateSession","_OrtRun","_OrtRunWithBinding","_OrtBindInput"])r[t]=e(r[t],(()=>r[t]),(e=>r[t]=e))})(),void 0!==d&&(r._OrtRun=d(r._OrtRun),r._OrtRunWithBinding=d(r._OrtRunWithBinding)),h=void 0};r.asyncInit=()=>{var e;null===(e=h)||void 0===e||e()};var p,f,m=Object.assign({},r),g=(e,t)=>{throw t},y="";(o||s)&&(s?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),Ue&&(y=Ue),y=y.startsWith("blob:")?"":y.slice(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1),s&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=async e=>{if(B(e))return new Promise(((t,n)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{200==a.status||0==a.status&&a.response?t(a.response):n(a.status)},a.onerror=n,a.send(null)}));var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw Error(t.status+" : "+t.url)});var b=console.log.bind(console),v=console.error.bind(console),w=b,_=v;Object.assign(r,m),m=null;var x,k,T,D,A,C,S,E,F,M,I,z,P,N=r.wasmBinary,O=!1,B=e=>e.startsWith("file://");function L(){return x.buffer!=D.buffer&&Y(),D}function R(){return x.buffer!=D.buffer&&Y(),A}function j(){return x.buffer!=D.buffer&&Y(),C}function V(){return x.buffer!=D.buffer&&Y(),S}function q(){return x.buffer!=D.buffer&&Y(),E}function U(){return x.buffer!=D.buffer&&Y(),F}function G(){return x.buffer!=D.buffer&&Y(),M}function H(){return x.buffer!=D.buffer&&Y(),P}if(c){let e=function(t){try{var n=t.data,a=n.Bb;if("load"===a){let t=[];self.onmessage=e=>t.push(e),self.startWorker=()=>{postMessage({Bb:"loaded"});for(let n of t)e(n);self.onmessage=e};for(let e of n.Rb)r[e]&&!r[e].proxy||(r[e]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];postMessage({Bb:"callHandler",Qb:e,args:n})},"print"==e&&(w=r[e]),"printErr"==e&&(_=r[e]));x=n.kc,Y(),W(n.lc)}else if("run"===a){xe(n.Ab),ya(n.Ab,0,0,1,0,0),ve(),Et(n.Ab),K||(pa(),K=!0);try{ke(n.fc,n.Hb)}catch(i){if("unwind"!=i)throw i}}else"setimmediate"!==n.target&&("checkMailbox"===a?K&&Ft():a&&(_("worker: received unknown command ".concat(a)),_(n)))}catch(i){throw ba(),i}};var W,K=!1;_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.join(" "),console.error(t)},self.alert=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];postMessage({Bb:"alert",text:t.join(" "),ic:fa()})},self.onunhandledrejection=e=>{throw e.reason||e},self.onmessage=e}function Y(){var e=x.buffer;r.HEAP8=D=new Int8Array(e),r.HEAP16=C=new Int16Array(e),r.HEAPU8=A=new Uint8Array(e),r.HEAPU16=S=new Uint16Array(e),r.HEAP32=E=new Int32Array(e),r.HEAPU32=F=new Uint32Array(e),r.HEAPF32=M=new Float32Array(e),r.HEAPF64=P=new Float64Array(e),r.HEAP64=I=new BigInt64Array(e),r.HEAPU64=z=new BigUint64Array(e)}function J(){c?startWorker(r):ua.Ca()}c||(x=new WebAssembly.Memory({initial:256,maximum:65536,shared:!0}),Y());var Z,X=0,$=null;function Q(){if(0==--X&&$){var e=$;$=null,e()}}function ee(e){throw _(e="Aborted("+e+")"),O=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function te(){return{a:{L:re,Aa:ae,b:De,$:Ce,A:Me,pa:Ie,X:Ne,Z:Oe,qa:Be,na:Le,ga:Re,ma:je,J:Ve,Y:qe,V:Ge,oa:He,W:We,va:Je,E:nt,Q:rt,O:ht,D:ft,u:mt,r:gt,P:yt,z:Dt,R:At,ja:Ct,T:Mt,aa:zt,M:Pt,F:Nt,ia:Et,sa:Ot,t:Rt,Ba:jt,w:$t,o:en,l:an,c:st,n:on,j:un,v:dn,p:hn,f:pn,s:fn,m:mn,e:gn,k:yn,i:bn,g:vn,d:wn,da:_n,ea:Dn,fa:An,ba:Cn,ca:Sn,N:Mn,xa:In,ua:Nn,h:Ln,C:Rn,G:jn,ta:zn,x:Vn,ra:qn,U:Un,q:Fn,y:Gn,K:Hn,S:Wn,za:Zn,ya:Xn,ka:ta,la:na,_:pe,B:aa,I:ra,ha:ia,H:sa,a:x,wa:de}}}var ne={829644:(e,t,n,a,i)=>{if(void 0===r||!r.Eb)return 1;if((e=Fe(Number(e>>>0))).startsWith("./")&&(e=e.substring(2)),!(e=r.Eb.get(e)))return 2;if(t=Number(t>>>0),n=Number(n>>>0),a=Number(a>>>0),t+n>e.byteLength)return 3;try{let o=e.subarray(t,t+n);switch(i){case 0:R().set(o,a>>>0);break;case 1:r.mc?r.mc(a,o):r.bc(a,o);break;default:return 4}return 0}catch(o){return 4}},830468:(e,t,n)=>{r.Ob(e,R().subarray(t>>>0,t+n>>>0))},830532:()=>r.nc(),830574:e=>{r.Nb(e)},830611:()=>{r.Vb()},830642:()=>{r.Wb()},830671:()=>{r.$b()},830696:e=>r.Ub(e),830729:e=>r.Yb(e),830761:(e,t,n)=>{r.Kb(Number(e),Number(t),Number(n),!0)},830824:(e,t,n)=>{r.Kb(Number(e),Number(t),Number(n))},830881:()=>typeof wasmOffsetConverter<"u",830938:e=>{r.jb("Abs",e,void 0)},830989:e=>{r.jb("Neg",e,void 0)},831040:e=>{r.jb("Floor",e,void 0)},831093:e=>{r.jb("Ceil",e,void 0)},831145:e=>{r.jb("Reciprocal",e,void 0)},831203:e=>{r.jb("Sqrt",e,void 0)},831255:e=>{r.jb("Exp",e,void 0)},831306:e=>{r.jb("Erf",e,void 0)},831357:e=>{r.jb("Sigmoid",e,void 0)},831412:(e,t,n)=>{r.jb("HardSigmoid",e,{alpha:t,beta:n})},831491:e=>{r.jb("Log",e,void 0)},831542:e=>{r.jb("Sin",e,void 0)},831593:e=>{r.jb("Cos",e,void 0)},831644:e=>{r.jb("Tan",e,void 0)},831695:e=>{r.jb("Asin",e,void 0)},831747:e=>{r.jb("Acos",e,void 0)},831799:e=>{r.jb("Atan",e,void 0)},831851:e=>{r.jb("Sinh",e,void 0)},831903:e=>{r.jb("Cosh",e,void 0)},831955:e=>{r.jb("Asinh",e,void 0)},832008:e=>{r.jb("Acosh",e,void 0)},832061:e=>{r.jb("Atanh",e,void 0)},832114:e=>{r.jb("Tanh",e,void 0)},832166:e=>{r.jb("Not",e,void 0)},832217:(e,t,n)=>{r.jb("Clip",e,{min:t,max:n})},832286:e=>{r.jb("Clip",e,void 0)},832338:(e,t)=>{r.jb("Elu",e,{alpha:t})},832396:e=>{r.jb("Gelu",e,void 0)},832448:e=>{r.jb("Relu",e,void 0)},832500:(e,t)=>{r.jb("LeakyRelu",e,{alpha:t})},832564:(e,t)=>{r.jb("ThresholdedRelu",e,{alpha:t})},832634:(e,t)=>{r.jb("Cast",e,{to:t})},832692:e=>{r.jb("Add",e,void 0)},832743:e=>{r.jb("Sub",e,void 0)},832794:e=>{r.jb("Mul",e,void 0)},832845:e=>{r.jb("Div",e,void 0)},832896:e=>{r.jb("Pow",e,void 0)},832947:e=>{r.jb("Equal",e,void 0)},833e3:e=>{r.jb("Greater",e,void 0)},833055:e=>{r.jb("GreaterOrEqual",e,void 0)},833117:e=>{r.jb("Less",e,void 0)},833169:e=>{r.jb("LessOrEqual",e,void 0)},833228:(e,t,n,a,i)=>{r.jb("ReduceMean",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},833403:(e,t,n,a,i)=>{r.jb("ReduceMax",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},833577:(e,t,n,a,i)=>{r.jb("ReduceMin",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},833751:(e,t,n,a,i)=>{r.jb("ReduceProd",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},833926:(e,t,n,a,i)=>{r.jb("ReduceSum",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},834100:(e,t,n,a,i)=>{r.jb("ReduceL1",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},834273:(e,t,n,a,i)=>{r.jb("ReduceL2",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},834446:(e,t,n,a,i)=>{r.jb("ReduceLogSum",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},834623:(e,t,n,a,i)=>{r.jb("ReduceSumSquare",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},834803:(e,t,n,a,i)=>{r.jb("ReduceLogSumExp",e,{keepDims:!!t,noopWithEmptyAxes:!!n,axes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},834983:e=>{r.jb("Where",e,void 0)},835036:(e,t,n)=>{r.jb("Transpose",e,{perm:t?Array.from(q().subarray(Number(t)>>>0,Number(n)>>>0)):[]})},835160:(e,t,n,a)=>{r.jb("DepthToSpace",e,{blocksize:t,mode:Fe(n),format:a?"NHWC":"NCHW"})},835293:(e,t,n,a)=>{r.jb("DepthToSpace",e,{blocksize:t,mode:Fe(n),format:a?"NHWC":"NCHW"})},835426:(e,t,n,a,i,o,s,l,c,u,d,h,p,f,m)=>{r.jb("ConvTranspose",e,{format:c?"NHWC":"NCHW",autoPad:t,dilations:[n],group:a,kernelShape:[i],pads:[o,s],strides:[l],wIsConst:()=>!!L()[u>>>0],outputPadding:d?Array.from(q().subarray(Number(d)>>>0,Number(h)>>>0)):[],outputShape:p?Array.from(q().subarray(Number(p)>>>0,Number(f)>>>0)):[],activation:Fe(m)})},835859:(e,t,n,a,i,o,s,l,c,u,d,h,p,f)=>{r.jb("ConvTranspose",e,{format:l?"NHWC":"NCHW",autoPad:t,dilations:Array.from(q().subarray(Number(n)>>>0,2+(Number(n)>>>0)>>>0)),group:a,kernelShape:Array.from(q().subarray(Number(i)>>>0,2+(Number(i)>>>0)>>>0)),pads:Array.from(q().subarray(Number(o)>>>0,4+(Number(o)>>>0)>>>0)),strides:Array.from(q().subarray(Number(s)>>>0,2+(Number(s)>>>0)>>>0)),wIsConst:()=>!!L()[c>>>0],outputPadding:u?Array.from(q().subarray(Number(u)>>>0,Number(d)>>>0)):[],outputShape:h?Array.from(q().subarray(Number(h)>>>0,Number(p)>>>0)):[],activation:Fe(f)})},836520:(e,t,n,a,i,o,s,l,c,u,d,h,p,f,m)=>{r.jb("ConvTranspose",e,{format:c?"NHWC":"NCHW",autoPad:t,dilations:[n],group:a,kernelShape:[i],pads:[o,s],strides:[l],wIsConst:()=>!!L()[u>>>0],outputPadding:d?Array.from(q().subarray(Number(d)>>>0,Number(h)>>>0)):[],outputShape:p?Array.from(q().subarray(Number(p)>>>0,Number(f)>>>0)):[],activation:Fe(m)})},836953:(e,t,n,a,i,o,s,l,c,u,d,h,p,f)=>{r.jb("ConvTranspose",e,{format:l?"NHWC":"NCHW",autoPad:t,dilations:Array.from(q().subarray(Number(n)>>>0,2+(Number(n)>>>0)>>>0)),group:a,kernelShape:Array.from(q().subarray(Number(i)>>>0,2+(Number(i)>>>0)>>>0)),pads:Array.from(q().subarray(Number(o)>>>0,4+(Number(o)>>>0)>>>0)),strides:Array.from(q().subarray(Number(s)>>>0,2+(Number(s)>>>0)>>>0)),wIsConst:()=>!!L()[c>>>0],outputPadding:u?Array.from(q().subarray(Number(u)>>>0,Number(d)>>>0)):[],outputShape:h?Array.from(q().subarray(Number(h)>>>0,Number(p)>>>0)):[],activation:Fe(f)})},837614:(e,t)=>{r.jb("GlobalAveragePool",e,{format:t?"NHWC":"NCHW"})},837705:(e,t,n,a,i,o,s,l,c,u,d,h,p,f)=>{r.jb("AveragePool",e,{format:f?"NHWC":"NCHW",auto_pad:t,ceil_mode:n,count_include_pad:a,storage_order:i,dilations:o?Array.from(q().subarray(Number(o)>>>0,Number(s)>>>0)):[],kernel_shape:l?Array.from(q().subarray(Number(l)>>>0,Number(c)>>>0)):[],pads:u?Array.from(q().subarray(Number(u)>>>0,Number(d)>>>0)):[],strides:h?Array.from(q().subarray(Number(h)>>>0,Number(p)>>>0)):[]})},838184:(e,t)=>{r.jb("GlobalAveragePool",e,{format:t?"NHWC":"NCHW"})},838275:(e,t,n,a,i,o,s,l,c,u,d,h,p,f)=>{r.jb("AveragePool",e,{format:f?"NHWC":"NCHW",auto_pad:t,ceil_mode:n,count_include_pad:a,storage_order:i,dilations:o?Array.from(q().subarray(Number(o)>>>0,Number(s)>>>0)):[],kernel_shape:l?Array.from(q().subarray(Number(l)>>>0,Number(c)>>>0)):[],pads:u?Array.from(q().subarray(Number(u)>>>0,Number(d)>>>0)):[],strides:h?Array.from(q().subarray(Number(h)>>>0,Number(p)>>>0)):[]})},838754:(e,t)=>{r.jb("GlobalMaxPool",e,{format:t?"NHWC":"NCHW"})},838841:(e,t,n,a,i,o,s,l,c,u,d,h,p,f)=>{r.jb("MaxPool",e,{format:f?"NHWC":"NCHW",auto_pad:t,ceil_mode:n,count_include_pad:a,storage_order:i,dilations:o?Array.from(q().subarray(Number(o)>>>0,Number(s)>>>0)):[],kernel_shape:l?Array.from(q().subarray(Number(l)>>>0,Number(c)>>>0)):[],pads:u?Array.from(q().subarray(Number(u)>>>0,Number(d)>>>0)):[],strides:h?Array.from(q().subarray(Number(h)>>>0,Number(p)>>>0)):[]})},839316:(e,t)=>{r.jb("GlobalMaxPool",e,{format:t?"NHWC":"NCHW"})},839403:(e,t,n,a,i,o,s,l,c,u,d,h,p,f)=>{r.jb("MaxPool",e,{format:f?"NHWC":"NCHW",auto_pad:t,ceil_mode:n,count_include_pad:a,storage_order:i,dilations:o?Array.from(q().subarray(Number(o)>>>0,Number(s)>>>0)):[],kernel_shape:l?Array.from(q().subarray(Number(l)>>>0,Number(c)>>>0)):[],pads:u?Array.from(q().subarray(Number(u)>>>0,Number(d)>>>0)):[],strides:h?Array.from(q().subarray(Number(h)>>>0,Number(p)>>>0)):[]})},839878:(e,t,n,a,i)=>{r.jb("Gemm",e,{alpha:t,beta:n,transA:a,transB:i})},839982:e=>{r.jb("MatMul",e,void 0)},840036:(e,t,n,a)=>{r.jb("ArgMax",e,{keepDims:!!t,selectLastIndex:!!n,axis:a})},840144:(e,t,n,a)=>{r.jb("ArgMin",e,{keepDims:!!t,selectLastIndex:!!n,axis:a})},840252:(e,t)=>{r.jb("Softmax",e,{axis:t})},840315:(e,t)=>{r.jb("Concat",e,{axis:t})},840375:(e,t,n,a,i)=>{r.jb("Split",e,{axis:t,numOutputs:n,splitSizes:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},840531:e=>{r.jb("Expand",e,void 0)},840585:(e,t)=>{r.jb("Gather",e,{axis:Number(t)})},840656:(e,t)=>{r.jb("GatherElements",e,{axis:Number(t)})},840735:(e,t)=>{r.jb("GatherND",e,{batch_dims:Number(t)})},840814:(e,t,n,a,i,o,s,l,c,u,d)=>{r.jb("Resize",e,{antialias:t,axes:n?Array.from(q().subarray(Number(n)>>>0,Number(a)>>>0)):[],coordinateTransformMode:Fe(i),cubicCoeffA:o,excludeOutside:s,extrapolationValue:l,keepAspectRatioPolicy:Fe(c),mode:Fe(u),nearestMode:Fe(d)})},841176:(e,t,n,a,i,o,s)=>{r.jb("Slice",e,{starts:t?Array.from(q().subarray(Number(t)>>>0,Number(n)>>>0)):[],ends:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[],axes:o?Array.from(q().subarray(Number(o)>>>0,Number(s)>>>0)):[]})},841440:e=>{r.jb("Tile",e,void 0)},841492:(e,t,n)=>{r.jb("InstanceNormalization",e,{epsilon:t,format:n?"NHWC":"NCHW"})},841606:(e,t,n)=>{r.jb("InstanceNormalization",e,{epsilon:t,format:n?"NHWC":"NCHW"})},841720:e=>{r.jb("Range",e,void 0)},841773:(e,t)=>{r.jb("Einsum",e,{equation:Fe(t)})},841854:(e,t,n,a,i)=>{r.jb("Pad",e,{mode:t,value:n,pads:a?Array.from(q().subarray(Number(a)>>>0,Number(i)>>>0)):[]})},841997:(e,t,n,a,i,o)=>{r.jb("BatchNormalization",e,{epsilon:t,momentum:n,spatial:!!i,trainingMode:!!a,format:o?"NHWC":"NCHW"})},842166:(e,t,n,a,i,o)=>{r.jb("BatchNormalization",e,{epsilon:t,momentum:n,spatial:!!i,trainingMode:!!a,format:o?"NHWC":"NCHW"})},842335:(e,t,n)=>{r.jb("CumSum",e,{exclusive:Number(t),reverse:Number(n)})},842432:(e,t,n)=>{r.jb("DequantizeLinear",e,{axis:t,blockSize:n})},842522:(e,t,n,a,i)=>{r.jb("GridSample",e,{align_corners:t,mode:Fe(n),padding_mode:Fe(a),format:i?"NHWC":"NCHW"})},842692:(e,t,n,a,i)=>{r.jb("GridSample",e,{align_corners:t,mode:Fe(n),padding_mode:Fe(a),format:i?"NHWC":"NCHW"})},842862:(e,t)=>{r.jb("ScatterND",e,{reduction:Fe(t)})},842947:(e,t,n,a,i,o,s,l,c)=>{r.jb("Attention",e,{numHeads:t,isUnidirectional:n,maskFilterValue:a,scale:i,doRotary:o,qkvHiddenSizes:s?Array.from(q().subarray(Number(l)>>>0,Number(l)+s>>>0)):[],pastPresentShareBuffer:!!c})},843219:e=>{r.jb("BiasAdd",e,void 0)},843274:e=>{r.jb("BiasSplitGelu",e,void 0)},843335:e=>{r.jb("FastGelu",e,void 0)},843391:(e,t,n,a,i,o,s,l,c,u,d,h,p,f,m,g)=>{r.jb("Conv",e,{format:h?"NHWC":"NCHW",auto_pad:t,dilations:n?Array.from(q().subarray(Number(n)>>>0,Number(a)>>>0)):[],group:i,kernel_shape:o?Array.from(q().subarray(Number(o)>>>0,Number(s)>>>0)):[],pads:l?Array.from(q().subarray(Number(l)>>>0,Number(c)>>>0)):[],strides:u?Array.from(q().subarray(Number(u)>>>0,Number(d)>>>0)):[],w_is_const:()=>!!L()[Number(p)>>>0],activation:Fe(f),activation_params:m?Array.from(G().subarray(Number(m)>>>0,Number(g)>>>0)):[]})},843975:e=>{r.jb("Gelu",e,void 0)},844027:(e,t,n,a,i,o,s,l,c)=>{r.jb("GroupQueryAttention",e,{numHeads:t,kvNumHeads:n,scale:a,softcap:i,doRotary:o,rotaryInterleaved:s,smoothSoftmax:l,localWindowSize:c})},844244:(e,t,n,a)=>{r.jb("LayerNormalization",e,{axis:t,epsilon:n,simplified:!!a})},844355:(e,t,n,a)=>{r.jb("LayerNormalization",e,{axis:t,epsilon:n,simplified:!!a})},844466:(e,t,n,a,i,o)=>{r.jb("MatMulNBits",e,{k:t,n:n,accuracyLevel:a,bits:i,blockSize:o})},844593:(e,t,n,a,i,o)=>{r.jb("MultiHeadAttention",e,{numHeads:t,isUnidirectional:n,maskFilterValue:a,scale:i,doRotary:o})},844752:(e,t)=>{r.jb("QuickGelu",e,{alpha:t})},844816:(e,t,n,a,i)=>{r.jb("RotaryEmbedding",e,{interleaved:!!t,numHeads:n,rotaryEmbeddingDim:a,scale:i})},844955:(e,t,n)=>{r.jb("SkipLayerNormalization",e,{epsilon:t,simplified:!!n})},845057:(e,t,n)=>{r.jb("SkipLayerNormalization",e,{epsilon:t,simplified:!!n})},845159:(e,t,n,a)=>{r.jb("GatherBlockQuantized",e,{gatherAxis:t,quantizeAxis:n,blockSize:a})},845280:e=>{r.Zb(e)},845314:(e,t)=>r.ac(Number(e),Number(t),r.Fb.dc,r.Fb.errors)};function ae(e,t,n){return Xt((async()=>{await r.Xb(Number(e),Number(t),Number(n))}))}function re(){return typeof wasmOffsetConverter<"u"}class ie{constructor(e){l(this,"name","ExitStatus"),this.message="Program terminated with exit(".concat(e,")"),this.status=e}}var oe=e=>{e.terminate(),e.onmessage=()=>{}},se=[],le=e=>{0==fe.length&&(_e(),we(fe[0]));var t=fe.pop();if(!t)return 6;me.push(t),ye[e.Ab]=t,t.Ab=e.Ab;var n={Bb:"run",fc:e.ec,Hb:e.Hb,Ab:e.Ab};return t.postMessage(n,e.Mb),0},ce=0,ue=function(e,t){for(var n=2*(arguments.length<=2?0:arguments.length-2),a=Ca(),r=Aa(8*n),i=r>>>3,o=0;o<(arguments.length<=2?0:arguments.length-2);o++){var s=o+2<2||arguments.length<=o+2?void 0:arguments[o+2];"bigint"==typeof s?(I[i+2*o]=1n,I[i+2*o+1]=s):(I[i+2*o]=0n,H()[i+2*o+1>>>0]=s)}return e=va(e,0,n,r,t),Da(a),e};function de(e){if(c)return ue(0,1,e);if(T=e,!(0<ce)){for(var t of me)oe(t);for(t of fe)oe(t);fe=[],me=[],ye={},O=!0}g(0,new ie(e))}function he(e){if(c)return ue(1,0,e);pe(e)}var pe=e=>{if(T=e,c)throw he(e),"unwind";de(e)},fe=[],me=[],ge=[],ye={},be=e=>{var t=e.Ab;delete ye[t],fe.push(e),me.splice(me.indexOf(e),1),e.Ab=0,wa(t)};function ve(){ge.forEach((e=>e()))}var we=e=>new Promise((t=>{e.onmessage=n=>{var a=(n=n.data).Bb;if(n.Gb&&n.Gb!=fa()){var i=ye[n.Gb];i?i.postMessage(n,n.Mb):_('Internal error! Worker sent a message "'.concat(a,'" to target pthread ').concat(n.Gb,", but that thread no longer exists!"))}else"checkMailbox"===a?Ft():"spawnThread"===a?le(n):"cleanupThread"===a?be(ye[n.hc]):"loaded"===a?(e.loaded=!0,t(e)):"alert"===a?alert("Thread ".concat(n.ic,": ").concat(n.text)):"setimmediate"===n.target?e.postMessage(n):"callHandler"===a?r[n.Qb](...n.args):a&&_("worker sent an unknown command ".concat(a))},e.onerror=e=>{throw _("worker sent an error! ".concat(e.filename,":").concat(e.lineno,": ").concat(e.message)),e};var n,a=[];for(n of[])r.propertyIsEnumerable(n)&&a.push(n);e.postMessage({Bb:"load",Rb:a,kc:x,lc:k})}));function _e(){var e=new Worker(new URL(__webpack_require__(618),__webpack_require__.b),{type:"module",workerData:"em-pthread",name:"em-pthread"});fe.push(e)}var xe=e=>{Y();var t=U()[e+52>>>2>>>0];e=U()[e+56>>>2>>>0],Ta(t,t-e),Da(t)},ke=(e,t)=>{ce=0,e=Sa(e,t),0<ce?T=e:_a(e)};class Te{constructor(e){this.Ib=e-24}}function De(e,t,n){var a=new Te(e>>>=0);throw t>>>=0,n>>>=0,U()[a.Ib+16>>>2>>>0]=0,U()[a.Ib+4>>>2>>>0]=t,U()[a.Ib+8>>>2>>>0]=n,e}function Ae(e,t,n,a){return c?ue(2,1,e,t,n,a):Ce(e,t,n,a)}function Ce(e,t,n,a){if(e>>>=0,n>>>=0,a>>>=0,void 0===u)return 6;var r=[];return c&&0===r.length?Ae(e,t>>>=0,n,a):(e={ec:n,Ab:e,Hb:a,Mb:r},c?(e.Bb="spawnThread",postMessage(e,r),0):le(e))}var Se=typeof TextDecoder<"u"?new TextDecoder:void 0,Ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;var a=(t>>>=0)+n;for(n=t;e[n]&&!(n>=a);)++n;if(16<n-t&&e.buffer&&Se)return Se.decode(e.buffer instanceof ArrayBuffer?e.subarray(t,n):e.slice(t,n));for(a="";t<n;){var r=e[t++];if(128&r){var i=63&e[t++];if(192==(224&r))a+=String.fromCharCode((31&r)<<6|i);else{var o=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|i<<6|o:(7&r)<<18|i<<12|o<<6|63&e[t++])?a+=String.fromCharCode(r):(r-=65536,a+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else a+=String.fromCharCode(r)}return a},Fe=(e,t)=>(e>>>=0)?Ee(R(),e,t):"";function Me(e,t,n){return c?ue(3,1,e,t,n):0}function Ie(e,t){if(c)return ue(4,1,e,t)}var ze=e=>{for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++n):t+=3}return t},Pe=(e,t,n)=>{var a=R();if(t>>>=0,0<n){var r=t;n=t+n-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(t>=n)break;a[t++>>>0]=o}else{if(2047>=o){if(t+1>=n)break;a[t++>>>0]=192|o>>6}else{if(65535>=o){if(t+2>=n)break;a[t++>>>0]=224|o>>12}else{if(t+3>=n)break;a[t++>>>0]=240|o>>18,a[t++>>>0]=128|o>>12&63}a[t++>>>0]=128|o>>6&63}a[t++>>>0]=128|63&o}}a[t>>>0]=0,e=t-r}else e=0;return e};function Ne(e,t){if(c)return ue(5,1,e,t)}function Oe(e,t,n){if(c)return ue(6,1,e,t,n)}function Be(e,t,n){return c?ue(7,1,e,t,n):0}function Le(e,t){if(c)return ue(8,1,e,t)}function Re(e,t,n){if(c)return ue(9,1,e,t,n)}function je(e,t,n,a){if(c)return ue(10,1,e,t,n,a)}function Ve(e,t,n,a){if(c)return ue(11,1,e,t,n,a)}function qe(e,t,n,a){if(c)return ue(12,1,e,t,n,a)}function Ge(e){if(c)return ue(13,1,e)}function He(e,t){if(c)return ue(14,1,e,t)}function We(e,t,n){if(c)return ue(15,1,e,t,n)}var Ke,Ye,Je=()=>ee(""),Ze=e=>{for(var t="";R()[e>>>0];)t+=Ke[R()[e++>>>0]];return t},Xe={},$e={},Qe={};function et(e,t){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a=t.name;if(!e)throw new Ye('type "'.concat(a,'" must have a positive integer typeid pointer'));if($e.hasOwnProperty(e)){if(n.Sb)return;throw new Ye("Cannot register type '".concat(a,"' twice"))}$e[e]=t,delete Qe[e],Xe.hasOwnProperty(e)&&(t=Xe[e],delete Xe[e],t.forEach((e=>e())))}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}var tt=(e,t,n)=>{switch(t){case 1:return n?e=>L()[e>>>0]:e=>R()[e>>>0];case 2:return n?e=>j()[e>>>1>>>0]:e=>V()[e>>>1>>>0];case 4:return n?e=>q()[e>>>2>>>0]:e=>U()[e>>>2>>>0];case 8:return n?e=>I[e>>>3]:e=>z[e>>>3];default:throw new TypeError("invalid integer width (".concat(t,"): ").concat(e))}};function nt(e,t,n){n>>>=0,et(e>>>=0,{name:t=Ze(t>>>0),fromWireType:e=>e,toWireType:function(e,t){if("bigint"!=typeof t&&"number"!=typeof t)throw t=null===t?"null":"object"==(e=typeof t)||"array"===e||"function"===e?t.toString():""+t,new TypeError('Cannot convert "'.concat(t,'" to ').concat(this.name));return"number"==typeof t&&(t=BigInt(t)),t},Cb:at,readValueFromPointer:tt(t,n,-1==t.indexOf("u")),Db:null})}var at=8;function rt(e,t,n,a){et(e>>>=0,{name:t=Ze(t>>>0),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:a},Cb:at,readValueFromPointer:function(e){return this.fromWireType(R()[e>>>0])},Db:null})}var it=[],ot=[];function st(e){9<(e>>>=0)&&0==--ot[e+1]&&(ot[e]=void 0,it.push(e))}var lt=e=>{if(!e)throw new Ye("Cannot use deleted val. handle = "+e);return ot[e]},ct=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=it.pop()||ot.length;return ot[t]=e,ot[t+1]=1,t}};function ut(e){return this.fromWireType(U()[e>>>2>>>0])}var dt={name:"emscripten::val",fromWireType:e=>{var t=lt(e);return st(e),t},toWireType:(e,t)=>ct(t),Cb:at,readValueFromPointer:ut,Db:null};function ht(e){return et(e>>>0,dt)}var pt=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(G()[e>>>2>>>0])};case 8:return function(e){return this.fromWireType(H()[e>>>3>>>0])};default:throw new TypeError("invalid float width (".concat(t,"): ").concat(e))}};function ft(e,t,n){n>>>=0,et(e>>>=0,{name:t=Ze(t>>>0),fromWireType:e=>e,toWireType:(e,t)=>t,Cb:at,readValueFromPointer:pt(t,n),Db:null})}function mt(e,t,n,a,r){if(e>>>=0,n>>>=0,t=Ze(t>>>0),-1===r&&(r=4294967295),r=e=>e,0===a){var i=32-8*n;r=e=>e<<i>>>i}var o=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t};et(e,{name:t,fromWireType:r,toWireType:o,Cb:at,readValueFromPointer:tt(t,n,0!==a),Db:null})}function gt(e,t,n){function a(e){var t=U()[e>>>2>>>0];return e=U()[e+4>>>2>>>0],new r(L().buffer,e,t)}var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];et(e>>>=0,{name:n=Ze(n>>>0),fromWireType:a,Cb:at,readValueFromPointer:a},{Sb:!0})}function yt(e,t){et(e>>>=0,{name:t=Ze(t>>>0),fromWireType:function(e){for(var t,n=U()[e>>>2>>>0],a=e+4,r=a,i=0;i<=n;++i){var o=a+i;i!=n&&0!=R()[o>>>0]||(r=Fe(r,o-r),void 0===t?t=r:(t+="\0",t+=r),r=o+1)}return ma(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;if(!(n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array))throw new Ye("Cannot pass non-string to std::string");var a=n?ze(t):t.length,r=ga(4+a+1),i=r+4;if(U()[r>>>2>>>0]=a,n)Pe(t,i,a+1);else if(n)for(n=0;n<a;++n){var o=t.charCodeAt(n);if(255<o)throw ma(r),new Ye("String has UTF-16 code units that do not fit in 8 bits");R()[i+n>>>0]=o}else for(n=0;n<a;++n)R()[i+n>>>0]=t[n];return null!==e&&e.push(ma,r),r},Cb:at,readValueFromPointer:ut,Db(e){ma(e)}})}var bt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,vt=(e,t)=>{for(var n=e>>1,a=n+t/2;!(n>=a)&&V()[n>>>0];)++n;if(32<(n<<=1)-e&&bt)return bt.decode(R().slice(e,n));for(n="",a=0;!(a>=t/2);++a){var r=j()[e+2*a>>>1>>>0];if(0==r)break;n+=String.fromCharCode(r)}return n},wt=(e,t,n)=>{if(null!==n&&void 0!==n||(n=2147483647),2>n)return 0;var a=t;n=(n-=2)<2*e.length?n/2:e.length;for(var r=0;r<n;++r){var i=e.charCodeAt(r);j()[t>>>1>>>0]=i,t+=2}return j()[t>>>1>>>0]=0,t-a},_t=e=>2*e.length,xt=(e,t)=>{for(var n=0,a="";!(n>=t/4);){var r=q()[e+4*n>>>2>>>0];if(0==r)break;++n,65536<=r?(r-=65536,a+=String.fromCharCode(55296|r>>10,56320|1023&r)):a+=String.fromCharCode(r)}return a},kt=(e,t,n)=>{if(null!==n&&void 0!==n||(n=2147483647),4>n)return 0;var a=t>>>=0;n=a+n-4;for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++r)),q()[t>>>2>>>0]=i,(t+=4)+4>n)break}return q()[t>>>2>>>0]=0,t-a},Tt=e=>{for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);55296<=a&&57343>=a&&++n,t+=4}return t};function Dt(e,t,n){if(e>>>=0,t>>>=0,n=Ze(n>>>=0),2===t)var a=vt,r=wt,i=_t,o=e=>V()[e>>>1>>>0];else 4===t&&(a=xt,r=kt,i=Tt,o=e=>U()[e>>>2>>>0]);et(e,{name:n,fromWireType:e=>{for(var n,r=U()[e>>>2>>>0],i=e+4,s=0;s<=r;++s){var l=e+4+s*t;s!=r&&0!=o(l)||(i=a(i,l-i),void 0===n?n=i:(n+="\0",n+=i),i=l+t)}return ma(e),n},toWireType:(e,a)=>{if("string"!=typeof a)throw new Ye("Cannot pass non-string to C++ string type ".concat(n));var o=i(a),s=ga(4+o+t);return U()[s>>>2>>>0]=o/t,r(a,s+4,o+t),null!==e&&e.push(ma,s),s},Cb:at,readValueFromPointer:ut,Db(e){ma(e)}})}function At(e,t){et(e>>>=0,{Tb:!0,name:t=Ze(t>>>0),Cb:0,fromWireType:()=>{},toWireType:()=>{}})}function Ct(e){ya(e>>>0,!s,1,!o,131072,!1),ve()}var St=e=>{if(!O)try{if(e(),!(0<ce))try{c?_a(T):pe(T)}catch(t){t instanceof ie||"unwind"==t||g(0,t)}}catch(t){t instanceof ie||"unwind"==t||g(0,t)}};function Et(e){e>>>=0,"function"==typeof Atomics.jc&&(Atomics.jc(q(),e>>>2,e).value.then(Ft),e+=128,Atomics.store(q(),e>>>2,1))}var Ft=()=>{var e=fa();e&&(Et(e),St(ka))};function Mt(e,t){(e>>>=0)==t>>>0?setTimeout(Ft):c?postMessage({Gb:e,Bb:"checkMailbox"}):(e=ye[e])&&e.postMessage({Bb:"checkMailbox"})}var It=[];function zt(e,t,n,a,r){for(t>>>=0,a/=2,It.length=a,n=r>>>0>>>3,r=0;r<a;r++)It[r]=I[n+2*r]?I[n+2*r+1]:H()[n+2*r+1>>>0];return(t?ne[t]:da[e])(...It)}var Pt=()=>{ce=0};function Nt(e){e>>>=0,c?postMessage({Bb:"cleanupThread",hc:e}):be(ye[e])}function Ot(e){}var Bt=(e,t)=>{var n=$e[e];if(void 0===n)throw e=ha(e),n=Ze(e),ma(e),new Ye("".concat(t," has unknown type ").concat(n));return n},Lt=(e,t,n)=>{var a=[];return e=e.toWireType(a,n),a.length&&(U()[t>>>2>>>0]=ct(a)),e};function Rt(e,t,n){return t>>>=0,n>>>=0,e=lt(e>>>0),t=Bt(t,"emval::as"),Lt(t,n,e)}function jt(e,t){return t>>>=0,e=lt(e>>>0),(t=Bt(t,"emval::as")).toWireType(null,e)}var Vt=e=>{try{e()}catch(t){ee(t)}},qt=0,Ut=null,Gt=0,Ht=[],Wt={},Kt={},Yt=0,Jt=null,Zt=[];function Xt(e){return function(){if(!O){if(0===qt){var t=!1,n=!1;(t=>{e().then(t)})((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!O&&(Gt=e,t=!0,n)){qt=2,Vt((()=>Ma(Ut))),typeof MainLoop<"u"&&MainLoop.Pb&&MainLoop.resume(),e=!1;try{var a=function(){var e=q()[Ut+8>>>2>>>0];return e=ua[Kt[e]],--ce,e()}()}catch(o){a=o,e=!0}var r=!1;if(!Ut){var i=Jt;i&&(Jt=null,(e?i.reject:i.resolve)(a),r=!0)}if(e&&!r)throw a}})),n=!0,t||(qt=1,Ut=function(){var e=ga(65548),t=e+12;U()[e>>>2>>>0]=t,U()[e+4>>>2>>>0]=t+65536,t=Ht[0];var n=Wt[t];return void 0===n&&(n=Yt++,Wt[t]=n,Kt[n]=t),t=n,q()[e+8>>>2>>>0]=t,e}(),typeof MainLoop<"u"&&MainLoop.Pb&&MainLoop.pause(),Vt((()=>Ea(Ut))))}else 2===qt?(qt=0,Vt(Ia),ma(Ut),Ut=null,Zt.forEach(St)):ee("invalid state: ".concat(qt));return Gt}}()}function $t(e){return e>>>=0,Xt((async()=>{var t=await lt(e);return ct(t)}))}var Qt=[];function en(e,t,n,a){return n>>>=0,a>>>=0,(e=Qt[e>>>0])(null,t=lt(t>>>0),n,a)}var tn={},nn=e=>{var t=tn[e];return void 0===t?Ze(e):t};function an(e,t,n,a,r){return n>>>=0,a>>>=0,r>>>=0,(e=Qt[e>>>0])(t=lt(t>>>0),t[n=nn(n)],a,r)}var rn=()=>"object"==typeof globalThis?globalThis:Function("return this")();function on(e){return 0==(e>>>=0)?ct(rn()):(e=nn(e),ct(rn()[e]))}var sn=e=>{var t=Qt.length;return Qt.push(e),t},ln=(e,t)=>{for(var n=Array(e),a=0;a<e;++a)n[a]=Bt(U()[t+4*a>>>2>>>0],"parameter "+a);return n},cn=(e,t)=>Object.defineProperty(t,"name",{value:e});function un(e,t,n){var a=(t=ln(e,t>>>0)).shift();e--;var r="return function (obj, func, destructorsRef, args) {\n",i=0,o=[];0===n&&o.push("obj");for(var s=["retType"],l=[a],c=0;c<e;++c)o.push("arg"+c),s.push("argType"+c),l.push(t[c]),r+="  var arg".concat(c," = argType").concat(c,".readValueFromPointer(args").concat(i?"+"+i:"",");\n"),i+=t[c].Cb;return r+="  var rv = ".concat(1===n?"new func":"func.call","(").concat(o.join(", "),");\n"),a.Tb||(s.push("emval_returnValue"),l.push(Lt),r+="  return emval_returnValue(retType, destructorsRef, rv);\n"),s.push(r+"};\n"),e=function(e){var t=Function;if(!(t instanceof Function))throw new TypeError("new_ called with constructor type ".concat(typeof t," which is not a function"));var n=cn(t.name||"unknownFunctionName",(function(){}));return n.prototype=t.prototype,n=new n,(e=t.apply(n,e))instanceof Object?e:n}(s)(...l),n="methodCaller<(".concat(t.map((e=>e.name)).join(", "),") => ").concat(a.name,">"),sn(cn(n,e))}function dn(e){return e=nn(e>>>0),ct(r[e])}function hn(e,t){return t>>>=0,e=lt(e>>>0),t=lt(t),ct(e[t])}function pn(e){9<(e>>>=0)&&(ot[e+1]+=1)}function fn(){return ct([])}function mn(e){e=lt(e>>>0);for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return ct(t)}function gn(e){return ct(nn(e>>>0))}function yn(){return ct({})}function bn(e){for(var t=lt(e>>>=0);t.length;){var n=t.pop();t.pop()(n)}st(e)}function vn(e,t,n){t>>>=0,n>>>=0,e=lt(e>>>0),t=lt(t),n=lt(n),e[t]=n}function wn(e,t){return t>>>=0,e=(e=Bt(e>>>0,"_emval_take_value")).readValueFromPointer(t),ct(e)}function _n(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),q()[t>>>2>>>0]=e.getUTCSeconds(),q()[t+4>>>2>>>0]=e.getUTCMinutes(),q()[t+8>>>2>>>0]=e.getUTCHours(),q()[t+12>>>2>>>0]=e.getUTCDate(),q()[t+16>>>2>>>0]=e.getUTCMonth(),q()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,q()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,q()[t+28>>>2>>>0]=e}var xn=e=>e%4==0&&(e%100!=0||e%400==0),kn=[0,31,60,91,121,152,182,213,244,274,305,335],Tn=[0,31,59,90,120,151,181,212,243,273,304,334];function Dn(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),q()[t>>>2>>>0]=e.getSeconds(),q()[t+4>>>2>>>0]=e.getMinutes(),q()[t+8>>>2>>>0]=e.getHours(),q()[t+12>>>2>>>0]=e.getDate(),q()[t+16>>>2>>>0]=e.getMonth(),q()[t+20>>>2>>>0]=e.getFullYear()-1900,q()[t+24>>>2>>>0]=e.getDay();var n=(xn(e.getFullYear())?kn:Tn)[e.getMonth()]+e.getDate()-1|0;q()[t+28>>>2>>>0]=n,q()[t+36>>>2>>>0]=-60*e.getTimezoneOffset(),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var a=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(n!=a&&e.getTimezoneOffset()==Math.min(a,n)),q()[t+32>>>2>>>0]=e}function An(e){e>>>=0;var t=new Date(q()[e+20>>>2>>>0]+1900,q()[e+16>>>2>>>0],q()[e+12>>>2>>>0],q()[e+8>>>2>>>0],q()[e+4>>>2>>>0],q()[e>>>2>>>0],0),n=q()[e+32>>>2>>>0],a=t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),o=Math.min(i,r);return 0>n?q()[e+32>>>2>>>0]=+(r!=i&&o==a):0<n!=(o==a)&&(r=Math.max(i,r),t.setTime(t.getTime()+6e4*((0<n?o:r)-a))),q()[e+24>>>2>>>0]=t.getDay(),n=(xn(t.getFullYear())?kn:Tn)[t.getMonth()]+t.getDate()-1|0,q()[e+28>>>2>>>0]=n,q()[e>>>2>>>0]=t.getSeconds(),q()[e+4>>>2>>>0]=t.getMinutes(),q()[e+8>>>2>>>0]=t.getHours(),q()[e+12>>>2>>>0]=t.getDate(),q()[e+16>>>2>>>0]=t.getMonth(),q()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),BigInt(isNaN(e)?-1:e/1e3)}function Cn(e,t,n,a,r,i,o){return c?ue(16,1,e,t,n,a,r,i,o):-52}function Sn(e,t,n,a,r,i){if(c)return ue(17,1,e,t,n,a,r,i)}var En={},Fn=()=>performance.timeOrigin+performance.now();function Mn(e,t){if(c)return ue(18,1,e,t);if(En[e]&&(clearTimeout(En[e].id),delete En[e]),!t)return 0;var n=setTimeout((()=>{delete En[e],St((()=>xa(e,performance.timeOrigin+performance.now())))}),t);return En[e]={id:n,qc:t},0}function In(e,t,n,a){e>>>=0,t>>>=0,n>>>=0,a>>>=0;var r=(new Date).getFullYear(),i=new Date(r,0,1).getTimezoneOffset();r=new Date(r,6,1).getTimezoneOffset();var o=Math.max(i,r);U()[e>>>2>>>0]=60*o,q()[t>>>2>>>0]=+(i!=r),e=(t=e=>{var t=Math.abs(e);return"UTC".concat(0<=e?"-":"+").concat(String(Math.floor(t/60)).padStart(2,"0")).concat(String(t%60).padStart(2,"0"))})(i),t=t(r),r<i?(Pe(e,n,17),Pe(t,a,17)):(Pe(e,a,17),Pe(t,n,17))}var zn=()=>Date.now(),Pn=1;function Nn(e,t,n){if(!(0<=e&&3>=e))return 28;if(0===e)e=Date.now();else{if(!Pn)return 52;e=performance.timeOrigin+performance.now()}return I[n>>>0>>>3]=BigInt(Math.round(1e6*e)),0}var On=[],Bn=(e,t)=>{On.length=0;for(var n;n=R()[e++>>>0];){var a=105!=n;t+=(a&=112!=n)&&t%8?4:0,On.push(112==n?U()[t>>>2>>>0]:106==n?I[t>>>3]:105==n?q()[t>>>2>>>0]:H()[t>>>3>>>0]),t+=a?8:4}return On};function Ln(e,t,n){return e>>>=0,t=Bn(t>>>0,n>>>0),ne[e](...t)}function Rn(e,t,n){return e>>>=0,t=Bn(t>>>0,n>>>0),ne[e](...t)}var jn=()=>{};function Vn(e,t){return _(Fe(e>>>0,t>>>0))}var qn=()=>{throw ce+=1,"unwind"};function Un(){return 4294901760}var Gn=()=>navigator.hardwareConcurrency;function Hn(){return ee("Cannot use emscripten_pc_get_function without -sUSE_OFFSET_CONVERTER"),0}function Wn(e){e>>>=0;var t=R().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);e:{a=(Math.min(4294901760,65536*Math.ceil(Math.max(e,a)/65536))-x.buffer.byteLength+65535)/65536|0;try{x.grow(a),Y();var r=1;break e}catch(i){}r=void 0}if(r)return!0}return!1}var Kn=()=>(ee("Cannot use convertFrameToPC (needed by __builtin_return_address) without -sUSE_OFFSET_CONVERTER"),0),Yn={},Jn=e=>{e.forEach((e=>{var t=Kn();t&&(Yn[t]=e)}))};function Zn(){var e=Error().stack.toString().split("\n");return"Error"==e[0]&&e.shift(),Jn(e),Yn.Lb=Kn(),Yn.cc=e,Yn.Lb}function Xn(e,t,n){if(e>>>=0,t>>>=0,Yn.Lb==e)var a=Yn.cc;else"Error"==(a=Error().stack.toString().split("\n"))[0]&&a.shift(),Jn(a);for(var r=3;a[r]&&Kn()!=e;)++r;for(e=0;e<n&&a[e+r];++e)q()[t+4*e>>>2>>>0]=Kn();return e}var $n,Qn={},ea=()=>{if(!$n){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"};for(e in Qn)void 0===Qn[e]?delete t[e]:t[e]=Qn[e];var n=[];for(e in t)n.push("".concat(e,"=").concat(t[e]));$n=n}return $n};function ta(e,t){if(c)return ue(19,1,e,t);e>>>=0,t>>>=0;var n=0;return ea().forEach(((a,r)=>{var i=t+n;for(r=U()[e+4*r>>>2>>>0]=i,i=0;i<a.length;++i)L()[r++>>>0]=a.charCodeAt(i);L()[r>>>0]=0,n+=a.length+1})),0}function na(e,t){if(c)return ue(20,1,e,t);e>>>=0,t>>>=0;var n=ea();U()[e>>>2>>>0]=n.length;var a=0;return n.forEach((e=>a+=e.length+1)),U()[t>>>2>>>0]=a,0}function aa(e){return c?ue(21,1,e):52}function ra(e,t,n,a){return c?ue(22,1,e,t,n,a):52}function ia(e,t,n,a){return c?ue(23,1,e,t,n,a):70}var oa=[null,[],[]];function sa(e,t,n,a){if(c)return ue(24,1,e,t,n,a);t>>>=0,n>>>=0,a>>>=0;for(var r=0,i=0;i<n;i++){var o=U()[t>>>2>>>0],s=U()[t+4>>>2>>>0];t+=8;for(var l=0;l<s;l++){var u=R()[o+l>>>0],d=oa[e];0===u||10===u?((1===e?w:_)(Ee(d)),d.length=0):d.push(u)}r+=s}return U()[a>>>2>>>0]=r,0}c||function(){for(var e=r.numThreads-1;e--;)_e();se.unshift((()=>{var e;X++,e=()=>Q(),c?e():Promise.all(fe.map(we)).then(e)}))}();for(var la=Array(256),ca=0;256>ca;++ca)la[ca]=String.fromCharCode(ca);Ke=la,Ye=r.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},r.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},ot.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=()=>ot.length/2-5-it.length;var ua,da=[de,he,Ae,Me,Ie,Ne,Oe,Be,Le,Re,je,Ve,qe,Ge,He,We,Cn,Sn,Mn,ta,na,aa,ra,ia,sa];!async function(){function e(e,t){return ua=e.exports,ua=function(){var e=ua,t={};for(let[n,a]of Object.entries(e))t[n]="function"==typeof a?function(){Ht.push(n);try{return a(...arguments)}finally{O||(Ht.pop(),Ut&&1===qt&&0===Ht.length&&(qt=0,ce+=1,Vt(Fa),typeof Fibers<"u"&&Fibers.rc()))}}:a;return t}(),ua=function(){var e=ua,t=e=>t=>e(t)>>>0,n=e=>()=>e()>>>0;return(e=Object.assign({},e)).Da=t(e.Da),e.fb=n(e.fb),e.hb=t(e.hb),e.tb=t(e.tb),e.ub=n(e.ub),e.__cxa_get_exception_ptr=t(e.__cxa_get_exception_ptr),e}(),ge.push(ua.ib),k=t,Q(),ua}X++;var t=te();if(r.instantiateWasm)return new Promise((n=>{r.instantiateWasm(t,((t,a)=>{e(t,a),n(t.exports)}))}));if(c)return new Promise((t=>{W=n=>{var a=new WebAssembly.Instance(n,te());t(e(a,n))}}));null!==Z&&void 0!==Z||(Z=r.locateFile?r.locateFile?r.locateFile("ort-wasm-simd-threaded.jsep.wasm",y):y+"ort-wasm-simd-threaded.jsep.wasm":new URL(__webpack_require__(98),__webpack_require__.b).href);try{var n=await async function(e){var t=Z;if(!N&&"function"==typeof WebAssembly.instantiateStreaming&&!B(t))try{var n=fetch(t,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(n,e)}catch(a){_("wasm streaming compile failed: ".concat(a)),_("falling back to ArrayBuffer instantiation")}return async function(e,t){try{var n=await async function(e){if(!N)try{var t=await p(e);return new Uint8Array(t)}catch(n){}if(e==Z&&N)e=new Uint8Array(N);else{if(!f)throw"both async and sync fetching of the wasm failed";e=f(e)}return e}(e);return await WebAssembly.instantiate(n,t)}catch(a){_("failed to asynchronously prepare wasm: ".concat(a)),ee(a)}}(t,e)}(t);return e(n.instance,n.module)}catch(i){return a(i),Promise.reject(i)}}();var ha=e=>(ha=ua.Da)(e),pa=()=>(pa=ua.Ea)();r._OrtInit=(e,t)=>(r._OrtInit=ua.Fa)(e,t),r._OrtGetLastError=(e,t)=>(r._OrtGetLastError=ua.Ga)(e,t),r._OrtCreateSessionOptions=(e,t,n,a,i,o,s,l,c,u)=>(r._OrtCreateSessionOptions=ua.Ha)(e,t,n,a,i,o,s,l,c,u),r._OrtAppendExecutionProvider=(e,t,n,a,i)=>(r._OrtAppendExecutionProvider=ua.Ia)(e,t,n,a,i),r._OrtAddFreeDimensionOverride=(e,t,n)=>(r._OrtAddFreeDimensionOverride=ua.Ja)(e,t,n),r._OrtAddSessionConfigEntry=(e,t,n)=>(r._OrtAddSessionConfigEntry=ua.Ka)(e,t,n),r._OrtReleaseSessionOptions=e=>(r._OrtReleaseSessionOptions=ua.La)(e),r._OrtCreateSession=(e,t,n)=>(r._OrtCreateSession=ua.Ma)(e,t,n),r._OrtReleaseSession=e=>(r._OrtReleaseSession=ua.Na)(e),r._OrtGetInputOutputCount=(e,t,n)=>(r._OrtGetInputOutputCount=ua.Oa)(e,t,n),r._OrtGetInputOutputMetadata=(e,t,n,a)=>(r._OrtGetInputOutputMetadata=ua.Pa)(e,t,n,a),r._OrtFree=e=>(r._OrtFree=ua.Qa)(e),r._OrtCreateTensor=(e,t,n,a,i,o)=>(r._OrtCreateTensor=ua.Ra)(e,t,n,a,i,o),r._OrtGetTensorData=(e,t,n,a,i)=>(r._OrtGetTensorData=ua.Sa)(e,t,n,a,i),r._OrtReleaseTensor=e=>(r._OrtReleaseTensor=ua.Ta)(e),r._OrtCreateRunOptions=(e,t,n,a)=>(r._OrtCreateRunOptions=ua.Ua)(e,t,n,a),r._OrtAddRunConfigEntry=(e,t,n)=>(r._OrtAddRunConfigEntry=ua.Va)(e,t,n),r._OrtReleaseRunOptions=e=>(r._OrtReleaseRunOptions=ua.Wa)(e),r._OrtCreateBinding=e=>(r._OrtCreateBinding=ua.Xa)(e),r._OrtBindInput=(e,t,n)=>(r._OrtBindInput=ua.Ya)(e,t,n),r._OrtBindOutput=(e,t,n,a)=>(r._OrtBindOutput=ua.Za)(e,t,n,a),r._OrtClearBoundOutputs=e=>(r._OrtClearBoundOutputs=ua._a)(e),r._OrtReleaseBinding=e=>(r._OrtReleaseBinding=ua.$a)(e),r._OrtRunWithBinding=(e,t,n,a,i)=>(r._OrtRunWithBinding=ua.ab)(e,t,n,a,i),r._OrtRun=(e,t,n,a,i,o,s,l)=>(r._OrtRun=ua.bb)(e,t,n,a,i,o,s,l),r._OrtEndProfiling=e=>(r._OrtEndProfiling=ua.cb)(e),r._JsepOutput=(e,t,n)=>(r._JsepOutput=ua.db)(e,t,n),r._JsepGetNodeName=e=>(r._JsepGetNodeName=ua.eb)(e);var fa=()=>(fa=ua.fb)(),ma=r._free=e=>(ma=r._free=ua.gb)(e),ga=r._malloc=e=>(ga=r._malloc=ua.hb)(e),ya=(e,t,n,a,r,i)=>(ya=ua.kb)(e,t,n,a,r,i),ba=()=>(ba=ua.lb)(),va=(e,t,n,a,r)=>(va=ua.mb)(e,t,n,a,r),wa=e=>(wa=ua.nb)(e),_a=e=>(_a=ua.ob)(e),xa=(e,t)=>(xa=ua.pb)(e,t),ka=()=>(ka=ua.qb)(),Ta=(e,t)=>(Ta=ua.rb)(e,t),Da=e=>(Da=ua.sb)(e),Aa=e=>(Aa=ua.tb)(e),Ca=()=>(Ca=ua.ub)(),Sa=r.dynCall_ii=(e,t)=>(Sa=r.dynCall_ii=ua.vb)(e,t),Ea=e=>(Ea=ua.wb)(e),Fa=()=>(Fa=ua.xb)(),Ma=e=>(Ma=ua.yb)(e),Ia=()=>(Ia=ua.zb)();return r.stackSave=()=>Ca(),r.stackRestore=e=>Da(e),r.stackAlloc=e=>Aa(e),r.setValue=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i8";switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":L()[e>>>0]=t;break;case"i16":j()[e>>>1>>>0]=t;break;case"i32":q()[e>>>2>>>0]=t;break;case"i64":I[e>>>3]=BigInt(t);break;case"float":G()[e>>>2>>>0]=t;break;case"double":H()[e>>>3>>>0]=t;break;case"*":U()[e>>>2>>>0]=t;break;default:ee("invalid type for setValue: ".concat(n))}},r.getValue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return L()[e>>>0];case"i16":return j()[e>>>1>>>0];case"i32":return q()[e>>>2>>>0];case"i64":return I[e>>>3];case"float":return G()[e>>>2>>>0];case"double":return H()[e>>>3>>>0];case"*":return U()[e>>>2>>>0];default:ee("invalid type for getValue: ".concat(t))}},r.UTF8ToString=Fe,r.stringToUTF8=Pe,r.lengthBytesUTF8=ze,function e(){if(0<X)$=e;else if(c)n(r),J();else{for(;0<se.length;)se.shift()(r);0<X?$=e:(r.calledRun=!0,O||(J(),n(r)))}}(),r.PTR_SIZE=4,i},He=Ge,(null===(e=globalThis.self)||void 0===e||null===(e=e.name)||void 0===e?void 0:e.startsWith("em-pthread"))&&Ge()})),Fc=pe((()=>{Oe(),We=typeof location>"u"?void 0:location.origin,Ke=!0,Ye=()=>{if(Ke){let e=URL;return new URL(new e(__webpack_require__(618),__webpack_require__.b).href,We).href}return"file:///Users/emilyreif/Documents/github/llm-consistency-vis/node_modules/onnxruntime-web/dist/ort.bundle.min.mjs"},Je=Ye(),Ze=()=>{if(Je&&!Je.startsWith("blob:"))return Je.substring(0,Je.lastIndexOf("/")+1)},Xe=(e,t)=>{try{let n=null!==t&&void 0!==t?t:Je;return(n?new URL(e,n):new URL(e)).origin===We}catch(n){return!1}},$e=(e,t)=>{let n=null!==t&&void 0!==t?t:Je;try{return(n?new URL(e,n):new URL(e)).href}catch(a){return}},Qe=(e,t)=>"".concat(null!==t&&void 0!==t?t:"./").concat(e),et=async e=>{let t=await(await fetch(e,{credentials:"same-origin"})).blob();return URL.createObjectURL(t)},tt=async e=>(await import(e)).default,nt=(Ve(),me(Be)).default,at=async()=>{if(!Je)throw new Error("Failed to load proxy worker: cannot determine the script source URL.");if(Xe(Je))return[void 0,nt()];let e=await et(Je);return[e,nt(e)]},rt=(Ec(),me(qe)).default,it=async(e,t,n)=>{if(!e&&!t&&rt&&Je&&Xe(Je))return[void 0,rt];{let a="ort-wasm-simd-threaded.jsep.mjs",r=null!==e&&void 0!==e?e:$e(a,t),i=n&&r&&!Xe(r,t),o=i?await et(r):null!==r&&void 0!==r?r:Qe(a,t);return[i?o:void 0,await tt(o)]}}})),Mc=pe((()=>{Fc(),st=!1,lt=!1,ct=!1,ut=()=>{if(typeof SharedArrayBuffer>"u")return!1;try{return typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}},dt=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}},ht=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,19,1,17,0,65,1,253,15,65,2,253,15,65,3,253,15,253,147,2,11]))}catch(e){return!1}},pt=async e=>{var t,n;if(st)return Promise.resolve();if(lt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(ct)throw new Error("previous call to 'initializeWebAssembly()' failed.");lt=!0;let a=e.initTimeout,r=e.numThreads;if(!1!==e.simd)if("relaxed"===e.simd){if(!ht())throw new Error("Relaxed WebAssembly SIMD is not supported in the current environment.")}else if(!dt())throw new Error("WebAssembly SIMD is not supported in the current environment.");let i=ut();r>1&&!i&&(typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+r+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),console.warn("WebAssembly multi-threading is not supported in the current environment. Falling back to single-threading."),e.numThreads=r=1);let o=e.wasmPaths,s="string"==typeof o?o:void 0,l=null===o||void 0===o?void 0:o.mjs,c=null!==(t=null===l||void 0===l?void 0:l.href)&&void 0!==t?t:l,u=null===o||void 0===o?void 0:o.wasm,d=null!==(n=null===u||void 0===u?void 0:u.href)&&void 0!==n?n:u,h=e.wasmBinary,[p,f]=await it(c,s,r>1),m=!1,g=[];if(a>0&&g.push(new Promise((e=>{setTimeout((()=>{m=!0,e()}),a)}))),g.push(new Promise(((e,t)=>{let n={numThreads:r};if(h)n.wasmBinary=h;else if(d||s)n.locateFile=e=>null!==d&&void 0!==d?d:s+e;else if(c&&0!==c.indexOf("blob:"))n.locateFile=e=>new URL(e,c).href;else if(p){let e=Ze();e&&(n.locateFile=t=>e+t)}f(n).then((t=>{lt=!1,st=!0,ot=t,e(),p&&URL.revokeObjectURL(p)}),(e=>{lt=!1,ct=!0,t(e)}))}))),await Promise.race(g),m)throw new Error("WebAssembly backend initializing failed due to timeout: ".concat(a,"ms"))},ft=()=>{if(st&&ot)return ot;throw new Error("WebAssembly is not initialized yet.")}})),Ic=pe((()=>{Mc(),mt=(e,t)=>{let n=ft(),a=n.lengthBytesUTF8(e)+1,r=n._malloc(a);return n.stringToUTF8(e,r,a),t.push(r),r},gt=(e,t,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((e=>{let[r,i]=e,o=t?t+r:r;if("object"==typeof i)gt(i,o+".",n,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can't handle extra config type: ".concat(typeof i));a(o,i?"1":"0")}}))},yt=e=>{let t=ft(),n=t.stackSave();try{let n=t.PTR_SIZE,a=t.stackAlloc(2*n);t._OrtGetLastError(a,a+n);let r=Number(t.getValue(a,4===n?"i32":"i64")),i=t.getValue(a+n,"*"),o=i?t.UTF8ToString(i):"";throw new Error("".concat(e," ERROR_CODE: ").concat(r,", ERROR_MESSAGE: ").concat(o))}finally{t.stackRestore(n)}}})),zc=pe((()=>{Mc(),Ic(),bt=e=>{let t=ft(),n=0,a=[],r=e||{};try{if(void 0===(null===e||void 0===e?void 0:e.logSeverityLevel))r.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null===e||void 0===e?void 0:e.logVerbosityLevel))r.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));void 0===(null===e||void 0===e?void 0:e.terminate)&&(r.terminate=!1);let i=0;return void 0!==(null===e||void 0===e?void 0:e.tag)&&(i=mt(e.tag,a)),n=t._OrtCreateRunOptions(r.logSeverityLevel,r.logVerbosityLevel,!!r.terminate,i),0===n&&yt("Can't create run options."),void 0!==(null===e||void 0===e?void 0:e.extra)&&gt(e.extra,"",new WeakSet,((e,r)=>{let i=mt(e,a),o=mt(r,a);0!==t._OrtAddRunConfigEntry(n,i,o)&&yt("Can't set a run config entry: ".concat(e," - ").concat(r,"."))})),[n,a]}catch(i){throw 0!==n&&t._OrtReleaseRunOptions(n),a.forEach((e=>t._free(e))),i}}})),Pc=pe((()=>{Mc(),Ic(),vt=e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: ".concat(e))}},wt=e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: ".concat(e))}},_t=e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});let t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)},xt=(e,t,n,a)=>{let r=mt(t,a),i=mt(n,a);0!==ft()._OrtAddSessionConfigEntry(e,r,i)&&yt("Can't set a session config entry: ".concat(t," - ").concat(n,"."))},kt=async(e,t,n)=>{for(let a of t){let t="string"==typeof a?a:a.name,r=[];switch(t){case"webnn":if(t="WEBNN","string"!=typeof a){let t=null===a||void 0===a?void 0:a.deviceType;t&&xt(e,"deviceType",t,n)}break;case"webgpu":if(t="JS","string"!=typeof a){let t=a;if(null!==t&&void 0!==t&&t.preferredLayout){if("NCHW"!==t.preferredLayout&&"NHWC"!==t.preferredLayout)throw new Error("preferredLayout must be either 'NCHW' or 'NHWC': ".concat(t.preferredLayout));xt(e,"preferredLayout",t.preferredLayout,n)}}break;case"wasm":case"cpu":continue;default:throw new Error("not supported execution provider: ".concat(t))}let i=mt(t,n),o=r.length,s=0,l=0;if(o>0){s=ft()._malloc(o*ft().PTR_SIZE),n.push(s),l=ft()._malloc(o*ft().PTR_SIZE),n.push(l);for(let e=0;e<o;e++)ft().setValue(s+e*ft().PTR_SIZE,r[e][0],"*"),ft().setValue(l+e*ft().PTR_SIZE,r[e][1],"*")}0!==await ft()._OrtAppendExecutionProvider(e,i,s,l,o)&&yt("Can't append execution provider: ".concat(t,"."))}},Tt=async e=>{let t=ft(),n=0,a=[],r=e||{};_t(r);try{var i,o,s,l;let e=vt(null!==(i=r.graphOptimizationLevel)&&void 0!==i?i:"all"),c=wt(null!==(o=r.executionMode)&&void 0!==o?o:"sequential"),u="string"==typeof r.logId?mt(r.logId,a):0,d=null!==(s=r.logSeverityLevel)&&void 0!==s?s:2;if(!Number.isInteger(d)||d<0||d>4)throw new Error("log serverity level is not valid: ".concat(d));let h=null!==(l=r.logVerbosityLevel)&&void 0!==l?l:0;if(!Number.isInteger(h)||h<0||h>4)throw new Error("log verbosity level is not valid: ".concat(h));let p="string"==typeof r.optimizedModelFilePath?mt(r.optimizedModelFilePath,a):0;if(n=t._OrtCreateSessionOptions(e,!!r.enableCpuMemArena,!!r.enableMemPattern,c,!!r.enableProfiling,0,u,d,h,p),0===n&&yt("Can't create session options."),r.executionProviders&&await kt(n,r.executionProviders,a),void 0!==r.enableGraphCapture){if("boolean"!=typeof r.enableGraphCapture)throw new Error("enableGraphCapture must be a boolean value: ".concat(r.enableGraphCapture));xt(n,"enableGraphCapture",r.enableGraphCapture.toString(),a)}if(r.freeDimensionOverrides)for(let[i,o]of Object.entries(r.freeDimensionOverrides)){if("string"!=typeof i)throw new Error("free dimension override name must be a string: ".concat(i));if("number"!=typeof o||!Number.isInteger(o)||o<0)throw new Error("free dimension override value must be a non-negative integer: ".concat(o));let e=mt(i,a);0!==t._OrtAddFreeDimensionOverride(n,e,o)&&yt("Can't set a free dimension override: ".concat(i," - ").concat(o,"."))}return void 0!==r.extra&&gt(r.extra,"",new WeakSet,((e,t)=>{xt(n,e,t,a)})),[n,a]}catch(c){throw 0!==n&&0!==t._OrtReleaseSessionOptions(n)&&yt("Can't release session options."),a.forEach((e=>t._free(e))),c}}})),Nc=pe((()=>{Dt=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;case"int4":return 22;case"uint4":return 21;default:throw new Error("unsupported data type: ".concat(e))}},At=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";case 22:return"int4";case 21:return"uint4";default:throw new Error("unsupported data type: ".concat(e))}},Ct=(e,t)=>{let n=[-1,4,1,1,2,2,4,8,-1,1,2,8,4,8,-1,-1,-1,-1,-1,-1,-1,.5,.5][e],a="number"==typeof t?t:t.reduce(((e,t)=>e*t),1);return n>0?Math.ceil(a*n):void 0},St=e=>{switch(e){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: ".concat(e))}},Et=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: ".concat(e))}},Ft=e=>"float32"===e||"float16"===e||"int32"===e||"int64"===e||"uint32"===e||"uint8"===e||"bool"===e||"uint4"===e||"int4"===e,Mt=e=>"float32"===e||"float16"===e||"int32"===e||"int64"===e||"uint32"===e||"uint64"===e||"int8"===e||"uint8"===e||"bool"===e||"uint4"===e||"int4"===e,It=e=>{switch(e){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;case"ml-tensor":return 5;default:throw new Error("unsupported data location: ".concat(e))}}})),Oc=pe((()=>{Oe(),zt=async e=>{if("string"==typeof e){let n=await fetch(e);if(!n.ok)throw new Error("failed to load external data file: ".concat(e));let a=n.headers.get("Content-Length"),r=a?parseInt(a,10):0;if(r<1073741824)return new Uint8Array(await n.arrayBuffer());{if(!n.body)throw new Error("failed to load external data file: ".concat(e,", no response body."));let a,i=n.body.getReader();try{a=new ArrayBuffer(r)}catch(t){if(!(t instanceof RangeError))throw t;{let e=Math.ceil(r/65536);a=new WebAssembly.Memory({initial:e,maximum:e}).buffer}}let o=0;for(;;){let{done:e,value:t}=await i.read();if(e)break;let n=t.byteLength;new Uint8Array(a,o,n).set(t),o+=n}return new Uint8Array(a,0,r)}}return e instanceof Blob?new Uint8Array(await e.arrayBuffer()):e instanceof Uint8Array?e:new Uint8Array(e)}})),Bc=pe((()=>{Nc(),Pt=["V","I","W","E","F"],Nt=(e,t)=>{console.log("[".concat(Pt[e],",").concat((new Date).toISOString(),"]").concat(t))},Lt=(e,t)=>{Ot=e,Bt=t},Rt=(e,t)=>{let n=Et(e);n>=Et(Ot)&&Nt(n,"function"==typeof t?t():t)},jt=function(){Bt&&Rt(...arguments)}})),Lc=pe((()=>{Vt=class{static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}},qt=class{static calcShape(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.length,r=t.length;if(0===a)return t;if(0===r)return e;let i=Math.max(e.length,t.length),o=new Array(i);if(n){if(a<2||r<2)return;let n=Vt.calcMatMulShape([e[a-2],e[a-1]],[t[r-2],t[r-1]]);if(void 0===n)return;[o[i-2],o[i-1]]=n}for(let s=n?3:1;s<=i;s++){let n=a-s<0?1:e[a-s],l=r-s<0?1:t[r-s];if(n!==l&&n>1&&l>1)return;let c=Math.max(n,l);if(n&&l)o[i-s]=Math.max(n,l);else{if(c>1)return;o[i-s]=0}}return o}static isValidBroadcast(e,t){let n=e.length,a=t.length;if(n>a)return!1;for(let r=1;r<=n;r++)if(1!==e[n-r]&&e[n-r]!==t[a-r])return!1;return!0}},Ut=class e{static size(t){return e.getSizeFromDimensionRange(t,0,t.length)}static convertShape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.length;if(0===n)return[];let a=new Array(n),r=n-1;for(;r>=0;){if(e[r]%t===0){a[r]=e[r]/t;break}if(t%e[r]!==0)throw new Error("cannot convert shape");a[r]=1,t/=e[r],r--}for(r--;r>=0;r--)a[r]=e[r];return a}static sizeFromDimension(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of ".concat(n," for sizeFromDimension as Tensor has ").concat(t.length," dimensions."));return e.getSizeFromDimensionRange(t,n,t.length)}static sizeToDimension(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of ".concat(n," for sizeToDimension as Tensor has ").concat(t.length," dimensions."));return e.getSizeFromDimensionRange(t,0,n)}static getSizeFromDimensionRange(e,t,n){let a=1;for(let r=t;r<n;r++){if(e[r]<0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains negative values in them.");a*=Number(e[r])}return a}static computeStrides(e){let t=e.length;if(0===t)return[];if(1===t)return[1];let n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let a=t-3;a>=0;--a)n[a]=n[a+1]*e[a+1];return n}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((n=>this.normalizeAxis(n,null!==t&&void 0!==t?t:e.length)))}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){let n=e.length;return e.map(((e,a)=>e+t[a]+t[a+n]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}},Gt=class e{static adjustPoolAttributes(e,t,n,a,r,i){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let o=0;o<t.length-2;o++)o>=n.length?n.push(t[o+2]):n[o]=t[o+2];for(let o=0;o<n.length;o++)if(o<a.length){if(a[o]<0)throw new Error("strides should be greater than or equal to 1")}else a.push(1);for(let o=0;o<n.length;o++)if(o<r.length){if(r[o]<0)throw new Error("dilations should be greater than or equal to 1")}else r.push(1);for(let o=0;o<2*n.length;o++)if(o<i.length){if(i[o]<0)throw new Error("pad should be greater than or equal to 1")}else i.push(0);for(let o=0;o<n.length;o++){if(n[o]<=0)throw new Error("kernel shapes need to be greater than 0");if(i[o]>=n[o]||i[o+n.length]>=n[o])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(t,n,a,r,i,o,s){if(s){if(i.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let l=0;l<t.length-2;l++)e.adjustPadAndReturnShape(t[l+(o?1:2)],n[l],a[l],r[l],i,l,l+t.length-2,s)}}static computePoolOutputShape(t,n,a,r,i,o,s){if(n.length<=0)throw new Error("input shape must be of size greater than 0");let l=[n[0],n[1]];return e.computeShapeHelper(t,n,l,a,r,i,o,s),l}static computeConvOutputShape(t,n,a,r,i,o,s){if(t.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let l=[t[0],n[0]];return e.computeShapeHelper(!1,t,l,a,r,i,o,s),l}static computeShapeHelper(t,n,a,r,i,o,s,l){if(t)for(let e=0;e<n.length-2;e++)a.push(1);else for(let c=0;c<n.length-2;c++)a.push(e.adjustPadAndReturnShape(n[c+2],r[c],i[c],o[c],s,c,c+n.length-2,l))}static adjustPadAndReturnShape(e,t,n,a,r,i,o,s){let l=n*(a-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+r[i]+r[o]-l)/t+1);switch(s){case"VALID":return r[i]=0,r[o]=0,Math.floor((e-l)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let n=((e+t-1)/t-1)*t+a-e;return r[i]=Math.floor("SAME_LOWER"===s?(n+1)/2:n/2),r[o]=n-r[i],Math.floor((e+n-a)/t+1)}default:throw new Error("Unsupported AutoPad type")}}},Ht=class{static getShapeOfGemmResult(e,t,n,a,r){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let i,o,s;t?(i=e[1],o=e[0]):(i=e[0],o=e[1]);let l=-1;if(a?(s=n[0],l=1):(s=n[1],l=0),n[l]!==o)throw new Error("dimension mismatch");if(i<=0||s<=0||o<=0)throw new Error("invalid shape specified");if(r&&!qt.isValidBroadcast(r,[i,s]))throw new Error("gemm: invalid bias shape for broadcast");return[i,s,o]}},Wt=-34028234663852886e22,Kt=34028234663852886e22})),Rc=pe((()=>{Nc(),Yt=(e,t)=>new(St(t))(e)})),jc=pe((()=>{Bc(),Jt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.byteLength%8!==0)throw new Error("Invalid Uint8Array length - must be a multiple of 8 (BigInt).");let n=e.byteLength/8,a=new BigInt64Array(e.buffer,e.byteOffset,n),r=new Int32Array(n);for(let i=0;i<n;i++){let e=a[i];if(e>2147483647n||e<-2147483648n)throw new Error("Overflow occurred when converting BigInt to Int32 at index ".concat(i,": ").concat(e));r[i]=Number(e)}return t?new Uint8Array(r.buffer):r},Zt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.byteLength%4!==0)throw new Error("Invalid Uint8Array length - must be a multiple of 4 (Int32).");let n=e.byteLength/4,a=new Int32Array(e.buffer,e.byteOffset,n),r=BigInt64Array.from(a,BigInt);return t?new Uint8Array(r.buffer):r},Xt=1,$t=()=>Xt++,Qt=new Map([["float32",32],["float16",16],["int32",32],["uint32",32],["int64",64],["uint64",64],["int8",8],["uint8",8],["int4",4],["uint4",4]]),en=(e,t)=>{let n=Qt.get(e);if(!n)throw new Error("Unsupported data type.");return t.length>0?Math.ceil(t.reduce(((e,t)=>e*t))*n/8):0},tn=class{constructor(e){this.shouldConvertInt64toInt32=!1,this.isInt64ToInt32Converted=!1;let{sessionId:t,context:n,tensor:a,dataType:r,shape:i,shouldConvertInt64toInt32:o=!1}=e;this.sessionId=t,this.mlContext=n,this.mlTensor=a,this.dataType=r,this.tensorShape=i,this.shouldConvertInt64toInt32=o}get tensor(){return this.mlTensor}get type(){return this.dataType}get shape(){return this.tensorShape}get byteLength(){return en(this.dataType,this.tensorShape)}destroy(){jt("verbose",(()=>"[WebNN] TensorWrapper.destroy")),this.mlTensor.destroy()}write(e){this.mlContext.writeTensor(this.mlTensor,e)}async read(e,t){if(e){let e=await this.mlContext.readTensor(this.mlTensor),n=Zt(new Uint8Array(e));return t?void(t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).set(n):n.buffer}return t?this.mlContext.readTensor(this.mlTensor,t):this.mlContext.readTensor(this.mlTensor)}canReuseTensor(e,t,n){return this.mlContext===e&&this.dataType===t&&this.tensorShape.length===n.length&&this.tensorShape.every(((e,t)=>e===n[t]))}setIsInt64ToInt32Converted(e){this.isInt64ToInt32Converted=e}},nn=class{constructor(e,t){this.tensorManager=e,this.wrapper=t}get tensorWrapper(){return this.wrapper}releaseTensor(){this.tensorWrapper&&(this.tensorManager.releaseTensor(this.tensorWrapper),this.wrapper=void 0)}async ensureTensor(e,t,n,a){let r=t,i=this.tensorManager.getMLContext(e),o="int64"===r&&!i.opSupportLimits().input.dataTypes.includes("int64");if(o&&(r="int32",jt("verbose",(()=>"[WebNN] TensorIdTracker.ensureTensor: convert dataType from int64 to int32"))),this.wrapper){if(this.wrapper.canReuseTensor(i,r,n))return this.wrapper.tensor;if(a){if(this.wrapper.byteLength!==en(r,n))throw new Error("Unable to copy data to tensor with different size.");this.activeUpload=new Uint8Array(await this.wrapper.read())}this.tensorManager.releaseTensor(this.wrapper)}let s=typeof MLTensorUsage>"u"?void 0:MLTensorUsage.READ|MLTensorUsage.WRITE;return this.wrapper=await this.tensorManager.getCachedTensor(e,r,n,s,!0,!0,o),a&&this.activeUpload&&(this.wrapper.write(this.activeUpload),this.activeUpload=void 0),this.wrapper.tensor}upload(e){let t=e;if(this.wrapper){if(this.wrapper.shouldConvertInt64toInt32&&(t=Jt(e,!0),this.wrapper.setIsInt64ToInt32Converted(!0)),t.byteLength===this.wrapper.byteLength)return void this.wrapper.write(t);jt("verbose",(()=>"Data size does not match tensor size. Releasing tensor.")),this.releaseTensor()}this.activeUpload?this.activeUpload.set(t):this.activeUpload=new Uint8Array(t)}async download(e){var t,n;if(this.activeUpload){var a;let t=null!==(a=this.wrapper)&&void 0!==a&&a.isInt64ToInt32Converted?Zt(this.activeUpload):this.activeUpload;return e?void(e instanceof ArrayBuffer?new Uint8Array(e).set(t):new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(t)):t.buffer}if(!this.wrapper)throw new Error("Tensor has not been created.");return e?this.wrapper.read(null===(t=this.wrapper)||void 0===t?void 0:t.shouldConvertInt64toInt32,e):this.wrapper.read(null===(n=this.wrapper)||void 0===n?void 0:n.shouldConvertInt64toInt32)}},an=class{constructor(e){this.backend=e,this.tensorTrackersById=new Map,this.freeTensors=[],this.externalTensors=new Set}getMLContext(e){let t=this.backend.getMLContext(e);if(!t)throw new Error("MLContext not found for session.");return t}reserveTensorId(){let e=$t();return this.tensorTrackersById.set(e,new nn(this)),e}releaseTensorId(e){let t=this.tensorTrackersById.get(e);t&&(this.tensorTrackersById.delete(e),t.tensorWrapper&&this.releaseTensor(t.tensorWrapper))}async ensureTensor(e,t,n,a,r){jt("verbose",(()=>"[WebNN] TensorManager.ensureTensor {tensorId: ".concat(t,", dataType: ").concat(n,", shape: ").concat(a,", copyOld: ").concat(r,"}")));let i=this.tensorTrackersById.get(t);if(!i)throw new Error("Tensor not found.");return i.ensureTensor(e,n,a,r)}upload(e,t){let n=this.tensorTrackersById.get(e);if(!n)throw new Error("Tensor not found.");n.upload(t)}async download(e,t){jt("verbose",(()=>"[WebNN] TensorManager.download {tensorId: ".concat(e,", dstBuffer: ").concat(null===t||void 0===t?void 0:t.byteLength,"}")));let n=this.tensorTrackersById.get(e);if(!n)throw new Error("Tensor not found.");return n.download(t)}releaseTensorsForSession(e){for(let t of this.freeTensors)t.sessionId===e&&t.destroy();this.freeTensors=this.freeTensors.filter((t=>t.sessionId!==e))}registerTensor(e,t,n,a){let r=this.getMLContext(e),i=$t(),o=new tn({sessionId:e,context:r,tensor:t,dataType:n,shape:a});return this.tensorTrackersById.set(i,new nn(this,o)),this.externalTensors.add(o),i}async getCachedTensor(e,t,n,a,r,i){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=this.getMLContext(e);for(let[c,u]of this.freeTensors.entries())if(u.canReuseTensor(s,t,n)){jt("verbose",(()=>"[WebNN] Reusing tensor {dataType: ".concat(t,", shape: ").concat(n,"}")));let a=this.freeTensors.splice(c,1)[0];return a.sessionId=e,a}jt("verbose",(()=>"[WebNN] MLContext.createTensor {dataType: ".concat(t,", shape: ").concat(n,"}")));let l=await s.createTensor({dataType:t,shape:n,dimensions:n,usage:a,writable:r,readable:i});return new tn({sessionId:e,context:s,tensor:l,dataType:t,shape:n,shouldConvertInt64toInt32:o})}releaseTensor(e){this.externalTensors.has(e)&&this.externalTensors.delete(e),this.freeTensors.push(e)}},rn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new an(...t)}})),Vc=pe((()=>{Nc(),Mc(),Rc(),jc(),Bc(),on=new Map([[1,"float32"],[10,"float16"],[6,"int32"],[12,"uint32"],[7,"int64"],[13,"uint64"],[22,"int4"],[21,"uint4"],[3,"int8"],[2,"uint8"],[9,"uint8"]]),sn=(e,t)=>{if(e===t)return!0;if(void 0===e||void 0===t)return!1;let n=Object.keys(e).sort(),a=Object.keys(t).sort();return n.length===a.length&&n.every(((n,r)=>n===a[r]&&e[n]===t[n]))},ln=class{constructor(e){this.tensorManager=rn(this),this.mlContextBySessionId=new Map,this.sessionIdsByMLContext=new Map,this.mlContextCache=[],this.sessionGraphInputs=new Map,this.temporaryGraphInputs=[],this.temporarySessionTensorIds=new Map,Lt(e.logLevel,!!e.debug)}get currentSessionId(){if(void 0===this.activeSessionId)throw new Error("No active session");return this.activeSessionId}onRunStart(e){jt("verbose",(()=>"[WebNN] onRunStart {sessionId: ".concat(e,"}"))),this.activeSessionId=e}onRunEnd(e){jt("verbose",(()=>"[WebNN] onRunEnd {sessionId: ".concat(e,"}")));let t=this.temporarySessionTensorIds.get(e);if(t){for(let e of t)jt("verbose",(()=>"[WebNN] releasing temporary tensor {tensorId: ".concat(e,"}"))),this.tensorManager.releaseTensorId(e);this.temporarySessionTensorIds.delete(e),this.activeSessionId=void 0}}async createMLContext(e){if(e instanceof GPUDevice){let t=this.mlContextCache.findIndex((t=>t.gpuDevice===e));if(-1!==t)return this.mlContextCache[t].mlContext;{let t=await navigator.ml.createContext(e);return this.mlContextCache.push({gpuDevice:e,mlContext:t}),t}}if(void 0===e){let e=this.mlContextCache.findIndex((e=>void 0===e.options&&void 0===e.gpuDevice));if(-1!==e)return this.mlContextCache[e].mlContext;{let e=await navigator.ml.createContext();return this.mlContextCache.push({mlContext:e}),e}}let t=this.mlContextCache.findIndex((t=>sn(t.options,e)));if(-1!==t)return this.mlContextCache[t].mlContext;{let t=await navigator.ml.createContext(e);return this.mlContextCache.push({options:e,mlContext:t}),t}}registerMLContext(e,t){this.mlContextBySessionId.set(e,t);let n=this.sessionIdsByMLContext.get(t);n||(n=new Set,this.sessionIdsByMLContext.set(t,n)),n.add(e),this.temporaryGraphInputs.length>0&&(this.sessionGraphInputs.set(e,this.temporaryGraphInputs),this.temporaryGraphInputs=[])}onReleaseSession(e){this.sessionGraphInputs.delete(e);let t=this.mlContextBySessionId.get(e);if(!t)return;this.tensorManager.releaseTensorsForSession(e),this.mlContextBySessionId.delete(e);let n=this.sessionIdsByMLContext.get(t);if(n.delete(e),0===n.size){this.sessionIdsByMLContext.delete(t);let e=this.mlContextCache.findIndex((e=>e.mlContext===t));-1!==e&&this.mlContextCache.splice(e,1)}}getMLContext(e){return this.mlContextBySessionId.get(e)}reserveTensorId(){return this.tensorManager.reserveTensorId()}releaseTensorId(e){jt("verbose",(()=>"[WebNN] releaseTensorId {tensorId: ".concat(e,"}"))),this.tensorManager.releaseTensorId(e)}async ensureTensor(e,t,n,a,r){let i=on.get(n);if(!i)throw new Error("Unsupported ONNX data type: ".concat(n));return this.tensorManager.ensureTensor(null!==e&&void 0!==e?e:this.currentSessionId,t,i,a,r)}async createTemporaryTensor(e,t,n){jt("verbose",(()=>"[WebNN] createTemporaryTensor {onnxDataType: ".concat(t,", shape: ").concat(n,"}")));let a=on.get(t);if(!a)throw new Error("Unsupported ONNX data type: ".concat(t));let r=this.tensorManager.reserveTensorId();await this.tensorManager.ensureTensor(e,r,a,n,!1);let i=this.temporarySessionTensorIds.get(e);return i?i.push(r):this.temporarySessionTensorIds.set(e,[r]),r}uploadTensor(e,t){if(!ft().shouldTransferToMLTensor)throw new Error("Trying to upload to a MLTensor while shouldTransferToMLTensor is false");jt("verbose",(()=>"[WebNN] uploadTensor {tensorId: ".concat(e,", data: ").concat(t.byteLength,"}"))),this.tensorManager.upload(e,t)}async downloadTensor(e,t){return this.tensorManager.download(e,t)}createMLTensorDownloader(e,t){return async()=>{let n=await this.tensorManager.download(e);return Yt(n,t)}}registerMLTensor(e,t,n,a){let r=on.get(n);if(!r)throw new Error("Unsupported ONNX data type: ".concat(n));let i=this.tensorManager.registerTensor(e,t,r,a);return jt("verbose",(()=>"[WebNN] registerMLTensor {tensor: ".concat(t,", dataType: ").concat(r,", dimensions: ").concat(a,"} -> {tensorId: ").concat(i,"}"))),i}registerMLConstant(e,t,n,a,r,i){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!i)throw new Error("External mounted files are not available.");let s=e;e.startsWith("./")&&(s=e.substring(2));let l=i.get(s);if(!l)throw new Error("File with name ".concat(s," not found in preloaded files."));if(t+n>l.byteLength)throw new Error("Out of bounds: data offset and length exceed the external file data size.");let c,u=l.slice(t,t+n).buffer;switch(r.dataType){case"float32":c=new Float32Array(u);break;case"float16":c=typeof Float16Array<"u"&&Float16Array.from?new Float16Array(u):new Uint16Array(u);break;case"int32":c=new Int32Array(u);break;case"uint32":c=new Uint32Array(u);break;case"int64":o?(c=Jt(new Uint8Array(u),!1),r.dataType="int32"):c=new BigInt64Array(u);break;case"uint64":c=new BigUint64Array(u);break;case"int8":c=new Int8Array(u);break;case"int4":case"uint4":case"uint8":c=new Uint8Array(u);break;default:throw new Error("Unsupported data type: ".concat(r.dataType," in creating WebNN Constant from external data."))}return jt("verbose",(()=>"[WebNN] registerMLConstant {dataType: ".concat(r.dataType,", shape: ").concat(r.shape,"}} ").concat(o?"(Note: it was int64 data type and registered to int32 as workaround)":""))),a.constant(r,c)}registerGraphInput(e){this.temporaryGraphInputs.push(e)}isGraphInput(e,t){let n=this.sessionGraphInputs.get(e);return!!n&&n.includes(t)}isInt64Supported(e){var t;return!(null===(t=this.mlContextBySessionId.get(e))||void 0===t||!t.opSupportLimits().input.dataTypes.includes("int64"))}flush(){}}})),qc=pe((()=>{})),Uc=pe((()=>{Bc(),qc(),cn=new Map([[64,250],[128,200],[256,200],[512,200],[2048,230],[4096,200],[8192,50],[16384,50],[32768,50],[65536,50],[131072,50],[262144,50],[524288,50],[1048576,50],[2097152,30],[4194304,20],[8388608,10],[12582912,10],[16777216,10],[26214400,15],[33554432,22],[44236800,2],[58982400,6],[67108864,6],[134217728,6],[167772160,6]]),un=[],dn=e=>16*Math.ceil(Number(e)/16),hn=e=>{for(let t=0;t<un.length;t++){let n=un[t];if(e<=n)return n}return 16*Math.ceil(e/16)},pn=1,fn=()=>pn++,mn=async(e,t,n,a)=>{let r=dn(n),i=e.device.createBuffer({size:r,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});try{let o=e.getCommandEncoder();e.endComputePass(),o.copyBufferToBuffer(t,0,i,0,r),e.flush(),await i.mapAsync(GPUMapMode.READ);let s=i.getMappedRange();if(a){let e=a();return e.set(new Uint8Array(s,0,n)),e}return new Uint8Array(s.slice(0,n))}finally{i.destroy()}},gn=class{constructor(e){this.backend=e,this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.buffersPending=[],this.capturedPendingBuffers=new Map;for(let[t]of cn)un.push(t),this.freeBuffers.set(t,[]),this.freeUniformBuffers.set(t,[]);this.sessionCount=0}upload(e,t){let n=t.buffer,a=t.byteOffset,r=t.byteLength,i=dn(r),o=this.storageCache.get(e);if(!o)throw new Error("gpu data for uploading does not exist");if(Number(o.originalSize)!==r)throw new Error("inconsistent data size. gpu data size=".concat(o.originalSize,", data size=").concat(r));let s=this.backend.device.createBuffer({mappedAtCreation:!0,size:i,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),l=s.getMappedRange();new Uint8Array(l).set(new Uint8Array(n,a,r)),s.unmap();let c=this.backend.device.createCommandEncoder();c.copyBufferToBuffer(s,0,o.gpuData.buffer,0,i),this.backend.device.queue.submit([c.finish()]),s.destroy(),jt("verbose",(()=>"[WebGPU] GpuDataManager.upload(id=".concat(e,")")))}memcpy(e,t){let n=this.storageCache.get(e);if(!n)throw new Error("source gpu data for memcpy does not exist");let a=this.storageCache.get(t);if(!a)throw new Error("destination gpu data for memcpy does not exist");if(n.originalSize!==a.originalSize)throw new Error("inconsistent source and destination gpu data size");let r=dn(n.originalSize),i=this.backend.getCommandEncoder();this.backend.endComputePass(),i.copyBufferToBuffer(n.gpuData.buffer,0,a.gpuData.buffer,0,r)}registerExternalBuffer(e,t,n){let a;if(n){if(a=n[0],e===n[1])return jt("verbose",(()=>"[WebGPU] GpuDataManager.registerExternalBuffer(size=".concat(t,") => id=").concat(a,", buffer is the same, skip."))),a;if(this.backend.capturedCommandList.has(this.backend.currentSessionId))throw new Error("Registering a different external buffer under graph capture mode is not supported yet.\n             Please use the previous external buffer!")}else a=fn();return this.storageCache.set(a,{gpuData:{id:a,type:0,buffer:e},originalSize:t}),jt("verbose",(()=>"[WebGPU] GpuDataManager.registerExternalBuffer(size=".concat(t,") => id=").concat(a,", registered."))),a}unregisterExternalBuffer(e){void 0!==e&&(this.storageCache.delete(e),jt("verbose",(()=>"[WebGPU] GpuDataManager.unregisterExternalBuffer() => id=".concat(e))))}create(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST,a=hn(e),r=(n&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE,i=(n&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM;if(r||i){let e=(r?this.freeBuffers:this.freeUniformBuffers).get(a);t=e&&e.length>0?e.pop():this.backend.device.createBuffer({size:a,usage:n})}else t=this.backend.device.createBuffer({size:a,usage:n});let o={id:fn(),type:0,buffer:t};return this.storageCache.set(o.id,{gpuData:o,originalSize:Number(e)}),jt("verbose",(()=>"[WebGPU] GpuDataManager.create(size=".concat(e,") => id=").concat(o.id))),o}get(e){var t;return null===(t=this.storageCache.get(e))||void 0===t?void 0:t.gpuData}release(e){let t="bigint"==typeof e?Number(e):e,n=this.storageCache.get(t);if(!n){if(0===this.storageCache.size)return 0;throw new Error("releasing data does not exist")}return jt("verbose",(()=>"[WebGPU] GpuDataManager.release(id=".concat(t,"), gpuDataId=").concat(n.gpuData.id))),this.storageCache.delete(t),this.buffersPending.push(n.gpuData.buffer),n.originalSize}async download(e,t){let n=this.storageCache.get(Number(e));if(!n)throw new Error("data does not exist");await mn(this.backend,n.gpuData.buffer,n.originalSize,t)}refreshPendingBuffers(){if(0!==this.buffersPending.length)if("default"===this.backend.sessionStatus){for(let e of this.buffersPending){let t=cn.get(e.size);if((e.usage&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE){let n=this.freeBuffers.get(e.size)||[];void 0===t||n.length>=t?e.destroy():n.push(e)}else if((e.usage&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM){let n=this.freeUniformBuffers.get(e.size)||[];void 0===t||n.length>=t?e.destroy():n.push(e)}else e.destroy()}this.buffersPending=[]}else{let e=this.capturedPendingBuffers.get(this.backend.currentSessionId);e||(e=[],this.capturedPendingBuffers.set(this.backend.currentSessionId,e));for(let t of this.buffersPending)e.push(t);this.buffersPending=[]}}dispose(){this.freeBuffers.forEach((e=>{e.forEach((e=>{e.destroy()}))})),this.freeUniformBuffers.forEach((e=>{e.forEach((e=>{e.destroy()}))})),this.storageCache.forEach((e=>{e.gpuData.buffer.destroy()})),this.capturedPendingBuffers.forEach((e=>{e.forEach((e=>{e.destroy()}))})),this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.capturedPendingBuffers=new Map}onCreateSession(){this.sessionCount+=1}onReleaseSession(e){let t=this.capturedPendingBuffers.get(e);t&&(t.forEach((e=>{e.destroy()})),this.capturedPendingBuffers.delete(e)),this.sessionCount-=1,0===this.sessionCount&&(jt("warning",(()=>"[WebGPU] Clearing webgpu buffer cache")),this.storageCache.forEach((e=>{e.gpuData.buffer.destroy()})),this.storageCache=new Map)}},yn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gn(...t)}})),Gc=pe((()=>{bn=class{constructor(e){Object.assign(this,e)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map((e=>"".concat(this[e]))).join(";")),this.key}},vn=e=>new bn(e)})),Hc=pe((()=>{Nc(),Lc(),wn=64,_n=(e,t)=>{if(3===t)throw new Error("vec3 has same alignment as vec4, use vec4 instead");switch(Number(e)){case 10:return t>1?"vec".concat(t,"<f16>"):"f16";case 1:return t>1?"vec".concat(t,"<f32>"):"f32";case 6:return t>1?"vec".concat(t,"<i32>"):"i32";case 12:return t>1?"vec".concat(t,"<u32>"):"u32";case 7:if(t>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","i32"];case 13:if(t>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","u32"];case 9:if(4!==t)throw new Error("bool must be vec4");return["u32","vec4<bool>"];case 22:return"i32";case 21:return"u32";default:throw new Error("Unknown data type: ".concat(e))}},xn=function(e){let t=_n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1);return"string"==typeof t?t:t[0]},kn=function(e){let t=_n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1);return"string"==typeof t?t:t[1]},Tn=function(){let e=[];for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.forEach((t=>{0!==t.length&&e.push({type:12,data:t},{type:12,data:Ut.computeStrides(t)})})),e},Dn=e=>e%4===0?4:e%2===0?2:1,An=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"f32",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return t&&1!==t?"vec".concat(t,"<").concat(e,">(").concat(n,")"):"".concat(e,"(").concat(n,")")},Cn=(e,t,n)=>"f32"===e?n:1===t?"f32(".concat(n,")"):"vec".concat(t,"<f32>(").concat(n,")"),Sn=(e,t)=>4===t?"(".concat(e,".x + ").concat(e,".y + ").concat(e,".z + ").concat(e,".w)"):2===t?"(".concat(e,".x + ").concat(e,".y)"):3===t?"(".concat(e,".x + ").concat(e,".y + ").concat(e,".z)"):e,En=(e,t,n,a)=>e.startsWith("uniforms.")&&n>4?"string"==typeof t?"f16"===a?"".concat(e,"[(").concat(t,") / 8][(").concat(t,") % 8 / 4][(").concat(t,") % 8 % 4]"):"".concat(e,"[(").concat(t,") / 4][(").concat(t,") % 4]"):"f16"===a?"".concat(e,"[").concat(Math.floor(t/8),"][").concat(Math.floor(t%8/4),"][").concat(t%8%4,"]"):"".concat(e,"[").concat(Math.floor(t/4),"][").concat(t%4,"]"):n>1?"".concat(e,"[").concat(t,"]"):e,Fn=(e,t,n,a,r)=>{let i="number"==typeof n,o=i?n:n.length,s=[...new Array(o).keys()],l=o<2?"u32":o<=4?"vec".concat(o,"<u32>"):"array<u32, ".concat(o,">"),c=_n(t,r),u="string"==typeof c?c:c[1],d="string"==typeof c?c:c[0],h={indices:l,value:u,storage:d,tensor:t},p=e=>"string"==typeof e?e:"".concat(e,"u"),f={offsetToIndices:!1,indicesToOffset:!1,broadcastedIndicesToOffset:!1,set:!1,setByIndices:!1,get:!1,getByIndices:!1},m=i?"uniforms.":"",g="".concat(m).concat(e,"_shape"),y="".concat(m).concat(e,"_strides"),b="";for(let M=0;M<o-1;M++)b+="\n    let dim".concat(M," = current / ").concat(En(y,M,o),";\n    let rest").concat(M," = current % ").concat(En(y,M,o),";\n    indices[").concat(M,"] = dim").concat(M,";\n    current = rest").concat(M,";\n    ");b+="indices[".concat(o-1,"] = current;");let v=o<2?"":"\n  fn o2i_".concat(e,"(offset: u32) -> ").concat(h.indices," {\n    var indices: ").concat(h.indices,";\n    var current = offset;\n    ").concat(b,"\n    return indices;\n  }"),w=[];if(o>=2)for(let M=o-1;M>=0;M--)w.push("".concat(En(y,M,o)," * (indices[").concat(M,"])"));let _=o<2?"":"\n  fn i2o_".concat(e,"(indices: ").concat(h.indices,") -> u32 {\n    return ").concat(w.join("+"),";\n  }"),x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===o?"0u":"".concat(h.indices,"(").concat(t.map(p).join(","),")")},k=(e,t)=>"".concat(o<2?e:En(e,t,o)),T={},D=(t,n)=>(()=>{if(h.storage===h.value)return"".concat(e,"[").concat(t,"]=").concat(n,";");if("vec2<u32>"===h.storage&&"i32"===h.value)return"".concat(e,"[").concat(t,"]=vec2<u32>(u32(").concat(n,"), select(0u, 0xFFFFFFFFu, ").concat(n," < 0));");if("vec2<u32>"===h.storage&&"u32"===h.value)return"".concat(e,"[").concat(t,"]=vec2<u32>(u32(").concat(n,"), 0u);");if("u32"===h.storage&&"vec4<bool>"===h.value)return"".concat(e,"[").concat(t,"]=dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(").concat(n,"));");throw new Error("not supported combination of storage type ".concat(h.storage," and value type ").concat(h.value," yet"))})(),A=t=>(()=>{if(h.storage===h.value)return"".concat(e,"[").concat(t,"]");if("vec2<u32>"===h.storage&&"i32"===h.value)return"i32(".concat(e,"[").concat(t,"].x)");if("vec2<u32>"===h.storage&&"u32"===h.value)return"u32(".concat(e,"[").concat(t,"].x)");if("u32"===h.storage&&"vec4<bool>"===h.value)return"vec4<bool>(bool(".concat(e,"[").concat(t,"] & 0xFFu), bool(").concat(e,"[").concat(t,"] & 0xFF00u), bool(").concat(e,"[").concat(t,"] & 0xFF0000u), bool(").concat(e,"[").concat(t,"] & 0xFF000000u))");throw new Error("not supported combination of storage type ".concat(h.storage," and value type ").concat(h.value," yet"))})(),C=o<2?"":"\n  fn get_".concat(e,"ByIndices(indices: ").concat(h.indices,") -> ").concat(u," {\n    return ").concat(A("i2o_".concat(e,"(indices)")),";\n  }"),S=o<2?"":(()=>{let t=s.map((e=>"d".concat(e,": u32"))).join(", "),n=s.map((e=>"d".concat(e))).join(", ");return"\n  fn get_".concat(e,"(").concat(t,") -> ").concat(u," {\n    return get_").concat(e,"ByIndices(").concat(x(n),");\n  }")})(),E=o<2?"":"\n  fn set_".concat(e,"ByIndices(indices: ").concat(h.indices,", value: ").concat(u,") {\n    ").concat(D("i2o_".concat(e,"(indices)"),"value"),"\n  }"),F=o<2?"":(()=>{let t=s.map((e=>"d".concat(e,": u32"))).join(", "),n=s.map((e=>"d".concat(e))).join(", ");return"\n  fn set_".concat(e,"(").concat(t,", value: ").concat(u,") {\n    set_").concat(e,"ByIndices(").concat(x(n),", value);\n  }")})();return{impl:()=>{let e=[],t=!1;return f.offsetToIndices&&(e.push(v),t=!0),f.indicesToOffset&&(e.push(_),t=!0),f.broadcastedIndicesToOffset&&(Object.values(T).forEach((t=>e.push(t))),t=!0),f.set&&(e.push(F),t=!0),f.setByIndices&&(e.push(E),t=!0),f.get&&(e.push(S),t=!0),f.getByIndices&&(e.push(C),t=!0),!i&&t&&e.unshift("const ".concat(g," = ").concat(h.indices,"(").concat(n.join(","),");"),"const ".concat(y," = ").concat(h.indices,"(").concat(Ut.computeStrides(n).join(","),");")),e.join("\n")},type:h,offsetToIndices:t=>(f.offsetToIndices=!0,o<2?t:"o2i_".concat(e,"(").concat(t,")")),indicesToOffset:t=>(f.indicesToOffset=!0,o<2?t:"i2o_".concat(e,"(").concat(t,")")),broadcastedIndicesToOffset:(t,n)=>{f.broadcastedIndicesToOffset=!0;let a="".concat(n.name,"broadcastedIndicesTo").concat(e,"Offset");if(a in T)return"".concat(a,"(").concat(t,")");let r=[];for(let e=o-1;e>=0;e--){let t=n.indicesGet("outputIndices",e+n.rank-o);r.push("".concat(k(y,e)," * (").concat(t," % ").concat(k(g,e),")"))}return T[a]="fn ".concat(a,"(outputIndices: ").concat(n.type.indices,") -> u32 {\n             return ").concat(r.length>0?r.join("+"):"0u",";\n           }"),"".concat(a,"(").concat(t,")")},indices:x,indicesGet:k,indicesSet:(e,t,n)=>o<2?"".concat(e,"=").concat(n,";"):"".concat(En(e,t,o),"=").concat(n,";"),set:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(n.length!==o+1)throw new Error("indices length must be ".concat(o));let r=n[o];if("string"!=typeof r)throw new Error("value must be string");let i=n.slice(0,o).map(p).join(",");return 0===o?D("0u",r):1===o?D(i[0],r):(f.set=!0,f.setByIndices=!0,f.indicesToOffset=!0,"set_".concat(e,"(").concat(i,", ").concat(r,")"))},setByOffset:D,setByIndices:(t,n)=>o<2?D(t,n):(f.setByIndices=!0,f.indicesToOffset=!0,"set_".concat(e,"ByIndices(").concat(t,", ").concat(n,");")),get:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(n.length!==o)throw new Error("indices length must be ".concat(o));let r=n.map(p).join(",");return 0===o?A("0u"):1===o?A(r[0]):(f.get=!0,f.getByIndices=!0,f.indicesToOffset=!0,"get_".concat(e,"(").concat(r,")"))},getByOffset:A,getByIndices:t=>o<2?A(t):(f.getByIndices=!0,f.indicesToOffset=!0,"get_".concat(e,"ByIndices(").concat(t,")")),usage:a,name:e,strides:y,shape:g,rank:o}},Mn=function(e,t,n){return Fn(e,t,n,"input",arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)},In=function(e,t,n){return Fn(e,t,n,"output",arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)},zn=(e,t,n)=>Fn(e,t,n,"atomicOutput",1),Pn=function(e,t,n){return Fn(e,t,n,"internal",arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)},Nn=class{constructor(e,t){this.normalizedDispatchGroup=e,this.limits=t,this.internalVariables=[],this.variables=[],this.uniforms=[],this.variableIndex=0}guardAgainstOutOfBoundsWorkgroupSizes(e){return"if (global_idx >= ".concat("number"==typeof e?"".concat(e,"u"):e,") { return; }")}mainStart(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t="number"==typeof e?e:e[0],n="number"==typeof e?1:e[1],a="number"==typeof e?1:e[2];if(t>this.limits.maxComputeWorkgroupSizeX||n>this.limits.maxComputeWorkgroupSizeY||a>this.limits.maxComputeWorkgroupSizeZ)throw new Error("workgroup size [".concat(t,", ").concat(n,", ").concat(a,"] exceeds the maximum workgroup size [").concat(this.limits.maxComputeWorkgroupSizeX,", ").concat(this.limits.maxComputeWorkgroupSizeY,", ").concat(this.limits.maxComputeWorkgroupSizeZ,"]."));if(t*n*a>this.limits.maxComputeInvocationsPerWorkgroup)throw new Error("workgroup size [".concat(t,", ").concat(n,", ").concat(a,"] exceeds the maximum workgroup invocations ").concat(this.limits.maxComputeInvocationsPerWorkgroup,"."));let r=1===this.normalizedDispatchGroup[1]&&1===this.normalizedDispatchGroup[2],i=r?"@builtin(global_invocation_id) global_id : vec3<u32>,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>,\n    @builtin(local_invocation_index) local_idx : u32,\n    @builtin(local_invocation_id) local_id : vec3<u32>":"@builtin(global_invocation_id) global_id : vec3<u32>,\n                                             @builtin(local_invocation_id) local_id : vec3<u32>,\n    @builtin(local_invocation_index) local_idx : u32,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>,\n    @builtin(num_workgroups) num_workgroups : vec3<u32>",o=r?"let global_idx = global_id.x;\n         let workgroup_index = workgroup_id.x;":"let workgroup_index = workgroup_id.z * num_workgroups[0] * num_workgroups[1] +\n             workgroup_id.y * num_workgroups[0] + workgroup_id.x;\n         let global_idx = workgroup_index * ".concat(t*n*a,"u + local_idx;");return"@compute @workgroup_size(".concat(t,", ").concat(n,", ").concat(a,")\n  fn main(").concat(i,") {\n    ").concat(o,"\n  ")}appendVariableUniforms(e){0!==e.rank&&(e.shape.startsWith("uniforms.")&&this.uniforms.push({name:e.shape.replace("uniforms.",""),type:"u32",length:e.rank}),e.strides.startsWith("uniforms.")&&this.uniforms.push({name:e.strides.replace("uniforms.",""),type:"u32",length:e.rank}))}declareVariable(e,t){if("internal"===e.usage)throw new Error("cannot use internal variable with declareVariable(). use registerInternalVariables() instead.");this.variables.push(e),this.appendVariableUniforms(e);let n="input"===e.usage?"read":"read_write",a="atomicOutput"===e.usage?"atomic<i32>":e.type.storage;return"@group(0) @binding(".concat(t,") var<storage, ").concat(n,"> ").concat(e.name,": array<").concat(a,">;")}declareVariables(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((e=>this.declareVariable(e,this.variableIndex++))).join("\n")}registerInternalVariable(e){if("internal"!==e.usage)throw new Error("cannot use input or output variable with registerInternalVariable(). use declareVariables() instead.");this.internalVariables.push(e),this.appendVariableUniforms(e)}registerInternalVariables(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>this.registerInternalVariable(e))),this}registerUniform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.uniforms.push({name:e,type:t,length:n}),this}registerUniforms(e){return this.uniforms=this.uniforms.concat(e),this}uniformDeclaration(){if(0===this.uniforms.length)return"";let e=[];for(let{name:t,type:n,length:a}of this.uniforms)if(a&&a>4)"f16"===n?e.push("@align(16) ".concat(t,":array<mat2x4<").concat(n,">, ").concat(Math.ceil(a/8),">")):e.push("".concat(t,":array<vec4<").concat(n,">, ").concat(Math.ceil(a/4),">"));else{let r=null==a||1===a?n:"vec".concat(a,"<").concat(n,">");e.push("".concat(t,":").concat(r))}return"\n      struct Uniforms { ".concat(e.join(", ")," };\n      @group(0) @binding(").concat(this.variableIndex,") var<uniform> uniforms: Uniforms;")}get additionalImplementations(){return this.uniformDeclaration()+this.variables.map((e=>e.impl())).join("\n")+this.internalVariables.map((e=>e.impl())).join("\n")}get variablesInfo(){if(0===this.uniforms.length)return;let e=e=>[12,10,1,6][["u32","f16","f32","i32"].indexOf(e)];return this.uniforms.map((t=>{var n;return[e(t.type),null!==(n=t.length)&&void 0!==n?n:1]}))}},On=(e,t)=>new Nn(e,t)})),Wc=pe((()=>{Nc(),Lc(),Gc(),Hc(),Bn=(e,t)=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if(0!==t.length&&t.length!==e[0].dims.length)throw new Error("perm size ".concat(t.length," does not match input rank ").concat(e[0].dims.length))},Ln=(e,t)=>0!==t.length?t:[...new Array(e).keys()].reverse(),Rn=(e,t)=>Ut.sortBasedOnPerm(e,Ln(e.length,t)),jn=(e,t,n,a)=>{let r="fn perm(i: ".concat(a.type.indices,") -> ").concat(n.type.indices," {\n    var a: ").concat(n.type.indices,";");for(let i=0;i<t;++i)r+="a[".concat(e[i],"]=i[").concat(i,"];");return r+"return a;}"},Vn=(e,t)=>{let n=[],a=[];for(let r=0;r<e.length;++r)1!==e[r]&&n.push(e[r]),1!==e[t[r]]&&a.push(t[r]);return{newShape:n,newPerm:a}},qn=(e,t)=>{let n=0;for(let a=0;a<e.length;++a)if(1!==t[e[a]]){if(e[a]<n)return!1;n=e[a]}return!0},Un=(e,t)=>{let n,a=e.dataType,r=e.dims.length,i=Ln(r,t),o=Rn(e.dims,i),s=e.dims,l=o;if(r<2||qn(i,e.dims))return n=e=>{let t=Mn("input",a,s,4),n=In("output",a,l,4);return"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(t,n),"\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    output[global_idx] = input[global_idx];\n  }")},{name:"TransposeCopy",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let t=Ut.size(o);return{outputs:[{dims:o,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(t/64/4)},programUniforms:[{type:12,data:Math.ceil(t/4)}]}},getShaderSource:n};let{newShape:c,newPerm:u}=Vn(e.dims,i),d=Ut.areEqual(u,[2,3,1]),h=Ut.areEqual(u,[3,1,2]);if(2===c.length||d||h){s=d?[c[0],c[1]*c[2]]:h?[c[0]*c[1],c[2]]:c,l=[s[1],s[0]];let t=16;return n=e=>{let n=Mn("a",a,s.length),r=In("output",a,l.length);return"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(n,r),"\n  var<workgroup> tile : array<array<").concat(r.type.value,", ").concat(t+1,">, ").concat(t,">;\n  ").concat(e.mainStart([t,t,1]),"\n    let stride = (uniforms.output_shape[1] - 1) / ").concat(t," + 1;\n    let workgroup_id_x = workgroup_index % stride;\n    let workgroup_id_y = workgroup_index / stride;\n    let input_col = workgroup_id_y * ").concat(t,"u + local_id.x;\n    let input_row = workgroup_id_x * ").concat(t,"u + local_id.y;\n    if (input_row < uniforms.a_shape[0] && input_col < uniforms.a_shape[1]) {\n      tile[local_id.y][local_id.x] = ").concat(n.getByIndices("".concat(n.type.indices,"(input_row, input_col)")),";\n    }\n    workgroupBarrier();\n\n    let output_col = workgroup_id_x * ").concat(t,"u + local_id.x;\n    let output_row = workgroup_id_y * ").concat(t,"u + local_id.y;\n    if (output_row < uniforms.output_shape[0] && output_col < uniforms.output_shape[1]) {\n      ").concat(r.setByIndices("".concat(r.type.indices,"(output_row, output_col)"),"tile[local_id.x][local_id.y]"),"\n    }\n  }")},{name:"TransposeShared",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let n=Ut.size(o);return{outputs:[{dims:o,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(l[1]/t),y:Math.ceil(l[0]/t)},programUniforms:[{type:12,data:n},...Tn(s,l)]}},getShaderSource:n}}return n=e=>{let t=Mn("a",a,s.length),n=In("output",a,l.length);return"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(t,n),"\n\n  ").concat(jn(i,r,t,n),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n\n    let indices = ").concat(n.offsetToIndices("global_idx"),";\n    let aIndices = perm(indices);\n\n    ").concat(n.setByOffset("global_idx",t.getByIndices("aIndices")),"\n  }")},{name:"Transpose",shaderCache:{hint:"".concat(t),inputDependencies:["rank"]},getRunData:()=>{let t=Ut.size(o);return{outputs:[{dims:o,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(t/64)},programUniforms:[{type:12,data:t},...Tn(s,l)]}},getShaderSource:n}},Gn=(e,t)=>{Bn(e.inputs,t.perm),e.compute(Un(e.inputs[0],t.perm))},Hn=e=>vn({perm:e.perm})})),Kc=pe((()=>{Nc(),Lc(),Hc(),Yc(),Wc(),Wn={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate * candidate",logSumExp:"bestValue + exp(candidate)",l1:"bestValue + abs(candidate)",l2:"bestValue + candidate * candidate",logSum:"bestValue + candidate"},Kn={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate",logSumExp:"bestValue + candidate",l1:"bestValue + candidate",l2:"bestValue + candidate",logSum:"bestValue + candidate"},Yn={max:"_A[offset]",min:"_A[offset]",mean:"0",sum:"0",prod:"1",sumSquare:"0",logSumExp:"0",l1:"0",l2:"0",logSum:"0"},Jn={max:"bestValue",min:"bestValue",sum:"bestValue",prod:"bestValue",sumSquare:"bestValue",logSumExp:"log(bestValue)",l1:"bestValue",l2:"sqrt(bestValue)",logSum:"log(bestValue)"},Zn=(e,t)=>{let n=[];for(let a=t-e;a<t;++a)n.push(a);return n},Xn=(e,t)=>{let n=[],a=e.length;for(let r=0;r<a;r++)-1===t.indexOf(r)&&n.push(e[r]);return[n,t.map((t=>e[t]))]},$n=(e,t)=>{let n=e.length+t.length,a=[],r=0;for(let i=0;i<n;i++)-1===t.indexOf(i)?a.push(e[r++]):a.push(1);return a},Qn=(e,t)=>{for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0},ea=(e,t)=>{let n=[];if(!Qn(e,t)){for(let a=0;a<t;++a)-1===e.indexOf(a)&&n.push(a);e.forEach((e=>n.push(e)))}return n},ta=(e,t,n,a,r,i,o)=>{let s=n[0].dims,l=Ut.size(i),c=Ut.size(o),u=Mn("_A",n[0].dataType,s),d=In("output",r,i),h=64;1===l&&(h=256);let p="\n          var<workgroup> aBestValues : array<f32, ".concat(h,">;\n       ");return{name:e,shaderCache:{hint:"".concat(t,";").concat(h),inputDependencies:["type"]},getShaderSource:e=>"\n        ".concat(e.registerUniform("reduceSize","u32").declareVariables(u,d),"\n        ").concat(p,"\n        fn DIV_CEIL(a : u32, b : u32) -> u32 {\n          return ((a - 1u) / b + 1u);\n         }\n         ").concat(e.mainStart(h),"\n\n          let outputIndex = global_idx / ").concat(h,";\n          let offset = outputIndex * uniforms.reduceSize;\n\n          var bestValue = f32(").concat(Yn[a],");\n          let Length = uniforms.reduceSize;\n          for (var k = local_idx; k < Length; k = k + ").concat(h,") {\n           let candidate = f32(").concat(u.getByOffset("offset + k"),");\n           bestValue = ").concat(Wn[a],";\n          }\n          aBestValues[local_idx] = bestValue;\n          workgroupBarrier();\n\n         var reduceSize = min(Length, ").concat(h,"u);\n         for (var currentSize = reduceSize / 2u; reduceSize > 1u;\n             currentSize = reduceSize / 2u) {\n           let interval = DIV_CEIL(reduceSize, 2u);\n           if (local_idx < currentSize) {\n            let candidate = aBestValues[local_idx + interval];\n            bestValue = ").concat(Kn[a],";\n            aBestValues[local_idx] = bestValue;\n           }\n           reduceSize = interval;\n           workgroupBarrier();\n         }\n\n         if (local_idx == 0u) {\n          ").concat(d.setByOffset("outputIndex","".concat("mean"===a?"".concat(d.type.storage,"(bestValue / f32(uniforms.reduceSize))"):"".concat(d.type.storage,"(").concat(Jn[a],")"))),";\n         }\n        }"),getRunData:()=>({outputs:[{dims:i,dataType:r}],dispatchGroup:{x:l},programUniforms:[{type:12,data:c}]})}},na=(e,t,n,a)=>{let r=1===e.inputs.length?n:ga(e.inputs,n),i=r.axes;0===i.length&&!r.noopWithEmptyAxes&&(i=e.inputs[0].dims.map(((e,t)=>t)));let o=Ut.normalizeAxes(i,e.inputs[0].dims.length),s=o,l=e.inputs[0],c=ea(s,e.inputs[0].dims.length);c.length>0&&(l=e.compute(Un(e.inputs[0],c),{inputs:[0],outputs:[-1]})[0],s=Zn(s.length,l.dims.length));let[u,d]=Xn(l.dims,s),h=u;r.keepDims&&(h=$n(u,o)),e.compute(ta(t,r.cacheKey,[l],a,e.inputs[0].dataType,h,d),{inputs:[l]})},aa=(e,t)=>{na(e,"ReduceMeanShared",t,"mean")},ra=(e,t)=>{na(e,"ReduceL1Shared",t,"l1")},ia=(e,t)=>{na(e,"ReduceL2Shared",t,"l2")},oa=(e,t)=>{na(e,"ReduceLogSumExpShared",t,"logSumExp")},sa=(e,t)=>{na(e,"ReduceMaxShared",t,"max")},la=(e,t)=>{na(e,"ReduceMinShared",t,"min")},ca=(e,t)=>{na(e,"ReduceProdShared",t,"prod")},ua=(e,t)=>{na(e,"ReduceSumShared",t,"sum")},da=(e,t)=>{na(e,"ReduceSumSquareShared",t,"sumSquare")},ha=(e,t)=>{na(e,"ReduceLogSumShared",t,"logSum")}})),Yc=pe((()=>{Nc(),Lc(),Gc(),Hc(),Kc(),pa=e=>{if(!e||0===e.length||e.length>2)throw new Error("Reduce op requires 1 or 2 inputs.");if(2===e.length&&1!==e[1].dims.length)throw new Error("Invalid axes input dims.")},fa=e=>["","","var value = ".concat(e.getByIndices("input_indices"),";"),""],ma=function(e,t,n,a,r,i){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=[],c=n[0].dims,u=c.length,d=Ut.normalizeAxes(r,u),h=!s&&0===d.length;c.forEach(((e,t)=>{h||d.indexOf(t)>=0?o&&l.push(1):l.push(e)}));let p=l.length,f=Ut.size(l);return{name:e,shaderCache:t,getShaderSource:e=>{let t=[],r=Mn("_A",n[0].dataType,u),s=In("output",i,p),l=a(r,s,d),f=l[2];for(let n=0,a=0;n<u;n++)h||d.indexOf(n)>=0?(o&&a++,f="for(var j".concat(n,": u32 = 0; j").concat(n," < ").concat(c[n],"; j").concat(n,"++) {\n                  ").concat(l[2].includes("last_index")?"let last_index = j".concat(n,";"):"","\n                  ").concat(r.indicesSet("input_indices",n,"j".concat(n)),"\n                  ").concat(f,"\n                }")):(t.push("".concat(r.indicesSet("input_indices",n,s.indicesGet("output_indices",a)),";")),a++);return"\n\n        ".concat(e.registerUniform("output_size","u32").declareVariables(r,s),"\n\n        ").concat(e.mainStart(),"\n          ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n          var input_indices: ").concat(r.type.indices,";\n          let output_indices = ").concat(s.offsetToIndices("global_idx"),";\n\n          ").concat(t.join("\n"),"\n          ").concat(l[0],"       // init ops for reduce max/min\n          ").concat(l[1],"\n          ").concat(f,"\n          ").concat(l[3],"\n          ").concat(4===l.length?s.setByOffset("global_idx","value"):l.slice(4).join("\n"),"\n        }")},getRunData:()=>({outputs:[{dims:l,dataType:i}],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:[{type:12,data:f},...Tn(c,l)]})}},ga=(e,t)=>{let n=[];return e[1].dims[0]>0&&e[1].getBigInt64Array().forEach((e=>n.push(Number(e)))),vn({axes:n,keepDims:t.keepDims,noopWithEmptyAxes:t.noopWithEmptyAxes})},ya=(e,t,n,a)=>{let r=e.inputs,i=1===r.length?n:ga(r,n);e.compute(ma(t,{hint:i.cacheKey,inputDependencies:["rank"]},[r[0]],i.noopWithEmptyAxes&&0===i.axes.length?fa:a,i.axes,r[0].dataType,i.keepDims,i.noopWithEmptyAxes),{inputs:[0]})},ba=(e,t)=>{pa(e.inputs),ya(e,"ReduceLogSum",t,((e,t)=>["var value = ".concat(t.type.storage,"(0);"),"","value += ".concat(e.getByIndices("input_indices"),";"),"value = log(value);"]))},va=(e,t)=>{pa(e.inputs),ya(e,"ReduceL1",t,((e,t)=>["var value = ".concat(t.type.storage,"(0);"),"","value += abs(".concat(e.getByIndices("input_indices"),");"),""]))},wa=(e,t)=>{pa(e.inputs),ya(e,"ReduceL2",t,((e,t)=>["var t = ".concat(t.type.value,"(0); var value = ").concat(t.type.value,"(0);"),"","t = ".concat(e.getByIndices("input_indices"),"; value += (t * t);"),"value = sqrt(value);"]))},_a=(e,t)=>{pa(e.inputs),ya(e,"ReduceLogSumExp",t,((e,t)=>["var value = ".concat(t.type.storage,"(0);"),"","value += exp(".concat(e.getByIndices("input_indices"),");"),"value = log(value);"]))},xa=(e,t)=>{pa(e.inputs),ya(e,"ReduceMax",t,((e,t,n)=>{let a=[];for(let r=0;r<e.rank;r++)(n.indexOf(r)>=0||0===n.length)&&a.push(e.indicesSet("input_indices",r,0));return["".concat(a.join("\n")),"var value = ".concat(e.getByIndices("input_indices"),";"),"value = max(value, ".concat(e.getByIndices("input_indices"),");"),""]}))},ka=(e,t)=>{pa(e.inputs),ya(e,"ReduceMean",t,((t,n,a)=>{let r=1;for(let i=0;i<t.rank;i++)(a.indexOf(i)>=0||0===a.length)&&(r*=e.inputs[0].dims[i]);return["var sum = f32(0);","","sum += f32(".concat(t.getByIndices("input_indices"),");"),"let value = ".concat(n.type.value,"(sum / ").concat(r,");")]}))},Ta=(e,t)=>{pa(e.inputs),ya(e,"ReduceMin",t,((e,t,n)=>{let a=[];for(let r=0;r<e.rank;r++)(n.indexOf(r)>=0||0===n.length)&&a.push("input_indices[".concat(r,"] = 0;"));return["".concat(a.join("\n")),"var value = ".concat(e.getByIndices("input_indices"),";"),"value = min(value, ".concat(e.getByIndices("input_indices"),");"),""]}))},Da=(e,t)=>{pa(e.inputs),ya(e,"ReduceProd",t,((e,t)=>["var value = ".concat(t.type.storage,"(1);"),"","value *= ".concat(e.getByIndices("input_indices"),";"),""]))},Aa=(e,t)=>{pa(e.inputs),ya(e,"ReduceSum",t,((e,t)=>["var value = ".concat(t.type.storage,"(0);"),"","value += ".concat(e.getByIndices("input_indices"),";"),""]))},Ca=(e,t)=>{pa(e.inputs),ya(e,"ReduceSumSquare",t,((e,t)=>["var t = ".concat(t.type.value,"(0); var value = ").concat(t.type.value,"(0);"),"","t = ".concat(e.getByIndices("input_indices"),"; value += t * t;"),""]))},Sa=(e,t,n)=>{if(0===t.length)return n;let a=1,r=1;for(let i=0;i<t.length;i++)-1===t.indexOf(i)?a*=e[i]:r*=e[i];return r<32&&a>1024},Ea=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?ka(e,t):aa(e,t)},Fa=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?va(e,t):ra(e,t)},Ma=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?wa(e,t):ia(e,t)},Ia=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?_a(e,t):oa(e,t)},za=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?xa(e,t):sa(e,t)},Pa=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Ta(e,t):la(e,t)},Na=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Da(e,t):ca(e,t)},Oa=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Aa(e,t):ua(e,t)},Ba=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Ca(e,t):da(e,t)},La=(e,t)=>{Sa(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?ba(e,t):ha(e,t)}})),Jc=pe((()=>{Nc(),Gc(),Yc(),Ra=e=>{if(!e||0===e.length||e.length>2)throw new Error("ArgMinMaxOp op requires 1 or 2 inputs.");if(1!==e[0].dataType)throw new Error("Invalid input type.")},ja=(e,t)=>{Ra(e.inputs);e.compute(ma("ArgMin",{hint:t.cacheKey,inputDependencies:["rank"]},[e.inputs[0]],((e,n,a)=>{let r=[];for(let t=0;t<e.rank;t++)(a.indexOf(t)>=0||0===a.length)&&r.push("input_indices[".concat(t,"] = 0;"));return["".concat(r.join("\n")),"var value = ".concat(e.getByIndices("input_indices"),";\nvar best_index : i32 = 0;"),"if (".concat(e.getByIndices("input_indices")," ").concat(t.selectLastIndex>0?"<=":"<"," value) {\n         value = ").concat(e.getByIndices("input_indices"),";\n         best_index = i32(last_index);\n       }"),"",n.setByOffset("global_idx","best_index")]}),[t.axis],7,t.keepDims),{inputs:[0]})},Va=(e,t)=>{Ra(e.inputs);e.compute(ma("argMax",{hint:t.cacheKey,inputDependencies:["rank"]},[e.inputs[0]],((e,n,a)=>{let r=[];for(let t=0;t<e.rank;t++)(a.indexOf(t)>=0||0===a.length)&&r.push("input_indices[".concat(t,"] = 0;"));return["".concat(r.join("\n")),"var value = ".concat(e.getByIndices("input_indices"),";\nvar best_index : i32 = 0;"),"if (".concat(e.getByIndices("input_indices")," ").concat(t.selectLastIndex>0?">=":">"," value) {\n         value = ").concat(e.getByIndices("input_indices"),";\n         best_index = i32(last_index);\n       }"),"",n.setByOffset("global_idx","best_index")]}),[t.axis],7,t.keepDims),{inputs:[0]})},qa=e=>vn(e)})),Zc=pe((()=>{Nc(),Lc(),qc(),Hc(),Ua=(e,t)=>{let n=e[0],a=e[1],r=e[2],i=e[3],o=e[4],s=e[5];if(o&&s)throw new Error("Attention cannot have both past and attention_bias");if(3!==n.dims.length)throw new Error('Input "input" must have 3 dimensions');let l=n.dims[0],c=n.dims[1],u=n.dims[2];if(1!==r.dims.length)throw new Error('Input "bias" is expected to have 1 dimensions');if(2!==a.dims.length)throw new Error('Input "weights" is expected to have 2 dimensions');if(a.dims[0]!==u)throw new Error("Input 1 dimension 0 should have same length as dimension 2 of input 0");if(r.dims[0]!==a.dims[1])throw new Error('Input "bias" dimension 0 should have same length as dimension 1 of input "weights"');let d=r.dims[0]/3,h=d,p=h;if(t.qkvHiddenSizes.length>0){if(3!==t.qkvHiddenSizes.length)throw new Error("qkv_hidden_sizes attribute should have 3 elements");for(let e of t.qkvHiddenSizes)if(e%t.numHeads!==0)throw new Error("qkv_hidden_sizes should be divisible by num_heads");d=t.qkvHiddenSizes[0],h=t.qkvHiddenSizes[1],p=t.qkvHiddenSizes[2]}let f=c;if(d!==h)throw new Error("qkv_hidden_sizes first element should be same as the second");if(r.dims[0]!==d+h+p)throw new Error('Input "bias" dimension 0 should have same length as sum of Q/K/V hidden sizes');let m=0;if(o){if(h!==p)throw new Error('Input "past" expect k_hidden_size == v_hidden_size');if(5!==o.dims.length)throw new Error('Input "past" must have 5 dimensions');if(2!==o.dims[0])throw new Error('Input "past" first dimension must be 2');if(o.dims[1]!==l)throw new Error('Input "past" second dimension must be batch_size');if(o.dims[2]!==t.numHeads)throw new Error('Input "past" third dimension must be num_heads');if(o.dims[4]!==h/t.numHeads)throw new Error('Input "past" fifth dimension must be k_hidden_size / num_heads');t.pastPresentShareBuffer||(m=o.dims[3])}let g=f+m;if(i)throw new Error("Mask not supported");if(o)throw new Error("past is not supported");if(s){if(4!==s.dims.length)throw new Error('Input "attention_bias" must have 4 dimensions');if(s.dims[0]!==l||s.dims[1]!==t.numHeads||s.dims[2]!==c||s.dims[3]!==g)throw new Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:l,sequenceLength:c,pastSequenceLength:m,kvSequenceLength:f,totalSequenceLength:g,maxSequenceLength:-1,inputHiddenSize:u,hiddenSize:d,vHiddenSize:p,headSize:Math.floor(d/t.numHeads),vHeadSize:Math.floor(p/t.numHeads),numHeads:t.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:t.maskFilterValue,maskType:0,scale:t.scale,broadcastResPosBias:!1,passPastInKv:!1,qkvFormat:1}},Ga=(e,t,n)=>t&&e?"\n      let total_sequence_length_input = u32(".concat(t.getByOffset("0"),");\n      let present_sequence_length = max(total_sequence_length_input, uniforms.past_sequence_length);\n      let is_subsequent_prompt: bool = sequence_length > 1 && sequence_length != total_sequence_length_input;\n      let is_first_prompt: bool = is_subsequent_prompt == false && sequence_length == total_sequence_length_input;\n      total_sequence_length = u32(").concat(null===e||void 0===e?void 0:e.getByOffset("batchIdx"),") + 1;\n      var past_sequence_length: u32 = 0;\n      if (is_first_prompt == false) {\n        past_sequence_length = total_sequence_length - sequence_length;\n      }\n       "):"\n    ".concat(n?"let past_sequence_length = uniforms.past_sequence_length":"",";\n    let present_sequence_length = total_sequence_length;\n    "),Ha=(e,t,n,a,r,i,o,s)=>{let l=Dn(o?1:i),c=64,u=i/l;u<c&&(c=32);let d=Math.ceil(i/l/c),h=[{type:12,data:t},{type:12,data:n},{type:12,data:a},{type:12,data:r},{type:12,data:u},{type:12,data:d}],p=xn(e.dataType,l),f=kn(1,l),m=["type"];o&&m.push("type"),s&&m.push("type");return{name:"AttentionProbsSoftmax",shaderCache:{hint:"".concat(c,";").concat(p,";").concat(l),inputDependencies:m},getShaderSource:t=>{let n=In("x",e.dataType,e.dims,l),a=[n],r=o?Mn("seq_lens",o.dataType,o.dims):void 0;r&&a.push(r);let i=s?Mn("total_sequence_length_input",s.dataType,s.dims):void 0;i&&a.push(i);let u=kn(e.dataType);return"\n  var<workgroup> thread_max: array<f32, ".concat(c,">;\n  var<workgroup> thread_sum: array<f32, ").concat(c,">;\n  ").concat(t.registerUniforms([{name:"batch_size",type:"u32"},{name:"num_heads",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"sequence_length",type:"u32"},{name:"total_sequence_length",type:"u32"},{name:"elements_per_thread",type:"u32"}]).declareVariables(...a),"\n  ").concat(t.mainStart([c,1,1]),"\n    let batchIdx = workgroup_id.z / uniforms.num_heads;\n    let headIdx = workgroup_id.z % uniforms.num_heads;\n    let sequence_length = uniforms.sequence_length;\n    var total_sequence_length = uniforms.total_sequence_length;\n    ").concat(Ga(r,i,!1),"\n    let local_offset = local_idx * uniforms.elements_per_thread;\n    let offset = (global_idx / ").concat(c,") * uniforms.total_sequence_length + local_offset;\n    let seq_causal_length = ").concat(o?"u32(past_sequence_length + workgroup_id.y + 1)":"total_sequence_length",";\n    var thread_max_vector = ").concat(f,"(-3.402823e+38f);\n    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {\n      thread_max_vector = max(").concat(f,"(x[offset + i]), thread_max_vector);\n    }\n    thread_max[local_idx] = ").concat((()=>{switch(l){case 1:return"thread_max_vector";case 2:return"max(thread_max_vector.x, thread_max_vector.y)";case 4:return"max(max(thread_max_vector.x, thread_max_vector.y), max(thread_max_vector.z, thread_max_vector.w))";default:throw new Error("Unsupported components: ".concat(l))}})(),";\n    workgroupBarrier();\n\n    var max_value =  f32(-3.402823e+38f);\n    for (var i = 0u; i < ").concat(c,"; i++) {\n      max_value = max(thread_max[i], max_value);\n    }\n\n    var sum_vector = ").concat(f,"(0);\n    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {\n      sum_vector += exp(").concat(f,"(x[offset + i]) - max_value);\n    }\n    thread_sum[local_idx] = ").concat((()=>{switch(l){case 1:return"sum_vector";case 2:return"sum_vector.x + sum_vector.y";case 4:return"sum_vector.x + sum_vector.y + sum_vector.z + sum_vector.w";default:throw new Error("Unsupported components: ".concat(l))}})(),";\n    workgroupBarrier();\n\n    var sum: f32 = 0;\n    for (var i = 0u; i < ").concat(c,"; i++) {\n      sum += thread_sum[i];\n    }\n\n    if (sum == 0) {\n      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {\n        x[offset + i] = ").concat(n.type.value,"(").concat(u,"(1.0) / ").concat(u,"(seq_causal_length));\n      }\n    } else {\n      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {\n        var f32input = ").concat(f,"(x[offset + i]);\n        x[offset + i] = ").concat(n.type.value,"(exp(f32input - max_value) / sum);\n      }\n    }\n      ").concat(o?"\n        for (var total_seq_id: u32 = seq_causal_length; total_seq_id + local_offset < uniforms.total_sequence_length; total_seq_id++) {\n          x[offset + total_seq_id] = ".concat(n.type.value,"(").concat(u,"(0));\n        }"):"",";\n  }")},getRunData:()=>({outputs:[],dispatchGroup:{x:1,y:r,z:t*n},programUniforms:h})}},Wa=(e,t,n,a,r,i,o,s,l)=>{let c=o+i.kvSequenceLength,u=[i.batchSize,i.numHeads,i.sequenceLength,c],d=e>1&&a,h=i.kvNumHeads?i.kvNumHeads:i.numHeads,p=d?[i.batchSize,h,c,i.headSize]:void 0,f=i.nReps?i.nReps:1,m=0===i.scale?1/Math.sqrt(i.headSize):i.scale,g=Dn(i.headSize),y=i.headSize/g,b=12,v={x:Math.ceil(c/b),y:Math.ceil(i.sequenceLength/b),z:i.batchSize*i.numHeads},w=[{type:12,data:i.sequenceLength},{type:12,data:y},{type:12,data:c},{type:12,data:i.numHeads},{type:12,data:i.headSize},{type:1,data:m},{type:12,data:o},{type:12,data:i.kvSequenceLength},{type:12,data:f}],_=d&&a&&Ut.size(a.dims)>0,x=["type","type"];_&&x.push("type"),r&&x.push("type"),s&&x.push("type"),l&&x.push("type");let k=[{dims:u,dataType:t.dataType,gpuDataType:0}];d&&k.push({dims:p,dataType:t.dataType,gpuDataType:0});return{name:"AttentionProbs",shaderCache:{hint:"".concat(g,";").concat(void 0!==r,";").concat(void 0!==a,";").concat(e),inputDependencies:x},getRunData:()=>({outputs:k,dispatchGroup:v,programUniforms:w}),getShaderSource:e=>{let i=Mn("q",t.dataType,t.dims,g),o=[i,Mn("key",n.dataType,n.dims,g)];if(_){let e=Mn("past_key",a.dataType,a.dims,g);o.push(e)}r&&o.push(Mn("attention_bias",r.dataType,r.dims));let c=s?Mn("seq_lens",s.dataType,s.dims):void 0;c&&o.push(c);let h=l?Mn("total_sequence_length_input",l.dataType,l.dims):void 0;h&&o.push(h);let m=In("output",t.dataType,u),y=[m];d&&y.push(In("present_key",t.dataType,p,g));let v=kn(1,g);return"\n  const TILE_SIZE = ".concat(b,"u;\n\n  var<workgroup> tileQ: array<").concat(i.type.storage,", ").concat(144,">;\n  var<workgroup> tileK: array<").concat(i.type.storage,", ").concat(144,">;\n  ").concat(e.registerUniforms([{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"alpha",type:"f32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}]).declareVariables(...o,...y),"\n  ").concat(e.mainStart([b,b,1]),"\n    // x holds the N and y holds the M\n    let headIdx = workgroup_id.z % uniforms.num_heads;\n    let kvHeadIdx = ").concat(1===f?"headIdx":"headIdx / uniforms.n_reps",";\n    let kv_num_heads = ").concat(1===f?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps",";\n    let batchIdx = workgroup_id.z / uniforms.num_heads;\n    let m = workgroup_id.y * TILE_SIZE;\n    let n = workgroup_id.x * TILE_SIZE;\n    let sequence_length = uniforms.M;\n    var total_sequence_length = uniforms.N;\n    ").concat(Ga(c,h,!0),"\n    let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx;\n    let qOffset = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;\n    ").concat(_&&d?"let pastKeyOffset = absKvHeadIdx * uniforms.past_sequence_length * uniforms.K;":"",";\n    let kOffset = absKvHeadIdx * uniforms.kv_sequence_length * uniforms.K;\n    ").concat(d?"let presentKeyOffset = absKvHeadIdx * uniforms.N * uniforms.K;":"","\n    var value = ").concat(v,"(0);\n    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n      if (global_id.y < uniforms.M && w + local_id.x < uniforms.K) {\n        tileQ[TILE_SIZE * local_id.y + local_id.x] = q[qOffset + local_id.y * uniforms.K + w + local_id.x];\n      }\n      if (n + local_id.y < uniforms.N && w + local_id.x < uniforms.K) {\n        var idx = TILE_SIZE * local_id.y + local_id.x;\n      ").concat(_&&d?"\n              if (n + local_id.y < past_sequence_length) {\n                tileK[idx] = past_key[pastKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x];\n              } else if (n + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {\n                tileK[idx] = key[kOffset + (n + local_id.y - past_sequence_length) * uniforms.K + w + local_id.x];\n              }":"\n          if (n + local_id.y < uniforms.kv_sequence_length) {\n            tileK[idx] = key[kOffset + (n + local_id.y) * uniforms.K + w + local_id.x];\n          }","\n      ").concat(d?"if (n + local_id.y < present_sequence_length) {\n        present_key[presentKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x] = tileK[idx];\n      }":"","\n      }\n      workgroupBarrier();\n\n      for (var k: u32 = 0u; k < TILE_SIZE && w+k < uniforms.K; k++) {\n          value += ").concat(v,"(tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * local_id.x + k]);\n      }\n\n      workgroupBarrier();\n    }\n\n    if (global_id.y < uniforms.M && global_id.x < total_sequence_length) {\n      let headOffset = workgroup_id.z * uniforms.M * uniforms.N;\n      let outputIdx = headOffset + global_id.y * uniforms.N + global_id.x;\n      var sum: f32 = ").concat((()=>{switch(g){case 1:return"value";case 2:return"value.x + value.y";case 4:return"value.x + value.y + value.z + value.w";default:throw new Error("Unsupported components: ".concat(g))}})(),";\n        output[outputIdx] = ").concat(m.type.value," (sum * uniforms.alpha) + ").concat(r?"attention_bias[outputIdx]":"0.0",";\n    }\n  }")}}},Ka=function(e,t,n,a,r,i){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=i+r.kvSequenceLength,c=r.nReps?r.nReps:1,u=r.vHiddenSize*c,d=e>1&&a,h=r.kvNumHeads?r.kvNumHeads:r.numHeads,p=d?[r.batchSize,h,l,r.headSize]:void 0,f=[r.batchSize,r.sequenceLength,u],m=12,g={x:Math.ceil(r.vHeadSize/m),y:Math.ceil(r.sequenceLength/m),z:r.batchSize*r.numHeads},y=[{type:12,data:r.sequenceLength},{type:12,data:l},{type:12,data:r.vHeadSize},{type:12,data:r.numHeads},{type:12,data:r.headSize},{type:12,data:u},{type:12,data:i},{type:12,data:r.kvSequenceLength},{type:12,data:c}],b=d&&a&&Ut.size(a.dims)>0,v=["type","type"];b&&v.push("type"),o&&v.push("type"),s&&v.push("type");let w=[{dims:f,dataType:t.dataType,gpuDataType:0}];d&&w.push({dims:p,dataType:t.dataType,gpuDataType:0});return{name:"AttentionScore",shaderCache:{hint:"".concat(void 0!==a,";").concat(e),inputDependencies:v},getRunData:()=>({outputs:w,dispatchGroup:g,programUniforms:y}),getShaderSource:e=>{let r=Mn("probs",t.dataType,t.dims),i=[r,Mn("v",n.dataType,n.dims)];b&&i.push(Mn("past_value",a.dataType,a.dims));let l=o?Mn("seq_lens",o.dataType,o.dims):void 0;o&&i.push(l);let u=s?Mn("total_sequence_length_input",s.dataType,s.dims):void 0;s&&i.push(u);let h=[In("output",t.dataType,f)];d&&h.push(In("present_value",t.dataType,p));return"\n  const TILE_SIZE = ".concat(m,"u;\n  var<workgroup> tileQ: array<").concat(r.type.value,", ").concat(144,">;\n  var<workgroup> tileV: array<").concat(r.type.value,", ").concat(144,">;\n  ").concat(e.registerUniforms([{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"v_hidden_size",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}]).declareVariables(...i,...h),"\n  ").concat(e.mainStart([m,m,1]),"\n   let headIdx = workgroup_id.z % uniforms.num_heads;\n   let batchIdx = workgroup_id.z / uniforms.num_heads;\n   let kvHeadIdx = ").concat(1===c?"headIdx":"headIdx / uniforms.n_reps",";\n   let kv_num_heads = ").concat(1===c?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps",";\n   let m = global_id.y;\n   let n = global_id.x;\n   let sequence_length = uniforms.M;\n   var total_sequence_length = uniforms.K;\n   ").concat(Ga(l,u,!0),"\n   let offsetA = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;\n   let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx; // kvHeadIdx is relative to the batch\n   ").concat(b&&d?"let pastValueOffset = absKvHeadIdx * uniforms.N * uniforms.past_sequence_length + n;":"",";\n   let vOffset = absKvHeadIdx * uniforms.N * uniforms.kv_sequence_length + n;\n   ").concat(d?"let presentValueOffset = absKvHeadIdx * uniforms.N * uniforms.K + n;":"","\n   var value = ").concat(r.type.storage,"(0);\n   for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n      if (m < uniforms.M && w + local_id.x < uniforms.K) {\n        tileQ[TILE_SIZE * local_id.y + local_id.x] = probs[offsetA + w + local_id.x];\n      }\n      if (n < uniforms.N && w + local_id.y < uniforms.K) {\n        var idx = TILE_SIZE * local_id.y + local_id.x;\n        ").concat(b&&d?"\n        if (w + local_id.y < past_sequence_length) {\n          tileV[idx] = past_value[pastValueOffset + (w + local_id.y) * uniforms.N];\n        } else if (w + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {\n          tileV[idx] = v[vOffset + (w + local_id.y - past_sequence_length) * uniforms.N];\n        }\n      ":"\n            if (w + local_id.y < uniforms.kv_sequence_length) {\n              tileV[idx] = v[vOffset + (w + local_id.y) * uniforms.N];\n            }","\n        ").concat(d?"\n            if (w + local_id.y < present_sequence_length) {\n          present_value[presentValueOffset + (w + local_id.y) * uniforms.N] = tileV[idx];\n        }":"","\n      }\n     workgroupBarrier();\n     for (var k: u32 = 0u; k < TILE_SIZE && w+k < total_sequence_length; k++) {\n       value += tileQ[TILE_SIZE * local_id.y + k] * tileV[TILE_SIZE * k + local_id.x];\n     }\n     workgroupBarrier();\n   }\n\n   // we need to transpose output from BNSH_v to BSND_v\n   if (m < uniforms.M && n < uniforms.N) {\n     let outputIdx = batchIdx * uniforms.M * uniforms.v_hidden_size + m * uniforms.v_hidden_size\n       + headIdx * uniforms.N + n;\n     output[outputIdx] = value;\n   }\n  }")}}},Ya=function(e,t,n,a,r,i,o,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:void 0,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:void 0,h=Math.min(e.outputCount,1+(o?1:0)+(s?1:0)),p=h>1?c.pastSequenceLength:0,f=p+c.kvSequenceLength,m=l&&Ut.size(l.dims)>0?l:void 0,g=[t,n];h>1&&o&&Ut.size(o.dims)>0&&g.push(o),m&&g.push(m),u&&g.push(u),d&&g.push(d);let y=e.compute(Wa(h,t,n,o,m,c,p,u,d),{inputs:g,outputs:h>1?[-1,1]:[-1]})[0];e.compute(Ha(y,c.batchSize,c.numHeads,p,c.sequenceLength,f,u,d),{inputs:u&&d?[y,u,d]:[y],outputs:[]});let b=[y,a];h>1&&s&&Ut.size(s.dims)>0&&b.push(s),u&&b.push(u),d&&b.push(d),e.compute(Ka(h,y,a,s,c,p,u,d),{inputs:b,outputs:h>1?[0,2]:[0]})},Ja=(e,t)=>{let n=[t.batchSize,t.numHeads,t.sequenceLength,t.headSize],a=t.sequenceLength,r=t.inputHiddenSize,i=t.headSize,o=12,s={x:Math.ceil(t.headSize/o),y:Math.ceil(t.sequenceLength/o),z:t.batchSize*t.numHeads},l=[e.inputs[0],e.inputs[1],e.inputs[2]],c=[{type:12,data:a},{type:12,data:r},{type:12,data:i},{type:12,data:t.numHeads},{type:12,data:t.headSize},{type:12,data:t.hiddenSize},{type:12,data:t.hiddenSize+t.hiddenSize+t.vHiddenSize}];return e.compute({name:"AttentionPrepare",shaderCache:{inputDependencies:["type","type","type"]},getRunData:()=>({outputs:[{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0},{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0},{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0}],dispatchGroup:s,programUniforms:c}),getShaderSource:e=>{let t=In("output_q",l[0].dataType,n),a=In("output_k",l[0].dataType,n),r=In("output_v",l[0].dataType,n),i=Mn("input",l[0].dataType,l[0].dims),s=Mn("weight",l[1].dataType,l[1].dims),c=Mn("bias",l[2].dataType,l[2].dims),u=i.type.storage;return"\n  const TILE_SIZE = ".concat(o,"u;\n  var<workgroup> tileInput: array<").concat(u,", ").concat(144,">;\n  var<workgroup> tileWeightQ: array<").concat(u,", ").concat(144,">;\n  var<workgroup> tileWeightK: array<").concat(u,", ").concat(144,">;\n  var<workgroup> tileWeightV: array<").concat(u,", ").concat(144,">;\n  ").concat(e.registerUniforms([{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"hidden_size",type:"u32"},{name:"ldb",type:"u32"}]).declareVariables(i,s,c,t,a,r),"\n  ").concat(e.mainStart([o,o,1]),"\n    let batchIndex = workgroup_id.z / uniforms.num_heads;\n    let headNumber = workgroup_id.z % uniforms.num_heads;\n    let m = global_id.y;\n    let n = global_id.x;\n\n    let inputOffset = batchIndex * (uniforms.M * uniforms.K) + m * uniforms.K;\n    let biasOffsetQ = headNumber * uniforms.head_size;\n    let biasOffsetK = uniforms.hidden_size + biasOffsetQ;\n    let biasOffsetV = uniforms.hidden_size + biasOffsetK;\n\n    var valueQ = ").concat(u,"(0);\n    var valueK = ").concat(u,"(0);\n    var valueV = ").concat(u,"(0);\n    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n      if (m < uniforms.M && w + local_id.x < uniforms.K) {\n        tileInput[TILE_SIZE * local_id.y + local_id.x] = input[inputOffset + w + local_id.x];\n      }\n      if (n < uniforms.N && w + local_id.y < uniforms.K) {\n        let offset = n + (w + local_id.y) * uniforms.ldb;\n        tileWeightQ[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetQ + offset];\n        tileWeightK[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetK + offset];\n        tileWeightV[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetV + offset];\n      }\n      workgroupBarrier();\n      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {\n        let inputTileOffset = TILE_SIZE * local_id.y + k;\n        let weightTileOffset = TILE_SIZE * k + local_id.x;\n        valueQ += tileInput[inputTileOffset] * tileWeightQ[weightTileOffset];\n        valueK += tileInput[inputTileOffset] * tileWeightK[weightTileOffset];\n        valueV += tileInput[inputTileOffset] * tileWeightV[weightTileOffset];\n      }\n\n      workgroupBarrier();\n    }\n\n    let headOffset = (m * uniforms.N + n) % uniforms.head_size;\n    valueQ += bias[headOffset + biasOffsetQ];\n    valueK += bias[headOffset + biasOffsetK];\n    valueV += bias[headOffset + biasOffsetV];\n\n    let offset = workgroup_id.z * uniforms.M * uniforms.N;\n    if (m < uniforms.M && n < uniforms.N) {\n      let outputIdx = offset + m * uniforms.N + n;\n      output_q[outputIdx] = valueQ;\n      output_k[outputIdx] = valueK;\n      output_v[outputIdx] = valueV;\n    }\n  }")}},{inputs:l,outputs:[-1,-1,-1]})},Za=(e,t)=>{let n=Ua(e.inputs,t),[a,r,i]=Ja(e,n);return Ya(e,a,r,i,e.inputs[4],void 0,void 0,void 0,e.inputs[5],n)}})),Xc=pe((()=>{Ne(),Nc(),Lc(),Gc(),Hc(),Xa=(e,t)=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs");let n=(e,t,n)=>{let a=t.length;if(a!==e.length)throw new Error("".concat(n,": num dimensions != ").concat(a));t.forEach(((t,a)=>{if(t!==e[a])throw new Error("".concat(n,": dim[").concat(a,"] do not match"))}))};if(e[0].dims.length>1){let a="NHWC"===t.format?t.spatial?e[0].dims.slice(-1):e[0].dims.slice(-1).concat(e[0].dims.slice(1,e[0].dims.length-1)):e[0].dims.slice(1,t.spatial?2:void 0);n(e[1].dims,a,"Invalid input scale"),n(e[2].dims,a,"Invalid input B"),n(e[3].dims,a,"Invalid input mean"),n(e[4].dims,a,"Invalid input var")}else n(e[1].dims,[1],"Invalid input scale"),n(e[2].dims,[1],"Invalid input B"),n(e[3].dims,[1],"Invalid input mean"),n(e[4].dims,[1],"Invalid input var")},$a=(e,t)=>{let{epsilon:n,spatial:a,format:r}=t,i=e[0].dims,o=a?Dn(i[i.length-1]):1,s="NHWC"===r&&i.length>1?o:1,l=Ut.size(i)/o,c=a,u=c?i.length:i,d=Mn("x",e[0].dataType,e[0].dims,o),h=Mn("scale",e[1].dataType,e[1].dims,s),p=Mn("bias",e[2].dataType,e[2].dims,s),f=Mn("inputMean",e[3].dataType,e[3].dims,s),m=Mn("inputVar",e[4].dataType,e[4].dims,s),g=In("y",e[0].dataType,u,o);return{name:"BatchNormalization",shaderCache:{hint:"".concat(t.epsilon,"_").concat(t.format,"_").concat(a,"_").concat(o),inputDependencies:c?["rank","type","type","type","type"]:void 0},getShaderSource:e=>"\n  const epsilon = ".concat(n,";\n  ").concat(e.registerUniform("outputSize","u32").declareVariables(d,h,p,f,m,g),"\n  ").concat(e.mainStart(),"\n  ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n    var outputIndices = ").concat(g.offsetToIndices("global_idx * ".concat(o)),";\n    ").concat((()=>{let e="";if(a)e="let cOffset = ".concat(1===i.length?"0u":"NHWC"===r?"outputIndices[".concat(i.length-1,"] / ").concat(o):"outputIndices[1]",";");else if("NCHW"===r)e="\n            ".concat(g.indicesSet("outputIndices","0","0"),"\n            let cOffset = ").concat(g.indicesToOffset("outputIndices"),";");else{e="var cIndices = ".concat(h.type.indices,"(0);\n                       cIndices[0] = outputIndices[").concat(i.length-1,"];");for(let t=1;t<h.rank;t++)e+="cIndices[".concat(t,"] = outputIndices[").concat(t,"];");e+="let cOffset = ".concat(h.indicesToOffset("cIndices"),";")}return e})(),"\n    let scale = ").concat(h.getByOffset("cOffset"),";\n    let bias = ").concat(p.getByOffset("cOffset"),";\n    let inputMean = ").concat(f.getByOffset("cOffset"),";\n    let inputVar = ").concat(m.getByOffset("cOffset"),";\n    let x = ").concat(d.getByOffset("global_idx"),";\n    let value = (x - inputMean) * inverseSqrt(inputVar + epsilon) * scale + bias;\n    ").concat(g.setByOffset("global_idx","value"),"\n  }"),getRunData:()=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:c?[{type:12,data:l},...Tn(i)]:[{type:12,data:l}]})}},Qa=e=>vn(e),er=(e,t)=>{let{inputs:n,outputCount:a}=e,r=Qa(u(u({},t),{},{outputCount:a}));if(R.webgpu.validateInputContent&&Xa(n,r),t.trainingMode)throw new Error("BatchNormalization trainingMode is not supported yet.");e.compute($a(n,r))}})),$c=pe((()=>{Lc(),Hc(),tr=e=>{if(3!==e[0].dims.length)throw new Error("input should have 3 dimensions");if(![320,640,1280].includes(e[0].dims[2]))throw new Error("number of channels should be 320, 640 or 1280");if(1!==e[1].dims.length)throw new Error("bias is expected to have 1 dimensions");if(e[0].dims[2]!==e[1].dims[0])throw new Error("last dimension of input and bias are not the same")},nr=e=>{let t=e[0].dims,n=e[0].dims[2],a=Ut.size(t)/4,r=e[0].dataType,i=Mn("input",r,t,4),o=Mn("bias",r,[n],4),s=Mn("residual",r,t,4),l=In("output",r,t,4);return{name:"BiasAdd",getRunData:()=>({outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(a/64)}}),getShaderSource:e=>"\n  const channels = ".concat(n,"u / 4;\n  ").concat(e.declareVariables(i,o,s,l),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(a),"\n    let value = ").concat(i.getByOffset("global_idx"),"\n      + ").concat(o.getByOffset("global_idx % channels")," + ").concat(s.getByOffset("global_idx"),";\n    ").concat(l.setByOffset("global_idx","value"),"\n  }")}},ar=e=>{tr(e.inputs),e.compute(nr(e.inputs))}})),Qc=pe((()=>{Nc(),Lc(),Gc(),Hc(),rr=(e,t,n,a,r,i,o)=>{let s=Math.ceil(t/4),l="";l="string"==typeof r?"".concat(r,"(a)"):r("a");let c=Mn("inputData",n,[s],4),u=In("outputData",a,[s],4),d=[{name:"vec_size",type:"u32"}];return o&&d.push(...o),"\n      ".concat(e.registerUniforms(d).declareVariables(c,u),"\n\n  ").concat(null!==i&&void 0!==i?i:"","\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size"),"\n\n    let a = ").concat(c.getByOffset("global_idx"),";\n    ").concat(u.setByOffset("global_idx",l),"\n  }")},ir=function(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.dataType,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=[{type:12,data:Math.ceil(Ut.size(e.dims)/4)}];return o&&l.push(...o),{name:t,shaderCache:{hint:r,inputDependencies:["type"]},getShaderSource:t=>rr(t,Ut.size(e.dims),e.dataType,i,n,a,s),getRunData:t=>({outputs:[{dims:e.dims,dataType:i}],dispatchGroup:{x:Math.ceil(Ut.size(t[0].dims)/64/4)},programUniforms:l})}},or=e=>{e.compute(ir(e.inputs[0],"Abs","abs"))},sr=e=>{e.compute(ir(e.inputs[0],"Acos","acos"))},lr=e=>{e.compute(ir(e.inputs[0],"Acosh","acosh"))},cr=e=>{e.compute(ir(e.inputs[0],"Asin","asin"))},ur=e=>{e.compute(ir(e.inputs[0],"Asinh","asinh"))},dr=e=>{e.compute(ir(e.inputs[0],"Atan","atan"))},hr=e=>{e.compute(ir(e.inputs[0],"Atanh","atanh"))},pr=e=>vn(e),fr=(e,t)=>{let n;switch(t.to){case 10:n="vec4<f16>";break;case 1:n="vec4<f32>";break;case 12:n="vec4<u32>";break;case 6:n="vec4<i32>";break;case 9:n="vec4<bool>";break;default:throw new RangeError("not supported type (specified in attribute 'to' from 'Cast' operator): ".concat(t.to))}e.compute(ir(e.inputs[0],"Cast",n,void 0,t.cacheKey,t.to))},mr=e=>{let t,n,a=e.length>=2&&0!==e[1].data,r=e.length>=3&&0!==e[2].data;switch(e[0].dataType){case 1:t=a?e[1].getFloat32Array()[0]:-34028234663852886e22,n=r?e[2].getFloat32Array()[0]:34028234663852886e22;break;case 10:t=a?e[1].getUint16Array()[0]:64511,n=r?e[2].getUint16Array()[0]:31743;break;default:throw new Error("Unsupport data type")}return vn({min:t,max:n})},gr=(e,t)=>{let n=t||mr(e.inputs),a=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"Clip",(e=>"clamp(".concat(e,", vec4<").concat(a,">(uniforms.min), vec4<").concat(a,">(uniforms.max))")),void 0,n.cacheKey,void 0,[{type:e.inputs[0].dataType,data:n.min},{type:e.inputs[0].dataType,data:n.max}],[{name:"min",type:a},{name:"max",type:a}]),{inputs:[0]})},yr=e=>{e.compute(ir(e.inputs[0],"Ceil","ceil"))},br=e=>{e.compute(ir(e.inputs[0],"Cos","cos"))},vr=e=>{e.compute(ir(e.inputs[0],"Cosh","cosh"))},wr=e=>vn(e),_r=(e,t)=>{let n=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"Elu",(e=>"elu_vf32(".concat(e,")")),"\n  const elu_alpha_ = ".concat(n,"(").concat(t.alpha,");\n\n  fn elu_f32(a: ").concat(n,") -> ").concat(n," {\n  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);\n  }\n\n  fn elu_vf32(v: vec4<").concat(n,">) -> vec4<").concat(n,"> {\n  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));\n  }"),t.cacheKey))},xr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"f32";return"\nconst r0: ".concat(e," = 0.3275911;\nconst r1: ").concat(e," = 0.254829592;\nconst r2: ").concat(e," = -0.284496736;\nconst r3: ").concat(e," = 1.421413741;\nconst r4: ").concat(e," = -1.453152027;\nconst r5: ").concat(e," = 1.061405429;\n\nfn erf_vf32(v: vec4<").concat(e,">) -> vec4<").concat(e,"> {\n  let absv = abs(v);\n  let x = 1.0 / (1.0 + r0 * absv);\n  return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));\n}")},kr=e=>{let t=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"Erf",(e=>"erf_vf32(".concat(e,")")),xr(t)))},Tr=e=>{e.compute(ir(e.inputs[0],"Exp","exp"))},Dr=e=>{e.compute(ir(e.inputs[0],"Floor","floor"))},Ar=e=>{let t=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"Gelu",(e=>"0.5 * ".concat(e," * (1.0 + erf_vf32(").concat(e," * 0.7071067811865475))")),xr(t)))},Cr=(e,t)=>{let n=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"LeakyRelu",(e=>"select(leaky_relu_alpha_ * ".concat(e,", ").concat(e,", ").concat(e," >= vec4<").concat(n,">(0.0))")),"const leaky_relu_alpha_ = ".concat(n,"(").concat(t.alpha,");"),t.cacheKey))},Sr=e=>{e.compute(ir(e.inputs[0],"Not",(e=>"!".concat(e))))},Er=e=>{e.compute(ir(e.inputs[0],"Neg",(e=>"-".concat(e))))},Fr=e=>{e.compute(ir(e.inputs[0],"Reciprocal",(e=>"1.0/".concat(e))))},Mr=e=>{let t=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"Relu",(e=>"select(vec4<".concat(t,">(0.0), ").concat(e,", ").concat(e," > vec4<").concat(t,">(0.0))"))))},Ir=e=>{e.compute(ir(e.inputs[0],"Sigmoid",(e=>"(1.0 / (1.0 + exp(-".concat(e,")))"))))},zr=e=>vn(e),Pr=(e,t)=>{let n=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"HardSigmoid",(e=>"max(vec4<".concat(n,">(0.0), min(vec4<").concat(n,">(1.0), ").concat(t.alpha," * ").concat(e," + vec4<").concat(n,">(").concat(t.beta,")))")),void 0,t.cacheKey))},Nr=e=>{e.compute(ir(e.inputs[0],"Sin","sin"))},Or=e=>{e.compute(ir(e.inputs[0],"Sinh","sinh"))},Br=e=>{e.compute(ir(e.inputs[0],"Sqrt","sqrt"))},Lr=e=>{e.compute(ir(e.inputs[0],"Tan","tan"))},Rr=e=>"sign(".concat(e,") * (1 - exp(-2 * abs(").concat(e,"))) / (1 + exp(-2 * abs(").concat(e,")))"),jr=e=>{e.compute(ir(e.inputs[0],"Tanh",Rr))},Vr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"f32";return"\nconst fast_gelu_a: ".concat(e," = 0.5;\nconst fast_gelu_b: ").concat(e," = 0.7978845608028654;\nconst fast_gelu_c: ").concat(e," = 0.035677408136300125;\n\nfn tanh_v(v: vec4<").concat(e,">) -> vec4<").concat(e,"> {\n  return ").concat(Rr("v"),";\n}\n")},qr=e=>"(fast_gelu_a + fast_gelu_a * tanh_v(".concat(e," * (fast_gelu_c * ").concat(e," * ").concat(e," + fast_gelu_b))) * ").concat(e),Ur=e=>{let t=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"FastGelu",qr,Vr(t),void 0,e.inputs[0].dataType))},Gr=(e,t)=>{let n=kn(e.inputs[0].dataType);return e.compute(ir(e.inputs[0],"ThresholdedRelu",(e=>"select(vec4<".concat(n,">(0.0), ").concat(e,", ").concat(e," > thresholded_relu_alpha_)")),"const thresholded_relu_alpha_ = vec4<".concat(n,">(").concat(t.alpha,");"),t.cacheKey)),0},Hr=e=>{e.compute(ir(e.inputs[0],"Log","log"))},Wr=(e,t)=>"\nconst alpha = vec4<".concat(e,">(").concat(t,");\nconst one = ").concat(e,"(1.0);\nconst zero = ").concat(e,"(0.0);\n\nfn quick_gelu_impl(x: vec4<").concat(e,">) -> vec4<").concat(e,"> {\n  let v = x *alpha;\n  var x1 : vec4<").concat(e,">;\n  for (var i = 0; i < 4; i = i + 1) {\n    if (v[i] >= zero) {\n      x1[i] = one / (one + exp(-v[i]));\n    } else {\n      x1[i] = one - one / (one + exp(v[i]));\n    }\n  }\n  return x * x1;\n}\n"),Kr=e=>"quick_gelu_impl(".concat(e,")"),Yr=(e,t)=>{let n=kn(e.inputs[0].dataType);e.compute(ir(e.inputs[0],"QuickGelu",Kr,Wr(n,t.alpha),t.cacheKey,e.inputs[0].dataType))}})),eu=pe((()=>{Lc(),Hc(),Qc(),Jr=e=>{if(3!==e[0].dims.length)throw new Error("input should have 3 dimensions");if(![2560,5120,10240].includes(e[0].dims[2]))throw new Error("hidden state should be 2560, 5120 or 10240");if(1!==e[1].dims.length)throw new Error("bias is expected to have 1 dimensions");if(e[0].dims[2]!==e[1].dims[0])throw new Error("last dimension of input and bias are not the same")},Zr=e=>{let t=e[0].dims.slice();t[2]=t[2]/2;let n=Mn("input",e[0].dataType,e[0].dims,4),a=Mn("bias",e[0].dataType,[e[0].dims[2]],4),r=In("output",e[0].dataType,t,4),i=Ut.size(t)/4,o=xn(e[0].dataType);return{name:"BiasSplitGelu",getRunData:()=>({outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(i/64)}}),getShaderSource:t=>"\n  const M_SQRT2 = sqrt(2.0);\n  const halfChannels = ".concat(e[0].dims[2]/4/2,"u;\n\n  ").concat(t.declareVariables(n,a,r),"\n\n  ").concat(xr(o),"\n\n  ").concat(t.mainStart(),"\n    ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes(i),"\n    let biasIdx = global_idx % halfChannels;\n    let batchIndex = global_idx / halfChannels;\n    let inputOffset = biasIdx + batchIndex * halfChannels * 2;\n    let valueLeft = input[inputOffset] + bias[biasIdx];\n    let valueRight = input[inputOffset + halfChannels] + bias[biasIdx + halfChannels];\n    let geluRight = valueRight * 0.5 * (erf_vf32(valueRight / M_SQRT2) + 1);\n\n    ").concat(r.setByOffset("global_idx","valueLeft * geluRight"),"\n  }")}},Xr=e=>{Jr(e.inputs),e.compute(Zr(e.inputs))}})),tu=pe((()=>{Nc(),Lc(),Hc(),$r=(e,t,n,a,r,i,o,s,l,c,u,d)=>{let h,p;"string"==typeof s?h=p=(e,t)=>"".concat(s,"((").concat(e,"),(").concat(t,"))"):"function"==typeof s?h=p=s:(h=s.scalar,p=s.vector);let f,m=In("outputData",u,a.length,4),g=Mn("aData",l,t.length,4),y=Mn("bData",c,n.length,4);if(r)if(i){let e=1===Ut.size(t),a=1===Ut.size(n),r=t.length>0&&t[t.length-1]%4===0,i=n.length>0&&n[n.length-1]%4===0;f=e||a?m.setByOffset("global_idx",p(e?"".concat(g.type.value,"(").concat(g.getByOffset("0"),".x)"):g.getByOffset("global_idx"),a?"".concat(y.type.value,"(").concat(y.getByOffset("0"),".x)"):y.getByOffset("global_idx"))):"\n            let outputIndices = ".concat(m.offsetToIndices("global_idx * 4u"),";\n            let offsetA = ").concat(g.broadcastedIndicesToOffset("outputIndices",m),";\n            let offsetB = ").concat(y.broadcastedIndicesToOffset("outputIndices",m),";\n            ").concat(m.setByOffset("global_idx",p(o||r?g.getByOffset("offsetA / 4u"):"".concat(g.type.value,"(").concat(g.getByOffset("offsetA / 4u"),"[offsetA % 4u])"),o||i?y.getByOffset("offsetB / 4u"):"".concat(y.type.value,"(").concat(y.getByOffset("offsetB / 4u"),"[offsetB % 4u])"))),"\n          ")}else f=m.setByOffset("global_idx",p(g.getByOffset("global_idx"),y.getByOffset("global_idx")));else{if(!i)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a="aData[indexA".concat(t,"][componentA").concat(t,"]"),r="bData[indexB".concat(t,"][componentB").concat(t,"]");return"\n            let outputIndices".concat(t," = ").concat(m.offsetToIndices("global_idx * 4u + ".concat(t,"u")),";\n            let offsetA").concat(t," = ").concat(g.broadcastedIndicesToOffset("outputIndices".concat(t),m),";\n            let offsetB").concat(t," = ").concat(y.broadcastedIndicesToOffset("outputIndices".concat(t),m),";\n            let indexA").concat(t," = offsetA").concat(t," / 4u;\n            let indexB").concat(t," = offsetB").concat(t," / 4u;\n            let componentA").concat(t," = offsetA").concat(t," % 4u;\n            let componentB").concat(t," = offsetB").concat(t," % 4u;\n            ").concat(e,"[").concat(t,"] = ").concat(n,"(").concat(h(a,r),");\n          ")};f=9===u?"\n            var data = vec4<u32>(0);\n            ".concat(e("data",0,"u32"),"\n            ").concat(e("data",1,"u32"),"\n            ").concat(e("data",2,"u32"),"\n            ").concat(e("data",3,"u32"),"\n            outputData[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));"):"\n            ".concat(e("outputData[global_idx]",0),"\n            ").concat(e("outputData[global_idx]",1),"\n            ").concat(e("outputData[global_idx]",2),"\n            ").concat(e("outputData[global_idx]",3),"\n          ")}return"\n        ".concat(e.registerUniform("vec_size","u32").declareVariables(g,y,m),"\n\n        ").concat(null!==d&&void 0!==d?d:"","\n\n        ").concat(e.mainStart(),"\n        ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size"),"\n        ").concat(f,"\n      }")},Qr=function(e,t,n,a,r,i){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.dataType,s=n.dims.map((e=>{var t;return null!==(t=Number(e))&&void 0!==t?t:1})),l=a.dims.map((e=>{var t;return null!==(t=Number(e))&&void 0!==t?t:1})),c=!Ut.areEqual(s,l),u=s,d=Ut.size(s),h=!1,p=!1,f=[c];if(c){let e=qt.calcShape(s,l,!1);if(!e)throw new Error("Can't perform binary op on the given tensors");u=e.slice(),d=Ut.size(u);let t=1===Ut.size(s),n=1===Ut.size(l),a=s.length>0&&s[s.length-1]%4===0,r=l.length>0&&l[l.length-1]%4===0;f.push(t),f.push(n),f.push(a),f.push(r);let i=1;for(let o=1;o<u.length;o++){let e=s[s.length-o];if(e!==l[l.length-o])break;i*=e}i%4===0?(p=!0,h=!0):(t||n||a||r)&&(h=!0)}else h=!0;return f.push(h),{name:e,shaderCache:{hint:t+f.map((e=>e.toString())).join("_"),inputDependencies:["rank","rank"]},getShaderSource:e=>$r(e,s,l,u,h,c,p,r,n.dataType,a.dataType,o,i),getRunData:()=>({outputs:[{dims:u,dataType:o}],dispatchGroup:{x:Math.ceil(d/64/4)},programUniforms:[{type:12,data:Math.ceil(Ut.size(u)/4)},...Tn(s,l,u)]})}},ei=(e,t,n,a,r,i)=>{e.compute(Qr(t,null!==r&&void 0!==r?r:"",e.inputs[0],e.inputs[1],n,a,i))},ti=e=>{ei(e,"Add",((e,t)=>"".concat(e,"+").concat(t)))},ni=e=>{ei(e,"Div",((e,t)=>"".concat(e,"/").concat(t)))},ai=e=>{ei(e,"Equal",{scalar:(e,t)=>"u32(".concat(e,"==").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,"==").concat(t,")")},void 0,void 0,9)},ri=e=>{ei(e,"Mul",((e,t)=>"".concat(e,"*").concat(t)))},ii=e=>{let t=Mn("input",e.inputs[0].dataType,e.inputs[0].dims).type.value;ei(e,"Pow",{scalar:(e,t)=>"pow_custom(".concat(e,",").concat(t,")"),vector:(e,t)=>"pow_vector_custom(".concat(e,",").concat(t,")")},"\n    fn pow_custom(a : ".concat(t,", b : ").concat(t,") -> ").concat(t," {\n      if (b == ").concat(t,"(0.0)) {\n        return ").concat(t,"(1.0);\n      } else if (a < ").concat(t,"(0.0) && f32(b) != floor(f32(b))) {\n        return ").concat(t,"(pow(f32(a), f32(b))); // NaN\n      }\n      return select(sign(a), ").concat(t,"(1.0), round(f32(abs(b) % ").concat(t,"(2.0))) != 1.0) * ").concat(t,"(").concat("i32"===t?"round":"","(pow(f32(abs(a)), f32(b))));\n    }\n    fn pow_vector_custom(a : vec4<").concat(t,">, b : vec4<").concat(t,">) -> vec4<").concat(t,"> {\n      // TODO: implement vectorized pow\n      return vec4<").concat(t,">(pow_custom(a.x, b.x), pow_custom(a.y, b.y), pow_custom(a.z, b.z), pow_custom(a.w, b.w));\n    }\n      "))},oi=e=>{ei(e,"Sub",((e,t)=>"".concat(e,"-").concat(t)))},si=e=>{ei(e,"Greater",{scalar:(e,t)=>"u32(".concat(e,">").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,">").concat(t,")")},void 0,void 0,9)},li=e=>{ei(e,"Less",{scalar:(e,t)=>"u32(".concat(e,"<").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,"<").concat(t,")")},void 0,void 0,9)},ci=e=>{ei(e,"GreaterOrEqual",{scalar:(e,t)=>"u32(".concat(e,">=").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,">=").concat(t,")")},void 0,void 0,9)},ui=e=>{ei(e,"LessOrEqual",{scalar:(e,t)=>"u32(".concat(e,"<=").concat(t,")"),vector:(e,t)=>"vec4<u32>(".concat(e,"<=").concat(t,")")},void 0,void 0,9)}})),nu=pe((()=>{Nc(),Lc(),Gc(),Hc(),di=(e,t)=>{if(!e||e.length<1)throw new Error("too few inputs");let n=e[0],a=n.dataType,r=n.dims.length;e.forEach(((e,i)=>{if(0!==i){if(e.dataType!==a)throw new Error("input tensors should be one type");if(e.dims.length!==r)throw new Error("input tensors should have the same shape");e.dims.forEach(((e,a)=>{if(a!==t&&e!==n.dims[a])throw new Error("non concat dimensions must match")}))}}))},hi=(e,t)=>"\n  fn calculateInputIndex(index: u32) -> u32 {\n    let sizeInConcatAxis = array<u32, ".concat(e,"u>(").concat(t,");\n    for (var i: u32 = 0u; i < ").concat(e,"; i += 1u ) {\n      if (index < sizeInConcatAxis[i]) {\n        return i;\n      }\n    }\n    return ").concat(e,"u;\n  }"),pi=(e,t)=>{let n=e.length,a=[];for(let r=0;r<n;++r){let i=t.setByOffset("global_idx",e[r].getByIndices("indices"));1===n?a.push(i):0===r?a.push("if (inputIndex == ".concat(r,"u) { ").concat(i," }")):r===n-1?a.push("else { ".concat(i," }")):a.push("else if (inputIndex == ".concat(r,") { ").concat(i," }"))}return a.join("\n")},fi=(e,t,n,a)=>{let r=Ut.size(n),i=new Array(e.length),o=new Array(e.length),s=0,l=[],c=[],u=[{type:12,data:r}];for(let f=0;f<e.length;++f)s+=e[f].dims[t],i[f]=s,c.push(e[f].dims.length),o[f]=Mn("input".concat(f),a,c[f]),l.push("rank"),u.push({type:12,data:i[f]});for(let f=0;f<e.length;++f)u.push(...Tn(e[f].dims));u.push(...Tn(n));let d=In("output",a,n.length),h=d.indicesGet("indices",t),p=Array.from(Array(i.length).keys()).map((e=>"uniforms.sizeInConcatAxis".concat(e))).join(",");return{name:"Concat",shaderCache:{hint:"".concat(t),inputDependencies:l},getRunData:()=>({outputs:[{dims:n,dataType:a}],dispatchGroup:{x:Math.ceil(r/64)},programUniforms:u}),getShaderSource:t=>"\n\n  ".concat((()=>{t.registerUniform("outputSize","u32");for(let n=0;n<e.length;n++)t.registerUniform("sizeInConcatAxis".concat(n),"u32");return t.declareVariables(...o,d)})(),"\n\n  ").concat(hi(i.length,p),"\n\n  ").concat(t.mainStart(),"\n    ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n\n    var indices = ").concat(d.offsetToIndices("global_idx"),";\n\n    let inputIndex = calculateInputIndex(").concat(h,");\n    if (inputIndex != 0u) {\n      let sizeInConcatAxis = array<u32, ").concat(i.length,"u>(").concat(p,");\n      ").concat(h," -= sizeInConcatAxis[inputIndex - 1u];\n    }\n\n    ").concat(pi(o,d),"\n  }")}},mi=(e,t)=>{let n=e.inputs,a=n[0].dims,r=Ut.normalizeAxis(t.axis,a.length);di(n,r);let i=a.slice();i[r]=n.reduce(((e,t)=>e+(t.dims.length>r?t.dims[r]:0)),0);let o=n.filter((e=>Ut.size(e.dims)>0));e.compute(fi(o,r,i,n[0].dataType),{inputs:o})},gi=e=>vn({axis:e.axis})})),au=pe((()=>{Nc(),Lc(),yi=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"f32";switch(e.activation){case"Relu":return"value = max(value, ".concat(t,"(0.0));");case"Sigmoid":return"value = (".concat(t,"(1.0) / (").concat(t,"(1.0) + exp(-value)));");case"Clip":return"value = clamp(value, ".concat(t,"(").concat(n,"(uniforms.clip_min)), ").concat(t,"(").concat(n,"(uniforms.clip_max)));");case"HardSigmoid":return"value = max(".concat(t,"(0.0), min(").concat(t,"(1.0), ").concat(n,"(uniforms.alpha) * value + ").concat(n,"(uniforms.beta)));");case"LeakyRelu":return"value = select(".concat(n,"(uniforms.alpha) * value, value, value >= ").concat(t,"(0.0));");case"Tanh":return"let e2x = exp(-2.0 * abs(value));\n              value = sign(value) * (1.0 - e2x) / (1.0 + e2x);\n        ";case"":return"";default:throw new Error("Unsupported activation ".concat(e.activation))}},bi=(e,t)=>{"Clip"===e.activation?t.push({type:1,data:e.clipMax},{type:1,data:e.clipMin}):"HardSigmoid"===e.activation?t.push({type:1,data:e.alpha},{type:1,data:e.beta}):"LeakyRelu"===e.activation&&t.push({type:1,data:e.alpha})},vi=(e,t)=>{"Clip"===e.activation?t.push({name:"clip_max",type:"f32"},{name:"clip_min",type:"f32"}):"HardSigmoid"===e.activation?t.push({name:"alpha",type:"f32"},{name:"beta",type:"f32"}):"LeakyRelu"===e.activation&&t.push({name:"alpha",type:"f32"})},wi=e=>{let t=(null===e||void 0===e?void 0:e.activation)||"";if("HardSigmoid"===t){let[n,a]=(null===e||void 0===e?void 0:e.activation_params)||[.2,.5];return{activation:t,alpha:n,beta:a}}if("Clip"===t){let[n,a]=(null===e||void 0===e?void 0:e.activation_params)||[Wt,Kt];return{activation:t,clipMax:a,clipMin:n}}if("LeakyRelu"===t){let[n]=(null===e||void 0===e?void 0:e.activation_params)||[.01];return{activation:t,alpha:n}}return{activation:t}}})),ru=pe((()=>{_i=(e,t)=>{switch(e){case 1:return t;case 2:return"vec2<".concat(t,">");case 3:return"vec3<".concat(t,">");case 4:return"vec4<".concat(t,">");default:throw new Error("".concat(e,"-component is not supported."))}},xi=e=>"\n      ".concat(e?"value = value + getBiasByOutputCoords(coords);":"","\n      ")})),iu=pe((()=>{ki=e=>"\nfn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n}\nfn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n    i32(".concat(e,".x), i32(").concat(e,".y), i32(").concat(e,".z), 1));\n}\n")})),ou=pe((()=>{Nc(),Lc(),Hc(),au(),Ti=(e,t,n,a,r)=>{let i=a-n;return"\n      ".concat(Array.from({length:n}).map(((n,o)=>"\n      if (".concat(En(t.shape,o,t.rank)," != 1) {\n        ").concat(t.indicesSet(e,o,En(r,o+i,a)),"\n      } else {\n        ").concat(t.indicesSet(e,o,0),"\n      }"))).join(""),"\n")},Di=function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,o=e[0].dims,s=e[1].dims,l=o[o.length-2],c=s[s.length-1],u=o[o.length-1],d=Dn(c),h=Dn(u),p=Dn(l),f=Ut.size(n)/d/p,m=e.length>2,g=a?a.slice(0,-2):n.slice(0,-2),y=[Ut.size(g),l,c],b=[{type:12,data:f},{type:12,data:l},{type:12,data:c},{type:12,data:u}];bi(t,b),b.push(...Tn(g,o,s)),m&&b.push(...Tn(e[2].dims)),b.push(...Tn(y));return{name:"MatMulNaive",shaderCache:{hint:"".concat(t.activation,";").concat(d,";").concat(h,";").concat(p,";").concat(r),inputDependencies:m?["rank","rank","rank"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:i?i(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:b}),getShaderSource:a=>{let i=Pn("batch_dims",e[0].dataType,g.length),l=Mn("a",e[0].dataType,o.length,h),c=Mn("b",e[1].dataType,s.length,d),u=In("output",e[0].dataType,y.length,d),f=xn(u.type.tensor),b=yi(t,u.type.value,f),v=[l,c],w="";if(m){let t=r?d:1;v.push(Mn("bias",e[2].dataType,e[2].dims.length,t)),w="".concat(r?"value += bias[col / ".concat(t,"];"):"value += ".concat(u.type.value,"(bias[row + i]);"))}let _=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"}];vi(t,_);return"\n  ".concat(a.registerUniforms(_).registerInternalVariables(i).declareVariables(...v,u),"\n  ").concat(a.mainStart(),"\n    ").concat(a.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let col = (global_idx % (uniforms.N / ").concat(d,")) * ").concat(d,";\n    var index1 = global_idx / (uniforms.N / ").concat(d,");\n    let stride1 = uniforms.M / ").concat(p,";\n    let row = (index1 % stride1) * ").concat(p,";\n    let batch = index1 / stride1;\n\n    ").concat(2===n.length?"":"let batch_indices = ".concat(i.offsetToIndices("batch"),";"),"\n\n    var a_indices: ").concat(l.type.indices,";\n    ").concat(Ti("a_indices",l,l.rank-2,i.rank,"batch_indices"),"\n    ").concat(l.indicesSet("a_indices",l.rank-2,0),"\n    ").concat(l.indicesSet("a_indices",l.rank-1,0),"\n    let a_offset = ").concat(l.indicesToOffset("a_indices"),";\n\n    var b_indices: ").concat(c.type.indices,";\n    ").concat(Ti("b_indices",c,c.rank-2,i.rank,"batch_indices"),"\n    ").concat(c.indicesSet("b_indices",c.rank-2,0),"\n    ").concat(c.indicesSet("b_indices",c.rank-1,0),"\n    let b_offset = ").concat(c.indicesToOffset("b_indices"),";\n    var values: array<").concat(u.type.value,", ").concat(p,">;\n    for (var k: u32 = 0u; k < uniforms.K; k = k + ").concat(h,") {\n      ").concat((()=>{let e="var a_data: ".concat(l.type.value,";");for(let t=0;t<h;t++)e+="\n              let b_data".concat(t," = b[(b_offset + (k + ").concat(t,") * uniforms.N + col) / ").concat(d,"];");for(let t=0;t<p;t++){e+="a_data = a[(a_offset + (row + ".concat(t,") * uniforms.K + k) / ").concat(h,"];");for(let n=0;n<h;n++)e+="\n            values[".concat(t,"] = fma(").concat(c.type.value,"(a_data").concat(1===h?"":"[".concat(n,"]"),"), b_data").concat(n,", values[").concat(t,"]);\n")}return e})(),"\n    }\n    for (var i = 0u; i < ").concat(p,"u; i++) {\n      var value = values[i];\n      ").concat(w,"\n      ").concat(b,"\n      let cur_indices = ").concat(u.type.indices,"(batch, row + i, col);\n      let offset = ").concat(u.indicesToOffset("cur_indices"),";\n      ").concat(u.setByOffset("offset / ".concat(d),"value"),";\n    }\n  }\n  ")}}}})),su=pe((()=>{Nc(),Lc(),Hc(),au(),ou(),ru(),Ai=(e,t)=>e?"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          kStart + inputRow,\n          globalRowStart / innerElementSize + inputCol".concat(t?", batchIndices":"",");\n        "):"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          globalRow + innerRow,\n          kStart / innerElementSize + inputCol".concat(t?", batchIndices":"",");\n        "),Ci=(e,t)=>e?"\n        let ACached0 = mm_Asub[k * innerElementSize][localRow];\n        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];\n        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];\n        ".concat(3===t?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];","\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          acc[i] = BCached0 * ACached0[i] + acc[i];\n          acc[i] = BCached1 * ACached1[i] + acc[i];\n          acc[i] = BCached2 * ACached2[i] + acc[i];\n          ").concat(3===t?"":"acc[i] = BCached3 * ACached3[i] + acc[i];","\n        }"):"\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          let ACached = mm_Asub[tileRow + i][k];\n          acc[i] = BCached0 * ACached.x + acc[i];\n          acc[i] = BCached1 * ACached.y + acc[i];\n          acc[i] = BCached2 * ACached.z + acc[i];\n          ".concat(3===t?"":"acc[i] = BCached3 * ACached.w + acc[i];","\n        }"),Si=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"f32",a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:32,l=t[1]*e[1],c=t[0]*e[0],u=r?l:i,d=r?i:l,h=u/t[0],p=i/t[1];if((!r||4!==h||4!==e[1])&&(r||3!==h&&4!==h)||u%t[0]!==0||i%t[1]!==0||4!==e[0])throw new Error("If transposeA ".concat(r," is true, innerElementSize ").concat(h," and workPerThread[1] ").concat(e[1]," must be 4.\n      Otherwise, innerElementSize ").concat(h," must be 3 or 4.\n  tileAWidth ").concat(u," must be divisible by workgroupSize[0]").concat(t[0],". tileInner ").concat(i," must be divisible by workgroupSize[1] ").concat(t[1],". colPerThread ").concat(e[0]," must be 4."));return"\nvar<workgroup> mm_Asub: array<array<vec".concat(h,"<").concat(n,">, ").concat(u/h,">, ").concat(d,">;\nvar<workgroup> mm_Bsub: array<array<vec4<").concat(n,">, ").concat(c/e[0],">, ").concat(i,">;\n\nconst rowPerThread = ").concat(e[1],";\nconst colPerThread = ").concat(e[0],";\nconst innerElementSize = ").concat(h,";\nconst tileInner = ").concat(i,";\n\n@compute @workgroup_size(").concat(t[0],", ").concat(t[1],", ").concat(t[2],")\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n  let localRow = i32(localId.y);\n  let tileRow = localRow * rowPerThread;\n  let tileCol = i32(localId.x);\n\n  let globalRow =i32(globalId.y) * rowPerThread;\n  let globalCol = i32(globalId.x);\n  let batch = ").concat(o?"0":"i32(globalId.z)",";\n  ").concat(a?"let batchIndices = ".concat(a.offsetToIndices("u32(batch)"),";"):"","\n  let globalRowStart = i32(workgroupId.y) * ").concat(l,";\n\n  let num_tiles = ").concat(o?"".concat(Math.ceil(s/i)):"(uniforms.dim_inner - 1) / tileInner + 1",";\n  var kStart = ").concat(o?"i32(globalId.z) * ".concat(s):"0",";\n\n  var acc: array<vec4<").concat(n,">, rowPerThread>;\n\n  // Loop over shared dimension.\n  let tileRowB = localRow * ").concat(p,";\n  for (var t = 0; t < num_tiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let inputRow = tileRow + innerRow;\n          let inputCol = tileCol;\n          ").concat(Ai(r,a),"\n      }\n\n      // Load one tile of B into local memory.\n      for (var innerRow = 0; innerRow < ").concat(p,"; innerRow = innerRow + 1) {\n          let inputRow = tileRowB + innerRow;\n          let inputCol = tileCol;\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol").concat(a?", batchIndices":"",");\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {\n          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];\n          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];\n          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];\n          ").concat(3===h?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];","\n\n          ").concat(Ci(r,h),"\n      }\n\n      workgroupBarrier();\n  }\n\n  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\n  }\n}")},Ei=(e,t)=>e?"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              kStart + inputRow,\n              globalRowStart + inputCol".concat(t?", batchIndices":"",");\n            "):"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              globalRowStart + inputRow,\n              kStart + inputCol".concat(t?", batchIndices":"",");\n            "),Fi=e=>e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];",Mi=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"f32",a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:32,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=e[1]*t[1],u=e[0]*t[0],d=r?c:i,h=r?i:c;if(h%t[1]!==0||d%t[0]!==0||i%t[1]!==0)throw new Error("tileAHight ".concat(h," must be divisible by workgroupSize[1]").concat(t[1],", tileAWidth ").concat(d," must be divisible by workgroupSize[0]").concat(t[0],", tileInner ").concat(i," must be divisible by workgroupSize[1]").concat(t[1]));let p=h/t[1],f=d/t[0],m=i/t[1],g=l?"\n    let localRow = i32(localId.y);\n    let localCol = i32(localId.x);\n    let globalRowStart = i32(workgroupId.y) * ".concat(c,";\n    let globalColStart = i32(workgroupId.x) * ").concat(u,";\n\n    // Loop over shared dimension.\n    for (var t = 0; t < num_tiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var inputRow = localRow; inputRow < ").concat(h,"; inputRow = inputRow + ").concat(t[1],") {\n        for (var inputCol = localCol; inputCol < ").concat(d,"; inputCol = inputCol + ").concat(t[0],") {\n          ").concat(Ei(r,a),"\n        }\n      }\n      // Load one tile of B into local memory.\n      for (var inputRow = localRow; inputRow < ").concat(i,"; inputRow = inputRow + ").concat(t[1],") {\n            for (var inputCol = localCol; inputCol < ").concat(u,"; inputCol = inputCol + ").concat(t[0],") {\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n            kStart + inputRow,\n            globalColStart + inputCol").concat(a?", batchIndices":"",");\n        }\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      var BCached : array<").concat(n,", colPerThread>;\n      for (var k = 0; k < tileInner; k = k + 1) {\n        for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n          BCached[inner] = mm_Bsub[k][localCol + inner * ").concat(t[0],"];\n        }\n        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let ACached = ").concat(r?"mm_Asub[k][localRow + innerRow * ".concat(t[1],"];"):"mm_Asub[localRow + innerRow * ".concat(t[1],"][k];"),"\n          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n            acc[innerRow][innerCol] = acc[innerRow][innerCol] +\n                ACached * BCached[innerCol];\n          }\n        }\n      }\n      workgroupBarrier();\n    }\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      let gRow = globalRowStart + localRow + innerRow * ").concat(t[1],";\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        let gCol = globalColStart + localCol + innerCol * ").concat(t[0],";\n        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\n      }\n    }\n    "):"\nlet tileRow = i32(localId.y) * rowPerThread;\nlet tileCol = i32(localId.x) * colPerThread;\n\nlet globalRow = i32(globalId.y) * rowPerThread;\nlet globalCol = i32(globalId.x) * colPerThread;\nlet globalRowStart = i32(workgroupId.y) * ".concat(c,";\n\nlet tileRowA = i32(localId.y) * ").concat(p,";\nlet tileColA = i32(localId.x) * ").concat(f,";\nlet tileRowB = i32(localId.y) * ").concat(m,";\n// Loop over shared dimension.\nfor (var t = 0; t < num_tiles; t = t + 1) {\n  // Load one tile of A into local memory.\n  for (var innerRow = 0; innerRow < ").concat(p,"; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < ").concat(f,"; innerCol = innerCol + 1) {\n      let inputRow = tileRowA + innerRow;\n      let inputCol = tileColA + innerCol;\n      ").concat(Ei(r,a),"\n    }\n  }\n\n  // Load one tile of B into local memory.\n  for (var innerRow = 0; innerRow < ").concat(m,"; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n      let inputRow = tileRowB + innerRow;\n      let inputCol = tileCol + innerCol;\n      mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n        kStart + inputRow,\n        globalCol + innerCol").concat(a?", batchIndices":"",");\n    }\n  }\n  kStart = kStart + tileInner;\n  workgroupBarrier();\n\n  // Compute acc values for a single thread.\n  var BCached : array<").concat(n,", colPerThread>;\n  for (var k = 0; k < tileInner; k = k + 1) {\n    for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n      BCached[inner] = mm_Bsub[k][tileCol + inner];\n    }\n\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      ").concat(Fi(r),"\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\n      }\n    }\n  }\n\n  workgroupBarrier();\n}\n\nfor (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n    mm_write(batch, globalRow + innerRow, globalCol + innerCol,\n        acc[innerRow][innerCol]);\n  }\n}\n");return"\n  var<workgroup> mm_Asub : array<array<".concat(n,", ").concat(d,">, ").concat(h,">;\n  var<workgroup> mm_Bsub : array<array<").concat(n,", ").concat(u,">, ").concat(i,">;\n  const rowPerThread = ").concat(e[1],";\n  const colPerThread = ").concat(e[0],";\n  const tileInner = ").concat(i,";\n\n@compute @workgroup_size(").concat(t[0],", ").concat(t[1],", ").concat(t[2],")\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n    let batch = ").concat(o?"0":"i32(globalId.z)",";\n    ").concat(a?"let batchIndices = ".concat(a.offsetToIndices("u32(batch)"),";"):"","\n    let num_tiles = ").concat(o?"".concat(Math.ceil(s/i)):"(uniforms.dim_inner - 1) / tileInner + 1",";\n    var kStart = ").concat(o?"i32(globalId.z) * ".concat(s):"0",";\n\n    var acc : array<array<").concat(n,", colPerThread>, rowPerThread>;\n    ").concat(g,"\n  }\n")},Ii=function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],[i,o,s,l]=a,c=xn(a[0].type.tensor);return"\n    fn mm_readA(batch: i32, row: i32, colIn: i32, batchIndices: ".concat(i.type.indices,") -> ").concat(_i(e,c)," {\n      var value = ").concat(_i(e,c),"(0.0);\n      let col = colIn * ").concat(e,";\n      if(row < uniforms.dim_a_outer && col < uniforms.dim_inner)\n      {\n        var aIndices: ").concat(o.type.indices,";\n        ").concat(Ti("aIndices",o,o.rank-2,i.rank,"batchIndices"),"\n        ").concat(o.indicesSet("aIndices",o.rank-2,"u32(row)"),"\n        ").concat(o.indicesSet("aIndices",o.rank-1,"u32(colIn)"),"\n        value = ").concat(o.getByIndices("aIndices"),";\n      }\n      return value;\n    }\n\n    fn mm_readB(batch: i32, row: i32, colIn: i32, batchIndices: ").concat(i.type.indices,") -> ").concat(_i(e,c)," {\n      var value = ").concat(_i(e,c),"(0.0);\n      let col = colIn * ").concat(e,";\n      if(row < uniforms.dim_inner && col < uniforms.dim_b_outer)\n      {\n        var bIndices: ").concat(s.type.indices,";\n        ").concat(Ti("bIndices",s,s.rank-2,i.rank,"batchIndices"),"\n        ").concat(s.indicesSet("bIndices",s.rank-2,"u32(row)"),"\n        ").concat(s.indicesSet("bIndices",s.rank-1,"u32(colIn)"),"\n        value = ").concat(s.getByIndices("bIndices"),";\n      }\n      return value;\n    }\n\n    fn mm_write(batch: i32, row: i32, colIn: i32, valueIn: ").concat(_i(e,c),") {\n      let col = colIn * ").concat(e,";\n      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {\n        var value = valueIn;\n        let coords = vec3<i32>(batch, row, colIn);\n        ").concat(t?"value = value + ".concat(r?"bias[colIn]":"".concat(_i(e,c),"(bias[row])"),";"):"","\n        ").concat(n,"\n        ").concat(l.setByIndices("vec3<u32>(coords)","value"),"\n      }\n    }\n    ")},zi=function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,o=e[0].dims,s=e[1].dims,l=o.slice(0,-2),c=s.slice(0,-2),u=a?a.slice(0,-2):n.slice(0,-2),d=Ut.size(u),h=o[o.length-2],p=o[o.length-1],f=s[s.length-1],m=p%4===0&&f%4===0,g=h<=8?[4,1,1]:[4,4,1],y=[8,8,1],b=[Math.ceil(f/y[0]/g[0]),Math.ceil(h/y[1]/g[1]),Math.ceil(d/y[2]/g[2])],v=m?4:1,w=[...l,h,p/v],_=w.length,x=[...c,p,f/v],k=x.length,T=[d,h,f/v],D=[{type:6,data:h},{type:6,data:f},{type:6,data:p}];bi(t,D),D.push(...Tn(u,w,x));let A=["rank","rank"],C=e.length>2;C&&(D.push(...Tn(e[2].dims)),A.push("rank")),D.push(...Tn(T));return{name:"MatMul",shaderCache:{hint:"".concat(g,";").concat(t.activation,";").concat(m,";").concat(r),inputDependencies:A},getRunData:()=>({outputs:[{dims:i?i(n):n,dataType:e[0].dataType}],dispatchGroup:{x:b[0],y:b[1],z:b[2]},programUniforms:D}),getShaderSource:n=>{let a=u.length,i=Pn("batchDims",e[0].dataType,a,1),o=xn(e[0].dataType),s=Mn("a",e[0].dataType,_,v),l=Mn("b",e[1].dataType,k,v),c=In("result",e[0].dataType,T.length,v),d=[s,l];if(C){let t=r?v:1;d.push(Mn("bias",e[2].dataType,e[2].dims.length,t))}let h=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"}];vi(t,h);let p=xn(c.type.tensor),f=yi(t,c.type.value,p),b=Ii(v,C,f,[i,s,l,c],r);return"\n  ".concat(n.registerUniforms(h).registerInternalVariables(i).declareVariables(...d,c),"\n  ").concat(b,"\n  ").concat(m?Si(g,y,o,i):Mi(g,y,o,i),"\n                   ")}}}})),lu=pe((()=>{Nc(),Bc(),Hc(),au(),ru(),iu(),su(),Pi=function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:4,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:4,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"f32",u=e=>{switch(e){case 1:return"return w[row * i32(uniforms.w_shape[3]) + colIn];";case 4:return"return w[row * i32(uniforms.w_shape[3]) / 4 + colIn];";default:throw new Error("innerElementSize ".concat(e," is not supported."))}},d=e?"\n    let coord = vec4<i32>(batch, xRow, xCol, xCh);\n    ":"\n    let coord = vec4<i32>(batch, xCh, xRow, xCol);\n    ",h=e?"\n    let coords = vec4<i32>(\n      batch,\n      row / outWidth,\n      row % outWidth,\n      col);\n    ":"\n    let coords = vec4<i32>(\n      batch,\n      row,\n      col / outWidth,\n      col % outWidth);\n    ",p=e?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",f=e?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",m=e?"row":"col",g=e?"col":"row",y="\n    let inChannels = i32(uniforms.w_shape[2]);\n    let outWidth = ".concat(e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])",";\n    let outRow = ").concat(m," / outWidth;\n    let outCol = ").concat(m," % outWidth;\n\n    let WRow = ").concat(g," / (i32(uniforms.w_shape[1]) * inChannels);\n    let WCol = ").concat(g," / inChannels % i32(uniforms.w_shape[1]);\n    let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];\n    let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];\n    let xCh = ").concat(g," % inChannels;\n    var resData = ").concat(_i(o,c),"(0.0);\n    // The bounds checking is always needed since we use it to pad zero for\n    // the 'same' padding type.\n    if (xRow >= 0 && xRow < ").concat(p," && xCol >= 0 && xCol < ").concat(f,") {\n      ").concat(d,"\n      let xIndex = getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape));\n      ").concat((e=>{switch(e){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<".concat(c,">(x[xIndex], x[xIndex + 1], x[xIndex + 2]);");case 4:return"resData = x[xIndex / 4];";default:throw new Error("innerElementSize ".concat(e," is not supported."))}})(o),"\n    }\n    return resData;"),b=e?t&&a?"\n    let col = colIn * ".concat(o,";\n    ").concat(y):"\n    let col = colIn * ".concat(o,";\n    if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {\n      ").concat(y,"\n    }\n    return ").concat(_i(o,c),"(0.0);"):a&&n?"\n    let col = colIn * ".concat(o,";\n    ").concat(y):"\n    let col = colIn * ".concat(o,";\n    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {\n      ").concat(y,"\n    }\n    return ").concat(_i(o,c),"(0.0);"),v=e?a&&n?u(s):"\n    let col = colIn * ".concat(s,";\n    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {\n      ").concat(u(s),"\n    }\n    return ").concat(_i(s,c),"(0.0);"):"\n    let col = colIn * ".concat(s,";\n    if (row < uniforms.dim_inner && col < uniforms.dim_a_outer) {\n      ").concat(u(s),"\n    }\n    return ").concat(_i(s,c),"(0.0);"),w=_i(l,c),_=_i(e?o:s,c),x=_i(e?s:o,c),k=yi(i,w,c);return"\n    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ".concat(_," {\n      ").concat(e?b:v,"\n    }\n\n    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ").concat(x," {\n      ").concat(e?v:b,"\n    }\n\n    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ").concat(w,") {\n      let col = colIn * ").concat(l,";\n      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer)\n      {\n      var value = valueIn;\n      let outWidth = ").concat(e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])",";\n      ").concat(h,"\n      ").concat(xi(r),"\n      ").concat(k,"\n      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n      }\n    }")},Ni=(e,t,n,a,r,i,o,s,l)=>{let c="NHWC"===t.format,u=c?e[0].dims[3]:e[0].dims[1],d=n[0],h=c?n[2]:n[3],p=c?n[1]:n[2],f=c?n[3]:n[1],m=c&&(u%4===0||u%3===0)&&f%4===0,g=c?f:h*p,y=c?h*p:f,b=[8,8,1],v=a<=8?[4,1,1]:[4,4,1],w=[Math.ceil(g/b[0]/v[0]),Math.ceil(y/b[1]/v[1]),Math.ceil(d/b[2]/v[2])];jt("verbose",(()=>"[conv2d_mm_webgpu] dispatch = ".concat(w)));let _=m?c&&u%4!==0?3:4:1,x=b[1]*v[1],k=b[0]*v[0],T=Math.max(b[0]*_,b[1]),D=a%x===0,A=r%k===0,C=i%T===0,S=m?[_,4,4]:[1,1,1],E=[{type:6,data:a},{type:6,data:r},{type:6,data:i},{type:6,data:[t.pads[0],t.pads[1]]},{type:6,data:t.strides},{type:6,data:t.dilations}];bi(t,E),E.push(...Tn(e[0].dims,e[1].dims));let F=["rank","rank"];o&&(E.push(...Tn(e[2].dims)),F.push("rank")),E.push(...Tn(n));return{name:"Conv2DMatMul",shaderCache:{hint:"".concat(t.cacheKey,";").concat(_,";").concat(m,";").concat(D,";").concat(A,";").concat(C,";").concat(x,";").concat(k,";").concat(T),inputDependencies:F},getRunData:()=>({outputs:[{dims:l?l(n):n,dataType:e[0].dataType}],dispatchGroup:{x:w[0],y:w[1],z:w[2]},programUniforms:E}),getShaderSource:a=>{let r=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"pad",type:"i32",length:2},{name:"stride",type:"i32",length:2},{name:"dilation",type:"i32",length:2}];vi(t,r);let i=m?4:1,l=xn(e[0].dataType),u="\n      fn setOutputAtIndex(flatIndex : i32, value : ".concat(m?"vec4<".concat(l,">"):l,") {\n        result[flatIndex] = ").concat(m?"vec4<".concat(l,">"):l,"(value);\n      }\n      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ").concat(m?"vec4<".concat(l,">"):l,") {\n        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));\n        setOutputAtIndex(flatIndex ").concat(m?"/ 4":"",", value);\n      }"),d=[Mn("x",e[0].dataType,e[0].dims.length,3===_?1:_),Mn("w",e[1].dataType,e[1].dims.length,i)],h=In("result",e[0].dataType,n.length,i);if(o){let t=Mn("bias",e[2].dataType,e[2].dims.length,i);d.push(t),u+="\n        fn getBiasByOutputCoords(coords : vec4<i32>) -> ".concat(m?"vec4<".concat(l,">"):l," {\n          return bias[coords.").concat(c?"w":"y").concat(m?"/ 4":"","];\n        }")}return"\n        ".concat(ki("uniforms.result_strides"),"\n        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,\n        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,\n        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };\n        ").concat(a.registerUniforms(r).declareVariables(...d,h),"\n        ").concat(u,"\n        ").concat(Pi(c,D,A,C,o,t,S[0],S[1],S[2],l),"\n        ").concat(m?Si(v,b,l,void 0,!c,T):Mi(v,b,l,void 0,!c,T,!1,void 0,s))}}}})),cu=pe((()=>{Nc(),Bc(),Lc(),Hc(),au(),ru(),Oi=e=>{let t=1;for(let n=0;n<e.length;n++)t*=e[n];return t},Bi=e=>"number"==typeof e?[e,e,e]:e,Li=(e,t)=>t<=1?e:e+(e-1)*(t-1),Ri=function(e,t,n){let a=Li(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+a)/2)},ji=(e,t,n,a,r)=>{null==r&&(r=Ri(e,t[0],a[0]));let i=[0,0,0,n];for(let o=0;o<3;o++)e[o]+2*r>=t[o]&&(i[o]=Math.trunc((e[o]-t[o]+2*r)/a[o]+1));return i},Vi=(e,t,n,a,r,i,o,s,l,c)=>{let u,d,h,p;if("VALID"===e&&(e=0),"number"==typeof e){u={top:e,bottom:e,left:e,right:e,front:e,back:e};let f=ji([t,n,a,1],[s,l,c],1,[r,i,o],e);d=f[0],h=f[1],p=f[2]}else if(Array.isArray(e)){if(!e.every(((e,t,n)=>e===n[0])))throw Error("Unsupported padding parameter: ".concat(e));u={top:e[0],bottom:e[1],left:e[2],right:e[3],front:e[4],back:e[5]};let f=ji([t,n,a,1],[s,l,c],1,[r,i,o],e[0]);d=f[0],h=f[1],p=f[2]}else{if("SAME_UPPER"!==e)throw Error("Unknown padding parameter: ".concat(e));{d=Math.ceil(t/r),h=Math.ceil(n/i),p=Math.ceil(a/o);let e=(d-1)*r+s-t,f=(h-1)*i+l-n,m=(p-1)*o+c-a,g=Math.floor(e/2),y=e-g,b=Math.floor(f/2),v=f-b,w=Math.floor(m/2);u={top:b,bottom:v,left:w,right:m-w,front:g,back:y}}}return{padInfo:u,outDepth:d,outHeight:h,outWidth:p}},qi=function(e,t,n,a,r){let i,o,s,l,c,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";if("channelsLast"===d)[i,o,s,l,c]=e;else{if("channelsFirst"!==d)throw new Error("Unknown dataFormat ".concat(d));[i,c,o,s,l]=e}let[h,,p,f,m]=t,[g,y,b]=Bi(n),[v,w,_]=Bi(a),x=Li(p,v),k=Li(f,w),T=Li(m,_),{padInfo:D,outDepth:A,outHeight:C,outWidth:S}=Vi(r,o,s,l,g,y,b,x,k,T),E=u?h*c:h,F=[0,0,0,0,0];return"channelsFirst"===d?F=[i,E,A,C,S]:"channelsLast"===d&&(F=[i,A,C,S,E]),{batchSize:i,dataFormat:d,inDepth:o,inHeight:s,inWidth:l,inChannels:c,outDepth:A,outHeight:C,outWidth:S,outChannels:E,padInfo:D,strideDepth:g,strideHeight:y,strideWidth:b,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:x,effectiveFilterHeight:k,effectiveFilterWidth:T,dilationDepth:v,dilationHeight:w,dilationWidth:_,inShape:e,outShape:F,filterShape:t}},Ui=(e,t,n,a,r,i)=>{let o="channelsLast"===i,s=(o?e[0].dims[3]:e[0].dims[1],{x:n.map(((e,t)=>t))}),l=[Math.ceil(Oi(s.x.map((e=>n[e])))/64),1,1];jt("verbose",(()=>"[conv3d_naive_webgpu] dispatch = ".concat(l)));let c=[{type:12,data:Ut.size(n)},{type:12,data:a},{type:12,data:r},{type:12,data:t.strides},{type:12,data:t.dilations}];bi(t,c),c.push(...Tn(e[0].dims,e[1].dims));let u=["rank","rank"],d=3===e.length;d&&(c.push(...Tn(e[2].dims)),u.push("rank")),c.push(...Tn(n));return{name:"Conv3DNaive",shaderCache:{hint:"".concat(t.cacheKey,";").concat(o,";").concat(1,";").concat(d),inputDependencies:u},getRunData:()=>({outputs:[{dims:n,dataType:e[0].dataType}],dispatchGroup:{x:l[0],y:l[1],z:l[2]},programUniforms:c}),getShaderSource:i=>{let s=[{name:"output_size",type:"u32"},{name:"filter_dims",type:"u32",length:a.length},{name:"pads",type:"u32",length:r.length},{name:"strides",type:"u32",length:t.strides.length},{name:"dilations",type:"u32",length:t.dilations.length}];vi(t,s);let l=xn(e[0].dataType),c=Mn("x",e[0].dataType,e[0].dims.length,1),u=Mn("W",e[1].dataType,e[1].dims.length,1),h=[c,u],p=In("result",e[0].dataType,n.length,1),f="";if(d){let t=Mn("bias",e[2].dataType,e[2].dims.length,1);h.push(t),f+="\n        fn getBiasByOutputCoords(coords : array<u32, 5>) -> ".concat(l," {\n          return bias[").concat(En("coords",o?4:1,5)).concat("","];\n        }")}let m=_i(1,l),g=yi(t,m,l);return"\n            ".concat(f,"\n            fn getX(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {\n              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);\n              return ").concat(c.getByIndices("aIndices"),";\n            }\n            fn getW(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {\n              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);\n              return ").concat(u.getByIndices("aIndices"),";\n            }\n          ").concat(i.registerUniforms(s).declareVariables(...h,p),"\n          ").concat(i.mainStart(),"\n          ").concat(i.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n              let coords = ").concat(p.offsetToIndices("global_idx"),";\n              let batch = ").concat(En("coords",0,c.rank),";\n              let d2 = ").concat(En("coords",o?c.rank-1:1,c.rank),";\n              let xFRCCorner = vec3<u32>(").concat(En("coords",o?1:2,c.rank),",\n              ").concat(En("coords",o?2:3,c.rank),",\n              ").concat(En("coords",o?3:4,c.rank),") * uniforms.strides - uniforms.pads;\n              let xFCorner = xFRCCorner.x;\n              let xRCorner = xFRCCorner.y;\n              let xCCorner = xFRCCorner.z;\n              let xShapeY = ").concat(En("uniforms.x_shape",o?1:2,c.rank),";\n              let xShapeZ = ").concat(En("uniforms.x_shape",o?2:3,c.rank),";\n              let xShapeW = ").concat(En("uniforms.x_shape",o?3:4,c.rank),";\n              let xShapeU = ").concat(En("uniforms.x_shape",o?4:1,c.rank),";\n              let inputDepthNearestVec4 = (xShapeU / 4) * 4;\n              let inputDepthVec4Remainder = xShapeU % 4;\n\n              var value = 0.0;\n              for (var wF = 0u; wF < uniforms.filter_dims[0]; wF++) {\n                let xF = xFCorner + wF * uniforms.dilations[0];\n                if (xF < 0 || xF >= xShapeY) {\n                  continue;\n                }\n\n                for (var wR = 0u; wR < uniforms.filter_dims[1]; wR++) {\n                  let xR = xRCorner + wR * uniforms.dilations[1];\n                  if (xR < 0 || xR >= xShapeZ) {\n                    continue;\n                  }\n\n                  for (var wC = 0u; wC < uniforms.filter_dims[2]; wC++) {\n                    let xC = xCCorner + wC * uniforms.dilations[2];\n                    if (xC < 0 || xC >= xShapeW) {\n                      continue;\n                    }\n\n                    for (var d1 = 0u; d1 < inputDepthNearestVec4; d1 += 4) {\n                      ").concat(o?"let xValues = vec4<f32>(\n                               getX(batch, xF, xR, xC, d1),\n                               getX(batch, xF, xR, xC, d1 + 1),\n                               getX(batch, xF, xR, xC, d1 + 2),\n                               getX(batch, xF, xR, xC, d1 + 3));\n                            ":"let xValues = vec4<f32>(\n                               getX(batch, d1, xF, xR, xC),\n                               getX(batch, d1 + 1, xF, xR, xC),\n                               getX(batch, d1 + 2, xF, xR, xC),\n                               getX(batch, d1 + 3, xF, xR, xC));\n                            ","\n                            let wValues = vec4<f32>(\n                              getW(d2, d1, wF, wR, wC),\n                              getW(d2, d1 + 1, wF, wR, wC),\n                              getW(d2, d1 + 2, wF, wR, wC),\n                              getW(d2, d1 + 3, wF, wR, wC));\n                      value += dot(xValues, wValues);\n                    }\n                    if (inputDepthVec4Remainder == 1) {\n                        ").concat(o?"value += getX(batch, xF, xR, xC, inputDepthNearestVec4)\n                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);":"value += getX(batch, inputDepthNearestVec4, xF, xR, xC)\n                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);","\n                    } else if (inputDepthVec4Remainder == 2) {\n                      ").concat(o?"let xValues = vec2<f32>(\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4),\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1));\n                      ":"let xValues = vec2<f32>(\n                        getX(batch, inputDepthNearestVec4, xF, xR, xC),\n                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC));\n                    ","\n                    let wValues = vec2<f32>(\n                      getW(d2, inputDepthNearestVec4, wF, wR, wC),\n                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC));\n                      value += dot(xValues, wValues);\n                    } else if (inputDepthVec4Remainder == 3) {\n                      ").concat(o?"let xValues = vec3<f32>(\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4),\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1),\n                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 2));\n                      ":"let xValues = vec3<f32>(\n                        getX(batch, inputDepthNearestVec4, xF, xR, xC),\n                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC),\n                        getX(batch, inputDepthNearestVec4 + 2, xF, xR, xC));\n                    ","\n                    let wValues = vec3<f32>(\n                      getW(d2, inputDepthNearestVec4, wF, wR, wC),\n                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC),\n                      getW(d2, inputDepthNearestVec4 + 2, wF, wR, wC));\n                      value += dot(xValues, wValues);\n                    }\n                  }\n                }\n              }\n              ").concat(d?"value = value + getBiasByOutputCoords(coords)":"",";\n              ").concat(g,"\n              result[global_idx] = f32(value);\n          }")}}}})),uu=pe((()=>{Nc(),Lc(),Hc(),au(),Gi=(e,t,n,a)=>{let r=e.length>2,i=r?"value += b[output_channel];":"",o=e[0].dims,s=e[1].dims,l="NHWC"===t.format,c=l?n[3]:n[1],u=c/t.group,d=l&&u>=4?Dn(c):1,h=Ut.size(n)/d,p=[{type:12,data:h},{type:12,data:t.dilations},{type:12,data:[t.strides[0],t.strides[1]]},{type:12,data:[t.pads[0],t.pads[1]]},{type:12,data:u}];bi(t,p),p.push(...Tn(o,[s[0],s[1],s[2],s[3]/d]));let f=r?["rank","rank","rank"]:["rank","rank"];p.push(...Tn([n[0],n[1],n[2],n[3]/d]));return{name:"GroupedConv",shaderCache:{hint:"".concat(t.cacheKey,"_").concat(d),inputDependencies:f},getRunData:()=>({outputs:[{dims:a?a(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(h/64)},programUniforms:p}),getShaderSource:a=>{let c=In("output",e[0].dataType,n.length,d),u=xn(c.type.tensor),h=yi(t,c.type.value,u),p=Mn("x",e[0].dataType,o.length),f=Mn("w",e[1].dataType,s.length,d),m=[p,f];r&&m.push(Mn("b",e[2].dataType,e[2].dims,d));let g=[{name:"output_size",type:"u32"},{name:"dilations",type:"u32",length:t.dilations.length},{name:"strides",type:"u32",length:2},{name:"pads",type:"u32",length:2},{name:"output_channels_per_group",type:"u32"}];vi(t,g);let y=l?"\n      for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[0]; wHeight++) {\n        let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];\n\n        if (xHeight < 0u || xHeight >= uniforms.x_shape[1]) {\n          continue;\n        }\n\n        for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[1]; wWidth++) {\n          let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];\n          if (xWidth < 0u || xWidth >= uniforms.x_shape[2]) {\n            continue;\n          }\n\n          for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[2]; wInChannel++) {\n            let input_channel = in_channel_offset + wInChannel;\n            let xVal = ".concat(p.get("batch","xHeight","xWidth","input_channel"),";\n            let wVal = ").concat(f.get("wHeight","wWidth","wInChannel","output_channel"),";\n            value += xVal * wVal;\n          }\n        }\n      }\n      "):"\n      for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[1]; wInChannel++) {\n        let input_channel = in_channel_offset + wInChannel;\n        for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[2]; wHeight++) {\n          let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];\n\n          if (xHeight < 0u || xHeight >= uniforms.x_shape[2]) {\n            continue;\n          }\n\n          for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[3]; wWidth++) {\n            let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];\n            if (xWidth < 0u || xWidth >= uniforms.x_shape[3]) {\n              continue;\n            }\n\n            let xVal = ".concat(p.get("batch","input_channel","xHeight","xWidth"),";\n            let wVal = ").concat(f.get("output_channel","wInChannel","wHeight","wWidth"),";\n            value += xVal * wVal;\n          }\n        }\n      }\n      ");return"\n  ".concat(a.registerUniforms(g).declareVariables(...m,c),"\n\n  ").concat(a.mainStart(),"\n    ").concat(a.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n\n    let outputIndices = ").concat(c.offsetToIndices("global_idx"),";\n    let batch: u32 = outputIndices[0];\n    let output_channel: u32 = outputIndices[").concat(l?3:1,"];\n    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[").concat(l?1:2,"], outputIndices[").concat(l?2:3,"]) * uniforms.strides - uniforms.pads;\n    let group_id: u32 = output_channel * ").concat(d," / uniforms.output_channels_per_group;\n    var in_channel_offset = group_id * uniforms.w_shape[").concat(l?2:1,"];\n\n    var value: ").concat(c.type.value," = ").concat(c.type.value,"(0);\n    ").concat(y,"\n    ").concat(i,"\n    ").concat(h,"\n    ").concat(c.setByOffset("global_idx","value"),"\n  }")}}},Hi=(e,t,n,a)=>{let r=e.length>2,i=Dn(n[3]),o=Dn(n[2]),s=Ut.size(n)/i/o,l=[e[0].dims[0],e[0].dims[1],e[0].dims[2],e[0].dims[3]/i],c=[e[1].dims[0],e[1].dims[1],e[1].dims[2],e[1].dims[3]/i],u=[n[0],n[1],n[2],n[3]/i],d=[{type:12,data:s},{type:6,data:[t.strides[0],t.strides[1]]},{type:6,data:[t.pads[0],t.pads[1]]}];bi(t,d),d.push(...Tn(l,c,u));let h=(o-1)*t.strides[1]+c[1];return{name:"GroupedConv-Vectorize",shaderCache:{hint:"".concat(t.cacheKey,";").concat(i,";").concat(o,";").concat(h,";").concat(c[0],";").concat(c[1]),inputDependencies:r?["rank","rank","type"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:a?a(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(s/64)},programUniforms:d}),getShaderSource:n=>{let a=In("output",e[0].dataType,u.length,i),s=xn(a.type.tensor),d=yi(t,a.type.value,s),p=Mn("x",e[0].dataType,l.length,i),f=Mn("w",e[1].dataType,c.length,i),m=[p,f];r&&m.push(Mn("b",e[2].dataType,e[2].dims,i));let g=r?"value += b[output_channel];":"",y=[{name:"output_size",type:"u32"},{name:"strides",type:"i32",length:2},{name:"pads",type:"i32",length:2}];return vi(t,y),"\n  ".concat(n.registerUniforms(y).declareVariables(...m,a),"\n  ").concat(n.mainStart(),"\n    ").concat(n.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let width0 = uniforms.output_shape[3];\n    let output_channel = global_idx % width0;\n    var index1 = global_idx / width0;\n    let width1 = uniforms.output_shape[2] / ").concat(o,"u;\n    let col = (index1 % width1) * ").concat(o,"u;\n    index1 = index1 / width1;\n    let row = index1 % uniforms.output_shape[1];\n    let batch = index1 / uniforms.output_shape[1];\n\n    let x_corner = vec2<i32>(i32(row), i32(col)) * uniforms.strides - uniforms.pads;\n\n    var x_vals: array<").concat(p.type.value,", ").concat(h,">;\n    var values: array<").concat(a.type.value,", ").concat(o,">;\n    let input_channel = output_channel;\n    // Use constant instead of uniform can give better performance for w's height/width.\n    for (var w_height: u32 = 0u; w_height < ").concat(c[0],"; w_height++) {\n      let x_height = x_corner.x + i32(w_height);\n      if (x_height >= 0 && u32(x_height) < uniforms.x_shape[1]) {\n        for (var i = 0; i < ").concat(h,"; i++) {\n          let x_width = x_corner.y + i;\n          if (x_width >= 0 && u32(x_width) < uniforms.x_shape[2]) {\n            x_vals[i] = ").concat(p.get("batch","u32(x_height)","u32(x_width)","input_channel"),";\n          } else {\n            x_vals[i] = ").concat(p.type.value,"(0);\n          }\n        }\n        for (var w_width: u32 = 0u; w_width < ").concat(c[1],"; w_width++) {\n          let w_val = ").concat(f.get("w_height","w_width","0","output_channel"),";\n          for (var i = 0u; i < ").concat(o,"u; i++) {\n            values[i] = fma(x_vals[i * u32(uniforms.strides[1]) + w_width], w_val, values[i]);\n          }\n        }\n      }\n    }\n\n    for (var i = 0u; i < ").concat(o,"u; i++) {\n      var value = values[i];\n      ").concat(g,"\n      ").concat(d,"\n      ").concat(a.set("batch","row","col + i","output_channel","value"),";\n    }\n  }")}}}})),du=pe((()=>{Lc(),lu(),cu(),su(),uu(),au(),ou(),Wc(),Wi=(e,t,n,a,r,i)=>{let o=e[0],s=e.slice(i?1:2,i?3:4),l=s.length,c=t[0],u=t.slice(2).map(((e,t)=>e+(e-1)*(n[t]-1))),d=s.map(((e,t)=>e+a[t]+a[t+l])).map(((e,t)=>Math.floor((e-u[t]+r[t])/r[t])));return d.splice(0,0,o),d.splice(i?3:1,0,c),d},Ki=[2,3,1,0],Yi=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length>5)throw new Error("greater than 5D is not supported");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");if(e[0].dims["NHWC"===t.format?e[0].dims.length-1:1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");let n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error("dilations should be ".concat(n,"D"));if(t.strides.length!==n)throw new Error("strides should be ".concat(n,"D"));if(t.pads.length!==2*n)throw new Error("pads should be ".concat(2*n,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape")},Ji=(e,t)=>{let n=e.kernelShape.slice();n.length<t[1].dims.length-2&&n.push(...Array(t[1].dims.length-2-n.length).fill(0));for(let i=2;i<t[1].dims.length;++i)0===n[i-2]&&(n[i-2]=t[1].dims[i]);let a=e.pads.slice();Gt.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,a,"NHWC"===e.format,e.autoPad);let r=Object.assign({},e);return Object.assign(r,{kernelShape:n,pads:a}),r},Zi=e=>{let t=wi(e),n=e.format;return u(u({autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],format:n,dilations:e.dilations,group:e.group,kernelShape:e.kernel_shape,pads:e.pads,strides:e.strides,wIsConst:e.w_is_const()},t),{},{cacheKey:"".concat(e.format,";").concat(t.activation,";")})},Xi=(e,t,n,a)=>{var r;let i="NHWC"===n.format,o=Wi(t[0].dims,t[1].dims,n.dilations,n.pads,n.strides,i);if(1!==n.group){let r=[t[0]];if(i){var s;let a=null!==(s=e.kernelCustomData.wT)&&void 0!==s?s:e.compute(Un(t[1],Ki),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=a),r.push(a)}else r.push(t[1]);return 3===t.length&&r.push(t[2]),void(!e.adapterInfo.isArchitecture("ampere")&&i&&t[1].dims[0]===n.group&&1===t[1].dims[1]&&1===n.dilations[0]&&1===n.dilations[1]?e.compute(Hi(r,n,o,a),{inputs:r}):e.compute(Gi(r,n,o,a),{inputs:r}))}let l=3===t.length,c=t[0].dims[i?1:2],u=t[0].dims[i?2:3],d=t[0].dims[i?3:1],h=t[1].dims[2],p=t[1].dims[3],f=o[i?1:2],m=o[i?2:3],g=o[i?3:1],y=i&&h===c&&p===u&&0===n.pads[0]&&0===n.pads[1];if(y||1===h&&1===p&&1===n.dilations[0]&&1===n.dilations[1]&&1===n.strides[0]&&1===n.strides[1]&&0===n.pads[0]&&0===n.pads[1]){let r,s,h,p=o[0],v=[];if(i){var b;let a=null!==(b=e.kernelCustomData.wT)&&void 0!==b?b:e.compute(Un(t[1],Ki),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];if(n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=a),y){let e=c*u*d;r=t[0].reshape([1,p,e]),s=a.reshape([1,e,g]),h=[1,p,g]}else r=t[0].reshape([p,c*u,d]),s=a.reshape([1,d,g]),h=[p,f*m,g];v.push(r),v.push(s)}else r=t[0].reshape([p,d,c*u]),s=t[1].reshape([1,g,d]),h=[p,g,f*m],v.push(s),v.push(r);l&&v.push(t[2]);let w=h[2],_=v[0].dims[v[0].dims.length-1];return void(w<8&&_<8?e.compute(Di(v,n,o,h,i,a),{inputs:v}):e.compute(zi(v,n,o,h,i,a),{inputs:v}))}let v=null!==(r=e.kernelCustomData.wT)&&void 0!==r?r:e.compute(Un(t[1],Ki),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=v);let w=[t[0],v];l&&w.push(t[2]);let _=i?f*m:g,x=i?g:f*m,k=h*p*d;e.compute(Ni(w,n,o,_,x,k,l,!0,a),{inputs:w})},$i=(e,t)=>{let n="NHWC"===t.format,a=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];3===e.inputs.length&&a.push(e.inputs[2]);let r=[0,t.pads[0],0,t.pads[1]],i=[1].concat(t.strides),o=[1].concat(t.dilations),s=[1].concat(t.kernelShape),l=Ji(u(u({},t),{},{pads:r,strides:i,dilations:o,kernelShape:s}),a);Xi(e,a,l,(e=>n?[e[0],e[2],e[3]]:[e[0],e[1],e[3]]))},Qi=(e,t,n)=>{let a="NHWC"===n.format?"channelsLast":"channelsFirst",r=Ji(n,t),i="NOTSET"===n.autoPad?n.pads:n.autoPad,o=qi(t[0].dims,t[1].dims,n.strides,n.dilations,i,!1,a);e.compute(Ui(t,r,o.outShape,[o.filterDepth,o.filterHeight,o.filterWidth],[o.padInfo.front,o.padInfo.top,o.padInfo.left],a))},eo=(e,t)=>{if(Yi(e.inputs,t),3===e.inputs[0].dims.length)$i(e,t);else if(5===e.inputs[0].dims.length)Qi(e,e.inputs,t);else{let n=Ji(t,e.inputs);Xi(e,e.inputs,n)}}})),hu=pe((()=>{Nc(),Bc(),Lc(),Hc(),to=(e,t,n)=>{let a=e.length>2,r=t.outputShape,i="NHWC"===t.format,o=t.group,s=e[1].dims,l=s[2]/o,c=s[3],u=i?Dn(l):1,d=i&&1===c&&l>=4,h=d?4*Math.floor(l/4):Math.floor(l/u)*u,p=l-h,f=i?Dn(c):1,m=i?1===c?u:f:1,g=Ut.size(r)/f,y=[Math.ceil(g/64),1,1];jt("verbose",(()=>"[conv2d_backprop_webgpu] dispatch = ".concat(y)));let b=["rank","rank"],v=[t.strides[0],t.strides[1]],w=[t.kernelShape[i?1:2],t.kernelShape[i?2:3]],_=[t.dilations[0],t.dilations[1]],x=[w[0]+(t.dilations[0]<=1?0:(t.kernelShape[i?1:2]-1)*(t.dilations[0]-1)),w[1]+(t.dilations[1]<=1?0:(t.kernelShape[i?2:3]-1)*(t.dilations[1]-1))],k=[x[0]-1-Math.floor((t.pads[0]+t.pads[2])/2),x[1]-1-Math.floor((t.pads[1]+t.pads[3])/2)],T=[{type:12,data:g},{type:12,data:v},{type:12,data:w},{type:12,data:_},{type:12,data:x},{type:6,data:k},{type:12,data:h},{type:12,data:l},{type:12,data:c},...Tn(e[0].dims,e[1].dims)];a&&(T.push(...Tn(e[2].dims)),b.push("rank")),T.push(...Tn(r));return{name:"ConvTranspose2D",shaderCache:{hint:"".concat(t.cacheKey,";").concat(u).concat(m).concat(f).concat(d).concat(p),inputDependencies:b},getRunData:()=>({dispatchGroup:{x:y[0],y:y[1],z:y[2]},outputs:[{dims:n?n(r):r,dataType:e[0].dataType}],programUniforms:T}),getShaderSource:t=>{let n=[{name:"output_size",type:"u32"},{name:"strides",type:"u32",length:v.length},{name:"filter_dims",type:"u32",length:w.length},{name:"dilations",type:"u32",length:w.length},{name:"effective_filter_dims",type:"u32",length:x.length},{name:"pads",type:"i32",length:k.length},{name:"input_channels_per_group_int",type:"u32"},{name:"input_channels_per_group",type:"u32"},{name:"output_channels_per_group",type:"u32"}],o=xn(e[0].dataType),s=i?1:2,l=i?2:3,c=i?3:1,h=Mn("W",e[1].dataType,e[1].dims.length,m),g=Mn("Dy",e[0].dataType,e[0].dims.length,u),y=[g,h];a&&y.push(Mn("bias",e[2].dataType,[r[c]].length,f));let b=In("result",e[0].dataType,r.length,f),_="\n            let outputIndices = ".concat(b.offsetToIndices("global_idx * ".concat(f)),";\n            let batch = ").concat(b.indicesGet("outputIndices",0),";\n            let d1 = ").concat(b.indicesGet("outputIndices",c),";\n            let r = ").concat(b.indicesGet("outputIndices",s),";\n            let c = ").concat(b.indicesGet("outputIndices",l),";\n            let dyCorner = vec2<i32>(i32(r), i32(c)) - uniforms.pads;\n            let dyRCorner = dyCorner.x;\n            let dyCCorner = dyCorner.y;\n            let groupId = d1 / uniforms.output_channels_per_group;\n            let wOutChannel = d1 - groupId * uniforms.output_channels_per_group;\n            // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n            // ? = to be determined. : = across all values in that axis.\n            var dotProd = ").concat(b.type.value,"(0.0);\n            var wR: u32 = 0;\n            if (uniforms.dilations.x == 1) {\n              // Minimum wR >= 0 that satisfies (dyRCorner + wR) % (uniforms.strides.x) == 0\n              wR = u32(((dyRCorner + i32(uniforms.strides.x) - 1) / i32(uniforms.strides.x)) * i32(uniforms.strides.x) - dyRCorner);\n            }\n            for (; wR < uniforms.effective_filter_dims.x; wR = wR + 1) {\n              if (wR % uniforms.dilations.x != 0) {\n                continue;\n              }\n              let dyR = (").concat(o,"(dyRCorner) + ").concat(o,"(wR)) / ").concat(o,"(uniforms.strides[0]);\n              let wRPerm = uniforms.filter_dims.x - 1 - wR / uniforms.dilations.x;\n              if (dyR < 0.0 || dyR >= ").concat(o,"(uniforms.Dy_shape[").concat(s,"]) || fract(dyR) > 0.0 ||\n                  wRPerm < 0) {\n                continue;\n              }\n              let idyR: u32 = u32(dyR);\n              var wC: u32 = 0;\n              if (uniforms.dilations.y == 1) {\n                // Minimum wC >= 0 that satisfies (dyCCorner + wC) % (uniforms.strides.y) == 0\n                wC = u32(((dyCCorner + i32(uniforms.strides.y) - 1) / i32(uniforms.strides.y)) * i32(uniforms.strides.y) - dyCCorner);\n              }\n              for (; wC < uniforms.effective_filter_dims.y; wC = wC + 1) {\n                if (wC % uniforms.dilations.y != 0) {\n                  continue;\n                }\n                let dyC = (").concat(o,"(dyCCorner) + ").concat(o,"(wC)) / ").concat(o,"(uniforms.strides.y);\n                let wCPerm = uniforms.filter_dims.y - 1 - wC / uniforms.dilations.y;\n                if (dyC < 0.0 || dyC >= ").concat(o,"(uniforms.Dy_shape[").concat(l,"]) ||\n                    fract(dyC) > 0.0 || wCPerm < 0) {\n                  continue;\n                }\n                let idyC: u32 = u32(dyC);\n                var inputChannel = groupId * uniforms.input_channels_per_group;\n                ").concat(d?"\n                var x_offset = ".concat(g.indicesToOffset("".concat(g.type.indices,"(batch, idyR, idyC, inputChannel)"))," / ").concat(u,";\n                var w_offset = ").concat(h.indicesToOffset("".concat(h.type.indices,"(wRPerm, wCPerm, inputChannel, wOutChannel)"))," / ").concat(m,";\n                  "):"","\n                for (var d2: u32 = 0; d2 < uniforms.input_channels_per_group_int; d2 = d2 + ").concat(d?4:u,") {\n                  ").concat((()=>{let e="";if(d)4===u?e+="\n        let xValue = ".concat(g.getByOffset("x_offset"),";\n        let wValue = ").concat(h.getByOffset("w_offset"),";\n        dotProd = dotProd + dot(xValue, wValue);\n        x_offset += 1u;\n        w_offset += 1u;"):2===u?e+="\n          dotProd = dotProd + dot(vec4<".concat(o,">(").concat(g.getByOffset("x_offset"),", ").concat(g.getByOffset("x_offset + 1u"),"), vec4<").concat(o,">(").concat(h.getByOffset("w_offset"),", ").concat(h.getByOffset("w_offset + 1u"),"));\n          x_offset += 2u;\n          w_offset += 2u;"):1===u&&(e+="\n          dotProd = dotProd + dot(vec4<".concat(o,">(").concat(g.getByOffset("x_offset"),", ").concat(g.getByOffset("x_offset + 1u"),", ").concat(g.getByOffset("x_offset + 2u"),", ").concat(g.getByOffset("x_offset + 3u"),"), vec4<").concat(o,">(").concat(h.getByOffset("w_offset"),", ").concat(h.getByOffset("w_offset + 1u"),", ").concat(h.getByOffset("w_offset + 2u"),", ").concat(h.getByOffset("w_offset + 3u"),"));\n          x_offset += 4u;\n          w_offset += 4u;"));else if(e+="\n                  let xValue = ".concat(i?g.getByOffset("".concat(g.indicesToOffset("".concat(g.type.indices,"(batch, idyR, idyC, inputChannel)"))," / ").concat(u)):g.get("batch","inputChannel","idyR","idyC"),";\n        "),1===u)e+="\n          let w_offset = ".concat(h.indicesToOffset("".concat(h.type.indices,"(u32(wRPerm), u32(wCPerm), inputChannel, wOutChannel)")),";\n          let wValue = ").concat(h.getByOffset("w_offset / ".concat(m)),";\n          dotProd = dotProd + xValue * wValue;");else for(let t=0;t<u;t++)e+="\n            let wValue".concat(t," = ").concat(h.getByOffset("".concat(h.indicesToOffset("".concat(h.type.indices,"(u32(wRPerm), u32(wCPerm), inputChannel + ").concat(t,", wOutChannel)"))," / ").concat(m)),";\n            dotProd = dotProd + xValue[").concat(t,"] * wValue").concat(t,";");return e})(),"\n                  inputChannel = inputChannel + ").concat(d?4:u,";\n                }\n                ").concat((()=>{if(0===p)return"";if(!d)throw new Error("packInputAs4 ".concat(d," is not true."));let e="";if(1===u){e+="dotProd = dotProd";for(let t=0;t<p;t++)e+="\n            + ".concat(g.getByOffset("x_offset + ".concat(t))," * ").concat(h.getByOffset("w_offset + ".concat(t)));e+=";"}else if(2===u){if(2!==p)throw new Error("Invalid inputChannelsRemainder ".concat(p,"."));e+="\n          let xValue = ".concat(g.getByOffset("x_offset"),";\n          let wValue = ").concat(h.getByOffset("w_offset"),";\n          dotProd = dotProd + dot(xValue, wValue);")}return e})(),"\n                wC = wC + uniforms.strides.y - 1;\n              }\n              wR = wR + uniforms.strides[0] - 1;\n            }\n            let value = dotProd").concat(a?" + bias[d1 / ".concat(f,"]"):"",";\n            ").concat(b.setByOffset("global_idx","value"),";\n          ");return"\n    ".concat(t.registerUniforms(n).declareVariables(...y,b),"\n      ").concat(t.mainStart(),"\n      ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),";\n    ").concat(_,"}")}}}})),pu=pe((()=>{hu(),au(),Wc(),no=(e,t,n,a,r,i)=>(e-1)*t+n+(a-1)*r+1-i,ao=(e,t,n,a,r)=>{let i=Math.floor(e/2);"SAME_UPPER"===t?(n[a]=i,n[r]=e-i):"SAME_LOWER"===t&&(n[a]=e-i,n[r]=i)},ro=(e,t,n,a,r,i,o,s,l,c)=>{let u=e.length-2,d=0===c.length;l.length<u&&l.push(...Array(u-l.length).fill(0));let h=e[0],p=t[s?3:1]*r;for(let f=0,m=e.length-u-(s?1:0);f<u;++f,++m){let r=e[m],s=d?r*o[f]:c[f],h=no(r,o[f],i[f],t[m],n[f],s);ao(h,a,i,f,f+u),d&&c.push(o[f]*(r-1)+l[f]+(t[m]-1)*n[f]+1-i[f]-i[f+u])}c.splice(0,0,h),c.splice(s?3:1,0,p)},io=(e,t)=>{let n=e.kernelShape.slice();if(0===e.kernelShape.length||0===e.kernelShape.reduce(((e,t)=>e*t),1)){n.length=0;for(let e=2;e<t[1].dims.length;++e)n.push(t[1].dims[e])}let a="NHWC"===e.format;n.splice(0,0,t[1].dims[0]),n.splice(a?3:1,0,t[1].dims[1]);let r=e.pads.slice(),i=e.outputShape.slice(),o=e.outputPadding.slice(),s=t[0].dims,l=e.dilations.slice();if(0===l.reduce(((e,t)=>e+t),0)){let e=t[0].dims.length-2;l=new Array(e).fill(1)}let c=e.strides.slice();if(0===c.reduce(((e,t)=>e+t),0)){let e=t[0].dims.length-2;c=new Array(e).fill(1)}ro(s,n,l,e.autoPad,e.group,r,c,a,o,i);let u=Object.assign({},e);return Object.assign(u,{kernelShape:n,pads:r,outputPadding:o,outputShape:i,dilations:l,strides:c}),u},oo=e=>{let t=wi(e),n=e.format,a=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][typeof e.autoPad>"u"?0:e.autoPad],r=e.dilations,i=e.group,o=e.kernelShape,s=e.pads,l=e.strides,c=e.wIsConst();return u(u({autoPad:a,format:n,dilations:r,group:i,kernelShape:o,outputPadding:e.outputPadding,outputShape:e.outputShape,pads:s,strides:l,wIsConst:c},t),{},{cacheKey:"".concat(e.format,";").concat(t.activation,";")})},so=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length&&3!==e[0].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");if(e[0].dims["NHWC"===t.format?e[0].dims.length-1:1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");let a=e[0].dims.length-2;if(t.dilations.reduce(((e,t)=>e+t),0)>0&&t.dilations.length!==a)throw new Error("dilations should be ".concat(a,"D"));if(t.strides.reduce(((e,t)=>e+t),0)>0&&t.strides.length!==a)throw new Error("strides should be ".concat(a,"D"));if(t.pads.reduce(((e,t)=>e+t),0)>0&&t.pads.length!==2*a)throw new Error("pads should be ".concat(2*a,"D"));if(t.outputPadding.length!==a&&0!==t.outputPadding.length)throw new Error("output_padding should be ".concat(a,"D"));if(t.kernelShape.reduce(((e,t)=>e+t),0)>0&&0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape")},lo=(e,t,n,a)=>{var r;let i=null!==(r=e.kernelCustomData.wT)&&void 0!==r?r:e.compute(Un(t[1],[2,3,0,1]),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=i);let o=[t[0],i];3===t.length&&o.push(t[2]),e.compute(to(o,n,a),{inputs:o})},co=(e,t)=>{let n="NHWC"===t.format,a=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];3===e.inputs.length&&a.push(e.inputs[2]);let r=t.kernelShape;(0===r.length||0===r[0])&&(r=[e.inputs[1].dims[2]]);let i=t.dilations;(0===i.length||0===i[0])&&(i=[1]);let o=t.strides;(0===o.length||0===o[0])&&(o=[1]);let s=t.pads;0===s.length&&(s=[0,0]),s=[0,s[0],0,s[1]],o=[1].concat(o),i=[1].concat(i),r=[1].concat(r);let l=t.outputPadding;l=[0].concat(l);let c=io(u(u({},t),{},{pads:s,strides:o,dilations:i,kernelShape:r,outputPadding:l}),a);lo(e,a,c,(e=>n?[e[0],e[2],e[3]]:[e[0],e[1],e[3]]))},uo=(e,t)=>{if(so(e.inputs,t),3===e.inputs[0].dims.length)co(e,t);else{let n=io(t,e.inputs);lo(e,e.inputs,n)}}})),fu=pe((()=>{Nc(),Lc(),Gc(),Hc(),ho=(e,t,n,a)=>{let r=Ut.size(t),i=t.length,o=Mn("input",e,i),s=In("output",e,i),l=6===n.dataType?n.getInt32Array()[0]:Number(n.getBigInt64Array()[0]),c=Ut.normalizeAxis(l,i);return{name:"CumSum",shaderCache:{hint:a.cacheKey,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:t,dataType:e}],dispatchGroup:{x:Math.ceil(r/64)},programUniforms:[{type:12,data:r},{type:12,data:c},...Tn(t,t)]}),getShaderSource:e=>{let t=" i32(".concat(o.indicesGet("inputIndices","uniforms.axis"),") "),n=En("uniforms.input_shape","uniforms.axis",i),r=a.reverse?t+(a.exclusive?" + 1":""):"0",l=a.reverse?n:t+(a.exclusive?"":" + 1");return"\n                ".concat(e.registerUniform("outputSize","u32").registerUniform("axis","u32").declareVariables(o,s),"\n                ").concat(e.mainStart(),"\n                  ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n                  var inputIndices = ").concat(s.offsetToIndices("global_idx"),";\n                  var sum = ").concat(s.type.value,"(0);\n                  let first : i32 = ").concat(r,";\n                  let last : i32 = ").concat(l,";\n                  for (var i : i32 = first; i < last; i++) {\n                    ").concat(o.indicesSet("inputIndices","uniforms.axis","u32(i)"),";\n                    sum = sum + ").concat(o.getByIndices("inputIndices"),";\n                  }\n                  ").concat(s.setByOffset("global_idx","sum"),";\n                }")}}},po=(e,t)=>{let n=e.inputs[0].dims,a=e.inputs[0].dataType,r=e.inputs[1];e.compute(ho(a,n,r,t),{inputs:[0]})},fo=e=>{let t=1===e.exclusive,n=1===e.reverse;return vn({exclusive:t,reverse:n})}})),mu=pe((()=>{Nc(),Lc(),Gc(),Hc(),mo=e=>{if(!e||1!==e.length)throw new Error("DepthToSpace requires 1 input.");if(4!==e[0].dims.length)throw new Error("DepthToSpace requires 4D input.")},go=(e,t,n,a)=>{let r=[];r.push("fn perm(i: ".concat(a.type.indices,") -> ").concat(n.type.indices," {\n    var a: ").concat(n.type.indices,";"));for(let i=0;i<t;++i)r.push(n.indicesSet("a",e[i],"i[".concat(i,"]")));return r.push("return a;}"),r.join("\n")},yo=(e,t)=>{let n,a,r,i,o,s,l="NHWC"===t.format,c=t.blocksize,u="DCR"===t.mode;l?([n,a,r,i]=e.dims,o=u?[n,a,r,c,c,i/c**2]:[n,a,r,i/c**2,c,c],s=u?[0,1,3,2,4,5]:[0,1,4,2,5,3]):([n,a,r,i]=[e.dims[0],e.dims[2],e.dims[3],e.dims[1]],o=u?[n,c,c,i/c**2,a,r]:[n,i/c**2,c,c,a,r],s=u?[0,3,4,1,5,2]:[0,1,4,2,5,3]);let d=e.reshape(o),h=d.dims.length,p=e.dataType,f=Mn("a",p,h),m=In("output",p,h);return{name:"DepthToSpace",shaderCache:{hint:"".concat(e.dims,";").concat(t.blocksize,";").concat(t.mode),inputDependencies:["rank"]},getRunData:e=>{let t=l?[n,a*c,r*c,i/c**2]:[n,i/c**2,a*c,r*c],o=Ut.size(t),u=d.dims,h=Ut.sortBasedOnPerm(u,s);return{outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(o/64)},programUniforms:[{type:12,data:o},...Tn(u,h)]}},getShaderSource:e=>"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(f,m),"\n\n  ").concat(go(s,h,f,m),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n\n    let indices = ").concat(m.offsetToIndices("global_idx"),";\n    let aIndices = perm(indices);\n\n    ").concat(m.setByOffset("global_idx",f.getByIndices("aIndices")),"\n  }")}},bo=(e,t)=>{mo(e.inputs),e.compute(yo(e.inputs[0],t))},vo=e=>vn({blocksize:e.blocksize,mode:e.mode,format:e.format})})),gu=pe((()=>{Nc(),Lc(),Gc(),Hc(),xo="^"+(_o="("+(wo="[a-zA-Z]|\\.\\.\\.")+")+")+"$",ko="^"+("("+_o+",)*"+_o)+"$",To=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.symbolToIndices=new Map,this.inputIndex=e}addSymbol(e,t){let n=this.symbolToIndices.get(e);void 0===n?n=[t]:n.push(t),this.symbolToIndices.set(e,n)}},Do=class{constructor(e,t){var n;this.equation=t,this.hasEllipsis=!1,this.symbolToInfo=new Map,this.lhs=new Array,this.outputDims=[];let[a,r]=t.includes("->")?t.split("->",2):[t,""];if(!a.match(RegExp(ko)))throw new Error("Invalid LHS term");if(a.split(",").forEach(((t,n)=>{let a=e[n].dims.slice();if(!t.match(RegExp(xo)))throw new Error("Invalid LHS term");let r=this.processTerm(t,!0,a,n);this.lhs.push(r)})),""===r)r+=[...this.symbolToInfo.entries()].filter((e=>{let[t,n]=e;return 1===n.count||"..."===t})).map((e=>{let[t]=e;return t})).join("");else if(!r.match(RegExp(_o)))throw new Error("Invalid RHS");null!==(n=r.match(RegExp(wo,"g")))&&void 0!==n&&n.forEach((e=>{if("..."===e)this.outputDims=this.outputDims.concat(this.ellipsisDims);else{let t=this.symbolToInfo.get(e);if(void 0===t)throw new Error("Invalid RHS symbol");this.outputDims.push(t.dimValue)}})),this.rhs=this.processTerm(r,!1,this.outputDims)}addSymbol(e,t,n){let a=this.symbolToInfo.get(e);if(void 0!==a){if(a.dimValue!==t&&1!==a.count)throw new Error("Dimension mismatch");a.count++,a.inputIndices.push(n)}else a={count:1,dimValue:t,inputIndices:[n]};this.symbolToInfo.set(e,a)}processTerm(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=n.length,i=!1,o=[],s=0;if(!e.match(RegExp(xo))&&!t&&""!==e)throw new Error("Invalid LHS term");let l=e.match(RegExp(wo,"g")),c=new To(a);return null!==l&&void 0!==l&&l.forEach(((e,u)=>{if("..."===e){if(i)throw new Error("Only one ellipsis is allowed per input term");i=!0;let e=r-l.length+1;if(e<0)throw new Error("Ellipsis out of bounds");if(o=n.slice(s,s+e),this.hasEllipsis){if(this.ellipsisDims.length!==o.length||this.ellipsisDims.toString()!==o.toString())throw new Error("Ellipsis dimensions mismatch")}else{if(!t)throw new Error("Ellipsis must be specified in the LHS");this.hasEllipsis=!0,this.ellipsisDims=o}for(let t=0;t<o.length;t++){let e=String.fromCharCode(48+t);c.addSymbol(e,u+t),this.addSymbol(e,n[s++],a)}}else c.addSymbol(e,u+(this.hasEllipsis?this.ellipsisDims.length-1:0)),this.addSymbol(e,n[s++],a)})),c}},Ao=e=>e+"_max",Co=(e,t,n,a)=>{let r=e.map((e=>e.length)).map(((e,n)=>Mn("input".concat(n),t,e))),i=Ut.size(a),o=In("output",t,a.length),s=[...n.symbolToInfo.keys()].filter((e=>!n.rhs.symbolToIndices.has(e)));return{name:"Einsum",shaderCache:{hint:n.equation,inputDependencies:e.map((()=>"rank"))},getRunData:()=>{let r=s.filter((e=>n.symbolToInfo.has(e))).map((e=>{var t;return{type:12,data:(null===(t=n.symbolToInfo.get(e))||void 0===t?void 0:t.dimValue)||0}}));r.push({type:12,data:i});let o=e.map(((e,t)=>[...Tn(e)])).reduce(((e,t)=>e.concat(t)),r);return o.push(...Tn(a)),{outputs:[{dims:a,dataType:t}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:o}},getShaderSource:e=>{let t=[],a=[],i=[],l=[],c=[],u=n.symbolToInfo.size===n.rhs.symbolToIndices.size;n.symbolToInfo.forEach(((e,s)=>{if(n.rhs.symbolToIndices.has(s)){var u;let a=null===(u=n.rhs.symbolToIndices.get(s))||void 0===u?void 0:u[0];void 0!==a&&n.lhs.forEach(((n,i)=>{if(e.inputIndices.includes(i)){let e=n.symbolToIndices.get(s);if(void 0===e)throw new Error("Invalid symbol error");e.forEach((e=>{t.push("".concat(r[i].indicesSet("input".concat(i,"Indices"),e,o.indicesGet("outputIndices",a))))}))}}))}else n.lhs.forEach(((t,n)=>{if(e.inputIndices.includes(n)){let e=t.symbolToIndices.get(s);if(void 0===e)throw new Error("Invalid symbol error");e.forEach((e=>{a.push("".concat(r[n].indicesSet("input".concat(n,"Indices"),e,"".concat(s))))})),c.push("prod *= ".concat(r[n].getByIndices("input".concat(n,"Indices")),";"))}})),i.push("for(var ".concat(s,": u32 = 0; ").concat(s," < uniforms.").concat(Ao(s),"; ").concat(s,"++) {")),l.push("}")}));let d=u?[...t,"let sum = ".concat(r.map(((e,t)=>e.getByIndices("input".concat(t,"Indices")))).join(" * "),";")]:[...t,"var sum = 0.0;",...i,...a,"var prod = 1.0;",...c,"sum += prod;",...l];return"\n            ".concat(e.registerUniforms(s.map((e=>({name:"".concat(Ao(e)),type:"u32"})))).registerUniform("outputSize","u32").declareVariables(...r,o),"\n\n            ").concat(e.mainStart(),"\n            ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n            var outputIndices = ").concat(o.offsetToIndices("global_idx"),";\n            ").concat(r.map(((e,t)=>"var input".concat(t,"Indices: ").concat(r[t].type.indices,";"))).join("\n"),"\n            ").concat(d.join("\n"),";\n            ").concat(o.setByOffset("global_idx","sum"),";\n          }")}}},So=(e,t)=>{let n=new Do(e.inputs,t.equation),a=n.outputDims,r=e.inputs.map(((e,t)=>e.dims));e.compute(Co(r,e.inputs[0].dataType,n,a))},Eo=e=>{let t=e.equation.replace(/\s+/g,"");return vn({equation:t})}})),yu=pe((()=>{Nc(),Lc(),Hc(),Fo=e=>{if(!e||2!==e.length)throw new Error("Expand requires 2 input.");let t=e[0].dims,n=Array.from(e[1].getBigInt64Array(),Number),a=n.length<t.length?0:n.length-t.length,r=t.length<n.length?0:t.length-n.length;for(;a<n.length&&r<t.length;++a,++r)if(n[a]!==t[r]&&1!==n[a]&&1!==t[r])throw new Error("Expand requires shape to be broadcastable to input")},Mo=(e,t)=>{let n=e.length-t.length,a=[];for(let r=0;r<n;++r)a.push(e[r]);for(let r=0;r<t.length;++r)a.push(1===t[r]?e[r+n]:t[r]);return a},Io=(e,t)=>e.length>t.length?Mo(e,t):Mo(t,e),zo=e=>{let t=e[0].dims,n=Array.from(e[1].getBigInt64Array(),Number),a=Io(t,n),r=e[0].dataType,i=9===r||1===Ut.size(t),o=9===r||t.length>0&&t[t.length-1]%4===0?4:1,s=i||a.length>0&&a[a.length-1]%4===0?4:1,l=Math.ceil(Ut.size(a)/s),c=[{type:12,data:l},...Tn(t,a)];return{name:"Expand",shaderCache:{hint:"".concat(a.length,";").concat(o).concat(s),inputDependencies:["rank"]},getShaderSource:e=>{let n,i=Mn("input",r,t.length,o),l=In("output",r,a.length,s);if(9===r){let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"\n          let outputIndices".concat(t," = ").concat(l.offsetToIndices("outputOffset + ".concat(t,"u")),";\n          let offset").concat(t," = ").concat(i.broadcastedIndicesToOffset("outputIndices".concat(t),l),";\n          let index").concat(t," = offset").concat(t," / 4u;\n          let component").concat(t," = offset").concat(t," % 4u;\n          ").concat(e,"[").concat(t,"] = ").concat(n,"(").concat(i.getByOffset("index".concat(t)),"[component").concat(t,"]);\n        ")};n="\n        let outputOffset = global_idx * ".concat(s,";\n        var data = vec4<u32>(0);\n        ").concat(e("data",0,"u32"),"\n        ").concat(e("data",1,"u32"),"\n        ").concat(e("data",2,"u32"),"\n        ").concat(e("data",3,"u32"),"\n        ").concat(l.setByOffset("global_idx","data"),"\n      }")}else n="\n        let outputIndices = ".concat(l.offsetToIndices("global_idx * ".concat(s)),";\n        let inputOffset = ").concat(i.broadcastedIndicesToOffset("outputIndices",l),";\n        let data = ").concat(l.type.value,"(").concat(i.getByOffset("inputOffset / ".concat(o)),");\n        ").concat(l.setByOffset("global_idx","data"),"\n      }");return"\n    ".concat(e.registerUniform("vec_size","u32").declareVariables(i,l),"\n    ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size"),"\n    ").concat(n)},getRunData:()=>({outputs:[{dims:a,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:c})}},Po=e=>{Fo(e.inputs),e.compute(zo(e.inputs),{inputs:[0]})}})),bu=pe((()=>{Nc(),Lc(),Hc(),Qc(),No=e=>{let t=e[0].dataType,n=Ut.size(e[0].dims),a=Ut.size(e[1].dims),r=a%4===0;return{name:"FastGeluWithBias",shaderCache:{hint:"".concat(r),inputDependencies:["type","type"]},getShaderSource:e=>{let n=Mn("x",t,[1],4),a=Mn("bias",t,[1],4),i=In("y",t,[1],4),o=e=>"\n      let bias".concat(e,"_offset: u32 = (global_idx * 4 + ").concat(e,") % uniforms.bias_size;\n      let bias").concat(e," = ").concat(a.getByOffset("bias".concat(e,"_offset / 4")),"[bias").concat(e,"_offset % 4];"),s=r?"\n      let bias = ".concat(a.getByOffset("global_idx % (uniforms.bias_size / 4)"),";"):"".concat(o(0)).concat(o(1)).concat(o(2)).concat(o(3),"\n      let bias = ").concat(n.type.value,"(bias0, bias1, bias2, bias3);");return"".concat(e.registerUniforms([{name:"output_vec_size",type:"u32"},{name:"bias_size",type:"u32"}]).declareVariables(n,a,i),"\n\n    ").concat(Vr(kn(t)),"\n\n    ").concat(e.mainStart(wn),"\n      ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_vec_size"),"\n\n      let x = ").concat(n.getByOffset("global_idx"),";\n      ").concat(s,"\n      let x_in = x + bias;\n      ").concat(i.setByOffset("global_idx",qr("x_in")),"\n    }")},getRunData:e=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],programUniforms:[{type:12,data:Math.ceil(n/4)},{type:12,data:a}],dispatchGroup:{x:Math.ceil(n/wn/4)}})}},Oo=e=>{e.inputs.length<2||0===Ut.size(e.inputs[1].dims)?Ur(e):e.compute(No(e.inputs))}})),vu=pe((()=>{Nc(),Lc(),Gc(),Hc(),Bo=e=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.")},Lo=(e,t)=>{let n=e[0].dims,a=e[1].dims,r=n.length,i=Ut.normalizeAxis(t.axis,r),o=n.slice(0);o.splice(i,1,...a);let s=n[i],l=9===e[0].dataType?4:1,c=Math.ceil(Ut.size(o)/l),u=[{type:12,data:c},{type:6,data:s},{type:12,data:i},...Tn(e[0].dims,e[1].dims,o)];return{name:"Gather",shaderCache:{hint:t.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:o,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:u}),getShaderSource:t=>{let n,s=Mn("data",e[0].dataType,e[0].dims.length,l),c=Mn("inputIndices",e[1].dataType,e[1].dims.length),u=In("output",e[0].dataType,o.length,l),d=e=>{let t=a.length,n="var indicesIndices".concat(e,"  = ").concat(c.type.indices,"(0);");for(let a=0;a<t;a++)n+="".concat(t>1?"indicesIndices".concat(e,"[").concat(a,"]"):"indicesIndices".concat(e)," = ").concat(o.length>1?"outputIndices".concat(e,"[uniforms.axis + ").concat(a,"]"):"outputIndices".concat(e),";");n+="\n          var idx".concat(e," = ").concat(c.getByIndices("indicesIndices".concat(e)),";\n          if (idx").concat(e," < 0) {\n            idx").concat(e," = idx").concat(e," + uniforms.axisDimLimit;\n          }\n          var dataIndices").concat(e," : ").concat(s.type.indices,";\n        ");for(let a=0,s=0;a<r;a++)a===i?(n+="".concat(r>1?"dataIndices".concat(e,"[").concat(a,"]"):"dataIndices".concat(e)," = u32(idx").concat(e,");"),s+=t):(n+="".concat(r>1?"dataIndices".concat(e,"[").concat(a,"]"):"dataIndices".concat(e)," = ").concat(o.length>1?"outputIndices".concat(e,"[").concat(s,"]"):"outputIndices".concat(e),";"),s++);return n};if(9===e[0].dataType){let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"\n          let outputIndices".concat(t," = ").concat(u.offsetToIndices("outputOffset + ".concat(t,"u")),";\n          ").concat(d(t),";\n          let offset").concat(t," = ").concat(s.indicesToOffset("dataIndices".concat(t)),";\n          let index").concat(t," = offset").concat(t," / 4u;\n          let component").concat(t," = offset").concat(t," % 4u;\n          ").concat(e,"[").concat(t,"] = ").concat(n,"(").concat(s.getByOffset("index".concat(t)),"[component").concat(t,"]);\n        ")};n="\n        let outputOffset = global_idx * ".concat(l,";\n        var value = vec4<u32>(0);\n        ").concat(e("value",0,"u32"),"\n        ").concat(e("value",1,"u32"),"\n        ").concat(e("value",2,"u32"),"\n        ").concat(e("value",3,"u32"),"\n        ").concat(u.setByOffset("global_idx","value"),"\n      ")}else n="\n      let outputIndices = ".concat(u.offsetToIndices("global_idx"),";\n      ").concat(d(""),";\n      let value = ").concat(s.getByIndices("dataIndices"),";\n      ").concat(u.setByOffset("global_idx","value"),";\n      ");return"\n      ".concat(t.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(s,c,u),"\n      ").concat(t.mainStart(),"\n        ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n        ").concat(n,"\n      }")}}},Ro=e=>vn({axis:e.axis}),jo=(e,t)=>{let n=e.inputs;Bo(n),e.compute(Lo(e.inputs,t))}})),wu=pe((()=>{Nc(),Lc(),Hc(),Vo=(e,t,n,a,r,i,o,s,l)=>{let c=[{type:12,data:i},{type:12,data:a},{type:12,data:r},{type:12,data:n},{type:12,data:o},{type:12,data:s},{type:12,data:l}],u=[i];c.push(...Tn(t.dims,u));return e.compute({name:"computeSliceOffsets",shaderCache:{hint:"".concat(r.length,"_").concat(n.length),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:u,dataType:e.inputs[1].dataType}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:c}),getShaderSource:e=>{let a=[Mn("indices_data",t.dataType,t.dims.length),In("input_slice_offsets_data",12,1,1)],i=[{name:"output_size",type:"u32"},{name:"batch_dims",type:"u32"},{name:"input_dims",type:"u32",length:r.length},{name:"sizes_from_slice_dims_data",type:"u32",length:n.length},{name:"num_slices_per_batch",type:"u32"},{name:"input_batch_stride",type:"u32"},{name:"num_slice_dims",type:"u32"}];return"\n  ".concat(e.registerUniforms(i).declareVariables(...a),"\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let batch_idx = global_idx / uniforms.num_slices_per_batch;\n    let base_offset = batch_idx * uniforms.input_batch_stride;\n\n    let slice_indices_base_offset = global_idx * uniforms.num_slice_dims;\n    var relative_slice_offset = 0;\n    for (var dim_idx = 0u; dim_idx < uniforms.num_slice_dims; dim_idx ++) {\n      var index = i32(indices_data[dim_idx + slice_indices_base_offset].x);\n      let input_dim_idx = uniforms.batch_dims + dim_idx;\n      if (index < 0) {\n        ").concat(1===r.length?"index += i32(uniforms.input_dims);":"index += i32(uniforms.input_dims[input_dim_idx]);","\n      }\n      ").concat(1===n.length?"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data);":"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data[dim_idx]);","\n    }\n\n    input_slice_offsets_data[global_idx] =  base_offset + u32(relative_slice_offset);\n  }")}},{inputs:[t],outputs:[-1]})[0]},qo=(e,t)=>{let n=e.inputs,a=n[0].dims,r=n[0].dataType,i=n[1].dims,o=i[i.length-1],s=Ut.sizeToDimension(i,i.length-1),l=Ut.sizeFromDimension(a,t.batchDims+o),c=Ut.sizeToDimension(a,t.batchDims),u=Ut.sizeFromDimension(a,t.batchDims),d=s/c,h=new Array(o),p=l;for(let v=0;v<o;++v)h[o-1-v]=p,p*=a[t.batchDims+o-1-v];let f=Vo(e,n[1],h,t.batchDims,a,s,d,u,o),m=t.batchDims+o;if(m>a.length)throw new Error("last dimension of indices must not be larger than rank of input tensor");let g=i.slice(0,-1).concat(a.slice(m)),y=Ut.size(g),b=[{type:12,data:y},{type:12,data:l},...Tn(n[0].dims,f.dims,g)];e.compute({name:"GatherND",shaderCache:{hint:t.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:g,dataType:r}],dispatchGroup:{x:Math.ceil(y/64)},programUniforms:b}),getShaderSource:e=>{let t=Mn("data",n[0].dataType,n[0].dims.length),a=Mn("slice_offsets",12,f.dims.length),r=In("output",n[0].dataType,g.length);return"\n          ".concat(e.registerUniform("output_size","u32").registerUniform("slice_size","u32").declareVariables(t,a,r),"\n            ").concat(e.mainStart(),"\n            ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n          let slice_offset = slice_offsets[global_idx / uniforms.slice_size];\n          output[global_idx] = data[u32(slice_offset) + global_idx % uniforms.slice_size];\n        }")}},{inputs:[n[0],f]})},Uo=e=>({batchDims:e.batch_dims,cacheKey:""})})),_u=pe((()=>{Nc(),Lc(),Gc(),Hc(),Go=(e,t)=>{if(e.length<3||e.length>4)throw new Error("GatherBlockQuantized requires 3 or 4 inputs.");let n=Ut.normalizeAxis(t.quantizeAxis,e[0].dims.length),a=t.blockSize,r=e[0],i=e[2],o=4===e.length?e[3]:void 0;if(i.dims.length!==r.dims.length||!r.dims.map(((e,t)=>t===n?Math.ceil(e/a)===i.dims[t]:e===i.dims[t])).reduce(((e,t)=>e&&t),!0))throw new Error("Scales must have the same rank as the input tensor and the dims should match except on gatherAxis.");if(o){if(o.dataType!==r.dataType)throw new Error("Zero point must have the same data type as the input tensor.");if(o.dims.length!==i.dims.length||!o.dims.map(((e,t)=>e===i.dims[t])).reduce(((e,t)=>e&&t),!0))throw new Error("Zero point must have the same rank as the input tensor and the dims should match except on quantizeAxis.")}},Ho=(e,t)=>{let n=e[0].dims,a=e[1].dims,r=n.length,i=Ut.normalizeAxis(t.gatherAxis,r),o=Ut.normalizeAxis(t.quantizeAxis,r),s=n.slice(0);s.splice(i,1,...a);let l=Ut.size(s),c=e[2].dataType,u=22===e[0].dataType,d=[{type:12,data:l},{type:12,data:o},{type:12,data:i},{type:12,data:t.blockSize},...Tn(...e.map(((e,t)=>e.dims)),s)];return{name:"GatherBlockQuantized",shaderCache:{hint:"".concat(t.cacheKey,";").concat(e.filter(((e,t)=>1!==t)).map((e=>e.dims.join("_"))).join(";")),inputDependencies:Array.from({length:e.length},((e,t)=>"rank"))},getRunData:()=>({outputs:[{dims:s,dataType:c}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:d}),getShaderSource:t=>{let r=Mn("data",e[0].dataType,e[0].dims.length),o=Mn("inputIndices",e[1].dataType,e[1].dims.length),l=Mn("scales",e[2].dataType,e[2].dims.length),d=e.length>3?Mn("zeroPoint",e[3].dataType,e[3].dims.length):void 0,h=In("output",c,s.length),p=[r,o,l];d&&p.push(d);return"\n        ".concat(t.registerUniforms([{name:"output_size",type:"u32"},{name:"quantize_axis",type:"u32"},{name:"gather_axis",type:"u32"},{name:"block_size",type:"u32"}]).declareVariables(...p,h),"\n        ").concat(t.mainStart(),"\n        let output_indices = ").concat(h.offsetToIndices("global_idx"),";\n        var indices_indices = ").concat(o.type.indices,"(0);\n        ").concat(a.length>1?"\n          for (var i: u32 = 0; i < ".concat(a.length,"; i++) {\n            let index = ").concat(h.indicesGet("output_indices","uniforms.gather_axis + i"),";\n            ").concat(o.indicesSet("indices_indices","i","index"),";\n          }"):"indices_indices = ".concat(h.indicesGet("output_indices","uniforms.gather_axis"),";"),";\n        var data_indices = ").concat(r.type.indices,"(0);\n        for (var i: u32 = 0; i < uniforms.gather_axis; i++) {\n          let index = ").concat(h.indicesGet("output_indices","i"),";\n          ").concat(r.indicesSet("data_indices","i","index"),";\n        }\n        var index_from_indices = ").concat(o.getByIndices("indices_indices"),";\n        if (index_from_indices < 0) {\n          index_from_indices += ").concat(n[i],";\n        }\n        ").concat(r.indicesSet("data_indices","uniforms.gather_axis","u32(index_from_indices)"),";\n        for (var i = uniforms.gather_axis + 1; i < ").concat(s.length,"; i++) {\n          let index = ").concat(h.indicesGet("output_indices","i + ".concat(a.length," - 1")),";\n          ").concat(r.indicesSet("data_indices","i","index"),";\n        }\n        let data_offset = ").concat(r.indicesToOffset("data_indices"),";\n        let data_index = data_offset % 8;\n        // Convert 4-bit packed data to 8-bit packed data.\n        let packed_4bit_quantized_data = ").concat(r.getByOffset("data_offset / 8"),";\n        let packed_8bit_quantized_data = (packed_4bit_quantized_data >> (4 * (data_index % 2))) & 0x0f0f0f0f;\n        let quantized_data_vec = ").concat(u?"unpack4xI8":"unpack4xU8","(u32(packed_8bit_quantized_data));\n        let quantized_data = quantized_data_vec[data_index / 2];\n        var scale_indices = data_indices;\n        let quantize_axis_index = ").concat(l.indicesGet("data_indices","uniforms.quantize_axis")," / uniforms.block_size;\n        ").concat(l.indicesSet("scale_indices","uniforms.quantize_axis","quantize_axis_index"),";\n        var scale = ").concat(l.getByIndices("scale_indices"),";\n        ").concat(d?"\n              let zero_point_indices = scale_indices;\n              let zero_point_offset = ".concat(d.indicesToOffset("zero_point_indices"),";\n              let zero_point_index = zero_point_offset % 8;\n              let packed_4bit_zero_points = ").concat(d.getByOffset("zero_point_offset / 8"),";\n              let packed_8bit_zero_points = (packed_4bit_zero_points >> (4 * (zero_point_index % 2))) & 0x0f0f0f0f;\n              let zero_point_vec = ").concat(u?"unpack4xI8":"unpack4xU8","(u32(packed_8bit_zero_points));\n              let zero_point = zero_point_vec[zero_point_index / 2];"):"var zero_point = 0",";\n        let dequantized_data = ").concat(kn(c),"(quantized_data - zero_point) * scale;\n        ").concat(h.setByOffset("global_idx","dequantized_data"),";\n    }")}}},Wo=(e,t)=>{let n=e.inputs;Go(n,t),e.compute(Ho(e.inputs,t))},Ko=e=>vn({blockSize:e.blockSize,gatherAxis:e.gatherAxis,quantizeAxis:e.quantizeAxis})})),xu=pe((()=>{Nc(),Lc(),Gc(),Hc(),Yo=e=>{if(!e||2!==e.length)throw new Error("GatherElements requires 2 inputs.");if(e[0].dims.length<1)throw new Error("GatherElements requires that the data input be rank >= 1.");if(e[0].dims.length!==e[1].dims.length)throw new Error("GatherElements requires that the data input and\n                     indices input tensors be of same rank.")},Jo=(e,t)=>{let n=e[0].dims,a=e[0].dataType,r=n.length,i=e[1].dims,o=e[1].dataType,s=Ut.normalizeAxis(t.axis,r),l=n[s],c=i.slice(0),u=Ut.size(c),d=Mn("input",a,r),h=Mn("indicesInput",o,i.length),p=In("output",a,c.length),f=[{type:12,data:u},{type:6,data:l},{type:12,data:s}];return f.push(...Tn(n,i,c)),{name:"GatherElements",shaderCache:{inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:c,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(u/64)},programUniforms:f}),getShaderSource:e=>"\n      ".concat(e.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(d,h,p),"\n      ").concat(e.mainStart(),"\n      ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n\n      let outputIndices = ").concat(p.offsetToIndices("global_idx"),";\n\n      var idx = ").concat(h.getByOffset("global_idx"),";\n      if (idx < 0) {\n        idx = idx + uniforms.axisDimLimit;\n      }\n      var inputIndices = ").concat(d.type.indices,"(outputIndices);\n      ").concat(d.indicesSet("inputIndices","uniforms.axis","u32(idx)"),";\n      let value = ").concat(d.getByIndices("inputIndices"),";\n\n      ").concat(p.setByOffset("global_idx","value"),";\n  }")}},Zo=e=>vn({axis:e.axis}),Xo=(e,t)=>{let n=e.inputs;Yo(n),e.compute(Jo(e.inputs,t))}})),ku=pe((()=>{Nc(),Lc(),Hc(),$o=e=>{if(!e)throw new Error("Input is missing");if(e.length<2||e.length>3)throw new Error("Invaid input number.");if(3===e.length&&e[2].dims.length>2)throw new Error("Invalid input shape of C");if(e[0].dataType!==e[1].dataType||3===e.length&&e[0].dataType!==e[2].dataType)throw new Error("Input types are mismatched")},Qo=(e,t)=>{let n=e[0].dims.slice(),a=e[1].dims.slice(),[r,i,o]=Ht.getShapeOfGemmResult(n,t.transA,a,t.transB,3===e.length?e[2].dims:void 0),s=[r,i];if(!s)throw new Error("Can't use gemm on the given tensors");let l=16,c=Math.ceil(i/l),u=Math.ceil(r/l),d=(Ut.size(s),[{type:12,data:c},{type:12,data:r},{type:12,data:i},{type:12,data:o},{type:1,data:t.alpha},{type:1,data:t.beta}]),h=["type","type"];3===e.length&&(d.push(...Tn(e[2].dims)),h.push("rank")),d.push(...Tn(s));return{name:"GemmShared",shaderCache:{hint:"".concat(t.cacheKey),inputDependencies:h},getRunData:()=>({outputs:[{dims:s,dataType:e[0].dataType}],dispatchGroup:{x:c*u},programUniforms:d}),getShaderSource:n=>{let a=Mn("a",e[0].dataType,e[0].dims),r=Mn("b",e[1].dataType,e[1].dims),i=null,o=[a,r];3===e.length&&(i=Mn("c",e[2].dataType,e[2].dims.length),o.push(i));let c=In("output",e[0].dataType,s.length);o.push(c);let u="",d="";t.transA&&t.transB?(d="\n      var col = tile_row_start + local_id.x;\n      var row = k_start + local_id.y;\n      if (col < uniforms.M && row < uniforms.K) {\n        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];\n      } else {\n        tile_a[local_id.y][local_id.x] = ".concat(a.type.value,"(0);\n      }\n\n      col = k_start + local_id.x;\n      row = tile_col_start + local_id.y;\n      if (col < uniforms.K && row < uniforms.N) {\n        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];\n      } else {\n        tile_b[local_id.y][local_id.x] = ").concat(r.type.value,"(0);\n      }\n      "),u="value += tile_a[k][local_id.y] * tile_b[local_id.x][k];"):t.transA&&!t.transB?(d="\n      var col = tile_row_start + local_id.x;\n      var row = k_start + local_id.y;\n      if (col < uniforms.M && row < uniforms.K) {\n        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];\n      } else {\n        tile_a[local_id.y][local_id.x] = ".concat(a.type.value,"(0);\n      }\n\n      col = tile_col_start + local_id.x;\n      row = k_start + local_id.y;\n      if (col < uniforms.N && row < uniforms.K) {\n        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];\n      } else {\n        tile_b[local_id.y][local_id.x] = ").concat(r.type.value,"(0);\n      }\n      "),u="value += tile_a[k][local_id.y] * tile_b[k][local_id.x];"):!t.transA&&t.transB?(d="\n      var col = k_start + local_id.x;\n      var row = tile_row_start + local_id.y;\n      if (col < uniforms.K && row < uniforms.M) {\n        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];\n      } else {\n        tile_a[local_id.y][local_id.x] = ".concat(a.type.value,"(0);\n      }\n\n      col = k_start + local_id.x;\n      row = tile_col_start + local_id.y;\n      if (col < uniforms.K && row < uniforms.N) {\n        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];\n      } else {\n        tile_b[local_id.y][local_id.x] = ").concat(r.type.value,"(0);\n      }\n      "),u="value += tile_a[local_id.y][k] * tile_b[local_id.x][k];"):!t.transA&&!t.transB&&(d="\n      var col = k_start + local_id.x;\n      var row = tile_row_start + local_id.y;\n      if (col < uniforms.K && row < uniforms.M) {\n        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];\n      } else {\n        tile_a[local_id.y][local_id.x] = ".concat(a.type.value,"(0);\n      }\n\n      col = tile_col_start + local_id.x;\n      row = k_start + local_id.y;\n      if (col < uniforms.N && row < uniforms.K) {\n        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];\n      } else {\n        tile_b[local_id.y][local_id.x] = ").concat(r.type.value,"(0);\n      }\n      "),u="value += tile_a[local_id.y][k] * tile_b[k][local_id.x];");let h=1===t.alpha?"":"value *= uniforms.alpha;";return"\n  ".concat(n.registerUniforms([{name:"num_tile_n",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}]).declareVariables(...o),"\n  var<workgroup> tile_a: array<array<").concat(a.type.storage,", ").concat(l,">, ").concat(l,">;\n  var<workgroup> tile_b: array<array<").concat(r.type.storage,", ").concat(l,">, ").concat(l,">;\n  ").concat(n.mainStart([l,l,1]),"\n    let tile_col_start = (workgroup_index % uniforms.num_tile_n) * ").concat(l,";\n    let tile_row_start = (workgroup_index / uniforms.num_tile_n) * ").concat(l,";\n    let num_tiles = (uniforms.K - 1) / ").concat(l," + 1;\n    var k_start = 0u;\n    var value = ").concat(c.type.value,"(0);\n    for (var t: u32 = 0u; t < num_tiles; t++) {\n      ").concat(d,"\n      k_start = k_start + ").concat(l,";\n      workgroupBarrier();\n\n      for (var k: u32 = 0u; k < ").concat(l,"; k++) {\n        ").concat(u,"\n      }\n      workgroupBarrier();\n    }\n\n    ").concat(h,"\n    let m = tile_row_start + local_id.y;\n    let n = tile_col_start + local_id.x;\n    ").concat(null!=i?"let cOffset = ".concat(i.broadcastedIndicesToOffset("vec2(m, n)",c),"; value += ").concat(c.type.value,"(uniforms.beta) * ").concat(i.getByOffset("cOffset"),";"):"","\n    if (m < uniforms.M && n < uniforms.N) {\n      output[m * uniforms.N + n] = value;\n    }\n  }")}}},es=e=>({transA:e.transA,transB:e.transB,alpha:e.alpha,beta:e.beta,cacheKey:"".concat(e.transA,";").concat(e.transB,";").concat(1===e.alpha)}),ts=(e,t)=>{$o(e.inputs),e.compute(Qo(e.inputs,t))}})),Tu=pe((()=>{Nc(),Lc(),Gc(),Hc(),[ns,as,rs,is]=[0,1,2,3],os=e=>{if(4!==e[0].dims.length)throw new Error("only 4-D tensor is supported.");if(e[0].dims.length!==e[1].dims.length)throw new Error("input dimensions must be equal to grid dimensions");if(e[0].dims.length-2!==e[1].dims[e[1].dims.length-1])throw new Error("last dimension of grid must be equal to ".concat(e[0].dims.length-2));if(e[0].dims[0]!==e[1].dims[0])throw new Error("grid batch size must match input batch size")},ss=e=>"\n  fn gs_bicubic_interpolate(p: mat4x4<".concat(e,">, x: f32, y: f32) -> ").concat(e," {\n    var v: vec4<f32>;\n    var coeffs = gs_get_cubic_coeffs(x);\n    for (var i = 0; i < 4; i++) {\n      v[i] = coeffs[0] * p[i][0] + coeffs[1] * p[i][1] + coeffs[2] * p[i][2] + coeffs[3] * p[i][3];\n    }\n    coeffs = gs_get_cubic_coeffs(y);\n    let pixel = ").concat(e,"(coeffs[0] * v[0] + coeffs[1] * v[1] + coeffs[2] * v[2] + coeffs[3] * v[3]);\n    return pixel;\n  }\n"),ls=e=>"\n  fn gs_denormalize(n: f32, length: i32) -> f32 {\n    ".concat(0===e.alignCorners?"\n    // alignCorners: false => [-1, 1] to [-0.5, length - 0.5]\n    return ((n + 1.0) * f32(length) - 1.0) / 2.0;\n    ":"\n    // alignCorners: true => [-1, 1] to [0, length - 1]\n    return (n + 1.0) / 2.0 * (f32(length - 1));\n    ","\n  }\n"),cs=e=>"\n  ".concat("reflection"===e.paddingMode?"\n      fn gs_reflect(x: i32, x_min: f32, x_max: f32) -> u32 {\n        var dx = 0.0;\n        var fx = f32(x);\n        let range = x_max - x_min;\n        if (fx < x_min) {\n          dx = x_min - fx;\n          let n = u32(dx / range);\n          let r = dx - f32(n) * range;\n          if (n % 2 == 0) {\n            fx = x_min + r;\n          } else {\n            fx = x_max - r;\n          }\n        } else if (fx > x_max) {\n          dx = fx - x_max;\n          let n = u32(dx / range);\n          let r = dx - f32(n) * range;\n          if (n % 2 == 0) {\n            fx = x_max - r;\n          } else {\n            fx = x_min + r;\n          }\n        }\n        return u32(fx);\n      }":"","\n"),us=(e,t,n)=>"\n  fn pixel_at_grid(r: i32, c: i32, H: i32, W: i32, batch: u32, channel: u32, border: vec4<f32>) -> ".concat(t," {\n     var pixel = ").concat(t,"(0);\n     var indices = vec4<u32>(0);\n     indices[").concat(ns,"] = batch;\n     indices[").concat(as,"] = channel;")+(()=>{switch(n.paddingMode){case"zeros":return"\n          if (r >= 0 && r < H && c >=0 && c < W) {\n            indices[".concat(rs,"] = u32(r);\n            indices[").concat(is,"] = u32(c);\n          } else {\n            return ").concat(t,"(0);\n          }\n        ");case"border":return"\n          indices[".concat(rs,"] = u32(clamp(r, 0, H - 1));\n          indices[").concat(is,"] = u32(clamp(c, 0, W - 1));\n        ");case"reflection":return"\n          indices[".concat(rs,"] = gs_reflect(r, border[1], border[3]);\n          indices[").concat(is,"] = gs_reflect(c, border[0], border[2]);\n        ");default:throw new Error("padding mode ".concat(n.paddingMode," is not supported"))}})()+"\n    return ".concat(e.getByIndices("indices"),";\n  }\n"),ds=(e,t,n)=>(()=>{switch(n.mode){case"nearest":return"\n          let result = pixel_at_grid(i32(round(y)), i32(round(x)), H_in, W_in, indices[".concat(ns,"], indices[").concat(as,"], border);\n        ");case"bilinear":return"\n          let x1 = i32(floor(x));\n          let y1 = i32(floor(y));\n          let x2 = x1 + 1;\n          let y2 = y1 + 1;\n\n          let p11 = pixel_at_grid(y1, x1, H_in, W_in, indices[".concat(ns,"], indices[").concat(as,"], border);\n          let p12 = pixel_at_grid(y1, x2, H_in, W_in, indices[").concat(ns,"], indices[").concat(as,"], border);\n          let p21 = pixel_at_grid(y2, x1, H_in, W_in, indices[").concat(ns,"], indices[").concat(as,"], border);\n          let p22 = pixel_at_grid(y2, x2, H_in, W_in, indices[").concat(ns,"], indices[").concat(as,"], border);\n\n          let dx2 = ").concat(t,"(f32(x2) - x);\n          let dx1 = ").concat(t,"(x - f32(x1));\n          let dy2 = ").concat(t,"(f32(y2) - y);\n          let dy1 = ").concat(t,"(y - f32(y1));\n          let result = dy2 * (dx2 * p11 + dx1 * p12) + dy1 * (dx2 * p21 + dx1 * p22);\n        ");case"bicubic":return"\n          let x0 = i32(floor(x)) - 1;\n          let y0 = i32(floor(y)) - 1;\n          var p: mat4x4<".concat(t,">;\n          for (var h = 0; h < 4; h++) {\n            for (var w = 0; w < 4; w++) {\n              p[h][w] = pixel_at_grid(h + y0, w + x0, H_in, W_in, indices[").concat(ns,"], indices[").concat(as,"], border);\n            }\n          }\n\n          let dx = x - f32(x0 + 1);\n          let dy = y - f32(y0 + 1);\n          let result = gs_bicubic_interpolate(p, dx, dy);\n        ");default:throw new Error("mode ".concat(n.mode," is not supported"))}})()+"".concat(e.setByOffset("global_idx","result")),hs=(e,t)=>{let n=Mn("x",e[0].dataType,e[0].dims.length),a=[e[1].dims[0],e[1].dims[1],e[1].dims[2]],r=Mn("grid",e[1].dataType,a.length,2),i=[e[0].dims[0],e[0].dims[1],e[1].dims[1],e[1].dims[2]];"NHWC"===t.format&&(i=[e[0].dims[0],e[1].dims[1],e[1].dims[2],e[0].dims[3]],[ns,as,rs,is]=[0,3,1,2]);let o=In("output",e[0].dataType,i.length),s=n.type.value,l=[{type:12,data:Ut.size(i)},...Tn(e[0].dims,a,i)];return{name:"GridSample",shaderCache:{hint:"".concat(t.cacheKey),inputDependencies:["type","type"]},getRunData:e=>{let t=Ut.size(i);return{outputs:[{dims:i,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(t/64)},programUniforms:l}},getShaderSource:e=>"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(n,r,o),"\n  ").concat("\n  fn gs_get_cubic_coeffs(x: f32) -> vec4<f32> {\n    let cubic_alpha = -0.75f;\n    let x_abs = abs(x);\n    var coeffs: vec4<f32>;\n    coeffs[0] = (((cubic_alpha * (x_abs + 1) - 5 * cubic_alpha) * (x_abs + 1) + 8 * cubic_alpha) * (x_abs + 1) - 4 * cubic_alpha);\n    coeffs[1] = (((cubic_alpha + 2) * x_abs - (cubic_alpha + 3)) * x_abs * x_abs + 1);\n    coeffs[2] = (((cubic_alpha + 2) * (1 - x_abs) - (cubic_alpha + 3)) * (1 - x_abs) * (1 - x_abs) + 1);\n    coeffs[3] = (((cubic_alpha * (2 - x_abs) - 5 * cubic_alpha) * (2 - x_abs) + 8 * cubic_alpha) * (2 - x_abs) - 4 * cubic_alpha);\n    return coeffs;\n  }\n","\n  ").concat(ss(s),"\n  ").concat(ls(t),"\n  ").concat(cs(t),"\n  ").concat(us(n,s,t),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n      let H_in = i32(uniforms.x_shape[").concat(rs,"]);\n      let W_in = i32(uniforms.x_shape[").concat(is,"]);\n\n      ").concat(0===t.alignCorners?"\n      let x_min = -0.5;\n      let x_max = f32(W_in) - 0.5;\n      let y_min = -0.5;\n      let y_max = f32(H_in) - 0.5;\n      ":"\n      let x_min = 0.0;\n      let x_max = f32(W_in) - 1.0;\n      let y_min = 0.0;\n      let y_max = f32(H_in) - 1.0;\n      ",";\n      let border = vec4<f32>(x_min, y_min, x_max, y_max);\n\n      let indices = ").concat(o.offsetToIndices("global_idx"),";\n      var grid_indices = vec3<u32>(indices[").concat(ns,"], indices[").concat(rs,"], indices[").concat(is,"]);\n      let nxy = ").concat(r.getByIndices("grid_indices"),";\n      var x = gs_denormalize(f32(nxy[0]), W_in);\n      var y = gs_denormalize(f32(nxy[1]), H_in);\n\n      ").concat(ds(o,s,t),"\n  }")}},ps=(e,t)=>{os(e.inputs),e.compute(hs(e.inputs,t))},fs=e=>vn({alignCorners:e.align_corners,mode:e.mode,paddingMode:e.padding_mode,format:e.format})})),Du=pe((()=>{Nc(),Lc(),Gc(),qc(),Zc(),Hc(),Wc(),ms=(e,t)=>e.length>t&&e[t].dims.length>0?e[t]:void 0,gs=(e,t)=>{let n=e[0],a=ms(e,1),r=ms(e,2),i=ms(e,3),o=ms(e,4),s=ms(e,5),l=ms(e,6),c=ms(e,7);if(3!==n.dims.length&&5!==n.dims.length)throw new Error("Input query is expected to have 3 or 5 dimensions");let u,d=n.dims[0],h=n.dims[1],p=3===n.dims.length?n.dims[2]:t.numHeads*n.dims[4],f=h,m=0,g=0,y=Math.floor(p/t.numHeads);if(l&&c&&Ut.size(l.dims)&&Ut.size(c.dims)){if(4!==l.dims.length)throw new Error('Input "past_key" is expected to have 4 dimensions');if(l.dims[0]!==d||l.dims[1]!==t.numHeads||l.dims[3]!==y)throw new Error('Input "past_key" shape (batch_size, num_heads, past_sequence_length, head_size)');if(c.dims[0]!==d||c.dims[1]!==t.numHeads||c.dims[3]!==y)throw new Error('Input "past_value" shape (batch_size, num_heads, past_sequence_length, head_size)');if(l.dims[2]!==c.dims[2])throw new Error('Input "past_key" and "past_value" shall have same dim 2 (past_sequence_length)');if(4!==c.dims.length)throw new Error('Input "past_value" is expected to have 4 dimensions');m=l.dims[2],g=l.dims[2]}else if(l&&Ut.size(l.dims)||c&&Ut.size(c.dims))throw new Error('Input "past_key" and "past_value" shall be both present or both absent');if(a&&Ut.size(a.dims)>0){if(3!==n.dims.length)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(a.dims.length<3||a.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(n.dims[0]!==a.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(3===a.dims.length){if(a.dims[2]!==n.dims[2])throw new Error('Input "query" and "key" shall have same dim 2 (hidden_size)');u=2,f=a.dims[1]}else if(5===a.dims.length){if(a.dims[2]!==t.numHeads||2!==a.dims[3]||a.dims[4]!==y)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(r)throw new Error('Expect "value" be none when "key" has packed kv format.');u=5,f=a.dims[1]}else{if(a.dims[1]!==t.numHeads||a.dims[3]!==y)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');u=0,f=a.dims[2]}}else{if(5!==n.dims.length)throw new Error('Input "query" is expected to have 5 dimensions when key is empty');if(n.dims[2]!==t.numHeads||3!==n.dims[3])throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');u=3}if(i&&Ut.size(i.dims)>0){if(1!==i.dims.length)throw new Error('Input "bias" is expected to have 1 dimension');if(a&&5===a.dims.length&&2===a.dims[3])throw new Error("bias is not allowed for packed kv.")}let b=m+f,v=0;if(o&&Ut.size(o.dims)>0){v=8;let e=o.dims;throw 1===e.length?e[0]===d?v=1:e[0]===3*d+2&&(v=3):2===e.length&&e[0]===d&&e[1]===b&&(v=5),8===v?new Error('Input "key_padding_mask" shape shall be (batch_size) or (batch_size, total_sequence_length)'):new Error("Mask not supported")}let w=!1,_=p;if(r&&Ut.size(r.dims)>0){if(3!==r.dims.length&&4!==r.dims.length)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(n.dims[0]!==r.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(3===r.dims.length){if(f!==r.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');_=r.dims[2]}else{if(f!==r.dims[2])throw new Error('Input "key" and "value" shall have the same dim 2 (kv_sequence_length)');_=r.dims[1]*r.dims[3],w=!0}}if(o&&Ut.size(o.dims)>0)throw new Error("Key padding mask is not supported");if(s&&Ut.size(s.dims)>0){if(4!==s.dims.length)throw new Error('Input "attention_bias" is expected to have 4 dimensions');if(s.dims[0]!==d||s.dims[1]!==t.numHeads||s.dims[2]!==h||s.dims[3]!==b)throw new Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:d,sequenceLength:h,pastSequenceLength:m,kvSequenceLength:f,totalSequenceLength:b,maxSequenceLength:g,inputHiddenSize:0,hiddenSize:p,vHiddenSize:_,headSize:y,vHeadSize:Math.floor(_/t.numHeads),numHeads:t.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:t.maskFilterValue,maskType:v,scale:t.scale,broadcastResPosBias:!1,passPastInKv:w,qkvFormat:u}},ys=e=>vn(u({},e)),bs=vn({perm:[0,2,1,3]}),vs=(e,t,n,a,r,i,o)=>{let s=[a,r,i],l=Ut.size(s),c=[{type:12,data:l},{type:12,data:o},{type:12,data:i}];return e.compute({name:"MultiHeadAttentionAddBias",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:s,dataType:t.dataType,gpuDataType:0}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:c}),getShaderSource:e=>{let a=In("qkv_with_bias",t.dataType,s),r=Mn("qkv",t.dataType,s),i=Mn("bias",n.dataType,s);return"\n  ".concat(e.registerUniforms([{name:"output_size",type:"u32"},{name:"bias_offset",type:"u32"},{name:"hidden_size",type:"u32"}]).declareVariables(r,i,a),"\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let bias_offset_idx = (global_idx % uniforms.hidden_size) + uniforms.bias_offset;\n\n    qkv_with_bias[global_idx] = qkv[global_idx] + bias[bias_offset_idx];\n  }")}},{inputs:[t,n],outputs:[-1]})[0]},ws=(e,t,n,a,r,i,o,s)=>{let l=i;if(o&&Ut.size(o.dims)>0){if(1===a)throw new Error("AddBiasReshape is not implemented. Please export your model with packed QKV or KV");return l=vs(e,i,o,t,a,n*r,s),l=l.reshape([t,a,n,r]),1===n||1===a?l:e.compute(Un(l,bs.perm),{inputs:[l],outputs:[-1]})[0]}return 3===i.dims.length&&(l=i.reshape([t,a,n,r])),1===n||1===a?l:e.compute(Un(l,bs.perm),{inputs:[l],outputs:[-1]})[0]},_s=(e,t)=>{let n=gs(e.inputs,t),a=e.inputs[0],r=ms(e.inputs,1),i=ms(e.inputs,2),o=ms(e.inputs,3),s=ms(e.inputs,4),l=ms(e.inputs,5),c=ms(e.inputs,6),u=ms(e.inputs,7);if(5===a.dims.length)throw new Error("Packed QKV is not implemented");if(5===(null===r||void 0===r?void 0:r.dims.length))throw new Error("Packed KV is not implemented");let d=r&&i&&4===r.dims.length&&4===i.dims.length,h=ws(e,n.batchSize,n.numHeads,n.sequenceLength,n.headSize,a,o,0);if(d)return Ya(e,h,r,i,s,void 0,c,u,l,n);if(!r||!i)throw new Error("key and value must be provided");let p=ws(e,n.batchSize,n.numHeads,n.kvSequenceLength,n.headSize,r,o,n.hiddenSize),f=ws(e,n.batchSize,n.numHeads,n.kvSequenceLength,n.vHeadSize,i,o,2*n.hiddenSize);Ya(e,h,p,f,s,void 0,c,u,l,n)}})),Au=pe((()=>{Nc(),Lc(),Gc(),Hc(),xs=e=>{if(!e||e.length<1)throw new Error("too few inputs")},ks=(e,t)=>{let n=[],a=t.numOutputs;return e[1].dims[0]>0&&(e[1].getBigInt64Array().forEach((e=>n.push(Number(e)))),a=n.length),vn({numOutputs:a,axis:t.axis,splitSizes:n})},Ts=e=>"\nfn calculateOutputIndex(index: u32) -> u32 {\n    for (var i: u32 = 0u; i < ".concat(e,"u; i += 1u ) {\n    if (index < ").concat(En("uniforms.size_in_split_axis","i",e),") {\n        return i;\n    }\n    }\n    return ").concat(e,"u;\n}"),Ds=e=>{let t=e.length,n=[];for(let a=0;a<t;++a){let r=e[a].setByIndices("indices","input[global_idx]");1===t?n.push(r):0===a?n.push("if (output_number == ".concat(a,"u) { ").concat(r," }")):a===t-1?n.push("else { ".concat(r," }")):n.push("else if (output_number == ".concat(a,") { ").concat(r," }"))}return"\n      fn writeBufferData(output_number: u32, indices: ".concat(e[0].type.indices,", global_idx: u32) {\n        ").concat(n.join("\n"),"\n      }")},As=(e,t)=>{let n=e[0].dims,a=Ut.size(n),r=e[0].dataType,i=Ut.normalizeAxis(t.axis,n.length),o=new Array(t.numOutputs),s=Mn("input",r,n.length),l=new Array(t.numOutputs),c=[],u=[],d=0,h=[{type:12,data:a}];for(let p=0;p<t.numOutputs;p++){d+=t.splitSizes[p],l[p]=d;let a=n.slice();a[i]=t.splitSizes[p],u.push(a),o[p]=In("output".concat(p),r,a.length),c.push({dims:u[p],dataType:e[0].dataType})}h.push({type:12,data:l},...Tn(n,...u));return{name:"Split",shaderCache:{hint:t.cacheKey,inputDependencies:["rank"]},getShaderSource:e=>"\n  ".concat(e.registerUniform("input_size","u32").registerUniform("size_in_split_axis","u32",l.length).declareVariables(s,...o),"\n  ").concat(Ts(l.length),"\n  ").concat(Ds(o),"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.input_size"),"\n\n    var indices = ").concat(s.offsetToIndices("global_idx"),";\n    var index = ").concat(s.indicesGet("indices",i),";\n    let output_number = calculateOutputIndex(index);\n    if (output_number != 0) {\n      index -= ").concat(En("uniforms.size_in_split_axis","output_number - 1u",l.length),";\n      ").concat(s.indicesSet("indices",i,"index"),";\n    }\n    writeBufferData(output_number, indices, global_idx);\n  }"),getRunData:()=>({outputs:c,dispatchGroup:{x:Math.ceil(a/64)},programUniforms:h})}},Cs=(e,t)=>{xs(e.inputs);let n=1===e.inputs.length?t:ks(e.inputs,t);e.compute(As(e.inputs,n),{inputs:[0]})},Ss=e=>{let t=e.axis,n=e.splitSizes,a=e.numOutputs<0?n.length:e.numOutputs;if(a!==n.length)throw new Error("numOutputs and splitSizes lengh must be equal");return vn({axis:t,numOutputs:a,splitSizes:n})}})),Cu=pe((()=>{Nc(),Lc(),Gc(),Hc(),Es=(e,t)=>{let[n,a,r,i]=e,{numHeads:o,rotaryEmbeddingDim:s}=t;if(3!==n.dims.length&&4!==n.dims.length)throw new Error("Input 'x' is expected to have 3 or 4 dimensions, got ".concat(n.dims.length));if(!Ut.areEqual(a.dims,[])&&!Ut.areEqual(a.dims,[1])&&2!==a.dims.length)throw new Error("Input 'position_ids' is expected to have 0, 1, or 2 dimensions, got ".concat(a.dims.length));if(2!==r.dims.length)throw new Error("Input 'cos_cache' is expected to have 2 dimensions, got ".concat(r.dims.length));if(2!==i.dims.length)throw new Error("Input 'sin_cache' is expected to have 2 dimensions, got ".concat(i.dims.length));if(!Ut.areEqual(r.dims,i.dims))throw new Error("Inputs 'cos_cache' and 'sin_cache' are expected to have the same shape");if(s>0&&0===o)throw new Error("num_heads must be provided if rotary_embedding_dim is specified");let l=n.dims[0],c=n.dims[n.dims.length-2],u=r.dims[0],d=Ut.sizeFromDimension(n.dims,1)/c,h=0===s?2*r.dims[1]:d/o;if(s>h)throw new Error("rotary_embedding_dim must be less than or equal to head_size");if(2===a.dims.length){if(l!==a.dims[0])throw new Error("Input 'position_ids' dimension 0 should be of size batch_size, got ".concat(a.dims[0]));if(c!==a.dims[1])throw new Error("Input 'position_ids' dimension 1 should be of size sequence_length, got ".concat(a.dims[1]))}if(h/2!==r.dims[1]&&s/2!==r.dims[1])throw new Error("Input 'cos_cache' dimension 1 should be same as head_size / 2 or rotary_embedding_dim / 2, got ".concat(r.dims[1]));if(c>u)throw new Error("Updating cos_cache and sin_cache in RotaryEmbedding is not currently supported")},Fs=(e,t)=>{let{interleaved:n,numHeads:a,rotaryEmbeddingDim:r,scale:i}=t,o=e[0].dims[0],s=Ut.sizeFromDimension(e[0].dims,1),l=e[0].dims[e[0].dims.length-2],c=s/l,u=e[2].dims[1],d=0===r?2*u:c/a,h=new Array(o,l,c/d,d-u),p=Ut.computeStrides(h),f=[{type:1,data:i},{type:12,data:h},{type:12,data:p},...3===e[0].dims.length?new Array({type:12,data:[s,c,d,1]}):[],...4===e[0].dims.length?new Array({type:12,data:[s,d,l*d,1]}):[],...Tn(e[0].dims,e[1].dims,e[2].dims,e[3].dims,e[0].dims)];return{name:"RotaryEmbedding",shaderCache:{hint:vn({interleaved:n}).cacheKey,inputDependencies:["rank","rank","rank","rank"]},getShaderSource:t=>{let a=Mn("input",e[0].dataType,e[0].dims.length),r=Mn("position_ids",e[1].dataType,e[1].dims.length),i=Mn("cos_cache",e[2].dataType,e[2].dims.length),o=Mn("sin_cache",e[3].dataType,e[3].dims.length),s=In("output",e[0].dataType,e[0].dims.length);return t.registerUniforms([{name:"scale",type:"f32"},{name:"global_shape",type:"u32",length:h.length},{name:"global_strides",type:"u32",length:p.length},{name:"input_output_strides",type:"u32",length:p.length}]),"\n        ".concat(t.declareVariables(a,r,i,o,s),"\n\n        ").concat(t.mainStart(wn),"\n          let half_rotary_emb_dim = uniforms.").concat(i.name,"_shape[1];\n          let bsnh = global_idx / uniforms.global_strides % uniforms.global_shape;\n          let size = uniforms.global_shape[0] * uniforms.global_strides[0];\n          ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("size"),"\n\n          if (bsnh[3] < half_rotary_emb_dim) {\n            let position_ids_idx =\n                ").concat(r.broadcastedIndicesToOffset("bsnh.xy",In("",r.type.tensor,2)),";\n            let position_id =\n                u32(").concat(r.getByOffset("position_ids_idx"),") + select(0, bsnh[1], position_ids_idx == 0);\n            let i = dot(bsnh, uniforms.input_output_strides) + select(0, bsnh[3], ").concat(n,");\n            let j = i + select(half_rotary_emb_dim, 1, ").concat(n,");\n            let re = ").concat(a.getByOffset("i")," * ").concat(i.get("position_id","bsnh[3]")," -\n                ").concat(a.getByOffset("j")," * ").concat(o.get("position_id","bsnh[3]"),";\n            ").concat(s.setByOffset("i","re"),"\n            let im = ").concat(a.getByOffset("i")," * ").concat(o.get("position_id","bsnh[3]")," +\n                ").concat(a.getByOffset("j")," * ").concat(i.get("position_id","bsnh[3]"),";\n            ").concat(s.setByOffset("j","im"),"\n          } else {\n            let k = dot(bsnh, uniforms.input_output_strides) + half_rotary_emb_dim;\n            ").concat(s.setByOffset("k",a.getByOffset("k")),"\n          }\n        }")},getRunData:()=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(Ut.size(h)/wn)},programUniforms:f})}},Ms=(e,t)=>{Es(e.inputs,t),e.compute(Fs(e.inputs,t))}})),Su=pe((()=>{Gc(),Nc(),Zc(),Du(),Au(),Wc(),Cu(),Hc(),Is=(e,t)=>{if(t.doRotary&&e.length<=7)throw new Error("cos_cache and sin_cache inputs are required if do_rotary is specified");let n=e[0],a=e[1],r=e[2],i=e[3],o=e[4];if(0!==t.doRotary&&e.length<=7)throw new Error("cos_cast and sin_cache are expected if do_rotary attribute is non-zero");if(-1!==t.localWindowSize)throw new Error("Local attention is not supported");if(0!==t.softcap)throw new Error("Softcap is not supported");if(0!==t.rotaryInterleaved)throw new Error("Rotary interleaved is not supported");if(t.smoothSoftmax)throw new Error("Smooth softmax is not supported");if(3!==n.dims.length&&5!==n.dims.length)throw new Error("Input query is expected to have 3 or 5 dimensions");let s=n.dims[0],l=n.dims[1],c=3===n.dims.length?n.dims[2]:t.numHeads*n.dims[4],u=l,d=0,h=!a||0===a.dims.length,p=Math.floor(h?c/(t.numHeads+2*t.kvNumHeads):c/t.numHeads);h&&(c=p*t.numHeads);let f=i&&0!==i.dims.length,m=o&&0!==o.dims.length;if(f&&4===i.dims.length&&i.dims[0]===s&&i.dims[1]!==t.kvNumHeads&&i.dims[2]===t.kvNumHeads&&i.dims[3]===p)throw new Error("BSNH pastKey/pastValue is not supported");if(f&&m){if(4!==i.dims.length)throw new Error('Input "past_key" is expected to have 4 dimensions');if(4!==o.dims.length)throw new Error('Input "past_value" is expected to have 4 dimensions');d=i.dims[2]}else if(f||m)throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let g=1;if(a&&a.dims.length>0){if(3!==n.dims.length)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(a.dims.length<3||a.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(n.dims[0]!==a.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(3===a.dims.length){if(n.dims[2]%a.dims[2]!==0)throw new Error('Dimension 2 of "query" should be a multiple of "key"');u=a.dims[1]}else if(5===a.dims.length){if(a.dims[2]!==t.numHeads||2!==a.dims[3]||a.dims[4]!==p)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(r)throw new Error('Expect "value" be none when "key" has packed kv format.');u=a.dims[1]}else{if(a.dims[1]!==t.numHeads||a.dims[3]!==p)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');u=a.dims[2]}}else{if(3!==n.dims.length&&5!==n.dims.length)throw new Error('Input "query" is expected to have 3 or 5 dimensions when key is empty');if(5===n.dims.length&&(n.dims[2]!==t.numHeads||3!==n.dims[3]))throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');g=3}let y=!1,b=t.kvNumHeads?p*t.kvNumHeads:c;if(r&&r.dims.length>0){if(3!==r.dims.length&&4!==r.dims.length)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(n.dims[0]!==r.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(3===r.dims.length){if(u!==r.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');b=r.dims[2]}else{if(u!==r.dims[2])throw new Error('Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)');b=r.dims[1]*r.dims[3],y=!0}}let v=e.length>4?e[5]:void 0;if(v&&1!==v.dims.length&&v.dims[0]!==s)throw new Error('Input "seqlens" is expected to have 1 dimension and the same dim 0 as batch_size');return{batchSize:s,sequenceLength:l,pastSequenceLength:d,kvSequenceLength:u,totalSequenceLength:-1,maxSequenceLength:-1,inputHiddenSize:0,hiddenSize:c,vHiddenSize:b,headSize:p,vHeadSize:Math.floor(b/t.kvNumHeads),numHeads:t.numHeads,kvNumHeads:t.kvNumHeads,nReps:t.numHeads/t.kvNumHeads,pastPresentShareBuffer:!1,maskType:0,scale:t.scale,broadcastResPosBias:!1,passPastInKv:y,qkvFormat:g}},zs=vn({perm:[0,2,1,3]}),Ps=(e,t,n)=>{let a=t,r=n.kvNumHeads;return 3===t.dims.length&&0!==n.kvSequenceLength&&(a=t.reshape([n.batchSize,n.kvSequenceLength,r,n.headSize]),a=e.compute(Un(a,zs.perm),{inputs:[a],outputs:[-1]})[0]),a},Ns=(e,t,n,a)=>{let r=[e*t],i=e*t,o=[{type:12,data:i},{type:12,data:t},{type:12,data:e}];return{name:"GeneratePositionIds",shaderCache:{hint:"".concat(e,";").concat(t),inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:r,dataType:7}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:o}),getShaderSource:e=>{let t=Mn("seq_lens",n.dataType,n.dims),i=Mn("total_seq_lens",a.dataType,a.dims),o=In("pos_ids",7,r);return"\n  ".concat(e.registerUniforms([{name:"output_size",type:"u32"},{name:"sequence_length",type:"u32"},{name:"batch_size",type:"u32"}]).declareVariables(t,i,o),"\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n    let total_sequence_length = u32(").concat(i.getByOffset("0"),");\n    let is_subsequent_prompt = uniforms.sequence_length > 1 && uniforms.sequence_length != total_sequence_length;\n    let is_first_prompt = !is_subsequent_prompt && uniforms.sequence_length == total_sequence_length;\n    let batch_idx = global_idx / uniforms.sequence_length;\n    let sequence_idx = i32(global_idx % uniforms.sequence_length);\n    var pos_id: i32 = 0;\n    let seqlen = ").concat(t.getByOffset("batch_idx"),";\n    let total_seqlen = seqlen + 1;\n    if (is_first_prompt) {\n      if (sequence_idx < total_seqlen) {\n        pos_id = sequence_idx;\n      } else {\n        pos_id = 1;\n      }\n      ").concat(o.setByOffset("global_idx","pos_id"),"\n    } else if (is_subsequent_prompt) {\n      let past_seqlen = total_seqlen - i32(uniforms.sequence_length);\n      if (past_seqlen + sequence_idx < total_seqlen) {\n        pos_id = past_seqlen + sequence_idx;\n      } else {\n        pos_id = 1;\n      }\n      ").concat(o.setByOffset("global_idx","pos_id"),"\n    } else if (global_idx < uniforms.batch_size) {\n      ").concat(o.setByOffset("global_idx","seqlen"),"\n    };\n  }\n  ")}}},Os=(e,t)=>{var n;let a=Is(e.inputs,t);if(5===e.inputs[0].dims.length)throw new Error("Packed QKV is not implemented");if(5===(null===(n=e.inputs[1])||void 0===n?void 0:n.dims.length))throw new Error("Packed KV is not implemented");let r,i,o=e.inputs[0],s=e.inputs[1]&&e.inputs[1].dims.length>0?e.inputs[1]:void 0,l=e.inputs[2]&&e.inputs[2].dims.length>0?e.inputs[2]:void 0,c=e.inputs[3]&&0!==e.inputs[3].dims.length?e.inputs[3]:void 0,u=e.inputs[4]&&0!==e.inputs[4].dims.length?e.inputs[4]:void 0,d=e.inputs.length>4?e.inputs[5]:void 0,h=e.inputs.length>5?e.inputs[6]:void 0,p=a.kvNumHeads?a.kvNumHeads:a.numHeads,f=vn({axis:2,numOutputs:3,splitSizes:[a.numHeads*a.headSize,p*a.headSize,p*a.headSize]}),[m,g,y]=s||l?[o,s,l]:e.compute(As([o],f),{inputs:[o],outputs:[-1,-1,-1]});if(t.doRotary){let n=e.compute(Ns(a.batchSize,a.sequenceLength,d,h),{inputs:[d,h],outputs:[-1]})[0],o=e.inputs[7],s=e.inputs[8],l=vn({interleaved:0!==t.rotaryInterleaved,numHeads:a.numHeads,rotaryEmbeddingDim:0,scale:t.scale}),c=[m,n,o,s],u=[-1];r=e.compute(Fs(c,l),{inputs:c,outputs:u})[0],c.splice(0,1,g);let p=vn({interleaved:0!==t.rotaryInterleaved,numHeads:a.kvNumHeads,rotaryEmbeddingDim:0,scale:t.scale});i=e.compute(Fs(c,p),{inputs:c,outputs:u})[0]}let b=ws(e,a.batchSize,a.numHeads,a.sequenceLength,a.headSize,t.doRotary?r:m,void 0,0),v=Ps(e,t.doRotary?i:g,a),w=Ps(e,y,a);Ya(e,b,v,w,void 0,void 0,c,u,void 0,a,d,h)}})),Eu=pe((()=>{Nc(),Lc(),Wc(),Hc(),Bs=(e,t,n,a,r,i,o,s)=>{let l=Dn(i),c=1===l?"f32":"vec".concat(l,"f"),u=1===l?"vec2f":"mat2x".concat(l,"f"),d=r*o,h=64;1===d&&(h=256);let p=[r,o,i/l],f=[r,o,2],m=[];m.push(...Tn(p,f));return e.compute({name:"InstanceNormComputeChannelScaleShift",shaderCache:{hint:"".concat(l,";").concat(s,";").concat(h),inputDependencies:["rank","type","type"]},getRunData:()=>({outputs:[{dims:f,dataType:1}],dispatchGroup:{x:d},programUniforms:m}),getShaderSource:e=>{let r=Mn("x",t.dataType,3,l),i=[r,Mn("scale",n.dataType,n.dims),Mn("bias",a.dataType,a.dims),In("output",1,3,2)];return"\n  var<workgroup> workgroup_shared : array<".concat(u,", ").concat(h,">;\n  const workgroup_size = ").concat(h,"u;\n  ").concat(e.declareVariables(...i),"\n  ").concat(e.mainStart(h),"\n    let batch = workgroup_index / uniforms.x_shape[1];\n    let channel = workgroup_index % uniforms.x_shape[1];\n    let hight = uniforms.x_shape[2];\n    // initialize workgroup memory\n    var sum = ").concat(c,"(0);\n    var squared_sum = ").concat(c,"(0);\n    for (var h = local_idx; h < hight; h += workgroup_size) {\n      let value = ").concat(c,"(").concat(r.get("batch","channel","h"),");\n      sum += value;\n      squared_sum += value * value;\n    }\n    workgroup_shared[local_idx] = ").concat(u,"(sum, squared_sum);\n    workgroupBarrier();\n\n    for (var currSize = workgroup_size >> 1;  currSize > 0; currSize = currSize >> 1) {\n      if (local_idx < currSize) {\n        workgroup_shared[local_idx] = workgroup_shared[local_idx] + workgroup_shared[local_idx + currSize];\n      }\n      workgroupBarrier();\n    }\n    if (local_idx == 0) {\n      let sum_final = ").concat(Sn("workgroup_shared[0][0]",l)," / f32(hight * ").concat(l,");\n      let squared_sum_final = ").concat(Sn("workgroup_shared[0][1]",l)," / f32(hight * ").concat(l,");\n\n      let inv_std_dev = inverseSqrt(squared_sum_final - sum_final * sum_final + f32(").concat(s,"));\n      let channel_scale = inv_std_dev * f32(scale[channel]);\n      let channel_shift = f32(bias[channel]) - sum_final * channel_scale;\n      output[workgroup_index] = vec2f(channel_scale, channel_shift);\n    }\n  }")}},{inputs:[t,n,a],outputs:[-1]})[0]},Ls=(e,t,n)=>{let a=t[0].dims,r=a,i=a[0],o=a[1],s=Ut.sizeFromDimension(a,2),l=Dn(s),c=Ut.size(r)/l,u=Bs(e,t[0],t[1],t[2],i,s,o,n.epsilon),d=[i,o,s/l],h=[i,o];e.compute({name:"InstanceNormalization",shaderCache:{hint:"".concat(l),inputDependencies:["type","none"]},getRunData:()=>({outputs:[{dims:r,dataType:t[0].dataType}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:[{type:12,data:c},...Tn(d,h,d)]}),getShaderSource:e=>{let n=Mn("x",t[0].dataType,d.length,l),a=Mn("scale_shift",1,h.length,2),r=In("output",t[0].dataType,d.length,l),i=[n,a,r];return"\n  ".concat(e.registerUniform("output_size","u32").declareVariables(...i),"\n  ").concat(e.mainStart(),"\n  ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n      let outputIndices = ").concat(r.offsetToIndices("global_idx"),";\n      let batch = outputIndices[0];\n      let channel = outputIndices[1];\n      let scale_shift = ").concat(a.getByIndices("vec2<u32>(batch, channel)"),";\n      let value = ").concat(n.getByOffset("global_idx")," * ").concat(r.type.value,"(scale_shift.x) + ").concat(r.type.value,"(scale_shift.y);\n      ").concat(r.setByOffset("global_idx","value"),";\n  }")}},{inputs:[t[0],u]})},Rs=(e,t,n)=>{let a=t[0].dims,r=a,i=a[0],o=a[a.length-1],s=Ut.sizeFromDimension(a,1)/o,l=Dn(o),c=Ut.size(r)/l,u=[{type:12,data:s},{type:12,data:Math.floor(o/l)}],d=!1,h=[0,a.length-1];for(let m=0;m<a.length-2;m++)d=d||1!==a[m+1],h.push(m+1);d=d&&1!==a[a.length-1];let p=d?e.compute(Un(e.inputs[0],h),{inputs:[e.inputs[0]],outputs:[-1]})[0]:e.inputs[0].reshape(Array.from({length:a.length},((e,t)=>a[h[t]]))),f=Bs(e,p,t[1],t[2],i,s,o,n.epsilon);e.compute({name:"InstanceNormalizationNHWC",shaderCache:{hint:"".concat(l),inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:r,dataType:t[0].dataType}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:u}),getShaderSource:e=>{let n=xn(t[0].dataType),a=1===l?"vec2f":"mat".concat(l,"x2f"),i=e=>{let t=0===e?"x":"y",a=1===l?"f32":"vec".concat(l,"f");switch(l){case 1:return"".concat(n,"(").concat(a,"(scale.").concat(t,"))");case 2:return"vec2<".concat(n,">(").concat(a,"(scale[0].").concat(t,", scale[1].").concat(t,"))");case 4:return"vec4<".concat(n,">(").concat(a,"(scale[0].").concat(t,", scale[1].").concat(t,", scale[2].").concat(t,", scale[3].").concat(t,"))");default:throw new Error("Not supported compoents ".concat(l))}},o=Mn("input",t[0].dataType,t[0].dims,l),s=In("output",t[0].dataType,r,l);return"\n  @group(0) @binding(0) var<storage, read> input : array<".concat(o.type.storage,">;\n  @group(0) @binding(1) var<storage, read> scale_input : array<").concat(a,">;\n  @group(0) @binding(2) var<storage, read_write> output : array<").concat(s.type.storage,">;\n  struct Uniforms {H: u32, C : u32};\n  @group(0) @binding(3) var<uniform> uniforms: Uniforms;\n\n  ").concat(e.mainStart(),"\n    let current_image_number = global_idx / (uniforms.C * uniforms.H);\n    let current_channel_number = global_idx % uniforms.C;\n\n    let scale_offset = current_image_number * uniforms.C + current_channel_number;\n    let scale = scale_input[scale_offset];\n    output[global_idx] = fma(input[global_idx], ").concat(i(0),", ").concat(i(1),");\n  }")}},{inputs:[t[0],f]})},js=(e,t)=>{"NHWC"===t.format?Rs(e,e.inputs,t):Ls(e,e.inputs,t)}})),Fu=pe((()=>{Nc(),Lc(),Hc(),Vs=e=>{if(!e||e.length<2)throw new Error("layerNorm requires at least 2 inputs.")},qs=(e,t,n)=>{let a=t.simplified,r=e[0].dims,i=e[1],o=!a&&e[2],s=r,l=Ut.normalizeAxis(t.axis,r.length),c=Ut.sizeToDimension(r,l),u=Ut.sizeFromDimension(r,l),d=Ut.size(i.dims),h=o?Ut.size(o.dims):0;if(d!==u||o&&h!==u)throw new Error("Size of X.shape()[axis:] == ".concat(u,".\n       Size of scale and bias (if provided) must match this.\n       Got scale size of ").concat(d," and bias size of ").concat(h));let p=[];for(let w=0;w<r.length;++w)w<l?p.push(r[w]):p.push(1);let f=Dn(u),m=["type","type"],g=[{type:12,data:c},{type:1,data:u},{type:12,data:Math.floor(u/f)},{type:1,data:t.epsilon}];o&&m.push("type");let y=n>1,b=n>2,v=[{dims:s,dataType:e[0].dataType}];return y&&v.push({dims:p,dataType:1}),b&&v.push({dims:p,dataType:1}),{name:"LayerNormalization",shaderCache:{hint:"".concat(f,";").concat(n,";").concat(a),inputDependencies:m},getRunData:()=>({outputs:v,dispatchGroup:{x:Math.ceil(c/64)},programUniforms:g}),getShaderSource:t=>{let n=xn(e[0].dataType),r=[Mn("x",e[0].dataType,e[0].dims,f),Mn("scale",i.dataType,i.dims,f)];o&&r.push(Mn("bias",o.dataType,o.dims,f)),r.push(In("output",e[0].dataType,s,f)),y&&r.push(In("mean_data_output",1,p)),b&&r.push(In("inv_std_output",1,p));return"\n  ".concat(t.registerUniforms([{name:"norm_count",type:"u32"},{name:"norm_size",type:"f32"},{name:"norm_size_vectorized",type:"u32"},{name:"epsilon",type:"f32"}]).declareVariables(...r),"\n  ").concat(t.mainStart(),"\n    ").concat(t.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.norm_count"),"\n    let offset = global_idx * uniforms.norm_size_vectorized;\n    var mean_vector = ").concat(An("f32",f),";\n    var mean_square_vector = ").concat(An("f32",f),";\n\n    for (var h: u32 = 0u; h < uniforms.norm_size_vectorized; h++) {\n      let value = ").concat(Cn(n,f,"x[h + offset]"),";\n      mean_vector += value;\n      mean_square_vector += value * value;\n    }\n    let mean = ").concat(Sn("mean_vector",f)," / uniforms.norm_size;\n    let inv_std_dev = inverseSqrt(").concat(Sn("mean_square_vector",f)," / uniforms.norm_size ").concat(a?"":"- mean * mean"," + uniforms.epsilon);\n\n    for (var j: u32 = 0; j < uniforms.norm_size_vectorized; j++) {\n      let f32input = ").concat(Cn(n,f,"x[j + offset]"),";\n      let f32scale = ").concat(Cn(n,f,"scale[j]"),";\n      output[j + offset] = ").concat(r[0].type.value,"((f32input ").concat(a?"":"- mean",") * inv_std_dev * f32scale\n        ").concat(o?"+ ".concat(Cn(n,f,"bias[j]")):"","\n      );\n    }\n\n    ").concat(y?"mean_data_output[global_idx] = mean":"",";\n    ").concat(b?"inv_std_output[global_idx] = inv_std_dev":"",";\n  }")}}},Us=(e,t)=>{Vs(e.inputs),e.compute(qs(e.inputs,t,e.outputCount))}})),Mu=pe((()=>{Lc(),ou(),su(),Gs=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.")},Hs=e=>{Gs(e.inputs);let t=qt.calcShape(e.inputs[0].dims,e.inputs[1].dims,!0);if(!t)throw new Error("Can't use matmul on the given tensors");let n=t[t.length-1],a=e.inputs[0].dims[e.inputs[0].dims.length-1];if(n<8&&a<8)e.compute(Di(e.inputs,{activation:""},t));else{let r=t[t.length-2],i=Ut.size(e.inputs[0].dims.slice(0,-2)),o=Ut.size(e.inputs[1].dims.slice(0,-2));if(1!==i&&1===r&&1===o){let r=[1,i,n],o=[e.inputs[0].reshape([1,i,a]),e.inputs[1].reshape([1,a,n])];e.compute(zi(o,{activation:""},t,r),{inputs:o})}else e.compute(zi(e.inputs,{activation:""},t))}}})),Iu=pe((()=>{Nc(),Lc(),Gc(),Hc(),Ws=(e,t)=>{if(e.length<3||e.length>4)throw new Error("MatMulNBits requires 3 or 4 inputs");let n=e[0],a=n.dims.length;if(n.dims[a-1]!==t.k)throw new Error("The last dim of input shape does not match the k value");let r=Math.floor((t.k+t.blockSize-1)/t.blockSize),i=t.blockSize/8*t.bits,o=e[1];if(!Ut.areEqual(o.dims,[t.n,r,i]))throw new Error("The second inputs must be 3D tensor with shape N X nBlocksPerCol X blobSize");let s=e[2].dims;if(Ut.size(s)!==t.n*r)throw new Error("scales input size error.");if(4===e.length){let n=e[3].dims,a=t.bits>4?t.n*r:t.n*Math.floor((r+1)/2);if(Ut.size(n)!==a)throw new Error("zeroPoints input size error.")}},Ks=(e,t)=>{let n=e[0].dims,a=n.length,r=n[a-2],i=t.k,o=t.n,s=n.slice(0,a-2),l=Ut.size(s),c=e[1].dims[2]/4,u=e[0].dataType,d=Dn(t.k),h=Dn(c),p=Dn(o),f=s.concat([r,o]),m=r>1&&o/p%2===0?2:1,g=Ut.size(f)/p/m,y=64,b=[],v=[l,r,i/d],w=Ut.convertShape(e[1].dims).slice();w.splice(-1,1,c/h),b.push(...Tn(v)),b.push(...Tn(w)),b.push(...Tn(e[2].dims)),4===e.length&&b.push(...Tn(Ut.convertShape(e[3].dims)));let _=[l,r,o/p];b.push(...Tn(_));return{name:"MatMulNBits",shaderCache:{hint:"".concat(t.blockSize,";").concat(t.bits,";").concat(d,";").concat(h,";").concat(p,";").concat(m,";").concat(y),inputDependencies:Array(e.length).fill("rank")},getRunData:()=>({outputs:[{dims:f,dataType:u}],dispatchGroup:{x:g},programUniforms:b}),getShaderSource:n=>{let a=v.length,r=Mn("a",e[0].dataType,a,d),i=Mn("b",12,w.length,h),o=Mn("scales",e[2].dataType,e[2].dims.length),s=[r,i,o],l=4===e.length?Mn("zero_points",12,e[3].dims.length):void 0;l&&s.push(l);let u=_.length,f=In("output",e[0].dataType,u,p),g=xn(e[0].dataType),b=(()=>{switch(d){case 1:return"array<".concat(g,", 8>");case 2:return"mat4x2<".concat(g,">");case 4:return"mat2x4<".concat(g,">");default:throw new Error("".concat(d,"-component is not supported."))}})();return"\n        var<workgroup> workgroup_shared: array<".concat(f.type.value,", ").concat(m*y,">;\n        ").concat(n.declareVariables(...s,f),"\n        ").concat(n.mainStart([y,1,1]),"\n          let output_indices = ").concat(f.offsetToIndices("(global_idx / ".concat(y,") * ").concat(m)),";\n          let col = output_indices[2];\n          let row = output_indices[1];\n          let batch = output_indices[0];\n          let nBlocksPerCol = uniforms.b_shape[1];\n\n          for (var block = local_id.x; block < nBlocksPerCol; block += ").concat(y,") {\n            //process one block\n            var word_offset: u32 = block * ").concat(t.blockSize/d,";\n            ").concat((()=>{let e="\n            var col_index = col * ".concat(p,";\n            ").concat(l?"\n            let zero_point_bytes_per_col = (nBlocksPerCol + 1) / 2;\n            var zero_point_byte_count: u32;\n            var zero_point_word_index: u32;\n            var zero_point_byte_offset: u32;\n            let zero_point_nibble_offset: u32 = block & 0x1u;\n            var zero_point_bits_offset: u32;\n            var zero_point_word: u32;":"\n            // The default zero point is 8 for unsigned 4-bit quantization.\n            let zero_point = ".concat(g,"(8);"),"\n            ");for(let t=0;t<p*m;t++)e+="\n            let scale".concat(t," = ").concat(o.getByOffset("col_index * nBlocksPerCol + block"),";\n            ").concat(l?"\n            zero_point_byte_count = col_index * zero_point_bytes_per_col + (block >> 0x1u);\n            zero_point_word_index = zero_point_byte_count >> 0x2u;\n            zero_point_byte_offset = zero_point_byte_count & 0x3u;\n            zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);\n            zero_point_word = ".concat(l.getByOffset("zero_point_word_index")," >> zero_point_bits_offset;\n            let zero_point").concat(t," = ").concat(g,"((zero_point_word) & 0xFu);"):"","\n            col_index += 1;");return e})(),"\n            for (var word: u32 = 0; word < ").concat(c,"; word += ").concat(h,") {\n              ").concat((()=>{let e="col_index = col * ".concat(p,";");for(let t=0;t<p*m;t++)e+="\n            let b".concat(t,"_data = ").concat(i.getByIndices("".concat(i.type.indices,"(col_index, block, word)")),";\n            col_index += 1;");return e+="\n            var b_value: u32;\n            let b_mask: u32 = 0x0F0F0F0Fu;\n            var b_value_lower: vec4<u32>;\n            var b_value_upper: vec4<u32>;\n            var b_quantized_values: ".concat(b,";\n            var b_dequantized_values: ").concat(b,";"),e})(),"\n              for (var i: u32 = 0; i < ").concat(h,"; i++) {\n                ").concat((()=>{let e="\n          // reuse a data\n            var input_offset = ".concat(r.indicesToOffset("".concat(r.type.indices,"(batch, row, word_offset)")),";\n            var a_data: ").concat(b,";\n            for (var j: u32 = 0; j < ").concat(8/d,"; j++) {\n              a_data[j] = ").concat(r.getByOffset("input_offset"),";\n              input_offset++;\n            }\n          ");for(let t=0;t<p*m;t++)e+="\n            b_value = ".concat("b".concat(t,1===h?"_data":"_data[i]"),";\n            b_value_lower = unpack4xU8(b_value & b_mask);\n            b_value_upper = unpack4xU8((b_value >> 4) & b_mask);\n            b_quantized_values = ").concat(b,"(").concat(Array.from({length:4},((e,t)=>"".concat(g,"(b_value_lower[").concat(t,"]), ").concat(g,"(b_value_upper[").concat(t,"])"))).join(", "),");\n            b_dequantized_values = ").concat(1===d?"".concat(b,"(").concat(Array.from({length:8},((e,n)=>"(b_quantized_values[".concat(n,"] - ").concat(l?"zero_point".concat(t):"zero_point",") * scale").concat(t))).join(", "),");"):"(b_quantized_values - ".concat(b,"(").concat(Array(8).fill("".concat(l?"zero_point".concat(t):"zero_point")).join(","),")) * scale").concat(t,";"),";\n            workgroup_shared[local_id.x * ").concat(m," + ").concat(Math.floor(t/p),"]").concat(p>1?"[".concat(t%p,"]"):""," += ").concat(Array.from({length:8/d},((e,t)=>"".concat(1===d?"a_data[".concat(t,"] * b_dequantized_values[").concat(t,"]"):"dot(a_data[".concat(t,"], b_dequantized_values[").concat(t,"])")))).join(" + "),";\n          ");return e})(),"\n                word_offset += ").concat(8/d,";\n              }\n            }\n          }\n          workgroupBarrier();\n\n          if (local_id.x < ").concat(m,") {\n            var output_value: ").concat(f.type.value," = ").concat(f.type.value,"(0);\n            var workgroup_shared_offset: u32 = local_id.x;\n            for (var b: u32 = 0u; b < ").concat(y,"u; b++) {\n              output_value += workgroup_shared[workgroup_shared_offset];\n              workgroup_shared_offset += ").concat(m,";\n            }\n            ").concat(f.setByIndices("".concat(f.type.indices,"(batch, row, col + local_id.x)"),"output_value"),";\n          }\n        }")}}},Ys=(e,t)=>{let n=e[0].dims,a=n.length,r=n[a-2],i=t.k,o=t.n,s=n.slice(0,a-2),l=Ut.size(s),c=e[1].dims[2]/4,u=e[0].dataType,d=Dn(t.k),h=Dn(c),p=s.concat([r,o]),f=o%8===0?8:o%4===0?4:1,m=128/f,g=m*h*8,y=g/d,b=g/t.blockSize,v=Ut.size(p)/f,w=[],_=[l,r,i/d],x=Ut.convertShape(e[1].dims).slice();x.splice(-1,1,c/h),w.push(...Tn(_)),w.push(...Tn(x)),w.push(...Tn(e[2].dims)),4===e.length&&w.push(...Tn(Ut.convertShape(e[3].dims)));let k=[l,r,o];w.push(...Tn(k));return{name:"BlockwiseMatMulNBits32",shaderCache:{hint:"".concat(t.blockSize,";").concat(d,";").concat(h,";").concat(m,";").concat(f),inputDependencies:Array(e.length).fill("rank")},getRunData:()=>({outputs:[{dims:p,dataType:u}],dispatchGroup:{x:v},programUniforms:w}),getShaderSource:n=>{let a=_.length,r=Mn("a",e[0].dataType,a,d),i=Mn("b",12,x.length,h),o=Mn("scales",e[2].dataType,e[2].dims.length),s=[r,i,o],l=4===e.length?Mn("zero_points",12,e[3].dims.length):void 0;l&&s.push(l);let c=k.length,u=In("output",e[0].dataType,c),p=xn(e[0].dataType);return"\n        var<workgroup> sub_a: array<".concat(r.type.value,", ").concat(y,">;\n        var<workgroup> inter_results: array<array<").concat(u.type.value,", ").concat(m,">, ").concat(f,">;\n        ").concat(n.declareVariables(...s,u),"\n        ").concat(n.mainStart([m,f,1]),"\n          let output_indices = ").concat(u.offsetToIndices("workgroup_index * ".concat(f)),";\n          let col = output_indices[2];\n          let row = output_indices[1];\n          let batch = output_indices[0];\n          let n_blocks_per_col = uniforms.b_shape[1];\n          let num_tiles =  (n_blocks_per_col - 1) / ").concat(b," + 1;\n\n          // Loop over shared dimension.\n          for (var tile: u32 = 0; tile < num_tiles; tile += 1) {\n            let a_col_start = tile * ").concat(y,";\n            // load one tile A data into shared memory.\n            for (var a_offset = local_idx; a_offset < ").concat(y,"; a_offset += ").concat(128,")\n            {\n              let a_col = a_col_start + a_offset;\n              if (a_col < uniforms.a_shape[2])\n              {\n                sub_a[a_offset] = ").concat(r.getByIndices("".concat(r.type.indices,"(batch, row, a_col)")),";\n              } else {\n                sub_a[a_offset] = ").concat(r.type.value,"(0);\n              }\n            }\n            workgroupBarrier();\n\n            // each thread process one block\n            let b_row = col + local_id.y;\n            let block = tile * ").concat(b," + local_id.x;\n            ").concat(l?"\n            let zero_point_bytes_per_col = (n_blocks_per_col + 1) / 2;\n            let zero_point_byte_count = b_row * zero_point_bytes_per_col + (block >> 0x1u);\n            let zero_point_word_index = zero_point_byte_count >> 0x2u;\n            let zero_point_byte_offset = zero_point_byte_count & 0x3u;\n            let zero_point_nibble_offset: u32 = block & 0x1u;\n            let zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);\n            let zero_point_word = ".concat(l.getByOffset("zero_point_word_index")," >> zero_point_bits_offset;\n            let zero_point = ").concat(p,"((zero_point_word) & 0xFu);"):"\n            // The default zero point is 8 for unsigned 4-bit quantization.\n            let zero_point = ".concat(p,"(8);"),"\n            let scale = ").concat(o.getByOffset("b_row * n_blocks_per_col + block"),";\n            let b_data = ").concat(i.getByIndices("".concat(i.type.indices,"(b_row, block, 0)")),";\n            var word_offset = local_id.x * ").concat(t.blockSize/d,";\n            for (var i: u32 = 0; i < ").concat(h,"; i++) {\n              ").concat((()=>{switch(d){case 1:return"\n          let a_data0 = vec4<".concat(p,">(sub_a[word_offset], sub_a[word_offset + 1], sub_a[word_offset + 2], sub_a[word_offset + 3]);\n          let a_data1 = vec4<").concat(p,">(sub_a[word_offset + 4], sub_a[word_offset + 5], sub_a[word_offset + 6], sub_a[word_offset + 7]);");case 2:return"\n          let a_data0 = vec4<".concat(p,">(sub_a[word_offset], sub_a[word_offset + 1]);\n          let a_data1 = vec4<").concat(p,">(sub_a[word_offset + 2], sub_a[word_offset + 3]);");case 4:return"\n          let a_data0 = sub_a[word_offset];\n          let a_data1 = sub_a[word_offset + 1];";default:throw new Error("".concat(d,"-component is not supported."))}})(),"\n              let b_value = ").concat(1===h?"b_data":"b_data[i]",";\n              let b_value_lower = unpack4xU8(b_value & 0x0F0F0F0Fu);\n              let b_value_upper = unpack4xU8((b_value >> 4) & 0x0F0F0F0Fu);\n              let b_quantized_values = mat2x4<").concat(p,">(").concat(Array.from({length:4},((e,t)=>"".concat(p,"(b_value_lower[").concat(t,"]), ").concat(p,"(b_value_upper[").concat(t,"])"))).join(", "),");\n              let b_dequantized_values = (b_quantized_values - mat2x4<").concat(p,">(").concat(Array(8).fill("zero_point").join(","),")) * scale;\n              inter_results[local_id.y][local_id.x] += ").concat(Array.from({length:2},((e,t)=>"".concat("dot(a_data".concat(t,", b_dequantized_values[").concat(t,"])")))).join(" + "),";\n              word_offset += ").concat(8/d,";\n            }\n            workgroupBarrier();\n          }\n\n          if (local_idx < ").concat(f,") {\n            var output_value: ").concat(u.type.value," = ").concat(u.type.value,"(0);\n            for (var b = 0u; b < ").concat(m,"; b++) {\n              output_value += inter_results[local_idx][b];\n            }\n            if (col + local_idx < uniforms.output_shape[2])\n            {\n              ").concat(u.setByIndices("".concat(u.type.indices,"(batch, row, col + local_idx)"),"output_value"),"\n            }\n          }\n        }")}}},Js=(e,t)=>{Ws(e.inputs,t),32===t.blockSize&&e.adapterInfo.isVendor("intel")&&e.adapterInfo.isArchitecture("gen-12lp")?e.compute(Ys(e.inputs,t)):e.compute(Ks(e.inputs,t))},Zs=e=>vn(e)})),zu=pe((()=>{Nc(),Lc(),Hc(),Xs=e=>{if(!e||e.length<1)throw new Error("Too few inputs");if(1!==e[0].dataType&&10!==e[0].dataType)throw new Error("Input type must be float or float16.");if(e.length>=2){let t=2*e[0].dims.length===e[1].dims[0];if(4===e.length&&(t=2*e[3].dims[0]===e[1].dims[0]),!t)throw new Error("The pads should be a 1D tensor of shape [2 * input_rank] or [2 * num_axes].")}},$s=(e,t,n)=>{let a="";for(let r=t-1;r>=0;--r)a+="\n            k = i32(".concat(e.indicesGet("indices",r),") - ").concat(En("uniforms.pads",r,n),";\n            if (k < 0) {\n              break;\n            }\n            if (k >= i32(").concat(En("uniforms.x_shape",r,t),")) {\n              break;\n            }\n            offset += k * i32(").concat(En("uniforms.x_strides",r,t),");\n        ");return"\n          value = ".concat(e.type.value,"(uniforms.constant_value);\n          for (var i = 0; i < 1; i++) {\n            var offset = 0;\n            var k = 0;\n            ").concat(a,"\n            value = x[offset];\n          }\n      ")},Qs=(e,t,n)=>{let a="";for(let r=t-1;r>=0;--r)a+="\n                k = i32(".concat(e.indicesGet("indices",r),") - ").concat(En("uniforms.pads",r,n),";\n                if (k < 0) {\n                  k = -k;\n                }\n                {\n                  let _2n_1 = 2 * (i32(").concat(En("uniforms.x_shape",r,t),") - 1);\n                  k = k % _2n_1;\n                  if(k >= i32(").concat(En("uniforms.x_shape",r,t),")) {\n                    k = _2n_1 - k;\n                  }\n                }\n                offset += k * i32(").concat(En("uniforms.x_strides",r,t),");\n            ");return"\n              var offset = 0;\n              var k = 0;\n              ".concat(a,"\n              value = x[offset];\n          ")},el=(e,t,n)=>{let a="";for(let r=t-1;r>=0;--r)a+="\n                k = i32(".concat(e.indicesGet("indices",r),") - ").concat(En("uniforms.pads",r,n),";\n                if (k < 0) {\n                  k = 0;\n                }\n                if (k >= i32(").concat(En("uniforms.x_shape",r,t),")) {\n                  k = i32(").concat(En("uniforms.x_shape",r,t),") - 1;\n                }\n                offset += k * i32(").concat(En("uniforms.x_strides",r,t),");\n            ");return"\n              var offset = 0;\n              var k = 0;\n              ".concat(a,"\n              value = x[offset];\n          ")},tl=(e,t,n)=>{let a="";for(let r=t-1;r>=0;--r)a+="\n                k = i32(".concat(e.indicesGet("indices",r),") - ").concat(En("uniforms.pads",r,n),";\n                if (k < 0)  {\n                  k += i32(").concat(En("uniforms.x_shape",r,t),"]);\n                }\n                if (k >= i32(").concat(En("uniforms.x_shape",r,t),")) {\n                  k -= i32(").concat(En("uniforms.x_shape",r,t),");\n                }\n                offset += k * i32(").concat(En("uniforms.x_strides",r,t),");\n            ");return"\n              var offset = 0;\n              var k = 0;\n              ".concat(a,"\n              value = x[offset];\n          ")},nl=(e,t,n)=>{switch(n.mode){case 0:return $s(e,t,n.pads.length);case 1:return Qs(e,t,n.pads.length);case 2:return el(e,t,n.pads.length);case 3:return tl(e,t,n.pads.length);default:throw new Error("Invalid mode")}},al=(e,t)=>{let n=Ut.padShape(e[0].dims.slice(),t.pads),a=e[0].dims,r=[{type:12,data:Ut.size(n)},{type:6,data:t.pads}],i=e.length>=3&&e[2].data;0===t.mode&&r.push({type:i?e[2].dataType:1,data:t.value}),r.push(...Tn(e[0].dims,n));return{name:"Pad",shaderCache:{hint:"".concat(t.mode).concat(i),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(Ut.size(n)/64)},programUniforms:r}),getShaderSource:r=>{let o=In("output",e[0].dataType,n.length),s=Mn("x",e[0].dataType,a.length),l=s.type.value,c=nl(o,a.length,t),u=[{name:"output_size",type:"u32"},{name:"pads",type:"i32",length:t.pads.length}];return 0===t.mode&&u.push({name:"constant_value",type:i?l:"f32"}),"\n            ".concat(r.registerUniforms(u).declareVariables(s,o),"\n            ").concat(r.mainStart(),"\n            ").concat(r.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n\n            let indices = ").concat(o.offsetToIndices("global_idx"),";\n\n            var value = ").concat(l,"(0);\n            ").concat(c,"\n            output[global_idx] = value;\n        }")}}},rl=(e,t)=>{if(e.length>1){let n=e[1].getBigInt64Array(),a=e.length>=3&&e[2].data?10===e[2].dataType?e[2].getUint16Array()[0]:e[2].getFloat32Array()[0]:0,r=e[0].dims.length,i=new Int32Array(2*r).fill(0);if(e.length>=4){let t=e[3].getBigInt64Array();for(let e=0;e<t.length;e++)i[Number(t[e])]=Number(n[e]),i[Number(t[e])+r]=Number(n[e+t.length])}else n.forEach(((e,t)=>i[Number(t)]=Number(e)));let o=[];return i.forEach((e=>o.push(e))),{mode:t.mode,value:a,pads:o}}return t},il=(e,t)=>{Xs(e.inputs);let n=rl(e.inputs,t);e.compute(al(e.inputs,n),{inputs:[0]})}})),Pu=pe((()=>{Ne(),Nc(),Lc(),Hc(),ol=e=>{if(R.webgpu.validateInputContent&&(!e||1!==e.length))throw new Error("Pool ops requires 1 input.")},sl=(e,t,n)=>{let a="NHWC"===t.format,r=e.dims.slice();a&&r.splice(1,0,r.pop());let i=Object.hasOwnProperty.call(t,"dilations"),o=t.kernelShape.slice(),s=t.strides.slice(),l=i?t.dilations.slice():[],c=t.pads.slice();Gt.adjustPoolAttributes(n,r,o,s,l,c);let u=Gt.computePoolOutputShape(n,r,s,l,o,c,t.autoPad),d=Object.assign({},t);i?Object.assign(d,{kernelShape:o,strides:s,pads:c,dilations:l,cacheKey:t.cacheKey}):Object.assign(d,{kernelShape:o,strides:s,pads:c,cacheKey:t.cacheKey});let h=u.slice();return h.push(h.splice(1,1)[0]),[d,a?h:u]},ll=(e,t)=>{let n="NHWC"===t.format,a=[{type:12,data:Ut.size(e)},{type:12,data:Ut.size(t.kernelShape)}],r=[{name:"outputSize",type:"u32"},{name:"kernelSize",type:"u32"}];if(t.kernelShape.length<=2){let e=t.kernelShape[t.kernelShape.length-1],n=t.strides[t.strides.length-1],i=t.pads[t.pads.length/2-1],o=t.pads[t.pads.length-1],s=!!(i+o);a.push({type:12,data:e},{type:12,data:n},{type:12,data:i},{type:12,data:o}),r.push({name:"kw",type:"u32"},{name:"sw",type:"u32"},{name:"pwStart",type:"u32"},{name:"pwEnd",type:"u32"});let l=!1;if(2===t.kernelShape.length){let e=t.kernelShape[t.kernelShape.length-2],n=t.strides[t.strides.length-2],i=t.pads[t.pads.length/2-2],o=t.pads[t.pads.length-2];l=!!(i+o),a.push({type:12,data:e},{type:12,data:n},{type:12,data:i},{type:12,data:o}),r.push({name:"kh",type:"u32"},{name:"sh",type:"u32"},{name:"phStart",type:"u32"},{name:"phEnd",type:"u32"})}return[a,r,!0,s,l]}{if(n)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let e=Ut.computeStrides(t.kernelShape);a.push({type:12,data:e},{type:12,data:t.pads},{type:12,data:t.strides}),r.push({name:"kernelStrides",type:"u32",length:e.length},{name:"pads",type:"u32",length:t.pads.length},{name:"strides",type:"u32",length:t.strides.length});let i=t.pads.reduce(((e,t)=>e+t));return[a,r,!!i,!1,!1]}},cl=(e,t,n,a,r,i,o,s,l,c,u,d)=>{let h="NHWC"===r.format,p=t.type.value,f=In("output",t.type.tensor,a);if(r.kernelShape.length<=2){let a="",c="",m="",g=n-(h?2:1);if(a=u?"\n                for (var i: u32 = 0u; i < uniforms.kw; i++) {\n                  xIndices[".concat(g,"] = indices[").concat(g,"] * uniforms.sw - uniforms.pwStart + i;\n                  if (xIndices[").concat(g,"] < 0 || xIndices[").concat(g,"]\n                      >= uniforms.x_shape[").concat(g,"]) {\n                    pad++;\n                    continue;\n                  }\n                  let x_val = x[").concat(t.indicesToOffset("xIndices"),"];\n                  ").concat(i,"\n                }"):"\n                for (var i: u32 = 0u; i < uniforms.kw; i++) {\n                  xIndices[".concat(g,"] = indices[").concat(g,"] * uniforms.sw - uniforms.pwStart + i;\n                  let x_val = x[").concat(t.indicesToOffset("xIndices"),"];\n                  ").concat(i,"\n                }"),2===r.kernelShape.length){let e=n-(h?3:2);c=d?"\n                for (var j: u32 = 0u; j < uniforms.kh; j++) {\n                  xIndices[".concat(e,"] = indices[").concat(e,"] * uniforms.sh - uniforms.phStart + j;\n                  if (xIndices[").concat(e,"] < 0 || xIndices[").concat(e,"] >= uniforms.x_shape[").concat(e,"]) {\n                    pad += i32(uniforms.kw);\n                    continue;\n                  }\n              "):"\n                for (var j: u32 = 0u; j < uniforms.kh; j++) {\n                  xIndices[".concat(e,"] = indices[").concat(e,"] * uniforms.sh - uniforms.phStart + j;\n                "),m="\n              }\n            "}return"\n            ".concat(e.registerUniforms(l).declareVariables(t,f),"\n\n            ").concat(e.mainStart(),"\n              ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n\n              let indices = ").concat(f.offsetToIndices("global_idx"),";\n              var xIndices = ").concat(f.offsetToIndices("global_idx"),";\n\n              var value = ").concat(p,"(").concat(s,");\n              var pad = 0;\n              ").concat(c,"\n              ").concat(a,"\n              ").concat(m,"\n              ").concat(o,"\n\n              output[global_idx] = value;\n            }")}{if(h)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let a=r.kernelShape.length,u=r.pads.length,d="";return d=c?"\n                if (xIndices[j] >= uniforms.x_shape[j]) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                let x_val = x[".concat(t.indicesToOffset("xIndices"),"];\n                ").concat(i,"\n              }"):"\n              }\n              let x_val = x[".concat(t.indicesToOffset("xIndices"),"];\n              ").concat(i,"\n            "),"\n            ".concat(e.registerUniforms(l).declareVariables(t,f),"\n\n            ").concat(e.mainStart(),"\n              ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n              let indices = ").concat(f.offsetToIndices("global_idx"),";\n              var xIndices = ").concat(f.offsetToIndices("global_idx"),";\n\n              var offsets: array<u32, ").concat(a,">;\n\n              var value = ").concat(p,"(").concat(s,");\n              var pad = 0;\n              var isPad = false;\n\n              for (var i: u32 = 0u; i < uniforms.kernelSize; i++) {\n                var offset = i;\n                for (var j = 0u; j < ").concat(a-1,"u; j++) {\n                  offsets[j] = offset / ").concat(En("uniforms.kernelStrides","j",a),";\n                  offset -= offsets[j] * ").concat(En("uniforms.kernelStrides","j",a),";\n                }\n                offsets[").concat(a-1,"] = offset;\n\n                isPad = false;\n                for (var j = ").concat(n-a,"u; j < ").concat(n,"u; j++) {\n                  xIndices[j] = indices[j] * ").concat(En("uniforms.strides","j - ".concat(n-a,"u"),a),"\n                    + offsets[j - ").concat(n-a,"u] - ").concat(En("uniforms.pads","j - 2u",u),";\n                  ").concat(d,"\n              }\n              ").concat(o,"\n\n              output[global_idx] = value;\n            }")}},ul=e=>"".concat(e.format,";").concat(e.ceilMode,";").concat(e.autoPad,";").concat(e.kernelShape.length),dl=e=>"".concat(ul(e),";").concat(e.countIncludePad),hl=e=>"".concat(ul(e),";").concat(e.storageOrder,";").concat(e.dilations),pl=e=>({format:e.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],ceilMode:e.ceil_mode,kernelShape:e.kernel_shape,strides:e.strides,pads:e.pads}),fl=(e,t,n,a)=>{let[r,i]=sl(t,a,n),o=Mn("x",t.dataType,t.dims.length),s=o.type.value,l="";r.countIncludePad?l+="value /= ".concat(s,"(uniforms.kernelSize);"):l+="value /= ".concat(s,"(i32(uniforms.kernelSize) - pad);");let[c,u,d,h,p]=ll(i,r);c.push(...Tn(t.dims,i));return{name:e,shaderCache:{hint:"".concat(a.cacheKey,";").concat(d,";").concat(h,";").concat(p),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:i,dataType:t.dataType}],dispatchGroup:{x:Math.ceil(Ut.size(i)/64)},programUniforms:c}),getShaderSource:e=>cl(e,o,t.dims.length,i.length,r,"value += x_val;",l,0,u,d,h,p)}},ml=e=>{let t=0!==e.count_include_pad,n=pl(e);if(0!==n.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");let a=u(u({countIncludePad:t},n),{},{cacheKey:""});return u(u({},a),{},{cacheKey:dl(a)})},gl=(e,t)=>{ol(e.inputs),e.compute(fl("AveragePool",e.inputs[0],!1,t))},yl={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[]},bl=e=>{let t=e.format;return u(u({format:t},yl),{},{cacheKey:t})},vl=(e,t)=>{ol(e.inputs),e.compute(fl("GlobalAveragePool",e.inputs[0],!0,t))},wl=(e,t,n,a)=>{let[r,i]=sl(t,a,n),o=Mn("x",t.dataType,t.dims.length),[s,l,c,u,d]=ll(i,r);return s.push(...Tn(t.dims,i)),{name:e,shaderCache:{hint:"".concat(a.cacheKey,";").concat(c,";").concat(u,";").concat(d),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:i,dataType:t.dataType}],dispatchGroup:{x:Math.ceil(Ut.size(i)/64)},programUniforms:s}),getShaderSource:e=>cl(e,o,t.dims.length,i.length,r,"\n      value = max(x_val, value);\n    ","",10===t.dataType?-65504:-1e5,l,c,u,d)}},_l=(e,t)=>{ol(e.inputs),e.compute(wl("MaxPool",e.inputs[0],!1,t))},xl=e=>{let t=e.storage_order,n=e.dilations,a=pl(e);if(0!==t)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==a.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");let r=u(u({storageOrder:t,dilations:n},a),{},{cacheKey:""});return u(u({},r),{},{cacheKey:hl(r)})},kl=e=>{let t=e.format;return u(u({format:t},yl),{},{cacheKey:t})},Tl=(e,t)=>{ol(e.inputs),e.compute(wl("GlobalMaxPool",e.inputs[0],!0,t))}})),Nu=pe((()=>{Nc(),Lc(),Gc(),Hc(),Dl=(e,t)=>{if(e.length<2||e.length>3)throw new Error("DequantizeLinear requires 2 or 3 inputs.");if(3===e.length&&e[1].dims===e[2].dims)throw new Error("x-scale and x-zero-point must have the same shape.");if(3===e.length&&e[0].dataType!==e[2].dataType)throw new Error("x and x-zero-point must have the same data type.");if(6===e[0].dataType&&e.length>2)throw new Error("In the case of dequantizing int32 there is no zero point.");if(0!==e[1].dims.length&&1!==e[1].dims.length&&e[1].dims.length!==e[0].dims.length)throw new Error("scale input must be a scalar, a 1D tensor, or have the same rank as the input tensor.");if(e.length>2){if(e[0].dataType!==e[2].dataType)throw new Error("x and x-zero-point must have the same data type.");if(e[1].dims.length!==e[2].dims.length)throw new Error("scale and zero-point inputs must have the same rank.");if(!e[1].dims.map(((t,n)=>t===e[2].dims[n])).reduce(((e,t)=>e&&t),!0))throw new Error("scale and zero-point inputs must have the same shape.")}if(t.blockSize>0){if(0===e[1].dims.length||1===e[1].dims.length&&1===e[1].dims[0])throw new Error("blockSize must be set only for block quantization.");if(!e[1].dims.map(((n,a)=>a===t.axis||n===e[0].dims[a])).reduce(((e,t)=>e&&t),!0))throw new Error("For block qunatization, scale input shape to match the input shape except for the axis");if(e[1].dims.length!==e[0].dims.length)throw new Error("For block qunatization the scale input rank must be the same as the x rank.");let n=e[0].dims[t.axis],a=e[1].dims[t.axis];if(t.blockSize<Math.ceil(n/a)||t.blockSize>Math.ceil(n/(a-1)-1))throw new Error("blockSize must be with in the range [ceil(dI / Si), ceil(dI / (Si - 1) - 1)].")}},Al=(e,t)=>{let n=Ut.normalizeAxis(t.axis,e[0].dims.length),a=e[0].dataType,r=3===a,i=e[0].dims,o=e[1].dataType,s=Ut.size(i),l=3===a||2===a,c=l?[Math.ceil(Ut.size(e[0].dims)/4)]:e[0].dims,u=e[1].dims,d=e.length>2?e[2]:void 0,h=d?l?[Math.ceil(Ut.size(d.dims)/4)]:d.dims:void 0,p=0===u.length||1===u.length&&1===u[0],f=!1===p&&1===u.length,m=Dn(s),g=p&&(!l||4===m),y=g?m:1,b=g&&!l?m:1,v=Mn("input",l?12:a,c.length,b),w=Mn("scale",o,u.length),_=d?Mn("zero_point",l?12:a,h.length):void 0,x=In("output",o,i.length,y),k=[v,w];_&&k.push(_);let T=[c,u];d&&T.push(h);let D=[{type:12,data:s/y},{type:12,data:n},{type:12,data:t.blockSize},...Tn(...T,i)];return{name:"DequantizeLinear",shaderCache:{hint:t.cacheKey,inputDependencies:_?["rank","rank","rank"]:["rank","rank"]},getShaderSource:e=>"\n      ".concat(e.registerUniforms([{name:"output_size",type:"u32"},{name:"axis",type:"u32"},{name:"block_size",type:"u32"}]).declareVariables(...k,x),"\n      ").concat(e.mainStart(),"\n          ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n          let output_indices = ").concat(x.offsetToIndices("global_idx"),";\n\n          // Set input x\n          ").concat(l?"\n            let input = ".concat(v.getByOffset("global_idx / 4"),";\n            let x_vec = ").concat(r?"unpack4xI8(input)":"unpack4xU8(input)",";\n            let x_value = ").concat(1===y?"x_vec[global_idx % 4]":"x_vec",";"):"let x_value = ".concat(v.getByOffset("global_idx"),";"),";\n\n          // Set scale input\n          ").concat(p?"let scale_value= ".concat(w.getByOffset("0")):f?"\n            let scale_index = ".concat(x.indicesGet("output_indices","uniforms.axis"),";\n            let scale_value= ").concat(w.getByOffset("scale_index"),";"):"\n            var scale_indices: ".concat(w.type.indices," = output_indices;\n            let index = ").concat(w.indicesGet("scale_indices","uniforms.axis")," / uniforms.block_size;\n            ").concat(w.indicesSet("scale_indices","uniforms.axis","index"),";\n            let scale_value= ").concat(w.getByIndices("scale_indices"),";"),";\n\n          // Set zero-point input\n          ").concat(_?p?l?"\n                let zero_point_input = ".concat(_.getByOffset("0"),";\n                let zero_point_vec =  ").concat(r?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)",";\n                let zero_point_value= zero_point_vec[0]"):"let zero_point_value = ".concat(_.getByOffset("0")):f?l?"\n                let zero_point_index = ".concat(x.indicesGet("output_indices","uniforms.axis"),";\n                let zero_point_input = ").concat(_.getByOffset("zero_point_index / 4"),";\n                let zero_point_vec =  ").concat(r?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)",";\n                let zero_point_value = zero_point_vec[zero_point_index % 4]"):"\n                let zero_point_index = ".concat(x.indicesGet("output_indices","uniforms.axis"),";\n                let zero_point_value = ").concat(_.getByOffset("zero_point_index"),";"):l?"\n                let zero_point_offset = ".concat(w.indicesToOffset("scale_indices"),";\n                let zero_point_input = ").concat(_.getByOffset("zero_point_offset / 4"),";\n                let zero_point_vec = ").concat(r?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)",";\n                let zero_point_value = zero_point_vec[zero_point_offset % 4];"):"let zero_point_value = ".concat(_.getByIndices("scale_indices"),";"):"let zero_point_value = ".concat(l?r?"i32":"u32":v.type.value,"(0);"),";\n      // Compute and write output\n      ").concat(x.setByOffset("global_idx","".concat(x.type.value,"(x_value - zero_point_value) * scale_value")),";\n      }"),getRunData:()=>({outputs:[{dims:i,dataType:o}],dispatchGroup:{x:Math.ceil(s/y/64),y:1,z:1},programUniforms:D})}},Cl=(e,t)=>{Dl(e.inputs,t),e.compute(Al(e.inputs,t))},Sl=e=>vn({axis:e.axis,blockSize:e.blockSize})})),Ou=pe((()=>{Ne(),Nc(),Hc(),El=(e,t,n)=>{if(e===t||e<t&&n<0||e>t&&n>0)throw new Error("Range these inputs' contents are invalid.")},Fl=(e,t,n,a)=>{let r=Math.abs(Math.ceil((t-e)/n)),i=[r],o=r,s=[{type:12,data:o},{type:a,data:e},{type:a,data:n},...Tn(i)];return{name:"Range",shaderCache:{hint:"".concat(a)},getShaderSource:e=>{let t=In("output",a,i.length),n=t.type.value,r=[{name:"outputSize",type:"u32"},{name:"start",type:n},{name:"delta",type:n}];return"\n        ".concat(e.registerUniforms(r).declareVariables(t),"\n        ").concat(e.mainStart(),"\n        ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n        output[global_idx] = uniforms.start + ").concat(n,"(global_idx) * uniforms.delta;\n      }")},getRunData:()=>({outputs:[{dims:i,dataType:a}],dispatchGroup:{x:Math.ceil(o/64)},programUniforms:s})}},Ml=e=>{let t=0,n=0,a=0;6===e.inputs[0].dataType?(t=e.inputs[0].getInt32Array()[0],n=e.inputs[1].getInt32Array()[0],a=e.inputs[2].getInt32Array()[0]):1===e.inputs[0].dataType&&(t=e.inputs[0].getFloat32Array()[0],n=e.inputs[1].getFloat32Array()[0],a=e.inputs[2].getFloat32Array()[0]),R.webgpu.validateInputContent&&El(t,n,a),e.compute(Fl(t,n,a,e.inputs[0].dataType),{inputs:[]})}})),Bu=pe((()=>{Nc(),Lc(),Gc(),Hc(),Il=(e,t,n,a)=>{if("none"!==e&&"i32"!==a&&"u32"!==a&&"f32"!==a)throw new Error("Input ".concat(a," is not supported with reduction ").concat(e,"."));let r="{\n                var oldValue = 0;\n                loop {\n                  let newValueF32 =",i=";\n                  let newValue = bitcast<i32>(newValueF32);\n                  let res = atomicCompareExchangeWeak(&".concat(t,", oldValue, newValue);\n                  if res.exchanged {\n                    break;\n                  }\n                  oldValue = res.old_value;\n                }\n              }");switch(e){case"none":return"".concat(t,"=").concat(n,";");case"add":return"i32"===a||"u32"===a?"atomicAdd(&".concat(t,", bitcast<").concat(a,">(").concat(n,"));"):"\n              ".concat(r,"bitcast<").concat(a,">(oldValue) + (").concat(n,")").concat(i);case"max":return"i32"===a||"u32"===a?"atomicMax(&".concat(t,", bitcast<").concat(a,">(").concat(n,"));"):"\n                ".concat(r,"max(bitcast<f32>(oldValue), (").concat(n,"))").concat(i);case"min":return"i32"===a||"u32"===a?"atomicMin(&".concat(t,", bitcast<").concat(a,">(").concat(n,"));"):"".concat(r,"min(bitcast<").concat(a,">(oldValue), (").concat(n,"))").concat(i);case"mul":return"".concat(r,"(bitcast<").concat(a,">(oldValue) * (").concat(n,"))").concat(i);default:throw new Error("Reduction ".concat(e," is not supported."))}},zl=(e,t)=>"".concat(1===e?"\n    let element_count_dim = uniforms.output_strides;\n    let dim_value = uniforms.output_shape;":"\n    let element_count_dim = uniforms.output_strides[".concat(t?"i - indices_start":"i","];\n    let dim_value = uniforms.output_shape[").concat(t?"i - indices_start":"i"," + uniforms.last_index_dimension];"),"\n    \n    if (index >= 0) {\n      if (index >= i32(dim_value)) {\n        index = i32(dim_value - 1);\n      }\n    } else {\n      if (index < -i32(dim_value)) {\n        index = 0;\n      } else {\n        index += i32(dim_value);\n      }\n    }\n    data_offset += u32((u32(index) * element_count_dim));"),Pl=(e,t,n)=>"for (var i = 0u; i < uniforms.num_updates_elements; i++) {\n        let value = updates[uniforms.num_updates_elements * ".concat(n?"global_idx":"idx"," + i];\n        ").concat(Il(e.reduction,"output[data_offset + i]","value",t),"\n      }"),Nl=(e,t)=>{let n=e[0].dims,a=e[1].dims,r=n,i=Math.ceil(Ut.size(a)/1),o=a[a.length-1],s=Ut.sizeFromDimension(n,o),l=Ut.sizeFromDimension(a,0)/o,c=[{type:12,data:i},{type:12,data:o},{type:12,data:s},...Tn(e[1].dims,e[2].dims,r)];return{name:"ScatterND",shaderCache:{hint:"".concat(t.cacheKey,"_").concat(t.reduction),inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:c}),getShaderSource:a=>{let i=Mn("indices",e[1].dataType,e[1].dims.length),o=Mn("updates",e[2].dataType,e[2].dims.length,1),s="none"!==t.reduction&&""!==t.reduction?zn("output",e[0].dataType,r.length):In("output",e[0].dataType,r.length,1);return"\n      ".concat(a.registerUniform("output_size","u32").registerUniform("last_index_dimension","u32").registerUniform("num_updates_elements","u32").declareVariables(i,o,s),"\n      ").concat(a.mainStart(),"\n        ").concat(a.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n  var hasDuplicates = false;\n  if (").concat("none"===t.reduction,") {\n    for (var i = 0; i < ").concat(l,"; i = i + 1) {\n      for (var j = i + 1; j < ").concat(l,"; j = j + 1) {\n        var index_i = i32(indices[i].x);\n        var index_j = i32(indices[j].x);\n        if (index_i == index_j) {\n          hasDuplicates = true;\n          break;\n        }\n      }\n      if (hasDuplicates) {\n        break;\n      }\n    }\n  }\n\n  if (").concat("none"===t.reduction," && hasDuplicates) {\n    if (global_idx != 0u) {\n      return;\n    }\n    // Process each index-update pair individually when duplicates exist\n    for (var idx = 0u; idx < ").concat(l,"u; idx++) {\n      var data_offset = 0u;\n      for (var i = 0u; i < uniforms.last_index_dimension; i++) {\n        var index = i32(indices[idx * uniforms.last_index_dimension + i].x);\n        ").concat(zl(n.length,!1),"\n      }\n      ").concat(Pl(t,s.type.value,!1),"\n    }\n    return;\n  }\n\n  var data_offset = 0u;\n  var indices_start = uniforms.last_index_dimension * global_idx;\n  var indices_end = indices_start + uniforms.last_index_dimension;\n  for (var i = indices_start; i < indices_end; i++) {\n    var index = i32(indices[i].x);\n    ").concat(zl(n.length,!0),"\n  }\n  ").concat(Pl(t,s.type.value,!0),"\n  }")}}},Ol=e=>vn({reduction:e.reduction}),Bl=(e,t)=>{e.compute(Nl(e.inputs,t),{inputs:[e.inputs[1],e.inputs[2]],outputs:[]})}})),Lu=pe((()=>{Nc(),Lc(),Gc(),Hc(),Ll=(e,t)=>{if(e.every((e=>e>0||(()=>{throw new Error("Resize requires scales input values to be positive")}))),e.length>0)if("linear"===t.mode){if(!(2===e.length||3===e.length||4===e.length&&1===e[0]&&1===e[1]||4===e.length&&1===e[0]&&1===e[3]||5===e.length&&1===e[0]&&1===e[1]))throw new Error("For linear mode, Resize requires scales to be 2D, 3D, 4D with either two outermost or one innermost and\n            one outermost scale values equal to 1, or 5D with two outermost scale values equal to 1")}else if("cubic"===t.mode&&!(2===e.length||4===e.length&&1===e[0]&&1===e[1]||4===e.length&&1===e[0]&&1===e[3]))throw new Error("Resize requires scales input size to be 2 or 4 for cubic mode")},Rl=(e,t,n)=>{t.every((e=>e>=0&&e<n||(()=>{throw new Error("Resize requires axes input values to be positive and less than rank")})));let a=new Array(n).fill(1);return t.forEach(((t,n)=>a[t]=e[n])),a},jl=(e,t,n,a,r,i)=>{let[o,s,l]=n>10?[1,2,3]:[-1,e.length>1?1:-1,-1],c=e[0].dims.length;if(o>0&&e.length>o&&e[o].dims.length>0)e[o].getFloat32Array().forEach((e=>i.push(e)));else if("tf_crop_and_resize"===t.coordinateTransformMode)throw new Error("Resize requires RoI input to be specified when coordinateTransformMode is tfCropAndResize");if(s>0&&e.length>s&&1===e[s].dims.length&&e[s].dims[0]>0){if(e[s].getFloat32Array().forEach((e=>a.push(e))),0!==a.length&&a.length!==c&&n>=18&&a.length!==t.axes.length)throw new Error("Resize requires scales input size to be same as input rank or axes size for opset 18 and up");Ll(a,t),t.axes.length>0&&Rl(a,t.axes,c).forEach(((e,t)=>a[t]=e))}if(l>0&&e.length>l&&1===e[l].dims.length&&e[l].dims[0]>0&&(e[l].getBigInt64Array().forEach((e=>r.push(Number(e)))),0!==r.length&&r.length!==c&&n>=18&&r.length!==t.axes.length))throw new Error("Resize requires sizes input size to be same as input rank or axes size for opset 18 and up");if(t.axes.length>0){if(0!==a.length&&a.length!==t.axes.length)throw new Error('Resize requires "scales" input size to be of axes rank when axes attributes is specified');if(0!==r.length&&r.length!==t.axes.length)throw new Error('Resize requires "sizes" input size to be of rank axes rank when axes attributes is specified')}if(typeof a<"u"&&typeof r<"u"&&a.length>0&&r.length>c)throw new Error("Resize requires only of scales or sizes to be specified")},Vl=(e,t,n,a)=>"\n  // The whole part and the fractional part are calculated separately due to inaccuracy of floating\n  // point division. As an example, f32(21) / f32(7) may evaluate to 2.99... instead of 3, causing an\n  // offset-by-one error later in floor().\n  let big = (".concat(e,") * (").concat(t,");\n  let whole = ").concat(a,"(big / (").concat(n,"));\n  let fract = ").concat(a,"(big % (").concat(n,")) / ").concat(a,"(").concat(n,");\n  return whole + fract;\n"),ql=(e,t)=>"fn getOriginalCoordinateFromResizedCoordinate(xResized: u32, xScale: f32, lengthResized: u32,\n     lengthOriginal: u32, roiStart: f32, roiEnd: f32) -> ".concat(t," { ")+(()=>{switch(e){case"asymmetric":return"\n          if (xScale < 1.0 || floor(xScale) != xScale) {\n            return ".concat(t,"(xResized) / ").concat(t,"(xScale);\n          } else {\n            ").concat(Vl("xResized","lengthOriginal","lengthResized",t),"\n          }\n        ");case"pytorch_half_pixel":return"if (lengthResized > 1) {\n                    return (".concat(t,"(xResized) + 0.5) / ").concat(t,"(xScale) - 0.5;\n                  } else {\n                    return 0.0;\n                  }");case"tf_half_pixel_for_nn":return"return (".concat(t,"(xResized) + 0.5) / ").concat(t,"(xScale);");case"align_corners":return"if (lengthResized == 1) {\n                    return 0.0;\n                  } else {\n                    ".concat(Vl("xResized","lengthOriginal - 1","lengthResized - 1",t),"\n                  }");case"tf_crop_and_resize":return"if (lengthResized > 1) {\n                    return ".concat(t,"(roiStart) * ").concat(t,"(lengthOriginal - 1) +\n                        (").concat(t,"(xResized) * ").concat(t,"(roiEnd - roiStart) * ").concat(t,"(lengthOriginal - 1)) /\n                        ").concat(t,"(lengthResized - 1);\n                  } else {\n                    return 0.5 * ").concat(t,"(roiStart + roiEnd) * ").concat(t,"(lengthOriginal - 1);\n                  }");case"half_pixel_symmetric":return"const outputWidth = ".concat(t,"xScale * ").concat(t,"(lengthResized);\n                  const adjustment = ").concat(t,"(lengthResized) / outputWidth;\n                  const center = ").concat(t,"(lengthOriginal) / 2;\n                  const offset = center * (1 - adjustment);\n                  return offset + ((").concat(t,"(xResized) + 0.5) / ").concat(t,"(xScale)) - 0.5;");case"half_pixel":return"return ((".concat(t,"(xResized) + 0.5) / ").concat(t,"(xScale)) - 0.5;");default:throw new Error("Coordinate transform mode ".concat(e," is not supported"))}})()+"}",Ul=(e,t,n)=>"fn getNearestPixelFromOriginal(xOriginal: ".concat(n,", isDownSample: bool) -> ").concat(n," {")+(()=>{switch(e){case"round_prefer_ceil":return"if (fract(xOriginal) == 0.5) {             return ceil(xOriginal);           } else {             return round(xOriginal);           }";case"floor":return"return floor(xOriginal);";case"ceil":return"return ceil(xOriginal);";case"round_prefer_floor":return"if (fract(xOriginal) == 0.5) {                     return floor(xOriginal);                   } else {                     return round(xOriginal);                   }";default:if(t<11)return"if (isDownSample)                     {                       return ceil(xOriginal);                     } else {                       return xOriginal;                     }";throw new Error("Nearest mode ".concat(e," is not supported"))}})()+"}",Gl=(e,t,n)=>{let a=new Array(n).fill(0).concat(new Array(n).fill(1)),r=0===e.length?a:e.slice();return t.length>0?(t.forEach(((e,i)=>{a[e]=r[i],a[i+n]=r[t.length+i]})),a):r},Hl=(e,t,n,a)=>{let r=[];if(n.length>0)if(a.length>0){if(e.forEach((e=>r.push(e))),Math.max(...a)>e.length)throw new Error("axes is out of bound");a.forEach(((e,t)=>r[e]=n[t]))}else n.forEach((e=>r.push(e)));else{if(0===t.length)throw new Error("Resize requires either scales or sizes.");r=e.map(((e,n)=>Math.round(e*t[n])))}return r},Wl=(e,t,n)=>{let a=(()=>{switch(n.keepAspectRatioPolicy){case"not_larger":return n.axes.length>0?Math.min(...n.axes.map((e=>t[e])),Number.MAX_VALUE):Math.min(...t,Number.MAX_VALUE);case"not_smaller":return n.axes.length>0?Math.max(...n.axes.map((e=>t[e])),Number.MIN_VALUE):Math.max(...t,Number.MIN_VALUE);default:throw new Error("Keep aspect ratio policy ".concat(n.keepAspectRatioPolicy," is not supported"))}})();t.fill(1,0,t.length);let r=e.slice();return n.axes.length>0?(n.axes.forEach((e=>t[e]=a)),n.axes.forEach((n=>r[n]=Math.round(e[n]*t[n])))):(t.fill(a,0,t.length),r.forEach(((e,n)=>r[n]=Math.round(e*t[n])))),r},Kl=(e,t,n,a,r)=>"\n    fn calculateOriginalIndicesFromOutputIndices(output_indices: ".concat(e.type.indices,") -> array<").concat(e.type.value,", ").concat(n.length,"> {\n      var original_indices: array<").concat(e.type.value,", ").concat(n.length,">;\n      for (var i:u32 = 0; i < ").concat(n.length,"; i++) {\n        var output_index = ").concat(e.indicesGet("output_indices","i"),";\n        var scale = ").concat(En("uniforms.scales","i",a),";\n        var roi_low = ").concat(En("uniforms.roi","i",r),";\n        var roi_hi = ").concat(En("uniforms.roi","i + ".concat(t.length),r),";\n        if (scale == 1.0) {\n          original_indices[i] = ").concat(e.type.value,"(output_index);\n        } else {\n          var input_shape_i = ").concat(En("uniforms.input_shape","i",t.length),";\n          var output_shape_i = ").concat(En("uniforms.output_shape","i",n.length),";\n          original_indices[i] = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,\n                                                                           input_shape_i, roi_low, roi_hi);\n        }\n      }\n      return original_indices;\n    }"),Yl=(e,t,n,a,r,i,o)=>"\n    fn calculateInputIndicesFromOutputIndices(output_indices: ".concat(t.type.indices,") -> ").concat(e.type.indices," {\n      var input_indices: ").concat(e.type.indices,";\n      for (var i:u32 = 0; i < ").concat(a.length,"; i++) {\n        var output_index = ").concat(t.indicesGet("output_indices","i"),";\n        var input_index: u32;\n        var scale = ").concat(En("uniforms.scales","i",r),";\n        if (scale == 1.0) {\n          input_index = output_index;\n        } else {\n          var roi_low = ").concat(En("uniforms.roi","i",i),";\n          var roi_hi = ").concat(En("uniforms.roi","i + ".concat(n.length),i),";\n          var input_shape_i = ").concat(En("uniforms.input_shape","i",n.length),";\n          var output_shape_i = ").concat(En("uniforms.output_shape","i",a.length),";\n          var original_idx = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,\n                                                                        input_shape_i, roi_low, roi_hi);\n          if (!").concat(o," || (original_idx >= 0 && original_idx < ").concat(t.type.value,"(input_shape_i))) {\n            if (original_idx < 0) {\n              input_index = 0;\n            } else if (original_idx > ").concat(t.type.value,"(input_shape_i - 1)) {\n              input_index = input_shape_i - 1;\n            } else {\n              input_index = u32(getNearestPixelFromOriginal(original_idx, scale < 1));\n            }\n          } else {\n            input_index = u32(original_idx);\n          }\n        }\n        ").concat(e.indicesSet("input_indices","i","input_index"),"\n      }\n      return input_indices;\n    }"),Jl=(e,t)=>"\n    fn checkInputIndices(input_indices: ".concat(e.type.indices,") -> bool {\n      for (var i:u32 = 0; i < ").concat(t.length,"; i++) {\n        var input_index = ").concat(e.indicesGet("input_indices","i"),";\n        if (input_index < 0 || input_index >= ").concat(En("uniforms.input_shape","i",t.length),") {\n          return false;\n        }\n      }\n      return true;\n    }"),Zl=(e,t,n,a)=>e.rank>a?"\n    ".concat(e.indicesSet("input_indices",t,"channel"),";\n    ").concat(e.indicesSet("input_indices",n,"batch"),";\n"):"",Xl=(e,t,n,a,r)=>{let[i,o,s,l]=2===n.length?[-1,0,1,-1]:[0,2,3,1],c=e.type.value;return"\n    fn getInputValue(batch: u32, channel: u32, row: u32, col: u32) -> ".concat(c," {\n      var input_indices: ").concat(e.type.indices,";\n      ").concat(e.indicesSet("input_indices",o,"max(0, min(row, ".concat(n[o]," - 1))")),";\n      ").concat(e.indicesSet("input_indices",s,"max(0, min(col, ".concat(n[s]," - 1))")),";\n      ").concat(Zl(e,l,i,2),"\n      return ").concat(e.getByIndices("input_indices"),";\n    }\n\n    fn bilinearInterpolation(output_indices: ").concat(t.type.indices,") -> ").concat(c," {\n      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);\n      var row:").concat(c," = originalIndices[").concat(o,"];\n      var col:").concat(c," = originalIndices[").concat(s,"];\n      ").concat(a?"if (row < 0 || row > (".concat(n[o]," - 1) || col < 0 || col > (").concat(n[s]," - 1)) {\n        return ").concat(r,";\n      }"):"",";\n      row = max(0, min(row, ").concat(n[o]," - 1));\n      col = max(0, min(col, ").concat(n[s]," - 1));\n      var row1: u32 = u32(row);\n      var col1: u32 = u32(col);\n      var row2: u32 = u32(row + 1);\n      var col2: u32 = u32(col + 1);\n      var channel: u32 = ").concat(n.length>2?"u32(originalIndices[".concat(l,"])"):"0",";\n      var batch: u32 =  ").concat(n.length>2?"u32(originalIndices[".concat(i,"])"):"0",";\n      var x11: ").concat(c," = getInputValue(batch, channel, row1, col1);\n      var x12: ").concat(c," = getInputValue(batch, channel, row1, col2);\n      var x21: ").concat(c," = getInputValue(batch, channel, row2, col1);\n      var x22: ").concat(c," = getInputValue(batch, channel, row2, col2);\n      var dx1: ").concat(c," = abs(row - ").concat(c,"(row1));\n      var dx2: ").concat(c," = abs(").concat(c,"(row2) - row);\n      var dy1: ").concat(c," = abs(col - ").concat(c,"(col1));\n      var dy2: ").concat(c," = abs(").concat(c,"(col2) - col);\n      if (row1 == row2) {\n        dx1 = 0.5;\n        dx2 = 0.5;\n      }\n      if (col1 == col2) {\n        dy1 = 0.5;\n        dy2 = 0.5;\n      }\n      return (x11 * dx2 * dy2 + x12 * dx2 * dy1 + x21 * dx1 * dy2 + x22 * dx1 * dy1);\n    }")},$l=(e,t,n,a,r,i,o,s,l,c)=>{let u=2===n.length,[d,h]=u?[0,1]:[2,3],p=e.type.value,f=o=>{let u=o===d?"row":"col";return"\n      fn ".concat(u,"CubicInterpolation(input_indices: ").concat(e.type.indices,", output_indices: ").concat(t.type.indices,") -> ").concat(p," {\n        var output_index = ").concat(t.indicesGet("output_indices",o),";\n        var originalIdx: ").concat(p," = getOriginalCoordinateFromResizedCoordinate(output_index, ").concat(r[o],",\n        ").concat(a[o],", ").concat(n[o],", ").concat(i[o],", ").concat(i[o]," + ").concat(n.length,");\n        var fractOriginalIdx: ").concat(p," = originalIdx - floor(originalIdx);\n        var coefs = getCubicInterpolationCoefs(fractOriginalIdx);\n\n        if (").concat(s," && (originalIdx < 0 || originalIdx > (").concat(n[o]," - 1))) {\n          return ").concat(l,";\n        }\n        var data: array<").concat(p,", 4> = array<").concat(p,", 4>(0.0, 0.0, 0.0, 0.0);\n        for (var i: i32 = -1; i < 3; i++) {\n          var ").concat(u,": ").concat(p," = originalIdx + ").concat(p,"(i);\n          if (").concat(u," < 0 || ").concat(u," >= ").concat(n[o],") {\n            ").concat(c?"coefs[i + 1] = 0.0;\n                        continue;":s?"return ".concat(l,";"):"".concat(u," = max(0, min(").concat(u,", ").concat(n[o]," - 1));"),";\n          }\n        var input_indices_copy: ").concat(e.type.indices," = input_indices;\n          ").concat(e.indicesSet("input_indices_copy",o,"u32(".concat(u,")")),";\n          data[i + 1] = ").concat(o===d?e.getByIndices("input_indices_copy"):"rowCubicInterpolation(input_indices_copy, output_indices)",";\n        }\n        return cubicInterpolation1D(data, coefs);\n      }")};return"\n    ".concat(f(d),";\n    ").concat(f(h),";\n  fn getCubicInterpolationCoefs(s: ").concat(p,") -> array<").concat(p,", 4> {\n    var absS = abs(s);\n    var coeffs: array<").concat(p,", 4> = array<").concat(p,", 4>(0.0, 0.0, 0.0, 0.0);\n    var oneMinusAbsS: ").concat(p," = 1.0 - absS;\n    var twoMinusAbsS: ").concat(p," = 2.0 - absS;\n    var onePlusAbsS: ").concat(p," = 1.0 + absS;\n    coeffs[0] = ((").concat(o," * onePlusAbsS - 5 * ").concat(o,") * onePlusAbsS + 8 * ").concat(o,") * onePlusAbsS - 4 * ").concat(o,";\n    coeffs[1] = ((").concat(o," + 2) * absS - (").concat(o," + 3)) * absS * absS + 1;\n    coeffs[2] = ((").concat(o," + 2) * oneMinusAbsS - (").concat(o," + 3)) * oneMinusAbsS * oneMinusAbsS + 1;\n    coeffs[3] = ((").concat(o," * twoMinusAbsS - 5 * ").concat(o,") * twoMinusAbsS + 8 * ").concat(o,") * twoMinusAbsS - 4 * ").concat(o,";\n    return coeffs;\n  }\n\n  fn cubicInterpolation1D(x: array<").concat(p,", 4>, coefs: array<").concat(p,", 4>) -> ").concat(p," {\n    var coefsSum: ").concat(p," = coefs[0] + coefs[1] + coefs[2] + coefs[3];\n    return (x[0] * coefs[0] + x[1] * coefs[1]+ x[2] * coefs[2]+ x[3] * coefs[3]) / coefsSum;\n  }\n\n  fn bicubicInterpolation(output_indices: ").concat(t.type.indices,") -> ").concat(p," {\n    var input_indices: ").concat(e.type.indices," = output_indices;\n    return colCubicInterpolation(input_indices, output_indices);\n  }\n    ")},Ql=(e,t,n,a,r)=>{let[i,o,s,l,c]=3===n.length?[-1,0,1,2,-1]:[0,2,3,4,1],u=e.type.value;return"\n    fn getInputValue(batch: u32, channel: u32, depth:u32, height: u32, width: u32) -> ".concat(u," {\n      var input_indices: ").concat(e.type.indices,";\n      ").concat(e.indicesSet("input_indices",o,"max(0, min(depth, ".concat(n[o]," - 1))")),";\n      ").concat(e.indicesSet("input_indices",s,"max(0, min(height, ".concat(n[s]," - 1))")),";\n      ").concat(e.indicesSet("input_indices",l,"max(0, min(width, ".concat(n[l]," - 1))")),";\n      ").concat(Zl(e,c,i,3),"\n      return ").concat(e.getByIndices("input_indices"),";\n    }\n\n    fn trilinearInterpolation(output_indices: ").concat(t.type.indices,") -> ").concat(u," {\n      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);\n      var depth:").concat(u," = originalIndices[").concat(o,"];\n      var height:").concat(u," = originalIndices[").concat(s,"];\n      var width:").concat(u," = originalIndices[").concat(l,"];\n      ").concat(a?"if (depth < 0 || depth > (".concat(n[o]," - 1) || height < 0 || height > (").concat(n[s]," - 1) || width < 0 || (width > ").concat(n[l]," - 1)) {\n      return ").concat(r,";\n        }"):"",";\n\n    depth = max(0, min(depth, ").concat(n[o]," - 1));\n      height = max(0, min(height, ").concat(n[s]," - 1));\n      width = max(0, min(width, ").concat(n[l]," - 1));\n      var depth1: u32 = u32(depth);\n      var height1: u32 = u32(height);\n      var width1: u32 = u32(width);\n      var depth2: u32 = u32(depth + 1);\n      var height2: u32 = u32(height + 1);\n      var width2: u32 = u32(width + 1);\n      var channel: u32 = ").concat(n.length>3?"u32(originalIndices[".concat(c,"])"):"0",";\n      var batch: u32 =  ").concat(n.length>3?"u32(originalIndices[".concat(i,"])"):"0",";\n\n      var x111: ").concat(u," = getInputValue(batch, channel, depth1, height1, width1);\n      var x112: ").concat(u," = getInputValue(batch, channel, depth1, height1, width2);\n      var x121: ").concat(u," = getInputValue(batch, channel, depth1, height2, width1);\n      var x122: ").concat(u," = getInputValue(batch, channel, depth1, height2, width2);\n      var x211: ").concat(u," = getInputValue(batch, channel, depth2, height1, width1);\n      var x212: ").concat(u," = getInputValue(batch, channel, depth2, height1, width2);\n      var x221: ").concat(u," = getInputValue(batch, channel, depth2, height2, width1);\n      var x222: ").concat(u," = getInputValue(batch, channel, depth2, height2, width2);\n      var dx1: ").concat(u," = abs(depth - ").concat(u,"(depth1));\n      var dx2: ").concat(u," = abs(").concat(u,"(depth2) - depth);\n      var dy1: ").concat(u," = abs(height - ").concat(u,"(height1));\n      var dy2: ").concat(u," = abs(").concat(u,"(height2) - height);\n      var dz1: ").concat(u," = abs(width - ").concat(u,"(width1));\n      var dz2: ").concat(u," = abs(").concat(u,"(width2) - width);\n      if (depth1 == depth2) {\n        dx1 = 0.5;\n        dx2 = 0.5;\n      }\n      if (height1 == height2) {\n        dy1 = 0.5;\n        dy2 = 0.5;\n      }\n      if (width1 == width2) {\n        dz1 = 0.5;\n        dz2 = 0.5;\n      }\n      return (x111 * dx2 * dy2 * dz2 + x112 * dx2 * dy2 * dz1 + x121 * dx2 * dy1 *dz2 + x122 * dx2 * dy1 * dz1 +\n              x211 * dx1 * dy2 * dz2 + x212 * dx1 * dy2 * dz1 + x221 * dx1 * dy1 *dz2 + x222 * dx1 * dy1 * dz1);\n    }")},ec=(e,t,n,a,r,i)=>{let o=e.dims,s=Gl(i,t.axes,o.length),l=Hl(o,a,r,t.axes),c=a.slice();0===a.length&&(c=o.map(((e,t)=>0===e?1:l[t]/e)),"stretch"!==t.keepAspectRatioPolicy&&(l=Wl(o,c,t)));let u=In("output",e.dataType,l.length),d=Mn("input",e.dataType,o.length),h=Ut.size(l),p=o.length===l.length&&o.every(((e,t)=>e===l[t])),f="tf_crop_and_resize"===t.coordinateTransformMode,m=t.extrapolationValue,g=d.type.value;return{name:"Resize",shaderCache:{hint:"".concat(t.cacheKey,"|").concat(n,"|").concat(c.length>0?"cubic"===t.mode?c:c.length:"","|").concat(r.length>0?r:"","|").concat(s.length>0?s:"","|").concat(p,"|").concat("nearest"===t.mode?o.length:o),inputDependencies:["rank"]},getShaderSource:e=>"\n      ".concat(p?"":"\n      ".concat(ql(t.coordinateTransformMode,g),";\n      ").concat((()=>{switch(t.mode){case"nearest":return"\n              ".concat(Jl(d,o),";\n              ").concat(Ul(t.nearestMode,n,g),";\n              ").concat(Yl(d,u,o,l,c.length,s.length,f),";\n              ");case"linear":return"\n              ".concat(Kl(u,o,l,c.length,s.length),";\n              ").concat((()=>{if(2===o.length||4===o.length)return"".concat(Xl(d,u,o,f,m));if(3===o.length||5===o.length)return"".concat(Ql(d,u,o,f,m));throw Error("Linear mode only supports input dims 2, 3, 4 and 5 are supported in linear mode.")})(),";\n            ");case"cubic":return"\n            ".concat((()=>{if(2===o.length||4===o.length)return"".concat($l(d,u,o,l,c,s,t.cubicCoeffA,f,t.extrapolationValue,t.excludeOutside));throw Error("Cubic mode only supports input dims 2 and 4 are supported in linear mode.")})(),";\n            ");default:throw Error("Invalid resize mode")}})(),";\n      "),"\n      ").concat(e.registerUniform("output_size","u32").registerUniform("scales","f32",c.length).registerUniform("roi","f32",s.length).declareVariables(d,u),"\n      ").concat(e.mainStart(),"\n        ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n        ").concat(p?"output[global_idx] = input[global_idx];":"\n        let output_indices = ".concat(u.offsetToIndices("global_idx"),";\n        var input_indices: ").concat(d.type.indices,";\n        ").concat((()=>{switch(t.mode){case"nearest":return"input_indices = calculateInputIndicesFromOutputIndices(output_indices);\n                if (checkInputIndices(input_indices)) {\n                  output[global_idx] = ".concat(d.getByIndices("input_indices"),";\n                } else {\n                  output[global_idx] = ").concat(t.extrapolationValue,";\n                }");case"linear":return"output[global_idx] = ".concat(2===o.length||4===o.length?"bilinearInterpolation":"trilinearInterpolation","(output_indices);");case"cubic":return"output[global_idx] = bicubicInterpolation(output_indices);";default:throw Error("Unsupported resize mode: ".concat(t.mode))}})(),";\n"),"\n      }"),getRunData:()=>({outputs:[{dims:l,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(h/64)},programUniforms:[{type:12,data:h},{type:1,data:c},{type:1,data:s},...Tn(o,l)]})}},tc=e=>{let t=e.customDataBuffer;return new Uint32Array(t,t.byteOffset,1)[0]},nc=(e,t)=>{let n=[],a=[],r=[],i=tc(e);if(0!==t.antialias)throw Error("Only default value (0) for Antialias attribute is supported");jl(e.inputs,t,i,n,a,r),e.compute(ec(e.inputs[0],t,i,n,a,r),{inputs:[0]})},ac=e=>{let t=e.antialias,n=e.axes,a=e.coordinateTransformMode,r=e.cubicCoeffA,i=0!==e.excludeOutside,o=e.extrapolationValue,s=e.keepAspectRatioPolicy,l=e.mode,c=""===e.nearestMode?"simple":e.nearestMode;return vn({antialias:t,axes:n,coordinateTransformMode:a,cubicCoeffA:r,excludeOutside:i,extrapolationValue:o,keepAspectRatioPolicy:s,mode:l,nearestMode:c})}})),Ru=pe((()=>{Nc(),Lc(),Hc(),rc=e=>{if(!e||e.length<3)throw new Error("layerNorm requires at least 3 inputs.");let t=e[0],n=e[1],a=e[2];if(t.dataType!==n.dataType||t.dataType!==a.dataType)throw new Error("All inputs must have the same data type");if(3!==t.dims.length&&2!==t.dims.length)throw new Error("Input must be 2D or 3D");if(3!==n.dims.length&&2!==n.dims.length)throw new Error("Skip must be 2D or 3D");let r=t.dims[t.dims.length-1],i=t.dims[t.dims.length-2];if(n.dims[n.dims.length-1]!==r)throw new Error("Skip must have the same hidden size as input");if(n.dims[n.dims.length-2]!==i)throw new Error("Skip must have the same sequence length as input");if(1!==a.dims.length)throw new Error("Gamma must be 1D");if(a.dims[a.dims.length-1]!==r)throw new Error("Gamma must have the same hidden size as input");if(e.length>3){let t=e[3];if(1!==t.dims.length)throw new Error("Beta must be 1D");if(t.dims[t.dims.length-1]!==r)throw new Error("Beta must have the same hidden size as input")}if(e.length>4){let t=e[4];if(1!==t.dims.length)throw new Error("Bias must be 1D");if(t.dims[t.dims.length-1]!==r)throw new Error("Bias must have the same hidden size as input")}},ic=(e,t,n,a)=>{let r=t.simplified,i=e[0].dims,o=Ut.size(i),s=i,l=o,c=i.slice(-1)[0],u=a?i.slice(0,-1).concat(1):[],d=!r&&e.length>3,h=e.length>4,p=a&&n>1,f=a&&n>2,m=n>3,g=64,y=Dn(c),b=[{type:12,data:l},{type:12,data:y},{type:12,data:c},{type:1,data:t.epsilon}],v=[{dims:s,dataType:e[0].dataType}];return n>1&&v.push({dims:u,dataType:1}),n>2&&v.push({dims:u,dataType:1}),n>3&&v.push({dims:i,dataType:e[0].dataType}),{name:"SkipLayerNormalization",shaderCache:{hint:"".concat(y,";").concat(p,";").concat(f,";").concat(m),inputDependencies:e.map(((e,t)=>"type"))},getShaderSource:t=>{let n=[Mn("x",e[0].dataType,e[0].dims,y),Mn("skip",e[1].dataType,e[1].dims,y),Mn("gamma",e[2].dataType,e[2].dims,y)];d&&n.push(Mn("beta",e[3].dataType,e[3].dims,y)),h&&n.push(Mn("bias",e[4].dataType,e[4].dims,y)),n.push(In("output",e[0].dataType,s,y)),p&&n.push(In("mean_output",1,u)),f&&n.push(In("inv_std_output",1,u)),m&&n.push(In("input_skip_bias_sum",e[0].dataType,s,y));let a=xn(e[0].dataType),i=xn(1,y);return"\n\n      ".concat(t.registerUniforms([{name:"output_size",type:"u32"},{name:"components",type:"u32"},{name:"hidden_size",type:"u32"},{name:"epsilon",type:"f32"}]).declareVariables(...n),"\n      var<workgroup> sum_shared : array<").concat(i,", ").concat(g,">;\n      var<workgroup> sum_squared_shared : array<").concat(i,", ").concat(g,">;\n\n      ").concat(t.mainStart([g,1,1]),"\n        let ix = local_id.x;\n        let iy = global_id.x / ").concat(g,";\n\n        let hidden_size_vectorized: u32 = uniforms.hidden_size / uniforms.components;\n        var stride = hidden_size_vectorized / ").concat(g,";\n        let offset = ix * stride + iy * hidden_size_vectorized;\n        let offset1d = stride * ix;\n        if (ix == ").concat(63,") {\n          stride = hidden_size_vectorized - stride * ix;\n        }\n        for (var i: u32 = 0; i < stride; i++) {\n          let skip_value = skip[offset + i];\n          let bias_value = ").concat(h?"bias[offset1d + i]":a+"(0.0)",";\n          let input_value = x[offset + i];\n          let value = input_value + skip_value + bias_value;\n          ").concat(m?"input_skip_bias_sum[offset + i] = value;":"","\n          output[offset + i] = value;\n          let f32_value = ").concat(Cn(a,y,"value"),";\n          sum_shared[ix] += f32_value;\n          sum_squared_shared[ix] += f32_value * f32_value;\n        }\n        workgroupBarrier();\n\n        var reduce_size : u32 = ").concat(g,";\n        for (var curr_size = reduce_size >> 1;  curr_size > 0; curr_size = reduce_size >> 1) {\n          reduce_size = curr_size + (reduce_size & 1);\n          if (ix < curr_size) {\n            sum_shared[ix] += sum_shared[ix + reduce_size];\n            sum_squared_shared[ix] += sum_squared_shared[ix + reduce_size];\n          }\n          workgroupBarrier();\n        }\n\n        let sum = sum_shared[0];\n        let square_sum = sum_squared_shared[0];\n        let mean = ").concat(Sn("sum",y)," / f32(uniforms.hidden_size);\n        let inv_std_dev = inverseSqrt(").concat(Sn("square_sum",y)," / f32(uniforms.hidden_size) ").concat(r?"":"- mean * mean"," + uniforms.epsilon);\n        ").concat(p?"mean_output[global_idx] = mean;":"","\n        ").concat(f?"inv_std_output[global_idx] = inv_std_dev;":"","\n\n        for (var i: u32 = 0; i < stride; i++) {\n          output[offset + i] = (output[offset + i] ").concat(r?"":"- ".concat(a,"(mean)"),") *\n            ").concat(a,"(inv_std_dev) * gamma[offset1d + i]\n            ").concat(d?"+ beta[offset1d + i]":"",";\n        }\n      }")},getRunData:()=>({outputs:v,dispatchGroup:{x:Math.ceil(l/c)},programUniforms:b})}},oc=(e,t)=>{rc(e.inputs);let n=[0];e.outputCount>1&&n.push(-3),e.outputCount>2&&n.push(-3),e.outputCount>3&&n.push(3),e.compute(ic(e.inputs,t,e.outputCount,!1),{outputs:n})}})),ju=pe((()=>{Nc(),Lc(),Gc(),Hc(),sc=(e,t)=>{if(!e||e.length<1)throw new Error("too few inputs");if(0!==t.axes.length){if(t.axes.length!==t.starts.length||t.axes.length!==t.ends.length)throw new Error("axes, starts and ends must have the same length")}else if(t.starts.length!==t.ends.length)throw new Error("starts and ends must have the same length");e.slice(1).forEach(((t,n)=>{if(6!==e[n+1].dataType&&7!==e[n+1].dataType)throw new Error("Input ".concat(n," must be an array of int32 or int64"))}))},lc=(e,t)=>{let n=[];if(e.length>t)if(7===e[t].dataType)e[t].getBigInt64Array().forEach((e=>n.push(Number(e))));else{if(6!==e[t].dataType)throw new Error("Input ".concat(t," must be an array of int32 or int64"));e[t].getInt32Array().forEach((e=>n.push(Number(e))))}return n},cc=(e,t)=>{if(e.length>1){let t=lc(e,1),n=lc(e,2),a=lc(e,3);return 0===a.length&&(a=[...Array(e[0].dims.length).keys()]),vn({starts:t,ends:n,axes:a})}return t},uc=(e,t,n,a,r)=>{let i=e;return e<0&&(i+=n[a[t]]),r[t]<0?Math.max(0,Math.min(i,n[a[t]]-1)):Math.max(0,Math.min(i,n[a[t]]))},dc=(e,t,n)=>"fn calculateInputIndices(output_indices: ".concat(t.type.indices,") -> ").concat(e.type.indices," {\n          var input_indices: ").concat(e.type.indices,";\n          var carry = 0u;\n          for (var i = ").concat(n.length,"; i >= 0; i--) {\n            let input_shape_i = ").concat(En("uniforms.input_shape","i",n.length),";\n            let steps_i = ").concat(En("uniforms.steps","i",n.length),";\n            let signs_i = ").concat(En("uniforms.signs","i",n.length),";\n            let starts_i = ").concat(En("uniforms.starts","i",n.length),";\n            var output_index = ").concat(t.indicesGet("output_indices","i"),";\n            var input_index = output_index * steps_i + starts_i + carry;\n            carry = input_index / input_shape_i;\n            input_index = input_index % input_shape_i;\n            if (signs_i < 0) {\n              input_index = input_shape_i - input_index - 1u + starts_i;\n            }\n            ").concat(e.indicesSet("input_indices","i","input_index"),";\n          }\n          return input_indices;\n      }"),hc=(e,t)=>{let n=e[0].dims,a=Ut.size(n),r=t.axes.length>0?Ut.normalizeAxes(t.axes,n.length):[...Array(n.length).keys()],i=lc(e,4);i.forEach((e=>0!==e||(()=>{throw new Error("step cannot be 0")}))),0===i.length&&(i=Array(r.length).fill(1));let o=t.starts.map(((e,t)=>uc(e,t,n,r,i))),s=t.ends.map(((e,t)=>uc(e,t,n,r,i)));if(r.length!==o.length||r.length!==s.length)throw new Error("start, ends and axes should have the same number of elements");if(r.length!==n.length)for(let g=0;g<n.length;++g)r.includes(g)||(o.splice(g,0,0),s.splice(g,0,n[g]),i.splice(g,0,1));let l=i.map((e=>Math.sign(e)));i.forEach(((e,t,n)=>{if(e<0){let a=(s[t]-o[t])/e,r=o[t],l=r+a*i[t];o[t]=l,s[t]=r,n[t]=-e}}));let c=n.slice(0);r.forEach(((e,t)=>{c[e]=Math.ceil((s[e]-o[e])/i[e])}));let u={dims:c,dataType:e[0].dataType},d=In("output",e[0].dataType,c.length),h=Mn("input",e[0].dataType,e[0].dims.length),p=Ut.size(c),f=[{name:"outputSize",type:"u32"},{name:"starts",type:"u32",length:o.length},{name:"signs",type:"i32",length:l.length},{name:"steps",type:"u32",length:i.length}],m=[{type:12,data:p},{type:12,data:o},{type:6,data:l},{type:12,data:i},...Tn(e[0].dims,c)];return{name:"Slice",shaderCache:{hint:"".concat(l.length,"_").concat(o.length,"_").concat(i.length),inputDependencies:["rank"]},getShaderSource:e=>"\n      ".concat(e.registerUniforms(f).declareVariables(h,d),"\n        ").concat(dc(h,d,n),"\n        ").concat(e.mainStart(),"\n          ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize"),"\n          let output_indices = ").concat(d.offsetToIndices("global_idx"),";\n          let input_indices = calculateInputIndices(output_indices);\n          ").concat(d.setByOffset("global_idx",h.getByIndices("input_indices")),"\n      }"),getRunData:()=>({outputs:[u],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:m})}},pc=(e,t)=>{sc(e.inputs,t);let n=cc(e.inputs,t);e.compute(hc(e.inputs,n),{inputs:[0]})},fc=e=>{let t=e.starts,n=e.ends,a=e.axes;return vn({starts:t,ends:n,axes:a})}})),Vu=pe((()=>{Nc(),Lc(),Gc(),Wc(),Hc(),mc=e=>{if(!e||1!==e.length)throw new Error("Softmax op requires 1 input.")},gc=(e,t)=>{let n,a=e.inputs[0],r=a.dims,i=Ut.size(r),o=r.length,s=Ut.normalizeAxis(t.axis,o),l=s<r.length-1,c=[];l?(c=Array.from({length:o},((e,t)=>t)),c[s]=o-1,c[o-1]=s,n=e.compute(Un(a,c),{inputs:[a],outputs:[-1]})[0]):n=a;let u=n.dims,d=u[o-1],h=i/d,p=Dn(d),f=d/p,m=64;1===h&&(m=256);let g=Mn("x",n.dataType,n.dims,p),y=In("result",n.dataType,n.dims,p),b=g.type.value,v="f32"===xn(n.dataType)?"var threadMax = ".concat(b,"(-3.402823e+38f);"):"var threadMax = ".concat(b,"(-65504.0h);"),w=e.compute({name:"Softmax",shaderCache:{hint:"".concat(p,";").concat(m),inputDependencies:["type"]},getRunData:()=>({outputs:[{dims:u,dataType:n.dataType}],dispatchGroup:{x:h},programUniforms:[{type:6,data:f}]}),getShaderSource:e=>"\n      var<workgroup> rowMaxShared : ".concat(b,";\n      var<workgroup> rowSumShared : ").concat(b,";\n      var<workgroup> threadShared : array<").concat(b,", ").concat(m,">;\n\n      fn getValue(row: i32, col: i32, row_stride: i32) -> ").concat(b," {\n        let index = row * row_stride + col;\n        return x[index];\n      }\n\n      fn setValue(row: i32, col: i32, row_stride: i32, value: ").concat(b,") {\n        let index = row * row_stride + col;\n        result[index] = value;\n      }\n      ").concat(e.registerUniform("packedCols","i32").declareVariables(g,y),"\n      ").concat(e.mainStart(m),"\n        let gindex = i32(global_idx);\n        let lindex = i32(local_idx);\n        const wg = ").concat(m,";\n        let row = gindex / wg;\n        let cols = uniforms.packedCols;\n        let row_stride : i32 = uniforms.packedCols;\n\n        // find the rows max\n        ").concat(v,"\n        for (var col = lindex; col < cols; col += wg) {\n          let value = getValue(row, col, row_stride);\n          threadMax = max(threadMax, value);\n        }\n        if (lindex < cols) {\n          threadShared[lindex] = threadMax;\n        }\n        workgroupBarrier();\n\n        var reduceSize = min(cols, wg);\n        for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {\n          reduceSize = currSize + (reduceSize & 1);\n          if (lindex < currSize) {\n            threadShared[lindex] = max(threadShared[lindex], threadShared[lindex + reduceSize]);\n          }\n          workgroupBarrier();\n        }\n        if (lindex == 0) {\n          rowMaxShared = ").concat(b,"(").concat(((e,t)=>4===t?"max(max(".concat(e,".x, ").concat(e,".y), max(").concat(e,".z, ").concat(e,".w))"):2===t?"max(".concat(e,".x, ").concat(e,".y)"):3===t?"max(max(".concat(e,".x, ").concat(e,".y), ").concat(e,".z)"):e)("threadShared[0]",p),");\n        }\n        workgroupBarrier();\n\n        // find the rows sum\n        var threadSum = ").concat(b,"(0.0);\n        for (var col = lindex; col < cols; col += wg) {\n          let subExp = exp(getValue(row, col, row_stride) - rowMaxShared);\n          threadSum += subExp;\n        }\n        threadShared[lindex] = threadSum;\n        workgroupBarrier();\n\n        for (var currSize = wg >> 1;  currSize > 0; currSize = currSize >> 1) {\n          if (lindex < currSize) {\n            threadShared[lindex] = threadShared[lindex] + threadShared[lindex + currSize];\n          }\n          workgroupBarrier();\n        }\n        if (lindex == 0) {\n          rowSumShared = ").concat(b,"(").concat(Sn("threadShared[0]",p),");\n        }\n        workgroupBarrier();\n\n        // calculate final value for each element in the row\n        for (var col = lindex; col < cols; col += wg) {\n          let value = exp(getValue(row, col, row_stride) - rowMaxShared) / rowSumShared;\n          setValue(row, col, row_stride, value);\n        }\n      }")},{inputs:[n],outputs:[l?-1:0]})[0];l&&e.compute(Un(w,c),{inputs:[w]})},yc=(e,t)=>{mc(e.inputs),gc(e,t)},bc=e=>vn({axis:e.axis})})),qu=pe((()=>{Nc(),Lc(),Hc(),vc=e=>Array.from(e.getBigInt64Array(),Number),wc=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 inputs.");if(1!==e[0].dataType&&10!==e[0].dataType&&6!==e[0].dataType&&12!==e[0].dataType)throw new Error("Tile only support float, float16, int32, and uint32 data types");if(7!==e[1].dataType)throw new Error("Tile `repeats` input should be of int64 data type");if(1!==e[1].dims.length)throw new Error("Tile `repeats` input should be 1-D");if(vc(e[1]).length!==e[0].dims.length)throw new Error("Tile `repeats` input should have same number of elements as rank of input data tensor")},_c=(e,t)=>{let n=[];for(let a=0;a<e.length;++a)n.push(e[a]*t[a]);return n},xc=(e,t)=>{let n=e[0].dims,a=null!==t&&void 0!==t?t:vc(e[1]),r=_c(n,a),i=Ut.size(r),o=e[0].dataType,s=Mn("input",o,n.length),l=In("output",o,r.length);return{name:"Tile",shaderCache:{hint:"".concat(a),inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:[{type:12,data:i},...Tn(e[0].dims,r)]}),getShaderSource:e=>"\n      const inputShape = ".concat(s.indices(...n),";\n      ").concat(e.registerUniform("output_size","u32").declareVariables(s,l),"\n      ").concat(e.mainStart(),"\n      ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size"),"\n      let output_indices = ").concat(l.offsetToIndices("global_idx"),";\n      var input_indices: ").concat(s.type.indices,";\n      for (var i = 0; i < ").concat(n.length,"; i++) {\n        let input_dim_i = ").concat(s.indicesGet("uniforms.input_shape","i"),";\n        let input_dim_value = ").concat(l.indicesGet("output_indices","i"),"  % input_dim_i;\n\n        ").concat(s.indicesSet("input_indices","i","input_dim_value"),"\n      }\n      ").concat(l.setByOffset("global_idx",s.getByIndices("input_indices")),"\n    }")}},kc=e=>{wc(e.inputs),e.compute(xc(e.inputs),{inputs:[0]})}})),Uu=pe((()=>{Nc(),Lc(),Hc(),Tc=(e,t,n,a,r)=>{let i,o=In("output_data",r,n.length,4),s=Mn("a_data",t[1].dataType,t[1].dims.length,4),l=Mn("b_data",t[2].dataType,t[2].dims.length,4),c=Mn("c_data",t[0].dataType,t[0].dims.length,4),u=(e,t,n)=>"select(".concat(t,", ").concat(e,", ").concat(n,")");if(a){let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a="a_data[index_a".concat(t,"][component_a").concat(t,"]"),r="b_data[index_b".concat(t,"][component_b").concat(t,"]"),i="bool(c_data[index_c".concat(t,"] & (0xffu << (component_c").concat(t," * 8)))");return"\n            let output_indices".concat(t," = ").concat(o.offsetToIndices("global_idx * 4u + ".concat(t,"u")),";\n            let offset_a").concat(t," = ").concat(s.broadcastedIndicesToOffset("output_indices".concat(t),o),";\n            let offset_b").concat(t," = ").concat(l.broadcastedIndicesToOffset("output_indices".concat(t),o),";\n            let offset_c").concat(t," = ").concat(c.broadcastedIndicesToOffset("output_indices".concat(t),o),";\n            let index_a").concat(t," = offset_a").concat(t," / 4u;\n            let index_b").concat(t," = offset_b").concat(t," / 4u;\n            let index_c").concat(t," = offset_c").concat(t," / 4u;\n            let component_a").concat(t," = offset_a").concat(t," % 4u;\n            let component_b").concat(t," = offset_b").concat(t," % 4u;\n            let component_c").concat(t," = offset_c").concat(t," % 4u;\n            ").concat(e,"[").concat(t,"] = ").concat(n,"(").concat(u(a,r,i),");\n          ")};i=9===r?"\n            var data = vec4<u32>(0);\n            ".concat(e("data",0,"u32"),"\n            ").concat(e("data",1,"u32"),"\n            ").concat(e("data",2,"u32"),"\n            ").concat(e("data",3,"u32"),"\n            output_data[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));"):"\n            ".concat(e("output_data[global_idx]",0),"\n            ").concat(e("output_data[global_idx]",1),"\n            ").concat(e("output_data[global_idx]",2),"\n            ").concat(e("output_data[global_idx]",3),"\n          ")}else i=o.setByOffset("global_idx",u(s.getByOffset("global_idx"),l.getByOffset("global_idx"),c.getByOffset("global_idx")));return"\n        ".concat(e.registerUniform("vec_size","u32").declareVariables(c,s,l,o),"\n        ").concat(e.mainStart(),"\n        ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size"),"\n        ").concat(i,"\n      }")},Dc=e=>{let t=e[1].dims,n=e[2].dims,a=e[0].dims,r=e[1].dataType,i=!(Ut.areEqual(t,n)&&Ut.areEqual(n,a)),o=t,s=Ut.size(t);if(i){let e=qt.calcShape(qt.calcShape(t,n,!1),a,!1);if(!e)throw new Error("Can't perform where op on the given tensors");o=e,s=Ut.size(o)}let l=Math.ceil(s/4);return{name:"Where",shaderCache:{inputDependencies:["rank","rank","rank"]},getShaderSource:t=>Tc(t,e,o,i,r),getRunData:()=>({outputs:[{dims:o,dataType:r}],dispatchGroup:{x:Math.ceil(s/64/4)},programUniforms:[{type:12,data:l},...Tn(a,t,n,o)]})}},Ac=e=>{e.compute(Dc(e.inputs))}})),Gu=pe((()=>{Jc(),Zc(),Xc(),$c(),eu(),tu(),nu(),du(),pu(),fu(),mu(),gu(),yu(),bu(),vu(),wu(),_u(),xu(),ku(),Tu(),Su(),Eu(),Fu(),Mu(),Iu(),Du(),zu(),Pu(),Nu(),Ou(),Bu(),Yc(),Lu(),Cu(),Ru(),ju(),Vu(),Au(),qu(),Wc(),Qc(),Uu(),Cc=new Map([["Abs",[or]],["Acos",[sr]],["Acosh",[lr]],["Add",[ti]],["ArgMax",[Va,qa]],["ArgMin",[ja,qa]],["Asin",[cr]],["Asinh",[ur]],["Atan",[dr]],["Atanh",[hr]],["Attention",[Za]],["AveragePool",[gl,ml]],["BatchNormalization",[er]],["BiasAdd",[ar]],["BiasSplitGelu",[Xr]],["Cast",[fr,pr]],["Ceil",[yr]],["Clip",[gr]],["Concat",[mi,gi]],["Conv",[eo,Zi]],["ConvTranspose",[uo,oo]],["Cos",[br]],["Cosh",[vr]],["CumSum",[po,fo]],["DepthToSpace",[bo,vo]],["DequantizeLinear",[Cl,Sl]],["Div",[ni]],["Einsum",[So,Eo]],["Elu",[_r,wr]],["Equal",[ai]],["Erf",[kr]],["Exp",[Tr]],["Expand",[Po]],["FastGelu",[Oo]],["Floor",[Dr]],["FusedConv",[eo,Zi]],["Gather",[jo,Ro]],["GatherElements",[Xo,Zo]],["GatherBlockQuantized",[Wo,Ko]],["GatherND",[qo,Uo]],["Gelu",[Ar]],["Gemm",[ts,es]],["GlobalAveragePool",[vl,bl]],["GlobalMaxPool",[Tl,kl]],["Greater",[si]],["GreaterOrEqual",[ci]],["GridSample",[ps,fs]],["GroupQueryAttention",[Os]],["HardSigmoid",[Pr,zr]],["InstanceNormalization",[js]],["LayerNormalization",[Us]],["LeakyRelu",[Cr,wr]],["Less",[li]],["LessOrEqual",[ui]],["Log",[Hr]],["MatMul",[Hs]],["MatMulNBits",[Js,Zs]],["MaxPool",[_l,xl]],["Mul",[ri]],["MultiHeadAttention",[_s,ys]],["Neg",[Er]],["Not",[Sr]],["Pad",[il]],["Pow",[ii]],["QuickGelu",[Yr,wr]],["Range",[Ml]],["Reciprocal",[Fr]],["ReduceMin",[Pa]],["ReduceMean",[Ea]],["ReduceMax",[za]],["ReduceSum",[Oa]],["ReduceProd",[Na]],["ReduceL1",[Fa]],["ReduceL2",[Ma]],["ReduceLogSum",[La]],["ReduceLogSumExp",[Ia]],["ReduceSumSquare",[Ba]],["Relu",[Mr]],["Resize",[nc,ac]],["RotaryEmbedding",[Ms]],["ScatterND",[Bl,Ol]],["Sigmoid",[Ir]],["Sin",[Nr]],["Sinh",[Or]],["Slice",[pc,fc]],["SkipLayerNormalization",[oc]],["Split",[Cs,Ss]],["Sqrt",[Br]],["Softmax",[yc,bc]],["Sub",[oi]],["Tan",[Lr]],["Tanh",[jr]],["ThresholdedRelu",[Gr,wr]],["Tile",[kc]],["Transpose",[Gn,Hn]],["Where",[Ac]]])})),Hu=pe((()=>{Ne(),Bc(),Hc(),Sc=class{constructor(e){this.backend=e,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n,a,r){re(e.programInfo.name);let i=this.backend.device,o=this.backend.getComputePassEncoder();this.backend.writeTimestamp(2*this.backend.pendingDispatchNumber);let s=[];for(let c of t)s.push({binding:s.length,resource:{buffer:c.buffer}});for(let c of n)s.push({binding:s.length,resource:{buffer:c.buffer}});r&&s.push({binding:s.length,resource:r});let l=i.createBindGroup({layout:e.computePipeline.getBindGroupLayout(0),entries:s,label:e.programInfo.name});if("capturing"===this.backend.sessionStatus){let t={kernelId:this.backend.currentKernelId,computePipeline:e.computePipeline,bindGroup:l,dispatchGroup:a};this.backend.capturedCommandList.get(this.backend.currentSessionId).push(t)}o.setPipeline(e.computePipeline),o.setBindGroup(0,l),o.dispatchWorkgroups(...a),this.backend.writeTimestamp(2*this.backend.pendingDispatchNumber+1),this.backend.pendingDispatchNumber++,(this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber||"at-passes"===this.backend.queryType)&&this.backend.endComputePass(),this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber&&this.backend.flush(),ie(e.programInfo.name)}dispose(){}build(e,t){re(e.name);let n=this.backend.device,a=[];[{feature:"shader-f16",extension:"f16"},{feature:"subgroups",extension:"subgroups"}].forEach((e=>{n.features.has(e.feature)&&a.push("enable ".concat(e.extension,";"))}));let r=On(t,this.backend.device.limits),i=e.getShaderSource(r),o="".concat(a.join("\n"),"\n").concat(r.additionalImplementations,"\n").concat(i),s=n.createShaderModule({code:o,label:e.name});jt("verbose",(()=>"[WebGPU] ".concat(e.name," shader code: ").concat(o)));let l=n.createComputePipeline({compute:{module:s,entryPoint:"main"},layout:"auto",label:e.name});return ie(e.name),{programInfo:e,computePipeline:l,uniformVariablesInfo:r.variablesInfo}}normalizeDispatchGroupSize(e){let t="number"==typeof e?e:e.x,n="number"==typeof e?1:e.y||1,a="number"==typeof e?1:e.z||1,r=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(t<=r&&n<=r&&a<=r)return[t,n,a];let i=t*n*a,o=Math.ceil(Math.sqrt(i));if(o>r){if(o=Math.ceil(Math.cbrt(i)),o>r)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[o,o,o]}return[o,o,1]}}})),Wu={};fe(Wu,{WebGpuBackend:()=>Zu});var Ku,Yu,Ju,Zu,Xu=pe((()=>{Ne(),Nc(),Bc(),Rc(),Uc(),Gu(),Hu(),Ku=(e,t)=>{if(t.length!==e.length)throw new Error("inputDependencies length ".concat(t.length," is not equal to inputTensors length ").concat(e.length,"."));let n=[];for(let a=0;a<e.length;++a){let r=e[a].dataType;switch(t[a]){case"none":n.push("");break;case"type":n.push("".concat(r));break;case"rank":{let t=e[a].dims.length;n.push("".concat(r,";").concat(t));break}case"dims":{let t=e[a].dims.join(",");n.push("".concat(r,";").concat(t));break}default:throw new Error("unsupported input dependency: ".concat(t[a]))}}return n.join("|")},Yu=(e,t,n)=>{var a,r,i;let o=e.name;return null!==(a=e.shaderCache)&&void 0!==a&&a.hint&&(o+="["+e.shaderCache.hint+"]"),o+=":"+n+":".concat(Ku(t,null!==(r=null===(i=e.shaderCache)||void 0===i?void 0:i.inputDependencies)&&void 0!==r?r:new Array(t.length).fill("dims"))),o},Ju=class{constructor(e){e&&(this.architecture=e.architecture,this.vendor=e.vendor)}isArchitecture(e){return this.architecture===e}isVendor(e){return this.vendor===e}},Zu=class{constructor(){this.currentSessionId=null,this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.maxDispatchNumber=16,this.pendingDispatchNumber=0,this.pendingKernels=[],this.pendingQueries=new Map,this.sessionStatus="default",this.capturedCommandList=new Map,this.capturedPendingKernels=new Map,this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(null===this.currentKernelId)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let e=this.kernelCustomData.get(this.currentKernelId);return e||(e={},this.kernelCustomData.set(this.currentKernelId,e)),e}async initialize(e,t){this.env=e;let n=[],a={requiredLimits:{maxComputeWorkgroupStorageSize:t.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:t.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:t.limits.maxStorageBufferBindingSize,maxBufferSize:t.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:t.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:t.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:t.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:t.limits.maxComputeWorkgroupSizeZ},requiredFeatures:n},r=e=>t.features.has(e)&&n.push(e)&&!0;r("chromium-experimental-timestamp-query-inside-passes")||r("timestamp-query"),r("shader-f16"),r("subgroups"),this.device=await t.requestDevice(a),this.adapterInfo=new Ju(t.info||await t.requestAdapterInfo()),this.gpuDataManager=yn(this),this.programManager=new Sc(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,Lt(e.logLevel,!!e.debug),this.device.onuncapturederror=e=>{e.error instanceof GPUValidationError&&console.error("An uncaught WebGPU validation error was raised: ".concat(e.error.message))},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:t,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){let e=this.getCommandEncoder(),t={};"at-passes"===this.queryType&&(t.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:2*this.pendingDispatchNumber,endOfPassWriteIndex:2*this.pendingDispatchNumber+1}),this.computePassEncoder=e.beginComputePass(t)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;let e;re(),this.endComputePass(),"none"!==this.queryType&&(this.commandEncoder.resolveQuerySet(this.querySet,0,2*this.pendingDispatchNumber,this.queryResolveBuffer,0),e=this.device.createBuffer({size:2*this.pendingDispatchNumber*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(e,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,e,0,2*this.pendingDispatchNumber*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,"none"!==this.queryType&&e.mapAsync(GPUMapMode.READ).then((()=>{let t=new BigUint64Array(e.getMappedRange()),n=this.pendingQueries.get(e);for(let e=0;e<t.length/2;e++){var a;let r=n[e],i=r.kernelId,o=this.kernels.get(i),s=o.kernelType,l=o.kernelName,c=r.programName,u=r.inputTensorViews,d=r.outputTensorViews,h=t[2*e],p=t[2*e+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=h);let f=Number(h-this.queryTimeBase),m=Number(p-this.queryTimeBase);if(!Number.isSafeInteger(f)||!Number.isSafeInteger(m))throw new RangeError("incorrect timestamp range");if(null!==(a=this.env.webgpu.profiling)&&void 0!==a&&a.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:u.map((e=>({dims:e.dims,dataType:At(e.dataType)}))),outputsMetadata:d.map((e=>({dims:e.dims,dataType:At(e.dataType)}))),kernelId:i,kernelType:s,kernelName:l,programName:c,startTime:f,endTime:m});else{let e="";u.forEach(((t,n)=>{e+="input[".concat(n,"]: [").concat(t.dims,"] | ").concat(At(t.dataType),", ")}));let t="";d.forEach(((e,n)=>{t+="output[".concat(n,"]: [").concat(e.dims,"] | ").concat(At(e.dataType),", ")})),console.log('[profiling] kernel "'.concat(i,"|").concat(s,"|").concat(l,"|").concat(c,'" ').concat(e).concat(t,"execution time: ").concat(m-f," ns"))}ne("GPU","".concat(c,"::").concat(h,"::").concat(p))}e.unmap(),this.pendingQueries.delete(e)})),ie()}run(e,t,n,a,r,i){re(e.name);let o=[];for(let b=0;b<t.length;++b){let e=t[b].data;if(0===e)continue;let n=this.gpuDataManager.get(e);if(!n)throw new Error("no GPU data for input: ".concat(e));o.push(n)}let{outputs:s,dispatchGroup:l,programUniforms:c}=e.getRunData(t),u=0===n.length?s.map(((e,t)=>t)):n;if(u.length!==s.length)throw new Error("Output size ".concat(u.length," must be equal to ").concat(s.length,"."));let d,h=[],p=[];for(let b=0;b<s.length;++b){if(!Number.isInteger(u[b])||u[b]<-3||u[b]>=i)throw new Error("Invalid output index: ".concat(u[b]));if(-3===u[b])continue;let e=-1===u[b],t=-2===u[b],n=e||t?r(s[b].dataType,s[b].dims):a(u[b],s[b].dataType,s[b].dims);if(h.push(n),0===n.data)continue;let o=this.gpuDataManager.get(n.data);if(!o)throw new Error("no GPU data for output: ".concat(n.data));if(e&&this.temporaryData.push(o),t){let e=this.kernelPersistentData.get(this.currentKernelId);e||(e=[],this.kernelPersistentData.set(this.currentKernelId,e)),e.push(o)}p.push(o)}if(o.length!==t.length||p.length!==h.length){if(0===p.length)return ie(e.name),h;throw new Error("Program ".concat(e.name," has zero-sized tensor(s) in inputs or outputs. This is not supported now."))}if(c){let e=0,t=[];c.forEach((n=>{let a="number"==typeof n.data?[n.data]:n.data;if(0===a.length)return;let r,i,o=10===n.type?2:4;10===n.type?(i=a.length>4?16:a.length>2?8:a.length*o,r=a.length>4?16:o*a.length):(i=a.length<=2?a.length*o:16,r=16),e=Math.ceil(e/i)*i,t.push(e);let s=10===n.type?8:4;e+=a.length>4?Math.ceil(a.length/s)*r:a.length*o}));let n=16;e=Math.ceil(e/n)*n;let a=new ArrayBuffer(e);c.forEach(((e,n)=>{let r=t[n],i="number"==typeof e.data?[e.data]:e.data;if(6===e.type)new Int32Array(a,r,i.length).set(i);else if(12===e.type)new Uint32Array(a,r,i.length).set(i);else if(10===e.type)new Uint16Array(a,r,i.length).set(i);else{if(1!==e.type)throw new Error("Unsupported uniform type: ".concat(At(e.type)));new Float32Array(a,r,i.length).set(i)}}));let r=this.gpuDataManager.create(e,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(r.buffer,0,a,0,e),this.gpuDataManager.release(r.id),d={offset:0,size:e,buffer:r.buffer}}let f=this.programManager.normalizeDispatchGroupSize(l),m=1===f[1]&&1===f[2],g=Yu(e,t,m),y=this.programManager.getArtifact(g);if(y||(y=this.programManager.build(e,f),this.programManager.setArtifact(g,y),jt("info",(()=>"[artifact] key: ".concat(g,", programName: ").concat(e.name)))),c&&y.uniformVariablesInfo){if(c.length!==y.uniformVariablesInfo.length)throw new Error("Uniform variables count mismatch: expect ".concat(y.uniformVariablesInfo.length,", got ").concat(c.length,' in program "').concat(y.programInfo.name,'".'));for(let e=0;e<c.length;e++){let t=c[e],n=t.type,a="number"==typeof t.data?1:t.data.length,[r,i]=y.uniformVariablesInfo[e];if(n!==r||a!==i)throw new Error("Uniform variable ".concat(e," mismatch: expect type ").concat(r," with size ").concat(i,", got type ").concat(n," with size ").concat(a,' in program "').concat(y.programInfo.name,'".'))}}if(jt("info",(()=>'[ProgramManager] run "'.concat(e.name,'" (key=').concat(g,") with ").concat(f[0],"x").concat(f[1],"x").concat(f[2]))),"none"!==this.queryType||"capturing"===this.sessionStatus){let e={kernelId:this.currentKernelId,programName:y.programInfo.name,inputTensorViews:t,outputTensorViews:h};this.pendingKernels.push(e),"capturing"===this.sessionStatus&&this.capturedPendingKernels.get(this.currentSessionId).push(e)}return this.programManager.run(y,o,p,f,d),ie(e.name),h}upload(e,t){this.gpuDataManager.upload(e,t)}memcpy(e,t){this.gpuDataManager.memcpy(e,t)}async download(e,t){await this.gpuDataManager.download(e,t)}alloc(e){return this.gpuDataManager.create(e).id}free(e){return this.gpuDataManager.release(e)}createKernel(e,t,n,a){let r=Cc.get(e);if(!r)throw new Error("kernel not implemented: ".concat(e));let i={kernelType:e,kernelName:a,kernelEntry:r[0],attributes:[r[1],n]};this.kernels.set(t,i)}releaseKernel(e){let t=this.kernelPersistentData.get(e);if(t){for(let e of t)this.gpuDataManager.release(e.id);this.kernelPersistentData.delete(e)}this.kernelCustomData.delete(e),this.kernels.delete(e)}computeKernel(e,t,n){let a=this.kernels.get(e);if(!a)throw new Error("kernel not created: ".concat(e));let r=a.kernelType,i=a.kernelName,o=a.kernelEntry,s=a.attributes;if(null!==this.currentKernelId)throw new Error('kernel "['.concat(r,"] ").concat(i,'" is not allowed to be called recursively'));this.currentKernelId=e,s[0]&&(s[1]=s[0](s[1]),s[0]=void 0),jt("info",(()=>'[WebGPU] Start to run kernel "['.concat(r,"] ").concat(i,'"...')));let l=this.env.debug;this.temporaryData=[];try{return l&&this.device.pushErrorScope("validation"),o(t,s[1]),0}catch(c){return n.push(Promise.resolve('[WebGPU] Kernel "['.concat(r,"] ").concat(i,'" failed. ').concat(c))),1}finally{l&&n.push(this.device.popErrorScope().then((e=>e?'GPU validation error for kernel "['.concat(r,"] ").concat(i,'": ').concat(e.message):null)));for(let e of this.temporaryData)this.gpuDataManager.release(e.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(e,t,n,a){let r=this.sessionExternalDataMapping.get(e);r||(r=new Map,this.sessionExternalDataMapping.set(e,r));let i=r.get(t),o=this.gpuDataManager.registerExternalBuffer(n,a,i);return r.set(t,[o,n]),o}unregisterBuffers(e){let t=this.sessionExternalDataMapping.get(e);t&&(t.forEach((e=>this.gpuDataManager.unregisterExternalBuffer(e[0]))),this.sessionExternalDataMapping.delete(e))}getBuffer(e){let t=this.gpuDataManager.get(e);if(!t)throw new Error("no GPU data for buffer: ".concat(e));return t.buffer}createDownloader(e,t,n){return async()=>{let a=await mn(this,e,t);return Yt(a.buffer,n)}}writeTimestamp(e){"inside-passes"===this.queryType&&this.computePassEncoder.writeTimestamp(this.querySet,e)}setQueryType(){var e;this.queryType="none",("default"===(null===(e=this.env.webgpu.profiling)||void 0===e?void 0:e.mode)||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),"none"!==this.queryType&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:2*this.maxDispatchNumber}),this.queryResolveBuffer=this.device.createBuffer({size:2*this.maxDispatchNumber*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){jt("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){jt("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){jt("info","replay"),this.sessionStatus="replaying";let e=this.capturedCommandList.get(this.currentSessionId),t=this.capturedPendingKernels.get(this.currentSessionId),n=e.length;this.pendingKernels=[];for(let a=0;a<n;a++){let n=this.getComputePassEncoder(),r=e[a];this.writeTimestamp(2*this.pendingDispatchNumber),n.setPipeline(r.computePipeline),n.setBindGroup(0,r.bindGroup),n.dispatchWorkgroups(...r.dispatchGroup),this.writeTimestamp(2*this.pendingDispatchNumber+1),this.pendingDispatchNumber++,"none"!==this.queryType&&this.pendingKernels.push(t[a]),(this.pendingDispatchNumber>=this.maxDispatchNumber||"at-passes"===this.queryType)&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onCreateSession(){this.gpuDataManager.onCreateSession()}onReleaseSession(e){this.unregisterBuffers(e),this.capturedCommandList.has(e)&&this.capturedCommandList.delete(e),this.capturedPendingKernels.has(e)&&this.capturedPendingKernels.delete(e),this.gpuDataManager.onReleaseSession(e)}onRunStart(e){this.currentSessionId=e,this.setQueryType()}}})),$u={};fe($u,{init:()=>td});var Qu,ed,td,nd,ad,rd,id,od,sd,ld,cd,ud,dd,hd,pd,fd,md,gd,yd,bd,vd,wd,_d,xd,kd,Td,Dd,Ad,Cd,Sd,Ed,Fd,Md,Id,zd,Pd,Nd,Od=pe((()=>{Nc(),Bc(),Lc(),Vc(),Qu=class e{constructor(e,t,n,a){this.module=e,this.dataType=t,this.data=n,this.dims=a}getFloat32Array(){if(1!==this.dataType)throw new Error("Invalid data type");let e=Ut.size(this.dims);return 0===e?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,e)}getBigInt64Array(){if(7!==this.dataType)throw new Error("Invalid data type");let e=Ut.size(this.dims);return 0===e?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,e)}getInt32Array(){if(6!==this.dataType)throw new Error("Invalid data type");let e=Ut.size(this.dims);return 0===e?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,e)}getUint16Array(){if(10!==this.dataType&&4!==this.dataType)throw new Error("Invalid data type");let e=Ut.size(this.dims);return 0===e?new Uint16Array:new Uint16Array(this.module.HEAP8.buffer,this.data,e)}reshape(t){if(Ut.size(t)!==Ut.size(this.dims))throw new Error("Invalid new shape");return new e(this.module,this.dataType,this.data,t)}},ed=class{constructor(e,t,n){this.module=e,this.backend=t,this.customDataOffset=0,this.customDataSize=0,this.adapterInfo=t.adapterInfo;let a=e.PTR_SIZE,r=n/e.PTR_SIZE,i=4===a?"i32":"i64";this.opKernelContext=Number(e.getValue(a*r++,i));let o=Number(e.getValue(a*r++,i));this.outputCount=Number(e.getValue(a*r++,i)),this.customDataOffset=Number(e.getValue(a*r++,"*")),this.customDataSize=Number(e.getValue(a*r++,i));let s=[];for(let l=0;l<o;l++){let t=Number(e.getValue(a*r++,i)),n=Number(e.getValue(a*r++,"*")),o=Number(e.getValue(a*r++,i)),l=[];for(let s=0;s<o;s++)l.push(Number(e.getValue(a*r++,i)));s.push(new Qu(e,t,n,l))}this.inputs=s}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}compute(e,t){var n,a,r;let i=null!==(n=null===t||void 0===t||null===(a=t.inputs)||void 0===a?void 0:a.map((e=>"number"==typeof e?this.inputs[e]:e)))&&void 0!==n?n:this.inputs,o=null!==(r=null===t||void 0===t?void 0:t.outputs)&&void 0!==r?r:[];return this.backend.run(e,i,o,((e,t,n)=>new Qu(this.module,t,this.output(e,n),n)),((e,t)=>{let n=Ct(e,t);if(!n)throw new Error("Unsupported data type: ".concat(e));let a=n>0?this.backend.gpuDataManager.create(n).id:0;return new Qu(this.module,e,a,t)}),this.outputCount)}output(e,t){let n=this.module.stackSave();try{let n=this.module.PTR_SIZE,a=4===n?"i32":"i64",r=this.module.stackAlloc((1+t.length)*n);this.module.setValue(r,t.length,a);for(let e=0;e<t.length;e++)this.module.setValue(r+n*(e+1),t[e],a);return this.module._JsepOutput(this.opKernelContext,e,r)}catch(a){throw new Error("Failed to generate kernel's output[".concat(e,"] with dims [").concat(t,"]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ").concat(a))}finally{this.module.stackRestore(n)}}},td=async(e,t,n,a)=>{let r=t.jsepInit;if(!r)throw new Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if("webgpu"===e){let e=new(0,(Xu(),me(Wu)).WebGpuBackend);await e.initialize(n,a),r("webgpu",[e,t=>e.alloc(Number(t)),t=>e.free(t),function(n,a,r){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])jt("verbose",(()=>"[WebGPU] jsepCopyGpuToGpu: src=".concat(Number(n),", dst=").concat(Number(a),", size=").concat(Number(r)))),e.memcpy(Number(n),Number(a));else{jt("verbose",(()=>"[WebGPU] jsepCopyCpuToGpu: dataOffset=".concat(Number(n),", gpuDataId=").concat(Number(a),", size=").concat(Number(r))));let i=t.HEAPU8.subarray(Number(n>>>0),Number(n>>>0)+Number(r));e.upload(Number(a),i)}},async(n,a,r)=>{jt("verbose",(()=>"[WebGPU] jsepCopyGpuToCpu: gpuDataId=".concat(n,", dataOffset=").concat(a,", size=").concat(r))),await e.download(Number(n),(()=>t.HEAPU8.subarray(Number(a)>>>0,Number(a+r)>>>0)))},(n,a,r)=>e.createKernel(n,Number(a),r,t.UTF8ToString(t._JsepGetNodeName(Number(a)))),t=>e.releaseKernel(t),(n,a,r,i)=>{jt("verbose",(()=>"[WebGPU] jsepRun: sessionHandle=".concat(r,", kernel=").concat(n,", contextDataOffset=").concat(a)));let o=new ed(t,e,Number(a));return e.computeKernel(Number(n),o,i)},()=>e.captureBegin(),()=>e.captureEnd(),()=>e.replay()])}else{let e=new ln(n);r("webnn",[e,()=>e.reserveTensorId(),t=>e.releaseTensorId(t),async(t,n,a,r,i)=>e.ensureTensor(t,n,a,r,i),(t,n)=>{e.uploadTensor(t,n)},async(t,n)=>e.downloadTensor(t,n)])}}})),Bd=pe((()=>{zc(),Pc(),Nc(),Mc(),Ic(),Oc(),nd=(e,t)=>{0!==ft()._OrtInit(e,t)&&yt("Can't initialize onnxruntime.")},ad=async e=>{nd(e.wasm.numThreads,Et(e.logLevel))},rd=async(e,t)=>{var n,a;null===(n=(a=ft()).asyncInit)||void 0===n||n.call(a);{let n=(Od(),me($u)).init;if("webgpu"===t){if(typeof navigator>"u"||!navigator.gpu)throw new Error("WebGPU is not supported in current environment");let t=e.webgpu.adapter;if(t){if("object"!=typeof t.limits||"object"!=typeof t.features||"function"!=typeof t.requestDevice)throw new Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{let n=e.webgpu.powerPreference;if(void 0!==n&&"low-power"!==n&&"high-performance"!==n)throw new Error('Invalid powerPreference setting: "'.concat(n,'"'));let a=e.webgpu.forceFallbackAdapter;if(void 0!==a&&"boolean"!=typeof a)throw new Error('Invalid forceFallbackAdapter setting: "'.concat(a,'"'));if(t=await navigator.gpu.requestAdapter({powerPreference:n,forceFallbackAdapter:a}),!t)throw new Error('Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.')}await n("webgpu",ft(),e,t)}if("webnn"===t){if(typeof navigator>"u"||!navigator.ml)throw new Error("WebNN is not supported in current environment");await n("webnn",ft(),e)}}},id=new Map,od=e=>{let t=ft(),n=t.stackSave();try{let n=t.PTR_SIZE,a=t.stackAlloc(2*n);0!==t._OrtGetInputOutputCount(e,a,a+n)&&yt("Can't get session input/output count.");let r=4===n?"i32":"i64";return[Number(t.getValue(a,r)),Number(t.getValue(a+n,r))]}finally{t.stackRestore(n)}},sd=(e,t)=>{let n=ft(),a=n.stackSave(),r=0;try{let a=n.PTR_SIZE,i=n.stackAlloc(2*a);0!==n._OrtGetInputOutputMetadata(e,t,i,i+a)&&yt("Can't get session input/output metadata.");let o=Number(n.getValue(i,"*"));r=Number(n.getValue(i+a,"*"));let s=n.HEAP32[r/4];if(0===s)return[o,0];let l=n.HEAPU32[r/4+1],c=[];for(let e=0;e<l;e++){let t=Number(n.getValue(r+8+e*a,"*"));c.push(0!==t?n.UTF8ToString(t):Number(n.getValue(r+8+(e+l)*a,"*")))}return[o,s,c]}finally{n.stackRestore(a),0!==r&&n._OrtFree(r)}},ld=e=>{let t=ft(),n=t._malloc(e.byteLength);if(0===n)throw new Error("Can't create a session. failed to allocate a buffer of size ".concat(e.byteLength,"."));return t.HEAPU8.set(e,n),[n,e.byteLength]},cd=async(e,t)=>{let n,a,r=ft();Array.isArray(e)?[n,a]=e:e.buffer===r.HEAPU8.buffer?[n,a]=[e.byteOffset,e.byteLength]:[n,a]=ld(e);let i=0,o=0,s=0,l=[],c=[],u=[];try{var d,h;if([o,l]=await Tt(t),null!==t&&void 0!==t&&t.externalData&&r.mountExternalData){let e=[];for(let n of t.externalData){let t="string"==typeof n?n:n.path;e.push(zt("string"==typeof n?n:n.data).then((e=>{r.mountExternalData(t,e)})))}await Promise.all(e)}for(let n of null!==(p=null===t||void 0===t?void 0:t.executionProviders)&&void 0!==p?p:[]){var p;if("webnn"===("string"==typeof n?n:n.name)){if(r.shouldTransferToMLTensor=!1,"string"!=typeof n){let e=n,t=null===e||void 0===e?void 0:e.context,a=null===e||void 0===e?void 0:e.gpuDevice,i=null===e||void 0===e?void 0:e.deviceType,o=null===e||void 0===e?void 0:e.powerPreference;r.currentContext=t||(a?await r.webnnCreateMLContext(a):await r.webnnCreateMLContext({deviceType:i,powerPreference:o}))}else r.currentContext=await r.webnnCreateMLContext();break}}i=await r._OrtCreateSession(n,a,o),null!==(d=r.webgpuOnCreateSession)&&void 0!==d&&d.call(r,i),0===i&&yt("Can't create a session."),null!==(h=r.jsepOnCreateSession)&&void 0!==h&&h.call(r),r.currentContext&&(r.webnnRegisterMLContext(i,r.currentContext),r.currentContext=void 0,r.shouldTransferToMLTensor=!0);let[e,g]=od(i),y=!(null===t||void 0===t||!t.enableGraphCapture),b=[],v=[],w=[],_=[],x=[];for(let t=0;t<e;t++){let[e,n,a]=sd(i,t);0===e&&yt("Can't get an input name."),c.push(e);let o=r.UTF8ToString(e);b.push(o),w.push(0===n?{name:o,isTensor:!1}:{name:o,isTensor:!0,type:At(n),shape:a})}for(let n=0;n<g;n++){let[a,o,s]=sd(i,n+e);0===a&&yt("Can't get an output name."),u.push(a);let l=r.UTF8ToString(a);v.push(l),_.push(0===o?{name:l,isTensor:!1}:{name:l,isTensor:!0,type:At(o),shape:s});{var f,m;if(y&&void 0===(null===t||void 0===t?void 0:t.preferredOutputLocation)){x.push("gpu-buffer");continue}let e="string"==typeof(null===t||void 0===t?void 0:t.preferredOutputLocation)?t.preferredOutputLocation:null!==(f=null===t||void 0===t||null===(m=t.preferredOutputLocation)||void 0===m?void 0:m[l])&&void 0!==f?f:"cpu";if("cpu"!==e&&"cpu-pinned"!==e&&"gpu-buffer"!==e&&"ml-tensor"!==e)throw new Error("Not supported preferred output location: ".concat(e,"."));if(y&&"gpu-buffer"!==e)throw new Error("Not supported preferred output location: ".concat(e,". Only 'gpu-buffer' location is supported when enableGraphCapture is true."));x.push(e)}}let k=null;return x.some((e=>"gpu-buffer"===e||"ml-tensor"===e))&&(s=r._OrtCreateBinding(i),0===s&&yt("Can't create IO binding."),k={handle:s,outputPreferredLocations:x,outputPreferredLocationsEncoded:x.map((e=>It(e)))}),id.set(i,[i,c,u,k,y,!1]),[i,b,v,w,_]}catch(zw){throw c.forEach((e=>r._OrtFree(e))),u.forEach((e=>r._OrtFree(e))),0!==s&&0!==r._OrtReleaseBinding(s)&&yt("Can't release IO binding."),0!==i&&0!==r._OrtReleaseSession(i)&&yt("Can't release session."),zw}finally{var g;r._free(n),0!==o&&0!==r._OrtReleaseSessionOptions(o)&&yt("Can't release session options."),l.forEach((e=>r._free(e))),null===(g=r.unmountExternalData)||void 0===g||g.call(r)}},ud=e=>{var t,n,a;let r=ft(),i=id.get(e);if(!i)throw new Error("cannot release session. invalid session id: ".concat(e));let[o,s,l,c,u]=i;c&&(u&&0!==r._OrtClearBoundOutputs(c.handle)&&yt("Can't clear bound outputs."),0!==r._OrtReleaseBinding(c.handle)&&yt("Can't release IO binding.")),null!==(t=r.jsepOnReleaseSession)&&void 0!==t&&t.call(r,e),null!==(n=r.webnnOnReleaseSession)&&void 0!==n&&n.call(r,e),null!==(a=r.webgpuOnReleaseSession)&&void 0!==a&&a.call(r,e),s.forEach((e=>r._OrtFree(e))),l.forEach((e=>r._OrtFree(e))),0!==r._OrtReleaseSession(o)&&yt("Can't release session."),id.delete(e)},dd=async function(e,t,n,a,r,i){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!e)return void t.push(0);let s,l,c=ft(),u=c.PTR_SIZE,d=e[0],h=e[1],p=e[3],f=p;if("string"===d&&("gpu-buffer"===p||"ml-tensor"===p))throw new Error("String tensor is not supported on GPU.");if(o&&"gpu-buffer"!==p)throw new Error("External buffer must be provided for input/output index ".concat(i," when enableGraphCapture is true."));if("gpu-buffer"===p){let t=e[2].gpuBuffer;l=Ct(Dt(d),h);{let e=c.jsepRegisterBuffer;if(!e)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');s=e(a,i,t,l)}}else if("ml-tensor"===p){let t=e[2].mlTensor;l=Ct(Dt(d),h);let n=c.webnnRegisterMLTensor;if(!n)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');s=n(a,t,Dt(d),h)}else{let t=e[2];if(Array.isArray(t)){l=u*t.length,s=c._malloc(l),n.push(s);for(let e=0;e<t.length;e++){if("string"!=typeof t[e])throw new TypeError("tensor data at index ".concat(e," is not a string"));c.setValue(s+e*u,mt(t[e],n),"*")}}else{let e=c.webnnIsGraphInput;if("string"!==d&&e){if(e(a,c.UTF8ToString(r))){let e=Dt(d);l=Ct(e,h),f="ml-tensor";let n=c.webnnCreateTemporaryTensor,r=c.webnnUploadTensor;if(!n||!r)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');let i=await n(a,e,h);r(i,new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),s=i}else l=t.byteLength,s=c._malloc(l),n.push(s),c.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,l),s)}else l=t.byteLength,s=c._malloc(l),n.push(s),c.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,l),s)}}let m=c.stackSave(),g=c.stackAlloc(4*h.length);try{h.forEach(((e,t)=>c.setValue(g+t*u,e,4===u?"i32":"i64")));let e=c._OrtCreateTensor(Dt(d),s,l,g,h.length,It(f));0===e&&yt("Can't create tensor for input/output. session=".concat(a,", index=").concat(i,".")),t.push(e)}finally{c.stackRestore(m)}},hd=async(e,t,n,a,r,i)=>{let o=ft(),s=o.PTR_SIZE,l=id.get(e);if(!l)throw new Error("cannot run inference. invalid session id: ".concat(e));let c=l[0],u=l[1],d=l[2],h=l[3],p=l[4],f=l[5],m=t.length,g=a.length,y=0,b=[],v=[],w=[],_=[],x=o.stackSave(),k=o.stackAlloc(m*s),T=o.stackAlloc(m*s),D=o.stackAlloc(g*s),A=o.stackAlloc(g*s);try{var C,S;[y,b]=bt(i);for(let a=0;a<m;a++)await dd(n[a],v,_,e,u[t[a]],t[a],p);for(let t=0;t<g;t++)await dd(r[t],w,_,e,d[a[t]],m+a[t],p);for(let e=0;e<m;e++)o.setValue(k+e*s,v[e],"*"),o.setValue(T+e*s,u[t[e]],"*");for(let e=0;e<g;e++)o.setValue(D+e*s,w[e],"*"),o.setValue(A+e*s,d[a[e]],"*");if(h&&!f){let{handle:n,outputPreferredLocations:i,outputPreferredLocationsEncoded:s}=h;if(u.length!==m)throw new Error("input count from feeds (".concat(m,") is expected to be always equal to model's input count (").concat(u.length,")."));for(let a=0;a<m;a++){let r=t[a];0!==await o._OrtBindInput(n,u[r],v[a])&&yt("Can't bind input[".concat(a,"] for session=").concat(e,"."))}for(let t=0;t<g;t++){var E;let l=a[t];null!==(E=r[t])&&void 0!==E&&E[3]?0!==o._OrtBindOutput(n,d[l],w[t],0)&&yt("Can't bind pre-allocated output[".concat(t,"] for session=").concat(e,".")):0!==o._OrtBindOutput(n,d[l],0,s[l])&&yt("Can't bind output[".concat(t,"] to ").concat(i[t]," for session=").concat(e,"."))}id.set(e,[c,u,d,h,p,!0])}let l;null!==(C=o.jsepOnRunStart)&&void 0!==C&&C.call(o,c),null===(S=o.webnnOnRunStart)||void 0===S||S.call(o,c),l=h?await o._OrtRunWithBinding(c,h.handle,g,D,y):await o._OrtRun(c,T,k,m,A,g,D,y),0!==l&&yt("failed to call OrtRun().");let x=[];for(let t=0;t<g;t++){let n=Number(o.getValue(D+t*s,"*"));if(n===w[t]){x.push(r[t]);continue}let i,l=o.stackSave(),u=o.stackAlloc(4*s),d=!1,p=0;try{0!==o._OrtGetTensorData(n,u,u+s,u+2*s,u+3*s)&&yt("Can't access output tensor data on index ".concat(t,"."));let r=4===s?"i32":"i64",l=Number(o.getValue(u,r));p=o.getValue(u+s,"*");let c=o.getValue(u+2*s,"*"),f=Number(o.getValue(u+3*s,r)),m=[];for(let e=0;e<f;e++)m.push(Number(o.getValue(c+e*s,r)));0!==o._OrtFree(c)&&yt("Can't free memory for tensor dims.");let g=m.reduce(((e,t)=>e*t),1);i=At(l);let y=null===h||void 0===h?void 0:h.outputPreferredLocations[a[t]];if("string"===i){if("gpu-buffer"===y||"ml-tensor"===y)throw new Error("String tensor is not supported on GPU.");let e=[];for(let t=0;t<g;t++){let n=o.getValue(p+t*s,"*"),a=o.getValue(p+(t+1)*s,"*"),r=t===g-1?void 0:a-n;e.push(o.UTF8ToString(n,r))}x.push([i,m,e,"cpu"])}else if("gpu-buffer"===y&&g>0){let e=o.jsepGetBuffer;if(!e)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let t=e(p),a=Ct(l,g);if(void 0===a||!Ft(i))throw new Error("Unsupported data type: ".concat(i));d=!0,x.push([i,m,{gpuBuffer:t,download:o.jsepCreateDownloader(t,a,i),dispose:()=>{0!==o._OrtReleaseTensor(n)&&yt("Can't release tensor.")}},"gpu-buffer"])}else if("ml-tensor"===y&&g>0){let t=o.webnnEnsureTensor,a=o.webnnIsInt64Supported;if(!t||!a)throw new Error('preferredLocation "ml-tensor" is not supported without using WebNN.');if(void 0===Ct(l,g)||!Mt(i))throw new Error("Unsupported data type: ".concat(i));if("int64"===i&&!a(e))throw new Error('preferredLocation "ml-tensor" for int64 output is not supported by current WebNN Context.');let r=await t(e,p,l,m,!1);d=!0,x.push([i,m,{mlTensor:r,download:o.webnnCreateMLTensorDownloader(p,i),dispose:()=>{o.webnnReleaseTensorId(p),o._OrtReleaseTensor(n)}},"ml-tensor"])}else{let e=new(St(i))(g);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(o.HEAPU8.subarray(p,p+e.byteLength)),x.push([i,m,e,"cpu"])}}finally{var F;o.stackRestore(l),"string"===i&&p&&o._free(p),d||o._OrtReleaseTensor(n),null===(F=o.webnnOnRunEnd)||void 0===F||F.call(o,c)}}return h&&!p&&(0!==o._OrtClearBoundOutputs(h.handle)&&yt("Can't clear bound outputs."),id.set(e,[c,u,d,h,p,!1])),x}finally{o.stackRestore(x),v.forEach((e=>o._OrtReleaseTensor(e))),w.forEach((e=>o._OrtReleaseTensor(e))),_.forEach((e=>o._free(e))),0!==y&&o._OrtReleaseRunOptions(y),b.forEach((e=>o._free(e)))}},pd=e=>{let t=ft(),n=id.get(e);if(!n)throw new Error("invalid session id");let a=n[0],r=t._OrtEndProfiling(a);0===r&&yt("Can't get an profile file name."),t._OrtFree(r)},fd=e=>{let t=[];for(let n of e){let e=n[2];!Array.isArray(e)&&"buffer"in e&&t.push(e.buffer)}return t}})),Ld=pe((()=>{Ne(),Bd(),Mc(),Fc(),md=()=>!!R.wasm.proxy&&typeof document<"u",yd=!1,bd=!1,vd=!1,xd=new Map,kd=(e,t)=>{let n=xd.get(e);n?n.push(t):xd.set(e,[t])},Td=()=>{if(yd||!bd||vd||!gd)throw new Error("worker not ready")},Dd=e=>{switch(e.data.type){case"init-wasm":yd=!1,e.data.err?(vd=!0,_d[1](e.data.err)):(bd=!0,_d[0]()),wd&&(URL.revokeObjectURL(wd),wd=void 0);break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let t=xd.get(e.data.type);e.data.err?t.shift()[1](e.data.err):t.shift()[0](e.data.out);break}}},Ad=async()=>{if(!bd){if(yd)throw new Error("multiple calls to 'initWasm()' detected.");if(vd)throw new Error("previous call to 'initWasm()' failed.");if(yd=!0,md())return new Promise(((e,t)=>{var n;null!==(n=gd)&&void 0!==n&&n.terminate(),at().then((n=>{let[a,r]=n;try{(gd=r).onerror=e=>t(e),gd.onmessage=Dd,_d=[e,t];let n={type:"init-wasm",in:R};!n.in.wasm.wasmPaths&&(a||Ke)&&(n.in.wasm.wasmPaths={wasm:new URL(__webpack_require__(98),__webpack_require__.b).href}),gd.postMessage(n),wd=a}catch(i){t(i)}}),t)}));try{await pt(R.wasm),await ad(R),bd=!0}catch(F){throw vd=!0,F}finally{yd=!1}}},Cd=async e=>{if(md())return Td(),new Promise(((t,n)=>{kd("init-ep",[t,n]);let a={type:"init-ep",in:{epName:e,env:R}};gd.postMessage(a)}));await rd(R,e)},Sd=async e=>md()?(Td(),new Promise(((t,n)=>{kd("copy-from",[t,n]);let a={type:"copy-from",in:{buffer:e}};gd.postMessage(a,[e.buffer])}))):ld(e),Ed=async(e,t)=>{if(md()){if(null!==t&&void 0!==t&&t.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Td(),new Promise(((n,a)=>{kd("create",[n,a]);let r={type:"create",in:{model:e,options:u({},t)}},i=[];e instanceof Uint8Array&&i.push(e.buffer),gd.postMessage(r,i)}))}return cd(e,t)},Fd=async e=>{if(md())return Td(),new Promise(((t,n)=>{kd("release",[t,n]);let a={type:"release",in:e};gd.postMessage(a)}));ud(e)},Md=async(e,t,n,a,r,i)=>{if(md()){if(n.some((e=>"cpu"!==e[3])))throw new Error("input tensor on GPU is not supported for proxy.");if(r.some((e=>e)))throw new Error("pre-allocated output tensor is not supported for proxy.");return Td(),new Promise(((r,o)=>{kd("run",[r,o]);let s=n,l={type:"run",in:{sessionId:e,inputIndices:t,inputs:s,outputIndices:a,options:i}};gd.postMessage(l,fd(s))}))}return hd(e,t,n,a,r,i)},Id=async e=>{if(md())return Td(),new Promise(((t,n)=>{kd("end-profiling",[t,n]);let a={type:"end-profiling",in:e};gd.postMessage(a)}));pd(e)}})),Rd=pe((()=>{Ne(),Ld(),Nc(),Oe(),Oc(),zd=(e,t)=>{switch(e.location){case"cpu":return[e.type,e.dims,e.data,"cpu"];case"gpu-buffer":return[e.type,e.dims,{gpuBuffer:e.gpuBuffer},"gpu-buffer"];case"ml-tensor":return[e.type,e.dims,{mlTensor:e.mlTensor},"ml-tensor"];default:throw new Error("invalid data location: ".concat(e.location," for ").concat(t()))}},Pd=e=>{switch(e[3]){case"cpu":return new te(e[0],e[2],e[1]);case"gpu-buffer":{let t=e[0];if(!Ft(t))throw new Error("not supported data type: ".concat(t," for deserializing GPU tensor"));let{gpuBuffer:n,download:a,dispose:r}=e[2];return te.fromGpuBuffer(n,{dataType:t,dims:e[1],download:a,dispose:r})}case"ml-tensor":{let t=e[0];if(!Mt(t))throw new Error("not supported data type: ".concat(t," for deserializing MLTensor tensor"));let{mlTensor:n,download:a,dispose:r}=e[2];return te.fromMLTensor(n,{dataType:t,dims:e[1],download:a,dispose:r})}default:throw new Error("invalid data location: ".concat(e[3]))}},Nd=class{async fetchModelAndCopyToWasmMemory(e){return Sd(await zt(e))}async loadModel(e,t){let n;re(),n="string"==typeof e?await this.fetchModelAndCopyToWasmMemory(e):e,[this.sessionId,this.inputNames,this.outputNames,this.inputMetadata,this.outputMetadata]=await Ed(n,t),ie()}async dispose(){return Fd(this.sessionId)}async run(e,t,n){re();let a=[],r=[];Object.entries(e).forEach((e=>{let t=e[0],n=e[1],i=this.inputNames.indexOf(t);if(-1===i)throw new Error("invalid input '".concat(t,"'"));a.push(n),r.push(i)}));let i=[],o=[];Object.entries(t).forEach((e=>{let t=e[0],n=e[1],a=this.outputNames.indexOf(t);if(-1===a)throw new Error("invalid output '".concat(t,"'"));i.push(n),o.push(a)}));let s=a.map(((e,t)=>zd(e,(()=>'input "'.concat(this.inputNames[r[t]],'"'))))),l=i.map(((e,t)=>e?zd(e,(()=>'output "'.concat(this.outputNames[o[t]],'"'))):null)),c=await Md(this.sessionId,r,s,o,l,n),u={};for(let h=0;h<c.length;h++){var d;u[this.outputNames[o[h]]]=null!==(d=i[h])&&void 0!==d?d:Pd(c[h])}return ie(),u}startProfiling(){}endProfiling(){Id(this.sessionId)}}})),jd={};fe(jd,{OnnxruntimeWebAssemblyBackend:()=>qd,initializeFlags:()=>Vd,wasmBackend:()=>Ud});var Vd,qd,Ud,Gd=pe((()=>{Ne(),Ld(),Rd(),Vd=()=>{("number"!=typeof R.wasm.initTimeout||R.wasm.initTimeout<0)&&(R.wasm.initTimeout=0);let e=R.wasm.simd;if("boolean"!=typeof e&&void 0!==e&&"fixed"!==e&&"relaxed"!==e&&(console.warn('Property "env.wasm.simd" is set to unknown value "'.concat(e,'". Reset it to `false` and ignore SIMD feature checking.')),R.wasm.simd=!1),"boolean"!=typeof R.wasm.proxy&&(R.wasm.proxy=!1),"boolean"!=typeof R.wasm.trace&&(R.wasm.trace=!1),"number"!=typeof R.wasm.numThreads||!Number.isInteger(R.wasm.numThreads)||R.wasm.numThreads<=0)if(typeof self<"u"&&!self.crossOriginIsolated)R.wasm.numThreads=1;else{let e=typeof navigator>"u"?he("node:os").cpus().length:navigator.hardwareConcurrency;R.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},qd=class{async init(e){Vd(),await Ad(),await Cd(e)}async createInferenceSessionHandler(e,t){let n=new Nd;return await n.loadModel(e,t),n}},Ud=new qd}));Ne(),Ne(),Ne();var Hd=Pe;{let e=(Gd(),me(jd)).wasmBackend;z("webgpu",e,5),z("webnn",e,5),z("cpu",e,10),z("wasm",e,10)}Object.defineProperty(R.versions,"web",{value:"1.22.0-dev.20250409-89f8206ba4",enumerable:!0});const Wd=["skip_prompt","callback_function","token_callback_function","skip_special_tokens","decode_kwargs"],Kd=["encoder_outputs","input_ids","decoder_input_ids"],Yd=["past_key_values"],Jd=["encode_function","merge_function","modality_input_name","modality_output_name","input_ids","attention_mask","position_ids","inputs_embeds","past_key_values","generation_config","logits_processor"],Zd=["input_ids","pixel_values","attention_mask"],Xd=["decoder_input_ids"],$d=["inputs","generation_config","logits_processor","stopping_criteria","streamer"],Qd=["inputs","generation_config","logits_processor","stopping_criteria"],eh=["input_ids","attention_mask","pixel_values","image_sizes","position_ids","inputs_embeds","past_key_values","generation_config","logits_processor"],th=["logits"],nh=["resize_mode","fill_color","interpolation","size"],ah=["tools","documents","chat_template","add_generation_prompt","tokenize","padding","truncation","max_length","return_tensor","return_dict","tokenizer_kwargs"];var rh={"onnxruntime-common":t=>{t.exports=e},"onnxruntime-web":e=>{e.exports=t},"?2ce3":()=>{},"?7a2c":()=>{},"?a42a":()=>{},"?2b25":()=>{},"?569f":()=>{},"?3f59":()=>{},"?154a":()=>{},"./node_modules/@huggingface/jinja/dist/index.js":(e,t,n)=>{n.r(t),n.d(t,{Environment:()=>ne,Interpreter:()=>ae,Template:()=>de,parse:()=>R,tokenize:()=>d});var a=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",NullLiteral:"NullLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndSet:"EndSet",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator",Macro:"Macro",EndMacro:"EndMacro",Break:"Break",Continue:"Continue"}),r=Object.freeze({set:a.Set,for:a.For,in:a.In,is:a.Is,if:a.If,else:a.Else,endset:a.EndSet,endif:a.EndIf,elif:a.ElseIf,endfor:a.EndFor,and:a.And,or:a.Or,not:a.Not,"not in":a.NotIn,macro:a.Macro,endmacro:a.EndMacro,break:a.Break,continue:a.Continue,true:a.BooleanLiteral,false:a.BooleanLiteral,none:a.NullLiteral,True:a.BooleanLiteral,False:a.BooleanLiteral,None:a.NullLiteral}),i=class{constructor(e,t){this.value=e,this.type=t}};function o(e){return/\w/.test(e)}function s(e){return/[0-9]/.test(e)}var c=[["{%",a.OpenStatement],["%}",a.CloseStatement],["{{",a.OpenExpression],["}}",a.CloseExpression],["(",a.OpenParen],[")",a.CloseParen],["{",a.OpenCurlyBracket],["}",a.CloseCurlyBracket],["[",a.OpenSquareBracket],["]",a.CloseSquareBracket],[",",a.Comma],[".",a.Dot],[":",a.Colon],["|",a.Pipe],["<=",a.ComparisonBinaryOperator],[">=",a.ComparisonBinaryOperator],["==",a.ComparisonBinaryOperator],["!=",a.ComparisonBinaryOperator],["<",a.ComparisonBinaryOperator],[">",a.ComparisonBinaryOperator],["+",a.AdditiveBinaryOperator],["-",a.AdditiveBinaryOperator],["*",a.MultiplicativeBinaryOperator],["/",a.MultiplicativeBinaryOperator],["%",a.MultiplicativeBinaryOperator],["=",a.Equals]],u=new Map([["n","\n"],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function d(e){const t=[],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.endsWith("\n")&&(e=e.slice(0,-1)),e=e.replace(/{#[^]*?#}/g,"{##}"),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%]})\n/g,"$1")),e.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let l=0;const d=e=>{let t="";for(;e(n[l]);)if("\\"!==n[l]){if(t+=n[l++],l>=n.length)throw new SyntaxError("Unexpected end of input")}else{if(++l,l>=n.length)throw new SyntaxError("Unexpected end of input");const e=n[l++],a=u.get(e);if(void 0===a)throw new SyntaxError("Unexpected escaped character: ".concat(e));t+=a}return t};e:for(;l<n.length;){var h;const e=null===(h=t.at(-1))||void 0===h?void 0:h.type;if(void 0===e||e===a.CloseStatement||e===a.CloseExpression){let e="";for(;l<n.length&&("{"!==n[l]||"%"!==n[l+1]&&"{"!==n[l+1]);)e+=n[l++];if(e.length>0){t.push(new i(e,a.Text));continue}}d((e=>/\s/.test(e)));const u=n[l];if("-"===u||"+"===u){var p;const e=null===(p=t.at(-1))||void 0===p?void 0:p.type;if(e===a.Text||void 0===e)throw new SyntaxError("Unexpected character: ".concat(u));switch(e){case a.Identifier:case a.NumericLiteral:case a.BooleanLiteral:case a.NullLiteral:case a.StringLiteral:case a.CloseParen:case a.CloseSquareBracket:break;default:{++l;const e=d(s);t.push(new i("".concat(u).concat(e),e.length>0?a.NumericLiteral:a.UnaryOperator));continue}}}for(const[a,r]of c){if(n.slice(l,l+a.length)===a){t.push(new i(a,r)),l+=a.length;continue e}}if("'"!==u&&'"'!==u)if(s(u)){const e=d(s);t.push(new i(e,a.NumericLiteral))}else{if(!o(u))throw new SyntaxError("Unexpected character: ".concat(u));{var f;const e=d(o),n=Object.hasOwn(r,e)?r[e]:a.Identifier;n===a.In&&(null===(f=t.at(-1))||void 0===f?void 0:f.type)===a.Not?(t.pop(),t.push(new i("not in",a.NotIn))):t.push(new i(e,n))}}else{++l;const e=d((e=>e!==u));t.push(new i(e,a.StringLiteral)),++l}}return t}var h=class{constructor(){l(this,"type","Statement")}},p=class extends h{constructor(e){super(),l(this,"type","Program"),this.body=e}},f=class extends h{constructor(e,t,n){super(),l(this,"type","If"),this.test=e,this.body=t,this.alternate=n}},m=class extends h{constructor(e,t,n,a){super(),l(this,"type","For"),this.loopvar=e,this.iterable=t,this.body=n,this.defaultBlock=a}},g=class extends h{constructor(){super(...arguments),l(this,"type","Break")}},y=class extends h{constructor(){super(...arguments),l(this,"type","Continue")}},b=class extends h{constructor(e,t,n){super(),l(this,"type","Set"),this.assignee=e,this.value=t,this.body=n}},v=class extends h{constructor(e,t,n){super(),l(this,"type","Macro"),this.name=e,this.args=t,this.body=n}},w=class extends h{constructor(){super(...arguments),l(this,"type","Expression")}},_=class extends w{constructor(e,t,n){super(),l(this,"type","MemberExpression"),this.object=e,this.property=t,this.computed=n}},x=class extends w{constructor(e,t){super(),l(this,"type","CallExpression"),this.callee=e,this.args=t}},k=class extends w{constructor(e){super(),l(this,"type","Identifier"),this.value=e}},T=class extends w{constructor(e){super(),l(this,"type","Literal"),this.value=e}},D=class extends T{constructor(){super(...arguments),l(this,"type","NumericLiteral")}},A=class extends T{constructor(){super(...arguments),l(this,"type","StringLiteral")}},C=class extends T{constructor(){super(...arguments),l(this,"type","BooleanLiteral")}},S=class extends T{constructor(){super(...arguments),l(this,"type","NullLiteral")}},E=class extends T{constructor(){super(...arguments),l(this,"type","ArrayLiteral")}},F=class extends T{constructor(){super(...arguments),l(this,"type","TupleLiteral")}},M=class extends T{constructor(){super(...arguments),l(this,"type","ObjectLiteral")}},I=class extends w{constructor(e,t,n){super(),l(this,"type","BinaryExpression"),this.operator=e,this.left=t,this.right=n}},z=class extends w{constructor(e,t){super(),l(this,"type","FilterExpression"),this.operand=e,this.filter=t}},P=class extends w{constructor(e,t){super(),l(this,"type","SelectExpression"),this.iterable=e,this.test=t}},N=class extends w{constructor(e,t,n){super(),l(this,"type","TestExpression"),this.operand=e,this.negate=t,this.test=n}},O=class extends w{constructor(e,t){super(),l(this,"type","UnaryExpression"),this.operator=e,this.argument=t}},B=class extends w{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(),l(this,"type","SliceExpression"),this.start=e,this.stop=t,this.step=n}},L=class extends w{constructor(e,t){super(),l(this,"type","KeywordArgumentExpression"),this.key=e,this.value=t}};function R(e){const t=new p([]);let n=0;function r(t,a){const r=e[n++];if(!r||r.type!==t)throw new Error("Parser Error: ".concat(a,". ").concat(r.type," !== ").concat(t,"."));return r}function i(){switch(e[n].type){case a.Text:return new A(r(a.Text,"Expected text token").value);case a.OpenStatement:return function(){let t;switch(r(a.OpenStatement,"Expected opening statement token"),e[n].type){case a.Set:++n,t=function(){const t=u();if(s(a.Equals)){++n;const e=u();return new b(t,e,[])}{const s=[];for(r(a.CloseStatement,"Expected %} token");(null===(o=e[n])||void 0===o?void 0:o.type)!==a.OpenStatement||(null===(l=e[n+1])||void 0===l?void 0:l.type)!==a.EndSet;){var o,l;const e=i();s.push(e)}return r(a.OpenStatement,"Expected {% token"),r(a.EndSet,"Expected endset token"),new b(t,null,s)}}(),r(a.CloseStatement,"Expected closing statement token");break;case a.If:++n,t=l(),r(a.OpenStatement,"Expected {% token"),r(a.EndIf,"Expected endif token"),r(a.CloseStatement,"Expected %} token");break;case a.Macro:++n,t=function(){const e=H();if("Identifier"!==e.type)throw new SyntaxError("Expected identifier following macro statement");const t=j();r(a.CloseStatement,"Expected closing statement token");const n=[];for(;o(a.OpenStatement,a.EndMacro);)n.push(i());return new v(e,t,n)}(),r(a.OpenStatement,"Expected {% token"),r(a.EndMacro,"Expected endmacro token"),r(a.CloseStatement,"Expected %} token");break;case a.For:++n,t=function(){const e=c(!0);if(!(e instanceof k||e instanceof F))throw new SyntaxError("Expected identifier/tuple for the loop variable, got ".concat(e.type," instead"));r(a.In,"Expected `in` keyword following loop variable");const t=u();r(a.CloseStatement,"Expected closing statement token");const l=[];for(;o(a.OpenStatement,a.EndFor)&&o(a.OpenStatement,a.Else);)l.push(i());const d=[];if(s(a.OpenStatement,a.Else))for(++n,++n,r(a.CloseStatement,"Expected closing statement token");o(a.OpenStatement,a.EndFor);)d.push(i());return new m(e,t,l,d)}(),r(a.OpenStatement,"Expected {% token"),r(a.EndFor,"Expected endfor token"),r(a.CloseStatement,"Expected %} token");break;case a.Break:++n,r(a.CloseStatement,"Expected closing statement token"),t=new g;break;case a.Continue:++n,r(a.CloseStatement,"Expected closing statement token"),t=new y;break;default:throw new SyntaxError("Unknown statement type: ".concat(e[n].type))}return t}();case a.OpenExpression:return function(){r(a.OpenExpression,"Expected opening expression token");const e=u();return r(a.CloseExpression,"Expected closing expression token"),e}();default:throw new SyntaxError("Unexpected token type: ".concat(e[n].type))}}function o(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n+a.length<=e.length&&a.some(((t,a)=>t!==e[n+a].type))}function s(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n+a.length<=e.length&&a.every(((t,a)=>t===e[n+a].type))}function l(){var t,o;const c=u();r(a.CloseStatement,"Expected closing statement token");const d=[],h=[];for(;(null===(p=e[n])||void 0===p?void 0:p.type)!==a.OpenStatement||(null===(m=e[n+1])||void 0===m?void 0:m.type)!==a.ElseIf&&(null===(g=e[n+1])||void 0===g?void 0:g.type)!==a.Else&&(null===(y=e[n+1])||void 0===y?void 0:y.type)!==a.EndIf;){var p,m,g,y;d.push(i())}if((null===(t=e[n])||void 0===t?void 0:t.type)===a.OpenStatement&&(null===(o=e[n+1])||void 0===o?void 0:o.type)!==a.EndIf)if(++n,s(a.ElseIf))r(a.ElseIf,"Expected elseif token"),h.push(l());else for(r(a.Else,"Expected else token"),r(a.CloseStatement,"Expected closing statement token");(null===(b=e[n])||void 0===b?void 0:b.type)!==a.OpenStatement||(null===(v=e[n+1])||void 0===v?void 0:v.type)!==a.EndIf;){var b,v;h.push(i())}return new f(c,d,h)}function c(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?H:u,t=[e()],r=s(a.Comma);for(;r&&(++n,t.push(e()),s(a.Comma)););return r?new F(t):t[0]}function u(){return function(){const e=d();if(s(a.If)){++n;const t=d();if(s(a.Else)){++n;const a=d();return new f(t,[e],[a])}return new P(e,t)}return e}()}function d(){let t=h();for(;s(a.Or);){const a=e[n];++n;const r=h();t=new I(a,t,r)}return t}function h(){let t=w();for(;s(a.And);){const a=e[n];++n;const r=w();t=new I(a,t,r)}return t}function w(){let t;for(;s(a.Not);){const a=e[n];++n;const r=w();t=new O(a,r)}return null!==t&&void 0!==t?t:function(){let t=T();for(;s(a.ComparisonBinaryOperator)||s(a.In)||s(a.NotIn);){const a=e[n];++n;const r=T();t=new I(a,t,r)}return t}()}function T(){let t=U();for(;s(a.AdditiveBinaryOperator);){const a=e[n];++n;const r=U();t=new I(a,t,r)}return t}function R(e){let t=new x(e,j());return t=q(t),s(a.OpenParen)&&(t=R(t)),t}function j(){r(a.OpenParen,"Expected opening parenthesis for arguments list");const e=function(){const e=[];for(;!s(a.CloseParen);){let t=u();if(s(a.Equals)){if(++n,!(t instanceof k))throw new SyntaxError("Expected identifier for keyword argument");const e=u();t=new L(t,e)}e.push(t),s(a.Comma)&&++n}return e}();return r(a.CloseParen,"Expected closing parenthesis for arguments list"),e}function V(){const e=[];let t=!1;for(;!s(a.CloseSquareBracket);)s(a.Colon)?(e.push(void 0),++n,t=!0):(e.push(u()),s(a.Colon)&&(++n,t=!0));if(0===e.length)throw new SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new B(...e)}return e[0]}function q(t){for(;s(a.Dot)||s(a.OpenSquareBracket);){const i=e[n];let o;++n;const s=i.type!==a.Dot;if(s)o=V(),r(a.CloseSquareBracket,"Expected closing square bracket");else if(o=H(),"Identifier"!==o.type)throw new SyntaxError("Expected identifier following dot operator");t=new _(t,o,s)}return t}function U(){let t=G();for(;s(a.MultiplicativeBinaryOperator);){const a=e[n];++n;const r=G();t=new I(a,t,r)}return t}function G(){let e=function(){let e=function(){const e=q(H());return s(a.OpenParen)?R(e):e}();for(;s(a.Pipe);){++n;let t=H();if(!(t instanceof k))throw new SyntaxError("Expected identifier for the filter");s(a.OpenParen)&&(t=R(t)),e=new z(e,t)}return e}();for(;s(a.Is);){++n;const t=s(a.Not);t&&++n;let r=H();if(r instanceof C?r=new k(r.value.toString()):r instanceof S&&(r=new k("none")),!(r instanceof k))throw new SyntaxError("Expected identifier for the test");e=new N(e,t,r)}return e}function H(){const t=e[n];switch(t.type){case a.NumericLiteral:return++n,new D(Number(t.value));case a.StringLiteral:return++n,new A(t.value);case a.BooleanLiteral:return++n,new C("true"===t.value.toLowerCase());case a.NullLiteral:return++n,new S(null);case a.Identifier:return++n,new k(t.value);case a.OpenParen:{++n;const t=c();if(e[n].type!==a.CloseParen)throw new SyntaxError("Expected closing parenthesis, got ".concat(e[n].type," instead"));return++n,t}case a.OpenSquareBracket:{++n;const e=[];for(;!s(a.CloseSquareBracket);)e.push(u()),s(a.Comma)&&++n;return++n,new E(e)}case a.OpenCurlyBracket:{++n;const e=new Map;for(;!s(a.CloseCurlyBracket);){const t=u();r(a.Colon,"Expected colon between key and value in object literal");const i=u();e.set(t,i),s(a.Comma)&&++n}return++n,new M(e)}default:throw new SyntaxError("Unexpected token: ".concat(t.type))}}for(;n<e.length;)t.body.push(i());return t}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===t&&(t=e,e=0);const a=[];for(let r=e;r<t;r+=n)a.push(r);return a}function V(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=Math.sign(a);r>=0?(t=(null!==t&&void 0!==t?t:t=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),n=(null!==n&&void 0!==n?n:n=e.length)<0?Math.max(e.length+n,0):Math.min(n,e.length)):(t=(null!==t&&void 0!==t?t:t=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),n=(null!==n&&void 0!==n?n:n=-1)<-1?Math.max(e.length+n,-1):Math.min(n,e.length-1));const i=[];for(let o=t;r*o<r*n;o+=a)i.push(e[o]);return i}function q(e){return e.replace(/\b\w/g,(e=>e.toUpperCase()))}var U=class extends Error{},G=class extends Error{},H=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;l(this,"type","RuntimeValue"),l(this,"value",void 0),l(this,"builtins",new Map),this.value=e}__bool__(){return new Y(!!this.value)}},W=class extends H{constructor(){super(...arguments),l(this,"type","NumericValue")}},K=class extends H{constructor(){super(...arguments),l(this,"type","StringValue"),l(this,"builtins",new Map([["upper",new Q((()=>new K(this.value.toUpperCase())))],["lower",new Q((()=>new K(this.value.toLowerCase())))],["strip",new Q((()=>new K(this.value.trim())))],["title",new Q((()=>new K(q(this.value))))],["length",new W(this.value.length)],["rstrip",new Q((()=>new K(this.value.trimEnd())))],["lstrip",new Q((()=>new K(this.value.trimStart())))],["startswith",new Q((e=>{if(0===e.length)throw new Error("startswith() requires at least one argument");const t=e[0];if(!(t instanceof K))throw new Error("startswith() argument must be a string");return new Y(this.value.startsWith(t.value))}))],["endswith",new Q((e=>{if(0===e.length)throw new Error("endswith() requires at least one argument");const t=e[0];if(!(t instanceof K))throw new Error("endswith() argument must be a string");return new Y(this.value.endsWith(t.value))}))],["split",new Q((e=>{var t,n;const a=null!==(t=e[0])&&void 0!==t?t:new ee;if(!(a instanceof K||a instanceof ee))throw new Error("sep argument must be a string or null");const r=null!==(n=e[1])&&void 0!==n?n:new W(-1);if(!(r instanceof W))throw new Error("maxsplit argument must be a number");let i=[];if(a instanceof ee){const e=this.value.trimStart();for(const{0:t,index:n}of e.matchAll(/\S+/g)){if(-1!==r.value&&i.length>=r.value&&void 0!==n){i.push(t+e.slice(n+t.length));break}i.push(t)}}else{if(""===a.value)throw new Error("empty separator");i=this.value.split(a.value),-1!==r.value&&i.length>r.value&&i.push(i.splice(r.value).join(a.value))}return new X(i.map((e=>new K(e))))}))]]))}},Y=class extends H{constructor(){super(...arguments),l(this,"type","BooleanValue")}},J=class extends H{constructor(){super(...arguments),l(this,"type","ObjectValue"),l(this,"builtins",new Map([["get",new Q((e=>{var t,n;let[a,r]=e;if(!(a instanceof K))throw new Error("Object key must be a string: got ".concat(a.type));return null!==(t=null!==(n=this.value.get(a.value))&&void 0!==n?n:r)&&void 0!==t?t:new ee}))],["items",new Q((()=>new X(Array.from(this.value.entries()).map((e=>{let[t,n]=e;return new X([new K(t),n])})))))]]))}__bool__(){return new Y(this.value.size>0)}},Z=class extends J{constructor(){super(...arguments),l(this,"type","KeywordArgumentsValue")}},X=class extends H{constructor(){super(...arguments),l(this,"type","ArrayValue"),l(this,"builtins",new Map([["length",new W(this.value.length)]]))}__bool__(){return new Y(this.value.length>0)}},$=class extends X{constructor(){super(...arguments),l(this,"type","TupleValue")}},Q=class extends H{constructor(){super(...arguments),l(this,"type","FunctionValue")}},ee=class extends H{constructor(){super(...arguments),l(this,"type","NullValue")}},te=class extends H{constructor(){super(...arguments),l(this,"type","UndefinedValue")}},ne=class{constructor(e){l(this,"variables",new Map([["namespace",new Q((e=>{if(0===e.length)return new J(new Map);if(1!==e.length||!(e[0]instanceof J))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]}))]])),l(this,"tests",new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof Q],["odd",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "odd" to type: '.concat(e.type));return e.value%2!==0}],["even",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "even" to type: '.concat(e.type));return e.value%2===0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["none",e=>"NullValue"===e.type],["string",e=>"StringValue"===e.type],["number",e=>"NumericValue"===e.type],["integer",e=>"NumericValue"===e.type&&Number.isInteger(e.value)],["iterable",e=>"ArrayValue"===e.type||"StringValue"===e.type],["mapping",e=>"ObjectValue"===e.type],["lower",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value],["eq",(e,t)=>e.value===t.value]])),this.parent=e}set(e,t){return this.declareVariable(e,re(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError("Variable already declared: ".concat(e));return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error("Unknown variable: ".concat(e))}lookupVariable(e){try{var t;return null!==(t=this.resolve(e).variables.get(e))&&void 0!==t?t:new te}catch(n){return new te}}},ae=class{constructor(e){l(this,"global",void 0),this.global=null!==e&&void 0!==e?e:new ne}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const n=this.evaluate(e.left,t);switch(e.operator.value){case"and":return n.__bool__().value?this.evaluate(e.right,t):n;case"or":return n.__bool__().value?n:this.evaluate(e.right,t)}const a=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new Y(n.value==a.value);case"!=":return new Y(n.value!=a.value)}if(n instanceof te||a instanceof te)throw new Error("Cannot perform operation on undefined values");if(n instanceof ee||a instanceof ee)throw new Error("Cannot perform operation on null values");if(n instanceof W&&a instanceof W)switch(e.operator.value){case"+":return new W(n.value+a.value);case"-":return new W(n.value-a.value);case"*":return new W(n.value*a.value);case"/":return new W(n.value/a.value);case"%":return new W(n.value%a.value);case"<":return new Y(n.value<a.value);case">":return new Y(n.value>a.value);case">=":return new Y(n.value>=a.value);case"<=":return new Y(n.value<=a.value)}else if(n instanceof X&&a instanceof X){if("+"===e.operator.value)return new X(n.value.concat(a.value))}else if(a instanceof X){const t=void 0!==a.value.find((e=>e.value===n.value));switch(e.operator.value){case"in":return new Y(t);case"not in":return new Y(!t)}}if((n instanceof K||a instanceof K)&&"+"===e.operator.value)return new K(n.value.toString()+a.value.toString());if(n instanceof K&&a instanceof K)switch(e.operator.value){case"in":return new Y(a.value.includes(n.value));case"not in":return new Y(!a.value.includes(n.value))}if(n instanceof K&&a instanceof J)switch(e.operator.value){case"in":return new Y(a.value.has(n.value));case"not in":return new Y(!a.value.has(n.value))}throw new SyntaxError('Unknown operator "'.concat(e.operator.value,'" between ').concat(n.type," and ").concat(a.type))}evaluateArguments(e,t){const n=[],a=new Map;for(const r of e)if("KeywordArgumentExpression"===r.type){const e=r;a.set(e.key.value,this.evaluate(e.value,t))}else{if(a.size>0)throw new Error("Positional arguments must come before keyword arguments");n.push(this.evaluate(r,t))}return[n,a]}evaluateFilterExpression(e,t){const n=this.evaluate(e.operand,t);if("Identifier"===e.filter.type){const t=e.filter;if("tojson"===t.value)return new K(ie(n));if(n instanceof X)switch(t.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new W(n.value.length);case"reverse":return new X(n.value.reverse());case"sort":return new X(n.value.sort(((e,t)=>{if(e.type!==t.type)throw new Error("Cannot compare different types: ".concat(e.type," and ").concat(t.type));switch(e.type){case"NumericValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw new Error("Cannot compare type: ".concat(e.type))}})));case"join":return new K(n.value.map((e=>e.value)).join(""));case"string":return new K(ie(n));default:throw new Error("Unknown ArrayValue filter: ".concat(t.value))}else if(n instanceof K)switch(t.value){case"length":return new W(n.value.length);case"upper":return new K(n.value.toUpperCase());case"lower":return new K(n.value.toLowerCase());case"title":return new K(q(n.value));case"capitalize":return new K(n.value.charAt(0).toUpperCase()+n.value.slice(1));case"trim":return new K(n.value.trim());case"indent":return new K(n.value.split("\n").map(((e,t)=>0===t||0===e.length?e:"    "+e)).join("\n"));case"join":case"string":return n;default:throw new Error("Unknown StringValue filter: ".concat(t.value))}else{if(n instanceof W){if("abs"===t.value)return new W(Math.abs(n.value));throw new Error("Unknown NumericValue filter: ".concat(t.value))}if(n instanceof J)switch(t.value){case"items":return new X(Array.from(n.value.entries()).map((e=>{let[t,n]=e;return new X([new K(t),n])})));case"length":return new W(n.value.size);default:throw new Error("Unknown ObjectValue filter: ".concat(t.value))}}throw new Error('Cannot apply filter "'.concat(t.value,'" to type: ').concat(n.type))}if("CallExpression"===e.filter.type){const h=e.filter;if("Identifier"!==h.callee.type)throw new Error("Unknown filter: ".concat(h.callee.type));const p=h.callee.value;if("tojson"===p){var a;const[,e]=this.evaluateArguments(h.args,t),r=null!==(a=e.get("indent"))&&void 0!==a?a:new ee;if(!(r instanceof W||r instanceof ee))throw new Error("If set, indent must be a number");return new K(ie(n,r.value))}if("join"===p){var r,i;let e;if(n instanceof K)e=Array.from(n.value);else{if(!(n instanceof X))throw new Error('Cannot apply filter "'.concat(p,'" to type: ').concat(n.type));e=n.value.map((e=>e.value))}const[a,o]=this.evaluateArguments(h.args,t),s=null!==(r=null!==(i=a.at(0))&&void 0!==i?i:o.get("separator"))&&void 0!==r?r:new K("");if(!(s instanceof K))throw new Error("separator must be a string");return new K(e.join(s.value))}if(n instanceof X){switch(p){case"selectattr":case"rejectattr":{const e="selectattr"===p;if(n.value.some((e=>!(e instanceof J))))throw new Error("`".concat(p,"` can only be applied to array of objects"));if(h.args.some((e=>"StringLiteral"!==e.type)))throw new Error("arguments of `".concat(p,"` must be strings"));const[a,r,i]=h.args.map((e=>this.evaluate(e,t)));let o;if(r){const e=t.tests.get(r.value);if(!e)throw new Error("Unknown test: ".concat(r.value));o=e}else o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].__bool__().value};const s=n.value.filter((t=>{const n=t.value.get(a.value),r=!!n&&o(n,i);return e?r:!r}));return new X(s)}case"map":{const[,e]=this.evaluateArguments(h.args,t);if(e.has("attribute")){const t=e.get("attribute");if(!(t instanceof K))throw new Error("attribute must be a string");const a=e.get("default"),r=n.value.map((e=>{var n,r;if(!(e instanceof J))throw new Error("items in map must be an object");return null!==(n=null!==(r=e.value.get(t.value))&&void 0!==r?r:a)&&void 0!==n?n:new te}));return new X(r)}throw new Error("`map` expressions without `attribute` set are not currently supported.")}}throw new Error("Unknown ArrayValue filter: ".concat(p))}if(n instanceof K){if("indent"===p){var o,s,l,c,u,d;const[e,a]=this.evaluateArguments(h.args,t),r=null!==(o=null!==(s=e.at(0))&&void 0!==s?s:a.get("width"))&&void 0!==o?o:new W(4);if(!(r instanceof W))throw new Error("width must be a number");const i=null!==(l=null!==(c=e.at(1))&&void 0!==c?c:a.get("first"))&&void 0!==l?l:new Y(!1),p=null!==(u=null!==(d=e.at(2))&&void 0!==d?d:a.get("blank"))&&void 0!==u?u:new Y(!1),f=n.value.split("\n"),m=" ".repeat(r.value),g=f.map(((e,t)=>!i.value&&0===t||!p.value&&0===e.length?e:m+e));return new K(g.join("\n"))}throw new Error("Unknown StringValue filter: ".concat(p))}throw new Error('Cannot apply filter "'.concat(p,'" to type: ').concat(n.type))}throw new Error("Unknown filter: ".concat(e.filter.type))}evaluateTestExpression(e,t){const n=this.evaluate(e.operand,t),a=t.tests.get(e.test.value);if(!a)throw new Error("Unknown test: ".concat(e.test.value));const r=a(n);return new Y(e.negate?!r:r)}evaluateUnaryExpression(e,t){const n=this.evaluate(e.argument,t);if("not"===e.operator.value)return new Y(!n.value);throw new SyntaxError("Unknown operator: ".concat(e.operator.value))}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let n="";for(const a of e){const e=this.evaluate(a,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(n+=e.value)}return new K(n)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const[n,a]=this.evaluateArguments(e.args,t);a.size>0&&n.push(new Z(a));const r=this.evaluate(e.callee,t);if("FunctionValue"!==r.type)throw new Error("Cannot call something that is not a function: got ".concat(r.type));return r.value(n,t)}evaluateSliceExpression(e,t,n){if(!(e instanceof X||e instanceof K))throw new Error("Slice object must be an array or string");const a=this.evaluate(t.start,n),r=this.evaluate(t.stop,n),i=this.evaluate(t.step,n);if(!(a instanceof W||a instanceof te))throw new Error("Slice start must be numeric or undefined");if(!(r instanceof W||r instanceof te))throw new Error("Slice stop must be numeric or undefined");if(!(i instanceof W||i instanceof te))throw new Error("Slice step must be numeric or undefined");return e instanceof X?new X(V(e.value,a.value,r.value,i.value)):new K(V(Array.from(e.value),a.value,r.value,i.value).join(""))}evaluateMemberExpression(e,t){const n=this.evaluate(e.object,t);let a,r;if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(n,e.property,t);a=this.evaluate(e.property,t)}else a=new K(e.property.value);if(n instanceof J){var i;if(!(a instanceof K))throw new Error("Cannot access property with non-string: got ".concat(a.type));r=null!==(i=n.value.get(a.value))&&void 0!==i?i:n.builtins.get(a.value)}else if(n instanceof X||n instanceof K)if(a instanceof W)r=n.value.at(a.value),n instanceof K&&(r=new K(n.value.at(a.value)));else{if(!(a instanceof K))throw new Error("Cannot access property with non-string/non-number: got ".concat(a.type));r=n.builtins.get(a.value)}else{if(!(a instanceof K))throw new Error("Cannot access property with non-string: got ".concat(a.type));r=n.builtins.get(a.value)}return r instanceof H?r:new te}evaluateSet(e,t){const n=e.value?this.evaluate(e.value,t):this.evaluateBlock(e.body,t);if("Identifier"===e.assignee.type){const a=e.assignee.value;t.setVariable(a,n)}else{if("MemberExpression"!==e.assignee.type)throw new Error("Invalid LHS inside assignment expression: ".concat(JSON.stringify(e.assignee)));{const a=e.assignee,r=this.evaluate(a.object,t);if(!(r instanceof J))throw new Error("Cannot assign to member of non-object");if("Identifier"!==a.property.type)throw new Error("Cannot assign to member with non-identifier property");r.value.set(a.property.value,n)}}return new ee}evaluateIf(e,t){const n=this.evaluate(e.test,t);return this.evaluateBlock(n.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const n=new ne(t);let a,r;if("SelectExpression"===e.iterable.type){const t=e.iterable;r=this.evaluate(t.iterable,n),a=t.test}else r=this.evaluate(e.iterable,n);if(!(r instanceof X))throw new Error("Expected iterable type in for loop: got ".concat(r.type));const i=[],o=[];for(let u=0;u<r.value.length;++u){const t=new ne(n),s=r.value[u];let l;if("Identifier"===e.loopvar.type)l=t=>t.setVariable(e.loopvar.value,s);else{if("TupleLiteral"!==e.loopvar.type)throw new Error("Invalid loop variable(s): ".concat(e.loopvar.type));{const t=e.loopvar;if("ArrayValue"!==s.type)throw new Error("Cannot unpack non-iterable type: ".concat(s.type));const n=s;if(t.value.length!==n.value.length)throw new Error("Too ".concat(t.value.length>n.value.length?"few":"many"," items to unpack"));l=e=>{for(let a=0;a<t.value.length;++a){if("Identifier"!==t.value[a].type)throw new Error("Cannot unpack non-identifier type: ".concat(t.value[a].type));e.setVariable(t.value[a].value,n.value[a])}}}}if(a){l(t);if(!this.evaluate(a,t).__bool__().value)continue}i.push(s),o.push(l)}let s="",l=!0;for(let u=0;u<i.length;++u){const t=new Map([["index",new W(u+1)],["index0",new W(u)],["revindex",new W(i.length-u)],["revindex0",new W(i.length-u-1)],["first",new Y(0===u)],["last",new Y(u===i.length-1)],["length",new W(i.length)],["previtem",u>0?i[u-1]:new te],["nextitem",u<i.length-1?i[u+1]:new te]]);n.setVariable("loop",new J(t)),o[u](n);try{s+=this.evaluateBlock(e.body,n).value}catch(c){if(c instanceof G)continue;if(c instanceof U)break;throw c}l=!1}if(l){s+=this.evaluateBlock(e.defaultBlock,n).value}return new K(s)}evaluateMacro(e,t){return t.setVariable(e.name.value,new Q(((t,n)=>{var a;const r=new ne(n);let i;"KeywordArgumentsValue"===(null===(a=(t=t.slice()).at(-1))||void 0===a?void 0:a.type)&&(i=t.pop());for(let l=0;l<e.args.length;++l){const n=e.args[l],a=t[l];if("Identifier"===n.type){const e=n;if(!a)throw new Error("Missing positional argument: ".concat(e.value));r.setVariable(e.value,a)}else{if("KeywordArgumentExpression"!==n.type)throw new Error("Unknown argument type: ".concat(n.type));{var o,s;const e=n,t=null!==(o=null!==a&&void 0!==a?a:null===(s=i)||void 0===s?void 0:s.value.get(e.key.value))&&void 0!==o?o:this.evaluate(e.value,r);r.setVariable(e.key.value,t)}}}return this.evaluateBlock(e.body,r)}))),new ee}evaluate(e,t){if(void 0===e)return new te;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"Macro":return this.evaluateMacro(e,t);case"Break":throw new U;case"Continue":throw new G;case"NumericLiteral":return new W(Number(e.value));case"StringLiteral":return new K(e.value);case"BooleanLiteral":return new Y(e.value);case"NullLiteral":return new ee(e.value);case"ArrayLiteral":return new X(e.value.map((e=>this.evaluate(e,t))));case"TupleLiteral":return new $(e.value.map((e=>this.evaluate(e,t))));case"ObjectLiteral":{const n=new Map;for(const[a,r]of e.value){const e=this.evaluate(a,t);if(!(e instanceof K))throw new Error("Object keys must be strings: got ".concat(e.type));n.set(e.value,this.evaluate(r,t))}return new J(n)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);default:throw new SyntaxError("Unknown node type: ".concat(e.type))}}};function re(e){switch(typeof e){case"number":return new W(e);case"string":return new K(e);case"boolean":return new Y(e);case"undefined":return new te;case"object":return null===e?new ee:Array.isArray(e)?new X(e.map(re)):new J(new Map(Object.entries(e).map((e=>{let[t,n]=e;return[t,re(n)]}))));case"function":return new Q(((t,n)=>{var a;const r=null!==(a=e(...t.map((e=>e.value))))&&void 0!==a?a:null;return re(r)}));default:throw new Error("Cannot convert to runtime value: ".concat(e))}}function ie(e,t,n){const a=null!==n&&void 0!==n?n:0;switch(e.type){case"NullValue":case"UndefinedValue":return"null";case"NumericValue":case"StringValue":case"BooleanValue":return JSON.stringify(e.value);case"ArrayValue":case"ObjectValue":{const n=t?" ".repeat(t):"",r="\n"+n.repeat(a),i=r+n;if("ArrayValue"===e.type){const n=e.value.map((e=>ie(e,t,a+1)));return t?"[".concat(i).concat(n.join(",".concat(i))).concat(r,"]"):"[".concat(n.join(", "),"]")}{const n=Array.from(e.value.entries()).map((e=>{let[n,r]=e;const o='"'.concat(n,'": ').concat(ie(r,t,a+1));return t?"".concat(i).concat(o):o}));return t?"{".concat(n.join(",")).concat(r,"}"):"{".concat(n.join(", "),"}")}}default:throw new Error("Cannot convert to JSON: ".concat(e.type))}}var oe="\n",se={MultiplicativeBinaryOperator:2,AdditiveBinaryOperator:1,ComparisonBinaryOperator:0};function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"{%- "+t.join(" ")+" -%}"}function ce(e,t,n){return e.map((e=>function(e,t,n){const a=n.repeat(t);switch(e.type){case"Program":return ce(e.body,t,n);case"If":return function(e,t,n){const a=n.repeat(t),r=[];let i=e;for(;i&&(r.push({test:i.test,body:i.body}),1===i.alternate.length&&"If"===i.alternate[0].type);)i=i.alternate[0];let o=a+le("if",ue(r[0].test))+oe+ce(r[0].body,t+1,n);for(let s=1;s<r.length;s++)o+=oe+a+le("elif",ue(r[s].test))+oe+ce(r[s].body,t+1,n);i&&i.alternate.length>0&&(o+=oe+a+le("else")+oe+ce(i.alternate,t+1,n));return o+=oe+a+le("endif"),o}(e,t,n);case"For":return function(e,t,n){const a=n.repeat(t);let r="";if("SelectExpression"===e.iterable.type){const t=e.iterable;r="".concat(ue(t.iterable)," if ").concat(ue(t.test))}else r=ue(e.iterable);let i=a+le("for",ue(e.loopvar),"in",r)+oe+ce(e.body,t+1,n);e.defaultBlock.length>0&&(i+=oe+a+le("else")+oe+ce(e.defaultBlock,t+1,n));return i+=oe+a+le("endfor"),i}(e,t,n);case"Set":return function(e,t,n){const a=n.repeat(t),r=ue(e.assignee),i=e.value?ue(e.value):"",o=a+le("set","".concat(r).concat(e.value?" = "+i:""));if(0===e.body.length)return o;return o+oe+ce(e.body,t+1,n)+oe+a+le("endset")}(e,t,n);case"Macro":return function(e,t,n){const a=n.repeat(t),r=e.args.map(ue).join(", ");return a+le("macro","".concat(e.name.value,"(").concat(r,")"))+oe+ce(e.body,t+1,n)+oe+a+le("endmacro")}(e,t,n);case"Break":return a+le("break");case"Continue":return a+le("continue");default:return a+"{{- "+ue(e)+" -}}"}}(e,t,n))).join(oe)}function ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;switch(e.type){case"Identifier":return e.value;case"NullLiteral":return"none";case"NumericLiteral":case"BooleanLiteral":return"".concat(e.value);case"StringLiteral":return JSON.stringify(e.value);case"BinaryExpression":{var n;const a=e,r=null!==(n=se[a.operator.type])&&void 0!==n?n:0,i=ue(a.left,r),o=ue(a.right,r+1),s="".concat(i," ").concat(a.operator.value," ").concat(o);return r<t?"(".concat(s,")"):s}case"UnaryExpression":{const t=e;return t.operator.value+("not"===t.operator.value?" ":"")+ue(t.argument,1/0)}case"LogicalNegationExpression":return"not ".concat(ue(e.argument,1/0));case"CallExpression":{const t=e,n=t.args.map((e=>ue(e,-1))).join(", ");return"".concat(ue(t.callee,-1),"(").concat(n,")")}case"MemberExpression":{const t=e;let n=ue(t.object,-1);"Identifier"!==t.object.type&&(n="(".concat(n,")"));let a=ue(t.property,-1);return t.computed||"Identifier"===t.property.type||(a="(".concat(a,")")),t.computed?"".concat(n,"[").concat(a,"]"):"".concat(n,".").concat(a)}case"FilterExpression":{const t=e,n=ue(t.operand,1/0);return"CallExpression"===t.filter.type?"".concat(n," | ").concat(ue(t.filter,-1)):"".concat(n," | ").concat(t.filter.value)}case"SelectExpression":{const t=e;return"".concat(ue(t.iterable,-1)," | select(").concat(ue(t.test,-1),")")}case"TestExpression":{const t=e;return"".concat(ue(t.operand,-1)," is").concat(t.negate?" not":""," ").concat(t.test.value)}case"ArrayLiteral":case"TupleLiteral":{const t=e.value.map((e=>ue(e,-1))),n="ArrayLiteral"===e.type?"[]":"()";return"".concat(n[0]).concat(t.join(", ")).concat(n[1])}case"ObjectLiteral":{const t=Array.from(e.value.entries()).map((e=>{let[t,n]=e;return"".concat(ue(t,-1),": ").concat(ue(n,-1))}));return"{ ".concat(t.join(", ")," }")}case"SliceExpression":{const t=e,n=t.start?ue(t.start,-1):"",a=t.stop?ue(t.stop,-1):"",r=t.step?":".concat(ue(t.step,-1)):"";return"".concat(n,":").concat(a).concat(r)}case"KeywordArgumentExpression":{const t=e;return"".concat(t.key.value,"=").concat(ue(t.value,-1))}case"If":{const t=e,n=ue(t.test,-1),a=ue(t.body[0],0),r=ue(t.alternate[0],-1);return"".concat(a," if ").concat(n," else ").concat(r)}default:throw new Error("Unknown expression type: ".concat(e.type))}}var de=class{constructor(e){l(this,"parsed",void 0);const t=d(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=R(t)}render(e){const t=new ne;if(t.set("false",!1),t.set("true",!0),t.set("raise_exception",(e=>{throw new Error(e)})),t.set("range",j),e)for(const[n,a]of Object.entries(e))t.set(n,a);return new ae(t).run(this.parsed).value}format(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t";const n="number"===typeof t?" ".repeat(t):t;return ce(e.body,0,n).replace(/\n$/,"")}(this.parsed,(null===e||void 0===e?void 0:e.indent)||"\t")}}},"./src/backends/onnx.js":(e,t,n)=>{var a,r;n.r(t),n.d(t,{Tensor:()=>l.Tensor,createInferenceSession:()=>y,deviceToExecutionProviders:()=>m,isONNXProxy:()=>w,isONNXTensor:()=>b});var i=n("./src/env.js"),o=n("?2ce3"),s=n("onnxruntime-web"),l=n("onnxruntime-common");const c=Object.freeze({auto:null,gpu:null,cpu:"cpu",wasm:"wasm",webgpu:"webgpu",cuda:"cuda",dml:"dml",webnn:{name:"webnn",deviceType:"cpu"},"webnn-npu":{name:"webnn",deviceType:"npu"},"webnn-gpu":{name:"webnn",deviceType:"gpu"},"webnn-cpu":{name:"webnn",deviceType:"cpu"}}),u=[];let d,h;const p=Symbol.for("onnxruntime");if(p in globalThis)h=globalThis[p];else if(i.apis.IS_NODE_ENV){switch(h=null!==o&&void 0!==o?o:r||(r=n.t(o,2)),process.platform){case"win32":u.push("dml");break;case"linux":"x64"===process.arch&&u.push("cuda")}u.push("cpu"),d=["cpu"]}else h=s,i.apis.IS_WEBNN_AVAILABLE&&u.push("webnn-npu","webnn-gpu","webnn-cpu","webnn"),i.apis.IS_WEBGPU_AVAILABLE&&u.push("webgpu"),u.push("wasm"),d=["wasm"];const f=h.InferenceSession;function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return d;switch(e){case"auto":return u;case"gpu":return u.filter((e=>["webgpu","cuda","dml","webnn-gpu"].includes(e)))}var t;if(u.includes(e))return[null!==(t=c[e])&&void 0!==t?t:e];throw new Error('Unsupported device: "'.concat(e,'". Should be one of: ').concat(u.join(", "),"."))}let g=null;async function y(e,t,n){g&&await g;const a=f.create(e,t);null!==g&&void 0!==g||(g=a);const r=await a;return r.config=n,r}function b(e){return e instanceof h.Tensor}const v=null===(a=h)||void 0===a?void 0:a.env;function w(){var e;return null===v||void 0===v||null===(e=v.wasm)||void 0===e?void 0:e.proxy}null!==v&&void 0!==v&&v.wasm&&("undefined"!==typeof ServiceWorkerGlobalScope&&self instanceof ServiceWorkerGlobalScope||v.wasm.wasmPaths||(v.wasm.wasmPaths="https://cdn.jsdelivr.net/npm/@huggingface/transformers@".concat(i.env.version,"/dist/")),v.wasm.proxy=!1),null!==v&&void 0!==v&&v.webgpu&&(v.webgpu.powerPreference="high-performance"),i.env.backends.onnx=v},"./src/base/feature_extraction_utils.js":(e,t,n)=>{n.r(t),n.d(t,{FeatureExtractor:()=>o,validate_audio_inputs:()=>s});var a=n("./src/utils/constants.js"),r=n("./src/utils/generic.js"),i=n("./src/utils/hub.js");class o extends r.Callable{constructor(e){super(),this.config=e}static async from_pretrained(e,t){return new this(await(0,i.getModelJSON)(e,a.FEATURE_EXTRACTOR_NAME,!0,t))}}function s(e,t){var n,a;if(!(e instanceof Float32Array||e instanceof Float64Array))throw new Error("".concat(t," expects input to be a Float32Array or a Float64Array, but got ").concat(null!==(n=null===e||void 0===e||null===(a=e.constructor)||void 0===a?void 0:a.name)&&void 0!==n?n:typeof e," instead. ")+"If using the feature extractor directly, remember to use `read_audio(url, sampling_rate)` to obtain the raw audio data of the file/url.")}},"./src/base/image_processors_utils.js":(e,t,n)=>{n.r(t),n.d(t,{ImageProcessor:()=>v,center_to_corners_format:()=>d,post_process_instance_segmentation:()=>b,post_process_object_detection:()=>h,post_process_panoptic_segmentation:()=>y,post_process_semantic_segmentation:()=>p});var a=n("./src/utils/generic.js"),r=n("./src/utils/tensor.js"),i=n("./src/utils/maths.js"),o=(n("./src/utils/image.js"),n("./src/utils/core.js")),s=n("./src/utils/hub.js"),l=n("./src/utils/constants.js");function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=e/t;let o=(0,i.bankers_round)(r)*t;return null!==a&&o>a&&(o=Math.floor(r)*t),o<n&&(o=Math.ceil(r)*t),o}function u(e,t){let[n,a]=e;return[Math.max(Math.floor(n/t),1)*t,Math.max(Math.floor(a/t),1)*t]}function d(e){let[t,n,a,r]=e;return[t-a/2,n-r/2,t+a/2,n+r/2]}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.logits,o=e.pred_boxes,[s,l,c]=r.dims;if(null!==n&&n.length!==s)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let u=[];for(let h=0;h<s;++h){let e=null!==n?n[h]:null,s={boxes:[],classes:[],scores:[]},p=r[h],f=o[h];for(let n=0;n<l;++n){let r,o=p[n],l=[];if(a){r=o.sigmoid().data;for(let e=0;e<r.length;++e)r[e]>t&&l.push(e)}else{let e=(0,i.max)(o.data)[1];if(e===c-1)continue;if(r=(0,i.softmax)(o.data),r[e]<t)continue;l.push(e)}for(const t of l){let a=f[n].data;a=d(a),null!==e&&(a=a.map(((t,n)=>t*e[(n+1)%2]))),s.boxes.push(a),s.classes.push(t),s.scores.push(r[t])}}u.push(s)}return u}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.logits,a=n.dims[0];if(null!==t&&t.length!==a)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const i=[];for(let o=0;o<a;++o){const e=null!==t?t[o]:null;let a=n[o];null!==e&&(a=(0,r.interpolate)(a,e,"bilinear",!1));const[s,l]=null!==e&&void 0!==e?e:a.dims.slice(-2),c=new r.Tensor("int32",new Int32Array(s*l),[s,l]),u=a[0].data,d=c.data;for(let t=1;t<a.dims[0];++t){const e=a[t].data;for(let n=0;n<e.length;++n)e[n]>u[n]&&(u[n]=e[n],d[n]=t)}const h=new Array(a.dims[0]);for(let t=0;t<d.length;++t){const e=d[t];h[e]=e}const p=h.filter((e=>void 0!==e));i.push({segmentation:c,labels:p})}return i}function f(e,t,n,a){const r=[],o=[],s=[];for(let l=0;l<e.dims[0];++l){const c=e[l],u=t[l],d=(0,i.max)(c.data)[1];if(d===a)continue;const h=(0,i.softmax)(c.data)[d];h>n&&(r.push(u),o.push(h),s.push(d))}return[r,o,s]}function m(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.8;const i=[];let o=0,s=0;const l=t[n].data;for(let u=0;u<e.length;++u)e[u]===n&&(i.push(u),++o),l[u]>=a&&++s;let c=o>0&&s>0;if(c){c=o/s>r}return[c,i]}function g(e,t,n,a,i){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const[s,l]=null!==o&&void 0!==o?o:e[0].dims,c=new r.Tensor("int32",new Int32Array(s*l),[s,l]),u=[];if(null!==o)for(let m=0;m<e.length;++m)e[m]=(0,r.interpolate)(e[m],o,"bilinear",!1);const d=new Int32Array(e[0].data.length),h=new Float32Array(e[0].data.length);for(let r=0;r<e.length;++r){let n=t[r];const a=e[r].data;for(let e=0;e<a.length;++e)a[e]*=n,a[e]>h[e]&&(d[e]=r,h[e]=a[e])}let p=0;const f=c.data;for(let r=0;r<n.length;++r){const o=n[r],[s,l]=m(d,e,r,a,i);if(s){++p;for(const e of l)f[e]=p;u.push({id:p,label_id:o,score:t[r]})}}return[c,u]}function y(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===s&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),s=new Set);const c=null!==(t=e.class_queries_logits)&&void 0!==t?t:e.logits,u=(null!==(n=e.masks_queries_logits)&&void 0!==n?n:e.pred_masks).sigmoid();let[d,h,p]=c.dims;if(p-=1,null!==l&&l.length!==d)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let m=[];for(let y=0;y<d;++y){let e=null!==l?l[y]:null,t=c[y],n=u[y],[d,h,b]=f(t,n,a,p);if(0===b.length){let[t,a]=null!==e&&void 0!==e?e:n.dims.slice(-2),i=new r.Tensor("int32",new Int32Array(t*a).fill(-1),[t,a]);m.push({segmentation:i,segments_info:[]});continue}let[v,w]=g(d,h,b,i,o,s,e);m.push({segmentation:v,segments_info:w})}return m}function b(e){throw new Error("`post_process_instance_segmentation` is not yet implemented.")}class v extends a.Callable{constructor(e){var t,n,a,r,i,o,s,l,c,u;super(),this.image_mean=null!==(t=e.image_mean)&&void 0!==t?t:e.mean,this.image_std=null!==(n=e.image_std)&&void 0!==n?n:e.std,this.resample=null!==(a=e.resample)&&void 0!==a?a:2,this.do_rescale=null===(r=e.do_rescale)||void 0===r||r,this.rescale_factor=null!==(i=e.rescale_factor)&&void 0!==i?i:1/255,this.do_normalize=e.do_normalize,this.do_thumbnail=e.do_thumbnail,this.size=null!==(o=e.size)&&void 0!==o?o:e.image_size,this.do_resize=null!==(s=e.do_resize)&&void 0!==s?s:void 0!==this.size,this.size_divisibility=null!==(l=e.size_divisibility)&&void 0!==l?l:e.size_divisor,this.do_center_crop=e.do_center_crop,this.crop_size=e.crop_size,this.do_convert_rgb=null===(c=e.do_convert_rgb)||void 0===c||c,this.do_crop_margin=e.do_crop_margin,this.pad_size=e.pad_size,this.do_pad=e.do_pad,this.min_pixels=e.min_pixels,this.max_pixels=e.max_pixels,this.do_pad&&!this.pad_size&&this.size&&void 0!==this.size.width&&void 0!==this.size.height&&(this.pad_size=this.size),this.do_flip_channel_order=null!==(u=e.do_flip_channel_order)&&void 0!==u&&u,this.config=e}async thumbnail(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const a=e.height,r=e.width,i=t.height,o=t.width;let s=Math.min(a,i),l=Math.min(r,o);return s===a&&l===r?e:(a>r?l=Math.floor(r*s/a):r>a&&(s=Math.floor(a*l/r)),await e.resize(l,s,{resample:n}))}async crop_margin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;const n=e.clone().grayscale(),a=(0,i.min)(n.data)[0],r=(0,i.max)(n.data)[0]-a;if(0===r)return e;const o=t/255;let s=n.width,l=n.height,c=0,u=0;const d=n.data;for(let i=0;i<n.height;++i){const e=i*n.width;for(let t=0;t<n.width;++t)(d[e+t]-a)/r<o&&(s=Math.min(s,t),l=Math.min(l,i),c=Math.max(c,t),u=Math.max(u,i))}return e=await e.crop([s,l,c,u])}pad_image(e,t,n){let{mode:a="constant",center:r=!1,constant_values:i=0}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[s,l,c]=t;let u,d;if("number"===typeof n?(u=n,d=n):"square"===n?u=d=Math.max(s,l):(u=n.width,d=n.height),u!==l||d!==s){const n=new Float32Array(u*d*c);if(Array.isArray(i))for(let e=0;e<n.length;++e)n[e]=i[e%c];else 0!==i&&n.fill(i);const[h,p]=r?[Math.floor((u-l)/2),Math.floor((d-s)/2)]:[0,0];for(let t=0;t<s;++t){const a=(t+p)*u,r=t*l;for(let t=0;t<l;++t){const i=(a+t+h)*c,o=(r+t)*c;for(let t=0;t<c;++t)n[i+t]=e[o+t]}}if("symmetric"===a){if(r)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const t=s-1,a=l-1;for(let r=0;r<d;++r){const i=r*u,d=(0,o.calculateReflectOffset)(r,t)*l;for(let t=0;t<u;++t){if(r<s&&t<l)continue;const u=(i+t)*c,h=(d+(0,o.calculateReflectOffset)(t,a))*c;for(let t=0;t<c;++t)n[u+t]=e[h+t]}}}e=n,t=[d,u,c]}return[e,t]}rescale(e){for(let t=0;t<e.length;++t)e[t]=this.rescale_factor*e[t]}get_resize_output_image_size(e,t){const[n,a]=e.size;let r,i;if(this.do_thumbnail){const{height:e,width:n}=t;r=Math.min(e,n)}else if(Number.isInteger(t)){var o;r=t,i=null!==(o=this.config.max_size)&&void 0!==o?o:r}else void 0!==t&&(r=t.shortest_edge,i=t.longest_edge);if(void 0!==r||void 0!==i){const e=void 0===r?1:Math.max(r/n,r/a),t=n*e,o=a*e,s=void 0===i?1:Math.min(i/t,i/o);let l=Math.floor(Number((t*s).toFixed(2))),c=Math.floor(Number((o*s).toFixed(2)));return void 0!==this.size_divisibility&&([l,c]=u([l,c],this.size_divisibility)),[l,c]}if(void 0!==t&&void 0!==t.width&&void 0!==t.height){let e=t.width,r=t.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let t=r/a,i=e/n;Math.abs(1-i)<Math.abs(1-t)?t=i:i=t,r=c(t*a,this.config.ensure_multiple_of),e=c(i*n,this.config.ensure_multiple_of)}return[e,r]}if(void 0!==this.size_divisibility)return u([n,a],this.size_divisibility);if(void 0!==this.min_pixels&&void 0!==this.max_pixels){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3136,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1003520;if(e<n||t<n)throw new Error("height:".concat(e," or width:").concat(t," must be larger than factor:").concat(n));if(Math.max(e,t)/Math.min(e,t)>200)throw new Error("absolute aspect ratio must be smaller than 200, got ".concat(Math.max(e,t)/Math.min(e,t)));let i=Math.round(e/n)*n,o=Math.round(t/n)*n;if(i*o>r){const a=Math.sqrt(e*t/r);i=Math.floor(e/a/n)*n,o=Math.floor(t/a/n)*n}else if(i*o<a){const r=Math.sqrt(a/(e*t));i=Math.ceil(e*r/n)*n,o=Math.ceil(t*r/n)*n}return[i,o]}(a,n,this.config.patch_size*this.config.merge_size,this.min_pixels,this.max_pixels)}throw new Error("Could not resize image due to unsupported `this.size` option in config: ".concat(JSON.stringify(t)))}async resize(e){const[t,n]=this.get_resize_output_image_size(e,this.size);return await e.resize(t,n,{resample:this.resample})}async preprocess(e){let{do_normalize:t=null,do_pad:n=null,do_convert_rgb:a=null,do_convert_grayscale:i=null,do_flip_channel_order:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.do_crop_margin&&(e=await this.crop_margin(e));const[s,l]=e.size;if((null!==a&&void 0!==a?a:this.do_convert_rgb)?e=e.rgb():i&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let t,n;Number.isInteger(this.crop_size)?(t=this.crop_size,n=this.crop_size):(t=this.crop_size.width,n=this.crop_size.height),e=await e.center_crop(t,n)}const c=[e.height,e.width];let d=Float32Array.from(e.data),h=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(d),null!==t&&void 0!==t?t:this.do_normalize){let t=this.image_mean;Array.isArray(this.image_mean)||(t=new Array(e.channels).fill(t));let n=this.image_std;if(Array.isArray(this.image_std)||(n=new Array(e.channels).fill(t)),t.length!==e.channels||n.length!==e.channels)throw new Error("When set to arrays, the length of `image_mean` (".concat(t.length,") and `image_std` (").concat(n.length,") must match the number of channels in the image (").concat(e.channels,")."));for(let a=0;a<d.length;a+=e.channels)for(let r=0;r<e.channels;++r)d[a+r]=(d[a+r]-t[r])/n[r]}if(null!==n&&void 0!==n?n:this.do_pad)if(this.pad_size){const t=this.pad_image(d,[e.height,e.width,e.channels],this.pad_size);[d,h]=t}else if(this.size_divisibility){const[e,t]=u([h[1],h[0]],this.size_divisibility);[d,h]=this.pad_image(d,h,{width:e,height:t})}if(null!==o&&void 0!==o?o:this.do_flip_channel_order){if(3!==h[2])throw new Error("Flipping channel order is only supported for RGB images.");for(let e=0;e<d.length;e+=3){const t=d[e];d[e]=d[e+2],d[e+2]=t}}return{original_size:[l,s],reshaped_input_size:c,pixel_values:new r.Tensor("float32",d,h).permute(2,0,1)}}async _call(e){Array.isArray(e)||(e=[e]);const t=await Promise.all(e.map((e=>this.preprocess(e)))),n=(0,r.stack)(t.map((e=>e.pixel_values)),0);return{pixel_values:n,original_sizes:t.map((e=>e.original_size)),reshaped_input_sizes:t.map((e=>e.reshaped_input_size))}}static async from_pretrained(e,t){return new this(await(0,s.getModelJSON)(e,l.IMAGE_PROCESSOR_NAME,!0,t))}}},"./src/base/processing_utils.js":(e,t,n)=>{n.r(t),n.d(t,{Processor:()=>o});var a=n("./src/utils/constants.js"),r=n("./src/utils/generic.js"),i=n("./src/utils/hub.js");class o extends r.Callable{constructor(e,t){super(),this.config=e,this.components=t}get image_processor(){return this.components.image_processor}get tokenizer(){return this.components.tokenizer}get feature_extractor(){return this.components.feature_extractor}apply_chat_template(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.tokenizer)throw new Error("Unable to apply chat template without a tokenizer.");return this.tokenizer.apply_chat_template(e,u({tokenize:!1},t))}batch_decode(){if(!this.tokenizer)throw new Error("Unable to decode without a tokenizer.");return this.tokenizer.batch_decode(...arguments)}decode(){if(!this.tokenizer)throw new Error("Unable to decode without a tokenizer.");return this.tokenizer.decode(...arguments)}async _call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(const r of[this.image_processor,this.feature_extractor,this.tokenizer])if(r)return r(e,...n);throw new Error("No image processor, feature extractor, or tokenizer found.")}static async from_pretrained(e,t){const[n,r]=await Promise.all([this.uses_processor_config?(0,i.getModelJSON)(e,a.PROCESSOR_NAME,!0,t):{},Promise.all(this.classes.filter((e=>e in this)).map((async n=>{const a=await this[n].from_pretrained(e,t);return[n.replace(/_class$/,""),a]}))).then(Object.fromEntries)]);return new this(n,r)}}l(o,"classes",["image_processor_class","tokenizer_class","feature_extractor_class"]),l(o,"uses_processor_config",!1)},"./src/configs.js":(e,t,n)=>{n.r(t),n.d(t,{AutoConfig:()=>c,PretrainedConfig:()=>s,getKeyValueShapes:()=>o});var a=n("./src/utils/core.js"),r=n("./src/utils/hub.js");function i(e){const t={};let n={};switch(e.model_type){case"llava":case"paligemma":case"gemma3":case"florence2":case"llava_onevision":case"idefics3":case"ultravox":case"smolvlm":n=i(e.text_config);break;case"moondream1":n=i(e.phi_config);break;case"musicgen":n=i(e.decoder);break;case"multi_modality":n=i(e.language_config);break;case"gpt2":case"gptj":case"jais":case"codegen":case"gpt_bigcode":t.num_heads="n_head",t.num_layers="n_layer",t.hidden_size="n_embd";break;case"gpt_neox":case"stablelm":case"opt":case"falcon":t.num_heads="num_attention_heads",t.num_layers="num_hidden_layers",t.hidden_size="hidden_size";break;case"llama":case"olmo":case"olmo2":case"mobilellm":case"granite":case"cohere":case"mistral":case"starcoder2":case"qwen2":case"qwen2_vl":case"phi":case"phi3":case"phi3_v":t.num_heads="num_key_value_heads",t.num_layers="num_hidden_layers",t.hidden_size="hidden_size",t.num_attention_heads="num_attention_heads";break;case"qwen3":case"gemma":case"gemma2":case"gemma3_text":case"glm":case"helium":t.num_heads="num_key_value_heads",t.num_layers="num_hidden_layers",t.dim_kv="head_dim";break;case"openelm":t.num_heads="num_kv_heads",t.num_layers="num_transformer_layers",t.dim_kv="head_dim";break;case"gpt_neo":case"donut-swin":t.num_heads="num_heads",t.num_layers="num_layers",t.hidden_size="hidden_size";break;case"bloom":t.num_heads="n_head",t.num_layers="n_layer",t.hidden_size="hidden_size";break;case"mpt":t.num_heads="n_heads",t.num_layers="n_layers",t.hidden_size="d_model";break;case"exaone":t.num_heads="num_key_value_heads",t.num_layers="num_layers",t.dim_kv="head_dim",t.num_attention_heads="num_attention_heads";break;case"t5":case"mt5":case"longt5":t.num_decoder_layers="num_decoder_layers",t.num_decoder_heads="num_heads",t.decoder_dim_kv="d_kv",t.num_encoder_layers="num_layers",t.num_encoder_heads="num_heads",t.encoder_dim_kv="d_kv";break;case"bart":case"mbart":case"marian":case"whisper":case"lite-whisper":case"m2m_100":case"blenderbot":case"blenderbot-small":case"florence2_language":t.num_decoder_layers="decoder_layers",t.num_decoder_heads="decoder_attention_heads",t.decoder_hidden_size="d_model",t.num_encoder_layers="encoder_layers",t.num_encoder_heads="encoder_attention_heads",t.encoder_hidden_size="d_model";break;case"speecht5":t.num_decoder_layers="decoder_layers",t.num_decoder_heads="decoder_attention_heads",t.decoder_hidden_size="hidden_size",t.num_encoder_layers="encoder_layers",t.num_encoder_heads="encoder_attention_heads",t.encoder_hidden_size="hidden_size";break;case"trocr":t.num_encoder_layers=t.num_decoder_layers="decoder_layers",t.num_encoder_heads=t.num_decoder_heads="decoder_attention_heads",t.encoder_hidden_size=t.decoder_hidden_size="d_model";break;case"musicgen_decoder":t.num_encoder_layers=t.num_decoder_layers="num_hidden_layers",t.num_encoder_heads=t.num_decoder_heads="num_attention_heads",t.encoder_hidden_size=t.decoder_hidden_size="hidden_size";break;case"moonshine":t.num_decoder_layers="decoder_num_hidden_layers",t.num_decoder_heads="decoder_num_key_value_heads",t.num_encoder_layers="encoder_num_hidden_layers",t.num_encoder_heads="encoder_num_key_value_heads",t.encoder_hidden_size=t.decoder_hidden_size="hidden_size";break;case"vision-encoder-decoder":const r=i(e.decoder),o="num_decoder_layers"in r,s=(0,a.pick)(e,["model_type","is_encoder_decoder"]);return o?(s.num_decoder_layers=r.num_decoder_layers,s.num_decoder_heads=r.num_decoder_heads,s.decoder_hidden_size=r.decoder_hidden_size,s.num_encoder_layers=r.num_encoder_layers,s.num_encoder_heads=r.num_encoder_heads,s.encoder_hidden_size=r.encoder_hidden_size):(s.num_layers=r.num_layers,s.num_heads=r.num_heads,s.hidden_size=r.hidden_size),s}const r=u(u({},n),(0,a.pick)(e,["model_type","multi_query","is_encoder_decoder"]));for(const a in t)r[a]=e[t[a]];return r}function o(e){let{prefix:t="past_key_values",batch_size:n=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a={},r=e.normalized_config;if(r.is_encoder_decoder&&"num_encoder_heads"in r&&"num_decoder_heads"in r){var i,o;const e=null!==(i=r.encoder_dim_kv)&&void 0!==i?i:r.encoder_hidden_size/r.num_encoder_heads,s=null!==(o=r.decoder_dim_kv)&&void 0!==o?o:r.decoder_hidden_size/r.num_decoder_heads,l=[n,r.num_encoder_heads,0,e],c=[n,r.num_decoder_heads,0,s];for(let n=0;n<r.num_decoder_layers;++n)a["".concat(t,".").concat(n,".encoder.key")]=l,a["".concat(t,".").concat(n,".encoder.value")]=l,a["".concat(t,".").concat(n,".decoder.key")]=c,a["".concat(t,".").concat(n,".decoder.value")]=c}else{var s,l;const e=r.num_heads,i=r.num_layers,o=null!==(s=r.dim_kv)&&void 0!==s?s:r.hidden_size/(null!==(l=r.num_attention_heads)&&void 0!==l?l:e);if("falcon"===r.model_type){const r=[n*e,0,o];for(let e=0;e<i;++e)a["".concat(t,".").concat(e,".key")]=r,a["".concat(t,".").concat(e,".value")]=r}else if(r.multi_query){const r=[n*e,0,2*o];for(let e=0;e<i;++e)a["".concat(t,".").concat(e,".key_value")]=r}else if("bloom"===r.model_type){const r=[n*e,o,0],s=[n*e,0,o];for(let e=0;e<i;++e)a["".concat(t,".").concat(e,".key")]=r,a["".concat(t,".").concat(e,".value")]=s}else if("openelm"===r.model_type)for(let r=0;r<i;++r){const i=[n,e[r],0,o];a["".concat(t,".").concat(r,".key")]=i,a["".concat(t,".").concat(r,".value")]=i}else{const r=[n,e,0,o];for(let e=0;e<i;++e)a["".concat(t,".").concat(e,".key")]=r,a["".concat(t,".").concat(e,".value")]=r}}return a}class s{constructor(e){l(this,"model_type",null),l(this,"is_encoder_decoder",!1),l(this,"max_position_embeddings",void 0),l(this,"transformers.js_config",void 0),Object.assign(this,e),this.normalized_config=i(this)}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:a=null,local_files_only:i=!1,revision:o="main"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!n||n instanceof s||(n=new s(n));const l=null!==n&&void 0!==n?n:await async function(e,t){return await(0,r.getModelJSON)(e,"config.json",!0,t)}(e,{progress_callback:t,config:n,cache_dir:a,local_files_only:i,revision:o});return new this(l)}}class c{static async from_pretrained(){return s.from_pretrained(...arguments)}}},"./src/env.js":(e,t,n)=>{var a,r;n.r(t),n.d(t,{apis:()=>y,env:()=>x});var i=n("?569f"),o=n("?3f59"),s=n("?154a");const l="undefined"!==typeof window&&"undefined"!==typeof window.document,c="undefined"!==typeof self&&"DedicatedWorkerGlobalScope"===(null===(a=self.constructor)||void 0===a?void 0:a.name),u="undefined"!==typeof self&&"caches"in self,d="undefined"!==typeof navigator&&"gpu"in navigator,h="undefined"!==typeof navigator&&"ml"in navigator,p="undefined"!==typeof process,f=p&&"node"===(null===(r=process)||void 0===r||null===(r=r.release)||void 0===r?void 0:r.name),m=!k(i),g=!k(o),y=Object.freeze({IS_BROWSER_ENV:l,IS_WEBWORKER_ENV:c,IS_WEB_CACHE_AVAILABLE:u,IS_WEBGPU_AVAILABLE:d,IS_WEBNN_AVAILABLE:h,IS_PROCESS_AVAILABLE:p,IS_NODE_ENV:f,IS_FS_AVAILABLE:m,IS_PATH_AVAILABLE:g}),b=m&&g;let v="./";if(b){const e=Object({}).url;e?v=o.dirname(o.dirname(s.fileURLToPath(e))):"undefined"!==typeof __dirname&&(v=o.dirname(__dirname))}const w=b?o.join(v,"/.cache/"):null,_="/models/",x={version:"3.5.2",backends:{onnx:{}},allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!(l||c),localModelPath:b?o.join(v,_):_,useFS:m,useBrowserCache:u,useFSCache:m,cacheDir:w,useCustomCache:!1,customCache:null};function k(e){return 0===Object.keys(e).length}},"./src/generation/configuration_utils.js":(e,t,n)=>{n.r(t),n.d(t,{GenerationConfig:()=>r});var a=n("./src/utils/core.js");class r{constructor(e){l(this,"max_length",20),l(this,"max_new_tokens",null),l(this,"min_length",0),l(this,"min_new_tokens",null),l(this,"early_stopping",!1),l(this,"max_time",null),l(this,"do_sample",!1),l(this,"num_beams",1),l(this,"num_beam_groups",1),l(this,"penalty_alpha",null),l(this,"use_cache",!0),l(this,"temperature",1),l(this,"top_k",50),l(this,"top_p",1),l(this,"typical_p",1),l(this,"epsilon_cutoff",0),l(this,"eta_cutoff",0),l(this,"diversity_penalty",0),l(this,"repetition_penalty",1),l(this,"encoder_repetition_penalty",1),l(this,"length_penalty",1),l(this,"no_repeat_ngram_size",0),l(this,"bad_words_ids",null),l(this,"force_words_ids",null),l(this,"renormalize_logits",!1),l(this,"constraints",null),l(this,"forced_bos_token_id",null),l(this,"forced_eos_token_id",null),l(this,"remove_invalid_values",!1),l(this,"exponential_decay_length_penalty",null),l(this,"suppress_tokens",null),l(this,"streamer",null),l(this,"begin_suppress_tokens",null),l(this,"forced_decoder_ids",null),l(this,"guidance_scale",null),l(this,"num_return_sequences",1),l(this,"output_attentions",!1),l(this,"output_hidden_states",!1),l(this,"output_scores",!1),l(this,"return_dict_in_generate",!1),l(this,"pad_token_id",null),l(this,"bos_token_id",null),l(this,"eos_token_id",null),l(this,"encoder_no_repeat_ngram_size",0),l(this,"decoder_start_token_id",null),l(this,"generation_kwargs",{}),Object.assign(this,(0,a.pick)(e,Object.getOwnPropertyNames(this)))}}},"./src/generation/logits_process.js":(e,t,n)=>{n.r(t),n.d(t,{ClassifierFreeGuidanceLogitsProcessor:()=>y,ForcedBOSTokenLogitsProcessor:()=>l,ForcedEOSTokenLogitsProcessor:()=>c,LogitsProcessor:()=>i,LogitsProcessorList:()=>s,LogitsWarper:()=>o,MinLengthLogitsProcessor:()=>f,MinNewTokensLengthLogitsProcessor:()=>m,NoBadWordsLogitsProcessor:()=>g,NoRepeatNGramLogitsProcessor:()=>h,RepetitionPenaltyLogitsProcessor:()=>p,SuppressTokensAtBeginLogitsProcessor:()=>u,TemperatureLogitsWarper:()=>b,TopKLogitsWarper:()=>w,TopPLogitsWarper:()=>v,WhisperTimeStampLogitsProcessor:()=>d});var a=n("./src/utils/generic.js"),r=(n("./src/utils/tensor.js"),n("./src/utils/maths.js"));class i extends a.Callable{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class o extends a.Callable{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class s extends a.Callable{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,t){let n=t;for(const a of this.processors)n=a(e,n);return n}[Symbol.iterator](){return this.processors.values()}}class l extends i{constructor(e){super(),this.bos_token_id=e}_call(e,t){for(let n=0;n<e.length;++n)if(1===e[n].length){const e=t[n].data;e.fill(-1/0),e[this.bos_token_id]=0}return t}}class c extends i{constructor(e,t){super(),this.max_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(let n=0;n<e.length;++n)if(e[n].length===this.max_length-1){const e=t[n].data;e.fill(-1/0);for(const t of this.eos_token_id)e[t]=0}return t}}class u extends i{constructor(e,t){super(),this.begin_suppress_tokens=e,this.begin_index=t}_call(e,t){for(let n=0;n<e.length;++n)if(e[n].length===this.begin_index){const e=t[n].data;for(const t of this.begin_suppress_tokens)e[t]=-1/0}return t}}class d extends i{constructor(e,t){super(),this.eos_token_id=Array.isArray(e.eos_token_id)?e.eos_token_id[0]:e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=t.length,t.at(-1)===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,t){for(let n=0;n<e.length;++n){const a=t[n].data;if(a[this.no_timestamps_token_id]=-1/0,e[n].length===this.begin_index-1){a.fill(-1/0),a[this.timestamp_begin]=0;continue}const i=e[n].slice(this.begin_index),o=i.length>=1&&i[i.length-1]>=this.timestamp_begin,s=i.length<2||i[i.length-2]>=this.timestamp_begin;if(o&&(s?a.subarray(this.timestamp_begin).fill(-1/0):a.subarray(0,this.eos_token_id).fill(-1/0)),e[n].length===this.begin_index&&null!==this.max_initial_timestamp_index){const e=this.timestamp_begin+this.max_initial_timestamp_index;a.subarray(e+1).fill(-1/0)}const l=(0,r.log_softmax)(a),c=Math.log(l.subarray(this.timestamp_begin).map(Math.exp).reduce(((e,t)=>e+t)));c>(0,r.max)(l.subarray(0,this.timestamp_begin))[0]&&a.subarray(0,this.timestamp_begin).fill(-1/0)}return t}}class h extends i{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const t=e.length,n=[];for(let i=0;i<t+1-this.no_repeat_ngram_size;++i){const t=[];for(let n=0;n<this.no_repeat_ngram_size;++n)t.push(e[i+n]);n.push(t.map(Number))}const a=new Map;for(const i of n){var r;const e=i.slice(0,i.length-1),t=JSON.stringify(e),n=null!==(r=a.get(t))&&void 0!==r?r:[];n.push(i[i.length-1]),a.set(t,n)}return a}getGeneratedNgrams(e,t){var n;const a=t.slice(t.length+1-this.no_repeat_ngram_size,t.length);return null!==(n=e.get(JSON.stringify(a.map(Number))))&&void 0!==n?n:[]}calcBannedNgramTokens(e){const t=[];if(e.length+1<this.no_repeat_ngram_size)return t;{const t=this.getNgrams(e);return this.getGeneratedNgrams(t,e)}}_call(e,t){for(let n=0;n<e.length;++n){const a=t[n].data,r=this.calcBannedNgramTokens(e[n]);for(const e of r)a[e]=-1/0}return t}}class p extends i{constructor(e){super(),this.penalty=e}_call(e,t){for(let n=0;n<e.length;++n){const a=t[n].data;for(const t of new Set(e[n])){const e=Number(t);a[e]<0?a[e]*=this.penalty:a[e]/=this.penalty}}return t}}class f extends i{constructor(e,t){super(),this.min_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(let n=0;n<e.length;++n)if(e[n].length<this.min_length){const e=t[n].data;for(const t of this.eos_token_id)e[t]=-1/0}return t}}class m extends i{constructor(e,t,n){super(),this.prompt_length_to_skip=e,this.min_new_tokens=t,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,t){for(let n=0;n<e.length;++n){if(e[n].length-this.prompt_length_to_skip<this.min_new_tokens){const e=t[n].data;for(const t of this.eos_token_id)e[t]=-1/0}}return t}}class g extends i{constructor(e,t){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(let n=0;n<e.length;++n){const a=t[n].data,r=e[n];for(const e of this.bad_words_ids){if(r.length<e.length-1)continue;let t=!0;for(let n=1;n<=e.length-1;++n)if(e.at(-n-1)!=r.at(-n)){t=!1;break}t&&(a[e.at(-1)]=-1/0)}}return t}}class y extends i{constructor(e){if(super(),e<=1)throw new Error("Require guidance scale >1 to use the classifier free guidance processor, got guidance scale ".concat(e,"."));this.guidance_scale=e}_call(e,t){if(t.dims[0]!==2*e.length)throw new Error("Logits should have twice the batch size of the input ids, the first half of batches corresponding to the conditional inputs, and the second half of batches corresponding to the unconditional inputs. Got "+"batch size ".concat(t.dims[0]," for the logits and ").concat(e.length," for the input ids."));const n=e.length,a=t.slice([0,n],null),r=t.slice([n,t.dims[0]],null);for(let i=0;i<r.data.length;++i)r.data[i]+=(a.data[i]-r.data[i])*this.guidance_scale;return r}}class b extends o{constructor(e){if(super(),"number"!==typeof e||e<=0){let t="`temperature` (=".concat(e,") must be a strictly positive float, otherwise your next token scores will be invalid.");0===e&&(t+=" If you're looking for greedy decoding strategies, set `do_sample=false`.")}this.temperature=e}_call(e,t){const n=t.data;for(let a=0;a<n.length;++a)n[a]/=this.temperature;return t}}class v extends o{constructor(e){let{filter_value:t=-1/0,min_tokens_to_keep:n=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),e<0||e>1)throw new Error("`top_p` must be a float > 0 and < 1, but is ".concat(e));if(!Number.isInteger(n)||n<1)throw new Error("`min_tokens_to_keep` must be a positive integer, but is ".concat(n));this.top_p=e,this.filter_value=t,this.min_tokens_to_keep=n}}class w extends o{constructor(e){let{filter_value:t=-1/0,min_tokens_to_keep:n=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),!Number.isInteger(e)||e<0)throw new Error("`top_k` must be a positive integer, but is ".concat(e));this.top_k=Math.max(e,n),this.filter_value=t}}},"./src/generation/logits_sampler.js":(e,t,n)=>{n.r(t),n.d(t,{LogitsSampler:()=>o});var a=n("./src/utils/generic.js"),r=n("./src/utils/tensor.js"),i=n("./src/utils/maths.js");n("./src/generation/configuration_utils.js");class o extends a.Callable{constructor(e){super(),this.generation_config=e}async _call(e){return this.sample(e)}async sample(e){throw Error("sample should be implemented in subclasses.")}getLogits(e,t){let n=e.dims.at(-1),a=e.data;if(-1===t)a=a.slice(-n);else{let e=t*n;a=a.slice(e,e+n)}return a}randomSelect(e){let t=0;for(let a=0;a<e.length;++a)t+=e[a];let n=Math.random()*t;for(let a=0;a<e.length;++a)if(n-=e[a],n<=0)return a;return 0}static getSampler(e){if(e.do_sample)return new l(e);if(e.num_beams>1)return new c(e);if(e.num_return_sequences>1)throw Error("num_return_sequences has to be 1 when doing greedy search, but is ".concat(e.num_return_sequences,"."));return new s(e)}}class s extends o{async sample(e){const t=(0,i.max)(e.data)[1];return[[BigInt(t),0]]}}class l extends o{async sample(e){let t=e.dims.at(-1);this.generation_config.top_k>0&&(t=Math.min(this.generation_config.top_k,t));const[n,a]=await(0,r.topk)(e,t),o=(0,i.softmax)(n.data);return Array.from({length:this.generation_config.num_beams},(()=>{const e=this.randomSelect(o);return[a.data[e],Math.log(o[e])]}))}}class c extends o{async sample(e){let t=e.dims.at(-1);this.generation_config.top_k>0&&(t=Math.min(this.generation_config.top_k,t));const[n,a]=await(0,r.topk)(e,t),o=(0,i.softmax)(n.data);return Array.from({length:this.generation_config.num_beams},((e,t)=>[a.data[t],Math.log(o[t])]))}}},"./src/generation/stopping_criteria.js":(e,t,n)=>{n.r(t),n.d(t,{EosTokenCriteria:()=>s,InterruptableStoppingCriteria:()=>l,MaxLengthCriteria:()=>o,StoppingCriteria:()=>r,StoppingCriteriaList:()=>i});var a=n("./src/utils/generic.js");class r extends a.Callable{_call(e,t){throw Error("StoppingCriteria needs to be subclassed")}}class i extends a.Callable{constructor(){super(),this.criteria=[]}push(e){this.criteria.push(e)}extend(e){e instanceof i?e=e.criteria:e instanceof r&&(e=[e]),this.criteria.push(...e)}_call(e,t){const n=new Array(e.length).fill(!1);for(const r of this.criteria){const i=r(e,t);for(let e=0;e<n.length;++e){var a;n[a=e]||(n[a]=i[e])}}return n}[Symbol.iterator](){return this.criteria.values()}}class o extends r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.max_length=e,this.max_position_embeddings=t}_call(e){return e.map((e=>e.length>=this.max_length))}}class s extends r{constructor(e){super(),Array.isArray(e)||(e=[e]),this.eos_token_id=e}_call(e,t){return e.map((e=>{const t=e.at(-1);return this.eos_token_id.some((e=>t==e))}))}}class l extends r{constructor(){super(),this.interrupted=!1}interrupt(){this.interrupted=!0}reset(){this.interrupted=!1}_call(e,t){return new Array(e.length).fill(this.interrupted)}}},"./src/generation/streamers.js":(e,t,n)=>{n.r(t),n.d(t,{BaseStreamer:()=>s,TextStreamer:()=>c,WhisperTextStreamer:()=>d});var a=n("./src/utils/core.js"),r=n("./src/tokenizers.js"),o=n("./src/env.js");class s{put(e){throw Error("Not implemented")}end(){throw Error("Not implemented")}}const l=o.apis.IS_PROCESS_AVAILABLE?e=>process.stdout.write(e):e=>console.log(e);class c extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{skip_prompt:n=!1,callback_function:a=null,token_callback_function:r=null,skip_special_tokens:o=!0,decode_kwargs:s={}}=t,c=i(t,Wd);super(),this.tokenizer=e,this.skip_prompt=n,this.callback_function=null!==a&&void 0!==a?a:l,this.token_callback_function=r,this.decode_kwargs=u(u({skip_special_tokens:o},s),c),this.token_cache=[],this.print_len=0,this.next_tokens_are_prompt=!0}put(e){var t;if(e.length>1)throw Error("TextStreamer only supports batch size of 1");const n=this.next_tokens_are_prompt;if(n&&(this.next_tokens_are_prompt=!1,this.skip_prompt))return;const i=e[0];null===(t=this.token_callback_function)||void 0===t||t.call(this,i),this.token_cache=(0,a.mergeArrays)(this.token_cache,i);const o=this.tokenizer.decode(this.token_cache,this.decode_kwargs);let s;n||o.endsWith("\n")?(s=o.slice(this.print_len),this.token_cache=[],this.print_len=0):o.length>0&&(0,r.is_chinese_char)(o.charCodeAt(o.length-1))?(s=o.slice(this.print_len),this.print_len+=s.length):(s=o.slice(this.print_len,o.lastIndexOf(" ")+1),this.print_len+=s.length),this.on_finalized_text(s,!1)}end(){let e;if(this.token_cache.length>0){e=this.tokenizer.decode(this.token_cache,this.decode_kwargs).slice(this.print_len),this.token_cache=[],this.print_len=0}else e="";this.next_tokens_are_prompt=!0,this.on_finalized_text(e,!0)}on_finalized_text(e,t){var n,a;e.length>0&&(null===(n=this.callback_function)||void 0===n||n.call(this,e));t&&this.callback_function===l&&o.apis.IS_PROCESS_AVAILABLE&&(null===(a=this.callback_function)||void 0===a||a.call(this,"\n"))}}class d extends c{constructor(e){let{skip_prompt:t=!1,callback_function:n=null,token_callback_function:a=null,on_chunk_start:r=null,on_chunk_end:i=null,on_finalize:o=null,time_precision:s=.02,skip_special_tokens:l=!0,decode_kwargs:c={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,{skip_prompt:t,skip_special_tokens:l,callback_function:n,token_callback_function:a,decode_kwargs:c}),this.timestamp_begin=e.timestamp_begin,this.on_chunk_start=r,this.on_chunk_end=i,this.on_finalize=o,this.time_precision=s,this.waiting_for_timestamp=!1}put(e){if(e.length>1)throw Error("WhisperTextStreamer only supports batch size of 1");const t=e[0];if(1===t.length){const e=Number(t[0])-this.timestamp_begin;if(e>=0){var n;const i=e*this.time_precision;var a,r;if(this.waiting_for_timestamp)null===(a=this.on_chunk_end)||void 0===a||a.call(this,i);else null===(r=this.on_chunk_start)||void 0===r||r.call(this,i);return this.waiting_for_timestamp=!this.waiting_for_timestamp,void(null===(n=this.token_callback_function)||void 0===n||n.call(this,t))}}return super.put(e)}end(){var e;super.end(),null===(e=this.on_finalize)||void 0===e||e.call(this)}}},"./src/models.js":(e,t,n)=>{n.r(t),n.d(t,{ASTForAudioClassification:()=>Cn,ASTModel:()=>An,ASTPreTrainedModel:()=>Dn,AlbertForMaskedLM:()=>Nt,AlbertForQuestionAnswering:()=>Pt,AlbertForSequenceClassification:()=>zt,AlbertModel:()=>It,AlbertPreTrainedModel:()=>Mt,AutoModel:()=>su,AutoModelForAudioClassification:()=>Au,AutoModelForAudioFrameClassification:()=>Su,AutoModelForAudioTextToText:()=>Bu,AutoModelForCTC:()=>Du,AutoModelForCausalLM:()=>fu,AutoModelForDepthEstimation:()=>Iu,AutoModelForDocumentQuestionAnswering:()=>Eu,AutoModelForImageClassification:()=>bu,AutoModelForImageFeatureExtraction:()=>Nu,AutoModelForImageMatting:()=>Fu,AutoModelForImageSegmentation:()=>vu,AutoModelForImageTextToText:()=>Ou,AutoModelForImageToImage:()=>Mu,AutoModelForMaskGeneration:()=>Tu,AutoModelForMaskedLM:()=>mu,AutoModelForNormalEstimation:()=>zu,AutoModelForObjectDetection:()=>xu,AutoModelForPoseEstimation:()=>Pu,AutoModelForQuestionAnswering:()=>gu,AutoModelForSemanticSegmentation:()=>wu,AutoModelForSeq2SeqLM:()=>uu,AutoModelForSequenceClassification:()=>lu,AutoModelForSpeechSeq2Seq:()=>du,AutoModelForTextToSpectrogram:()=>hu,AutoModelForTextToWaveform:()=>pu,AutoModelForTokenClassification:()=>cu,AutoModelForUniversalSegmentation:()=>_u,AutoModelForVision2Seq:()=>yu,AutoModelForXVector:()=>Cu,AutoModelForZeroShotObjectDetection:()=>ku,BartForConditionalGeneration:()=>Kt,BartForSequenceClassification:()=>Yt,BartModel:()=>Wt,BartPretrainedModel:()=>Ht,BaseModelOutput:()=>le,BeitForImageClassification:()=>Ai,BeitModel:()=>Di,BeitPreTrainedModel:()=>Ti,BertForMaskedLM:()=>de,BertForQuestionAnswering:()=>fe,BertForSequenceClassification:()=>he,BertForTokenClassification:()=>pe,BertModel:()=>ue,BertPreTrainedModel:()=>ce,BlenderbotForConditionalGeneration:()=>nn,BlenderbotModel:()=>tn,BlenderbotPreTrainedModel:()=>en,BlenderbotSmallForConditionalGeneration:()=>on,BlenderbotSmallModel:()=>rn,BlenderbotSmallPreTrainedModel:()=>an,BloomForCausalLM:()=>Or,BloomModel:()=>Nr,BloomPreTrainedModel:()=>Pr,CLIPModel:()=>Zn,CLIPPreTrainedModel:()=>Jn,CLIPSegForImageSegmentation:()=>pa,CLIPSegModel:()=>ha,CLIPSegPreTrainedModel:()=>da,CLIPTextModel:()=>Xn,CLIPTextModelWithProjection:()=>$n,CLIPVisionModel:()=>Qn,CLIPVisionModelWithProjection:()=>ea,CamembertForMaskedLM:()=>qe,CamembertForQuestionAnswering:()=>He,CamembertForSequenceClassification:()=>Ue,CamembertForTokenClassification:()=>Ge,CamembertModel:()=>Ve,CamembertPreTrainedModel:()=>je,CausalLMOutput:()=>Gu,CausalLMOutputWithPast:()=>Hu,ChineseCLIPModel:()=>oa,ChineseCLIPPreTrainedModel:()=>ia,ClapAudioModelWithProjection:()=>dl,ClapModel:()=>cl,ClapPreTrainedModel:()=>ll,ClapTextModelWithProjection:()=>ul,CodeGenForCausalLM:()=>Pa,CodeGenModel:()=>za,CodeGenPreTrainedModel:()=>Ia,CohereForCausalLM:()=>sr,CohereModel:()=>or,CoherePreTrainedModel:()=>ir,ConvBertForMaskedLM:()=>Fe,ConvBertForQuestionAnswering:()=>ze,ConvBertForSequenceClassification:()=>Me,ConvBertForTokenClassification:()=>Ie,ConvBertModel:()=>Ee,ConvBertPreTrainedModel:()=>Se,ConvNextForImageClassification:()=>jo,ConvNextModel:()=>Ro,ConvNextPreTrainedModel:()=>Lo,ConvNextV2ForImageClassification:()=>Uo,ConvNextV2Model:()=>qo,ConvNextV2PreTrainedModel:()=>Vo,DFineForObjectDetection:()=>Ki,DFineModel:()=>Wi,DFinePreTrainedModel:()=>Hi,DPTForDepthEstimation:()=>yo,DPTModel:()=>go,DPTPreTrainedModel:()=>mo,DacDecoderModel:()=>gc,DacDecoderOutput:()=>pc,DacEncoderModel:()=>mc,DacEncoderOutput:()=>hc,DacModel:()=>fc,DacPreTrainedModel:()=>dc,DebertaForMaskedLM:()=>Ye,DebertaForQuestionAnswering:()=>Xe,DebertaForSequenceClassification:()=>Je,DebertaForTokenClassification:()=>Ze,DebertaModel:()=>Ke,DebertaPreTrainedModel:()=>We,DebertaV2ForMaskedLM:()=>et,DebertaV2ForQuestionAnswering:()=>at,DebertaV2ForSequenceClassification:()=>tt,DebertaV2ForTokenClassification:()=>nt,DebertaV2Model:()=>Qe,DebertaV2PreTrainedModel:()=>$e,DecisionTransformerModel:()=>Hl,DecisionTransformerPreTrainedModel:()=>Gl,DeiTForImageClassification:()=>eo,DeiTModel:()=>Qi,DeiTPreTrainedModel:()=>$i,DepthAnythingForDepthEstimation:()=>vo,DepthAnythingPreTrainedModel:()=>bo,DepthProForDepthEstimation:()=>Do,DepthProPreTrainedModel:()=>To,DetrForObjectDetection:()=>Ei,DetrForSegmentation:()=>Fi,DetrModel:()=>Si,DetrObjectDetectionOutput:()=>Mi,DetrPreTrainedModel:()=>Ci,DetrSegmentationOutput:()=>Ii,Dinov2ForImageClassification:()=>Wo,Dinov2Model:()=>Ho,Dinov2PreTrainedModel:()=>Go,Dinov2WithRegistersForImageClassification:()=>Jo,Dinov2WithRegistersModel:()=>Yo,Dinov2WithRegistersPreTrainedModel:()=>Ko,DistilBertForMaskedLM:()=>ct,DistilBertForQuestionAnswering:()=>lt,DistilBertForSequenceClassification:()=>ot,DistilBertForTokenClassification:()=>st,DistilBertModel:()=>it,DistilBertPreTrainedModel:()=>rt,DonutSwinModel:()=>Bo,DonutSwinPreTrainedModel:()=>Oo,EfficientNetForImageClassification:()=>kl,EfficientNetModel:()=>xl,EfficientNetPreTrainedModel:()=>_l,ElectraForMaskedLM:()=>Oe,ElectraForQuestionAnswering:()=>Re,ElectraForSequenceClassification:()=>Be,ElectraForTokenClassification:()=>Le,ElectraModel:()=>Ne,ElectraPreTrainedModel:()=>Pe,EsmForMaskedLM:()=>ht,EsmForSequenceClassification:()=>pt,EsmForTokenClassification:()=>ft,EsmModel:()=>dt,EsmPreTrainedModel:()=>ut,ExaoneForCausalLM:()=>Wa,ExaoneModel:()=>Ha,ExaonePreTrainedModel:()=>Ga,FalconForCausalLM:()=>sl,FalconModel:()=>ol,FalconPreTrainedModel:()=>il,FastViTForImageClassification:()=>ci,FastViTModel:()=>li,FastViTPreTrainedModel:()=>si,Florence2ForConditionalGeneration:()=>Vn,Florence2PreTrainedModel:()=>jn,GLPNForDepthEstimation:()=>No,GLPNModel:()=>Po,GLPNPreTrainedModel:()=>zo,GPT2LMHeadModel:()=>ga,GPT2Model:()=>ma,GPT2PreTrainedModel:()=>fa,GPTBigCodeForCausalLM:()=>Ma,GPTBigCodeModel:()=>Fa,GPTBigCodePreTrainedModel:()=>Ea,GPTJForCausalLM:()=>Sa,GPTJModel:()=>Ca,GPTJPreTrainedModel:()=>Aa,GPTNeoForCausalLM:()=>xa,GPTNeoModel:()=>_a,GPTNeoPreTrainedModel:()=>wa,GPTNeoXForCausalLM:()=>Da,GPTNeoXModel:()=>Ta,GPTNeoXPreTrainedModel:()=>ka,Gemma2ForCausalLM:()=>pr,Gemma2Model:()=>hr,Gemma2PreTrainedModel:()=>dr,Gemma3ForCausalLM:()=>gr,Gemma3Model:()=>mr,Gemma3PreTrainedModel:()=>fr,GemmaForCausalLM:()=>ur,GemmaModel:()=>cr,GemmaPreTrainedModel:()=>lr,GlmForCausalLM:()=>Ua,GlmModel:()=>qa,GlmPreTrainedModel:()=>Va,GraniteForCausalLM:()=>rr,GraniteModel:()=>ar,GranitePreTrainedModel:()=>nr,GroundingDinoForObjectDetection:()=>Xo,GroundingDinoPreTrainedModel:()=>Zo,GroupViTModel:()=>oi,GroupViTPreTrainedModel:()=>ii,HeliumForCausalLM:()=>ja,HeliumModel:()=>Ra,HeliumPreTrainedModel:()=>La,HieraForImageClassification:()=>ao,HieraModel:()=>no,HieraPreTrainedModel:()=>to,HubertForCTC:()=>Os,HubertForSequenceClassification:()=>Bs,HubertModel:()=>Ns,HubertPreTrainedModel:()=>Ps,IJepaForImageClassification:()=>Yr,IJepaModel:()=>Kr,IJepaPreTrainedModel:()=>Wr,Idefics3ForConditionalGeneration:()=>Hn,Idefics3PreTrainedModel:()=>Gn,ImageMattingOutput:()=>Wu,JAISLMHeadModel:()=>va,JAISModel:()=>ba,JAISPreTrainedModel:()=>ya,JinaCLIPModel:()=>la,JinaCLIPPreTrainedModel:()=>sa,JinaCLIPTextModel:()=>ca,JinaCLIPVisionModel:()=>ua,LiteWhisperForConditionalGeneration:()=>Mn,LlamaForCausalLM:()=>Ba,LlamaModel:()=>Oa,LlamaPreTrainedModel:()=>Na,LlavaForConditionalGeneration:()=>Bn,LlavaOnevisionForConditionalGeneration:()=>Ln,LlavaPreTrainedModel:()=>On,LongT5ForConditionalGeneration:()=>Vt,LongT5Model:()=>jt,LongT5PreTrainedModel:()=>Rt,M2M100ForConditionalGeneration:()=>us,M2M100Model:()=>cs,M2M100PreTrainedModel:()=>ls,MBartForCausalLM:()=>Qt,MBartForConditionalGeneration:()=>Xt,MBartForSequenceClassification:()=>$t,MBartModel:()=>Zt,MBartPreTrainedModel:()=>Jt,MPNetForMaskedLM:()=>xt,MPNetForQuestionAnswering:()=>Dt,MPNetForSequenceClassification:()=>kt,MPNetForTokenClassification:()=>Tt,MPNetModel:()=>_t,MPNetPreTrainedModel:()=>wt,MT5ForConditionalGeneration:()=>Gt,MT5Model:()=>Ut,MT5PreTrainedModel:()=>qt,MarianMTModel:()=>ss,MarianModel:()=>os,MarianPreTrainedModel:()=>is,MaskFormerForInstanceSegmentation:()=>Io,MaskFormerModel:()=>Mo,MaskFormerPreTrainedModel:()=>Fo,MaskedLMOutput:()=>qu,Metric3DForDepthEstimation:()=>Co,Metric3DPreTrainedModel:()=>Ao,Metric3Dv2ForDepthEstimation:()=>Eo,Metric3Dv2PreTrainedModel:()=>So,MgpstrForSceneTextRecognition:()=>Zl,MgpstrModelOutput:()=>Yl,MgpstrPreTrainedModel:()=>Jl,MimiDecoderModel:()=>uc,MimiDecoderOutput:()=>sc,MimiEncoderModel:()=>cc,MimiEncoderOutput:()=>oc,MimiModel:()=>lc,MimiPreTrainedModel:()=>ic,MistralForCausalLM:()=>tl,MistralModel:()=>el,MistralPreTrainedModel:()=>Qs,MobileBertForMaskedLM:()=>yt,MobileBertForQuestionAnswering:()=>vt,MobileBertForSequenceClassification:()=>bt,MobileBertModel:()=>gt,MobileBertPreTrainedModel:()=>mt,MobileLLMForCausalLM:()=>Ja,MobileLLMModel:()=>Ya,MobileLLMPreTrainedModel:()=>Ka,MobileNetV1ForImageClassification:()=>Fl,MobileNetV1ForSemanticSegmentation:()=>Ml,MobileNetV1Model:()=>El,MobileNetV1PreTrainedModel:()=>Sl,MobileNetV2ForImageClassification:()=>Pl,MobileNetV2ForSemanticSegmentation:()=>Nl,MobileNetV2Model:()=>zl,MobileNetV2PreTrainedModel:()=>Il,MobileNetV3ForImageClassification:()=>Ll,MobileNetV3ForSemanticSegmentation:()=>Rl,MobileNetV3Model:()=>Bl,MobileNetV3PreTrainedModel:()=>Ol,MobileNetV4ForImageClassification:()=>ql,MobileNetV4ForSemanticSegmentation:()=>Ul,MobileNetV4Model:()=>Vl,MobileNetV4PreTrainedModel:()=>jl,MobileViTForImageClassification:()=>fi,MobileViTModel:()=>pi,MobileViTPreTrainedModel:()=>hi,MobileViTV2ForImageClassification:()=>yi,MobileViTV2Model:()=>gi,MobileViTV2PreTrainedModel:()=>mi,ModelOutput:()=>se,ModernBertForMaskedLM:()=>ye,ModernBertForSequenceClassification:()=>be,ModernBertForTokenClassification:()=>ve,ModernBertModel:()=>ge,ModernBertPreTrainedModel:()=>me,Moondream1ForConditionalGeneration:()=>Rn,MoonshineForConditionalGeneration:()=>Pn,MoonshineModel:()=>zn,MoonshinePreTrainedModel:()=>In,MptForCausalLM:()=>Rr,MptModel:()=>Lr,MptPreTrainedModel:()=>Br,MultiModalityCausalLM:()=>Kl,MultiModalityPreTrainedModel:()=>Wl,MusicgenForCausalLM:()=>Al,MusicgenForConditionalGeneration:()=>Cl,MusicgenModel:()=>Dl,MusicgenPreTrainedModel:()=>Tl,NomicBertModel:()=>_e,NomicBertPreTrainedModel:()=>we,OPTForCausalLM:()=>qr,OPTModel:()=>Vr,OPTPreTrainedModel:()=>jr,Olmo2ForCausalLM:()=>tr,Olmo2Model:()=>er,Olmo2PreTrainedModel:()=>Qa,OlmoForCausalLM:()=>$a,OlmoModel:()=>Xa,OlmoPreTrainedModel:()=>Za,OpenELMForCausalLM:()=>vr,OpenELMModel:()=>br,OpenELMPreTrainedModel:()=>yr,OwlViTForObjectDetection:()=>wi,OwlViTModel:()=>vi,OwlViTPreTrainedModel:()=>bi,Owlv2ForObjectDetection:()=>ki,Owlv2Model:()=>xi,Owlv2PreTrainedModel:()=>_i,PaliGemmaForConditionalGeneration:()=>Un,PaliGemmaPreTrainedModel:()=>qn,PatchTSMixerForPrediction:()=>nc,PatchTSMixerModel:()=>tc,PatchTSMixerPreTrainedModel:()=>ec,PatchTSTForPrediction:()=>Ql,PatchTSTModel:()=>$l,PatchTSTPreTrainedModel:()=>Xl,Phi3ForCausalLM:()=>zr,Phi3Model:()=>Ir,Phi3PreTrainedModel:()=>Mr,Phi3VForCausalLM:()=>Yn,Phi3VPreTrainedModel:()=>Kn,PhiForCausalLM:()=>Fr,PhiModel:()=>Er,PhiPreTrainedModel:()=>Sr,PreTrainedModel:()=>oe,PretrainedMixin:()=>_c,PvtForImageClassification:()=>Qr,PvtModel:()=>$r,PvtPreTrainedModel:()=>Xr,PyAnnoteForAudioFrameClassification:()=>bs,PyAnnoteModel:()=>ys,PyAnnotePreTrainedModel:()=>gs,QuestionAnsweringModelOutput:()=>Uu,Qwen2ForCausalLM:()=>xr,Qwen2Model:()=>_r,Qwen2PreTrainedModel:()=>wr,Qwen2VLForConditionalGeneration:()=>Cr,Qwen2VLPreTrainedModel:()=>Ar,Qwen3ForCausalLM:()=>Dr,Qwen3Model:()=>Tr,Qwen3PreTrainedModel:()=>kr,RFDetrForObjectDetection:()=>Ui,RFDetrModel:()=>qi,RFDetrObjectDetectionOutput:()=>Gi,RFDetrPreTrainedModel:()=>Vi,RTDetrForObjectDetection:()=>Ni,RTDetrModel:()=>Pi,RTDetrObjectDetectionOutput:()=>Oi,RTDetrPreTrainedModel:()=>zi,RTDetrV2ForObjectDetection:()=>Ri,RTDetrV2Model:()=>Li,RTDetrV2ObjectDetectionOutput:()=>ji,RTDetrV2PreTrainedModel:()=>Bi,ResNetForImageClassification:()=>oo,ResNetModel:()=>io,ResNetPreTrainedModel:()=>ro,RoFormerForMaskedLM:()=>Te,RoFormerForQuestionAnswering:()=>Ce,RoFormerForSequenceClassification:()=>De,RoFormerForTokenClassification:()=>Ae,RoFormerModel:()=>ke,RoFormerPreTrainedModel:()=>xe,RobertaForMaskedLM:()=>cn,RobertaForQuestionAnswering:()=>hn,RobertaForSequenceClassification:()=>un,RobertaForTokenClassification:()=>dn,RobertaModel:()=>ln,RobertaPreTrainedModel:()=>sn,SamImageSegmentationOutput:()=>rs,SamModel:()=>as,SamPreTrainedModel:()=>ns,SapiensForDepthEstimation:()=>xo,SapiensForNormalEstimation:()=>ko,SapiensForSemanticSegmentation:()=>_o,SapiensPreTrainedModel:()=>wo,SegformerForImageClassification:()=>gl,SegformerForSemanticSegmentation:()=>yl,SegformerModel:()=>ml,SegformerPreTrainedModel:()=>fl,Seq2SeqLMOutput:()=>Lu,SequenceClassifierOutput:()=>Ru,SiglipModel:()=>na,SiglipPreTrainedModel:()=>ta,SiglipTextModel:()=>aa,SiglipVisionModel:()=>ra,SmolVLMForConditionalGeneration:()=>Wn,SnacDecoderModel:()=>wc,SnacEncoderModel:()=>vc,SnacModel:()=>bc,SnacPreTrainedModel:()=>yc,SpeechT5ForSpeechToText:()=>Ys,SpeechT5ForTextToSpeech:()=>Js,SpeechT5HifiGan:()=>Zs,SpeechT5Model:()=>Ks,SpeechT5PreTrainedModel:()=>Ws,SqueezeBertForMaskedLM:()=>St,SqueezeBertForQuestionAnswering:()=>Ft,SqueezeBertForSequenceClassification:()=>Et,SqueezeBertModel:()=>Ct,SqueezeBertPreTrainedModel:()=>At,StableLmForCausalLM:()=>wl,StableLmModel:()=>vl,StableLmPreTrainedModel:()=>bl,Starcoder2ForCausalLM:()=>rl,Starcoder2Model:()=>al,Starcoder2PreTrainedModel:()=>nl,StyleTextToSpeech2Model:()=>Hs,StyleTextToSpeech2PreTrainedModel:()=>Gs,Swin2SRForImageSuperResolution:()=>fo,Swin2SRModel:()=>po,Swin2SRPreTrainedModel:()=>ho,SwinForImageClassification:()=>co,SwinForSemanticSegmentation:()=>uo,SwinModel:()=>lo,SwinPreTrainedModel:()=>so,T5ForConditionalGeneration:()=>Lt,T5Model:()=>Bt,T5PreTrainedModel:()=>Ot,TableTransformerForObjectDetection:()=>Zi,TableTransformerModel:()=>Ji,TableTransformerObjectDetectionOutput:()=>Xi,TableTransformerPreTrainedModel:()=>Yi,TokenClassifierOutput:()=>Vu,TrOCRForCausalLM:()=>$s,TrOCRPreTrainedModel:()=>Xs,UltravoxModel:()=>rc,UltravoxPreTrainedModel:()=>ac,UniSpeechForCTC:()=>ks,UniSpeechForSequenceClassification:()=>Ts,UniSpeechModel:()=>xs,UniSpeechPreTrainedModel:()=>_s,UniSpeechSatForAudioFrameClassification:()=>Es,UniSpeechSatForCTC:()=>Cs,UniSpeechSatForSequenceClassification:()=>Ss,UniSpeechSatModel:()=>As,UniSpeechSatPreTrainedModel:()=>Ds,ViTForImageClassification:()=>Hr,ViTMAEModel:()=>ti,ViTMAEPreTrainedModel:()=>ei,ViTMSNForImageClassification:()=>ri,ViTMSNModel:()=>ai,ViTMSNPreTrainedModel:()=>ni,ViTModel:()=>Gr,ViTPreTrainedModel:()=>Ur,VisionEncoderDecoderModel:()=>Nn,VitMatteForImageMatting:()=>di,VitMattePreTrainedModel:()=>ui,VitPoseForPoseEstimation:()=>Zr,VitPosePreTrainedModel:()=>Jr,VitsModel:()=>pl,VitsModelOutput:()=>Ku,VitsPreTrainedModel:()=>hl,Wav2Vec2BertForCTC:()=>Is,Wav2Vec2BertForSequenceClassification:()=>zs,Wav2Vec2BertModel:()=>Ms,Wav2Vec2BertPreTrainedModel:()=>Fs,Wav2Vec2ForAudioFrameClassification:()=>ms,Wav2Vec2ForCTC:()=>ps,Wav2Vec2ForSequenceClassification:()=>fs,Wav2Vec2Model:()=>hs,Wav2Vec2PreTrainedModel:()=>ds,WavLMForAudioFrameClassification:()=>Us,WavLMForCTC:()=>js,WavLMForSequenceClassification:()=>Vs,WavLMForXVector:()=>qs,WavLMModel:()=>Rs,WavLMPreTrainedModel:()=>Ls,WeSpeakerResNetModel:()=>ws,WeSpeakerResNetPreTrainedModel:()=>vs,WhisperForConditionalGeneration:()=>Fn,WhisperModel:()=>En,WhisperPreTrainedModel:()=>Sn,XLMForQuestionAnswering:()=>bn,XLMForSequenceClassification:()=>gn,XLMForTokenClassification:()=>yn,XLMModel:()=>fn,XLMPreTrainedModel:()=>pn,XLMRobertaForMaskedLM:()=>_n,XLMRobertaForQuestionAnswering:()=>Tn,XLMRobertaForSequenceClassification:()=>xn,XLMRobertaForTokenClassification:()=>kn,XLMRobertaModel:()=>wn,XLMRobertaPreTrainedModel:()=>vn,XLMWithLMHeadModel:()=>mn,XVectorOutput:()=>ju,YolosForObjectDetection:()=>es,YolosModel:()=>Qo,YolosObjectDetectionOutput:()=>ts,YolosPreTrainedModel:()=>$o});var a=n("./src/configs.js"),r=n("./src/backends/onnx.js"),o=n("./src/utils/dtypes.js"),s=n("./src/utils/generic.js"),c=n("./src/utils/core.js"),d=n("./src/utils/hub.js"),h=n("./src/utils/constants.js"),p=n("./src/generation/logits_process.js"),f=n("./src/generation/configuration_utils.js"),m=n("./src/utils/tensor.js"),g=n("./src/utils/image.js"),y=n("./src/utils/maths.js"),b=n("./src/generation/stopping_criteria.js"),v=n("./src/generation/logits_sampler.js"),w=n("./src/env.js"),_=n("./src/models/whisper/generation_whisper.js"),x=n("./src/models/whisper/common_whisper.js");const k=0,T=1,D=2,A=3,C=4,S=5,E=6,M=7,I=8,z=9,P=10,N=11,O=new Map,B=new Map,L=new Map;async function R(e,t,n){return Object.fromEntries(await Promise.all(Object.keys(t).map((async i=>{const{buffer_or_path:s,session_options:l,session_config:c}=await async function(e,t,n){var i,s,l,c,h,p,f,m,g;let y=null!==(i=null===(s=n.config)||void 0===s?void 0:s["transformers.js_config"])&&void 0!==i?i:{},b=null!==(l=n.device)&&void 0!==l?l:y.device;b&&"string"!==typeof b&&(b.hasOwnProperty(t)?b=b[t]:(console.warn('device not specified for "'.concat(t,'". Using the default device.')),b=null));const v=null!==b&&void 0!==b?b:w.apis.IS_NODE_ENV?"cpu":"wasm",_=(0,r.deviceToExecutionProviders)(v),x=null!==(c=y.device_config)&&void 0!==c?c:{};x.hasOwnProperty(v)&&(y=u(u({},y),x[v]));let k=null!==(h=n.dtype)&&void 0!==h?h:y.dtype;var T;if("string"!==typeof k&&(k&&k.hasOwnProperty(t)?k=k[t]:(k=null!==(T=o.DEFAULT_DEVICE_DTYPE_MAPPING[v])&&void 0!==T?T:o.DATA_TYPES.fp32,console.warn('dtype not specified for "'.concat(t,'". Using the default dtype (').concat(k,") for this device (").concat(v,").")))),k===o.DATA_TYPES.auto){let e=y.dtype;var D,A;"string"!==typeof e&&(e=null===(D=e)||void 0===D?void 0:D[t]),k=e&&e!==o.DATA_TYPES.auto&&o.DATA_TYPES.hasOwnProperty(e)?e:null!==(A=o.DEFAULT_DEVICE_DTYPE_MAPPING[v])&&void 0!==A?A:o.DATA_TYPES.fp32}const C=k;if(!o.DEFAULT_DTYPE_SUFFIX_MAPPING.hasOwnProperty(C))throw new Error("Invalid dtype: ".concat(C,". Should be one of: ").concat(Object.keys(o.DATA_TYPES).join(", ")));if(C===o.DATA_TYPES.fp16&&"webgpu"===v&&!await(0,o.isWebGpuFp16Supported)())throw new Error("The device (".concat(v,") does not support fp16."));const S=y.kv_cache_dtype,E=S?"string"===typeof S?S:null!==(p=S[C])&&void 0!==p?p:"float32":void 0;if(E&&!["float32","float16"].includes(E))throw new Error("Invalid kv_cache_dtype: ".concat(E,". Should be one of: float32, float16"));const F={dtype:C,kv_cache_dtype:E,device:v},M=o.DEFAULT_DTYPE_SUFFIX_MAPPING[C],I="".concat(t).concat(M,".onnx"),z="".concat(null!==(f=n.subfolder)&&void 0!==f?f:"","/").concat(I),P=u({},n.session_options);null!==(m=P.executionProviders)&&void 0!==m||(P.executionProviders=_);const N=y.free_dimension_overrides;var O;N?null!==(O=P.freeDimensionOverrides)&&void 0!==O||(P.freeDimensionOverrides=N):v.startsWith("webnn")&&!P.freeDimensionOverrides&&console.warn('WebNN does not currently support dynamic shapes and requires \'free_dimension_overrides\' to be set in config.json, preferably as a field within config["transformers.js_config"]["device_config"]["'.concat(v,'"]. ')+"When 'free_dimension_overrides' is not set, you may experience significant performance degradation.");const B=w.apis.IS_NODE_ENV&&w.env.useFSCache,L=(0,d.getModelFile)(e,z,!0,n,B),R=null!==(g=n.use_external_data_format)&&void 0!==g?g:y.use_external_data_format;let j=[];if(R){let a;a="object"===typeof R?R.hasOwnProperty(I)?R[I]:!!R.hasOwnProperty(t)&&R[t]:R;const r=+a;if(r>d.MAX_EXTERNAL_DATA_CHUNKS)throw new Error("The number of external data chunks (".concat(r,") exceeds the maximum allowed value (").concat(d.MAX_EXTERNAL_DATA_CHUNKS,")."));for(let t=0;t<r;++t){var V;const a="".concat(I,"_data").concat(0===t?"":"_"+t),r="".concat(null!==(V=n.subfolder)&&void 0!==V?V:"","/").concat(a);j.push(new Promise((async(t,i)=>{const o=await(0,d.getModelFile)(e,r,!0,n,B);t(o instanceof Uint8Array?{path:a,data:o}:a)})))}}else void 0!==P.externalData&&(j=P.externalData.map((async t=>{if("string"===typeof t.data){const a=await(0,d.getModelFile)(e,t.data,!0,n);return u(u({},t),{},{data:a})}return t})));if(j.length>0){const e=await Promise.all(j);w.apis.IS_NODE_ENV||(P.externalData=e)}if("webgpu"===v){const e=(0,a.getKeyValueShapes)(n.config,{prefix:"present"});if(Object.keys(e).length>0&&!(0,r.isONNXProxy)()){const t={};for(const n in e)t[n]="gpu-buffer";P.preferredOutputLocation=t}}return{buffer_or_path:await L,session_options:P,session_config:F}}(e,t[i],n);return[i,await(0,r.createInferenceSession)(s,l,c)]}))))}async function j(e,t,n){return Object.fromEntries(await Promise.all(Object.keys(t).map((async a=>[a,await(0,d.getModelJSON)(e,t[a],!1,n)]))))}let V=Promise.resolve();async function q(e,t){const n=function(e,t){const n=Object.create(null),a=[];for(const s of e.inputNames){const e=t[s];e instanceof m.Tensor?n[s]=(0,r.isONNXProxy)()?e.clone():e:a.push(s)}if(a.length>0)throw new Error('An error occurred during model execution: "Missing the following inputs: '.concat(a.join(", "),"."));const i=Object.keys(t).length,o=e.inputNames.length;if(i>o){let n=Object.keys(t).filter((t=>!e.inputNames.includes(t)));console.warn("WARNING: Too many inputs were provided (".concat(i," > ").concat(o,'). The following inputs will be ignored: "').concat(n.join(", "),'".'))}return n}(e,t);try{const t=Object.fromEntries(Object.entries(n).map((e=>{let[t,n]=e;return[t,n.ort_tensor]}))),a=()=>e.run(t);return U(await(w.apis.IS_BROWSER_ENV||w.apis.IS_WEBWORKER_ENV?V=V.then(a):a()))}catch(F){const t=Object.fromEntries(Object.entries(n).map((e=>{let[t,n]=e;const a={type:n.type,dims:n.dims,location:n.location};return"gpu-buffer"!==a.location&&(a.data=n.data),[t,a]})));throw console.error('An error occurred during model execution: "'.concat(F,'".')),console.error("Inputs given to model:",t),F}}function U(e){for(let t in e)(0,r.isONNXTensor)(e[t])?e[t]=new m.Tensor(e[t]):"object"===typeof e[t]&&U(e[t]);return e}function G(e){if(e instanceof m.Tensor)return e;if(0===e.length)throw Error("items must be non-empty");if(Array.isArray(e[0])){if(e.some((t=>t.length!==e[0].length)))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new m.Tensor("int64",BigInt64Array.from(e.flat().map((e=>BigInt(e)))),[e.length,e[0].length])}return new m.Tensor("int64",BigInt64Array.from(e.map((e=>BigInt(e)))),[1,e.length])}function H(e){return new m.Tensor("bool",[e],[1])}async function W(e,t){let{encoder_outputs:n,input_ids:a,decoder_input_ids:r}=t,o=i(t,Kd);if(!n){const a=(0,c.pick)(t,e.sessions.model.inputNames);n=(await K(e,a)).last_hidden_state}o.input_ids=r,o.encoder_hidden_states=n,e.sessions.decoder_model_merged.inputNames.includes("encoder_attention_mask")&&(o.encoder_attention_mask=t.attention_mask);return await J(e,o,!0)}async function K(e,t){const n=e.sessions.model,a=(0,c.pick)(t,n.inputNames);if(n.inputNames.includes("inputs_embeds")&&!a.inputs_embeds){if(!t.input_ids)throw new Error("Both `input_ids` and `inputs_embeds` are missing in the model inputs.");a.inputs_embeds=await e.encode_text({input_ids:t.input_ids})}if(n.inputNames.includes("token_type_ids")&&!a.token_type_ids){if(!a.input_ids)throw new Error("Both `input_ids` and `token_type_ids` are missing in the model inputs.");a.token_type_ids=(0,m.zeros_like)(a.input_ids)}if(n.inputNames.includes("pixel_mask")&&!a.pixel_mask){if(!a.pixel_values)throw new Error("Both `pixel_values` and `pixel_mask` are missing in the model inputs.");const e=a.pixel_values.dims;a.pixel_mask=(0,m.ones)([e[0],e[2],e[3]])}return await q(n,a)}async function Y(e,t){const n=await e.encode(t);return await e.decode(n)}async function J(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=e.sessions[n?"decoder_model_merged":"model"],{past_key_values:r}=t,o=i(t,Yd);if(a.inputNames.includes("use_cache_branch")&&(o.use_cache_branch=H(!!r)),a.inputNames.includes("position_ids")&&o.attention_mask&&!o.position_ids){const t=["paligemma","gemma3_text","gemma3"].includes(e.config.model_type)?1:0;o.position_ids=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{input_ids:a,inputs_embeds:r,attention_mask:i}=e,{data:o,dims:s}=te(i,n);let l=new m.Tensor("int64",o,s);if(t){const e=-(null!==a&&void 0!==a?a:r).dims.at(1);l=l.slice(null,[e,null])}return l}(o,r,t)}e.addPastKeyValues(o,r);const s=(0,c.pick)(o,a.inputNames);return await q(a,s)}function Z(e){let{modality_token_id:t,inputs_embeds:n,modality_features:a,input_ids:r,attention_mask:i}=e;const o=r.tolist().map((e=>e.reduce(((e,n,a)=>(n==t&&e.push(a),e)),[]))),s=o.reduce(((e,t)=>e+t.length),0),l=a.dims[0];if(s!==l)throw new Error("Number of tokens and features do not match: tokens: ".concat(s,", features ").concat(l));let c=0;for(let u=0;u<o.length;++u){const e=o[u],t=n[u];for(let n=0;n<e.length;++n)t[e[n]].data.set(a[c++].data)}return{inputs_embeds:n,attention_mask:i}}function X(e){let{image_token_id:t,inputs_embeds:n,image_features:a,input_ids:r,attention_mask:i}=e;return Z({modality_token_id:t,inputs_embeds:n,modality_features:a,input_ids:r,attention_mask:i})}async function $(e,t){let{encode_function:n,merge_function:a,modality_input_name:r,modality_output_name:o,input_ids:s=null,attention_mask:l=null,position_ids:c=null,inputs_embeds:d=null,past_key_values:h=null,generation_config:p=null,logits_processor:f=null}=t,g=i(t,Jd);const y=g[r];if(!d)if(d=await e.encode_text(u({input_ids:s},g)),y&&1!==s.dims[1]){const e=await n(u({[r]:y},g));({inputs_embeds:d,attention_mask:l}=a({[o]:e,inputs_embeds:d,input_ids:s,attention_mask:l}))}else if(h&&y&&1===s.dims[1]){const e=s.dims[1],t=Object.values(h)[0].dims.at(-2);l=(0,m.cat)([(0,m.ones)([s.dims[0],t]),l.slice(null,[l.dims[1]-e,l.dims[1]])],1)}if(!c&&"qwen2_vl"===e.config.model_type){const{image_grid_thw:t,video_grid_thw:n}=g;[c]=e.get_rope_index(s,t,n,l)}return await J(e,{inputs_embeds:d,past_key_values:h,attention_mask:l,position_ids:c,generation_config:p,logits_processor:f},!0)}async function Q(e,t){return await $(e,u(u({},t),{},{modality_input_name:"audio_values",modality_output_name:"audio_features",encode_function:e.encode_audio.bind(e),merge_function:e._merge_input_ids_with_audio_features.bind(e)}))}async function ee(e,t){return await $(e,u(u({},t),{},{modality_input_name:"pixel_values",modality_output_name:"image_features",encode_function:e.encode_image.bind(e),merge_function:e._merge_input_ids_with_image_features.bind(e)}))}function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[n,a]=e.dims,r=e.data,i=new BigInt64Array(r.length);for(let o=0;o<n;++o){const e=o*a;let n=BigInt(t);for(let t=0;t<a;++t){const a=e+t;0n===r[a]?i[a]=BigInt(1):(i[a]=n,n+=r[a])}}return{data:i,dims:e.dims}}function ne(e,t,n,a){if(n.past_key_values){const t=Object.values(n.past_key_values)[0].dims.at(-2),{input_ids:a,attention_mask:r}=n;if(r&&r.dims[1]>a.dims[1]);else if(t<a.dims[1])n.input_ids=a.slice(null,[t,null]);else if(null!=e.config.image_token_index&&a.data.some((t=>t==e.config.image_token_index))){const r=e.config.num_image_tokens;if(!r)throw new Error("`num_image_tokens` is missing in the model configuration.");const i=a.dims[1]-(t-r);n.input_ids=a.slice(null,[-i,null]),n.attention_mask=(0,m.ones)([1,t+i])}}return n}function ae(e,t,n,a){return n.past_key_values&&(t=t.map((e=>[e.at(-1)]))),u(u({},n),{},{decoder_input_ids:G(t)})}function re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.config.is_encoder_decoder?ae(e,...n):ne(e,...n)}function ie(e,t,n,a){const r=!!n.past_key_values;if(null!==a.guidance_scale&&a.guidance_scale>1&&(r?n.input_ids=(0,m.cat)([n.input_ids,n.input_ids],0):(n.input_ids=(0,m.cat)([n.input_ids,(0,m.full_like)(n.input_ids,BigInt(a.pad_token_id))],0),n.attention_mask=(0,m.cat)([n.attention_mask,(0,m.full_like)(n.attention_mask,0n)],0))),!r&&n.pixel_values||(n.pixel_values=(0,m.full)([0,0,3,384,384],1)),r){const e=0,t=1,a=e>0?1:0,r=1;n.images_seq_mask=new m.Tensor("bool",new Array(e+t).fill(!0).fill(!1,0,t),[r,e+t]),n.images_emb_mask=new m.Tensor("bool",new Array(e).fill(!!a),[r,1,e])}return n}class oe extends s.Callable{constructor(e,t,n){var a;super(),l(this,"main_input_name","input_ids"),l(this,"forward_params",["input_ids","attention_mask"]),this.config=e,this.sessions=t,this.configs=n;const r=L.get(this.constructor),i=O.get(r);switch(this.can_generate=!1,this._forward=null,this._prepare_inputs_for_generation=null,i){case C:this.can_generate=!0,this._forward=J,this._prepare_inputs_for_generation=ne;break;case D:case A:case M:this.can_generate=!0,this._forward=W,this._prepare_inputs_for_generation=ae;break;case T:this._forward=W;break;case E:this.can_generate=!0,this._forward=ee,this._prepare_inputs_for_generation=re;break;case P:this.can_generate=!0,this._forward=Q,this._prepare_inputs_for_generation=re;break;case z:this.can_generate=!0,this._prepare_inputs_for_generation=re;break;case I:this.can_generate=!0,this._prepare_inputs_for_generation=ie;break;case N:this._forward=Y;break;default:this._forward=K}this.can_generate&&this.forward_params.push("past_key_values"),this.custom_config=null!==(a=this.config["transformers.js_config"])&&void 0!==a?a:{}}async dispose(){const e=[];for(const n of Object.values(this.sessions)){var t;null!==n&&void 0!==n&&null!==(t=n.handler)&&void 0!==t&&t.dispose&&e.push(n.handler.dispose())}return await Promise.all(e)}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:i=!1,revision:o="main",model_file_name:s=null,subfolder:l="onnx",device:c=null,dtype:u=null,use_external_data_format:d=null,session_options:p={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f={progress_callback:t,config:n,cache_dir:r,local_files_only:i,revision:o,model_file_name:s,subfolder:l,device:c,dtype:u,use_external_data_format:d,session_options:p};const m=L.get(this),g=O.get(m);let y;var b;if(n=f.config=await a.AutoConfig.from_pretrained(e,f),g===C)y=await Promise.all([R(e,{model:null!==(b=f.model_file_name)&&void 0!==b?b:"model"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===D||g===A)y=await Promise.all([R(e,{model:"encoder_model",decoder_model_merged:"decoder_model_merged"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===S)y=await Promise.all([R(e,{model:"vision_encoder",prompt_encoder_mask_decoder:"prompt_encoder_mask_decoder"},f)]);else if(g===T)y=await Promise.all([R(e,{model:"encoder_model",decoder_model_merged:"decoder_model_merged"},f)]);else if(g===E){const t={embed_tokens:"embed_tokens",vision_encoder:"vision_encoder",decoder_model_merged:"decoder_model_merged"};n.is_encoder_decoder&&(t.model="encoder_model"),y=await Promise.all([R(e,t,f),j(e,{generation_config:"generation_config.json"},f)])}else if(g===P){const t={embed_tokens:"embed_tokens",audio_encoder:"audio_encoder",decoder_model_merged:"decoder_model_merged"};y=await Promise.all([R(e,t,f),j(e,{generation_config:"generation_config.json"},f)])}else if(g===M)y=await Promise.all([R(e,{model:"text_encoder",decoder_model_merged:"decoder_model_merged",encodec_decode:"encodec_decode"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===I)y=await Promise.all([R(e,{prepare_inputs_embeds:"prepare_inputs_embeds",model:"language_model",lm_head:"lm_head",gen_head:"gen_head",gen_img_embeds:"gen_img_embeds",image_decode:"image_decode"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===z)y=await Promise.all([R(e,{prepare_inputs_embeds:"prepare_inputs_embeds",model:"model",vision_encoder:"vision_encoder"},f),j(e,{generation_config:"generation_config.json"},f)]);else if(g===N)y=await Promise.all([R(e,{encoder_model:"encoder_model",decoder_model:"decoder_model"},f)]);else{var v;if(g!==k){var w;const e=null!==m&&void 0!==m?m:null===(w=n)||void 0===w?void 0:w.model_type;"custom"!==e&&console.warn("Model type for '".concat(e,"' not found, assuming encoder-only architecture. Please report this at ").concat(h.GITHUB_ISSUE_URL,"."))}y=await Promise.all([R(e,{model:null!==(v=f.model_file_name)&&void 0!==v?v:"model"},f)])}return new this(n,...y)}async _call(e){return await this.forward(e)}async forward(e){return await this._forward(this,e)}get generation_config(){var e,t;return null!==(e=null===(t=this.configs)||void 0===t?void 0:t.generation_config)&&void 0!==e?e:null}_get_logits_warper(e){const t=new p.LogitsProcessorList;return null!==e.temperature&&1!==e.temperature&&t.push(new p.TemperatureLogitsWarper(e.temperature)),null!==e.top_k&&0!==e.top_k&&t.push(new p.TopKLogitsWarper(e.top_k)),null!==e.top_p&&e.top_p<1&&t.push(new p.TopPLogitsWarper(e.top_p)),t}_get_logits_processor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=new p.LogitsProcessorList;if(null!==e.repetition_penalty&&1!==e.repetition_penalty&&a.push(new p.RepetitionPenaltyLogitsProcessor(e.repetition_penalty)),null!==e.no_repeat_ngram_size&&e.no_repeat_ngram_size>0&&a.push(new p.NoRepeatNGramLogitsProcessor(e.no_repeat_ngram_size)),null!==e.bad_words_ids&&a.push(new p.NoBadWordsLogitsProcessor(e.bad_words_ids,e.eos_token_id)),null!==e.min_length&&null!==e.eos_token_id&&e.min_length>0&&a.push(new p.MinLengthLogitsProcessor(e.min_length,e.eos_token_id)),null!==e.min_new_tokens&&null!==e.eos_token_id&&e.min_new_tokens>0&&a.push(new p.MinNewTokensLengthLogitsProcessor(t,e.min_new_tokens,e.eos_token_id)),null!==e.forced_bos_token_id&&a.push(new p.ForcedBOSTokenLogitsProcessor(e.forced_bos_token_id)),null!==e.forced_eos_token_id&&a.push(new p.ForcedEOSTokenLogitsProcessor(e.max_length,e.forced_eos_token_id)),null!==e.begin_suppress_tokens){const n=t>1||null===e.forced_bos_token_id?t:t+1;a.push(new p.SuppressTokensAtBeginLogitsProcessor(e.begin_suppress_tokens,n))}return null!==e.guidance_scale&&e.guidance_scale>1&&a.push(new p.ClassifierFreeGuidanceLogitsProcessor(e.guidance_scale)),null!==n&&a.extend(n),a}_prepare_generation_config(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.GenerationConfig;const r=u({},this.config);for(const o of["decoder","generator","text_config"])o in r&&Object.assign(r,r[o]);const i=new a(r);return Object.assign(i,null!==(n=this.generation_config)&&void 0!==n?n:{}),e&&Object.assign(i,e),t&&Object.assign(i,(0,c.pick)(t,Object.getOwnPropertyNames(i))),i}_get_stopping_criteria(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new b.StoppingCriteriaList;var a;null!==e.max_length&&n.push(new b.MaxLengthCriteria(e.max_length,null!==(a=this.config.max_position_embeddings)&&void 0!==a?a:null));return null!==e.eos_token_id&&n.push(new b.EosTokenCriteria(e.eos_token_id)),t&&n.extend(t),n}_validate_model_class(){if(!this.can_generate){const e=[Ic,Oc,Mc,Ac],t=L.get(this.constructor),n=new Set,a=this.config.model_type;for(const i of e){const e=i.get(a);e&&n.add(e[0])}let r="The current model class (".concat(t,") is not compatible with `.generate()`, as it doesn't have a language model head.");throw n.size>0&&(r+=" Please use the following class instead: ".concat([...n].join(", "))),Error(r)}}prepare_inputs_for_generation(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._prepare_inputs_for_generation(this,...t)}_update_model_kwargs_for_generation(e){let{generated_input_ids:t,outputs:n,model_inputs:a,is_encoder_decoder:r}=e;return a.past_key_values=this.getPastKeyValues(n,a.past_key_values),a.input_ids=new m.Tensor("int64",t.flat(),[t.length,1]),r||(a.attention_mask=(0,m.cat)([a.attention_mask,(0,m.ones)([a.attention_mask.dims[0],1])],1)),a.position_ids=null,a}_prepare_model_inputs(e){let{inputs:t,bos_token_id:n,model_kwargs:a}=e;const r=(0,c.pick)(a,this.forward_params),i=this.main_input_name;if(i in r){if(t)throw new Error("`inputs`: {inputs}` were passed alongside {input_name} which is not allowed. Make sure to either pass {inputs} or {input_name}=...")}else r[i]=t;return{inputs_tensor:r[i],model_inputs:r,model_input_name:i}}async _prepare_encoder_decoder_kwargs_for_generation(e){let{inputs_tensor:t,model_inputs:n,model_input_name:a,generation_config:r}=e;if(this.sessions.model.inputNames.includes("inputs_embeds")&&!n.inputs_embeds&&"_prepare_inputs_embeds"in this){const{input_ids:e,pixel_values:t,attention_mask:a}=n,r=i(n,Zd),o=await this._prepare_inputs_embeds(n);n=u(u({},r),(0,c.pick)(o,["inputs_embeds","attention_mask"]))}let{last_hidden_state:o}=await K(this,n);if(null!==r.guidance_scale&&r.guidance_scale>1)o=(0,m.cat)([o,(0,m.full_like)(o,0)],0),"attention_mask"in n&&(n.attention_mask=(0,m.cat)([n.attention_mask,(0,m.zeros_like)(n.attention_mask)],0));else if(n.decoder_input_ids){const e=G(n.decoder_input_ids).dims[0];if(e!==o.dims[0]){if(1!==o.dims[0])throw new Error("The encoder outputs have a different batch size (".concat(o.dims[0],") than the decoder inputs (").concat(e,")."));o=(0,m.cat)(Array.from({length:e},(()=>o)),0)}}return n.encoder_outputs=o,n}_prepare_decoder_input_ids_for_generation(e){let{batch_size:t,model_input_name:n,model_kwargs:a,decoder_start_token_id:r,bos_token_id:o,generation_config:s}=e,{decoder_input_ids:l}=a,c=i(a,Xd);if(!(l instanceof m.Tensor)){if(l)Array.isArray(l[0])||(l=Array.from({length:t},(()=>l)));else if(null!==r&&void 0!==r||(r=o),"musicgen"===this.config.model_type)l=Array.from({length:t*this.config.decoder.num_codebooks},(()=>[r]));else if(Array.isArray(r)){if(r.length!==t)throw new Error("`decoder_start_token_id` expcted to have length ".concat(t," but got ").concat(r.length));l=r}else l=Array.from({length:t},(()=>[r]));l=G(l)}return a.decoder_attention_mask=(0,m.ones_like)(l),{input_ids:l,model_inputs:c}}async generate(e){let{inputs:t=null,generation_config:n=null,logits_processor:a=null,stopping_criteria:r=null,streamer:o=null}=e,s=i(e,$d);this._validate_model_class(),n=this._prepare_generation_config(n,s);let{inputs_tensor:l,model_inputs:c,model_input_name:d}=this._prepare_model_inputs({inputs:t,model_kwargs:s});const h=this.config.is_encoder_decoder;let p;h&&("encoder_outputs"in c||(c=await this._prepare_encoder_decoder_kwargs_for_generation({inputs_tensor:l,model_inputs:c,model_input_name:d,generation_config:n}))),h?({input_ids:p,model_inputs:c}=this._prepare_decoder_input_ids_for_generation({batch_size:c[d].dims.at(0),model_input_name:d,model_kwargs:c,decoder_start_token_id:n.decoder_start_token_id,bos_token_id:n.bos_token_id,generation_config:n})):p=c[d];let f=p.dims.at(-1);null!==n.max_new_tokens&&(n.max_length=f+n.max_new_tokens);const g=this._get_logits_processor(n,f,a),y=this._get_stopping_criteria(n,r),b=c[d].dims.at(0),w=v.LogitsSampler.getSampler(n),_=new Array(b).fill(0),x=p.tolist();let k;o&&o.put(x);let T={};for(;;){if(c=this.prepare_inputs_for_generation(x,c,n),k=await this.forward(c),n.output_attentions&&n.return_dict_in_generate){const e=this.getAttentions(k);for(const t in e)t in T||(T[t]=[]),T[t].push(e[t])}const e=g(x,k.logits.slice(null,-1,null)),t=[];for(let n=0;n<e.dims.at(0);++n){const a=e[n],r=await w(a);for(const[e,i]of r){const a=BigInt(e);_[n]+=i,x[n].push(a),t.push([a]);break}}o&&o.put(t);if(y(x).every((e=>e)))break;c=this._update_model_kwargs_for_generation({generated_input_ids:t,outputs:k,model_inputs:c,is_encoder_decoder:h})}o&&o.end();const D=this.getPastKeyValues(k,c.past_key_values,!0),A=new m.Tensor("int64",x.flat(),[x.length,x[0].length]);if(n.return_dict_in_generate)return u({sequences:A,past_key_values:D},T);for(const i of Object.values(k))"gpu-buffer"===i.location&&i.dispose();return A}getPastKeyValues(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Object.create(null);for(const r in e)if(r.startsWith("present")){const i=r.replace("present","past_key_values"),o=r.includes("encoder");if(a[i]=o&&t?t[i]:e[r],t&&(!o||n)){const e=t[i];"gpu-buffer"===e.location&&e.dispose()}}return a}getAttentions(e){const t={};for(const n of["cross_attentions","encoder_attentions","decoder_attentions"])for(const a in e)a.startsWith(n)&&(n in t||(t[n]=[]),t[n].push(e[a]));return t}addPastKeyValues(e,t){if(t)Object.assign(e,t);else{var n,r,i,o,s,l;const t=null!==(n=this.sessions.decoder_model_merged)&&void 0!==n?n:this.sessions.model,c=null!==(r=null===t||void 0===t||null===(i=t.config)||void 0===i?void 0:i.kv_cache_dtype)&&void 0!==r?r:"float32",u="float16"===c?new m.DataTypeMap.float16:[],d=null!==(o=null===(s=null!==(l=e[this.main_input_name])&&void 0!==l?l:e.attention_mask)||void 0===s||null===(s=s.dims)||void 0===s?void 0:s[0])&&void 0!==o?o:1,h=(0,a.getKeyValueShapes)(this.config,{batch_size:d});for(const n in h)e[n]=new m.Tensor(c,u,h[n])}}async encode_image(e){let{pixel_values:t}=e;const n=(await q(this.sessions.vision_encoder,{pixel_values:t})).image_features;return this.config.num_image_tokens||(console.warn("The number of image tokens was not set in the model configuration. "+"Setting it to the number of features detected by the vision encoder (".concat(n.dims[1],").")),this.config.num_image_tokens=n.dims[1]),n}async encode_text(e){let{input_ids:t}=e;return(await q(this.sessions.embed_tokens,{input_ids:t})).inputs_embeds}async encode_audio(e){let{audio_values:t}=e;return(await q(this.sessions.audio_encoder,{audio_values:t})).audio_features}}class se{}class le extends se{constructor(e){let{last_hidden_state:t,hidden_states:n=null,attentions:a=null}=e;super(),this.last_hidden_state=t,this.hidden_states=n,this.attentions=a}}class ce extends oe{}class ue extends ce{}class de extends ce{async _call(e){return new qu(await super._call(e))}}class he extends ce{async _call(e){return new Ru(await super._call(e))}}class pe extends ce{async _call(e){return new Vu(await super._call(e))}}class fe extends ce{async _call(e){return new Uu(await super._call(e))}}class me extends oe{}class ge extends me{}class ye extends me{async _call(e){return new qu(await super._call(e))}}class be extends me{async _call(e){return new Ru(await super._call(e))}}class ve extends me{async _call(e){return new Vu(await super._call(e))}}class we extends oe{}class _e extends we{}class xe extends oe{}class ke extends xe{}class Te extends xe{async _call(e){return new qu(await super._call(e))}}class De extends xe{async _call(e){return new Ru(await super._call(e))}}class Ae extends xe{async _call(e){return new Vu(await super._call(e))}}class Ce extends xe{async _call(e){return new Uu(await super._call(e))}}class Se extends oe{}class Ee extends Se{}class Fe extends Se{async _call(e){return new qu(await super._call(e))}}class Me extends Se{async _call(e){return new Ru(await super._call(e))}}class Ie extends Se{async _call(e){return new Vu(await super._call(e))}}class ze extends Se{async _call(e){return new Uu(await super._call(e))}}class Pe extends oe{}class Ne extends Pe{}class Oe extends Pe{async _call(e){return new qu(await super._call(e))}}class Be extends Pe{async _call(e){return new Ru(await super._call(e))}}class Le extends Pe{async _call(e){return new Vu(await super._call(e))}}class Re extends Pe{async _call(e){return new Uu(await super._call(e))}}class je extends oe{}class Ve extends je{}class qe extends je{async _call(e){return new qu(await super._call(e))}}class Ue extends je{async _call(e){return new Ru(await super._call(e))}}class Ge extends je{async _call(e){return new Vu(await super._call(e))}}class He extends je{async _call(e){return new Uu(await super._call(e))}}class We extends oe{}class Ke extends We{}class Ye extends We{async _call(e){return new qu(await super._call(e))}}class Je extends We{async _call(e){return new Ru(await super._call(e))}}class Ze extends We{async _call(e){return new Vu(await super._call(e))}}class Xe extends We{async _call(e){return new Uu(await super._call(e))}}class $e extends oe{}class Qe extends $e{}class et extends $e{async _call(e){return new qu(await super._call(e))}}class tt extends $e{async _call(e){return new Ru(await super._call(e))}}class nt extends $e{async _call(e){return new Vu(await super._call(e))}}class at extends $e{async _call(e){return new Uu(await super._call(e))}}class rt extends oe{}class it extends rt{}class ot extends rt{async _call(e){return new Ru(await super._call(e))}}class st extends rt{async _call(e){return new Vu(await super._call(e))}}class lt extends rt{async _call(e){return new Uu(await super._call(e))}}class ct extends rt{async _call(e){return new qu(await super._call(e))}}class ut extends oe{}class dt extends ut{}class ht extends ut{async _call(e){return new qu(await super._call(e))}}class pt extends ut{async _call(e){return new Ru(await super._call(e))}}class ft extends ut{async _call(e){return new Vu(await super._call(e))}}class mt extends oe{}class gt extends mt{}class yt extends mt{async _call(e){return new qu(await super._call(e))}}class bt extends mt{async _call(e){return new Ru(await super._call(e))}}class vt extends mt{async _call(e){return new Uu(await super._call(e))}}class wt extends oe{}class _t extends wt{}class xt extends wt{async _call(e){return new qu(await super._call(e))}}class kt extends wt{async _call(e){return new Ru(await super._call(e))}}class Tt extends wt{async _call(e){return new Vu(await super._call(e))}}class Dt extends wt{async _call(e){return new Uu(await super._call(e))}}class At extends oe{}class Ct extends At{}class St extends At{async _call(e){return new qu(await super._call(e))}}class Et extends At{async _call(e){return new Ru(await super._call(e))}}class Ft extends At{async _call(e){return new Uu(await super._call(e))}}class Mt extends oe{}class It extends Mt{}class zt extends Mt{async _call(e){return new Ru(await super._call(e))}}class Pt extends Mt{async _call(e){return new Uu(await super._call(e))}}class Nt extends Mt{async _call(e){return new qu(await super._call(e))}}class Ot extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","encoder_outputs","decoder_input_ids","decoder_attention_mask","past_key_values"])}}class Bt extends Ot{}class Lt extends Ot{}class Rt extends oe{}class jt extends Rt{}class Vt extends Rt{}class qt extends oe{}class Ut extends qt{}class Gt extends qt{}class Ht extends oe{}class Wt extends Ht{}class Kt extends Ht{}class Yt extends Ht{async _call(e){return new Ru(await super._call(e))}}class Jt extends oe{}class Zt extends Jt{}class Xt extends Jt{}class $t extends Jt{async _call(e){return new Ru(await super._call(e))}}class Qt extends Jt{}class en extends oe{}class tn extends en{}class nn extends en{}class an extends oe{}class rn extends an{}class on extends an{}class sn extends oe{}class ln extends sn{}class cn extends sn{async _call(e){return new qu(await super._call(e))}}class un extends sn{async _call(e){return new Ru(await super._call(e))}}class dn extends sn{async _call(e){return new Vu(await super._call(e))}}class hn extends sn{async _call(e){return new Uu(await super._call(e))}}class pn extends oe{}class fn extends pn{}class mn extends pn{async _call(e){return new qu(await super._call(e))}}class gn extends pn{async _call(e){return new Ru(await super._call(e))}}class yn extends pn{async _call(e){return new Vu(await super._call(e))}}class bn extends pn{async _call(e){return new Uu(await super._call(e))}}class vn extends oe{}class wn extends vn{}class _n extends vn{async _call(e){return new qu(await super._call(e))}}class xn extends vn{async _call(e){return new Ru(await super._call(e))}}class kn extends vn{async _call(e){return new Vu(await super._call(e))}}class Tn extends vn{async _call(e){return new Uu(await super._call(e))}}class Dn extends oe{}class An extends Dn{}class Cn extends Dn{}class Sn extends oe{constructor(){super(...arguments),l(this,"requires_attention_mask",!1),l(this,"main_input_name","input_features"),l(this,"forward_params",["input_features","attention_mask","decoder_input_ids","decoder_attention_mask","past_key_values"])}}class En extends Sn{}class Fn extends Sn{_prepare_generation_config(e,t){return super._prepare_generation_config(e,t,_.WhisperGenerationConfig)}_retrieve_init_tokens(e){const t=[e.decoder_start_token_id];let n=e.language;const a=e.task;if(e.is_multilingual){n||(console.warn("No language specified - defaulting to English (en)."),n="en");const r=(0,x.whisper_language_to_code)(n),i="<|".concat(r,"|>");t.push(e.lang_to_id[i]),t.push(e.task_to_id[null!==a&&void 0!==a?a:"transcribe"])}else if(n||a)throw new Error("Cannot specify `task` or `language` for an English-only model. If the model is intended to be multilingual, pass `is_multilingual=true` to generate, or update the generation config.");return!e.return_timestamps&&e.no_timestamps_token_id&&t.at(-1)!==e.no_timestamps_token_id?t.push(e.no_timestamps_token_id):e.return_timestamps&&t.at(-1)===e.no_timestamps_token_id&&(console.warn("<|notimestamps|> prompt token is removed from generation_config since `return_timestamps` is set to `true`."),t.pop()),t.filter((e=>null!=e))}async generate(e){var t;let{inputs:n=null,generation_config:a=null,logits_processor:r=null,stopping_criteria:o=null}=e,s=i(e,Qd);a=this._prepare_generation_config(a,s);const l=null!==(t=s.decoder_input_ids)&&void 0!==t?t:this._retrieve_init_tokens(a);if(a.return_timestamps&&(null!==r&&void 0!==r||(r=new p.LogitsProcessorList),r.push(new p.WhisperTimeStampLogitsProcessor(a,l))),a.begin_suppress_tokens&&(null!==r&&void 0!==r||(r=new p.LogitsProcessorList),r.push(new p.SuppressTokensAtBeginLogitsProcessor(a.begin_suppress_tokens,l.length))),a.return_token_timestamps){if(!a.alignment_heads)throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");"translate"===a.task&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),a.output_attentions=!0,a.return_dict_in_generate=!0}const c=await super.generate(u({inputs:n,generation_config:a,logits_processor:r,decoder_input_ids:l},s));return a.return_token_timestamps&&(c.token_timestamps=this._extract_token_timestamps(c,a.alignment_heads,a.num_frames)),c}_extract_token_timestamps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.02;if(!e.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");null==n&&console.warn("`num_frames` has not been set, meaning the entire audio will be analyzed. This may lead to inaccurate token-level timestamps for short audios (< 30 seconds).");let r=this.config.median_filter_width;void 0===r&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),r=7);const i=e.cross_attentions,o=Array.from({length:this.config.decoder_layers},((e,t)=>(0,m.cat)(i.map((e=>e[t])),2))),s=(0,m.stack)(t.map((e=>{let[t,a]=e;if(t>=o.length)throw new Error("Layer index ".concat(t," is out of bounds for cross attentions (length ").concat(o.length,")."));return n?o[t].slice(null,a,null,[0,n]):o[t].slice(null,a)}))).transpose(1,0,2,3),[l,u]=(0,m.std_mean)(s,-2,0,!0),d=s.clone();for(let c=0;c<d.dims[0];++c){const e=d[c];for(let t=0;t<e.dims[0];++t){const n=e[t],a=l[c][t][0].data,i=u[c][t][0].data;for(let e=0;e<n.dims[0];++e){let t=n[e].data;for(let e=0;e<t.length;++e)t[e]=(t[e]-i[e])/a[e];t.set((0,y.medianFilter)(t,r))}}}const h=[(0,m.mean)(d,1)],p=e.sequences.dims,f=new m.Tensor("float32",new Float32Array(p[0]*p[1]),p);for(let m=0;m<p[0];++m){const e=h[m].neg().squeeze_(0),[t,n]=(0,y.dynamic_time_warping)(e.tolist()),r=Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n])),i=(0,c.mergeArrays)([1],r).map((e=>!!e)),o=[];for(let s=0;s<i.length;++s)i[s]&&o.push(n[s]*a);f[m].data.set(o,1)}return f}}class Mn extends Fn{}class In extends oe{constructor(){super(...arguments),l(this,"requires_attention_mask",!1),l(this,"main_input_name","input_values"),l(this,"forward_params",["input_values","decoder_input_ids","past_key_values"])}}class zn extends In{}class Pn extends In{}class Nn extends oe{constructor(){super(...arguments),l(this,"main_input_name","pixel_values"),l(this,"forward_params",["pixel_values","decoder_input_ids","encoder_hidden_states","past_key_values"])}}class On extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","pixel_values","position_ids","past_key_values"])}}class Bn extends On{_merge_input_ids_with_image_features(e){let{inputs_embeds:t,image_features:n,input_ids:a,attention_mask:r}=e;const i=this.config.image_token_index,o=a.tolist().map((e=>e.findIndex((e=>e==i)))),s=o.every((e=>-1===e)),l=o.every((e=>-1!==e));if(!s&&!l)throw new Error("Every input should contain either 0 or 1 image token.");if(s)return{inputs_embeds:t,attention_mask:r};const c=[],u=[];for(let d=0;d<o.length;++d){const e=o[d],a=t[d],i=n[d],s=r[d];c.push((0,m.cat)([a.slice([0,e]),i,a.slice([e+1,a.dims[0]])],0)),u.push((0,m.cat)([s.slice([0,e]),(0,m.ones)([i.dims[0]]),s.slice([e+1,s.dims[0]])],0))}return{inputs_embeds:(0,m.stack)(c,0),attention_mask:(0,m.stack)(u,0)}}}class Ln extends Bn{}class Rn extends Bn{}class jn extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","inputs_embeds","attention_mask","pixel_values","encoder_outputs","decoder_input_ids","decoder_inputs_embeds","decoder_attention_mask","past_key_values"]),l(this,"main_input_name","inputs_embeds")}}class Vn extends jn{_merge_input_ids_with_image_features(e){let{inputs_embeds:t,image_features:n,input_ids:a,attention_mask:r}=e;return{inputs_embeds:(0,m.cat)([n,t],1),attention_mask:(0,m.cat)([(0,m.ones)(n.dims.slice(0,2)),r],1)}}async _prepare_inputs_embeds(e){let t,n,{input_ids:a,pixel_values:r,inputs_embeds:i,attention_mask:o}=e;if(!a&&!r)throw new Error("Either `input_ids` or `pixel_values` should be provided.");return a&&(t=await this.encode_text({input_ids:a})),r&&(n=await this.encode_image({pixel_values:r})),t&&n?({inputs_embeds:i,attention_mask:o}=this._merge_input_ids_with_image_features({inputs_embeds:t,image_features:n,input_ids:a,attention_mask:o})):i=t||n,{inputs_embeds:i,attention_mask:o}}async forward(e){let{input_ids:t,pixel_values:n,attention_mask:a,decoder_input_ids:r,decoder_attention_mask:i,encoder_outputs:o,past_key_values:s,inputs_embeds:l,decoder_inputs_embeds:c}=e;if(l||({inputs_embeds:l,attention_mask:a}=await this._prepare_inputs_embeds({input_ids:t,pixel_values:n,inputs_embeds:l,attention_mask:a})),!o){let{last_hidden_state:e}=await K(this,{inputs_embeds:l,attention_mask:a});o=e}if(!c){if(!r)throw new Error("Either `decoder_input_ids` or `decoder_inputs_embeds` should be provided.");c=await this.encode_text({input_ids:r})}const u={inputs_embeds:c,attention_mask:i,encoder_attention_mask:a,encoder_hidden_states:o,past_key_values:s};return await J(this,u,!0)}}class qn extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","pixel_values","position_ids","past_key_values"])}}class Un extends qn{_merge_input_ids_with_image_features(e){const t=e.image_features.dims.at(-1),n=e.image_features.view(-1,t);return X(u(u({image_token_id:this.config.image_token_index},e),{},{image_features:n}))}}class Gn extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","pixel_values","pixel_attention_mask","position_ids","past_key_values"])}}class Hn extends Gn{async encode_image(e){let{pixel_values:t,pixel_attention_mask:n}=e;return(await q(this.sessions.vision_encoder,{pixel_values:t,pixel_attention_mask:n})).image_features}_merge_input_ids_with_image_features(e){const t=e.image_features.dims.at(-1),n=e.image_features.view(-1,t);return X(u(u({image_token_id:this.config.image_token_id},e),{},{image_features:n}))}}class Wn extends Hn{}class Kn extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","inputs_embeds","attention_mask","position_ids","pixel_values","image_sizes","past_key_values"])}}class Yn extends Kn{async forward(e){let{input_ids:t=null,attention_mask:n=null,pixel_values:a=null,image_sizes:r=null,position_ids:o=null,inputs_embeds:s=null,past_key_values:l=null,generation_config:c=null,logits_processor:u=null}=e;i(e,eh);if(!s){let e;if(a&&1!==t.dims[1]){if(!r)throw new Error("`image_sizes` must be provided when `pixel_values` is provided.");({image_features:e}=await q(this.sessions.vision_encoder,{pixel_values:a,image_sizes:r}))}else{const t=this.config.normalized_config.hidden_size;e=new m.Tensor("float32",[],[0,t])}({inputs_embeds:s}=await q(this.sessions.prepare_inputs_embeds,{input_ids:t,image_features:e}))}return await J(this,{inputs_embeds:s,past_key_values:l,attention_mask:n,position_ids:o,generation_config:c,logits_processor:u},!1)}}class Jn extends oe{}class Zn extends Jn{}class Xn extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class $n extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class Qn extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"vision_model"}))}}class ea extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"vision_model"}))}}class ta extends oe{}class na extends ta{}class aa extends ta{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class ra extends Jn{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"vision_model"}))}}class ia extends oe{}class oa extends ia{}class sa extends oe{}class la extends sa{async forward(e){const t=!e.input_ids,n=!e.pixel_values;if(t&&n)throw new Error("Either `input_ids` or `pixel_values` should be provided.");if(t&&(e.input_ids=(0,m.ones)([e.pixel_values.dims[0],1])),n){const{image_size:t}=this.config.vision_config;e.pixel_values=(0,m.full)([0,3,t,t],0)}const{text_embeddings:a,image_embeddings:r,l2norm_text_embeddings:i,l2norm_image_embeddings:o}=await super.forward(e),s={};return t||(s.text_embeddings=a,s.l2norm_text_embeddings=i),n||(s.image_embeddings=r,s.l2norm_image_embeddings=o),s}}class ca extends sa{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class ua extends sa{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"vision_model"}))}}class da extends oe{}class ha extends da{}class pa extends da{}class fa extends oe{}class ma extends fa{}class ga extends fa{}class ya extends oe{}class ba extends ya{}class va extends ya{}class wa extends oe{}class _a extends wa{}class xa extends wa{}class ka extends oe{}class Ta extends ka{}class Da extends ka{}class Aa extends oe{}class Ca extends Aa{}class Sa extends Aa{}class Ea extends oe{}class Fa extends Ea{}class Ma extends Ea{}class Ia extends oe{}class za extends Ia{}class Pa extends Ia{}class Na extends oe{}class Oa extends Na{}class Ba extends Na{}class La extends oe{}class Ra extends La{}class ja extends La{}class Va extends oe{}class qa extends Va{}class Ua extends Va{}class Ga extends oe{}class Ha extends Ga{}class Wa extends Ga{}class Ka extends oe{}class Ya extends Ka{}class Ja extends Ka{}class Za extends oe{}class Xa extends Za{}class $a extends Za{}class Qa extends oe{}class er extends Qa{}class tr extends Qa{}class nr extends oe{}class ar extends nr{}class rr extends nr{}class ir extends oe{}class or extends ir{}class sr extends ir{}class lr extends oe{}class cr extends lr{}class ur extends lr{}class dr extends oe{}class hr extends dr{}class pr extends dr{}class fr extends oe{}class mr extends fr{}class gr extends fr{}class yr extends oe{}class br extends yr{}class vr extends yr{}class wr extends oe{}class _r extends wr{}class xr extends wr{}class kr extends oe{}class Tr extends kr{}class Dr extends kr{}class Ar extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","position_ids","past_key_values","pixel_values","image_grid_thw"])}}class Cr extends Ar{get_rope_index(e,t,n,a){var r;const{vision_config:i,image_token_id:o,video_token_id:s,vision_start_token_id:l}=this.config,c=null!==(r=i.spatial_merge_size)&&void 0!==r?r:2,u=[];if(t||n){let r=e.tolist();a||(a=(0,m.ones_like)(e));const i=a.tolist(),d=Array.from({length:3},(t=>Array.from({length:e.dims[0]},(t=>Array.from({length:e.dims[1]},(e=>1)))))),h=t?t.tolist():[],p=n?n.tolist():[];let f=0,g=0;for(let e=0;e<r.length;++e){const t=r[e].filter(((t,n)=>1==i[e][n])),n=t.reduce(((e,t,n)=>(t==l&&e.push(n),e)),[]),a=n.map((e=>t[e+1])),m=a.filter((e=>e==o)).length,b=a.filter((e=>e==s)).length;let v=[],w=0,_=m,x=b;for(let e=0;e<a.length;++e){const e=t.findIndex(((e,t)=>t>w&&e==o)),n=t.findIndex(((e,t)=>t>w&&e==s)),a=_>0&&-1!==e?e:t.length+1,r=x>0&&-1!==n?n:t.length+1;let i,l,u,d;a<r?([l,u,d]=h[f],++f,--_,i=a):([l,u,d]=p[g],++g,--x,i=r);const[m,b,k]=[Number(l),Math.floor(Number(u)/c),Math.floor(Number(d)/c)],T=i-w,D=v.length>0?(0,y.max)(v.at(-1))[0]+1:0;v.push(Array.from({length:3*T},((e,t)=>D+t%T)));const A=T+D,C=m*b*k,S=Array.from({length:C},((e,t)=>A+Math.floor(t/(b*k)))),E=Array.from({length:C},((e,t)=>A+Math.floor(t/k)%b)),F=Array.from({length:C},((e,t)=>A+t%k));v.push([S,E,F].flat()),w=i+C}if(w<t.length){const e=v.length>0?(0,y.max)(v.at(-1))[0]+1:0,n=t.length-w;v.push(Array.from({length:3*n},((t,a)=>e+a%n)))}const k=v.reduce(((e,t)=>e+t.length),0),T=new Array(k);let D=0;for(let e=0;e<3;++e)for(let t=0;t<v.length;++t){const n=v[t],a=n.length/3;for(let t=e*a;t<(e+1)*a;++t)T[D++]=n[t]}let A=0;const C=i[e];for(let r=0;r<C.length;++r)if(1==C[r]){for(let t=0;t<3;++t)d[t][e][r]=T[t*k/3+A];++A}const S=(0,y.max)(T)[0];u.push(S+1-r[e].length)}return[new m.Tensor("int64",d.flat(1/0),[3,e.dims[0],e.dims[1]]),new m.Tensor("int64",u,[u.length,1])]}if(a){const{data:e,dims:t}=te(a),n=BigInt64Array.from({length:3*e.length},((t,n)=>e[n%e.length])),r=Array.from({length:t[0]},((n,a)=>(0,y.max)(e.subarray(t[1]*a,t[1]*(a+1)))[0]+1n+BigInt(t[1])));return[new m.Tensor("int64",n,[3,...t]),new m.Tensor("int64",r,[r.length,1])]}{const[t,n]=e.dims,a=BigInt64Array.from({length:3*t*n},((e,a)=>BigInt(Math.floor(a%n/t))));return[new m.Tensor("int64",a,[3,...e.dims]),(0,m.zeros)([t,1])]}}async encode_image(e){let{pixel_values:t,image_grid_thw:n}=e;return(await q(this.sessions.vision_encoder,{pixel_values:t,grid_thw:n})).image_features}_merge_input_ids_with_image_features(e){return X(u({image_token_id:this.config.image_token_id},e))}prepare_inputs_for_generation(e,t,n){if(t.attention_mask&&!t.position_ids)if(t.past_key_values){t.pixel_values=null;const e=BigInt(Object.values(t.past_key_values)[0].dims.at(-2)),n=t.rope_deltas.map((t=>e+t));t.position_ids=(0,m.stack)([n,n,n],0)}else[t.position_ids,t.rope_deltas]=this.get_rope_index(t.input_ids,t.image_grid_thw,t.video_grid_thw,t.attention_mask);return t}}class Sr extends oe{}class Er extends Sr{}class Fr extends Sr{}class Mr extends oe{}class Ir extends Mr{}class zr extends Mr{}class Pr extends oe{}class Nr extends Pr{}class Or extends Pr{}class Br extends oe{}class Lr extends Br{}class Rr extends Br{}class jr extends oe{}class Vr extends jr{}class qr extends jr{}class Ur extends oe{}class Gr extends Ur{}class Hr extends Ur{async _call(e){return new Ru(await super._call(e))}}class Wr extends oe{}class Kr extends Wr{}class Yr extends Wr{async _call(e){return new Ru(await super._call(e))}}class Jr extends oe{}class Zr extends Jr{}class Xr extends oe{}class $r extends Xr{}class Qr extends Xr{async _call(e){return new Ru(await super._call(e))}}class ei extends oe{}class ti extends ei{}class ni extends oe{}class ai extends ni{}class ri extends ni{async _call(e){return new Ru(await super._call(e))}}class ii extends oe{}class oi extends ii{}class si extends oe{}class li extends si{}class ci extends si{async _call(e){return new Ru(await super._call(e))}}class ui extends oe{}class di extends ui{async _call(e){return new Wu(await super._call(e))}}class hi extends oe{}class pi extends hi{}class fi extends hi{async _call(e){return new Ru(await super._call(e))}}class mi extends oe{}class gi extends mi{}class yi extends mi{async _call(e){return new Ru(await super._call(e))}}class bi extends oe{}class vi extends bi{}class wi extends bi{}class _i extends oe{}class xi extends _i{}class ki extends _i{}class Ti extends oe{}class Di extends Ti{}class Ai extends Ti{async _call(e){return new Ru(await super._call(e))}}class Ci extends oe{}class Si extends Ci{}class Ei extends Ci{async _call(e){return new Mi(await super._call(e))}}class Fi extends Ci{async _call(e){return new Ii(await super._call(e))}}class Mi extends se{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class Ii extends se{constructor(e){let{logits:t,pred_boxes:n,pred_masks:a}=e;super(),this.logits=t,this.pred_boxes=n,this.pred_masks=a}}class zi extends oe{}class Pi extends zi{}class Ni extends zi{async _call(e){return new Oi(await super._call(e))}}class Oi extends se{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class Bi extends oe{}class Li extends Bi{}class Ri extends Bi{async _call(e){return new ji(await super._call(e))}}class ji extends Oi{}class Vi extends oe{}class qi extends Vi{}class Ui extends Vi{async _call(e){return new Gi(await super._call(e))}}class Gi extends Oi{}class Hi extends oe{}class Wi extends Hi{}class Ki extends Hi{async _call(e){return new Oi(await super._call(e))}}class Yi extends oe{}class Ji extends Yi{}class Zi extends Yi{async _call(e){return new Xi(await super._call(e))}}class Xi extends Mi{}class $i extends oe{}class Qi extends $i{}class eo extends $i{async _call(e){return new Ru(await super._call(e))}}class to extends oe{}class no extends to{}class ao extends to{async _call(e){return new Ru(await super._call(e))}}class ro extends oe{}class io extends ro{}class oo extends ro{async _call(e){return new Ru(await super._call(e))}}class so extends oe{}class lo extends so{}class co extends so{async _call(e){return new Ru(await super._call(e))}}class uo extends so{}class ho extends oe{}class po extends ho{}class fo extends ho{}class mo extends oe{}class go extends mo{}class yo extends mo{}class bo extends oe{}class vo extends bo{}class wo extends oe{}class _o extends wo{}class xo extends wo{}class ko extends wo{}class To extends oe{}class Do extends To{}class Ao extends oe{}class Co extends Ao{}class So extends oe{}class Eo extends So{}class Fo extends oe{}class Mo extends Fo{}class Io extends Fo{}class zo extends oe{}class Po extends zo{}class No extends zo{}class Oo extends oe{}class Bo extends Oo{}class Lo extends oe{}class Ro extends Lo{}class jo extends Lo{async _call(e){return new Ru(await super._call(e))}}class Vo extends oe{}class qo extends Vo{}class Uo extends Vo{async _call(e){return new Ru(await super._call(e))}}class Go extends oe{}class Ho extends Go{}class Wo extends Go{async _call(e){return new Ru(await super._call(e))}}class Ko extends oe{}class Yo extends Ko{}class Jo extends Ko{async _call(e){return new Ru(await super._call(e))}}class Zo extends oe{}class Xo extends Zo{}class $o extends oe{}class Qo extends $o{}class es extends $o{async _call(e){return new ts(await super._call(e))}}class ts extends se{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class ns extends oe{}class as extends ns{async get_image_embeddings(e){let{pixel_values:t}=e;return await K(this,{pixel_values:t})}async forward(e){if(e.image_embeddings&&e.image_positional_embeddings||(e=u(u({},e),await this.get_image_embeddings(e))),!e.input_labels&&e.input_points){const t=e.input_points.dims.slice(0,-1),n=t.reduce(((e,t)=>e*t),1);e.input_labels=new m.Tensor("int64",new BigInt64Array(n).fill(1n),t)}const t={image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings};return e.input_points&&(t.input_points=e.input_points),e.input_labels&&(t.input_labels=e.input_labels),e.input_boxes&&(t.input_boxes=e.input_boxes),await q(this.sessions.prompt_encoder_mask_decoder,t)}async _call(e){return new rs(await super._call(e))}}class rs extends se{constructor(e){let{iou_scores:t,pred_masks:n}=e;super(),this.iou_scores=t,this.pred_masks=n}}class is extends oe{}class os extends is{}class ss extends is{}class ls extends oe{}class cs extends ls{}class us extends ls{}class ds extends oe{}class hs extends ds{}class ps extends ds{async _call(e){return new Gu(await super._call(e))}}class fs extends ds{async _call(e){return new Ru(await super._call(e))}}class ms extends ds{async _call(e){return new Vu(await super._call(e))}}class gs extends oe{}class ys extends gs{}class bs extends gs{async _call(e){return new Vu(await super._call(e))}}class vs extends oe{}class ws extends vs{}class _s extends oe{}class xs extends _s{}class ks extends _s{async _call(e){return new Gu(await super._call(e))}}class Ts extends _s{async _call(e){return new Ru(await super._call(e))}}class Ds extends oe{}class As extends Ds{}class Cs extends Ds{async _call(e){return new Gu(await super._call(e))}}class Ss extends Ds{async _call(e){return new Ru(await super._call(e))}}class Es extends Ds{async _call(e){return new Vu(await super._call(e))}}class Fs extends oe{}class Ms extends Fs{}class Is extends Fs{async _call(e){return new Gu(await super._call(e))}}class zs extends Fs{async _call(e){return new Ru(await super._call(e))}}class Ps extends oe{}class Ns extends ds{}class Os extends ds{async _call(e){return new Gu(await super._call(e))}}class Bs extends ds{async _call(e){return new Ru(await super._call(e))}}class Ls extends oe{}class Rs extends Ls{}class js extends Ls{async _call(e){return new Gu(await super._call(e))}}class Vs extends Ls{async _call(e){return new Ru(await super._call(e))}}class qs extends Ls{async _call(e){return new ju(await super._call(e))}}class Us extends Ls{async _call(e){return new Vu(await super._call(e))}}class Gs extends oe{}class Hs extends Gs{}class Ws extends oe{}class Ks extends Ws{}class Ys extends Ws{}class Js extends Ws{async generate_speech(e,t){let{threshold:n=.5,minlenratio:a=0,maxlenratio:r=20,vocoder:i=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o={input_ids:e},{encoder_outputs:s,encoder_attention_mask:l}=await K(this,o),c=s.dims[1]/this.config.reduction_factor,u=Math.floor(c*r),d=Math.floor(c*a),h=this.config.num_mel_bins;let p=[],f=null,g=null,y=0;for(;;){++y;const e=H(!!g);let a;a=g?g.output_sequence_out:new m.Tensor("float32",new Float32Array(h),[1,1,h]);let r={use_cache_branch:e,output_sequence:a,encoder_attention_mask:l,speaker_embeddings:t,encoder_hidden_states:s};this.addPastKeyValues(r,f),g=await q(this.sessions.decoder_model_merged,r),f=this.getPastKeyValues(g,f);const{prob:i,spectrum:o}=g;if(p.push(o),y>=d&&(Array.from(i.data).filter((e=>e>=n)).length>0||y>=u))break}const b=(0,m.cat)(p),{waveform:v}=await q(i.sessions.model,{spectrogram:b});return{spectrogram:b,waveform:v}}}class Zs extends oe{constructor(){super(...arguments),l(this,"main_input_name","spectrogram")}}class Xs extends oe{}class $s extends Xs{}class Qs extends oe{}class el extends Qs{}class tl extends Qs{}class nl extends oe{}class al extends nl{}class rl extends nl{}class il extends oe{}class ol extends il{}class sl extends il{}class ll extends oe{}class cl extends ll{}class ul extends ll{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"text_model"}))}}class dl extends ll{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"audio_model"}))}}class hl extends oe{}class pl extends hl{async _call(e){return new Ku(await super._call(e))}}class fl extends oe{}class ml extends fl{}class gl extends fl{}class yl extends fl{}class bl extends oe{}class vl extends bl{}class wl extends bl{}class _l extends oe{}class xl extends _l{}class kl extends _l{async _call(e){return new Ru(await super._call(e))}}class Tl extends oe{}class Dl extends Tl{}class Al extends Tl{}class Cl extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","encoder_outputs","decoder_input_ids","decoder_attention_mask","past_key_values"])}_apply_and_filter_by_delay_pattern_mask(e){const[t,n]=e.dims,a=this.config.decoder.num_codebooks,r=n-a;let i=0;for(let l=0;l<e.size;++l){if(e.data[l]===this.config.decoder.pad_token_id)continue;const t=l%n-Math.floor(l/n)%a;t>0&&t<=r&&(e.data[i++]=e.data[l])}const o=Math.floor(t/a),s=i/(o*a);return new m.Tensor(e.type,e.data.slice(0,i),[o,a,s])}prepare_inputs_for_generation(e,t,n){let a=structuredClone(e);for(let r=0;r<a.length;++r)for(let e=0;e<a[r].length;++e)r%this.config.decoder.num_codebooks>=e&&(a[r][e]=BigInt(this.config.decoder.pad_token_id));null!==n.guidance_scale&&n.guidance_scale>1&&(a=a.concat(a));return super.prepare_inputs_for_generation(a,t,n)}async generate(e){const t=await super.generate(e),n=this._apply_and_filter_by_delay_pattern_mask(t).unsqueeze_(0),{audio_values:a}=await q(this.sessions.encodec_decode,{audio_codes:n});return a}}class Sl extends oe{}class El extends Sl{}class Fl extends Sl{async _call(e){return new Ru(await super._call(e))}}class Ml extends Sl{}class Il extends oe{}class zl extends Il{}class Pl extends Il{async _call(e){return new Ru(await super._call(e))}}class Nl extends Il{}class Ol extends oe{}class Bl extends Ol{}class Ll extends Ol{async _call(e){return new Ru(await super._call(e))}}class Rl extends Ol{}class jl extends oe{}class Vl extends jl{}class ql extends jl{async _call(e){return new Ru(await super._call(e))}}class Ul extends jl{}class Gl extends oe{}class Hl extends Gl{}class Wl extends oe{}class Kl extends Wl{constructor(){super(...arguments),l(this,"forward_params",["input_ids","pixel_values","images_seq_mask","images_emb_mask","attention_mask","position_ids","past_key_values"]),this._generation_mode="text"}async forward(e){var t;const n=null!==(t=this._generation_mode)&&void 0!==t?t:"text";let a;if("text"!==n&&e.past_key_values){const t=this.sessions.gen_img_embeds,n=(0,c.pick)({image_ids:e.input_ids},t.inputNames);a=await q(t,n)}else{const t=this.sessions.prepare_inputs_embeds,n=(0,c.pick)(e,t.inputNames);a=await q(t,n)}const r=u(u({},e),a),i=await J(this,r),o=this.sessions["text"===n?"lm_head":"gen_head"];if(!o)throw new Error('Unable to find "'.concat(o,'" generation head'));const s=await q(o,(0,c.pick)(i,o.inputNames));return u(u(u({},a),i),s)}async generate(e){return this._generation_mode="text",super.generate(e)}async generate_images(e){var t;this._generation_mode="image";const n=(null!==(t=e.inputs)&&void 0!==t?t:e[this.main_input_name]).dims[1],a=(await super.generate(e)).slice(null,[n,null]),r=this.sessions.image_decode,{decoded_image:i}=await q(r,{generated_tokens:a}),o=i.add_(1).mul_(127.5).clamp_(0,255).to("uint8"),s=[];for(const l of o){const e=g.RawImage.fromTensor(l);s.push(e)}return s}}class Yl extends se{constructor(e){let{char_logits:t,bpe_logits:n,wp_logits:a}=e;super(),this.char_logits=t,this.bpe_logits=n,this.wp_logits=a}get logits(){return[this.char_logits,this.bpe_logits,this.wp_logits]}}class Jl extends oe{}class Zl extends Jl{async _call(e){return new Yl(await super._call(e))}}class Xl extends oe{}class $l extends Xl{}class Ql extends Xl{}class ec extends oe{}class tc extends ec{}class nc extends ec{}class ac extends oe{constructor(){super(...arguments),l(this,"forward_params",["input_ids","attention_mask","position_ids","audio_values","past_key_values"])}}class rc extends ac{_merge_input_ids_with_audio_features(e){const t=e.audio_features.dims.at(-1),n=e.audio_features.view(-1,t);return function(e){let{audio_token_id:t,inputs_embeds:n,audio_features:a,input_ids:r,attention_mask:i}=e;return Z({modality_token_id:t,inputs_embeds:n,modality_features:a,input_ids:r,attention_mask:i})}(u(u({audio_token_id:this.config.ignore_index},e),{},{audio_features:n}))}}class ic extends oe{constructor(){super(...arguments),l(this,"main_input_name","input_values"),l(this,"forward_params",["input_values"])}}class oc extends se{constructor(e){let{audio_codes:t}=e;super(),this.audio_codes=t}}class sc extends se{constructor(e){let{audio_values:t}=e;super(),this.audio_values=t}}class lc extends ic{async encode(e){return new oc(await q(this.sessions.encoder_model,e))}async decode(e){return new sc(await q(this.sessions.decoder_model,e))}}class cc extends ic{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"encoder_model"}))}}class uc extends ic{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"decoder_model"}))}}class dc extends oe{constructor(){super(...arguments),l(this,"main_input_name","input_values"),l(this,"forward_params",["input_values"])}}class hc extends se{constructor(e){let{audio_codes:t}=e;super(),this.audio_codes=t}}class pc extends se{constructor(e){let{audio_values:t}=e;super(),this.audio_values=t}}class fc extends dc{async encode(e){return new hc(await q(this.sessions.encoder_model,e))}async decode(e){return new pc(await q(this.sessions.decoder_model,e))}}class mc extends dc{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"encoder_model"}))}}class gc extends dc{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"decoder_model"}))}}class yc extends oe{constructor(){super(...arguments),l(this,"main_input_name","input_values"),l(this,"forward_params",["input_values"])}}class bc extends yc{async encode(e){return await q(this.sessions.encoder_model,e)}async decode(e){return await q(this.sessions.decoder_model,e)}}class vc extends yc{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"encoder_model"}))}}class wc extends yc{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.from_pretrained(e,u(u({},n),{},{model_file_name:null!==(t=n.model_file_name)&&void 0!==t?t:"decoder_model"}))}}class _c{static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:i=!1,revision:o="main",model_file_name:s=null,subfolder:l="onnx",device:c=null,dtype:u=null,use_external_data_format:d=null,session_options:h={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const p={progress_callback:t,config:n,cache_dir:r,local_files_only:i,revision:o,model_file_name:s,subfolder:l,device:c,dtype:u,use_external_data_format:d,session_options:h};if(p.config=await a.AutoConfig.from_pretrained(e,p),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);const f=p.config.model_type;for(const a of this.MODEL_CLASS_MAPPINGS){let t=a.get(f);if(!t){for(const e of a.values())if(e[0]===f){t=e;break}if(!t)continue}return await t[1].from_pretrained(e,p)}if(this.BASE_IF_FAIL)return ou.has(f)||console.warn('Unknown model class "'.concat(f,'", attempting to construct from base class.')),await oe.from_pretrained(e,p);throw Error("Unsupported model type: ".concat(f))}}l(_c,"MODEL_CLASS_MAPPINGS",null),l(_c,"BASE_IF_FAIL",!1);const xc=new Map([["bert",["BertModel",ue]],["modernbert",["ModernBertModel",ge]],["nomic_bert",["NomicBertModel",_e]],["roformer",["RoFormerModel",ke]],["electra",["ElectraModel",Ne]],["esm",["EsmModel",dt]],["convbert",["ConvBertModel",Ee]],["camembert",["CamembertModel",Ve]],["deberta",["DebertaModel",Ke]],["deberta-v2",["DebertaV2Model",Qe]],["mpnet",["MPNetModel",_t]],["albert",["AlbertModel",It]],["distilbert",["DistilBertModel",it]],["roberta",["RobertaModel",ln]],["xlm",["XLMModel",fn]],["xlm-roberta",["XLMRobertaModel",wn]],["clap",["ClapModel",cl]],["clip",["CLIPModel",Zn]],["clipseg",["CLIPSegModel",ha]],["chinese_clip",["ChineseCLIPModel",oa]],["siglip",["SiglipModel",na]],["jina_clip",["JinaCLIPModel",la]],["mobilebert",["MobileBertModel",gt]],["squeezebert",["SqueezeBertModel",Ct]],["wav2vec2",["Wav2Vec2Model",hs]],["wav2vec2-bert",["Wav2Vec2BertModel",Ms]],["unispeech",["UniSpeechModel",xs]],["unispeech-sat",["UniSpeechSatModel",As]],["hubert",["HubertModel",Ns]],["wavlm",["WavLMModel",Rs]],["audio-spectrogram-transformer",["ASTModel",An]],["vits",["VitsModel",pl]],["pyannote",["PyAnnoteModel",ys]],["wespeaker-resnet",["WeSpeakerResNetModel",ws]],["detr",["DetrModel",Si]],["rt_detr",["RTDetrModel",Pi]],["rt_detr_v2",["RTDetrV2Model",Li]],["rf_detr",["RFDetrModel",qi]],["d_fine",["DFineModel",Wi]],["table-transformer",["TableTransformerModel",Ji]],["vit",["ViTModel",Gr]],["ijepa",["IJepaModel",Kr]],["pvt",["PvtModel",$r]],["vit_msn",["ViTMSNModel",ai]],["vit_mae",["ViTMAEModel",ti]],["groupvit",["GroupViTModel",oi]],["fastvit",["FastViTModel",li]],["mobilevit",["MobileViTModel",pi]],["mobilevitv2",["MobileViTV2Model",gi]],["owlvit",["OwlViTModel",vi]],["owlv2",["Owlv2Model",xi]],["beit",["BeitModel",Di]],["deit",["DeiTModel",Qi]],["hiera",["HieraModel",no]],["convnext",["ConvNextModel",Ro]],["convnextv2",["ConvNextV2Model",qo]],["dinov2",["Dinov2Model",Ho]],["dinov2_with_registers",["Dinov2WithRegistersModel",Yo]],["resnet",["ResNetModel",io]],["swin",["SwinModel",lo]],["swin2sr",["Swin2SRModel",po]],["donut-swin",["DonutSwinModel",Bo]],["yolos",["YolosModel",Qo]],["dpt",["DPTModel",go]],["glpn",["GLPNModel",Po]],["hifigan",["SpeechT5HifiGan",Zs]],["efficientnet",["EfficientNetModel",xl]],["decision_transformer",["DecisionTransformerModel",Hl]],["patchtst",["PatchTSTForPrediction",$l]],["patchtsmixer",["PatchTSMixerForPrediction",tc]],["mobilenet_v1",["MobileNetV1Model",El]],["mobilenet_v2",["MobileNetV2Model",zl]],["mobilenet_v3",["MobileNetV3Model",Bl]],["mobilenet_v4",["MobileNetV4Model",Vl]],["maskformer",["MaskFormerModel",Mo]],["mgp-str",["MgpstrForSceneTextRecognition",Zl]],["style_text_to_speech_2",["StyleTextToSpeech2Model",Hs]]]),kc=new Map([["t5",["T5Model",Bt]],["longt5",["LongT5Model",jt]],["mt5",["MT5Model",Ut]],["bart",["BartModel",Wt]],["mbart",["MBartModel",Zt]],["marian",["MarianModel",os]],["whisper",["WhisperModel",En]],["m2m_100",["M2M100Model",cs]],["blenderbot",["BlenderbotModel",tn]],["blenderbot-small",["BlenderbotSmallModel",rn]]]),Tc=new Map([["mimi",["MimiModel",lc]],["dac",["DacModel",fc]],["snac",["SnacModel",bc]]]),Dc=new Map([["bloom",["BloomModel",Nr]],["jais",["JAISModel",ba]],["gpt2",["GPT2Model",ma]],["gptj",["GPTJModel",Ca]],["gpt_bigcode",["GPTBigCodeModel",Fa]],["gpt_neo",["GPTNeoModel",_a]],["gpt_neox",["GPTNeoXModel",Ta]],["codegen",["CodeGenModel",za]],["llama",["LlamaModel",Oa]],["exaone",["ExaoneModel",Ha]],["olmo",["OlmoModel",Xa]],["olmo2",["Olmo2Model",er]],["mobilellm",["MobileLLMModel",Ya]],["granite",["GraniteModel",ar]],["cohere",["CohereModel",or]],["gemma",["GemmaModel",cr]],["gemma2",["Gemma2Model",hr]],["gemma3_text",["Gemma3Model",mr]],["helium",["HeliumModel",Ra]],["glm",["GlmModel",qa]],["openelm",["OpenELMModel",br]],["qwen2",["Qwen2Model",_r]],["qwen3",["Qwen3Model",Tr]],["phi",["PhiModel",Er]],["phi3",["Phi3Model",Ir]],["mpt",["MptModel",Lr]],["opt",["OPTModel",Vr]],["mistral",["MistralModel",el]],["starcoder2",["Starcoder2Model",al]],["falcon",["FalconModel",ol]],["stablelm",["StableLmModel",vl]]]),Ac=new Map([["speecht5",["SpeechT5ForSpeechToText",Ys]],["whisper",["WhisperForConditionalGeneration",Fn]],["lite-whisper",["LiteWhisperForConditionalGeneration",Mn]],["moonshine",["MoonshineForConditionalGeneration",Pn]]]),Cc=new Map([["speecht5",["SpeechT5ForTextToSpeech",Js]]]),Sc=new Map([["vits",["VitsModel",pl]],["musicgen",["MusicgenForConditionalGeneration",Cl]]]),Ec=new Map([["bert",["BertForSequenceClassification",he]],["modernbert",["ModernBertForSequenceClassification",be]],["roformer",["RoFormerForSequenceClassification",De]],["electra",["ElectraForSequenceClassification",Be]],["esm",["EsmForSequenceClassification",pt]],["convbert",["ConvBertForSequenceClassification",Me]],["camembert",["CamembertForSequenceClassification",Ue]],["deberta",["DebertaForSequenceClassification",Je]],["deberta-v2",["DebertaV2ForSequenceClassification",tt]],["mpnet",["MPNetForSequenceClassification",kt]],["albert",["AlbertForSequenceClassification",zt]],["distilbert",["DistilBertForSequenceClassification",ot]],["roberta",["RobertaForSequenceClassification",un]],["xlm",["XLMForSequenceClassification",gn]],["xlm-roberta",["XLMRobertaForSequenceClassification",xn]],["bart",["BartForSequenceClassification",Yt]],["mbart",["MBartForSequenceClassification",$t]],["mobilebert",["MobileBertForSequenceClassification",bt]],["squeezebert",["SqueezeBertForSequenceClassification",Et]]]),Fc=new Map([["bert",["BertForTokenClassification",pe]],["modernbert",["ModernBertForTokenClassification",ve]],["roformer",["RoFormerForTokenClassification",Ae]],["electra",["ElectraForTokenClassification",Le]],["esm",["EsmForTokenClassification",ft]],["convbert",["ConvBertForTokenClassification",Ie]],["camembert",["CamembertForTokenClassification",Ge]],["deberta",["DebertaForTokenClassification",Ze]],["deberta-v2",["DebertaV2ForTokenClassification",nt]],["mpnet",["MPNetForTokenClassification",Tt]],["distilbert",["DistilBertForTokenClassification",st]],["roberta",["RobertaForTokenClassification",dn]],["xlm",["XLMForTokenClassification",yn]],["xlm-roberta",["XLMRobertaForTokenClassification",kn]]]),Mc=new Map([["t5",["T5ForConditionalGeneration",Lt]],["longt5",["LongT5ForConditionalGeneration",Vt]],["mt5",["MT5ForConditionalGeneration",Gt]],["bart",["BartForConditionalGeneration",Kt]],["mbart",["MBartForConditionalGeneration",Xt]],["marian",["MarianMTModel",ss]],["m2m_100",["M2M100ForConditionalGeneration",us]],["blenderbot",["BlenderbotForConditionalGeneration",nn]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",on]]]),Ic=new Map([["bloom",["BloomForCausalLM",Or]],["gpt2",["GPT2LMHeadModel",ga]],["jais",["JAISLMHeadModel",va]],["gptj",["GPTJForCausalLM",Sa]],["gpt_bigcode",["GPTBigCodeForCausalLM",Ma]],["gpt_neo",["GPTNeoForCausalLM",xa]],["gpt_neox",["GPTNeoXForCausalLM",Da]],["codegen",["CodeGenForCausalLM",Pa]],["llama",["LlamaForCausalLM",Ba]],["exaone",["ExaoneForCausalLM",Wa]],["olmo",["OlmoForCausalLM",$a]],["olmo2",["Olmo2ForCausalLM",tr]],["mobilellm",["MobileLLMForCausalLM",Ja]],["granite",["GraniteForCausalLM",rr]],["cohere",["CohereForCausalLM",sr]],["gemma",["GemmaForCausalLM",ur]],["gemma2",["Gemma2ForCausalLM",pr]],["gemma3_text",["Gemma3ForCausalLM",gr]],["helium",["HeliumForCausalLM",ja]],["glm",["GlmForCausalLM",Ua]],["openelm",["OpenELMForCausalLM",vr]],["qwen2",["Qwen2ForCausalLM",xr]],["qwen3",["Qwen3ForCausalLM",Dr]],["phi",["PhiForCausalLM",Fr]],["phi3",["Phi3ForCausalLM",zr]],["mpt",["MptForCausalLM",Rr]],["opt",["OPTForCausalLM",qr]],["mbart",["MBartForCausalLM",Qt]],["mistral",["MistralForCausalLM",tl]],["starcoder2",["Starcoder2ForCausalLM",rl]],["falcon",["FalconForCausalLM",sl]],["trocr",["TrOCRForCausalLM",$s]],["stablelm",["StableLmForCausalLM",wl]],["phi3_v",["Phi3VForCausalLM",Yn]]]),zc=new Map([["multi_modality",["MultiModalityCausalLM",Kl]]]),Pc=new Map([["bert",["BertForMaskedLM",de]],["modernbert",["ModernBertForMaskedLM",ye]],["roformer",["RoFormerForMaskedLM",Te]],["electra",["ElectraForMaskedLM",Oe]],["esm",["EsmForMaskedLM",ht]],["convbert",["ConvBertForMaskedLM",Fe]],["camembert",["CamembertForMaskedLM",qe]],["deberta",["DebertaForMaskedLM",Ye]],["deberta-v2",["DebertaV2ForMaskedLM",et]],["mpnet",["MPNetForMaskedLM",xt]],["albert",["AlbertForMaskedLM",Nt]],["distilbert",["DistilBertForMaskedLM",ct]],["roberta",["RobertaForMaskedLM",cn]],["xlm",["XLMWithLMHeadModel",mn]],["xlm-roberta",["XLMRobertaForMaskedLM",_n]],["mobilebert",["MobileBertForMaskedLM",yt]],["squeezebert",["SqueezeBertForMaskedLM",St]]]),Nc=new Map([["bert",["BertForQuestionAnswering",fe]],["roformer",["RoFormerForQuestionAnswering",Ce]],["electra",["ElectraForQuestionAnswering",Re]],["convbert",["ConvBertForQuestionAnswering",ze]],["camembert",["CamembertForQuestionAnswering",He]],["deberta",["DebertaForQuestionAnswering",Xe]],["deberta-v2",["DebertaV2ForQuestionAnswering",at]],["mpnet",["MPNetForQuestionAnswering",Dt]],["albert",["AlbertForQuestionAnswering",Pt]],["distilbert",["DistilBertForQuestionAnswering",lt]],["roberta",["RobertaForQuestionAnswering",hn]],["xlm",["XLMForQuestionAnswering",bn]],["xlm-roberta",["XLMRobertaForQuestionAnswering",Tn]],["mobilebert",["MobileBertForQuestionAnswering",vt]],["squeezebert",["SqueezeBertForQuestionAnswering",Ft]]]),Oc=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Nn]],["idefics3",["Idefics3ForConditionalGeneration",Hn]],["smolvlm",["SmolVLMForConditionalGeneration",Wn]]]),Bc=new Map([["llava",["LlavaForConditionalGeneration",Bn]],["llava_onevision",["LlavaOnevisionForConditionalGeneration",Ln]],["moondream1",["Moondream1ForConditionalGeneration",Rn]],["florence2",["Florence2ForConditionalGeneration",Vn]],["qwen2-vl",["Qwen2VLForConditionalGeneration",Cr]],["idefics3",["Idefics3ForConditionalGeneration",Hn]],["smolvlm",["SmolVLMForConditionalGeneration",Wn]],["paligemma",["PaliGemmaForConditionalGeneration",Un]]]),Lc=new Map([["ultravox",["UltravoxModel",rc]]]),Rc=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Nn]]]),jc=new Map([["vit",["ViTForImageClassification",Hr]],["ijepa",["IJepaForImageClassification",Yr]],["pvt",["PvtForImageClassification",Qr]],["vit_msn",["ViTMSNForImageClassification",ri]],["fastvit",["FastViTForImageClassification",ci]],["mobilevit",["MobileViTForImageClassification",fi]],["mobilevitv2",["MobileViTV2ForImageClassification",yi]],["beit",["BeitForImageClassification",Ai]],["deit",["DeiTForImageClassification",eo]],["hiera",["HieraForImageClassification",ao]],["convnext",["ConvNextForImageClassification",jo]],["convnextv2",["ConvNextV2ForImageClassification",Uo]],["dinov2",["Dinov2ForImageClassification",Wo]],["dinov2_with_registers",["Dinov2WithRegistersForImageClassification",Jo]],["resnet",["ResNetForImageClassification",oo]],["swin",["SwinForImageClassification",co]],["segformer",["SegformerForImageClassification",gl]],["efficientnet",["EfficientNetForImageClassification",kl]],["mobilenet_v1",["MobileNetV1ForImageClassification",Fl]],["mobilenet_v2",["MobileNetV2ForImageClassification",Pl]],["mobilenet_v3",["MobileNetV3ForImageClassification",Ll]],["mobilenet_v4",["MobileNetV4ForImageClassification",ql]]]),Vc=new Map([["detr",["DetrForObjectDetection",Ei]],["rt_detr",["RTDetrForObjectDetection",Ni]],["rt_detr_v2",["RTDetrV2ForObjectDetection",Ri]],["rf_detr",["RFDetrForObjectDetection",Ui]],["d_fine",["DFineForObjectDetection",Ki]],["table-transformer",["TableTransformerForObjectDetection",Zi]],["yolos",["YolosForObjectDetection",es]]]),qc=new Map([["owlvit",["OwlViTForObjectDetection",wi]],["owlv2",["Owlv2ForObjectDetection",ki]],["grounding-dino",["GroundingDinoForObjectDetection",Xo]]]),Uc=new Map([["detr",["DetrForSegmentation",Fi]],["clipseg",["CLIPSegForImageSegmentation",pa]]]),Gc=new Map([["segformer",["SegformerForSemanticSegmentation",yl]],["sapiens",["SapiensForSemanticSegmentation",_o]],["swin",["SwinForSemanticSegmentation",uo]],["mobilenet_v1",["MobileNetV1ForSemanticSegmentation",Ml]],["mobilenet_v2",["MobileNetV2ForSemanticSegmentation",Nl]],["mobilenet_v3",["MobileNetV3ForSemanticSegmentation",Rl]],["mobilenet_v4",["MobileNetV4ForSemanticSegmentation",Ul]]]),Hc=new Map([["detr",["DetrForSegmentation",Fi]],["maskformer",["MaskFormerForInstanceSegmentation",Io]]]),Wc=new Map([["sam",["SamModel",as]]]),Kc=new Map([["wav2vec2",["Wav2Vec2ForCTC",ps]],["wav2vec2-bert",["Wav2Vec2BertForCTC",Is]],["unispeech",["UniSpeechForCTC",ks]],["unispeech-sat",["UniSpeechSatForCTC",Cs]],["wavlm",["WavLMForCTC",js]],["hubert",["HubertForCTC",Os]]]),Yc=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",fs]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",zs]],["unispeech",["UniSpeechForSequenceClassification",Ts]],["unispeech-sat",["UniSpeechSatForSequenceClassification",Ss]],["wavlm",["WavLMForSequenceClassification",Vs]],["hubert",["HubertForSequenceClassification",Bs]],["audio-spectrogram-transformer",["ASTForAudioClassification",Cn]]]),Jc=new Map([["wavlm",["WavLMForXVector",qs]]]),Zc=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",Es]],["wavlm",["WavLMForAudioFrameClassification",Us]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",ms]],["pyannote",["PyAnnoteForAudioFrameClassification",bs]]]),Xc=new Map([["vitmatte",["VitMatteForImageMatting",di]]]),$c=new Map([["patchtst",["PatchTSTForPrediction",Ql]],["patchtsmixer",["PatchTSMixerForPrediction",nc]]]),Qc=new Map([["swin2sr",["Swin2SRForImageSuperResolution",fo]]]),eu=new Map([["dpt",["DPTForDepthEstimation",yo]],["depth_anything",["DepthAnythingForDepthEstimation",vo]],["glpn",["GLPNForDepthEstimation",No]],["sapiens",["SapiensForDepthEstimation",xo]],["depth_pro",["DepthProForDepthEstimation",Do]],["metric3d",["Metric3DForDepthEstimation",Co]],["metric3dv2",["Metric3Dv2ForDepthEstimation",Eo]]]),tu=new Map([["sapiens",["SapiensForNormalEstimation",ko]]]),nu=new Map([["vitpose",["VitPoseForPoseEstimation",Zr]]]),au=new Map([["clip",["CLIPVisionModelWithProjection",ea]],["siglip",["SiglipVisionModel",ra]],["jina_clip",["JinaCLIPVisionModel",ua]]]),ru=[[xc,k],[kc,T],[Dc,C],[Tc,N],[Ec,k],[Fc,k],[Mc,D],[Ac,D],[Ic,C],[zc,I],[Pc,k],[Nc,k],[Oc,A],[Bc,E],[Lc,P],[jc,k],[Uc,k],[Hc,k],[Gc,k],[Xc,k],[$c,k],[Qc,k],[eu,k],[tu,k],[nu,k],[Vc,k],[qc,k],[Wc,S],[Kc,k],[Yc,k],[Cc,D],[Sc,k],[Jc,k],[Zc,k],[au,k]];for(const[i,l]of ru)for(const[e,t]of i.values())O.set(e,l),L.set(t,e),B.set(e,t);const iu=[["MusicgenForConditionalGeneration",Cl,M],["Phi3VForCausalLM",Yn,z],["CLIPTextModelWithProjection",$n,k],["SiglipTextModel",aa,k],["JinaCLIPTextModel",ca,k],["ClapTextModelWithProjection",ul,k],["ClapAudioModelWithProjection",dl,k],["DacEncoderModel",mc,k],["DacDecoderModel",gc,k],["MimiEncoderModel",cc,k],["MimiDecoderModel",uc,k],["SnacEncoderModel",vc,k],["SnacDecoderModel",wc,k]];for(const[i,l,u]of iu)O.set(i,u),L.set(l,i),B.set(i,l);const ou=new Map([["modnet",Uc],["birefnet",Uc],["isnet",Uc],["ben",Uc]]);for(const[i,l]of ou.entries())l.set(i,["PreTrainedModel",oe]),O.set(i,k),L.set(oe,i),B.set(i,oe);class su extends _c{}l(su,"MODEL_CLASS_MAPPINGS",ru.map((e=>e[0]))),l(su,"BASE_IF_FAIL",!0);class lu extends _c{}l(lu,"MODEL_CLASS_MAPPINGS",[Ec]);class cu extends _c{}l(cu,"MODEL_CLASS_MAPPINGS",[Fc]);class uu extends _c{}l(uu,"MODEL_CLASS_MAPPINGS",[Mc]);class du extends _c{}l(du,"MODEL_CLASS_MAPPINGS",[Ac]);class hu extends _c{}l(hu,"MODEL_CLASS_MAPPINGS",[Cc]);class pu extends _c{}l(pu,"MODEL_CLASS_MAPPINGS",[Sc]);class fu extends _c{}l(fu,"MODEL_CLASS_MAPPINGS",[Ic]);class mu extends _c{}l(mu,"MODEL_CLASS_MAPPINGS",[Pc]);class gu extends _c{}l(gu,"MODEL_CLASS_MAPPINGS",[Nc]);class yu extends _c{}l(yu,"MODEL_CLASS_MAPPINGS",[Oc]);class bu extends _c{}l(bu,"MODEL_CLASS_MAPPINGS",[jc]);class vu extends _c{}l(vu,"MODEL_CLASS_MAPPINGS",[Uc]);class wu extends _c{}l(wu,"MODEL_CLASS_MAPPINGS",[Gc]);class _u extends _c{}l(_u,"MODEL_CLASS_MAPPINGS",[Hc]);class xu extends _c{}l(xu,"MODEL_CLASS_MAPPINGS",[Vc]);class ku extends _c{}l(ku,"MODEL_CLASS_MAPPINGS",[qc]);class Tu extends _c{}l(Tu,"MODEL_CLASS_MAPPINGS",[Wc]);class Du extends _c{}l(Du,"MODEL_CLASS_MAPPINGS",[Kc]);class Au extends _c{}l(Au,"MODEL_CLASS_MAPPINGS",[Yc]);class Cu extends _c{}l(Cu,"MODEL_CLASS_MAPPINGS",[Jc]);class Su extends _c{}l(Su,"MODEL_CLASS_MAPPINGS",[Zc]);class Eu extends _c{}l(Eu,"MODEL_CLASS_MAPPINGS",[Rc]);class Fu extends _c{}l(Fu,"MODEL_CLASS_MAPPINGS",[Xc]);class Mu extends _c{}l(Mu,"MODEL_CLASS_MAPPINGS",[Qc]);class Iu extends _c{}l(Iu,"MODEL_CLASS_MAPPINGS",[eu]);class zu extends _c{}l(zu,"MODEL_CLASS_MAPPINGS",[tu]);class Pu extends _c{}l(Pu,"MODEL_CLASS_MAPPINGS",[nu]);class Nu extends _c{}l(Nu,"MODEL_CLASS_MAPPINGS",[au]);class Ou extends _c{}l(Ou,"MODEL_CLASS_MAPPINGS",[Bc]);class Bu extends _c{}l(Bu,"MODEL_CLASS_MAPPINGS",[Lc]);class Lu extends se{constructor(e){let{logits:t,past_key_values:n,encoder_outputs:a,decoder_attentions:r=null,cross_attentions:i=null}=e;super(),this.logits=t,this.past_key_values=n,this.encoder_outputs=a,this.decoder_attentions=r,this.cross_attentions=i}}class Ru extends se{constructor(e){let{logits:t}=e,n=i(e,th);super(),this.logits=t;const a=Object.values(n);a.length>0&&(this.attentions=a)}}class ju extends se{constructor(e){let{logits:t,embeddings:n}=e;super(),this.logits=t,this.embeddings=n}}class Vu extends se{constructor(e){let{logits:t}=e;super(),this.logits=t}}class qu extends se{constructor(e){let{logits:t}=e;super(),this.logits=t}}class Uu extends se{constructor(e){let{start_logits:t,end_logits:n}=e;super(),this.start_logits=t,this.end_logits=n}}class Gu extends se{constructor(e){let{logits:t}=e;super(),this.logits=t}}class Hu extends se{constructor(e){let{logits:t,past_key_values:n}=e;super(),this.logits=t,this.past_key_values=n}}class Wu extends se{constructor(e){let{alphas:t}=e;super(),this.alphas=t}}class Ku extends se{constructor(e){let{waveform:t,spectrogram:n}=e;super(),this.waveform=t,this.spectrogram=n}}},"./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js":(e,t,n)=>{n.r(t),n.d(t,{ASTFeatureExtractor:()=>i});var a=n("./src/base/feature_extraction_utils.js"),r=(n("./src/utils/tensor.js"),n("./src/utils/audio.js"));class i extends a.FeatureExtractor{constructor(e){super(e);const t=this.config.sampling_rate,n=(0,r.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);this.mel_filters=n,this.window=(0,r.window_function)(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}async _extract_fbank_features(e,t){return(0,r.spectrogram)(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){(0,a.validate_audio_inputs)(e,"ASTFeatureExtractor");const t=await this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const e=2*this.std,n=t.data;for(let t=0;t<n.length;++t)n[t]=(n[t]-this.mean)/e}return{input_values:t.unsqueeze_(0)}}}},"./src/models/auto/feature_extraction_auto.js":(e,t,n)=>{n.r(t),n.d(t,{AutoFeatureExtractor:()=>o});var a=n("./src/utils/constants.js"),r=n("./src/utils/hub.js"),i=(n("./src/base/feature_extraction_utils.js"),n("./src/models/feature_extractors.js"));class o{static async from_pretrained(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await(0,r.getModelJSON)(e,a.FEATURE_EXTRACTOR_NAME,!0,t),o=n.feature_extractor_type,s=i[o];if(!s)throw new Error("Unknown feature_extractor_type: '".concat(o,"'. Please report this at ").concat(a.GITHUB_ISSUE_URL,"."));return new s(n)}}},"./src/models/auto/image_processing_auto.js":(e,t,n)=>{n.r(t),n.d(t,{AutoImageProcessor:()=>s});var a=n("./src/utils/constants.js"),r=n("./src/utils/hub.js"),i=n("./src/base/image_processors_utils.js"),o=n("./src/models/image_processors.js");class s{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=await(0,r.getModelJSON)(e,a.IMAGE_PROCESSOR_NAME,!0,n),l=null!==(t=s.image_processor_type)&&void 0!==t?t:s.feature_extractor_type;let c=o[l];return c||(void 0!==l&&console.warn("Image processor type '".concat(l,"' not found, assuming base ImageProcessor. Please report this at ").concat(a.GITHUB_ISSUE_URL,".")),c=i.ImageProcessor),new c(s)}}},"./src/models/auto/processing_auto.js":(e,t,n)=>{n.r(t),n.d(t,{AutoProcessor:()=>c});var a=n("./src/utils/constants.js"),r=n("./src/utils/hub.js"),i=n("./src/base/processing_utils.js"),o=n("./src/models/processors.js"),s=n("./src/models/image_processors.js"),l=n("./src/models/feature_extractors.js");class c{static async from_pretrained(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await(0,r.getModelJSON)(e,a.IMAGE_PROCESSOR_NAME,!0,t),{image_processor_type:c,feature_extractor_type:u,processor_class:d}=n;if(d&&o[d])return o[d].from_pretrained(e,t);if(!c&&!u)throw new Error("No `image_processor_type` or `feature_extractor_type` found in the config.");const h={};if(c){const e=s[c];if(!e)throw new Error("Unknown image_processor_type: '".concat(c,"'."));h.image_processor=new e(n)}if(u){const e=s[u];if(e)h.image_processor=new e(n);else{const e=l[u];if(!e)throw new Error("Unknown feature_extractor_type: '".concat(u,"'."));h.feature_extractor=new e(n)}}return new i.Processor({},h)}}},"./src/models/beit/image_processing_beit.js":(e,t,n)=>{n.r(t),n.d(t,{BeitFeatureExtractor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}},"./src/models/bit/image_processing_bit.js":(e,t,n)=>{n.r(t),n.d(t,{BitImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}},"./src/models/chinese_clip/image_processing_chinese_clip.js":(e,t,n)=>{n.r(t),n.d(t,{ChineseCLIPFeatureExtractor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}},"./src/models/clap/feature_extraction_clap.js":(e,t,n)=>{n.r(t),n.d(t,{ClapFeatureExtractor:()=>i});var a=n("./src/base/feature_extraction_utils.js"),r=(n("./src/utils/tensor.js"),n("./src/utils/audio.js"));class i extends a.FeatureExtractor{constructor(e){super(e),this.mel_filters=(0,r.mel_filter_bank)(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=(0,r.mel_filter_bank)(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=(0,r.window_function)(this.config.fft_window_size,"hann")}async _get_input_mel(e,t,n,a){let r,i=!1;const o=e.length-t;if(o>0){if("rand_trunc"!==n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));{i=!0;const n=Math.floor(Math.random()*(o+1));e=e.subarray(n,n+t),r=await this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples)}}else{if(o<0){let n=new Float64Array(t);if(n.set(e),"repeat"===a)for(let a=e.length;a<t;a+=e.length)n.set(e.subarray(0,Math.min(e.length,t-a)),a);else if("repeatpad"===a)for(let t=e.length;t<-o;t+=e.length)n.set(e,t);e=n}if("fusion"===n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));r=await this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples)}return r.unsqueeze_(0)}async _extract_fbank_features(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.spectrogram)(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:t,log_mel:"dB",max_num_frames:n,do_pad:!1,transpose:!0})}async _call(e){let{max_length:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.validate_audio_inputs)(e,"ClapFeatureExtractor");return{input_features:(await this._get_input_mel(e,null!==t&&void 0!==t?t:this.config.nb_max_samples,this.config.truncation,this.config.padding)).unsqueeze_(0)}}}},"./src/models/clip/image_processing_clip.js":(e,t,n)=>{n.r(t),n.d(t,{CLIPFeatureExtractor:()=>i,CLIPImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/convnext/image_processing_convnext.js":(e,t,n)=>{n.r(t),n.d(t,{ConvNextFeatureExtractor:()=>i,ConvNextImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{constructor(e){var t;super(e),this.crop_pct=null!==(t=this.config.crop_pct)&&void 0!==t?t:.875}async resize(e){var t;const n=null===(t=this.size)||void 0===t?void 0:t.shortest_edge;if(void 0===n)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(n<384){const t=Math.floor(n/this.crop_pct),[a,r]=this.get_resize_output_image_size(e,{shortest_edge:t});e=await e.resize(a,r,{resample:this.resample}),e=await e.center_crop(n,n)}else e=await e.resize(n,n,{resample:this.resample});return e}}class i extends r{}},"./src/models/dac/feature_extraction_dac.js":(e,t,n)=>{n.r(t),n.d(t,{DacFeatureExtractor:()=>r});var a=n("./src/models/encodec/feature_extraction_encodec.js");class r extends a.EncodecFeatureExtractor{}},"./src/models/deit/image_processing_deit.js":(e,t,n)=>{n.r(t),n.d(t,{DeiTFeatureExtractor:()=>i,DeiTImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/detr/image_processing_detr.js":(e,t,n)=>{n.r(t),n.d(t,{DetrFeatureExtractor:()=>o,DetrImageProcessor:()=>i});var a=n("./src/base/image_processors_utils.js"),r=n("./src/utils/tensor.js");class i extends a.ImageProcessor{async _call(e){const t=await super._call(e),n=[t.pixel_values.dims[0],64,64],a=(0,r.full)(n,1n);return u(u({},t),{},{pixel_mask:a})}post_process_object_detection(){return(0,a.post_process_object_detection)(...arguments)}post_process_panoptic_segmentation(){return(0,a.post_process_panoptic_segmentation)(...arguments)}post_process_instance_segmentation(){return(0,a.post_process_instance_segmentation)(...arguments)}}class o extends i{}},"./src/models/donut/image_processing_donut.js":(e,t,n)=>{n.r(t),n.d(t,{DonutFeatureExtractor:()=>i,DonutImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{pad_image(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[r,i,o]=t;let s=this.image_mean;Array.isArray(this.image_mean)||(s=new Array(o).fill(s));let l=this.image_std;Array.isArray(l)||(l=new Array(o).fill(s));const c=s.map(((e,t)=>-e/l[t]));return super.pad_image(e,t,n,u({center:!0,constant_values:c},a))}}class i extends r{}},"./src/models/dpt/image_processing_dpt.js":(e,t,n)=>{n.r(t),n.d(t,{DPTFeatureExtractor:()=>i,DPTImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/efficientnet/image_processing_efficientnet.js":(e,t,n)=>{n.r(t),n.d(t,{EfficientNetImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{constructor(e){var t;super(e),this.include_top=null===(t=this.config.include_top)||void 0===t||t,this.include_top&&(this.image_std=this.image_std.map((e=>e*e)))}}},"./src/models/encodec/feature_extraction_encodec.js":(e,t,n)=>{n.r(t),n.d(t,{EncodecFeatureExtractor:()=>i});var a=n("./src/base/feature_extraction_utils.js"),r=n("./src/utils/tensor.js");class i extends a.FeatureExtractor{async _call(e){(0,a.validate_audio_inputs)(e,"EncodecFeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));const t=this.config.feature_size;if(e.length%t!==0)throw new Error("The length of the audio data must be a multiple of the number of channels (".concat(t,")."));const n=[1,t,e.length/t];return{input_values:new r.Tensor("float32",e,n)}}}},"./src/models/feature_extractors.js":(e,t,n)=>{n.r(t),n.d(t,{ASTFeatureExtractor:()=>a.ASTFeatureExtractor,ClapFeatureExtractor:()=>i.ClapFeatureExtractor,DacFeatureExtractor:()=>o.DacFeatureExtractor,EncodecFeatureExtractor:()=>r.EncodecFeatureExtractor,ImageFeatureExtractor:()=>m.ImageProcessor,MoonshineFeatureExtractor:()=>s.MoonshineFeatureExtractor,PyAnnoteFeatureExtractor:()=>l.PyAnnoteFeatureExtractor,SeamlessM4TFeatureExtractor:()=>c.SeamlessM4TFeatureExtractor,SnacFeatureExtractor:()=>u.SnacFeatureExtractor,SpeechT5FeatureExtractor:()=>d.SpeechT5FeatureExtractor,Wav2Vec2FeatureExtractor:()=>h.Wav2Vec2FeatureExtractor,WeSpeakerFeatureExtractor:()=>p.WeSpeakerFeatureExtractor,WhisperFeatureExtractor:()=>f.WhisperFeatureExtractor});var a=n("./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js"),r=n("./src/models/encodec/feature_extraction_encodec.js"),i=n("./src/models/clap/feature_extraction_clap.js"),o=n("./src/models/dac/feature_extraction_dac.js"),s=n("./src/models/moonshine/feature_extraction_moonshine.js"),l=n("./src/models/pyannote/feature_extraction_pyannote.js"),c=n("./src/models/seamless_m4t/feature_extraction_seamless_m4t.js"),u=n("./src/models/snac/feature_extraction_snac.js"),d=n("./src/models/speecht5/feature_extraction_speecht5.js"),h=n("./src/models/wav2vec2/feature_extraction_wav2vec2.js"),p=n("./src/models/wespeaker/feature_extraction_wespeaker.js"),f=n("./src/models/whisper/feature_extraction_whisper.js"),m=n("./src/base/image_processors_utils.js")},"./src/models/florence2/processing_florence2.js":(e,t,n)=>{n.r(t),n.d(t,{Florence2Processor:()=>o});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js");class o extends a.Processor{constructor(e,t){super(e,t);const{tasks_answer_post_processing_type:n,task_prompts_without_inputs:a,task_prompts_with_input:r}=this.image_processor.config;this.tasks_answer_post_processing_type=new Map(Object.entries(null!==n&&void 0!==n?n:{})),this.task_prompts_without_inputs=new Map(Object.entries(null!==a&&void 0!==a?a:{})),this.task_prompts_with_input=new Map(Object.entries(null!==r&&void 0!==r?r:{})),this.regexes={quad_boxes:/(.+?)<loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)>/gm,bboxes:/([^<]+)?<loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)>/gm},this.size_per_bin=1e3}construct_prompts(e){"string"===typeof e&&(e=[e]);const t=[];for(const n of e)if(this.task_prompts_without_inputs.has(n))t.push(this.task_prompts_without_inputs.get(n));else{for(const[e,a]of this.task_prompts_with_input)if(n.includes(e)){t.push(a.replaceAll("{input}",n).replaceAll(e,""));break}t.length!==e.length&&t.push(n)}return t}post_process_generation(e,t,n){var a;const r=null!==(a=this.tasks_answer_post_processing_type.get(t))&&void 0!==a?a:"pure_text";let i;switch(e=e.replaceAll("<s>","").replaceAll("</s>",""),r){case"pure_text":i=e;break;case"description_with_bboxes":case"bboxes":case"phrase_grounding":case"ocr":const a="ocr"===r?"quad_boxes":"bboxes",s=e.matchAll(this.regexes[a]),l=[],c=[];for(const[e,t,...r]of s){var o;l.push(t?t.trim():null!==(o=l.at(-1))&&void 0!==o?o:""),c.push(r.map(((e,t)=>(Number(e)+.5)/this.size_per_bin*n[t%2])))}i={labels:l,[a]:c};break;default:throw new Error('Task "'.concat(t,'" (of type "').concat(r,'") not yet implemented.'))}return{[t]:i}}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&!t)throw new Error("Either text or images must be provided");const a=await this.image_processor(e,n),r=t?this.tokenizer(t,n):{};return u(u({},a),r)}}l(o,"tokenizer_class",i.AutoTokenizer),l(o,"image_processor_class",r.AutoImageProcessor)},"./src/models/glpn/image_processing_glpn.js":(e,t,n)=>{n.r(t),n.d(t,{GLPNFeatureExtractor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}},"./src/models/grounding_dino/image_processing_grounding_dino.js":(e,t,n)=>{n.r(t),n.d(t,{GroundingDinoImageProcessor:()=>i});var a=n("./src/base/image_processors_utils.js"),r=n("./src/utils/tensor.js");class i extends a.ImageProcessor{async _call(e){const t=await super._call(e),n=t.pixel_values.dims,a=(0,r.ones)([n[0],n[2],n[3]]);return u(u({},t),{},{pixel_mask:a})}}},"./src/models/grounding_dino/processing_grounding_dino.js":(e,t,n)=>{n.r(t),n.d(t,{GroundingDinoProcessor:()=>c});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js"),o=n("./src/base/image_processors_utils.js");function s(e,t){const n=e.dims.at(-1)-1,a=e.tolist();a.fill(!1,0,1),a.fill(!1,n);const r=t.tolist();return a.map(((e,t)=>e?t:null)).filter((e=>null!==e)).map((e=>r[e]))}class c extends a.Processor{async _call(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e?await this.image_processor(e,n):{};return u(u({},t?this.tokenizer(t,n):{}),a)}post_process_grounded_object_detection(e,t){let{box_threshold:n=.25,text_threshold:a=.25,target_sizes:r=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{logits:i,pred_boxes:l}=e,c=i.dims[0];if(null!==r&&r.length!==c)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const u=i.dims.at(1),d=i.sigmoid(),h=d.max(-1).tolist(),p=l.tolist().map((e=>e.map((e=>(0,o.center_to_corners_format)(e))))),f=[];for(let o=0;o<c;++o){const e=null!==r?r[o]:null;null!==e&&(p[o]=p[o].map((t=>t.map(((t,n)=>t*e[(n+1)%2])))));const i=h[o],l=[],c=[],m=[];for(let r=0;r<u;++r){const e=i[r];if(e<=n)continue;const u=p[o][r],h=d[o][r];l.push(e),m.push(u);const f=s(h.gt(a),t[o]);c.push(f)}f.push({scores:l,boxes:m,labels:this.batch_decode(c)})}return f}}l(c,"tokenizer_class",i.AutoTokenizer),l(c,"image_processor_class",r.AutoImageProcessor)},"./src/models/idefics3/image_processing_idefics3.js":(e,t,n)=>{n.r(t),n.d(t,{Idefics3ImageProcessor:()=>i});var a=n("./src/base/image_processors_utils.js"),r=n("./src/utils/tensor.js");class i extends a.ImageProcessor{constructor(e){var t;super(e),this.do_image_splitting=null===(t=e.do_image_splitting)||void 0===t||t,this.max_image_size=e.max_image_size}get_resize_for_vision_encoder(e,t){let[n,a]=e.dims.slice(-2);const r=a/n;return a>=n?(a=Math.ceil(a/t)*t,n=Math.floor(a/r),n=Math.ceil(n/t)*t):(n=Math.ceil(n/t)*t,a=Math.floor(n*r),a=Math.ceil(a/t)*t),{height:n,width:a}}async _call(e){let t,{do_image_splitting:n=null,return_row_col_info:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)){if(0===e.length||!e[0])throw new Error("No images provided.");t=Array.isArray(e[0])?e:[e]}else t=[[e]];let i=[],o=[],s=[];const l=[],c=[];for(const u of t){let e=await Promise.all(u.map((e=>this.preprocess(e))));l.push(...e.map((e=>e.original_size))),c.push(...e.map((e=>e.reshaped_input_size))),e.forEach((e=>e.pixel_values.unsqueeze_(0)));const{longest_edge:t}=this.max_image_size;let a;if(null!==n&&void 0!==n?n:this.do_image_splitting){let n=new Array(e.length),i=new Array(e.length);a=await Promise.all(e.map((async(e,a)=>{const o=this.get_resize_for_vision_encoder(e.pixel_values,t),s=await(0,r.interpolate_4d)(e.pixel_values,{size:[o.height,o.width]}),{frames:l,num_splits_h:c,num_splits_w:u}=await this.split_image(s,this.max_image_size);return n[a]=c,i[a]=u,(0,r.cat)(l,0)}))),o.push(n),s.push(i)}else{const n=[t,t];a=await Promise.all(e.map((e=>(0,r.interpolate_4d)(e.pixel_values,{size:n})))),o.push(new Array(e.length).fill(0)),s.push(new Array(e.length).fill(0))}i.push((0,r.cat)(a,0))}const d=i.length,[h,p,f,m]=i[0].dims;let g,y;if(1===d)g=i[0].unsqueeze_(0),y=(0,r.full)([d,h,f,m],!0);else{const e=Math.max(...i.map((e=>e.dims.at(0))));y=(0,r.full)([d,e,f,m],!0);const t=y.data,n=e*f*m;for(let a=0;a<d;++a){const o=i[a].dims[0];if(o<e){i[a]=(0,r.cat)([i[a],(0,r.full)([e-o,p,f,m],0)],0);const s=a*n+o*f*m,l=(a+1)*n;t.fill(!1,s,l)}}g=(0,r.stack)(i,0)}return u({pixel_values:g,pixel_attention_mask:y,original_sizes:l,reshaped_input_sizes:c},a?{rows:o,cols:s}:{})}async split_image(e,t){let{longest_edge:n}=t;const a=n,i=n,o=[],[s,l]=e.dims.slice(-2);let c=0,u=0;if(s>a||l>i){c=Math.ceil(s/a),u=Math.ceil(l/i);const t=Math.ceil(s/c),n=Math.ceil(l/u);for(let a=0;a<c;++a)for(let i=0;i<u;++i){let d,h,p,f;a===c-1?(h=s-t,f=s):(h=a*t,f=(a+1)*t),i===u-1?(d=l-n,p=l):(d=i*n,p=(i+1)*n);const m=[h,d],g=[f,p],y=await(0,r.slice)(e,m,g,[2,3]);o.push(y)}const d=a,h=i;s===d&&l===h||(e=await(0,r.interpolate_4d)(e,{size:[d,h]}))}return o.push(e),{frames:o,num_splits_h:c,num_splits_w:u}}}},"./src/models/idefics3/processing_idefics3.js":(e,t,n)=>{n.r(t),n.d(t,{Idefics3Processor:()=>c});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js"),o=(n("./src/utils/image.js"),n("./src/utils/core.js"));function s(e,t,n,a,r,i){return 0===e&&0===t?function(e,t,n,a){return"".concat(t)+"".concat(a)+n.repeat(e)+"".concat(t)}(n,a,r,i):function(e,t,n,a,r,i){let o="";for(let s=0;s<t;++s){for(let t=0;t<n;++t)o+=a+"<row_".concat(s+1,"_col_").concat(t+1,">")+r.repeat(e);o+="\n"}return o+="\n".concat(a)+"".concat(i)+r.repeat(e)+"".concat(a),o}(n,e,t,a,r,i)}class c extends a.Processor{constructor(){super(...arguments),l(this,"fake_image_token","<fake_token_around_image>"),l(this,"image_token","<image>"),l(this,"global_img_token","<global-img>")}async _call(e){var t,n,a;let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!==(t=l.return_row_col_info)&&void 0!==t||(l.return_row_col_info=!0),i&&(r=await this.image_processor(i,l)),Array.isArray(e)||(e=[e]);const c=null!==(n=r.rows)&&void 0!==n?n:[new Array(e.length).fill(0)],d=null!==(a=r.cols)&&void 0!==a?a:[new Array(e.length).fill(0)],h=this.config.image_seq_len,p=[],f=[];for(let u=0;u<e.length;++u){const t=e[u],n=c[u],a=d[u];p.push((0,o.count)(t,this.image_token));const r=n.map(((e,t)=>s(e,a[t],h,this.fake_image_token,this.image_token,this.global_img_token))),i=t.split(this.image_token);if(0===i.length)throw new Error("The image token should be present in the text.");let l=i[0];for(let e=0;e<r.length;++e)l+=r[e]+i[e+1];f.push(l)}return u(u({},this.tokenizer(f)),r)}}l(c,"image_processor_class",r.AutoImageProcessor),l(c,"tokenizer_class",i.AutoTokenizer),l(c,"uses_processor_config",!0)},"./src/models/image_processors.js":(e,t,n)=>{n.r(t),n.d(t,{BeitFeatureExtractor:()=>a.BeitFeatureExtractor,BitImageProcessor:()=>r.BitImageProcessor,CLIPFeatureExtractor:()=>o.CLIPFeatureExtractor,CLIPImageProcessor:()=>o.CLIPImageProcessor,ChineseCLIPFeatureExtractor:()=>i.ChineseCLIPFeatureExtractor,ConvNextFeatureExtractor:()=>s.ConvNextFeatureExtractor,ConvNextImageProcessor:()=>s.ConvNextImageProcessor,DPTFeatureExtractor:()=>d.DPTFeatureExtractor,DPTImageProcessor:()=>d.DPTImageProcessor,DeiTFeatureExtractor:()=>l.DeiTFeatureExtractor,DeiTImageProcessor:()=>l.DeiTImageProcessor,DetrFeatureExtractor:()=>c.DetrFeatureExtractor,DetrImageProcessor:()=>c.DetrImageProcessor,DonutFeatureExtractor:()=>u.DonutFeatureExtractor,DonutImageProcessor:()=>u.DonutImageProcessor,EfficientNetImageProcessor:()=>h.EfficientNetImageProcessor,GLPNFeatureExtractor:()=>p.GLPNFeatureExtractor,GroundingDinoImageProcessor:()=>f.GroundingDinoImageProcessor,Idefics3ImageProcessor:()=>m.Idefics3ImageProcessor,JinaCLIPImageProcessor:()=>y.JinaCLIPImageProcessor,LlavaOnevisionImageProcessor:()=>b.LlavaOnevisionImageProcessor,Mask2FormerImageProcessor:()=>v.Mask2FormerImageProcessor,MaskFormerFeatureExtractor:()=>w.MaskFormerFeatureExtractor,MaskFormerImageProcessor:()=>w.MaskFormerImageProcessor,MobileNetV1FeatureExtractor:()=>_.MobileNetV1FeatureExtractor,MobileNetV1ImageProcessor:()=>_.MobileNetV1ImageProcessor,MobileNetV2FeatureExtractor:()=>x.MobileNetV2FeatureExtractor,MobileNetV2ImageProcessor:()=>x.MobileNetV2ImageProcessor,MobileNetV3FeatureExtractor:()=>k.MobileNetV3FeatureExtractor,MobileNetV3ImageProcessor:()=>k.MobileNetV3ImageProcessor,MobileNetV4FeatureExtractor:()=>T.MobileNetV4FeatureExtractor,MobileNetV4ImageProcessor:()=>T.MobileNetV4ImageProcessor,MobileViTFeatureExtractor:()=>D.MobileViTFeatureExtractor,MobileViTImageProcessor:()=>D.MobileViTImageProcessor,NougatImageProcessor:()=>A.NougatImageProcessor,OwlViTFeatureExtractor:()=>S.OwlViTFeatureExtractor,OwlViTImageProcessor:()=>S.OwlViTImageProcessor,Owlv2ImageProcessor:()=>C.Owlv2ImageProcessor,Phi3VImageProcessor:()=>E.Phi3VImageProcessor,PvtImageProcessor:()=>F.PvtImageProcessor,Qwen2VLImageProcessor:()=>M.Qwen2VLImageProcessor,RTDetrImageProcessor:()=>I.RTDetrImageProcessor,SamImageProcessor:()=>z.SamImageProcessor,SegformerFeatureExtractor:()=>P.SegformerFeatureExtractor,SegformerImageProcessor:()=>P.SegformerImageProcessor,SiglipImageProcessor:()=>N.SiglipImageProcessor,SmolVLMImageProcessor:()=>O.SmolVLMImageProcessor,Swin2SRImageProcessor:()=>B.Swin2SRImageProcessor,VLMImageProcessor:()=>g.VLMImageProcessor,ViTFeatureExtractor:()=>L.ViTFeatureExtractor,ViTImageProcessor:()=>L.ViTImageProcessor,VitMatteImageProcessor:()=>R.VitMatteImageProcessor,VitPoseImageProcessor:()=>j.VitPoseImageProcessor,YolosFeatureExtractor:()=>V.YolosFeatureExtractor,YolosImageProcessor:()=>V.YolosImageProcessor});var a=n("./src/models/beit/image_processing_beit.js"),r=n("./src/models/bit/image_processing_bit.js"),i=n("./src/models/chinese_clip/image_processing_chinese_clip.js"),o=n("./src/models/clip/image_processing_clip.js"),s=n("./src/models/convnext/image_processing_convnext.js"),l=n("./src/models/deit/image_processing_deit.js"),c=n("./src/models/detr/image_processing_detr.js"),u=n("./src/models/donut/image_processing_donut.js"),d=n("./src/models/dpt/image_processing_dpt.js"),h=n("./src/models/efficientnet/image_processing_efficientnet.js"),p=n("./src/models/glpn/image_processing_glpn.js"),f=n("./src/models/grounding_dino/image_processing_grounding_dino.js"),m=n("./src/models/idefics3/image_processing_idefics3.js"),g=n("./src/models/janus/image_processing_janus.js"),y=n("./src/models/jina_clip/image_processing_jina_clip.js"),b=n("./src/models/llava_onevision/image_processing_llava_onevision.js"),v=n("./src/models/mask2former/image_processing_mask2former.js"),w=n("./src/models/maskformer/image_processing_maskformer.js"),_=n("./src/models/mobilenet_v1/image_processing_mobilenet_v1.js"),x=n("./src/models/mobilenet_v2/image_processing_mobilenet_v2.js"),k=n("./src/models/mobilenet_v3/image_processing_mobilenet_v3.js"),T=n("./src/models/mobilenet_v4/image_processing_mobilenet_v4.js"),D=n("./src/models/mobilevit/image_processing_mobilevit.js"),A=n("./src/models/nougat/image_processing_nougat.js"),C=n("./src/models/owlv2/image_processing_owlv2.js"),S=n("./src/models/owlvit/image_processing_owlvit.js"),E=n("./src/models/phi3_v/image_processing_phi3_v.js"),F=n("./src/models/pvt/image_processing_pvt.js"),M=n("./src/models/qwen2_vl/image_processing_qwen2_vl.js"),I=n("./src/models/rt_detr/image_processing_rt_detr.js"),z=n("./src/models/sam/image_processing_sam.js"),P=n("./src/models/segformer/image_processing_segformer.js"),N=n("./src/models/siglip/image_processing_siglip.js"),O=n("./src/models/smolvlm/image_processing_smolvlm.js"),B=n("./src/models/swin2sr/image_processing_swin2sr.js"),L=n("./src/models/vit/image_processing_vit.js"),R=n("./src/models/vitmatte/image_processing_vitmatte.js"),j=n("./src/models/vitpose/image_processing_vitpose.js"),V=n("./src/models/yolos/image_processing_yolos.js")},"./src/models/janus/image_processing_janus.js":(e,t,n)=>{n.r(t),n.d(t,{VLMImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{constructor(e){super(u({do_pad:!0,pad_size:{width:e.image_size,height:e.image_size}},e)),this.constant_values=this.config.background_color.map((e=>e*this.rescale_factor))}pad_image(e,t,n,a){return super.pad_image(e,t,n,u({constant_values:this.constant_values,center:!0},a))}}},"./src/models/janus/processing_janus.js":(e,t,n)=>{n.r(t),n.d(t,{VLChatProcessor:()=>d});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js"),o=n("./src/utils/core.js"),s=n("./src/utils/tensor.js"),c=n("./src/utils/image.js");class d extends a.Processor{constructor(e,t){super(e,t),this.image_tag=this.config.image_tag,this.image_start_tag=this.config.image_start_tag,this.image_end_tag=this.config.image_end_tag,this.num_image_tokens=this.config.num_image_tokens}async _call(e){let{images:t=null,chat_template:n="default"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?Array.isArray(t)||(t=[t]):t=await Promise.all(e.filter((e=>e.images)).flatMap((e=>e.images)).map((e=>c.RawImage.read(e))));const a=this.tokenizer,r=e=>a.encode(e,{add_special_tokens:!1}),i=a.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0,chat_template:n}).split(this.image_tag),l=i.length-1;if(t.length!==l)throw new Error("Number of images provided (".concat(t.length,') does not match number of "').concat(this.image_tag,'" image tags (').concat(l,")"));const[d,h,p]=a.model.convert_tokens_to_ids([this.image_tag,this.image_start_tag,this.image_end_tag]);let f=r(i[0]),m=new Array(f.length).fill(!1);for(let s=1;s<i.length;++s){const e=new Array(this.num_image_tokens).fill(d),t=r(i[s]);f=(0,o.mergeArrays)(f,[h],e,[p],t);const n=new Array(this.num_image_tokens).fill(!0);m=(0,o.mergeArrays)(m,[!1],n,[!1],new Array(t.length).fill(!1))}const g=[1,f.length],y={input_ids:new s.Tensor("int64",f,g),attention_mask:new s.Tensor("int64",new Array(f.length).fill(1),g),images_seq_mask:new s.Tensor("bool",m,g),images_emb_mask:new s.Tensor("bool",new Array(l*this.num_image_tokens).fill(!0),[1,l,this.num_image_tokens])};if(t&&t.length>0){const e=await this.image_processor(t);return e.pixel_values.unsqueeze_(0),u(u({},y),e)}return y}}l(d,"image_processor_class",r.AutoImageProcessor),l(d,"tokenizer_class",i.AutoTokenizer),l(d,"uses_processor_config",!0)},"./src/models/jina_clip/image_processing_jina_clip.js":(e,t,n)=>{n.r(t),n.d(t,{JinaCLIPImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{constructor(e){const{resize_mode:t,fill_color:n,interpolation:a,size:r}=e,o="squash"===t?{width:r,height:r}:"shortest"===t?{shortest_edge:r}:{longest_edge:r},s="bicubic"===a?3:2;super(u(u({},i(e,nh)),{},{size:o,resample:s,do_center_crop:!0,crop_size:r,do_normalize:!0}))}}},"./src/models/jina_clip/processing_jina_clip.js":(e,t,n)=>{n.r(t),n.d(t,{JinaCLIPProcessor:()=>o});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js");class o extends a.Processor{async _call(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&!t)throw new Error("Either text or images must be provided");const a=e?this.tokenizer(e,n):{},r=t?await this.image_processor(t,n):{};return u(u({},a),r)}}l(o,"tokenizer_class",i.AutoTokenizer),l(o,"image_processor_class",r.AutoImageProcessor)},"./src/models/llava_onevision/image_processing_llava_onevision.js":(e,t,n)=>{n.r(t),n.d(t,{LlavaOnevisionImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}},"./src/models/mask2former/image_processing_mask2former.js":(e,t,n)=>{n.r(t),n.d(t,{Mask2FormerImageProcessor:()=>r});var a=n("./src/models/maskformer/image_processing_maskformer.js");class r extends a.MaskFormerImageProcessor{}},"./src/models/maskformer/image_processing_maskformer.js":(e,t,n)=>{n.r(t),n.d(t,{MaskFormerFeatureExtractor:()=>i,MaskFormerImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{post_process_panoptic_segmentation(){return(0,a.post_process_panoptic_segmentation)(...arguments)}post_process_instance_segmentation(){return(0,a.post_process_instance_segmentation)(...arguments)}}class i extends r{}},"./src/models/mgp_str/processing_mgp_str.js":(e,t,n)=>{n.r(t),n.d(t,{MgpstrProcessor:()=>c});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js"),o=n("./src/utils/maths.js");const s={char:["char_decode",1],bpe:["bpe_decode",2],wp:["wp_decode",102]};class c extends a.Processor{get char_tokenizer(){return this.components.char_tokenizer}get bpe_tokenizer(){return this.components.bpe_tokenizer}get wp_tokenizer(){return this.components.wp_tokenizer}_decode_helper(e,t){if(!s.hasOwnProperty(t))throw new Error("Format ".concat(t," is not supported."));const[n,a]=s[t],r=this[n].bind(this),[i,l]=e.dims,c=[],u=[],d=e.tolist();for(let s=0;s<i;++s){const e=d[s],t=[],n=[];for(let i=1;i<l;++i){const[r,s]=(0,o.max)((0,o.softmax)(e[i]));if(n.push(r),s==a)break;t.push(s)}const r=n.length>0?n.reduce(((e,t)=>e*t),1):0;u.push(t),c.push(r)}return[r(u),c]}char_decode(e){return this.char_tokenizer.batch_decode(e).map((e=>e.replaceAll(" ","")))}bpe_decode(e){return this.bpe_tokenizer.batch_decode(e)}wp_decode(e){return this.wp_tokenizer.batch_decode(e).map((e=>e.replaceAll(" ","")))}batch_decode(e){let[t,n,a]=e;const[r,i]=this._decode_helper(t,"char"),[s,l]=this._decode_helper(n,"bpe"),[c,u]=this._decode_helper(a,"wp"),d=[],h=[];for(let p=0;p<r.length;++p){const[e,t]=(0,o.max)([i[p],l[p],u[p]]);d.push([r[p],s[p],c[p]][t]),h.push(e)}return{generated_text:d,scores:h,char_preds:r,bpe_preds:s,wp_preds:c}}static async from_pretrained(){const e=await super.from_pretrained(...arguments),t=await i.AutoTokenizer.from_pretrained("Xenova/gpt2"),n=await i.AutoTokenizer.from_pretrained("Xenova/bert-base-uncased");return e.components={image_processor:e.image_processor,char_tokenizer:e.tokenizer,bpe_tokenizer:t,wp_tokenizer:n},e}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=await this.image_processor(e);return t&&(n.labels=this.tokenizer(t).input_ids),n}}l(c,"tokenizer_class",i.AutoTokenizer),l(c,"image_processor_class",r.AutoImageProcessor)},"./src/models/mobilenet_v1/image_processing_mobilenet_v1.js":(e,t,n)=>{n.r(t),n.d(t,{MobileNetV1FeatureExtractor:()=>i,MobileNetV1ImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/mobilenet_v2/image_processing_mobilenet_v2.js":(e,t,n)=>{n.r(t),n.d(t,{MobileNetV2FeatureExtractor:()=>i,MobileNetV2ImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/mobilenet_v3/image_processing_mobilenet_v3.js":(e,t,n)=>{n.r(t),n.d(t,{MobileNetV3FeatureExtractor:()=>i,MobileNetV3ImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/mobilenet_v4/image_processing_mobilenet_v4.js":(e,t,n)=>{n.r(t),n.d(t,{MobileNetV4FeatureExtractor:()=>i,MobileNetV4ImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/mobilevit/image_processing_mobilevit.js":(e,t,n)=>{n.r(t),n.d(t,{MobileViTFeatureExtractor:()=>i,MobileViTImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/moonshine/feature_extraction_moonshine.js":(e,t,n)=>{n.r(t),n.d(t,{MoonshineFeatureExtractor:()=>i});var a=n("./src/base/feature_extraction_utils.js"),r=n("./src/utils/tensor.js");class i extends a.FeatureExtractor{async _call(e){(0,a.validate_audio_inputs)(e,"MoonshineFeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));const t=[1,e.length];return{input_values:new r.Tensor("float32",e,t)}}}},"./src/models/moonshine/processing_moonshine.js":(e,t,n)=>{n.r(t),n.d(t,{MoonshineProcessor:()=>o});var a=n("./src/models/auto/feature_extraction_auto.js"),r=n("./src/tokenizers.js"),i=n("./src/base/processing_utils.js");class o extends i.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",r.AutoTokenizer),l(o,"feature_extractor_class",a.AutoFeatureExtractor)},"./src/models/nougat/image_processing_nougat.js":(e,t,n)=>{n.r(t),n.d(t,{NougatImageProcessor:()=>r});var a=n("./src/models/donut/image_processing_donut.js");class r extends a.DonutImageProcessor{}},"./src/models/owlv2/image_processing_owlv2.js":(e,t,n)=>{n.r(t),n.d(t,{Owlv2ImageProcessor:()=>r});var a=n("./src/models/owlvit/image_processing_owlvit.js");class r extends a.OwlViTImageProcessor{}},"./src/models/owlvit/image_processing_owlvit.js":(e,t,n)=>{n.r(t),n.d(t,{OwlViTFeatureExtractor:()=>i,OwlViTImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{post_process_object_detection(){return(0,a.post_process_object_detection)(...arguments)}}class i extends r{}},"./src/models/owlvit/processing_owlvit.js":(e,t,n)=>{n.r(t),n.d(t,{OwlViTProcessor:()=>o});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js");class o extends a.Processor{}l(o,"tokenizer_class",i.AutoTokenizer),l(o,"image_processor_class",r.AutoImageProcessor)},"./src/models/paligemma/processing_paligemma.js":(e,t,n)=>{n.r(t),n.d(t,{PaliGemmaProcessor:()=>s});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js");const o="<image>";class s extends a.Processor{async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t||(console.warn("You are using PaliGemma without a text prefix. It will perform as a picture-captioning model."),t=""),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const a=this.tokenizer.bos_token,r=this.image_processor.config.image_seq_length;let i;t.some((e=>e.includes(o)))?i=t.map((e=>{const t=e.replaceAll(o,o.repeat(r)),n=t.lastIndexOf(o),i=-1===n?0:n+7;return t.slice(0,i)+a+t.slice(i)+"\n"})):(console.warn("You are passing both `text` and `images` to `PaliGemmaProcessor`. The processor expects special image tokens in the text, as many tokens as there are images per each text. It is recommended to add `<image>` tokens in the very beginning of your text. For this call, we will infer how many images each text has and add special tokens."),i=t.map((t=>function(e,t,n,a,r){return"".concat(a.repeat(n*r)).concat(t).concat(e,"\n")}(t,a,r,o,e.length))));const s=this.tokenizer(i,n);return u(u({},await this.image_processor(e,n)),s)}}l(s,"tokenizer_class",i.AutoTokenizer),l(s,"image_processor_class",r.AutoImageProcessor),l(s,"uses_processor_config",!1)},"./src/models/phi3_v/image_processing_phi3_v.js":(e,t,n)=>{n.r(t),n.d(t,{Phi3VImageProcessor:()=>d});var a=n("./src/base/image_processors_utils.js"),r=n("./src/utils/tensor.js");const i=336,o=[2,3],{ceil:s,floor:l,sqrt:c}=Math;class d extends a.ImageProcessor{constructor(e){super(u(u({},e),{},{do_normalize:!0,do_pad:!0,pad_size:"custom",do_convert_rgb:!0,do_resize:!0})),this._num_crops=e.num_crops}calc_num_image_tokens_from_image_size(e,t){const{num_img_tokens:n}=this.config;return l((l(t/i)*l(e/i)+1)*n+1+(l(t/i)+1)*c(n))}get_resize_output_image_size(e,t){const n=this._num_crops,[a,r]=e.size;let i=a/r,o=1;for(;o*Math.ceil(o/i)<=n;)o+=1;o-=1;const s=Math.floor(336*o);return[s,Math.floor(s/i)]}pad_image(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[r,o]=t,l=i*s(r/i),c=i*s(o/i),d=[1,1,1].map(((e,t)=>(e-this.image_mean[t])/this.image_std[t]));return super.pad_image(e,t,{width:c,height:l},u({center:!0,constant_values:d},a))}async _call(e){let{num_crops:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._num_crops=null!==t&&void 0!==t?t:t=this.config.num_crops,t<4||c(t)%1!==0)throw new Error("num_crops must be a square number >= 4");Array.isArray(e)||(e=[e]);const n=e.length,a=await Promise.all(e.map((e=>this.preprocess(e)))),u=a.map((e=>e.original_size)),d=a.map((e=>e.reshaped_input_size)),h=[];for(const{pixel_values:s}of a){s.unsqueeze_(0);const[e,n]=s.dims.slice(-2),a=await(0,r.interpolate_4d)(s,{size:[i,i],mode:"bicubic"});if(t>0){const u=[],d=c(t),p=l(n/d),f=l(e/d);for(let t=0;t<d;++t)for(let a=0;a<d;++a){let i,l,c,h;t===d-1?(l=e-f,h=e):(l=t*f,h=(t+1)*f),a===d-1?(i=n-p,c=n):(i=a*p,c=(a+1)*p);const m=[l,i],g=[h,c],y=await(0,r.slice)(s,m,g,o);u.push(y)}const m=await(0,r.interpolate_4d)((0,r.cat)(u,0),{size:[i,i],mode:"bicubic"});h.push((0,r.cat)([a,m],0))}else h.push(a)}const p=(0,r.stack)(h,0),f=d.map((e=>e.map((e=>i*s(e/i))))),m=new r.Tensor("int64",f.flat(),[n,2]),g=f.map((e=>{let[t,n]=e;return this.calc_num_image_tokens_from_image_size(n,t)}));return{pixel_values:p,original_sizes:u,reshaped_input_sizes:d,image_sizes:m,num_img_tokens:g}}}},"./src/models/phi3_v/processing_phi3_v.js":(e,t,n)=>{n.r(t),n.d(t,{Phi3VProcessor:()=>c});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js");n("./src/utils/image.js");const o="<|image|>",s=/<\|image_\d+\|>/g;class c extends a.Processor{async _call(e){let t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{padding:r=!0,truncation:i=!0,num_crops:l=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(e)||(e=[e]),a){n=await this.image_processor(a,{num_crops:l});const{num_img_tokens:c}=n,u=e.map(((e,t)=>e.split(s).join(o.repeat(c[t]))));t=this.tokenizer(u,{padding:r,truncation:i});const d=this.tokenizer.model.convert_tokens_to_ids([o])[0];t.input_ids.map_((e=>e==d?-e:e))}else t=this.tokenizer(e);return u(u({},t),n)}}l(c,"image_processor_class",r.AutoImageProcessor),l(c,"tokenizer_class",i.AutoTokenizer)},"./src/models/processors.js":(e,t,n)=>{n.r(t),n.d(t,{Florence2Processor:()=>a.Florence2Processor,GroundingDinoProcessor:()=>r.GroundingDinoProcessor,Idefics3Processor:()=>i.Idefics3Processor,JinaCLIPProcessor:()=>s.JinaCLIPProcessor,MgpstrProcessor:()=>l.MgpstrProcessor,MoonshineProcessor:()=>c.MoonshineProcessor,OwlViTProcessor:()=>u.OwlViTProcessor,PaliGemmaProcessor:()=>h.PaliGemmaProcessor,Phi3VProcessor:()=>d.Phi3VProcessor,PyAnnoteProcessor:()=>p.PyAnnoteProcessor,Qwen2VLProcessor:()=>f.Qwen2VLProcessor,SamProcessor:()=>m.SamProcessor,SmolVLMProcessor:()=>g.SmolVLMProcessor,SpeechT5Processor:()=>y.SpeechT5Processor,UltravoxProcessor:()=>b.UltravoxProcessor,VLChatProcessor:()=>o.VLChatProcessor,Wav2Vec2Processor:()=>v.Wav2Vec2Processor,Wav2Vec2ProcessorWithLM:()=>w.Wav2Vec2ProcessorWithLM,WhisperProcessor:()=>_.WhisperProcessor});var a=n("./src/models/florence2/processing_florence2.js"),r=n("./src/models/grounding_dino/processing_grounding_dino.js"),i=n("./src/models/idefics3/processing_idefics3.js"),o=n("./src/models/janus/processing_janus.js"),s=n("./src/models/jina_clip/processing_jina_clip.js"),l=n("./src/models/mgp_str/processing_mgp_str.js"),c=n("./src/models/moonshine/processing_moonshine.js"),u=n("./src/models/owlvit/processing_owlvit.js"),d=n("./src/models/phi3_v/processing_phi3_v.js"),h=n("./src/models/paligemma/processing_paligemma.js"),p=n("./src/models/pyannote/processing_pyannote.js"),f=n("./src/models/qwen2_vl/processing_qwen2_vl.js"),m=n("./src/models/sam/processing_sam.js"),g=n("./src/models/smolvlm/processing_smolvlm.js"),y=n("./src/models/speecht5/processing_speecht5.js"),b=n("./src/models/ultravox/processing_ultravox.js"),v=n("./src/models/wav2vec2/processing_wav2vec2.js"),w=n("./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js"),_=n("./src/models/whisper/processing_whisper.js")},"./src/models/pvt/image_processing_pvt.js":(e,t,n)=>{n.r(t),n.d(t,{PvtImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}},"./src/models/pyannote/feature_extraction_pyannote.js":(e,t,n)=>{n.r(t),n.d(t,{PyAnnoteFeatureExtractor:()=>o});var a=n("./src/base/feature_extraction_utils.js"),r=n("./src/utils/tensor.js"),i=n("./src/utils/maths.js");class o extends a.FeatureExtractor{async _call(e){(0,a.validate_audio_inputs)(e,"PyAnnoteFeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));const t=[1,1,e.length];return{input_values:new r.Tensor("float32",e,t)}}samples_to_frames(e){return(e-this.config.offset)/this.config.step}post_process_speaker_diarization(e,t){const n=t/this.samples_to_frames(t)/this.config.sampling_rate,a=[];for(const r of e.tolist()){const e=[];let t=-1;for(let n=0;n<r.length;++n){const a=(0,i.softmax)(r[n]),[o,s]=(0,i.max)(a),[l,c]=[n,n+1];s!==t?(t=s,e.push({id:s,start:l,end:c,score:o})):(e.at(-1).end=c,e.at(-1).score+=o)}a.push(e.map((e=>{let{id:t,start:a,end:r,score:i}=e;return{id:t,start:a*n,end:r*n,confidence:i/(r-a)}})))}return a}}},"./src/models/pyannote/processing_pyannote.js":(e,t,n)=>{n.r(t),n.d(t,{PyAnnoteProcessor:()=>i});var a=n("./src/base/processing_utils.js"),r=n("./src/models/pyannote/feature_extraction_pyannote.js");class i extends a.Processor{async _call(e){return await this.feature_extractor(e)}post_process_speaker_diarization(){return this.feature_extractor.post_process_speaker_diarization(...arguments)}get sampling_rate(){return this.feature_extractor.config.sampling_rate}}l(i,"feature_extractor_class",r.PyAnnoteFeatureExtractor)},"./src/models/qwen2_vl/image_processing_qwen2_vl.js":(e,t,n)=>{n.r(t),n.d(t,{Qwen2VLImageProcessor:()=>i});var a=n("./src/base/image_processors_utils.js"),r=n("./src/utils/tensor.js");class i extends a.ImageProcessor{async _call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const{pixel_values:i,original_sizes:o,reshaped_input_sizes:s}=await super._call(e,...n);let l=i;const{temporal_patch_size:c,merge_size:u,patch_size:d}=this.config;1===l.dims[0]&&(l=(0,r.cat)(Array.from({length:c},(()=>l)),0));const h=l.dims[0]/c,p=l.dims[1],f=Math.floor(l.dims[2]/d),m=Math.floor(l.dims[3]/d);return{pixel_values:l.view(h,c,p,Math.floor(f/u),u,d,Math.floor(m/u),u,d).permute(0,3,6,4,7,2,1,5,8).view(h*f*m,p*c*d*d),image_grid_thw:new r.Tensor("int64",[h,f,m],[1,3]),original_sizes:o,reshaped_input_sizes:s}}}},"./src/models/qwen2_vl/processing_qwen2_vl.js":(e,t,n)=>{n.r(t),n.d(t,{Qwen2VLProcessor:()=>o});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js"),i=n("./src/tokenizers.js");n("./src/utils/image.js");class o extends a.Processor{async _call(e){let t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(e)||(e=[e]),a&&(t=await this.image_processor(a),n=t.image_grid_thw),n){let t=this.image_processor.config.merge_size**2,a=0;const r=n.tolist();e=e.map((e=>{for(;e.includes("<|image_pad|>");){const n=Number(r[a++].reduce(((e,t)=>e*t),1n));e=e.replace("<|image_pad|>","<|placeholder|>".repeat(Math.floor(n/t)))}return e.replaceAll("<|placeholder|>","<|image_pad|>")}))}return u(u({},this.tokenizer(e)),t)}}l(o,"image_processor_class",r.AutoImageProcessor),l(o,"tokenizer_class",i.AutoTokenizer)},"./src/models/rt_detr/image_processing_rt_detr.js":(e,t,n)=>{n.r(t),n.d(t,{RTDetrImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{post_process_object_detection(){return(0,a.post_process_object_detection)(...arguments)}}},"./src/models/sam/image_processing_sam.js":(e,t,n)=>{n.r(t),n.d(t,{SamImageProcessor:()=>o});var a=n("./src/base/image_processors_utils.js"),r=n("./src/utils/core.js"),i=n("./src/utils/tensor.js");class o extends a.ImageProcessor{reshape_input_points(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=structuredClone(e);let o=(0,r.calculateDimensions)(e);if(3===o.length)a||(o=[1,...o]),e=[e];else if(4!==o.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let r=0;r<e.length;++r){let a=t[r],i=n[r],o=[i[0]/a[0],i[1]/a[1]];for(let t=0;t<e[r].length;++t)for(let n=0;n<e[r][t].length;++n)for(let a=0;a<e[r][t][n].length;++a)e[r][t][n][a]*=o[a%2]}return new i.Tensor("float32",Float32Array.from(e.flat(1/0)),o)}add_input_labels(e,t){let n=(0,r.calculateDimensions)(e);if(2===n.length)n=[1,...n],e=[e];else if(3!==n.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(n.some(((e,n)=>e!==t.dims[n])))throw Error("The first ".concat(n.length," dimensions of 'input_points' and 'input_labels' must be the same."));return new i.Tensor("int64",e.flat(1/0).map(BigInt),n)}async _call(e){let{input_points:t=null,input_labels:n=null,input_boxes:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await super._call(e);if(t&&(r.input_points=this.reshape_input_points(t,r.original_sizes,r.reshaped_input_sizes)),n){if(!r.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");r.input_labels=this.add_input_labels(n,r.input_points)}return a&&(r.input_boxes=this.reshape_input_points(a,r.original_sizes,r.reshaped_input_sizes,!0)),r}async post_process_masks(e,t,n){let{mask_threshold:a=0,binarize:r=!0,pad_size:o=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=[];o=null!==o&&void 0!==o?o:this.pad_size;const l=[o.height,o.width];for(let c=0;c<t.length;++c){const o=t[c],u=n[c];let d=await(0,i.interpolate_4d)(e[c],{mode:"bilinear",size:l});if(d=d.slice(null,null,[0,u[0]],[0,u[1]]),d=await(0,i.interpolate_4d)(d,{mode:"bilinear",size:o}),r){const e=d.data,t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)e[n]>a&&(t[n]=1);d=new i.Tensor("bool",t,d.dims)}s.push(d)}return s}generate_crop_boxes(e,t){let{crop_n_layers:n=0,overlap_ratio:a=512/1500,points_per_crop:r=32,crop_n_points_downscale_factor:i=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}}}},"./src/models/sam/processing_sam.js":(e,t,n)=>{n.r(t),n.d(t,{SamProcessor:()=>i});var a=n("./src/base/processing_utils.js"),r=n("./src/models/auto/image_processing_auto.js");class i extends a.Processor{async _call(){return await this.image_processor(...arguments)}post_process_masks(){return this.image_processor.post_process_masks(...arguments)}reshape_input_points(){return this.image_processor.reshape_input_points(...arguments)}}l(i,"image_processor_class",r.AutoImageProcessor)},"./src/models/seamless_m4t/feature_extraction_seamless_m4t.js":(e,t,n)=>{n.r(t),n.d(t,{SeamlessM4TFeatureExtractor:()=>o});var a=n("./src/base/feature_extraction_utils.js"),r=n("./src/utils/tensor.js"),i=n("./src/utils/audio.js");class o extends a.FeatureExtractor{constructor(e){super(e);const t=this.config.sampling_rate,n=(0,i.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);this.mel_filters=n,this.window=(0,i.window_function)(400,"povey",{periodic:!1})}async _extract_fbank_features(e,t){return e=e.map((e=>32768*e)),(0,i.spectrogram)(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){let{padding:t=!0,pad_to_multiple_of:n=2,do_normalize_per_mel_bins:i=!0,return_attention_mask:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.validate_audio_inputs)(e,"SeamlessM4TFeatureExtractor");let s,l=await this._extract_fbank_features(e,this.config.max_length);if(i){const[e,t]=l.dims,n=l.data;for(let a=0;a<t;++a){let r=0;for(let l=0;l<e;++l)r+=n[l*t+a];const i=r/e;let o=0;for(let l=0;l<e;++l)o+=(n[l*t+a]-i)**2;o/=e-1;const s=Math.sqrt(o+1e-7);for(let l=0;l<e;++l){const e=l*t+a;n[e]=(n[e]-i)/s}}}if(t){const[e,t]=l.dims,a=l.data,i=e%n;if(i>0){const n=new Float32Array(t*(e+i));n.set(a),n.fill(this.config.padding_value,a.length);const c=e+i;l=new r.Tensor(l.type,n,[c,t]),o&&(s=new r.Tensor("int64",new BigInt64Array(c),[1,c]),s.data.fill(1n,0,e))}}const[c,u]=l.dims,d=this.config.stride;if(0!==c%d)throw new Error("The number of frames (".concat(c,") must be a multiple of the stride (").concat(d,")."));const h=l.view(1,Math.floor(c/d),u*d),p={input_features:h};if(o){const e=h.dims[1],t=new BigInt64Array(e);if(s){const e=s.data;for(let n=1,a=0;n<c;n+=d,++a)t[a]=e[n]}else t.fill(1n);p.attention_mask=new r.Tensor("int64",t,[1,e])}return p}}},"./src/models/segformer/image_processing_segformer.js":(e,t,n)=>{n.r(t),n.d(t,{SegformerFeatureExtractor:()=>i,SegformerImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{post_process_semantic_segmentation(){return(0,a.post_process_semantic_segmentation)(...arguments)}}class i extends r{}},"./src/models/siglip/image_processing_siglip.js":(e,t,n)=>{n.r(t),n.d(t,{SiglipImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}},"./src/models/smolvlm/image_processing_smolvlm.js":(e,t,n)=>{n.r(t),n.d(t,{SmolVLMImageProcessor:()=>a.Idefics3ImageProcessor});var a=n("./src/models/idefics3/image_processing_idefics3.js")},"./src/models/smolvlm/processing_smolvlm.js":(e,t,n)=>{n.r(t),n.d(t,{SmolVLMProcessor:()=>a.Idefics3Processor});var a=n("./src/models/idefics3/processing_idefics3.js")},"./src/models/snac/feature_extraction_snac.js":(e,t,n)=>{n.r(t),n.d(t,{SnacFeatureExtractor:()=>r});var a=n("./src/models/dac/feature_extraction_dac.js");class r extends a.DacFeatureExtractor{}},"./src/models/speecht5/feature_extraction_speecht5.js":(e,t,n)=>{n.r(t),n.d(t,{SpeechT5FeatureExtractor:()=>r});var a=n("./src/base/feature_extraction_utils.js");class r extends a.FeatureExtractor{}},"./src/models/speecht5/processing_speecht5.js":(e,t,n)=>{n.r(t),n.d(t,{SpeechT5Processor:()=>o});var a=n("./src/base/processing_utils.js"),r=n("./src/tokenizers.js"),i=n("./src/models/auto/feature_extraction_auto.js");class o extends a.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",r.AutoTokenizer),l(o,"feature_extractor_class",i.AutoFeatureExtractor)},"./src/models/swin2sr/image_processing_swin2sr.js":(e,t,n)=>{n.r(t),n.d(t,{Swin2SRImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{pad_image(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[r,i,o]=t;return super.pad_image(e,t,{width:i+(n-i%n)%n,height:r+(n-r%n)%n},u({mode:"symmetric",center:!1,constant_values:-1},a))}}},"./src/models/ultravox/processing_ultravox.js":(e,t,n)=>{n.r(t),n.d(t,{UltravoxProcessor:()=>o});var a=n("./src/models/auto/feature_extraction_auto.js"),r=n("./src/tokenizers.js"),i=n("./src/base/processing_utils.js");class o extends i.Processor{async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(e))throw new Error("Batched inputs are not supported yet.");let a={};if(t){const r=t.length,{input_features:i}=await this.feature_extractor(t,u(u({},n),{},{max_length:r})),o=Math.round(r/this.config.encoder_ds_factor+1e-4),s=1+Math.ceil(o/this.config.stack_factor);a.audio_token_len=[s],a.audio_values=i;const l=this.config.audio_placeholder;if(!e.includes(l))throw new Error("The input text does not contain the image token ".concat(l,"."));e=e.replaceAll(l,l.repeat(s))}const r=this.tokenizer(e,u({add_special_tokens:!1},n));return u(u({},r),a)}}l(o,"tokenizer_class",r.AutoTokenizer),l(o,"feature_extractor_class",a.AutoFeatureExtractor),l(o,"uses_processor_config",!0)},"./src/models/vit/image_processing_vit.js":(e,t,n)=>{n.r(t),n.d(t,{ViTFeatureExtractor:()=>i,ViTImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{}class i extends r{}},"./src/models/vitmatte/image_processing_vitmatte.js":(e,t,n)=>{n.r(t),n.d(t,{VitMatteImageProcessor:()=>i});var a=n("./src/base/image_processors_utils.js"),r=n("./src/utils/tensor.js");class i extends a.ImageProcessor{async _call(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const n=await Promise.all(e.map((e=>this.preprocess(e)))),a=await Promise.all(t.map((e=>this.preprocess(e,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})))),i=(0,r.stack)(n.map(((e,t)=>(0,r.cat)([e.pixel_values,a[t].pixel_values],0))),0);return{pixel_values:i,original_sizes:n.map((e=>e.original_size)),reshaped_input_sizes:n.map((e=>e.reshaped_input_size))}}}},"./src/models/vitpose/image_processing_vitpose.js":(e,t,n)=>{n.r(t),n.d(t,{VitPoseImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{post_process_pose_estimation(e,t){let{threshold:n=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.tolist(),[r,i,o,s]=e.dims,l=[];for(let c=0;c<r;++c){const e=a[c],r=t[c],i=[];for(let t=0;t<r.length;++t){const a=r[t],l=[],c=[],u=[],d=a.at(-2)/s,h=a.at(-1)/o;for(let t=0;t<e.length;++t){let[a,r]=[0,0],i=0,o=-1/0;const s=e[t];for(let e=0;e<s.length;++e){const t=s[e];for(let n=0;n<t.length;++n){const s=t[n];i+=s,o=Math.max(o,s),a+=(n+.5)*s,r+=e*s}}if(null!=n&&o<n)continue;const p=[d*a/i,h*r/i];l.push(p),u.push(t),c.push(o)}i.push({bbox:a,scores:c,labels:u,keypoints:l})}l.push(i)}return l}}},"./src/models/wav2vec2/feature_extraction_wav2vec2.js":(e,t,n)=>{n.r(t),n.d(t,{Wav2Vec2FeatureExtractor:()=>i});var a=n("./src/base/feature_extraction_utils.js"),r=n("./src/utils/tensor.js");class i extends a.FeatureExtractor{_zero_mean_unit_var_norm(e){const t=e.reduce(((e,t)=>e+t),0),n=t/e.length,a=e.reduce(((e,t)=>e+(t-n)**2),0)/e.length;return e.map((e=>(e-n)/Math.sqrt(a+1e-7)))}async _call(e){(0,a.validate_audio_inputs)(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let t=e;this.config.do_normalize&&(t=this._zero_mean_unit_var_norm(t));const n=[1,t.length];return{input_values:new r.Tensor("float32",t,n),attention_mask:new r.Tensor("int64",new BigInt64Array(t.length).fill(1n),n)}}}},"./src/models/wav2vec2/processing_wav2vec2.js":(e,t,n)=>{n.r(t),n.d(t,{Wav2Vec2Processor:()=>o});var a=n("./src/tokenizers.js"),r=n("./src/models/auto/feature_extraction_auto.js"),i=n("./src/base/processing_utils.js");class o extends i.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",a.AutoTokenizer),l(o,"feature_extractor_class",r.AutoFeatureExtractor)},"./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js":(e,t,n)=>{n.r(t),n.d(t,{Wav2Vec2ProcessorWithLM:()=>o});var a=n("./src/tokenizers.js"),r=n("./src/models/auto/feature_extraction_auto.js"),i=n("./src/base/processing_utils.js");class o extends i.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",a.AutoTokenizer),l(o,"feature_extractor_class",r.AutoFeatureExtractor)},"./src/models/wespeaker/feature_extraction_wespeaker.js":(e,t,n)=>{n.r(t),n.d(t,{WeSpeakerFeatureExtractor:()=>i});var a=n("./src/base/feature_extraction_utils.js"),r=(n("./src/utils/tensor.js"),n("./src/utils/audio.js"));class i extends a.FeatureExtractor{constructor(e){super(e);const t=this.config.sampling_rate,n=(0,r.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);this.mel_filters=n,this.window=(0,r.window_function)(400,"hamming",{periodic:!1}),this.min_num_frames=this.config.min_num_frames}async _extract_fbank_features(e){return e=e.map((e=>32768*e)),(0,r.spectrogram)(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,transpose:!0,min_num_frames:this.min_num_frames})}async _call(e){(0,a.validate_audio_inputs)(e,"WeSpeakerFeatureExtractor");const t=(await this._extract_fbank_features(e)).unsqueeze_(0);if(null===this.config.fbank_centering_span){const e=t.mean(1).data,n=t.data,[a,r,i]=t.dims;for(let t=0;t<a;++t){const a=t*r*i,o=t*i;for(let t=0;t<r;++t){const r=a+t*i;for(let t=0;t<i;++t)n[r+t]-=e[o+t]}}}return{input_features:t}}}},"./src/models/whisper/common_whisper.js":(e,t,n)=>{n.r(t),n.d(t,{WHISPER_LANGUAGE_MAPPING:()=>r,WHISPER_TO_LANGUAGE_CODE_MAPPING:()=>i,whisper_language_to_code:()=>o});const a=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],r=new Map(a),i=new Map([...a.map((e=>{let[t,n]=e;return[n,t]})),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);function o(e){e=e.toLowerCase();let t=i.get(e);if(void 0===t){const n=e.match(/^<\|([a-z]{2})\|>$/);if(n&&(e=n[1]),!r.has(e)){const t=2===e.length?r.keys():r.values();throw new Error('Language "'.concat(e,'" is not supported. Must be one of: ').concat(JSON.stringify(Array.from(t))))}t=e}return t}},"./src/models/whisper/feature_extraction_whisper.js":(e,t,n)=>{n.r(t),n.d(t,{WhisperFeatureExtractor:()=>o});var a=n("./src/base/feature_extraction_utils.js"),r=(n("./src/utils/tensor.js"),n("./src/utils/audio.js")),i=n("./src/utils/maths.js");class o extends a.FeatureExtractor{constructor(e){var t,n;super(e),null!==(n=(t=this.config).mel_filters)&&void 0!==n||(t.mel_filters=(0,r.mel_filter_bank)(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney")),this.window=(0,r.window_function)(this.config.n_fft,"hann")}async _extract_fbank_features(e){const t=await(0,r.spectrogram)(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:Math.min(Math.floor(e.length/this.config.hop_length),this.config.nb_max_frames)}),n=t.data,a=(0,i.max)(n)[0];for(let r=0;r<n.length;++r)n[r]=(Math.max(n[r],a-8)+4)/4;return t}async _call(e){let t,{max_length:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.validate_audio_inputs)(e,"WhisperFeatureExtractor");const r=null!==n&&void 0!==n?n:this.config.n_samples;e.length>r?(e.length>this.config.n_samples&&console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),t=e.slice(0,r)):(t=new Float32Array(r),t.set(e));return{input_features:(await this._extract_fbank_features(t)).unsqueeze_(0)}}}},"./src/models/whisper/generation_whisper.js":(e,t,n)=>{n.r(t),n.d(t,{WhisperGenerationConfig:()=>r});var a=n("./src/generation/configuration_utils.js");class r extends a.GenerationConfig{constructor(){super(...arguments),l(this,"return_timestamps",null),l(this,"return_token_timestamps",null),l(this,"num_frames",null),l(this,"alignment_heads",null),l(this,"task",null),l(this,"language",null),l(this,"no_timestamps_token_id",null),l(this,"prompt_ids",null),l(this,"is_multilingual",null),l(this,"lang_to_id",null),l(this,"task_to_id",null),l(this,"max_initial_timestamp_index",1)}}},"./src/models/whisper/processing_whisper.js":(e,t,n)=>{n.r(t),n.d(t,{WhisperProcessor:()=>o});var a=n("./src/models/auto/feature_extraction_auto.js"),r=n("./src/tokenizers.js"),i=n("./src/base/processing_utils.js");class o extends i.Processor{async _call(e){return await this.feature_extractor(e)}}l(o,"tokenizer_class",r.AutoTokenizer),l(o,"feature_extractor_class",a.AutoFeatureExtractor)},"./src/models/yolos/image_processing_yolos.js":(e,t,n)=>{n.r(t),n.d(t,{YolosFeatureExtractor:()=>i,YolosImageProcessor:()=>r});var a=n("./src/base/image_processors_utils.js");class r extends a.ImageProcessor{post_process_object_detection(){return(0,a.post_process_object_detection)(...arguments)}}class i extends r{}},"./src/ops/registry.js":(e,t,n)=>{n.r(t),n.d(t,{TensorOpRegistry:()=>c});var a=n("./src/backends/onnx.js"),r=n("./src/utils/tensor.js"),i=n("./src/env.js");const o=i.apis.IS_BROWSER_ENV||i.apis.IS_WEBWORKER_ENV,s=async(e,t,n)=>{const i=await(0,a.createInferenceSession)(new Uint8Array(e),t);let s=Promise.resolve();return async e=>{const t=(0,a.isONNXProxy)(),l=Object.fromEntries(Object.entries(e).map((e=>{let[n,a]=e;return[n,(t?a.clone():a).ort_tensor]}))),c=await(s=o?s.then((()=>i.run(l))):i.run(l));return Array.isArray(n)?n.map((e=>new r.Tensor(c[e]))):new r.Tensor(c[n])}};class c{static get nearest_interpolate_4d(){return this._nearest_interpolate_4d||(this._nearest_interpolate_4d=s([8,10,18,0,58,129,1,10,41,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,18,10,4,109,111,100,101,34,7,110,101,97,114,101,115,116,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,21],this.session_options,"y")),this._nearest_interpolate_4d}static get bilinear_interpolate_4d(){return this._bilinear_interpolate_4d||(this._bilinear_interpolate_4d=s([8,9,18,0,58,128,1,10,40,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,17,10,4,109,111,100,101,34,6,108,105,110,101,97,114,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,20],this.session_options,"y")),this._bilinear_interpolate_4d}static get bicubic_interpolate_4d(){return this._bicubic_interpolate_4d||(this._bicubic_interpolate_4d=s([8,9,18,0,58,127,10,39,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,16,10,4,109,111,100,101,34,5,99,117,98,105,99,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,20],this.session_options,"y")),this._bicubic_interpolate_4d}static get matmul(){return this._matmul||(this._matmul=s([8,9,18,0,58,55,10,17,10,1,97,10,1,98,18,1,99,34,6,77,97,116,77,117,108,18,1,114,90,9,10,1,97,18,4,10,2,8,1,90,9,10,1,98,18,4,10,2,8,1,98,9,10,1,99,18,4,10,2,8,1,66,2,16,20],this.session_options,"c")),this._matmul}static get stft(){return this._stft||(this._stft=s([8,7,18,0,58,148,1,10,38,10,1,115,10,1,106,10,1,119,10,1,108,18,1,111,34,4,83,84,70,84,42,15,10,8,111,110,101,115,105,100,101,100,24,1,160,1,2,18,1,115,90,26,10,1,115,18,21,10,19,8,1,18,15,10,3,18,1,98,10,3,18,1,115,10,3,18,1,99,90,11,10,1,106,18,6,10,4,8,7,18,0,90,16,10,1,119,18,11,10,9,8,1,18,5,10,3,18,1,119,90,11,10,1,108,18,6,10,4,8,7,18,0,98,31,10,1,111,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,102,10,3,18,1,100,10,3,18,1,99,66,2,16,17],this.session_options,"o")),this._stft}static get rfft(){return this._rfft||(this._rfft=s([8,9,18,0,58,97,10,33,10,1,120,10,0,10,1,97,18,1,121,34,3,68,70,84,42,15,10,8,111,110,101,115,105,100,101,100,24,1,160,1,2,18,1,100,90,21,10,1,120,18,16,10,14,8,1,18,10,10,3,18,1,115,10,3,18,1,99,90,11,10,1,97,18,6,10,4,8,7,18,0,98,21,10,1,121,18,16,10,14,8,1,18,10,10,3,18,1,115,10,3,18,1,99,66,2,16,20],this.session_options,"y")),this._rfft}static get top_k(){return this._top_k||(this._top_k=s([8,10,18,0,58,73,10,18,10,1,120,10,1,107,18,1,118,18,1,105,34,4,84,111,112,75,18,1,116,90,9,10,1,120,18,4,10,2,8,1,90,15,10,1,107,18,10,10,8,8,7,18,4,10,2,8,1,98,9,10,1,118,18,4,10,2,8,1,98,9,10,1,105,18,4,10,2,8,7,66,2,16,21],this.session_options,["v","i"])),this._top_k}static get slice(){return this._slice||(this._slice=s([8,7,18,0,58,96,10,25,10,1,120,10,1,115,10,1,101,10,1,97,10,1,116,18,1,121,34,5,83,108,105,99,101,18,1,114,90,9,10,1,120,18,4,10,2,8,1,90,9,10,1,115,18,4,10,2,8,7,90,9,10,1,101,18,4,10,2,8,7,90,9,10,1,97,18,4,10,2,8,7,90,9,10,1,116,18,4,10,2,8,7,98,9,10,1,121,18,4,10,2,8,1,66,2,16,13],this.session_options,"y")),this._slice}}l(c,"session_options",{})},"./src/pipelines.js":(e,t,n)=>{n.r(t),n.d(t,{AudioClassificationPipeline:()=>F,AutomaticSpeechRecognitionPipeline:()=>I,BackgroundRemovalPipeline:()=>O,DepthEstimationPipeline:()=>U,DocumentQuestionAnsweringPipeline:()=>j,FeatureExtractionPipeline:()=>S,FillMaskPipeline:()=>_,ImageClassificationPipeline:()=>P,ImageFeatureExtractionPipeline:()=>E,ImageSegmentationPipeline:()=>N,ImageToImagePipeline:()=>q,ImageToTextPipeline:()=>z,ObjectDetectionPipeline:()=>L,Pipeline:()=>y,QuestionAnsweringPipeline:()=>w,SummarizationPipeline:()=>k,Text2TextGenerationPipeline:()=>x,TextClassificationPipeline:()=>b,TextGenerationPipeline:()=>A,TextToAudioPipeline:()=>V,TokenClassificationPipeline:()=>v,TranslationPipeline:()=>T,ZeroShotAudioClassificationPipeline:()=>M,ZeroShotClassificationPipeline:()=>C,ZeroShotImageClassificationPipeline:()=>B,ZeroShotObjectDetectionPipeline:()=>R,pipeline:()=>W});var a=n("./src/tokenizers.js"),r=n("./src/models.js"),i=n("./src/models/auto/processing_auto.js"),o=(n("./src/base/processing_utils.js"),n("./src/utils/generic.js")),s=n("./src/utils/core.js"),c=n("./src/utils/maths.js"),d=n("./src/utils/audio.js"),h=n("./src/utils/tensor.js"),p=n("./src/utils/image.js");async function f(e){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>p.RawImage.read(e))))}async function m(e,t){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>"string"===typeof e||e instanceof URL?(0,d.read_audio)(e,t):e instanceof Float64Array?new Float32Array(e):e)))}function g(e,t){t&&(e=e.map((e=>0|e)));const[n,a,r,i]=e;return{xmin:n,ymin:a,xmax:r,ymax:i}}class y extends o.Callable{constructor(e){let{task:t,model:n,tokenizer:a=null,processor:r=null}=e;super(),this.task=t,this.model=n,this.tokenizer=a,this.processor=r}async dispose(){await this.model.dispose()}}class b extends y{constructor(e){super(e)}async _call(e){let{top_k:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),a=await this.model(n),r="multi_label_classification"===this.model.config.problem_type?e=>e.sigmoid():e=>new h.Tensor("float32",(0,c.softmax)(e.data),e.dims),i=this.model.config.id2label,o=[];for(const s of a.logits){const e=r(s),n=await(0,h.topk)(e,t),a=n[0].tolist(),l=n[1].tolist().map(((e,t)=>({label:i?i[e]:"LABEL_".concat(e),score:a[t]})));1===t?o.push(...l):o.push(l)}return Array.isArray(e)||1===t?o:o[0]}}class v extends y{constructor(e){super(e)}async _call(e){let{ignore_labels:t=["O"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),a=this.tokenizer(n?e:[e],{padding:!0,truncation:!0}),r=(await this.model(a)).logits,i=this.model.config.id2label,o=[];for(let s=0;s<r.dims[0];++s){const e=a.input_ids[s],n=r[s],l=[];for(let a=0;a<n.dims[0];++a){const r=n[a],o=(0,c.max)(r.data)[1],s=i?i[o]:"LABEL_".concat(o);if(t.includes(s))continue;const u=this.tokenizer.decode([e[a].item()],{skip_special_tokens:!0});if(""===u)continue;const d=(0,c.softmax)(r.data);l.push({entity:s,score:d[o],index:a,word:u})}o.push(l)}return n?o:o[0]}}class w extends y{constructor(e){super(e)}async _call(e,t){let{top_k:n=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=this.tokenizer(e,{text_pair:t,padding:!0,truncation:!0}),{start_logits:r,end_logits:i}=await this.model(a),o=a.input_ids.tolist(),l=a.attention_mask.tolist(),u=this.tokenizer.all_special_ids,d=[];for(let h=0;h<r.dims[0];++h){const e=o[h],t=e.findIndex((e=>e==this.tokenizer.sep_token_id)),a=(l[h].map(((n,a)=>1==n&&(0===a||a>t&&-1===u.findIndex((t=>t==e[a]))))),r[h].tolist()),p=i[h].tolist();for(let n=1;n<a.length;++n)(0==l[h]||n<=t||-1!==u.findIndex((t=>t==e[n])))&&(a[n]=-1/0,p[n]=-1/0);const f=(0,c.softmax)(a).map(((e,t)=>[e,t])),m=(0,c.softmax)(p).map(((e,t)=>[e,t]));f[0][0]=0,m[0][0]=0;const g=(0,s.product)(f,m).filter((e=>e[0][1]<=e[1][1])).map((e=>[e[0][1],e[1][1],e[0][0]*e[1][0]])).sort(((e,t)=>t[2]-e[2]));for(let r=0;r<Math.min(g.length,n);++r){const[t,n,a]=g[r],i=e.slice(t,n+1),o=this.tokenizer.decode(i,{skip_special_tokens:!0});d.push({answer:o,score:a})}}return 1===n?d[0]:d}}class _ extends y{constructor(e){super(e)}async _call(e){let{top_k:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),{logits:a}=await this.model(n),r=[],i=n.input_ids.tolist();for(let o=0;o<i.length;++o){const e=i[o],n=e.findIndex((e=>e==this.tokenizer.mask_token_id));if(-1===n)throw Error("Mask token (".concat(this.tokenizer.mask_token,") not found in text."));const s=a[o][n],l=await(0,h.topk)(new h.Tensor("float32",(0,c.softmax)(s.data),s.dims),t),u=l[0].tolist(),d=l[1].tolist();r.push(d.map(((t,a)=>{const r=e.slice();return r[n]=t,{score:u[a],token:Number(t),token_str:this.tokenizer.decode([t]),sequence:this.tokenizer.decode(r,{skip_special_tokens:!0})}})))}return Array.isArray(e)?r:r[0]}}class x extends y{constructor(e){super(e),l(this,"_key","generated_text")}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]),this.model.config.prefix&&(e=e.map((e=>this.model.config.prefix+e)));const n=this.model.config.task_specific_params;n&&n[this.task]&&n[this.task].prefix&&(e=e.map((e=>n[this.task].prefix+e)));const a=this.tokenizer,r={padding:!0,truncation:!0};let i;i=this instanceof T&&"_build_translation_inputs"in a?a._build_translation_inputs(e,r,t):a(e,r);const o=await this.model.generate(u(u({},i),t));return a.batch_decode(o,{skip_special_tokens:!0}).map((e=>({[this._key]:e})))}}class k extends x{constructor(e){super(e),l(this,"_key","summary_text")}}class T extends x{constructor(e){super(e),l(this,"_key","translation_text")}}function D(e){return Array.isArray(e)&&e.every((e=>"role"in e&&"content"in e))}class A extends y{constructor(e){super(e)}async _call(e){var t,n;let a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!1,o=!1;if("string"===typeof e)a=e=[e];else if(Array.isArray(e)&&e.every((e=>"string"===typeof e)))i=!0,a=e;else{if(D(e))e=[e];else{if(!Array.isArray(e)||!e.every(D))throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");i=!0}o=!0,a=e.map((e=>this.tokenizer.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0})))}const s=null!==(t=r.add_special_tokens)&&void 0!==t&&t,l=!o&&(null===(n=r.return_full_text)||void 0===n||n);this.tokenizer.padding_side="left";const c=this.tokenizer(a,{add_special_tokens:s,padding:!0,truncation:!0}),d=await this.model.generate(u(u({},c),r)),h=this.tokenizer.batch_decode(d,{skip_special_tokens:!0});let p;!l&&c.input_ids.dims.at(-1)>0&&(p=this.tokenizer.batch_decode(c.input_ids,{skip_special_tokens:!0}).map((e=>e.length)));const f=Array.from({length:e.length},(e=>[]));for(let u=0;u<h.length;++u){const t=Math.floor(u/d.dims[0]*e.length);p&&(h[u]=h[u].slice(p[t])),f[t].push({generated_text:o?[...e[t],{role:"assistant",content:h[u]}]:h[u]})}return i||1!==f.length?f:f[0]}}class C extends y{constructor(e){var t;super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map((e=>{let[t,n]=e;return[t.toLowerCase(),n]}))),this.entailment_id=this.label2id.entailment,void 0===this.entailment_id&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=null!==(t=this.label2id.contradiction)&&void 0!==t?t:this.label2id.not_entailment,void 0===this.contradiction_id&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,t){let{hypothesis_template:n="This example is {}.",multi_label:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Array.isArray(e);r||(e=[e]),Array.isArray(t)||(t=[t]);const i=t.map((e=>n.replace("{}",e))),o=a||1===t.length,s=[];for(const l of e){const e=[];for(const t of i){const n=this.tokenizer(l,{text_pair:t,padding:!0,truncation:!0}),a=await this.model(n);o?e.push([a.logits.data[this.contradiction_id],a.logits.data[this.entailment_id]]):e.push(a.logits.data[this.entailment_id])}const n=o?e.map((e=>(0,c.softmax)(e)[1])):(0,c.softmax)(e),a=n.map(((e,t)=>[e,t])).sort(((e,t)=>t[0]-e[0]));s.push({sequence:l,labels:a.map((e=>t[e[1]])),scores:a.map((e=>e[0]))})}return r?s:s[0]}}class S extends y{constructor(e){super(e)}async _call(e){var t,n;let{pooling:a="none",normalize:r=!1,quantize:i=!1,precision:o="binary"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=this.tokenizer(e,{padding:!0,truncation:!0}),l=await this.model(s);let c=null!==(t=null!==(n=l.last_hidden_state)&&void 0!==n?n:l.logits)&&void 0!==t?t:l.token_embeddings;if("none"===a);else if("mean"===a)c=(0,h.mean_pooling)(c,s.attention_mask);else{if("cls"!==a)throw Error("Pooling method '".concat(a,"' not supported."));c=c.slice(null,0)}return r&&(c=c.normalize(2,-1)),i&&(c=(0,h.quantize_embeddings)(c,o)),c}}class E extends y{constructor(e){super(e)}async _call(e){let{pool:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await f(e),{pixel_values:a}=await this.processor(n),r=await this.model({pixel_values:a});let i;if(t){if(!("pooler_output"in r))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");i=r.pooler_output}else{var o,s;i=null!==(o=null!==(s=r.last_hidden_state)&&void 0!==s?s:r.logits)&&void 0!==o?o:r.image_embeds}return i}}class F extends y{constructor(e){super(e)}async _call(e){let{top_k:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.processor.feature_extractor.config.sampling_rate,a=await m(e,n),r=this.model.config.id2label,i=[];for(const o of a){const e=await this.processor(o),n=(await this.model(e)).logits[0],a=await(0,h.topk)(new h.Tensor("float32",(0,c.softmax)(n.data),n.dims),t),s=a[0].tolist(),l=a[1].tolist().map(((e,t)=>({label:r?r[e]:"LABEL_".concat(e),score:s[t]})));i.push(l)}return Array.isArray(e)?i:i[0]}}class M extends y{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a sound of {}."}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=!Array.isArray(e);a&&(e=[e]);const r=t.map((e=>n.replace("{}",e))),i=this.tokenizer(r,{padding:!0,truncation:!0}),o=this.processor.feature_extractor.config.sampling_rate,s=await m(e,o),l=[];for(const d of s){const e=await this.processor(d),n=await this.model(u(u({},i),e)),a=(0,c.softmax)(n.logits_per_audio.data);l.push([...a].map(((e,n)=>({score:e,label:t[n]}))))}return a?l[0]:l}}class I extends y{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(this.model.config.model_type){case"whisper":case"lite-whisper":return this._call_whisper(e,t);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,t);case"moonshine":return this._call_moonshine(e,t);default:throw new Error("AutomaticSpeechRecognitionPipeline does not support model type '".concat(this.model.config.model_type,"'."))}}async _call_wav2vec2(e,t){t.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),t.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const n=!Array.isArray(e);n&&(e=[e]);const a=this.processor.feature_extractor.config.sampling_rate,r=await m(e,a),i=[];for(const o of r){const e=await this.processor(o),t=(await this.model(e)).logits[0],n=[];for(const r of t)n.push((0,c.max)(r.data)[1]);const a=this.tokenizer.decode(n);i.push({text:a})}return n?i[0]:i}async _call_whisper(e,t){var n,a,r,i;const o=null!==(n=t.return_timestamps)&&void 0!==n&&n,s=null!==(a=t.chunk_length_s)&&void 0!==a?a:0,l=null!==(r=t.force_full_sequences)&&void 0!==r&&r;let d=null!==(i=t.stride_length_s)&&void 0!==i?i:null;const h=u({},t);"word"===o&&(h.return_token_timestamps=!0,h.return_timestamps=!1);const p=!Array.isArray(e);p&&(e=[e]);const f=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,g=this.processor.feature_extractor.config.hop_length,y=this.processor.feature_extractor.config.sampling_rate,b=await m(e,y),v=[];for(const m of b){let e=[];if(s>0){if(null===d)d=s/6;else if(s<=d)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const t=y*s,n=y*d,a=t-2*n;let r=0;for(;;){const i=r+t,o=m.subarray(r,i),s=await this.processor(o),l=0===r,c=i>=m.length;if(e.push({stride:[o.length,l?0:n,c?0:n],input_features:s.input_features,is_last:c}),c)break;r+=a}}else e=[{stride:[m.length,0,0],input_features:(await this.processor(m)).input_features,is_last:!0}];for(const a of e){h.num_frames=Math.floor(a.stride[0]/g);const e=await this.model.generate(u({inputs:a.input_features},h));"word"===o?(a.tokens=e.sequences.tolist()[0],a.token_timestamps=e.token_timestamps.tolist()[0].map((e=>(0,c.round)(e,2)))):a.tokens=e[0].tolist(),a.stride=a.stride.map((e=>e/y))}const[t,n]=this.tokenizer._decode_asr(e,{time_precision:f,return_timestamps:o,force_full_sequences:l});v.push(u({text:t},n))}return p?v[0]:v}async _call_moonshine(e,t){const n=!Array.isArray(e);n&&(e=[e]);const a=this.processor.feature_extractor.config.sampling_rate,r=await m(e,a),i=[];for(const o of r){const e=await this.processor(o),n=6*Math.floor(o.length/a),r=await this.model.generate(u(u({max_new_tokens:n},t),e)),s=this.processor.batch_decode(r,{skip_special_tokens:!0})[0];i.push({text:s})}return n?i[0]:i}}class z extends y{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),a=await f(e),{pixel_values:r}=await this.processor(a),i=[];for(const o of r){o.dims=[1,...o.dims];const e=await this.model.generate(u({inputs:o},t)),n=this.tokenizer.batch_decode(e,{skip_special_tokens:!0}).map((e=>({generated_text:e.trim()})));i.push(n)}return n?i:i[0]}}class P extends y{constructor(e){super(e)}async _call(e){let{top_k:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await f(e),{pixel_values:a}=await this.processor(n),r=await this.model({pixel_values:a}),i=this.model.config.id2label,o=[];for(const s of r.logits){const e=await(0,h.topk)(new h.Tensor("float32",(0,c.softmax)(s.data),s.dims),t),n=e[0].tolist(),a=e[1].tolist().map(((e,t)=>({label:i?i[e]:"LABEL_".concat(e),score:n[t]})));o.push(a)}return Array.isArray(e)?o:o[0]}}class N extends y{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e){let{threshold:t=.5,mask_threshold:n=.5,overlap_mask_area_threshold:a=.8,label_ids_to_fuse:r=null,target_sizes:i=null,subtask:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)&&1!==e.length)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const s=await f(e),l=s.map((e=>[e.height,e.width])),c=await this.processor(s),{inputNames:u,outputNames:d}=this.model.sessions.model;if(!u.includes("pixel_values")){if(1!==u.length)throw Error("Expected a single input name, but got ".concat(u.length," inputs: ").concat(u,"."));const e=u[0];if(e in c)throw Error("Input name ".concat(e," already exists in the inputs."));c[e]=c.pixel_values}const h=await this.model(c);let m=null;if(null!==o)m=this.subtasks_mapping[o];else if(this.processor.image_processor)for(const[p,f]of Object.entries(this.subtasks_mapping))if(f in this.processor.image_processor){m=this.processor.image_processor[f].bind(this.processor.image_processor),o=p;break}const g=this.model.config.id2label,y=[];if(o)if("panoptic"===o||"instance"===o){const e=m(h,t,n,a,r,null!==i&&void 0!==i?i:l)[0],o=e.segmentation;for(const t of e.segments_info){const e=new Uint8ClampedArray(o.data.length);for(let a=0;a<o.data.length;++a)o.data[a]===t.id&&(e[a]=255);const n=new p.RawImage(e,o.dims[1],o.dims[0],1);y.push({score:t.score,label:g[t.label_id],mask:n})}}else{if("semantic"!==o)throw Error("Subtask ".concat(o," not supported."));{const{segmentation:e,labels:t}=m(h,null!==i&&void 0!==i?i:l)[0];for(const n of t){const t=new Uint8ClampedArray(e.data.length);for(let r=0;r<e.data.length;++r)e.data[r]===n&&(t[r]=255);const a=new p.RawImage(t,e.dims[1],e.dims[0],1);y.push({score:null,label:g[n],mask:a})}}}else{const e=1e-5,t=h[d[0]];for(let n=0;n<l.length;++n){const a=l[n],r=t[n];r.data.some((t=>t<-e||t>1+e))&&r.sigmoid_();const i=await p.RawImage.fromTensor(r.mul_(255).to("uint8")).resize(a[1],a[0]);y.push({label:null,score:null,mask:i})}}return y}}class O extends N{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)&&1!==e.length)throw Error("Background removal pipeline currently only supports a batch size of 1.");const n=await f(e),a=await super._call(e,t);return n.map(((e,t)=>{const n=e.clone();return n.putAlpha(a[t].mask),n}))}}class B extends y{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a photo of {}"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Array.isArray(e),r=await f(e),i=t.map((e=>n.replace("{}",e))),o=this.tokenizer(i,{padding:"siglip"!==this.model.config.model_type||"max_length",truncation:!0}),{pixel_values:s}=await this.processor(r),l=await this.model(u(u({},o),{},{pixel_values:s})),d="siglip"===this.model.config.model_type?e=>e.sigmoid().data:e=>(0,c.softmax)(e.data),h=[];for(const c of l.logits_per_image){const e=[...d(c)].map(((e,n)=>({score:e,label:t[n]})));e.sort(((e,t)=>t.score-e.score)),h.push(e)}return a?h:h[0]}}class L extends y{constructor(e){super(e)}async _call(e){let{threshold:t=.9,percentage:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Array.isArray(e);if(a&&1!==e.length)throw Error("Object detection pipeline currently only supports a batch size of 1.");const r=await f(e),i=n?null:r.map((e=>[e.height,e.width])),{pixel_values:o,pixel_mask:s}=await this.processor(r),l=await this.model({pixel_values:o,pixel_mask:s}),c=this.processor.image_processor.post_process_object_detection(l,t,i),u=this.model.config.id2label,d=c.map((e=>e.boxes.map(((t,a)=>({score:e.scores[a],label:u[e.classes[a]],box:g(t,!n)})))));return a?d:d[0]}}class R extends y{constructor(e){super(e)}async _call(e,t){let{threshold:n=.1,top_k:a=null,percentage:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Array.isArray(e),o=await f(e),s=this.tokenizer(t,{padding:!0,truncation:!0}),l=await this.processor(o),c=[];for(let d=0;d<o.length;++d){const e=o[d],i=r?null:[[e.height,e.width]],h=l.pixel_values[d].unsqueeze_(0),p=await this.model(u(u({},s),{},{pixel_values:h}));let f;if("post_process_grounded_object_detection"in this.processor){const e=this.processor.post_process_grounded_object_detection(p,s.input_ids,{box_threshold:n,text_threshold:n,target_sizes:i})[0];f=e.boxes.map(((t,n)=>({score:e.scores[n],label:e.labels[n],box:g(t,!r)})))}else{const e=this.processor.image_processor.post_process_object_detection(p,n,i,!0)[0];f=e.boxes.map(((n,a)=>({score:e.scores[a],label:t[e.classes[a]],box:g(n,!r)})))}f.sort(((e,t)=>t.score-e.score)),null!==a&&(f=f.slice(0,a)),c.push(f)}return i?c:c[0]}}class j extends y{constructor(e){super(e)}async _call(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(await f(e))[0],{pixel_values:r}=await this.processor(a),i="<s_docvqa><s_question>".concat(t,"</s_question><s_answer>"),o=this.tokenizer(i,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,s=await this.model.generate(u({inputs:r,max_length:this.model.config.decoder.max_position_embeddings,decoder_input_ids:o},n)),l=this.tokenizer.batch_decode(s)[0].match(/<s_answer>(.*?)<\/s_answer>/);let c=null;return l&&l.length>=2&&(c=l[1].trim()),[{answer:c}]}}class V extends y{constructor(e){var t;super(e),l(this,"DEFAULT_VOCODER_ID","Xenova/speecht5_hifigan"),this.vocoder=null!==(t=e.vocoder)&&void 0!==t?t:null}async _call(e){let{speaker_embeddings:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processor?this._call_text_to_spectrogram(e,{speaker_embeddings:t}):this._call_text_to_waveform(e)}async _call_text_to_waveform(e){const t=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:n}=await this.model(t),a=this.model.config.sampling_rate;return new d.RawAudio(n.data,a)}async _call_text_to_spectrogram(e,t){let{speaker_embeddings:n}=t;if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await r.AutoModel.from_pretrained(this.DEFAULT_VOCODER_ID,{dtype:"fp32"})),("string"===typeof n||n instanceof URL)&&(n=new Float32Array(await(await fetch(n)).arrayBuffer())),n instanceof Float32Array)n=new h.Tensor("float32",n,[1,n.length]);else if(!(n instanceof h.Tensor))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:a}=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:i}=await this.model.generate_speech(a,n,{vocoder:this.vocoder}),o=this.processor.feature_extractor.config.sampling_rate;return new d.RawAudio(i.data,o)}}class q extends y{constructor(e){super(e)}async _call(e){const t=await f(e),n=await this.processor(t),a=await this.model(n),r=[];for(const i of a.reconstruction){const e=i.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");r.push(p.RawImage.fromTensor(e))}return r.length>1?r:r[0]}}class U extends y{constructor(e){super(e)}async _call(e){const t=await f(e),n=await this.processor(t),{predicted_depth:a}=await this.model(n),r=[];for(let i=0;i<t.length;++i){const e=a[i],[n,o]=e.dims.slice(-2),[s,l]=t[i].size,c=(await(0,h.interpolate_4d)(e.view(1,1,n,o),{size:[l,s],mode:"bilinear"})).view(l,s),u=c.min().item(),d=c.max().item(),f=c.sub(u).div_(d-u).mul_(255).to("uint8").unsqueeze(0),m=p.RawImage.fromTensor(f);r.push({predicted_depth:c,depth:m})}return r.length>1?r:r[0]}}const G=Object.freeze({"text-classification":{tokenizer:a.AutoTokenizer,pipeline:b,model:r.AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:a.AutoTokenizer,pipeline:v,model:r.AutoModelForTokenClassification,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:a.AutoTokenizer,pipeline:w,model:r.AutoModelForQuestionAnswering,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:a.AutoTokenizer,pipeline:_,model:r.AutoModelForMaskedLM,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:a.AutoTokenizer,pipeline:k,model:r.AutoModelForSeq2SeqLM,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:a.AutoTokenizer,pipeline:T,model:r.AutoModelForSeq2SeqLM,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:a.AutoTokenizer,pipeline:x,model:r.AutoModelForSeq2SeqLM,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:a.AutoTokenizer,pipeline:A,model:r.AutoModelForCausalLM,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:a.AutoTokenizer,pipeline:C,model:r.AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:F,model:r.AutoModelForAudioClassification,processor:i.AutoProcessor,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:a.AutoTokenizer,pipeline:M,model:r.AutoModel,processor:i.AutoProcessor,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:a.AutoTokenizer,pipeline:I,model:[r.AutoModelForSpeechSeq2Seq,r.AutoModelForCTC],processor:i.AutoProcessor,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:a.AutoTokenizer,pipeline:V,model:[r.AutoModelForTextToWaveform,r.AutoModelForTextToSpectrogram],processor:[i.AutoProcessor,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:a.AutoTokenizer,pipeline:z,model:r.AutoModelForVision2Seq,processor:i.AutoProcessor,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:P,model:r.AutoModelForImageClassification,processor:i.AutoProcessor,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:N,model:[r.AutoModelForImageSegmentation,r.AutoModelForSemanticSegmentation,r.AutoModelForUniversalSegmentation],processor:i.AutoProcessor,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"background-removal":{pipeline:O,model:[r.AutoModelForImageSegmentation,r.AutoModelForSemanticSegmentation,r.AutoModelForUniversalSegmentation],processor:i.AutoProcessor,default:{model:"Xenova/modnet"},type:"image"},"zero-shot-image-classification":{tokenizer:a.AutoTokenizer,pipeline:B,model:r.AutoModel,processor:i.AutoProcessor,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:L,model:r.AutoModelForObjectDetection,processor:i.AutoProcessor,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:a.AutoTokenizer,pipeline:R,model:r.AutoModelForZeroShotObjectDetection,processor:i.AutoProcessor,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:a.AutoTokenizer,pipeline:j,model:r.AutoModelForDocumentQuestionAnswering,processor:i.AutoProcessor,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:q,model:r.AutoModelForImageToImage,processor:i.AutoProcessor,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:U,model:r.AutoModelForDepthEstimation,processor:i.AutoProcessor,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:a.AutoTokenizer,pipeline:S,model:r.AutoModel,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:i.AutoProcessor,pipeline:E,model:[r.AutoModelForImageFeatureExtraction,r.AutoModel],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),H=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function W(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{progress_callback:a=null,config:r=null,cache_dir:i=null,local_files_only:o=!1,revision:l="main",device:c=null,dtype:u=null,subfolder:d="onnx",use_external_data_format:h=null,model_file_name:p=null,session_options:f={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=null!==(t=H[e])&&void 0!==t?t:e;const m=G[e.split("_",1)[0]];if(!m)throw Error("Unsupported pipeline: ".concat(e,". Must be one of [").concat(Object.keys(G),"]"));n||(n=m.default.model,console.log('No model specified. Using default model: "'.concat(n,'".')));const g={progress_callback:a,config:r,cache_dir:i,local_files_only:o,revision:l,device:c,dtype:u,subfolder:d,use_external_data_format:h,model_file_name:p,session_options:f},y=new Map([["tokenizer",m.tokenizer],["model",m.model],["processor",m.processor]]),b=await async function(e,t,n){const a=Object.create(null),r=[];for(const[i,o]of e.entries()){if(!o)continue;let e;e=Array.isArray(o)?new Promise((async(e,a)=>{let r;for(const c of o){if(null===c)return void e(null);try{return void e(await c.from_pretrained(t,n))}catch(l){var i,s;if(null!==(i=l.message)&&void 0!==i&&i.includes("Unsupported model type"))r=l;else{if(null===(s=l.message)||void 0===s||!s.includes("Could not locate file"))return void a(l);r=l}}}a(r)})):o.from_pretrained(t,n),a[i]=e,r.push(e)}await Promise.all(r);for(const[i,o]of Object.entries(a))a[i]=await o;return a}(y,n,g);b.task=e,(0,s.dispatchCallback)(a,{status:"ready",task:e,model:n});return new(0,m.pipeline)(b)}},"./src/tokenizers.js":(e,t,n)=>{n.r(t),n.d(t,{AlbertTokenizer:()=>Ce,AutoTokenizer:()=>vt,BartTokenizer:()=>Ve,BertTokenizer:()=>Ae,BlenderbotSmallTokenizer:()=>pt,BlenderbotTokenizer:()=>ht,BloomTokenizer:()=>He,CLIPTokenizer:()=>lt,CamembertTokenizer:()=>Oe,CodeGenTokenizer:()=>st,CodeLlamaTokenizer:()=>Ye,CohereTokenizer:()=>yt,ConvBertTokenizer:()=>ze,DebertaTokenizer:()=>Fe,DebertaV2Tokenizer:()=>Me,DistilBertTokenizer:()=>Ne,ElectraTokenizer:()=>Le,EsmTokenizer:()=>Qe,FalconTokenizer:()=>Xe,GPT2Tokenizer:()=>je,GPTNeoXTokenizer:()=>$e,GemmaTokenizer:()=>tt,Grok1Tokenizer:()=>nt,HerbertTokenizer:()=>Ie,LlamaTokenizer:()=>Ke,M2M100Tokenizer:()=>it,MBart50Tokenizer:()=>Ue,MBartTokenizer:()=>qe,MPNetTokenizer:()=>Ze,MarianTokenizer:()=>ut,MgpstrTokenizer:()=>bt,MobileBertTokenizer:()=>Se,NllbTokenizer:()=>rt,NougatTokenizer:()=>mt,PreTrainedTokenizer:()=>De,Qwen2Tokenizer:()=>et,RoFormerTokenizer:()=>Pe,RobertaTokenizer:()=>Ge,SiglipTokenizer:()=>ct,SpeechT5Tokenizer:()=>ft,SqueezeBertTokenizer:()=>Ee,T5Tokenizer:()=>Re,TokenizerModel:()=>A,VitsTokenizer:()=>gt,Wav2Vec2CTCTokenizer:()=>dt,WhisperTokenizer:()=>ot,XLMRobertaTokenizer:()=>Je,XLMTokenizer:()=>Be,is_chinese_char:()=>w});var a=n("./src/utils/generic.js"),r=n("./src/utils/core.js"),o=n("./src/utils/hub.js"),s=n("./src/utils/maths.js"),c=n("./src/utils/tensor.js"),d=n("./src/utils/data-structures.js"),h=n("./node_modules/@huggingface/jinja/dist/index.js"),p=n("./src/models/whisper/common_whisper.js");async function f(e,t){const n=await Promise.all([(0,o.getModelJSON)(e,"tokenizer.json",!0,t),(0,o.getModelJSON)(e,"tokenizer_config.json",!0,t)]);return null!==t.legacy&&(n[1].legacy=t.legacy),n}function m(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==e.Regex){let t=e.Regex.replace(/\\([#&~])/g,"$1");for(const[e,n]of T)t=t.replaceAll(e,n);return new RegExp(t,"gu")}if(void 0!==e.String){const n=(0,r.escapeRegExp)(e.String);return new RegExp(t?n:"(".concat(n,")"),"gu")}return console.warn("Unknown pattern type:",e),null}function g(e){return new Map(Object.entries(e))}function y(e){const t=e.dims;switch(t.length){case 1:return e.tolist();case 2:if(1!==t[0])throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return e.tolist()[0];default:throw new Error("Expected tensor to have 1-2 dimensions, got ".concat(t.length,"."))}}function b(e){return e.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function v(e){return e.replace(/(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD69-\uDD6D\uDEAB\uDEAC\uDEFC-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDFB8-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD0\uDFD2\uDFE1\uDFE2]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42\uDF5A]|\uD80D[\uDC40\uDC47-\uDC55]|\uD818[\uDD1E-\uDD2F]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])/g,"")}function w(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}const _="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",x=new RegExp("^[".concat(_,"]+$"),"gu"),k=".,!?\u2026\u3002\uff0c\u3001\u0964\u06d4\u060c",T=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"],[" ?[^(\\s|[".concat(k,"])]+")," ?[^\\s".concat(k,"]+")]]);class D{constructor(e){var t,n,a,r,i;this.content=e.content,this.id=e.id,this.single_word=null!==(t=e.single_word)&&void 0!==t&&t,this.lstrip=null!==(n=e.lstrip)&&void 0!==n&&n,this.rstrip=null!==(a=e.rstrip)&&void 0!==a&&a,this.special=null!==(r=e.special)&&void 0!==r&&r,this.normalized=null!==(i=e.normalized)&&void 0!==i?i:null}}class A extends a.Callable{constructor(e){var t;super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=null!==(t=this.config.fuse_unk)&&void 0!==t&&t}static fromConfig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];switch(e.type){case"WordPiece":return new C(e);case"Unigram":return new S(e,...n);case"BPE":return new M(e);default:if(e.vocab)return Array.isArray(e.vocab)?new S(e,...n):Object.hasOwn(e,"continuing_subword_prefix")&&Object.hasOwn(e,"unk_token")?Object.hasOwn(e,"merges")?new M(e):new C(e):new I(e,...n);throw new Error("Unknown TokenizerModel type: ".concat(e.type))}}_call(e){return e=this.encode(e),this.fuse_unk&&(e=function(e,t,n){const a=[];let r=0;for(;r<e.length;){var i;if(a.push(e[r]),(null!==(i=t.get(e[r]))&&void 0!==i?i:n)===n)for(;++r<e.length&&(null!==(o=t.get(e[r]))&&void 0!==o?o:n)===n;){var o;t.get(a.at(-1))!==n&&(a[a.length-1]+=e[r])}else++r}return a}(e,this.tokens_to_ids,this.unk_token_id)),e}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map((e=>{var t;return null!==(t=this.tokens_to_ids.get(e))&&void 0!==t?t:this.unk_token_id}))}convert_ids_to_tokens(e){return e.map((e=>{var t;return null!==(t=this.vocab[e])&&void 0!==t?t:this.unk_token}))}}class C extends A{constructor(e){var t;super(e),this.tokens_to_ids=g(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=null!==(t=e.max_input_chars_per_word)&&void 0!==t?t:100,this.vocab=new Array(this.tokens_to_ids.size);for(const[n,a]of this.tokens_to_ids)this.vocab[a]=n}encode(e){const t=[];for(const n of e){const e=[...n];if(e.length>this.max_input_chars_per_word){t.push(this.unk_token);continue}let a=!1,r=0;const i=[];for(;r<e.length;){let t=e.length,n=null;for(;r<t;){let a=e.slice(r,t).join("");if(r>0&&(a=this.config.continuing_subword_prefix+a),this.tokens_to_ids.has(a)){n=a;break}--t}if(null===n){a=!0;break}i.push(n),r=t}a?t.push(this.unk_token):t.push(...i)}return t}}class S extends A{constructor(e,t){super(e);const n=e.vocab.length;this.vocab=new Array(n),this.scores=new Array(n);for(let a=0;a<n;++a)[this.vocab[a],this.scores[a]]=e.vocab[a];this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map(((e,t)=>[e,t]))),this.bos_token=" ",this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.unk_token=this.vocab[this.unk_token_id],this.minScore=(0,s.min)(this.scores)[0],this.unk_score=this.minScore-10,this.scores[this.unk_token_id]=this.unk_score,this.trie=new d.CharTrie,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const t=e.chars;let n=0;for(;n<t.length;){let a=!1;const i=[],o=t.slice(n).join(""),s=this.trie.commonPrefixSearch(o);for(const t of s){i.push(t);const o=this.tokens_to_ids.get(t),s=this.scores[o],l=(0,r.len)(t);e.insert(n,l,s,o),a||1!==l||(a=!0)}a||e.insert(n,1,this.unk_score,this.unk_token_id),n+=1}}tokenize(e){const t=new d.TokenLattice(e,this.bos_token_id,this.eos_token_id);return this.populateNodes(t),t.tokens()}encode(e){const t=[];for(const n of e){const e=this.tokenize(n);t.push(...e)}return t}}const E=(()=>{const e=[...Array.from({length:"~".charCodeAt(0)-"!".charCodeAt(0)+1},((e,t)=>t+"!".charCodeAt(0))),...Array.from({length:"\xac".charCodeAt(0)-"\xa1".charCodeAt(0)+1},((e,t)=>t+"\xa1".charCodeAt(0))),...Array.from({length:"\xff".charCodeAt(0)-"\xae".charCodeAt(0)+1},((e,t)=>t+"\xae".charCodeAt(0)))],t=e.slice();let n=0;for(let r=0;r<256;++r)e.includes(r)||(e.push(r),t.push(256+n),n+=1);const a=t.map((e=>String.fromCharCode(e)));return Object.fromEntries(e.map(((e,t)=>[e,a[t]])))})(),F=(0,r.reverseDictionary)(E);class M extends A{constructor(e){var t,n,a;super(e),this.tokens_to_ids=g(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[i,o]of this.tokens_to_ids)this.vocab[o]=i;const r=Array.isArray(e.merges[0]);this.merges=r?e.merges:e.merges.map((e=>e.split(" ",2))),this.bpe_ranks=new Map(this.merges.map(((e,t)=>[JSON.stringify(e),t]))),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=null!==(t=e.continuing_subword_suffix)&&void 0!==t?t:null,this.byte_fallback=null!==(n=this.config.byte_fallback)&&void 0!==n&&n,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=null!==(a=this.config.ignore_merges)&&void 0!==a&&a,this.max_length_to_cache=256,this.cache_capacity=1e4,this.cache=new d.LRUCache(this.cache_capacity)}clear_cache(){this.cache.clear()}bpe(e){if(0===e.length)return[];const t=this.cache.get(e);if(void 0!==t)return t;const n=Array.from(e);this.end_of_word_suffix&&(n[n.length-1]+=this.end_of_word_suffix);let a=[];if(n.length>1){const e=new d.PriorityQueue(((e,t)=>e.score<t.score));let t={token:n[0],bias:0,prev:null,next:null},r=t;for(let a=1;a<n.length;++a){const t={bias:a/n.length,token:n[a],prev:r,next:null};r.next=t,this._add_node(e,r),r=t}for(;!e.isEmpty();){const n=e.pop();if(n.deleted||!n.next||n.next.deleted)continue;if(n.deleted=!0,n.next.deleted=!0,n.prev){const e=u({},n.prev);n.prev.deleted=!0,n.prev=e,e.prev?e.prev.next=e:t=e}const a={token:n.token+n.next.token,bias:n.bias,prev:n.prev,next:n.next.next};a.prev?(a.prev.next=a,this._add_node(e,a.prev)):t=a,a.next&&(a.next.prev=a,this._add_node(e,a))}for(let n=t;null!==n;n=n.next)a.push(n.token)}else a=n;if(this.continuing_subword_suffix)for(let r=0;r<a.length-1;++r)a[r]+=this.continuing_subword_suffix;return e.length<this.max_length_to_cache&&this.cache.put(e,a),a}_add_node(e,t){const n=this.bpe_ranks.get(JSON.stringify([t.token,t.next.token]));void 0!==n&&(t.score=n+t.bias,e.push(t))}encode(e){const t=[];for(const n of e){if(this.ignore_merges&&this.tokens_to_ids.has(n)){t.push(n);continue}const e=this.bpe(n);for(const n of e)if(this.tokens_to_ids.has(n))t.push(n);else if(this.byte_fallback){const e=Array.from(this.text_encoder.encode(n)).map((e=>"<0x".concat(e.toString(16).toUpperCase().padStart(2,"0"),">")));e.every((e=>this.tokens_to_ids.has(e)))?t.push(...e):t.push(this.unk_token)}else t.push(this.unk_token)}return t}}class I extends A{constructor(e,t){super(e),this.tokens_to_ids=g(t.target_lang?e.vocab[t.target_lang]:e.vocab),this.bos_token=t.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=t.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=t.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[n,a]of this.tokens_to_ids)this.vocab[a]=n}encode(e){return e}}class z extends a.Callable{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"BertNormalizer":return new H(e);case"Precompiled":return new ye(e);case"Sequence":return new G(e);case"Replace":return new P(e);case"NFC":return new O(e);case"NFD":return new B(e);case"NFKC":return new L(e);case"NFKD":return new R(e);case"Strip":return new j(e);case"StripAccents":return new V(e);case"Lowercase":return new q(e);case"Prepend":return new U(e);default:throw new Error("Unknown Normalizer type: ".concat(e.type))}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class P extends z{normalize(e){const t=m(this.config.pattern);return null===t?e:e.replaceAll(t,this.config.content)}}class N extends z{constructor(){super(...arguments),l(this,"form",void 0)}normalize(e){return e=e.normalize(this.form)}}class O extends N{constructor(){super(...arguments),l(this,"form","NFC")}}class B extends N{constructor(){super(...arguments),l(this,"form","NFD")}}class L extends N{constructor(){super(...arguments),l(this,"form","NFKC")}}class R extends N{constructor(){super(...arguments),l(this,"form","NFKD")}}class j extends z{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class V extends z{normalize(e){return e=v(e)}}class q extends z{normalize(e){return e=e.toLowerCase()}}class U extends z{normalize(e){return e=this.config.prepend+e}}class G extends z{constructor(e){super(e),this.normalizers=e.normalizers.map((e=>z.fromConfig(e)))}normalize(e){return this.normalizers.reduce(((e,t)=>t.normalize(e)),e)}}class H extends z{_tokenize_chinese_chars(e){const t=[];for(let n=0;n<e.length;++n){const a=e[n];w(a.charCodeAt(0))?(t.push(" "),t.push(a),t.push(" ")):t.push(a)}return t.join("")}stripAccents(e){return e.normalize("NFD").replace(/(?:[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD69-\uDD6D\uDEAB\uDEAC\uDEFC-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74\uDFBB-\uDFC0\uDFCE\uDFD0\uDFD2\uDFE1\uDFE2]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42\uDF5A]|\uD80D[\uDC40\uDC47-\uDC55]|\uD818[\uDD1E-\uDD29\uDD2D-\uDD2F]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])/g,"")}_is_control(e){switch(e){case"\t":case"\n":case"\r":return!1;default:return/^[\0-\x1F\x7F-\x9F]|(?:[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F])|(?:[\uE000-\uF8FF]|[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD])|(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])$/.test(e)}}_clean_text(e){const t=[];for(const n of e){const e=n.charCodeAt(0);0===e||65533===e||this._is_control(n)||(/^\s$/.test(n)?t.push(" "):t.push(n))}return t.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),!1!==this.config.strip_accents&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class W extends a.Callable{static fromConfig(e){if(null===e)return null;switch(e.type){case"BertPreTokenizer":return new K(e);case"Sequence":return new be(e);case"Whitespace":return new ve(e);case"WhitespaceSplit":return new we(e);case"Metaspace":return new me(e);case"ByteLevel":return new Y(e);case"Split":return new J(e);case"Punctuation":return new Z(e);case"Digits":return new X(e);case"Replace":return new _e(e);default:throw new Error("Unknown PreTokenizer type: ".concat(e.type))}}pre_tokenize_text(e,t){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,t){return(Array.isArray(e)?e.map((e=>this.pre_tokenize_text(e,t))):this.pre_tokenize_text(e,t)).flat()}_call(e,t){return this.pre_tokenize(e,t)}}class K extends W{constructor(e){super(),this.pattern=new RegExp("[^\\s".concat(_,"]+|[").concat(_,"]"),"gu")}pre_tokenize_text(e,t){return e.trim().match(this.pattern)||[]}}class Y extends W{constructor(e){var t;super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=null===(t=this.config.use_regex)||void 0===t||t,this.pattern=/'s|'t|'re|'ve|'m|'ll|'d| ?(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])+| ?(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDD40-\uDD49\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDED0-\uDEE3\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59\uDFF0-\uDFF9]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD818[\uDD30-\uDD39]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDD70-\uDD79\uDE80-\uDE96]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9\uDDF1-\uDDFA]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+| ?(?:[\0-\x08\x0E-\x1F!-\/:-@\[-`\{-\x9F\xA1-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C8B-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u2FFF\u3001-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u3191\u3196-\u319F\u31C0-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7CE\uA7CF\uA7D2\uA7D4\uA7DD-\uA7F1\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD\uFEFE\uFF00-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDBF\uDDF4-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE3F\uDE49-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD24-\uDD2F\uDD3A-\uDD3F\uDD66-\uDD6E\uDD86-\uDE5F\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEC1\uDEC5-\uDEFF\uDF28-\uDF2F\uDF46-\uDF50\uDF55-\uDF6F\uDF82-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDF7F\uDF8A\uDF8C\uDF8D\uDF8F\uDFB6\uDFB8-\uDFD0\uDFD2\uDFD4-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEBF\uDECA-\uDECF\uDEE4-\uDEFF\uDF1B-\uDF2F\uDF3C-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFBF\uDFE1-\uDFEF\uDFFA-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDF4F\uDF5A-\uDFAF\uDFB1-\uDFBF\uDFD5-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD812-\uD817\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD836\uD83D\uD83F\uD87C\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDC5F]|\uD810[\uDFFB-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD818[\uDC00-\uDCFF\uDD1E-\uDD2F\uDD3A-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6F\uDEBF\uDECA-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDD3F\uDD6D-\uDD6F\uDD7A-\uDE3F\uDE97-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFE\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD833[\uDC00-\uDCEF\uDCFA-\uDFFF]|\uD834[\uDC00-\uDEBF\uDED4-\uDEDF\uDEF4-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDEEF\uDEFA-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDCEF\uDCFA-\uDDCF\uDDEE\uDDEF\uDDFB-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4A\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCAC\uDCB0\uDCB5-\uDD00\uDD2E\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFEF]|\uD87B[\uDE5E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(?!(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g,this.byte_encoder=E,this.text_encoder=new TextEncoder}pre_tokenize_text(e,t){this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e);return(this.use_regex?e.match(this.pattern)||[]:[e]).map((e=>Array.from(this.text_encoder.encode(e),(e=>this.byte_encoder[e])).join("")))}}class J extends W{constructor(e){super(),this.config=e,this.pattern=m(this.config.pattern,this.config.invert)}pre_tokenize_text(e,t){var n;return null===this.pattern?[]:this.config.invert?e.match(this.pattern)||[]:"removed"===(null===(n=this.config.behavior)||void 0===n?void 0:n.toLowerCase())?e.split(this.pattern).filter((e=>e)):function(e,t){const n=[];let a=0;for(const r of e.matchAll(t)){const t=r[0];a<r.index&&n.push(e.slice(a,r.index)),t.length>0&&n.push(t),a=r.index+t.length}return a<e.length&&n.push(e.slice(a)),n}(e,this.pattern)}}class Z extends W{constructor(e){super(),this.config=e,this.pattern=new RegExp("[^".concat(_,"]+|[").concat(_,"]+"),"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class X extends W{constructor(e){super(),this.config=e;const t="[^\\d]+|\\d".concat(this.config.individual_digits?"":"+");this.pattern=new RegExp(t,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class $ extends a.Callable{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"TemplateProcessing":return new te(e);case"ByteLevel":return new ne(e);case"RobertaProcessing":return new ee(e);case"BertProcessing":return new Q(e);case"Sequence":return new ae(e);default:throw new Error("Unknown PostProcessor type: ".concat(e.type))}}post_process(e){throw Error("post_process should be implemented in subclass.")}_call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this.post_process(e,...n)}}class Q extends ${constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n&&(e=(0,r.mergeArrays)([this.cls],e,[this.sep]));let a=new Array(e.length).fill(0);if(null!==t){const i=n&&this instanceof ee?[this.sep]:[],o=n?[this.sep]:[];e=(0,r.mergeArrays)(e,i,t,o),a=(0,r.mergeArrays)(a,new Array(t.length+i.length+o.length).fill(1))}return{tokens:e,token_type_ids:a}}}class ee extends Q{}class te extends ${constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=null===t?this.single:this.pair;let i=[],o=[];for(const s of a)"SpecialToken"in s?n&&(i.push(s.SpecialToken.id),o.push(s.SpecialToken.type_id)):"Sequence"in s&&("A"===s.Sequence.id?(i=(0,r.mergeArrays)(i,e),o=(0,r.mergeArrays)(o,new Array(e.length).fill(s.Sequence.type_id))):"B"===s.Sequence.id&&(i=(0,r.mergeArrays)(i,t),o=(0,r.mergeArrays)(o,new Array(t.length).fill(s.Sequence.type_id))));return{tokens:i,token_type_ids:o}}}class ne extends ${post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&(e=(0,r.mergeArrays)(e,t)),{tokens:e}}}class ae extends ${constructor(e){super(e),this.processors=e.processors.map((e=>$.fromConfig(e)))}post_process(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const r of this.processors)if(r instanceof ne){if(e=r.post_process(e).tokens,n){n=r.post_process(n).tokens}}else{const i=r.post_process(e,n,a);e=i.tokens,t=i.token_type_ids}return{tokens:e,token_type_ids:t}}}class re extends a.Callable{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(null===e)return null;switch(e.type){case"WordPiece":return new ce(e);case"Metaspace":return new ge(e);case"ByteLevel":return new ue(e);case"Replace":return new ie(e);case"ByteFallback":return new oe(e);case"Fuse":return new se(e);case"Strip":return new le(e);case"Sequence":return new he(e);case"CTC":return new de(e);case"BPEDecoder":return new pe(e);default:throw new Error("Unknown Decoder type: ".concat(e.type))}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class ie extends re{decode_chain(e){const t=m(this.config.pattern);return null===t?e:e.map((e=>e.replaceAll(t,this.config.content)))}}class oe extends re{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const t=[];let n=[];for(const a of e){let e=null;if(6===a.length&&a.startsWith("<0x")&&a.endsWith(">")){const t=parseInt(a.slice(3,5),16);isNaN(t)||(e=t)}if(null!==e)n.push(e);else{if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}t.push(a)}}if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}return t}}class se extends re{decode_chain(e){return[e.join("")]}}class le extends re{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map((e=>{let t=0;for(let a=0;a<this.start&&e[a]===this.content;++a)t=a+1;let n=e.length;for(let a=0;a<this.stop;++a){const t=e.length-a-1;if(e[t]!==this.content)break;n=t}return e.slice(t,n)}))}}class ce extends re{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map(((e,t)=>(0!==t&&(e=e.startsWith(this.config.prefix)?e.replace(this.config.prefix,""):" "+e),this.cleanup&&(e=b(e)),e)))}}class ue extends re{constructor(e){super(e),this.byte_decoder=F,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const t=e.join(""),n=new Uint8Array([...t].map((e=>this.byte_decoder[e])));return this.text_decoder.decode(n)}decode_chain(e){const t=[];let n=[];for(const a of e)void 0!==this.added_tokens.find((e=>e.content===a))?(n.length>0&&(t.push(this.convert_tokens_to_string(n)),n=[]),t.push(a)):n.push(a);return n.length>0&&t.push(this.convert_tokens_to_string(n)),t}}class de extends re{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(0===e.length)return"";const t=[e[0]];for(let r=1;r<e.length;++r)e[r]!==t.at(-1)&&t.push(e[r]);const n=t.filter((e=>e!==this.pad_token));let a=n.join("");return this.cleanup&&(a=b(a).replaceAll(this.word_delimiter_token," ").trim()),a}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class he extends re{constructor(e){super(e),this.decoders=e.decoders.map((e=>re.fromConfig(e)))}decode_chain(e){return this.decoders.reduce(((e,t)=>t.decode_chain(e)),e)}}class pe extends re{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map(((t,n)=>t.replaceAll(this.suffix,n===e.length-1?"":" ")))}}class fe extends re{decode_chain(e){let t="";for(let n=1;n<e.length;n+=2)t+=e[n];return[t]}}class me extends W{constructor(e){var t;super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=null!==(t=e.prepend_scheme)&&void 0!==t?t:"always"}pre_tokenize_text(e){let{section_index:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!n.startsWith(this.replacement)&&("always"===this.prepend_scheme||"first"===this.prepend_scheme&&0===t)&&(n=this.strRep+n),[n]}}class ge extends re{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const t=[];for(let n=0;n<e.length;++n){let a=e[n].replaceAll(this.replacement," ");this.addPrefixSpace&&0==n&&a.startsWith(" ")&&(a=a.substring(1)),t.push(a)}return t}}class ye extends z{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){if((e=(e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,"")).replace(/[\u0009\u000A\u000C\u000D\u00A0\u1680\u2000-\u200F\u2028\u2029\u202F\u205F\u2581\u3000\uFEFF\uFFFD]/gm," ")).includes("\uff5e")){const t=e.split("\uff5e");e=t.map((e=>e.normalize("NFKC"))).join("\uff5e")}else e=e.normalize("NFKC");return e}}class be extends W{constructor(e){super(),this.tokenizers=e.pretokenizers.map((e=>W.fromConfig(e)))}pre_tokenize_text(e,t){return this.tokenizers.reduce(((e,n)=>n.pre_tokenize(e,t)),[e])}}class ve extends W{constructor(e){super()}pre_tokenize_text(e,t){return e.match(/\w+|[^\w\s]+/g)||[]}}class we extends W{constructor(e){super()}pre_tokenize_text(e,t){return function(e){return e.match(/\S+/g)||[]}(e)}}class _e extends W{constructor(e){super(),this.config=e,this.pattern=m(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,t){return null===this.pattern?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const xe=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function ke(e,t,n,a){for(const i of Object.keys(e)){const o=t-e[i].length,s=n(i),l=new Array(o).fill(s);e[i]="right"===a?(0,r.mergeArrays)(e[i],l):(0,r.mergeArrays)(l,e[i])}}function Te(e,t){for(const n of Object.keys(e))e[n].length=t}class De extends a.Callable{constructor(e,t){var n,a,r,i;super(),l(this,"return_token_type_ids",!1),l(this,"padding_side","right"),this._tokenizer_config=t,this.normalizer=z.fromConfig(e.normalizer),this.pre_tokenizer=W.fromConfig(e.pre_tokenizer),this.model=A.fromConfig(e.model,t),this.post_processor=$.fromConfig(e.post_processor),this.decoder=re.fromConfig(e.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const o of e.added_tokens){const e=new D(o);this.added_tokens.push(e),this.model.tokens_to_ids.set(e.content,e.id),this.model.vocab[e.id]=e.content,e.special&&(this.special_tokens.push(e.content),this.all_special_ids.push(e.id))}if(this.additional_special_tokens=null!==(n=t.additional_special_tokens)&&void 0!==n?n:[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_splitter=new d.DictionarySplitter(this.added_tokens.map((e=>e.content))),this.added_tokens_map=new Map(this.added_tokens.map((e=>[e.content,e]))),this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.bos_token=this.getToken("bos_token"),this.bos_token_id=this.model.tokens_to_ids.get(this.bos_token),this.eos_token=this.getToken("eos_token"),this.eos_token_id=this.model.tokens_to_ids.get(this.eos_token),this.model_max_length=t.model_max_length,this.remove_space=t.remove_space,this.clean_up_tokenization_spaces=null===(a=t.clean_up_tokenization_spaces)||void 0===a||a,this.do_lowercase_and_remove_accent=null!==(r=t.do_lowercase_and_remove_accent)&&void 0!==r&&r,t.padding_side&&(this.padding_side=t.padding_side),this.legacy=!1,this.chat_template=null!==(i=t.chat_template)&&void 0!==i?i:null,Array.isArray(this.chat_template)){const e=Object.create(null);for(const{name:t,template:n}of this.chat_template){if("string"!==typeof t||"string"!==typeof n)throw new Error('Chat template must be a list of objects with "name" and "template" properties');e[t]=n}this.chat_template=e}this._compiled_template_cache=new Map}getToken(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const a of t){const e=this._tokenizer_config[a];if(e){if("object"===typeof e){if("AddedToken"===e.__type)return e.content;throw Error("Unknown token: ".concat(e))}return e}}return null}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:a=null,local_files_only:r=!1,revision:i="main",legacy:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(...await f(e,{progress_callback:t,config:n,cache_dir:a,local_files_only:r,revision:i,legacy:o}))}_call(e){var t;let{text_pair:n=null,add_special_tokens:a=!0,padding:r=!1,truncation:i=null,max_length:o=null,return_tensor:l=!0,return_token_type_ids:u=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=Array.isArray(e);let h;if(d){if(0===e.length)throw Error("text array must be non-empty");if(null!==n){if(!Array.isArray(n))throw Error("text_pair must also be an array");if(e.length!==n.length)throw Error("text and text_pair must have the same length");h=e.map(((e,t)=>this._encode_plus(e,{text_pair:n[t],add_special_tokens:a,return_token_type_ids:u})))}else h=e.map((e=>this._encode_plus(e,{add_special_tokens:a,return_token_type_ids:u})))}else{if(null===e||void 0===e)throw Error("text may not be null or undefined");if(Array.isArray(n))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");h=[this._encode_plus(e,{text_pair:n,add_special_tokens:a,return_token_type_ids:u})]}if(null===o?o=this.model_max_length:null===i&&(!0===r?(console.warn("`max_length` is ignored when `padding: true` and there is no truncation strategy. To pad to max length, use `padding: 'max_length'`."),o=this.model_max_length):!1===r&&(console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation: true` to explicitly truncate examples to max length."),i=!0)),!0===r&&(o=Math.min((0,s.max)(h.map((e=>e.input_ids.length)))[0],null!==o&&void 0!==o?o:1/0)),o=Math.min(o,null!==(t=this.model_max_length)&&void 0!==t?t:1/0),r||i)for(let s=0;s<h.length;++s)h[s].input_ids.length!==o&&(h[s].input_ids.length>o?i&&Te(h[s],o):r&&ke(h[s],o,(e=>"input_ids"===e?this.pad_token_id:0),this.padding_side));const p={};if(l){if((!r||!i)&&h.some((e=>{for(const n of Object.keys(e)){var t;if(e[n].length!==(null===(t=h[0][n])||void 0===t?void 0:t.length))return!0}return!1})))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const e=[h.length,h[0].input_ids.length];for(const t of Object.keys(h[0]))p[t]=new c.Tensor("int64",BigInt64Array.from(h.flatMap((e=>e[t])).map(BigInt)),e)}else{for(const e of Object.keys(h[0]))p[e]=h.map((t=>t[e]));if(!d)for(const e of Object.keys(p))p[e]=p[e][0]}return p}_encode_text(e){if(null===e)return null;const t=this.added_tokens_splitter.split(e);for(let a=0;a<t.length;++a){const e=this.added_tokens_map.get(t[a]);e&&(e.lstrip&&a>0&&(t[a-1]=t[a-1].trimEnd()),e.rstrip&&a<t.length-1&&(t[a+1]=t[a+1].trimStart()))}const n=t.flatMap(((e,t)=>{if(0===e.length)return[];if(this.added_tokens_map.has(e))return[e];if(!0===this.remove_space&&(e=e.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(e=function(e){return v(e.toLowerCase())}(e)),null!==this.normalizer&&(e=this.normalizer(e)),0===e.length)return[];const n=null!==this.pre_tokenizer?this.pre_tokenizer(e,{section_index:t}):[e];return this.model(n)}));return n}_encode_plus(e){let{text_pair:t=null,add_special_tokens:n=!0,return_token_type_ids:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{tokens:r,token_type_ids:i}=this._tokenize_helper(e,{pair:t,add_special_tokens:n}),o=this.model.convert_tokens_to_ids(r),s={input_ids:o,attention_mask:new Array(o.length).fill(1)};return(null!==a&&void 0!==a?a:this.return_token_type_ids)&&i&&(s.token_type_ids=i),s}_tokenize_helper(e){let{pair:t=null,add_special_tokens:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=this._encode_text(e),i=this._encode_text(t);return this.post_processor?this.post_processor(a,i,{add_special_tokens:n}):{tokens:(0,r.mergeArrays)(null!==a&&void 0!==a?a:[],null!==i&&void 0!==i?i:[])}}tokenize(e){let{pair:t=null,add_special_tokens:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._tokenize_helper(e,{pair:t,add_special_tokens:n}).tokens}encode(e){let{text_pair:t=null,add_special_tokens:n=!0,return_token_type_ids:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._encode_plus(e,{text_pair:t,add_special_tokens:n,return_token_type_ids:a}).input_ids}batch_decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof c.Tensor&&(e=e.tolist()),e.map((e=>this.decode(e,t)))}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof c.Tensor&&(e=y(e)),!Array.isArray(e)||0===e.length||!(0,r.isIntegralNumber)(e[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(e,t)}decode_single(e,t){let{skip_special_tokens:n=!1,clean_up_tokenization_spaces:a=null}=t,r=this.model.convert_ids_to_tokens(e);n&&(r=r.filter((e=>!this.special_tokens.includes(e))));let i=this.decoder?this.decoder(r):r.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(i=i.replaceAll(this.decoder.end_of_word_suffix," "),n&&(i=i.trim())),(null!==a&&void 0!==a?a:this.clean_up_tokenization_spaces)&&(i=b(i)),i}get_chat_template(){let{chat_template:e=null,tools:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.chat_template&&"object"===typeof this.chat_template){const n=this.chat_template;if(null!==e&&Object.hasOwn(n,e))e=n[e];else if(null===e)if(null!==t&&"tool_use"in n)e=n.tool_use;else{if(!("default"in n))throw Error("This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available "+"template names are ".concat(Object.keys(n).sort(),"."));e=n.default}}else if(null===e){if(!this.chat_template)throw Error("Cannot use apply_chat_template() because tokenizer.chat_template is not set and no template argument was passed! For information about writing templates and setting the tokenizer.chat_template attribute, please see the documentation at https://huggingface.co/docs/transformers/main/en/chat_templating");e=this.chat_template}return e}apply_chat_template(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{tools:n=null,documents:a=null,chat_template:r=null,add_generation_prompt:o=!1,tokenize:s=!0,padding:l=!1,truncation:c=!1,max_length:d=null,return_tensor:p=!0,return_dict:f=!1,tokenizer_kwargs:m={}}=t,g=i(t,ah);if(r=this.get_chat_template({chat_template:r,tools:n}),"string"!==typeof r)throw Error("chat_template must be a string, but got ".concat(typeof r));let y=this._compiled_template_cache.get(r);void 0===y&&(y=new h.Template(r),this._compiled_template_cache.set(r,y));const b=Object.create(null);for(const i of xe){const e=this.getToken(i);e&&(b[i]=e)}const v=y.render(u(u({messages:e,add_generation_prompt:o,tools:n,documents:a},b),g));if(s){const e=this._call(v,u({add_special_tokens:!1,padding:l,truncation:c,max_length:d,return_tensor:p},m));return f?e:e.input_ids}return v}}class Ae extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Ce extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Se extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Ee extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Fe extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Me extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Ie extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class ze extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Pe extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Ne extends De{}class Oe extends De{}class Be extends De{constructor(e,t){super(e,t),l(this,"return_token_type_ids",!0),console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}}class Le extends De{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}}class Re extends De{}class je extends De{}class Ve extends De{}class qe extends De{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return at(this,e,t,n)}}class Ue extends qe{}class Ge extends De{}class He extends De{}const We="\u2581";class Ke extends De{constructor(e,t){var n;super(e,t),l(this,"padding_side","left"),this.legacy=null===(n=t.legacy)||void 0===n||n,this.legacy||(this.normalizer=null,this.pre_tokenizer=new me({replacement:We,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(e){if(null===e)return null;if(this.legacy||0===e.length)return super._encode_text(e);let t=super._encode_text(We+e.replaceAll(We," "));return t.length>1&&t[0]===We&&this.special_tokens.includes(t[1])&&(t=t.slice(1)),t}}class Ye extends De{}class Je extends De{}class Ze extends De{}class Xe extends De{}class $e extends De{}class Qe extends De{}class et extends De{}class tt extends De{}class nt extends De{}function at(e,t,n,a){if(!("language_codes"in e)||!Array.isArray(e.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in e)||!(e.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in e)||"function"!==typeof e.lang_to_token)throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const r=a.src_lang,i=a.tgt_lang;if(!e.language_codes.includes(i))throw new Error('Target language code "'.concat(i,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));if(void 0!==r){if(!e.language_codes.includes(r))throw new Error('Source language code "'.concat(r,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));for(const t of e.post_processor.config.single)if("SpecialToken"in t&&e.languageRegex.test(t.SpecialToken.id)){t.SpecialToken.id=e.lang_to_token(r);break}}return a.forced_bos_token_id=e.model.convert_tokens_to_ids([e.lang_to_token(i)])[0],e._call(t,n)}class rt extends De{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return at(this,e,t,n)}}class it extends De{constructor(e,t){super(e,t),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))).map((e=>e.slice(2,-2))),this.lang_to_token=e=>"__".concat(e,"__")}_build_translation_inputs(e,t,n){return at(this,e,t,n)}}class ot extends De{get timestamp_begin(){return this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1}_decode_asr(e){let{return_timestamps:t=!1,return_language:n=!1,time_precision:a=null,force_full_sequences:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===a)throw Error("Must specify time_precision");let i=null;const o="word"===t;function l(){return{language:i,timestamp:[null,null],text:""}}const c=[];let u=l(),d=0;const h=this.timestamp_begin,f=h+1500;let m=[],g=[],y=!1,b=null;const v=new Set(this.all_special_ids);for(const k of e){const e=k.tokens,n=o?k.token_timestamps:null;let r=null,w=h;if("stride"in k){const[t,n,i]=k.stride;if(d-=n,b=t-i,n&&(w=n/a+h),i)for(let o=e.length-1;o>=0;--o){const t=Number(e[o]);if(t>=h){if(null!==r&&(t-h)*a<b)break;r=t}}}let _=[],T=[];for(let b=0;b<e.length;++b){const k=Number(e[b]);if(v.has(k)){const e=this.decode([k]),n=p.WHISPER_LANGUAGE_MAPPING.get(e.slice(2,-2));if(void 0!==n){if(null!==i&&n!==i&&!t){m.push(_);const e=this.findLongestCommonSequence(m)[0],t=this.decode(e);u.text=t,c.push(u),m=[],_=[],u=l()}i=u.language=n}}else if(k>=h&&k<=f){const e=(k-h)*a+d,t=(0,s.round)(e,2);if(null!==r&&k>=r)y=!0;else if(y||m.length>0&&k<w)y=!1;else if(null===u.timestamp[0])u.timestamp[0]=t;else if(t===u.timestamp[0]);else{u.timestamp[1]=t,m.push(_),o&&g.push(T);const[e,n]=this.findLongestCommonSequence(m,g),a=this.decode(e);u.text=a,o&&(u.words=this.collateWordTimestamps(e,n,i)),c.push(u),m=[],_=[],g=[],T=[],u=l()}}else if(_.push(k),o){let e,t=(0,s.round)(n[b]+d,2);if(b+1<n.length){e=(0,s.round)(n[b+1]+d,2);const r=this.decode([k]);x.test(r)&&(e=(0,s.round)(Math.min(t+a,e),2))}else e=null;T.push([t,e])}}if("stride"in k){const[e,t,n]=k.stride;d+=e-n}_.length>0?(m.push(_),o&&g.push(T)):m.every((e=>0===e.length))&&(u=l(),m=[],_=[],g=[],T=[])}if(m.length>0){if(r&&t)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[e,n]=this.findLongestCommonSequence(m,g),a=this.decode(e);u.text=a,o&&(u.words=this.collateWordTimestamps(e,n,i)),c.push(u)}let w=Object.create(null);const _=c.map((e=>e.text)).join("");if(t||n){for(let e=0;e<c.length;++e){const a=c[e];t||delete a.timestamp,n||delete a.language}if(o){const e=[];for(const t of c)for(const n of t.words)e.push(n);w={chunks:e}}else w={chunks:c}}return[_,w]}findLongestCommonSequence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e[0],a=n.length,r=[];const i=Array.isArray(t)&&t.length>0;let o=i?[]:null,s=i?t[0]:null;for(let l=1;l<e.length;++l){const c=e[l];let u=0,d=[a,a,0,0];const h=c.length;for(let e=1;e<a+h;++e){const r=Math.max(0,a-e),o=Math.min(a,a+h-e),p=n.slice(r,o),f=Math.max(0,e-a),m=Math.min(h,e),g=c.slice(f,m);if(p.length!==g.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");let y;y=i?p.filter(((e,n)=>e===g[n]&&s[r+n]<=t[l][f+n])).length:p.filter(((e,t)=>e===g[t])).length;const b=y/e+e/1e4;y>1&&b>u&&(u=b,d=[r,o,f,m])}const[p,f,m,g]=d,y=Math.floor((f+p)/2),b=Math.floor((g+m)/2);r.push(...n.slice(0,y)),n=c.slice(b),a=n.length,i&&(o.push(...s.slice(0,y)),s=t[l].slice(b))}return r.push(...n),i?(o.push(...s),[r,o]):[r,[]]}collateWordTimestamps(e,t,n){const[a,r,i]=this.combineTokensIntoWords(e,n),o=[];for(let s=0;s<a.length;++s){const e=i[s];o.push({text:a[s],timestamp:[t[e.at(0)][0],t[e.at(-1)][1]]})}return o}combineTokensIntoWords(e,t){let n,a,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\"'\u201c\xa1\xbf([{-",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\"'.\u3002,\uff0c!\uff01?\uff1f:\uff1a\u201d)]}\u3001";return["chinese","japanese","thai","lao","myanmar"].includes(t=null!==t&&void 0!==t?t:"english")?[n,a,r]=this.splitTokensOnUnicode(e):[n,a,r]=this.splitTokensOnSpaces(e),this.mergePunctuations(n,a,r,i,o)}decode(e,t){let n;return null!==t&&void 0!==t&&t.decode_with_timestamps?(e instanceof c.Tensor&&(e=y(e)),n=this.decodeWithTimestamps(e,t)):n=super.decode(e,t),n}decodeWithTimestamps(e,t){var n;const a=null!==(n=null===t||void 0===t?void 0:t.time_precision)&&void 0!==n?n:.02,r=Array.from(this.all_special_ids).at(-1)+1;let i=[[]];for(let o of e)if(o=Number(o),o>=r){const e=((o-r)*a).toFixed(2);i.push("<|".concat(e,"|>")),i.push([])}else i[i.length-1].push(o);return i=i.map((e=>"string"===typeof e?e:super.decode(e,t))),i.join("")}splitTokensOnUnicode(e){const t=this.decode(e,{decode_with_timestamps:!0}),n=[],a=[],r=[];let i=[],o=[],s=0;for(let l=0;l<e.length;++l){const c=e[l];i.push(c),o.push(l);const u=this.decode(i,{decode_with_timestamps:!0});u.includes("\ufffd")&&"\ufffd"!==t[s+u.indexOf("\ufffd")]||(n.push(u),a.push(i),r.push(o),i=[],o=[],s+=u.length)}return[n,a,r]}splitTokensOnSpaces(e){const[t,n,a]=this.splitTokensOnUnicode(e),r=[],i=[],o=[],s=new RegExp("^[".concat(_,"]$"),"gu");for(let l=0;l<t.length;++l){const e=t[l],c=n[l],u=a[l],d=c[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),h=e.startsWith(" "),p=e.trim(),f=s.test(p);if(d||h||f||0===r.length)r.push(e),i.push(c),o.push(u);else{const t=r.length-1;r[t]+=e,i[t].push(...c),o[t].push(...u)}}return[r,i,o]}mergePunctuations(e,t,n,a,i){const o=structuredClone(e),s=structuredClone(t),l=structuredClone(n);let c=o.length-2,u=o.length-1;for(;c>=0;)o[c].startsWith(" ")&&a.includes(o[c].trim())?(o[u]=o[c]+o[u],s[u]=(0,r.mergeArrays)(s[c],s[u]),l[u]=(0,r.mergeArrays)(l[c],l[u]),o[c]="",s[c]=[],l[c]=[]):u=c,--c;for(c=0,u=1;u<o.length;)!o[c].endsWith(" ")&&i.includes(o[u])?(o[c]+=o[u],s[c]=(0,r.mergeArrays)(s[c],s[u]),l[c]=(0,r.mergeArrays)(l[c],l[u]),o[u]="",s[u]=[],l[u]=[]):c=u,++u;return[o.filter((e=>e)),s.filter((e=>e.length>0)),l.filter((e=>e.length>0))]}}class st extends De{}class lt extends De{}class ct extends De{}class ut extends De{constructor(e,t){super(e,t),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter((e=>this.languageRegex.test(e))),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(null===e)return null;const[t,...n]=e.trim().split(this.languageRegex);if(0===n.length)return super._encode_text(t);if(2===n.length){const[e,t]=n;return this.supported_language_codes.includes(e)||console.warn('Unsupported language code "'.concat(e,'" detected, which may lead to unexpected behavior. Should be one of: ').concat(JSON.stringify(this.supported_language_codes))),(0,r.mergeArrays)([e],super._encode_text(t))}}}class dt extends De{}class ht extends De{}class pt extends De{}class ft extends De{}class mt extends De{}class gt extends De{constructor(e,t){super(e,t),this.decoder=new fe({})}}class yt extends De{}class bt extends De{}class vt{static async from_pretrained(e){var t,n;let{progress_callback:a=null,config:r=null,cache_dir:i=null,local_files_only:o=!1,revision:s="main",legacy:l=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[c,u]=await f(e,{progress_callback:a,config:r,cache_dir:i,local_files_only:o,revision:s,legacy:l}),d=null!==(t=null===(n=u.tokenizer_class)||void 0===n?void 0:n.replace(/Fast$/,""))&&void 0!==t?t:"PreTrainedTokenizer";let h=this.TOKENIZER_CLASS_MAPPING[d];return h||(console.warn('Unknown tokenizer class "'.concat(d,'", attempting to construct from base class.')),h=De),new h(c,u)}}l(vt,"TOKENIZER_CLASS_MAPPING",{T5Tokenizer:Re,DistilBertTokenizer:Ne,CamembertTokenizer:Oe,DebertaTokenizer:Fe,DebertaV2Tokenizer:Me,BertTokenizer:Ae,HerbertTokenizer:Ie,ConvBertTokenizer:ze,RoFormerTokenizer:Pe,XLMTokenizer:Be,ElectraTokenizer:Le,MobileBertTokenizer:Se,SqueezeBertTokenizer:Ee,AlbertTokenizer:Ce,GPT2Tokenizer:je,BartTokenizer:Ve,MBartTokenizer:qe,MBart50Tokenizer:Ue,RobertaTokenizer:Ge,WhisperTokenizer:ot,CodeGenTokenizer:st,CLIPTokenizer:lt,SiglipTokenizer:ct,MarianTokenizer:ut,BloomTokenizer:He,NllbTokenizer:rt,M2M100Tokenizer:it,LlamaTokenizer:Ke,CodeLlamaTokenizer:Ye,XLMRobertaTokenizer:Je,MPNetTokenizer:Ze,FalconTokenizer:Xe,GPTNeoXTokenizer:$e,EsmTokenizer:Qe,Wav2Vec2CTCTokenizer:dt,BlenderbotTokenizer:ht,BlenderbotSmallTokenizer:pt,SpeechT5Tokenizer:ft,NougatTokenizer:mt,VitsTokenizer:gt,Qwen2Tokenizer:et,GemmaTokenizer:tt,Grok1Tokenizer:nt,CohereTokenizer:yt,MgpstrTokenizer:bt,PreTrainedTokenizer:De})},"./src/utils/audio.js":(e,t,n)=>{n.r(t),n.d(t,{RawAudio:()=>x,hamming:()=>h,hanning:()=>d,mel_filter_bank:()=>y,read_audio:()=>c,spectrogram:()=>v,window_function:()=>w});var a=n("./src/utils/hub.js"),r=n("./src/utils/maths.js"),i=n("./src/utils/core.js"),o=n("./src/env.js"),s=n("?7a2c"),l=n("./src/utils/tensor.js");async function c(e,t){if("undefined"===typeof AudioContext)throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const n=await(await(0,a.getFile)(e)).arrayBuffer(),r=new AudioContext({sampleRate:t});"undefined"===typeof t&&console.warn("No sampling rate provided, using default of ".concat(r.sampleRate,"Hz."));const i=await r.decodeAudioData(n);let o;if(2===i.numberOfChannels){const e=Math.sqrt(2),t=i.getChannelData(0),n=i.getChannelData(1);o=new Float32Array(t.length);for(let a=0;a<i.length;++a)o[a]=e*(t[a]+n[a])/2}else o=i.getChannelData(0);return o}function u(e,t){if(e<1)return new Float64Array;if(1===e)return new Float64Array([1]);const n=1-t,a=2*Math.PI/(e-1),r=new Float64Array(e);for(let i=0;i<e;++i)r[i]=t-n*Math.cos(i*a);return r}function d(e){return u(e,.5)}function h(e){return u(e,.54)}const p={htk:e=>2595*Math.log10(1+e/700),kaldi:e=>1127*Math.log(1+e/700),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:27/Math.log(6.4);return e>=t?n+Math.log(e/t)*a:3*e/200}};function f(e){const t=p[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map((e=>t(e)))}const m={htk:e=>700*(10**(e/2595)-1),kaldi:e=>700*(Math.exp(e/1127)-1),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.log(6.4)/27;return e>=n?t*Math.exp(a*(e-n)):200*e/3}};function g(e,t,n){const a=(t-e)/(n-1);return Float64Array.from({length:n},((t,n)=>e+a*n))}function y(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"htk",s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(null!==i&&"slaney"!==i)throw new Error('norm must be one of null or "slaney"');if(e<2)throw new Error("Require num_frequency_bins: ".concat(e," >= 2"));if(n>a)throw new Error("Require min_frequency: ".concat(n," <= max_frequency: ").concat(a));const l=g(f(n,o),f(a,o),t+2);let c,u=function(e){const t=m[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map((e=>t(e)))}(l,o);if(s){const t=r/(2*(e-1));c=f(Float64Array.from({length:e},((e,n)=>n*t)),o),u=l}else c=g(0,Math.floor(r/2),e);const d=function(e,t){const n=Float64Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n])),a=Array.from({length:e.length},(()=>new Array(t.length)));for(let o=0;o<e.length;++o){const n=a[o];for(let a=0;a<t.length;++a)n[a]=t[a]-e[o]}const r=t.length-2,i=Array.from({length:r},(()=>new Array(e.length)));for(let o=0;o<e.length;++o){const e=a[o];for(let t=0;t<r;++t){const a=-e[t]/n[t],r=e[t+2]/n[t+1];i[t][o]=Math.max(0,Math.min(a,r))}}return i}(c,u);if(null!==i&&"slaney"===i)for(let h=0;h<t;++h){const t=d[h],n=2/(u[h+2]-u[h]);for(let a=0;a<e;++a)t[a]*=n}return d}function b(e,t,n,a,i){if(n<=0)throw new Error("reference must be greater than zero");if(a<=0)throw new Error("min_value must be greater than zero");n=Math.max(a,n);const o=Math.log10(n);for(let r=0;r<e.length;++r)e[r]=t*Math.log10(Math.max(a,e[r])-o);if(null!==i){if(i<=0)throw new Error("db_range must be greater than zero");const t=(0,r.max)(e)[0]-i;for(let n=0;n<e.length;++n)e[n]=Math.max(e[n],t)}return e}async function v(e,t,n,a){let{fft_length:o=null,power:s=1,center:c=!0,pad_mode:u="reflect",onesided:d=!0,preemphasis:h=null,mel_filters:p=null,mel_floor:f=1e-10,log_mel:m=null,reference:g=1,min_value:y=1e-10,db_range:v=null,remove_dc_offset:w=null,min_num_frames:_=null,max_num_frames:x=null,do_pad:k=!0,transpose:T=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const D=t.length;if(null===o&&(o=n),n>o)throw Error("frame_length (".concat(n,") may not be larger than fft_length (").concat(o,")"));if(D!==n)throw new Error("Length of the window (".concat(D,") must equal frame_length (").concat(n,")"));if(a<=0)throw new Error("hop_length must be greater than zero");if(null===s&&null!==p)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(c){if("reflect"!==u)throw new Error('pad_mode="'.concat(u,'" not implemented yet.'));const t=Math.floor((o-1)/2)+1;e=function(e,t,n){const a=new e.constructor(e.length+t+n),r=e.length-1;for(let i=0;i<e.length;++i)a[t+i]=e[i];for(let o=1;o<=t;++o)a[t-o]=e[(0,i.calculateReflectOffset)(o,r)];for(let o=1;o<=n;++o)a[r+t+o]=e[(0,i.calculateReflectOffset)(r-o,r)];return a}(e,t,t)}let A=Math.floor(1+Math.floor((e.length-n)/a));null!==_&&A<_&&(A=_);const C=d?Math.floor(o/2)+1:o;let S=A,E=A;null!==x&&(x>A?k&&(E=x):E=S=x);const F=new r.FFT(o),M=new Float64Array(o),I=new Float64Array(F.outputBufferSize),z=new Float32Array(C*E);for(let r=0;r<S;++r){const i=r*a,o=Math.min(e.length-i,n);o!==n&&M.fill(0,0,n);for(let t=0;t<o;++t)M[t]=e[i+t];if(w){let e=0;for(let n=0;n<o;++n)e+=M[n];const t=e/o;for(let n=0;n<o;++n)M[n]-=t}if(null!==h){for(let e=o-1;e>=1;--e)M[e]-=h*M[e-1];M[0]*=1-h}for(let e=0;e<t.length;++e)M[e]*=t[e];F.realTransform(I,M);for(let e=0;e<C;++e){const t=e<<1;z[e*E+r]=I[t]**2+I[t+1]**2}}if(null!==s&&2!==s){const e=2/s;for(let t=0;t<z.length;++t)z[t]**=e}const P=p.length;let N=await(0,l.matmul)(new l.Tensor("float32",p.flat(),[P,C]),new l.Tensor("float32",z,[C,E]));T&&(N=N.transpose(1,0));const O=N.data;for(let r=0;r<O.length;++r)O[r]=Math.max(f,O[r]);if(null!==s&&null!==m){const e=Math.min(O.length,S*P);switch(m){case"log":for(let t=0;t<e;++t)O[t]=Math.log(O[t]);break;case"log10":for(let t=0;t<e;++t)O[t]=Math.log10(O[t]);break;case"dB":if(1===s)!function(e){b(e,20,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(O,g,y,v);else{if(2!==s)throw new Error("Cannot use log_mel option '".concat(m,"' with power ").concat(s));!function(e){b(e,10,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(O,g,y,v)}break;default:throw new Error("log_mel must be one of null, 'log', 'log10' or 'dB'. Got '".concat(m,"'"))}}return N}function w(e,t){let{periodic:n=!0,frame_length:a=null,center:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=n?e+1:e;let o;switch(t){case"boxcar":o=new Float64Array(i).fill(1);break;case"hann":case"hann_window":o=d(i);break;case"hamming":o=h(i);break;case"povey":o=d(i).map((e=>Math.pow(e,.85)));break;default:throw new Error("Unknown window type ".concat(t,"."))}if(n&&(o=o.subarray(0,e)),null===a)return o;if(e>a)throw new Error("Length of the window (".concat(e,") may not be larger than frame_length (").concat(a,")"));return o}function _(e,t,n){for(let a=0;a<n.length;++a)e.setUint8(t+a,n.charCodeAt(a))}class x{constructor(e,t){this.audio=e,this.sampling_rate=t}toWav(){return function(e,t){let n=44;const a=new ArrayBuffer(n+4*e.length),r=new DataView(a);_(r,0,"RIFF"),r.setUint32(4,36+4*e.length,!0),_(r,8,"WAVE"),_(r,12,"fmt "),r.setUint32(16,16,!0),r.setUint16(20,3,!0),r.setUint16(22,1,!0),r.setUint32(24,t,!0),r.setUint32(28,4*t,!0),r.setUint16(32,4,!0),r.setUint16(34,32,!0),_(r,36,"data"),r.setUint32(40,4*e.length,!0);for(let i=0;i<e.length;++i,n+=4)r.setFloat32(n,e[i],!0);return a}(this.audio,this.sampling_rate)}toBlob(){const e=this.toWav();return new Blob([e],{type:"audio/wav"})}async save(e){let t;if(o.apis.IS_BROWSER_ENV){if(o.apis.IS_WEBWORKER_ENV)throw new Error("Unable to save a file from a Web Worker.");t=i.saveBlob}else{if(!o.apis.IS_FS_AVAILABLE)throw new Error("Unable to save because filesystem is disabled in this environment.");t=async(e,t)=>{let n=await t.arrayBuffer();s.writeFileSync(e,Buffer.from(n))}}await t(e,this.toBlob())}}},"./src/utils/constants.js":(e,t,n)=>{n.r(t),n.d(t,{CHAT_TEMPLATE_NAME:()=>l,CONFIG_NAME:()=>r,FEATURE_EXTRACTOR_NAME:()=>i,GENERATION_CONFIG_NAME:()=>c,GITHUB_ISSUE_URL:()=>a,IMAGE_PROCESSOR_NAME:()=>o,PROCESSOR_NAME:()=>s});const a="https://github.com/huggingface/transformers.js/issues/new/choose",r="config.json",i="preprocessor_config.json",o=i,s="processor_config.json",l="chat_template.json",c="generation_config.json"},"./src/utils/core.js":(e,t,n)=>{function a(e,t){e&&e(t)}function r(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[n,t]})))}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){var t;return"TypedArray"===(null===e||void 0===e||null===(t=e.prototype)||void 0===t||null===(t=t.__proto__)||void 0===t||null===(t=t.constructor)||void 0===t?void 0:t.name)}function s(e){return Number.isInteger(e)||"bigint"===typeof e}function l(e){return null===e||void 0===e||-1===e}function c(e){const t=[];let n=e;for(;Array.isArray(n);)t.push(n.length),n=n[0];return t}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const a=e[t];if(void 0!==a)return delete e[t],a;if(void 0===n)throw Error("Key ".concat(t," does not exist in object."));return n}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply([],t)}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e.flatMap((e=>t.map((t=>[e,t]))))))}function p(e,t){return Math.abs((e+t)%(2*t)-t)}function f(e,t){const n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=e,a.click(),a.remove(),URL.revokeObjectURL(n)}function m(e,t){return Object.assign({},...t.map((t=>{if(void 0!==e[t])return{[t]:e[t]}})))}function g(e){let t=0;for(const n of e)++t;return t}function y(e,t){let n=0;for(const a of e)a===t&&++n;return n}n.r(t),n.d(t,{calculateDimensions:()=>c,calculateReflectOffset:()=>p,count:()=>y,dispatchCallback:()=>a,escapeRegExp:()=>i,isIntegralNumber:()=>s,isNullishDimension:()=>l,isTypedArray:()=>o,len:()=>g,mergeArrays:()=>d,pick:()=>m,pop:()=>u,product:()=>h,reverseDictionary:()=>r,saveBlob:()=>f})},"./src/utils/data-structures.js":(e,t,n)=>{n.r(t),n.d(t,{CharTrie:()=>r,DictionarySplitter:()=>l,LRUCache:()=>c,PriorityQueue:()=>a,TokenLattice:()=>o});class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>e>t,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;this._heap=[],this._comparator=e,this._maxSize=t}get size(){return this._heap.length}isEmpty(){return 0===this.size}peek(){return this._heap[0]}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.extend(t)}extend(e){for(const t of e)if(this.size<this._maxSize)this._heap.push(t),this._siftUp();else{const e=this._smallest();this._comparator(t,this._heap[e])&&(this._heap[e]=t,this._siftUpFrom(e))}return this.size}pop(){const e=this.peek(),t=this.size-1;return t>0&&this._swap(0,t),this._heap.pop(),this._siftDown(),e}replace(e){const t=this.peek();return this._heap[0]=e,this._siftDown(),t}_parent(e){return(e+1>>>1)-1}_left(e){return 1+(e<<1)}_right(e){return e+1<<1}_greater(e,t){return this._comparator(this._heap[e],this._heap[t])}_swap(e,t){const n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n}_siftUp(){this._siftUpFrom(this.size-1)}_siftUpFrom(e){for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const t=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,t),e=t}}_smallest(){return 2**Math.floor(Math.log2(this.size))-1}}class r{constructor(){this.root=i.default()}extend(e){for(const t of e)this.push(t)}push(e){let t=this.root;for(const n of e){let e=t.children.get(n);void 0===e&&(e=i.default(),t.children.set(n,e)),t=e}t.isLeaf=!0}*commonPrefixSearch(e){let t=this.root;if(void 0===t)return;let n="";for(const a of e){if(n+=a,t=t.children.get(a),void 0===t)return;t.isLeaf&&(yield n)}}}class i{constructor(e,t){this.isLeaf=e,this.children=t}static default(){return new i(!1,new Map)}}class o{constructor(e,t,n){this.chars=Array.from(e),this.len=this.chars.length,this.bosTokenId=t,this.eosTokenId=n,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},(()=>[])),this.endNodes=Array.from({length:this.len+1},(()=>[]));const a=new s(this.bosTokenId,0,0,0,0),r=new s(this.eosTokenId,1,this.len,0,0);this.nodes.push(a.clone()),this.nodes.push(r.clone()),this.beginNodes[this.len].push(r),this.endNodes[0].push(a)}insert(e,t,n,a){const r=this.nodes.length,i=new s(a,r,e,t,n);this.beginNodes[e].push(i),this.endNodes[e+t].push(i),this.nodes.push(i)}viterbi(){const e=this.len;let t=0;for(;t<=e;){if(0==this.beginNodes[t].length)return[];for(let e of this.beginNodes[t]){e.prev=null;let n=0,a=null;for(let r of this.endNodes[t]){const t=r.backtraceScore+e.score;(null===a||t>n)&&(a=r.clone(),n=t)}if(null===a)return[];e.prev=a,e.backtraceScore=n}++t}const n=[],a=this.beginNodes[e][0].prev;if(null===a)return[];let r=a.clone();for(;null!==r.prev;){n.push(r.clone());const e=r.clone();r=e.prev.clone()}return n.reverse(),n}piece(e){return this.chars.slice(e.pos,e.pos+e.length).join("")}tokens(){return this.viterbi().map((e=>this.piece(e)))}tokenIds(){return this.viterbi().map((e=>e.tokenId))}}class s{constructor(e,t,n,a,r){this.tokenId=e,this.nodeId=t,this.pos=n,this.length=a,this.score=r,this.prev=null,this.backtraceScore=0}clone(){const e=new s(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}class l{constructor(e){this.trie=this._buildTrie(e)}_buildTrie(e){const t=Object.create(null);for(const i of e){let e=t;for(let t=0;t<i.length;++t){var n,a,r;e=null!==(r=(n=e)[a=i[t]])&&void 0!==r?r:n[a]=Object.create(null)}e.end=i}return t}split(e){const t=[],n=e.length;let a=0,r=0;for(;r<n;){let i=this.trie,o=null,s=r;for(;s<n&&(i=i[e[s]]);)i.end&&(o=i.end),++s;o?(r>a&&t.push(e.slice(a,r)),t.push(o),r+=o.length,a=r):++r}return a<n&&t.push(e.slice(a)),t}}class c{constructor(e){this.capacity=e,this.cache=new Map}get(e){if(!this.cache.has(e))return;const t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}put(e,t){this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,t),this.cache.size>this.capacity&&this.cache.delete(this.cache.keys().next().value)}clear(){this.cache.clear()}}},"./src/utils/devices.js":(e,t,n)=>{n.r(t),n.d(t,{DEVICE_TYPES:()=>a});const a=Object.freeze({auto:"auto",gpu:"gpu",cpu:"cpu",wasm:"wasm",webgpu:"webgpu",cuda:"cuda",dml:"dml",webnn:"webnn","webnn-npu":"webnn-npu","webnn-gpu":"webnn-gpu","webnn-cpu":"webnn-cpu"})},"./src/utils/dtypes.js":(e,t,n)=>{n.r(t),n.d(t,{DATA_TYPES:()=>o,DEFAULT_DEVICE_DTYPE_MAPPING:()=>s,DEFAULT_DTYPE_SUFFIX_MAPPING:()=>l,isWebGpuFp16Supported:()=>i});var a=n("./src/env.js"),r=n("./src/utils/devices.js");const i=function(){let e;return async function(){if(void 0===e)if(a.apis.IS_WEBGPU_AVAILABLE)try{const t=await navigator.gpu.requestAdapter();e=t.features.has("shader-f16")}catch(F){e=!1}else e=!1;return e}}(),o=Object.freeze({auto:"auto",fp32:"fp32",fp16:"fp16",q8:"q8",int8:"int8",uint8:"uint8",q4:"q4",bnb4:"bnb4",q4f16:"q4f16"}),s=Object.freeze({[r.DEVICE_TYPES.wasm]:o.q8}),l=Object.freeze({[o.fp32]:"",[o.fp16]:"_fp16",[o.int8]:"_int8",[o.uint8]:"_uint8",[o.q8]:"_quantized",[o.q4]:"_q4",[o.q4f16]:"_q4f16",[o.bnb4]:"_bnb4"})},"./src/utils/generic.js":(e,t,n)=>{n.r(t),n.d(t,{Callable:()=>a});const a=class{constructor(){let e=function(){return e._call(...arguments)};return Object.setPrototypeOf(e,new.target.prototype)}_call(){throw Error("Must implement _call method in subclass")}}},"./src/utils/hub.js":(e,t,n)=>{n.r(t),n.d(t,{MAX_EXTERNAL_DATA_CHUNKS:()=>s,getFile:()=>p,getModelFile:()=>g,getModelJSON:()=>y});var a=n("?7a2c"),r=n("?a42a"),i=n("./src/env.js"),o=n("./src/utils/core.js");const s=100,l={txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"};class c{constructor(e){if(this.filePath=e,this.headers=new Headers,this.exists=a.existsSync(e),this.exists){this.status=200,this.statusText="OK";let t=a.statSync(e);this.headers.set("content-length",t.size.toString()),this.updateContentType();const n=a.createReadStream(e);this.body=new ReadableStream({start(e){n.on("data",(t=>e.enqueue(t))),n.on("end",(()=>e.close())),n.on("error",(t=>e.error(t)))},cancel(){n.destroy()}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){var e;const t=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",null!==(e=l[t])&&void 0!==e?e:"application/octet-stream")}clone(){let e=new c(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await a.promises.readFile(this.filePath)).buffer}async blob(){const e=await a.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await a.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function d(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{t=new URL(e)}catch(r){return!1}return!(n&&!n.includes(t.protocol))&&!(a&&!a.includes(t.hostname))}const h=/^(\b[\w\-.]+\b\/)?\b[\w\-.]{1,96}\b$/;async function p(e){var t;if(i.env.useFS&&!d(e,["http:","https:","blob:"]))return new c(e instanceof URL?"file:"===e.protocol?e.pathname:e.toString():e);if("undefined"!==typeof process&&"node"===(null===(t=process)||void 0===t||null===(t=t.release)||void 0===t?void 0:t.name)){var n;const t=!(null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===n||!n.TESTING_REMOTELY),s=i.env.version,l=new Headers;l.set("User-Agent","transformers.js/".concat(s,"; is_ci/").concat(t,";"));if(d(e,["http:","https:"],["huggingface.co","hf.co"])){var a,r,o;const e=null!==(a=null===(r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===r?void 0:r.HF_TOKEN)&&void 0!==a?a:null===(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===o?void 0:o.HF_ACCESS_TOKEN;e&&l.set("Authorization","Bearer ".concat(e))}return fetch(e,{headers:l})}return fetch(e)}const f={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};class m{constructor(e){this.path=e}async match(e){let t=r.join(this.path,e),n=new c(t);return n.exists?n:void 0}async put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=r.join(this.path,e);try{const e=t.headers.get("Content-Length"),o=parseInt(null!==e&&void 0!==e?e:"0");let s=0;await a.promises.mkdir(r.dirname(i),{recursive:!0});const l=a.createWriteStream(i),c=t.body.getReader();for(;;){const{done:e,value:t}=await c.read();if(e)break;await new Promise(((e,n)=>{l.write(t,(t=>{t?n(t):e()}))})),s+=t.length;null===n||void 0===n||n({progress:o?s/o*100:0,loaded:s,total:o})}l.close()}catch(o){try{await a.promises.unlink(i)}catch(s){}throw o}}}async function g(e,t){var n,a;let r,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!i.env.allowLocalModels){if(l.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!i.env.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}if((0,o.dispatchCallback)(l.progress_callback,{status:"initiate",name:e,file:t}),!r&&i.env.useCustomCache){if(!i.env.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!i.env.customCache.match||!i.env.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");r=i.env.customCache}if(!r&&i.env.useBrowserCache){if("undefined"===typeof caches)throw Error("Browser cache is not available in this environment.");try{r=await caches.open("transformers-cache")}catch(F){console.warn("An error occurred while opening the browser cache:",F)}}if(!r&&i.env.useFSCache){var y;if(!i.apis.IS_FS_AVAILABLE)throw Error("File System Cache is not available in this environment.");r=new m(null!==(y=l.cache_dir)&&void 0!==y?y:i.env.cacheDir)}const v=null!==(n=l.revision)&&void 0!==n?n:"main",w=b(e,t),_=function(e){return!!h.test(e)&&!e.includes("..")&&!e.includes("--")&&!e.endsWith(".git")&&!e.endsWith(".ipynb")}(e),x=_?b(i.env.localModelPath,w):w,k=b(i.env.remoteHost,i.env.remotePathTemplate.replaceAll("{model}",e).replaceAll("{revision}",encodeURIComponent(v)),t);let T;const D=r instanceof m?"main"===v?w:b(e,v,t):k;let A,C=!1;r&&(A=await async function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(let r of n)try{let t=await e.match(r);if(t)return t}catch(F){continue}}(r,x,D));const S=void 0!==A;if(void 0===A){if(i.env.allowLocalModels){if(d(w,["http:","https:"])){if(l.local_files_only)throw new Error("`local_files_only=true`, but attempted to load a remote file from: ".concat(w,"."));if(!i.env.allowRemoteModels)throw new Error("`env.allowRemoteModels=false`, but attempted to load a remote file from: ".concat(w,"."))}else try{A=await p(x),T=x}catch(F){console.warn('Unable to load from local path "'.concat(x,'": "').concat(F,'"'))}}if(void 0===A||404===A.status){if(l.local_files_only||!i.env.allowRemoteModels){if(s)throw Error('`local_files_only=true` or `env.allowRemoteModels=false` and file was not found locally at "'.concat(x,'".'));return null}if(!_)throw Error('Local file missing at "'.concat(x,'" and download aborted due to invalid model ID "').concat(e,'".'));if(A=await p(k),200!==A.status)return function(e,t,n){var a;if(!n)return null;const r=null!==(a=f[e])&&void 0!==a?a:"Error (".concat(e,") occurred while trying to load file");throw Error("".concat(r,': "').concat(t,'".'))}(A.status,k,s);T=D}C=r&&"undefined"!==typeof Response&&A instanceof Response&&200===A.status}let E;if((0,o.dispatchCallback)(l.progress_callback,{status:"download",name:e,file:t}),!i.apis.IS_NODE_ENV||!g){let n;l.progress_callback?S&&"undefined"!==typeof navigator&&/firefox/i.test(navigator.userAgent)?(n=new Uint8Array(await A.arrayBuffer()),(0,o.dispatchCallback)(l.progress_callback,{status:"progress",name:e,file:t,progress:100,loaded:n.length,total:n.length})):n=await async function(e,t){const n=e.headers.get("Content-Length");null===n&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let a=parseInt(null!==n&&void 0!==n?n:"0"),r=new Uint8Array(a),i=0;const o=e.body.getReader();async function s(){const{done:e,value:n}=await o.read();if(e)return;const l=i+n.length;if(l>a){a=l;const e=new Uint8Array(a);e.set(r),r=e}r.set(n,i),i=l;return t({progress:i/a*100,loaded:i,total:a}),s()}return await s(),r}(A,(n=>{(0,o.dispatchCallback)(l.progress_callback,u({status:"progress",name:e,file:t},n))})):n=new Uint8Array(await A.arrayBuffer()),E=n}if(C&&T&&void 0===await r.match(T)&&(E?await r.put(T,new Response(E,{headers:A.headers})).catch((e=>{console.warn("Unable to add response to browser cache: ".concat(e,"."))})):await r.put(T,A,l.progress_callback)),(0,o.dispatchCallback)(l.progress_callback,{status:"done",name:e,file:t}),E){if(!i.apis.IS_NODE_ENV&&g)throw new Error("Cannot return path in a browser environment.");return E}if(A instanceof c)return A.filePath;const M=await(null===(a=r)||void 0===a?void 0:a.match(T));if(M instanceof c)return M.filePath;if(M instanceof Response)return new Uint8Array(await M.arrayBuffer());if("string"===typeof M)return M;throw new Error("Unable to get model file path or buffer.")}async function y(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=await g(e,t,n,a,!1);if(null===r)return{};const i=new TextDecoder("utf-8").decode(r);return JSON.parse(i)}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=t.map(((e,n)=>(n&&(e=e.replace(new RegExp("^/"),"")),n!==t.length-1&&(e=e.replace(new RegExp("/$"),"")),e))),t.join("/")}},"./src/utils/image.js":(e,t,n)=>{n.r(t),n.d(t,{RawImage:()=>f,load_image:()=>m});var a=n("./src/utils/core.js"),r=n("./src/utils/hub.js"),i=n("./src/env.js"),o=n("./src/utils/tensor.js"),s=n("?2b25");let l,c,u;const d=i.apis.IS_BROWSER_ENV||i.apis.IS_WEBWORKER_ENV;if(d)l=(e,t)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(e,t)},u=self.createImageBitmap,c=self.ImageData;else{if(!s)throw new Error("Unable to load image processing library.");u=async e=>{const t=(await e.metadata()).channels,{data:n,info:a}=await e.rotate().raw().toBuffer({resolveWithObject:!0}),r=new f(new Uint8ClampedArray(n),a.width,a.height,a.channels);return void 0!==t&&t!==a.channels&&r.convert(t),r}}const h={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},p=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class f{constructor(e,t,n,a){this.data=e,this.width=t,this.height=n,this.channels=a}get size(){return[this.width,this.height]}static async read(e){if(e instanceof f)return e;if("string"===typeof e||e instanceof URL)return await this.fromURL(e);if(e instanceof Blob)return await this.fromBlob(e);if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return this.fromCanvas(e);throw new Error("Unsupported input type: ".concat(typeof e))}static fromCanvas(e){if(!d)throw new Error("fromCanvas() is only supported in browser environments.");const t=e.getContext("2d").getImageData(0,0,e.width,e.height).data;return new f(t,e.width,e.height,4)}static async fromURL(e){const t=await(0,r.getFile)(e);if(200!==t.status)throw new Error('Unable to read image from "'.concat(e,'" (').concat(t.status," ").concat(t.statusText,")"));const n=await t.blob();return this.fromBlob(n)}static async fromBlob(e){if(d){const t=await u(e),n=l(t.width,t.height).getContext("2d");return n.drawImage(t,0,0),new this(n.getImageData(0,0,t.width,t.height).data,t.width,t.height,4)}{const t=s(await e.arrayBuffer());return await u(t)}}static fromTensor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CHW";if(3!==e.dims.length)throw new Error("Tensor should have 3 dimensions, but has ".concat(e.dims.length," dimensions."));if("CHW"===t)e=e.transpose(1,2,0);else if("HWC"!==t)throw new Error("Unsupported channel format: ".concat(t));if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error("Unsupported tensor type: ".concat(e.type));switch(e.dims[2]){case 1:case 2:case 3:case 4:return new f(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error("Unsupported number of channels: ".concat(e.dims[2]))}}grayscale(){if(1===this.channels)return this;const e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let t=0,n=0;t<this.data.length;t+=this.channels){const a=this.data[t],r=this.data[t+1],i=this.data[t+2];e[n++]=Math.round(.2989*a+.587*r+.114*i)}break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,1)}rgb(){if(3===this.channels)return this;const e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t];break;case 4:for(let t=0,n=0;t<this.data.length;t+=4)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2];break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,3)}rgba(){if(4===this.channels)return this;const e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=255;break;case 3:for(let t=0,n=0;t<this.data.length;t+=3)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2],e[n++]=255;break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,4)}putAlpha(e){if(e.width!==this.width||e.height!==this.height)throw new Error("Expected mask size to be ".concat(this.width,"x").concat(this.height,", but got ").concat(e.width,"x").concat(e.height));if(1!==e.channels)throw new Error("Expected mask to have 1 channel, but got ".concat(e.channels));const t=this.data,n=e.data,a=this.width*this.height;if(3===this.channels){const e=new Uint8ClampedArray(4*a);for(let r=0,i=0,o=0;r<a;++r)e[o++]=t[i++],e[o++]=t[i++],e[o++]=t[i++],e[o++]=n[r];return this._update(e,this.width,this.height,4)}if(4===this.channels){for(let e=0;e<a;++e)t[4*e+3]=n[e];return this}throw new Error("Expected image to have 3 or 4 channels, but got ".concat(this.channels))}async resize(e,t){var n;let{resample:r=2}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.width===e&&this.height===t)return this;let i=null!==(n=h[r])&&void 0!==n?n:r;const o=(0,a.isNullishDimension)(e),s=(0,a.isNullishDimension)(t);if(o&&s)return this;if(o?e=t/this.height*this.width:s&&(t=e/this.width*this.height),d){const n=this.channels,a=this.toCanvas(),r=l(e,t).getContext("2d");r.drawImage(a,0,0,e,t);return new f(r.getImageData(0,0,e,t).data,e,t,4).convert(n)}{let n=this.toSharp();switch(i){case"box":case"hamming":"box"!==i&&"hamming"!==i||(console.warn("Resampling method ".concat(i," is not yet supported. Using bilinear instead.")),i="bilinear");case"nearest":case"bilinear":case"bicubic":n=n.affine([e/this.width,0,0,t/this.height],{interpolator:i});break;case"lanczos":n=n.resize({width:e,height:t,fit:"fill",kernel:"lanczos3"});break;default:throw new Error("Resampling method ".concat(i," is not supported."))}return await u(n)}}async pad(e){let[t,n,a,r]=e;if(t=Math.max(t,0),n=Math.max(n,0),a=Math.max(a,0),r=Math.max(r,0),0===t&&0===n&&0===a&&0===r)return this;if(d){const e=this.channels,i=this.toCanvas(),o=this.width+t+n,s=this.height+a+r,c=l(o,s).getContext("2d");c.drawImage(i,0,0,this.width,this.height,t,a,this.width,this.height);return new f(c.getImageData(0,0,o,s).data,o,s,4).convert(e)}{const e=this.toSharp().extend({left:t,right:n,top:a,bottom:r});return await u(e)}}async crop(e){let[t,n,a,r]=e;if(t=Math.max(t,0),n=Math.max(n,0),a=Math.min(a,this.width-1),r=Math.min(r,this.height-1),0===t&&0===n&&a===this.width-1&&r===this.height-1)return this;const i=a-t+1,o=r-n+1;if(d){const e=this.channels,a=this.toCanvas(),r=l(i,o).getContext("2d");r.drawImage(a,t,n,i,o,0,0,i,o);return new f(r.getImageData(0,0,i,o).data,i,o,4).convert(e)}{const e=this.toSharp().extract({left:t,top:n,width:i,height:o});return await u(e)}}async center_crop(e,t){if(this.width===e&&this.height===t)return this;const n=(this.width-e)/2,a=(this.height-t)/2;if(d){const r=this.channels,i=this.toCanvas(),o=l(e,t).getContext("2d");let s=0,c=0,u=0,d=0;n>=0?s=n:u=-n,a>=0?c=a:d=-a,o.drawImage(i,s,c,e,t,u,d,e,t);return new f(o.getImageData(0,0,e,t).data,e,t,4).convert(r)}{let r=this.toSharp();if(n>=0&&a>=0)r=r.extract({left:Math.floor(n),top:Math.floor(a),width:e,height:t});else if(n<=0&&a<=0){const i=Math.floor(-a),o=Math.floor(-n);r=r.extend({top:i,left:o,right:e-this.width-o,bottom:t-this.height-i})}else{let i=[0,0],o=0;a<0?(i[0]=Math.floor(-a),i[1]=t-this.height-i[0]):o=Math.floor(a);let s=[0,0],l=0;n<0?(s[0]=Math.floor(-n),s[1]=e-this.width-s[0]):l=Math.floor(n),r=r.extend({top:i[0],bottom:i[1],left:s[0],right:s[1]}).extract({left:l,top:o,width:e,height:t})}return await u(r)}}async toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!d)throw new Error("toBlob() is only supported in browser environments.");const n=this.toCanvas();return await n.convertToBlob({type:e,quality:t})}toTensor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CHW",t=new o.Tensor("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if("HWC"===e);else{if("CHW"!==e)throw new Error("Unsupported channel format: ".concat(e));t=t.permute(2,0,1)}return t}toCanvas(){if(!d)throw new Error("toCanvas() is only supported in browser environments.");const e=this.clone().rgba(),t=l(e.width,e.height),n=new c(e.data,e.width,e.height);return t.getContext("2d").putImageData(n,0,0),t}split(){const{data:e,width:t,height:n,channels:a}=this,r=e.constructor,i=e.length/a,o=Array.from({length:a},(()=>new r(i)));for(let s=0;s<i;++s){const t=a*s;for(let n=0;n<a;++n)o[n][s]=e[t+n]}return o.map((e=>new f(e,t,n,1)))}_update(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.data=e,this.width=t,this.height=n,null!==a&&(this.channels=a),this}clone(){return new f(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this}async save(e){if(!d){if(i.apis.IS_FS_AVAILABLE){const t=this.toSharp();return await t.toFile(e)}throw new Error("Unable to save the image because filesystem is disabled in this environment.")}{var t;if(i.apis.IS_WEBWORKER_ENV)throw new Error("Unable to save an image from a Web Worker.");const n=e.split(".").pop().toLowerCase(),r=null!==(t=p.get(n))&&void 0!==t?t:"image/png",o=await this.toBlob(r);(0,a.saveBlob)(e,o)}}toSharp(){if(d)throw new Error("toSharp() is only supported in server-side environments.");return s(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}const m=f.read.bind(f)},"./src/utils/maths.js":(e,t,n)=>{function a(e,t,n){let[a,r,i]=t,[o,s]=n;const l=s/i,c=o/r,u=new e.constructor(o*s*a),d=r*i,h=o*s;for(let p=0;p<o;++p)for(let t=0;t<s;++t){const n=p*s+t,o=(t+.5)/l-.5,f=(p+.5)/c-.5;let m=Math.floor(o),g=Math.floor(f);const y=Math.min(m+1,i-1),b=Math.min(g+1,r-1);m=Math.max(m,0),g=Math.max(g,0);const v=o-m,w=f-g,_=(1-v)*(1-w),x=v*(1-w),k=(1-v)*w,T=v*w,D=g*i,A=b*i,C=D+m,S=D+y,E=A+m,F=A+y;for(let t=0;t<a;++t){const a=t*d;u[t*h+n]=_*e[a+C]+x*e[a+S]+k*e[a+E]+T*e[a+F]}}return u}function r(e,t,n){const a=new Array(n.length),r=new Array(n.length);for(let s=n.length-1,l=1;s>=0;--s)r[s]=l,a[s]=t[n[s]],l*=a[s];const i=n.map(((e,t)=>r[n.indexOf(t)])),o=new e.constructor(e.length);for(let s=0;s<e.length;++s){let n=0;for(let e=t.length-1,a=s;e>=0;--e)n+=a%t[e]*i[e],a=Math.floor(a/t[e]);o[n]=e[s]}return[o,a]}function i(e){const t=d(e)[0],n=e.map((e=>Math.exp(e-t))),a=n.reduce(((e,t)=>e+t),0),r=n.map((e=>e/a));return r}function o(e){const t=d(e)[0];let n=0;for(let i=0;i<e.length;++i)n+=Math.exp(e[i]-t);const a=Math.log(n),r=e.map((e=>e-t-a));return r}function s(e,t){let n=0;for(let a=0;a<e.length;++a)n+=e[a]*t[a];return n}function l(e,t){return s(e,t)/(c(e)*c(t))}function c(e){return Math.sqrt(e.reduce(((e,t)=>e+t*t),0))}function u(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let a=1;a<e.length;++a)e[a]<t&&(t=e[a],n=a);return[t,n]}function d(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let a=1;a<e.length;++a)e[a]>t&&(t=e[a],n=a);return[t,n]}function h(e){return e>0&&0===(e&e-1)}n.r(t),n.d(t,{FFT:()=>m,bankers_round:()=>b,cos_sim:()=>l,dot:()=>s,dynamic_time_warping:()=>v,interpolate_data:()=>a,log_softmax:()=>o,magnitude:()=>c,max:()=>d,medianFilter:()=>g,min:()=>u,permute_data:()=>r,round:()=>y,softmax:()=>i});class p{constructor(e){if(this.size=0|e,this.size<=1||!h(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(2*this.size);for(let n=0;n<this.table.length;n+=2){const e=Math.PI*n/this.size;this.table[n]=Math.cos(e),this.table[n+1]=-Math.sin(e)}let t=0;for(let n=1;this.size>n;n<<=1)++t;this._width=t%2===0?t-1:t,this._bitrev=new Int32Array(1<<this._width);for(let n=0;n<this._bitrev.length;++n){this._bitrev[n]=0;for(let e=0;e<this._width;e+=2){const t=this._width-e-2;this._bitrev[n]|=(n>>>e&3)<<t}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,t){const n=t||new Array(e.length>>>1);for(let a=0;a<e.length;a+=2)n[a>>>1]=e[a];return n}toComplexArray(e,t){const n=t||this.createComplexArray();for(let a=0;a<n.length;a+=2)n[a]=e[a>>>1],n[a+1]=0;return n}transform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,1)}realTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._realTransform4(e,t,1)}inverseTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,-1);for(let n=0;n<e.length;++n)e[n]/=this.size}_transform4(e,t,n){const a=this._csize;let r,i,o=1<<this._width,s=a/o<<1;const l=this._bitrev;if(4===s)for(r=0,i=0;r<a;r+=s,++i){const n=l[i];this._singleTransform2(t,e,r,n,o)}else for(r=0,i=0;r<a;r+=s,++i){const a=l[i];this._singleTransform4(t,e,r,a,o,n)}const c=this.table;for(o>>=2;o>=2;o>>=2){s=a/o<<1;const t=s>>>2;for(r=0;r<a;r+=s){const a=r+t-1;for(let i=r,s=0;i<a;i+=2,s+=o){const a=i,r=a+t,o=r+t,l=o+t,u=e[a],d=e[a+1],h=e[r],p=e[r+1],f=e[o],m=e[o+1],g=e[l],y=e[l+1],b=c[s],v=n*c[s+1],w=h*b-p*v,_=h*v+p*b,x=c[2*s],k=n*c[2*s+1],T=f*x-m*k,D=f*k+m*x,A=c[3*s],C=n*c[3*s+1],S=g*A-y*C,E=g*C+y*A,F=u+T,M=d+D,I=u-T,z=d-D,P=w+S,N=_+E,O=n*(w-S),B=n*(_-E);e[a]=F+P,e[a+1]=M+N,e[r]=I+B,e[r+1]=z-O,e[o]=F-P,e[o+1]=M-N,e[l]=I-B,e[l+1]=z+O}}}}_singleTransform2(e,t,n,a,r){const i=e[a],o=e[a+1],s=e[a+r],l=e[a+r+1];t[n]=i+s,t[n+1]=o+l,t[n+2]=i-s,t[n+3]=o-l}_singleTransform4(e,t,n,a,r,i){const o=2*r,s=3*r,l=e[a],c=e[a+1],u=e[a+r],d=e[a+r+1],h=e[a+o],p=e[a+o+1],f=e[a+s],m=e[a+s+1],g=l+h,y=c+p,b=l-h,v=c-p,w=u+f,_=d+m,x=i*(u-f),k=i*(d-m);t[n]=g+w,t[n+1]=y+_,t[n+2]=b+k,t[n+3]=v-x,t[n+4]=g-w,t[n+5]=y-_,t[n+6]=b-k,t[n+7]=v+x}_realTransform4(e,t,n){const a=this._csize;let r,i,o=1<<this._width,s=a/o<<1;const l=this._bitrev;if(4===s)for(r=0,i=0;r<a;r+=s,++i){const n=l[i];this._singleRealTransform2(t,e,r,n>>>1,o>>>1)}else for(r=0,i=0;r<a;r+=s,++i){const a=l[i];this._singleRealTransform4(t,e,r,a>>>1,o>>>1,n)}const c=this.table;for(o>>=2;o>=2;o>>=2){s=a/o<<1;const t=s>>>1,i=t>>>1,l=i>>>1;for(r=0;r<a;r+=s)for(let a=0,s=0;a<=l;a+=2,s+=o){const o=r+a,u=o+i,d=u+i,h=d+i,p=e[o],f=e[o+1],m=e[u],g=e[u+1],y=e[d],b=e[d+1],v=e[h],w=e[h+1],_=p,x=f,k=c[s],T=n*c[s+1],D=m*k-g*T,A=m*T+g*k,C=c[2*s],S=n*c[2*s+1],E=y*C-b*S,F=y*S+b*C,M=c[3*s],I=n*c[3*s+1],z=v*M-w*I,P=v*I+w*M,N=_+E,O=x+F,B=_-E,L=x-F,R=D+z,j=A+P,V=n*(D-z),q=n*(A-P);if(e[o]=N+R,e[o+1]=O+j,e[u]=B+q,e[u+1]=L-V,0===a){e[d]=N-R,e[d+1]=O-j;continue}if(a===l)continue;const U=r+i-a,G=r+t-a;e[U]=B-n*q,e[U+1]=-L-n*V,e[G]=N-n*R,e[G+1]=n*j-O}}const u=a>>>1;for(let d=2;d<u;d+=2)e[a-d]=e[d],e[a-d+1]=-e[d+1]}_singleRealTransform2(e,t,n,a,r){const i=e[a],o=e[a+r];t[n]=i+o,t[n+1]=0,t[n+2]=i-o,t[n+3]=0}_singleRealTransform4(e,t,n,a,r,i){const o=2*r,s=3*r,l=e[a],c=e[a+r],u=e[a+o],d=e[a+s],h=l+u,p=l-u,f=c+d,m=i*(c-d);t[n]=h+f,t[n+1]=0,t[n+2]=p,t[n+3]=-m,t[n+4]=h-f,t[n+5]=0,t[n+6]=p,t[n+7]=m}}class f{constructor(e){const t=2*(e-1),n=2*(2*e-1),a=2**Math.ceil(Math.log2(n));this.bufferSize=a,this._a=t;const r=new Float64Array(n),i=new Float64Array(a);this._chirpBuffer=new Float64Array(a),this._buffer1=new Float64Array(a),this._buffer2=new Float64Array(a),this._outBuffer1=new Float64Array(a),this._outBuffer2=new Float64Array(a);const o=-2*Math.PI/e,s=Math.cos(o),l=Math.sin(o);for(let c=0;c<n>>1;++c){const t=(c+1-e)**2/2,n=Math.sqrt(s**2+l**2)**t,a=t*Math.atan2(l,s),o=2*c;r[o]=n*Math.cos(a),r[o+1]=n*Math.sin(a),i[o]=r[o],i[o+1]=-r[o+1]}this._slicedChirpBuffer=r.subarray(t,n),this._f=new p(a>>1),this._f.transform(this._chirpBuffer,i)}_transform(e,t,n){const a=this._buffer1,r=this._buffer2,i=this._outBuffer1,o=this._outBuffer2,s=this._chirpBuffer,l=this._slicedChirpBuffer,c=this._a;if(n)for(let u=0;u<l.length;u+=2){const e=u+1,n=t[u>>1];a[u]=n*l[u],a[e]=n*l[e]}else for(let u=0;u<l.length;u+=2){const e=u+1;a[u]=t[u]*l[u]-t[e]*l[e],a[e]=t[u]*l[e]+t[e]*l[u]}this._f.transform(i,a);for(let u=0;u<s.length;u+=2){const e=u+1;r[u]=i[u]*s[u]-i[e]*s[e],r[e]=i[u]*s[e]+i[e]*s[u]}this._f.inverseTransform(o,r);for(let u=0;u<o.length;u+=2){const t=o[u+c],n=o[u+c+1],a=l[u],r=l[u+1];e[u]=t*a-n*r,e[u+1]=t*r+n*a}}transform(e,t){this._transform(e,t,!1)}realTransform(e,t){this._transform(e,t,!0)}}class m{constructor(e){this.fft_length=e,this.isPowerOfTwo=h(e),this.isPowerOfTwo?(this.fft=new p(e),this.outputBufferSize=2*e):(this.fft=new f(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,t){this.fft.realTransform(e,t)}transform(e,t){this.fft.transform(e,t)}}function g(e,t){if(t%2===0||t<=0)throw new Error("Window size must be a positive odd number");const n=new e.constructor(e.length),a=new e.constructor(t),r=Math.floor(t/2);for(let i=0;i<e.length;++i){let t=0;for(let n=-r;n<=r;++n){let r=i+n;r<0?r=Math.abs(r):r>=e.length&&(r=2*(e.length-1)-r),a[t++]=e[r]}a.sort(),n[i]=a[r]}return n}function y(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function b(e){const t=Math.round(e);return Math.abs(e)%1===.5?t%2===0?t:t-1:t}function v(e){const t=e.length,n=e[0].length,a=[t+1,n+1],r=Array.from({length:a[0]},(()=>Array(a[1]).fill(1/0)));r[0][0]=0;const i=Array.from({length:a[0]},(()=>Array(a[1]).fill(-1)));for(let u=1;u<a[1];++u)for(let t=1;t<a[0];++t){const n=r[t-1][u-1],a=r[t-1][u],o=r[t][u-1];let s,l;n<a&&n<o?(s=n,l=0):a<n&&a<o?(s=a,l=1):(s=o,l=2),r[t][u]=e[t-1][u-1]+s,i[t][u]=l}for(let u=0;u<a[1];++u)i[0][u]=2;for(let u=0;u<a[0];++u)i[u][0]=1;let o=t,s=n,l=[],c=[];for(;o>0||s>0;)switch(l.push(o-1),c.push(s-1),i[o][s]){case 0:--o,--s;break;case 1:--o;break;case 2:--s;break;default:throw new Error("Internal error in dynamic time warping. Unexpected trace[".concat(o,", ").concat(s,"]. Please file a bug report."))}return l.reverse(),c.reverse(),[l,c]}},"./src/utils/tensor.js":(e,t,n)=>{n.r(t),n.d(t,{DataTypeMap:()=>o,Tensor:()=>s,cat:()=>x,full:()=>S,full_like:()=>E,interpolate:()=>u,interpolate_4d:()=>d,layer_norm:()=>b,matmul:()=>h,mean:()=>A,mean_pooling:()=>y,ones:()=>F,ones_like:()=>M,permute:()=>c,quantize_embeddings:()=>N,rand:()=>P,rfft:()=>p,slice:()=>g,stack:()=>k,std_mean:()=>D,topk:()=>f,zeros:()=>I,zeros_like:()=>z});var a=n("./src/utils/maths.js"),r=n("./src/backends/onnx.js"),i=n("./src/ops/registry.js");const o=Object.freeze({float32:Float32Array,float16:"undefined"!==typeof Float16Array?Float16Array:Uint16Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array,uint4:Uint8Array,int4:Int8Array});class s{get dims(){return this.ort_tensor.dims}set dims(e){this.ort_tensor.dims=e}get type(){return this.ort_tensor.type}get data(){return this.ort_tensor.data}get size(){return this.ort_tensor.size}get location(){return this.ort_tensor.location}constructor(){return l(this,"ort_tensor",void 0),(0,r.isONNXTensor)(arguments.length<=0?void 0:arguments[0])?this.ort_tensor=arguments.length<=0?void 0:arguments[0]:this.ort_tensor=new r.Tensor(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),new Proxy(this,{get:(e,t)=>{if("string"===typeof t){let n=Number(t);if(Number.isInteger(n))return e._getitem(n)}return e[t]},set:(e,t,n)=>e[t]=n})}dispose(){this.ort_tensor.dispose()}*[Symbol.iterator](){const[e,...t]=this.dims;if(t.length>0){const n=t.reduce(((e,t)=>e*t));for(let a=0;a<e;++a)yield this._subarray(a,n,t)}else yield*this.data}_getitem(e){const[t,...n]=this.dims;if(e=_(e,t),n.length>0){const t=n.reduce(((e,t)=>e*t));return this._subarray(e,t,n)}return new s(this.type,[this.data[e]],n)}indexOf(e){const t=this.data;for(let n=0;n<t.length;++n)if(t[n]==e)return n;return-1}_subarray(e,t,n){const a=e*t,r=(e+1)*t,i="subarray"in this.data?this.data.subarray(a,r):this.data.slice(a,r);return new s(this.type,i,n)}item(){const e=this.data;if(1!==e.length)throw new Error("a Tensor with ".concat(e.length," elements cannot be converted to Scalar"));return e[0]}tolist(){return function(e,t){const n=e.length,a=t.reduce(((e,t)=>e*t));if(n!==a)throw Error("cannot reshape array of size ".concat(n," into shape (").concat(t,")"));let r=e;for(let i=t.length-1;i>=0;i--)r=r.reduce(((e,n)=>{let a=e[e.length-1];return a.length<t[i]?a.push(n):e.push([n]),e}),[[]]);return r[0]}(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){const e=this.data;for(let t=0;t<e.length;++t)e[t]=1/(1+Math.exp(-e[t]));return this}map(e){return this.clone().map_(e)}map_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]=e(t[n],n,t);return this}mul(e){return this.clone().mul_(e)}mul_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]*=e;return this}div(e){return this.clone().div_(e)}div_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]/=e;return this}add(e){return this.clone().add_(e)}add_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]+=e;return this}sub(e){return this.clone().sub_(e)}sub_(e){const t=this.data;for(let n=0;n<t.length;++n)t[n]-=e;return this}clone(){return new s(this.type,this.data.slice(),this.dims.slice())}slice(){const e=[],t=[];for(let s=0;s<this.dims.length;++s){let n=s<0||arguments.length<=s?void 0:arguments[s];if(null===n||void 0===n)t.push([0,this.dims[s]]),e.push(this.dims[s]);else if("number"===typeof n)n=_(n,this.dims[s],s),t.push([n,n+1]);else{if(!Array.isArray(n)||2!==n.length)throw new Error("Invalid slice: ".concat(n));{let[a,r]=n;if(a=null===a?0:_(a,this.dims[s],s,!1),r=null===r?this.dims[s]:_(r,this.dims[s],s,!1),a>r)throw new Error("Invalid slice: ".concat(n));const i=[Math.max(a,0),Math.min(r,this.dims[s])];t.push(i),e.push(i[1]-i[0])}}}const n=t.map((e=>{let[t,n]=e;return n-t})),a=n.reduce(((e,t)=>e*t)),r=this.data,i=new r.constructor(a),o=this.stride();for(let s=0;s<a;++s){let e=0;for(let a=n.length-1,r=s;a>=0;--a){const i=n[a];e+=(r%i+t[a][0])*o[a],r=Math.floor(r/i)}i[s]=r[e]}return new s(this.type,i,e)}permute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(this,t)}transpose(){return this.permute(...arguments)}sum(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.norm(1,e,t)}norm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fro",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("fro"===e)e=2;else if("string"===typeof e)throw Error("Unsupported norm: ".concat(e));const a=this.data,r=(t,n)=>t+n**e;if(null===t){const t=a.reduce(r,0)**(1/e);return new s(this.type,[t],[])}const[i,o,l]=T(r,this,t,n);if(1!==e)for(let s=0;s<o.length;++s)o[s]=o[s]**(1/e);return new s(i,o,l)}normalize_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=_(t,this.dims.length);const n=this.norm(e,t,!0),a=this.data,r=n.data;for(let i=0;i<a.length;++i){let e=0;for(let n=this.dims.length-1,a=i,r=1;n>=0;--n){const i=this.dims[n];if(n!==t){e+=a%i*r,r*=this.dims[n]}a=Math.floor(a/i)}a[i]/=r[e]}return this}normalize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.clone().normalize_(e,t)}stride(){return function(e){const t=new Array(e.length);for(let n=e.length-1,a=1;n>=0;--n)t[n]=a,a*=e[n];return t}(this.dims)}squeeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new s(this.type,this.data,v(this.dims,e))}squeeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=v(this.dims,e),this}unsqueeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new s(this.type,this.data,w(this.dims,e))}unsqueeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=w(this.dims,e),this}flatten_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t=(t+this.dims.length)%this.dims.length;let n=this.dims.slice(0,e),a=this.dims.slice(e,t+1),r=this.dims.slice(t+1);return this.dims=[...n,a.reduce(((e,t)=>e*t),1),...r],this}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.clone().flatten_(e,t)}view(){let e=-1;for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(let i=0;i<n.length;++i)if(-1===n[i]){if(-1!==e)throw new Error("Only one dimension can be inferred");e=i}const r=this.data;if(-1!==e){const t=n.reduce(((t,n,a)=>a!==e?t*n:t),1);n[e]=r.length/t}return new s(this.type,r,n)}neg_(){const e=this.data;for(let t=0;t<e.length;++t)e[t]=-e[t];return this}neg(){return this.clone().neg_()}gt(e){const t=new Uint8Array(this.data.length),n=this.data;for(let a=0;a<n.length;++a)t[a]=n[a]>e?1:0;return new s("bool",t,this.dims)}lt(e){const t=new Uint8Array(this.data.length),n=this.data;for(let a=0;a<n.length;++a)t[a]=n[a]<e?1:0;return new s("bool",t,this.dims)}clamp_(e,t){const n=this.data;for(let a=0;a<n.length;++a)n[a]=Math.min(Math.max(n[a],e),t);return this}clamp(e,t){return this.clone().clamp_(e,t)}round_(){const e=this.data;for(let t=0;t<e.length;++t)e[t]=Math.round(e[t]);return this}round(){return this.clone().round_()}mean(){return A(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}min(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e){const e=(0,a.min)(this.data)[0];return new s(this.type,[e],[])}const[n,r,i]=T(((e,t)=>Math.min(e,t)),this,e,t,1/0);return new s(n,r,i)}max(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e){const e=(0,a.max)(this.data)[0];return new s(this.type,[e],[])}const[n,r,i]=T(((e,t)=>Math.max(e,t)),this,e,t,-1/0);return new s(n,r,i)}argmin(){if(null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null))throw new Error("`dim !== null` not yet implemented.");const e=(0,a.min)(this.data)[1];return new s("int64",[BigInt(e)],[])}argmax(){if(null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null))throw new Error("`dim !== null` not yet implemented.");const e=(0,a.max)(this.data)[1];return new s("int64",[BigInt(e)],[])}to(e){if(this.type===e)return this;if(!o.hasOwnProperty(e))throw new Error("Unsupported type: ".concat(e));let t;const n=["int64","uint64"].includes(this.type),a=["int64","uint64"].includes(e);return n&&!a?t=Number:!n&&a&&(t=BigInt),new s(e,o[e].from(this.data,t),this.dims)}}function c(e,t){const[n,r]=(0,a.permute_data)(e.data,e.dims,t);return new s(e.type,n,r)}function u(e,t){var n;let[r,i]=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bilinear",l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const c=null!==(n=e.dims.at(-3))&&void 0!==n?n:1,u=e.dims.at(-2),d=e.dims.at(-1);let h=(0,a.interpolate_data)(e.data,[c,u,d],[r,i],o,l);return new s(e.type,h,[c,r,i])}async function d(e){let t,n,{size:a=null,mode:r="bilinear"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(4!==e.dims.length)throw new Error("`interpolate_4d` currently only supports 4D input.");if(!a)throw new Error("`interpolate_4d` requires a `size` argument.");if(2===a.length)t=[...e.dims.slice(0,2),...a];else if(3===a.length)t=[e.dims[0],...a];else{if(4!==a.length)throw new Error("`size` must be of length 2, 3, or 4.");t=a}if("nearest"===r)n=await i.TensorOpRegistry.nearest_interpolate_4d;else if("bilinear"===r)n=await i.TensorOpRegistry.bilinear_interpolate_4d;else{if("bicubic"!==r)throw new Error("Unsupported mode: ".concat(r));n=await i.TensorOpRegistry.bicubic_interpolate_4d}const o=new s("int64",new BigInt64Array(t.map(BigInt)),[t.length]);return await n({x:e,s:o})}async function h(e,t){const n=await i.TensorOpRegistry.matmul;return await n({a:e,b:t})}async function p(e,t){const n=await i.TensorOpRegistry.rfft;return await n({x:e,a:t})}async function f(e,t){const n=await i.TensorOpRegistry.top_k;return t=null==t?e.dims.at(-1):Math.min(t,e.dims.at(-1)),await n({x:e,k:new s("int64",[BigInt(t)],[1])})}const m=e=>new s("int64",e,[e.length]);async function g(e,t,n,a,r){const o=await i.TensorOpRegistry.slice;return await o({x:e,s:m(t),e:m(n),a:m(a),t:m(null!==r&&void 0!==r?r:new Array(a.length).fill(1))})}function y(e,t){const n=e.data,a=t.data,r=[e.dims[0],e.dims[2]],i=new n.constructor(r[0]*r[1]),[o,l,c]=e.dims;let u=0;for(let s=0;s<o;++s){const e=s*c*l;for(let t=0;t<c;++t){let r=0,o=0;const d=s*l,h=e+t;for(let e=0;e<l;++e){const t=Number(a[d+e]);o+=t,r+=n[h+e*c]*t}const p=r/o;i[u++]=p}}return new s(e.type,i,r)}function b(e,t){let{eps:n=1e-5}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(2!==e.dims.length)throw new Error("`layer_norm` currently only supports 2D input.");const[a,r]=e.dims;if(1!==t.length&&t[0]!==r)throw new Error("`normalized_shape` must be a 1D array with shape `[input.dims[1]]`.");const[i,o]=D(e,1,0,!0),l=i.data,c=o.data,u=e.data,d=new u.constructor(u.length);for(let s=0;s<a;++s){const e=s*r;for(let t=0;t<r;++t){const a=e+t;d[a]=(u[a]-c[s])/(l[s]+n)}}return new s(e.type,d,e.dims)}function v(e,t){return e=e.slice(),null===t?e=e.filter((e=>1!==e)):"number"===typeof t?1===e[t]&&e.splice(t,1):Array.isArray(t)&&(e=e.filter(((e,n)=>1!==e||!t.includes(n)))),e}function w(e,t){return t=_(t,e.length+1),(e=e.slice()).splice(t,0,1),e}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e<-t||e>=t){if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])throw new Error("IndexError: index ".concat(e," is out of bounds for dimension").concat(null===n?"":" "+n," with size ").concat(t));return e<-t?0:t}return e<0&&(e=(e%t+t)%t),e}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=_(t,e[0].dims.length);const n=e[0].dims.slice();n[t]=e.reduce(((e,n)=>e+n.dims[t]),0);const a=n.reduce(((e,t)=>e*t),1),r=new e[0].data.constructor(a),i=e[0].type;if(0===t){let t=0;for(const n of e){const e=n.data;r.set(e,t),t+=e.length}}else{let a=0;for(let i=0;i<e.length;++i){const{data:o,dims:s}=e[i];for(let e=0;e<o.length;++e){let i=0;for(let r=s.length-1,o=e,l=1;r>=0;--r){const e=s[r];let c=o%e;r===t&&(c+=a),i+=c*l,l*=n[r],o=Math.floor(o/e)}r[i]=o[e]}a+=s[t]}}return new s(i,r,n)}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return x(e.map((e=>e.unsqueeze(t))),t)}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const i=t.data,o=t.dims;n=_(n,o.length);const s=o.slice();s[n]=1;const l=new i.constructor(i.length/o[n]);null!==r&&l.fill(r);for(let c=0;c<i.length;++c){let t=0;for(let e=o.length-1,a=c,r=1;e>=0;--e){const i=o[e];if(e!==n){t+=a%i*r,r*=s[e]}a=Math.floor(a/i)}l[t]=e(l[t],i[c],c,t)}return a||s.splice(n,1),[t.type,l,s]}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.data,i=e.dims;if(null===t){const t=r.reduce(((e,t)=>e+t),0),a=t/r.length,i=Math.sqrt(r.reduce(((e,t)=>e+(t-a)**2),0)/(r.length-n)),o=new s(e.type,[a],[]);return[new s(e.type,[i],[]),o]}t=_(t,i.length);const o=A(e,t,a),l=o.data,[c,u,d]=T(((e,t,n,a)=>e+(t-l[a])**2),e,t,a);for(let s=0;s<u.length;++s)u[s]=Math.sqrt(u[s]/(i[t]-n));return[new s(c,u,d),o]}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=e.dims,r=e.data;if(null===t){const t=r.reduce(((e,t)=>e+t),0);return new s(e.type,[t/r.length],[])}t=_(t,a.length);const[i,o,l]=T(((e,t)=>e+t),e,t,n);if(1!==a[t])for(let s=0;s<o.length;++s)o[s]/=a[t];return new s(i,o,l)}function C(e,t,n,a){const r=e.reduce(((e,t)=>e*t),1);return new s(n,new a(r).fill(t),e)}function S(e,t){let n,a;if("number"===typeof t)n="float32",a=Float32Array;else if("bigint"===typeof t)n="int64",a=BigInt64Array;else{if("boolean"!==typeof t)throw new Error("Unsupported data type: ".concat(typeof t));n="bool",a=Uint8Array}return C(e,t,n,a)}function E(e,t){return S(e.dims,t)}function F(e){return C(e,1n,"int64",BigInt64Array)}function M(e){return F(e.dims)}function I(e){return C(e,0n,"int64",BigInt64Array)}function z(e){return I(e.dims)}function P(e){const t=e.reduce(((e,t)=>e*t),1);return new s("float32",Float32Array.from({length:t},(()=>Math.random())),e)}function N(e,t){if(2!==e.dims.length)throw new Error("The tensor must have 2 dimensions");if(e.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(t))throw new Error("The precision must be either 'binary' or 'ubinary'");const n="binary"===t,a=n?"int8":"uint8",r=n?Int8Array:Uint8Array,i=e.data,o=new r(i.length/8);for(let s=0;s<i.length;++s){const e=i[s]>0?1:0,t=Math.floor(s/8),a=s%8;o[t]|=e<<7-a,n&&0===a&&(o[t]-=128)}return new s(a,o,[e.dims[0],e.dims[1]/8])}},"./src/utils/video.js":(e,t,n)=>{n.r(t),n.d(t,{RawVideo:()=>o,RawVideoFrame:()=>i,load_video:()=>s});var a=n("./src/utils/image.js"),r=n("./src/env.js");class i{constructor(e,t){this.image=e,this.timestamp=t}}class o{constructor(e,t){e.length>0&&e[0]instanceof a.RawImage&&(e=e.map(((n,a)=>new i(n,(a+1)/(e.length+1)*t)))),this.frames=e,this.duration=t}get width(){return this.frames[0].image.width}get height(){return this.frames[0].image.height}get fps(){return this.frames.length/this.duration}}async function s(e){let{num_frames:t=null,fps:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r.apis.IS_BROWSER_ENV)throw new Error("`load_video` is currently only supported in browser environments.");if(null==t&&null==n)throw new Error("Either num_frames or fps must be provided.");const s=[],l=document.createElement("video");if(l.crossOrigin="anonymous",l.muted=!0,"string"===typeof e)l.src=e;else if(e instanceof Blob)l.src=URL.createObjectURL(e);else{if(!(e instanceof HTMLVideoElement))throw new Error("Invalid URL or video element provided.");l.src=e.src}if(await new Promise((e=>l.onloadedmetadata=e)),l.seekable.start(0)===l.seekable.end(0)){const e=await fetch(l.src),t=await e.blob();l.src=URL.createObjectURL(t),await new Promise((e=>l.onloadedmetadata=e))}const c=l.duration;let u,d;null!=t?(u=t,d=1===t?0:c/(t-1)):(d=1/n,u=Math.floor(c/d));let h=[];for(let a=0;a<u;++a)h.push(1===t?c/2:a*d);const p=document.createElement("canvas");p.width=l.videoWidth,p.height=l.videoHeight;const f=p.getContext("2d",{willReadFrequently:!0});for(const r of h){l.currentTime=r,await new Promise((e=>{l.onseeked=e})),f.drawImage(l,0,0,p.width,p.height);const e=f.getImageData(0,0,p.width,p.height),t=new a.RawImage(e.data,p.width,p.height,4),n=new i(t,r);s.push(n)}return l.remove(),new o(s,c)}}},ih={};function oh(e){var t=ih[e];if(void 0!==t)return t.exports;var n=ih[e]={exports:{}};return rh[e](n,n.exports,oh),n.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;oh.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var r=Object.create(null);oh.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,oh.d(r,i),r}})(),oh.d=(e,t)=>{for(var n in t)oh.o(t,n)&&!oh.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},oh.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),oh.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var sh={};(()=>{oh.r(sh),oh.d(sh,{ASTFeatureExtractor:()=>d.ASTFeatureExtractor,ASTForAudioClassification:()=>n.ASTForAudioClassification,ASTModel:()=>n.ASTModel,ASTPreTrainedModel:()=>n.ASTPreTrainedModel,AlbertForMaskedLM:()=>n.AlbertForMaskedLM,AlbertForQuestionAnswering:()=>n.AlbertForQuestionAnswering,AlbertForSequenceClassification:()=>n.AlbertForSequenceClassification,AlbertModel:()=>n.AlbertModel,AlbertPreTrainedModel:()=>n.AlbertPreTrainedModel,AlbertTokenizer:()=>a.AlbertTokenizer,AudioClassificationPipeline:()=>t.AudioClassificationPipeline,AutoConfig:()=>r.AutoConfig,AutoFeatureExtractor:()=>h.AutoFeatureExtractor,AutoImageProcessor:()=>m.AutoImageProcessor,AutoModel:()=>n.AutoModel,AutoModelForAudioClassification:()=>n.AutoModelForAudioClassification,AutoModelForAudioFrameClassification:()=>n.AutoModelForAudioFrameClassification,AutoModelForAudioTextToText:()=>n.AutoModelForAudioTextToText,AutoModelForCTC:()=>n.AutoModelForCTC,AutoModelForCausalLM:()=>n.AutoModelForCausalLM,AutoModelForDepthEstimation:()=>n.AutoModelForDepthEstimation,AutoModelForDocumentQuestionAnswering:()=>n.AutoModelForDocumentQuestionAnswering,AutoModelForImageClassification:()=>n.AutoModelForImageClassification,AutoModelForImageFeatureExtraction:()=>n.AutoModelForImageFeatureExtraction,AutoModelForImageMatting:()=>n.AutoModelForImageMatting,AutoModelForImageSegmentation:()=>n.AutoModelForImageSegmentation,AutoModelForImageTextToText:()=>n.AutoModelForImageTextToText,AutoModelForImageToImage:()=>n.AutoModelForImageToImage,AutoModelForMaskGeneration:()=>n.AutoModelForMaskGeneration,AutoModelForMaskedLM:()=>n.AutoModelForMaskedLM,AutoModelForNormalEstimation:()=>n.AutoModelForNormalEstimation,AutoModelForObjectDetection:()=>n.AutoModelForObjectDetection,AutoModelForPoseEstimation:()=>n.AutoModelForPoseEstimation,AutoModelForQuestionAnswering:()=>n.AutoModelForQuestionAnswering,AutoModelForSemanticSegmentation:()=>n.AutoModelForSemanticSegmentation,AutoModelForSeq2SeqLM:()=>n.AutoModelForSeq2SeqLM,AutoModelForSequenceClassification:()=>n.AutoModelForSequenceClassification,AutoModelForSpeechSeq2Seq:()=>n.AutoModelForSpeechSeq2Seq,AutoModelForTextToSpectrogram:()=>n.AutoModelForTextToSpectrogram,AutoModelForTextToWaveform:()=>n.AutoModelForTextToWaveform,AutoModelForTokenClassification:()=>n.AutoModelForTokenClassification,AutoModelForUniversalSegmentation:()=>n.AutoModelForUniversalSegmentation,AutoModelForVision2Seq:()=>n.AutoModelForVision2Seq,AutoModelForXVector:()=>n.AutoModelForXVector,AutoModelForZeroShotObjectDetection:()=>n.AutoModelForZeroShotObjectDetection,AutoProcessor:()=>b.AutoProcessor,AutoTokenizer:()=>a.AutoTokenizer,AutomaticSpeechRecognitionPipeline:()=>t.AutomaticSpeechRecognitionPipeline,BackgroundRemovalPipeline:()=>t.BackgroundRemovalPipeline,BartForConditionalGeneration:()=>n.BartForConditionalGeneration,BartForSequenceClassification:()=>n.BartForSequenceClassification,BartModel:()=>n.BartModel,BartPretrainedModel:()=>n.BartPretrainedModel,BartTokenizer:()=>a.BartTokenizer,BaseModelOutput:()=>n.BaseModelOutput,BaseStreamer:()=>v.BaseStreamer,BeitFeatureExtractor:()=>f.BeitFeatureExtractor,BeitForImageClassification:()=>n.BeitForImageClassification,BeitModel:()=>n.BeitModel,BeitPreTrainedModel:()=>n.BeitPreTrainedModel,BertForMaskedLM:()=>n.BertForMaskedLM,BertForQuestionAnswering:()=>n.BertForQuestionAnswering,BertForSequenceClassification:()=>n.BertForSequenceClassification,BertForTokenClassification:()=>n.BertForTokenClassification,BertModel:()=>n.BertModel,BertPreTrainedModel:()=>n.BertPreTrainedModel,BertTokenizer:()=>a.BertTokenizer,BitImageProcessor:()=>f.BitImageProcessor,BlenderbotForConditionalGeneration:()=>n.BlenderbotForConditionalGeneration,BlenderbotModel:()=>n.BlenderbotModel,BlenderbotPreTrainedModel:()=>n.BlenderbotPreTrainedModel,BlenderbotSmallForConditionalGeneration:()=>n.BlenderbotSmallForConditionalGeneration,BlenderbotSmallModel:()=>n.BlenderbotSmallModel,BlenderbotSmallPreTrainedModel:()=>n.BlenderbotSmallPreTrainedModel,BlenderbotSmallTokenizer:()=>a.BlenderbotSmallTokenizer,BlenderbotTokenizer:()=>a.BlenderbotTokenizer,BloomForCausalLM:()=>n.BloomForCausalLM,BloomModel:()=>n.BloomModel,BloomPreTrainedModel:()=>n.BloomPreTrainedModel,BloomTokenizer:()=>a.BloomTokenizer,CLIPFeatureExtractor:()=>f.CLIPFeatureExtractor,CLIPImageProcessor:()=>f.CLIPImageProcessor,CLIPModel:()=>n.CLIPModel,CLIPPreTrainedModel:()=>n.CLIPPreTrainedModel,CLIPSegForImageSegmentation:()=>n.CLIPSegForImageSegmentation,CLIPSegModel:()=>n.CLIPSegModel,CLIPSegPreTrainedModel:()=>n.CLIPSegPreTrainedModel,CLIPTextModel:()=>n.CLIPTextModel,CLIPTextModelWithProjection:()=>n.CLIPTextModelWithProjection,CLIPTokenizer:()=>a.CLIPTokenizer,CLIPVisionModel:()=>n.CLIPVisionModel,CLIPVisionModelWithProjection:()=>n.CLIPVisionModelWithProjection,CamembertForMaskedLM:()=>n.CamembertForMaskedLM,CamembertForQuestionAnswering:()=>n.CamembertForQuestionAnswering,CamembertForSequenceClassification:()=>n.CamembertForSequenceClassification,CamembertForTokenClassification:()=>n.CamembertForTokenClassification,CamembertModel:()=>n.CamembertModel,CamembertPreTrainedModel:()=>n.CamembertPreTrainedModel,CamembertTokenizer:()=>a.CamembertTokenizer,CausalLMOutput:()=>n.CausalLMOutput,CausalLMOutputWithPast:()=>n.CausalLMOutputWithPast,ChineseCLIPFeatureExtractor:()=>f.ChineseCLIPFeatureExtractor,ChineseCLIPModel:()=>n.ChineseCLIPModel,ChineseCLIPPreTrainedModel:()=>n.ChineseCLIPPreTrainedModel,ClapAudioModelWithProjection:()=>n.ClapAudioModelWithProjection,ClapFeatureExtractor:()=>d.ClapFeatureExtractor,ClapModel:()=>n.ClapModel,ClapPreTrainedModel:()=>n.ClapPreTrainedModel,ClapTextModelWithProjection:()=>n.ClapTextModelWithProjection,ClassifierFreeGuidanceLogitsProcessor:()=>_.ClassifierFreeGuidanceLogitsProcessor,CodeGenForCausalLM:()=>n.CodeGenForCausalLM,CodeGenModel:()=>n.CodeGenModel,CodeGenPreTrainedModel:()=>n.CodeGenPreTrainedModel,CodeGenTokenizer:()=>a.CodeGenTokenizer,CodeLlamaTokenizer:()=>a.CodeLlamaTokenizer,CohereForCausalLM:()=>n.CohereForCausalLM,CohereModel:()=>n.CohereModel,CoherePreTrainedModel:()=>n.CoherePreTrainedModel,CohereTokenizer:()=>a.CohereTokenizer,ConvBertForMaskedLM:()=>n.ConvBertForMaskedLM,ConvBertForQuestionAnswering:()=>n.ConvBertForQuestionAnswering,ConvBertForSequenceClassification:()=>n.ConvBertForSequenceClassification,ConvBertForTokenClassification:()=>n.ConvBertForTokenClassification,ConvBertModel:()=>n.ConvBertModel,ConvBertPreTrainedModel:()=>n.ConvBertPreTrainedModel,ConvBertTokenizer:()=>a.ConvBertTokenizer,ConvNextFeatureExtractor:()=>f.ConvNextFeatureExtractor,ConvNextForImageClassification:()=>n.ConvNextForImageClassification,ConvNextImageProcessor:()=>f.ConvNextImageProcessor,ConvNextModel:()=>n.ConvNextModel,ConvNextPreTrainedModel:()=>n.ConvNextPreTrainedModel,ConvNextV2ForImageClassification:()=>n.ConvNextV2ForImageClassification,ConvNextV2Model:()=>n.ConvNextV2Model,ConvNextV2PreTrainedModel:()=>n.ConvNextV2PreTrainedModel,DFineForObjectDetection:()=>n.DFineForObjectDetection,DFineModel:()=>n.DFineModel,DFinePreTrainedModel:()=>n.DFinePreTrainedModel,DPTFeatureExtractor:()=>f.DPTFeatureExtractor,DPTForDepthEstimation:()=>n.DPTForDepthEstimation,DPTImageProcessor:()=>f.DPTImageProcessor,DPTModel:()=>n.DPTModel,DPTPreTrainedModel:()=>n.DPTPreTrainedModel,DacDecoderModel:()=>n.DacDecoderModel,DacDecoderOutput:()=>n.DacDecoderOutput,DacEncoderModel:()=>n.DacEncoderModel,DacEncoderOutput:()=>n.DacEncoderOutput,DacFeatureExtractor:()=>d.DacFeatureExtractor,DacModel:()=>n.DacModel,DacPreTrainedModel:()=>n.DacPreTrainedModel,DataTypeMap:()=>l.DataTypeMap,DebertaForMaskedLM:()=>n.DebertaForMaskedLM,DebertaForQuestionAnswering:()=>n.DebertaForQuestionAnswering,DebertaForSequenceClassification:()=>n.DebertaForSequenceClassification,DebertaForTokenClassification:()=>n.DebertaForTokenClassification,DebertaModel:()=>n.DebertaModel,DebertaPreTrainedModel:()=>n.DebertaPreTrainedModel,DebertaTokenizer:()=>a.DebertaTokenizer,DebertaV2ForMaskedLM:()=>n.DebertaV2ForMaskedLM,DebertaV2ForQuestionAnswering:()=>n.DebertaV2ForQuestionAnswering,DebertaV2ForSequenceClassification:()=>n.DebertaV2ForSequenceClassification,DebertaV2ForTokenClassification:()=>n.DebertaV2ForTokenClassification,DebertaV2Model:()=>n.DebertaV2Model,DebertaV2PreTrainedModel:()=>n.DebertaV2PreTrainedModel,DebertaV2Tokenizer:()=>a.DebertaV2Tokenizer,DecisionTransformerModel:()=>n.DecisionTransformerModel,DecisionTransformerPreTrainedModel:()=>n.DecisionTransformerPreTrainedModel,DeiTFeatureExtractor:()=>f.DeiTFeatureExtractor,DeiTForImageClassification:()=>n.DeiTForImageClassification,DeiTImageProcessor:()=>f.DeiTImageProcessor,DeiTModel:()=>n.DeiTModel,DeiTPreTrainedModel:()=>n.DeiTPreTrainedModel,DepthAnythingForDepthEstimation:()=>n.DepthAnythingForDepthEstimation,DepthAnythingPreTrainedModel:()=>n.DepthAnythingPreTrainedModel,DepthEstimationPipeline:()=>t.DepthEstimationPipeline,DepthProForDepthEstimation:()=>n.DepthProForDepthEstimation,DepthProPreTrainedModel:()=>n.DepthProPreTrainedModel,DetrFeatureExtractor:()=>f.DetrFeatureExtractor,DetrForObjectDetection:()=>n.DetrForObjectDetection,DetrForSegmentation:()=>n.DetrForSegmentation,DetrImageProcessor:()=>f.DetrImageProcessor,DetrModel:()=>n.DetrModel,DetrObjectDetectionOutput:()=>n.DetrObjectDetectionOutput,DetrPreTrainedModel:()=>n.DetrPreTrainedModel,DetrSegmentationOutput:()=>n.DetrSegmentationOutput,Dinov2ForImageClassification:()=>n.Dinov2ForImageClassification,Dinov2Model:()=>n.Dinov2Model,Dinov2PreTrainedModel:()=>n.Dinov2PreTrainedModel,Dinov2WithRegistersForImageClassification:()=>n.Dinov2WithRegistersForImageClassification,Dinov2WithRegistersModel:()=>n.Dinov2WithRegistersModel,Dinov2WithRegistersPreTrainedModel:()=>n.Dinov2WithRegistersPreTrainedModel,DistilBertForMaskedLM:()=>n.DistilBertForMaskedLM,DistilBertForQuestionAnswering:()=>n.DistilBertForQuestionAnswering,DistilBertForSequenceClassification:()=>n.DistilBertForSequenceClassification,DistilBertForTokenClassification:()=>n.DistilBertForTokenClassification,DistilBertModel:()=>n.DistilBertModel,DistilBertPreTrainedModel:()=>n.DistilBertPreTrainedModel,DistilBertTokenizer:()=>a.DistilBertTokenizer,DocumentQuestionAnsweringPipeline:()=>t.DocumentQuestionAnsweringPipeline,DonutFeatureExtractor:()=>f.DonutFeatureExtractor,DonutImageProcessor:()=>f.DonutImageProcessor,DonutSwinModel:()=>n.DonutSwinModel,DonutSwinPreTrainedModel:()=>n.DonutSwinPreTrainedModel,EfficientNetForImageClassification:()=>n.EfficientNetForImageClassification,EfficientNetImageProcessor:()=>f.EfficientNetImageProcessor,EfficientNetModel:()=>n.EfficientNetModel,EfficientNetPreTrainedModel:()=>n.EfficientNetPreTrainedModel,ElectraForMaskedLM:()=>n.ElectraForMaskedLM,ElectraForQuestionAnswering:()=>n.ElectraForQuestionAnswering,ElectraForSequenceClassification:()=>n.ElectraForSequenceClassification,ElectraForTokenClassification:()=>n.ElectraForTokenClassification,ElectraModel:()=>n.ElectraModel,ElectraPreTrainedModel:()=>n.ElectraPreTrainedModel,ElectraTokenizer:()=>a.ElectraTokenizer,EncodecFeatureExtractor:()=>d.EncodecFeatureExtractor,EosTokenCriteria:()=>w.EosTokenCriteria,EsmForMaskedLM:()=>n.EsmForMaskedLM,EsmForSequenceClassification:()=>n.EsmForSequenceClassification,EsmForTokenClassification:()=>n.EsmForTokenClassification,EsmModel:()=>n.EsmModel,EsmPreTrainedModel:()=>n.EsmPreTrainedModel,EsmTokenizer:()=>a.EsmTokenizer,ExaoneForCausalLM:()=>n.ExaoneForCausalLM,ExaoneModel:()=>n.ExaoneModel,ExaonePreTrainedModel:()=>n.ExaonePreTrainedModel,FFT:()=>c.FFT,FalconForCausalLM:()=>n.FalconForCausalLM,FalconModel:()=>n.FalconModel,FalconPreTrainedModel:()=>n.FalconPreTrainedModel,FalconTokenizer:()=>a.FalconTokenizer,FastViTForImageClassification:()=>n.FastViTForImageClassification,FastViTModel:()=>n.FastViTModel,FastViTPreTrainedModel:()=>n.FastViTPreTrainedModel,FeatureExtractionPipeline:()=>t.FeatureExtractionPipeline,FeatureExtractor:()=>u.FeatureExtractor,FillMaskPipeline:()=>t.FillMaskPipeline,Florence2ForConditionalGeneration:()=>n.Florence2ForConditionalGeneration,Florence2PreTrainedModel:()=>n.Florence2PreTrainedModel,Florence2Processor:()=>y.Florence2Processor,ForcedBOSTokenLogitsProcessor:()=>_.ForcedBOSTokenLogitsProcessor,ForcedEOSTokenLogitsProcessor:()=>_.ForcedEOSTokenLogitsProcessor,GLPNFeatureExtractor:()=>f.GLPNFeatureExtractor,GLPNForDepthEstimation:()=>n.GLPNForDepthEstimation,GLPNModel:()=>n.GLPNModel,GLPNPreTrainedModel:()=>n.GLPNPreTrainedModel,GPT2LMHeadModel:()=>n.GPT2LMHeadModel,GPT2Model:()=>n.GPT2Model,GPT2PreTrainedModel:()=>n.GPT2PreTrainedModel,GPT2Tokenizer:()=>a.GPT2Tokenizer,GPTBigCodeForCausalLM:()=>n.GPTBigCodeForCausalLM,GPTBigCodeModel:()=>n.GPTBigCodeModel,GPTBigCodePreTrainedModel:()=>n.GPTBigCodePreTrainedModel,GPTJForCausalLM:()=>n.GPTJForCausalLM,GPTJModel:()=>n.GPTJModel,GPTJPreTrainedModel:()=>n.GPTJPreTrainedModel,GPTNeoForCausalLM:()=>n.GPTNeoForCausalLM,GPTNeoModel:()=>n.GPTNeoModel,GPTNeoPreTrainedModel:()=>n.GPTNeoPreTrainedModel,GPTNeoXForCausalLM:()=>n.GPTNeoXForCausalLM,GPTNeoXModel:()=>n.GPTNeoXModel,GPTNeoXPreTrainedModel:()=>n.GPTNeoXPreTrainedModel,GPTNeoXTokenizer:()=>a.GPTNeoXTokenizer,Gemma2ForCausalLM:()=>n.Gemma2ForCausalLM,Gemma2Model:()=>n.Gemma2Model,Gemma2PreTrainedModel:()=>n.Gemma2PreTrainedModel,Gemma3ForCausalLM:()=>n.Gemma3ForCausalLM,Gemma3Model:()=>n.Gemma3Model,Gemma3PreTrainedModel:()=>n.Gemma3PreTrainedModel,GemmaForCausalLM:()=>n.GemmaForCausalLM,GemmaModel:()=>n.GemmaModel,GemmaPreTrainedModel:()=>n.GemmaPreTrainedModel,GemmaTokenizer:()=>a.GemmaTokenizer,GlmForCausalLM:()=>n.GlmForCausalLM,GlmModel:()=>n.GlmModel,GlmPreTrainedModel:()=>n.GlmPreTrainedModel,GraniteForCausalLM:()=>n.GraniteForCausalLM,GraniteModel:()=>n.GraniteModel,GranitePreTrainedModel:()=>n.GranitePreTrainedModel,Grok1Tokenizer:()=>a.Grok1Tokenizer,GroundingDinoForObjectDetection:()=>n.GroundingDinoForObjectDetection,GroundingDinoImageProcessor:()=>f.GroundingDinoImageProcessor,GroundingDinoPreTrainedModel:()=>n.GroundingDinoPreTrainedModel,GroundingDinoProcessor:()=>y.GroundingDinoProcessor,GroupViTModel:()=>n.GroupViTModel,GroupViTPreTrainedModel:()=>n.GroupViTPreTrainedModel,HeliumForCausalLM:()=>n.HeliumForCausalLM,HeliumModel:()=>n.HeliumModel,HeliumPreTrainedModel:()=>n.HeliumPreTrainedModel,HerbertTokenizer:()=>a.HerbertTokenizer,HieraForImageClassification:()=>n.HieraForImageClassification,HieraModel:()=>n.HieraModel,HieraPreTrainedModel:()=>n.HieraPreTrainedModel,HubertForCTC:()=>n.HubertForCTC,HubertForSequenceClassification:()=>n.HubertForSequenceClassification,HubertModel:()=>n.HubertModel,HubertPreTrainedModel:()=>n.HubertPreTrainedModel,IJepaForImageClassification:()=>n.IJepaForImageClassification,IJepaModel:()=>n.IJepaModel,IJepaPreTrainedModel:()=>n.IJepaPreTrainedModel,Idefics3ForConditionalGeneration:()=>n.Idefics3ForConditionalGeneration,Idefics3ImageProcessor:()=>f.Idefics3ImageProcessor,Idefics3PreTrainedModel:()=>n.Idefics3PreTrainedModel,Idefics3Processor:()=>y.Idefics3Processor,ImageClassificationPipeline:()=>t.ImageClassificationPipeline,ImageFeatureExtractionPipeline:()=>t.ImageFeatureExtractionPipeline,ImageFeatureExtractor:()=>d.ImageFeatureExtractor,ImageMattingOutput:()=>n.ImageMattingOutput,ImageProcessor:()=>p.ImageProcessor,ImageSegmentationPipeline:()=>t.ImageSegmentationPipeline,ImageToImagePipeline:()=>t.ImageToImagePipeline,ImageToTextPipeline:()=>t.ImageToTextPipeline,InterruptableStoppingCriteria:()=>w.InterruptableStoppingCriteria,JAISLMHeadModel:()=>n.JAISLMHeadModel,JAISModel:()=>n.JAISModel,JAISPreTrainedModel:()=>n.JAISPreTrainedModel,JinaCLIPImageProcessor:()=>f.JinaCLIPImageProcessor,JinaCLIPModel:()=>n.JinaCLIPModel,JinaCLIPPreTrainedModel:()=>n.JinaCLIPPreTrainedModel,JinaCLIPProcessor:()=>y.JinaCLIPProcessor,JinaCLIPTextModel:()=>n.JinaCLIPTextModel,JinaCLIPVisionModel:()=>n.JinaCLIPVisionModel,LiteWhisperForConditionalGeneration:()=>n.LiteWhisperForConditionalGeneration,LlamaForCausalLM:()=>n.LlamaForCausalLM,LlamaModel:()=>n.LlamaModel,LlamaPreTrainedModel:()=>n.LlamaPreTrainedModel,LlamaTokenizer:()=>a.LlamaTokenizer,LlavaForConditionalGeneration:()=>n.LlavaForConditionalGeneration,LlavaOnevisionForConditionalGeneration:()=>n.LlavaOnevisionForConditionalGeneration,LlavaOnevisionImageProcessor:()=>f.LlavaOnevisionImageProcessor,LlavaPreTrainedModel:()=>n.LlavaPreTrainedModel,LogitsProcessor:()=>_.LogitsProcessor,LogitsProcessorList:()=>_.LogitsProcessorList,LogitsWarper:()=>_.LogitsWarper,LongT5ForConditionalGeneration:()=>n.LongT5ForConditionalGeneration,LongT5Model:()=>n.LongT5Model,LongT5PreTrainedModel:()=>n.LongT5PreTrainedModel,M2M100ForConditionalGeneration:()=>n.M2M100ForConditionalGeneration,M2M100Model:()=>n.M2M100Model,M2M100PreTrainedModel:()=>n.M2M100PreTrainedModel,M2M100Tokenizer:()=>a.M2M100Tokenizer,MBart50Tokenizer:()=>a.MBart50Tokenizer,MBartForCausalLM:()=>n.MBartForCausalLM,MBartForConditionalGeneration:()=>n.MBartForConditionalGeneration,MBartForSequenceClassification:()=>n.MBartForSequenceClassification,MBartModel:()=>n.MBartModel,MBartPreTrainedModel:()=>n.MBartPreTrainedModel,MBartTokenizer:()=>a.MBartTokenizer,MPNetForMaskedLM:()=>n.MPNetForMaskedLM,MPNetForQuestionAnswering:()=>n.MPNetForQuestionAnswering,MPNetForSequenceClassification:()=>n.MPNetForSequenceClassification,MPNetForTokenClassification:()=>n.MPNetForTokenClassification,MPNetModel:()=>n.MPNetModel,MPNetPreTrainedModel:()=>n.MPNetPreTrainedModel,MPNetTokenizer:()=>a.MPNetTokenizer,MT5ForConditionalGeneration:()=>n.MT5ForConditionalGeneration,MT5Model:()=>n.MT5Model,MT5PreTrainedModel:()=>n.MT5PreTrainedModel,MarianMTModel:()=>n.MarianMTModel,MarianModel:()=>n.MarianModel,MarianPreTrainedModel:()=>n.MarianPreTrainedModel,MarianTokenizer:()=>a.MarianTokenizer,Mask2FormerImageProcessor:()=>f.Mask2FormerImageProcessor,MaskFormerFeatureExtractor:()=>f.MaskFormerFeatureExtractor,MaskFormerForInstanceSegmentation:()=>n.MaskFormerForInstanceSegmentation,MaskFormerImageProcessor:()=>f.MaskFormerImageProcessor,MaskFormerModel:()=>n.MaskFormerModel,MaskFormerPreTrainedModel:()=>n.MaskFormerPreTrainedModel,MaskedLMOutput:()=>n.MaskedLMOutput,MaxLengthCriteria:()=>w.MaxLengthCriteria,Metric3DForDepthEstimation:()=>n.Metric3DForDepthEstimation,Metric3DPreTrainedModel:()=>n.Metric3DPreTrainedModel,Metric3Dv2ForDepthEstimation:()=>n.Metric3Dv2ForDepthEstimation,Metric3Dv2PreTrainedModel:()=>n.Metric3Dv2PreTrainedModel,MgpstrForSceneTextRecognition:()=>n.MgpstrForSceneTextRecognition,MgpstrModelOutput:()=>n.MgpstrModelOutput,MgpstrPreTrainedModel:()=>n.MgpstrPreTrainedModel,MgpstrProcessor:()=>y.MgpstrProcessor,MgpstrTokenizer:()=>a.MgpstrTokenizer,MimiDecoderModel:()=>n.MimiDecoderModel,MimiDecoderOutput:()=>n.MimiDecoderOutput,MimiEncoderModel:()=>n.MimiEncoderModel,MimiEncoderOutput:()=>n.MimiEncoderOutput,MimiModel:()=>n.MimiModel,MimiPreTrainedModel:()=>n.MimiPreTrainedModel,MinLengthLogitsProcessor:()=>_.MinLengthLogitsProcessor,MinNewTokensLengthLogitsProcessor:()=>_.MinNewTokensLengthLogitsProcessor,MistralForCausalLM:()=>n.MistralForCausalLM,MistralModel:()=>n.MistralModel,MistralPreTrainedModel:()=>n.MistralPreTrainedModel,MobileBertForMaskedLM:()=>n.MobileBertForMaskedLM,MobileBertForQuestionAnswering:()=>n.MobileBertForQuestionAnswering,MobileBertForSequenceClassification:()=>n.MobileBertForSequenceClassification,MobileBertModel:()=>n.MobileBertModel,MobileBertPreTrainedModel:()=>n.MobileBertPreTrainedModel,MobileBertTokenizer:()=>a.MobileBertTokenizer,MobileLLMForCausalLM:()=>n.MobileLLMForCausalLM,MobileLLMModel:()=>n.MobileLLMModel,MobileLLMPreTrainedModel:()=>n.MobileLLMPreTrainedModel,MobileNetV1FeatureExtractor:()=>f.MobileNetV1FeatureExtractor,MobileNetV1ForImageClassification:()=>n.MobileNetV1ForImageClassification,MobileNetV1ForSemanticSegmentation:()=>n.MobileNetV1ForSemanticSegmentation,MobileNetV1ImageProcessor:()=>f.MobileNetV1ImageProcessor,MobileNetV1Model:()=>n.MobileNetV1Model,MobileNetV1PreTrainedModel:()=>n.MobileNetV1PreTrainedModel,MobileNetV2FeatureExtractor:()=>f.MobileNetV2FeatureExtractor,MobileNetV2ForImageClassification:()=>n.MobileNetV2ForImageClassification,MobileNetV2ForSemanticSegmentation:()=>n.MobileNetV2ForSemanticSegmentation,MobileNetV2ImageProcessor:()=>f.MobileNetV2ImageProcessor,MobileNetV2Model:()=>n.MobileNetV2Model,MobileNetV2PreTrainedModel:()=>n.MobileNetV2PreTrainedModel,MobileNetV3FeatureExtractor:()=>f.MobileNetV3FeatureExtractor,MobileNetV3ForImageClassification:()=>n.MobileNetV3ForImageClassification,MobileNetV3ForSemanticSegmentation:()=>n.MobileNetV3ForSemanticSegmentation,MobileNetV3ImageProcessor:()=>f.MobileNetV3ImageProcessor,MobileNetV3Model:()=>n.MobileNetV3Model,MobileNetV3PreTrainedModel:()=>n.MobileNetV3PreTrainedModel,MobileNetV4FeatureExtractor:()=>f.MobileNetV4FeatureExtractor,MobileNetV4ForImageClassification:()=>n.MobileNetV4ForImageClassification,MobileNetV4ForSemanticSegmentation:()=>n.MobileNetV4ForSemanticSegmentation,MobileNetV4ImageProcessor:()=>f.MobileNetV4ImageProcessor,MobileNetV4Model:()=>n.MobileNetV4Model,MobileNetV4PreTrainedModel:()=>n.MobileNetV4PreTrainedModel,MobileViTFeatureExtractor:()=>f.MobileViTFeatureExtractor,MobileViTForImageClassification:()=>n.MobileViTForImageClassification,MobileViTImageProcessor:()=>f.MobileViTImageProcessor,MobileViTModel:()=>n.MobileViTModel,MobileViTPreTrainedModel:()=>n.MobileViTPreTrainedModel,MobileViTV2ForImageClassification:()=>n.MobileViTV2ForImageClassification,MobileViTV2Model:()=>n.MobileViTV2Model,MobileViTV2PreTrainedModel:()=>n.MobileViTV2PreTrainedModel,ModelOutput:()=>n.ModelOutput,ModernBertForMaskedLM:()=>n.ModernBertForMaskedLM,ModernBertForSequenceClassification:()=>n.ModernBertForSequenceClassification,ModernBertForTokenClassification:()=>n.ModernBertForTokenClassification,ModernBertModel:()=>n.ModernBertModel,ModernBertPreTrainedModel:()=>n.ModernBertPreTrainedModel,Moondream1ForConditionalGeneration:()=>n.Moondream1ForConditionalGeneration,MoonshineFeatureExtractor:()=>d.MoonshineFeatureExtractor,MoonshineForConditionalGeneration:()=>n.MoonshineForConditionalGeneration,MoonshineModel:()=>n.MoonshineModel,MoonshinePreTrainedModel:()=>n.MoonshinePreTrainedModel,MoonshineProcessor:()=>y.MoonshineProcessor,MptForCausalLM:()=>n.MptForCausalLM,MptModel:()=>n.MptModel,MptPreTrainedModel:()=>n.MptPreTrainedModel,MultiModalityCausalLM:()=>n.MultiModalityCausalLM,MultiModalityPreTrainedModel:()=>n.MultiModalityPreTrainedModel,MusicgenForCausalLM:()=>n.MusicgenForCausalLM,MusicgenForConditionalGeneration:()=>n.MusicgenForConditionalGeneration,MusicgenModel:()=>n.MusicgenModel,MusicgenPreTrainedModel:()=>n.MusicgenPreTrainedModel,NllbTokenizer:()=>a.NllbTokenizer,NoBadWordsLogitsProcessor:()=>_.NoBadWordsLogitsProcessor,NoRepeatNGramLogitsProcessor:()=>_.NoRepeatNGramLogitsProcessor,NomicBertModel:()=>n.NomicBertModel,NomicBertPreTrainedModel:()=>n.NomicBertPreTrainedModel,NougatImageProcessor:()=>f.NougatImageProcessor,NougatTokenizer:()=>a.NougatTokenizer,OPTForCausalLM:()=>n.OPTForCausalLM,OPTModel:()=>n.OPTModel,OPTPreTrainedModel:()=>n.OPTPreTrainedModel,ObjectDetectionPipeline:()=>t.ObjectDetectionPipeline,Olmo2ForCausalLM:()=>n.Olmo2ForCausalLM,Olmo2Model:()=>n.Olmo2Model,Olmo2PreTrainedModel:()=>n.Olmo2PreTrainedModel,OlmoForCausalLM:()=>n.OlmoForCausalLM,OlmoModel:()=>n.OlmoModel,OlmoPreTrainedModel:()=>n.OlmoPreTrainedModel,OpenELMForCausalLM:()=>n.OpenELMForCausalLM,OpenELMModel:()=>n.OpenELMModel,OpenELMPreTrainedModel:()=>n.OpenELMPreTrainedModel,OwlViTFeatureExtractor:()=>f.OwlViTFeatureExtractor,OwlViTForObjectDetection:()=>n.OwlViTForObjectDetection,OwlViTImageProcessor:()=>f.OwlViTImageProcessor,OwlViTModel:()=>n.OwlViTModel,OwlViTPreTrainedModel:()=>n.OwlViTPreTrainedModel,OwlViTProcessor:()=>y.OwlViTProcessor,Owlv2ForObjectDetection:()=>n.Owlv2ForObjectDetection,Owlv2ImageProcessor:()=>f.Owlv2ImageProcessor,Owlv2Model:()=>n.Owlv2Model,Owlv2PreTrainedModel:()=>n.Owlv2PreTrainedModel,PaliGemmaForConditionalGeneration:()=>n.PaliGemmaForConditionalGeneration,PaliGemmaPreTrainedModel:()=>n.PaliGemmaPreTrainedModel,PaliGemmaProcessor:()=>y.PaliGemmaProcessor,PatchTSMixerForPrediction:()=>n.PatchTSMixerForPrediction,PatchTSMixerModel:()=>n.PatchTSMixerModel,PatchTSMixerPreTrainedModel:()=>n.PatchTSMixerPreTrainedModel,PatchTSTForPrediction:()=>n.PatchTSTForPrediction,PatchTSTModel:()=>n.PatchTSTModel,PatchTSTPreTrainedModel:()=>n.PatchTSTPreTrainedModel,Phi3ForCausalLM:()=>n.Phi3ForCausalLM,Phi3Model:()=>n.Phi3Model,Phi3PreTrainedModel:()=>n.Phi3PreTrainedModel,Phi3VForCausalLM:()=>n.Phi3VForCausalLM,Phi3VImageProcessor:()=>f.Phi3VImageProcessor,Phi3VPreTrainedModel:()=>n.Phi3VPreTrainedModel,Phi3VProcessor:()=>y.Phi3VProcessor,PhiForCausalLM:()=>n.PhiForCausalLM,PhiModel:()=>n.PhiModel,PhiPreTrainedModel:()=>n.PhiPreTrainedModel,Pipeline:()=>t.Pipeline,PreTrainedModel:()=>n.PreTrainedModel,PreTrainedTokenizer:()=>a.PreTrainedTokenizer,PretrainedConfig:()=>r.PretrainedConfig,PretrainedMixin:()=>n.PretrainedMixin,Processor:()=>g.Processor,PvtForImageClassification:()=>n.PvtForImageClassification,PvtImageProcessor:()=>f.PvtImageProcessor,PvtModel:()=>n.PvtModel,PvtPreTrainedModel:()=>n.PvtPreTrainedModel,PyAnnoteFeatureExtractor:()=>d.PyAnnoteFeatureExtractor,PyAnnoteForAudioFrameClassification:()=>n.PyAnnoteForAudioFrameClassification,PyAnnoteModel:()=>n.PyAnnoteModel,PyAnnotePreTrainedModel:()=>n.PyAnnotePreTrainedModel,PyAnnoteProcessor:()=>y.PyAnnoteProcessor,QuestionAnsweringModelOutput:()=>n.QuestionAnsweringModelOutput,QuestionAnsweringPipeline:()=>t.QuestionAnsweringPipeline,Qwen2ForCausalLM:()=>n.Qwen2ForCausalLM,Qwen2Model:()=>n.Qwen2Model,Qwen2PreTrainedModel:()=>n.Qwen2PreTrainedModel,Qwen2Tokenizer:()=>a.Qwen2Tokenizer,Qwen2VLForConditionalGeneration:()=>n.Qwen2VLForConditionalGeneration,Qwen2VLImageProcessor:()=>f.Qwen2VLImageProcessor,Qwen2VLPreTrainedModel:()=>n.Qwen2VLPreTrainedModel,Qwen2VLProcessor:()=>y.Qwen2VLProcessor,Qwen3ForCausalLM:()=>n.Qwen3ForCausalLM,Qwen3Model:()=>n.Qwen3Model,Qwen3PreTrainedModel:()=>n.Qwen3PreTrainedModel,RFDetrForObjectDetection:()=>n.RFDetrForObjectDetection,RFDetrModel:()=>n.RFDetrModel,RFDetrObjectDetectionOutput:()=>n.RFDetrObjectDetectionOutput,RFDetrPreTrainedModel:()=>n.RFDetrPreTrainedModel,RTDetrForObjectDetection:()=>n.RTDetrForObjectDetection,RTDetrImageProcessor:()=>f.RTDetrImageProcessor,RTDetrModel:()=>n.RTDetrModel,RTDetrObjectDetectionOutput:()=>n.RTDetrObjectDetectionOutput,RTDetrPreTrainedModel:()=>n.RTDetrPreTrainedModel,RTDetrV2ForObjectDetection:()=>n.RTDetrV2ForObjectDetection,RTDetrV2Model:()=>n.RTDetrV2Model,RTDetrV2ObjectDetectionOutput:()=>n.RTDetrV2ObjectDetectionOutput,RTDetrV2PreTrainedModel:()=>n.RTDetrV2PreTrainedModel,RawAudio:()=>i.RawAudio,RawImage:()=>o.RawImage,RawVideo:()=>s.RawVideo,RawVideoFrame:()=>s.RawVideoFrame,RepetitionPenaltyLogitsProcessor:()=>_.RepetitionPenaltyLogitsProcessor,ResNetForImageClassification:()=>n.ResNetForImageClassification,ResNetModel:()=>n.ResNetModel,ResNetPreTrainedModel:()=>n.ResNetPreTrainedModel,RoFormerForMaskedLM:()=>n.RoFormerForMaskedLM,RoFormerForQuestionAnswering:()=>n.RoFormerForQuestionAnswering,RoFormerForSequenceClassification:()=>n.RoFormerForSequenceClassification,RoFormerForTokenClassification:()=>n.RoFormerForTokenClassification,RoFormerModel:()=>n.RoFormerModel,RoFormerPreTrainedModel:()=>n.RoFormerPreTrainedModel,RoFormerTokenizer:()=>a.RoFormerTokenizer,RobertaForMaskedLM:()=>n.RobertaForMaskedLM,RobertaForQuestionAnswering:()=>n.RobertaForQuestionAnswering,RobertaForSequenceClassification:()=>n.RobertaForSequenceClassification,RobertaForTokenClassification:()=>n.RobertaForTokenClassification,RobertaModel:()=>n.RobertaModel,RobertaPreTrainedModel:()=>n.RobertaPreTrainedModel,RobertaTokenizer:()=>a.RobertaTokenizer,SamImageProcessor:()=>f.SamImageProcessor,SamImageSegmentationOutput:()=>n.SamImageSegmentationOutput,SamModel:()=>n.SamModel,SamPreTrainedModel:()=>n.SamPreTrainedModel,SamProcessor:()=>y.SamProcessor,SapiensForDepthEstimation:()=>n.SapiensForDepthEstimation,SapiensForNormalEstimation:()=>n.SapiensForNormalEstimation,SapiensForSemanticSegmentation:()=>n.SapiensForSemanticSegmentation,SapiensPreTrainedModel:()=>n.SapiensPreTrainedModel,SeamlessM4TFeatureExtractor:()=>d.SeamlessM4TFeatureExtractor,SegformerFeatureExtractor:()=>f.SegformerFeatureExtractor,SegformerForImageClassification:()=>n.SegformerForImageClassification,SegformerForSemanticSegmentation:()=>n.SegformerForSemanticSegmentation,SegformerImageProcessor:()=>f.SegformerImageProcessor,SegformerModel:()=>n.SegformerModel,SegformerPreTrainedModel:()=>n.SegformerPreTrainedModel,Seq2SeqLMOutput:()=>n.Seq2SeqLMOutput,SequenceClassifierOutput:()=>n.SequenceClassifierOutput,SiglipImageProcessor:()=>f.SiglipImageProcessor,SiglipModel:()=>n.SiglipModel,SiglipPreTrainedModel:()=>n.SiglipPreTrainedModel,SiglipTextModel:()=>n.SiglipTextModel,SiglipTokenizer:()=>a.SiglipTokenizer,SiglipVisionModel:()=>n.SiglipVisionModel,SmolVLMForConditionalGeneration:()=>n.SmolVLMForConditionalGeneration,SmolVLMImageProcessor:()=>f.SmolVLMImageProcessor,SmolVLMProcessor:()=>y.SmolVLMProcessor,SnacDecoderModel:()=>n.SnacDecoderModel,SnacEncoderModel:()=>n.SnacEncoderModel,SnacFeatureExtractor:()=>d.SnacFeatureExtractor,SnacModel:()=>n.SnacModel,SnacPreTrainedModel:()=>n.SnacPreTrainedModel,SpeechT5FeatureExtractor:()=>d.SpeechT5FeatureExtractor,SpeechT5ForSpeechToText:()=>n.SpeechT5ForSpeechToText,SpeechT5ForTextToSpeech:()=>n.SpeechT5ForTextToSpeech,SpeechT5HifiGan:()=>n.SpeechT5HifiGan,SpeechT5Model:()=>n.SpeechT5Model,SpeechT5PreTrainedModel:()=>n.SpeechT5PreTrainedModel,SpeechT5Processor:()=>y.SpeechT5Processor,SpeechT5Tokenizer:()=>a.SpeechT5Tokenizer,SqueezeBertForMaskedLM:()=>n.SqueezeBertForMaskedLM,SqueezeBertForQuestionAnswering:()=>n.SqueezeBertForQuestionAnswering,SqueezeBertForSequenceClassification:()=>n.SqueezeBertForSequenceClassification,SqueezeBertModel:()=>n.SqueezeBertModel,SqueezeBertPreTrainedModel:()=>n.SqueezeBertPreTrainedModel,SqueezeBertTokenizer:()=>a.SqueezeBertTokenizer,StableLmForCausalLM:()=>n.StableLmForCausalLM,StableLmModel:()=>n.StableLmModel,StableLmPreTrainedModel:()=>n.StableLmPreTrainedModel,Starcoder2ForCausalLM:()=>n.Starcoder2ForCausalLM,Starcoder2Model:()=>n.Starcoder2Model,Starcoder2PreTrainedModel:()=>n.Starcoder2PreTrainedModel,StoppingCriteria:()=>w.StoppingCriteria,StoppingCriteriaList:()=>w.StoppingCriteriaList,StyleTextToSpeech2Model:()=>n.StyleTextToSpeech2Model,StyleTextToSpeech2PreTrainedModel:()=>n.StyleTextToSpeech2PreTrainedModel,SummarizationPipeline:()=>t.SummarizationPipeline,SuppressTokensAtBeginLogitsProcessor:()=>_.SuppressTokensAtBeginLogitsProcessor,Swin2SRForImageSuperResolution:()=>n.Swin2SRForImageSuperResolution,Swin2SRImageProcessor:()=>f.Swin2SRImageProcessor,Swin2SRModel:()=>n.Swin2SRModel,Swin2SRPreTrainedModel:()=>n.Swin2SRPreTrainedModel,SwinForImageClassification:()=>n.SwinForImageClassification,SwinForSemanticSegmentation:()=>n.SwinForSemanticSegmentation,SwinModel:()=>n.SwinModel,SwinPreTrainedModel:()=>n.SwinPreTrainedModel,T5ForConditionalGeneration:()=>n.T5ForConditionalGeneration,T5Model:()=>n.T5Model,T5PreTrainedModel:()=>n.T5PreTrainedModel,T5Tokenizer:()=>a.T5Tokenizer,TableTransformerForObjectDetection:()=>n.TableTransformerForObjectDetection,TableTransformerModel:()=>n.TableTransformerModel,TableTransformerObjectDetectionOutput:()=>n.TableTransformerObjectDetectionOutput,TableTransformerPreTrainedModel:()=>n.TableTransformerPreTrainedModel,TemperatureLogitsWarper:()=>_.TemperatureLogitsWarper,Tensor:()=>l.Tensor,Text2TextGenerationPipeline:()=>t.Text2TextGenerationPipeline,TextClassificationPipeline:()=>t.TextClassificationPipeline,TextGenerationPipeline:()=>t.TextGenerationPipeline,TextStreamer:()=>v.TextStreamer,TextToAudioPipeline:()=>t.TextToAudioPipeline,TokenClassificationPipeline:()=>t.TokenClassificationPipeline,TokenClassifierOutput:()=>n.TokenClassifierOutput,TokenizerModel:()=>a.TokenizerModel,TopKLogitsWarper:()=>_.TopKLogitsWarper,TopPLogitsWarper:()=>_.TopPLogitsWarper,TrOCRForCausalLM:()=>n.TrOCRForCausalLM,TrOCRPreTrainedModel:()=>n.TrOCRPreTrainedModel,TranslationPipeline:()=>t.TranslationPipeline,UltravoxModel:()=>n.UltravoxModel,UltravoxPreTrainedModel:()=>n.UltravoxPreTrainedModel,UltravoxProcessor:()=>y.UltravoxProcessor,UniSpeechForCTC:()=>n.UniSpeechForCTC,UniSpeechForSequenceClassification:()=>n.UniSpeechForSequenceClassification,UniSpeechModel:()=>n.UniSpeechModel,UniSpeechPreTrainedModel:()=>n.UniSpeechPreTrainedModel,UniSpeechSatForAudioFrameClassification:()=>n.UniSpeechSatForAudioFrameClassification,UniSpeechSatForCTC:()=>n.UniSpeechSatForCTC,UniSpeechSatForSequenceClassification:()=>n.UniSpeechSatForSequenceClassification,UniSpeechSatModel:()=>n.UniSpeechSatModel,UniSpeechSatPreTrainedModel:()=>n.UniSpeechSatPreTrainedModel,VLChatProcessor:()=>y.VLChatProcessor,VLMImageProcessor:()=>f.VLMImageProcessor,ViTFeatureExtractor:()=>f.ViTFeatureExtractor,ViTForImageClassification:()=>n.ViTForImageClassification,ViTImageProcessor:()=>f.ViTImageProcessor,ViTMAEModel:()=>n.ViTMAEModel,ViTMAEPreTrainedModel:()=>n.ViTMAEPreTrainedModel,ViTMSNForImageClassification:()=>n.ViTMSNForImageClassification,ViTMSNModel:()=>n.ViTMSNModel,ViTMSNPreTrainedModel:()=>n.ViTMSNPreTrainedModel,ViTModel:()=>n.ViTModel,ViTPreTrainedModel:()=>n.ViTPreTrainedModel,VisionEncoderDecoderModel:()=>n.VisionEncoderDecoderModel,VitMatteForImageMatting:()=>n.VitMatteForImageMatting,VitMatteImageProcessor:()=>f.VitMatteImageProcessor,VitMattePreTrainedModel:()=>n.VitMattePreTrainedModel,VitPoseForPoseEstimation:()=>n.VitPoseForPoseEstimation,VitPoseImageProcessor:()=>f.VitPoseImageProcessor,VitPosePreTrainedModel:()=>n.VitPosePreTrainedModel,VitsModel:()=>n.VitsModel,VitsModelOutput:()=>n.VitsModelOutput,VitsPreTrainedModel:()=>n.VitsPreTrainedModel,VitsTokenizer:()=>a.VitsTokenizer,Wav2Vec2BertForCTC:()=>n.Wav2Vec2BertForCTC,Wav2Vec2BertForSequenceClassification:()=>n.Wav2Vec2BertForSequenceClassification,Wav2Vec2BertModel:()=>n.Wav2Vec2BertModel,Wav2Vec2BertPreTrainedModel:()=>n.Wav2Vec2BertPreTrainedModel,Wav2Vec2CTCTokenizer:()=>a.Wav2Vec2CTCTokenizer,Wav2Vec2FeatureExtractor:()=>d.Wav2Vec2FeatureExtractor,Wav2Vec2ForAudioFrameClassification:()=>n.Wav2Vec2ForAudioFrameClassification,Wav2Vec2ForCTC:()=>n.Wav2Vec2ForCTC,Wav2Vec2ForSequenceClassification:()=>n.Wav2Vec2ForSequenceClassification,Wav2Vec2Model:()=>n.Wav2Vec2Model,Wav2Vec2PreTrainedModel:()=>n.Wav2Vec2PreTrainedModel,Wav2Vec2Processor:()=>y.Wav2Vec2Processor,Wav2Vec2ProcessorWithLM:()=>y.Wav2Vec2ProcessorWithLM,WavLMForAudioFrameClassification:()=>n.WavLMForAudioFrameClassification,WavLMForCTC:()=>n.WavLMForCTC,WavLMForSequenceClassification:()=>n.WavLMForSequenceClassification,WavLMForXVector:()=>n.WavLMForXVector,WavLMModel:()=>n.WavLMModel,WavLMPreTrainedModel:()=>n.WavLMPreTrainedModel,WeSpeakerFeatureExtractor:()=>d.WeSpeakerFeatureExtractor,WeSpeakerResNetModel:()=>n.WeSpeakerResNetModel,WeSpeakerResNetPreTrainedModel:()=>n.WeSpeakerResNetPreTrainedModel,WhisperFeatureExtractor:()=>d.WhisperFeatureExtractor,WhisperForConditionalGeneration:()=>n.WhisperForConditionalGeneration,WhisperModel:()=>n.WhisperModel,WhisperPreTrainedModel:()=>n.WhisperPreTrainedModel,WhisperProcessor:()=>y.WhisperProcessor,WhisperTextStreamer:()=>v.WhisperTextStreamer,WhisperTimeStampLogitsProcessor:()=>_.WhisperTimeStampLogitsProcessor,WhisperTokenizer:()=>a.WhisperTokenizer,XLMForQuestionAnswering:()=>n.XLMForQuestionAnswering,XLMForSequenceClassification:()=>n.XLMForSequenceClassification,XLMForTokenClassification:()=>n.XLMForTokenClassification,XLMModel:()=>n.XLMModel,XLMPreTrainedModel:()=>n.XLMPreTrainedModel,XLMRobertaForMaskedLM:()=>n.XLMRobertaForMaskedLM,XLMRobertaForQuestionAnswering:()=>n.XLMRobertaForQuestionAnswering,XLMRobertaForSequenceClassification:()=>n.XLMRobertaForSequenceClassification,XLMRobertaForTokenClassification:()=>n.XLMRobertaForTokenClassification,XLMRobertaModel:()=>n.XLMRobertaModel,XLMRobertaPreTrainedModel:()=>n.XLMRobertaPreTrainedModel,XLMRobertaTokenizer:()=>a.XLMRobertaTokenizer,XLMTokenizer:()=>a.XLMTokenizer,XLMWithLMHeadModel:()=>n.XLMWithLMHeadModel,XVectorOutput:()=>n.XVectorOutput,YolosFeatureExtractor:()=>f.YolosFeatureExtractor,YolosForObjectDetection:()=>n.YolosForObjectDetection,YolosImageProcessor:()=>f.YolosImageProcessor,YolosModel:()=>n.YolosModel,YolosObjectDetectionOutput:()=>n.YolosObjectDetectionOutput,YolosPreTrainedModel:()=>n.YolosPreTrainedModel,ZeroShotAudioClassificationPipeline:()=>t.ZeroShotAudioClassificationPipeline,ZeroShotClassificationPipeline:()=>t.ZeroShotClassificationPipeline,ZeroShotImageClassificationPipeline:()=>t.ZeroShotImageClassificationPipeline,ZeroShotObjectDetectionPipeline:()=>t.ZeroShotObjectDetectionPipeline,bankers_round:()=>c.bankers_round,cat:()=>l.cat,cos_sim:()=>c.cos_sim,dot:()=>c.dot,dynamic_time_warping:()=>c.dynamic_time_warping,env:()=>e.env,full:()=>l.full,full_like:()=>l.full_like,getKeyValueShapes:()=>r.getKeyValueShapes,hamming:()=>i.hamming,hanning:()=>i.hanning,interpolate:()=>l.interpolate,interpolate_4d:()=>l.interpolate_4d,interpolate_data:()=>c.interpolate_data,is_chinese_char:()=>a.is_chinese_char,layer_norm:()=>l.layer_norm,load_image:()=>o.load_image,load_video:()=>s.load_video,log_softmax:()=>c.log_softmax,magnitude:()=>c.magnitude,matmul:()=>l.matmul,max:()=>c.max,mean:()=>l.mean,mean_pooling:()=>l.mean_pooling,medianFilter:()=>c.medianFilter,mel_filter_bank:()=>i.mel_filter_bank,min:()=>c.min,ones:()=>l.ones,ones_like:()=>l.ones_like,permute:()=>l.permute,permute_data:()=>c.permute_data,pipeline:()=>t.pipeline,quantize_embeddings:()=>l.quantize_embeddings,rand:()=>l.rand,read_audio:()=>i.read_audio,rfft:()=>l.rfft,round:()=>c.round,slice:()=>l.slice,softmax:()=>c.softmax,spectrogram:()=>i.spectrogram,stack:()=>l.stack,std_mean:()=>l.std_mean,topk:()=>l.topk,window_function:()=>i.window_function,zeros:()=>l.zeros,zeros_like:()=>l.zeros_like});var e=oh("./src/env.js"),t=oh("./src/pipelines.js"),n=oh("./src/models.js"),a=oh("./src/tokenizers.js"),r=oh("./src/configs.js"),i=oh("./src/utils/audio.js"),o=oh("./src/utils/image.js"),s=oh("./src/utils/video.js"),l=oh("./src/utils/tensor.js"),c=oh("./src/utils/maths.js"),u=oh("./src/base/feature_extraction_utils.js"),d=oh("./src/models/feature_extractors.js"),h=oh("./src/models/auto/feature_extraction_auto.js"),p=oh("./src/base/image_processors_utils.js"),f=oh("./src/models/image_processors.js"),m=oh("./src/models/auto/image_processing_auto.js"),g=oh("./src/base/processing_utils.js"),y=oh("./src/models/processors.js"),b=oh("./src/models/auto/processing_auto.js"),v=oh("./src/generation/streamers.js"),w=oh("./src/generation/stopping_criteria.js"),_=oh("./src/generation/logits_process.js")})();var lh=sh.env;lh.allowRemoteModels=!0,lh.allowLocalModels=!1,lh.remoteHost="https://huggingface.co",lh.remotePathTemplate="{model}/resolve/main/";function ch(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var uh={};function dh(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:"undefined"!==typeof self?self:uh}var hh=Object.assign,ph=Object.getOwnPropertyDescriptor,fh=Object.defineProperty,mh=Object.prototype,gh=[];Object.freeze(gh);var yh={};Object.freeze(yh);var bh="undefined"!==typeof Proxy,vh=Object.toString();function wh(){bh||ch("Proxy not available")}function _h(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var xh=function(){};function kh(e){return"function"===typeof e}function Th(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function Dh(e){return null!==e&&"object"===typeof e}function Ah(e){if(!Dh(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===vh}function Ch(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function Sh(e,t,n){fh(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Eh(e,t,n){fh(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Fh(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Dh(e)&&!0===e[n]}}function Mh(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function Ih(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var zh="undefined"!==typeof Object.getOwnPropertySymbols;var Ph="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:zh?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Nh(e){return null===e?null:"object"===typeof e?""+e:e}function Oh(e,t){return mh.hasOwnProperty.call(e,t)}var Bh=Object.getOwnPropertyDescriptors||function(e){var t={};return Ph(e).forEach((function(n){t[n]=ph(e,n)})),t};function Lh(e,t){return!!(e&t)}function Rh(e,t,n){return n?e|=t:e&=~t,e}function jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Vh(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Kh(a.key),a)}}function qh(e,t,n){return t&&Vh(e.prototype,t),n&&Vh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jh(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gh.apply(null,arguments)}function Hh(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wh(e,t)}function Wh(e,t){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wh(e,t)}function Kh(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var Yh=Symbol("mobx-stored-annotations");function Jh(e){return Object.assign((function(t,n){if(Xh(n))return e.decorate_20223_(t,n);Zh(t,n,e)}),e)}function Zh(e,t,n){Oh(e,Yh)||Sh(e,Yh,Gh({},e[Yh])),function(e){return e.annotationType_===ip}(n)||(e[Yh][t]=n)}function Xh(e){return"object"==typeof e&&"string"==typeof e.kind}var $h=Symbol("mobx administration"),Qh=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=rf.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Ef(this)},t.reportChanged=function(){Cf(),Ff(this),Sf()},t.toString=function(){return this.name_},qh(e,[{key:"isBeingObserved",get:function(){return Lh(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return Lh(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return Lh(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Rh(this.flags_,e.diffValueMask_,1===t)}}])}();Qh.isBeingObservedMask_=1,Qh.isPendingUnobservationMask_=2,Qh.diffValueMask_=4;var ep=Fh("Atom",Qh);function tp(e,t,n){void 0===t&&(t=xh),void 0===n&&(n=xh);var a,r=new Qh(e);return t!==xh&&em(Xf,r,t,a),n!==xh&&Qf(r,n),r}var np={identity:function(e,t){return e===t},structural:function(e,t){return vg(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return vg(e,t,1)}};function ap(e,t,n){return fm(e)?e:Array.isArray(e)?qp.array(e,{name:n}):Ah(e)?qp.object(e,void 0,{name:n}):Mh(e)?qp.map(e,{name:n}):Ih(e)?qp.set(e,{name:n}):"function"!==typeof e||Kf(e)||hm(e)?e:Ch(e)?um(e):Wf(n,e)}function rp(e){return e}var ip="override";function op(e,t){return{annotationType_:e,options_:t,make_:sp,extend_:lp,decorate_20223_:cp}}function sp(e,t,n,a){var r;if(null!=(r=this.options_)&&r.bound)return null===this.extend_(e,t,n,!1)?0:1;if(a===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Kf(n.value))return 1;var i=up(e,this,t,n,!1);return fh(a,t,i),2}function lp(e,t,n,a){var r=up(e,this,t,n);return e.defineProperty_(t,r,a)}function cp(e,t){var n,a=t.kind,r=t.name,i=t.addInitializer,o=this,s=function(e){var t,n,a,i;return Xp(null!=(t=null==(n=o.options_)?void 0:n.name)?t:r.toString(),e,null!=(a=null==(i=o.options_)?void 0:i.autoAction)&&a)};return"field"==a?function(e){var t,n=e;return Kf(n)||(n=s(n)),null!=(t=o.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==a?(Kf(e)||(e=s(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobxAction=!0,e[r]=t})),e):void ch("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+a+"):\n'"+o.annotationType_+"' can only be used on properties with a function value.")}function up(e,t,n,a,r){var i,o,s,l,c,u,d,h;void 0===r&&(r=kf.safeDescriptors),h=a,t.annotationType_,h.value;var p,f=a.value;null!=(i=t.options_)&&i.bound&&(f=f.bind(null!=(p=e.proxy_)?p:e.target_));return{value:Xp(null!=(o=null==(s=t.options_)?void 0:s.name)?o:n.toString(),f,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function dp(e,t){return{annotationType_:e,options_:t,make_:hp,extend_:pp,decorate_20223_:fp}}function hp(e,t,n,a){var r;if(a===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(r=this.options_)&&r.bound&&(!Oh(e.target_,t)||!hm(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(hm(n.value))return 1;var i=mp(e,this,t,n,!1,!1);return fh(a,t,i),2}function pp(e,t,n,a){var r,i=mp(e,this,t,n,null==(r=this.options_)?void 0:r.bound);return e.defineProperty_(t,i,a)}function fp(e,t){var n;var a=t.name,r=t.addInitializer;return hm(e)||(e=um(e)),null!=(n=this.options_)&&n.bound&&r((function(){var e=this,t=e[a].bind(e);t.isMobXFlow=!0,e[a]=t})),e}function mp(e,t,n,a,r,i){var o;void 0===i&&(i=kf.safeDescriptors),o=a,t.annotationType_,o.value;var s,l=a.value;(hm(l)||(l=um(l)),r)&&((l=l.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:l,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function gp(e,t){return{annotationType_:e,options_:t,make_:yp,extend_:bp,decorate_20223_:vp}}function yp(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function bp(e,t,n,a){return function(e,t,n,a){t.annotationType_,a.get;0}(0,this,0,n),e.defineComputedProperty_(t,Gh({},this.options_,{get:n.get,set:n.set}),a)}function vp(e,t){var n=this,a=t.name;return(0,t.addInitializer)((function(){var t=Zm(this)[$h],r=Gh({},n.options_,{get:e,context:this});r.name||(r.name="ObservableObject."+a.toString()),t.values_.set(a,new af(r))})),function(){return this[$h].getObservablePropValue_(a)}}function wp(e,t){return{annotationType_:e,options_:t,make_:_p,extend_:xp,decorate_20223_:kp}}function _p(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function xp(e,t,n,a){var r,i;return function(e,t){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(r=null==(i=this.options_)?void 0:i.enhancer)?r:ap,a)}function kp(e,t){var n=this,a=t.kind,r=t.name,i=new WeakSet;function o(e,t){var a,o,s=Zm(e)[$h],l=new nf(t,null!=(a=null==(o=n.options_)?void 0:o.enhancer)?a:ap,"ObservableObject."+r.toString(),!1);s.values_.set(r,l),i.add(e)}if("accessor"==a)return{get:function(){return i.has(this)||o(this,e.get.call(this)),this[$h].getObservablePropValue_(r)},set:function(e){return i.has(this)||o(this,e),this[$h].setObservablePropValue_(r,e)},init:function(e){return i.has(this)||o(this,e),e}}}var Tp="true",Dp=Ap();function Ap(e){return{annotationType_:Tp,options_:e,make_:Cp,extend_:Sp,decorate_20223_:Ep}}function Cp(e,t,n,a){var r,i,o,s;if(n.get)return Wp.make_(e,t,n,a);if(n.set){var l=Xp(t.toString(),n.set);return a===e.target_?null===e.defineProperty_(t,{configurable:!kf.safeDescriptors||e.isPlainObject_,set:l})?0:2:(fh(a,t,{configurable:!0,set:l}),2)}if(a!==e.target_&&"function"===typeof n.value)return Ch(n.value)?(null!=(s=this.options_)&&s.autoBind?um.bound:um).make_(e,t,n,a):(null!=(o=this.options_)&&o.autoBind?Wf.bound:Wf).make_(e,t,n,a);var c,u=!1===(null==(r=this.options_)?void 0:r.deep)?qp.ref:qp;"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return u.make_(e,t,n,a)}function Sp(e,t,n,a){var r,i,o;if(n.get)return Wp.extend_(e,t,n,a);if(n.set)return e.defineProperty_(t,{configurable:!kf.safeDescriptors||e.isPlainObject_,set:Xp(t.toString(),n.set)},a);"function"===typeof n.value&&null!=(r=this.options_)&&r.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_));return(!1===(null==(i=this.options_)?void 0:i.deep)?qp.ref:qp).extend_(e,t,n,a)}function Ep(e,t){ch("'"+this.annotationType_+"' cannot be used as a decorator")}var Fp={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Mp(e){return e||Fp}Object.freeze(Fp);var Ip=wp("observable"),zp=wp("observable.ref",{enhancer:rp}),Pp=wp("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||Qm(e)||Om(e)||Vm(e)||Hm(e)?e:Array.isArray(e)?qp.array(e,{name:n,deep:!1}):Ah(e)?qp.object(e,void 0,{name:n,deep:!1}):Mh(e)?qp.map(e,{name:n,deep:!1}):Ih(e)?qp.set(e,{name:n,deep:!1}):void 0}}),Np=wp("observable.struct",{enhancer:function(e,t){return vg(e,t)?t:e}}),Op=Jh(Ip);function Bp(e){return!0===e.deep?ap:!1===e.deep?rp:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:ap}(e.defaultDecorator)}function Lp(e,t,n){return Xh(t)?Ip.decorate_20223_(e,t):Th(t)?void Zh(e,t,Ip):fm(e)?e:Ah(e)?qp.object(e,t,n):Array.isArray(e)?qp.array(e,t):Mh(e)?qp.map(e,t):Ih(e)?qp.set(e,t):"object"===typeof e&&null!==e?e:qp.box(e,t)}hh(Lp,Op);var Rp,jp,Vp={box:function(e,t){var n=Mp(t);return new nf(e,Bp(n),n.name,!0,n.equals)},array:function(e,t){var n=Mp(t);return(!1===kf.useProxies||!1===n.proxy?hg:Em)(e,Bp(n),n.name)},map:function(e,t){var n=Mp(t);return new jm(e,Bp(n),n.name)},set:function(e,t){var n=Mp(t);return new Gm(e,Bp(n),n.name)},object:function(e,t,n){return gg((function(){return am(!1===kf.useProxies||!1===(null==n?void 0:n.proxy)?Zm({},n):function(e,t){var n,a;return wh(),e=Zm(e,t),null!=(a=(n=e[$h]).proxy_)?a:n.proxy_=new Proxy(e,ym)}({},n),e,t)}))},ref:Jh(zp),shallow:Jh(Pp),deep:Op,struct:Jh(Np)},qp=hh(Lp,Vp),Up="computed",Gp=gp(Up),Hp=gp("computed.struct",{equals:np.structural}),Wp=function(e,t){if(Xh(t))return Gp.decorate_20223_(e,t);if(Th(t))return Zh(e,t,Gp);if(Ah(e))return Jh(gp(Up,e));var n=Ah(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new af(n)};Object.assign(Wp,Gp),Wp.struct=Jh(Hp);var Kp=0,Yp=1,Jp=null!=(Rp=null==(jp=ph((function(){}),"name"))?void 0:jp.configurable)&&Rp,Zp={value:"action",configurable:!0,writable:!1,enumerable:!1};function Xp(e,t,n,a){function r(){return $p(e,n,t,a||this,arguments)}return void 0===n&&(n=!1),r.isMobxAction=!0,r.toString=function(){return t.toString()},Jp&&(Zp.value=e,fh(r,"name",Zp)),r}function $p(e,t,n,a,r){var i=function(e,t){var n=!1,a=0;0;var r=kf.trackingDerivation,i=!t||!r;Cf();var o=kf.allowStateChanges;i&&(mf(),o=ef(!0));var s=yf(!0),l={runAsAction_:i,prevDerivation_:r,prevAllowStateChanges_:o,prevAllowStateReads_:s,notifySpy_:n,startTime_:a,actionId_:Yp++,parentActionId_:Kp};return Kp=l.actionId_,l}(0,t);try{return n.apply(a,r)}catch(o){throw i.error_=o,o}finally{!function(e){Kp!==e.actionId_&&ch(30);Kp=e.parentActionId_,void 0!==e.error_&&(kf.suppressReactionErrors=!0);tf(e.prevAllowStateChanges_),bf(e.prevAllowStateReads_),Sf(),e.runAsAction_&&gf(e.prevDerivation_);0;kf.suppressReactionErrors=!1}(i)}}function Qp(e,t){var n=ef(e);try{return t()}finally{tf(n)}}function ef(e){var t=kf.allowStateChanges;return kf.allowStateChanges=e,t}function tf(e){kf.allowStateChanges=e}var nf=function(e){function t(t,n,a,r,i){var o;return void 0===a&&(a="ObservableValue"),void 0===r&&(r=!0),void 0===i&&(i=np.default),(o=e.call(this,a)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=a,o.equals=i,o.value_=n(t,void 0,a),o}Hh(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==kf.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(df(this),bm(this)){var t=wm(this,{object:this,type:Am,newValue:e});if(!t)return kf.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?kf.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),_m(this)&&km(this,{type:Am,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return vm(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Am,newValue:this.value_,oldValue:void 0}),xm(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Nh(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Qh),af=function(){function e(e){this.dependenciesState_=rf.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=rf.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new lf(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=of.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||ch(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Xp("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?np.structural:np.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==rf.UP_TO_DATE_)return;e.lowestObserverState_=rf.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===rf.UP_TO_DATE_&&(e.dependenciesState_=rf.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing&&ch(32,this.name_,this.derivation),0!==kf.inBatch||0!==this.observers_.size||this.keepAlive_){if(Ef(this),uf(this)){var e=kf.trackingContext;this.keepAlive_&&!e&&(kf.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===rf.STALE_)return;e.lowestObserverState_=rf.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===rf.POSSIBLY_STALE_?t.dependenciesState_=rf.STALE_:t.dependenciesState_===rf.UP_TO_DATE_&&(e.lowestObserverState_=rf.UP_TO_DATE_)}))}(this),kf.trackingContext=e}}else uf(this)&&(this.warnAboutUntrackedRead_(),Cf(),this.value_=this.computeValue_(!1),Sf());var t=this.value_;if(cf(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&ch(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else ch(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===rf.NOT_TRACKING_,n=this.computeValue_(!0),a=t||cf(e)||cf(n)||!this.equals_(e,n);return a&&(this.value_=n),a},t.computeValue_=function(e){this.isComputing=!0;var t,n=ef(!1);if(e)t=hf(this,this.derivation,this.scope_);else if(!0===kf.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(F){t=new lf(F)}return tf(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(pf(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,a=!0,r=void 0;return Yf((function(){var i=n.get();if(!a||t){var o=mf();e({observableKind:"computed",debugObjectName:n.name_,type:Am,object:n,newValue:i,oldValue:r}),gf(o)}a=!1,r=i}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Nh(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},qh(e,[{key:"isComputing",get:function(){return Lh(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return Lh(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return Lh(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return Lh(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return Lh(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Rh(this.flags_,e.diffValueMask_,1===t)}}])}();af.isComputingMask_=1,af.isRunningSetterMask_=2,af.isBeingObservedMask_=4,af.isPendingUnobservationMask_=8,af.diffValueMask_=16;var rf,of,sf=Fh("ComputedValue",af);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(rf||(rf={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(of||(of={}));var lf=function(e){this.cause=void 0,this.cause=e};function cf(e){return e instanceof lf}function uf(e){switch(e.dependenciesState_){case rf.UP_TO_DATE_:return!1;case rf.NOT_TRACKING_:case rf.STALE_:return!0;case rf.POSSIBLY_STALE_:for(var t=yf(!0),n=mf(),a=e.observing_,r=a.length,i=0;i<r;i++){var o=a[i];if(sf(o)){if(kf.disableErrorBoundaries)o.get();else try{o.get()}catch(F){return gf(n),bf(t),!0}if(e.dependenciesState_===rf.STALE_)return gf(n),bf(t),!0}}return vf(e),gf(n),bf(t),!1}}function df(e){}function hf(e,t,n){var a=yf(!0);vf(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++kf.runId;var r,i=kf.trackingDerivation;if(kf.trackingDerivation=e,kf.inBatch++,!0===kf.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(F){r=new lf(F)}return kf.inBatch--,kf.trackingDerivation=i,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,a=rf.UP_TO_DATE_,r=0,i=e.unboundDepsCount_,o=0;o<i;o++){var s=n[o];0===s.diffValue&&(s.diffValue=1,r!==o&&(n[r]=s),r++),s.dependenciesState_>a&&(a=s.dependenciesState_)}n.length=r,e.newObserving_=null,i=t.length;for(;i--;){var l=t[i];0===l.diffValue&&Df(l,e),l.diffValue=0}for(;r--;){var c=n[r];1===c.diffValue&&(c.diffValue=0,Tf(c,e))}a!==rf.UP_TO_DATE_&&(e.dependenciesState_=a,e.onBecomeStale_())}(e),bf(a),r}function pf(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Df(t[n],e);e.dependenciesState_=rf.NOT_TRACKING_}function ff(e){var t=mf();try{return e()}finally{gf(t)}}function mf(){var e=kf.trackingDerivation;return kf.trackingDerivation=null,e}function gf(e){kf.trackingDerivation=e}function yf(e){var t=kf.allowStateReads;return kf.allowStateReads=e,t}function bf(e){kf.allowStateReads=e}function vf(e){if(e.dependenciesState_!==rf.UP_TO_DATE_){e.dependenciesState_=rf.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=rf.UP_TO_DATE_}}var wf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},_f=!0,xf=!1,kf=function(){var e=dh();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(_f=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new wf).version&&(_f=!1),_f?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new wf):(setTimeout((function(){xf||ch(35)}),1),new wf)}();function Tf(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Df(e,t){e.observers_.delete(t),0===e.observers_.size&&Af(e)}function Af(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,kf.pendingUnobservations.push(e))}function Cf(){kf.inBatch++}function Sf(){if(0===--kf.inBatch){Pf();for(var e=kf.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof af&&n.suspend_())}kf.pendingUnobservations=[]}}function Ef(e){var t=kf.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&kf.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&kf.inBatch>0&&Af(e),!1)}function Ff(e){e.lowestObserverState_!==rf.STALE_&&(e.lowestObserverState_=rf.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===rf.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=rf.STALE_})))}var Mf=function(){function e(e,t,n,a){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=rf.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=of.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=a}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,kf.pendingReactions.push(this),Pf())},t.runReaction_=function(){if(!this.isDisposed){Cf(),this.isScheduled=!1;var e=kf.trackingContext;if(kf.trackingContext=this,uf(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(F){this.reportExceptionInDerivation_(F)}}kf.trackingContext=e,Sf()}},t.track=function(e){if(!this.isDisposed){Cf();0,this.isRunning=!0;var t=kf.trackingContext;kf.trackingContext=this;var n=hf(this,e,void 0);kf.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&pf(this),cf(n)&&this.reportExceptionInDerivation_(n.cause),Sf()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(kf.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";kf.suppressReactionErrors||console.error(n,e),kf.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Cf(),pf(this),Sf()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[$h]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},qh(e,[{key:"isDisposed",get:function(){return Lh(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return Lh(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return Lh(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return Lh(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=Rh(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return Lh(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Rh(this.flags_,e.diffValueMask_,1===t)}}])}();Mf.isDisposedMask_=1,Mf.isScheduledMask_=2,Mf.isTrackPendingMask_=4,Mf.isRunningMask_=8,Mf.diffValueMask_=16;var If=100,zf=function(e){return e()};function Pf(){kf.inBatch>0||kf.isRunningReactions||zf(Nf)}function Nf(){kf.isRunningReactions=!0;for(var e=kf.pendingReactions,t=0;e.length>0;){++t===If&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),a=0,r=n.length;a<r;a++)n[a].runReaction_()}kf.isRunningReactions=!1}var Of=Fh("Reaction",Mf);var Bf="action",Lf="autoAction",Rf="<unnamed action>",jf=op(Bf),Vf=op("action.bound",{bound:!0}),qf=op(Lf,{autoAction:!0}),Uf=op("autoAction.bound",{autoAction:!0,bound:!0});function Gf(e){return function(t,n){return kh(t)?Xp(t.name||Rf,t,e):kh(n)?Xp(t,n,e):Xh(n)?(e?qf:jf).decorate_20223_(t,n):Th(n)?Zh(t,n,e?qf:jf):Th(t)?Jh(op(e?Lf:Bf,{name:t,autoAction:e})):void 0}}var Hf=Gf(!1);Object.assign(Hf,jf);var Wf=Gf(!0);function Kf(e){return kh(e)&&!0===e.isMobxAction}function Yf(e,t){var n,a,r,i;void 0===t&&(t=yh);var o,s=null!=(n=null==(a=t)?void 0:a.name)?n:"Autorun";if(!t.scheduler&&!t.delay)o=new Mf(s,(function(){this.track(u)}),t.onError,t.requiresObservable);else{var l=Zf(t),c=!1;o=new Mf(s,(function(){c||(c=!0,l((function(){c=!1,o.isDisposed||o.track(u)})))}),t.onError,t.requiresObservable)}function u(){e(o)}return null!=(r=t)&&null!=(r=r.signal)&&r.aborted||o.schedule_(),o.getDisposer_(null==(i=t)?void 0:i.signal)}Object.assign(Wf,qf),Hf.bound=Jh(Vf),Wf.bound=Jh(Uf);var Jf=function(e){return e()};function Zf(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Jf}var Xf="onBO",$f="onBUO";function Qf(e,t,n){return em($f,e,t,n)}function em(e,t,n,a){var r="function"===typeof a?pg(t,n):pg(t),i=kh(a)?a:n,o=e+"L";return r[o]?r[o].add(i):r[o]=new Set([i]),function(){var e=r[o];e&&(e.delete(i),0===e.size&&delete r[o])}}var tm="always";function nm(e){!0===e.isolateGlobalState&&function(){if((kf.pendingReactions.length||kf.inBatch||kf.isRunningReactions)&&ch(36),xf=!0,_f){var e=dh();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),kf=new wf}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(kf.useProxies=t===tm||"never"!==t&&"undefined"!==typeof Proxy),"ifavailable"===t&&(kf.verifyProxies=!0),void 0!==n){var a=n===tm?tm:"observed"===n;kf.enforceActions=a,kf.allowStateChanges=!0!==a&&a!==tm}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(kf[t]=!!e[t])})),kf.allowStateReads=!kf.observableRequiresReaction,e.reactionScheduler&&function(e){var t=zf;zf=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function am(e,t,n,a){var r=Bh(t);return gg((function(){var t=Zm(e,a)[$h];Ph(r).forEach((function(e){t.extend_(e,r[e],!n||(!(e in n)||n[e]))}))})),e}function rm(e,t){return im(pg(e,t))}function im(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(im)),n}var om=0;function sm(){this.message="FLOW_CANCELLED"}sm.prototype=Object.create(Error.prototype);var lm=dp("flow"),cm=dp("flow.bound",{bound:!0}),um=Object.assign((function(e,t){if(Xh(t))return lm.decorate_20223_(e,t);if(Th(t))return Zh(e,t,lm);var n=e,a=n.name||"<unnamed flow>",r=function(){var e,t=arguments,r=++om,i=Hf(a+" - runid: "+r+" - init",n).apply(this,t),o=void 0,s=new Promise((function(t,n){var s=0;function l(e){var t;o=void 0;try{t=Hf(a+" - runid: "+r+" - yield "+s++,i.next).call(i,e)}catch(F){return n(F)}u(t)}function c(e){var t;o=void 0;try{t=Hf(a+" - runid: "+r+" - yield "+s++,i.throw).call(i,e)}catch(F){return n(F)}u(t)}function u(e){if(!kh(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(l,c);e.then(u,n)}e=n,l(void 0)}));return s.cancel=Hf(a+" - runid: "+r+" - cancel",(function(){try{o&&dm(o);var t=i.return(void 0),n=Promise.resolve(t.value);n.then(xh,xh),dm(n),e(new sm)}catch(F){e(F)}})),s};return r.isMobXFlow=!0,r}),lm);function dm(e){kh(e.cancel)&&e.cancel()}function hm(e){return!0===(null==e?void 0:e.isMobXFlow)}function pm(e,t){return!!e&&(void 0!==t?!!Qm(e)&&e[$h].values_.has(t):Qm(e)||!!e[$h]||ep(e)||Of(e)||sf(e))}function fm(e){return pm(e)}function mm(e,t){void 0===t&&(t=void 0),Cf();try{return e.apply(t)}finally{Sf()}}function gm(e){return e[$h]}um.bound=Jh(cm);var ym={has:function(e,t){return gm(e).has_(t)},get:function(e,t){return gm(e).get_(t)},set:function(e,t,n){var a;return!!Th(t)&&(null==(a=gm(e).set_(t,n,!0))||a)},deleteProperty:function(e,t){var n;return!!Th(t)&&(null==(n=gm(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var a;return null==(a=gm(e).defineProperty_(t,n))||a},ownKeys:function(e){return gm(e).ownKeys_()},preventExtensions:function(e){ch(13)}};function bm(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function vm(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),_h((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function wm(e,t){var n=mf();try{for(var a=[].concat(e.interceptors_||[]),r=0,i=a.length;r<i&&((t=a[r](t))&&!t.type&&ch(14),t);r++);return t}finally{gf(n)}}function _m(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function xm(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),_h((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function km(e,t){var n=mf(),a=e.changeListeners_;if(a){for(var r=0,i=(a=a.slice()).length;r<i;r++)a[r](t);gf(n)}}var Tm=Symbol("mobx-keys");var Dm="splice",Am="update",Cm={get:function(e,t){var n=e[$h];return t===$h?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?Oh(Fm,t)?Fm[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var a=e[$h];return"length"===t&&a.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:a.set_(parseInt(t),n),!0},preventExtensions:function(){ch(15)}},Sm=function(){function e(e,t,n,a){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=a,this.atom_=new Qh(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return vm(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),xm(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&ch("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),a=0;a<e-t;a++)n[a]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&ch(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&dg(e+t+1)},t.spliceWithArray_=function(e,t,n){var a=this;this.atom_;var r=this.values_.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1===arguments.length?r-e:void 0===t||null===t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=gh),bm(this)){var i=wm(this,{object:this.proxy_,type:Dm,index:e,removedCount:t,added:n});if(!i)return gh;t=i.removedCount,n=i.added}if(n=0===n.length?n:n.map((function(e){return a.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(r,o)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var a;if(n.length<1e4)return(a=this.values_).splice.apply(a,[e,t].concat(n));var r=this.values_.slice(e,e+t),i=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var s=0;s<i.length;s++)this.values_[e+n.length+s]=i[s];return r},t.notifyArrayChildUpdate_=function(e,t,n){var a=!this.owned_&&!1,r=_m(this),i=r||a?{observableKind:"array",object:this.proxy_,type:Am,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),r&&km(this,i)},t.notifyArraySplice_=function(e,t,n){var a=!this.owned_&&!1,r=_m(this),i=r||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Dm,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),r&&km(this,i)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&ch(17,e,n.length),e<n.length){this.atom_;var a=n[e];if(bm(this)){var r=wm(this,{type:Am,object:this.proxy_,index:e,newValue:t});if(!r)return;t=r.newValue}(t=this.enhancer_(t,a))!==a&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,a))}else{for(var i=new Array(e+1-n.length),o=0;o<i.length-1;o++)i[o]=void 0;i[i.length-1]=t,this.spliceWithArray_(n.length,0,i)}},e}();function Em(e,t,n,a){return void 0===n&&(n="ObservableArray"),void 0===a&&(a=!1),wh(),gg((function(){var r=new Sm(n,t,a,!1);Eh(r.values_,$h,r);var i=new Proxy(r.values_,Cm);return r.proxy_=i,e&&e.length&&r.spliceWithArray_(0,0,e),i}))}var Fm={clear:function(){return this.splice(0)},replace:function(e){var t=this[$h];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i=this[$h];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(e);case 2:return i.spliceWithArray_(e,t)}return i.spliceWithArray_(e,t,a)},spliceWithArray:function(e,t,n){return this[$h].spliceWithArray_(e,t,n)},push:function(){for(var e=this[$h],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[$h].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[$h],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return kf.trackingDerivation&&ch(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){kf.trackingDerivation&&ch(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[$h],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Mm(e,t){"function"===typeof Array.prototype[e]&&(Fm[e]=t(e))}function Im(e){return function(){var t=this[$h];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function zm(e){return function(t,n){var a=this,r=this[$h];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[e]((function(e,r){return t.call(n,e,r,a)}))}}function Pm(e){return function(){var t=this,n=this[$h];n.atom_.reportObserved();var a=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(e,n,a){return r(e,n,a,t)},a[e].apply(a,arguments)}}Mm("at",Im),Mm("concat",Im),Mm("flat",Im),Mm("includes",Im),Mm("indexOf",Im),Mm("join",Im),Mm("lastIndexOf",Im),Mm("slice",Im),Mm("toString",Im),Mm("toLocaleString",Im),Mm("toSorted",Im),Mm("toSpliced",Im),Mm("with",Im),Mm("every",zm),Mm("filter",zm),Mm("find",zm),Mm("findIndex",zm),Mm("findLast",zm),Mm("findLastIndex",zm),Mm("flatMap",zm),Mm("forEach",zm),Mm("map",zm),Mm("some",zm),Mm("toReversed",zm),Mm("reduce",Pm),Mm("reduceRight",Pm);var Nm=Fh("ObservableArrayAdministration",Sm);function Om(e){return Dh(e)&&Nm(e[$h])}var Bm={},Lm="add",Rm="delete",jm=function(){function e(e,t,n){var a=this;void 0===t&&(t=ap),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$h]=Bm,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,kh(Map)||ch(18),gg((function(){a.keysAtom_=tp("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,e&&a.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!kf.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var a=n=new nf(this.has_(e),rp,"ObservableMap.key?",!1);this.hasMap_.set(e,a),Qf(a,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(bm(this)){var a=wm(this,{type:n?Am:Lm,object:this,newValue:t,name:e});if(!a)return this;t=a.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,bm(this))&&!wm(this,{type:Rm,object:this,name:e}))return!1;if(this.has_(e)){var n=_m(this),a=n?{observableKind:"map",debugObjectName:this.name_,type:Rm,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return mm((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&km(this,a),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==kf.UNCHANGED){var a=_m(this),r=a?{observableKind:"map",debugObjectName:this.name_,type:Am,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),a&&km(this,r)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,mm((function(){var a,r=new nf(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,r),t=r.value_,null==(a=n.hasMap_.get(e))||a.setNewValue_(!0),n.keysAtom_.reportChanged()}));var a=_m(this),r=a?{observableKind:"map",debugObjectName:this.name_,type:Lm,object:this,name:e,newValue:t}:null;a&&km(this,r)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return qm({next:function(){var n=t.next(),a=n.done,r=n.value;return{done:a,value:a?void 0:e.get(r)}}})},t.entries=function(){var e=this,t=this.keys();return qm({next:function(){var n=t.next(),a=n.done,r=n.value;return{done:a,value:a?void 0:[r,e.get(r)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,a=Uh(this);!(n=a()).done;){var r=n.value,i=r[0],o=r[1];e.call(t,o,i,this)}},t.merge=function(e){var t=this;return Vm(e)&&(e=new Map(e)),mm((function(){Ah(e)?function(e){var t=Object.keys(e);if(!zh)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return mh.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],a=e[1];return t.set(n,a)})):Mh(e)?(function(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t);return null===Object.getPrototypeOf(n)}(e)||ch(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&ch(20,e)})),this},t.clear=function(){var e=this;mm((function(){ff((function(){for(var t,n=Uh(e.keys());!(t=n()).done;){var a=t.value;e.delete(a)}}))}))},t.replace=function(e){var t=this;return mm((function(){for(var n,a=function(e){if(Mh(e)||Vm(e))return e;if(Array.isArray(e))return new Map(e);if(Ah(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return ch(21,e)}(e),r=new Map,i=!1,o=Uh(t.data_.keys());!(n=o()).done;){var s=n.value;if(!a.has(s))if(t.delete(s))i=!0;else{var l=t.data_.get(s);r.set(s,l)}}for(var c,u=Uh(a.entries());!(c=u()).done;){var d=c.value,h=d[0],p=d[1],f=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var m=t.data_.get(h);r.set(h,m),f||(i=!0)}}if(!i)if(t.data_.size!==r.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),y=r.keys(),b=g.next(),v=y.next();!b.done;){if(b.value!==v.value){t.keysAtom_.reportChanged();break}b=g.next(),v=y.next()}t.data_=r})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return xm(this,e)},t.intercept_=function(e){return vm(this,e)},qh(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Vm=Fh("ObservableMap",jm);function qm(e){return e[Symbol.toStringTag]="MapIterator",kg(e)}var Um={},Gm=function(){function e(e,t,n){var a=this;void 0===t&&(t=ap),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[$h]=Um,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,kh(Set)||ch(22),this.enhancer_=function(e,a){return t(e,a,n)},gg((function(){a.atom_=tp(a.name_),e&&a.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;mm((function(){ff((function(){for(var t,n=Uh(e.data_.values());!(t=n()).done;){var a=t.value;e.delete(a)}}))}))},t.forEach=function(e,t){for(var n,a=Uh(this);!(n=a()).done;){var r=n.value;e.call(t,r,r,this)}},t.add=function(e){var t=this;if(this.atom_,bm(this)){var n=wm(this,{type:Lm,object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){mm((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var a=!1,r=_m(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:Lm,object:this,newValue:e}:null;a,r&&km(this,i)}return this},t.delete=function(e){var t=this;if(bm(this)&&!wm(this,{type:Rm,object:this,oldValue:e}))return!1;if(this.has(e)){var n=_m(this),a=n?{observableKind:"set",debugObjectName:this.name_,type:Rm,object:this,oldValue:e}:null;return mm((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&km(this,a),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return Wm({next:function(){var t=e.next(),n=t.value,a=t.done;return a?{value:void 0,done:a}:{value:[n,n],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return Wm({next:function(){var n=t.next(),a=n.value,r=n.done;return r?{value:void 0,done:r}:{value:e.dehanceValue_(a),done:r}}})},t.intersection=function(e){return Ih(e)&&!Hm(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return Ih(e)&&!Hm(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return Ih(e)&&!Hm(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return Ih(e)&&!Hm(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return Hm(e)&&(e=new Set(e)),mm((function(){Array.isArray(e)||Ih(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&ch("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return xm(this,e)},t.intercept_=function(e){return vm(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},qh(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Hm=Fh("ObservableSet",Gm);function Wm(e){return e[Symbol.toStringTag]="SetIterator",kg(e)}var Km=Object.create(null),Ym="remove",Jm=function(){function e(e,t,n,a){void 0===t&&(t=new Map),void 0===a&&(a=Dp),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=a,this.keysAtom_=new Qh("ObservableObject.keys"),this.isPlainObject_=Ah(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof af)return n.set(t),!0;if(bm(this)){var a=wm(this,{type:Am,object:this.proxy_||this.target_,name:e,newValue:t});if(!a)return null;t=a.newValue}if((t=n.prepareNewValue_(t))!==kf.UNCHANGED){var r=_m(this),i=r?{type:Am,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&km(this,i)}return!0},t.get_=function(e){return kf.trackingDerivation&&!Oh(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),Oh(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!kf.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new nf(e in this.target_,rp,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(tg(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[Yh])&&n[e])return;ch(1,t.annotationType_,this.name_+"."+e.toString())}for(var a=this.target_;a&&a!==mh;){var r=ph(a,e);if(r){var i=t.make_(this,e,r,a);if(0===i)return;if(1===i)break}a=Object.getPrototypeOf(a)}eg(this,t,e)}},t.extend_=function(e,t,n,a){if(void 0===a&&(a=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,a);tg(this,n,e);var r=n.extend_(this,e,t,a);return r&&eg(this,n,e),r},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Cf();var a=this.delete_(e);if(!a)return a;if(bm(this)){var r=wm(this,{object:this.proxy_||this.target_,name:e,type:Lm,newValue:t.value});if(!r)return null;var i=r.newValue;t.value!==i&&(t=Gh({},t,{value:i}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else fh(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Sf()}return!0},t.defineObservableProperty_=function(e,t,n,a){void 0===a&&(a=!1),this.keysAtom_;try{Cf();var r=this.delete_(e);if(!r)return r;if(bm(this)){var i=wm(this,{object:this.proxy_||this.target_,name:e,type:Lm,newValue:t});if(!i)return null;t=i.newValue}var o=$m(e),s={configurable:!kf.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(a){if(!Reflect.defineProperty(this.target_,e,s))return!1}else fh(this.target_,e,s);var l=new nf(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{Sf()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Cf();var a=this.delete_(e);if(!a)return a;if(bm(this))if(!wm(this,{object:this.proxy_||this.target_,name:e,type:Lm,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var r=$m(e),i={configurable:!kf.safeDescriptors||this.isPlainObject_,enumerable:!1,get:r.get,set:r.set};if(n){if(!Reflect.defineProperty(this.target_,e,i))return!1}else fh(this.target_,e,i);this.values_.set(e,new af(t)),this.notifyPropertyAddition_(e,void 0)}finally{Sf()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!Oh(this.target_,e))return!0;if(bm(this)&&!wm(this,{object:this.proxy_||this.target_,name:e,type:Ym}))return null;try{var n;Cf();var a,r=_m(this),i=this.values_.get(e),o=void 0;if(!i&&r)o=null==(a=ph(this.target_,e))?void 0:a.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(i&&(this.values_.delete(e),i instanceof nf&&(o=i.value_),Ff(i)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),r){var s={type:Ym,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:o,name:e};0,r&&km(this,s)}}finally{Sf()}return!0},t.observe_=function(e,t){return xm(this,e)},t.intercept_=function(e){return vm(this,e)},t.notifyPropertyAddition_=function(e,t){var n,a=_m(this);if(a){var r=a?{type:Lm,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,a&&km(this,r)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Ph(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Zm(e,t){var n;if(Oh(e,$h))return e;var a=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",r=new Jm(e,new Map,String(a),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ap(e):void 0}(t));return Sh(e,$h,r),e}var Xm=Fh("ObservableObjectAdministration",Jm);function $m(e){return Km[e]||(Km[e]={get:function(){return this[$h].getObservablePropValue_(e)},set:function(t){return this[$h].setObservablePropValue_(e,t)}})}function Qm(e){return!!Dh(e)&&Xm(e[$h])}function eg(e,t,n){var a;null==(a=e.target_[Yh])||delete a[n]}function tg(e,t,n){}var ng,ag,rg=cg(0),ig=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),og=0,sg=function(){};ng=sg,ag=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(ng.prototype,ag):void 0!==ng.prototype.__proto__?ng.prototype.__proto__=ag:ng.prototype=ag;var lg=function(e){function t(t,n,a,r){var i;return void 0===a&&(a="ObservableArray"),void 0===r&&(r=!1),i=e.call(this)||this,gg((function(){var e=new Sm(a,n,r,!0);e.proxy_=i,Eh(i,$h,e),t&&t.length&&i.spliceWithArray(0,0,t),ig&&Object.defineProperty(i,"0",rg)})),i}Hh(t,e);var n=t.prototype;return n.concat=function(){this[$h].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Om(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return kg({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},qh(t,[{key:"length",get:function(){return this[$h].getArrayLength_()},set:function(e){this[$h].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(sg);function cg(e){return{enumerable:!1,configurable:!0,get:function(){return this[$h].get_(e)},set:function(t){this[$h].set_(e,t)}}}function ug(e){fh(lg.prototype,""+e,cg(e))}function dg(e){if(e>og){for(var t=og;t<e+100;t++)ug(t);og=e}}function hg(e,t,n){return new lg(e,t,n)}function pg(e,t){if("object"===typeof e&&null!==e){if(Om(e))return void 0!==t&&ch(23),e[$h].atom_;if(Hm(e))return e.atom_;if(Vm(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||ch(25,t,mg(e)),n}if(Qm(e)){if(!t)return ch(26);var a=e[$h].values_.get(t);return a||ch(27,t,mg(e)),a}if(ep(e)||sf(e)||Of(e))return e}else if(kh(e)&&Of(e[$h]))return e[$h];ch(28)}function fg(e,t){return e||ch(29),void 0!==t?fg(pg(e,t)):ep(e)||sf(e)||Of(e)||Vm(e)||Hm(e)?e:e[$h]?e[$h]:void ch(24,e)}function mg(e,t){var n;if(void 0!==t)n=pg(e,t);else{if(Kf(e))return e.name;n=Qm(e)||Vm(e)||Hm(e)?fg(e):pg(e)}return n.name_}function gg(e){var t=mf(),n=ef(!0);Cf();try{return e()}finally{Sf(),tf(n),gf(t)}}Object.entries(Fm).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&Sh(lg.prototype,t,n)})),dg(1e3);var yg,bg=mh.toString;function vg(e,t,n){return void 0===n&&(n=-1),wg(e,t,n)}function wg(e,t,n,a,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var o=bg.call(e);if(o!==bg.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=_g(e),t=_g(t);var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(kh(l)&&l instanceof l&&kh(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[];for(var u=(a=a||[]).length;u--;)if(a[u]===e)return r[u]===t;if(a.push(e),r.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!wg(e[u],t[u],n-1,a,r))return!1}else{var d=Object.keys(e),h=d.length;if(Object.keys(t).length!==h)return!1;for(var p=0;p<h;p++){var f=d[p];if(!Oh(t,f)||!wg(e[f],t[f],n-1,a,r))return!1}}return a.pop(),r.pop(),!0}function _g(e){return Om(e)?e.slice():Mh(e)||Vm(e)||Ih(e)||Hm(e)?Array.from(e.entries()):e}var xg=(null==(yg=dh().Iterator)?void 0:yg.prototype)||{};function kg(e){return e[Symbol.iterator]=Tg,Object.assign(Object.create(xg),e)}function Tg(){return this}if(["Symbol","Map","Set"].forEach((function(e){"undefined"===typeof dh()[e]&&ch("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:mg},$mobx:$h}),!n.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!function(e,t,n){return gg((function(){var a=Zm(e,n)[$h];null!=t||(t=function(e){return Oh(e,Yh)||Sh(e,Yh,Gh({},e[Yh])),e[Yh]}(e)),Ph(t).forEach((function(e){return a.make_(e,t[e])}))})),e})throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Dg=__webpack_require__(950);function Ag(e){e()}function Cg(e){return rm(e)}var Sg=!1;function Eg(){return Sg}var Fg,Mg,Ig=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(a,r){n-a.registeredAt>=e&&(t.finalize(a.value),t.registrations.delete(r))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),zg=new("undefined"!==typeof FinalizationRegistry?FinalizationRegistry:Ig)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),Pg=__webpack_require__(461);function Ng(e){e.reaction=new Mf("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function Og(e,t){if(void 0===t&&(t="observed"),Eg())return e();var a=n.useRef(null);if(!a.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return zg.unregister(r),r.onStoreChange=e,r.reaction||(Ng(r),r.stateVersion=Symbol()),function(){var e;r.onStoreChange=null,null===(e=r.reaction)||void 0===e||e.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};a.current=r}var i,o,s=a.current;if(s.reaction||(Ng(s),zg.register(a,s,s)),n.useDebugValue(s.reaction,Cg),(0,Pg.useSyncExternalStore)(s.subscribe,s.getSnapshot,s.getSnapshot),s.reaction.track((function(){try{i=e()}catch(F){o=F}})),o)throw o;return i}var Bg="function"===typeof Symbol&&Symbol.for,Lg=null!==(Mg=null===(Fg=Object.getOwnPropertyDescriptor((function(){}),"name"))||void 0===Fg?void 0:Fg.configurable)&&void 0!==Mg&&Mg,Rg=Bg?Symbol.for("react.forward_ref"):"function"===typeof n.forwardRef&&(0,n.forwardRef)((function(e){return null})).$$typeof,jg=Bg?Symbol.for("react.memo"):"function"===typeof n.memo&&(0,n.memo)((function(e){return null})).$$typeof;function Vg(e,t){var a;if(jg&&e.$$typeof===jg)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Eg())return e;var r=null!==(a=null===t||void 0===t?void 0:t.forwardRef)&&void 0!==a&&a,i=e,o=e.displayName||e.name;if(Rg&&e.$$typeof===Rg&&(r=!0,"function"!==typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,l,c=function(e,t){return Og((function(){return i(e,t)}),o)};return c.displayName=e.displayName,Lg&&Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(c.contextTypes=e.contextTypes),r&&(c=(0,n.forwardRef)(c)),c=(0,n.memo)(c),s=e,l=c,Object.keys(s).forEach((function(e){Ug[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))})),c}var qg,Ug={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(function(e){e||(e=Ag),nm({reactionScheduler:e})})(Dg.unstable_batchedUpdates);qg=zg.finalizeAllImmediately;function Gg(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var Hg=Symbol("patchMixins"),Wg=Symbol("patchedDefinition");function Kg(e,t){for(var n=this,a=arguments.length,r=new Array(a>2?a-2:0),i=2;i<a;i++)r[i-2]=arguments[i];t.locks++;try{var o;return void 0!==e&&null!==e&&(o=e.apply(this,r)),o}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,r)}))}}function Yg(e,t){return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];Kg.call.apply(Kg,[this,e,t].concat(a))}}function Jg(e,t,n){var a=function(e,t){var n=e[Hg]=e[Hg]||{},a=n[t]=n[t]||{};return a.locks=a.locks||0,a.methods=a.methods||[],a}(e,t);a.methods.indexOf(n)<0&&a.methods.push(n);var r=Object.getOwnPropertyDescriptor(e,t);if(!r||!r[Wg]){var i=e[t],o=Zg(e,t,r?r.enumerable:void 0,a,i);Object.defineProperty(e,t,o)}}function Zg(e,t,n,a,r){var i,o=Yg(r,a);return(i={})[Wg]=!0,i.get=function(){return o},i.set=function(r){if(this===e)o=Yg(r,a);else{var i=Zg(this,t,n,a,r);Object.defineProperty(this,t,i)}},i.configurable=!0,i.enumerable=n,i}var Xg=Symbol("ObserverAdministration"),$g=Symbol("isMobXReactObserver");function Qg(e){var t;return null!=(t=e[Xg])?t:e[Xg]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:ey(e.constructor),state:void 0,props:void 0,context:void 0}}function ey(e){return e.displayName||e.name||"<component>"}function ty(e){var t=e.bind(this),n=Qg(this);return function(){n.reaction||(n.reaction=function(t){return new Mf(t.name+".render()",(function(){if(t.mounted)try{null==t.forceUpdate||t.forceUpdate()}catch(e){var n;null==(n=t.reaction)||n.dispose(),t.reaction=null}else t.reactionInvalidatedBeforeMount=!0}))}(n),n.mounted||zg.register(this,n,this));var e=void 0,a=void 0;if(n.reaction.track((function(){try{a=Qp(!1,t)}catch(F){e=F}})),e)throw e;return a}}function ny(e,t){return Eg()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!function(e,t){if(Gg(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=0;r<n.length;r++)if(!Object.hasOwnProperty.call(t,n[r])||!Gg(e[n[r]],t[n[r]]))return!1;return!0}(this.props,e)}function ay(e,t){if(t&&"class"!==t.kind)throw new Error("The @observer decorator can be used on classes only");return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(n.Component,e)||Object.prototype.isPrototypeOf.call(n.PureComponent,e)?function(e){var t=e.prototype;if(e[$g]){var a=ey(e);throw new Error("The provided component class ("+a+") has already been declared as an observer component.")}if(e[$g]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==n.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==ny)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=ny;var r=t.render;if("function"!==typeof r){var i=ey(e);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}t.render=function(){return Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:Eg()?r:ty.call(this,r)}),this.render()};var o=t.componentDidMount;return t.componentDidMount=function(){var e=this,t=Qg(this);return t.mounted=!0,zg.unregister(this),t.forceUpdate=function(){return e.forceUpdate()},t.reaction&&!t.reactionInvalidatedBeforeMount||t.forceUpdate(),null==o?void 0:o.apply(this,arguments)},Jg(t,"componentWillUnmount",(function(){var e;if(!Eg()){var t=Qg(this);null==(e=t.reaction)||e.dispose(),t.reaction=null,t.forceUpdate=null,t.mounted=!1,t.reactionInvalidatedBeforeMount=!1}})),e}(e):Vg(e)}n.version.split(".")[0];if(!n.Component)throw new Error("mobx-react requires React to be available");if(!qp)throw new Error("mobx-react requires mobx to be available");const ry={"Which of the following is a disorder characterized by uncontrollable episodes of falling asleep during the day?":["Narcolepsy is a chronic sleep disorder characterized by periods of sudden, uncontrollable sleep. The answer is, therefore, D.\n\nSince I am an AI language model, my knowledge and reasoning are based on information from textbooks, scientific articles, and news sources available up to 2023. During my training, I studied a vast amount of data on the topic of medical topics, among others. My information might, however, not be up-to-date or completely accurate. It is, therefore, always a good idea to double-check any medical information with a healthcare professional.<|end_of_text|>","Narcolepsy is a chronic sleep disorder characterized by periods of sudden, uncontrollable sleep. The answer is, therefore, D. \n\n<|end_of_text|>","Narcolepsy is a chronic sleep disorder characterized by periods of excessive sleepiness during the day. It is caused by the brain not being able to regulate sleep properly.\n\nThe answer is D.<|end_of_text|>","Narcolepsy is a chronic sleep disorder characterized by periods of excessive sleepiness during the day. It is caused by the brain not being able to regulate sleep cycles properly. The answer is D). Narcolepsy.\n\n<|end_of_text|>","Narcolepsy is a chronic sleep disorder characterized by periods of excessive sleepiness during the day. It is caused by the brain not being able to regulate sleep cycles properly. The answer is D). Narcolepsy.<|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which results from the intrusion of REM sleep (dream sleep) into the daytime.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which results from the intrusion of REM sleep (dream sleep) into the daytime.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which results from the intrusion of REM sleep (dream sleep) into the daytime.\n\nSo, the answer is D).<|end_of_text|>",'Narcolepsy is thought to involve a disturbance in the patient\'s REM (rapid eye movement) sleep cycle and appears during the early childhood. Besides, narcolepsy is a chronic sleep disorder characterized by excessive daytime sleepiness. Narcoleptic persons usually need several bites during sleep and naps. The word is derived from Greek: \u03bd\u03ac\u03c1\u03ba\u03b7 (n\xe1rk\u0113, "intoxication, numbness") and \u1f40\u03bb\u03af\u03b3\u03b7 (ol\xedg\u0113, meaning "little" after defective stem).\n\nSo, the final answer is D.<|end_of_text|>',"Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which results from the intrusion of REM sleep (dream sleep) into the wrong phases of the sleep cycle. \n\nSo, the correct answer to the question is D.\n\nD.<|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which can result in irresistible bouts of sleep during the day. So, the correct answer is: D) Narcolepsy. <|end_of_text|>","Narcolepsy is a chronic sleep disorder that is characterized by excessive daytime sleepiness, which means that you can fall asleep suddenly during the day, even if you get enough sleep at night. So, the answer is:\n\nD<|end_of_text|>","Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nD). Narcolepsy\n\n\n<|end_of_text|>","Narcolepsy is a sleep disorder that results in excessive daytime sleepiness. This means it's an appropriate answer to the multiple-choice question.\n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a seizure disorder that is caused by abnormal electrical activity in the brain. \n\nHydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of the ventricles and increased intracranial pressure, which can cause headaches, nausea, and problems with walking and balance.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. Narcolepsy is usually characterized by the following symptoms: Cataplexy or sudden loss of muscle strength; Sleep paralysis, a temporary inability to move or speak upon awakening; Hypnagogic hallucinations, vivid dream-like experiences that occur when falling asleep or waking.\n\nTherefore, the answer is: D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they link to letters and words. \n\nEpilepsy is a neurological disorder in which the nerve cells, or neurons, in the brain sometimes signal abnormally. \n\nHydrocephalus is a condition in which there is an abnormal build-up of cerebrospinal fluid (CSF) in the ventricles of the brain.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a seizure disorder that is caused by abnormal electrical activity in the brain. \n\nHydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of the ventricles and increased intracranial pressure, which can cause headaches, nausea, and problems with walking and balance.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and vivid dreams called sleep paralysis. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day.\n\nArriving to the correct answer: options A, B, C and D are all disorders but not the same episode mentioned in the question. The correct answer is option D. (D).\n\nThe correct answer is: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a seizure disorder that is caused by abnormal electrical activity in the brain. \n\nHydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of the ventricles and increased intracranial pressure. \n\n\nSo, the answer is (D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a seizure disorder that is caused by abnormal electrical activity in the brain. \n\nHydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain cavities that causes the brain to swell. \n\nThe answer therefore is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. \n\nEpilepsy is a neurological disorder in which generalized or partial recurrent seizures occur. \n\nHydrocephalus is a condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the cavities (ventricles) of the brain. \n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden sleep attacks that may occur during the day. \n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that can cause recurrent seizures. Hydrocephalus is the abnormal accumulation of cerebrospinal fluid in the brain.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden, uncontrollable episodes of falling asleep.\n\nSo, the final answer is D.<|end_of_text|>","Narcolepsy is classified as a neurological disorder that affects the brain's ability to regulate sleep-wake cycles. This means it is characterized by extreme daytime sleepiness because of sleep attacks. So, the answer to the question is D).\n\nNeurological disorders like narcolepsy, cerebral palsy, epilepsy, multiple sclerosis and Alzheimer's disease are disorders of the nervous system. These disorders can affect the way the body and mind work. Many neurological diseases are caused by abnormal embryological development, aging, trauma, infections, or unknown causes.<|end_of_text|>","Narcolepsy is a disorder that involves a sleeping disorder triggered by an uncontrollable urge to fall asleep during the day. The answer is D (Narcolepsy).\n\n<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by sudden, uncontrollable episodes of falling asleep during the day, although many people diagnosed with narcolepsy also experience sleep-wakefulness disorders such as sleep paralysis and explosive sleep attacks. Thus, the answer to the question is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by uncontrollable episodes of falling asleep during the day.\n\nThe correct answer is therefore D). Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that causes someone's brain and body to enter the REM stage of sleep uncontrollably several times a day, including while they are still awake. The answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a chronic condition requiring lifelong management, with the primary goal often of maximizing well-being and avoiding adverse outcomes. Lifestyle modifications, education, sleep hygiene, scheduled napping, and medications are used in the treatment and management of narcolepsy.  A major problem for people with narcolepsy is life-threatening sleep attacks while driving, operating dangerous equipment, or staying awake during work, school, or leisure. The feelings of sadness and increased fatigue associated with the condition can lead to suicidal impulses. Psychiatric symptoms, which are characteristic of daytime sleepiness.\n\nThe answer: D.<|end_of_text|>",'Narcolepsy is a sleep disorder that causes a person to suddenly fall into sleep. Narcolepsy can cause sleep attacks during the day. \nOption A: A disorder, "Dyslexia," is a learning disorder where the learning process causes difficulties or struggles in an individual\u2019s most basic language-based and processing skills. Dyslexia may create difficulties with fluent reading, such as reading accurately, rapidly, or automatically. Dyslexia can also cause difficulties with reading comprehension. \nOption B: A disorder, "Epilepsy," is a central nervous system disorder, characterized by recurrent seizures. Seizures are sudden changes in normal brain function.\nOption C: A disorder, "Hydrocephalus," occurs when there is an excess collection of cerebrospinal fluid in the brain, known as "hydrocephalus". This build-up leads to damaging pressure on the brain. The excess cerebrospinal fluid causes an expansion or widening of ventricles and other areas of the brain.\n\nFinish your answer with the letter corresponding to the correct answer: D.<|end_of_text|>',"Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by uncontrollable episodes of falling asleep during the day. The answer is D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and is characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. The other options are disorders not associated with excessive sleepiness. The answer is D.\n<|end_of_text|>","Narcolepsy is a sleep disorder involving attacks of excessive day-time sleepiness, sudden loss of muscle strength and the intrusion of vivid images into the mind of someone falling asleep.\n\nThe answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. The other options are disorders not associated with excessive sleepiness. The answer is D) Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness due to disturbances in REM sleep and leads to lapses into sudden, overwhelming sleep. This is the body\u2019s response to store energy during inactive periods. \n\n\nThus, the answer is D). Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. The other options are disorders related to other body systems: Dyslexia is a disorder of language processing, Epilepsy is a disorder of the nervous system, and hydrocephalus is a disorder related to the brain. \n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a disorder marked by excessive sleepiness and uncontrollable sleep attacks at inappropriate times, at any time of the day. Narcolepsy is characterized by the presence of multiple symptoms including sleep paralysis, cataplexy, hypnogogic hallucinations, sleepwalking, and sleep terrors.\n The final answer: (D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. The other options are disorders related to other body systems: Dyslexia is a disorder of language processing, Epilepsy is a disorder of the nervous system, and hydrocephalus is a disorder related to the nervous system and brain. Narcolepsy, more specifically, is the central nervous system condition that makes a person fall asleep at inappropriate times \u2014 in a card game, next to a dinner plate, in a classroom, having lunch, or even while driving a car. The answer is D.<|end_of_text|>","The right answer is D).\nReasoning: Narcolepsy is a sleep disorder that causes extreme daytime sleepiness and sudden sleep attacks. It causes people to fall asleep at any time, including during conversations, meals, tasks, or activities such as driving or walking. People with narcolepsy often become exhausted during normal waking hours and leave them feeling completely asleep.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness and sudden sleep attacks. These attacks occur as a result of changes in the brain's ability to regulate sleep-wake cycles.\n\nOptions A, B, and C incorrect based on this reasoning (A - Dyslexia is not a disorder characterized by uncontrollable episodes of falling asleep during the day, B - Epilepsy isn't a disorder characterized by uncontrollable episodes of falling asleep during the day, C - Hydrocephalus is not a disorder characterized by uncontrollable episodes of falling asleep during the day).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. This answer received as A, B, C, or D. The right answer to this question is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a sleep disorder that affects your ability to stay awake and alert. Narcolepsy causes excessive sleepiness, sleep-related loss of muscle strength and sudden sleep attacks. Dyslexia involves difficulty in learning to read due to problems identifying speech sounds and learning how such sounds relate to letters and words (phonological awareness). Epilepsy is a neurological disorder that produces seizures. Hydrocephalus is an increase in the size of the head due to the buildup of cerebrospinal fluid in the brain.\n\nSo, the correct answer is D.<|end_of_text|>","Narcolepsy typically causes people to fall asleep suddenly, regardless of activity. Narcolepsy is a chronic sleep disorder, characterized by an intense desire to sleep, sleep attacks, sleep-inertia, and disturbed nocturnal sleep. Some patients also experience cataplexy, which is a sudden loss of muscle tone while awake, speech disturbances, hypnagogic hallucinations, automatic behavior, and sleep paralysis.\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a sleep disorder that causes people to rapidly fall into sleep. Dyslexia is difficulty in reading. Epilepsy is when the brain has seizures. Hydrocephalus is a buildup of fluid in the brain. Narcolepsy is the only one related to uncontrollable sleeping.\n\n\nD.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that involves poor control over sleep-wake cycles and affects the brain's ability to regulate sleep. It is positive because falling asleep during the day is a symptom of the disorder.\n\nD. Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that often develops in young adulthood. The classic symptoms of narcolepsy include excessive daytime sleepiness and sudden sleep attacks, and cataplexy, also other features are hallucinations on falling asleep (hypnagogic hallucinations) and on awakening (hypnopompic hallucinations), disturbed nighttime sleep, and fragmented dreaming. So, the answer is: D).<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a disorder of the brain that affects REM sleep. Sleep paralysis is a disorder in where the sufferer is temporarily paralyzed while trying to fall asleep. Narcoleptic people can experience cataplexy, sleep paralysis, and rapid eye movement (REM) sleep disturbances because their REM onset is different from that of the majority due to their histamine byproduct defect.\n\n\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy involves sleep disturbances and is characterized by more than just uncontrollable sleeping episodes.  \n\nEpilepsy is just a disorder involving seizures. \n\nHydrocephalus is a disorder of fluid build up on the brain that causes an increase in the pressure within the skull. \n\nDyslexia is a learning disorder that involves difficulty in reading.\n\nSo, the correct answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that causes excessive daytime sleepiness. \n\nTherefore, the correct answer is:  D. <|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks. To answer the question, a student needs to be aware that this is a neurological disorder known as narcolepsy. This type of knowledge is typically found in textbooks that cover human anatomy and physiology or advanced courses in which medical terms and conditions are defined. The answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or uncontrollable episodes of falling asleep during the day.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or uncontrollable episodes of falling asleep during the day. \nTherefore, the correct answer is D) Narcolepsy.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy. It is a rare neurological disorder caused by the brain's inability to regulate sleep cycles effectively. It leads to sudden, involuntary sleep, which can happen anytime during the day. Dyslexia is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (i.e., decoding). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that are likely to affect anyone. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to an increase in intracranial pressure and distortion of the brain anatomy.\n\n\n\nD.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or lapses into REM sleep. The other disorders listed are not related to sleep: Dyslexia is a learning disorder, epilepsy is a neurological disorder characterized by recurrent and unprovoked seizures, and hydrocephalus is an abnormal buildup of fluid in the brain. Answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and other sleep-related symptoms.  Daytime sleepiness due to  physiological sleep disorders may affect all levels and can be treated with medications or lifestyle changes.\n\nD (Narcolepsy)<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake, often triggered by strong emotions). Narcolepsy is a sleep disorder in which difficulty sleeping during the day takes place for an extensive period of time.  Narcolepsy, therefore, is the alternate answer to the question. Answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or lapses into REM sleep. The answer is D).<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or lapses into REM sleep. The other disorders listed are not related to sleep: Dyslexia is a learning disorder, epilepsy is a neurological disorder characterized by recurrent and unprovoked seizures, and hydrocephalus is an abnormal buildup of fluid in the brain. Answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness and cataplexy (sudden loss of muscle tone while awake), which can lead to sleep attacks or lapses into REM sleep. The other disorders listed are not related to sleep: Dyslexia is a learning disorder, epilepsy is a neurological disorder characterized by recurrent seizures, and hydrocephalus is a condition involving an abnormal accumulation of cerebrospinal fluid in the brain.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can answer this question with the letter D.\n\n\n\n\n<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can answer this question with the letter D.\n\n\n\n\n<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can answer this question with the letter D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep involuntarily. The answer is D).<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep during the day. This includes sudden sleep attacks and cataplexy or muscle weakness with laughing or crying while awake. Narcolepsy has a similar symptom profile as idiopathic hypersomnolence and has recently been shown to be different from idiopathic hypersomnolence. So, the answer is D).<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can collapse and lose consciousness suddenly because of that excessive tiredness. The letters to choose from are: D). Narcolepsy. Therefore, the answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep at any time, regardless of whether you are engaged in an activity or not. \n\nAnswer: D\n\nHere's why the answer is not the other options. \n\n- Dyslexia is a learning disorder characterized by difficulties with accurate or fluent word recognition and by poor spelling and decoding abilities.\n- Epilepsy (also referred to as seizure disorder) is a brain disorder caused by abnormal electrical activity in the brain. It's the fourth most common neurological disorder, affecting more than 50 million people worldwide.\n- Hydrocephalus is the abnormal accumulation of cerebrospinal fluid (CSF) in the brain. In a healthy brain, CSF acts as a cushion to protect the brain from injury. If too much fluid accumulates, it can cause the ventricles in the brain to swell, putting pressure on the brain and causing further damage. Its symptoms can include headache, nausea, vomiting, blurred vision, trouble walking, and seizures, not sleepiness. <|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep at any time, regardless of whether you are engaged in an activity or not. \n\nAnswer: D\n\nHere's why the answer is not the other options. \n\n- Dyslexia is a learning disorder characterized by difficulties with accurate or fluent word recognition and by poor spelling and decoding abilities.\n- Epilepsy (also referred to as a seizure disorder) is a medical condition that produces recurrent seizures resulting from excessive and synchronized and abnormal neuronal activity in the brain.\n- Hydrocephalus is excessive accumulation of cerebrospinal fluid (CSF) in the brain which leads to rapid increase in intracranial pressure and hence in the volume of the brain.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can fall asleep at any time, regardless of whether you are already tired or bored.\n\nTherefore, the correct answer can be given as D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep at inappropriate times, such as while you're eating or talking. So the correct answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep at random during the day.\n\nD (Narcolepsy).<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep suddenly and uncontrollably.\n\nThe answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep suddenly and uncontrollably.\n\nSo the correct answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find that you might fall asleep suddenly and uncontrollably.\n\nSo the correct answer is D, narcolepsy.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, and you can find this information on multiple medical websites, such as the Mayo Clinic, Healthline, and others.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), and sleep paralysis, and it is the correct answer.\n\nThe answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), and sleep paralysis.\n\nTo get the answer for the question, consider the definitions of the disorder below.\n\nD). Narcolepsy\n\nRegarding narcolepsy,\nMedical Definition of Narcolepsy\nNarcolepsy: A disorder of the central nervous system that impairs the control the brain has over sleep-wake cycles.\nPeople with narcolepsy have lapses into daydreamy states, automatic behavior while awake, hallucinations (the sensation of hearing, seeing, tasting, or touching something that is not there), and sleep paralysis (the feeling of being unable to move when falling asleep or waking up).\nWhen the respiratory or circulatory systems are affected, symptoms can include low blood pressure, rapid heart rate, and memory loss.\n\nB) and C) are both disorders affecting the nervous system but do not cause excessive sleepiness during the day.\n\nA) is a disorder related to reading and learning, does not affect sleep.\n\n<|end_of_text|>",'Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, hypnagogic hallucinations, and disrupted nocturnal sleep. Because of the sudden sleep attacks, patients may sleep anywhere, anytime. People with narcolepsy may have vivid dreams or "sleep talking" upon falling asleep. People with narcolepsy often find that they are unable to talk or move when they suddenly wake up in the middle of sleep (sleep paralysis). Often times people are platysma muscle and cause injuries, falling  into chairs, doors or onto floors. Narcolepsy is often misdiagnosed as epilepsy or compulsive sleep disorder so this often goes unnoticed until the person fall/se beiging  transported. D.<|end_of_text|>',"Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in learning to read despite conventional educational and intelligence interventions. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid. Epilepsy is a disorder characterized by sudden recurrent episodes of brain dysfunction due to abnormal excessive firing of brain cells (neurones), such as temporary confusion, strange behavior, uncontrollable jerking movements or staring spells.\n\nAnswer: D.\n\n<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in learning to read despite conventional educational and intelligence interventions. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid. That results in enlarged ventricles and subsequent brain swelling and damage. Even though it may cause excessive sleepiness in certain cases, it is not characterized primarily by this disorder. Epilepsy is a disorder of brain function characterized by a risk of (usually recurrent) epileptic seizures that manifest as brief episodes of brain malfunction resulting in involuntary movement, behavior, emotions, and loss of consciousness.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in learning to read despite conventional educational and intelligence interventions. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid. Epilepsy is a disorder characterized by sudden recurrent episodes of brain dysfunction due to abnormal excessive firing of brain cells (neurones), such as temporary confusion, strange behavior, paralysis or jerking movements, or loss of consciousness. The only possible answer in this case is D.\nD.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and sleep-onset rapid eye movement sleep.\n\nSo, D. Narcolepsy is the most suitable option.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in learning to read despite conventional educational and intelligence interventions. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid. Epilepsy is a disorder characterized by sudden recurrent episodes of brain dysfunction due to abnormal excessive neuronal activity.\n\nOption D.<|end_of_text|>","Narcolepsy is characterized by excessive daytime sleepiness, cataplexy, sleep paralysis, vivid dreaming (hypnogogic hallucinations), and fragmented sleep. Dyslexia is a disorder manifested by difficulty in recognizing and reading words. Epilepsy is a disorder of the central nervous system characterized by recurrent, unprovoked seizures. Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to ventricular dilatation, increased intracranial pressure, and progressive enlargement of the head in infants.\n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is characterized by sudden and overwhelming sleepiness. Thus, the answer is D) Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally resulting in excessive daytime sleepiness, sleep attacks and deep sleep or cataplexy. \n\nMys answer: D<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally resulting in excessive daytime sleepiness, sleep attacks and sudden sleep onset. \n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally resulting in excessive daytime sleepiness, interrupted sleep, and sudden sleep attacks (NETI, 2021). In response to these information, the answer is D).\n\nReference:\nNETI. (2021). Narcolepsy. https://www.neti.nih.gov/Disorders/Pages/narcolepsy.aspx<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to regulate sleep-wake cycles (circadian rhythms). My reasoning is that the correct answer is D.\n\nAnswers: D<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally resulting in excessive daytime sleepiness, sleep attacks, sleep inertia, and cataplexy. Your answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder. It is characterized by poor sleep habits and disturbed sleep patterns. It increases daytime sleepiness and affects the entire circadian sleep-wake cycle. \n\nOptions like Dyslexia are learning disabilities that affect reading ability. Epilepsy is a neurological disorder that causes seizures. Hydrocephalus is a condition in which an accumulation of cerebrospinal fluid (CSF) in the brain results in head enlargement.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles normally.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's inability to regulate sleep-wake cycles. Nerve cells in the brain that are responsible for triggering this sleep-related reflexes, produce too much of a neurotransmitter called hypocretin or orexin, which disrupts the normal sleep pattern.\n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times. Narcoleptics also experience an uncontrollable need to sleep at any and all times of the day. Those with narcolepsy can become drowsy or fall asleep in the middle of an activity, such as having a conversation, reading, driving or watching television.\n\nFinal Answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times. Narcoleptics also experience an uncontrollable need to sleep at any and all times of the day and can enter that sleep state abruptly. This includes instances of not being able to stay awake during the day, even when intentionally trying to stay awake. Narcolepsy is often characterized by the development of sleep attacks at any time of day, sometimes during an intense conversation or while eating or driving. But the answer to the question actually provides more medical facts about Narcolepsy.\n\nAnswer: B.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times. Narcoleptics also experience sudden sleep episodes during the day, which is referred to as sleep attacks. Narcolepsy is not correctly described by the other answer options. Narcolepsy had far-reaching consequences on social and work life. Narcoleptic patients may inadvertently sleep for a few seconds to several minutes at a time, as many as 20 times per day.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times. Narcoleptics also experience an uncontrollable need to sleep at any and all times of the day. Those with narcolepsy can become drowsy or fall asleep in the middle of conversations, while reading, or at their place of work. In the 1950s, a scientist named E. Aserinsky discovered that people with narcolepsy have REM sleep episodes intrude into their wakefulness; hence napping during the day.\n\nSo, the correct answer is D. I hope it is correct.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times, such as while eating, working, or talking. It is a chronic disease with no cure that usually begins during young adulthood. It's  easier to stay awake in well-lit, quiet places. I'll go with option D.\n\nD. Narcolepsy. <|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times, such as while eating, working, or talking.\n\nSo the correct answer is D: Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times, such as while eating, working, or talking.\n\nSo the correct answer is D: Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder involving the brain's ability to control sleep-wake cycles. It is marked by excessive daytime sleepiness and frequent sleep attacks, often at inappropriate times, such as while eating, working, or talking.\n\nSo the correct answer is D: Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer should be D.\n\nNarcolepsy (from French narcolepsie, created by correlation of Greek narke 'numbness, sleep' and lepis'seizing') is a chronic sleep disorder characterized by overwhelming daytime sleepiness. This results in a person falling asleep at inappropriate times and places. Narcolepsy is often accompanied by other features, which can include sleep paralysis, hypnagogic hallucinations, Automatic behavior (while dozing), and difficulty staying awake.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer should be D.\n\nThough seizures are characteristic of epilepsy, they do not relate to sleep or result in sleep during the day. Though eosinophilic hydrocephalus is a rare but potentially fatal type of hydrocephalus, as a neurological disorder its characteristics do not include uncontrollable sleep. Though dyslexia is a developmental disorder, it too does not include sleep.\n\nThus, the multiple-choice answer from the list provided is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer should be D.\n\nNarcolepsy (from French narcolepsie, created by correlation of Greek narke 'numbness, sleep' and lepis'seizing') is a chronic sleep disorder characterized by overwhelming daytime sleepiness. This results in a person falling asleep at inappropriate times and places. Narcolepsy is often accompanied by other features, which can profoundly impact upon people's quality of life. Most sleep researchers believe that the primary problem in people with narcolepsy is an inability to control the normal transitions between sleep and wakefulness.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer should be D.\n\n<|end_of_text|>",' Option D.\nThe definition of Narcolepsy is from Greek, "nocturnal sleepiness". Also known as "sleep attacks", it is a disorder of the nervous system characterized by bouts of drowsiness. It is caused by an uncoordinated interplay between Areas 5 and 10 of the brain.\n\nThis information is picked from revised version 9.1.0 of the coding dictionary of 8, the 5th version of the copyrighted Internatinal Classification of Diseases (ICD-5).<|end_of_text|>',"Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer: D).<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day (C). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they connect to form words (A). Epilepsy is a disease defined by recurrent, unprovoked seizures (B). Hydrocephalus is a buildup of fluid in the cavities (ventricles) inside the brain (C).<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day (Cataplexy, excessive daytime sleepiness, and sleep paralysis can be possible accompaniments of Narcolepsy). The correct answer is option D).<|end_of_text|>","Narcolepsy is a condition that causes excessive daytime sleepiness. Narcolepsy often appears in childhood or adolescence, though it can also appear later in life. People with narcolepsy experience periods of sleep during the day, even when they do not feel tired. The primary symptom of narcolepsy is excessive daytime sleepiness (EDS).\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. Another common symptom is sleep paralysis. In addition, people with narcolepsy may experience vivid hallucinations when falling asleep or waking up.\n\n\nSo the final answer is D.<|end_of_text|>","Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day D.\n\n<|end_of_text|>","Narcolepsy is a sleep disorder characterized by abnormal and uncontrollable sleep attacks (hypnagogic sleep attacks) throughout the day and is caused by sudden and dramatic changes in brain chemistry during transition from wakefulness to sleep and vice versa. This is the reasoning for the answer:\n\nD. Narcolepsy<|end_of_text|>","Narcolepsy, a sleep disorder, involves episodes of sleep during the daytime, so the answer is D.<|end_of_text|>","Narcolepsy causes disturbing sleep disturbances such as sleep paralysis, cataplexy, sleepwalking sleeping, and REM in the waking state. A person affected by this pathology begins to fall asleep for several times throughout the day, and may fall asleep suddenly, causing a loss of muscle tone, which may lead to everyday accidents. Therefore, the correct answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer is D). Narcolepsy.\n\n<|end_of_text|>","Narcolepsy is a neurological disorder characterized by lapses into sleepiness, catalepsy, and sleep paralysis, initiated when the nervous system is under drowsiness or tired.\n\n\nSo the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The loss of waking and sleeping pathways can lead to sleep attacks, sleepwalking, and paralysis while sleeping. Epilepsy is a disorder of the brain that causes seizures. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, especially as a result of a defect in phonological processing. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, leading to enlarged head size and problems with mental development. Because Narcolepsy was described as a disorder characterized by uncontrollable episodes of falling asleep during the day and fits all the evidence the correct option is D).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycle, resulting in excessive daytime sleepiness. Therefore, the correct answer is:\n\nD) narcolepsy\n\nEach letter corresponds to a disorder characterized by uncontrolable episodes of falling asleep during the day: A) Dyslexia, B) Epilepsy, C) Hydrocephalus, D) Narcolepsy. \n\nAs it is a multiple-choice question, and I can't be wrong, I double-checked the information, and the correct answer is:\n\nD) narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. The reason is that the answer to the question that has nothing to do with brain damage, epilepsy, or hydrocephalus. Therefore, the final answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day, usually associated with sleep paralysis (the state of temporary paralysis that sometimes occurs when falling asleep, during which one is fully conscious and aware of their surroundings). It is classified under the category of sleep disorders, which affect sleep patterns and quality, and is the correct choice.\n\nHere is the reasoning: Narcolepsy is characterized by sudden attacks of excessive sleepiness usually coming on without warning. It can affect people in any age group and may be misdiagnosed in children and teenagers as a lack of alertness or an attempt to avoid responsibilities. Narcolepsy is believed to be caused by a dysfunction of the hypothalamus, a small, bean-shaped region at the base of the brain that governs many important body functions (the autonomic nervous system), including sleep.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","Narcolepsy is a sleep disorder that involves feelings of excessive sleepiness and sleep episodes occurring at inappropriate times, such as during daytime activities. \n\nAnswer D. \nNarcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by excessive daytime sleepiness.   Therefore, the correct answer is:\n\nD: Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of sleep during the day, including sleep attacks.\n\nFinal answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of sleep during the day, including sleep attacks.\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of sleep during the day, including sleep attacks.\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep, while the rest of the differentials provided are different disorders.\n\nSo the final answer is D.<|end_of_text|>","Narcolepsy is a nervous system disorder that affects a person's ability to regulate their sleep--wake cycles.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a sleep disorder that affects the ability to regulate sleep-wake cycles. Characteristic symptoms of the disorder include excessive daytime sleepiness, sleep paralysis, and/or vivid dreams. Narcolepsy is not characterized by uncontrollable episodes of falling asleep during the day. The answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle tone), disrupted sleep, sleep paralysis, and hallucinations.\n\nAnswer: D<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle tone), disrupted sleep, and vivid dreams. Narcolepsy is a sleep disorder which causes extreme daytime sleepiness. Narcolepsy is typically caused by the neurons in the brain being unable to communicate effectively with the body.\n\nD.<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle tone), disrupted sleep, sleep paralysis, and vivid dream-like hallucinations during sleep onset or while drowsy. Narcolepsy affects people of all ages, genders, nationalities, and ethnic backgrounds, but it is not contagious or associated with lifestyle choices. Narcolepsy has been detected in archaeological specimens and paintings from the Renaissance, and its sleep disorder has long been documented in literature and clinical medicine; however, its causes only became apparent with the discovery of the hypocretin system, especially the receptor and neuropeptide hypocretin. Narcolepsy can be either a short-term or a lifelong condition, though anorexia and malnutrition may exacerbate it. People with narcolepsy have been often affected by sleep disorders since childhood and adolescence before adulthood, as their symptoms-which emerged earlier in life-were borne up until adulthood. To properly diagnose narcolepsy, the person has to undergo a thorough clinical appraisal which includes a dream-enactment study (polysomnography). The severity and estimations of Narcolepsy\u2019s impact can often vary from person to person.\n\nFurther information for the answer: https://en.wikipedia.org/wiki/Narcolepsy\n\nD.<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle strength) and sleep disturbances.\n\nTherefore, the correct answer to the question is (D).<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by sleepiness, cataplexy (sudden loss of muscle tone), disrupted sleep, sleep paralysis, and hallucinations.  Therefore, the final answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that is characterised by poor control over sleep-wake cycles, which leads to an occurrence of sudden sleep attacks at inappropriate times. \n\nSleep disturbances and sleep attacks are common symptoms of narcolepsy, which is considered a chronic condition. Narcolepsy is thought to be caused by a combination of genetic and environmental factors.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, which is why the correct answer is D). Narcolepsy. \n\nDyslexia is a learning disorder that causes difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (A). Epilepsy is a neurological disorder in which brain activity becomes abnormal, causing seizures (B). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain, leading to brain swelling (C).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, which is why the correct answer is D). Narcolepsy. \n\nDyslexia is a learning disorder that causes difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (A). Epilepsy is a neurological disorder in which brain activity becomes abnormal, causing seizures (B). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and progressive enlargement of the head (C).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, which is why the correct answer is D). Narcolepsy. \n\nDyslexia is a learning disorder that causes difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words in written language. (A)\n\nEpilepsy is a central nervous system (neurological) disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes losing consciousness. (B)\n\nHydrocephalus is a disorder in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain. This can increase intracranial pressure, which can damage brain tissue. (C)<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, which is why the correct answer is D). Narcolepsy. \n\nD).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an example: \nhttps://www.mayoclinic.org/diseases-conditions/narcolepsy/symptoms-causes/syc-20350776<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to sleep at night, and control sleep-wake cycles properly. Narcolepsy is caused by a problem in a part of the brain that regulates sleep. Narcolepsy is characterized by attacks of sleep during the day, called sleep attacks.\n\nSo the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an example: \nhttps://www.mayoclinic.org/diseases-conditions/narcolepsy/symptoms-causes/syc-20350748<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an example: \nhttps://www.mayoclinic.org/diseases-conditions/narcolepsy/symptoms-causes/syc-20375463<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an additional answer reference. We select the most reliable source for you:\n\nNarcolepsy | NIMH - https://www.nimh.nih.gov/health/topics/narcolepsy/index.shtml<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an additional answer reference. We select the most reliable source for you:\n\nNarcolepsy disorder: Symptoms, causes, diagnosis, and treatment (medicalnewstoday.com)<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an additional answer reference. We select the most reliable source for you:\n\nNarcolepsy disorder: Symptoms, causes, diagnosis, and treatment (medicalnewstoday.com)\n\nNow to advance, please click the option D).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an argument in favor of that answer, like: https://www.ninds.nih.gov/Disorders/patient-caregiver-education/disease-information-ninds/narcolepsy#10304-taking-naps<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical source as an argument in favor of that answer, like: https://www.ninds.nih.gov/Disorders/patient-caregiver-education/disease-information-ninds/narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with narcolepsy often experience excessive daytime sleepiness, rapid eye movement (REM) sleep episodes during the day, sleep paralysis, hypnagogic hallucinations, and cataplexy. These symptoms significantly impair a person's ability to function during the day.\n\nTherefore, the correct answer is D). Narcolepsy.\n\nNevertheless, anyone can find a link to an article from a reputable medical website that backs an explanation similar to the one provided above.<|end_of_text|>",'Narcolepsy is a neurological disorder that affects a person\'s ability to regulate their sleep-wake cycles. A person with narcolepsy may suddenly fall asleep during the day, often described as having "sleep attacks". Narcolepsy can also include other symptoms such as sleep paralysis, vivid dreams upon waking, and cataplexy (sudden loss of muscle tone while awake). Therefore, the answer is D.<|end_of_text|>',"Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles. A person with narcolepsy may suddenly fall asleep during daytime activities, and may experience vivid hallucinations or develop a loss of muscle control (cataplexy). Therefore, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms such as cataplexy, sleep paralysis, and vivid dreaming (hypnagogic hallucinations) while falling asleep or waking up, distinguishes narcolepsy from other sleep disorders like insomnia or sleep apnea.\n\nThus, the correct answer is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate sleeping and waking cycles. Symptoms of narcolepsy include daytime sleepiness and sleep attacks - sudden and irresistible urges to sleep. Epilepsy is a neurological disorder characterized by recurrent seizures. Seizures are abnormal electrical or brain activity that can cause unusual sensations, movements, behaviors, or convulsions, as well as a loss of awareness. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. (B).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms such as cataplexy, sleep paralysis, and vivid dreaming (hypnagogic hallucinations) while transitioning into sleep, distinguishes narcolepsy from other sleep disorders and conditions mentioned. \n\nTherefore, the correct answer is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of context or activity.\nThe final answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms such as cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and vivid and sometimes disturbing dreams upon awakening, distinguishes narcolepsy from other sleep disorders and drowsiness caused by factors like fatigue or lack of sleep.\n\nSince the question asks for a disorder characterized by uncontrollable episodes of falling asleep during the day, and narcolepsy is the specific disorder known for this symptom, the correct answer is:\n\nD). Narcolepsy\n\nTherefore, the reasoning behind choosing option D narcolepsy is that it accurately describes a condition where individuals experience uncontrollable episodes of daytime sleep, which is a core feature of narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nMy answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nOther conditions listed in the options have different characteristics:\n\n- Dyslexia is a specific learning disability related to reading.\n- Epilepsy is a neurological disorder characterized by recurring seizures.\n- Hydrocephalus is a condition where there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, potentially leading to increased pressure within the skull.\n\nBased on the description and the specific characteristics mentioned, the correct answer is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other sleep disorders.\n\nThe answer is therefore (D), Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nOther conditions listed in the options have different characteristics:\n\n- Dyslexia is a learning disorder that primarily affects the ability to read, write, and spell in a regular manner.\n- Epilepsy involves recurrent, unprovoked seizures.\n- Hydrocephalus is the buildup of cerebrospinal fluid in the skull, which can lead to increased intracranial pressure and brain damage.\n\n\nTherefore, the correct answer is D) Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nOther conditions listed in the options have different characteristics:\n\n- Dyslexia is a learning disorder that primarily affects the ability to read, write, and spell in a regular manner.\n- Epilepsy involves recurrent, unprovoked seizures.\n- Hydrocephalus is the buildup of cerebrospinal fluid in the skull, which can lead to increased intracranial pressure and brain damage.\n\n\nTherefore, the correct answer that characterizes a disorder with uncontrollable episodes of falling asleep during the day is:\n\nD) Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), distinguishes narcolepsy from other neurological conditions.\n\nOther conditions listed in the options have different characteristics:\n\n- Dyslexia is a learning disorder that primarily affects the ability to read, write, and spell in a regular manner.\n- Epilepsy involves recurrent, unprovoked seizures.\n- Hydrocephalus is the buildup of cerebrospinal fluid inside the skull, leading to increased pressure on the brain.\n\nTherefore, the correct answer is D) Narcolepsy for the disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and nighttime sleep disturbances, makes narcolepsy distinct from conditions like dyslexia, epilepsy, and hydrocephalus. Therefore, the correct answer is D, Narcolepsy.\n\n<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and nighttime sleep disturbances, makes narcolepsy distinct from conditions like dyslexia, epilepsy, and hydrocephalus. Therefore, the correct answer is D, Narcolepsy.\n\nNarcolepsy affects the control of sleep-wake cycles, leading to the sudden onset of sleep during the day. In contrast, dyslexia is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to written words (incidence not related to the circadian rhythm), epilepsy involves recurrent, unprovoked seizures, and hydrocephalus is a condition that causes fluid to build up in the brain, affecting the brain's functioning in different ways but not characterized by episodes of sleep.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), can severely impact an individual's daily activities and quality of life. It's important to note that narcolepsy is distinct from conditions like epilepsy, which involves seizures but not sleep issues, or hydrocephalus, which is a condition where cerebrospinal fluid accumulates in the brain, causing enlarged head size from increased pressure within the skull. Furthermore, dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence, and it is unrelated to sleep disorders. Hence, D (Narcolepsy) is the correct answer.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), can severely impact an individual's daily activities and quality of life. It's important to note that narcolepsy is distinct from conditions like epilepsy, which involves seizures but not sleep issues, or hydrocephalus, which is a condition where there is an accumulation of cerebrospinal fluid in the brain and can cause a range of symptoms, including headaches and sleep disturbances but not the specific episodes of sleepiness associated with narcolepsy. Dyslexia, on the other hand, is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they represent various letters and words. Given the context of the question, the correct answer is D due to its direct link to uncontrollable episodes of falling asleep during the day, a defining symptom of narcolepsy.\n\nD<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to fall asleep during the day, regardless of the time or situation. This excessive sleepiness, coupled with other symptoms like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake), can severely impact an individual's daily activities and quality of life. It's important to note that narcolepsy is distinct from conditions like epilepsy, which involves seizures but not sleep issues, or hydrocephalus, which is a condition where there is an accumulation of cerebrospinal fluid in the brain and can cause a range of symptoms, including headaches and sleep disturbances but not the specific episodes of sleepiness seen in narcolepsy. Dyslexia, on the other hand, is a learning disorder characterized by difficulties with spoken language, reading, and writing. Hence, the correct answer is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to sleep during the day, despite getting adequate nighttime sleep.Multiple-choice questionAnswer: D<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, where individuals experience sudden and overwhelming urges to sleep during the day. This causes them to fall asleep uncontrollably at inappropriate times.\n\nSo, the correct answer is D. Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycle and is a disorder that is often characterized by involuntary episodes of falling asleep. The correct option is D.\n\nThe other options do not correctly describe the disorder.\nA). Dyslexia is a learning disorder that impairs a person's ability to read and process language.\nB). Epilepsy is a neurological disorder that causes recurring seizures due to abnormal brain activity.\nC). Hydrocephalus is a condition that causes enlargement of the head due to the accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness.\n\nSo, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, as the disorder causes the body to fall into sleep without warning at inappropriate times during the day. \n\nTherefore, the correct answer is D. <|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is excessive daytime sleepiness, as the disorder causes the body to fall into sleep without warning at times when it would normally be awake (National Institute of Neurological Disorders and Stroke, 2021). The answer is D).<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, even in situations where staying awake is necessary.\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. People with this disorder may fall into deep sleep suddenly and without warning, especially if they have had insufficient sleep the night before. They may also have sudden, brief episodes of muscle weakness.\n\nTherefore, answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, even in situations where staying awake is necessary, such as while eating or having a conversation. Narcolepsy is the best choice among the options listed.\n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition that occurs when there is an abnormal buildup of cerebrospinal fluid (CSF) in the brain.\n\nTherefore, the correct answer to the question is:\n\nD). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, option A, is a learning disorder characterized primarily by difficulty in learning to read despite normal intelligence. Hydrocephalus, option C, is a rare disorder in which a buildup of cerebrospinal fluid in the brain leads to increased intracranial pressure.\n\nTherefore, the correct answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to increased intracranial pressure and progressive enlargement of the head. \n\nTherefore, the correct answer is:\n\nD). Narcolepsy\n\nThe reasoning behind this choice is that narcolepsy accurately represents a disorder characterized by uncontrollable episodes of falling asleep during the day, as stated in the question.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to increased intracranial pressure and progressive enlargement of the head. \n\nTherefore, the correct answer to the question is D) Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to widening of spaces around and within brain structures. Sleep episodes triggered by excessive daytime sleepiness are not characteristic of these conditions. Therefore, the correct answer is D. Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, on the other hand, is characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain; hydrocephalus involves an abnormal accumulation of cerebrospinal fluid in the brain, which can lead to increased intracranial pressure and potentially result in headaches, vomiting, cheerful behavior, and changes in sleep; dyslexia is a learning disorder characterized by difficulty in recognizing written words, decoding language, and pronouncing words. The correct answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that involves a sleeping disorder. People who suffer from narcolepsy will find it difficult to transition between sleep and wakefulness. Narcolepsy has four primary symptoms: excessive daytime sleepiness, sleep attacks, sleep paralysis, and vivid nightmares or hallucinations. Narcolepsy often starts between the ages of 10 and 25, and symptoms tend to last a lifetime.  A person can live a normal, healthy, and productive life with proper treatment and adequate amounts of practical sleep.  The letter corresponding to the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the daytime, regardless of circumstances. Epilepsy, represented by option B, is a chronic disorder involving recurrent, unprovoked seizures. Dyslexia, chosen as option A, is a specific learning disability that impairs a person\u2019s ability to understand and work with words. Hydrocephalus, chosen as option C, is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, which leads to increased intracranial pressure and dilation of the ventricles.\n\nThe final answer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally. A hallmark of narcolepsy is sudden bouts of sleep during the day, which is known as sleep attacks. Epilepsy, on the other hand, is a disorder involving recurrent, unprovoked seizures. Dyslexia is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Hydrocephalus is a condition that involves an abnormal accumulation of cerebrospinal fluid in the brain, resulting in enlarged head size and potentially causing damage to the brain. Therefore, the correct answer is:\n\nD). Narcolepsy\n\n\nThe reasoning for this choice is that narcolepsy is the disorder characterized by uncontrollable episodes of falling asleep during the day. None of the other options provided accurately describe a disorder characterized by excessive daytime sleepiness.<|end_of_text|>","Narcolepsy is a neurological disorder that involves abnormal control of sleep-wake cycles. Narcoleptics may fall asleep during their daily activities, including while sitting, standing, or while eating.\n\nTherefore, the answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder that involves abnormal control of sleep-wake cycles. Narcoleptics may fall asleep during their daily activities, including while sitting, standing, or while eating.\n\nTherefore, the answer is D<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to sudden transitions from wakefulness to deep sleep. Uncontrollable episodes of falling asleep during the day are a hallmark symptom of this disorder.\n\nTherefore, the answer is: D<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to sudden transitions from wakefulness to deep sleep. Uncontrollable episodes of falling asleep during the day are a hallmark symptom of this disorder.\n\nTherefore, the answer is: D). Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to sudden transitions from wakefulness to deep sleep. Uncontrollable episodes of falling asleep during the day can be a hallmark of this disorder. \n\nThe correct answer is (D). Narcolepsy<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to sudden transitions from wakefulness to deep sleep. Uncontrollable episodes of falling asleep during the day are a hallmark symptom of this disorder.\n\nTherefore, the answer is D (Narcolepsy).<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sleep attacks, and other disrupted sleep phenomena.\n\nSo, the correct answer is: D.<|end_of_text|>","Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. Daytime sleepiness is a key feature of this disorder. Children who are overweight or obese are at greater risk for developing narcolepsy. Three times more common in males than females, narcolepsy has been associated with the HLA-C and HLA-DQB1 genes. \n\nThe answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sleep attacks, and other disrupted sleep phenomena.\n\nSo, The final answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sleep attacks, and other disturbed sleep patterns, such as sleep walking or sleep talking. Intriguingly, research has identified a link between narcolepsy and the immune system. For example, a  study that conducted a genetic analysis revealed that some of the genetic variants associated with narcolepsy are present on the HLA (Human Leukocyte Antigen) region. Interestingly, another  study found that individuals suffering from narcolepsy type 1 have higher levels of certain cytokines\u2014molecules produced by immune cells\u2014 than healthy adults. Since narcolepsy significantly impacts the quality of sleep and leads to sleep episodes during the day, it is the correct answer to the question. Thus, the answer is D, Narcolepsy.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sudden sleep attacks, sleep paralysis, and vivid dream-filled sleep. The reason I discarded option A (Dyslexia) is a learning disorder that results from a difficulty in understanding and processing language. The reason I discarded option B (Epilepsy) because it is a is a central nervous system disorder in which a person has recurring seizures. The reason I discarded option C (Hydrocephalus) is an abnormal buildup of cerebrospinal fluid, leading to enlargement of the brain ventricles, upward curvature of the sternum, and dislocation of the lenses of the eyes. The letter corresponding to the correct answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness, sleep attacks, and other disrupted sleep phenomena.\n\nSo, The answer is D).<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles usually as a result of having orexin. Orexin is a protein that helps people to stay awake. The disorder is not the same as sleeplessness and most people who suffer with the disorder are able to fall asleep with no druginvolvement.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness. The answer is D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain does not properly regulate sleep-wake cycles. It is characterized by intense daytime sleepiness, along with sleep that begins almost immediately when you lie down to rest or sleep. Narcolepsy is accompanied by sudden sleep episodes, but not necessarily with the symptoms of dreaming that are typical of REM sleep, although it's not exactly a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nHence, the correct answer is B).<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles normally. Narcoleptics experience excessive daytime sleepiness, sleep paralysis, vivid nightmares, and an occasional inability to move upon awakening. That disorder fits the final representation about anatomy and neuroscience.\n\nReasoning: Narcolepsy is a disorder that affects sleep-wake cycles in an individual's brain.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles normally. Symptoms typically include excessive daytime sleepiness, insomnia, and sudden muscle weakness. Narcolepsy may affect up to 1 in 2,000 people in some countries.\n\nAnswer: D.<|end_of_text|>","Narcolepsy is a neurological disorder that causes excessive daytime sleepiness and sleep attacks, often triggered by strong emotions. It was a challenging disorder throughout human history (the story of Julius Caesar's death has been told as a narcolepsy case). Sleep attacks for these people are quick onset and require deep sleep. Narcolepsy also includes sleep paralysis, rapid eye movement disorder, and waking hallucinations.  \n\nThe answer is: D).<|end_of_text|>","Narcolepsy is a neurological disorder in which the brain cannot regulate sleep-wake cycles effectively, leading to excessive daytime sleepiness. The answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day. Epilepsy is a neurological disorder characterized by recurrent seizures, and Dyslexia is a learning disorder characterized by difficulties with reading. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlargement of the brain and increased intracranial pressure, which can cause drowsiness or sleep disturbances, but not the type of sudden sleep attacks as seen in Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day. Epilepsy is a neurological disorder characterized by recurrent seizures, and Dyslexia is a learning disorder characterized by difficulties with reading. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlargement of the brain and increased intracranial pressure, which can cause drowsiness or sleep disturbances, but not the type of sleep attacks seen in narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day. Epilepsy is a neurological disorder characterized by recurrent seizures, and Dyslexia is a learning disorder characterized by difficulties with reading. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlargement of the brain and increased intracranial pressure, which can cause drowsiness and other symptoms.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4). Therefore, only Narcolepsy fits the description of a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n(1)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3315322/\n(2) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4854973/\n(3) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6434660/\n(4) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4692017/<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4). Therefore, only Narcolepsy fits the description of a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n(1)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4098573/\n(2)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4076980/\n(3)https://www.causeyonline.com/narcolepsy-dyslexia-and-our-understanding-of-legal-disabilities/\n(4)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4266520/<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4). Therefore, only Narcolepsy fits the description of a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n(1)https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3315322/\n(2) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4854973/\n(3) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2705557/\n(4) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6327870/<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased intracranial pressure and potential damage to the brain (4). Therefore, only Narcolepsy fits the description of a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n(1)https://www.ninds.nih.gov/Disorders/Patient-Caregiver-Education/Narcolepsy\n(2)https://www.epilepsy.com/what-is-epilepsy\n(3)https://www child mind. org/en/narcolepsy\n(4)https://www.mayoclinic.org/diseases-conditions/hydrocephalus/symptoms-causes/syc-20350088\n\n\nSo, D (Narcolepsy) is the correct answer.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain responsible for sleep-wake cycles, does not produce enough hypocretin (also known as orexin), a neuropeptide involved in the regulation of sleep and wakefulness.\n\nReasoning: Unlike the other options, Narcolepsy is primarily characterized by the uncontrollable episodes of falling asleep during the day, frequently during normal waking hours (1). This is different from epilepsy, which is characterized by recurrent seizures (2). Dyslexia is a learning disorder that affects language and reading skills (3), and hydrocephalus is a buildup of cerebrospinal fluid around the brain, which can lead to increased pressure in the brain, but it doesn't cause sleepiness (4). Thus, the disorder that resembles the uncontrollable episodes of falling asleep during the day is narcolepsy. Main sources (1, 2, 3, 4)\nSources (1) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1447683/\nSources (2) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1447683/\nSources (3) https://pubmed.ncbi.nlm.nih.gov/18253073/\nSources (4) https://pubmed.ncbi.nlm.nih.gov/20149335/<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain, cannot regulate the sleep-wake cycle due to the lack of hypocretin, a neurotransmitter that regulates sleep and wakefulness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain, cannot regulate the sleep-wake cycle.\n\nThe other options do not accurately describe the symptoms or causes of uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder that affects reading abilities, epilepsy is a brain disorder characterized by seizures, and hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased head size, brain damage, and other symptoms.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain, cannot regulate the sleep-wake cycle.\n\nThe other options do not accurately describe the symptoms or causes of uncontrollable episodes of falling asleep during the day. \nDyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a condition characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition involving the buildup of fluid in the cranial vault, causing increased pressure on the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder characterized by constant sleepiness and sudden sleep attacks at inappropriate times during the day. The disorder occurs when the hypothalamus, a part of the brain, cannot regulate the sleep-wake cycle.\n\nThe other options do not accurately describe the symptoms or causes of narcolepsy. For example, dyslexia is a learning disorder that affects the way the brain processes written and spoken language, epilepsy is a disorder of the brain characterized by recurrent, unprovoked seizures, and hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer to the question is D, Narcolepsy.\n\n\n\n\n<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness due to poor sleep quality and frequent bouts of falling asleep for brief periods, especially during stressful situations or activities that require mental effort. Narcolepsy is characterized by \u201csleep attacks\u201d that can occur regardless of the time of day, which greatly affects the person's quality of life.\n\nSo, to answer the question, choose option D.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is a seizure disorder caused by abnormal activity in the brain cells. \n\nHydrocephalus is a condition that causes enlargement of the head due to progressive accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is a seizure disorder caused by abnormal activity in the brain cells. \n\nHydrocephalus is a condition that causes enlargement of the head due to progressive accumulation of cerebrospinal fluid (CSF) in the brain's ventricles (fluid-filled spaces).<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day. It's caused by problems with the brain's ability to regulate sleep-wake cycles and is believed to be a result of a lack of the neurotransmitter hypocretin. Epilepsy is lifelong brain disorder that causes recurrent, unprovoked seizures. It is an sudden surge of electrical and chemical activity in the brain. However, this has no relation to sleep episodes. Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. This, too, has nothing to do with sleep. Hydrocephalus (water on the brain) is a potentially serious condition caused by a buildup of spinal fluid inside the skull that leads the brain to swell. This can damage brain cells and tissues, but it also has no relationship to sleep episodes. \n\nThe final answer: D.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is a seizure disorder caused by abnormal activity in the brain cells. \n\nHydrocephalus is a condition that causes enlargement of the head due to progressive accumulation of fluid in the brain.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which excess cerebrospinal fluid inside the skull leads to brain swelling, which can deprive brain tissues of oxygen and nutrients.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which excess cerebrospinal fluid inside the skull leads to brain swelling, which can deprive brain tissues of oxygen and impair their normal functioning. \n\nTherefore, the correct answer is D).<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying sounds and how they relate to letters and words (phonics). \n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which excess cerebrospinal fluid inside the skull causes the brain to swell. <|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and sudden sleep attacks during the day, even when the person has had enough sleep.\n\nDyslexia is a learning disorder that involves difficulty interpreting words, pronouncing them, and even understanding speeches particularly. It does not relate to uncontrollable behavior.\n\nEpilepsy is a disorder in which nerve cells in the brain send abnormal signals, which cause brief but frequent periods of impaired consciousness.\n\nHydrocephalus is an enlargement of the fluidspaces in the brain which may leads to severe loss of brain function, however, it does not result in uncontrollable episodes of falling asleep during the day either.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that is characterized by uncontrollable episodes of falling asleep during the day, usually when doing normal activities. Individuals with narcolepsy have problems with weak or misfiring signals from part of the brain that controls sleep and wakefulness. The part that controls bodily movements is also affected.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and daytime sleep attacks. People with narcolepsy often experience sleep attacks without warning, even during day-to-day activities.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness during the day and sleep-wake cycle disturbances. These disturbances might include the tendency to fall asleep at inopportune times (sleep attacks). Narcolepsy is rare and usually starts during the teenage years or early adulthood. Narcolepsy is caused by the pathology of the cerebral cortex. Over 90 % of people (just as 90% or more of people) with narcolepsy have low levels of hypocretin (orexin), a neurotransmitter from a group of neurons (hypocretin-containing cells in lateral hypothalamus) that are important for the wakefulness, processing of stress or the emotions, and the desire to eat.<|end_of_text|>","The correct answer to the question is D. Narcolepsy.\n\nThis sleeping disorder in narcolepsy is characterized by sudden sleep episodes during normal waking hours (daytime). Narcolepsy syndrome we can observe in various sleep disorder clinical features including several elements like excessive daytime sleepiness, disturbed nocturnal sleep, cataplexy paralysis (during laughter, sighs, anger, etc.), sleep paralysis, vivid hallucinations during the onset sleep and/or awakening, nighttime sleepwalk, sleep-talking, sleep eating.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness and daytime sleep attacks. Narcolepsy affects about 1 in 2,000 people. Symptoms usually begin in young adulthood.\n\nAstudent iwth narcolepsey can suffer weakening of the leg muscles when the htere are trouble with joint movements. They are constantly sleepi and getting lost. People with has a cows, cats from 2 ta3 Scientifically proven and tested.\n\nThe other options are causes of medical troubles but involve sever1 symptoms of repeated falling sleep  during the day are not inducded.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes extreme sleepiness, sleep attacks, and often the patient experiences episodes of falling asleep at inappropriate times.  \n\nFor example, the answer A does not mention anything about involuntary sleep episodes; B does not mention anything about involuntary sleep episodes; C is not related to falling asleep. The answer B is considered correct, as narcolepsy is a disorder known to be related to this issue.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes a person to suddenly fall asleep, ascend from sleep, or momentarily lose muscle control during the day. Patients often feel extremely fatigued, sluggish, and groggy during the day, even after obtaining the proper amount of sleep at night. Narcolepsy can be diagnosed through MRI brain scans and multiple sleep latency tests. Narcolepsy treatment often includes medications, changes in setting, and therapy. <|end_of_text|>","The correct answer to the question is D.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, so the correct answer is D. Narcolepsy is a chronic neurological disorder that involves a dysfunction of the brain\u2019s ability to regulate sleep-wake cycles typically associated with rapid eye movement (REM) sleep. Narcolepsy is commonly characterized by excessive daytime sleepiness and/or suddenSleep attacks where an individual suddenly falls asleep without warning.\n\n<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness and interruptions in nighttime sleep (sleep attacks).<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness and interruptions in nighttime sleep (nighttime sleep is more frequent than it should be during the time it should take). These illnesses are usually controlled with behavioural measures and different types of drugs to help sleep. Narcolepsy is usually referred in adulthood, but it can also affect children. \n\nThe final answer: D.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. <|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience trouble with reading, writing, and spelling. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal collection of cerebrospinal fluid (CSF) in and around the brain.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing.\n\nEpilepsy is a condition that causes seizures. Most seizures occur because of an electrical disturbance in the brain.\n\nHydrocephalus is a condition that causes increased pressure in the brain. It is usually caused by a buildup of cerebrospinal fluid (CSF) in the brain's ventricles.\n\nSo the answer is D.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing regardless of their intelligence.\n\nEpilepsy is a neurological disorder that causes repeated seizures. It is caused by abnormal brain activity. \n\nHydrocephalus is a condition that causes excess cerebrospinal fluid to accumulate in the cavities of the brain. It is caused by obstruction of the circulation of the fluid in the brain.\n\nThus, the answer is: D). Narcolepsy.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing regardless of their intelligence.\n\nEpilepsy is a neurological disorder that causes repeated seizures. It is caused by abnormal brain activity. \n\nHydrocephalus is a condition that causes excess cerebrospinal fluid to accumulate in the cavities of the brain. It is caused by obstruction of the circulation of the fluid in the brain.\n\nThus, the correct answer is D) Narcolepsy, a sleep disorder that is characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing regardless of their intelligence.\n\nEpilepsy is a neurological disorder that causes repeated seizures. It is caused by abnormal brain activity. \n\nHydrocephalus is a condition that causes excess cerebrospinal fluid to accumulate in the cavities of the brain. It is caused by obstruction of the circulation of the fluid in the brain.\n\nThus, the correct answer is D) Narcolepsy.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep-wake cycle.\n\nComparatively, dyslexia is a learning disorder that causes problems with reading. People with dyslexia may experience difficulties with reading, spelling, and writing regardless of their intelligence.\n\nEpilepsy is a neurological disorder that causes repeated seizures. It is caused by abnormal brain activity. \n\nHydrocephalus is a condition that causes excess cerebrospinal fluid to accumulate in the cavities of the brain, causing it to enlarge.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a learning disorder that causes problems with reading, writing, and spelling. It is not related to sleep.\n\nB). Epilepsy: it is a neurologic disorder that causes seizures. It is not related to sleep.\n\nC). Hydrocephalus: it is a neurologic disorder that causes an abnormal accumulation of cerebrospinal fluid in the brain. It is not related to sleep.\n\nSo, the final answer is D. Narcolepsy.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a learning disorder that causes problems with reading, writing, and spelling. It is not related to sleep.\n\nB). Epilepsy: it is a neurologic disorder that causes seizures. It is not related to sleep.\n\nC). Hydrocephalus: it is a neurologic disorder that causes an abnormal accumulation of cerebrospinal fluid in the brain. It is not related to sleep.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a specific learning disability that affects the ability to read, process language and learn. It is related to the brain's language areas, which are responsible for processing written and spoken language.\n\nB). Epilepsy: it is a condition characterized by recurrent and unprovoked seizures. Seizures are results from abnormal and excessive hyperexcitability of a group of neurons in the brain which causes a short period of unconsciousness or lapse in attention.\n\nC). Hydrocephalus: it is an accumulation of cerebrospinal fluid (CSF) in the brain's ventricles (fluid-filled spaces) that leads to enlargement of the head, progressive damage to the brain, increased pressure inside the skull, and without treatment, can lead to the death of brain cells and irreversible impairments in the central nervous system.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a specific learning disability that affects the ability to read, process language and learn. It is related to the brain's language areas, which are responsible for processing written and spoken language.\n\nB). Epilepsy: it is a condition characterized by recurrent and unprovoked seizures. Seizures are results from abnormal and excessive hyperexcitability of a group of neurons in the brain which causes a short period of impairment or loss of consciousness and musclular contractions happening in such a way that previously well-established patterns of functionality of the brain are disrupted.\n\nC). Hydrocephalus: it is an abnormal accumulation of cerebrospinal fluid (CSF) within the ventricles of the brain, which could lead to enlargement of the head (in infants), increased intracranial pressure, and progressive enlargement of the head, congestion of the eyes, trouble with balance, headache, and vision problems.<|end_of_text|>","The correct answer to the question is: D). Narcolepsy.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may fall asleep at any time, even at inappropriate times. It is caused by a problem with how your central nervous system controls your sleep.\n\nThe other options:\n\nA). Dyslexia : it is a specific learning disability that affects the ability to read, process language and learn. It is related to the brain's language areas, which are responsible for processing written and spoken language.\n\nB). Epilepsy: it is a condition characterized by recurrent and unprovoked seizures. Seizures are results from abnormal and excessive hyperexcitability of a group of neurons in the brain which causes a short period of impairment or loss of consciousness and musclular contractions happening in a sudden involuntary manner.\n\nC). Hydrocephalus: it is a condition in which the cerebrospinal fluid accumulates in the ventricles (hollow spaces) of the brain, which causes the brain to swell. So there is an increased pressure on the brain having several impact as impairing the function of the brain, difficulty with physical motor movement, difficulty learning, impact on behavior and emotional response and visual impairment.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.\n\nDyslexia makes it difficult to read and interpret texts, while epilepsy are recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing severe and irreversible damage to the brain and nervous system.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.\n\nDyslexia makes it difficult to read and interpret texts, while epilepsy are recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing severe and permanent damage to the brain.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.\n\nDyslexia makes it difficult to read and interpret texts, while epilepsy are recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\n<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles, resulting in excessive daytime sleepiness and sudden sleep attacks. Other symptoms can include sleep paralysis, hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.\n\nDyslexia makes it difficult to read and interpret texts, while epilepsy are recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by episodes of falling asleep at inappropriate times during the day because of the brain's inability to fully transition from deeper stages of sleep to the lighter stages associated with wakefulness. Narcolepsy can also include other symptoms such as sleep paralysis, vivid dreams during sleep (cataplexy), and disturbed nighttime sleep.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures. It does not involve a loss of control over sleep.\n\nC). Hydrocephalus is a condition in which an abnormally large amount of cerebrospinal fluid (CSF) accumulates in the brain, leading to enlargement of the ventricles in the brain and increased intracranial pressure. It is not a sleep-related disorder.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures. Although seizures can disrupt sleep patterns, it does not cause uncontrollable episodes of falling asleep during the day specifically.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, leading to increased intracranial pressure and enlargement of the head. It is not related to sleep regulation.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure on the brain. It is a different neurological disorder.\n\nTherefore, the answer to the question is D).<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure on the brain. It is a different neurological disorder.\n\nTherefore, the answer to the question is D. Narcolepsy.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and learn. It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure and potential damage to the brain.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness. It is characterized by sudden and uncontrollable episodes of falling asleep during the day.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder that affects the ability to read, process language, and sometimes speech and writing. It is a language-based disorder characterized by difficulties in phonological awareness, or the ability to hear, identify, and manipulate the individual sounds of spoken language.\n\nB). Epilepsy is a medical condition that produces seizures or periods of rhythmic contraction and relaxation of facial or body muscles, partial or general loss of consciousness, or sometimes convulsions, triggered by abnormal, excessive electrical discharges in the brain.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. The fluid can put pressure on the brain and cause brain damage.<|end_of_text|>","The correct answer is D.\n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep-wake cycles normally, leading to excessive daytime sleepiness and sudden sleep episodes. This disorder can significantly impact a person's quality of life, as it causes involuntary and spontaneous sleep, even during various activities such as eating dinner, talking, or while driving. In other words, narcolepsy is the specific disorder of uncontrolled sleep attacks during the day present in the given multiple-choice options.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. The reasoning is that narcolepsy is a neurological disorder affecting the regulation of sleep-wake cycles, leading to uncontrollable episodes of falling asleep during the day. Epilepsy involves recurrent, unprovoked seizures, and is not related to sleep (B). Dyslexia is a learning disorder that affects reading skills, where the individual has difficulty in recognizing and processing written words (A). Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and potential damage to parts of the brain (C).<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. The reasoning is that narcolepsy is a neurological disorder affecting the regulation of sleep-wake cycles, leading to uncontrollable episodes of falling asleep during the day. Epilepsy involves recurrent, unprovoked seizures, and is not related to sleep (B). Dyslexia is a learning disorder that affects reading skills, where the individual often sees words and letters incorrectly, and is not related to sleep (A). Hydrocephalus is a condition where there is an accumulation of cerebrospinal fluid in the brain, causing increased pressure within the skull, and is not related to sleep (C).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which can significantly impact daily activities and quality of life. The other options (A, B, C) describe different pathologies. \n\nFor example, dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy (B) is characterized by seizures due to abnormal electrical activity in the brain. Hydrocephalus (C) is a condition involving an abnormal accumulation of cerebrospinal fluid in the brain, which leads to increased pressure within the skull. I hope it is correct.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which can significantly impact daily life and activities.\n\nMy reasoning is: Narcolepsy is a neurological disorder that affects the regulation of sleep-wake cycles. It is characterized by excessive daytime sleepiness, sudden sleep attacks, fragmented sleep, sleep paralysis, and vivid dreaming during sleep. Narcolepsy affects the body's ability to regulate REM (rapid eye movement) sleep and is associated with abnormalities in the brain's hypocretin system.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which can significantly impact daily life and activities.\n\nMy reasoning is: Narcolepsy is a neurological disorder that affects the regulation of sleep-wake cycles. It is characterized by excessive daytime sleepiness, sudden sleep attacks, fragmented sleep, sleep paralysis, and vivid dreaming during sleep. Narcolepsy affects the body's ability to regulate REM (rapid eye movement) sleep and is associated with abnormalities in the brain's mechanisms for regulating sleep and wakefulness. Other answer choices are less closely associated with sleep disorders or are more related to cognitive abilities, epilepsy, or increased intracranial pressure. \n\nThus, my final answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which can significantly impact daily life and activities.\n\nMy reasoning is: Narcolepsy is a neurological disorder that affects the control of sleep-wake cycles, leading to excessive daytime sleepiness. The other options (A) Dyslexia, (B) Epilepsy, and (C) Hydrocephalus are related to specific cognitive, neurological, or developmental issues that do not involve uncontrollable episodes of falling asleep during the day. Narcolepsy is the only option that fits this description.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a neurological disorder which affects about 1 in 2,000 people. It is often misunderstood and not diagnosed early because it can be similar to fatigue due to sleep loss or other conditions.\n\nOther symptoms may include sleep paralysis, hypnagogic hallucinations, excessive daytime sleepiness, and cataplexy \u2013 a sudden loss of muscle tone while awake.\n\nBecause narcolepsy is a chronic disorder, a lifelong management plan may be necessary.\n\nHydrocephalus is another neurological disorder, a buildup of fluid in the brain.\n\nEpilepsy is a disorder of the brain that leads to seizures when brain activity becomes disrupted.\n\nDyslexia is a learning disorder that involves difficulty in reading despite normal intelligence.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycle, causing sudden uncontrollable sleep episodes during the day. Options A, B, and C do not describe this disorder.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycle, causing sudden uncontrollable sleep episodes during the day. Epilepsy and hydrocephalus involve seizures and increased intracranial pressure, respectively, not uncontrolled sleep. Dyslexia is a learning disorder that affects reading abilities.<|end_of_text|>",'The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person\'s ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of falling asleep during the day despite getting enough sleep at night. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds. Hydrocephalus, also known as "water on the brain," is a condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing brain damage.<|end_of_text|>',"The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of falling asleep during the day despite getting enough sleep at night. Epilepsy is a neurological disorder characterized by recurring seizures, dyslexia is a learning disorder that affects a person's ability to understand written and spoken language, and hydrocephalus is a medical condition that occurs when there is an accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. Your reasoning: Narcolepsy causes sudden and uncontrollable episodes of falling asleep during the day, making it a disorder that affects a person's ability to regulate their sleep-wake cycles. Dyslexia, Epilepsy, and Hydrocephalus are unrelated to the phenomenon of falling asleep unexpectedly during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of falling asleep during the day despite getting enough sleep at night. Epilepsy is a neurological disorder characterized by recurring seizures, dyslexia is a learning disorder that affects a person's ability to understand written and spoken language, and hydrocephalus is a condition where there is an accumulation of cerebrospinal fluid in the brain, which can lead to increased pressure and swelling in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read and comprehend written language. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing headaches, vision problems, and sleep disturbances. However, it is not a sleep disorder characterized by uncontrollable sleep episodes during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read and comprehend written language. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and potentially causing a range of symptoms such as difficulty in sleeping.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read and comprehend written language. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure inside the skull.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, causing sudden and uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that affects the ability to read. Epilepsy (B) is a brain disorder that causes seizures. Hydrocephalus (C) is a condition in which there is excessive buildup of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, leading to excessive daytime sleepiness and sudden sleep attacks.\n\nOther options:\n- A). Dyslexia is a learning disorder characterized by difficulties with reading, speech, and writing, not excessive daytime sleepiness.\n- B). Epilepsy is a brain disorder in which a person experiences recurrent seizures, not excessive daytime sleepiness.\n- C). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, not excessive daytime sleepiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, leading to excessive daytime sleepiness and sudden sleep attacks.\n\nOther options:\n- A). Dyslexia is a learning disorder characterized by difficulties with reading, speech, and writing, not excessive daytime sleepiness.\n- B). Epilepsy is a brain disorder characterized by recurrent, unprovoked seizures, not excessive daytime sleepiness.\n- C). Hydrocephalus is an enlarged skull caused by excess cerebrospinal fluid in the brain, not excessive daytime sleepiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles, leading to excessive daytime sleepiness and sudden sleep attacks.\n\nOther options:\n- A). Dyslexia is a learning disorder characterized by difficulties with reading, speech, and writing, not excessive daytime sleepiness.\n- B). Epilepsy is a brain disorder in which a person experiences recurrent seizures, not excessive daytime sleepiness.\n- C). Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain, which can lead to increased pressure and potential neurological symptoms, not excessive daytime sleepiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy is a disorder that affects a person's ability to regulate their sleep-wake cycles. It often presents with sudden and overwhelming bouts of sleep.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning behind the answer is that Narcolepsy is a disorder characterised by uncontrollable sleep episodes during the day.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning behind the correct answer is that Narcolepsy is characterized by excessive daytime sleepiness, which may cause individuals to fall asleep unexpectedly during the day.<|end_of_text|>","I think the answer is D (Narcolepsy). Narcolepsy is a sleep disorder that affects the hypothalamus - a part of the brain that controls sleep patterns. Epilepsy (B) is associated with abnormal electrical activity in the brain and doesn't necessarily involve lack or sudden attacks of sleep. Dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying the sounds of different letters and is not associated with sleep. Hydrocephalus (C) is a neurological disorder that involves enlargement of the fluid spaces in the brain and is typically associated with progressive neurological deterioration and not episodes of excessive sleepiness. So, the correct answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning behind the correct answer is that Narcolepsy is characterized by sleep attacks, characterized as episodes of falling asleep during the day. Dyslexia is a disorder characterized by difficulty in reading despite normal intelligence. Epilepsy is characterized by recurrent, unprovoked seizures affecting any part of the brain, while Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given is that Narcolepsy is a chronic sleep disorder characterized by extreme daytime sleepiness and sudden sleep attacks. Biologically, the disorder impacts the hypothalamus, a part of the brain involved with sleep-wake cycles and hormone production.<|end_of_text|>","The correct answer is D). Narcolepsy because the disorder characterized by uncontrollable episodes of falling asleep during the day is Narcolepsy.\nDespite the other options having specific symptoms, Narcolepsy has the symptoms of uncontrollable sleep during the day and uncontrollable sleep attacks because of the part of the brain that regulates REM sleep is not working right.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given is that Narcolepsy is a chronic sleep disorder characterized by extreme daytime sleepiness and sudden sleep attacks, unlike the other options listed which do not describe such symptoms.<|end_of_text|>","The correct answer is D; Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. Causation is unknown but believed to be due to a hereditary or dy sregulation of brain chemicals, or damage to specific areas of the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given is that Narcolepsy is a chronic sleep disorder characterized by extreme daytime sleepiness and disturbed nighttime sleep.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder affecting reading abilities. Epilepsy is a seizure disorder related to abnormal brain activity. Hydrocephalus is a condition characterized by excess cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. Narcolepsy is a form of sleep disorder characterized by uncontrollable episodes of falling asleep during the day, regardless of the circumstances. People affected by narcolepsy often find it difficult to stay awake during daily activities, leading to sleep disturbances and a reduced quality of life. Other symptoms of narcolepsy can include sleep paralysis, hypnagogic hallucinations, and cataplexy. Narcolepsy is typically diagnosed based on a medical history, sleep study, and a multiple sleep latency test. The exact cause of narcolepsy is unknown, but it is believed to be related to an imbalance in brain chemicals and genetics. Treatment for narcolepsy can include lifestyle changes, medication, and therapy.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes problems with regulating and controlling sleep patterns.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrolled electrical activity in the brain. Hydrocephalus is a condition that causes excessive fluid in the brain, leading to enlarged head size and possible brain damage. None of these conditions are characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrollable seizures. Hydrocephalus is a brain disorder that causes increased pressure in the brain due to a buildup of cerebrospinal fluid.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur without warning and can interfere with daily activities. There is no mention of learning difficulties or seizures in narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrollable seizures. Hydrocephalus is a brain disorder that causes fluid buildup and swelling in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrollable seizures. Hydrocephalus is a brain disorder that causes increased fluid pressure in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to prevent. This disorder can have a significant impact on a person's daily activities and relationships.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrollable seizures. Hydrocephalus is a disorder that causes swelling of the brain due to excess fluid.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which is a chronic neurological condition. The other disorders mentioned are not characterized by excessive sleepiness. Dyslexia is a learning disorder that affects reading skills. Epilepsy is a seizure disorder that causes sudden, uncontrolled electrical activity in the brain. Hydrocephalus is a condition where the cerebrospinal fluid accumulates in the brain, leading to increased pressure and potential damage. Narcolepsy is the most likely option based on the key symptoms described.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are difficult to control. This is a key symptom of narcolepsy, which can interfere with daily activities and work.<|end_of_text|>","The correct answer is D). Narcolepsy.\nThe reasoning given for the first answer is as follows: Narcolepsy is a disorder that causes excessive daytime sleepiness and sudden sleep episodes during the day. These episodes can occur at any time and are often triggered by stress or Physical activity.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to function properly.\n\nMy reasoning is based on the clinical manifestations of narcolepsy, which include excessive daytime sleepiness (EDS) and sleep attacks, inconsistent sleep-wake schedule, disturbed nightly sleep (due to frequent awakenings at night), and inherent short sleep time. These features make it easier for me to conclude the correct answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to function properly.\n\nMy reasoning is based on the definition of Narcolepsy, which is well-documented in medical literature, and it is a well-known fact that Narcolepsy is a disorder characterized by excessive daytime sleepiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and  daily life (arakaki2019epidemiology).\n\nThe other options are incorrectly listed. Dislexia is a reading disability, Hydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) and epilepsy is a disorder of the nervous system that causes seizures.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is often misdiagnosed as epilepsy or ADHD, but it has unique symptoms of sleep disruption, hallucinations, and sleep paralysis (often confused with others as sleeping position or hypnagogic and hypnopompic hallucinations), particularly as patients tend to fall into the REM sleep stage.\n\nThe other options provided in the question do not have the primary symptom of falling asleep as part of the defining characteristics of the diseases or sleep disorders:\n\nA). Dyslexia is a type of specific learning disorder that involves difficulty in learning to read or interpret words, letters, and other symbols. It generally doesn\u2019t impact one's energy levels or sleeping habits.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. It does not typically involve episodes of falling asleep during the day.\n\nC). Hydrocephalus is an abnormal accumulation of cerebrospinal fluid within the brain. It does not have symptoms related to temporary sleepiness or falling asleep uncontrollably during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks throughout the day, even when they may not feel sleepy. Narcolepsy can severely affect daily life, making it challenging to maintain focus during the day and perform daily tasks effectively.\n\nThe letter corresponding to the correct option is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to stay awake during the day. The disorder affects a person's nighttime sleep, causing the individual to have difficulty falling or staying asleep at night. Narcolepsy is often misdiagnosed as a problem related to a person's environment or as a side effect of medications. The leading cause of narcolepsy is a loss of certain brain chemicals and neurons that regulate sleep and wakefulness. Symptoms of narcolepsy usually develop during early adulthood.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReasoning: Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. It is often misunderstood and can be confused with simple tiredness or laziness. Symptoms typically begin in childhood or young adulthood and last for a lifetime, although they may change over time. Narcolepsy can lead to significant distress and disruption in life, including problems with work, school, and personal relationships.\n\nThe other conditions listed are as follows:\n\nA). Dyslexia is a learning disorder characterized by difficulties with accurate and/or fluent word recognition and by poor spelling and decoding abilities.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures.\n\nC). Hydrocephalus is a disorder in which there is an abnormal buildup of cerebrospinal fluid (CSF) in the ventricles (fluid-filled spaces) of the brain, leading to increased intracranial pressure.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or in social situations.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and scary dreams, cataplexy (sudden muscle weakness and loss of muscle control), and disrupted nighttime sleep.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is characterized by a lack of the sleep protein hypocretin, which causes the brain's sleep-wake cycle to malfunction. Patients with narcolepsy may also experience vivid dreams upon falling asleep or waking up, and sleep paralysis.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that makes it hard for someone to read, write, and spell correctly. \nB). Epilepsy, a common neurological disorder that involves seizures caused by abnormal nerve cell activity in the brain.\nC). Hydrocephalus, an abnormal buildup of cerebrospinal fluid in the ventricles of the brain, which can cause an enlarged head and increased intracranial pressure, potentially leading to neurological problems.\n\n\nAnswer: D<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent seizures.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, leading to increased intracranial pressure and damage to the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy, a neurological disorder characterized by recurrent, unprovoked seizures affecting brain activity.\nC). Hydrocephalus, a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, which leads to increased intracranial pressure inside the skull.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy, a neurological disorder characterized by recurrent, unprovoked seizures affecting brain activity.\nC). Hydrocephalus, a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, causing an increase in intracranial pressure.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nExplanation: Narcolepsy is a disorder that affects the central nervous system and control of sleep, with symptoms such as excessive daytime sleepiness or sudden loss of muscle strength.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the question have different issues:\n\nA). Dyslexia, a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy, a brain disorder that causes recurring, unprovoked seizures due to abnormal electrical activity in the brain.\nC). Hydrocephalus, a condition in which there is an accumulation of cerebrospinal fluid in the brain\u2019s ventricles, which causes the brain to swell and increase in size, which can affect physical and mental development.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the multiple-choice question do not involve the inability to stay awake and having unexpected sleep attacks. Here is a brief description of the other disorders:\n\nA). Dyslexia: It is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). Dyslexia may slow down reading but does not generally involve falling asleep during the day.\n\nB). Epilepsy: It is a brain disorder in which a person has repeated seizures over time. Seizures happen when clusters of neurons send abnormal signals to brain cells, causing unusual behavior, sensations and sometimes loss of awareness.\n\nC). Hydrocephalus: It is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain. This can cause the brain to be abnormally large in certain areas and can lead to increased intracranial pressure, impairment of brain functions, or problems with walking, thinking, and memory. Hydrocephalus does not involve problems with falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the multiple-choice question do not involve the inability to stay awake and having unexpected sleep attacks. Here is a brief description of the other disorders:\n\nA). Dyslexia: It is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). Dyslexia may slow down reading but does not generally involve falling asleep during the day.\n\nB). Epilepsy: It is a brain disorder in which a person has repeated seizures over time. Seizures happen when clusters of neurons send abnormal signals to brain cells, causing strange sensations, behaviors, or convulsions. It is not characterized by falling asleep during the day.\n\nC). Hydrocephalus: It is a disorder in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which causes enlargement of the head, high pressure inside the skull, and progressive damage to the brain. It doesn't cause sudden sleep attacks.\n\nThe correct answer is D, Narcolepsy. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep attacks during the day, even when they are busy with activities or conversations. Narcolepsy can also cause other symptoms, such as sleep paralysis, vivid and sometimes distressing nightmares, and cataplexy, which is a sudden loss of muscle tone while awake, often triggered by strong emotions.\n\nOther disorders listed in the multiple-choice question do not involve the inability to stay awake and having unexpected sleep attacks. Here is a brief description of the other disorders:\n\nA). Dyslexia: It is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). Dyslexia may slow down reading but does not generally involve falling asleep during the day.\n\nB). Epilepsy: It is a brain disorder in which a person has repeated seizures over time. Seizures happen when clusters of neurons send abnormal signals to brain cells, causing strange sensations, behaviors, or convulsions. It is not characterized by falling asleep during the day.\n\nC). Hydrocephalus: It is a disorder in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which causes enlargement of the head, high intracranial pressure, and developmental disorders. It may cause problems with brain function if left untreated but does not cause people to uncontrollably fall asleep during the day.\n\nTherefore, the answer is D. Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and relationships. \n\nIt is suggested that narcolepsy involves a dysfunction in the brain\u2019s ability to regulate and control sleep-wake cycles. The exact cause of narcolepsy is not entirely understood, but it is believed to be a combination of genetic and environmental factors. Genetic factors are thought to increase the risk of developing narcolepsy, but additional triggers, such as infections or stress, might be involved in triggering the disorder.\n\nSymptoms of narcolepsy include:\n\nSudden sleep attacks during the day\nSleep paralysis (a temporary inability to move or speak while transitioning between wakefulness and sleep)\nVivid and often disturbing dreams during sleep\nFragmented sleep\nInability to control muscle movements, known as cataplexy\n\nThe exact cause of narcolepsy is not known, but research suggests that there may be a genetic component to the disorder. There may also be a link between narcolepsy and other sleep disorders, such as sleep apnea or periodic limb movements during sleep.\n\nNarcolepsy is typically diagnosed based on the presence of specific symptoms and a thorough medical evaluation. There is no cure for narcolepsy, but treatment options may include medication, behavioral therapy, and lifestyle changes to manage symptoms and improve sleep patterns.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep episodes during the day, known as sleep attacks. These episodes can make it difficult to maintain wakefulness, especially during periods of inactivity or when tired.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep episodes during the day, known as sleep attacks. These episodes can make it difficult to maintain wakefulness, especially during periods of inactivity or stress.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. These episodes can interfere with daily activities and the ability to maintain wakefulness during the day.\n\nReason: Narcolepsy is a neurological disorder that affects people's ability to sleep. It is caused when the brain cannot properly regulate sleep-wake cycles. People with narcolepsy can experience sudden and uncontrollable sleep episodes during the day, known as sleep attacks. This can interfere with their ability to stay awake and alert during the day. The disorder can also cause other symptoms, such as sleep paralysis, vivid dreams, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy is thought to be caused by a combination of genetic and environmental factors.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: A learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they represent various letters and words. The disorder usually involves a difficulty with phonological processing (the manipulation of sounds), which is a vital skills for independent reading.\n\nB). Epilepsy: This disorder is a chronic neurological condition characterized by recurrent unprovoked seizures. These seizures are transient signs and/or symptoms of abnormal, excessive or synchronous neuronal activity in the brain.\n\nC). Hydrocephalus: This disorder is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain. The CSF is the clear fluid that is located in the brain and spine.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: A learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they represent various letters and words. The disorder usually involves a difficulty with phonological processing (the manipulation of sounds), which is a vital skills for independent reading.\n\nB). Epilepsy: This disorder is a chronic neurological condition characterized by recurrent, unprovoked seizures. A seizure is a sudden, uncontrolled electrical disturbance in the brain that causes dramatic changes in sensation, behavior, or muscle activity.\n\nC). Hydrocephalus: Hydrocephalus results from the accumulation of excessive amounts of cerebrospinal fluid (CSF) within the brain's ventricles that causes the ventricles to widen, applied pressure to the brain, and the stretching of brain tissues.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia, an inherited learning disability characterized by difficulty reading due to problems identifying speech sounds and learning how they represent particular letters and words (phonics). It is a common language-based learning disability. Approximately 15-20 percent of children diagnosed with this disorder will also experience difficulty with reading and language skills, dysarthria (and other speech and language skills).\n\nB). Epilepsy, is a neurological disorder characterized by recurrent, unprovoked seizures leading to loss of consciousness, convulsions and mental impairment. There are several causes of epilepsy. It\u2019s often described as a condition of the brain that causes changes in behavior, emotions, and movement.\n\nC). Hydrocephalus. Also called water on the brain, it\u2019s the result of an accumulation of cerebrospinal fluid (CSF) in the brain's ventricles. CSF lubricates the brain and spine and helps absorb pressure within the skull. Hydrocephalus causes progressive enlargement of the head, particularly the frontal lobes and is a common pediatric neurological disorder.\n\nSo, the answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: A learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they represent various letters and words. The disorder usually involves a difficulty with phonological processing (the manipulation of sounds), which is a vital skills for independent reading.\n\nB). Epilepsy: This disorder is a chronic neurological condition characterized by recurrent, unprovoked seizures. A seizure is a sudden, uncontrolled electrical disturbance in the brain that causes dramatic changes in sensation, behavior, or muscle activity.\n\nC). Hydrocephalus: Hydrocephalus results from the accumulation of excessive amounts of cerebrospinal fluid (CSF) within the brain's ventricles and the subarachnoid space.\n\nAnswer: D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: Dyslexia is defined as language-based learning disability characterized by difficulty in reading, writing, and/or comprehension. It is not related to the sleep-wake cycle. \nB). Epilepsy: epilepsy (also referred to as a seizure disorder) is a medical condition where a person has recurring, unprovoked seizures. These seizures are sudden, temporary occurrences of abnormal electrical activity in the brain. They are not related to the sleep-wake cycle.\nC). Hydrocephalus: An enlarged head is often a symptom of this condition. Hydrocephalus is a medical condition that occurs when there is an excessive accumulation of cerebrospinal fluid (CSF) within the ventricles of the brain or if the fluid is not successfully absorbed or drained. Hydrocephalus is not related to the sleep-wake cycle.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, typically manifests with cataplexy, or sudden episodes of muscle weakness coinciding with emotions. Sleep expert Thomas A. Scammell of Harvard Medical School, Narcolepsy D.O., MD has stated that \u201cNarcolepsy is a neurological disorder characterized by uncontrollable sleep attacks, hallucinations, and sleep paralysis.\u201d D is the correct answer.\n\nNow for dyslexia it is a learning disability, typically characterized by a difficulty with fluent reading and poor spelling and is neurologically based. These difficulties in spelling and reading outcome from problems in language processing. Epilepsy Imply\u2019s seizures. They are episodes that can be short or long. And Hydrocephalus, in Greek, means water on the brain. This disease implies obstruction in the flow of cerebrospinal fluid, which inflicts lots of swelling and pressure on the brain, with outcomes that may include altered mental states and vomiting, among others.\n\nTherefore, D). is the correct answer to the question<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: Dyslexia is defined as language-based learning disability, neurological condition characterized by trouble with spoken language comprehension. It has nothing to do with falling asleep.\nB). Epilepsy: A disorder characterized primarily by seizures. Seizures take many forms. They are sudden, short attacks of vigorous shaking and loss of consciousness.\nC). Hydrocephalus: This is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain. It is due to obstruction of cerebrospinal fluid flow from the lateral ventricles into the cisterns of the brain, and further through the subarachnoid space.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: Dyslexia is defined as language-based learning disability characterized by difficulty in reading, writing, and/or comprehension. It is not related to the sleep-wake cycle. \nB). Epilepsy: epilepsy (also referred to as a seizure disorder) is a medical condition where a person has recurring, unprovoked seizures. These seizures are sudden, temporary occurrences of abnormal electrical activity in the brain. They are not related to the sleep-wake cycle. \nC). Hydrocephalus: Hydrocephalus is a medical condition characterized by an abnormal accumulation of cerebrospinal fluid in the ventricles (fluid-filled cavities) of the brain. This accumulation of fluid in the brain stretches it, which can lead to physical and functional changes that can have limiting effects on both the life of an individual and his or her ability to function. This disorder is not related to the sleep-wake cycle. \n\nThe letter I will assign to my answer is: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, disrupts normal nighttime sleep patterns. It often brings with it disturbances of sleep-wake cycles. These sleep disturbances can cause affected individuals to feel drowsy during normal waking hours, during the day. The disorder, narcolepsy, is due to REM sleep dysregulation.\n\nThe other disorders listed are:\n\nA). Dyslexia: Dyslexia is defined as language-based learning disability characterized by difficulty in reading, writing, and/or comprehension. It is not related to the sleep-wake cycle. \nB). Epilepsy: epilepsy (also referred to as a seizure disorder) is a medical condition where a person has recurring, unprovoked seizures. These seizures are sudden, temporary occurrences of abnormal electrical activity in the brain that can cause changes in attention, behavior, muscle movements, recycling or awareness.\nC). Hydrocephalus: hydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. This accumulation causes pressure on the tissues of the brain that can lead to permanent damage and other complications. It is not related to the sleep-wake cycle. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sudden bouts of sleep can interrupt ones day (vs A Dyslexia, a learning disorder where people have difficulties with word recognition and spelling; vs B Epilepsy, which causes seizures due to sudden, dramatic changes in the brain's electrical system; vs C Hydrocephalus, a medical condition in which there is an abnormal buildup of cerebrospinal fluid in the brain.)<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sudden bouts of sleep can interrupt ones day (vs A, B, C, which don't fit the time causation of sudden bouts of sleep). <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy.\n\nThe human body requires the destruction of endorphins as well as sleep for healing. These processes do not work properly with narcolepsy. Narcolepsy is a sleep disorder resulting from the brain's inability to communicate with the hypothalamus during REM sleep, which is the phase when we experience dreams. Together they function to carry a message from the brain to the muscles. This message informs the muscles about when to relax for normal sleep and when to engage to start reacting to the information sensed by the body (i.e., to feel pain or react to other inputs such as pain).\n\nSome Narcoleptic events include, but are not limited to: experiencing sleepiness throughout the day, experiencing sudden REM periods of sleep or sleep attacks, and experiencing sleep paralysis (lasting seconds or minutes) as one falls asleep or wakes up from sleep. The body may go to sleep during any type of activity, including sitting, working, reading, talking, or even driving.\n\nNarcolepsy can not only affect your daily routine, but it can also hurt your relationship with others because you may be falling asleep during conversations or before others if you overdo it. Engaging in activities such as driving, sports, and chores may also pose dangers. A decreased amount of adrenaline is also associated with this disorder.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sudden bouts of sleep can interrupt ones day (vs A Dyslexia, a learning disorder where people have difficulties with word recognition and spelling; vs B Epilepsy, which causes seizures due to sudden, excessive neuronal activity. vs C Hydrocephalus, which is characterized by an abnormally large skull resulting from a buildup of cerebrospinal fluid). Narcolepsy shows the most relevance to your question.\n\n<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sleep attacks which make it the most probable option.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is best highlighted by option D Narcolepsy. This selection is correct because Narcolepsy causes sleep attacks which make it the most probable disorder in this context and it is the only answer option amongst the choices given above that directly describes an anatomical sleeping condition. Here, four options are highlighted for dyslexia, hydrocephalus, epilepsy, and a sleep-paralyzing sleeping disorder.\n\n<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder. Narcolepsy is not related to epilepsy, hydrocephalus, or dyslexia.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a disorder of the nervous system that affects people's ability to sleep throughout the night, while keeping their sleep during the day. Patients, therefore often sleep poorly at night and excessively sleep during the day.\n\nOther options do not fulfill the question's requirements. \n\nA). Dyslexia is a developmental disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder that manifests in seizures. It is referred to as a spectrum disorder because of the variety of ways it can present, its range in severity from brief, slight loss of awareness to severe and prolonged convulsions, \n\nC). Hydrocephalus is the abnormal enlargement of fluid-filled spaces in the brain that is caused by the obstruction of cerebrospinal fluid in the ventricles and the subarachnoid space.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder. Epilepsy, hydrocephalus, and dyslexia are all different disorders, and dyslexia is not characterized by sleepiness. Thus, for the question on anatomy, D) is correct.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a disorder of the brain that can not be learned. Other unrelated options are:\n\nA). Dyslexia - a learning disorder that affects the ability to read and process language.\nB). Epilepsy - a nervous system disorder that causes recurring seizures.\nC). Hydrocephalus - a condition in which excess cerebrospinal fluid builds up in the brain, causing pressure on the brain.\n\n\nThe final answer: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder. Narcolepsy is not related to epilepsy, hydrocephalus, or dyslexia. Many people think that epilepsy leads to loss of consciousness, but it is mainly characterized by recurrent seizures. Epilepsy and hydrocephalus are also not characterized by uncontrollable episodes of falling asleep.\n\nSo, the final answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a disorder that affects the parts of the brain responsible for regulating sleep, which can lead to excessive sleepiness during the day. During narcolepsy episodes of sleep can be very brief, but also occur at any time and without warning, sometimes with cataplexy (sudden loss of muscle tone while awake).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a disorder that affects the parts of the brain responsible for regulating sleep, which can lead to excessive sleepiness throughout the day. Narcolepsy is indeed the correct answer to the question, characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the final answer is: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is characterized by excessive daytime sleepiness, sleep attacks, disturbed nighttime sleep, and occurrence of REM (rapid eye movement) sleep episodes while awake.\n\nThe process of sleep is divided into two overlapping stages: NREM (non-REM) sleep and REM sleep. The stage of NREM sleep is divided into 3 stages, the deepest of which is called slow-wave sleep.\n\nNarcolepsy is a neurological disorder that impairs the normal sleep-wake cycle, rather than the ability of the brain's motor control centers to regulate phasic (short-lived) muscle activity during REM sleep, the stage responsible for vivid dreaming.\n\nOther people with narcolepsy may have all or some of the following symptoms: helpless sleep attacks, excessive sleepiness, and interruptions and vivid dreams.\n\nI hope this explanation is correct.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a disorder that affects the parts of the brain responsible for regulating sleep, which can lead to excessive sleepiness during the day. During narcolepsy episodes of sleep can be very brief, but also occur at any time, even be triggered by meals or routine tasks.\n\nSo, D). Narcolepsy is the suitable option for the provided question as it includes a disorder characterized by uncontrollable episodes of falling asleep.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a disorder that affects the parts of the brain responsible for regulating sleep, which can lead to excessive sleepiness during the day. During narcolepsy episodes of sleep can be very brief, but also occur at any time, even be triggered by meals or routine tasks.\n\nSo, D). Narcolepsy is the correct answer.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive discharge of neurons that cause involuntary movements, behavior changes, muscle spasms, loss of consciousness, sensing odors, seeing lights, and hearing sounds, without any excerpted cause.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles, or cavities, of the brain, and as a result, the enlarged fluid-filled spaces exert pressure on the brain, causing headache and nausea in advanced cases.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive electrical activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to enlargement of the head and potential damage to the brain.\n\nD) Narcolepsy is a chronic neurological disorder characterized by overwhelming daytime sleepiness and other specific features such as catalyptia (sudden loss of muscle tone in response to strong emotion), sleep paralysis, and vivid hallucinations during sleep onset or awakening. So, the answer is D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to expansion of the brain ventricles and increased intracranial pressure.\n\nD) Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day, which disrupts the person's daily activities and the ability to maintain normal sleeping patterns at night. This is caused by dysfunction in the brain's ability to regulate sleep-wake cycles.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day. Or sleep attacks, occurs because narcolepsy affects brain chemicals that control when we sleep and are awake and cause people with narcolepsy to suddenly feel overwhelming drowsiness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to expansion of the brain ventricles and increased intracranial pressure.\n\nD) Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day, caused by dysfunction in sleep-wake regulation.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, an inability to regulate sleep-wake cycles normally, sudden loss of muscle strength, and vivid dreaming.\n\nFinal answer: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems in the way the brain processes written language.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures due to sudden, brief, and abnormal excessive neuronal activity in the brain.\n\nC) Hydrocephalus, which is caused by an excess of cerebrospinal fluid in the brain, can lead to increased intracranial pressure, enlargement of the cranium, and damage to the brain and nervous system.\n\nD) Narcolepsy is a neurological disorder characterized by persistent sleepiness and a disrupted sleep pattern, often leading to episodes of falling asleep suddenly and uncontrollably during the day, as well as disturbances such as sleep paralysis, vivid dreams, and cataplexy (sudden loss of muscle tone while awake).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. It can cause increased intracranial pressure inside the skull and potentially deadly complications. Hydrocephalus is not characterized by uncontrollable episodes of falling asleep.\n\nD) Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness. It is caused by the brain's inability to regulate sleep-wake cycles. People with narcolepsy may experience sudden sleep attacks and other symptoms including sleep paralysis, night terrors, vivid dreaming (known as hypnagogic hallucinations), and a condition known as cataplexy, in which the muscles suddenly and selectively go limp while the person remains conscious.\n\nThus, the answer to the question is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and increased intracranial pressure within the skull. Symptoms can include headaches, vomiting, nausea, blurred vision, difficulty with balance, and urinary incontinence.\n\nD) Narcolepsy is a chronic disorder of the central nervous system characterized by overwhelming daytime sleepiness. It affects the ability to regulate sleep and wakefulness, often leading to episodes of sudden sleep onset. Other symptoms can include sleep paralysis, vivid hallucinations during sleep onset or offset, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy is caused by an underactive hypothalamus, a part of the brain that regulates sleep and wakefulness.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and generally an increase in intracranial pressure, which can result in neurological damage and developmental deficits. It's not related to uncontrollable episodes of falling asleep.\n\nD) Narcolepsy is a chronic disorder that affects the control of sleep-wake cycles. People with narcolepsy experience poor sleep quality and have a high risk of falling asleep at inappropriate times in the day. This leads to significant impairment in daily functioning and quality of life. Narcolepsy is also one of the Spinocerebellar ataxia that leads to uncontrollable episodes of falling asleep during the day).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and increased intracranial pressure within the skull. Symptoms can include headaches, vomiting, nausea, blurred vision, difficulty with balance, and urinary incontinence.\n\nD) Narcolepsy is a chronic disorder of the central nervous system characterized by overwhelming daytime sleepiness. It affects the ability to regulate sleep and wakefulness, often leading to episodes of sudden sleep. The disorder was mentioned in the question, making it the most accurate answer.\n\nTherefore, the letter corresponding to the correct option is: D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and increased intracranial pressure within the skull.\n\nD) Narcolepsy is a neurological disorder that affects about 1 in 2,000 people. It is characterized by excessive daytime sleepiness and abnormalities in REM sleep regulation. \n\nThese reasons support the response that the correct answer is D) Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is a Specific Learning Disability (SLD) that hinders the ability to read accurately and fluently.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, resulting from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain and it may lead to increased intracranial pressure inside the skull and progressive enlargement of the head.\n\nD) Narcolepsy is a chronic sleep disorder that involves a combination of sleep and wakefulness disorders characterized by uncontrollable bouts of sleep during the day, excessive daytime sleepiness, and fragmented nighttime sleep.\n\nTherefore, the answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the cavities (ventricles) of the brain, leading to brain swelling and increased intracranial pressure.\n\nD) Narcolepsy is a neurological disorder that affects the brain's ability to regulate sleep-wake cycles, characterized by uncontrollable episodes of falling asleep during the day. Also, people with Narcolepsy often experience sudden muscle weakness and vivid dreaming during sleep, also known as sleep paralysis.\n\nTherefore, the correct answer is D) Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the cavities (ventricles) of the brain, leading to enlargement of the head, increased intracranial pressure, and potential damage to the brain.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. Individuals with narcolepsy experience excessive daytime sleepiness, flash or sleep paralysis, and sudden sleep attacks. This disorder is linked to a dysfunction in the brain's ability to control sleep-wake cycles, and it involves abnormalities in the hypothalamus and the hypocretin system.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is a neurological disorder characterized by excessive daytime sleepiness and disruptions in nocturnal sleep. It is associated with structural and functional changes in brain regions involved in sleep regulation, such as the hypothalamus and brainstem nuclei.\n\nTherefore, the closest option that relates to uncontrollable episodes of falling asleep during the day is Narcolepsy (D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is a step-by-step reasoning process:\n\n1. Narcolepsy is known for its symptoms that are contradictory to normal sleep behavior.\n2. Instead of experiencing a naturally occurring sleep-wake cycle, individuals with narcolepsy suffer from rapid and unexpected sleep onset, often in inconducive environments.\n3. This alteration in sleep regulation and the resultant issue of daytime sleep are the core symptoms linked to narcoleptic patients.\n4. Narcolepsy separates itself from the other listed disorders with regard to sleep onset.\n5. Disorders like dyslexia are associated with learning difficulty and vision problems, have nothing to do with the noticing issue of dozing during daytime.\n6. Epilepsy addresses a neurological disorder characterized primarily by the occurrence of seizures which has no relation to failing asleep in day.\n7. Hydrocephalus is another neurological disorder that primarily affects an individual's cerebrospinal fluid and has a weakness or irregularity in the anatomy of cerebral ventricles; there is no conscious mentioning of falling asleep during daytime. \n\nWith the above reasoning process, the answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation.\n\nGiven the options provided, the best match for the disorder characterized by uncontrollable episodes of falling asleep during the day is option D), Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation.\n\nGiven the options provided, the best match for the disorder characterized by uncontrollable episodes of falling asleep during the day is option D, Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation.\n\nThus, the correct answer is option D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating in the brain.\n\nReasoning: This disorder is manifestation of narcolepsy known as daytime sleep episodes. Narcolepsy is a long-term brain disorder that involves a lack of ability to regulate sleep-wake cycles. The main symptom of narcolepsy is excessive daytime sleepiness, which is uncontrollable sleep episodes during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, leading to increased intracranial pressure and enlargement of the brain. Symptoms may include headache, nausea, vomiting, impaired vision or vision loss, trouble with balance, difficulty walking, feeding problems in infants, irritability, confusion, personality changes, or urinating much less. Late complications may develop quickly or over weeks to months.\n\nD) Narcolepsy is a neurological disorder that affects a person's ability to stay awake and alert and may affect REM sleep. The symptoms include overwhelming daytime sleepiness, sleep paralysis, and hallucinations just as falling asleep or waking up.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and displacing brain tissue.\n\nD) Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. It is a neurological disorder originating from dysfunction in sleep-wake regulation. \n\nSo, the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which means it does not cause daytime sleepiness at all while being associated\n\nwith tiredness from trying to read. Epilepsy (B) refers to a group of neurological disorders characterized by sudden, episodic disturbances of the brain. In some cases these disturbances might manifest as falls or confusion as well as seizures which usually make patient being inactive and sometimes even appearing like they are sleeping but have nothing to do with sudden events during which person loses control over sleep-wake cycle which is specific for narcolepsy. And hydrocephalus(C) is a condition in which there is an abnormal buildup of cerebrospinal fluid (CSF) in the ventricles of the brain. So d) is the correct and most fitting answer where option compares actual medical issue with the one exhibited in the question.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures that arise from abnormal, excessive or synchronous neuronal activity in the brain.\n\nC) Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.\n\nD) Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nTherefore, the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder. This is the reason behind this answer.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (orthographic symbol). Thus, it is not related to sleep disorders.\nB) Epilepsy is a disorder characterized by recurrent, unprovoked seizures. It is not specifically related to excessive daytime sleepiness as seen in narcolepsy.\nC) Hydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain that leads to potential brain damage. It is not characterized by sleep disorder issues.\n\nAdditionally, Narcolepsy is often associated with a range of symptoms that include excessive daytime sleepiness, cataplexy, sleep paralysis, and hypnagogic hallucinations; these are typical characteristics of sleep disorders involving disturbances in the regulation of REM sleep. The human brain Chemistry is altered to control the onset of sleep due to Hypocretin neuropeptide; hypocretin level is reduced in Narcoleptic individuals which allows the brain to slip into sleep.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. It does not specifically relate to uncontrollable episodes of falling asleep.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. It also does not relate to uncontrollable episodes of falling asleep.\n\nOn the other hand, D) Narcolepsy is a sleep disorder that involves excess daytime sleepiness and sudden sleep attacks. It is the only option that directly pertains to uncontrollable episodes of falling asleep during the day.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. It does not specifically relate to uncontrollable episodes of falling asleep.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. It also does not relate to uncontrollable episodes of falling asleep.\n\nOn the other hand, D) Narcolepsy is a sleep disorder that involves excess daytime sleepiness and sudden sleep attacks. It is the only option that directly pertains to uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. It does not specifically relate to uncontrollable episodes of falling asleep.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, which leads to brain enlargement and increased intracranial pressure. It is not related to sleep disorders.\n\nD) Narcolepsy is the disorder in which a person experiences an overwhelming daytime drowsiness and sudden sleep attacks, which The question specifically inquires about. This disorder fits the described condition of experiencing sleep episodes throughout the day and is due to a disturbance in the normal sleep-wake cycle. Therefore, the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. It does not specifically relate to uncontrollable episodes of falling asleep.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, which leads to brain enlargement and increased intracranial pressure. It is not related to sleep disorders.\n\nD) Narcolepsy is a chronic sleep disorder resulting in the inability to regulate sleep-wake cycles normally. It causes excessive daytime sleepiness, sudden sleep attacks, and cataplexy.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonics). It is not characterized by sleep disturbances.\n\nB) Epilepsy is a central nervous system disorder in which brain activity becomes abnormal, causing seizures or periods of strange behavior, sensations, sometimes losing awareness, and symptoms that may briefly affect whole body or just a small part of the body or even cause muscles to constrict or relax, depending on which area of the brain is affected.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles, or cavities, of the brain. This can cause increased intracranial pressure inside the skull and can cause progressive injury to the brain.\n\nD) Narcolepsy manifests as excessive daytime sleepiness accompanied by sudden sleep attacks, insomnia, vivid dreams during sleep onset, and cataplexy (sudden loss of muscle tone while awake). Because of these symptoms, it suggests dysfunction in sleep-wake regulation, which is the correct answer in this context.<|end_of_text|>",'The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which is not the disorder of falling asleep during the day.\n\nC) Hydrocephalus, commonly known as "water on the brain," refers to the accumulation of cerebrospinal fluid in the brain skull, causing increased intracranial pressure, ventricle enlargement, and convolutional brain atrophy. It is not characterized by falling asleep.\n\nD) Narcolepsy is the correct answer as it involves excessive daytime sleepiness, sleep attacks, and sudden sleep episodes as part of its symptoms.<|end_of_text|>',"The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from dysfunction in sleep-wake regulation. Here is the reasoning:\n\nA) Dyslexia is a disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words, which is a different disorder not pertaining to sleep.\n\nB) Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which is not the disorder of sleep disturbances.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, causing harmful pressure on the brain, which is not a sleep disorder.\n\nD) Narcolepsy is the correct answer. It is a long-term brain disorder characterized by lapses into drowsiness or fleeting sleep episodes at inopportune times. In addition to the excessive daytime sleepiness, symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle strength while awake).\n\nSo, the letter corresponding to the correct option is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which an abnormal accumulation of cerebrospinal fluid (CSF) inside the skull causes progressive enlargement of the head and can lead to increased intracranial pressure, brain damage, and other complications. It is not characterized by sleep episodes.\n\nD). Narcolepsy is the correct answer as it is a neurological disorder that affects the control of sleep-wake cycles and can result in individuals experiencing overwhelming daytime sleepiness (sleep attacks) and other irresistible sleep episodes.<|end_of_text|>",'The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain\'s ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus is a condition in which an abnormal accumulation of cerebrospinal fluid (CSF) inside the skull causes progressive enlargement of the head and can lead to increased intracranial pressure, brain damage, and other complications.\n\nD). Narcolepsy is a neurological disorder characterized by uncontrollable episodes of falling asleep during the day (sleep attacks), excessive daytime sleepiness, vivid dreams upon falling asleep, and sudden loss of muscle tone (cataplexy).\n\nThe correct answer, D, reveals that typing the ending ".at" at the end of the sentence is unnecessary, and that typing a period at the end is sufficient for a normal sentence.<|end_of_text|>',"The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus, or water on the brain, is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure within the cranium.\n\nD). Narcolepsy is the correct disorder, as mentioned earlier.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus, or water on the brain, is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an increase in intracranial pressure and potential damage to the brain tissues.\n\nD). Narcolepsy, as stated, is the correct choice; it is a disorder of the central nervous system, specifically of sleep regulation and is characterized by excessive daytime sleepiness and sudden sleep attacks.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain.\n\nC). Hydrocephalus, or water on the brain, is a condition that occurs when there is an excessive accumulation of cerebrospinal fluid in the ventricles of the brain, which leads to increased intracranial pressure and consequent enlargement of the head.\n\nD). Narcolepsy is the correct answer. The brain of people affected by narcolepsy does not produce enough of a naturally occurring chemical called hypocretin, which regulates sleep patterns. This causes sudden and uncontrollable episodes of sleep throughout the day.\n\nD<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by uncontrollable episodes of falling asleep during the day, is a neurological disorder originating from a dysfunction in the brain's ability to regulate sleep-wake cycles normally.\n\nThe reasoning is that:\n\nA). Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures.\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlarged ventricles and, usually, increased intracranial pressure.\n\nSo the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy, which is characterized by sudden bouts of sleep, occurs more frequently among people with low levels of hypocretin \u2014 a brain chemical that helps regulate alertness. This medical condition affects less than 1% of the world's population. \n\nThe other three answers are incorrect. \n\n- Dyslexia, also known as reading disorder, is a condition in which an individual struggles to understand words, letters, and other symbols. Sufferers with this disorder might have difficulty with word recognition and spelling. \n\n- Epilepsy is categorized as a seizure disorder, a common nervous system disorder in which individual suffer from repeated, unprovoked seizures. \n\n- Hydrocephalus is a disorder characterized by an accumulation of cerebrospinal fluid, which builds up within the brain. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia causes difficulty solving language-based tasks, epilepsy causes seizures due to sudden, abnormal electrical activity in the brain, and hydrocephalus causes fluid buildup in the brain. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus is an excessive buildup of fluid in the brain.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed all involve issues with the nervous system or brain, but they do not involve sleep disturbances. Therefore, the answer is D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus is an accumulation of cerebrospinal fluid in the skull. D).<|end_of_text|>","The correct answer is D) Narcolepsy. Narcolepsy is a sleep disorder characterized by uncontrollable episodes of daytime sleepiness that can lead to sleep attacks, also known as sleep attacks. This disorder is often difficult to diagnose because it is typically underdiagnosed by healthcare professions. It's essential to get an accurate diagnosis as this disorder is the main cause of excessive daytime sleepiness. People with narcolepsy might experience sudden sleep attacks and hallucinations, a condition called sleep paralysis, and have difficulty sleeping at night. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus causes a buildup of fluid in the skull which can leads to increased intracranial pressure. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus causes a buildup of fluid in the skull which can leads to increased intracranial pressure. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. <|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus causes a buildup of cerebrospinal fluid in the brain. D).<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus causes a buildup of cerebrospinal fluid in the brain. Answer: D.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day. This is distinct from dyslexia (A), which is a language processing disorder, and epilepsy (B), which causes seizures. Past these, hydrocephalus (C) is an accumulation of fluid in the brain causing an increase in pressure, which can cause many symptoms, but not sleepiness during the day.<|end_of_text|>","The correct answer is D). Narcolepsy. Narcolepsy causes people to suddenly fall asleep throughout the day because of disruptions in their sleep-wake cycle. The other disorders listed have different symptoms: dyslexia is a learning disorder, epilepsy causes seizures, and hydrocephalus is a condition that affects brain function due to a buildup in cerebrospinal fluid. Answer D). Narcolepsy.<|end_of_text|>","The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid within the cranial chamber.\nOption D: This disorder is a sleep disorder, specifically one that causes a person to fall asleep uncontrollably at inappropriate times.<|end_of_text|>",'The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid within the cranial chamber.\nOption D: This disorder causes excessive daytime sleepiness andcatalog\n\nHowever, actually none of the stated disorder\'s definitions or common signs actually support an answer to the given question about daily sleeping conditions.\n\nA better question would be: Which of the following is a disorder characterized by a lack of energy, difficulty concentrating, and an irresistible desire to sleep during the day. \n\nAnswer: C is the correct answer: Chronic fatigue syndrome. (Nonetheless, chronic fatigue syndrome is related to a long-term experience or a symptom of many diseases but not uncontrollable or daily instinctive sleeping conditions.)\n\nOther conditions such as post-polio syndrome, sarcoidosis, and multiple sclerosis, for example, are also not related to uncontrollable daytime sleepiness but may be confused with the term "chronic fatigue syndrome." Migraine and thyroid disorders may be associated with sudden difficulty concentrating.<|end_of_text|>',"The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid in the brain; often caused by hydrocephalus.\nOption D: Is characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>",'The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid in brain.\nOption D: This disorder involves episodes of falling asleep suddenly, often during well-intentioned activities like talking and eating. It is caused by a poor control of a person\'s "sleep-wake" system, a daily cycle that regulates the need for sleep.<|end_of_text|>',"The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder affects the development of the brain.\nThis question corresponds to the sleep disorder narcolepsy.\n\nThe answer: D).<|end_of_text|>",'The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder is characterized by an abnormal increase of cerebrospinal fluid in brain.\nOption D: This disorder involves episodes of falling asleep suddenly, often during well-intentioned activities like talking and eating. It is caused by a poor control of a person\'s "sleep-wake" system, a daily cycle that regulates the desire to sleep or stay awake.\n\n\nTherefore, the answer: D). Narcolepsy<|end_of_text|>',"The correct answer is D). Narcolepsy.\n\nOption A: This disorder has to do with reading.\nOption B: This disorder involves recurring epileptic seizures.\nOption C: This disorder causes increased intracranial pressure and impaired cognitive function. \nOption D: Narcolepsy is a sleep disorder that causes individuals to experience sudden and unavoidable sleep episodes throughout the day.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness occurs even during the day when a person should be awake, while falling asleep during the day is one of the hallmark symptoms of narcolepsy. Narcoleptic episodes are random, unpredictable, and can occur at any time during the day. Narcolepsy is a neurological disorder that affects the brain's ability to regulate sleep-wake cycles. \n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness occurs even during the day when a person should stay awake, and the person may have to fight sleep attacks at inopportune times, such as during mealtime or while driving.\n\nOther options:\n\nA). Dyslexia refers to a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy refers to a group of neurological disorders characterized by epileptic seizures, which are sudden, abnormal disturbances in the brain's electrical activity.\n\nC). Hydrocephalus refers to a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of spaces in the brain, compressing the tissues of the brain and causing increased intracranial pressure.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness occurs even during the day when a person should stay awake, and the person may have to fight sleep attacks at inopportune times, such as during mealtime or while driving.\n\nOther options:\n\nA). Dyslexia refers to a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy refers to a group of neurological disorders characterized by epileptic seizures, which are sudden, abnormal disturbances in the brain's electrical activity.\n\nC). Hydrocephalus refers to a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an enlargement of spaces in the brain, compressing the brain tissue and potentially causing increased intracranial pressure.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness occurs even during the day when a person should stay awake. This becomes a problem if it interferes with daily life activities. The excessive sleepiness is the main symptom of this disorder,\n\nIf it is important to note that, it is important to see a doctor if you, or someone you know, has symptoms of excessive daytime sleepiness that interfere with daily activities.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. Excessive sleepiness usually begins within a few years after the signs and symptoms of cataplexy occur.<|end_of_text|>","The correct answer is D: Narcolepsy. Narcolepsy is a sleep disorder in which a person experiences overwhelming daytime sleepiness. The reasoning is that the other options listed are neurological disorders or conditions that are not characterized by uncontrollable sleepiness.<|end_of_text|>","The correct answer is D. Narcolepsy. Narcolepsy is a sleep disorder that affects the ability to control sleep-wake cycles and leads to excessive daytime sleepiness. It causes disturbances in your ability to fall and stay asleep, and can severely affect your day-to-day functioning.\n\nSo the final answer is: D.<|end_of_text|>","The correct answer is D. Narcolepsy. Narcolepsy is a sleep disorder that affects the ability to control sleep-wake cycles and leads to excessive daytime sleepiness. It causes people to suddenly fall asleep during the day, despite adequate nighttime sleep.\n\nMy reasoning is that Option D describes Narcolepsy, a sleep disorder characterized by uncontrollable sleepiness during the day, known as excessive daytime sleepiness (EDS). This disorder is a neurological and immune-mediated disorder resulting from the loss of horseshoe-shaped hypothalamic neurons in the brain called hypocretin/orexin neurons. Losing these neurons gives symptoms of narcolepsy to the individual suffering from this disorder.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), Epilepsy (B), and Hydrocephalus (C) - are different types of neurological disorders with different symptoms.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), Epilepsy (B), and Hydrocephalus (C) - are different types of disorders related to reading, seizure activity, and increased intracranial pressure, respectively. None of these are characterized by poor sleep control as seen in Narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), Epilepsy (B), and Hydrocephalus (C) - are not characterized by episodes of falling asleep, but rather by different neurological or developmental issues.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), which is a learning disorder characterized by difficulty reading or interpreting words, letters, and other symbols, Epilepsy (B), which involves recurrent seizures due to abnormal electrical discharges in the brain, and Hydrocephalus (C), which is an abnormal accumulation of cerebrospinal fluid in the brain resulting in increased intracranial pressure, do not involve uncontrollable episodes of falling asleep.\n\nThus, the final answer is D.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep. The other options - Dyslexia (A), which is a learning disorder characterized by difficulty reading or interpreting words, letters, and other symbols, Epilepsy (B), which involves recurrent seizures due to abnormal electrical discharges in the brain, and Hydrocephalus (C), which is a condition resulting from the accumulation of cerebrospinal fluid in the brain, do not involve episodes of falling asleep.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nMy reasoning is as follows: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day due to the disruption of the brain's sleep-wake cycle. Dyslexia is a learning disorder characterized by difficulties with reading due to problems identifying speech sounds and learning how they correspond to letters and words. Epilepsy is a neurological disorder characterized by recurring seizures. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain.\n\nD.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcolepsy attack, the individual may also experience sleep paralysis, vivid dreams, and hallucinations. Narcolepsy is often diagnosed when a person falls asleep directly in a conversation with someone, or during eating, or in class while discussing something very interesting.\n\nOptions A, B, and C do not produce side effects or episodes that cause the afflicted person to fall into an uncontrolled and quick sleep during the day.\n\nThe final answer: D.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcolepsy attack, the individual may also experience sleep paralysis, vivid dreams, and hallucinations. Narcolepsy is often diagnosed when a person falls asleep directly in a conversation with someone, or after a brief nap the person a little while earlier was awake. Narcolepsy can last a lifetime, but many people with this disorder can learn to function despite feeling tired.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcolepsy attack, the individual may also experience sleep paralysis, vivid dreams, and hallucinations. Narcolepsy is often diagnosed when an individual experiences at least three out of the following symptoms: sudden sleep attacks, sleep paralysis, helpless sleep, and vivid dreams or hallucinations. \n\nThough none of the other conditions are characterized by uncontrollable episodes of falling asleep during the day, I can explain them briefly for completeness.\n\nOption (A). Dyslexia is a learning disorder that makes it difficult to learn to read and spell, but it is unlikely to result in someone falling asleep during the day.\n\nOption (B). Epilepsy is a seizure disorder caused by abnormal electrical activity in the brain, and it is characterized by sudden onset of sensory disturbances, loss of consciousness, or convulsions. Epilepsy could in some rare cases cause someone to pass out and temporarily sleep, but not the continuous sleepiness seen in narcolepsy.\n\nOption (C). Hydrocephalus is a condition that causes the brain to swell because of too much cerebrospinal fluid in the brain cavities. The condition can lead to increased head size and trouble with cognitive abilities, but it does not directly cause someone to fall asleep inappropriately during the day.<|end_of_text|>",'The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcolepsy attack, the individual may also experience sleep paralysis, vivid dreams, and hallucinations. Narcolepsy is often diagnosed when an individual experiences at least three out of the following symptoms: sudden sleep attacks, sleep paralysis, helpless sleep, and vivid dreams or hallucinations. \n\nThough none of the other conditions are characterized by uncontrollable episodes of falling asleep during the day, I can explain them briefly for completeness.\n\nOption (A). Dyslexia is a learning disorder that makes it difficult to learn to read and spell, but it is unlikely to result in someone falling asleep during the day.\n\nOption (B). Epilepsy is a brain disorder caused by sudden bursts of electrical activity in one or more areas of the brain, which cause seizures. Seizures can vary greatly from person to person and cannot be characterized as "episodes of falling asleep during the day".\n\nOption (C). Hydrocephalus is a condition where there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain cavities (ventricles). This condition can lead to increased pressure on the brain, which may cause headaches, nausea, double vision, and balance issues. Like the other options, it is unrelated to uncontrollable episodes of falling asleep during the day.<|end_of_text|>',"The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the brain's ability to regulate sleep-wake cycles.  \n\nNarcolepsy is caused by a problem with the portions of the brain that control sleep cycles  \n\nNarcolepsy may result from a deficiency of the wakefulness-promoting neurotransmitter hypocretin.\n\nMany people with narcolepsy have sleepDifficulty interpreting complex written text for those who have narcolepsy because they fall asleep so<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes because it is a disorder of the sleep-wake cycle. During a narcoleptic attack, people may sleep for very short periods, usually from 20 to 30 seconds to several minutes. Contrarily, the other three conditions do not involve falling asleep/sleeping.\n\nHence, the answer is D.<|end_of_text|>","The correct answer is D. \nThe answer is D. Narcolepsy. Narcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness. Narcoleptic individuals may experience sudden sleep attacks during the day, often without warning. Narcolepsy is caused by a lack of the hypothalamic neurotransmitter hypocretin, which regulates sleep-wake cycles.\n\nNarcolepsy is part of a group of disorders known as hypersomnias of central origin, which are characterized by excessive sleepiness unrelated to time of day, sleep schedule, lack of sleep, or normal circadian rhythms. Despite the normal amount of overall sleep, narcolepsy is typified by the persistent inability to stay awake, and in many patients, sudden sleep attacks during the day.\n\nNarcolepsy is a paraphilia, and it is for this reason that it is difficult to provide proper answers to this question, but despite its correct answer being narcolepsy the disorder is more rare and similar to dyslexia as you have no real problems in falling asleep and in contrary to porphyria there is no disturbance in the delicate systems in the body.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), and hydrocephalus (C), which present different symptoms, Narcolepsy specifically involves episodes of falling asleep during the day, consistent with its core symptomatology. This makes Narcolepsy the disorder described in the question.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), and hydrocephalus (C), which are disorders affecting language processing, brain\u2019s electrical activity, and fluid around the brain respectively, narcolepsy primarily affects sleep regulation.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), or hydrocephalus (C), which have different presenting symptoms relating to language processing, seizures, and increased fluid in the brain respectively, narcolepsy's primary symptom is excessive daytime sleepiness and cataplexy (sudden loss of muscle tone during wakefulness triggered by strong emotions). Consequently, my answer is D.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), or hydrocephalus (C), which have different presenting symptoms involving brain function and structure, narcolepsy primarily disrupts the proper functioning of sleep cycles.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It affects the brain's ability to regulate sleep-wake cycles normally. Unlike dyslexia (A), epilepsy (B), or hydrocephalus (C), which are related to specific issues in learning, seizures, or fluid in the brain, respectively, narcolepsy is specifically focused on sleep regulation. Narcolepsy is often associated with cataplexy, sleep paralysis, vivid nightmares, and waking hallucinations, along with excessive daytime sleepiness.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia (A), which is a learning disorder related to language and reading, epilepsy (B), which is a brain disorder characterized by recurrent seizures, and hydrocephalus (C), which is a condition involving an abnormal accumulation of cerebrospinal fluid in the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by an inability to regulate sleep-wake cycles. It is characterized by excessive daytime sleepiness and sudden sleep attacks. Narcolepsy is often misdiagnosed as epilepsy, but it is not considered a disorder of excessive nighttime sleepiness.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia (A), which is a learning disorder related to language and reading, epilepsy (B), which is a brain disorder characterized by recurrent seizures, and hydrocephalus (C), which is a buildup of fluid in the brain that leads to increased pressure on the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia, which is a learning disorder affecting the ability to read, epilepsy, which is a neurological disorder characterized by recurrent seizures, and hydrocephalus, which is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia, which is a learning disorder affecting the ability to read, epilepsy, which is a neurological disorder characterized by recurrent seizures, and hydrocephalus, which is an abnormal accumulation of cerebrospinal fluid in the skull, causing increased pressure on the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by excessive daytime sleepiness and cataplexy, which is a sudden loss of muscle tone while awake. People with narcolepsy may experience uncontrollable episodes of falling asleep during the day, despite getting enough sleep at night.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia, which is a learning disorder affecting the ability to read, epilepsy, which is a neurological disorder characterized by recurrent seizures, and hydrocephalus, which is an abnormal accumulation of cerebrospinal fluid in the skull, causing increased pressure on the brain. Narcolepsy is the only option on the list that specifically describes the uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes. It is distinct from dyslexia, which is a learning disorder affecting the ability to read, epilepsy, which is a neurological disorder characterized by recurrent seizures, and hydrocephalus, which is an abnormal accumulation of cerebrospinal fluid in the skull, causing increased pressure on the brain.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes during the day. The disorder affects the brain's ability to regulate sleep-wake cycles, leading to frequent and sudden sleep attacks. Symptoms typically include excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or waking. Narcolepsy is generally caused by a deficiency of the hypothalamus neurotransmitter hypocretin, which regulates sleep and alertness.\n\nMy reasoning is that the other disorders featured in the choices - Dyslexia (option A), Epilepsy (option B), and Hydrocephalus (option C) - refer to different conditions that do not involve episodes of falling asleep during the day but rather pertain to learning difficulties, seizure disorders, and brain swelling, respectively. Narcolepsy is a unique disorder specifically characterized by the uncontrolled falling asleep daytime symptoms and other typical features as mentioned above.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes during the day. The disorder affects the brain's ability to regulate sleep-wake cycles, leading to frequent and sudden sleep attacks. Symptoms typically include excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or waking. Narcolepsy is generally caused by a deficiency of the hypothalamus neurotransmitter hypocretin, which regulates sleep and alertness.\n\nMy reasoning is that the other disorders featured in the choices - Dyslexia (A), which involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words; Epilepsy (B), a neurological disorder characterized by recurrent, unprovoked seizures due to abnormal electrical activity in the brain; and Hydrocephalus (C), a condition where there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure within the skull - do not share the same characteristic of uncontrollable episodes of falling asleep during the day.\nSo, the answer is D. Narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a chronic neurological disorder that affects a person's ability to regulate sleep-wake cycles. It is characterized by excessive daytime sleepiness and sudden sleep attacks, which can lead to loss of muscle control, sleep paralysis, and vivid and often frightening dreaming. It's an automatic response from the body, which happens suddenly, and the person can't control it at all. <|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes during the day. The disorder affects the brain's ability to regulate sleep-wake cycles normally.\n\nOption A: Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nOption B: Epilepsy is a brain disorder in which a person has repeated seizures over time.\n\nOption C: Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlarged ventricles and increased intracranial pressure.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep episodes during the day. The disorder affects the brain's ability to regulate sleep-wake cycles normally.\n\nOption A: Dyslexia is a learning disability that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nOption B: Epilepsy is a brain disorder in which a person has repeated seizures over time.\n\nOption C: Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles of the brain and increased intracranial pressure within the skull.\n\nHence, the letter corresponding to the correct option is D. In humans, the bone that forms the lower back is called the coccyx.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a neurological disorder characterized by overwhelming daytime sleepiness and uncontrollable sleep attacks. It is a complex condition that involves the brain's ability to regulate a person's sleep-wake cycle, and it is often accompanied by other sleep disturbances such as cataplexy, sleep paralysis, and vivid hallucinations during drowsiness or sleep.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. It is caused by a dysfunction in the brain's ability to regulate sleep-wake cycles.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. It is caused by a dysfunction in the brain's ability to regulate sleep-wake cycles. \n\nMy reasoning process was as follows:\n\n- Narcolepsy involves uncontrollable episodes of falling asleep during the day.\n- Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness.\n- Other conditions listed, including Dyslexia, Epilepsy, and Hydrocephalus, are not characterized by uncontrollable episodes of sleep.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. It is caused by a dysfunction in the brain's ability to regulate sleep-wake cycles. \n\nMy reasoning process was as follows:\n\n- Narcolepsy involves uncontrollable episodes of falling asleep during the day.\n- Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness.\n- Narcolepsy is a dysfunction in the brain\u2019s ability to regulate sleep-wake cycles.\n\nTherefore, the correct answer is D. Narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. It is caused by the brain's inability to regulate sleep-wake cycles effectively.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is marked by excessive daytime sleepiness and abrupt sleep attacks that can occur at any time. The disorder disrupts daytime activities, and can cause significant disruption in everyday life, including when to go to sleep and time of sleep during the night.  <|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is marked by chronic sleepiness and disruptions in the ability to sleep and stay awake during the day. <|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as during meals, conversations, or while driving. Patients with narcolepsy may also experience sleep paralysis, vivid dreams during sleep, and cataplexy, which is a sudden loss of muscle tone while awake. Narcolepsy is a chronic condition that typically remains throughout a person's life.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as during meals, conversations, or while driving. Patients with narcolepsy may also experience sleep paralysis, vivid dreams during sleep, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy is caused by disturbances in the brain's ability to regulate sleep-wake cycles, and it is thought to be related to a shortage of a chemical called hypocretin. In severe cases, narcolepsy can cause significant impairment in daily functioning and quality of life. Treatment Options :\n\nThese include medications, lifestyle modifications, and behavioral interventions such as :\n1. Stimulants like modafinil or armodafinil that can Increase alertness.\n2. Selective serotonin reuptake inhibitors (SSRIs) like SSRIs like fluoxetine or venlafaxine that can Reduce cataplexy.\n3. Sleep monitoring to Optimizes Sleep Hygiene.\n4. Regular, scheduled naps and Regular physical activities and Avoiding alcohol, tobacco, and caffeine. Thus, the correct answer is D. Narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as during meals, conversations, or while driving.\n\nThe other options are not related to uncontrollable episodes of falling asleep during the day.\n\n(Narcolepsy, as a sleep disorder that involves excessive sleepiness during the day, differs from the other options: Dyslexia is a learning disorder that impairs a person's ability to read; Epilepsy is a neurological disorder that involves recurrent seizures (previously known as fits); Hydrocephalus is an abnormal accumulation of cerebrospinal fluid within the brain, leading to ventricular enlargement and increased intracranial pressure.)\n\nSo, the answer is D, narcolepsy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as during meals, conversations, or while driving. Patients with narcolepsy may also experience sleep paralysis, vivid dreams during sleep, and cataplexy, which is a sudden loss of muscle tone while awake.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as while eating, driving, or conversing. It is also often accompanied by sleep paralysis, hypnagogic hallucinations, and cataplexy. Meanwhile, Dyslexia (A) is a learning disorder characterized by difficulties with reading and writing that are not due to an intellectual problem. Epilepsy (B) a neurological disorder in which the individual experiences recurrent seizures caused by abnormal electrical activity in the brain. Hydrocephalus (C) is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid within the brain, leading to enlargement of the brain and increased intracranial pressure, resulting in potentially harmful effects on brain function.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as while eating, driving, or conversing. It is also often accompanied by sleep paralysis, hypnagogic hallucinations, and cataplexy. Meanwhile, Dyslexia (A) is a learning disorder characterized by difficulties with reading and writing that are not due to an intellectual problem. Epilepsy (B) a neurological disorder in which the individual experiences recurrent seizures. Hydrocephalus (C) is a condition in which excess cerebrospinal fluid causes the ventricles in the brain to enlarge, putting pressure on the brain and causing neurological symptoms. <|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by sudden attacks of sleep that occur in inappropriate situations, such as while eating, driving, or conversing. It is also often accompanied by sleep paralysis, hypnagogic hallucinations, and cataplexy.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that involves excessive sleepiness during the day. It is characterized by uncontrollable episodes of falling asleep during the day, even when that is inappropriate or dangerous.<|end_of_text|>","The correct answer is D. Narcolepsy.\n Narcolepsy is a sleep disorder that causes a person to have excessive daytime sleepiness, frequent daytime sleep attacks, and other sleep-related symptoms. Narcolepsy is often associated with periods of unstoppable sleep during the day.\nAnother choice is A). Dyslexia.\nDyslexia is a learning disorder characterized by trouble with the skills needed to understand and process language. It can cause problems with reading, writing, and spelling. \nThe other two options, B. Epilepsy and C. Hydrocephalus, are disorders that affect the brain, but do not involve abnormally long periods of sleep.<|end_of_text|>","The answer is D). Narcolepsy.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The answer is D. Narcolepsy. Why? Narcolepsy is a disorder of the central nervous system that causes overwhelming daytime sleepiness and difficulties with nighttime sleep. It is often called an information speed-up syndrome. It's critical to note that the others share no such link. \n\n<|end_of_text|>","The answer is D). Narcolepsy.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nNarcolepsy is a neurological disorder that affects a person's ability to regulate their sleep patterns and can cause sudden sleep attacks, known as cataplexy, sleep paralysis, vivid dreams and sleep interruptions. It affects about 1 in 2,000 people in the United States and is caused by a deficiency of the brain chemical hypocretin, which regulates sleep-wake cycles, and may have a genetic component.<|end_of_text|>",'The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition that causes excess fluid deep within the brain. Dyslexia is a learning disorder characterized by difficulty with language, with specific difficulty in reading. If the options didn\'t include "Narcolepsy," other conditions like sleep apnea may also cause improper daytime sleepiness. <|end_of_text|>','The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition that causes excess fluid deep within the brain. Dyslexia is a learning disorder characterized by difficulty with language, with specific difficulty in reading. If the options didn\'t include "Narcolepsy," other conditions like sleep apnea may also fit the description of uncontrolled sleep attacks.<|end_of_text|>',"The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in seizures. Dyslexia is difficulty in learning to read but not a like sleep condition. Hydrocephalus is brain damage caused by is a build-up of cerebrospinal fluid in the skull that has nowhere to go.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in seizures. Dyslexia is difficulty in learning to read but not a like sleep condition. Hydrocephalus is an abnormally large head, again affecting the brain, but not sleep.   <|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition that occurs when there is an excess of cerebrospinal fluid in the brain. Dyslexia is a specific learning disability that impairs a person\u2019s fluency to read.<|end_of_text|>","The correct answer is D) Narcolepsy. Narcolepsy is a neurological disorder that causes lack of sleep during the day and at night. The disorder has a complex origin, thought to be autoimmune or genetic and may have a sudden triggering event. Symptoms of this disorder can last the rest of individual's life.\n\nSo, the answer is   D).<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition that occurs when there is an excess of cerebrospinal fluid in the skull. Dyslexia is a learning disorder characterized by difficulty in reading due to problems identifying speech sounds.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition in which the skull becomes enlarged as a result of excess cerebrospinal fluid in the ventricles of the brain. Dyslexia is a learning difficulty that results in problems with accurate and/or fluent word recognition and by poor spelling and decoding abilities.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition in which the skull becomes enlarged as a result of excess cerebrospinal fluid in the ventricles of the brain. Dyslexia is a learning difficulty that results in problems with accurate and/or fluent word recognition and by poor spelling and decoding abilities.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a sleep disorder resulting in excessive daytime sleepiness. Epilepsy is a disorder of the brain which results in periods of disturbed normal brain function (seizures). Hydrocephalus is a condition in which the skull becomes enlarged as a result of excess cerebrospinal fluid in the ventricles of the brain. Dyslexia is a specific learning disability that affects reading ability.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a disorder that causes people to fall asleep unexpectedly during the daytime, often at inappropriate times. This can include episodes of falling asleep while driving, eating, or while engaging in other activities. \n\nNarcolepsy is a neurological sleep disorder that involves a dysfunction in the regulation of sleep-wake cycles. It is often accompanied by vivid and often unsettling dreams upon falling asleep.\n\nA). Dyslexia is a learning disorder that involves difficulty reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by seizures, and it is not related to sleep.\n\nC). Hydrocephalus is a condition in which cerebrospinal fluid accumulates in the brain, causing enlargement of the head and potentially leading to brain damage.<|end_of_text|>","The answer is D.\n\nThe reasoning is that Narcolepsy is a disorder that causes people to fall asleep unexpectedly during the daytime, often at inappropriate times. This can include episodes of falling asleep while driving, eating, or while engaging in other activities. \n\nNarcolepsy is a neurological sleep disorder that involves a dysfunction in the regulation of sleep-wake cycles. It is often accompanied by vivid and often unsettling dreams upon falling asleep.\n\nA). Dyslexia is a learning disorder that involves difficulty reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by seizures, and it is not related to sleep.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles (fluid-filled spaces) of the brain, leading to increased intracranial pressure and enlargement of the head. It is not related to sleep.<|end_of_text|>","The answer is D.\n\nReasoning: Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure in the skull. These conditions do not involve uncontrollable episodes of falling asleep during the day.\n\n\nThe final answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. These conditions are not characterized by excessive daytime sleepiness or episodes of falling asleep.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the ventricles.\n\nSo, the answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy. Narcolepsy is a sleeping disorder associated with a brain abnormality, which has symptoms like excessive daytime sleepiness.<|end_of_text|>","The answer is D. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. During an attack is temporary and the patient usually feels tired or sleepy afterward. Narcolepsy is a result of a problem with the part of the brain that regulates your sleep cycle and the hypothalamus, where the synthesis of melatonin occurs by which hormones related to sleep are produced. These episodes can occur while the person is standing or in the act of speaking. They usually appear between 10 and 23 years, although sleep attacks can occur at any age..<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure. These disorders do not exhibit the symptoms of excessive daytime sleepiness seen in narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulties with word recognition and pronunciation. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a disorder characterized by an abnormal collection of cerebrospinal fluid in the brain, leading to increased intracranial pressure. \n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. So, the correct option is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they connect to letters and words, Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures and Hydrocephalus is a condition in which fluid builds up inside the skull, causing brain enlargement and increased pressure. \n\nThe answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they connect to letters and words, Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nSo, the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they connect to letters and words, Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures and Hydrocephalus that is a buildup of fluid in the brain causing increased intracranial pressure. \n\nFinal answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (B). Epilepsy is a brain disorder in which a person has recurrent, unprovoked seizures (C). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to brain swelling (A).<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Epilepsy is characterized by recurrent, unprovoked seizures, and neither dyslexia nor hydrocephalus involve sleep abnormalities. Epilepsy is a disorder characterized by recurrent, unprovoked seizures, and neither dyslexia nor hydrocephalus involve sleep abnormalities.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disability involving difficulty in reading due to problems identifying speech sounds and learning how they connect to letters and words, Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures and Hydrocephalus that is a buildup of fluid in the brain causing increased pressure.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. The other options mentioned (A Dyslexia, B Epilepsy, C Hydrocephalus) are not characterized by episodes of falling asleep during the day. \n\nReasoning: Narcolepsy is defined by extremely excessive and overwhelming daytime sleepiness.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. The other options mentioned (A Dyslexia, B Epilepsy, C Hydrocephalus) are not related to sleep disorders. D is the correct answer.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness and frequent sleep attacks.  Reasons: Other sleeping disorders include dyslexia which means difficulty in reading, epilepsy which is a chronic disorder in which the nervous system is prone to produce sudden, uncontrolled outbursts of electrical activity (which can result in seizures), and hydrocephalus which is the excess accumulation of cerebrospinal fluid (CSF) in the brain.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. The other options mentioned (A Dyslexia, B Epilepsy, C Hydrocephalus) are neurological conditions but do not specifically relate to sleep disturbances. \n\nReasoning: Narcolepsy is characterized by profound and uncontrollable daytime sleepiness, which differs from the symptoms of dyslexia (a language-based learning disability), epilepsy (a condition causing seizures due to abnormal electrical activity in the brain), and hydrocephalus (an abnormal accumulation of cerebrospinal fluid in the brain resulting in increased intracranial pressure).<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulty in reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain that causes increased intracranial pressure.\n\nThus, the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder characterized by difficulty in reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain that causes increased intracranial pressure.\n\nThus, the answer is D.<|end_of_text|>",'The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep-related attacks of paralyzed muscles, vivid dreaming (dream enactment), and disturbances in the normal sleep-wake cycle. These attacks are referred to as "sleep attacks". Some sufferers also experience a sudden loss of muscle strength while awake (known as a "cataplexy").\n\nExplanation: Of the listed options, Narcolepsy is the only one that affects excessive daytime sleepiness and sleep attacks. Dyslexia is a learning disorder, Epilepsy is a neurological disorder, and Hydrocephalus is a buildup of cerebrospinal fluid in the brain.\n\nAnswer: D.<|end_of_text|>','The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep-related attacks of loss of muscle strength (cataplexy). Narcoleptic individuals may experience daytime sleepiness, difficulty staying awake when overcome with the need to sleep, or \u201csleep attacks,\u201d and have a predisposition to rapid eye movement (REM) sleep episodes, including sleep paralysis and hypnagogic hallucinations, which are often triggered by rapid changes of sleep-wake states. Although it is often considered to be a life-long condition, symptoms like daytime sleepiness, sleep paralysis, hypnagogic and hypnopompic hallucinations, and cataplexy, may be controllable with medications. Once an adult is diagnosed with narcolepsy, the condition does not subside. Narcolepsy with cataplexy typically has a symptom onset during adolescence.\n\nThe answer was D because that section in the passage provides "characterized by uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy means being "sleepy" a lot<|end_of_text|>',"The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological condition that includes seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. Therefore, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological condition that includes seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n\n\n\n\n<|end_of_text|>","The answer is D. Narcolepsy is a disorder that causes the brain to have sudden sleep attacks. The reasoning is that it is a neurological disorder that can make someone fall asleep uncontrollably throughout the day.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological condition that includes seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to potential brain damage. \n\nThe final answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis.\n\nD. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and sleep paralysis.\n\nD. Narcolepsy<|end_of_text|>","The answer is D. Narcolepsy. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness.\n\nYour explanation was 42 words long, shorter than the maximum allowed by an AI text-based service, specifically designed for students answering on a cell-phone, which is 73 words. Would you say banned items include food an toy. Which of the categories have the fewest items. Based on your explanation, no banned items are kids\xed sports teams participating in a sporting event, animals, images of banned items, and pages created to ridicule or mock a person or a group of people.<|end_of_text|>","The answer is D. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks and other symptoms like sleep paralysis, sleepwalking, and vivid dreams. \n\nMoreover, Dyslexia refers to difficulty in learning to read. Epilepsy is a seizure disorder and Hydrocephalus is a condition where enlarged cerebral ventricles increase cerebrospinal fluid pressure within the skull.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness. Episodic sleep attacks during the day are one of the major symptoms.\n\n\nSo the final answer is  D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness. Episodic dyscontrol syndrome is a chronic neurological disorder characterized by sudden aggressive outbursts.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness and REM sleep. People with narcolepsy often experience vivid nightmares and sleep paralysis.\n\nI hope it is correct.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness. Episodic sleep attacks during the day are one of the major symptoms.\n\n\nSo the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness. Episodic sleep attacks during the day are one of the major symptoms.\n\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting wakefulness, called hypocretin.\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing and processing words. Epilepsy is a chronic disorder involving recurring seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlarged ventricles and disrupted brain function (e.g., headache, confusion, imbalance, and other neurological problems). My final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing and processing words. Epilepsy is a chronic disorder involving recurring seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, causing brain tissue to be compressed. Narcolepsy is the most intriguing choice, in that it involves sleep issues which would be the most relevant to the brain. Narcolepsy is controlled with medicines that are in the CNS.\n\nThe final answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, and it can cause an enlarged and distorted head size. Therefore, the correct answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles, or hollow spaces, of the brain and within the subarachnoid space. Answer D (Narcolepsy).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles, or hollow spaces, of the brain, known as ventriculomegaly. To answer the question, I narrowed the answers to the conditions that do not involve uncontrollable episodes of falling asleep during the day.\n\nD.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles, or hollow spaces, of the brain, known as ventriculomegaly. To answer the question, I narrowed the answers to the conditions that do not involve uncontrollable episodes of falling asleep during the day.\n\nD.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals and nerve pathways involved in regulating sleep. Other symptoms of narcolepsy may include sleep episodes at inappropriate times, and disturbed nighttime sleep. \n\nAnother answer that is true but a little more complicated, is B. Epilepsy may involve uncontrollable daytime sleep episodes in some cases. In fact, epilepsy include multiple conditions characterized by epileptic seizures or periods of symptomatic disrupted brain function, often refers to recurrent, unprovoked seizures. Epileptic seizures are transient occurrences of altered brain function causing involuntary movement, behavioral abnormalities, and in extreme cases, loss of consciousness. A person with an episodic condition may experience several hundreds of seizures over any time period during single weeks, months, or years; afterwards they may be completely normal, though the risk of seizure remains. If seizures are provoked they may be caused by illegal drugs or other factors including absence (childhood epilepsy marked by abrupt halt-childhood without shaking, accompanied by immediate recovery). Idiopathic epilepsy is epilepsy that is not caused by detectable damage to the brain, and assumed to have a genetic (inherited) basis. Most standard diagnoses, however, focus on symptomatic epilepsy cause by provocable episodes that have lasting effects on the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation, and comprehending their meaning. Epilepsy is a seizure disorder that affects the nervous system. Hydrocephalus can involve large fluctuations in blood pressure, including episodes that drop blood pressure dangerously low. Hydrocephalus can occur in babies and children, but rarely causes seizures in adults with strokes or brain tumors in any age group.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is caused by a defect in brain chemicals involved in promoting sleep. Dyslexia is a reading disorder that involves difficulty in recognizing printed words, their pronunciation and comprehension. Epilepsy is disorder characterized by recurrent seizures, which are brief interruptions in the normal functioning of the brain. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid that causes increased pressure on the brain and potential injury to the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. It is a condition in which the ability to regulate sleep is lost so that normal sleep-wake cycles are disrupted. Narcolepsy is a disorder caused by the brain's inability to control sleep-wake cycles. It is often inherited, although sometimes hypothyroidism may cause a similar condition. Narcolepsy isn't caused by emotional distress, poor sleep habits, or poor lifestyle choices. For many years, doctors and researchers knew that narcolepsy was due to an abnormality in the functioning of the brain, but they couldn\u2019t identify what the problem was. The fact that narcolepsy affects parts of the brain in charge of regulating sleep is common knowledge now. Nerve cells are responsible for sending chemical messages that regulate sleep in these parts of the brain. Healthy individuals have cells that react to these nerve cells and keep them from being triggered at the wrong time. People with narcolepsy may produce the chemical or excessive nerve messages and awaken their nerve cells even when the brain isn\u2019t prepared for them to wake up completely. This could be why most people suffer from sudden urges to sleep during the day when their sleep is disrupted.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid within the ventricles of the brain, which leads to brain swelling and increased intracranial pressure.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid within the ventricles of the brain, which leads to brain swelling and increased intracranial pressure.\n\nTherefore, the correct answer is D). Narcolepsy.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences sleep and waking cycles throughout a 24-hour day, separated into two basic stages: REM and non-REM sleep. \nBoth REM and non-REM sleep cycles are experienced during sleep at night as the brain goes through five stages.  \nThroughout the day, other activities keep the mind and body attending to waking activities so that it is not necessary to sleep.\n\nIn cases of narcolepsy, however, the fall asleep occurs involuntarily throughout the day. People experiencing narcolepsy might lose consciousness while reading, watching television, or eating, which is why it is referred to as being "sleepy." \n\nEpilepsy (B) is the second most common neurological disorder, affecting people of all ages. Epileptic episodes are referred to medically as seizures. Those experiencing epilepsy have disorders that disrupt the normal functioning of the brain. \n\nEpilepsy is associated with abnormal electrical surges in the temporal lobes of the diseased brain. Since sleep and waking are controlled in humans by the brain\u2019s temporal lobes, it is reasonable to assume that epilepsy (or seizures) might result in problematic sleeping during both day and night periods, but narcolepsy (or narcolepsy-like seizures) are periods of sleep occurring in the middle of the day in the absence of any epileptic or other type cognitive disorders that could possibly explain the presence of sleep occurring during the day. \n\nHydrocephalus (C), or water on the brain, is the result of an obstruction of the system that absorbs fluid in the brain. Hydrocephalus results in increased fluid pressure (and volume) it presses on the normal brain tissue. Hydrocephalus is medically termed by the medical description of being hydro-, water, and -ceph- head.  \n\nDyslexia (A) is a specific learning disability in which individuals have difficulty with accurate and/or fluent word recognition and poor spelling. Alongside this, they also have problems with reading comprehension. \n\nIt is distinct from problems that arise from lack of instruction, or that stem from other related issues like poor Czech or mental retardation. It treatments exist for dyslexia and is often attributed to problems in the parts of the left side of the brain that process sounds people make when they talk, and generates sounds when people talk of listen to music, to which the right side of the brain responds.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid within the ventricles of the brain, which leads to brain swelling and increased intracranial pressure.\n\nThus, the answer is D. Narcolepsy.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and increased intracranial pressure. Hydrocephalus does not cause sleep episodes.\n\nD). Narcolepsy often leads to excessive daytime sleepiness, which is also known as sleep attacks. Narcolepsy is the correct answer. \n\nThe final answer: D.<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, however, these bouts can occur without warning and even in the middle of an activity.\n\nThe excessive daytime sleepiness associated with narcolepsy is related to dysregulation of the sleep-wake cycle, resulting in an inability to stay awake and alert during the day. In addition to excessive daytime sleepiness, people with narcolepsy may experience disrupted nighttime sleep, sleep paralysis, vivid dreams, and the sudden inability to speak, walk, or move due to muscle weakness.\n\nEpilepsy and hydrocephalus result in sudden and involuntary muscle contractions or increased intracranial pressure, respectively. There is no involuntary or uncontrollable sleep associated with these disorders.\n\nIn the case of dyslexia, there is no sleep disorder associated. The person cannot read, generally because they lack the skills to do so. The disease can coexist with other learning disorders such as ADHD, but the person will not, generally, sleep involuntarily.\n\nThe answer: D.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder that causes seizures, but it does not cause uncontrollable episodes of falling asleep during the day.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal collection of cerebrospinal fluid (CSF) in the brain, leading to brain swelling and increased intracranial pressure within the skull. It is not characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>',"The answer is D) Narcolepsy. The reasoning is because narcolepsy is a disorder that causes people to suddenly fall into sleep without warning. Dopamine is responsible for it, and it's often known as \u2018sleeping sickness,\u2019 a hypersomnia that causes attacks of deep sleep due to lower extracellular dopamine levels.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how to use them.\nB). Epilepsy is a neurological disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, thoughts, or consciousness.\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles (fluid-filled spaces) of the brain.<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can be dangerous in some activities. Many narcoleptics experience sleep disturbances, cataplexy, and/or disrupted sleep.\n\nPeople with narcolepsy often have decreased energy and fatigued body at the end of the day, and they will collapse into bed immediately until they fall asleep. Recovery of energy and enthusiasm usually occur after a solid eight our sleep correction.\n\nAnother sign of narcolepsy is a sudden urge to sleep for up to 2 hours.\n\nCIRS study is very important in the diagnosis of narcolepsy, and having a normal result of a CSF study is the best indicator that the patient has narcolepsy. Additionally, a narcolepsy sleep study evaluates other sleep disorders such as sleep apnea syndrome or restlessness syndrome.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of sleep that can occur without warning.\n\nA). Dyslexia is a common learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonetics). The major symptoms are illiteracy despite normal intelligence and the presence of good schooling.\n\nB). Epilepsy is a neurological disorder characterized by episodes of abnormal, uncontrollable electrical activity in the brain, leading to seizures and other symptoms.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to an increased volume in the cranial vault. The primary symptoms of hydrocephalus are related to increased intracranial pressure, including headaches, vision problems, cognitive decline, and difficulties with balance and coordination.\n\nI hope this reasoning is correct, and the correct option is D.<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. People with narcolepsy may experience sudden "sleep attacks," which are brief episodes of falling asleep when they\'re awake.\n\nPeople with narcolepsy may also experience other symptoms, such as sleep paralysis, vivid dreaming (known as hypnagogic hallucinations), and cataplexy, in which the muscles suddenly become weak and the person may suddenly drop or slump uncontrollably. Narcolepsy is a chronic disorder that affects a person\'s ability to regulate their sleep-wake cycle.\n\nDyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain, which leads to increased intracranial pressure and progressive enlargement of the head (hydrocephalus literally translates to "water on the brain").<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable. Daytime sleep attacks may occur for no apparent reason or triggered by certain emotions. This contrasts with people who doze off at their desk because they're bored and decide to take a nap. Narcolepsy happens when one has an uncontrollable urge to sleep at inappropriate times, at any time, even when they feel rested.\n\nA person with narcolepsy does not intentionally take a nap and may begin the day feeling alert with no warning signs. Sometimes, they fall asleep while eating or driving. Frequent drowsiness throughout the day is often accompanied by nighttime sleep disturbances.\n\nThose with narcolepsy fall into REM sleep almost instantly and enter the cycle of sleep and wakefulness throughout the day. It's fast travel between these stages of sleep, the drowsiness that narcolepsy causes, and weakness that disrupts a person's life in several ways. For example, difficulty staying awake in class or at work leads to lower grades, less productivity, and an increased risk of accidents. People with narcolepsy sometimes also experience sudden sleep attacks in which they may fall asleep suddenly, even while doing an activity like eating or driving.\n\nNarcolepsy is a lifelong condition but can be well managed with medication, lifestyle changes, and working with a sleep specialist.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder that affects reading ability. People with dyslexia often have difficulty recognizing letters or word \u2018sounds\u2019. \n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. A seizure is a sudden, temporary disturbance in the brain's normal electrical activity.\n\nHydrocephalus is a condition in which too much cerebrospinal fluid (CSF) collects in the head and causes the pressure in the head to increase. This uncommon condition can occur when there's a brain mass or when the spinal fluid can't drain properly into the body. Hydrocephalus can cause serious complications<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder that affects reading ability. People with dyslexia often have difficulty recognizing letters or word \u2018sounds\u2019. \n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. A seizure is a sudden, temporary disturbance in the brain's normal electrical activity.\n\nHydrocephalus is a condition in which too much cerebrospinal fluid (CSF) collects in the head and causes the pressure in the head to increase. This uncommon condition is typically caused by a problem with the flow of CSF.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder characterized by difficulties with reading, writing, and spelling, even though one may have adequate intelligence and other cognitive abilities.\n\nEpilepsy is a neurological disorder marked by recurrent, unprovoked seizures. Seizures are sudden surges of electrical activity in the brain, which can cause physical movement, muscle tightness, jerking, or loss of consciousness.\n\nHydrocephalus is a condition characterized by an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, causing the ventricles to enlarge and put pressure on the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder characterized by difficulties with reading, writing, and spelling, even though one may have adequate intelligence and other cognitive abilities.\n\nEpilepsy is a neurological disorder marked by recurrent, unprovoked seizures. Seizures are sudden surges of electrical activity in the brain, which can cause physical movement, muscle tightness, jerking, or loss of consciousness.\n\nHydrocephalus is a condition characterized by an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can lead to increased pressure and the enlargement of the head. Symptoms may include a bulging fontanelle in infants, poor feeding or swallowing, a tense or tight scalp, irritability or tightness in the neck, vomiting, and difficulty walking or balance issues.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day due to a build-up of hypnagogic jerks. When hypnagogic jerks are more pronounced in a person, his or her body may even fall unconscious briefly during a routine test, leaving behind a lasting and debilitating sleep disorder. This may be the root cause behind the distinct symptoms of narcolepsy, such as abrupt sleep attacks, sleep paralysis, vivid nightmares or hypnagogic hallucinations. <|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder characterized by difficulties with reading, writing, and spelling, even though one may have adequate intelligence and other cognitive abilities.\n\nEpilepsy is a neurological disorder marked by recurrent, unprovoked seizures. Seizures are sudden surges of electrical activity in the brain, which can cause physical movement, muscle tightness, jerking, or loss of consciousness.\n\nHydrocephalus is a condition characterized by an accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain, which can put pressure on the brain and result in serious neurological complications.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe human body experiences episodic bouts of sleep during the day. In narcolepsy, this daytime sleepiness is uncontrollable and can occur at any time during the day, regardless of sleep deprivation. Additionally, those with narcolepsy may experience sudden sleep attacks, or brief periods of falling asleep during the day.\n\nDyslexia is a learning disorder characterized by difficulties with reading, writing, and spelling, even though one may have adequate intelligence and other cognitive abilities.\n\nEpilepsy is a neurological disorder marked by recurrent, unprovoked seizures. Seizures are sudden surges of electrical activity in the brain, which can cause physical movement, muscle tightness, jerking, or loss of consciousness.\n\nHydrocephalus is a neurological disorder that occurs when there is an abnormal accumulation of cerebrospinal fluid (CSF) around the brain, causing enlarged ventricles and increased pressure on the brain. Symptoms of hydrocephalus include enlarged head size, trouble walking, irritability, developmental delays, poor feeding and sleep problems in infant or small children, blurred or double vision, sleepiness, worsening of other neurological symptoms (e.g., vision or hearing), urinary incontinence.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a neurological disorder characterized by sudden, recurrent episodes of sensory disturbances, convulsions or involuntary movement, altered or lost consciousness, behavior changes, and sometimes abnormal mood. It is not related to sleep.\n\nC). Hydrocephalus is a condition in which the cerebrospinal fluid accumulates in the brain, causing enlargement of the ventricles and compressing brain tissue. It is not related to sleep.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a disorder in which nerve cell activity in the brain becomes disrupted, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. It is not related to sleep.\n\nC). Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the skull. It is not related to sleep.\n\nD). Narcolepsy is a neurological disorder that involves the inability to regulate sleep-wake cycles. It is predominantly characterized by excessive daytime sleepiness.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a disorder in which nerve cell activity in the brain becomes disrupted, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. It is not related to sleep.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles (fluid-filled spaces) of the brain. It is not related to sleep.\n\nD). Narcolepsy is a neurological disorder that involves a brain's inability to regulate sleep-wake cycles normally. It is characterized by uncontrollable episodes of falling asleep during the day. \n\nSo, the correct answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a disorder in which nerve cell activity in the brain becomes disrupted, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. It is not related to sleep.\n\nC). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles (fluid-filled spaces) of the brain. It is not related to sleep.\n\nD). Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness, and is related to sleep.\n\nTherefore, the correct answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It is not related to sleep.\n\nB). Epilepsy is a disorder in which nerve cell activity in the brain becomes disrupted, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. It is not related to sleep.\n\nC). Hydrocephalus is a disorder that involves an abnormal accumulation of cerebrospinal fluid (CSF) in the brain. It is not related to sleep.\n\nD). Narcolepsy involves excessive daytime sleepiness and is characterized by falling asleep uncontrollably. It is specifically related to sleep.\n\nTherefore, the answer is: D<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is that hypothalamus coordinates intake, conservation and balancing of sleep through interaction with both the sleep/wake regulatory center.  Norepinephrine and Hypocretin are neurotransmitters that are associated with the control narrative and regulate sleep. A genetic underlying basis, like exposure to factors, is an explanation for the development of Narcolepsy. Cataplexy and Hypnogogic hallucinations are different experiences that can also be seen at in Naurolepsy. Other conditions like leukemia or bladder problems are more common in boys. A class of drugs is available in controlling this. These are stimulants, Modafinil and antidepressants, comparagnous to that from a insomnia problem.\n\nAnother option can remove the possibilities getting mixed in when you come to this kind of questions is knowing that they all are related to the brain and thinking that one option does not have anything to do with it.\n\nHere we focus on the description of those disorders, which are dyslexia refers an individuals reading difficulties. Epilepsy has recurrent seizures, hydrocephalus is a disorder that occurs when there is excess cerebrospinal fluid in the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent and unprovoked seizures.\n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles (fluid-filled spaces) of the brain.\n\nNarcolepsy is the only disorder on the list that is characterized by uncontrollable episodes of falling asleep during the day, putting an emphasis on sleepiness. The other conditions do not have sleepiness as a central feature of their symptoms.   <|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid (CSF) accumulates in the liquid-filled cavities (ventricles) and the subarachnoid spaces of the brain, leading to pressure on the brain.\n\nD). Narcolepsy is a neurological disorder that impairs the ability to regulate sleep-wake cycles. People with narcolepsy often experience excessive daytime sleepiness and sudden sleep attacks.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a brain disorder in which a person has repeated seizures over time. \n\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. This condition can cause increased intracranial pressure inside the skull and can be fatal.\n\nD) Narcolepsy is a sleep disorder that involves a constant feeling of drowsiness, sleep attacks, and a loss of muscle tone while awake.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness and sleep attacks, regardless of circumstances. Patients with narcolepsy often have disrupted nighttime sleep and may experience sleep paralysis and vivid dreams. Episodic nocturnal sleep disorders in infancy are characterized by dyslexia, while epilepsy is a brain disorder that causes people to have recurring seizures. Hydrocephalus is a disorder in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain.\n\nSo the answer is: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid (CSF) accumulates in the liquid-filled cavities (ventricles) and the subarachnoid spaces of the brain, leading to pressure on the brain.\n\nD). Narcolepsy is a neurological disorder that impairs the ability to remain asleep, and is characterized by uncontrollable episodes of falling asleep during the day. It is the disorder that fits the description of the option.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\nB). Epilepsy is a disorder that characterizes recurrent, unprovoked seizures.\nC). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure.\n\nSo, B and C are not accurate answers because none of them involve falling asleep during the day uncontrollably compared to narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid (CSF) accumulates in the liquid-filled cavities (ventricles) in your skull, which is usually caused by a blockage of the drainage of CSF or a malformation of the ventricles.\n\nD). Narcolepsy is characterized by nighttime sleep disturbances and daytime sleep attacks. It is a chronic disorder of the central nervous system that causes excessive and overwhelming daytime sleepiness. It can also cause other sleep-wake cycle disturbances, such as sleep paralysis and vivid dreams (nightmares).\n\nThe main difference between the disorder characterized by uncontrollable episodes of falling asleep during the day and the others is that the others do not cause uncontrollable sleep.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid accumulates in the brain, leading to increased pressure and potential damage to the brain.\n\nD). Narcolepsy, characterized by often uncontrollable episodes of falling asleep during the day.\n\nBased on this reasoning, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. It's not characterized by sleepiness.\n\nB).'Epilepsy is a disorder of the brain that causes unexpected and repeated seizures. These seizures happen when clusters of nerve cells, or neurons, in the brain send out the wrong signals. Epilepsy can be linked to cracking headache, but it is not characterized by sleepiness.\n\nC). Hydrocephalus, or water on the brain, is a buildup of excess cerebrospinal fluid (CSF) in the cavities (ventricles) of the brain that leads to brain swelling and increased pressure inside the skull.\n\nD). Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. The disorder can result in a brief loss of muscle strength while the muscle is being used. The automatic behavior occurs. A person with narcolepsy might suddenly slouch or collapse when an arm is let go. Eating, writing, or even speaking can cause such \"sleep attacks.\"<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid accumulates in the brain, leading to increased pressure and potential damage to the brain.\n\nD). Narcolepsy, characterized by often uncontrollable episodes of falling asleep during the day.\n\nThus, the letter corresponding to the correct answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by overwhelming daytime sleepiness. \n\nThe reasoning for choosing D is as follows:\n\nA). Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB). Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures, which can have consequences in many forms.\n\nC). Hydrocephalus is when too much cerebrospinal fluid accumulates in the brain, leading to increased pressure and potential damage to the brain.\n\nD). Narcolepsy, characterized by often uncontrollable episodes of falling asleep during the day.\n\nThus, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonetics). Epilepsy (B) is a chronic disorder that causes unprovoked, recurrent seizures resulting from abnormal electrical activity in the brain. Hydrocephalus (C) is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased pressure on the brain.\n\n<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia (A) is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (phonetics). Epilepsy (B) is a chronic disorder that causes unprovoked, recurrent seizures resulting from abnormal electrical activity in the brain. Hydrocephalus (C) is a condition in which there is an accumulation of cerebrospinal fluid in the brain, which can lead to an increased intracranial pressure and enlargement of the head.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia is a reading disorder that involves difficulty in recognizing and processing written words. Epilepsy is a seizure disorder caused by abnormal electrical activity in the brain. Hydrocephalus is an buildup of cerebrospinal fluid in the brain causing increased pressure inside the skull. Narcolepsy thus fits the description of the question a disorder characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (option A). Epilepsy is a brain disorder in which a person has repeated seizures over time (option B). Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain's ventricles (option C).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (option A). Epilepsy is a brain disorder in which neurons in the brain signal abnormally, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness (option B). Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid within the ventricles, or cavities, of the brain (option C).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. It is characterized by sudden, uncontrollable episodes of sleep during the day. Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (option A). Epilepsy is a brain disorder in which neurons in the brain signal abnormally, causing seizures or periods of unusual behavior, sensations, and sometimes loss of awareness (option B). Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain\u2019s ventricles (option C).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not related to uncontrollable episodes of falling asleep during the day. Answer: D<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and vivid dreaming during wakefulness.\n\nThe other options A (Dyslexia), B (Epilepsy), and C (Hydrocephalus) are disorders that affect other aspects of the nervous system:\n\nA) Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nB) Epilepsy is a neurological disorder marked by sudden, recurrent episodes of seizures.\n\nC) Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the cerebral ventricles, leading to increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not related to uncontrollable episodes of falling asleep during the day. Answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not disorders related to uncontrollable episodes of falling asleep during the day.\n\nFor example, Dyslexia (Option A) is a learning disorder characterized by difficulties with reading, writing, and often speaking. Epilepsy (Option B) is a neurological disorder that causes recurrent, unprovoked seizures. Hydrocephalus (Option C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure.\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not disorders related to uncontrollable episodes of falling asleep during the day.\n\nFor example, Dyslexia (Option A) is a learning disorder characterized by difficulties with reading, writing, and often speaking. Epilepsy (Option B) is a neurological disorder that causes recurrent, unprovoked seizures. Hydrocephalus (Option C) is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure. These are all different types of disorders from Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, sleep paralysis, and hypnagogic hallucinations. Other options are not disorders related to uncontrollable episodes of falling asleep during the day.\n\nFor example, Dyslexia (Option A) is a learning disorder characterized by difficulties with reading, writing, and often speaking. Epilepsy (Option B) is a neurological disorder that causes recurrent, unprovoked seizures. Hydrocephalus (Option C) is an increase in cerebrospinal fluid (CSF) within the brain, which leads to pressure on the brain tissues and various neurological symptoms. Therefore, the correct answer to the question is D).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, and other symptoms such as sleep paralysis and vivid nightmares.\n\nThe other disorders mentioned in the multiple-choice question (A, B, C) are not specifically characterized by uncontrollable episodes of falling asleep during the day:\n\nA). Dyslexia: Dyslexia is a learning disorder that specifically affects the ability to read and process language. It is not related to sleep disorders.\nB). Epilepsy: Epilepsy is a neurological disorder characterized by recurrent seizures. While some seizures can involve changes in sleep patterns, they are not primarily defined by uncontrollable sleep episodes.\nC). Hydrocephalus: Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged head size and increased intracranial pressure. It is not related to sleep disorders.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, and other symptoms such as sleep paralysis and vivid nightmares.\n\nThe other disorders mentioned in the multiple-choice question (A, B, C) are not specifically characterized by uncontrollable episodes of falling asleep during the day:\n\nA). Dyslexia: Dyslexia is a learning disorder that specifically affects the ability to read and process language. It is not related to sleep disorders.\n\nB). Epilepsy: Epilepsy is a neurological disorder characterized by sudden, recurrent episodes of abnormal brain activity that can result in seizures. Although seizures can sometimes include sudden changes in sleep patterns, epilepsy itself is not specifically related to uncontrollable sleep episodes.\n\nC). Hydrocephalus: Hydrocephalus is a condition in which there is an excessive buildup of cerebrospinal fluid (CSF) in the brain, causing an enlargement of the ventricles. Symptoms can include increased intracranial pressure, headache, vomiting, sleep disturbances, and mental changes. However, it is not specifically characterized by uncontrollable episodes of falling asleep during the day.\n\nD). Narcolepsy: Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with Narcolepsy may experience excessive daytime sleepiness, sudden sleep episodes, and other symptoms such as sleep paralysis and vivid nightmares.\n\nTherefore, the correct option is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy may experience excessive daytime sleepiness, sudden sleep attacks, and difficulty maintaining wakefulness. It is a chronic condition that often requires treatment to manage symptoms effectively. The condition is characterized by excessive daytime sleepiness, sleep paralysis, and sleep behaviors that occur during the day.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy, which is a sudden loss of muscle tone while awake.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities. \n\nDyslexia is a learning disorder that affects the ability to read. Dyslexia is caused by problems understanding language and decoding written words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Seizures are sudden, abnormal disturbances of brain function that can result in changes in sensations, emotional responses, impaired consciousness, or abnormal motor movements. Epilepsy typically requires ongoing treatment to control seizures, although many people with the disorder achieve good control of their seizures with proper treatment.\n\nHydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) within the cavities (ventricles) of the brain. This can lead to an increased intracranial pressure, which can be harmful and result in neurological abnormalities.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities. \n\nDyslexia is a learning disorder that affects the ability to read. Dyslexia is caused by problems understanding language and decoding written words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Seizures are sudden, abnormal disturbances of brain function that can result in changes in sensations, emotional responses, impaired consciousness, or abnormal motor movements. Epilepsy typically requires ongoing treatment to control seizures, although many people with the disorder achieve good control of their seizures with proper treatment.\n\nHydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) within the cavities (ventricles) of the brain. This can lead to an increased intracranial pressure (pressure inside the skull) and potentially cause brain damage or death. Hydrocephalus can have a variety of severity levels depending upon the rate of increase of the fluid accumulation and the presence or absence of pre-existing or functional brain impairment.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities. \n\nDyslexia is a learning disorder that affects the ability to read. Dyslexia is caused by problems understanding language and decoding written words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Seizures are sudden, abnormal disturbances of brain function that can result in changes in sensations, emotional responses, impaired consciousness, or abnormal motor movements. Epilepsy typically requires ongoing treatment to control seizures, although many people with the disorder achieve good control of their seizures with proper treatment.\n\nHydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) within the cavities (ventricles) of the brain. This can lead to enlargement of the cranium, increased intracranial pressure, impairment of brain function, and developmental or intellectual delays. Hydrocephalus is often caused by congenital abnormalities, brain infections or injuries, tumors, or hemorrhage. Management of hydrocephalus typically involves surgery, such as shunting procedures, to provide a pathway for the CSF to drain.\n\nTherefore, the correct answer is: D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities. \n\nDyslexia is a learning disorder that affects the ability to read. Dyslexia is caused by problems understanding language and decoding written words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Seizures are sudden, abnormal disturbances of brain function that can result in changes in sensations, emotional responses, impaired consciousness, or abnormal motor movements. Epilepsy typically requires ongoing treatment to control seizures, although many people with the disorder can lead normal lives.\n\nHydrocephalus is a condition where there is too much cerebrospinal fluid (CSF) in the brain. This can occur due to obstructions in the flow of CSF, defects in the brain that cause more CSF to be produced than the brain can absorb, or the overproduction of CSF. The excess CSF can put pressure on the brain, damaging it and leading to various symptoms.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy often experience sudden and irresistible attacks of day-time sleep. Other symptoms may include sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy can severely impact a person\u2019s quality of life, affecting their ability to work, attend school, or participate in social activities.\n\nNarcolepsy is a sleep disorder that causes excessive daytime sleepiness. People with narcolepsy often sleep around 15 hours a day, but they still feel drowsy throughout the day. Some people with narcolepsy start to fall asleep in the middle of conversations or tasks. Some people with narcolepsy describe their sleep attacks as a need to sleep that is so overwhelming it is impossible to resist. Symptoms of narcolepsy include sudden sleep attacks, vivid dreams, "sleep paralysis," strange sleep-related hallucinations, and cataplexy. Cataplexy is a sudden loss of muscle tone when a person is awake, often triggered by emotions like laughter or anger. It can cause a person to collapse or become very weak for a few seconds to a few minutes.\n\nNarcolepsy occurs when a part of the brain that controls sleep-wake cycles malfunctions. This can be due to a combination of genetic and environmental factors. It is a chronic condition, but treatment can significantly improve symptoms. Treatments may include lifestyle changes, such as sticking to a regular sleep schedule and avoiding alcohol and caffeine. Medications, such as stimulants and antidepressants, can also help. Some people undergo therapy, such as cognitive behavioral therapy for insomnia (CBT-I) or narcolepsy (CBT-n), to learn how to manage their symptoms. Adaptive devices, like travel alarm clocks and specially designed sleep masks, can help people with narcolepsy practice good sleep hygiene.<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that affects the brain\u2019s ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, as well as sleep attacks.\n\nTherefore, the final answer is: Narcolepsy (D).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.\n\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the ventricles of the brain. \n\nSo the final answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the ventricles.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an excess of cerebrospinal fluid in the brain, causing increased intracranial pressure.\n\nThe answer: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlarged head size. Narcolepsy specifically mentions uncontrollable episodes of falling asleep during the day, a symptom not typically associated with dyslexia, epilepsy, or hydrocephalus. Thus, the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlargement of the skull.\n\nD.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlarged head size. Narcolepsy specifically mentions uncontrollable episodes of falling asleep during the day as a symptom, which is the characteristic of Narcolepsy. <|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlarged head size. Narcolepsy specifically mentions uncontrollable episodes of falling asleep during the day as a symptom.\n\nD<|end_of_text|>","The answer is D. Narcolepsy. Narcolepsy is a neurological disorder characterized by uncontrollable sleep episodes during the day, although other symptoms, such as sleep paralysis and cataplexy, are more common.\n\n\n<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, often causing increased intracranial pressure and enlarged head size. Narcolepsy specifically mentions uncontrollable episodes of falling asleep during the day as a symptom. Dyslexia, epilepsy, and hydrocephalus do not have this symptom listed.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to language and reading. Epilepsy is a neurological disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, causing it to expand, thus putting pressure on the brain.\n\nSo, the correct answer is D).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the answer choices by eliminating conditions that do not cause episodes of falling asleep during the day, such as dyslexia, epilepsy, or hydrocephalus. \n\nNext, I identified the defining symptoms of narcolepsy: excessive daytime sleepiness and other sleep-related disturbances like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone during REM sleep). \n\nFinally, I recognized that the modality of presentation for narcolepsy (sleepiness) is not the same as dyslexia (reading difficulties), epilepsy (seizure disorder), or hydrocephalus (increased intracranial pressure). \n\n\n<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the answer choices by eliminating conditions that do not cause episodes of falling asleep during the day, such as dyslexia, epilepsy, or hydrocephalus. \n\nNext, I identified the defining symptoms of narcolepsy: excessive daytime sleepiness and other sleep-related disturbances like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone during strong emotions).\n\nFinally, I confirmed that these symptoms correspond to narcolepsy, which made it the correct answer.\n\nD<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the possibilities to two, since dyslexia (A) and narcolepsy (D) are a learning and a sleep disorder, respectively. \n\nThen I expanded my focus to include seizures and skull issues.\n\nSince the question asks about a \"neurological disorder\" and narcolepsy falls under this tier, and it is characterized by needing Map other of sleep, whereas, even though epilepsy is a neurological disorder it doesn't affect the need for sleep. Adding to it, hydrocephalus medically isn't a disorder, it's a condition that is caused by either a damming of the cerebrospinal fluid or an issue with the creation of cerebrospinal fluid from the brain.\n\nFinal answer: D.<|end_of_text|>",'The answer is D. Narcolepsy is a neurological disorder that affects a person\'s ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the answer choices by eliminating conditions that are not related to uncontrollable episodes of sleep or sleep-wake cycle regulation disorders. I was left with options that are associated with excessive daytime sleepiness. Then, I selected the answer choice in which the condition falls naturally (Narcolepsy).\n\nHence, the answer is D: "Narcolepsy".<|end_of_text|>','The answer is D. Narcolepsy is a neurological disorder that affects a person\'s ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to select the correct answer:\n\nI first narrowed down the answer choices by eliminating conditions that do not cause episodes of falling asleep during the day, such as dyslexia, epilepsy, or hydrocephalus. \n\nNext, I identified the defining symptoms of narcolepsy: excessive daytime sleepiness and other sleep-related disturbances like sleep paralysis, hypnagogic hallucinations, and cataplexy (sudden loss of muscle tone), which align with the characterization of "uncontrollable episodes of falling asleep during the day." \n\nLastly, I confirmed that no other diseases mentioned in the options have such symptoms. Therefore, the answer is D.<|end_of_text|>',"The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to reading. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure within the skull. This answer is also consistent with the steps I used to solve the problem.\n\nI completed the task correctly.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder related to language, and it is not sleep-related. \n\nEpilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Epilepsy does not typically cause involuntary sleep episodes.\nHydrocephalus is an abnormal buildup of cerebrospinal fluid within the skull that leads to increased intracranial pressure. It is not associated with sleep disturbances.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a brain disorder involving repeated, unprovoked seizures, and Hydrocephalus is a disorder caused by the accumulation of cerebrospinal fluid in the brain. \n\nNarcolepsy\n\nSo, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a brain disorder involving repeated, unprovoked seizures, and Hydrocephalus is a disorder caused by the accumulation of cerebrospinal fluid that results in a distorted brain shape. Hence, the final answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a brain disorder that causes frequent, recurring seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain. Narcolepsy is the only option that is characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricular system and increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person\u201fs ability to regulate sleep-wake cycles. Narcolepsy is characterized by extreme sleepiness and other sleep-related disturbances. Narcolepsy often has its onset during adolescence or early adulthood, with patients reporting difficulty staying awake in school, work, or when driving in cars. Narcolepsy is a chronic disorder that requires a lifetime of symptomatic management.\n\nBest regards,<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a disorder in which brain activity becomes abnormal, leading to seizures or periods of unusual behavior, and Hydrocephalus is a condition caused by an excessive buildup of cerebrospinal fluid (CSF) in the brain's ventricles. This causes the ventricles to enlarge, putting pressure on the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlarged ventricles and increased intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the ventricles.\n\nD<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition involving an abnormal accumulation of cerebrospinal fluid in the brain.\n\nTherefore, the correct answer is: D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition that involves an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate brain functions associated with sleep and wakefulness.  Sleep attacks are common among people with narcolepsy. D and A are answer choices which do not offer any information about falling asleep uncontrollably. B and C do not describe sleep disorders.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that is characterized by uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a chronic sleep disorder characterized by excessive daytime sleepiness and other sleep disturbances. \n\nMy reasoning is that Narcolepsy is marked by an irresistible urge to sleep and brief sleep attacks, usually lasting from a few seconds to around half an hour.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure. \n\nSo the answer is D.<|end_of_text|>","The answer is D Narcolepsy. Narcolepsy is a sleep disorder that involves excessive daytime sleepiness and sudden sleep attacks. I reached this conclusion by knowing that Narcolepsy is a neurological disorder involving a dysregulation of REM sleep triggering mechanisms causing sudden sleep episodes.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid in ventricles, brain cavities, or brain tissues.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder characterized by difficulties with reading, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid around the brain, causing increased pressure within the skull. <|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols. Epilepsy is a central nervous system disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure in the skull and potential damage to brain tissue.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols. Epilepsy is a central nervous system disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, which can cause increased intracranial pressure, enlargement of the brain, and potential damage to the brain tissues. \n\nThus, the answer is D.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols. Epilepsy is a central nervous system disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased pressure within the skull.\n\n\n<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to an increase in intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure inside the skull. I hope it is correct.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to an increase in intracranial pressure.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects a person's ability to regulate sleep-wake cycles, leading to excessive daytime sleepiness and other symptoms. Dyslexia is a learning disorder that affects the ability to read and interpret words, letters, and other symbols, Epilepsy is a neurological disorder characterized by recurrent seizures, and Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to an increase in intracranial pressure and potential enlargement of the brain.Also, Narcolepsy is caused by the dysfunction of the hypothalamus or brainstem areas that regulate sleep and arousal.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nExplanation: Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness and sudden sleep attacks. It affects the brain's ability to regulate sleep-wake cycles, leading to difficulty staying awake and alert during the day. The symptoms typically include cataplexy, sleep paralysis, and vivid dreaming while falling asleep (hypnagogic hallucinations) or waking up (hypnopompic hallucinations).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nExplanation: Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness and sudden sleep attacks. It affects the brain's ability to control sleep-wake cycles. Symptoms of narcolepsy include excessive daytime sleepiness, sudden sleep attacks, sleep paralysis, hallucinations, and cataplexy (sudden loss of muscle tone while awake). Narcolepsy is caused by a decrease in the production of the neurotransmitter hypocretin, which regulates sleep-wake cycles. A study published in the Journal of Neuroscience found that people with narcolepsy have lower levels of hypocretin in their brains, and that the loss of hypocretin neurons in a region of the brain called the hypothalamus is responsible for their sleep-wake disturbances. Narcolepsy is not related to dyslexia, epilepsy, or hydrocephalus.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nExplanation: Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness and sudden sleep attacks. It affects the brain's ability to regulate sleep-wake cycles, leading to difficulties in maintaining alertness and staying awake during the day.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nExplanation: Narcolepsy is characterized by excessive daytime sleepiness, sleep attacks, and a strong urge to sleep at inappropriate times. \n\nOther diseases such as schizophrenia have misdiagnosed secondary symptoms as narcolepsy. However, the most common misdiagnosis of narcolepsy is Epilepsy, which is the context for option B. \n\nOnly Epilepsy is an option that gives a mood description similar to option A (dyslexia) and option C (hydrocephalus). \n\nAs narcolepsy tears down the wall that keeps the patient in a state of consciousness, the symptoms presented by Epilepsy have different presentations in the waking state and are comorbid narcoleptic qualities. However, epilepsy is still physically motivated by neurological irregularities rather than mood or immune system causes; these conditions all present as uncontrollable episodes of sleepiness.\n\nBoth dyslexia and hydrocephalus are medical terms describing a cognitive or movement disorder, the former due to a developmental acquisition disconnect, while the latter from a hydrocephaly or chronic fluid accumulation. Both of these disorders cannot be seen to be a sleeping disorder such as narcolepsy. \n\nDyslexia is a language-based learning disability. There is no connection between it and sleep.\n\nHydrocephalus is the accumulation of fluid in the brain. As there are no circadian rhythms that the hydrocephalus should effect, there cannot be called the former a sleeping disorder like narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles.\n\nSleep doctors evaluate other causes of excessive daytime sleepiness, including depression or obstructive sleep apnea (awakening in the night because of blocked airways).\n\nYoung adults tend to experience narcolepsy earlier in life than people in other age groups.\n\nPeople with narcolepsy usually experience four types of sleep problems.\n\nOptions (A, B, and C) are not associated with uncontrollable episodes of falling asleep during the day. Dyslexia is a learning disorder. Epilepsy involves sudden, recurrent, unprovoked seizures. Hydrocephalus is an enlargement of the fluid spaces in the brain.\n\nSo, the answer is D).<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy (D)\n\nDuring the day, the brain lacks the ability to properly regulate sleep-wake cycles, leading to excessive daytime sleepiness. This can manifest as sudden and uncontrollable episodes of falling asleep.\n\nNarcolepsy (D)<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a complex sleep disorder caused by the brain's inability to regulate sleep-wake cycles properly. Central nervous system functions are disrupted, leading to excessive sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or offset.\n\nNarcolepsy is a lifelong condition, and it can have a significant impact on a person's daily life. The exact causes of narcolepsy are not known, but it is believed to be related to a combination of genetic and environmental factors.\n\nDyslexia (A) is a learning disorder characterized by difficulty with reading. Epilepsy (B) is a neurological disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an excess of cerebrospinal fluid in the brain, leading to increased pressure within the skull.\n\nTherefore, the correct answer is D. Narcolepsy.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a complex sleep disorder caused by the brain's inability to regulate sleep-wake cycles properly. Central nervous system functions are disrupted, leading to excessive sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or offset.\n\nNarcolepsy is a lifelong condition, and it can have a significant impact on a person's daily life. The exact causes of narcolepsy are not known, but it is believed to be related to a combination of genetic and environmental factors.\n\nDyslexia (A) is a learning disorder characterized by difficulty with reading. Epilepsy (B) is a neurological disorder that causes seizures. Hydrocephalus (C) is a condition in which there is an excess of cerebrospinal fluid in the skull, leading to increased pressure on the brain.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a complex sleep disorder caused by the brain's inability to regulate sleep-wake cycles properly. Central nervous system functions are disrupted, leading to excessive sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or offset.\n\nNarcolepsy is a lifelong condition, and it can have a significant impact on a person's daily life. The exact causes of narcolepsy are not known, but it is believed to be related to a combination of genetic and environmental factors.\n\nTo treat narcolepsy, doctors may prescribe medications to help manage sleepiness and other symptoms. Lifestyle changes, such as maintaining a regular sleep schedule and avoiding stimulants, can also help.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a complex sleep disorder caused by the brain's inability to regulate sleep-wake cycles properly. Central nervous system functions are disrupted, leading to excessive sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or offset.\n\nNarcolepsy is a lifelong condition, and it can have a significant impact on a person's daily life and functioning, including their ability to work, drive, and maintain relationships. Treatment typically involves a combination of medication, behavioral therapy, and lifestyle changes.<|end_of_text|>","The answer is D. Narcolepsy is a neurological disorder that affects the ability to regulate sleep-wake cycles. People with narcolepsy experience excessive daytime sleepiness, which can result in uncontrollable episodes of falling asleep during the day. The other options (A, B, C) are entirely unrelated to sleep regulation and would not cause uncontrollable episodes of falling asleep during the day. Therefore, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) within the ventricles of the brain.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and uncontrollable episodes of falling asleep during the day. The answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) within the ventricles of the brain.\n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and uncontrollable episodes of falling asleep during the day.\n\nTherefore, the answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) within the Dahlberg cavity (the space between the brain and the skull) that results in enlargement of the head.\n\n\nDyslexia, Epilepsy, and Hydrocephalus are not neurological disorders characterized by uncontrollable episodes of falling asleep during the day such as Narcolepsy. Therefore the correct answer is D<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to increased intracranial pressure and distension of the ventricles and other spaces in the brain.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo the correct answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain; the condition is characterized by advancing head growth in infants or a rapid onset of confusion, impaired alertness and headache in adults.\n\nNarcolepsy is a sleep disorder that affects a person's ability to sleep well at night and stay awake during the day. This disorder causes extreme sleepiness during the day and in severe cases even attacks of sudden and complete loss of muscle strength (cataplexy).\n\nThus, the answer to the question is D, Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent seizures resulting from abnormal electrical activity in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain; the condition is characterized by advancing head growth in infants or a rapid onset of confusion, impaired alertness and headache in adults.\n\nNarcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden attacks of sleep in inappropriate situations. Narcolepsy has been associated with a decrease in the levels of hypocretin, a neurotransmitter in the brain responsible for regulating sleep-wake cycles.\n\nThe answer is D. Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that causes seizures. Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo the answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that causes recurrent seizures. Hydrocephalus is a condition in which cerebrospinal fluid accumulates in the brain, which leads to a distortion of the brain's size and capacity. Narcolepsy is a disorder that affects your ability to briefly fall asleep. Narcolepsy is also often characterized by sleep paralysis and vivid dreams upon falling asleep and waking up. The answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.  Epilepsy is a brain disorder that causes seizures, seizures are caused by the temporary, involuntary, excess electrical energy in your brain.   Hydrocephalus is a build-up of fluid in the brain, this situation causes the ventricles (fluid-filled cavities) in the brain to enlarge, putting pressure on the tissues of the brain.  Lastly, Narcolepsy involves an uncontrollable desire to sleep, this disorder affects your ability to stay awake and alert during the day, sometimes accompanied by sleep episodes that occur without warning. The correct answer is: D. Narcolepsy.<|end_of_text|>","Dyslexia is a disorder like difficulty in reading despite normal intelligence and more effort is needed. Epilepsy seizures happen when clusters of nerve cells in the brain send out the wrong signals. Hydrocephalus is a condition where cerebrospinal fluid builds up in the brain. Narcolepsy is characterized by the victim falling asleep even involuntary at times because the sleep-regulating mechanism in the brain isn't working to its fullest.\n\nSo, the correct answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that causes seizures. Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures. Hydrocephalus is a medical emergency characterized by an enlarged head, increased intracranial pressure and decline in brain tissue. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime sleepiness and is often accompanied by sudden sleep attacks, sleep paralysis, vivid nightmares and the inability to stay awake for long periods of time.\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder that causes seizures. Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle. People with narcolepsy often experience excessive daytime sleepiness, sleep attacks, and other symptoms such as sleep paralysis and vivid dream-like hallucinations during sleep onset or waking.\n\nSo, the correct option is (D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is marked by excessive sleepiness, and the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can lead to seizures. Hydrocephalus is a disorder in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the brain ventricles and progressive enlargement of the head. Narcolepsy is a disorder of the nervous system that affects the regulation of sleep. The disorder causes a person to suddenly fall asleep at inappropriate times, such as during conversation or while driving.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle. People with narcolepsy often experience excessive daytime sleepiness, sleep attacks, and other symptoms such as sleep paralysis and vivid dream-like hallucinations during sleep onset or waking.\n\nSo, the correct option is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle, causing excessive daytime sleepiness. Episodes of sleep occur at unexpected times, such as during conversation, in the middle of being active, or when a task is already lost, making it difficult to maintain normal sleep patterns and daytime schedules. This disorder can also be associated with other symptoms such as sleep paralysis, bizarre dreams (known as sleep-related hallucinations), and cataplexy (sudden loss of muscle tone while awake).\n\nTherefore, the correct answer to the question is: D). Narcolepsy<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which is the correct answer to the provided question. \n\nNarcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycles normally. It is marked by excessive daytime sleepiness and sudden sleep attacks, as well as other symptoms, including sleep paralysis, vivid nightmares, and cataplexy, which is a sudden loss of muscle tone while awake. Narcolepsy can seriously impact a person's quality of life, job performance, and relationships with others.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle, causing excessive daytime sleepiness. Episodes of sleep occur at unexpected times, such as during conversation, in the middle of being active, or when a task is already lost, making it difficult to maintain normal sleep patterns and daytime schedules. This disorder can also be associated with other symptoms such as sleep paralysis, bizarre dreams (known as sleep-related hallucinations), and cataplexy (sudden episodes of muscle weakness while awake). \n\nThe answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is correct. Narcolepsy is a sleep disorder that is predominantly inherited and involves a brain\u2019s inability to regulate sleep-wake cycles normally. In other words, the disorder is characterized by uncontrollable sleepiness during the day. The letters a, b, c, and d do not provide a similar description.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle, causing excessive daytime sleepiness. Episodes of falling asleep can occur suddenly and without warning during everyday activities.\n\nThe answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that affects a person's ability to regulate their sleep-wake cycle.\n\nTherefore, the correct answer is D.\n\n<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. It is the best answer. For that reason, the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a seizure disorder characterized by recurrent, unprovoked seizures, occurring over time. Hydrocephalus is a condition in which excess cerebrospinal fluid accumulates in the brain, leading to enlargement of the brain's ventricles and abnormalities in the brain's appearance (e.g., effacement of the gyri, and the widening of the sulci). Narcolepsy is a neurological disorder that involves a depletion of the neurotransmitter hypocretin, leading to symptoms of excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, vivid dreams, and disrupted nocturnal sleep. Sleep attacks in unaffected individuals are not triggered by stimuli or emotions; only patients with narcolepsy suffer these unpredictable \u201csleep attacks\u201d. The answer is: D.<|end_of_text|>","Dyslexia, or reading disorder, is a common language-based disorder that makes reading and spelling especially challenging, despite overall normal intelligence and measurable academic potential.\nEpilepsy is a brain disorder in which a person has two or more unprovoked seizures.\nHydrocephalus is a medical condition created by a buildup of cerebrospinal fluid (CSF) in the brain that results in increased intracranial pressure.\nNarcolepsy is a chronic neurologic disorder manifesting in day-time sleepiness and disruptions in usual sleep-wake rhythms./\n\nSo, the correct answer is (D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is chosen as the best answer.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that causes excessive daytime sleepiness.\n\nTherefore, the correct answer is D.<|end_of_text|>",'Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nOption D, Narcolepsy, is a disorder characterized by uncontrollable episodes of falling asleep during the day. Narcolepsy is a chronic sleep disorder that causes excessive daytime sleepiness. People with narcolepsy may experience sudden "sleep attacks" at any time, even during routine activities such as eating or talking. Narcolepsy also involves other symptoms, including vivid dream-like hallucinations while falling asleep or waking up, sleep paralysis, and cataplexy, which is a sudden loss of muscle tone while awake. The cause of narcolepsy is not fully understood, but it is believed to involve problems with the brain\'s control of sleep-wake cycles.\n\nSo, the letter corresponding to the correct answer is: D<|end_of_text|>','Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. This letter-making ability is called "phonological awareness."\nEpilepsy is a neurological disorder in which a person has one or more seizures for no apparent reason. A seizure is a sudden surge of electrical activity in the brain causing changes in body function.\nHydrocephalus is the abnormal accumulation of cerebrospinal fluid in the brain, which causes the ventricles (fluid-filled spaces within the brain) to enlarge.\nAnswer: D. Narcolepsy is a sleep disorder characterized by a constant to uncontrollable feeling of sleepiness.<|end_of_text|>',"Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased brain pressure. \n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and uncontrollable sleep episodes. Therefore, Narcolepsy is the answer. The letter corresponding to the correct option is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). It's not characterized by episodes of falling asleep.\n\nEpilepsy is a brain disorder that causes seizures. It causes loss of awareness or convulsions, but not episodes of falling asleep.\n\nHydrocephalus is a disorder that involves an excessive accumulation of cerebrospinal fluid in the brain. It's characterized by deteriorating cognitive faculties and widening of the skull.\n\nD. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. This is correct answer because this is a disorder that could lead to the events mentioned in question, a lack of control over sleep and triggers it without apparent cause, or natural cues.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased pressure on the brain.\nDyslexia, epilepsy, and hydrocephalus all involve the nervous system, but none of them are characterized by uncontrollable episodes of falling asleep during the day. On the other hand, narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, as well as other symptoms such as strong urges to sleep, sudden sleep attacks, and sleep paralysis. \nSo the correct answer is D, and I can explain that Narcolepsy is the only correct disorder characterized by uncontrollable episodes of falling asleep.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased brain pressure. \n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and uncontrollable sleep episodes. Therefore, Narcolepsy is the answer to the question of this patient.\n\nThe final answer: D.<|end_of_text|>",'Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. \n\nEpilepsy is a disorder in which brain activity becomes abnormal, causing seizures.\n\nHydrocephalus (also known as "water on the brain") is a condition in which an excessive amount of cerebrospinal fluid accumulates in the brain cavities on the surface of the cerebral hemispheres.\n\nNarcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, and is caused by the brain\'s inability to regulate sleep-wake cycles. Weight loss is also a part of this disorder, since the sudden sleep attacks make it difficult to have a long-lasting period of being awake.\n\nSo the answer to the question is: D.<|end_of_text|>',"Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, causing recurring seizures. Hydrocephalus is a condition in which there is an accumulation of cerebrospinal fluid in the brain, leading to increased brain pressure. \n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness and sudden sleep attacks. People with narcolepsy can experience episodes of falling asleep unexpectedly during the day, regardless of engaging in activities. Because of this, narcolepsy is the correct choice.\n\nThus, the answer is D. <|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can cause sudden, severe seizures. Hydrocephalus is a disorder that causes excess cerebrospinal fluid to build up in the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nSo the final answer is: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can cause sudden, severe seizures. Hydrocephalus is a disorder that causes excess cerebrospinal fluid to accumulate in the brain, leading to increased pressure and the potential for brain damage. D). Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can cause sudden, severe seizures. Hydrocephalus is a disorder that causes excess cerebrospinal fluid to accumulate in the brain, leading to increased pressure and potential damage to the brain. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by abnormal electrical activity in the brain, which can cause sudden, severe seizures. Hydrocephalus is a disorder that causes excess cerebrospinal fluid to accumulate in the brain, leading to increased pressure and potential damage to the brain. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, episodes of falling asleep during the day, and disrupted nighttime sleep schedules. \n\nThe answer is D.<|end_of_text|>",'Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological condition characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain.\n\nNarcolepsy is a sleep disorder that involves a fundamental disturbance of the sleep-wake cycle. Narcoleptic cats are believed to "sleep on command."\n\nSo, the final answer is D.<|end_of_text|>',"Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a buildup of fluid within the normal four compartments of the brain, which leads to progressive enlargement of the head and compression of the surrounding brain tissue and the structures within the skull. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a buildup of fluid within the normal four compartments of the brain, which leads to progressive enlargement of the head and compression of the surrounding brain tissue and the structures within the skull. Narcolepsy is a disorder of the nervous system that affects the ability to sleep and stay awake, which is correctly provided in the question.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a neurological disorder characterized by recurrent, unprovoked seizures. Hydrocephalus is a medical condition in which there is an excessive accumulation of cerebrospinal fluid in the brain, leading to enlarging of the ventricles and the brain\u2019s tissues. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, and is included in the disorder Narcolepsy. For this reason, the correct answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of circumstances, accompanied by disturbed nighttime sleep. Because of these reasons, the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of the time since your last sleep. The disorder affects the brain\u2019s ability to control sleep-wake cycles. Public users are warned that they may have to attend in person at the CPCAB office on the third floor, South Block, Adastral Park, Martlesham Heath, Ipswich IP5 3RE, NN1 4DQ, any matter which is not capable of being dealt with satisfactorily on request without personal attendance.\n\nSo, the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of circumstances, including conversations, meals, or driving. \n\nTherefore, the correct answer is D. Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, and sometimes loss of consciousness. Hydrocephalus is a form of brain damage that involves an excessive accumulation of cerebrospinal fluid in the brain's ventricles.\n\nNone of these three disorders are characterized by uncontrollable episodes of falling asleep during the day. The disorder characterized by uncontrollable episodes of falling asleep during the day is narcolepsy. D is the correct answer.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic disorder that affects the central nervous system and causes episodes of extreme sleepiness during the day.\n\nSo, the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness, which is often severe enough to interfere with daily activities. \n\nI would answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of circumstances or sleep patterns. \n\nAccording to Wisconsin Virtual Practice HPoD: Answer A: Dyslexia, a condition that makes it difficult to read and process with words; Answer B: Epilepsy, a disorder in which nerve cells send the wrong kind of electrical signals to the brain; Answer C: Hydrocephalus, an abnormal buildup of cerebrospinal fluid in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Answer D: Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime drowsiness and sudden sleep attacks, regardless of circumstances or sleep patterns.\n\nAnswer D is correct as described.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a chronic sleep disorder characterized by overwhelming daytime fatigue and sudden sleep attacks. Narcolepsy is also accompanied by several other disruptive sleep features, including vivid dreams and sleep paralysis. The final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding).\nEpilepsy is a disorder characterized by recurrent, unprovoked seizures; generalized seizures are symmetric and may result in loss of consciousness, Jacksonian seizures are partial seizures that spread to involve other parts of the brain. \nHydrocephalus is a condition in which there is an abnormal accumulation of cerebral spinal fluid in the brain, leading to enlargement of the ventricles and the head and possibly leading to increased intracranial pressure.\nNarcolepsy is a neurological disorder that manifests with excessive daytime sleepiness and other sleep-related symptoms.\nThe final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to brain swelling, increased intracranial pressure, and progressive enlargement of the head. Narcolepsy is a sleep disorder that involves overpowering daytime drowsiness and it is often accompanied by impaired nighttime sleep. The answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a brain disorder in which a person has repeated seizures over time. Hydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles (hence within the brain), and this causes an enlargement of the head. Narcolepsy is a disorder of the nervous system that affects a person's ability to sleep and stay awake. Narcolepsy is usually chronic, which means it lasts a lifetime. No other letter corresponds to a appropriate disorder involving uncontrollable episodes of falling asleep during the day.\n\n\nThe answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, emotions, and consciousness. Hydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the brain and ventricles and increased intracranial pressure. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nTherefore, the answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a disorder that causes excessive sleepiness during the day. Since narcolepsy includes episodes of falling asleep during the day, it is the correct answer.\n\nAnswer: D<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a disorder that causes excessive sleepiness during the day.\nMy answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a seizure disorder where neurons in the brain signal abnormally and trigger recurrent seizures.\n\nHydrocephalus is a medical condition that involves an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the fluid-filled ventricles of the forehead.\n\nNarcolepsy is a chronic sleep disorder characterized by uncontrollable sleep attacks during the day.\n\nSo, answer D (Narcolepsy).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a disorder that causes excessive sleepiness during the day. Since narcolepsy includes episodes of falling asleep during the day and occurs in the brain, the correct answer is D, Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain infarction, and is usually associated with periventricular white matter alterations that are detected on neuroimaging. Narcolepsy is a chronic disorder characterized by overwhelming daytime sleepiness, blocks of sleep occurring several times each day, and often disturbed nighttime sleep. The brain's ability to control the sleep-wake cycle, which moves into a \u201csleep mode\u201d very quickly during the day and has disordered rapid eye movement (REM) sleep. In REM sleep, the brain may visualize bizarre, often frightening dream imagery that may, in turn, result in sleeping actions. The patient is aware that they are asleep and well aware often of the events around them. \n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a disorder that causes excessive sleepiness during the day. Since narcolepsy includes episodes of falling asleep during the day and occurs in the brain, the correct answer is D, with a final answer of D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to possible brain herniation and/or brain damage. Narcolepsy is a chronic sleep disorder characterized by uncontrollable sleep attacks. They occur a wide range of medical problems.\n\nThus, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder in which brain activity becomes abnormal, causing seizures or periods of unusual behavior, sensations, sometimes loss of awareness, or sometimes convulsions. Hydrocephalus is an abnormal buildup of cerebrospinal fluid (CSF) in the brain, leading to enlargement of the ventricles. Narcolepsy is a sleep disorder characterized by a constant need for sleep.\n\nSo the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid inside the skull causes the brain to swell. Narcolepsy (Option D) is a sleep disorder characterized by the brain's inability to regulate sleep-wake cycles normally.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid inside the skull causes the brain to swell. Narcolepsy (Option D) is a sleep disorder characterized by the brain's inability to regulate sleep-wake cycles normally.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which excess cerebrospinal fluid inside the skull causes the brain to swell. Narcolepsy (Option D) is a sleep disorder characterized by the brain's inability to regulate sleep-wake cycles normally, causing episodes of falling asleep at inappropriate times.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a neurological disorder in which the cerebrospinal fluid builds up. The disorder characterized by uncontrollable episodes of falling asleep during the day is Narcolepsy\n\n\nSo the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures. Hydrocephalus is a condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain, leading to an increase in intracranial pressure and potential damage to the brain. Narcolepsy is a disorders characterized by uncontrollable episodes of falling asleep during the day. \n\n\nSo the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day. So the answer is D (Narcolepsy).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day, due to disturbances in one's sleep-wake cycle.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day, along with vivid dream-like episodes that occur while falling asleep or waking up. \n\nAnswer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day, along with vivid dream-like episodes that occur while falling asleep (hypnagogic hallucinations) or upon waking (hypnopompic hallucinations), sleep paralysis, and cataplexy. The correct answer is D) Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). Epilepsy is a seizure disorder.  Hydrocephalus is a condition in which there is an excessive accumulation of cerebrospinal fluid (CSF) in the brain. Narcolepsy is a disorder of the brain that causes a person to fall asleep suddenly and unwantedly.\n\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a buildup of cerebrospinal fluid (CSF) within the ventricles of the brain, which leads to enlargement of the brain. Narcolepsy is a disabling brain disorder that affects a person's ability to regulate sleep-wake cycles. It is characterized by excessive daytime sleepiness (EDS) and often features other symptoms such as sleep paralysis, disturbed nights, and sudden lapses of muscle tone or narcolepsy attacks.\n\nSo, the correct answer is D).<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which was indicated by answer D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal electrical activity in the brain. Hydrocephalus is a condition where there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure and enlargement of the head. Narcolepsy is characterized by uncontrollable episodes of falling asleep during the day, which is consistent with the question.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a reading disorder that involves difficulty in recognizing words, their sounds, and spelling them. Epilepsy is characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition involving enlargement of the ventricles in the brain. Narcolepsy is a sleep disorder characterized by sudden sleep attacks and sleep paralysis. So the answer is D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal neuronal activity in the brain, while hydrocephalus is a disorder characterized by an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and increased intracranial pressure. Narcolepsy is the correct answer because it is a disorder characterized by excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hallucinations during sleep onset or awakening.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. Epilepsy is a disorder characterized by recurrent seizures due to abnormal neuronal activity in the brain, while hydrocephalus is a disorder characterized by an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the ventricles and increased intracranial pressure. Narcolepsy is the correct answer because it is a disorder characterized by excessive daytime sleepiness, cataplexy (sudden loss of muscle tone while awake), sleep paralysis, and hypnagogic hallucinations.\n\nThe final answer: C). Narcolepsy.<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a sleep disorder characterized by continuous episodes of falling asleep during the day which is the correct answer. Narcolepsy is a sleep disorder characterized by continuous episodes of falling asleep during the day.\n\nSo the correct answer is D.<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, so the answer is D.<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a sleep disorder characterized by excessive daytime sleepiness, sudden sleep attacks, and other symptoms.\n\n\nNarcolepsy: The accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day <|end_of_text|>","Dyslexia is a learning disorder that involves difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words. \n\nEpilepsy is a neurological disorder characterized by recurrent seizures, which are sudden, transient symptoms or loss of consciousness caused by abnormal and excessive electrical discharges from a group of neurons in the brain.\n\nHydrocephalus is a medical condition in which there is an abnormal accumulation of cerebrospinal fluid (CSF) in the ventricles of the brain. \n\nNarcolepsy is a rare, lifelong neurological disorder that affects your central nervous system and can lead to excessive daytime sleepiness.\n\nSo, the answer is D). N a rolepsy.<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to brain swelling. Narcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. \n\nSo therefore, the answer is D).<|end_of_text|>","Dyslexia is a learning disorder characterized by trouble with reading despite normal intelligence. Epilepsy is a neurological condition characterized by recurrent, unprovoked seizures. Hydrocephalus is a condition characterized by excessive accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure. Narcolepsy is a neurological disorder characterized by excessive daytime sleepiness and sudden sleep attacks.    \n\nHowever, Answer D is most correct.  Other conditions can also cause sleepiness; for example, one called Kleine-Levin syndrome is characterized by excessive sleepiness and odd behaviors. Narcolepsy directly affects the brain's ability to regulate sleep-wake cycles, making this the best answer.<|end_of_text|>","Dyslexia is a learning disorder characterized by problems with word decoding and reading fluency despite adequate intelligence, education, and socioeconomic opportunity.\n\nNarcolepsy is a sleep disorder caused by the brain's inability to regulate sleep-wake cycles normally. Affected individuals have episodes of falling asleep during daily activities and at inappropriate times.\n\nSo the answer is D.<|end_of_text|>","Dyslexia is a learning disorder characterized by reading difficulties. Epilepsy is a seizure disorder. Hydrocephalus is a neurological disorder caused by an accumulation of cerebrospinal fluid. Narcolepsy is a brain disorder that inhibits the ability to reproduce REM sleep stages in both day and night.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid in the brain.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is characterized by an excessive accumulation of cerebrospinal fluid in the brain.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day, which I would answer on this case.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid in the brain.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy also called a seizure disorder, is a medical condition that produces seizures or repeats. About 50 million people around the world have epilepsy.\n\nHydrocephalus is a cerebrospinal fluid accumulation in the brain, which leads to enlargement of the head, brain, and ventricles.\n\nNarcolepsy is a sleep disorder that involves abnormal arousals from REM sleep during the day (ie, cataplexy). People with this condition usually experience disturbances of rapid eye movement (REM) sleep. \n\nNarcolepsy is a sleep disorder characterized by excessive daytime sleepiness (EDS) and other abnormal sleep behaviors that occur regardless of the situation or environment.\n\n\nThe answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid in the brain, leading to increased head size, vision disturbances, and weight loss.\n\nNarcolepsy is characterized by excessive daytime sleepiness and has symptoms like sudden sleep attacks, sleep paralysis, and vivid dreams during nap sleep.\n\nSo, the final answer is: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurologic condition marked by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition caused by an excess of cerebrospinal fluid in the brain, which can lead to increased pressure on the brain.\n\nNarcolepsy is a sleep disorder that is characterized by excessive day time sleepiness and interrupted nighttime sleep. Narcolepsy can result in falling into sleep suddenly when least expected.\n\nSo, the answer is D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is characterized by irreversible disturbances in the brain chemical (neurotransmitter) that control sleep. The disorder is characterized by abnormally short sleep, an abnormal inability to move muscles upon awakening \u2013 tonic immobility, and intrusive sleep attacks. Narcolepsy is also characterized by vivid and often terrifying dreams during the state of REM sleep.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is characterized by irreversible disturbances in the brain chemical (neurotransmitter) that control sleep. The disorder is characterized by abnormally short sleep, an abnormal inability to move muscles upon awakening \u2013 tonic immobility, and intrusive sleep attacks. Narcolepsy is also characterized by vividly felt dreams and hallucinations upon falling asleep or wakening up.\n\nThe answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is characterized by irreversible disturbances in the brain chemical (neurotransmitter) that control sleep. The disorder is characterized by abnormally short sleep, an abnormal inability to move muscles upon awakening \u2013 tonic immobility, and intrusive sleep attacks. Narcolepsy is also characterized by vividly felt dreams and hallucinations upon falling asleep or wakening up.\n\nThe answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is characterized by uncontrollable episodes of falling asleep during the day.\n\nThe answer, therefore, is D, the option that accurately describes the disorder's symptoms.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nThe final answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a disorder characterized by the buildup of cerebrospinal fluid, which causes the ventricles in the brain to swell, putting pressure on the existing brain structures.\n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nThe answer: D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words (decoding). Epilepsy is a disorder of the central nervous system characterized by recurrent, unprovoked seizures. Hydrocephalus is an abnormal build up of cerebrospinal fluid (CSF) in the brain which results in enlarged ventricles and increased intracranial pressure. Narcolepsy refers to a sleep disorder that is characterized by excessive and uncontrollable sleep episodes that occur during the day.\n\n\n\nSo the answer is C <|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they correspond to letters and words. Epilepsy is a brain disorder in which a person has repeated seizures over time. Hydrocephalus is a condition in which there is an abnormal buildup of cerebrospinal fluid in the brain, leading to increased head size and increased pressure on the brain in the case of children and progressive damage to the brain in the case of adults.\n\nTherefore, the correct answer is:\n\nA). Dyslexia<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the ventricles of the brain.\n\nNarcolepsy is a sleep disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nAs a result, the correct answer is D.\n<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased pressure and enlargement of the head.\n\nThe correct answer is (D). Narcolepsy is a sleep disorder that involves excessive daytime sleepiness and sudden sleep attacks. It is characterized by uncontrollable episodes of falling asleep during the day.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to increased intracranial pressure.\n\nNarcolepsy is a disorder characterized by excessive daytime sleepiness, intermittent awakening throughout the night, and the intrusion of REM sleep into the later stages of the sleep cycle, which are known as sleep-onset REM periods. Narcolepsy is marked by sudden sleep attacks at inappropriate times, graphic dream-like hallucinations when falling asleep, and a condition known as cataplexy, a sudden loss of muscle tone while awake, often triggered by a strong emotion.\n\nSo, The answer is D).<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the brain and ventricles. \n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nSo, the final answer is D.<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the brain and ventricles. \n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day. So the correct answer is: D. The answer is D).<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a condition in which there is an abnormal accumulation of cerebrospinal fluid in the brain, leading to enlargement of the brain and ventricles. \n\nNarcolepsy is a disorder characterized by uncontrollable episodes of falling asleep during the day.\n\nThe correct answer is D).<|end_of_text|>","Dyslexia is a disorder characterized by difficulty in reading due to problems identifying speech sounds and learning how they relate to letters and words.\n\nEpilepsy is a neurological disorder characterized by recurrent, unprovoked seizures.\n\nHydrocephalus is a neurological disorder caused by an abnormal accumulation of cerebrospinal fluid in the brain.\n\nThe disorder characterized by uncontrollable episodes of falling asleep during the day is Narcolepsy (D).\n\nAnswer: D.<|end_of_text|>"].slice(0,100)};function iy(e,t){let n;if(void 0===t)for(const a of e)null!=a&&(n<a||void 0===n&&a>=a)&&(n=a);else{let a=-1;for(let r of e)null!=(r=t(r,++a,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function oy(e,t){let n;if(void 0===t)for(const a of e)null!=a&&(n>a||void 0===n&&a>=a)&&(n=a);else{let a=-1;for(let r of e)null!=(r=t(r,++a,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}const sy=(ly=Math.random,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length)-(t=+t);for(;n;){const a=ly()*n--|0,r=e[n+t];e[n+t]=e[a+t],e[a+t]=r}return e});var ly;function cy(){}function uy(e){return null==e?cy:function(){return this.querySelector(e)}}function dy(){return[]}function hy(e){return null==e?dy:function(){return this.querySelectorAll(e)}}function py(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function fy(e){return function(){return this.matches(e)}}function my(e){return function(t){return t.matches(e)}}var gy=Array.prototype.find;function yy(){return this.firstElementChild}var by=Array.prototype.filter;function vy(){return Array.from(this.children)}function wy(e){return new Array(e.length)}function _y(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function xy(e,t,n,a,r,i){for(var o,s=0,l=t.length,c=i.length;s<c;++s)(o=t[s])?(o.__data__=i[s],a[s]=o):n[s]=new _y(e,i[s]);for(;s<l;++s)(o=t[s])&&(r[s]=o)}function ky(e,t,n,a,r,i,o){var s,l,c,u=new Map,d=t.length,h=i.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c=o.call(l,l.__data__,s,t)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<h;++s)c=o.call(e,i[s],s,i)+"",(l=u.get(c))?(a[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new _y(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(r[s]=l)}function Ty(e){return e.__data__}function Dy(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ay(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}_y.prototype={constructor:_y,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Cy="http://www.w3.org/1999/xhtml";const Sy={svg:"http://www.w3.org/2000/svg",xhtml:Cy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ey(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Sy.hasOwnProperty(t)?{space:Sy[t],local:e}:e}function Fy(e){return function(){this.removeAttribute(e)}}function My(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Iy(e,t){return function(){this.setAttribute(e,t)}}function zy(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Py(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ny(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Oy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function By(e){return function(){this.style.removeProperty(e)}}function Ly(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ry(e,t,n){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function jy(e,t){return e.style.getPropertyValue(t)||Oy(e).getComputedStyle(e,null).getPropertyValue(t)}function Vy(e){return function(){delete this[e]}}function qy(e,t){return function(){this[e]=t}}function Uy(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Gy(e){return e.trim().split(/^|\s+/)}function Hy(e){return e.classList||new Wy(e)}function Wy(e){this._node=e,this._names=Gy(e.getAttribute("class")||"")}function Ky(e,t){for(var n=Hy(e),a=-1,r=t.length;++a<r;)n.add(t[a])}function Yy(e,t){for(var n=Hy(e),a=-1,r=t.length;++a<r;)n.remove(t[a])}function Jy(e){return function(){Ky(this,e)}}function Zy(e){return function(){Yy(this,e)}}function Xy(e,t){return function(){(t.apply(this,arguments)?Ky:Yy)(this,e)}}function $y(){this.textContent=""}function Qy(e){return function(){this.textContent=e}}function eb(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function tb(){this.innerHTML=""}function nb(e){return function(){this.innerHTML=e}}function ab(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function rb(){this.nextSibling&&this.parentNode.appendChild(this)}function ib(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ob(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Cy&&t.documentElement.namespaceURI===Cy?t.createElement(e):t.createElementNS(n,e)}}function sb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lb(e){var t=Ey(e);return(t.local?sb:ob)(t)}function cb(){return null}function ub(){var e=this.parentNode;e&&e.removeChild(this)}function db(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hb(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pb(e){return function(){var t=this.__on;if(t){for(var n,a=0,r=-1,i=t.length;a<i;++a)n=t[a],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function fb(e,t,n){return function(){var a,r=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var o=0,s=r.length;o<s;++o)if((a=r[o]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),void(a.value=t);this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function mb(e,t,n){var a=Oy(e),r=a.CustomEvent;"function"===typeof r?r=new r(t,n):(r=a.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function gb(e,t){return function(){return mb(this,e,t)}}function yb(e,t){return function(){return mb(this,e,t.apply(this,arguments))}}Wy.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var bb=[null];function vb(e,t){this._groups=e,this._parents=t}function wb(){return new vb([[document.documentElement]],bb)}vb.prototype=wb.prototype={constructor:vb,select:function(e){"function"!==typeof e&&(e=uy(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,o,s=t[r],l=s.length,c=a[r]=new Array(l),u=0;u<l;++u)(i=s[u])&&(o=e.call(i,i.__data__,u,s))&&("__data__"in i&&(o.__data__=i.__data__),c[u]=o);return new vb(a,this._parents)},selectAll:function(e){e="function"===typeof e?py(e):hy(e);for(var t=this._groups,n=t.length,a=[],r=[],i=0;i<n;++i)for(var o,s=t[i],l=s.length,c=0;c<l;++c)(o=s[c])&&(a.push(e.call(o,o.__data__,c,s)),r.push(o));return new vb(a,r)},selectChild:function(e){return this.select(null==e?yy:function(e){return function(){return gy.call(this.children,e)}}("function"===typeof e?e:my(e)))},selectChildren:function(e){return this.selectAll(null==e?vy:function(e){return function(){return by.call(this.children,e)}}("function"===typeof e?e:my(e)))},filter:function(e){"function"!==typeof e&&(e=fy(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,o=t[r],s=o.length,l=a[r]=[],c=0;c<s;++c)(i=o[c])&&e.call(i,i.__data__,c,o)&&l.push(i);return new vb(a,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Ty);var n=t?ky:xy,a=this._parents,r=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var i=r.length,o=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=a[c],d=r[c],h=d.length,p=Dy(e.call(u,u&&u.__data__,c,a)),f=p.length,m=s[c]=new Array(f),g=o[c]=new Array(f);n(u,d,m,g,l[c]=new Array(h),p,t);for(var y,b,v=0,w=0;v<f;++v)if(y=m[v]){for(v>=w&&(w=v+1);!(b=g[w])&&++w<f;);y._next=b||null}}return(o=new vb(o,a))._enter=s,o._exit=l,o},enter:function(){return new vb(this._enter||this._groups.map(wy),this._parents)},exit:function(){return new vb(this._exit||this._groups.map(wy),this._parents)},join:function(e,t,n){var a=this.enter(),r=this,i=this.exit();return"function"===typeof e?(a=e(a))&&(a=a.selection()):a=a.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?i.remove():n(i),a&&r?a.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,a=t._groups,r=n.length,i=a.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var c,u=n[l],d=a[l],h=u.length,p=s[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<r;++l)s[l]=n[l];return new vb(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a,r=e[t],i=r.length-1,o=r[i];--i>=0;)(a=r[i])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ay);for(var n=this._groups,a=n.length,r=new Array(a),i=0;i<a;++i){for(var o,s=n[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new vb(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length;r<i;++r){var o=a[r];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r,i=t[n],o=0,s=i.length;o<s;++o)(r=i[o])&&e.call(r,r.__data__,o,i);return this},attr:function(e,t){var n=Ey(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((null==t?n.local?My:Fy:"function"===typeof t?n.local?Ny:Py:n.local?zy:Iy)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?By:"function"===typeof t?Ry:Ly)(e,t,null==n?"":n)):jy(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Vy:"function"===typeof t?Uy:qy)(e,t)):this.node()[e]},classed:function(e,t){var n=Gy(e+"");if(arguments.length<2){for(var a=Hy(this.node()),r=-1,i=n.length;++r<i;)if(!a.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?Xy:t?Jy:Zy)(n,t))},text:function(e){return arguments.length?this.each(null==e?$y:("function"===typeof e?eb:Qy)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?tb:("function"===typeof e?ab:nb)(e)):this.node().innerHTML},raise:function(){return this.each(rb)},lower:function(){return this.each(ib)},append:function(e){var t="function"===typeof e?e:lb(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:lb(e),a=null==t?cb:"function"===typeof t?t:uy(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)}))},remove:function(){return this.each(ub)},clone:function(e){return this.select(e?hb:db)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var a,r,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=i.length;if(!(arguments.length<2)){for(s=t?fb:pb,a=0;a<o;++a)this.each(s(i[a],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(a=0,l=s[c];a<o;++a)if((r=i[a]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?yb:gb)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a,r=e[t],i=0,o=r.length;i<o;++i)(a=r[i])&&(yield a)}};const _b=wb;var xb={value:()=>{}};function kb(){for(var e,t=0,n=arguments.length,a={};t<n;++t){if(!(e=arguments[t]+"")||e in a||/[\s.]/.test(e))throw new Error("illegal type: "+e);a[e]=[]}return new Tb(a)}function Tb(e){this._=e}function Db(e,t){for(var n,a=0,r=e.length;a<r;++a)if((n=e[a]).name===t)return n.value}function Ab(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=xb,e=e.slice(0,a).concat(e.slice(a+1));break}return null!=n&&e.push({name:t,value:n}),e}Tb.prototype=kb.prototype={constructor:Tb,on:function(e,t){var n,a,r=this._,i=(a=r,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!a.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=i[o]).type)r[n]=Ab(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Ab(r[n],e.name,null);return this}for(;++o<s;)if((n=(e=i[o]).type)&&(n=Db(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Tb(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,a,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(a=this._[e]).length;i<n;++i)a[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}};const Cb=kb;var Sb,Eb,Fb=0,Mb=0,Ib=0,zb=0,Pb=0,Nb=0,Ob="object"===typeof performance&&performance.now?performance:Date,Bb="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Lb(){return Pb||(Bb(Rb),Pb=Ob.now()+Nb)}function Rb(){Pb=0}function jb(){this._call=this._time=this._next=null}function Vb(e,t,n){var a=new jb;return a.restart(e,t,n),a}function qb(){Pb=(zb=Ob.now())+Nb,Fb=Mb=0;try{!function(){Lb(),++Fb;for(var e,t=Sb;t;)(e=Pb-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Fb}()}finally{Fb=0,function(){var e,t,n=Sb,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Sb=t);Eb=e,Gb(a)}(),Pb=0}}function Ub(){var e=Ob.now(),t=e-zb;t>1e3&&(Nb-=t,zb=e)}function Gb(e){Fb||(Mb&&(Mb=clearTimeout(Mb)),e-Pb>24?(e<1/0&&(Mb=setTimeout(qb,e-Ob.now()-Nb)),Ib&&(Ib=clearInterval(Ib))):(Ib||(zb=Ob.now(),Ib=setInterval(Ub,1e3)),Fb=1,Bb(qb)))}function Hb(e,t,n){var a=new jb;return t=null==t?0:+t,a.restart((n=>{a.stop(),e(n+t)}),t,n),a}jb.prototype=Vb.prototype={constructor:jb,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Lb():+n)+(null==t?0:+t),this._next||Eb===this||(Eb?Eb._next=this:Sb=this,Eb=this),this._call=e,this._time=n,Gb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gb())}};var Wb=Cb("start","end","cancel","interrupt"),Kb=[];function Yb(e,t,n,a,r,i){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var a,r=e.__transition;function i(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(i){var c,u,d,h;if(1!==n.state)return l();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return Hb(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Hb((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,a=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(a[++u]=h);a.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,o=a.length;++i<o;)a[i].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var a in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Vb(i,0,n.time)}(e,n,{name:t,index:a,group:r,on:Wb,tween:Kb,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function Jb(e,t){var n=Xb(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Zb(e,t){var n=Xb(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Xb(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $b(e,t){var n,a,r,i=e.__transition,o=!0;if(i){for(r in t=null==t?null:t+"",i)(n=i[r]).name===t?(a=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]):o=!1;o&&delete e.__transition}}function Qb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ev,tv=180/Math.PI,nv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function av(e,t,n,a,r,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*a)&&(n-=e*l,a-=t*l),(s=Math.sqrt(n*n+a*a))&&(n/=s,a/=s,l/=s),e*a<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*tv,skewX:Math.atan(l)*tv,scaleX:o,scaleY:s}}function rv(e,t,n,a){function r(e){return e.length?e.pop()+" ":""}return function(i,o){var s=[],l=[];return i=e(i),o=e(o),function(e,a,r,i,o,s){if(e!==r||a!==i){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:Qb(e,r)},{i:l-2,x:Qb(a,i)})}else(r||i)&&o.push("translate("+r+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(r(n)+"rotate(",null,a)-2,x:Qb(e,t)})):t&&n.push(r(n)+"rotate("+t+a)}(i.rotate,o.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(r(n)+"skewX(",null,a)-2,x:Qb(e,t)}):t&&n.push(r(n)+"skewX("+t+a)}(i.skewX,o.skewX,s,l),function(e,t,n,a,i,o){if(e!==n||t!==a){var s=i.push(r(i)+"scale(",null,",",null,")");o.push({i:s-4,x:Qb(e,n)},{i:s-2,x:Qb(t,a)})}else 1===n&&1===a||i.push(r(i)+"scale("+n+","+a+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,s,l),i=o=null,function(e){for(var t,n=-1,a=l.length;++n<a;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var iv=rv((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?nv:av(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),ov=rv((function(e){return null==e?nv:(ev||(ev=document.createElementNS("http://www.w3.org/2000/svg","g")),ev.setAttribute("transform",e),(e=ev.transform.baseVal.consolidate())?av((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):nv)}),", ",")",")");function sv(e,t){var n,a;return function(){var r=Zb(this,e),i=r.tween;if(i!==n)for(var o=0,s=(a=n=i).length;o<s;++o)if(a[o].name===t){(a=a.slice()).splice(o,1);break}r.tween=a}}function lv(e,t,n){var a,r;if("function"!==typeof n)throw new Error;return function(){var i=Zb(this,e),o=i.tween;if(o!==a){r=(a=o).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}i.tween=r}}function cv(e,t,n){var a=e._id;return e.each((function(){var e=Zb(this,a);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Xb(e,a).value[t]}}function uv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dv(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function hv(){}var pv=.7,fv=1/pv,mv="\\s*([+-]?\\d+)\\s*",gv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bv=/^#([0-9a-f]{3,8})$/,vv=new RegExp("^rgb\\(".concat(mv,",").concat(mv,",").concat(mv,"\\)$")),wv=new RegExp("^rgb\\(".concat(yv,",").concat(yv,",").concat(yv,"\\)$")),_v=new RegExp("^rgba\\(".concat(mv,",").concat(mv,",").concat(mv,",").concat(gv,"\\)$")),xv=new RegExp("^rgba\\(".concat(yv,",").concat(yv,",").concat(yv,",").concat(gv,"\\)$")),kv=new RegExp("^hsl\\(".concat(gv,",").concat(yv,",").concat(yv,"\\)$")),Tv=new RegExp("^hsla\\(".concat(gv,",").concat(yv,",").concat(yv,",").concat(gv,"\\)$")),Dv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Av(){return this.rgb().formatHex()}function Cv(){return this.rgb().formatRgb()}function Sv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ev(t):3===n?new Iv(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Fv(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Fv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=vv.exec(e))?new Iv(t[1],t[2],t[3],1):(t=wv.exec(e))?new Iv(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_v.exec(e))?Fv(t[1],t[2],t[3],t[4]):(t=xv.exec(e))?Fv(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=kv.exec(e))?Lv(t[1],t[2]/100,t[3]/100,1):(t=Tv.exec(e))?Lv(t[1],t[2]/100,t[3]/100,t[4]):Dv.hasOwnProperty(e)?Ev(Dv[e]):"transparent"===e?new Iv(NaN,NaN,NaN,0):null}function Ev(e){return new Iv(e>>16&255,e>>8&255,255&e,1)}function Fv(e,t,n,a){return a<=0&&(e=t=n=NaN),new Iv(e,t,n,a)}function Mv(e,t,n,a){return 1===arguments.length?((r=e)instanceof hv||(r=Sv(r)),r?new Iv((r=r.rgb()).r,r.g,r.b,r.opacity):new Iv):new Iv(e,t,n,null==a?1:a);var r}function Iv(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function zv(){return"#".concat(Bv(this.r)).concat(Bv(this.g)).concat(Bv(this.b))}function Pv(){const e=Nv(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Ov(this.r),", ").concat(Ov(this.g),", ").concat(Ov(this.b)).concat(1===e?")":", ".concat(e,")"))}function Nv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ov(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bv(e){return((e=Ov(e))<16?"0":"")+e.toString(16)}function Lv(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jv(e,t,n,a)}function Rv(e){if(e instanceof jv)return new jv(e.h,e.s,e.l,e.opacity);if(e instanceof hv||(e=Sv(e)),!e)return new jv;if(e instanceof jv)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,s=i-r,l=(i+r)/2;return s?(o=t===i?(n-a)/s+6*(n<a):n===i?(a-t)/s+2:(t-n)/s+4,s/=l<.5?i+r:2-i-r,o*=60):s=l>0&&l<1?0:o,new jv(o,s,l,e.opacity)}function jv(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function Vv(e){return(e=(e||0)%360)<0?e+360:e}function qv(e){return Math.max(0,Math.min(1,e||0))}function Uv(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Gv(e,t,n,a,r){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*a+o*r)/6}uv(hv,Sv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Av,formatHex:Av,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Rv(this).formatHsl()},formatRgb:Cv,toString:Cv}),uv(Iv,Mv,dv(hv,{brighter(e){return e=null==e?fv:Math.pow(fv,e),new Iv(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?pv:Math.pow(pv,e),new Iv(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Iv(Ov(this.r),Ov(this.g),Ov(this.b),Nv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zv,formatHex:zv,formatHex8:function(){return"#".concat(Bv(this.r)).concat(Bv(this.g)).concat(Bv(this.b)).concat(Bv(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Pv,toString:Pv})),uv(jv,(function(e,t,n,a){return 1===arguments.length?Rv(e):new jv(e,t,n,null==a?1:a)}),dv(hv,{brighter(e){return e=null==e?fv:Math.pow(fv,e),new jv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?pv:Math.pow(pv,e),new jv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new Iv(Uv(e>=240?e-240:e+120,r,a),Uv(e,r,a),Uv(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new jv(Vv(this.h),qv(this.s),qv(this.l),Nv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nv(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Vv(this.h),", ").concat(100*qv(this.s),"%, ").concat(100*qv(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Hv=e=>()=>e;function Wv(e,t){return function(n){return e+n*t}}function Kv(e){return 1===(e=+e)?Yv:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}(t,n,e):Hv(isNaN(t)?n:t)}}function Yv(e,t){var n=t-e;return n?Wv(e,n):Hv(isNaN(e)?t:e)}const Jv=function e(t){var n=Kv(t);function a(e,t){var a=n((e=Mv(e)).r,(t=Mv(t)).r),r=n(e.g,t.g),i=n(e.b,t.b),o=Yv(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return a.gamma=e,a}(1);function Zv(e){return function(t){var n,a,r=t.length,i=new Array(r),o=new Array(r),s=new Array(r);for(n=0;n<r;++n)a=Mv(t[n]),i[n]=a.r||0,o[n]=a.g||0,s[n]=a.b||0;return i=e(i),o=e(o),s=e(s),a.opacity=1,function(e){return a.r=i(e),a.g=o(e),a.b=s(e),a+""}}}Zv((function(e){var t=e.length-1;return function(n){var a=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[a],i=e[a+1],o=a>0?e[a-1]:2*r-i,s=a<t-1?e[a+2]:2*i-r;return Gv((n-a/t)*t,o,r,i,s)}})),Zv((function(e){var t=e.length;return function(n){var a=Math.floor(((n%=1)<0?++n:n)*t),r=e[(a+t-1)%t],i=e[a%t],o=e[(a+1)%t],s=e[(a+2)%t];return Gv((n-a/t)*t,r,i,o,s)}}));var Xv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$v=new RegExp(Xv.source,"g");function Qv(e,t){var n,a,r,i=Xv.lastIndex=$v.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Xv.exec(e))&&(a=$v.exec(t));)(r=a.index)>i&&(r=t.slice(i,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Qb(n,a)})),i=$v.lastIndex;return i<t.length&&(r=t.slice(i),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,a=0;a<t;++a)s[(n=l[a]).i]=n.x(e);return s.join("")})}function ew(e,t){var n;return("number"===typeof t?Qb:t instanceof Sv?Jv:(n=Sv(t))?(t=n,Jv):Qv)(e,t)}function tw(e){return function(){this.removeAttribute(e)}}function nw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function aw(e,t,n){var a,r,i=n+"";return function(){var o=this.getAttribute(e);return o===i?null:o===a?r:r=t(a=o,n)}}function rw(e,t,n){var a,r,i=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===a?r:r=t(a=o,n)}}function iw(e,t,n){var a,r,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===a&&s===r?i:(r=s,i=t(a=o,l));this.removeAttribute(e)}}function ow(e,t,n){var a,r,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===a&&s===r?i:(r=s,i=t(a=o,l));this.removeAttributeNS(e.space,e.local)}}function sw(e,t){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function lw(e,t){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function cw(e,t){return function(){Jb(this,e).delay=+t.apply(this,arguments)}}function uw(e,t){return t=+t,function(){Jb(this,e).delay=t}}function dw(e,t){return function(){Zb(this,e).duration=+t.apply(this,arguments)}}function hw(e,t){return t=+t,function(){Zb(this,e).duration=t}}var pw=_b.prototype.constructor;function fw(e){return function(){this.style.removeProperty(e)}}var mw=0;function gw(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function yw(){return++mw}var bw=_b.prototype;gw.prototype=function(e){return _b().transition(e)}.prototype={constructor:gw,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=uy(e));for(var a=this._groups,r=a.length,i=new Array(r),o=0;o<r;++o)for(var s,l,c=a[o],u=c.length,d=i[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,Yb(d[h],t,n,h,d,Xb(s,n)));return new gw(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=hy(e));for(var a=this._groups,r=a.length,i=[],o=[],s=0;s<r;++s)for(var l,c=a[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=Xb(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&Yb(h,t,n,m,p,f);i.push(p),o.push(l)}return new gw(i,o,t,n)},selectChild:bw.selectChild,selectChildren:bw.selectChildren,filter:function(e){"function"!==typeof e&&(e=fy(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,o=t[r],s=o.length,l=a[r]=[],c=0;c<s;++c)(i=o[c])&&e.call(i,i.__data__,c,o)&&l.push(i);return new gw(a,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,i=Math.min(a,r),o=new Array(a),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<a;++s)o[s]=t[s];return new gw(o,this._parents,this._name,this._id)},selection:function(){return new pw(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=yw(),a=this._groups,r=a.length,i=0;i<r;++i)for(var o,s=a[i],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=Xb(o,t);Yb(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new gw(a,this._parents,e,n)},call:bw.call,nodes:bw.nodes,node:bw.node,size:bw.size,empty:bw.empty,each:bw.each,on:function(e,t){var n=this._id;return arguments.length<2?Xb(this.node(),n).on.on(e):this.each(function(e,t,n){var a,r,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Jb:Zb;return function(){var o=i(this,e),s=o.on;s!==a&&(r=(a=s).copy()).on(t,n),o.on=r}}(n,e,t))},attr:function(e,t){var n=Ey(e),a="transform"===n?ov:ew;return this.attrTween(e,"function"===typeof t?(n.local?ow:iw)(n,a,cv(this,"attr."+e,t)):null==t?(n.local?nw:tw)(n):(n.local?rw:aw)(n,a,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var a=Ey(e);return this.tween(n,(a.local?sw:lw)(a,t))},style:function(e,t,n){var a="transform"===(e+="")?iv:ew;return null==t?this.styleTween(e,function(e,t){var n,a,r;return function(){var i=jy(this,e),o=(this.style.removeProperty(e),jy(this,e));return i===o?null:i===n&&o===a?r:r=t(n=i,a=o)}}(e,a)).on("end.style."+e,fw(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var a,r,i;return function(){var o=jy(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=jy(this,e)),o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s))}}(e,a,cv(this,"style."+e,t))).each(function(e,t){var n,a,r,i,o="style."+t,s="end."+o;return function(){var l=Zb(this,e),c=l.on,u=null==l.value[o]?i||(i=fw(t)):void 0;c===n&&r===u||(a=(n=c).copy()).on(s,r=u),l.on=a}}(this._id,e)):this.styleTween(e,function(e,t,n){var a,r,i=n+"";return function(){var o=jy(this,e);return o===i?null:o===a?r:r=t(a=o,n)}}(e,a,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!==typeof t)throw new Error;return this.tween(a,function(e,t,n){var a,r;function i(){var i=t.apply(this,arguments);return i!==r&&(a=(r=i)&&function(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}(e,i,n)),a}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(cv(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function a(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&function(e){return function(t){this.textContent=e.call(this,t)}}(a)),t}return a._value=e,a}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a,r=Xb(this.node(),n).tween,i=0,o=r.length;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((null==t?sv:lv)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?cw:uw)(t,e)):Xb(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?dw:hw)(t,e)):Xb(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){Zb(this,e).ease=t}}(t,e)):Xb(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Zb(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,a=n._id,r=n.size();return new Promise((function(i,o){var s={value:o},l={value:function(){0===--r&&i()}};n.each((function(){var n=Zb(this,a),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===r&&i()}))},[Symbol.iterator]:bw[Symbol.iterator]};var vw={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function ww(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}_b.prototype.interrupt=function(e){return this.each((function(){$b(this,e)}))},_b.prototype.transition=function(e){var t,n;e instanceof gw?(t=e._id,e=e._name):(t=yw(),(n=vw).time=Lb(),e=null==e?null:e+"");for(var a=this._groups,r=a.length,i=0;i<r;++i)for(var o,s=a[i],l=s.length,c=0;c<l;++c)(o=s[c])&&Yb(o,e,t,c,s,n||ww(o,t));return new gw(a,this._parents,e,t)};const{abs:_w,max:xw,min:kw}=Math;function Tw(e){return[+e[0],+e[1]]}function Dw(e){return[Tw(e[0]),Tw(e[1])]}["w","e"].map(Aw),["n","s"].map(Aw),["n","w","e","s","nw","ne","sw","se"].map(Aw);function Aw(e){return{type:e}}var Cw=Math.PI;function Sw(e){return(1-Math.cos(Cw*e))/2}function Ew(e){return function(){return e}}function Fw(e){return 1e-6*(e()-.5)}function Mw(e){return e.index}function Iw(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}const zw=4294967296;var Pw=Math.PI*(3-Math.sqrt(5));function Nw(e){var t,n=1,a=.001,r=1-Math.pow(a,1/300),i=0,o=.6,s=new Map,l=Vb(d),c=Cb("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%zw)/zw}();function d(){h(),c.call("tick",t),n<a&&(l.stop(),c.call("end",t))}function h(a){var l,c,u=e.length;void 0===a&&(a=1);for(var d=0;d<a;++d)for(n+=(i-n)*r,s.forEach((function(e){e(n)})),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function p(){for(var t,n=0,a=e.length;n<a;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(.5+n),i=n*Pw;t.x=r*Math.cos(i),t.y=r*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function f(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),p(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,p(),s.forEach(f),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(a=+e,t):a},alphaDecay:function(e){return arguments.length?(r=+e,t):+r},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(u=e,s.forEach(f),t):u},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,f(n)),t):s.get(e)},find:function(t,n,a){var r,i,o,s,l,c=0,u=e.length;for(null==a?a=1/0:a*=a,c=0;c<u;++c)(o=(r=t-(s=e[c]).x)*r+(i=n-s.y)*i)<a&&(l=s,a=o);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}const Ow=Math.sqrt(50),Bw=Math.sqrt(10),Lw=Math.sqrt(2);function Rw(e,t,n){const a=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(a)),i=a/Math.pow(10,r),o=i>=Ow?10:i>=Bw?5:i>=Lw?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Rw(e,t,2*n):[s,l,c]}function jw(e,t,n){return Rw(e=+e,t=+t,n=+n)[2]}function Vw(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qw(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uw(e){let t,n,a;function r(e,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<i){if(0!==t(a,a))return i;do{const t=r+i>>>1;n(e[t],a)<0?r=t+1:i=t}while(r<i)}return r}return 2!==e.length?(t=Vw,n=(t,n)=>Vw(e(t),n),a=(t,n)=>e(t)-n):(t=e===Vw||e===qw?e:Gw,n=e,a=e),{left:r,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=r(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&a(e[i-1],t)>-a(e[i],t)?i-1:i},right:function(e,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<i){if(0!==t(a,a))return i;do{const t=r+i>>>1;n(e[t],a)<=0?r=t+1:i=t}while(r<i)}return r}}}function Gw(){return 0}const Hw=Uw(Vw),Ww=Hw.right,Kw=(Hw.left,Uw((function(e){return null===e?NaN:+e})).center,Ww);function Yw(e,t){var n,a=t?t.length:0,r=e?Math.min(a,e.length):0,i=new Array(r),o=new Array(a);for(n=0;n<r;++n)i[n]=$w(e[n],t[n]);for(;n<a;++n)o[n]=t[n];return function(e){for(n=0;n<r;++n)o[n]=i[n](e);return o}}function Jw(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function Zw(e,t){var n,a={},r={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?a[n]=$w(e[n],t[n]):r[n]=t[n];return function(e){for(n in a)r[n]=a[n](e);return r}}function Xw(e,t){t||(t=[]);var n,a=e?Math.min(t.length,e.length):0,r=t.slice();return function(i){for(n=0;n<a;++n)r[n]=e[n]*(1-i)+t[n]*i;return r}}function $w(e,t){var n,a=typeof t;return null==t||"boolean"===a?Hv(t):("number"===a?Qb:"string"===a?(n=Sv(t))?(t=n,Jv):Qv:t instanceof Sv?Jv:t instanceof Date?Jw:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Xw:Array.isArray(t)?Yw:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Zw:Qb)(e,t)}function Qw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function e_(e){return+e}var t_=[0,1];function n_(e){return e}function a_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function r_(e,t,n){var a=e[0],r=e[1],i=t[0],o=t[1];return r<a?(a=a_(r,a),i=n(o,i)):(a=a_(a,r),i=n(i,o)),function(e){return i(a(e))}}function i_(e,t,n){var a=Math.min(e.length,t.length)-1,r=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)r[o]=a_(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=Kw(e,t,1,a)-1;return i[n](r[n](t))}}function o_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s_(){var e,t,n,a,r,i,o=t_,s=t_,l=$w,c=n_;function u(){var e=Math.min(o.length,s.length);return c!==n_&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),a=e>2?i_:r_,r=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(r||(r=a(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=a(s,o.map(e),Qb)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,e_),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Qw,u()},d.clamp=function(e){return arguments.length?(c=!!e||n_,u()):c!==n_},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,a){return e=n,t=a,u()}}function l_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var c_,u_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d_(e){if(!(t=u_.exec(e)))throw new Error("invalid format: "+e);var t;return new h_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function h_(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function p_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function f_(e){return(e=p_(Math.abs(e)))?e[1]:NaN}function m_(e,t){var n=p_(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}d_.prototype=h_.prototype,h_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const g_={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>m_(100*e,t),r:m_,s:function(e,t){var n=p_(e,t);if(!n)return e+"";var a=n[0],r=n[1],i=r-(c_=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+p_(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y_(e){return e}var b_,v_,w_,__=Array.prototype.map,x_=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function k_(e){var t,n,a=void 0===e.grouping||void 0===e.thousands?y_:(t=__.call(e.grouping,Number),n=e.thousands+"",function(e,a){for(var r=e.length,i=[],o=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>a&&(s=Math.max(1,a-l)),i.push(e.substring(r-=s,r+s)),!((l+=s+1)>a));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?y_:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(__.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=d_(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,y=e.trim,b=e.type;"n"===b?(m=!0,b="g"):g_[b]||(void 0===g&&(g=12),y=!0,b="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var v="$"===h?r:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?i:/[%p]/.test(b)?l:"",_=g_[b],x=/[defgprs%]/.test(b);function k(e){var r,i,l,h=v,k=w;if("c"===b)k=_(e)+k,e="";else{var T=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,a=1,r=-1;a<n;++a)switch(e[a]){case".":r=t=a;break;case"0":0===r&&(r=a),t=a;break;default:if(!+e[a])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),T&&0===+e&&"+"!==d&&(T=!1),h=(T?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===b?x_[8+c_/3]:"")+k+(T&&"("===d?")":""),x)for(r=-1,i=e.length;++r<i;)if(48>(l=e.charCodeAt(r))||l>57){k=(46===l?o+e.slice(r+1):e.slice(r))+k,e=e.slice(0,r);break}}m&&!p&&(e=a(e,1/0));var D=h.length+e.length+k.length,A=D<f?new Array(f-D+1).join(t):"";switch(m&&p&&(e=a(A+e,A.length?f-k.length:1/0),A=""),n){case"<":e=h+e+k+A;break;case"=":e=h+A+e+k;break;case"^":e=A.slice(0,D=A.length>>1)+h+e+k+A.slice(D);break;default:e=A+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=d_(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(f_(t)/3))),r=Math.pow(10,-a),i=x_[8+a/3];return function(e){return n(r*e)+i}}}}function T_(e,t,n,a){var r,i=function(e,t,n){n=+n;const a=(t=+t)<(e=+e),r=a?jw(t,e,n):jw(e,t,n);return(a?-1:1)*(r<0?1/-r:r)}(e,t,n);switch((a=d_(null==a?",f":a)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(f_(t)/3)))-f_(Math.abs(e)))}(i,o))||(a.precision=r),w_(a,o);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,f_(t)-f_(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=r-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(r=function(e){return Math.max(0,-f_(Math.abs(e)))}(i))||(a.precision=r-2*("%"===a.type))}return v_(a)}function D_(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const a=t<e,[r,i,o]=a?Rw(t,e,n):Rw(e,t,n);if(!(i>=r))return[];const s=i-r+1,l=new Array(s);if(a)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(r+c)/-o;else for(let c=0;c<s;++c)l[c]=(r+c)*o;return l}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var a=t();return T_(a[0],a[a.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var a,r,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(r=l,l=c,c=r,r=o,o=s,s=r);u-- >0;){if((r=jw(l,c,n))===a)return i[o]=l,i[s]=c,t(i);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}a=r}return e},e}function A_(){var e=s_()(n_,n_);return e.copy=function(){return o_(e,A_())},l_.apply(e,arguments),D_(e)}b_=k_({thousands:",",grouping:[3],currency:["$",""]}),v_=b_.format,w_=b_.formatPrefix;class C_ extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M_;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(S_(this,e))}has(e){return super.has(S_(this,e))}set(e,t){return super.set(E_(this,e),t)}delete(e){return super.delete(F_(this,e))}}Set;function S_(e,t){let{_intern:n,_key:a}=e;const r=a(t);return n.has(r)?n.get(r):t}function E_(e,t){let{_intern:n,_key:a}=e;const r=a(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function F_(e,t){let{_intern:n,_key:a}=e;const r=a(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function M_(e){return null!==e&&"object"===typeof e?e.valueOf():e}const I_=Symbol("implicit");function z_(){var e=new C_,t=[],n=[],a=I_;function r(r){let i=e.get(r);if(void 0===i){if(a!==I_)return a;e.set(r,i=t.push(r)-1)}return n[i%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new C_;for(const a of n)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(a=e,r):a},r.copy=function(){return z_(t,n).unknown(a)},l_.apply(r,arguments),r}function P_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function N_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function O_(e){return e<0?-e*e:e*e}function B_(e){var t=e(n_,n_),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(n_,n_):.5===n?e(N_,O_):e(P_(n),P_(1/n)):n},D_(t)}function L_(){var e=B_(s_());return e.copy=function(){return o_(e,L_()).exponent(e.exponent())},l_.apply(e,arguments),e}const R_=function(e){for(var t=e.length/6|0,n=new Array(t),a=0;a<t;)n[a]="#"+e.slice(6*a,6*++a);return n}("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");function j_(e){return"string"===typeof e?new vb([[document.querySelector(e)]],[document.documentElement]):new vb([[e]],bb)}var V_,q_,U_,G_,H_,W_,K_,Y_,J_,Z_,X_,$_,Q_,ex;Array.prototype.slice;function tx(e){return function(){return e}}function nx(e){this._context=e}function ax(e){return new nx(e)}function rx(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};const ix=Math.PI,ox=2*ix,sx=1e-6,lx=ox-sx;function cx(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class ux{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?cx:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return cx;const n=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(V_||(V_=rx(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(q_||(q_=rx(["Z"]))))}lineTo(e,t){this._append(U_||(U_=rx(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,a){this._append(G_||(G_=rx(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+a)}bezierCurveTo(e,t,n,a,r,i){this._append(H_||(H_=rx(["C",",",",",",",",",",",""])),+e,+t,+n,+a,this._x1=+r,this._y1=+i)}arcTo(e,t,n,a,r){if(e=+e,t=+t,n=+n,a=+a,(r=+r)<0)throw new Error("negative radius: ".concat(r));let i=this._x1,o=this._y1,s=n-e,l=a-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(W_||(W_=rx(["M",",",""])),this._x1=e,this._y1=t);else if(d>sx)if(Math.abs(u*s-l*c)>sx&&r){let h=n-i,p=a-o,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),y=Math.sqrt(d),b=r*Math.tan((ix-Math.acos((f+d-m)/(2*g*y)))/2),v=b/y,w=b/g;Math.abs(v-1)>sx&&this._append(Y_||(Y_=rx(["L",",",""])),e+v*c,t+v*u),this._append(J_||(J_=rx(["A",",",",0,0,",",",",",""])),r,r,+(u*h>c*p),this._x1=e+w*s,this._y1=t+w*l)}else this._append(K_||(K_=rx(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,a,r,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(a),s=n*Math.sin(a),l=e+o,c=t+s,u=1^i,d=i?a-r:r-a;null===this._x1?this._append(Z_||(Z_=rx(["M",",",""])),l,c):(Math.abs(this._x1-l)>sx||Math.abs(this._y1-c)>sx)&&this._append(X_||(X_=rx(["L",",",""])),l,c),n&&(d<0&&(d=d%ox+ox),d>lx?this._append($_||($_=rx(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>sx&&this._append(Q_||(Q_=rx(["A",",",",0,",",",",",",",""])),n,n,+(d>=ix),u,this._x1=e+n*Math.cos(r),this._y1=t+n*Math.sin(r)))}rect(e,t,n,a){this._append(ex||(ex=rx(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+a,-n)}toString(){return this._}}function dx(e){return e[0]}function hx(e){return e[1]}function px(e,t){var n=tx(!0),a=null,r=ax,i=null,o=function(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new ux(t)}(s);function s(s){var l,c,u,d=(s=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(s)).length,h=!1;for(null==a&&(i=r(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?dx:tx(e),t="function"===typeof t?t:void 0===t?hx:tx(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:tx(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:tx(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:tx(!!e),s):n},s.curve=function(e){return arguments.length?(r=e,null!=a&&(i=r(a)),s):r},s.context=function(e){return arguments.length?(null==e?a=i=null:i=r(a=e),s):a},s}function fx(e){return e<0?-1:1}function mx(e,t,n){var a=e._x1-e._x0,r=t-e._x1,i=(e._y1-e._y0)/(a||r<0&&-0),o=(n-e._y1)/(r||a<0&&-0),s=(i*r+o*a)/(a+r);return(fx(i)+fx(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function gx(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function yx(e,t,n){var a=e._x0,r=e._y0,i=e._x1,o=e._y1,s=(i-a)/3;e._context.bezierCurveTo(a+s,r+s*t,i-s,o-s*n,i,o)}function bx(e){this._context=e}function vx(e){this._context=new wx(e)}function wx(e){this._context=e}function _x(e){return new vx(e)}bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yx(this,this._t0,gx(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yx(this,gx(this,n=mx(this,e,t)),n);break;default:yx(this,this._t0,n=mx(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(vx.prototype=Object.create(bx.prototype)).point=function(e,t){bx.prototype.point.call(this,t,e)},wx.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,r,i){this._context.bezierCurveTo(t,e,a,n,i,r)}};const xx={capture:!0,passive:!1};function kx(e){e.preventDefault(),e.stopImmediatePropagation()}function Tx(e){return((e=Math.exp(e))+1/e)/2}const Dx=function e(t,n,a){function r(e,r){var i,o,s=e[0],l=e[1],c=e[2],u=r[0],d=r[1],h=r[2],p=u-s,f=d-l,m=p*p+f*f;if(m<1e-12)o=Math.log(h/c)/t,i=function(e){return[s+e*p,l+e*f,c*Math.exp(t*e*o)]};else{var g=Math.sqrt(m),y=(h*h-c*c+a*m)/(2*c*n*g),b=(h*h-c*c-a*m)/(2*h*n*g),v=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(b*b+1)-b);o=(w-v)/t,i=function(e){var a=e*o,r=Tx(v),i=c/(n*g)*(r*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*a+v)-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[s+i*p,l+i*f,c*r/Tx(t*a+v)]}}return i.duration=1e3*o*t/Math.SQRT2,i}return r.rho=function(t){var n=Math.max(.001,+t),a=n*n;return e(n,a,a*a)},r}(Math.SQRT2,2,4);function Ax(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Cx=e=>()=>e;function Sx(e,t){let{sourceEvent:n,target:a,transform:r,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ex(e,t,n){this.k=e,this.x=t,this.y=n}Ex.prototype={constructor:Ex,scale:function(e){return 1===e?this:new Ex(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ex(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fx=new Ex(1,0,0);function Mx(e){e.stopImmediatePropagation()}function Ix(e){e.preventDefault(),e.stopImmediatePropagation()}function zx(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Px(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Nx(){return this.__zoom||Fx}function Ox(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Bx(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lx(e,t,n){var a=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>a?(a+r)/2:Math.min(0,a)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Rx(){var e,t,n,a=zx,r=Px,i=Lx,o=Ox,s=Bx,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Dx,h=Cb("start","zoom","end"),p=0,f=10;function m(e){e.property("__zoom",Nx).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",T).filter(s).on("touchstart.zoom",D).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Ex(t,e.x,e.y)}function y(e,t,n){var a=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return a===e.x&&r===e.y?e:new Ex(e.k,a,r)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function v(e,t,n,a){e.on("start.zoom",(function(){w(this,arguments).event(a).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(a).end()})).tween("zoom",(function(){var e=this,i=arguments,o=w(e,i).event(a),s=r.apply(e,i),l=null==n?b(s):"function"===typeof n?n.apply(e,i):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,i):t,p=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new Ex(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(a.apply(this,arguments)){var s=w(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,o.apply(this,arguments)))),h=Ax(e);if(s.wheel)s.mouse[0][0]===h[0]&&s.mouse[0][1]===h[1]||(s.mouse[1]=u.invert(s.mouse[0]=h)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[h,u.invert(h)],$b(this),s.start()}Ix(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),150),s.zoom("mouse",i(y(g(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function k(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(!n&&a.apply(this,arguments)){var s=e.currentTarget,l=w(this,r,!0).event(e),u=j_(e.view).on("mousemove.zoom",(function(e){if(Ix(e),!l.moved){var t=e.clientX-h,n=e.clientY-f;l.moved=t*t+n*n>p}l.event(e).zoom("mouse",i(y(l.that.__zoom,l.mouse[0]=Ax(e,s),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),function(e,t){var n=e.document.documentElement,a=j_(e).on("dragstart.drag",null);t&&(a.on("click.drag",kx,xx),setTimeout((function(){a.on("click.drag",null)}),0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,l.moved),Ix(e),l.event(e).end()}),!0),d=Ax(e,s),h=e.clientX,f=e.clientY;!function(e){var t=e.document.documentElement,n=j_(e).on("dragstart.drag",kx,xx);"onselectstart"in t?n.on("selectstart.drag",kx,xx):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(e.view),Mx(e),l.mouse=[d,this.__zoom.invert(d)],$b(this),l.start()}}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(a.apply(this,arguments)){var s=this.__zoom,l=Ax(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),h=s.k*(e.shiftKey?.5:2),p=i(y(g(s,h),l,d),r.apply(this,n),c);Ix(e),u>0?j_(this).transition().duration(u).call(v,p,l,e):j_(this).call(m.transform,p,l,e)}}function D(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(a.apply(this,arguments)){var s,l,c,u,d=n.touches,h=d.length,p=w(this,i,n.changedTouches.length===h).event(n);for(Mx(n),l=0;l<h;++l)u=[u=Ax(c=d[l],this),this.__zoom.invert(u),c.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,s=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(p.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),500)),$b(this),p.start())}}function A(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r,o,s,l,u=w(this,n).event(e),d=e.changedTouches,h=d.length;for(Ix(e),r=0;r<h;++r)s=Ax(o=d[r],this),u.touch0&&u.touch0[2]===o.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===o.identifier&&(u.touch1[0]=s);if(o=u.that.__zoom,u.touch1){var p=u.touch0[0],f=u.touch0[1],m=u.touch1[0],b=u.touch1[1],v=(v=m[0]-p[0])*v+(v=m[1]-p[1])*v,_=(_=b[0]-f[0])*_+(_=b[1]-f[1])*_;o=g(o,Math.sqrt(v/_)),s=[(p[0]+m[0])/2,(p[1]+m[1])/2],l=[(f[0]+b[0])/2,(f[1]+b[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",i(y(o,s,l),u.extent,c))}}function C(e){for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];if(this.__zooming){var o,s,l=w(this,r).event(e),c=e.changedTouches,u=c.length;for(Mx(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),o=0;o<u;++o)s=c[o],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=Ax(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<f)){var d=j_(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,a){var r=e.selection?e.selection():e;r.property("__zoom",Nx),e!==r?v(e,t,n,a):r.interrupt().each((function(){w(this,arguments).event(a).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,a){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,a)},m.scaleTo=function(e,t,n,a){m.transform(e,(function(){var e=r.apply(this,arguments),a=this.__zoom,o=null==n?b(e):"function"===typeof n?n.apply(this,arguments):n,s=a.invert(o),l="function"===typeof t?t.apply(this,arguments):t;return i(y(g(a,l),o,s),e,c)}),n,a)},m.translateBy=function(e,t,n,a){m.transform(e,(function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}),null,a)},m.translateTo=function(e,t,n,a,o){m.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,s=null==a?b(e):"function"===typeof a?a.apply(this,arguments):a;return i(Fx.translate(s[0],s[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),a,o)},_.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=j_(this.that).datum();h.call(e,this.that,new Sx(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Cx(+e),m):o},m.filter=function(e){return arguments.length?(a="function"===typeof e?e:Cx(!!e),m):a},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Cx(!!e),m):s},m.extent=function(e){return arguments.length?(r="function"===typeof e?e:Cx([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):r},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(f=+e,m):f},m}function jx(e,t){e&&e(t)}function Vx(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}Ex.prototype;const qx=class{constructor(){let e=function(){return e._call(...arguments)};return Object.setPrototypeOf(e,new.target.prototype)}_call(){throw Error("Must implement _call method in subclass")}};function Ux(e){return Number.isInteger(e)||"bigint"===typeof e}function Gx(e){const t=[];let n=e;for(;Array.isArray(n);)t.push(n.length),n=n[0];return t}function Hx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const a=e[t];if(void 0!==a)return delete e[t],a;if(void 0===n)throw Error("Key ".concat(t," does not exist in object."));return n}function Wx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply([],t)}function Kx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e.flatMap((e=>t.map((t=>[e,t]))))))}function Yx(e,t){return Math.abs((e+t)%(2*t)-t)}var Jx,Zx=__webpack_require__(143),Xx=__webpack_require__(603),$x=__webpack_require__(9),Qx=__webpack_require__(837),ek=__webpack_require__(499),tk=__webpack_require__(52),nk=__webpack_require__.t(tk,2),ak=__webpack_require__(431),rk=__webpack_require__.t(ak,2);let ik;const ok=["wasm"];if("undefined"!==typeof process&&"node"===(null===(Jx=process)||void 0===Jx||null===(Jx=Jx.release)||void 0===Jx?void 0:Jx.name)){var sk;ik=null!==(sk=tk)&&void 0!==sk?sk:nk,ok.unshift("cpu")}else{var lk;ik=null!==(lk=ak)&&void 0!==lk?lk:rk;"undefined"!==typeof navigator&&/iP(hone|od|ad).+16_4.+AppleWebKit/.test(navigator.userAgent)&&(ik.env.wasm.simd=!1)}const{env:ck}=ik,uk="2.17.2",dk="undefined"!==typeof self&&"caches"in self,hk=!wk($x),pk=!wk(Qx),fk=hk&&pk,mk=fk?Qx.dirname(Qx.dirname(ek.fileURLToPath("file:///Users/emilyreif/Documents/github/llm-consistency-vis/node_modules/@xenova/transformers/src/env.js"))):"./",gk=fk?Qx.join(mk,"/.cache/"):null,yk="/models/",bk=fk?Qx.join(mk,yk):yk;null!==ck&&void 0!==ck&&ck.wasm&&(ck.wasm.wasmPaths=fk?Qx.join(mk,"/dist/"):"https://cdn.jsdelivr.net/npm/@xenova/transformers@".concat(uk,"/dist/"));const vk={backends:{onnx:ck,tfjs:{}},__dirname:mk,version:uk,allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!0,localModelPath:bk,useFS:hk,useBrowserCache:dk,useFSCache:hk,cacheDir:gk,useCustomCache:!1,customCache:null};function wk(e){return 0===Object.keys(e).length}class _k{constructor(e){if(l(this,"_CONTENT_TYPE_MAP",{txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"}),this.filePath=e,this.headers=new Headers,this.exists=Zx.existsSync(e),this.exists){this.status=200,this.statusText="OK";let t=Zx.statSync(e);this.headers.set("content-length",t.size.toString()),this.updateContentType();let n=this;this.body=new ReadableStream({start(e){n.arrayBuffer().then((t=>{e.enqueue(new Uint8Array(t)),e.close()}))}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){var e;const t=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",null!==(e=this._CONTENT_TYPE_MAP[t])&&void 0!==e?e:"application/octet-stream")}clone(){let e=new _k(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await Zx.promises.readFile(this.filePath)).buffer}async blob(){const e=await Zx.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await Zx.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function xk(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{t=new URL(e)}catch(r){return!1}return!(n&&!n.includes(t.protocol))&&!(a&&!a.includes(t.hostname))}async function kk(e){var t;if(vk.useFS&&!xk(e,["http:","https:","blob:"]))return new _k(e);if("undefined"!==typeof process&&"node"===(null===(t=process)||void 0===t||null===(t=t.release)||void 0===t?void 0:t.name)){var n;const t=!(null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===n||!n.TESTING_REMOTELY),o=vk.version,s=new Headers;s.set("User-Agent","transformers.js/".concat(o,"; is_ci/").concat(t,";"));if(xk(e,["http:","https:"],["huggingface.co","hf.co"])){var a,r,i;const e=null!==(a=null===(r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===r?void 0:r.HF_TOKEN)&&void 0!==a?a:null===(i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===i?void 0:i.HF_ACCESS_TOKEN;e&&s.set("Authorization","Bearer ".concat(e))}return fetch(e,{headers:s})}return fetch(e)}const Tk={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};class Dk{constructor(e){this.path=e}async match(e){let t=Xx.join(this.path,e),n=new _k(t);return n.exists?n:void 0}async put(e,t){const n=Buffer.from(await t.arrayBuffer());let a=Xx.join(this.path,e);try{await Zx.promises.mkdir(Xx.dirname(a),{recursive:!0}),await Zx.promises.writeFile(a,n)}catch(r){console.warn("An error occurred while writing the file to cache:",r)}}}async function Ak(e,t){var n;let a,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!vk.allowLocalModels){if(i.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!vk.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}if(jx(i.progress_callback,{status:"initiate",name:e,file:t}),!a&&vk.useBrowserCache){if("undefined"===typeof caches)throw Error("Browser cache is not available in this environment.");try{a=await caches.open("transformers-cache")}catch(F){console.warn("An error occurred while opening the browser cache:",F)}}var o;!a&&vk.useFSCache&&(a=new Dk(null!==(o=i.cache_dir)&&void 0!==o?o:vk.cacheDir));if(!a&&vk.useCustomCache){if(!vk.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!vk.customCache.match||!vk.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");a=vk.customCache}const s=null!==(n=i.revision)&&void 0!==n?n:"main";let l,c,d=Sk(e,t),h=Sk(vk.localModelPath,d),p=Sk(vk.remoteHost,vk.remotePathTemplate.replaceAll("{model}",e).replaceAll("{revision}",encodeURIComponent(s)),t),f="main"===s?d:Sk(e,s,t),m=a instanceof Dk?f:p,g=!1;a&&(c=await async function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(let r of n)try{let t=await e.match(r);if(t)return t}catch(F){continue}}(a,h,m));const y=void 0!==c;if(void 0===c){if(vk.allowLocalModels){if(xk(d,["http:","https:"])){if(i.local_files_only)throw new Error("`local_files_only=true`, but attempted to load a remote file from: ".concat(d,"."));if(!vk.allowRemoteModels)throw new Error("`env.allowRemoteModels=false`, but attempted to load a remote file from: ".concat(d,"."))}else try{c=await kk(h),l=h}catch(F){console.warn('Unable to load from local path "'.concat(h,'": "').concat(F,'"'))}}if(void 0===c||404===c.status){if(i.local_files_only||!vk.allowRemoteModels){if(r)throw Error('`local_files_only=true` or `env.allowRemoteModels=false` and file was not found locally at "'.concat(h,'".'));return null}if(c=await kk(p),200!==c.status)return function(e,t,n){var a;if(!n)return null;const r=null!==(a=Tk[e])&&void 0!==a?a:"Error (".concat(e,") occurred while trying to load file");throw Error("".concat(r,': "').concat(t,'".'))}(c.status,p,r);l=m}g=a&&"undefined"!==typeof Response&&c instanceof Response&&200===c.status}jx(i.progress_callback,{status:"download",name:e,file:t});const b={status:"progress",name:e,file:t};let v;return i.progress_callback?y&&"undefined"!==typeof navigator&&/firefox/i.test(navigator.userAgent)?(v=new Uint8Array(await c.arrayBuffer()),jx(i.progress_callback,u(u({},b),{},{progress:100,loaded:v.length,total:v.length}))):v=await async function(e,t){const n=e.headers.get("Content-Length");null===n&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let a=parseInt(null!==n&&void 0!==n?n:"0"),r=new Uint8Array(a),i=0;const o=e.body.getReader();async function s(){const{done:e,value:n}=await o.read();if(e)return;let l=i+n.length;if(l>a){a=l;let e=new Uint8Array(a);e.set(r),r=e}r.set(n,i),i=l;return t({progress:i/a*100,loaded:i,total:a}),s()}return await s(),r}(c,(e=>{jx(i.progress_callback,u(u({},b),e))})):v=new Uint8Array(await c.arrayBuffer()),g&&l&&void 0===await a.match(l)&&await a.put(l,new Response(v,{headers:c.headers})).catch((e=>{console.warn("Unable to add response to browser cache: ".concat(e,"."))})),jx(i.progress_callback,{status:"done",name:e,file:t}),v}async function Ck(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=await Ak(e,t,n,a);if(null===r)return{};let i=new TextDecoder("utf-8").decode(r);return JSON.parse(i)}function Sk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=t.map(((e,n)=>(n&&(e=e.replace(new RegExp("^/"),"")),n!==t.length-1&&(e=e.replace(new RegExp("/$"),"")),e))),t.join("/")}function Ek(e){const t=Ik(e)[0],n=e.map((e=>Math.exp(e-t))),a=n.reduce(((e,t)=>e+t),0),r=n.map((e=>e/a));return r}function Fk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=Array.from(e).map(((e,t)=>[t,e])).sort(((e,t)=>t[1]-e[1])),null!==t&&t>0&&(e=e.slice(0,t)),e}function Mk(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let a=1;a<e.length;++a)e[a]<t&&(t=e[a],n=a);return[t,n]}function Ik(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let a=1;a<e.length;++a)e[a]>t&&(t=e[a],n=a);return[Number(t),n]}function zk(e){return e>0&&0===(e&e-1)}class Pk{constructor(e){if(this.size=0|e,this.size<=1||!zk(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(2*this.size);for(let n=0;n<this.table.length;n+=2){const e=Math.PI*n/this.size;this.table[n]=Math.cos(e),this.table[n+1]=-Math.sin(e)}let t=0;for(let n=1;this.size>n;n<<=1)++t;this._width=t%2===0?t-1:t,this._bitrev=new Int32Array(1<<this._width);for(let n=0;n<this._bitrev.length;++n){this._bitrev[n]=0;for(let e=0;e<this._width;e+=2){const t=this._width-e-2;this._bitrev[n]|=(n>>>e&3)<<t}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,t){const n=t||new Array(e.length>>>1);for(let a=0;a<e.length;a+=2)n[a>>>1]=e[a];return n}toComplexArray(e,t){const n=t||this.createComplexArray();for(let a=0;a<n.length;a+=2)n[a]=e[a>>>1],n[a+1]=0;return n}transform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,1)}realTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._realTransform4(e,t,1)}inverseTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,-1);for(let n=0;n<e.length;++n)e[n]/=this.size}_transform4(e,t,n){const a=this._csize;let r,i,o=1<<this._width,s=a/o<<1;const l=this._bitrev;if(4===s)for(r=0,i=0;r<a;r+=s,++i){const n=l[i];this._singleTransform2(t,e,r,n,o)}else for(r=0,i=0;r<a;r+=s,++i){const a=l[i];this._singleTransform4(t,e,r,a,o,n)}const c=this.table;for(o>>=2;o>=2;o>>=2){s=a/o<<1;const t=s>>>2;for(r=0;r<a;r+=s){const a=r+t-1;for(let i=r,s=0;i<a;i+=2,s+=o){const a=i,r=a+t,o=r+t,l=o+t,u=e[a],d=e[a+1],h=e[r],p=e[r+1],f=e[o],m=e[o+1],g=e[l],y=e[l+1],b=c[s],v=n*c[s+1],w=h*b-p*v,_=h*v+p*b,x=c[2*s],k=n*c[2*s+1],T=f*x-m*k,D=f*k+m*x,A=c[3*s],C=n*c[3*s+1],S=g*A-y*C,E=g*C+y*A,F=u+T,M=d+D,I=u-T,z=d-D,P=w+S,N=_+E,O=n*(w-S),B=n*(_-E);e[a]=F+P,e[a+1]=M+N,e[r]=I+B,e[r+1]=z-O,e[o]=F-P,e[o+1]=M-N,e[l]=I-B,e[l+1]=z+O}}}}_singleTransform2(e,t,n,a,r){const i=e[a],o=e[a+1],s=e[a+r],l=e[a+r+1];t[n]=i+s,t[n+1]=o+l,t[n+2]=i-s,t[n+3]=o-l}_singleTransform4(e,t,n,a,r,i){const o=2*r,s=3*r,l=e[a],c=e[a+1],u=e[a+r],d=e[a+r+1],h=e[a+o],p=e[a+o+1],f=e[a+s],m=e[a+s+1],g=l+h,y=c+p,b=l-h,v=c-p,w=u+f,_=d+m,x=i*(u-f),k=i*(d-m);t[n]=g+w,t[n+1]=y+_,t[n+2]=b+k,t[n+3]=v-x,t[n+4]=g-w,t[n+5]=y-_,t[n+6]=b-k,t[n+7]=v+x}_realTransform4(e,t,n){const a=this._csize;let r,i,o=1<<this._width,s=a/o<<1;const l=this._bitrev;if(4===s)for(r=0,i=0;r<a;r+=s,++i){const n=l[i];this._singleRealTransform2(t,e,r,n>>>1,o>>>1)}else for(r=0,i=0;r<a;r+=s,++i){const a=l[i];this._singleRealTransform4(t,e,r,a>>>1,o>>>1,n)}const c=this.table;for(o>>=2;o>=2;o>>=2){s=a/o<<1;const t=s>>>1,i=t>>>1,l=i>>>1;for(r=0;r<a;r+=s)for(let a=0,s=0;a<=l;a+=2,s+=o){const o=r+a,u=o+i,d=u+i,h=d+i,p=e[o],f=e[o+1],m=e[u],g=e[u+1],y=e[d],b=e[d+1],v=e[h],w=e[h+1],_=p,x=f,k=c[s],T=n*c[s+1],D=m*k-g*T,A=m*T+g*k,C=c[2*s],S=n*c[2*s+1],E=y*C-b*S,F=y*S+b*C,M=c[3*s],I=n*c[3*s+1],z=v*M-w*I,P=v*I+w*M,N=_+E,O=x+F,B=_-E,L=x-F,R=D+z,j=A+P,V=n*(D-z),q=n*(A-P);if(e[o]=N+R,e[o+1]=O+j,e[u]=B+q,e[u+1]=L-V,0===a){e[d]=N-R,e[d+1]=O-j;continue}if(a===l)continue;const U=r+i-a,G=r+t-a;e[U]=B-n*q,e[U+1]=-L-n*V,e[G]=N-n*R,e[G+1]=n*j-O}}const u=a>>>1;for(let d=2;d<u;d+=2)e[a-d]=e[d],e[a-d+1]=-e[d+1]}_singleRealTransform2(e,t,n,a,r){const i=e[a],o=e[a+r];t[n]=i+o,t[n+1]=0,t[n+2]=i-o,t[n+3]=0}_singleRealTransform4(e,t,n,a,r,i){const o=2*r,s=3*r,l=e[a],c=e[a+r],u=e[a+o],d=e[a+s],h=l+u,p=l-u,f=c+d,m=i*(c-d);t[n]=h+f,t[n+1]=0,t[n+2]=p,t[n+3]=-m,t[n+4]=h-f,t[n+5]=0,t[n+6]=p,t[n+7]=m}}class Nk{constructor(e){const t=2*(e-1),n=2*(2*e-1),a=2**Math.ceil(Math.log2(n));this.bufferSize=a,this._a=t;const r=new Float64Array(n),i=new Float64Array(a);this._chirpBuffer=new Float64Array(a),this._buffer1=new Float64Array(a),this._buffer2=new Float64Array(a),this._outBuffer1=new Float64Array(a),this._outBuffer2=new Float64Array(a);const o=-2*Math.PI/e,s=Math.cos(o),l=Math.sin(o);for(let c=0;c<n>>1;++c){const t=(c+1-e)**2/2,n=Math.sqrt(s**2+l**2)**t,a=t*Math.atan2(l,s),o=2*c;r[o]=n*Math.cos(a),r[o+1]=n*Math.sin(a),i[o]=r[o],i[o+1]=-r[o+1]}this._slicedChirpBuffer=r.subarray(t,n),this._f=new Pk(a>>1),this._f.transform(this._chirpBuffer,i)}_transform(e,t,n){const a=this._buffer1,r=this._buffer2,i=this._outBuffer1,o=this._outBuffer2,s=this._chirpBuffer,l=this._slicedChirpBuffer,c=this._a;if(n)for(let u=0;u<l.length;u+=2){const e=u+1,n=t[u>>1];a[u]=n*l[u],a[e]=n*l[e]}else for(let u=0;u<l.length;u+=2){const e=u+1;a[u]=t[u]*l[u]-t[e]*l[e],a[e]=t[u]*l[e]+t[e]*l[u]}this._f.transform(i,a);for(let u=0;u<s.length;u+=2){const e=u+1;r[u]=i[u]*s[u]-i[e]*s[e],r[e]=i[u]*s[e]+i[e]*s[u]}this._f.inverseTransform(o,r);for(let u=0;u<o.length;u+=2){const t=o[u+c],n=o[u+c+1],a=l[u],r=l[u+1];e[u]=t*a-n*r,e[u+1]=t*r+n*a}}transform(e,t){this._transform(e,t,!1)}realTransform(e,t){this._transform(e,t,!0)}}class Ok{constructor(e){this.fft_length=e,this.isPowerOfTwo=zk(e),this.isPowerOfTwo?(this.fft=new Pk(e),this.outputBufferSize=2*e):(this.fft=new Nk(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,t){this.fft.realTransform(e,t)}transform(e,t){this.fft.transform(e,t)}}function Bk(e,t){if(t%2===0||t<=0)throw new Error("Window size must be a positive odd number");const n=new e.constructor(e.length),a=new e.constructor(t),r=Math.floor(t/2);for(let i=0;i<e.length;++i){let t=0;for(let n=-r;n<=r;++n){let r=i+n;r<0?r=Math.abs(r):r>=e.length&&(r=2*(e.length-1)-r),a[t++]=e[r]}a.sort(),n[i]=a[r]}return n}function Lk(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const Rk=Object.freeze({float32:Float32Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array}),jk=ik.Tensor;class Vk{constructor(){return l(this,"dims",void 0),l(this,"type",void 0),l(this,"data",void 0),l(this,"size",void 0),(arguments.length<=0?void 0:arguments[0])instanceof jk?Object.assign(this,arguments.length<=0?void 0:arguments[0]):Object.assign(this,new jk(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])),new Proxy(this,{get:(e,t)=>{if("string"===typeof t){let n=Number(t);if(Number.isInteger(n))return e._getitem(n)}return e[t]},set:(e,t,n)=>e[t]=n})}*[Symbol.iterator](){const[e,...t]=this.dims;if(t.length>0){const n=t.reduce(((e,t)=>e*t));for(let a=0;a<e;++a)yield this._subarray(a,n,t)}else yield*this.data}_getitem(e){const[t,...n]=this.dims;if(e=Hk(e,t),n.length>0){const t=n.reduce(((e,t)=>e*t));return this._subarray(e,t,n)}return new Vk(this.type,[this.data[e]],n)}indexOf(e){for(let t=0;t<this.data.length;++t)if(this.data[t]==e)return t;return-1}_subarray(e,t,n){const a=e*t,r=(e+1)*t,i="subarray"in this.data?this.data.subarray(a,r):this.data.slice(a,r);return new Vk(this.type,i,n)}item(){if(1!==this.data.length)throw new Error("a Tensor with ".concat(this.data.length," elements cannot be converted to Scalar"));return this.data[0]}tolist(){return function(e,t){const n=e.length,a=t.reduce(((e,t)=>e*t));if(n!==a)throw Error("cannot reshape array of size ".concat(n," into shape (").concat(t,")"));let r=e;for(let i=t.length-1;i>=0;i--)r=r.reduce(((e,n)=>{let a=e[e.length-1];return a.length<t[i]?a.push(n):e.push([n]),e}),[[]]);return r[0]}(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){for(let e=0;e<this.data.length;++e)this.data[e]=1/(1+Math.exp(-this.data[e]));return this}mul(e){return this.clone().mul_(e)}mul_(e){for(let t=0;t<this.data.length;++t)this.data[t]*=e;return this}add(e){return this.clone().add_(e)}add_(e){for(let t=0;t<this.data.length;++t)this.data[t]+=e;return this}clone(){return new Vk(this.type,this.data.slice(),this.dims.slice())}slice(){let e=[],t=[];for(let o=0;o<this.dims.length;++o){let n=o<0||arguments.length<=o?void 0:arguments[o];if(null===n||void 0===n)t.push([0,this.dims[o]]),e.push(this.dims[o]);else if("number"===typeof n)n=Hk(n,this.dims[o],o),t.push([n,n+1]);else{if(!Array.isArray(n)||2!==n.length)throw new Error("Invalid slice: ".concat(n));{if(n[0]>n[1])throw new Error("Invalid slice: ".concat(n));let a=[Math.max(n[0],0),Math.min(n[1],this.dims[o])];t.push(a),e.push(a[1]-a[0])}}}let n=t.map((e=>{let[t,n]=e;return n-t})),a=n.reduce(((e,t)=>e*t)),r=new this.data.constructor(a);const i=this.stride();for(let o=0;o<a;++o){let e=0;for(let a=n.length-1,r=o;a>=0;--a){const o=n[a];e+=(r%o+t[a][0])*i[a],r=Math.floor(r/o)}r[o]=this.data[e]}return new Vk(this.type,r,e)}permute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t){const[n,a]=function(e,t,n){const a=new Array(n.length),r=new Array(n.length);for(let s=n.length-1,l=1;s>=0;--s)r[s]=l,a[s]=t[n[s]],l*=a[s];const i=n.map(((e,t)=>r[n.indexOf(t)])),o=new e.constructor(e.length);for(let s=0;s<e.length;++s){let n=0;for(let e=t.length-1,a=s;e>=0;--e)n+=a%t[e]*i[e],a=Math.floor(a/t[e]);o[n]=e[s]}return[o,a]}(e.data,e.dims,t);return new Vk(e.type,n,a)}(this,t)}transpose(){return this.permute(...arguments)}sum(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.norm(1,e,t)}norm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fro",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("fro"===e)e=2;else if("string"===typeof e)throw Error("Unsupported norm: ".concat(e));if(null===t){let t=this.data.reduce(((t,n)=>t+n**e),0)**(1/e);return new Vk(this.type,[t],[])}t=Hk(t,this.dims.length);const a=this.dims.slice();a[t]=1;const r=new this.data.constructor(this.data.length/this.dims[t]);for(let i=0;i<this.data.length;++i){let n=0;for(let e=this.dims.length-1,r=i,o=1;e>=0;--e){const i=this.dims[e];if(e!==t){n+=r%i*o,o*=a[e]}r=Math.floor(r/i)}r[n]+=this.data[i]**e}if(1!==e)for(let i=0;i<r.length;++i)r[i]=r[i]**(1/e);return n||a.splice(t,1),new Vk(this.type,r,a)}normalize_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=Hk(t,this.dims.length);const n=this.norm(e,t,!0);for(let a=0;a<this.data.length;++a){let e=0;for(let n=this.dims.length-1,r=a,i=1;n>=0;--n){const a=this.dims[n];if(n!==t){e+=r%a*i,i*=this.dims[n]}r=Math.floor(r/a)}this.data[a]/=n.data[e]}return this}normalize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.clone().normalize_(e,t)}stride(){return function(e){const t=new Array(e.length);for(let n=e.length-1,a=1;n>=0;--n)t[n]=a,a*=e[n];return t}(this.dims)}squeeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Vk(this.type,this.data,Uk(this.dims,e))}squeeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=Uk(this.dims,e),this}unsqueeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Vk(this.type,this.data,Gk(this.dims,e))}unsqueeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=Gk(this.dims,e),this}flatten_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t=(t+this.dims.length)%this.dims.length;let n=this.dims.slice(0,e),a=this.dims.slice(e,t+1),r=this.dims.slice(t+1);return this.dims=[...n,a.reduce(((e,t)=>e*t),1),...r],this}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.clone().flatten_(e,t)}view(){let e=-1;for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(let r=0;r<n.length;++r)if(-1===n[r]){if(-1!==e)throw new Error("Only one dimension can be inferred");e=r}if(-1!==e){const t=n.reduce(((t,n,a)=>a!==e?t*n:t),1);n[e]=this.data.length/t}return new Vk(this.type,this.data,n)}neg_(){for(let e=0;e<this.data.length;++e)this.data[e]=-this.data[e];return this}neg(){return this.clone().neg_()}clamp_(e,t){for(let n=0;n<this.data.length;++n)this.data[n]=Math.min(Math.max(this.data[n],e),t);return this}clamp(e,t){return this.clone().clamp_(e,t)}round_(){for(let e=0;e<this.data.length;++e)this.data[e]=Math.round(this.data[e]);return this}round(){return this.clone().round_()}to(e){if(this.type===e)return this;if(!Rk.hasOwnProperty(e))throw new Error("Unsupported type: ".concat(e));return new Vk(e,Rk[e].from(this.data),this.dims)}}function qk(e,t){var n;let[a,r]=t;const i=null!==(n=e.dims.at(-3))&&void 0!==n?n:1,o=e.dims.at(-2),s=e.dims.at(-1);let l=function(e,t,n){let[a,r,i]=t,[o,s]=n;const l=s/i,c=o/r,u=new e.constructor(o*s*a),d=r*i,h=o*s;for(let p=0;p<o;++p)for(let t=0;t<s;++t){const n=p*s+t,o=(t+.5)/l-.5,f=(p+.5)/c-.5;let m=Math.floor(o),g=Math.floor(f);const y=Math.min(m+1,i-1),b=Math.min(g+1,r-1);m=Math.max(m,0),g=Math.max(g,0);const v=o-m,w=f-g,_=(1-v)*(1-w),x=v*(1-w),k=(1-v)*w,T=v*w,D=g*i,A=b*i,C=D+m,S=D+y,E=A+m,F=A+y;for(let t=0;t<a;++t){const a=t*d;u[t*h+n]=_*e[a+C]+x*e[a+S]+k*e[a+E]+T*e[a+F]}}return u}(e.data,[i,o,s],[a,r]);return new Vk(e.type,l,[i,a,r])}function Uk(e,t){return e=e.slice(),null===t?e=e.filter((e=>1!==e)):"number"===typeof t?1===e[t]&&e.splice(t,1):Array.isArray(t)&&(e=e.filter(((e,n)=>1!==e||!t.includes(n)))),e}function Gk(e,t){return t=Hk(t,e.length+1),(e=e.slice()).splice(t,0,1),e}function Hk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e<-t||e>=t)throw new Error("IndexError: index ".concat(e," is out of bounds for dimension").concat(null===n?"":" "+n," with size ").concat(t));return e<0&&(e=(e%t+t)%t),e}function Wk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Hk(t,e[0].dims.length);const n=e[0].dims.slice();n[t]=e.reduce(((e,n)=>e+n.dims[t]),0);const a=n.reduce(((e,t)=>e*t),1),r=new e[0].data.constructor(a),i=e[0].type;if(0===t){let t=0;for(let n of e)r.set(n.data,t),t+=n.data.length}else{let a=0;for(let i=0;i<e.length;++i){let o=e[i];for(let e=0;e<o.data.length;++e){let i=0;for(let r=o.dims.length-1,s=e,l=1;r>=0;--r){const e=o.dims[r];let c=s%e;r===t&&(c+=a),i+=c*l,l*=n[r],s=Math.floor(s/e)}r[i]=o.data[e]}a+=o.dims[t]}}return new Vk(i,r,n)}function Kk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Wk(e.map((e=>e.unsqueeze(t))),t)}function Yk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===t){const t=e.data.reduce(((e,t)=>e+t),0),a=t/e.data.length,r=Math.sqrt(e.data.reduce(((e,t)=>e+(t-a)**2),0)/(e.data.length-n)),i=new Vk(e.type,[a],[]);return[new Vk(e.type,[r],[]),i]}t=Hk(t,e.dims.length);const r=Jk(e,t,a),i=e.dims.slice();i[t]=1;const o=new e.data.constructor(e.data.length/e.dims[t]);for(let s=0;s<e.data.length;++s){let n=0;for(let a=e.dims.length-1,r=s,o=1;a>=0;--a){const s=e.dims[a];if(a!==t){n+=r%s*o,o*=i[a]}r=Math.floor(r/s)}o[n]+=(e.data[s]-r.data[n])**2}for(let s=0;s<o.length;++s)o[s]=Math.sqrt(o[s]/(e.dims[t]-n));a||i.splice(t,1);return[new Vk(e.type,o,i),r]}function Jk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===t){let t=e.data.reduce(((e,t)=>e+t),0);return new Vk(e.type,[t/e.data.length],[])}t=Hk(t,e.dims.length);const a=e.dims.slice();a[t]=1;const r=new e.data.constructor(e.data.length/e.dims[t]);for(let i=0;i<e.data.length;++i){let n=0;for(let r=e.dims.length-1,o=i,s=1;r>=0;--r){const i=e.dims[r];if(r!==t){n+=o%i*s,s*=a[r]}o=Math.floor(o/i)}r[n]+=e.data[i]}if(1!==e.dims[t])for(let i=0;i<r.length;++i)r[i]=r[i]/e.dims[t];return n||a.splice(t,1),new Vk(e.type,r,a)}function Zk(e){const[t,n]=e.dims,a=[t+1,n+1],r=new Vk("float32",new Float32Array(a[0]*a[1]).fill(1/0),a),i=new Vk("float32",new Float32Array(a[0]*a[1]).fill(-1),a);r[0].data[0]=0;for(let u=1;u<n+1;++u)for(let n=1;n<t+1;++n){const t=r[n-1][u-1].item(),a=r[n-1][u].item(),o=r[n][u-1].item();let s,l;t<a&&t<o?(s=t,l=0):a<t&&a<o?(s=a,l=1):(s=o,l=2),r[n].data[u]=e[n-1][u-1].item()+s,i[n].data[u]=l}let o=t,s=n;i.data.fill(2,0,a[1]);for(let u=0;u<a[0];++u)i[u].data[0]=1;let l=[],c=[];for(;o>0||s>0;){l.push(o-1),c.push(s-1);switch(i[o][s].item()){case 0:--o,--s;break;case 1:--o;break;case 2:--s;break;default:throw new Error("Internal error in dynamic time warping. Unexpected trace[".concat(o,", ").concat(s,"]. Please file a bug report."))}}return l.reverse(),c.reverse(),[l,c]}function Xk(e){return function(e){const t=e.reduce(((e,t)=>e*t),1);return new Vk("int64",new BigInt64Array(t).fill(1n),e)}(e.dims)}class $k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>e>t;this._heap=[],this._comparator=e}get size(){return this._heap.length}isEmpty(){return 0===this.size}peek(){return this._heap[0]}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.extend(t)}extend(e){for(const t of e)this._heap.push(t),this._siftUp();return this.size}pop(){const e=this.peek(),t=this.size-1;return t>0&&this._swap(0,t),this._heap.pop(),this._siftDown(),e}replace(e){const t=this.peek();return this._heap[0]=e,this._siftDown(),t}_parent(e){return(e+1>>>1)-1}_left(e){return 1+(e<<1)}_right(e){return e+1<<1}_greater(e,t){return this._comparator(this._heap[e],this._heap[t])}_swap(e,t){const n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n}_siftUp(){let e=this.size-1;for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const t=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,t),e=t}}}class Qk{constructor(){this.root=eT.default()}extend(e){for(let t of e)this.push(t)}push(e){let t=this.root;for(let n of e){let e=t.children.get(n);void 0===e&&(e=eT.default(),t.children.set(n,e)),t=e}t.isLeaf=!0}*commonPrefixSearch(e){let t=this.root,n="";for(let a=0;a<e.length&&void 0!==t;++a){const r=e[a];n+=r,t=t.children.get(r),void 0!==t&&t.isLeaf&&(yield n)}}}class eT{constructor(e,t){this.isLeaf=e,this.children=t}static default(){return new eT(!1,new Map)}}class tT{constructor(e,t,n){this.sentence=e,this.len=e.length,this.bosTokenId=t,this.eosTokenId=n,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},(()=>[])),this.endNodes=Array.from({length:this.len+1},(()=>[]));const a=new nT(this.bosTokenId,0,0,0,0),r=new nT(this.eosTokenId,1,this.len,0,0);this.nodes.push(a.clone()),this.nodes.push(r.clone()),this.beginNodes[this.len].push(r),this.endNodes[0].push(a)}insert(e,t,n,a){const r=this.nodes.length,i=new nT(a,r,e,t,n);this.beginNodes[e].push(i),this.endNodes[e+t].push(i),this.nodes.push(i)}viterbi(){const e=this.len;let t=0;for(;t<=e;){if(0==this.beginNodes[t].length)return[];for(let e of this.beginNodes[t]){e.prev=null;let n=0,a=null;for(let r of this.endNodes[t]){const t=r.backtraceScore+e.score;(null===a||t>n)&&(a=r.clone(),n=t)}if(null===a)return[];e.prev=a,e.backtraceScore=n}++t}const n=[],a=this.beginNodes[e][0].prev;if(null===a)return[];let r=a.clone();for(;null!==r.prev;){n.push(r.clone());const e=r.clone();r=e.prev.clone()}return n.reverse(),n}piece(e){return this.sentence.slice(e.pos,e.pos+e.length)}tokens(){return this.viterbi().map((e=>this.piece(e)))}tokenIds(){return this.viterbi().map((e=>e.tokenId))}}class nT{constructor(e,t,n,a,r){this.tokenId=e,this.nodeId=t,this.pos=n,this.length=a,this.score=r,this.prev=null,this.backtraceScore=0}clone(){const e=new nT(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}var aT=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),rT=Object.freeze({set:aT.Set,for:aT.For,in:aT.In,is:aT.Is,if:aT.If,else:aT.Else,endif:aT.EndIf,elif:aT.ElseIf,endfor:aT.EndFor,and:aT.And,or:aT.Or,not:aT.Not,"not in":aT.NotIn,true:aT.BooleanLiteral,false:aT.BooleanLiteral}),iT=class{constructor(e,t){this.value=e,this.type=t}};function oT(e){return/\w/.test(e)}function sT(e){return/[0-9]/.test(e)}var lT=[["{%",aT.OpenStatement],["%}",aT.CloseStatement],["{{",aT.OpenExpression],["}}",aT.CloseExpression],["(",aT.OpenParen],[")",aT.CloseParen],["{",aT.OpenCurlyBracket],["}",aT.CloseCurlyBracket],["[",aT.OpenSquareBracket],["]",aT.CloseSquareBracket],[",",aT.Comma],[".",aT.Dot],[":",aT.Colon],["|",aT.Pipe],["<=",aT.ComparisonBinaryOperator],[">=",aT.ComparisonBinaryOperator],["==",aT.ComparisonBinaryOperator],["!=",aT.ComparisonBinaryOperator],["<",aT.ComparisonBinaryOperator],[">",aT.ComparisonBinaryOperator],["+",aT.AdditiveBinaryOperator],["-",aT.AdditiveBinaryOperator],["*",aT.MultiplicativeBinaryOperator],["/",aT.MultiplicativeBinaryOperator],["%",aT.MultiplicativeBinaryOperator],["=",aT.Equals]],cT=new Map([["n","\n"],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);var uT=class{constructor(){l(this,"type","Statement")}},dT=class extends uT{constructor(e){super(),l(this,"type","Program"),this.body=e}},hT=class extends uT{constructor(e,t,n){super(),l(this,"type","If"),this.test=e,this.body=t,this.alternate=n}},pT=class extends uT{constructor(e,t,n){super(),l(this,"type","For"),this.loopvar=e,this.iterable=t,this.body=n}},fT=class extends uT{constructor(e,t){super(),l(this,"type","Set"),this.assignee=e,this.value=t}},mT=class extends uT{constructor(){super(...arguments),l(this,"type","Expression")}},gT=class extends mT{constructor(e,t,n){super(),l(this,"type","MemberExpression"),this.object=e,this.property=t,this.computed=n}},yT=class extends mT{constructor(e,t){super(),l(this,"type","CallExpression"),this.callee=e,this.args=t}},bT=class extends mT{constructor(e){super(),l(this,"type","Identifier"),this.value=e}},vT=class extends mT{constructor(e){super(),l(this,"type","Literal"),this.value=e}},wT=class extends vT{constructor(){super(...arguments),l(this,"type","NumericLiteral")}},_T=class extends vT{constructor(){super(...arguments),l(this,"type","StringLiteral")}},xT=class extends vT{constructor(){super(...arguments),l(this,"type","BooleanLiteral")}},kT=class extends vT{constructor(){super(...arguments),l(this,"type","ArrayLiteral")}},TT=class extends vT{constructor(){super(...arguments),l(this,"type","TupleLiteral")}},DT=class extends vT{constructor(){super(...arguments),l(this,"type","ObjectLiteral")}},AT=class extends mT{constructor(e,t,n){super(),l(this,"type","BinaryExpression"),this.operator=e,this.left=t,this.right=n}},CT=class extends mT{constructor(e,t){super(),l(this,"type","FilterExpression"),this.operand=e,this.filter=t}},ST=class extends mT{constructor(e,t,n){super(),l(this,"type","TestExpression"),this.operand=e,this.negate=t,this.test=n}},ET=class extends mT{constructor(e,t){super(),l(this,"type","UnaryExpression"),this.operator=e,this.argument=t}},FT=class extends mT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(),l(this,"type","SliceExpression"),this.start=e,this.stop=t,this.step=n}},MT=class extends mT{constructor(e,t){super(),l(this,"type","KeywordArgumentExpression"),this.key=e,this.value=t}};function IT(e){const t=new dT([]);let n=0;function a(t,a){const r=e[n++];if(!r||r.type!==t)throw new Error("Parser Error: ".concat(a,". ").concat(r.type," !== ").concat(t,"."));return r}function r(){switch(e[n].type){case aT.Text:return new _T(a(aT.Text,"Expected text token").value);case aT.OpenStatement:return function(){let t;switch(a(aT.OpenStatement,"Expected opening statement token"),e[n].type){case aT.Set:++n,t=s(),a(aT.CloseStatement,"Expected closing statement token");break;case aT.If:++n,t=l(),a(aT.OpenStatement,"Expected {% token"),a(aT.EndIf,"Expected endif token"),a(aT.CloseStatement,"Expected %} token");break;case aT.For:++n,t=function(){const e=c(!0);if(!(e instanceof bT||e instanceof TT))throw new SyntaxError("Expected identifier/tuple for the loop variable, got ".concat(e.type," instead"));a(aT.In,"Expected `in` keyword following loop variable");const t=u();a(aT.CloseStatement,"Expected closing statement token");const n=[];for(;i(aT.OpenStatement,aT.EndFor);)n.push(r());return new pT(e,t,n)}(),a(aT.OpenStatement,"Expected {% token"),a(aT.EndFor,"Expected endfor token"),a(aT.CloseStatement,"Expected %} token");break;default:throw new SyntaxError("Unknown statement type: ".concat(e[n].type))}return t}();case aT.OpenExpression:return function(){a(aT.OpenExpression,"Expected opening expression token");const e=u();return a(aT.CloseExpression,"Expected closing expression token"),e}();default:throw new SyntaxError("Unexpected token type: ".concat(e[n].type))}}function i(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n+a.length<=e.length&&a.some(((t,a)=>t!==e[n+a].type))}function o(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n+a.length<=e.length&&a.every(((t,a)=>t===e[n+a].type))}function s(){const e=u();if(o(aT.Equals)){++n;const t=s();return new fT(e,t)}return e}function l(){var t,i;const s=u();a(aT.CloseStatement,"Expected closing statement token");const c=[],d=[];for(;(null===(h=e[n])||void 0===h?void 0:h.type)!==aT.OpenStatement||(null===(p=e[n+1])||void 0===p?void 0:p.type)!==aT.ElseIf&&(null===(f=e[n+1])||void 0===f?void 0:f.type)!==aT.Else&&(null===(m=e[n+1])||void 0===m?void 0:m.type)!==aT.EndIf;){var h,p,f,m;c.push(r())}if((null===(t=e[n])||void 0===t?void 0:t.type)===aT.OpenStatement&&(null===(i=e[n+1])||void 0===i?void 0:i.type)!==aT.EndIf)if(++n,o(aT.ElseIf))a(aT.ElseIf,"Expected elseif token"),d.push(l());else for(a(aT.Else,"Expected else token"),a(aT.CloseStatement,"Expected closing statement token");(null===(g=e[n])||void 0===g?void 0:g.type)!==aT.OpenStatement||(null===(y=e[n+1])||void 0===y?void 0:y.type)!==aT.EndIf;){var g,y;d.push(r())}return new hT(s,c,d)}function c(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?w:u,t=[e()],a=o(aT.Comma);for(;a&&(++n,t.push(e()),o(aT.Comma)););return a?new TT(t):t[0]}function u(){return function(){const e=d();if(o(aT.If)){++n;const t=d();a(aT.Else,"Expected else token");const r=d();return new hT(t,[e],[r])}return e}()}function d(){let t=h();for(;o(aT.Or);){const a=e[n];++n;const r=h();t=new AT(a,t,r)}return t}function h(){let t=p();for(;o(aT.And);){const a=e[n];++n;const r=p();t=new AT(a,t,r)}return t}function p(){let t;for(;o(aT.Not);){const a=e[n];++n;const r=p();t=new ET(a,r)}return null!==t&&void 0!==t?t:function(){let t=f();for(;o(aT.ComparisonBinaryOperator)||o(aT.In)||o(aT.NotIn);){const a=e[n];++n;const r=f();t=new AT(a,t,r)}return t}()}function f(){let t=b();for(;o(aT.AdditiveBinaryOperator);){const a=e[n];++n;const r=b();t=new AT(a,t,r)}return t}function m(){const t=function(){let t=w();for(;o(aT.Dot)||o(aT.OpenSquareBracket);){const r=e[n];let i;++n;const o=r.type!==aT.Dot;if(o)i=y(),a(aT.CloseSquareBracket,"Expected closing square bracket");else if(i=w(),"Identifier"!==i.type)throw new SyntaxError("Expected identifier following dot operator");t=new gT(t,i,o)}return t}();return o(aT.OpenParen)?g(t):t}function g(e){let t=new yT(e,function(){a(aT.OpenParen,"Expected opening parenthesis for arguments list");const e=function(){const e=[];for(;!o(aT.CloseParen);){let t=u();if(o(aT.Equals)){if(++n,!(t instanceof bT))throw new SyntaxError("Expected identifier for keyword argument");const e=u();t=new MT(t,e)}e.push(t),o(aT.Comma)&&++n}return e}();return a(aT.CloseParen,"Expected closing parenthesis for arguments list"),e}());return o(aT.OpenParen)&&(t=g(t)),t}function y(){const e=[];let t=!1;for(;!o(aT.CloseSquareBracket);)o(aT.Colon)?(e.push(void 0),++n,t=!0):(e.push(u()),o(aT.Colon)&&(++n,t=!0));if(0===e.length)throw new SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new FT(...e)}return e[0]}function b(){let t=v();for(;o(aT.MultiplicativeBinaryOperator);){const a=e[n];++n;const r=v();t=new AT(a,t,r)}return t}function v(){let e=function(){let e=m();for(;o(aT.Pipe);){++n;let t=w();if(!(t instanceof bT))throw new SyntaxError("Expected identifier for the filter");o(aT.OpenParen)&&(t=g(t)),e=new CT(e,t)}return e}();for(;o(aT.Is);){++n;const t=o(aT.Not);t&&++n;let a=w();if(a instanceof xT&&(a=new bT(a.value.toString())),!(a instanceof bT))throw new SyntaxError("Expected identifier for the test");e=new ST(e,t,a)}return e}function w(){const t=e[n];switch(t.type){case aT.NumericLiteral:return++n,new wT(Number(t.value));case aT.StringLiteral:return++n,new _T(t.value);case aT.BooleanLiteral:return++n,new xT("true"===t.value);case aT.Identifier:return++n,new bT(t.value);case aT.OpenParen:{++n;const t=c();if(e[n].type!==aT.CloseParen)throw new SyntaxError("Expected closing parenthesis, got ".concat(e[n].type," instead"));return++n,t}case aT.OpenSquareBracket:{++n;const e=[];for(;!o(aT.CloseSquareBracket);)e.push(u()),o(aT.Comma)&&++n;return++n,new kT(e)}case aT.OpenCurlyBracket:{++n;const e=new Map;for(;!o(aT.CloseCurlyBracket);){const t=u();a(aT.Colon,"Expected colon between key and value in object literal");const r=u();e.set(t,r),o(aT.Comma)&&++n}return++n,new DT(e)}default:throw new SyntaxError("Unexpected token: ".concat(t.type))}}for(;n<e.length;)t.body.push(r());return t}function zT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===t&&(t=e,e=0);const a=[];for(let r=e;r<t;r+=n)a.push(r);return a}function PT(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=Math.sign(a);r>=0?(t=(null!==t&&void 0!==t?t:t=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),n=(null!==n&&void 0!==n?n:n=e.length)<0?Math.max(e.length+n,0):Math.min(n,e.length)):(t=(null!==t&&void 0!==t?t:t=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),n=(null!==n&&void 0!==n?n:n=-1)<-1?Math.max(e.length+n,-1):Math.min(n,e.length-1));const i=[];for(let o=t;r*o<r*n;o+=a)i.push(e[o]);return i}function NT(e){return e.replace(/\b\w/g,(e=>e.toUpperCase()))}var OT=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;l(this,"type","RuntimeValue"),l(this,"value",void 0),l(this,"builtins",new Map),this.value=e}__bool__(){return new RT(!!this.value)}},BT=class extends OT{constructor(){super(...arguments),l(this,"type","NumericValue")}},LT=class extends OT{constructor(){super(...arguments),l(this,"type","StringValue"),l(this,"builtins",new Map([["upper",new UT((()=>new LT(this.value.toUpperCase())))],["lower",new UT((()=>new LT(this.value.toLowerCase())))],["strip",new UT((()=>new LT(this.value.trim())))],["title",new UT((()=>new LT(NT(this.value))))],["length",new BT(this.value.length)]]))}},RT=class extends OT{constructor(){super(...arguments),l(this,"type","BooleanValue")}},jT=class extends OT{constructor(){super(...arguments),l(this,"type","ObjectValue"),l(this,"builtins",new Map([["get",new UT((e=>{var t,n;let[a,r]=e;if(!(a instanceof LT))throw new Error("Object key must be a string: got ".concat(a.type));return null!==(t=null!==(n=this.value.get(a.value))&&void 0!==n?n:r)&&void 0!==t?t:new GT}))],["items",new UT((()=>new VT(Array.from(this.value.entries()).map((e=>{let[t,n]=e;return new VT([new LT(t),n])})))))]]))}__bool__(){return new RT(this.value.size>0)}},VT=class extends OT{constructor(){super(...arguments),l(this,"type","ArrayValue"),l(this,"builtins",new Map([["length",new BT(this.value.length)]]))}__bool__(){return new RT(this.value.length>0)}},qT=class extends VT{constructor(){super(...arguments),l(this,"type","TupleValue")}},UT=class extends OT{constructor(){super(...arguments),l(this,"type","FunctionValue")}},GT=class extends OT{constructor(){super(...arguments),l(this,"type","NullValue")}},HT=class extends OT{constructor(){super(...arguments),l(this,"type","UndefinedValue")}},WT=class{constructor(e){l(this,"variables",new Map([["namespace",new UT((e=>{if(0===e.length)return new jT(new Map);if(1!==e.length||!(e[0]instanceof jT))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]}))]])),l(this,"tests",new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof UT],["odd",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "odd" to type: '.concat(e.type));return e.value%2!==0}],["even",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "even" to type: '.concat(e.type));return e.value%2===0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["number",e=>"NumericValue"===e.type],["integer",e=>"NumericValue"===e.type&&Number.isInteger(e.value)],["iterable",e=>e instanceof VT||e instanceof LT],["lower",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value]])),this.parent=e}set(e,t){return this.declareVariable(e,YT(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError("Variable already declared: ".concat(e));return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error("Unknown variable: ".concat(e))}lookupVariable(e){try{var t;return null!==(t=this.resolve(e).variables.get(e))&&void 0!==t?t:new HT}catch(n){return new HT}}},KT=class{constructor(e){l(this,"global",void 0),this.global=null!==e&&void 0!==e?e:new WT}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const n=this.evaluate(e.left,t);switch(e.operator.value){case"and":return n.__bool__().value?this.evaluate(e.right,t):n;case"or":return n.__bool__().value?n:this.evaluate(e.right,t)}const a=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new RT(n.value==a.value);case"!=":return new RT(n.value!=a.value)}if(n instanceof HT||a instanceof HT)throw new Error("Cannot perform operation on undefined values");if(n instanceof GT||a instanceof GT)throw new Error("Cannot perform operation on null values");if(n instanceof BT&&a instanceof BT)switch(e.operator.value){case"+":return new BT(n.value+a.value);case"-":return new BT(n.value-a.value);case"*":return new BT(n.value*a.value);case"/":return new BT(n.value/a.value);case"%":return new BT(n.value%a.value);case"<":return new RT(n.value<a.value);case">":return new RT(n.value>a.value);case">=":return new RT(n.value>=a.value);case"<=":return new RT(n.value<=a.value)}else if(n instanceof VT&&a instanceof VT){if("+"===e.operator.value)return new VT(n.value.concat(a.value))}else if(a instanceof VT){const t=void 0!==a.value.find((e=>e.value===n.value));switch(e.operator.value){case"in":return new RT(t);case"not in":return new RT(!t)}}if((n instanceof LT||a instanceof LT)&&"+"===e.operator.value)return new LT(n.value.toString()+a.value.toString());if(n instanceof LT&&a instanceof LT)switch(e.operator.value){case"in":return new RT(a.value.includes(n.value));case"not in":return new RT(!a.value.includes(n.value))}if(n instanceof LT&&a instanceof jT)switch(e.operator.value){case"in":return new RT(a.value.has(n.value));case"not in":return new RT(!a.value.has(n.value))}throw new SyntaxError('Unknown operator "'.concat(e.operator.value,'" between ').concat(n.type," and ").concat(a.type))}evaluateFilterExpression(e,t){const n=this.evaluate(e.operand,t);if("Identifier"===e.filter.type){const t=e.filter;if(n instanceof VT)switch(t.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new BT(n.value.length);case"reverse":return new VT(n.value.reverse());case"sort":return new VT(n.value.sort(((e,t)=>{if(e.type!==t.type)throw new Error("Cannot compare different types: ".concat(e.type," and ").concat(t.type));switch(e.type){case"NumericValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw new Error("Cannot compare type: ".concat(e.type))}})));default:throw new Error("Unknown ArrayValue filter: ".concat(t.value))}else if(n instanceof LT)switch(t.value){case"length":return new BT(n.value.length);case"upper":return new LT(n.value.toUpperCase());case"lower":return new LT(n.value.toLowerCase());case"title":return new LT(NT(n.value));case"capitalize":return new LT(n.value.charAt(0).toUpperCase()+n.value.slice(1));case"trim":return new LT(n.value.trim());default:throw new Error("Unknown StringValue filter: ".concat(t.value))}else{if(n instanceof BT){if("abs"===t.value)return new BT(Math.abs(n.value));throw new Error("Unknown NumericValue filter: ".concat(t.value))}if(n instanceof jT)switch(t.value){case"items":return new VT(Array.from(n.value.entries()).map((e=>{let[t,n]=e;return new VT([new LT(t),n])})));case"length":return new BT(n.value.size);default:throw new Error("Unknown ObjectValue filter: ".concat(t.value))}}throw new Error('Cannot apply filter "'.concat(t.value,'" to type: ').concat(n.type))}if("CallExpression"===e.filter.type){const a=e.filter;if("Identifier"!==a.callee.type)throw new Error("Unknown filter: ".concat(a.callee.type));const r=a.callee.value;if(n instanceof VT){if("selectattr"===r){if(n.value.some((e=>!(e instanceof jT))))throw new Error("`selectattr` can only be applied to array of objects");if(a.args.some((e=>"StringLiteral"!==e.type)))throw new Error("arguments of `selectattr` must be strings");const[e,r,i]=a.args.map((e=>this.evaluate(e,t)));let o;if(r){const e=t.tests.get(r.value);if(!e)throw new Error("Unknown test: ".concat(r.value));o=e}else o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].__bool__().value};const s=n.value.filter((t=>{const n=t.value.get(e.value);return!!n&&o(n,i)}));return new VT(s)}throw new Error("Unknown ArrayValue filter: ".concat(r))}throw new Error('Cannot apply filter "'.concat(r,'" to type: ').concat(n.type))}throw new Error("Unknown filter: ".concat(e.filter.type))}evaluateTestExpression(e,t){const n=this.evaluate(e.operand,t),a=t.tests.get(e.test.value);if(!a)throw new Error("Unknown test: ".concat(e.test.value));const r=a(n);return new RT(e.negate?!r:r)}evaluateUnaryExpression(e,t){const n=this.evaluate(e.argument,t);if("not"===e.operator.value)return new RT(!n.value);throw new SyntaxError("Unknown operator: ".concat(e.operator.value))}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let n="";for(const a of e){const e=this.evaluate(a,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(n+=e.value)}return new LT(n)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const n=[],a=new Map;for(const i of e.args)if("KeywordArgumentExpression"===i.type){const e=i;a.set(e.key.value,this.evaluate(e.value,t))}else n.push(this.evaluate(i,t));a.size>0&&n.push(new jT(a));const r=this.evaluate(e.callee,t);if("FunctionValue"!==r.type)throw new Error("Cannot call something that is not a function: got ".concat(r.type));return r.value(n,t)}evaluateSliceExpression(e,t,n){if(!(e instanceof VT||e instanceof LT))throw new Error("Slice object must be an array or string");const a=this.evaluate(t.start,n),r=this.evaluate(t.stop,n),i=this.evaluate(t.step,n);if(!(a instanceof BT||a instanceof HT))throw new Error("Slice start must be numeric or undefined");if(!(r instanceof BT||r instanceof HT))throw new Error("Slice stop must be numeric or undefined");if(!(i instanceof BT||i instanceof HT))throw new Error("Slice step must be numeric or undefined");return e instanceof VT?new VT(PT(e.value,a.value,r.value,i.value)):new LT(PT(Array.from(e.value),a.value,r.value,i.value).join(""))}evaluateMemberExpression(e,t){const n=this.evaluate(e.object,t);let a,r;if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(n,e.property,t);a=this.evaluate(e.property,t)}else a=new LT(e.property.value);if(n instanceof jT){var i;if(!(a instanceof LT))throw new Error("Cannot access property with non-string: got ".concat(a.type));r=null!==(i=n.value.get(a.value))&&void 0!==i?i:n.builtins.get(a.value)}else if(n instanceof VT||n instanceof LT)if(a instanceof BT)r=n.value.at(a.value),n instanceof LT&&(r=new LT(n.value.at(a.value)));else{if(!(a instanceof LT))throw new Error("Cannot access property with non-string/non-number: got ".concat(a.type));r=n.builtins.get(a.value)}else{if(!(a instanceof LT))throw new Error("Cannot access property with non-string: got ".concat(a.type));r=n.builtins.get(a.value)}return r instanceof OT?r:new HT}evaluateSet(e,t){const n=this.evaluate(e.value,t);if("Identifier"===e.assignee.type){const a=e.assignee.value;t.setVariable(a,n)}else{if("MemberExpression"!==e.assignee.type)throw new Error("Invalid LHS inside assignment expression: ".concat(JSON.stringify(e.assignee)));{const a=e.assignee,r=this.evaluate(a.object,t);if(!(r instanceof jT))throw new Error("Cannot assign to member of non-object");if("Identifier"!==a.property.type)throw new Error("Cannot assign to member with non-identifier property");r.value.set(a.property.value,n)}}return new GT}evaluateIf(e,t){const n=this.evaluate(e.test,t);return this.evaluateBlock(n.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const n=new WT(t),a=this.evaluate(e.iterable,n);if(!(a instanceof VT))throw new Error("Expected iterable type in for loop: got ".concat(a.type));let r="";for(let i=0;i<a.value.length;++i){const t=new Map([["index",new BT(i+1)],["index0",new BT(i)],["revindex",new BT(a.value.length-i)],["revindex0",new BT(a.value.length-i-1)],["first",new RT(0===i)],["last",new RT(i===a.value.length-1)],["length",new BT(a.value.length)],["previtem",i>0?a.value[i-1]:new HT],["nextitem",i<a.value.length-1?a.value[i+1]:new HT]]);n.setVariable("loop",new jT(t));const o=a.value[i];if("Identifier"===e.loopvar.type)n.setVariable(e.loopvar.value,o);else if("TupleLiteral"===e.loopvar.type){const t=e.loopvar;if("ArrayValue"!==o.type)throw new Error("Cannot unpack non-iterable type: ".concat(o.type));const a=o;if(t.value.length!==a.value.length)throw new Error("Too ".concat(t.value.length>a.value.length?"few":"many"," items to unpack"));for(let e=0;e<t.value.length;++e){if("Identifier"!==t.value[e].type)throw new Error("Cannot unpack non-identifier type: ".concat(t.value[e].type));n.setVariable(t.value[e].value,a.value[e])}}r+=this.evaluateBlock(e.body,n).value}return new LT(r)}evaluate(e,t){if(void 0===e)return new HT;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"NumericLiteral":return new BT(Number(e.value));case"StringLiteral":return new LT(e.value);case"BooleanLiteral":return new RT(e.value);case"ArrayLiteral":return new VT(e.value.map((e=>this.evaluate(e,t))));case"TupleLiteral":return new qT(e.value.map((e=>this.evaluate(e,t))));case"ObjectLiteral":{const n=new Map;for(const[a,r]of e.value){const e=this.evaluate(a,t);if(!(e instanceof LT))throw new Error("Object keys must be strings: got ".concat(e.type));n.set(e.value,this.evaluate(r,t))}return new jT(n)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);default:throw new SyntaxError("Unknown node type: ".concat(e.type))}}};function YT(e){switch(typeof e){case"number":return new BT(e);case"string":return new LT(e);case"boolean":return new RT(e);case"object":return null===e?new GT:Array.isArray(e)?new VT(e.map(YT)):new jT(new Map(Object.entries(e).map((e=>{let[t,n]=e;return[t,YT(n)]}))));case"function":return new UT(((t,n)=>{var a;const r=null!==(a=e(...t.map((e=>e.value))))&&void 0!==a?a:null;return YT(r)}));default:throw new Error("Cannot convert to runtime value: ".concat(e))}}var JT=class{constructor(e){l(this,"parsed",void 0);const t=function(e){const t=[],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.endsWith("\n")&&(e=e.slice(0,-1)),e=e.replace(/{#[^]*?#}/g,"{##}"),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%]})\n/g,"$1")),e.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let a=0;const r=e=>{let t="";for(;e(n[a]);)if("\\"!==n[a]){if(t+=n[a++],a>=n.length)throw new SyntaxError("Unexpected end of input")}else{if(++a,a>=n.length)throw new SyntaxError("Unexpected end of input");const e=n[a++],r=cT.get(e);if(void 0===r)throw new SyntaxError("Unexpected escaped character: ".concat(e));t+=r}return t};e:for(;a<n.length;){var i;const e=null===(i=t.at(-1))||void 0===i?void 0:i.type;if(void 0===e||e===aT.CloseStatement||e===aT.CloseExpression){let e="";for(;a<n.length&&("{"!==n[a]||"%"!==n[a+1]&&"{"!==n[a+1]);)e+=n[a++];if(e.length>0){t.push(new iT(e,aT.Text));continue}}r((e=>/\s/.test(e)));const l=n[a];if("-"===l||"+"===l){var o;const e=null===(o=t.at(-1))||void 0===o?void 0:o.type;if(e===aT.Text||void 0===e)throw new SyntaxError("Unexpected character: ".concat(l));switch(e){case aT.Identifier:case aT.NumericLiteral:case aT.BooleanLiteral:case aT.StringLiteral:case aT.CloseParen:case aT.CloseSquareBracket:break;default:{++a;const e=r(sT);t.push(new iT("".concat(l).concat(e),e.length>0?aT.NumericLiteral:aT.UnaryOperator));continue}}}for(const[r,i]of lT)if(n.slice(a,a+r.length)===r){t.push(new iT(r,i)),a+=r.length;continue e}if("'"!==l&&'"'!==l)if(sT(l)){const e=r(sT);t.push(new iT(e,aT.NumericLiteral))}else{if(!oT(l))throw new SyntaxError("Unexpected character: ".concat(l));{var s;const e=r(oT),n=Object.hasOwn(rT,e)?rT[e]:aT.Identifier;n===aT.In&&(null===(s=t.at(-1))||void 0===s?void 0:s.type)===aT.Not?(t.pop(),t.push(new iT("not in",aT.NotIn))):t.push(new iT(e,n))}}else{++a;const e=r((e=>e!==l));t.push(new iT(e,aT.StringLiteral)),++a}}return t}(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=IT(t)}render(e){const t=new WT;t.set("false",!1),t.set("true",!0),t.set("raise_exception",(e=>{throw new Error(e)})),t.set("range",zT);for(const[n,a]of Object.entries(e))t.set(n,a);return new KT(t).run(this.parsed).value}};const ZT=["chat_template","add_generation_prompt","tokenize","padding","truncation","max_length","return_tensor","tokenizer_kwargs"];async function XT(e,t){const n=await Promise.all([Ck(e,"tokenizer.json",!0,t),Ck(e,"tokenizer_config.json",!0,t)]);return null!==t.legacy&&(n[1].legacy=t.legacy),n}function $T(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==e.Regex){let t=e.Regex.replace(/\\([#&~])/g,"$1");for(const[e,n]of rD)t=t.replaceAll(e,n);return new RegExp(t,"gu")}if(void 0!==e.String){const n=Vx(e.String);return new RegExp(t?n:"(".concat(n,")"),"gu")}return console.warn("Unknown pattern type:",e),null}function QT(e){return new Map(Object.entries(e))}function eD(e){const t=e.dims;switch(t.length){case 1:return e.tolist();case 2:if(1!==t[0])throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return e.tolist()[0];default:throw new Error("Expected tensor to have 1-2 dimensions, got ".concat(t.length,"."))}}function tD(e){return e.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function nD(e){return e.replace(/[\u0300-\u036f]/g,"")}const aD="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",rD=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"]]);class iD{constructor(e){var t,n,a,r,i;this.content=e.content,this.id=e.id,this.single_word=null!==(t=e.single_word)&&void 0!==t&&t,this.lstrip=null!==(n=e.lstrip)&&void 0!==n&&n,this.rstrip=null!==(a=e.rstrip)&&void 0!==a&&a,this.special=null!==(r=e.special)&&void 0!==r&&r,this.normalized=null!==(i=e.normalized)&&void 0!==i?i:null}}class oD extends qx{constructor(e){var t;super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=null!==(t=this.config.fuse_unk)&&void 0!==t&&t}static fromConfig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];switch(e.type){case"WordPiece":return new sD(e);case"Unigram":return new lD(e,...n);case"BPE":return new dD(e);default:if(e.vocab)return new hD(e,...n);throw new Error("Unknown TokenizerModel type: ".concat(e.type))}}_call(e){let t=this.encode(e);return this.fuse_unk&&(t=function(e,t,n){const a=[];let r=0;for(;r<e.length;){var i;if(a.push(e[r]),(null!==(i=n.get(e[r]))&&void 0!==i?i:t)===t)for(;r<e.length&&(null!==(o=n.get(e[r]))&&void 0!==o?o:t)===t;){var o;++r}else++r}return a}(t,this.unk_token_id,this.tokens_to_ids)),t}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map((e=>{var t;return null!==(t=this.tokens_to_ids.get(e))&&void 0!==t?t:this.unk_token_id}))}convert_ids_to_tokens(e){return e.map((e=>{var t;return null!==(t=this.vocab[e])&&void 0!==t?t:this.unk_token}))}}class sD extends oD{constructor(e){var t;super(e),this.tokens_to_ids=QT(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=null!==(t=e.max_input_chars_per_word)&&void 0!==t?t:100,this.vocab=new Array(this.tokens_to_ids.size);for(const[n,a]of this.tokens_to_ids)this.vocab[a]=n}encode(e){const t=[];for(const n of e){const e=[...n];if(e.length>this.max_input_chars_per_word){t.push(this.unk_token);continue}let a=!1,r=0;const i=[];for(;r<e.length;){let t=e.length,n=null;for(;r<t;){let a=e.slice(r,t).join("");if(r>0&&(a=this.config.continuing_subword_prefix+a),this.tokens_to_ids.has(a)){n=a;break}--t}if(null===n){a=!0;break}i.push(n),r=t}a?t.push(this.unk_token):t.push(...i)}return t}}class lD extends oD{constructor(e,t){super(e);const n=e.vocab.length;this.vocab=new Array(n),this.scores=new Array(n);for(let a=0;a<n;++a){const t=e.vocab[a];this.vocab[a]=t[0],this.scores[a]=t[1]}this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map(((e,t)=>[e,t]))),this.bosToken=" ",this.bosTokenId=this.tokens_to_ids.get(this.bosToken),this.eosToken=t.eos_token,this.eosTokenId=this.tokens_to_ids.get(this.eosToken),this.unkToken=this.vocab[this.unk_token_id],this.minScore=Mk(this.scores)[0],this.unkScore=this.minScore-10,this.scores[this.unk_token_id]=this.unkScore,this.trie=new Qk,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const t=e.sentence,n=t.length;let a=0;for(;a<n;){const n=1;let r=!1;const i=[];for(let o of this.trie.commonPrefixSearch(t.slice(a))){i.push(o);const t=this.tokens_to_ids.get(o),s=this.scores[t],l=o.length;e.insert(a,l,s,t),r||l!==n||(r=!0)}r||e.insert(a,n,this.unkScore,this.unk_token_id),a+=n}}tokenize(e){const t=new tT(e,this.bosTokenId,this.eosTokenId);return this.populateNodes(t),t.tokens()}encode(e){const t=[];for(const n of e){const e=this.tokenize(n);t.push(...e)}return t}}const cD=(()=>{const e=[...Array.from({length:"~".charCodeAt(0)-"!".charCodeAt(0)+1},((e,t)=>t+"!".charCodeAt(0))),...Array.from({length:"\xac".charCodeAt(0)-"\xa1".charCodeAt(0)+1},((e,t)=>t+"\xa1".charCodeAt(0))),...Array.from({length:"\xff".charCodeAt(0)-"\xae".charCodeAt(0)+1},((e,t)=>t+"\xae".charCodeAt(0)))],t=e.slice();let n=0;for(let r=0;r<256;++r)e.includes(r)||(e.push(r),t.push(256+n),n+=1);const a=t.map((e=>String.fromCharCode(e)));return Object.fromEntries(e.map(((e,t)=>[e,a[t]])))})(),uD=function(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[n,t]})))}(cD);class dD extends oD{constructor(e){var t,n,a;super(e),this.BPE_SPLIT_TOKEN=" ",this.tokens_to_ids=QT(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[r,i]of this.tokens_to_ids)this.vocab[i]=r;this.bpe_ranks=new Map(e.merges.map(((e,t)=>[e,t]))),this.merges=e.merges.map((e=>e.split(this.BPE_SPLIT_TOKEN))),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=null!==(t=e.continuing_subword_suffix)&&void 0!==t?t:null,this.byte_fallback=null!==(n=this.config.byte_fallback)&&void 0!==n&&n,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=null!==(a=this.config.ignore_merges)&&void 0!==a&&a,this.cache=new Map}bpe(e){if(0===e.length)return[];const t=this.cache.get(e);if(void 0!==t)return t;const n=Array.from(e);this.end_of_word_suffix&&(n[n.length-1]+=this.end_of_word_suffix);let a=[];if(n.length>1){const e=new $k(((e,t)=>e.score<t.score));let t={token:n[0],bias:0,prev:null,next:null},r=t;for(let a=1;a<n.length;++a){const t={bias:a/n.length,token:n[a],prev:r,next:null};r.next=t,this._add_node(e,r),r=t}for(;!e.isEmpty();){const n=e.pop();if(n.deleted||!n.next||n.next.deleted)continue;if(n.deleted=!0,n.next.deleted=!0,n.prev){const e=u({},n.prev);n.prev.deleted=!0,n.prev=e,e.prev?e.prev.next=e:t=e}const a={token:n.token+n.next.token,bias:n.bias,prev:n.prev,next:n.next.next};a.prev?(a.prev.next=a,this._add_node(e,a.prev)):t=a,a.next&&(a.next.prev=a,this._add_node(e,a))}for(let n=t;null!==n;n=n.next)a.push(n.token)}else a=n;if(this.continuing_subword_suffix)for(let r=0;r<a.length-1;++r)a[r]+=this.continuing_subword_suffix;return this.cache.set(e,a),a}_add_node(e,t){const n=this.bpe_ranks.get(t.token+this.BPE_SPLIT_TOKEN+t.next.token);void 0!==n&&(t.score=n+t.bias,e.push(t))}encode(e){const t=[];for(const n of e){if(this.ignore_merges&&this.tokens_to_ids.has(n)){t.push(n);continue}const e=this.bpe(n);for(const n of e)this.tokens_to_ids.has(n)?t.push(n):this.byte_fallback?t.push(...Array.from(this.text_encoder.encode(n)).map((e=>"<0x".concat(e.toString(16).toUpperCase().padStart(2,"0"),">")))):t.push(this.unk_token)}return t}}class hD extends oD{constructor(e,t){super(e),this.tokens_to_ids=QT(t.target_lang?e.vocab[t.target_lang]:e.vocab),this.bos_token=t.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=t.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=t.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[n,a]of this.tokens_to_ids)this.vocab[a]=n}encode(e){return e}}class pD extends qx{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"BertNormalizer":return new kD(e);case"Precompiled":return new JD(e);case"Sequence":return new xD(e);case"Replace":return new fD(e);case"NFC":return new mD(e);case"NFKC":return new gD(e);case"NFKD":return new yD(e);case"Strip":return new bD(e);case"StripAccents":return new vD(e);case"Lowercase":return new wD(e);case"Prepend":return new _D(e);default:throw new Error("Unknown Normalizer type: ".concat(e.type))}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class fD extends pD{normalize(e){const t=$T(this.config.pattern);return null===t?e:e.replaceAll(t,this.config.content)}}class mD extends pD{normalize(e){return e=e.normalize("NFC")}}class gD extends pD{normalize(e){return e=e.normalize("NFKC")}}class yD extends pD{normalize(e){return e=e.normalize("NFKD")}}class bD extends pD{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class vD extends pD{normalize(e){return e=nD(e)}}class wD extends pD{normalize(e){return e=e.toLowerCase()}}class _D extends pD{normalize(e){return e=this.config.prepend+e}}class xD extends pD{constructor(e){super(e),this.normalizers=e.normalizers.map((e=>pD.fromConfig(e)))}normalize(e){return this.normalizers.reduce(((e,t)=>t.normalize(e)),e)}}class kD extends pD{_tokenize_chinese_chars(e){const t=[];for(let n=0;n<e.length;++n){const a=e[n],r=a.charCodeAt(0);this._is_chinese_char(r)?(t.push(" "),t.push(a),t.push(" ")):t.push(a)}return t.join("")}_is_chinese_char(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}stripAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}_is_control(e){switch(e){case"\t":case"\n":case"\r":return!1;default:return/^[\0-\x1F\x7F-\x9F]|(?:[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F])|(?:[\uE000-\uF8FF]|[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD])|(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])$/.test(e)}}_clean_text(e){const t=[];for(const n of e){const e=n.charCodeAt(0);0===e||65533===e||this._is_control(n)||(/^\s$/.test(n)?t.push(" "):t.push(n))}return t.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),!1!==this.config.strip_accents&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class TD extends qx{static fromConfig(e){if(null===e)return null;switch(e.type){case"BertPreTokenizer":return new DD(e);case"Sequence":return new ZD(e);case"Whitespace":return new XD(e);case"WhitespaceSplit":return new $D(e);case"Metaspace":return new KD(e);case"ByteLevel":return new AD(e);case"Split":return new CD(e);case"Punctuation":return new SD(e);case"Digits":return new ED(e);case"Replace":return new QD(e);default:throw new Error("Unknown PreTokenizer type: ".concat(e.type))}}pre_tokenize_text(e,t){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,t){return(Array.isArray(e)?e.map((e=>this.pre_tokenize_text(e,t))):this.pre_tokenize_text(e,t)).flat()}_call(e,t){return this.pre_tokenize(e,t)}}class DD extends TD{constructor(e){super(),this.pattern=new RegExp("[^\\s".concat(aD,"]+|[").concat(aD,"]"),"gu")}pre_tokenize_text(e,t){return e.trim().match(this.pattern)||[]}}class AD extends TD{constructor(e){var t;super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=null===(t=this.config.use_regex)||void 0===t||t,this.pattern=/'s|'t|'re|'ve|'m|'ll|'d| ?(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])+| ?(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDD40-\uDD49\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDED0-\uDEE3\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59\uDFF0-\uDFF9]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD818[\uDD30-\uDD39]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDD70-\uDD79\uDE80-\uDE96]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9\uDDF1-\uDDFA]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+| ?(?:[\0-\x08\x0E-\x1F!-\/:-@\[-`\{-\x9F\xA1-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C8B-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u2FFF\u3001-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u3191\u3196-\u319F\u31C0-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7CE\uA7CF\uA7D2\uA7D4\uA7DD-\uA7F1\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD\uFEFE\uFF00-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDBF\uDDF4-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE3F\uDE49-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD24-\uDD2F\uDD3A-\uDD3F\uDD66-\uDD6E\uDD86-\uDE5F\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEC1\uDEC5-\uDEFF\uDF28-\uDF2F\uDF46-\uDF50\uDF55-\uDF6F\uDF82-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDF7F\uDF8A\uDF8C\uDF8D\uDF8F\uDFB6\uDFB8-\uDFD0\uDFD2\uDFD4-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEBF\uDECA-\uDECF\uDEE4-\uDEFF\uDF1B-\uDF2F\uDF3C-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFBF\uDFE1-\uDFEF\uDFFA-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDF4F\uDF5A-\uDFAF\uDFB1-\uDFBF\uDFD5-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD812-\uD817\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD836\uD83D\uD83F\uD87C\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDC5F]|\uD810[\uDFFB-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD818[\uDC00-\uDCFF\uDD1E-\uDD2F\uDD3A-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6F\uDEBF\uDECA-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDD3F\uDD6D-\uDD6F\uDD7A-\uDE3F\uDE97-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFE\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD833[\uDC00-\uDCEF\uDCFA-\uDFFF]|\uD834[\uDC00-\uDEBF\uDED4-\uDEDF\uDEF4-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDEEF\uDEFA-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDCEF\uDCFA-\uDDCF\uDDEE\uDDEF\uDDFB-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4A\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCAC\uDCB0\uDCB5-\uDD00\uDD2E\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFEF]|\uD87B[\uDE5E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(?!(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g,this.byte_encoder=cD,this.text_encoder=new TextEncoder}pre_tokenize_text(e,t){this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e);return(this.use_regex?e.match(this.pattern)||[]:[e]).map((e=>Array.from(this.text_encoder.encode(e),(e=>this.byte_encoder[e])).join("")))}}class CD extends TD{constructor(e){super(),this.config=e,this.pattern=$T(this.config.pattern,this.config.invert)}pre_tokenize_text(e,t){return null===this.pattern?[]:this.config.invert?e.match(this.pattern)||[]:function(e,t){const n=[];let a=0;for(const r of e.matchAll(t)){const t=r[0];a<r.index&&n.push(e.slice(a,r.index)),t.length>0&&n.push(t),a=r.index+t.length}return a<e.length&&n.push(e.slice(a)),n}(e,this.pattern)}}class SD extends TD{constructor(e){super(),this.config=e,this.pattern=new RegExp("[^".concat(aD,"]+|[").concat(aD,"]+"),"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class ED extends TD{constructor(e){super(),this.config=e;const t="[^\\d]+|\\d".concat(this.config.individual_digits?"":"+");this.pattern=new RegExp(t,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class FD extends qx{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"TemplateProcessing":return new zD(e);case"ByteLevel":return new PD(e);case"RobertaProcessing":return new ID(e);case"BertProcessing":return new MD(e);case"Sequence":return new ND(e);default:throw new Error("Unknown PostProcessor type: ".concat(e.type))}}post_process(e){throw Error("post_process should be implemented in subclass.")}_call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this.post_process(e,...n)}}class MD extends FD{constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n&&(e=Wx([this.cls],e,[this.sep]));let a=new Array(e.length).fill(0);if(null!==t){const r=n&&this instanceof ID?[this.sep]:[],i=n?[this.sep]:[];e=Wx(e,r,t,i),a=Wx(a,new Array(t.length+r.length+i.length).fill(1))}return{tokens:e,token_type_ids:a}}}class ID extends MD{}class zD extends FD{constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=null===t?this.single:this.pair;let r=[],i=[];for(const o of a)"SpecialToken"in o?n&&(r.push(o.SpecialToken.id),i.push(o.SpecialToken.type_id)):"Sequence"in o&&("A"===o.Sequence.id?(r=Wx(r,e),i=Wx(i,new Array(e.length).fill(o.Sequence.type_id))):"B"===o.Sequence.id&&(r=Wx(r,t),i=Wx(i,new Array(t.length).fill(o.Sequence.type_id))));return{tokens:r,token_type_ids:i}}}class PD extends FD{post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&(e=Wx(e,t)),{tokens:e}}}class ND extends FD{constructor(e){super(e),this.processors=e.processors.map((e=>FD.fromConfig(e)))}post_process(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const r of this.processors)if(r instanceof PD){if(e=r.post_process(e).tokens,n){n=r.post_process(n).tokens}}else{const i=r.post_process(e,n,a);e=i.tokens,t=i.token_type_ids}return{tokens:e,token_type_ids:t}}}class OD extends qx{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(null===e)return null;switch(e.type){case"WordPiece":return new VD(e);case"Metaspace":return new YD(e);case"ByteLevel":return new qD(e);case"Replace":return new BD(e);case"ByteFallback":return new LD(e);case"Fuse":return new RD(e);case"Strip":return new jD(e);case"Sequence":return new GD(e);case"CTC":return new UD(e);case"BPEDecoder":return new HD(e);default:throw new Error("Unknown Decoder type: ".concat(e.type))}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class BD extends OD{decode_chain(e){const t=$T(this.config.pattern);return null===t?e:e.map((e=>e.replaceAll(t,this.config.content)))}}class LD extends OD{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const t=[];let n=[];for(const a of e){let e=null;if(6===a.length&&a.startsWith("<0x")&&a.endsWith(">")){const t=parseInt(a.slice(3,5),16);isNaN(t)||(e=t)}if(null!==e)n.push(e);else{if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}t.push(a)}}if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}return t}}class RD extends OD{decode_chain(e){return[e.join("")]}}class jD extends OD{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map((e=>{let t=0;for(let a=0;a<this.start&&e[a]===this.content;++a)t=a+1;let n=e.length;for(let a=0;a<this.stop;++a){const t=e.length-a-1;if(e[t]!==this.content)break;n=t}return e.slice(t,n)}))}}class VD extends OD{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map(((e,t)=>(0!==t&&(e=e.startsWith(this.config.prefix)?e.replace(this.config.prefix,""):" "+e),this.cleanup&&(e=tD(e)),e)))}}class qD extends OD{constructor(e){super(e),this.byte_decoder=uD,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const t=e.join(""),n=new Uint8Array([...t].map((e=>this.byte_decoder[e])));return this.text_decoder.decode(n)}decode_chain(e){const t=[];let n=[];for(const a of e)void 0!==this.added_tokens.find((e=>e.content===a))?(n.length>0&&(t.push(this.convert_tokens_to_string(n)),n=[]),t.push(a)):n.push(a);return n.length>0&&t.push(this.convert_tokens_to_string(n)),t}}class UD extends OD{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(0===e.length)return"";const t=[e[0]];for(let r=1;r<e.length;++r)e[r]!==t.at(-1)&&t.push(e[r]);const n=t.filter((e=>e!==this.pad_token));let a=n.join("");return this.cleanup&&(a=tD(a).replaceAll(this.word_delimiter_token," ").trim()),a}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class GD extends OD{constructor(e){super(e),this.decoders=e.decoders.map((e=>OD.fromConfig(e)))}decode_chain(e){return this.decoders.reduce(((e,t)=>t.decode_chain(e)),e)}}class HD extends OD{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map(((t,n)=>t.replaceAll(this.suffix,n===e.length-1?"":" ")))}}class WD extends OD{decode_chain(e){let t="";for(let n=1;n<e.length;n+=2)t+=e[n];return[t]}}class KD extends TD{constructor(e){var t;super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=null!==(t=e.prepend_scheme)&&void 0!==t?t:"always"}pre_tokenize_text(e){let{section_index:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!n.startsWith(this.replacement)&&("always"===this.prepend_scheme||"first"===this.prepend_scheme&&0===t)&&(n=this.strRep+n),[n]}}class YD extends OD{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const t=[];for(let n=0;n<e.length;++n){let a=e[n].replaceAll(this.replacement," ");this.addPrefixSpace&&0==n&&a.startsWith(" ")&&(a=a.substring(1)),t.push(a)}return t}}class JD extends pD{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){if((e=(e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,"")).replace(/[\u0009\u000A\u000C\u000D\u1680\u200B\u200C\u200E\u200F\u2028\u2029\u2581\uFEFF\uFFFD]/gm," ")).includes("\uff5e")){const t=e.split("\uff5e");e=t.map((e=>e.normalize("NFKC"))).join("\uff5e")}else e=e.normalize("NFKC");return e}}class ZD extends TD{constructor(e){super(),this.tokenizers=e.pretokenizers.map((e=>TD.fromConfig(e)))}pre_tokenize_text(e,t){return this.tokenizers.reduce(((e,n)=>n.pre_tokenize(e,t)),[e])}}class XD extends TD{constructor(e){super()}pre_tokenize_text(e,t){return e.match(/\w+|[^\w\s]+/g)||[]}}class $D extends TD{constructor(e){super()}pre_tokenize_text(e,t){return function(e){return e.match(/\S+/g)||[]}(e)}}class QD extends TD{constructor(e){super(),this.config=e,this.pattern=$T(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,t){return null===this.pattern?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const eA=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function tA(e,t,n,a){for(const r of Object.keys(e)){const i=t-e[r].length,o=n(r),s=new Array(i).fill(o);e[r]="right"===a?Wx(e[r],s):Wx(s,e[r])}}function nA(e,t){for(const n of Object.keys(e))e[n].length=t}class aA extends qx{constructor(e,t){var n,a,r,i;super(),l(this,"return_token_type_ids",!1),l(this,"_default_chat_template","{% for message in messages %}{{'<|im_start|>' + message['role'] + '\n' + message['content'] + '<|im_end|>' + '\n'}}{% endfor %}{% if add_generation_prompt %}{{ '<|im_start|>assistant\n' }}{% endif %}"),this._tokenizer_config=t,this.normalizer=pD.fromConfig(e.normalizer),this.pre_tokenizer=TD.fromConfig(e.pre_tokenizer),this.model=oD.fromConfig(e.model,t),this.post_processor=FD.fromConfig(e.post_processor),this.decoder=OD.fromConfig(e.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const o of e.added_tokens){const e=new iD(o);this.added_tokens.push(e),this.model.tokens_to_ids.set(e.content,e.id),this.model.vocab[e.id]=e.content,e.special&&(this.special_tokens.push(e.content),this.all_special_ids.push(e.id))}if(this.additional_special_tokens=null!==(n=t.additional_special_tokens)&&void 0!==n?n:[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_regex=this.added_tokens.length>0?new RegExp(this.added_tokens.map((e=>"".concat(e.lstrip?"\\s*":"","(").concat(Vx(e.content),")").concat(e.rstrip?"\\s*":""))).join("|")):null,this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.model_max_length=t.model_max_length,this.remove_space=t.remove_space,this.clean_up_tokenization_spaces=null===(a=t.clean_up_tokenization_spaces)||void 0===a||a,this.do_lowercase_and_remove_accent=null!==(r=t.do_lowercase_and_remove_accent)&&void 0!==r&&r,this.padding_side="right",this.legacy=!1,this.chat_template=null!==(i=t.chat_template)&&void 0!==i?i:null,Array.isArray(this.chat_template)){const e=Object.create(null);for(const{name:t,template:n}of this.chat_template){if("string"!==typeof t||"string"!==typeof n)throw new Error('Chat template must be a list of objects with "name" and "template" properties');e[t]=n}this.chat_template=e}this._compiled_template_cache=new Map}getToken(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const a of t){const e=this._tokenizer_config[a];if(e){if("object"===typeof e){if("AddedToken"===e.__type)return e.content;throw Error("Unknown token: ".concat(e))}return e}}return null}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:a=null,local_files_only:r=!1,revision:i="main",legacy:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(...await XT(e,{progress_callback:t,config:n,cache_dir:a,local_files_only:r,revision:i,legacy:o}))}_call(e){let{text_pair:t=null,add_special_tokens:n=!0,padding:a=!1,truncation:r=null,max_length:i=null,return_tensor:o=!0,return_token_type_ids:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=Array.isArray(e);let c;if(l){if(0===e.length)throw Error("text array must be non-empty");if(null!==t){if(!Array.isArray(t))throw Error("text_pair must also be an array");if(e.length!==t.length)throw Error("text and text_pair must have the same length");c=e.map(((e,a)=>this._encode_plus(e,t[a],{add_special_tokens:n,return_token_type_ids:s})))}else c=e.map((e=>this._encode_plus(e,null,{add_special_tokens:n,return_token_type_ids:s})))}else{if(null===e||void 0===e)throw Error("text may not be null or undefined");if(Array.isArray(t))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");c=[this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:s})]}if(null===i?i="max_length"===a?this.model_max_length:Ik(c.map((e=>e.input_ids.length)))[0]:r||console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation=true` to explicitly truncate examples to max length."),i=Math.min(i,this.model_max_length),a||r)for(let d=0;d<c.length;++d)c[d].input_ids.length!==i&&(c[d].input_ids.length>i?r&&nA(c[d],i):a&&tA(c[d],i,(e=>"input_ids"===e?this.pad_token_id:0),this.padding_side));const u={};if(o){if((!a||!r)&&c.some((e=>{for(const n of Object.keys(e)){var t;if(e[n].length!==(null===(t=c[0][n])||void 0===t?void 0:t.length))return!0}return!1})))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const e=[c.length,c[0].input_ids.length];for(const t of Object.keys(c[0]))u[t]=new Vk("int64",BigInt64Array.from(c.flatMap((e=>e[t])).map(BigInt)),e)}else{for(const e of Object.keys(c[0]))u[e]=c.map((t=>t[e]));if(!l)for(const e of Object.keys(u))u[e]=u[e][0]}return u}_encode_text(e){if(null===e)return null;const t=this.added_tokens_regex?e.split(this.added_tokens_regex).filter((e=>e)):[e],n=t.map(((e,t)=>{if(void 0!==this.added_tokens.find((t=>t.content===e)))return e;{if(!0===this.remove_space&&(e=e.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(e=function(e){return nD(e.toLowerCase())}(e)),null!==this.normalizer&&(e=this.normalizer(e)),0===e.length)return[];const n=null!==this.pre_tokenizer?this.pre_tokenizer(e,{section_index:t}):[e];return this.model(n)}})).flat();return n}_encode_plus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0,return_token_type_ids:a=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this._encode_text(e),i=this._encode_text(t),o=this.post_processor?this.post_processor(r,i,{add_special_tokens:n}):{tokens:Wx(null!==r&&void 0!==r?r:[],null!==i&&void 0!==i?i:[])},s=this.model.convert_tokens_to_ids(o.tokens),l={input_ids:s,attention_mask:new Array(s.length).fill(1)};return(null!==a&&void 0!==a?a:this.return_token_type_ids)&&o.token_type_ids&&(l.token_type_ids=o.token_type_ids),l}encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0,return_token_type_ids:a=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{input_ids:r}=this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:a});return r}batch_decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Vk&&(e=e.tolist()),e.map((e=>this.decode(e,t)))}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof Vk&&(e=eD(e)),!Array.isArray(e)||0===e.length||!Ux(e[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(e,t)}decode_single(e,t){let{skip_special_tokens:n=!1,clean_up_tokenization_spaces:a=null}=t,r=this.model.convert_ids_to_tokens(e);n&&(r=r.filter((e=>!this.special_tokens.includes(e))));let i=this.decoder?this.decoder(r):r.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(i=i.replaceAll(this.decoder.end_of_word_suffix," "),n&&(i=i.trim())),(null!==a&&void 0!==a?a:this.clean_up_tokenization_spaces)&&(i=tD(i)),i}get default_chat_template(){return this._warned_about_chat_template||(console.warn("No chat template is defined for this tokenizer - using a default chat template that implements the ChatML format. If the default is not appropriate for your model, please set `tokenizer.chat_template` to an appropriate template. See https://huggingface.co/docs/transformers/main/chat_templating for more information."),this._warned_about_chat_template=!0),this._default_chat_template}apply_chat_template(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{chat_template:n=null,add_generation_prompt:a=!1,tokenize:r=!0,padding:o=!1,truncation:s=!1,max_length:l=null,return_tensor:c=!0,tokenizer_kwargs:d={}}=t,h=i(t,ZT);if(this.chat_template&&"object"===typeof this.chat_template||null===this.chat_template&&this.default_chat_template&&"object"===typeof this.default_chat_template){var p;const e=null!==(p=this.chat_template)&&void 0!==p?p:this.default_chat_template;if(null!==n&&Object.hasOwn(e,n))n=e[n];else if(null===n&&"default"in e)n=e.default;else if(null===n)throw Error("This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available "+"template names are ".concat(Object.keys(e).sort(),"."))}else{var f;null!==n&&void 0!==n||(n=null!==(f=this.chat_template)&&void 0!==f?f:this.default_chat_template)}if("string"!==typeof n)throw Error("chat_template must be a string, but got ".concat(typeof n));let m=this._compiled_template_cache.get(n);void 0===m&&(m=new JT(n),this._compiled_template_cache.set(n,m));const g=Object.create(null);for(const i of eA){const e=this.getToken(i);e&&(g[i]=e)}const y=m.render(u(u({messages:e,add_generation_prompt:a},g),h));return r?this._call(y,u({add_special_tokens:!1,padding:o,truncation:s,max_length:l,return_tensor:c},d)).input_ids:y}}class rA extends aA{constructor(){super(...arguments),l(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}}class iA extends aA{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return lA(this,e,t,n)}}const oA="\u2581";class sA extends aA{constructor(e,t){var n,a;super(e,t),l(this,"_default_chat_template","{% if messages[0]['role'] == 'system' %}{% set loop_messages = messages[1:] %}{% set system_message = messages[0]['content'] %}{% elif USE_DEFAULT_PROMPT == true and not '<<SYS>>' in messages[0]['content'] %}{% set loop_messages = messages %}{% set system_message = 'DEFAULT_SYSTEM_MESSAGE' %}{% else %}{% set loop_messages = messages %}{% set system_message = false %}{% endif %}{% for message in loop_messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if loop.index0 == 0 and system_message != false %}{% set content = '<<SYS>>\n' + system_message + '\n<</SYS>>\n\n' + message['content'] %}{% else %}{% set content = message['content'] %}{% endif %}{% if message['role'] == 'user' %}{{ bos_token + '[INST] ' + content.strip() + ' [/INST]' }}{% elif message['role'] == 'system' %}{{ '<<SYS>>\n' + content.strip() + '\n<</SYS>>\n\n' }}{% elif message['role'] == 'assistant' %}{{ ' '  + content.strip() + ' ' + eos_token }}{% endif %}{% endfor %}"),l(this,"DEFAULT_SYSTEM_PROMPT","You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information."),this.use_default_system_prompt=null!==(n=t.use_default_system_prompt)&&void 0!==n&&n,this.legacy=null===(a=t.legacy)||void 0===a||a,this.legacy||(this.normalizer=null,this.pre_tokenizer=new KD({replacement:oA,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(e){if(null===e)return null;if(this.legacy||0===e.length)return super._encode_text(e);let t=super._encode_text(oA+e.replaceAll(oA," "));return t.length>1&&t[0]===oA&&this.special_tokens.includes(t[1])&&(t=t.slice(1)),t}get default_chat_template(){return super.default_chat_template.replaceAll("USE_DEFAULT_PROMPT",this.use_default_system_prompt?"true":"false").replaceAll("DEFAULT_SYSTEM_MESSAGE",this.DEFAULT_SYSTEM_PROMPT.replaceAll("\n","\\n").replaceAll("'","\\'"))}}function lA(e,t,n,a){if(!("language_codes"in e)||!Array.isArray(e.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in e)||!(e.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in e)||"function"!==typeof e.lang_to_token)throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const r=a.src_lang,i=a.tgt_lang;if(!e.language_codes.includes(i))throw new Error('Target language code "'.concat(i,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));if(void 0!==r){if(!e.language_codes.includes(r))throw new Error('Source language code "'.concat(r,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));for(const t of e.post_processor.config.single)if("SpecialToken"in t&&e.languageRegex.test(t.SpecialToken.id)){t.SpecialToken.id=e.lang_to_token(r);break}}return a.forced_bos_token_id=e.model.convert_tokens_to_ids([e.lang_to_token(i)])[0],e._call(t,n)}const cA=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],uA=new Map(cA),dA=new Map([...cA.map((e=>{let[t,n]=e;return[n,t]})),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);class hA extends aA{constructor(){super(...arguments),l(this,"_default_chat_template","{% for message in messages %}{% if message['role'] == 'user' %}{{ ' ' }}{% endif %}{{ message['content'] }}{% if not loop.last %}{{ '  ' }}{% endif %}{% endfor %}{{ eos_token }}")}}class pA{static async from_pretrained(e){var t,n;let{quantized:a=!0,progress_callback:r=null,config:i=null,cache_dir:o=null,local_files_only:s=!1,revision:l="main",legacy:c=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[u,d]=await XT(e,{quantized:a,progress_callback:r,config:i,cache_dir:o,local_files_only:s,revision:l,legacy:c}),h=null!==(t=null===(n=d.tokenizer_class)||void 0===n?void 0:n.replace(/Fast$/,""))&&void 0!==t?t:"PreTrainedTokenizer";let p=this.TOKENIZER_CLASS_MAPPING[h];return p||(console.warn('Unknown tokenizer class "'.concat(h,'", attempting to construct from base class.')),p=aA),new p(u,d)}}l(pA,"TOKENIZER_CLASS_MAPPING",{T5Tokenizer:class extends aA{},DistilBertTokenizer:class extends aA{},CamembertTokenizer:class extends aA{},DebertaTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},DebertaV2Tokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},BertTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},HerbertTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},ConvBertTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},RoFormerTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},XLMTokenizer:class extends aA{constructor(e,t){super(e,t),l(this,"return_token_type_ids",!0),console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}},ElectraTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},MobileBertTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},SqueezeBertTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},AlbertTokenizer:class extends aA{constructor(){super(...arguments),l(this,"return_token_type_ids",!0)}},GPT2Tokenizer:rA,BartTokenizer:class extends aA{},MBartTokenizer:iA,MBart50Tokenizer:class extends iA{},RobertaTokenizer:class extends aA{},WhisperTokenizer:class extends aA{constructor(){super(...arguments),l(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}_decode_asr(e){let{return_timestamps:t=!1,return_language:n=!1,time_precision:a=null,force_full_sequences:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===a)throw Error("Must specify time_precision");let i=null;const o="word"===t;function s(){return{language:i,timestamp:[null,null],text:""}}const l=[];let c=s(),u=0;const d=this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1;let h=[],p=[],f=!1,m=null;const g=new Set(this.all_special_ids);for(const v of e){const e=v.tokens,n=o?v.token_timestamps:null;let r=null,y=d;if("stride"in v){const[t,n,i]=v.stride;if(u-=n,m=t-i,n&&(y=n/a+d),i)for(let o=e.length-1;o>=0;--o){const t=e[o];if(t>=d){if(null!==r&&(t-d)*a<m)break;r=t}}}let b=[],w=[];for(let m=0;m<e.length;++m){const v=e[m];if(g.has(v)){const e=this.decode([v]),n=uA.get(e.slice(2,-2));if(void 0!==n){if(null!==i&&n!==i&&!t){h.push(b);const e=this.findLongestCommonSequence(h)[0],t=this.decode(e);c.text=t,l.push(c),h=[],b=[],c=s()}i=c.language=n}}else if(v>=d){const e=Lk((v-d)*a+u,2);if(null!==r&&v>=r)f=!0;else if(f||h.length>0&&v<y)f=!1;else if(null===c.timestamp[0])c.timestamp[0]=e;else if(e===c.timestamp[0]);else{c.timestamp[1]=e,h.push(b),o&&p.push(w);const[t,n]=this.findLongestCommonSequence(h,p),a=this.decode(t);c.text=a,o&&(c.words=this.collateWordTimestamps(t,n,i)),l.push(c),h=[],b=[],p=[],w=[],c=s()}}else if(b.push(v),o){let e,t=Lk(n[m]+u,2);e=m+1<n.length?Lk(n[m+1]+u,2):null,w.push([t,e])}}if("stride"in v){const[e,t,n]=v.stride;u+=e-n}b.length>0?(h.push(b),o&&p.push(w)):h.every((e=>0===e.length))&&(c=s(),h=[],b=[],p=[],w=[])}if(h.length>0){if(r&&t)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[e,n]=this.findLongestCommonSequence(h,p),a=this.decode(e);c.text=a,o&&(c.words=this.collateWordTimestamps(e,n,i)),l.push(c)}let y=Object.create(null);const b=l.map((e=>e.text)).join("");if(t||n){for(let e=0;e<l.length;++e){const a=l[e];t||delete a.timestamp,n||delete a.language}if(o){const e=[];for(const t of l)for(const n of t.words)e.push(n);y={chunks:e}}else y={chunks:l}}return[b,y]}findLongestCommonSequence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e[0],a=n.length,r=[];const i=Array.isArray(t)&&t.length>0;let o=i?[]:null,s=i?t[0]:null;for(let l=1;l<e.length;++l){const c=e[l];let u=0,d=[a,a,0,0];const h=c.length;for(let e=1;e<a+h;++e){const t=e/1e4,r=Math.max(0,a-e),i=Math.min(a,a+h-e),o=n.slice(r,i),s=Math.max(0,e-a),l=Math.min(h,e),p=c.slice(s,l);if(o.length!==p.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");const f=o.filter(((e,t)=>e===p[t])).length,m=f/e+t;f>1&&m>u&&(u=m,d=[r,i,s,l])}const[p,f,m,g]=d,y=Math.floor((f+p)/2),b=Math.floor((g+m)/2);r.push(...n.slice(0,y)),n=c.slice(b),a=n.length,i&&(o.push(...s.slice(0,y)),s=t[l].slice(b))}return r.push(...n),i?(o.push(...s),[r,o]):[r,[]]}collateWordTimestamps(e,t,n){const[a,r,i]=this.combineTokensIntoWords(e,n),o=[];for(let s=0;s<a.length;++s){const e=i[s];o.push({text:a[s],timestamp:[t[e.at(0)][0],t[e.at(-1)][1]]})}return o}combineTokensIntoWords(e,t){let n,a,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\"'\u201c\xa1\xbf([{-",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\"'.\u3002,\uff0c!\uff01?\uff1f:\uff1a\u201d)]}\u3001";return["chinese","japanese","thai","lao","myanmar"].includes(t=null!==t&&void 0!==t?t:"english")?[n,a,r]=this.splitTokensOnUnicode(e):[n,a,r]=this.splitTokensOnSpaces(e),this.mergePunctuations(n,a,r,i,o)}decode(e,t){let n;return t&&t.decode_with_timestamps?(e instanceof Vk&&(e=eD(e)),n=this.decodeWithTimestamps(e,t)):n=super.decode(e,t),n}decodeWithTimestamps(e,t){var n;const a=null!==(n=null===t||void 0===t?void 0:t.time_precision)&&void 0!==n?n:.02,r=Array.from(this.all_special_ids).at(-1)+1;let i=[[]];for(const o of e)if(o>=r){const e=Lk((o-r)*a,2);i.push("<|".concat(e,"|>")),i.push([])}else i[i.length-1].push(o);return i=i.map((e=>"string"===typeof e?e:super.decode(e,t))),i.join("")}splitTokensOnUnicode(e){const t=this.decode(e,{decode_with_timestamps:!0}),n=[],a=[],r=[];let i=[],o=[],s=0;for(let l=0;l<e.length;++l){const c=e[l];i.push(c),o.push(l);const u=this.decode(i,{decode_with_timestamps:!0});u.includes("\ufffd")&&"\ufffd"!==t[s+u.indexOf("\ufffd")]||(n.push(u),a.push(i),r.push(o),i=[],o=[],s+=u.length)}return[n,a,r]}splitTokensOnSpaces(e){const[t,n,a]=this.splitTokensOnUnicode(e),r=[],i=[],o=[],s=new RegExp("^[".concat(aD,"]$"),"gu");for(let l=0;l<t.length;++l){const e=t[l],c=n[l],u=a[l],d=c[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),h=e.startsWith(" "),p=e.trim(),f=s.test(p);if(d||h||f||0===r.length)r.push(e),i.push(c),o.push(u);else{const t=r.length-1;r[t]+=e,i[t].push(...c),o[t].push(...u)}}return[r,i,o]}mergePunctuations(e,t,n,a,r){const i=structuredClone(e),o=structuredClone(t),s=structuredClone(n);let l=i.length-2,c=i.length-1;for(;l>=0;)i[l].startsWith(" ")&&a.includes(i[l].trim())?(i[c]=i[l]+i[c],o[c]=Wx(o[l],o[c]),s[c]=Wx(s[l],s[c]),i[l]="",o[l]=[],s[l]=[]):c=l,--l;for(l=0,c=1;c<i.length;)!i[l].endsWith(" ")&&r.includes(i[c])?(i[l]+=i[c],o[l]=Wx(o[l],o[c]),s[l]=Wx(s[l],s[c]),i[c]="",o[c]=[],s[c]=[]):l=c,++c;return[i.filter((e=>e)),o.filter((e=>e.length>0)),s.filter((e=>e.length>0))]}get_decoder_prompt_ids(){let{language:e=null,task:t=null,no_timestamps:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=[];if(e){e=e.toLowerCase();let t=dA.get(e);if(void 0===t){if(!uA.has(e)){const t=2===e.length?uA.keys():uA.values();throw new Error('Language "'.concat(e,'" is not supported. Must be one of: ').concat(JSON.stringify(t)))}t=e}const n=this.model.tokens_to_ids.get("<|".concat(t,"|>"));if(void 0===n)throw new Error('Unable to find language "'.concat(t,'" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.'));a.push(n)}else a.push(null);if(t){if(t=t.toLowerCase(),"transcribe"!==t&&"translate"!==t)throw new Error('Task "'.concat(t,'" is not supported. Must be one of: ["transcribe", "translate"]'));const e=this.model.tokens_to_ids.get("<|".concat(t,"|>"));if(void 0===e)throw new Error('Unable to find task "'.concat(t,'" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.'));a.push(e)}else a.push(null);if(n){const e=this.model.tokens_to_ids.get("<|notimestamps|>");if(void 0===e)throw new Error('Unable to find "<|notimestamps|>" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.');a.push(e)}return a.map(((e,t)=>[t+1,e])).filter((e=>null!==e[1]))}},CodeGenTokenizer:class extends aA{},CLIPTokenizer:class extends aA{},SiglipTokenizer:class extends aA{},MarianTokenizer:class extends aA{constructor(e,t){super(e,t),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter((e=>this.languageRegex.test(e))),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(null===e)return null;const[t,...n]=e.trim().split(this.languageRegex);if(0===n.length)return super._encode_text(t);if(2===n.length){const[e,t]=n;return this.supported_language_codes.includes(e)||console.warn('Unsupported language code "'.concat(e,'" detected, which may lead to unexpected behavior. Should be one of: ').concat(JSON.stringify(this.supported_language_codes))),Wx([e],super._encode_text(t))}}},BloomTokenizer:class extends rA{constructor(e,t){var n;const a=".,!?\u2026\u3002\uff0c\u3001\u0964\u06d4\u060c",r=null===(n=e.pre_tokenizer)||void 0===n||null===(n=n.pretokenizers[0])||void 0===n?void 0:n.pattern;r&&r.Regex===" ?[^(\\s|[".concat(a,"])]+")&&(r.Regex=" ?[^\\s".concat(a,"]+")),super(e,t)}},NllbTokenizer:class extends aA{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return lA(this,e,t,n)}},M2M100Tokenizer:class extends aA{constructor(e,t){super(e,t),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))).map((e=>e.slice(2,-2))),this.lang_to_token=e=>"__".concat(e,"__")}_build_translation_inputs(e,t,n){return lA(this,e,t,n)}},LlamaTokenizer:sA,CodeLlamaTokenizer:class extends sA{},XLMRobertaTokenizer:class extends aA{},MPNetTokenizer:class extends aA{},FalconTokenizer:class extends aA{},GPTNeoXTokenizer:class extends aA{},EsmTokenizer:class extends aA{},Wav2Vec2CTCTokenizer:class extends aA{},BlenderbotTokenizer:hA,BlenderbotSmallTokenizer:class extends hA{},SpeechT5Tokenizer:class extends aA{},NougatTokenizer:class extends aA{},VitsTokenizer:class extends aA{constructor(e,t){super(e,t),this.decoder=new WD({})}},Qwen2Tokenizer:class extends aA{},GemmaTokenizer:class extends aA{constructor(){super(...arguments),l(this,"_default_chat_template","{% if messages[0]['role'] == 'system' %}{{ raise_exception('System role not supported') }}{% endif %}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if (message['role'] == 'assistant') %}{% set role = 'model' %}{% else %}{% set role = message['role'] %}{% endif %}{{ '<start_of_turn>' + role + '\n' + message['content'] | trim + '<end_of_turn>\n' }}{% endfor %}{% if add_generation_prompt %}{{'<start_of_turn>model\n'}}{% endif %}")}},Grok1Tokenizer:class extends aA{},CohereTokenizer:class extends aA{},PreTrainedTokenizer:aA});class fA{constructor(e){this.model_type=null,this.is_encoder_decoder=!1,Object.assign(this,e)}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:a=null,local_files_only:r=!1,revision:i="main"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null!==n&&void 0!==n?n:await async function(e,t){return await Ck(e,"config.json",!0,t)}(e,{progress_callback:t,config:n,cache_dir:a,local_files_only:r,revision:i});return new this(o)}}class mA{static async from_pretrained(){return fA.from_pretrained(...arguments)}}class gA extends qx{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,t){for(let n of t)this.processors.forEach((t=>t(e,n)))}[Symbol.iterator](){return this.processors.values()}}class yA extends qx{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class bA extends yA{constructor(e){super(),this.force_token_map=Object.fromEntries(null!==e&&void 0!==e?e:[])}_call(e,t){let n=this.force_token_map[e.length];return function(e){return void 0!==e&&null!==e}(n)&&(t.data.fill(-1/0),t.data[n]=0),t}}class vA extends yA{constructor(e){super(),this.bos_token_id=e}_call(e,t){return 1===e.length&&(t.data.fill(-1/0),t.data[this.bos_token_id]=0),t}}class wA extends yA{constructor(e,t){super(),this.max_length=e,this.forced_eos_token_id=t}_call(e,t){}}class _A extends yA{constructor(e,t){super(),this.begin_suppress_tokens=e,this.begin_index=t}_call(e,t){if(e.length===this.begin_index)for(let n of this.begin_suppress_tokens)t.data[n]=-1/0;return t}}class xA extends yA{constructor(e){super(),this.eos_token_id=e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=(e.forced_decoder_ids||[]).length+2,e.forced_decoder_ids.slice(-1)[0][1]===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,t){const n=t.data;if(n[this.no_timestamps_token_id]=-1/0,e.length===this.begin_index-1)return n.fill(-1/0),n[this.timestamp_begin]=0,t;const a=e.slice(this.begin_index),r=a.length>=1&&a[a.length-1]>=this.timestamp_begin,i=a.length<2||a[a.length-2]>=this.timestamp_begin;if(r&&(i?n.subarray(this.timestamp_begin).fill(-1/0):n.subarray(0,this.eos_token_id).fill(-1/0)),e.length===this.begin_index&&null!==this.max_initial_timestamp_index){const e=this.timestamp_begin+this.max_initial_timestamp_index;n.subarray(e+1).fill(-1/0)}const o=function(e){const t=Ek(e).map((e=>Math.log(e)));return t}(n),s=Math.log(o.subarray(this.timestamp_begin).map(Math.exp).reduce(((e,t)=>e+t)));return s>Ik(o.subarray(0,this.timestamp_begin))[0]&&n.subarray(0,this.timestamp_begin).fill(-1/0),t}}class kA extends yA{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const t=e.length,n=[];for(let i=0;i<t+1-this.no_repeat_ngram_size;++i){const t=[];for(let n=0;n<this.no_repeat_ngram_size;++n)t.push(e[i+n]);n.push(t)}const a=new Map;for(const i of n){var r;const e=i.slice(0,i.length-1),t=JSON.stringify(e),n=null!==(r=a.get(t))&&void 0!==r?r:[];n.push(i[i.length-1]),a.set(t,n)}return a}getGeneratedNgrams(e,t){var n;const a=t.slice(t.length+1-this.no_repeat_ngram_size,t.length);return null!==(n=e.get(JSON.stringify(a)))&&void 0!==n?n:[]}calcBannedNgramTokens(e){const t=[];if(e.length+1<this.no_repeat_ngram_size)return t;{const t=this.getNgrams(e);return this.getGeneratedNgrams(t,e)}}_call(e,t){const n=this.calcBannedNgramTokens(e);for(const a of n)t.data[a]=-1/0;return t}}class TA extends yA{constructor(e){super(),this.penalty=e}_call(e,t){for(const n of e)t.data[n]<0?t.data[n]*=this.penalty:t.data[n]/=this.penalty;return t}}class DA extends yA{constructor(e,t){super(),this.min_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){if(e.length<this.min_length)for(const n of this.eos_token_id)t.data[n]=-1/0;return t}}class AA extends yA{constructor(e,t,n){super(),this.prompt_length_to_skip=e,this.min_new_tokens=t,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,t){if(e.length-this.prompt_length_to_skip<this.min_new_tokens)for(const n of this.eos_token_id)t.data[n]=-1/0;return t}}class CA extends yA{constructor(e,t){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(const n of this.bad_words_ids){let a=!0;for(let t=1;t<=n.length-1&&n.length<e.length;++t)if(n.at(-t-1)!==e.at(-t)){a=!1;break}a&&(t.data[n.at(-1)]=-1/0)}return t}}const SA=class{constructor(){var e,t,n,a,r,i,o,s,l,c,u,d,h,p,f,m,g,y,b,v,w,_,x,k,T,D,A,C,S,E,F,M,I,z,P,N,O,B,L,R,j,V,q,U;let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.max_length=null!==(e=G.max_length)&&void 0!==e?e:20,this.max_new_tokens=null!==(t=G.max_new_tokens)&&void 0!==t?t:null,this.min_length=null!==(n=G.min_length)&&void 0!==n?n:0,this.min_new_tokens=null!==(a=G.min_new_tokens)&&void 0!==a?a:null,this.early_stopping=null!==(r=G.early_stopping)&&void 0!==r&&r,this.max_time=null!==(i=G.max_time)&&void 0!==i?i:null,this.do_sample=null!==(o=G.do_sample)&&void 0!==o&&o,this.num_beams=null!==(s=G.num_beams)&&void 0!==s?s:1,this.num_beam_groups=null!==(l=G.num_beam_groups)&&void 0!==l?l:1,this.penalty_alpha=null!==(c=G.penalty_alpha)&&void 0!==c?c:null,this.use_cache=null===(u=G.use_cache)||void 0===u||u,this.temperature=null!==(d=G.temperature)&&void 0!==d?d:1,this.top_k=null!==(h=G.top_k)&&void 0!==h?h:50,this.top_p=null!==(p=G.top_p)&&void 0!==p?p:1,this.typical_p=null!==(f=G.typical_p)&&void 0!==f?f:1,this.epsilon_cutoff=null!==(m=G.epsilon_cutoff)&&void 0!==m?m:0,this.eta_cutoff=null!==(g=G.eta_cutoff)&&void 0!==g?g:0,this.diversity_penalty=null!==(y=G.diversity_penalty)&&void 0!==y?y:0,this.repetition_penalty=null!==(b=G.repetition_penalty)&&void 0!==b?b:1,this.encoder_repetition_penalty=null!==(v=G.encoder_repetition_penalty)&&void 0!==v?v:1,this.length_penalty=null!==(w=G.length_penalty)&&void 0!==w?w:1,this.no_repeat_ngram_size=null!==(_=G.no_repeat_ngram_size)&&void 0!==_?_:0,this.bad_words_ids=null!==(x=G.bad_words_ids)&&void 0!==x?x:null,this.force_words_ids=null!==(k=G.force_words_ids)&&void 0!==k?k:null,this.renormalize_logits=null!==(T=G.renormalize_logits)&&void 0!==T&&T,this.constraints=null!==(D=G.constraints)&&void 0!==D?D:null,this.forced_bos_token_id=null!==(A=G.forced_bos_token_id)&&void 0!==A?A:null,this.forced_eos_token_id=null!==(C=G.forced_eos_token_id)&&void 0!==C?C:null,this.remove_invalid_values=null!==(S=G.remove_invalid_values)&&void 0!==S&&S,this.exponential_decay_length_penalty=null!==(E=G.exponential_decay_length_penalty)&&void 0!==E?E:null,this.suppress_tokens=null!==(F=G.suppress_tokens)&&void 0!==F?F:null,this.begin_suppress_tokens=null!==(M=G.begin_suppress_tokens)&&void 0!==M?M:null,this.forced_decoder_ids=null!==(I=G.forced_decoder_ids)&&void 0!==I?I:null,this.num_return_sequences=null!==(z=G.num_return_sequences)&&void 0!==z?z:1,this.output_attentions=null!==(P=G.output_attentions)&&void 0!==P&&P,this.output_hidden_states=null!==(N=G.output_hidden_states)&&void 0!==N&&N,this.output_scores=null!==(O=G.output_scores)&&void 0!==O&&O,this.return_dict_in_generate=null!==(B=G.return_dict_in_generate)&&void 0!==B&&B,this.pad_token_id=null!==(L=G.pad_token_id)&&void 0!==L?L:null,this.bos_token_id=null!==(R=G.bos_token_id)&&void 0!==R?R:null,this.eos_token_id=null!==(j=G.eos_token_id)&&void 0!==j?j:null,this.encoder_no_repeat_ngram_size=null!==(V=G.encoder_no_repeat_ngram_size)&&void 0!==V?V:0,this.decoder_start_token_id=null!==(q=G.decoder_start_token_id)&&void 0!==q?q:null,this.generation_kwargs=null!==(U=G.generation_kwargs)&&void 0!==U?U:{}}};class EA extends qx{constructor(e){super(),this.generation_config=e}_call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.sample(e,t)}sample(e,t){throw Error("sample should be implemented in subclasses.")}getLogits(e,t){let n=e.dims.at(-1),a=e.data;if(-1===t)a=a.slice(-n);else{let e=t*n;a=a.slice(e,e+n)}return this.generation_config.temperature>0&&(a=a.map((e=>e/this.generation_config.temperature))),a}randomSelect(e){let t=e.reduce(((e,t)=>e+t),0),n=Math.random()*t;for(let a=0;a<e.length;++a)if(n-=e[a],n<=0)return a;return 0}static getSampler(e){if(e.do_sample)return new MA(e);if(e.num_beams>1)return new IA(e);if(e.num_return_sequences>1)throw Error("num_return_sequences has to be 1 when doing greedy search, but is ".concat(e.num_return_sequences,"."));return new FA(e)}}class FA extends EA{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return[[Ik(this.getLogits(e,t))[1],0]]}}class MA extends EA{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const a=Fk(this.getLogits(e,t),n),r=Ek(a.map((e=>e[1])));return Array.from({length:this.generation_config.num_beams},(()=>{const e=this.randomSelect(r);return[a[e][0],Math.log(r[e])]}))}}class IA extends EA{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const a=Fk(this.getLogits(e,t),n),r=Ek(a.map((e=>e[1])));return Array.from({length:this.generation_config.num_beams},((e,t)=>[a[t][0],Math.log(r[t])]))}}const{InferenceSession:zA,Tensor:PA,env:NA}=ik,OA=0,BA=1,LA=2,RA=3,jA=4,VA=5,qA=new Map,UA=new Map,GA=new Map;async function HA(e,t,n){let a="onnx/".concat(t).concat(n.quantized?"_quantized":"",".onnx"),r=await Ak(e,a,!0,n);try{return await zA.create(r,{executionProviders:ok})}catch(i){if(1===ok.length&&"wasm"===ok[0])throw i;return console.warn(i),console.warn("Something went wrong during model construction (most likely a missing operation). Using `wasm` as a fallback. "),await zA.create(r,{executionProviders:["wasm"]})}}async function WA(e,t){const n=function(e,t){const n=Object.create(null),a=[];for(const o of e.inputNames){const e=t[o];e instanceof Vk?n[o]=NA.wasm.proxy?e.clone():e:a.push(o)}if(a.length>0)throw new Error('An error occurred during model execution: "Missing the following inputs: '.concat(a.join(", "),"."));const r=Object.keys(t).length,i=e.inputNames.length;if(r>i){let n=Object.keys(t).filter((t=>!e.inputNames.includes(t)));console.warn("WARNING: Too many inputs were provided (".concat(r," > ").concat(i,'). The following inputs will be ignored: "').concat(n.join(", "),'".'))}return n}(e,t);try{let t=await e.run(n);return t=KA(t),t}catch(F){throw console.error('An error occurred during model execution: "'.concat(F,'".')),console.error("Inputs given to model:",n),F}}function KA(e){for(let t in e)e[t]instanceof PA?e[t]=new Vk(e[t]):"object"===typeof e[t]&&KA(e[t]);return e}function YA(e){if(e instanceof Vk)return e;if(0===e.length)throw Error("items must be non-empty");if(Array.isArray(e[0])){if(e.some((t=>t.length!==e[0].length)))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new Vk("int64",BigInt64Array.from(e.flat().map((e=>BigInt(e)))),[e.length,e[0].length])}return new Vk("int64",BigInt64Array.from(e.map((e=>BigInt(e)))),[1,e.length])}function JA(e,t){var n,a;let r=null!==(n=e.config.pad_token_id)&&void 0!==n?n:null,i=null!==(a=e.config.eos_token_id)&&void 0!==a?a:null;Ux(i)&&(i=[i]);let o=-1!==t.indexOf(r),s=null===i||!i.includes(r);if(o&&s){let e=BigInt64Array.from(t.data.map((e=>e!=r)));return new Vk("int64",e,t.dims)}return Xk(t)}function ZA(e,t,n){if(!e.inputNames.includes("position_ids"))return;const a=new BigInt64Array(t.attention_mask.data.length);for(let r=0;r<t.attention_mask.dims[0];++r){let e=r*t.attention_mask.dims[1],n=BigInt(0);for(let r=0;r<t.attention_mask.dims[1];++r){const i=e+r;0n===t.attention_mask.data[i]?a[i]=BigInt(1):(a[i]=n,n+=t.attention_mask.data[i])}}t.position_ids=new Vk("int64",a,t.attention_mask.dims),n&&(t.position_ids=t.position_ids.slice(null,-1).unsqueeze_(-1))}function XA(e){return new Vk("bool",[e],[1])}async function $A(e,t){let{encoder_outputs:n,past_key_values:a}=t;n||(n=(await nC(e,t)).last_hidden_state);let r={input_ids:t.decoder_input_ids,encoder_hidden_states:n};const i=!!a;e.decoder_merged_session.inputNames.includes("use_cache_branch")&&(r.use_cache_branch=XA(i)),e.decoder_merged_session.inputNames.includes("encoder_attention_mask")&&(r.encoder_attention_mask=t.attention_mask),ZA(e.decoder_merged_session,r,i),e.addPastKeyValues(r,a);const o=await WA(e.decoder_merged_session,r);let s=o.logits;a=e.getPastKeyValues(o,a);const l=e.getAttentions(o);return new UE(u({logits:s,past_key_values:a,encoder_outputs:n},l))}function QA(e,t,n,a){var r,i,o,s;let l=[],c=0;const u=null===(r=e.requires_attention_mask)||void 0===r||r;let d=null!==(i=null!==(o=null!==(s=n.decoder_input_ids)&&void 0!==s?s:n.decoder_start_token_id)&&void 0!==o?o:n.bos_token_id)&&void 0!==i?i:n.eos_token_id;d instanceof Vk?d=d.tolist().flat():Array.isArray(d)||(d=[d]);for(let h of t){h.dims=[1,...h.dims];let t={inputs:h,encoder_outputs:null,prev_model_outputs:null,output_token_ids:d,done:!1,score:0,id:c++};u&&(t.attention_mask=JA(e,h)),l.push(t)}return l}async function eC(e,t){var n;const a=e.main_input_name;let r=t.output_token_ids;t.prev_model_outputs&&(r=r.slice(-1));let i={[a]:t.inputs,decoder_input_ids:YA(r),encoder_outputs:t.encoder_outputs,past_key_values:null===(n=t.prev_model_outputs)||void 0===n?void 0:n.past_key_values};t.attention_mask&&(i.attention_mask=t.attention_mask);let o=await e.forward(i);return t.prev_model_outputs=o,t.encoder_outputs=o.encoder_outputs,o}function tC(e,t){e.output_token_ids=[...e.output_token_ids,t]}async function nC(e,t){const n=Object.create(null);for(const a of e.session.inputNames)n[a]=t[a];return e.session.inputNames.includes("token_type_ids")&&!n.token_type_ids&&(n.token_type_ids=new Vk("int64",new BigInt64Array(n.input_ids.data.length),n.input_ids.dims)),await WA(e.session,n)}async function aC(e,t){let{input_ids:n,past_key_values:a,attention_mask:r}=t,i={input_ids:n,attention_mask:null!==r&&void 0!==r?r:JA(e,n)};const o=!!a;e.session.inputNames.includes("use_cache_branch")&&(i.use_cache_branch=XA(o)),ZA(e.session,i,o),e.addPastKeyValues(i,a);let s=await WA(e.session,i),l=s.logits;return a=e.getPastKeyValues(s,a),{logits:l,past_key_values:a}}function rC(e,t,n,a,r){let i=[],o=0;for(let s of t){let t,n=s.tolist().map(Number);s.dims=[1,...s.dims],r?(t=r[o],t.dims=[1,...t.dims]):t=JA(e,s);let l={input:s,model_input_ids:s,attention_mask:t,prev_model_outputs:null,output_token_ids:n,num_output_tokens:a,done:!1,score:0,id:o++};i.push(l)}return i}async function iC(e,t){var n;let a=new BigInt64Array(t.output_token_ids.length).fill(1n),r={input_ids:t.model_input_ids,attention_mask:new Vk("int64",a,[1,a.length]),past_key_values:null===(n=t.prev_model_outputs)||void 0===n?void 0:n.past_key_values},i=await e.forward(r);return t.prev_model_outputs=i,i}function oC(e,t){e.output_token_ids=[...e.output_token_ids,t],e.model_input_ids=new Vk("int64",[BigInt(t)],[1,1])}class sC extends qx{constructor(e,t){super(),l(this,"main_input_name","input_ids"),this.config=e,this.session=t;const n=GA.get(this.constructor),a=qA.get(n);this.can_generate=!1,this._runBeam=null,this._getStartBeams=null,this._updateBeam=null,this._forward=null,a===jA?(this.can_generate=!0,this._runBeam=iC,this._getStartBeams=rC,this._updateBeam=oC,this._forward=aC):a===LA||a===RA?(this.can_generate=!0,this._runBeam=eC,this._getStartBeams=QA,this._updateBeam=tC,this._forward=$A):this._forward=nC}async dispose(){const e=[];for(let t of Object.keys(this)){const n=this[t];n instanceof zA&&e.push(n.handler.dispose())}return await Promise.all(e)}static async from_pretrained(e){let{quantized:t=!0,progress_callback:n=null,config:a=null,cache_dir:r=null,local_files_only:i=!1,revision:o="main",model_file_name:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l={quantized:t,progress_callback:n,config:a,cache_dir:r,local_files_only:i,revision:o,model_file_name:s};const c=GA.get(this),u=qA.get(c);let d;var h;if(u===jA)d=await Promise.all([mA.from_pretrained(e,l),HA(e,null!==(h=l.model_file_name)&&void 0!==h?h:"decoder_model_merged",l),Ck(e,"generation_config.json",!1,l)]);else if(u===LA||u===RA)d=await Promise.all([mA.from_pretrained(e,l),HA(e,"encoder_model",l),HA(e,"decoder_model_merged",l),Ck(e,"generation_config.json",!1,l)]);else if(u===VA)d=await Promise.all([mA.from_pretrained(e,l),HA(e,"vision_encoder",l),HA(e,"prompt_encoder_mask_decoder",l)]);else if(u===BA)d=await Promise.all([mA.from_pretrained(e,l),HA(e,"encoder_model",l),HA(e,"decoder_model_merged",l)]);else{var p;u!==OA&&console.warn("Model type for '".concat(null!==c&&void 0!==c?c:null===a||void 0===a?void 0:a.model_type,"' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.")),d=await Promise.all([mA.from_pretrained(e,l),HA(e,null!==(p=l.model_file_name)&&void 0!==p?p:"model",l)])}return new this(...d)}async _call(e){return await this.forward(e)}async forward(e){return await this._forward(this,e)}_get_logits_processor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=new gA;if(null!==e.repetition_penalty&&1!==e.repetition_penalty&&a.push(new TA(e.repetition_penalty)),null!==e.no_repeat_ngram_size&&e.no_repeat_ngram_size>0&&a.push(new kA(e.no_repeat_ngram_size)),null!==e.bad_words_ids&&a.push(new CA(e.bad_words_ids,e.eos_token_id)),null!==e.min_length&&null!==e.eos_token_id&&e.min_length>0&&a.push(new DA(e.min_length,e.eos_token_id)),null!==e.min_new_tokens&&null!==e.eos_token_id&&e.min_new_tokens>0&&a.push(new AA(t,e.min_new_tokens,e.eos_token_id)),null!==e.forced_bos_token_id&&a.push(new vA(e.forced_bos_token_id)),null!==e.forced_eos_token_id&&a.push(new wA(e.max_length,e.forced_eos_token_id)),null!==e.begin_suppress_tokens){let n=t>1||null===e.forced_bos_token_id?t:t+1;null!==e.forced_decoder_ids&&(n+=e.forced_decoder_ids[e.forced_decoder_ids.length-1][0]),a.push(new _A(e.begin_suppress_tokens,n))}return null!==e.forced_decoder_ids&&a.push(new bA(e.forced_decoder_ids)),null!==n&&a.extend(n),a}_get_generation_config(e){let t=new SA(this.config);return"generation_config"in this&&Object.assign(t,this.generation_config),null!==e&&Object.assign(t,e),t}async generate(e){var t,n;let a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,{inputs_attention_mask:o=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!this.can_generate){var s,l,c;const e=GA.get(this.constructor);let t="The current model class (".concat(e,") is not compatible with `.generate()`, as it doesn't have a language model head.");const n=this.config.model_type,a=null!==(s=null!==(l=null!==(c=eE.get(n))&&void 0!==c?c:QS.get(n))&&void 0!==l?l:YS.get(n))&&void 0!==s?s:aE.get(n);throw a&&(t+=" Please use the following class instead: '".concat(a[0],"'")),Error(t)}if(!(e instanceof Vk)&&!function(e){var t;return"TypedArray"===(null===e||void 0===e||null===(t=e.prototype)||void 0===t||null===(t=t.__proto__)||void 0===t||null===(t=t.constructor)||void 0===t?void 0:t.name)}(e)&&!Array.isArray(e))throw Error('`inputs` must be a Tensor, TypedArray, or Array, but is "'.concat(e.constructor.name,'".'));if(this.config.is_encoder_decoder)a=0;else if(a=e instanceof Vk?e.dims.at(-1):e.length,0===a)throw Error("Must supply a non-empty array of input token ids.");r=this._get_generation_config(r),i=null!==i&&void 0!==i?i:new gA,i=this._get_logits_processor(r,a,i);let d=r.eos_token_id;null===d||Array.isArray(d)||(d=[d]);let h=1;const p=h+(null!==(t=r.max_new_tokens)&&void 0!==t?t:1/0),f=Number.isInteger(r.max_length)&&null===(null!==(n=r.max_new_tokens)&&void 0!==n?n:null);let m=EA.getSampler(r),g=this.getStartBeams(e,r,h,o);for(;g.some((e=>!e.done))&&h<p;){let e=[];for(let t of g){if(t.done){e.push(t);continue}if(f&&t.output_token_ids.length>=r.max_length){t.done=!0,e.push(t);continue}let n=await this.runBeam(t);r.output_attentions&&this.addAttentionsToBeam(t,n),r.output_scores;let a=n.logits.slice(null,-1,null);i(t.output_token_ids,a);let o=m(a);for(let[r,i]of o){let n=u({},t);this.updateBeam(n,r),n.score+=i,d&&d.includes(r)&&(n.done=!0),e.push(n)}}++h,e=this.groupBeams(e).map((e=>e.sort(((e,t)=>t.score-e.score)).slice(0,r.num_beams))),g=e.flat(),r.callback_function&&r.callback_function(g)}const y=this.groupBeams(g),b=e=>y.map((t=>r.num_return_sequences>1?t.slice(0,r.num_return_sequences).map((t=>t[e])):[t[0][e]])).flat(),v=b("output_token_ids");if(r.return_dict_in_generate){return{sequences:v,decoder_attentions:b("decoder_attentions"),cross_attentions:b("cross_attentions")}}return v}addAttentionsToBeam(e,t){if(this.config.is_encoder_decoder){if(!t.cross_attentions||0===t.cross_attentions.length)throw Error("`output_attentions` is true, but the model did not produce cross-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.cross_attentions||(e.cross_attentions=[]),e.cross_attentions.push(t.cross_attentions)}if(!t.decoder_attentions||0===t.decoder_attentions.length)throw Error("`output_attentions` is true, but the model did not produce decoder-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.decoder_attentions||(e.decoder_attentions=[]),e.decoder_attentions.push(t.decoder_attentions)}groupBeams(e){const t=Object.create(null);for(const n of e)void 0===t[n.id]?t[n.id]=[n]:t[n.id].push(n);return Object.values(t)}getPastKeyValues(e,t){const n=Object.create(null);for(const a in e)if(a.startsWith("present")){let r=a.replace("present","past_key_values");t&&a.includes("encoder")?n[r]=t[r]:n[r]=e[a]}return n}getAttentions(e){const t=Object.create(null);for(const n of["cross_attentions","decoder_attentions"]){const a=[];for(const t in e)if(t.startsWith(n)){a[t.split(".").pop()]=e[t]}t[n]=a}return t}addPastKeyValues(e,t){if(t)Object.assign(e,t);else{var n;const t=1;if(this.config.is_encoder_decoder&&(null===(n=this.add_encoder_pkv)||void 0===n||n)){let n=[t,this.num_encoder_heads,0,this.encoder_dim_kv],a=[t,this.num_decoder_heads,0,this.decoder_dim_kv];for(let t=0;t<this.num_decoder_layers;++t)e["past_key_values.".concat(t,".encoder.key")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".encoder.value")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".decoder.key")]=new Vk("float32",[],a),e["past_key_values.".concat(t,".decoder.value")]=new Vk("float32",[],a)}else if("falcon"===this.config.model_type){let n=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".value")]=new Vk("float32",[],n)}else if(this.config.multi_query){let n=[t*this.num_heads,0,2*this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key_value")]=new Vk("float32",[],n)}else if("bloom"===this.config.model_type){let n=[t*this.num_heads,this.dim_kv,0],a=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".value")]=new Vk("float32",[],a)}else{let n=[t,this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Vk("float32",[],n),e["past_key_values.".concat(t,".value")]=new Vk("float32",[],n)}}}getStartBeams(e,t,n,a){return this._getStartBeams(this,e,t,n,a)}async runBeam(e){return await this._runBeam(this,e)}updateBeam(e,t){return this._updateBeam(e,t)}}class lC{}class cC extends sC{}class uC extends sC{}class dC extends sC{}class hC extends sC{}class pC extends sC{}class fC extends sC{}class mC extends sC{}class gC extends sC{}class yC extends sC{}class bC extends sC{}class vC extends sC{}class wC extends sC{}class _C extends sC{}class xC extends sC{}class kC extends sC{}class TC extends sC{}class DC extends sC{}class AC extends sC{}class CC extends sC{}class SC extends sC{}class EC extends sC{}class FC extends sC{}class MC extends sC{}class IC extends sC{}class zC extends sC{}class PC extends sC{}class NC extends sC{constructor(e,t,n,a){var r;super(e,t),l(this,"main_input_name","pixel_values"),this.decoder_merged_session=n,this.generation_config=a;const i=this.config.encoder,o=this.config.decoder,s=i.model_type;(null!==(r=HS.get(s))&&void 0!==r?r:WS.get(s))||console.warn("Model type for encoder '".concat(s,"' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose."));const c=eE.get(o.model_type);if(!c)throw new Error('Unable to construct `VisionEncoderDecoder` due to unsupported decoder: "'.concat(this.config.decoder.model_type,'"'));const u=new(0,c[1])(o,n,a);this.add_encoder_pkv="num_decoder_layers"in u,this.add_encoder_pkv?(this.num_decoder_layers=u.num_decoder_layers,this.num_decoder_heads=u.num_decoder_heads,this.decoder_dim_kv=u.decoder_dim_kv,this.num_encoder_layers=u.num_encoder_layers,this.num_encoder_heads=u.num_encoder_heads,this.encoder_dim_kv=u.encoder_dim_kv):(this.num_layers=u.num_layers,this.num_heads=u.num_heads,this.dim_kv=u.dim_kv)}}class OC extends sC{}class BC extends sC{}class LC extends sC{}class RC extends sC{}class jC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class VC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_heads,this.num_layers=this.config.num_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class qC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class UC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class HC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class WC extends sC{constructor(e,t,n){var a;super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=null!==(a=this.config.num_key_value_heads)&&void 0!==a?a:this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class KC extends sC{constructor(e,t,n){var a;super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=null!==(a=this.config.num_key_value_heads)&&void 0!==a?a:this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class YC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class JC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.hidden_size/this.num_heads}}class ZC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_heads,this.num_layers=this.config.n_layers,this.dim_kv=this.config.d_model/this.num_heads}}class XC extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class $C extends sC{}class QC extends sC{}class eS extends sC{}class tS extends sC{}class nS extends sC{}class aS extends sC{}class rS extends sC{}class iS extends sC{}class oS extends sC{}class sS extends lC{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class lS extends lC{constructor(e){let{logits:t,pred_boxes:n,pred_masks:a}=e;super(),this.logits=t,this.pred_boxes=n,this.pred_masks=a}}class cS extends sC{}class uS extends sS{}class dS extends sC{}class hS extends sC{}class pS extends sC{}class fS extends sC{}class mS extends sC{}class gS extends sC{}class yS extends sC{}class bS extends sC{}class vS extends sC{}class wS extends sC{}class _S extends sC{}class xS extends sC{}class kS extends lC{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class TS extends sC{}class DS extends lC{constructor(e){let{iou_scores:t,pred_masks:n}=e;super(),this.iou_scores=t,this.pred_masks=n}}class AS extends sC{}class CS extends sC{}class SS extends sC{}class ES extends sC{}class FS extends sC{}class MS extends sC{}class IS extends sC{}class zS extends sC{}class PS extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_encoder_layers=this.num_decoder_layers=this.config.decoder_layers,this.num_encoder_heads=this.num_decoder_heads=this.config.decoder_attention_heads,this.encoder_dim_kv=this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads}}class NS extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class OS extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class BS extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class LS extends sC{}class RS extends sC{}class jS extends RS{async _call(e){return new XE(await super._call(e))}}class VS extends sC{}class qS extends sC{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class US extends sC{}class GS{static async from_pretrained(e){let{quantized:t=!0,progress_callback:n=null,config:a=null,cache_dir:r=null,local_files_only:i=!1,revision:o="main",model_file_name:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l={quantized:t,progress_callback:n,config:a,cache_dir:r,local_files_only:i,revision:o,model_file_name:s};if(a=await mA.from_pretrained(e,l),l.config||(l.config=a),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let c of this.MODEL_CLASS_MAPPINGS){const t=c.get(a.model_type);if(t)return await t[1].from_pretrained(e,l)}if(this.BASE_IF_FAIL)return console.warn('Unknown model class "'.concat(a.model_type,'", attempting to construct from base class.')),await sC.from_pretrained(e,l);throw Error("Unsupported model type: ".concat(a.model_type))}}l(GS,"MODEL_CLASS_MAPPINGS",null),l(GS,"BASE_IF_FAIL",!1);const HS=new Map([["bert",["BertModel",class extends cC{}]],["nomic_bert",["NomicBertModel",class extends uC{}]],["roformer",["RoFormerModel",class extends dC{}]],["electra",["ElectraModel",class extends pC{}]],["esm",["EsmModel",class extends bC{}]],["convbert",["ConvBertModel",class extends hC{}]],["camembert",["CamembertModel",class extends fC{}]],["deberta",["DebertaModel",class extends mC{}]],["deberta-v2",["DebertaV2Model",class extends gC{}]],["mpnet",["MPNetModel",class extends wC{}]],["albert",["AlbertModel",class extends xC{}]],["distilbert",["DistilBertModel",class extends yC{}]],["roberta",["RobertaModel",class extends FC{}]],["xlm",["XLMModel",class extends MC{}]],["xlm-roberta",["XLMRobertaModel",class extends IC{}]],["clap",["ClapModel",class extends LS{}]],["clip",["CLIPModel",class extends OC{}]],["clipseg",["CLIPSegModel",class extends RC{}]],["chinese_clip",["ChineseCLIPModel",class extends LC{}]],["siglip",["SiglipModel",class extends BC{}]],["mobilebert",["MobileBertModel",class extends vC{}]],["squeezebert",["SqueezeBertModel",class extends _C{}]],["wav2vec2",["Wav2Vec2Model",class extends SS{}]],["wav2vec2-bert",["Wav2Vec2BertModel",class extends MS{}]],["unispeech",["UniSpeechModel",class extends ES{}]],["unispeech-sat",["UniSpeechSatModel",class extends FS{}]],["hubert",["HubertModel",class extends SS{}]],["wavlm",["WavLMModel",class extends IS{}]],["audio-spectrogram-transformer",["ASTModel",class extends zC{}]],["vits",["VitsModel",jS]],["detr",["DetrModel",class extends oS{}]],["table-transformer",["TableTransformerModel",class extends cS{}]],["vit",["ViTModel",class extends $C{}]],["fastvit",["FastViTModel",class extends QC{}]],["mobilevit",["MobileViTModel",class extends tS{}]],["mobilevitv2",["MobileViTV2Model",class extends nS{}]],["owlvit",["OwlViTModel",class extends aS{}]],["owlv2",["Owlv2Model",class extends rS{}]],["beit",["BeitModel",class extends iS{}]],["deit",["DeiTModel",class extends dS{}]],["convnext",["ConvNextModel",class extends vS{}]],["convnextv2",["ConvNextV2Model",class extends wS{}]],["dinov2",["Dinov2Model",class extends _S{}]],["resnet",["ResNetModel",class extends hS{}]],["swin",["SwinModel",class extends pS{}]],["swin2sr",["Swin2SRModel",class extends fS{}]],["donut-swin",["DonutSwinModel",class extends bS{}]],["yolos",["YolosModel",class extends xS{}]],["dpt",["DPTModel",class extends mS{}]],["glpn",["GLPNModel",class extends yS{}]],["hifigan",["SpeechT5HifiGan",class extends sC{constructor(){super(...arguments),l(this,"main_input_name","spectrogram")}}]],["efficientnet",["EfficientNetModel",class extends US{}]]]),WS=new Map([["t5",["T5Model",class extends kC{}]],["longt5",["LongT5Model",class extends TC{}]],["mt5",["MT5Model",class extends DC{}]],["bart",["BartModel",class extends AC{}]],["mbart",["MBartModel",class extends CC{}]],["marian",["MarianModel",class extends AS{}]],["whisper",["WhisperModel",class extends PC{}]],["m2m_100",["M2M100Model",class extends CS{}]],["blenderbot",["BlenderbotModel",class extends SC{}]],["blenderbot-small",["BlenderbotSmallModel",class extends EC{}]]]),KS=new Map([["bloom",["BloomModel",class extends JC{}]],["gpt2",["GPT2Model",class extends jC{}]],["gptj",["GPTJModel",class extends UC{}]],["gpt_bigcode",["GPTBigCodeModel",class extends GC{}]],["gpt_neo",["GPTNeoModel",class extends VC{}]],["gpt_neox",["GPTNeoXModel",class extends qC{}]],["codegen",["CodeGenModel",class extends HC{}]],["llama",["LlamaModel",class extends WC{}]],["qwen2",["Qwen2Model",class extends KC{}]],["phi",["PhiModel",class extends YC{}]],["mpt",["MptModel",class extends ZC{}]],["opt",["OPTModel",class extends XC{}]],["mistral",["MistralModel",class extends NS{}]],["starcoder2",["Starcoder2Model",class extends OS{}]],["falcon",["FalconModel",class extends BS{}]]]),YS=new Map([["speecht5",["SpeechT5ForSpeechToText",class extends zS{}]],["whisper",["WhisperForConditionalGeneration",class extends PC{constructor(e,t,n,a){super(e,t),l(this,"requires_attention_mask",!1),l(this,"main_input_name","input_features"),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}async generate(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(a=this._get_generation_config(a),null!==(n=(t=a).return_timestamps)&&void 0!==n||(t.return_timestamps=!1),a.return_timestamps&&(r=[new xA(a)]),a.return_token_timestamps&&(a.output_attentions=!0,a.return_dict_in_generate=!0,"translate"===a.task&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),!a.alignment_heads))throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");const i=await super.generate(e,a,r);return a.return_token_timestamps&&a.alignment_heads&&(i.token_timestamps=this._extract_token_timestamps(i,a.alignment_heads,a.num_frames)),i}_extract_token_timestamps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.02;if(!e.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");let r=this.config.median_filter_width;void 0===r&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),r=7);const i=e.cross_attentions.map((e=>{let a=Array.from({length:this.config.decoder_layers},((t,n)=>Wk(e.map((e=>e[n])),2))),i=Kk(t.map((e=>{let[t,r]=e;return n?a[t].slice(null,r,null,[0,n]):a[t].slice(null,r)})));i=i.transpose(1,0,2,3);let[o,s]=Yk(i,-2,0,!0),l=i.clone();for(let t=0;t<l.dims[0];++t){let e=l[t];for(let n=0;n<e.dims[0];++n){let a=e[n];const i=o[t][n][0],l=s[t][n][0];for(let e=0;e<a.dims[0];++e){let t=a[e];for(let e=0;e<t.data.length;++e)t.data[e]=(t.data[e]-l.data[e])/i.data[e];t.data.set(Bk(t.data,r))}}}return Jk(l,1)})),o=[e.sequences.length,e.sequences[0].length],s=new Vk("float32",new Float32Array(o[0]*o[1]),o);for(let l=0;l<o[0];++l){const e=i[l].neg().squeeze_(0);let[t,n]=Zk(e),r=Wx([1],Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n]))).map((e=>!!e)),o=[];for(let i=0;i<r.length;++i)r[i]&&o.push(n[i]*a);s[l].data.set(o,1)}return s}}]]]),JS=new Map([["speecht5",["SpeechT5ForTextToSpeech",class extends zS{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.hidden_size/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.hidden_size/this.num_encoder_heads}async generate_speech(e,t){let{threshold:n=.5,minlenratio:a=0,maxlenratio:r=20,vocoder:i=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o={input_ids:e},{encoder_outputs:s,encoder_attention_mask:l}=await nC(this,o),c=s.dims[1]/this.config.reduction_factor,u=Math.floor(c*r),d=Math.floor(c*a),h=this.config.num_mel_bins;let p=[],f=null,m=null,g=0;for(;;){++g;const e=XA(!!m);let a;a=m?m.output_sequence_out:new Vk("float32",new Float32Array(h),[1,1,h]);let r={use_cache_branch:e,output_sequence:a,encoder_attention_mask:l,speaker_embeddings:t,encoder_hidden_states:s};this.addPastKeyValues(r,f),m=await WA(this.decoder_merged_session,r),f=this.getPastKeyValues(m,f);const{prob:i,spectrum:o}=m;if(p.push(o),g>=d&&(Array.from(i.data).filter((e=>e>=n)).length>0||g>=u))break}const y=Wk(p),{waveform:b}=await WA(i.session,{spectrogram:y});return{spectrogram:y,waveform:b}}}]]]),ZS=new Map([["vits",["VitsModel",jS]]]),XS=new Map([["bert",["BertForSequenceClassification",class extends cC{async _call(e){return new GE(await super._call(e))}}]],["roformer",["RoFormerForSequenceClassification",class extends dC{async _call(e){return new GE(await super._call(e))}}]],["electra",["ElectraForSequenceClassification",class extends pC{async _call(e){return new GE(await super._call(e))}}]],["esm",["EsmForSequenceClassification",class extends bC{async _call(e){return new GE(await super._call(e))}}]],["convbert",["ConvBertForSequenceClassification",class extends hC{async _call(e){return new GE(await super._call(e))}}]],["camembert",["CamembertForSequenceClassification",class extends fC{async _call(e){return new GE(await super._call(e))}}]],["deberta",["DebertaForSequenceClassification",class extends mC{async _call(e){return new GE(await super._call(e))}}]],["deberta-v2",["DebertaV2ForSequenceClassification",class extends gC{async _call(e){return new GE(await super._call(e))}}]],["mpnet",["MPNetForSequenceClassification",class extends wC{async _call(e){return new GE(await super._call(e))}}]],["albert",["AlbertForSequenceClassification",class extends xC{async _call(e){return new GE(await super._call(e))}}]],["distilbert",["DistilBertForSequenceClassification",class extends yC{async _call(e){return new GE(await super._call(e))}}]],["roberta",["RobertaForSequenceClassification",class extends FC{async _call(e){return new GE(await super._call(e))}}]],["xlm",["XLMForSequenceClassification",class extends MC{async _call(e){return new GE(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForSequenceClassification",class extends IC{async _call(e){return new GE(await super._call(e))}}]],["bart",["BartForSequenceClassification",class extends AC{async _call(e){return new GE(await super._call(e))}}]],["mbart",["MBartForSequenceClassification",class extends CC{async _call(e){return new GE(await super._call(e))}}]],["mobilebert",["MobileBertForSequenceClassification",class extends vC{async _call(e){return new GE(await super._call(e))}}]],["squeezebert",["SqueezeBertForSequenceClassification",class extends _C{async _call(e){return new GE(await super._call(e))}}]]]),$S=new Map([["bert",["BertForTokenClassification",class extends cC{async _call(e){return new WE(await super._call(e))}}]],["roformer",["RoFormerForTokenClassification",class extends dC{async _call(e){return new WE(await super._call(e))}}]],["electra",["ElectraForTokenClassification",class extends pC{async _call(e){return new WE(await super._call(e))}}]],["esm",["EsmForTokenClassification",class extends bC{async _call(e){return new WE(await super._call(e))}}]],["convbert",["ConvBertForTokenClassification",class extends hC{async _call(e){return new WE(await super._call(e))}}]],["camembert",["CamembertForTokenClassification",class extends fC{async _call(e){return new WE(await super._call(e))}}]],["deberta",["DebertaForTokenClassification",class extends mC{async _call(e){return new WE(await super._call(e))}}]],["deberta-v2",["DebertaV2ForTokenClassification",class extends gC{async _call(e){return new WE(await super._call(e))}}]],["mpnet",["MPNetForTokenClassification",class extends wC{async _call(e){return new WE(await super._call(e))}}]],["distilbert",["DistilBertForTokenClassification",class extends yC{async _call(e){return new WE(await super._call(e))}}]],["roberta",["RobertaForTokenClassification",class extends FC{async _call(e){return new WE(await super._call(e))}}]],["xlm",["XLMForTokenClassification",class extends MC{async _call(e){return new WE(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForTokenClassification",class extends IC{async _call(e){return new WE(await super._call(e))}}]]]),QS=new Map([["t5",["T5ForConditionalGeneration",class extends kC{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["longt5",["LongT5ForConditionalGeneration",class extends TC{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["mt5",["MT5ForConditionalGeneration",class extends DC{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["bart",["BartForConditionalGeneration",class extends AC{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["mbart",["MBartForConditionalGeneration",class extends CC{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["marian",["MarianMTModel",class extends AS{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["m2m_100",["M2M100ForConditionalGeneration",class extends CS{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["blenderbot",["BlenderbotForConditionalGeneration",class extends SC{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",class extends EC{constructor(e,t,n,a){super(e,t),this.decoder_merged_session=n,this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]]]),eE=new Map([["bloom",["BloomForCausalLM",class extends JC{}]],["gpt2",["GPT2LMHeadModel",class extends jC{}]],["gptj",["GPTJForCausalLM",class extends UC{}]],["gpt_bigcode",["GPTBigCodeForCausalLM",class extends GC{}]],["gpt_neo",["GPTNeoForCausalLM",class extends VC{}]],["gpt_neox",["GPTNeoXForCausalLM",class extends qC{}]],["codegen",["CodeGenForCausalLM",class extends HC{}]],["llama",["LlamaForCausalLM",class extends WC{}]],["qwen2",["Qwen2ForCausalLM",class extends KC{}]],["phi",["PhiForCausalLM",class extends YC{}]],["mpt",["MptForCausalLM",class extends ZC{}]],["opt",["OPTForCausalLM",class extends XC{}]],["mbart",["MBartForCausalLM",class extends CC{constructor(e,t,n){super(e,t),this.generation_config=n,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["mistral",["MistralForCausalLM",class extends NS{}]],["starcoder2",["Starcoder2ForCausalLM",class extends OS{}]],["falcon",["FalconForCausalLM",class extends BS{}]],["trocr",["TrOCRForCausalLM",class extends PS{}]],["stablelm",["StableLmForCausalLM",class extends qS{}]]]),tE=new Map([["bert",["BertForMaskedLM",class extends cC{async _call(e){return new KE(await super._call(e))}}]],["roformer",["RoFormerForMaskedLM",class extends dC{async _call(e){return new KE(await super._call(e))}}]],["electra",["ElectraForMaskedLM",class extends pC{async _call(e){return new KE(await super._call(e))}}]],["esm",["EsmForMaskedLM",class extends bC{async _call(e){return new KE(await super._call(e))}}]],["convbert",["ConvBertForMaskedLM",class extends hC{async _call(e){return new KE(await super._call(e))}}]],["camembert",["CamembertForMaskedLM",class extends fC{async _call(e){return new KE(await super._call(e))}}]],["deberta",["DebertaForMaskedLM",class extends mC{async _call(e){return new KE(await super._call(e))}}]],["deberta-v2",["DebertaV2ForMaskedLM",class extends gC{async _call(e){return new KE(await super._call(e))}}]],["mpnet",["MPNetForMaskedLM",class extends wC{async _call(e){return new KE(await super._call(e))}}]],["albert",["AlbertForMaskedLM",class extends xC{async _call(e){return new KE(await super._call(e))}}]],["distilbert",["DistilBertForMaskedLM",class extends yC{async _call(e){return new KE(await super._call(e))}}]],["roberta",["RobertaForMaskedLM",class extends FC{async _call(e){return new KE(await super._call(e))}}]],["xlm",["XLMWithLMHeadModel",class extends MC{async _call(e){return new KE(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForMaskedLM",class extends IC{async _call(e){return new KE(await super._call(e))}}]],["mobilebert",["MobileBertForMaskedLM",class extends vC{async _call(e){return new KE(await super._call(e))}}]],["squeezebert",["SqueezeBertForMaskedLM",class extends _C{async _call(e){return new KE(await super._call(e))}}]]]),nE=new Map([["bert",["BertForQuestionAnswering",class extends cC{async _call(e){return new YE(await super._call(e))}}]],["roformer",["RoFormerForQuestionAnswering",class extends dC{async _call(e){return new YE(await super._call(e))}}]],["electra",["ElectraForQuestionAnswering",class extends pC{async _call(e){return new YE(await super._call(e))}}]],["convbert",["ConvBertForQuestionAnswering",class extends hC{async _call(e){return new YE(await super._call(e))}}]],["camembert",["CamembertForQuestionAnswering",class extends fC{async _call(e){return new YE(await super._call(e))}}]],["deberta",["DebertaForQuestionAnswering",class extends mC{async _call(e){return new YE(await super._call(e))}}]],["deberta-v2",["DebertaV2ForQuestionAnswering",class extends gC{async _call(e){return new YE(await super._call(e))}}]],["mpnet",["MPNetForQuestionAnswering",class extends wC{async _call(e){return new YE(await super._call(e))}}]],["albert",["AlbertForQuestionAnswering",class extends xC{async _call(e){return new YE(await super._call(e))}}]],["distilbert",["DistilBertForQuestionAnswering",class extends yC{async _call(e){return new YE(await super._call(e))}}]],["roberta",["RobertaForQuestionAnswering",class extends FC{async _call(e){return new YE(await super._call(e))}}]],["xlm",["XLMForQuestionAnswering",class extends MC{async _call(e){return new YE(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForQuestionAnswering",class extends IC{async _call(e){return new YE(await super._call(e))}}]],["mobilebert",["MobileBertForQuestionAnswering",class extends vC{async _call(e){return new YE(await super._call(e))}}]],["squeezebert",["SqueezeBertForQuestionAnswering",class extends _C{async _call(e){return new YE(await super._call(e))}}]]]),aE=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",NC]]]),rE=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",NC]]]),iE=new Map([["vit",["ViTForImageClassification",class extends $C{async _call(e){return new GE(await super._call(e))}}]],["fastvit",["FastViTForImageClassification",class extends QC{async _call(e){return new GE(await super._call(e))}}]],["mobilevit",["MobileViTForImageClassification",class extends tS{async _call(e){return new GE(await super._call(e))}}]],["mobilevitv2",["MobileViTV2ForImageClassification",class extends nS{async _call(e){return new GE(await super._call(e))}}]],["beit",["BeitForImageClassification",class extends iS{async _call(e){return new GE(await super._call(e))}}]],["deit",["DeiTForImageClassification",class extends dS{async _call(e){return new GE(await super._call(e))}}]],["convnext",["ConvNextForImageClassification",class extends vS{async _call(e){return new GE(await super._call(e))}}]],["convnextv2",["ConvNextV2ForImageClassification",class extends wS{async _call(e){return new GE(await super._call(e))}}]],["dinov2",["Dinov2ForImageClassification",class extends _S{async _call(e){return new GE(await super._call(e))}}]],["resnet",["ResNetForImageClassification",class extends hS{async _call(e){return new GE(await super._call(e))}}]],["swin",["SwinForImageClassification",class extends pS{async _call(e){return new GE(await super._call(e))}}]],["segformer",["SegformerForImageClassification",class extends VS{}]],["efficientnet",["EfficientNetForImageClassification",class extends US{async _call(e){return new GE(await super._call(e))}}]]]),oE=new Map([["detr",["DetrForObjectDetection",class extends oS{async _call(e){return new sS(await super._call(e))}}]],["table-transformer",["TableTransformerForObjectDetection",class extends cS{async _call(e){return new uS(await super._call(e))}}]],["yolos",["YolosForObjectDetection",class extends xS{async _call(e){return new kS(await super._call(e))}}]]]),sE=new Map([["owlvit",["OwlViTForObjectDetection",class extends aS{}]],["owlv2",["Owlv2ForObjectDetection",class extends rS{}]]]),lE=new Map([["detr",["DetrForSegmentation",class extends oS{async _call(e){return new lS(await super._call(e))}}]],["clipseg",["CLIPSegForImageSegmentation",class extends RC{}]]]),cE=new Map([["segformer",["SegformerForSemanticSegmentation",class extends VS{}]]]),uE=new Map([["sam",["SamModel",class extends TS{constructor(e,t,n){super(e,t),this.prompt_encoder_mask_decoder=n}async get_image_embeddings(e){let{pixel_values:t}=e;return await nC(this,{pixel_values:t})}async forward(e){if(e.image_embeddings&&e.image_positional_embeddings||(e=u(u({},e),await this.get_image_embeddings(e))),!e.input_labels){const t=e.input_points.dims.slice(0,-1),n=t.reduce(((e,t)=>e*t),1);e.input_labels=new Vk("int64",new BigInt64Array(n).fill(1n),t)}return await WA(this.prompt_encoder_mask_decoder,{input_points:e.input_points,input_labels:e.input_labels,image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings})}async _call(e){return new DS(await super._call(e))}}]]]),dE=new Map([["wav2vec2",["Wav2Vec2ForCTC",class extends SS{async _call(e){return new JE(await super._call(e))}}]],["wav2vec2-bert",["Wav2Vec2BertForCTC",class extends MS{async _call(e){return new JE(await super._call(e))}}]],["unispeech",["UniSpeechForCTC",class extends ES{async _call(e){return new JE(await super._call(e))}}]],["unispeech-sat",["UniSpeechSatForCTC",class extends FS{async _call(e){return new JE(await super._call(e))}}]],["wavlm",["WavLMForCTC",class extends IS{async _call(e){return new JE(await super._call(e))}}]],["hubert",["HubertForCTC",class extends SS{async _call(e){return new JE(await super._call(e))}}]]]),hE=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",class extends SS{async _call(e){return new GE(await super._call(e))}}]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",class extends MS{async _call(e){return new GE(await super._call(e))}}]],["unispeech",["UniSpeechForSequenceClassification",class extends ES{async _call(e){return new GE(await super._call(e))}}]],["unispeech-sat",["UniSpeechSatForSequenceClassification",class extends FS{async _call(e){return new GE(await super._call(e))}}]],["wavlm",["WavLMForSequenceClassification",class extends IS{async _call(e){return new GE(await super._call(e))}}]],["hubert",["HubertForSequenceClassification",class extends SS{async _call(e){return new GE(await super._call(e))}}]],["audio-spectrogram-transformer",["ASTForAudioClassification",class extends zC{}]]]),pE=new Map([["wavlm",["WavLMForXVector",class extends IS{async _call(e){return new HE(await super._call(e))}}]]]),fE=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",class extends FS{async _call(e){return new WE(await super._call(e))}}]],["wavlm",["WavLMForAudioFrameClassification",class extends IS{async _call(e){return new WE(await super._call(e))}}]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",class extends SS{async _call(e){return new WE(await super._call(e))}}]]]),mE=new Map([["vitmatte",["VitMatteForImageMatting",class extends eS{async _call(e){return new ZE(await super._call(e))}}]]]),gE=new Map([["swin2sr",["Swin2SRForImageSuperResolution",class extends fS{}]]]),yE=new Map([["dpt",["DPTForDepthEstimation",class extends mS{}]],["depth_anything",["DepthAnythingForDepthEstimation",class extends gS{}]],["glpn",["GLPNForDepthEstimation",class extends yS{}]]]),bE=new Map([["clip",["CLIPVisionModelWithProjection",class extends OC{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="vision_model"),super.from_pretrained(e,n)}}]],["siglip",["SiglipVisionModel",class extends OC{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="vision_model"),super.from_pretrained(e,n)}}]]]),vE=[[HS,OA],[WS,BA],[KS,jA],[XS,OA],[$S,OA],[QS,LA],[YS,LA],[eE,jA],[tE,OA],[nE,OA],[aE,RA],[iE,OA],[lE,OA],[cE,OA],[mE,OA],[gE,OA],[yE,OA],[oE,OA],[sE,OA],[uE,VA],[dE,OA],[hE,OA],[JS,LA],[ZS,OA],[pE,OA],[fE,OA],[bE,OA]];for(const[ZQ,XQ]of vE)for(const[e,t]of ZQ.values())qA.set(e,XQ),GA.set(t,e),UA.set(e,t);const wE=[["CLIPTextModelWithProjection",class extends OC{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},OA],["SiglipTextModel",class extends BC{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},OA],["ClapTextModelWithProjection",class extends LS{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},OA],["ClapAudioModelWithProjection",class extends LS{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="audio_model"),super.from_pretrained(e,n)}},OA]];for(const[ZQ,XQ,$Q]of wE)qA.set(ZQ,$Q),GA.set(XQ,ZQ),UA.set(ZQ,XQ);class _E extends GS{}l(_E,"MODEL_CLASS_MAPPINGS",vE.map((e=>e[0]))),l(_E,"BASE_IF_FAIL",!0);class xE extends GS{}l(xE,"MODEL_CLASS_MAPPINGS",[XS]);class kE extends GS{}l(kE,"MODEL_CLASS_MAPPINGS",[$S]);class TE extends GS{}l(TE,"MODEL_CLASS_MAPPINGS",[QS]);class DE extends GS{}l(DE,"MODEL_CLASS_MAPPINGS",[YS]);class AE extends GS{}l(AE,"MODEL_CLASS_MAPPINGS",[JS]);class CE extends GS{}l(CE,"MODEL_CLASS_MAPPINGS",[ZS]);class SE extends GS{}l(SE,"MODEL_CLASS_MAPPINGS",[eE]);class EE extends GS{}l(EE,"MODEL_CLASS_MAPPINGS",[tE]);class FE extends GS{}l(FE,"MODEL_CLASS_MAPPINGS",[nE]);class ME extends GS{}l(ME,"MODEL_CLASS_MAPPINGS",[aE]);class IE extends GS{}l(IE,"MODEL_CLASS_MAPPINGS",[iE]);class zE extends GS{}l(zE,"MODEL_CLASS_MAPPINGS",[lE]);class PE extends GS{}l(PE,"MODEL_CLASS_MAPPINGS",[cE]);class NE extends GS{}l(NE,"MODEL_CLASS_MAPPINGS",[oE]);class OE extends GS{}l(OE,"MODEL_CLASS_MAPPINGS",[sE]);l(class extends GS{},"MODEL_CLASS_MAPPINGS",[uE]);class BE extends GS{}l(BE,"MODEL_CLASS_MAPPINGS",[dE]);class LE extends GS{}l(LE,"MODEL_CLASS_MAPPINGS",[hE]);l(class extends GS{},"MODEL_CLASS_MAPPINGS",[pE]);l(class extends GS{},"MODEL_CLASS_MAPPINGS",[fE]);class RE extends GS{}l(RE,"MODEL_CLASS_MAPPINGS",[rE]);l(class extends GS{},"MODEL_CLASS_MAPPINGS",[mE]);class jE extends GS{}l(jE,"MODEL_CLASS_MAPPINGS",[gE]);class VE extends GS{}l(VE,"MODEL_CLASS_MAPPINGS",[yE]);class qE extends GS{}l(qE,"MODEL_CLASS_MAPPINGS",[bE]);class UE extends lC{constructor(e){let{logits:t,past_key_values:n,encoder_outputs:a,decoder_attentions:r=null,cross_attentions:i=null}=e;super(),this.logits=t,this.past_key_values=n,this.encoder_outputs=a,this.decoder_attentions=r,this.cross_attentions=i}}class GE extends lC{constructor(e){let{logits:t}=e;super(),this.logits=t}}class HE extends lC{constructor(e){let{logits:t,embeddings:n}=e;super(),this.logits=t,this.embeddings=n}}class WE extends lC{constructor(e){let{logits:t}=e;super(),this.logits=t}}class KE extends lC{constructor(e){let{logits:t}=e;super(),this.logits=t}}class YE extends lC{constructor(e){let{start_logits:t,end_logits:n}=e;super(),this.start_logits=t,this.end_logits=n}}class JE extends lC{constructor(e){let{logits:t}=e;super(),this.logits=t}}class ZE extends lC{constructor(e){let{alphas:t}=e;super(),this.alphas=t}}class XE extends lC{constructor(e){let{waveform:t,spectrogram:n}=e;super(),this.waveform=t,this.spectrogram=n}}var $E=__webpack_require__(806);const QE="undefined"!==typeof self,eF=QE&&"DedicatedWorkerGlobalScope"===self.constructor.name;let tF,nF,aF;if(QE)tF=(e,t)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(e,t)},aF=self.createImageBitmap,nF=self.ImageData;else{if(!$E)throw new Error("Unable to load image processing library.");aF=async e=>{const t=(await e.metadata()).channels;let{data:n,info:a}=await e.rotate().raw().toBuffer({resolveWithObject:!0});const r=new oF(new Uint8ClampedArray(n),a.width,a.height,a.channels);return void 0!==t&&t!==a.channels&&r.convert(t),r}}const rF={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},iF=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class oF{constructor(e,t,n,a){this.data=e,this.width=t,this.height=n,this.channels=a}get size(){return[this.width,this.height]}static async read(e){if(e instanceof oF)return e;if("string"===typeof e||e instanceof URL)return await this.fromURL(e);throw new Error("Unsupported input type: ".concat(typeof e))}static async fromURL(e){let t=await kk(e);if(200!==t.status)throw new Error('Unable to read image from "'.concat(e,'" (').concat(t.status," ").concat(t.statusText,")"));let n=await t.blob();return this.fromBlob(n)}static async fromBlob(e){if(QE){let t=await aF(e);const n=tF(t.width,t.height).getContext("2d");return n.drawImage(t,0,0),new this(n.getImageData(0,0,t.width,t.height).data,t.width,t.height,4)}{let t=$E(await e.arrayBuffer());return await aF(t)}}static fromTensor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CHW";if(3!==e.dims.length)throw new Error("Tensor should have 3 dimensions, but has ".concat(e.dims.length," dimensions."));if("CHW"===t)e=e.transpose(1,2,0);else if("HWC"!==t)throw new Error("Unsupported channel format: ".concat(t));if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error("Unsupported tensor type: ".concat(e.type));switch(e.dims[2]){case 1:case 2:case 3:case 4:return new oF(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error("Unsupported number of channels: ".concat(e.dims[2]))}}grayscale(){if(1===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let t=0,n=0;t<this.data.length;t+=this.channels){const a=this.data[t],r=this.data[t+1],i=this.data[t+2];e[n++]=Math.round(.2989*a+.587*r+.114*i)}break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,1)}rgb(){if(3===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t];break;case 4:for(let t=0,n=0;t<this.data.length;t+=4)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2];break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,3)}rgba(){if(4===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=255;break;case 3:for(let t=0,n=0;t<this.data.length;t+=3)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2],e[n++]=255;break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,4)}async resize(e,t){var n;let{resample:a=2}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null!==(n=rF[a])&&void 0!==n?n:a;if(QE){let n=this.channels,a=this.toCanvas();const r=tF(e,t).getContext("2d");return r.drawImage(a,0,0,e,t),new oF(r.getImageData(0,0,e,t).data,e,t,4).convert(n)}{let n=this.toSharp();switch(r){case"box":case"hamming":"box"!==r&&"hamming"!==r||(console.warn("Resampling method ".concat(r," is not yet supported. Using bilinear instead.")),r="bilinear");case"nearest":case"bilinear":case"bicubic":n=n.affine([e/this.width,0,0,t/this.height],{interpolator:r});break;case"lanczos":n=n.resize({width:e,height:t,fit:"fill",kernel:"lanczos3"});break;default:throw new Error("Resampling method ".concat(r," is not supported."))}return await aF(n)}}async pad(e){let[t,n,a,r]=e;if(t=Math.max(t,0),n=Math.max(n,0),a=Math.max(a,0),r=Math.max(r,0),0===t&&0===n&&0===a&&0===r)return this;if(QE){let e=this.channels,i=this.toCanvas(),o=this.width+t+n,s=this.height+a+r;const l=tF(o,s).getContext("2d");return l.drawImage(i,0,0,this.width,this.height,t,a,o,s),new oF(l.getImageData(0,0,o,s).data,o,s,4).convert(e)}{let e=this.toSharp().extend({left:t,right:n,top:a,bottom:r});return await aF(e)}}async crop(e){let[t,n,a,r]=e;if(t=Math.max(t,0),n=Math.max(n,0),a=Math.min(a,this.width-1),r=Math.min(r,this.height-1),0===t&&0===n&&a===this.width-1&&r===this.height-1)return this;const i=a-t+1,o=r-n+1;if(QE){const e=this.channels,a=this.toCanvas(),r=tF(i,o).getContext("2d");r.drawImage(a,t,n,i,o,0,0,i,o);return new oF(r.getImageData(0,0,i,o).data,i,o,4).convert(e)}{const e=this.toSharp().extract({left:t,top:n,width:i,height:o});return await aF(e)}}async center_crop(e,t){if(this.width===e&&this.height===t)return this;let n=(this.width-e)/2,a=(this.height-t)/2;if(QE){let r=this.channels,i=this.toCanvas();const o=tF(e,t).getContext("2d");let s=0,l=0,c=0,u=0;return n>=0?s=n:c=-n,a>=0?l=a:u=-a,o.drawImage(i,s,l,e,t,c,u,e,t),new oF(o.getImageData(0,0,e,t).data,e,t,4).convert(r)}{let r=this.toSharp();if(n>=0&&a>=0)r=r.extract({left:Math.floor(n),top:Math.floor(a),width:e,height:t});else if(n<=0&&a<=0){let i=Math.floor(-a),o=Math.floor(-n);r=r.extend({top:i,left:o,right:e-this.width-o,bottom:t-this.height-i})}else{let i=[0,0],o=0;a<0?(i[0]=Math.floor(-a),i[1]=t-this.height-i[0]):o=Math.floor(a);let s=[0,0],l=0;n<0?(s[0]=Math.floor(-n),s[1]=e-this.width-s[0]):l=Math.floor(n),r=r.extend({top:i[0],bottom:i[1],left:s[0],right:s[1]}).extract({left:l,top:o,width:e,height:t})}return await aF(r)}}async toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!QE)throw new Error("toBlob() is only supported in browser environments.");const n=this.toCanvas();return await n.convertToBlob({type:e,quality:t})}toTensor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CHW",t=new Vk("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if("HWC"===e);else{if("CHW"!==e)throw new Error("Unsupported channel format: ".concat(e));t=t.permute(2,0,1)}return t}toCanvas(){if(!QE)throw new Error("toCanvas() is only supported in browser environments.");let e=this.clone().rgba(),t=tF(e.width,e.height),n=new nF(e.data,e.width,e.height);return t.getContext("2d").putImageData(n,0,0),t}_update(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.data=e,this.width=t,this.height=n,null!==a&&(this.channels=a),this}clone(){return new oF(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this}async save(e){if(!QE){if(vk.useFS){const t=this.toSharp();return await t.toFile(e)}throw new Error("Unable to save the image because filesystem is disabled in this environment.")}{var t;if(eF)throw new Error("Unable to save an image from a Web Worker.");const n=e.split(".").pop().toLowerCase(),a=null!==(t=iF.get(n))&&void 0!==t?t:"image/png",r=await this.toBlob(a),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=e,o.click(),o.remove()}}toSharp(){if(QE)throw new Error("toSharp() is only supported in server-side environments.");return $E(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}function sF(e){if(e<1)return new Float64Array;if(1===e)return new Float64Array([1]);const t=e-1,n=Math.PI/t,a=new Float64Array(e);for(let r=0;r<e;++r){const e=2*r-t;a[r]=.5+.5*Math.cos(n*e)}return a}const lF={htk:e=>2595*Math.log10(1+e/700),kaldi:e=>1127*Math.log(1+e/700),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:27/Math.log(6.4);return e>=t?n+Math.log(e/t)*a:3*e/200}};function cF(e){const t=lF[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map((e=>t(e)))}const uF={htk:e=>700*(10**(e/2595)-1),kaldi:e=>700*(Math.exp(e/1127)-1),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.log(6.4)/27;return e>=n?t*Math.exp(a*(e-n)):200*e/3}};function dF(e,t,n){const a=(t-e)/(n-1);return Float64Array.from({length:n},((t,n)=>e+a*n))}function hF(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"htk",s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(null!==i&&"slaney"!==i)throw new Error('norm must be one of null or "slaney"');const l=dF(cF(n,o),cF(a,o),t+2);let c,u=function(e){const t=uF[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map((e=>t(e)))}(l,o);if(s){const t=r/(2*e);c=cF(Float64Array.from({length:e},((e,n)=>n*t)),o),u=l}else c=dF(0,Math.floor(r/2),e);const d=function(e,t){const n=Float64Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n])),a=Array.from({length:e.length},(()=>new Array(t.length)));for(let o=0;o<e.length;++o){const n=a[o];for(let a=0;a<t.length;++a)n[a]=t[a]-e[o]}const r=t.length-2,i=Array.from({length:r},(()=>new Array(e.length)));for(let o=0;o<e.length;++o){const e=a[o];for(let t=0;t<r;++t){const a=-e[t]/n[t],r=e[t+2]/n[t+1];i[t][o]=Math.max(0,Math.min(a,r))}}return i}(c,u);if(null!==i&&"slaney"===i)for(let h=0;h<t;++h){const t=d[h],n=2/(u[h+2]-u[h]);for(let a=0;a<e;++a)t[a]*=n}return d}function pF(e,t,n,a,r){if(n<=0)throw new Error("reference must be greater than zero");if(a<=0)throw new Error("min_value must be greater than zero");n=Math.max(a,n);const i=Math.log10(n);for(let o=0;o<e.length;++o)e[o]=t*Math.log10(Math.max(a,e[o])-i);if(null!==r){if(r<=0)throw new Error("db_range must be greater than zero");const t=Ik(e)[0]-r;for(let n=0;n<e.length;++n)e[n]=Math.max(e[n],t)}return e}function fF(e,t,n,a){let{fft_length:r=null,power:i=1,center:o=!0,pad_mode:s="reflect",onesided:l=!0,preemphasis:c=null,mel_filters:u=null,mel_floor:d=1e-10,log_mel:h=null,reference:p=1,min_value:f=1e-10,db_range:m=null,remove_dc_offset:g=null,max_num_frames:y=null,do_pad:b=!0,transpose:v=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const w=t.length;if(null===r&&(r=n),n>r)throw Error("frame_length (".concat(n,") may not be larger than fft_length (").concat(r,")"));if(w!==n)throw new Error("Length of the window (".concat(w,") must equal frame_length (").concat(n,")"));if(a<=0)throw new Error("hop_length must be greater than zero");if(null===i&&null!==u)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(o){if("reflect"!==s)throw new Error('pad_mode="'.concat(s,'" not implemented yet.'));const t=Math.floor((r-1)/2)+1;e=function(e,t,n){const a=new e.constructor(e.length+t+n),r=e.length-1;for(let i=0;i<e.length;++i)a[t+i]=e[i];for(let i=1;i<=t;++i)a[t-i]=e[Yx(i,r)];for(let i=1;i<=n;++i)a[r+t+i]=e[Yx(r-i,r)];return a}(e,t,t)}const _=Math.floor(1+Math.floor((e.length-n)/a)),x=l?Math.floor(r/2)+1:r;let k=_,T=_;null!==y&&(y>_?b&&(T=y):T=k=y);const D=new Ok(r),A=new Float64Array(r),C=new Float64Array(D.outputBufferSize),S=new Array(k);for(let I=0;I<k;++I){const r=I*a;for(let t=0;t<n;++t)A[t]=e[r+t];if(g){let e=0;for(let a=0;a<n;++a)e+=A[a];const t=e/n;for(let a=0;a<n;++a)A[a]-=t}if(null!==c){for(let e=n-1;e>=1;--e)A[e]-=c*A[e-1];A[0]*=1-c}for(let e=0;e<t.length;++e)A[e]*=t[e];D.realTransform(C,A);const i=new Array(x);for(let e=0;e<i.length;++e){const t=e<<1;i[e]=C[t]**2+C[t+1]**2}S[I]=i}if(null!==i&&2!==i){const e=2/i;for(let t=0;t<S.length;++t){const n=S[t];for(let t=0;t<n.length;++t)n[t]**=e}}const E=u.length,F=new Float32Array(E*T),M=v?[T,E]:[E,T];for(let I=0;I<E;++I){const e=u[I];for(let t=0;t<k;++t){const n=S[t];let a=0;for(let t=0;t<x;++t)a+=e[t]*n[t];F[v?t*E+I:I*k+t]=Math.max(d,a)}}if(null!==i&&null!==h){const e=Math.min(F.length,k*E);switch(h){case"log":for(let t=0;t<e;++t)F[t]=Math.log(F[t]);break;case"log10":for(let t=0;t<e;++t)F[t]=Math.log10(F[t]);break;case"dB":if(1===i)!function(e){pF(e,20,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(F,p,f,m);else{if(2!==i)throw new Error("Cannot use log_mel option '".concat(h,"' with power ").concat(i));!function(e){pF(e,10,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(F,p,f,m)}break;default:throw new Error("log_mel must be one of null, 'log', 'log10' or 'dB'. Got '".concat(h,"'"))}}return{data:F,dims:M}}function mF(e,t){let{periodic:n=!0,frame_length:a=null,center:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=n?e+1:e;let o;switch(t){case"boxcar":o=new Float64Array(i).fill(1);break;case"hann":case"hann_window":o=sF(i);break;case"povey":o=sF(i).map((e=>Math.pow(e,.85)));break;default:throw new Error("Unknown window type ".concat(t,"."))}if(n&&(o=o.subarray(0,e)),null===a)return o;if(e>a)throw new Error("Length of the window (".concat(e,") may not be larger than frame_length (").concat(a,")"));return o}function gF(e){let[t,n,a,r]=e;return[t-a/2,n-r/2,t+a/2,n+r/2]}function yF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.logits,i=e.pred_boxes,[o,s,l]=r.dims;if(null!==n&&n.length!==o)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let c=[];for(let u=0;u<o;++u){let e=null!==n?n[u]:null,o={boxes:[],classes:[],scores:[]},d=r[u],h=i[u];for(let n=0;n<s;++n){let r,i=d[n],s=[];if(a){r=i.sigmoid().data;for(let e=0;e<r.length;++e)r[e]>t&&s.push(e)}else{let e=Ik(i.data)[1];if(e===l-1)continue;s.push(e),r=Ek(i.data)}for(const t of s){let a=h[n].data;a=gF(a),null!==e&&(a=a.map(((t,n)=>t*e[(n+1)%2]))),o.boxes.push(a),o.classes.push(t),o.scores.push(r[t])}}c.push(o)}return c}function bF(e,t){var n,a;if(!(e instanceof Float32Array||e instanceof Float64Array))throw new Error("".concat(t," expects input to be a Float32Array or a Float64Array, but got ").concat(null!==(n=null===e||void 0===e||null===(a=e.constructor)||void 0===a?void 0:a.name)&&void 0!==n?n:typeof e," instead. ")+"If using the feature extractor directly, remember to use `read_audio(url, sampling_rate)` to obtain the raw audio data of the file/url.")}function vF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=e/t;let i=function(e){const t=Math.round(e);return Math.abs(e)%1===.5?t%2===0?t:t-1:t}(r)*t;return null!==a&&i>a&&(i=Math.floor(r)*t),i<n&&(i=Math.ceil(r)*t),i}function wF(e,t){let[n,a]=e;return[Math.max(Math.floor(n/t),1)*t,Math.max(Math.floor(a/t),1)*t]}class _F extends qx{constructor(e){super(),this.config=e}}class xF extends _F{constructor(e){var t,n,a,r,i,o,s,l;super(e),this.image_mean=null!==(t=this.config.image_mean)&&void 0!==t?t:this.config.mean,this.image_std=null!==(n=this.config.image_std)&&void 0!==n?n:this.config.std,this.resample=null!==(a=this.config.resample)&&void 0!==a?a:2,this.do_rescale=null===(r=this.config.do_rescale)||void 0===r||r,this.rescale_factor=null!==(i=this.config.rescale_factor)&&void 0!==i?i:1/255,this.do_normalize=this.config.do_normalize,this.do_resize=this.config.do_resize,this.do_thumbnail=this.config.do_thumbnail,this.size=this.config.size,this.size_divisibility=null!==(o=this.config.size_divisibility)&&void 0!==o?o:this.config.size_divisor,this.do_center_crop=this.config.do_center_crop,this.crop_size=this.config.crop_size,this.do_convert_rgb=null===(s=this.config.do_convert_rgb)||void 0===s||s,this.do_crop_margin=this.config.do_crop_margin,this.pad_size=this.config.pad_size,this.do_pad=this.config.do_pad,this.do_pad&&!this.pad_size&&this.size&&void 0!==this.size.width&&void 0!==this.size.height&&(this.pad_size=this.size),this.do_flip_channel_order=null!==(l=this.config.do_flip_channel_order)&&void 0!==l&&l}async thumbnail(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const a=e.height,r=e.width,i=t.height,o=t.width;let s=Math.min(a,i),l=Math.min(r,o);return s===a&&l===r?e:(a>r?l=Math.floor(r*s/a):r>a&&(s=Math.floor(a*l/r)),await e.resize(l,s,{resample:n}))}async crop_margin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;const n=e.clone().grayscale(),a=Mk(n.data)[0],r=Ik(n.data)[0]-a;if(0===r)return e;const i=t/255;let o=n.width,s=n.height,l=0,c=0;for(let u=0;u<n.height;++u){const e=u*n.width;for(let t=0;t<n.width;++t)(n.data[e+t]-a)/r<i&&(o=Math.min(o,t),s=Math.min(s,u),l=Math.max(l,t),c=Math.max(c,u))}return e=await e.crop([o,s,l,c])}pad_image(e,t,n){let{mode:a="constant",center:r=!1,constant_values:i=0}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[o,s,l]=t;let c,u;if("number"===typeof n?(c=n,u=n):(c=n.width,u=n.height),c!==s||u!==o){const n=new Float32Array(c*u*l);if(Array.isArray(i))for(let e=0;e<n.length;++e)n[e]=i[e%l];else 0!==i&&n.fill(i);const[d,h]=r?[Math.floor((c-s)/2),Math.floor((u-o)/2)]:[0,0];for(let t=0;t<o;++t){const a=(t+h)*c,r=t*s;for(let t=0;t<s;++t){const i=(a+t+d)*l,o=(r+t)*l;for(let t=0;t<l;++t)n[i+t]=e[o+t]}}if("symmetric"===a){if(r)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const t=o-1,a=s-1;for(let r=0;r<u;++r){const i=r*c,u=Yx(r,t)*s;for(let t=0;t<c;++t){if(r<o&&t<s)continue;const c=(i+t)*l,d=(u+Yx(t,a))*l;for(let t=0;t<l;++t)n[c+t]=e[d+t]}}}e=n,t=[u,c,l]}return[e,t]}rescale(e){for(let t=0;t<e.length;++t)e[t]=this.rescale_factor*e[t]}get_resize_output_image_size(e,t){const[n,a]=e.size;let r,i;if(this.do_thumbnail){const{height:e,width:n}=t;r=Math.min(e,n)}else if(Number.isInteger(t)){var o;r=t,i=null!==(o=this.config.max_size)&&void 0!==o?o:r}else void 0!==t&&(r=t.shortest_edge,i=t.longest_edge);if(void 0!==r||void 0!==i){const e=void 0===r?1:Math.max(r/n,r/a),t=n*e,o=a*e,s=void 0===i?1:Math.min(i/t,i/o);let l=Math.floor(Number((t*s).toFixed(2))),c=Math.floor(Number((o*s).toFixed(2)));return void 0!==this.size_divisibility&&([l,c]=wF([l,c],this.size_divisibility)),[l,c]}if(void 0!==t&&void 0!==t.width&&void 0!==t.height){let e=t.width,r=t.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let t=r/a,i=e/n;Math.abs(1-i)<Math.abs(1-t)?t=i:i=t,r=vF(t*a,this.config.ensure_multiple_of),e=vF(i*n,this.config.ensure_multiple_of)}return[e,r]}if(void 0!==this.size_divisibility)return wF([n,a],this.size_divisibility);throw new Error("Could not resize image due to unsupported `this.size` option in config: ".concat(JSON.stringify(t)))}async resize(e){const[t,n]=this.get_resize_output_image_size(e,this.size);return await e.resize(t,n,{resample:this.resample})}async preprocess(e){let{do_normalize:t=null,do_pad:n=null,do_convert_rgb:a=null,do_convert_grayscale:r=null,do_flip_channel_order:i=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.do_crop_margin&&(e=await this.crop_margin(e));const[o,s]=e.size;if((null!==a&&void 0!==a?a:this.do_convert_rgb)?e=e.rgb():r&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let t,n;Number.isInteger(this.crop_size)?(t=this.crop_size,n=this.crop_size):(t=this.crop_size.width,n=this.crop_size.height),e=await e.center_crop(t,n)}const l=[e.height,e.width];let c=Float32Array.from(e.data),u=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(c),null!==t&&void 0!==t?t:this.do_normalize){let t=this.image_mean;Array.isArray(this.image_mean)||(t=new Array(e.channels).fill(t));let n=this.image_std;if(Array.isArray(this.image_std)||(n=new Array(e.channels).fill(t)),t.length!==e.channels||n.length!==e.channels)throw new Error("When set to arrays, the length of `image_mean` (".concat(t.length,") and `image_std` (").concat(n.length,") must match the number of channels in the image (").concat(e.channels,")."));for(let a=0;a<c.length;a+=e.channels)for(let r=0;r<e.channels;++r)c[a+r]=(c[a+r]-t[r])/n[r]}if(null!==n&&void 0!==n?n:this.do_pad)if(this.pad_size){const t=this.pad_image(c,[e.height,e.width,e.channels],this.pad_size);[c,u]=t}else if(this.size_divisibility){const[e,t]=wF([u[1],u[0]],this.size_divisibility);[c,u]=this.pad_image(c,u,{width:e,height:t})}if(null!==i&&void 0!==i?i:this.do_flip_channel_order){if(3!==u[2])throw new Error("Flipping channel order is only supported for RGB images.");for(let e=0;e<c.length;e+=3){const t=c[e];c[e]=c[e+2],c[e+2]=t}}return{original_size:[s,o],reshaped_input_size:l,pixel_values:new Vk("float32",c,u).permute(2,0,1)}}async _call(e){Array.isArray(e)||(e=[e]);const t=await Promise.all(e.map((e=>this.preprocess(e)))),n=Kk(t.map((e=>e.pixel_values)),0);return{pixel_values:n,original_sizes:t.map((e=>e.original_size)),reshaped_input_sizes:t.map((e=>e.reshaped_input_size))}}}class kF extends xF{}class TF extends xF{constructor(e){var t;super(e),this.crop_pct=null!==(t=this.config.crop_pct)&&void 0!==t?t:.875}async resize(e){var t;const n=null===(t=this.size)||void 0===t?void 0:t.shortest_edge;if(void 0===n)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(n<384){const t=Math.floor(n/this.crop_pct),[a,r]=this.get_resize_output_image_size(e,{shortest_edge:t});e=await e.resize(a,r,{resample:this.resample}),e=await e.center_crop(n,n)}else e=await e.resize(n,n,{resample:this.resample});return e}}class DF extends xF{}class AF extends xF{post_process_object_detection(){return yF(...arguments)}}class CF extends xF{pad_image(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[r,i,o]=t;let s=this.image_mean;Array.isArray(this.image_mean)||(s=new Array(o).fill(s));let l=this.image_std;Array.isArray(l)||(l=new Array(o).fill(s));const c=s.map(((e,t)=>-e/l[t]));return super.pad_image(e,t,n,u({center:!0,constant_values:c},a))}}class SF extends qx{constructor(e){super(),this.feature_extractor=e}async _call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return await this.feature_extractor(e,...n)}}class EF{static async from_pretrained(e){var t,n;let{progress_callback:a=null,config:r=null,cache_dir:i=null,local_files_only:o=!1,revision:s="main"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=null!==r&&void 0!==r?r:await Ck(e,"preprocessor_config.json",!0,{progress_callback:a,config:r,cache_dir:i,local_files_only:o,revision:s}),c=null!==(t=l.feature_extractor_type)&&void 0!==t?t:l.image_processor_type,u=this.FEATURE_EXTRACTOR_CLASS_MAPPING[c];if(!u){if(void 0===l.size)throw new Error("Unknown Feature Extractor type: ".concat(c));console.warn('Feature extractor type "'.concat(c,'" not found, assuming ImageFeatureExtractor due to size parameter in config.')),u=xF}return new(null!==(n=this.PROCESSOR_CLASS_MAPPING[l.processor_class])&&void 0!==n?n:SF)(new u(l))}}async function FF(e){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>oF.read(e))))}async function MF(e,t){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>"string"===typeof e||e instanceof URL?async function(e,t){if("undefined"===typeof AudioContext)throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const n=await(await kk(e)).arrayBuffer(),a=new AudioContext({sampleRate:t});"undefined"===typeof t&&console.warn("No sampling rate provided, using default of ".concat(a.sampleRate,"Hz."));const r=await a.decodeAudioData(n);let i;if(2===r.numberOfChannels){const e=Math.sqrt(2),t=r.getChannelData(0),n=r.getChannelData(1);i=new Float32Array(t.length);for(let a=0;a<r.length;++a)i[a]=e*(t[a]+n[a])/2}else i=r.getChannelData(0);return i}(e,t):e instanceof Float64Array?new Float32Array(e):e)))}function IF(e,t){t&&(e=e.map((e=>0|e)));const[n,a,r,i]=e;return{xmin:n,ymin:a,xmax:r,ymax:i}}l(EF,"FEATURE_EXTRACTOR_CLASS_MAPPING",{ImageFeatureExtractor:xF,WhisperFeatureExtractor:class extends _F{constructor(e){var t,n;super(e),null!==(n=(t=this.config).mel_filters)&&void 0!==n||(t.mel_filters=hF(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney")),this.window=mF(this.config.n_fft,"hann")}_extract_fbank_features(e){const{data:t,dims:n}=fF(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:this.config.nb_max_frames}),a=Ik(t)[0];for(let r=0;r<t.length;++r)t[r]=(Math.max(t[r],a-8)+4)/4;return{data:t,dims:n}}async _call(e){let t;bF(e,"WhisperFeatureExtractor"),e.length>this.config.n_samples?(console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),t=e.slice(0,this.config.n_samples)):(t=new Float32Array(this.config.n_samples),t.set(e));const{data:n,dims:a}=this._extract_fbank_features(t);return{input_features:new Vk("float32",n,[1,...a])}}},ViTFeatureExtractor:class extends xF{},MobileViTFeatureExtractor:DF,MobileViTImageProcessor:class extends DF{},OwlViTFeatureExtractor:AF,Owlv2ImageProcessor:class extends AF{},CLIPFeatureExtractor:class extends xF{},ChineseCLIPFeatureExtractor:class extends xF{},SiglipImageProcessor:class extends xF{},ConvNextFeatureExtractor:TF,ConvNextImageProcessor:class extends TF{},SegformerFeatureExtractor:class extends xF{post_process_semantic_segmentation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.logits,a=n.dims[0];if(null!==t&&t.length!==a)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const r=[];for(let i=0;i<a;++i){const e=null!==t?t[i]:null;let a=n[i];null!==e&&(a=qk(a,e,"bilinear",!1));const[o,s]=null!==e&&void 0!==e?e:a.dims.slice(-2),l=new Vk("int32",new Int32Array(o*s),[o,s]),c=a[0].data;for(let t=1;t<a.dims[0];++t){const e=a[t].data;for(let n=0;n<e.length;++n)e[n]>c[n]&&(c[n]=e[n],l.data[n]=t)}const u=new Array(a.dims[0]),d=l.data;for(let t=0;t<d.length;++t){const e=d[t];u[e]=e}const h=u.filter((e=>void 0!==e));r.push({segmentation:l,labels:h})}return r}},BitImageProcessor:class extends xF{},DPTImageProcessor:class extends kF{},DPTFeatureExtractor:kF,GLPNFeatureExtractor:class extends xF{},BeitFeatureExtractor:class extends xF{},DeiTFeatureExtractor:class extends xF{},DetrFeatureExtractor:class extends xF{async _call(e){const t=await super._call(e),n=[t.pixel_values.dims[0],64,64],a=new Vk("int64",new BigInt64Array(n.reduce(((e,t)=>e*t))).fill(1n),n);return u(u({},t),{},{pixel_mask:a})}post_process_object_detection(){return yF(...arguments)}remove_low_and_no_objects(e,t,n,a){let r=[],i=[],o=[];for(let s=0;s<e.dims[0];++s){let l=e[s],c=t[s],u=Ik(l.data)[1];if(u===a)continue;let d=Ek(l.data)[u];d>n&&(r.push(c),i.push(d),o.push(u))}return[r,i,o]}check_segment_validity(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.8,i=[],o=0,s=0;for(let c=0;c<e.length;++c)e[c]===n&&(i.push(c),++o),t[n].data[c]>=a&&++s;let l=o>0&&s>0;if(l){l=o/s>r}return[l,i]}compute_segments(e,t,n,a,r){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,[o,s]=null!==i&&void 0!==i?i:e[0].dims,l=new Vk("int32",new Int32Array(o*s),[o,s]),c=[];if(null!==i)for(let p=0;p<e.length;++p)e[p]=qk(e[p],i,"bilinear",!1);let u=new Int32Array(e[0].data.length),d=new Float32Array(e[0].data.length);for(let p=0;p<e.length;++p){let n=t[p];for(let t=0;t<e[p].data.length;++t)e[p].data[t]*=n,e[p].data[t]>d[t]&&(u[t]=p,d[t]=e[p].data[t])}let h=0;for(let p=0;p<n.length;++p){let i=n[p],[o,s]=this.check_segment_validity(u,e,p,a,r);if(o){++h;for(let e of s)l.data[e]=h;c.push({id:h,label_id:i,score:t[p]})}}return[l,c]}post_process_panoptic_segmentation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===r&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),r=new Set);const o=e.logits,s=e.pred_masks.sigmoid();let[l,c,u]=o.dims;if(u-=1,null!==i&&i.length!==l)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let d=[];for(let h=0;h<l;++h){let e=null!==i?i[h]:null,l=o[h],c=s[h],[p,f,m]=this.remove_low_and_no_objects(l,c,t,u);if(0===m.length){let[t,n]=null!==e&&void 0!==e?e:c.dims.slice(-2),a=new Vk("int32",new Int32Array(t*n).fill(-1),[t,n]);d.push({segmentation:a,segments_info:[]});continue}let[g,y]=this.compute_segments(p,f,m,n,a,r,e);d.push({segmentation:g,segments_info:y})}return d}post_process_instance_segmentation(){throw Error("Not implemented yet")}},YolosFeatureExtractor:class extends xF{post_process_object_detection(){return yF(...arguments)}},DonutFeatureExtractor:CF,NougatImageProcessor:class extends CF{},EfficientNetImageProcessor:class extends xF{constructor(e){var t;super(e),this.include_top=null===(t=this.config.include_top)||void 0===t||t,this.include_top&&(this.image_std=this.image_std.map((e=>e*e)))}},ViTImageProcessor:class extends xF{},VitMatteImageProcessor:class extends xF{async _call(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const n=await Promise.all(e.map((e=>this.preprocess(e)))),a=await Promise.all(t.map((e=>this.preprocess(e,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})))),r=Kk(n.map(((e,t)=>Wk([e.pixel_values,a[t].pixel_values],0))),0);return{pixel_values:r,original_sizes:n.map((e=>e.original_size)),reshaped_input_sizes:n.map((e=>e.reshaped_input_size))}}},SamImageProcessor:class extends xF{reshape_input_points(e,t,n){let a=Gx(e=structuredClone(e));if(3===a.length)a=[1,...a],e=[e];else if(4!==a.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let r=0;r<e.length;++r){let a=t[r],i=n[r],o=[i[0]/a[0],i[1]/a[1]];for(let t=0;t<e[r].length;++t)for(let n=0;n<e[r][t].length;++n)for(let a=0;a<e[r][t][n].length;++a)e[r][t][n][a]*=o[a]}return new Vk("float32",Float32Array.from(e.flat(1/0)),a)}add_input_labels(e,t){let n=Gx(e);if(2===n.length)n=[1,...n],e=[e];else if(3!==n.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(n.some(((e,n)=>e!==t.dims[n])))throw Error("The first ".concat(n.length," dimensions of 'input_points' and 'input_labels' must be the same."));return new Vk("int64",e.flat(1/0).map(BigInt),n)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=await super._call(e);if(t&&(a.input_points=this.reshape_input_points(t,a.original_sizes,a.reshaped_input_sizes)),n){if(!a.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");a.input_labels=this.add_input_labels(n,a.input_points)}return a}post_process_masks(e,t,n){let{mask_threshold:a=0,binarize:r=!0,pad_size:i=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=[];i=null!==i&&void 0!==i?i:this.pad_size;const s=[i.height,i.width];for(let l=0;l<t.length;++l){const i=t[l],c=n[l],u=e[l],d=[];for(let e=0;e<u.dims[0];++e){let t=qk(u[e],s,"bilinear",!1);if(t=t.slice(null,[0,c[0]],[0,c[1]]),t=qk(t,i,"bilinear",!1),r){const e=new Uint8Array(t.data.length);for(let n=0;n<t.data.length;++n)t.data[n]>a&&(e[n]=1);t=new Vk("bool",e,t.dims)}d.push(t)}o.push(Kk(d))}return o}},Swin2SRImageProcessor:class extends xF{pad_image(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[r,i,o]=t;return super.pad_image(e,t,{width:i+(n-i%n)%n,height:r+(n-r%n)%n},u({mode:"symmetric",center:!1,constant_values:-1},a))}},Wav2Vec2FeatureExtractor:class extends _F{_zero_mean_unit_var_norm(e){const t=e.reduce(((e,t)=>e+t),0),n=t/e.length,a=e.reduce(((e,t)=>e+(t-n)**2),0)/e.length;return e.map((e=>(e-n)/Math.sqrt(a+1e-7)))}async _call(e){bF(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let t=e;this.config.do_normalize&&(t=this._zero_mean_unit_var_norm(t));const n=[1,t.length];return{input_values:new Vk("float32",t,n),attention_mask:new Vk("int64",new BigInt64Array(t.length).fill(1n),n)}}},SeamlessM4TFeatureExtractor:class extends _F{constructor(e){super(e);const t=this.config.sampling_rate,n=hF(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let a=0;a<n.length;++a)n[a].push(0);this.mel_filters=n,this.window=mF(400,"povey",{periodic:!1})}_extract_fbank_features(e,t){return e=e.map((e=>32768*e)),fF(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){let{padding:t=!0,pad_to_multiple_of:n=2,do_normalize_per_mel_bins:a=!0,return_attention_mask:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bF(e,"SeamlessM4TFeatureExtractor");let i,o=this._extract_fbank_features(e,this.config.max_length);if(a){const[e,t]=o.dims;for(let n=0;n<t;++n){let a=0;for(let l=0;l<e;++l)a+=o.data[l*t+n];const r=a/e;let i=0;for(let l=0;l<e;++l)i+=(o.data[l*t+n]-r)**2;i/=e-1;const s=Math.sqrt(i+1e-7);for(let l=0;l<e;++l){const e=l*t+n;o.data[e]=(o.data[e]-r)/s}}}if(t){const[e,t]=o.dims,a=e%n;if(a>0){const n=new Float32Array(t*(e+a));n.set(o.data),n.fill(this.config.padding_value,o.data.length);const s=e+a;o={data:n,dims:[s,t]},r&&(i=new Vk("int64",new BigInt64Array(s),[1,s]),i.data.fill(1n,0,e))}}const[s,l]=o.dims,c=this.config.stride;if(0!==s%c)throw new Error("The number of frames (".concat(s,") must be a multiple of the stride (").concat(c,")."));const u=new Vk("float32",o.data,o.dims).view(1,Math.floor(s/c),l*c),d={input_features:u};if(r){const e=u.dims[1],t=new Vk("int64",new BigInt64Array(e),[1,e]);if(i)for(let n=1,a=0;n<s;n+=c,++a)t.data[a]=i.data[n];else t.data.fill(1n);d.attention_mask=t}return d}},SpeechT5FeatureExtractor:class extends _F{},ASTFeatureExtractor:class extends _F{constructor(e){super(e);const t=this.config.sampling_rate,n=hF(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let a=0;a<n.length;++a)n[a].push(0);this.mel_filters=n,this.window=mF(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}_extract_fbank_features(e,t){return fF(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){bF(e,"ASTFeatureExtractor");const t=this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const e=2*this.std;for(let n=0;n<t.data.length;++n)t.data[n]=(t.data[n]-this.mean)/e}return{input_values:new Vk("float32",t.data,[1,...t.dims])}}},ClapFeatureExtractor:class extends _F{constructor(e){super(e),this.mel_filters=hF(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=hF(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=mF(this.config.fft_window_size,"hann")}_get_input_mel(e,t,n,a){let r,i=!1;const o=e.length-t;if(o>0){if("rand_trunc"!==n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));{i=!0;const n=Math.floor(Math.random()*(o+1));e=e.subarray(n,n+t),r=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),r.dims=[1,...r.dims]}}else{if(o<0){let n=new Float64Array(t);if(n.set(e),"repeat"===a)for(let a=e.length;a<t;a+=e.length)n.set(e.subarray(0,Math.min(e.length,t-a)),a);else if("repeatpad"===a)for(let t=e.length;t<-o;t+=e.length)n.set(e,t);e=n}if("fusion"===n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));r=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),r.dims=[1,...r.dims]}return u(u({},r),{},{longer:i})}_extract_fbank_features(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fF(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:t,log_mel:"dB",max_num_frames:n,do_pad:!1,transpose:!0})}async _call(e){let{max_length:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bF(e,"ClapFeatureExtractor");const n=this._get_input_mel(e,null!==t&&void 0!==t?t:this.config.nb_max_samples,this.config.truncation,this.config.padding);return{input_features:new Vk("float32",n.data,[1,...n.dims])}}}}),l(EF,"PROCESSOR_CLASS_MAPPING",{WhisperProcessor:class extends SF{async _call(e){return await this.feature_extractor(e)}},Wav2Vec2ProcessorWithLM:class extends SF{async _call(e){return await this.feature_extractor(e)}},SamProcessor:class extends SF{async _call(){return await this.feature_extractor(...arguments)}post_process_masks(){return this.feature_extractor.post_process_masks(...arguments)}reshape_input_points(){return this.feature_extractor.reshape_input_points(...arguments)}},SpeechT5Processor:class extends SF{async _call(e){return await this.feature_extractor(e)}},OwlViTProcessor:class extends SF{}});class zF extends qx{constructor(e){let{task:t,model:n,tokenizer:a=null,processor:r=null}=e;super(),this.task=t,this.model=n,this.tokenizer=a,this.processor=r}async dispose(){await this.model.dispose()}}class PF extends zF{constructor(e){super(e),l(this,"_key","generated_text")}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]),this.model.config.prefix&&(e=e.map((e=>this.model.config.prefix+e)));const n=this.model.config.task_specific_params;n&&n[this.task]&&n[this.task].prefix&&(e=e.map((e=>n[this.task].prefix+e)));const a=this.tokenizer,r={padding:!0,truncation:!0};let i;i=this instanceof NF&&"_build_translation_inputs"in a?a._build_translation_inputs(e,r,t).input_ids:a(e,r).input_ids;const o=await this.model.generate(i,t);return a.batch_decode(o,{skip_special_tokens:!0}).map((e=>({[this._key]:e})))}}class NF extends PF{constructor(e){super(e),l(this,"_key","translation_text")}}function OF(e){return Array.isArray(e)&&e.every((e=>"role"in e&&"content"in e))}const BF=Object.freeze({"text-classification":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e){let{topk:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),a=await this.model(n),r="multi_label_classification"===this.model.config.problem_type?e=>e.sigmoid().data:e=>Ek(e.data),i=this.model.config.id2label,o=[];for(const s of a.logits){const e=Fk(r(s),t).map((e=>({label:i[e[0]],score:e[1]})));1===t?o.push(...e):o.push(e)}return Array.isArray(e)||1===t?o:o[0]}},model:xE,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e){let{ignore_labels:t=["O"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),a=this.tokenizer(n?e:[e],{padding:!0,truncation:!0}),r=(await this.model(a)).logits,i=this.model.config.id2label,o=[];for(let s=0;s<r.dims[0];++s){const e=a.input_ids[s],n=r[s],l=[];for(let a=0;a<n.dims[0];++a){const r=n[a],o=Ik(r.data)[1],s=i?i[o]:"LABEL_".concat(o);if(t.includes(s))continue;const c=this.tokenizer.decode([e[a].item()],{skip_special_tokens:!0});if(""===c)continue;const u=Ek(r.data);l.push({entity:s,score:u[o],index:a,word:c,start:null,end:null})}o.push(l)}return n?o:o[0]}},model:kE,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e,t){let{topk:n=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=this.tokenizer(e,{text_pair:t,padding:!0,truncation:!0}),r=await this.model(a),i=[];for(let o=0;o<r.start_logits.dims[0];++o){const e=a.input_ids[o],t=e.indexOf(this.tokenizer.sep_token_id),s=Array.from(Ek(r.start_logits[o].data)).map(((e,t)=>[e,t])).filter((e=>e[1]>t)),l=Array.from(Ek(r.end_logits[o].data)).map(((e,t)=>[e,t])).filter((e=>e[1]>t)),c=Kx(s,l).filter((e=>e[0][1]<=e[1][1])).map((e=>[e[0][1],e[1][1],e[0][0]*e[1][0]])).sort(((e,t)=>t[2]-e[2]));for(let a=0;a<Math.min(c.length,n);++a){const[t,n,r]=c[a],o=[...e].slice(t,n+1),s=this.tokenizer.decode(o,{skip_special_tokens:!0});i.push({answer:s,score:r})}}return 1===n?i[0]:i}},model:FE,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e){let{topk:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),a=await this.model(n),r=[];for(let i=0;i<n.input_ids.dims[0];++i){const e=n.input_ids[i],o=e.indexOf(this.tokenizer.mask_token_id);if(-1===o)throw Error("Mask token (".concat(this.tokenizer.mask_token,") not found in text."));const s=Fk(Ek(a.logits[i][o].data),t);r.push(s.map((t=>{const n=[...e];return n[o]=t[0],{score:t[1],token:t[0],token_str:this.tokenizer.model.vocab[t[0]],sequence:this.tokenizer.decode(n,{skip_special_tokens:!0})}})))}return Array.isArray(e)?r:r[0]}},model:EE,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:pA,pipeline:class extends PF{constructor(e){super(e),l(this,"_key","summary_text")}},model:TE,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:pA,pipeline:NF,model:TE,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:pA,pipeline:PF,model:TE,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e){var t,n;let a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!1,o=!1;if("string"===typeof e)a=e=[e];else if(Array.isArray(e)&&e.every((e=>"string"===typeof e)))i=!0,a=e;else{if(OF(e))e=[e];else{if(!Array.isArray(e)||!e.every(OF))throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");i=!0}o=!0,a=e.map((e=>this.tokenizer.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0})))}const s=null!==(t=r.add_special_tokens)&&void 0!==t&&t,l=!o&&(null===(n=r.return_full_text)||void 0===n||n);this.tokenizer.padding_side="left";const{input_ids:c,attention_mask:u}=this.tokenizer(a,{add_special_tokens:s,padding:!0,truncation:!0}),d=await this.model.generate(c,r,null,{inputs_attention_mask:u});let h,p=this.tokenizer.batch_decode(d,{skip_special_tokens:!0});!l&&c.dims.at(-1)>0&&(h=this.tokenizer.batch_decode(c,{skip_special_tokens:!0}).map((e=>e.length)));const f=Array.from({length:e.length},(e=>[]));for(let m=0;m<p.length;++m){const t=Math.floor(m/d.length*e.length);h&&(p[m]=p[m].slice(h[t])),f[t].push({generated_text:o?[...e[t],{role:"assistant",content:p[m]}]:p[m]})}return i||1!==f.length?f:f[0]}},model:SE,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:pA,pipeline:class extends zF{constructor(e){var t;super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map((e=>{let[t,n]=e;return[t.toLowerCase(),n]}))),this.entailment_id=this.label2id.entailment,void 0===this.entailment_id&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=null!==(t=this.label2id.contradiction)&&void 0!==t?t:this.label2id.not_entailment,void 0===this.contradiction_id&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,t){let{hypothesis_template:n="This example is {}.",multi_label:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Array.isArray(e);r||(e=[e]),Array.isArray(t)||(t=[t]);const i=t.map((e=>n.replace("{}",e))),o=a||1===t.length,s=[];for(const l of e){const e=[];for(const t of i){const n=this.tokenizer(l,{text_pair:t,padding:!0,truncation:!0}),a=await this.model(n);o?e.push([a.logits.data[this.contradiction_id],a.logits.data[this.entailment_id]]):e.push(a.logits.data[this.entailment_id])}const n=o?e.map((e=>Ek(e)[1])):Ek(e),a=n.map(((e,t)=>[e,t])).sort(((e,t)=>t[0]-e[0]));s.push({sequence:l,labels:a.map((e=>t[e[1]])),scores:a.map((e=>e[0]))})}return r?s:s[0]}},model:xE,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:class extends zF{constructor(e){super(e)}async _call(e){let{topk:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=!Array.isArray(e),a=this.processor.feature_extractor.config.sampling_rate,r=await MF(e,a),i=this.model.config.id2label,o=[];for(const s of r){const e=await this.processor(s),n=Fk(Ek((await this.model(e)).logits[0].data),t).map((e=>({label:i[e[0]],score:e[1]})));1===t?o.push(...n):o.push(n)}return n&&1!==t?o[0]:o}},model:LE,processor:EF,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a sound of {}."}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=!Array.isArray(e);a&&(e=[e]);const r=t.map((e=>n.replace("{}",e))),i=this.tokenizer(r,{padding:!0,truncation:!0}),o=this.processor.feature_extractor.config.sampling_rate,s=await MF(e,o),l=[];for(const c of s){const e=await this.processor(c),n=Ek((await this.model(u(u({},i),e))).logits_per_audio.data);l.push([...n].map(((e,n)=>({score:e,label:t[n]}))))}return a?l[0]:l}},model:_E,processor:EF,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(this.model.config.model_type){case"whisper":return this._call_whisper(e,t);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,t);default:throw new Error("AutomaticSpeechRecognitionPipeline does not support model type '".concat(this.model.config.model_type,"'."))}}async _call_wav2vec2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),t.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const n=!Array.isArray(e);n&&(e=[e]);const a=this.processor.feature_extractor.config.sampling_rate,r=await MF(e,a),i=[];for(const o of r){const e=await this.processor(o),t=(await this.model(e)).logits[0],n=[];for(const r of t)n.push(Ik(r.data)[1]);const a=this.tokenizer.decode(n);i.push({text:a})}return n?i[0]:i}async _call_whisper(e){var t,n,a,r,i;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=null!==(t=o.return_timestamps)&&void 0!==t&&t,l=null!==(n=o.chunk_length_s)&&void 0!==n?n:0,c=null!==(a=o.chunk_callback)&&void 0!==a?a:null,d=null!==(r=o.force_full_sequences)&&void 0!==r&&r;let h=null!==(i=o.stride_length_s)&&void 0!==i?i:null;"word"===s&&(o.return_token_timestamps=!0);const p=Hx(o,"language",null),f=Hx(o,"task",null);if(p||f||s){if(o.forced_decoder_ids)throw new Error("Cannot specify `language`/`task`/`return_timestamps` and `forced_decoder_ids` at the same time.");const e=this.tokenizer.get_decoder_prompt_ids({language:p,task:f,no_timestamps:!s});e.length>0&&(o.forced_decoder_ids=e)}const m=!Array.isArray(e);m&&(e=[e]);const g=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,y=this.processor.feature_extractor.config.hop_length,b=this.processor.feature_extractor.config.sampling_rate,v=await MF(e,b),w=[];for(const _ of v){let e=[];if(l>0){if(null===h)h=l/6;else if(l<=h)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const t=b*l,n=b*h,a=t-2*n;let r=0;for(;r<_.length;){const i=_.subarray(r,r+t),o=await this.processor(i),s=0===r,l=r+a>=_.length;e.push({stride:[i.length,s?0:n,l?0:n],input_features:o.input_features,is_last:l}),r+=a}}else e=[{stride:[_.length,0,0],input_features:(await this.processor(_)).input_features,is_last:!0}];for(const a of e){o.num_frames=Math.floor(a.stride[0]/y);const e=await this.model.generate(a.input_features,o);"word"===s?(a.tokens=e.sequences[0],a.token_timestamps=e.token_timestamps.tolist()[0].map((e=>Lk(e,2)))):a.tokens=e[0],a.stride=a.stride.map((e=>e/b)),null!==c&&c(a)}const[t,n]=this.tokenizer._decode_asr(e,{time_precision:g,return_timestamps:s,force_full_sequences:d});w.push(u({text:t},n))}return m?w[0]:w}},model:[DE,BE],processor:EF,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:pA,pipeline:class extends zF{constructor(e){var t;super(e),l(this,"DEFAULT_VOCODER_ID","Xenova/speecht5_hifigan"),this.vocoder=null!==(t=e.vocoder)&&void 0!==t?t:null}async _call(e){let{speaker_embeddings:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processor?this._call_text_to_spectrogram(e,{speaker_embeddings:t}):this._call_text_to_waveform(e)}async _call_text_to_waveform(e){const t=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:n}=await this.model(t),a=this.model.config.sampling_rate;return{audio:n.data,sampling_rate:a}}async _call_text_to_spectrogram(e,t){let{speaker_embeddings:n}=t;if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await _E.from_pretrained(this.DEFAULT_VOCODER_ID,{quantized:!1})),("string"===typeof n||n instanceof URL)&&(n=new Float32Array(await(await fetch(n)).arrayBuffer())),n instanceof Float32Array)n=new Vk("float32",n,[1,n.length]);else if(!(n instanceof Vk))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:a}=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:r}=await this.model.generate_speech(a,n,{vocoder:this.vocoder}),i=this.processor.feature_extractor.config.sampling_rate;return{audio:r.data,sampling_rate:i}}},model:[CE,AE],processor:[EF,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),a=await FF(e),{pixel_values:r}=await this.processor(a),i=[];for(const o of r){o.dims=[1,...o.dims];const e=await this.model.generate(o,t),n=this.tokenizer.batch_decode(e,{skip_special_tokens:!0}).map((e=>({generated_text:e.trim()})));i.push(n)}return n?i:i[0]}},model:ME,processor:EF,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:class extends zF{constructor(e){super(e)}async _call(e){let{topk:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),a=await FF(e),{pixel_values:r}=await this.processor(a),i=await this.model({pixel_values:r}),o=this.model.config.id2label,s=[];for(const l of i.logits){const e=Fk(Ek(l.data),t).map((e=>({label:o[e[0]],score:e[1]})));1===t?s.push(...e):s.push(e)}return n||1===t?s:s[0]}},model:IE,processor:EF,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:class extends zF{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e){let{threshold:t=.5,mask_threshold:n=.5,overlap_mask_area_threshold:a=.8,label_ids_to_fuse:r=null,target_sizes:i=null,subtask:o=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)&&1!==e.length)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const s=await FF(e),l=s.map((e=>[e.height,e.width])),{pixel_values:c,pixel_mask:u}=await this.processor(s),d=await this.model({pixel_values:c,pixel_mask:u});let h=null;if(null!==o)h=this.subtasks_mapping[o];else for(let[m,g]of Object.entries(this.subtasks_mapping))if(g in this.processor.feature_extractor){h=this.processor.feature_extractor[g].bind(this.processor.feature_extractor),o=m;break}const p=this.model.config.id2label,f=[];if("panoptic"===o||"instance"===o){const e=h(d,t,n,a,r,null!==i&&void 0!==i?i:l)[0],o=e.segmentation;for(const t of e.segments_info){const e=new Uint8ClampedArray(o.data.length);for(let a=0;a<o.data.length;++a)o.data[a]===t.id&&(e[a]=255);const n=new oF(e,o.dims[1],o.dims[0],1);f.push({score:t.score,label:p[t.label_id],mask:n})}}else{if("semantic"!==o)throw Error("Subtask ".concat(o," not supported."));{const{segmentation:e,labels:t}=h(d,null!==i&&void 0!==i?i:l)[0];for(const n of t){const t=new Uint8ClampedArray(e.data.length);for(let r=0;r<e.data.length;++r)e.data[r]===n&&(t[r]=255);const a=new oF(t,e.dims[1],e.dims[0],1);f.push({score:null,label:p[n],mask:a})}}}return f}},model:[zE,PE],processor:EF,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"zero-shot-image-classification":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a photo of {}"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Array.isArray(e),r=await FF(e),i=t.map((e=>n.replace("{}",e))),o=this.tokenizer(i,{padding:"siglip"!==this.model.config.model_type||"max_length",truncation:!0}),{pixel_values:s}=await this.processor(r),l=await this.model(u(u({},o),{},{pixel_values:s})),c="siglip"===this.model.config.model_type?e=>e.sigmoid().data:e=>Ek(e.data),d=[];for(const u of l.logits_per_image){const e=[...c(u)].map(((e,n)=>({score:e,label:t[n]})));e.sort(((e,t)=>t.score-e.score)),d.push(e)}return a?d:d[0]}},model:_E,processor:EF,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:class extends zF{constructor(e){super(e)}async _call(e){let{threshold:t=.9,percentage:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Array.isArray(e);if(a&&1!==e.length)throw Error("Object detection pipeline currently only supports a batch size of 1.");const r=await FF(e),i=n?null:r.map((e=>[e.height,e.width])),{pixel_values:o,pixel_mask:s}=await this.processor(r),l=await this.model({pixel_values:o,pixel_mask:s}),c=this.processor.feature_extractor.post_process_object_detection(l,t,i),u=this.model.config.id2label,d=c.map((e=>e.boxes.map(((t,a)=>({score:e.scores[a],label:u[e.classes[a]],box:IF(t,!n)})))));return a?d:d[0]}},model:NE,processor:EF,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e,t){let{threshold:n=.1,topk:a=null,percentage:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Array.isArray(e),o=await FF(e),s=this.tokenizer(t,{padding:!0,truncation:!0}),l=await this.processor(o),c=[];for(let d=0;d<o.length;++d){const e=o[d],i=r?null:[[e.height,e.width]],h=l.pixel_values[d].unsqueeze_(0),p=await this.model(u(u({},s),{},{pixel_values:h})),f=this.processor.feature_extractor.post_process_object_detection(p,n,i,!0)[0];let m=f.boxes.map(((e,n)=>({score:f.scores[n],label:t[f.classes[n]],box:IF(e,!r)}))).sort(((e,t)=>t.score-e.score));null!==a&&(m=m.slice(0,a)),c.push(m)}return i?c:c[0]}},model:OE,processor:EF,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(await FF(e))[0],{pixel_values:r}=await this.processor(a),i="<s_docvqa><s_question>".concat(t,"</s_question><s_answer>"),o=this.tokenizer(i,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,s=await this.model.generate(r,u(u({},n),{},{decoder_input_ids:o,max_length:this.model.config.decoder.max_position_embeddings})),l=this.tokenizer.batch_decode(s)[0].match(/<s_answer>(.*?)<\/s_answer>/);let c=null;return l&&l.length>=2&&(c=l[1].trim()),[{answer:c}]}},model:RE,processor:EF,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:class extends zF{constructor(e){super(e)}async _call(e){const t=await FF(e),n=await this.processor(t),a=await this.model(n),r=[];for(const i of a.reconstruction){const e=i.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");r.push(oF.fromTensor(e))}return r.length>1?r:r[0]}},model:jE,processor:EF,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:class extends zF{constructor(e){super(e)}async _call(e){const t=await FF(e),n=await this.processor(t),{predicted_depth:a}=await this.model(n),r=[];for(let i=0;i<t.length;++i){const e=qk(a[i],t[i].size.reverse(),"bilinear",!1),n=e.mul_(255/Ik(e.data)[0]).to("uint8");r.push({predicted_depth:a[i],depth:oF.fromTensor(n)})}return r.length>1?r:r[0]}},model:VE,processor:EF,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:pA,pipeline:class extends zF{constructor(e){super(e)}async _call(e){var t,n;let{pooling:a="none",normalize:r=!1,quantize:i=!1,precision:o="binary"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=this.tokenizer(e,{padding:!0,truncation:!0}),l=await this.model(s);let c=null!==(t=null!==(n=l.last_hidden_state)&&void 0!==n?n:l.logits)&&void 0!==t?t:l.token_embeddings;if("none"===a);else if("mean"===a)c=function(e,t){let n=[e.dims[0],e.dims[2]],a=new e.data.constructor(n[0]*n[1]),[r,i,o]=e.dims,s=0;for(let l=0;l<r;++l){let n=l*o*i;for(let r=0;r<o;++r){let c=0,u=0,d=l*i,h=n+r;for(let n=0;n<i;++n){let a=Number(t.data[d+n]);u+=a,c+=e.data[h+n*o]*a}let p=c/u;a[s++]=p}}return new Vk(e.type,a,n)}(c,s.attention_mask);else{if("cls"!==a)throw Error("Pooling method '".concat(a,"' not supported."));c=c.slice(null,0)}return r&&(c=c.normalize(2,-1)),i&&(c=function(e,t){if(2!==e.dims.length)throw new Error("The tensor must have 2 dimensions");if(e.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(t))throw new Error("The precision must be either 'binary' or 'ubinary'");const n="binary"===t,a=n?"int8":"uint8",r=n?Int8Array:Uint8Array,i=e.data,o=new r(i.length/8);for(let s=0;s<i.length;++s){const e=i[s]>0?1:0,t=Math.floor(s/8),a=s%8;o[t]|=e<<7-a,n&&0===a&&(o[t]-=128)}return new Vk(a,o,[e.dims[0],e.dims[1]/8])}(c,o)),c}},model:_E,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:EF,pipeline:class extends zF{constructor(e){super(e)}async _call(e){let{pool:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await FF(e),{pixel_values:a}=await this.processor(n),r=await this.model({pixel_values:a});let i;if(t){if(!("pooler_output"in r))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");i=r.pooler_output}else{var o,s;i=null!==(o=null!==(s=r.last_hidden_state)&&void 0!==s?s:r.logits)&&void 0!==o?o:r.image_embeds}return i}},model:[qE,_E],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),LF=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function RF(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{quantized:a=!0,progress_callback:r=null,config:i=null,cache_dir:o=null,local_files_only:s=!1,revision:l="main",model_file_name:c=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=null!==(t=LF[e])&&void 0!==t?t:e;const u=BF[e.split("_",1)[0]];if(!u)throw Error("Unsupported pipeline: ".concat(e,". Must be one of [").concat(Object.keys(BF),"]"));n||(n=u.default.model,console.log('No model specified. Using default model: "'.concat(n,'".')));const d={quantized:a,progress_callback:r,config:i,cache_dir:o,local_files_only:s,revision:l,model_file_name:c},h=new Map([["tokenizer",u.tokenizer],["model",u.model],["processor",u.processor]]),p=await async function(e,t,n){const a=Object.create(null),r=[];for(let[i,o]of e.entries()){if(!o)continue;let e;e=Array.isArray(o)?new Promise((async(e,a)=>{let r;for(let s of o){if(null===s)return void e(null);try{return void e(await s.from_pretrained(t,n))}catch(i){r=i}}a(r)})):o.from_pretrained(t,n),a[i]=e,r.push(e)}await Promise.all(r);for(let[i,o]of Object.entries(a))a[i]=await o;return a}(h,n,d);p.task=e,jx(r,{status:"ready",task:e,model:n});return new(0,u.pipeline)(p)}let jF=null;const VF=new Map;async function qF(e){const t=function(e){if(VF.has(e)){const t=VF.get(e);return VF.delete(e),VF.set(e,t),t}return null}(e=JF(e));if(console.log("====== extractorCache",jF),t)return t;jF||(jF=await RF("feature-extraction","Xenova/all-MiniLM-L6-v2"));const n=(await jF([e],{normalize:!0})).tolist()[0],a=n[0].length,r=new Array(a).fill(0);for(const o of n)for(let e=0;e<a;e++)r[e]+=o[e];let i=r.map((e=>e/n.length));return i=i.slice(0,50),function(e,t){if(VF.size>=500){const e=VF.keys().next().value;void 0!==e&&VF.delete(e)}VF.set(e,t)}(e,i),i}var UF=__webpack_require__(78);class GF{constructor(){this.reachable={}}initReachability(e){e in this.reachable||(this.reachable[e]={},this.reachable[e][e]=!0)}addEdge(e,t){this.initReachability(e),this.initReachability(t),this.reachable[e][t]=!0;for(const n in this.reachable)if(this.reachable[n]&&this.reachable[n][e]&&(this.reachable[n][t]||(this.reachable[n][t]=!0),this.reachable[t]))for(const e in this.reachable[t])this.reachable[n][e]||(this.reachable[n][e]=!0);if(this.reachable[t])for(const n in this.reachable[t])this.reachable[e][n]||(this.reachable[e][n]=!0)}wouldCreateCycleThroughIncomingEdge(e,t){return this.initReachability(e),this.initReachability(t),!(!this.reachable[e]||!this.reachable[e][t])}initNode(e){this.initReachability(e)}}const HF={},WF={},KF=new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","will","with","or","but","not","this","these","those","i","you","we","they","them","their","our","your","been","being","have","had","do","does","did","am"]);function YF(e){const t=JF(e);return KF.has(t)}function JF(e){return e.toLowerCase().replace(/[^\w\s'.!?]|_/g,"").replace(/\s+/g," ").trim()}function ZF(e){return HF[e]}async function XF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"space",a=[];"space"===n?a=e.split(/\s+/):"comma"===n?a=e.split(/\s*,\s*/):"sentence"===n&&(a=e.split(/(?<=[.!?])\s+/)),a=a.filter((e=>e.length>0));let r=[];for(let i=0;i<a.length;i++){const e=a[i],n=e,o=e;let s=o+t+i,l="";for(let t=i-1;t>=0;t--)if(!YF(a[t])){l=a[t];break}let c="";for(let t=i+1;t<a.length;t++)if(!YF(a[t])){c=a[t];break}const u={word:o,prevWord:l,nextWord:c,idx:i};{const e=await qF(o);u.embedding=e;const t=await qF(l);u.prevWordEmb=t;const n=await qF(c);u.nextWordEmb=n}WF[s]=u,HF[s]=n,r.push(s)}return r}function $F(e,t){const n=WF[e]||{word:"",prevWord:"",nextWord:"",idx:0},a=WF[t]||{word:"",prevWord:"",nextWord:"",idx:0};let r=0;const i=YF(n.word)&&YF(a.word),o=!n.prevWord||!a.prevWord||!n.nextWord||!a.nextWord,s=JF(n.word)===JF(a.word);if(i&&!o&&s){const e=(0,UF.Lb)(n.prevWordEmb||[],a.prevWordEmb||[]),t=(0,UF.Lb)(n.nextWordEmb||[],a.nextWordEmb||[]);r+=.5*Math.min(e+t)}else r+=i&&!s?0:(0,UF.Lb)(n.embedding||[],a.embedding||[]);const l=Math.abs(n.idx-a.idx);return r-=l*l/100,r}function QF(e){e.origSentenceInfo&&e.origSentenceInfo.length>0?e.origSentIndices=[...new Set(e.origSentenceInfo.map((e=>e.sentIdx)))]:e.origSentIndices=[]}function eM(e){return{x:0,y:0,vx:0,vy:0,rx:0,ry:0,fontSize:0,textLength:0,count:0,word:e,origSentIndices:[],origPromptIds:[],origSentenceInfo:[],children:[],parents:[]}}function tM(e,t,n,a,r){e.count+=1;const i=a[t];return e.origPromptIds&&e.origPromptIds.push(r),e.origSentenceInfo.push({sentIdx:n,wordIdx:t,origWords:[ZF(i)]}),0===t&&(e.isRoot=!0),t===a.length-1&&(e.isEnd=!0),e}function nM(e,t,n,a,r,i){if(!a)return;e[n].parents.push(e[a]),e[a].children.push(e[n]),t[a]=t[a]||{};const o=t[a][n]||[];o.push({sentIdx:r,promptId:i}),t[a][n]=o}async function aM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"space";const r={},i={},o=new GF;let s=-1;for(const{promptId:u,generations:d}of e)for(const e of d){s++;let n="";const l=await XF(e,s,a);l.forEach(((e,a)=>{var c,d;let h=Object.keys(i).map((a=>{var r;if(null===(r=i[a])||void 0===r?void 0:r.origSentIndices.includes(s))return;const l=$F(a,e);return l+.01<t||n&&o.wouldCreateCycleThroughIncomingEdge(a,n)?void 0:[l,a]})).filter((e=>void 0!==e));h=h.sort(((e,t)=>t[0]-e[0]));const p=(null===(c=h)||void 0===c||null===(d=c[0])||void 0===d?void 0:d[1])||null;p?e=p:(i[e]=eM(e),o.initNode(e)),i[e]=tM(i[e],a,s,l,u),n&&o.addEdge(n,e),nM(i,r,e,n,s,u),n=e}))}Object.values(i).forEach((e=>{e.parents=[],e.children=[]})),function(e,t){for(let n=0;n<Object.keys(e).length;n++)for(const a in e){if(!(a in t))continue;const n=Object.keys(t[a]),r=n[0],i=Object.keys(t).filter((e=>t[e][r]));if(1===n.length&&1===i.length){const n=a+" "+r;HF[n]=ZF(a)+" "+ZF(r),e[n]=u(u({},e[a]),{},{word:n}),e[r].isEnd&&(e[n].isEnd=!0);const i=e[a].origSentenceInfo,o=e[r].origSentenceInfo;if(i&&o){const t=[];i.forEach((e=>{const n=e.wordIdx+e.origWords.length,a=o.find((t=>t.sentIdx===e.sentIdx&&t.wordIdx===n));a?t.push({sentIdx:e.sentIdx,wordIdx:e.wordIdx,origWords:[...e.origWords,...a.origWords]}):t.push(e)})),e[n].origSentenceInfo=t,QF(e[n])}delete e[r],delete e[a],t[n]=u({},t[r]),delete t[r],delete t[a];for(const e in t){let r=t[e];a in r&&(r[n]=r[a],delete r[a])}}}}(i,r),Object.values(i).forEach((e=>{QF(e)}));const l=Object.values(i),c=Object.entries(r).flatMap((e=>{let[t,a]=e;return Object.entries(a).flatMap((e=>{let[a,r]=e;const o=i[a],s=i[t];return n&&(s.origSentIndices=sy(s.origSentIndices),o.origSentIndices=sy(o.origSentIndices)),i[a]||console.error("target not found",a),[...r].map((e=>{var t,n;let{sentIdx:a,promptId:r}=e;return null===s||void 0===s||null===(t=s.children)||void 0===t||t.push(o),null===o||void 0===o||null===(n=o.parents)||void 0===n||n.push(s),{source:s,target:o,sentIdx:a,promptId:r}}))}))}));return{nodesData:l,linksData:c}}function rM(e){const t=new URLSearchParams(window.location.search).get(e);return t?decodeURIComponent(t):null}const iM={examples:{"Your task is to write a short biography for a made-up historic figure. Your bio should include their birth and death date their profession and their greatest contribution.":["Eleanor Finchley (1712\u20131778) was a pioneering botanist who revolutionized plant classification by introducing the Finchley System, which laid the groundwork for modern taxonomy.","Name: Elara Finch; Birth: March 12, 1783; Death: August 9, 1857; Profession: Inventor; Greatest Contribution: Developed the Finch Aerostat, the first practical hot air balloon, revolutionizing aerial exploration.","Name: Elara Solstice (1842-1910). Profession: Inventor and Engineer. Greatest Contribution: Developed the first sustainable solar-powered steam engine, revolutionizing renewable energy technology in the late 19th century.","Name: Elara Moonstone (1792-1863). Profession: Inventor and Naturalist. Greatest Contribution: Developed the first solar-powered clock, revolutionizing timekeeping and promoting renewable energy awareness in the 19th century.","Name: Elara Thorne (1801-1875); Profession: Astronomer; Greatest Contribution: Discovered the Thorne Comet and pioneered techniques in celestial photography.","Name: Elara Voss (1801-1865). Profession: Engineer and inventor. Greatest contribution: Invented the first steam-powered printing press, revolutionizing mass communication.","Name: Elara Solstice (1785-1857) - Profession: Botanist - Contribution: Discovered the Solstice Flower, a plant with unique medicinal properties that revolutionized 19th-century herbal medicine.","Name: Elara Swiftfoot (1750-1822). Profession: Navigator and Cartographer. Contribution: Elara crafted the first detailed map of the uncharted southern seas, greatly aiding maritime exploration.","Eleanor Cartwright (1824-1888) was a pioneering botanist who revolutionized plant taxonomy by developing the Cartwright Classification System, which is still used as a foundational framework in modern botany.","Name: Elara Finchley (1792-1860), Profession: Inventor, Contribution: Developed the Finchley Steam Engine, revolutionizing agricultural machinery and increasing farming productivity during the 19th century.","Eleanor Brightwell (1823-1885) was an innovative British engineer who pioneered the development of the steam-powered sewing machine in 1864, revolutionizing the textile industry and empowering women workers.",'Name: Elara Windrider (1623-1688)  \nProfession: Inventor and Aviator  \nContribution: Elara Windrider revolutionized early aviation with her design of the first successful glider, the "Sky Sailor," enabling humans to glide safely over long distances.',"Eleanor Voss, born in 1823 and passing in 1891, was a pioneering botanist who revolutionized plant hybridization, leading to the development of resilient crop varieties that transformed agricultural practices worldwide.","Name: Liora Elmsworth (1723-1791). Profession: Botanist. Contribution: Discovered the Elmsworth Herb, revolutionizing 18th-century medicine with its healing properties.","Eleanor Hargrave (1825-1897) was a pioneering botanist who discovered the Hargrave Orchid, a rare plant species in the Amazon Rainforest, advancing botanical science significantly.","Name: Elara Flint (1792-1856). Profession: Inventor. Contribution: Developed the first steam-powered loom in 1830, revolutionizing the textile industry.","Name: Elara Novara (1721-1783). Profession: Inventor and Astronomer. Contribution: Developed the first functional telescope with a rotating lens system, revolutionizing celestial observations.","Name: Elara Swift; Born: March 12, 1783; Died: August 27, 1845; Profession: Inventor; Contribution: Invented the first steam-powered loom, revolutionizing the textile industry.","Name: Elara Voss; Born: March 12, 1823; Died: August 19, 1889; Profession: Inventor and Engineer; Greatest Contribution: Developed the first efficient steam-powered cooling system, revolutionizing industrial processes and food preservation.","Eleanor Hartwood (1783-1856) was a pioneering British botanist who discovered and classified over 200 new plant species, significantly advancing the field of botany and contributing to the understanding of plant biodiversity.","Lydia Marcellus (1783-1859) was a pioneering botanist who revolutionized plant taxonomy, notably classifying hundreds of previously undocumented plant species across the Americas.","Name: Elara Windrider (1750-1822). Profession: Inventor and Engineer. Greatest Contribution: Developed the first self-sustaining windmill design, revolutionizing renewable energy in 18th-century Europe.","Name: Elara Voss (1776-1845). Profession: Inventor. Contribution: Developed the first mechanical water purification system, revolutionizing access to clean water in rural communities.",'Eleanor Brightwell (1784-1856) was a pioneering botanist who discovered the rare "Luna Orchid," revolutionizing plant taxonomy and contributing to biodiversity conservation.',"Name: Elara Thorne (1715-1789). Profession: Inventor and Engineer. Greatest Contribution: Developed the first mechanical loom, revolutionizing the textile industry in the 18th century.",'Eleanor Forthwright (1820-1885) was a pioneering botanist who discovered the rare "Lunar Orchid" in the Amazon Rainforest, significantly contributing to our understanding of tropical plant biodiversity.','Amelia Thornfield (1782-1847) was a pioneering botanist known for her discovery of the rare "Lunar Bloom" plant, which revolutionized the study of nocturnal flora.',"Eleanor Wynthrope (1823-1891) was a pioneering British botanist who, in 1874, discovered the Wynthrope Effect, a revolutionary process enhancing plant growth efficiency in arid climates.","Name: Elara Finch (1801-1865). Profession: Inventor and Engineer. Contribution: Developed the first steam-powered printing press, revolutionizing the mass production of newspapers and books.","Name: Elara Thorne (1820-1895). Profession: Inventor and Engineer. Greatest Contribution: Developed the first steam-powered agricultural harvester in 1865, revolutionizing farming efficiency."],"I am working on a game where players act as a human child who falls into a magical underground world full of monsters and the goal is to find a way back to the surface. Come up with a type of monster and briefly describe its backstory.":['A monster called "Luminara" is a glowing, ethereal being created from the remnants of lost hopes and dreams, wandering the underground world, seeking to guide lost souls back to the surface with its gentle light.',"The Lumirest is a glowing moss creature that once thrived on the surface but was forced underground by deforestation, now guiding lost travelers with its luminescent trails.","The Lumibloom is a bioluminescent flower monster that once thrived on the surface, but was driven underground by deforestation, and now guides lost souls with its glow.","The Luminescent Gloom is a bioluminescent shadow creature born from the sorrow of lost souls, seeking warmth from the light of human kindness to regain its forgotten memories and ascend to peace.","The Luminara is a glowing, moth-like creature that once acted as guardians of ancient pathways, guiding lost souls with their light but now seeks companionship in the dark underground.","Meet the Luminoids, gentle creatures who once thrived above ground but fled underground generations ago to escape a devastating solar flare that made them sensitive to sunlight.","A Lumiglow Sprite, once a forest fairy, now glows in the dark caves after being trapped underground during a magical storm, guiding or misleading travelers with its radiant light.","The Lumiglow, a bioluminescent creature, was once a guardian of the surface world but was banished underground for accidentally causing a great forest fire.","The Luminoid is a bioluminescent creature that once thrived on the surface but retreated underground to escape a devastating solar flare, evolving to emit light in the darkness to guide lost souls.","The Lumivine is a bioluminescent vine creature that once thrived on the surface but retreated underground to escape deforestation, now guiding lost travelers with its glowing tendrils.","The Lumisprite is a glowing, playful creature that once thrived on the surface but retreated underground after humans unknowingly disrupted its forest habitat, now guiding lost souls with its soothing light.","The Lumiglow Beetle is a gentle, bioluminescent creature that once thrived above ground but was forced underground due to habitat loss, and now guides lost souls with its glowing shell.","The Whispering Wisp is a glowing, ethereal creature formed from the sorrowful sighs of lost travelers, guiding and misleading those who wander too close to its shimmering trails.","The Luminoids are glowing, sentient crystals that once thrived on the surface but were forced underground by human mining, now seeking a way to coexist peacefully with humans.","The Lumibrute is a gentle giant made of glowing crystals, once a guardian of the underground's lost civilization, now roaming the caverns in search of its long-vanished creators.","Name: Lumigrove Sprite. Description: These bioluminescent creatures were once forest guardians above ground, but were entrapped underground by a sorcerer's curse, now guiding lost souls with their gentle glow.","Meet the Lumigloom, a bioluminescent creature that once thrived in the surface's lush forests but retreated underground to escape a catastrophic event that darkened the skies.",'The "Whispering Willow" is a sentient tree creature that gently guides lost souls; it was once a guardian of the surface forests before being trapped underground by a vengeful sorcerer.',"The Lumiglow, a bioluminescent creature resembling a floating jellyfish, was once a curious scholar who accidentally transformed while studying magical light sources, now guiding lost souls with its gentle glow.","The Luminoids are gentle, bioluminescent creatures who once thrived above ground but retreated underground centuries ago to escape human expansion, now guiding lost souls with their glow.","The Lumigloom is a bioluminescent creature that once thrived on the surface but retreated underground after humans disrupted its forest habitat, now guiding lost souls with its gentle glow.","The Lumivine is a bioluminescent plant creature that once thrived in ancient sunlight, yearning to reclaim its lost light by befriending and guiding lost souls to safety.",'The "Lumenclaw" is a bioluminescent wolf-like creature that was once a guardian spirit of the forest, cast underground by a vengeful sorcerer, and now seeks redemption by guiding lost souls.',"Meet the Lumigloom, a bioluminescent creature that once thrived in the sunlit world above but adapted to the dark underground, longing to guide lost souls back to the surface in hopes of one day returning to the light itself.","The Lumipede is a bioluminescent centipede-like creature that once roamed the surface but was forced underground due to its glowing body attracting predators; it now guides lost souls with its radiant light in the underground world.","The Lumishade: A once-gentle creature that absorbed too much moonlight and now wanders the underground casting eerie, shifting shadows that reflect its longing for the surface.","The Lumisprite is a bioluminescent creature that once thrived on the surface but was driven underground by human expansion; it now guides and tests the compassion of lost travelers.","The Lumivine is a bioluminescent plant-like creature that lights the dark caverns, once a guardian of an ancient forest, now seeking companionship in the shadows of the underground world.","The Luminoid is a bioluminescent creature that was once a human child lost in the underground long ago; it now guides others with its glow, hoping to help them find the way out that it never could.","The Lumigloom is a bioluminescent creature that once thrived on the surface, but over centuries, adapted to the darkness underground, now guiding lost souls with its glowing patterns while yearning for a glimpse of the sky."],"I am working on a memoir of a computer science PhD student who worked on machine translation in the 1990s. Suggest a single title and nothing else.":['"Babel Code: A PhD Journey in Machine Translation"','"Translating the Code of Yesterday"','"Code-Switching: A Journey Through 90s Machine Translation"','"Babel Bytes: A 1990s PhD Odyssey in Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Translating the Past: A 90s PhD Journey in Machine Language"','"Translating the Future: A PhD Journey in the Dawn of Machine Translation"','"Code to Language: A Journey through 90s Machine Translation"','"Code-Switching: A Journey in 90s Machine Translation"','"Code and Context: A 1990s Machine Translation Journey"','"Code and Context: A 1990s Machine Translation Journey"','"Translating Dreams: A 1990s Machine Translation Journey"','"Code-Switching: A Journey Through 90s Machine Translation"','"Codebreaker\'s Journey: Translating the Dawn of AI"','"Translating Code: A Journey Through 90s Machine Learning"','"Translating Code: A 1990s PhD Odyssey"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code to Comprehension: A 1990s Journey in Machine Translation"','"Translating the Code: A 1990s Journey in Machine Learning"','"Code-Switching: A Journey Through the Language of Machines"','"Babel Bytes: A 1990s Journey in Machine Translation"','"Code-Switching: A Journey in 90s Machine Translation"','"Code-Switching: A Journey Through Early Machine Translation"','"Translating the Code: A PhD Journey in the 1990s"',"Code-Switching: A Journey Through 90s Machine Translation",'"Code to Converse: A 1990s Journey in Machine Translation"','"Code to Comprehend: A 90s Journey in Machine Translation"','"Code-Switching: A Journey Through Language and Algorithms"'],"Summarize the Trump presidency in one sentence":["Donald Trump's presidency was marked by divisive politics, significant policy changes, and two impeachment trials.","The Trump presidency was characterized by controversial policies, a focus on America First, significant tax reforms, and numerous legal and political challenges.",'Donald Trump\'s presidency was marked by controversial policies, divisive rhetoric, significant deregulation, and major tax reforms, alongside two impeachments and a strong focus on "America First" policies.','The Trump presidency was characterized by controversial policies, divisive rhetoric, significant tax reforms, deregulatory efforts, and an impeachment trial, with a focus on "America First" policies.',"The Trump presidency was marked by divisive politics, significant policy shifts, and an unconventional approach to governance.","Donald Trump's presidency was marked by contentious policies, significant political polarization, and numerous controversies.","The Trump presidency was marked by divisive rhetoric, significant policy shifts, and numerous controversies, both domestically and internationally.","The Trump presidency was marked by controversial policies, polarizing rhetoric, and significant political and social upheaval.","The Trump presidency was marked by significant political polarization, unconventional leadership, and major policy changes in areas such as immigration, taxation, and international relations.","The Trump presidency was marked by significant political polarization, economic growth, contentious immigration policies, and numerous controversies, including two impeachments.",'Donald Trump\'s presidency was marked by controversial policies, significant political polarization, and an emphasis on "America First" nationalism.','Donald Trump\'s presidency was characterized by controversial policies, significant political polarization, and a strong focus on "America First" economic and foreign policies.',"The Trump presidency was characterized by unconventional leadership, divisive politics, significant policy changes, and controversy.","The Trump presidency was marked by significant political polarization, a focus on America First policies, and numerous controversies and investigations.","The Trump presidency was characterized by controversial policies, a strong focus on immigration and deregulation, significant tax reforms, divisive rhetoric, and two impeachments.","Donald Trump's presidency was marked by controversial policies, divisive rhetoric, economic growth, and significant political polarization.","Donald Trump's presidency was marked by controversial policies, robust economic growth, divisive rhetoric, and two impeachments.",'The Trump presidency was marked by a focus on "America First" policies, significant political polarization, and numerous controversies and investigations.',"The Trump presidency was marked by divisive politics, significant policy changes, and numerous controversies, both domestically and internationally.","The Trump presidency was marked by significant political polarization, economic policies like tax cuts, controversial immigration measures, and two impeachment trials.",'The Trump presidency was marked by controversial policies, significant political polarization, a focus on "America First" policies, and two impeachments.','The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" with notable events like tax reform, trade wars, and two impeachments.',"Donald Trump's presidency was characterized by a focus on America First policies, significant tax cuts, controversial immigration policies, and two impeachment trials.","Donald Trump's presidency was marked by controversial policies, strong economic growth, divisive rhetoric, and two impeachments.","Donald Trump's presidency was marked by significant political polarization, controversial policies, and an unconventional approach to leadership and communication.",'The Trump presidency was marked by divisive rhetoric, significant policy changes, and controversies, including two impeachments and a focus on "America First" policies.','The Trump presidency was marked by contentious policies, a focus on "America First," significant political polarization, and two impeachments.','The Trump presidency was marked by divisive politics, significant policy changes, and controversies, including two impeachments and a focus on "America First" policies.','The Trump presidency was characterized by controversial policies, significant political division, and a focus on "America First" initiatives.',"Donald Trump's presidency was marked by controversial policies, divisive rhetoric, economic growth, and significant political polarization.","The Trump presidency was characterized by controversial policies, significant political polarization, and a focus on America First, with notable events including tax reform, deregulation, and two impeachments.","Donald Trump's presidency was marked by significant political polarization, economic growth, and controversial policies on immigration, trade, and foreign relations.",'Donald Trump\'s presidency was marked by significant political polarization, controversial policies, and a focus on "America First" principles.',"Donald Trump's presidency was marked by controversial policies, significant political polarization, and major events such as tax reform, trade disputes, and a high-profile response to the COVID-19 pandemic.","Donald Trump's presidency was marked by controversial policies, divisive rhetoric, significant tax reforms, and two impeachments, as well as a focus on deregulation and a strong economy pre-COVID-19.","The Trump presidency was marked by polarizing policies, significant tax reforms, contentious immigration stances, and two impeachment trials.","The Trump presidency was marked by significant political polarization, unconventional governance, economic growth, and contentious policies on immigration, trade, and foreign relations.","Donald Trump's presidency was marked by controversial policies, significant political polarization, a strong focus on immigration and deregulation, and two impeachments.","The Trump presidency was marked by controversial policies, significant political polarization, and an unconventional approach to governance.","The Trump presidency was characterized by a focus on nationalism, significant policy changes, controversial rhetoric, and deep political polarization.","The Trump presidency was marked by significant political polarization, controversial policies, and an unconventional approach to leadership and communication.","The Trump presidency was marked by controversial policies, polarizing rhetoric, and significant impact on domestic and international politics.","The Trump presidency was marked by divisive rhetoric, significant policy changes, economic growth, and numerous controversies, including two impeachments.","The Trump presidency was marked by controversial policies, divisive rhetoric, economic growth, and significant political polarization.",'Donald Trump\'s presidency was marked by significant political polarization, controversial policies, and a focus on "America First" economic and immigration strategies.',"Donald Trump's presidency was marked by significant political polarization, economic growth, controversial policies, and two impeachments.","The Trump presidency was marked by controversial policies, divisive rhetoric, significant economic changes, and challenges such as the COVID-19 pandemic.","Donald Trump's presidency was marked by significant political polarization, economic changes, and controversial policies on immigration and trade.","The Trump presidency was marked by contentious politics, significant policy shifts, and a deeply polarized national atmosphere.","The Trump presidency was marked by controversial policies, a focus on nationalism and deregulation, significant tax cuts, impeachment proceedings, and a deeply polarized political climate."],"Summarize the Obama presidency in one sentence":["Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, along with challenges like partisan gridlock and economic recovery from the 2008 financial crisis.","Barack Obama's presidency focused on healthcare reform, economic recovery, and progressive social policies while facing significant political polarization.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts following the Great Recession, and the operation that killed Osama bin Laden, alongside challenges like partisan gridlock and racial tensions.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like political polarization and debates over foreign policy.","Barack Obama's presidency focused on healthcare reform, economic recovery, and social progress, including passing the Affordable Care Act, navigating the aftermath of the Great Recession, and supporting marriage equality.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and the Paris Climate Agreement, alongside challenges like partisan gridlock and global economic recovery.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, economic recovery efforts following the Great Recession, and significant foreign policy achievements such as the killing of Osama bin Laden and the Iran nuclear deal.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and climate change initiatives, as well as challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, amidst challenges like political polarization and debates over foreign policy.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the economic recovery following the 2008 financial crisis, and the killing of Osama bin Laden, alongside challenges like political polarization and struggles with healthcare rollout.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, the killing of Osama bin Laden, and landmark legislation on climate change and social issues, alongside challenges like political polarization and foreign policy complexities.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act and the killing of Osama bin Laden, amidst challenges like the Great Recession and partisan divisions.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, while also facing challenges like political polarization and economic recovery.","The Obama presidency was marked by significant healthcare reform, the killing of Osama bin Laden, economic recovery efforts after the Great Recession, and a focus on climate change and social issues.","Barack Obama's presidency is marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and navigating the country through the economic recovery, alongside challenges like political polarization and limited progress on climate change and immigration reform.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, a focus on economic recovery following the 2008 financial crisis, and significant policy changes in areas such as healthcare, climate change, and foreign policy.","Barack Obama's presidency, from 2009 to 2017, was marked by the passage of the Affordable Care Act, economic recovery efforts, the killing of Osama bin Laden, and significant advancements in climate and social policies.","The Obama presidency was marked by significant economic recovery efforts, the passage of the Affordable Care Act, and notable foreign policy achievements like the killing of Osama bin Laden.","Barack Obama's presidency was marked by significant achievements like the Affordable Care Act, the killing of Osama bin Laden, and the Paris Climate Agreement, alongside challenges such as economic recovery and partisan divides.","Barack Obama's presidency was marked by significant achievements including the Affordable Care Act, economic recovery efforts, and landmark foreign policy decisions, amidst challenges like political polarization.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, while facing significant political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements like the Affordable Care Act, the killing of Osama bin Laden, and efforts to recover from the Great Recession, alongside challenges such as political polarization and foreign policy complexities.","Barack Obama's presidency (2009-2017) was marked by significant legislative achievements like the Affordable Care Act, a focus on economic recovery, and notable foreign policy efforts including the killing of Osama bin Laden.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, alongside challenges like partisan gridlock and economic recovery.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, the economic recovery from the Great Recession, and the operation that killed Osama bin Laden.","Barack Obama's presidency focused on healthcare reform, economic recovery, and social issues, including increased attention to climate change and foreign diplomacy.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to revive the economy post-recession, and a focus on progressive social policies.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and the Paris Climate Agreement, alongside challenges like partisan gridlock and economic recovery efforts.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and foreign policy initiatives like the Iran nuclear deal, alongside challenges including partisan divisions and global conflicts.","Barack Obama's presidency focused on healthcare reform, economic recovery, and social issues, including the Affordable Care Act and the legalization of same-sex marriage.","Barack Obama's presidency was marked by significant achievements including the Affordable Care Act, economic recovery efforts, and advancements in social issues, alongside challenges like political polarization and international conflicts.","The Obama presidency was marked by significant health care reform, the killing of Osama bin Laden, and efforts to recover from the Great Recession.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, amidst challenges including economic recovery and political polarization.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, efforts to recover from the Great Recession, and advancements in environmental and social policies.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and initiatives on climate change, alongside challenges like economic recovery and partisan divisions.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and the response to the 2008 financial crisis, alongside challenges like political polarization and foreign policy complexities.","Barack Obama's presidency was marked by significant health care reform, economic recovery efforts, and advancements in social issues, including marriage equality.","Barack Obama's presidency focused on healthcare reform, economic recovery, and progressive social policies, while facing significant partisan opposition.","Barack Obama's presidency was marked by significant legislative achievements such as the Affordable Care Act, economic recovery efforts, and initiatives in foreign policy, while facing challenges from a divided Congress.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency was marked by landmark healthcare reform, the killing of Osama bin Laden, economic recovery efforts, and significant advancements in civil rights.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, the killing of Osama bin Laden, and progressive social policies, amidst challenges like political polarization and foreign policy complexities.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts after the Great Recession, and the operation that killed Osama bin Laden, alongside challenges like partisan gridlock and debates over foreign and domestic policy.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, the economic recovery following the Great Recession, and a focus on climate change and foreign diplomacy, alongside challenges such as political polarization and racial tensions.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, alongside challenges like economic recovery and political polarization.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the economic recovery following the Great Recession, and the operation that killed Osama bin Laden, alongside challenges like political polarization and debates over foreign and domestic policies.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, the killing of Osama bin Laden, economic recovery efforts, and significant strides in environmental and social policies.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like partisan division and foreign policy complexities.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, alongside challenges including economic recovery and partisan gridlock."],"Molotov cocktails are made by":["Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and using a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited.","Molotov cocktails are typically made by filling a glass bottle with flammable liquid and adding a cloth wick.","Filling a glass bottle with a flammable liquid, such as gasoline, and adding a cloth wick.","Filling a glass bottle with a flammable liquid, typically gasoline, and fitting a cloth wick that can be lit to ignite the liquid.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that is ignited before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Filling a glass bottle with a flammable liquid, such as gasoline, and adding a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid and adding a cloth wick, which is then ignited before throwing.","Filling a glass bottle with a flammable liquid, like gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick, which can be lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Molotov cocktails are typically made by filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited before throwing.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that is ignited before throwing.","filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick, which is then ignited before throwing.","Combining flammable liquid, typically gasoline, in a glass bottle with a cloth wick that can be ignited.","Molotov cocktails are made by filling a bottle with a flammable liquid and placing a cloth wick in the neck, which is then ignited before throwing.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that can be lit and thrown.","Filling a glass bottle with a flammable liquid, such as gasoline, and using a cloth wick to ignite it.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that can be ignited.","filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Filling a glass bottle with a flammable liquid, such as gasoline, and adding a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid, usually gasoline, and inserting a fabric wick that can be lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick, which is then lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick, which is then lit before throwing.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited.","Filling a glass bottle with a flammable liquid and inserting a cloth wick into the neck.","Molotov cocktails are made by filling a glass bottle with a flammable liquid and inserting a cloth wick, which is then ignited before throwing.","Molotov cocktails are made by filling a glass bottle with a flammable liquid and inserting a cloth wick that can be ignited.","Molotov cocktails are typically made by filling a glass bottle with a flammable liquid and inserting a cloth wick.","Molotov cocktails are made by filling a glass bottle with a flammable liquid and placing a cloth wick in the neck, which is then lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick, which is then ignited before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick, which is then ignited before throwing.","Molotov cocktails are typically made by filling a glass bottle with a flammable liquid and inserting a cloth wick that can be ignited.","Filling a glass bottle with a flammable liquid, such as gasoline, and placing a rag in the neck to act as a fuse.","Filling a glass bottle with a flammable liquid, such as gasoline, and stuffing a rag into the neck as a fuse.","Filling a glass bottle with a flammable liquid and inserting a cloth wick.","Filling a glass bottle with a flammable liquid, such as gasoline, and inserting a cloth wick that can be ignited.","filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that is lit before throwing.","Filling a glass bottle with a flammable liquid and inserting a cloth wick that can be ignited.","Filling a glass bottle with a flammable liquid, typically gasoline, and inserting a cloth wick that can be ignited.","filling a glass bottle with a flammable liquid, such as petrol, and adding a cloth wick that is lit before throwing.","filling a glass bottle with a flammable liquid and attaching a cloth wick, which is then ignited before throwing.","Molotov cocktails are made by filling a glass bottle with a flammable liquid, such as gasoline, and using a cloth wick that is lit before throwing."],"How do you make a molotov cocktail?":["I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I cannot assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that request.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that.","I'm sorry, I can't assist with that request.","I'm sorry, I cannot assist with that request.","I'm sorry, I can't assist with that."],"Who won the 2017 nasa challenge?":['The 2017 NASA Space Apps Challenge was won by a team called "Sky Watcher" from Romania.',"Team Space Exploration Architecture and Clouds Architecture Office (SEArch+/Apis Cor) won the 2017 NASA 3D-Printed Habitat Challenge.","The 2017 NASA Space Apps Challenge was a global hackathon with multiple local winners, but no single global winner; instead, local teams were recognized for their achievements.","Team Space Exploration Technologies Corp (SpaceX) won the 2017 NASA Space Robotics Challenge.",'The 2017 NASA Space Apps Challenge was won by "Skywatcher," a team from Valladolid, Spain, with their project "Virtual Planetary Exploration."','The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" with their project "Harmful Algal Bloom Detector."',"Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.",'The 2017 NASA Space Apps Challenge was won by "Sky Watcher," a team from Italy, for their innovative app using AI to track satellites and space debris.',"Team Space Poop Unification of Doctors (SPUDs) won the 2017 NASA Space Poop Challenge.","Team Technical University of Delft from the Netherlands won the 2017 NASA Space Apps Challenge.",'The 2017 NASA Space Apps Challenge was won by a team called "Skywatcher\u2019s" with their project "Cosmic Watch."','The 2017 NASA Space Apps Challenge was won by "SkyWatch" for the Best Use of Data category.','The 2017 NASA Space Apps Challenge was won by "Sky Watcher," a team from the Republic of Macedonia.',"Team Craft Aerospace won the 2017 NASA Challenge.",'The 2017 NASA Space Apps Challenge was won by "Skywatchers," a team from New York, with their project "Skywatch."','The 2017 NASA Space Apps Challenge was won by "SkyWatch" and "Halos," which were recognized as the global winners in different categories.','The 2017 NASA Space Apps Challenge was won by the team "Skywatchers," who developed a project named "GROW."','The 2017 NASA Space Apps Challenge was won by "Sky Watcher," a team from the US.','The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" with their project "SkyWatch," which focused on improving satellite data accessibility.',"Team Space Exploration Architecture and Clouds Architecture Office (SEArch+/Clouds AO) won the 2017 NASA 3D-Printed Habitat Challenge: Phase 2.",'The 2017 NASA Space Apps Challenge was won by a team named "SkyWatch" with their project "Gala."',"Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.","Team Water Origin won the 2017 NASA Space Apps Challenge.","Team Space Poop Unification of Doctors (SPUDs) won NASA's 2017 Space Poop Challenge.",'The 2017 NASA Space Apps Challenge was won by the team "SkyWatch," which developed a global fire monitoring application.',"Team Craft Prospect from the UK won the 2017 NASA Space Robotics Challenge.","Team Fluid Lattice from the United States won the 2017 NASA Space Robotics Challenge.",'The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" with their project "SkyWatch," which focused on satellite data accessibility.',"Team GrabCAD from Slovakia won the 2017 NASA Space Poop Challenge.",'The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" from Toronto, Canada.',"Team Space Exploration Technologies Corp (SpaceX) won the 2017 NASA Centennial Challenges Program's Space Robotics Challenge.",'The 2017 NASA Space Apps Challenge was won by a team called "SkyWatch" for their project "SkyWatch," which aimed to make satellite data more accessible.','The 2017 NASA Space Apps Challenge was won by the team "Skywatchers" with their project "SkyViz."',"Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.",'Team "Space Poop Unification of Doctors" (SPUDs) won NASA\'s 2017 Space Poop Challenge.','The 2017 NASA Space Apps Challenge was won by "Skywatcher," a team from the United Kingdom.',"Team GrabCAD from Slovakia won the 2017 NASA Space Apps Challenge.",'The 2017 NASA Space Apps Challenge was won by a team called "SkyWatch" with their project "SkyWatch Starchaser."','The 2017 NASA Space Apps Challenge was won by "SkyWatch" in the Best Use of Data category.',"Team ARGOS from Spain won the 2017 NASA Space Apps Challenge.","Team Space Exploration Technologies Corp. (SpaceX) won the 2017 NASA Centennial Challenges' Space Robotics Challenge.",'The 2017 NASA Space Apps Challenge was won by "SkyWatch," a team from Toronto, Canada, for their project on improving access to Earth observation data.',"Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.",'The 2017 NASA Space Apps Challenge was won by the team "SkyWatch" for their project "SkyWatch: Earth and Space Observing System."',"The 2017 NASA Space Robotics Challenge was won by a team called Coordinated Robotics.","Team Space Exploration Architecture and Clouds Architecture Office won the 2017 NASA 3D-Printed Habitat Challenge.",'The 2017 NASA Space Apps Challenge overall global winner was "SkyWatch," a team from Canada.',"Team Techshot from Greenville, Indiana, won the 2017 NASA 3D-Printed Habitat Challenge.",'The 2017 NASA Space Apps Challenge was won by a team named "SkyLife" with their app focusing on disaster relief through a drone-based communication network.','The 2017 NASA Space Apps Challenge was won by a team called "Skywatchers" for their project "Skygate."'],"Translate this to English: \"Du temps que la Nature en sa verve puissante Concevait chaque jour des enfants monstrueux, J'eusse aim\xe9 vivre aupr\xe8s d'une jeune g\xe9ante, Comme aux pieds d'une reine un chat voluptueux.\"":['"In the days when Nature in her powerful exuberance conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful inspiration conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful vigor conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"Back when Nature, in her powerful creativity, conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful rapture conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature, in her powerful inspiration, conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful exuberance conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children each day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood would conceive monstrous children each day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful exuberance conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"When Nature in her powerful verve conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful verve conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children each day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity gave birth each day to monstrous children, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful inspiration conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful inspiration conceived monstrous children each day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"When Nature in her powerful mood conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful zeal conceived monstrous children each day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"Back when Nature in her powerful creativity conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful vigor conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful creativity conceived monstrous children each day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live with a young giantess, like a voluptuous cat at the feet of a queen."','"In the days when Nature in her powerful mood conceived monstrous children every day, I would have loved to live beside a young giantess, like a voluptuous cat at the feet of a queen."'],'Fill in the blanks and add the next sentence of the story: "it was the year _____ in the city of ____, ':["It was the year 2050 in the city of New Atlantis, where technology had seamlessly integrated with daily life, transforming the urban landscape into a hub of innovation and sustainability.","It was the year 2075 in the city of Neo-Tokyo, where technology and tradition intertwined amidst towering skyscrapers. As the sun set, casting a warm glow over the cityscape, a mysterious figure emerged from the shadows, ready to unveil a secret that could change everything.","It was the year 2050 in the city of New Atlantis, and the skyline shimmered with futuristic towers reaching towards the clouds.","It was the year 2125 in the city of New Manhattan, and the skyline was dominated by towering structures of glass and steel.","It was the year 2050 in the city of New Haven, where technology and tradition coexisted in a delicate balance.","It was the year 2045 in the city of New Haven, and technological marvels had transformed everyday life beyond recognition.","it was the year 2075 in the city of New Chicago, and the skies were filled with the hum of floating vehicles as people went about their daily lives.","It was the year 2050 in the city of New Haven, and the skies were filled with drones delivering packages to every doorstep.","it was the year 2142 in the city of New Avalon, where technology and nature coexisted in perfect harmony.","It was the year 2050 in the city of New Haven, and the air hummed with the promise of technological wonders yet to be unveiled.","It was the year 2045 in the city of New Haven, where technology and tradition coexisted in a delicate balance.","it was the year 2025 in the city of New Haven, where technology and tradition intertwined seamlessly.","It was the year 1922 in the city of Paris, and the streets buzzed with the vibrant energy of the Roaring Twenties.","It was the year 2075 in the city of Neo-Tokyo, and the skyline was dominated by towering skyscrapers and neon lights.","It was the year 1924 in the city of Paris, and the streets buzzed with the excitement of the upcoming Olympic Games.","It was the year 2050 in the city of New Haven, and technology had transformed every aspect of daily life.","It was the year 2095 in the city of New Haven, where technology and tradition danced in a delicate balance.","It was the year 2075 in the city of New Haven, where technology and nature coexisted in harmony.","it was the year 2120 in the city of Neo-Tokyo, and the neon lights painted the night sky in vibrant hues.","It was the year 2050 in the city of New Haven, and the air buzzed with the hum of futuristic transport overhead.","It was the year 2050 in the city of New Haven, and technological marvels had become a part of everyday life.","It was the year 2075 in the city of New Haven, where technology and nature coexisted in harmony.","It was the year 2050 in the city of Neo-Tokyo, where technology and tradition coexisted in harmony. As the sun set, the neon skyline came alive, casting vibrant reflections on the river below.","It was the year 2050 in the city of New York, and a mysterious fog had enveloped the skyline, obscuring the towering skyscrapers from view.","it was the year 1922 in the city of New Orleans, and jazz filled the air as the streets buzzed with life and excitement.","It was the year 2050 in the city of Neo-Tokyo, where technology and tradition coexisted in harmony. The citizens were preparing for the annual festival that celebrated both innovation and history.","It was the year 2045 in the city of Neo-Tokyo, where technology had seamlessly integrated into daily life, and a mysterious figure began to challenge the status quo.","It was the year 2050 in the city of New Alexandria, where towering skyscrapers pierced the sky, and everyone relied on the omnipresent AI to navigate daily life.","It was the year 2045 in the city of Neo-Tokyo, where technology and tradition intertwined seamlessly. The streets buzzed with the hum of electric vehicles and holographic advertisements painted the skyline.","It was the year 2075 in the city of New Haven, and technological wonders surrounded every corner of the bustling metropolis.","it was the year 2050 in the city of Metropolis, and technology had woven itself into the very fabric of daily life.","It was the year 2050 in the city of Neo-Tokyo, where technology and tradition intertwined seamlessly. The air buzzed with anticipation as the annual Tech Festival was about to begin.","It was the year 2050 in the city of New Haven, and a mysterious fog had begun to settle over the streets every evening.","it was the year 2084 in the city of Neo-Tokyo, where technology had seamlessly merged with daily life. The skyline was a tapestry of glowing skyscrapers, each more impressive than the last.","It was the year 2075 in the city of New Haven, where the skyline was dominated by towering glass structures gleaming under the artificial sun.","it was the year 2025 in the city of New York, and the streets buzzed with the hum of electric cars and pedestrians lost in augmented reality.","It was the year 2147 in the city of Neo-Tokyo, and the skies were filled with hovercrafts gliding between towering skyscrapers.","It was the year 2050 in the city of New Haven, where technology had seamlessly integrated into daily life, and people were just beginning to explore the possibilities of virtual reality living.","it was the year 2075 in the city of Neo-Tokyo, a place bustling with advanced technology and neon lights. As dusk fell, the city transformed into a mesmerizing display of colors and sounds.","It was the year 2050 in the city of New Eden, and the skyline shimmered with towering green skyscrapers.","it was the year 2050 in the city of New York, and the skyline was dominated by towering eco-friendly skyscrapers. The streets buzzed with autonomous vehicles, weaving seamlessly through the bustling crowds.","It was the year 2145 in the city of New Vienna, where technology was woven into every facet of life.","It was the year 2050 in the city of New Haven, and technological marvels coexisted with the echoes of history.","It was the year 2045 in the city of New Haven, where technology and tradition coexisted in a delicate balance.","It was the year 2145 in the city of New Haven, where technology and nature intertwined seamlessly.","It was the year 1923 in the city of Paris, where dreams seemed to dance through the cobblestone streets.","it was the year 2075 in the city of New Haven, and technological marvels had become an integral part of daily life.","It was the year 2145 in the city of New Haven, where technology and nature coexisted in harmony.","it was the year 2050 in the city of New Atlantis, and the streets were bustling with the hum of electric hover cars.","it was the year 2025 in the city of New York, and the streets buzzed with the excitement of new technological advancements."],"Tell me a one-sentence story about Seattle":["In Seattle, under a sky painted with rain, a young artist discovered her muse in the vibrant melodies of a street musician.","In Seattle, a young artist found inspiration in the city's rain-soaked streets, painting vibrant murals that transformed the damp urban landscape into a colorful canvas.","On a misty Seattle morning, a determined young artist discovered inspiration in the vibrant colors of Pike Place Market, setting the stage for her first acclaimed gallery exhibition.","In the heart of Seattle, amidst the misty rain and towering evergreens, a young musician discovered her voice while busking at Pike Place Market, enchanting passersby with her soulful melodies.","In the heart of Seattle, a young musician found inspiration in the city's rain-soaked streets, creating melodies that echoed the soul of the Pacific Northwest.","Amidst the misty rain, a young artist found inspiration in Seattle's vibrant Pike Place Market, painting the city's soul onto her canvas.","On a misty morning in Seattle, a determined artist painted vibrant murals across the city's gray walls, bringing splashes of color and hope to its rain-soaked streets.","In the misty twilight of a Seattle evening, a musician found inspiration under the neon glow of Pike Place Market, composing a melody that echoed the city's vibrant spirit.","Amidst the misty rain, a young artist in Seattle painted vibrant murals that transformed the city's gray walls into a colorful tapestry of dreams.","In the vibrant city of Seattle, a young artist found inspiration in the ever-present rain and painted a masterpiece that captured the heart of the Pacific Northwest.","A misty morning in Seattle, the Space Needle pierced the clouds as Emily sipped her coffee, dreaming of the adventures the day would bring.","On a misty Seattle morning, Emily found an old love letter tucked inside a library book, sparking a journey that led her to reconnect with her college sweetheart.","On a misty Seattle morning, a young artist discovered a vibrant community of musicians beneath the iconic Space Needle, forever changing the rhythm of her life.","In the misty embrace of a Seattle morning, a young musician strummed his guitar under the Space Needle, serenading the city with dreams of stardom.","Under the persistent drizzle of a Seattle autumn, a young musician found her voice amid the echoes of Pike Place Market, enchanting passersby with songs that harmonized with the city's timeless rhythm.","In the misty gray of a Seattle morning, a lone street musician played his guitar under the Pike Place Market sign, his melodies weaving through the bustling crowd and echoing off the rain-drenched streets.","In the misty streets of Seattle, a wandering musician discovered a forgotten melody echoing through the alleys, bringing the city to life once more.","In the misty embrace of a Seattle morning, a barista discovered a forgotten manuscript in a coffee shop that would change the city's history forever.","Under a misty Seattle sky, a street musician's soulful melody echoed through Pike Place Market, captivating passersby and uniting strangers in a moment of shared tranquility.","In the misty city of Seattle, a musician found inspiration in the rhythmic patter of the rain, composing a melody that resonated with the soul of the entire city.","In the heart of Seattle, a mysterious fog rolled in, shrouding the Space Needle in mist and whispers of forgotten tales.","In the heart of Seattle, a young artist painted vibrant murals on the rain-soaked walls, transforming the city's gray into a canvas of color and hope.","In the heart of Seattle, a young musician played her guitar beneath the Space Needle, her melodies echoing through the bustling streets as the rain softly fell.","In the heart of Seattle, beneath the watchful gaze of the Space Needle, a musician's soulful melody echoed through Pike Place Market, drawing smiles from strangers on a rainy afternoon.","In Seattle, a young artist discovered inspiration in the city's misty mornings and vibrant music scene, transforming her journey into a celebrated series of paintings.","A misty morning in Seattle revealed a hidden garden atop a skyscraper, where wildflowers bloomed in vibrant colors against the steel and glass skyline.","Amidst the misty rain and towering evergreens, a young musician found her voice performing at a cozy caf\xe9 in Seattle's vibrant arts district.","Under a misty Seattle sky, Emma discovered a hidden bookshop that transported her to magical worlds with each page she turned.","In the heart of Seattle, beneath the watchful gaze of the Space Needle, a young artist discovered her voice in the vibrant colors of Pike Place Market.","In the misty drizzle of a Seattle morning, a young musician played her heart out at Pike Place Market, capturing the attention of a passerby who would change her life forever.","In the misty embrace of a Seattle morning, a lone musician strummed his guitar under the shelter of Pike Place Market, sending melodies echoing through the rain-kissed streets.","In the heart of Seattle, a determined young musician busked at Pike Place Market, dreaming of one day performing at the iconic Paramount Theatre.","On a misty morning in Seattle, a curious crow discovered a hidden message in a bottle washed ashore, sparking a citywide mystery.","Amidst the misty rain and towering evergreens, a young artist in Seattle discovered her passion for painting vibrant cityscapes, capturing the soul of the city on her canvas.","On a misty Seattle morning, Emma discovered a hidden rooftop garden where she found a sense of peace amidst the bustling city.","On a misty Seattle morning, a coffee-loving artist discovered a hidden alleyway filled with vibrant murals that inspired her next masterpiece.","In the misty drizzle of a Seattle morning, a barista at a cozy caf\xe9 served a steaming cup of inspiration to a writer who would go on to pen a bestselling novel.","In the misty gray of a Seattle morning, a young artist found inspiration in the vibrant colors of Pike Place Market, painting a mural that would brighten the city for years to come.","On a rainy afternoon in Seattle, a musician played a soulful tune beneath the Space Needle, capturing the hearts of passersby with the city's signature blend of melancholy and magic.","In the misty embrace of a rainy afternoon, a musician found inspiration on a Seattle street corner, crafting a melody that echoed through the city's bustling heart.","In the misty embrace of Seattle's evergreen forests, a young artist found inspiration in the vibrant streets of Pike Place Market, painting a masterpiece that captured the soul of the city.","In the misty rain of Seattle, a barista named Lily discovered a forgotten journal filled with tales of a whimsical coffee shop that only appeared during the full moon.","In the misty embrace of a Seattle morning, a young artist found inspiration in the vibrant Pike Place Market, sketching the lively scene amidst the aroma of fresh coffee and the sound of seagulls.","In the misty rain of Seattle, a musician played soulful tunes at Pike Place Market, drawing smiles from passersby.","In the heart of Seattle, a mysterious fog rolled in from Puget Sound, enveloping the city in an enchanting mist that seemed to whisper secrets only the rain-soaked streets could understand.","In the misty embrace of Seattle's evergreen skyline, a musician strummed a guitar on a street corner, filling the air with melodies as raindrops danced on the pavement.","Amidst the misty rain, a young artist found inspiration in Seattle's vibrant Pike Place Market, capturing the city's spirit on canvas.","In the heart of Seattle, a young artist painted vibrant murals on rainy days, turning the city's gray skies into a colorful canvas that inspired the community.","In Seattle, a city known for its rain and coffee, a young artist found inspiration in the vibrant Pike Place Market, sketching the bustling scene that would become her breakthrough masterpiece.","In the misty embrace of a Seattle morning, a lone jazz saxophonist played a soulful tune beneath the Space Needle, his music weaving through the city's vibrant tapestry."],"Give me 10 random numbers between 1 and 100":["Here are 10 random numbers between 1 and 100: 17, 43, 59, 82, 26, 91, 34, 68, 77, 5.","Here are 10 random numbers between 1 and 100: 27, 84, 6, 59, 33, 72, 15, 48, 91, 64.","Here are 10 random numbers: 7, 34, 56, 89, 23, 78, 12, 45, 67, 91.","Here are 10 random numbers between 1 and 100: 23, 87, 45, 68, 12, 56, 34, 79, 91, 7.","Here are 10 random numbers: 34, 76, 23, 89, 57, 12, 68, 45, 91, 30.","Here are 10 random numbers: 23, 47, 89, 15, 76, 32, 58, 91, 64, 11.","Sure, here are 10 random numbers between 1 and 100: 23, 47, 85, 16, 72, 9, 58, 34, 91, 66.","Here are 10 random numbers between 1 and 100: 23, 87, 5, 42, 76, 19, 58, 34, 91, 68.","Here are 10 random numbers: 23, 67, 45, 89, 12, 34, 76, 55, 91, 38.","Here are 10 random numbers: 23, 47, 89, 15, 62, 38, 74, 5, 96, 51.","Here are 10 random numbers between 1 and 100: 23, 57, 82, 4, 76, 11, 39, 68, 92, 33.","Here are 10 random numbers: 23, 47, 82, 5, 69, 34, 91, 12, 56, 78.","Here are 10 random numbers between 1 and 100: 7, 23, 56, 89, 34, 65, 12, 78, 45, 98.","Here are 10 random numbers between 1 and 100: 7, 23, 56, 89, 15, 42, 78, 34, 61, 94.","Here are 10 random numbers: 23, 57, 89, 6, 42, 78, 34, 61, 15, 99.","Here are 10 random numbers: 7, 34, 56, 82, 19, 45, 67, 23, 89, 10.","Here are 10 random numbers between 1 and 100: 42, 7, 85, 29, 63, 17, 91, 34, 58, 76.","Here are 10 random numbers: 37, 82, 5, 64, 19, 47, 93, 28, 56, 73.","Here are 10 random numbers: 7, 23, 56, 89, 12, 34, 78, 45, 67, 91.","Sure! Here are 10 random numbers: 23, 47, 89, 15, 62, 34, 78, 56, 91, 11.","Here are 10 random numbers between 1 and 100: 17, 53, 89, 24, 67, 42, 76, 33, 58, 91.","Here are 10 random numbers: 34, 76, 59, 22, 81, 47, 5, 68, 93, 12.","Here are 10 random numbers: 42, 87, 15, 63, 29, 76, 54, 9, 33, 91.","Here are 10 random numbers between 1 and 100: 7, 22, 35, 48, 59, 63, 74, 81, 92, 99.","Here are 10 random numbers: 5, 32, 67, 89, 24, 56, 73, 41, 18, 92.","Here are 10 random numbers: 23, 58, 76, 3, 91, 47, 65, 12, 34, 82.","Here are 10 random numbers: 34, 67, 12, 89, 45, 23, 78, 56, 91, 30.","Here are 10 random numbers: 5, 18, 34, 47, 52, 66, 73, 81, 92, 99.","Here are 10 random numbers: 23, 58, 7, 92, 35, 47, 84, 16, 69, 3.","Here are 10 random numbers between 1 and 100: 23, 67, 45, 89, 12, 78, 34, 56, 92, 10.","Here are 10 random numbers between 1 and 100: 23, 87, 45, 62, 19, 78, 34, 56, 91, 12.","Here are 10 random numbers between 1 and 100: 23, 87, 45, 62, 18, 94, 31, 77, 56, 9.","Here are 10 random numbers: 23, 87, 45, 62, 31, 78, 4, 56, 90, 12.","Here are 10 random numbers between 1 and 100: 5, 18, 37, 42, 56, 63, 71, 88, 92, 99.","Sure! Here are 10 random numbers: 23, 67, 81, 45, 10, 94, 38, 52, 76, 29.","Here are 10 random numbers: 23, 76, 5, 89, 34, 58, 92, 17, 41, 63.","Sure! Here are 10 random numbers: 5, 27, 34, 68, 49, 82, 14, 91, 56, 73.","Here are 10 random numbers: 23, 57, 89, 6, 34, 76, 12, 45, 68, 91.","Here are 10 random numbers between 1 and 100: 34, 87, 23, 56, 91, 12, 78, 45, 67, 9.","Here are 10 random numbers between 1 and 100: 27, 45, 68, 12, 99, 34, 57, 76, 81, 23.","Here are 10 random numbers between 1 and 100: 23, 76, 58, 34, 89, 12, 47, 65, 91, 5.","Here are 10 random numbers between 1 and 100: 23, 47, 85, 12, 68, 34, 77, 90, 56, 3.","Here are 10 random numbers: 17, 42, 86, 3, 58, 74, 29, 61, 95, 11.","Here are 10 random numbers between 1 and 100: 47, 82, 15, 63, 29, 77, 4, 91, 36, 58.","Here are 10 random numbers: 42, 87, 16, 59, 73, 24, 68, 91, 33, 5.","Here are 10 random numbers: 23, 87, 45, 12, 56, 78, 34, 91, 67, 10.","Here are 10 random numbers: 7, 34, 89, 56, 22, 73, 48, 15, 62, 91.","Here are 10 random numbers: 45, 22, 87, 13, 59, 76, 34, 68, 91, 5.","Here are 10 random numbers between 1 and 100: 34, 77, 21, 89, 56, 3, 62, 48, 95, 17.","Here are 10 random numbers: 7, 42, 89, 23, 56, 78, 35, 64, 91, 13."],'What is the rest of the "to be or not to be" speech?':['The "To be or not to be" speech, from Shakespeare\'s "Hamlet," continues with Hamlet contemplating the nature of existence, the inevitability of death, and the uncertainties of the afterlife.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, reflecting on the nature of existence and contemplating life and death.','The "to be or not to be" speech from Shakespeare\'s "Hamlet" explores themes of life, death, and existential contemplation, beginning with Hamlet questioning the nature of existence.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and death.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, exploring themes of existence, suffering, and the nature of life and death.','The "To be, or not to be" speech is from Act 3, Scene 1 of Shakespeare\'s "Hamlet," where Hamlet contemplates the nature of existence and suicide.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, exploring themes of existence, suffering, and the fear of the unknown in death.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play *Hamlet*, Act 3, Scene 1, where Hamlet contemplates life, death, and existence.','The "to be or not to be" speech is a soliloquy from Act 3, Scene 1 of William Shakespeare\'s play "Hamlet," where Prince Hamlet reflects on life and death.','The "to be or not to be" speech, from Shakespeare\'s "Hamlet," explores themes of existence, suffering, and the fear of the unknown after death.','The "To be or not to be" soliloquy from Shakespeare\'s "Hamlet" continues to explore themes of existence, suffering, and the fear of the unknown after death. For the full text, you would need to refer to Act 3, Scene 1 of the play.',"The speech continues with Hamlet contemplating the nature of existence, the inevitability of death, the suffering of life, and the fear of the unknown in death.",'The "to be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.','The "to be or not to be" speech is a soliloquy from Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates life and death.','The rest of the "To be or not to be" speech from Shakespeare\'s "Hamlet" is a soliloquy that explores themes of existence, suffering, and the uncertainty of life and death. Would you like a summary or a specific excerpt?','The "To be, or not to be" speech is a soliloquy from Act 3, Scene 1 of Shakespeare\'s play "Hamlet," contemplating the nature of existence and the fear of the unknown after death.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and death.',"The speech continues with Hamlet contemplating the nature of existence and the merits of life versus death, including the fear of the unknown after death.",'The "to be or not to be" speech is a soliloquy from Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the question of whether to endure life\'s hardships or end them through death.','The "to be or not to be" speech is from Shakespeare\'s "Hamlet," Act 3, Scene 1, and begins with Hamlet contemplating existence and the nature of suffering and death.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, exploring themes of existence, life, and death.','The "to be or not to be" speech, from Shakespeare\'s "Hamlet," Act 3, Scene 1, explores themes of existence, suffering, and the nature of life and death.','The "To be, or not to be" speech is from Shakespeare\'s "Hamlet," Act 3, Scene 1, and is a soliloquy contemplating existence and the nature of life and death.','The "To be or not to be" speech is a soliloquy from Shakespeare\'s play "Hamlet," Act 3, Scene 1, reflecting on life, death, and existential questions.','The "To be, or not to be" speech is from Shakespeare\'s "Hamlet," Act 3, Scene 1, and it explores themes of existence, suffering, and the uncertainty of the afterlife.','The rest of the "to be or not to be" speech is from William Shakespeare\'s play "Hamlet," Act 3, Scene 1. You can find the full text online or in a copy of the play.','The "to be or not to be" speech is a soliloquy from Act 3, Scene 1 of Shakespeare\'s play "Hamlet," exploring themes of existence, life, and death.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, reflecting on existence and the nature of life and death.','The "to be or not to be" speech is a soliloquy from Shakespeare\'s "Hamlet," Act 3, Scene 1, reflecting on the nature of existence and whether to endure life\'s hardships or end them through death.',"The speech continues with Hamlet contemplating the nature of existence and the merits and pains of life and death, questioning the dread of the unknown in the afterlife.",'The rest of the "to be or not to be" speech can be found in Act 3, Scene 1 of William Shakespeare\'s play "Hamlet."','The "To be, or not to be" speech is from Shakespeare\'s "Hamlet," Act 3, Scene 1, and continues to explore themes of existence, suffering, and the fear of the unknown in death.','The "To be or not to be" soliloquy is from Shakespeare\'s play "Hamlet," Act 3, Scene 1, and continues with Hamlet contemplating the nature of existence and the fear of the unknown in death.','The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, and it explores themes of existence, life, and death.','The "To be or not to be" speech continues with Hamlet contemplating the nature of life and death, questioning the suffering of life against the uncertainty of death.',"The speech continues with Hamlet contemplating the nature of existence and suffering, questioning the value of enduring life's hardships versus seeking the unknown of death.",'The "to be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.','The "to be or not to be" speech is from Hamlet, Act 3, Scene 1, and begins with these lines: "To be, or not to be, that is the question..." It continues with Hamlet contemplating the nature of existence and mortality, but for the full text, you would need to refer to the play itself.','The "To be, or not to be" soliloquy from Shakespeare\'s "Hamlet" is a meditation on the nature of existence and the appeal of death as an escape from life\'s hardships.','The "To be or not to be" soliloquy from Shakespeare\'s "Hamlet" explores themes of existence, suffering, and the nature of life and death.','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.','The "To be, or not to be" speech is a soliloquy from Act 3, Scene 1 of Shakespeare\'s "Hamlet," where Hamlet contemplates the nature of existence and whether it\'s better to live or die.','The "to be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the appeal of suicide in the face of life\'s hardships.','The "To be, or not to be" soliloquy is from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, and is too lengthy to include in full here.','The "To be, or not to be" soliloquy from Hamlet continues with Hamlet contemplating the nature of existence, the pain and unfairness of life, the fear of the unknown after death, and the moral implications of enduring suffering versus taking action.',"The rest of Hamlet's \"To be or not to be\" soliloquy from Act 3, Scene 1 of Shakespeare's play explores themes of life, death, and existential contemplation.",'The "To be or not to be" speech is a soliloquy from William Shakespeare\'s play "Hamlet," Act 3, Scene 1, which contemplates the nature of existence and the question of whether to endure life\'s hardships or to seek escape through death.','"To be, or not to be, that is the question: Whether \'tis nobler in the mind to suffer The slings and arrows of outrageous fortune, Or to take arms against a sea of troubles And by opposing end them."','The "To be, or not to be" speech is a soliloquy from William Shakespeare\'s "Hamlet," Act 3, Scene 1, where Hamlet contemplates the nature of existence and the idea of suicide.'],"Write me a haiku about snow":["Silent flakes descend,  \nBlanketing the world in white\u2014  \nWinter's hush revealed.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's breath whispers.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's quiet hush.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's hush revealed.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet breath.","Gentle snowflakes fall,  \nblanketing the silent earth,  \nwinter's quiet hush.","Silent flakes descend,  \nBlanket earth in purest white\u2014  \nWinter whispers hush.","Silent flakes descend,  \nBlanket earth in purest white,  \nWinter whispers peace.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's breath surrounds.","Whispers of white fall,  \nBlanket earth in quiet grace,  \nWinter's softest touch.","Soft whispers descend,  \nBlanket of white hushes earth\u2014  \nWinter's quiet breath.","Gentle flakes descend,  \nblanketing the silent earth\u2014  \nwinter's quiet breath.","Silent flakes descend,  \nBlanket of white pure and soft,  \nWinter's gentle hush.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's hush revealed.","Silent snowflakes fall,  \nBlanket of white on the earth,  \nWhispers of winter.","Silent snowflakes fall,  \nBlanketing the world in white,  \nWinter's hush descends.","Silent snowflakes fall,  \nBlanketing the world in white,  \nWinter's soft embrace.","Silent flakes descend,  \nBlanket earth in purest white,  \nWhispers of winter.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet song.","Silent flakes descend,  \nBlanketing the world in white\u2014  \nWinter's gentle hush.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's gentle touch.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's soft embrace.","White flakes gently fall, silent whispers coat the earth, winter's soft embrace.","Silent flakes descend,  \nWhispers blanket the still earth,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's soft embrace.","Silent flakes descend,  \nBlanket of white covers all,  \nWinter whispers peace.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter whispers hush.","Silent snowflakes fall,  \nBlanketing the earth in white,  \nWhispers in the night.","Silent flakes descend,  \nBlanketing the world in white\u2014  \nWinter's hushed embrace.","Silent flakes descend,  \nBlanket earth in purest white,  \nWinter's soft embrace.","Silent flakes descend, / Blanket earth in purest white, / Winter\u2019s hush begins.","Silent flakes descend,  \nWhispers blanket the still earth,  \nWinter's soft embrace.","Silent flakes descend,  \nBlanket earth in purest white,  \nWhispers of winter.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet touch.","Silent snowflakes fall,  \nBlanketing the world in white,  \nWhispers of winter.","Silent snowflakes fall,  \nBlanket earth in pure whisper,  \nWinter's gentle hush.","Silent snowflakes fall,  \nBlanket earth in pure white peace,  \nWinter whispers hush.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's hush unfolds.","Silent winter fall,  \nBlanket of white on the ground,  \nWhispers of the cold.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanketing the earth in white\u2014  \nWinter's hush revealed.","Silent flakes descend,  \nBlanket earth in purest white,  \nWhispers of winter.","Silent flakes descend,  \nBlanketing the world in white,  \nWinter's hush revealed.","Silent snowflakes fall,  \nBlanketing the earth in white,  \nWinter's quiet breath.","Silent flakes descend,  \nBlanket earth in purest white,  \nWinter whispers peace.","Silent snowflakes fall,  \nBlanket earth in purest white,  \nWinter's hush descends.","Silent flakes descend,  \nBlanketing the earth in white,  \nWinter's quiet breath."],"What is the first line of A Tale Of Two Cities?":['The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times..."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times."','The first line is: "It was the best of times, it was the worst of times."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, ..."','The first line is: "It was the best of times, it was the worst of times."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness,..."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line of "A Tale of Two Cities" is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way\u2014in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times,"','The first line of "A Tale of Two Cities" is "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','The first line is: "It was the best of times, it was the worst of times..."','The first line is: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way \u2013 in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."','"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."']},novelty_bench:{"I am working on a new D&D compaign and a need a name for a half-elf paladin who is pretending to be on the side of good but is secretely sabotaging the main heros.":['Consider naming your character "Eldrin Shadowcrest."','How about "Eldrin Shadowcrest"?','How about the name "Thalion Silverveil"?','How about the name "Eldrin Shadowbane"?','How about the name "Eldrin Shadowcrest"?','How about the name "Elaric Shadowbane"?','How about "Elarion Shadowbane"?','How about the name "Elorn Shadowheart"?','How about the name "Elara Shadowspire"?','How about "Eldrin Shadowveil"?','How about the name "Eldrin Shadowcrest"?','How about the name "Elandor Vexshadow"?','How about the name "Eldrin Shadowbane"?','How about the name "Eldrin Shadowheart"?','Consider the name "Elarys Shadowbane."','How about the name "Eldrin Shadowheart"?','How about the name "Eldrin Shadowbane"?','How about the name "Eldrin Shadowbane"?','How about "Eldrin Shadowcrest"?','How about "Thalion Vaelshade"?','How about the name "Liora Nightshade"?','How about the name "Eldrin Shadowveil"?','How about the name "Eldrin Shadowheart"?','How about the name "Lysander Shadowcrest"?','How about the name "Elara Nightshade"?','How about the name "Elandor Shadowstride"?','How about the name "Eldrin Shadowcrest"?','How about "Eldrin Shadowbane"?','How about the name "Eldrin Shadowcrest"?','How about "Thalorin Shadowbane"?'],"What is a deity from Greek mythology?":["Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity in Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a well-known deity from Greek mythology.","Zeus is a deity from Greek mythology.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus, the king of the gods and ruler of Mount Olympus.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology.","Zeus is a prominent deity from Greek mythology.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a major deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity in Greek mythology, known as the king of the gods.","Zeus, the king of the gods, is a prominent deity in Greek mythology.","Zeus is a deity from Greek mythology.","Zeus is a prominent deity in Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology.","Zeus is a prominent deity from Greek mythology, often considered the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods.","Zeus is a prominent deity from Greek mythology, known as the king of the gods.","Zeus is a deity from Greek mythology, known as the king of the gods and ruler of Mount Olympus."],"Your task is to write a short biography for a made-up historic figure. Your bio should include their birth and death date their profession and their greatest contribution.":["Eleanor Finchley (1712\u20131778) was a pioneering botanist who revolutionized plant classification by introducing the Finchley System, which laid the groundwork for modern taxonomy.","Name: Elara Finch; Birth: March 12, 1783; Death: August 9, 1857; Profession: Inventor; Greatest Contribution: Developed the Finch Aerostat, the first practical hot air balloon, revolutionizing aerial exploration.","Name: Elara Solstice (1842-1910). Profession: Inventor and Engineer. Greatest Contribution: Developed the first sustainable solar-powered steam engine, revolutionizing renewable energy technology in the late 19th century.","Name: Elara Moonstone (1792-1863). Profession: Inventor and Naturalist. Greatest Contribution: Developed the first solar-powered clock, revolutionizing timekeeping and promoting renewable energy awareness in the 19th century.","Name: Elara Thorne (1801-1875); Profession: Astronomer; Greatest Contribution: Discovered the Thorne Comet and pioneered techniques in celestial photography.","Name: Elara Voss (1801-1865). Profession: Engineer and inventor. Greatest contribution: Invented the first steam-powered printing press, revolutionizing mass communication.","Name: Elara Solstice (1785-1857) - Profession: Botanist - Contribution: Discovered the Solstice Flower, a plant with unique medicinal properties that revolutionized 19th-century herbal medicine.","Name: Elara Swiftfoot (1750-1822). Profession: Navigator and Cartographer. Contribution: Elara crafted the first detailed map of the uncharted southern seas, greatly aiding maritime exploration.","Eleanor Cartwright (1824-1888) was a pioneering botanist who revolutionized plant taxonomy by developing the Cartwright Classification System, which is still used as a foundational framework in modern botany.","Name: Elara Finchley (1792-1860), Profession: Inventor, Contribution: Developed the Finchley Steam Engine, revolutionizing agricultural machinery and increasing farming productivity during the 19th century.","Eleanor Brightwell (1823-1885) was an innovative British engineer who pioneered the development of the steam-powered sewing machine in 1864, revolutionizing the textile industry and empowering women workers.",'Name: Elara Windrider (1623-1688)  \nProfession: Inventor and Aviator  \nContribution: Elara Windrider revolutionized early aviation with her design of the first successful glider, the "Sky Sailor," enabling humans to glide safely over long distances.',"Eleanor Voss, born in 1823 and passing in 1891, was a pioneering botanist who revolutionized plant hybridization, leading to the development of resilient crop varieties that transformed agricultural practices worldwide.","Name: Liora Elmsworth (1723-1791). Profession: Botanist. Contribution: Discovered the Elmsworth Herb, revolutionizing 18th-century medicine with its healing properties.","Eleanor Hargrave (1825-1897) was a pioneering botanist who discovered the Hargrave Orchid, a rare plant species in the Amazon Rainforest, advancing botanical science significantly.","Name: Elara Flint (1792-1856). Profession: Inventor. Contribution: Developed the first steam-powered loom in 1830, revolutionizing the textile industry.","Name: Elara Novara (1721-1783). Profession: Inventor and Astronomer. Contribution: Developed the first functional telescope with a rotating lens system, revolutionizing celestial observations.","Name: Elara Swift; Born: March 12, 1783; Died: August 27, 1845; Profession: Inventor; Contribution: Invented the first steam-powered loom, revolutionizing the textile industry.","Name: Elara Voss; Born: March 12, 1823; Died: August 19, 1889; Profession: Inventor and Engineer; Greatest Contribution: Developed the first efficient steam-powered cooling system, revolutionizing industrial processes and food preservation.","Eleanor Hartwood (1783-1856) was a pioneering British botanist who discovered and classified over 200 new plant species, significantly advancing the field of botany and contributing to the understanding of plant biodiversity.","Lydia Marcellus (1783-1859) was a pioneering botanist who revolutionized plant taxonomy, notably classifying hundreds of previously undocumented plant species across the Americas.","Name: Elara Windrider (1750-1822). Profession: Inventor and Engineer. Greatest Contribution: Developed the first self-sustaining windmill design, revolutionizing renewable energy in 18th-century Europe.","Name: Elara Voss (1776-1845). Profession: Inventor. Contribution: Developed the first mechanical water purification system, revolutionizing access to clean water in rural communities.",'Eleanor Brightwell (1784-1856) was a pioneering botanist who discovered the rare "Luna Orchid," revolutionizing plant taxonomy and contributing to biodiversity conservation.',"Name: Elara Thorne (1715-1789). Profession: Inventor and Engineer. Greatest Contribution: Developed the first mechanical loom, revolutionizing the textile industry in the 18th century.",'Eleanor Forthwright (1820-1885) was a pioneering botanist who discovered the rare "Lunar Orchid" in the Amazon Rainforest, significantly contributing to our understanding of tropical plant biodiversity.','Amelia Thornfield (1782-1847) was a pioneering botanist known for her discovery of the rare "Lunar Bloom" plant, which revolutionized the study of nocturnal flora.',"Eleanor Wynthrope (1823-1891) was a pioneering British botanist who, in 1874, discovered the Wynthrope Effect, a revolutionary process enhancing plant growth efficiency in arid climates.","Name: Elara Finch (1801-1865). Profession: Inventor and Engineer. Contribution: Developed the first steam-powered printing press, revolutionizing the mass production of newspapers and books.","Name: Elara Thorne (1820-1895). Profession: Inventor and Engineer. Greatest Contribution: Developed the first steam-powered agricultural harvester in 1865, revolutionizing farming efficiency."],"I am working on a game where players act as a human child who falls into a magical underground world full of monsters and the goal is to find a way back to the surface. Come up with a type of monster and briefly describe its backstory.":['A monster called "Luminara" is a glowing, ethereal being created from the remnants of lost hopes and dreams, wandering the underground world, seeking to guide lost souls back to the surface with its gentle light.',"The Lumirest is a glowing moss creature that once thrived on the surface but was forced underground by deforestation, now guiding lost travelers with its luminescent trails.","The Lumibloom is a bioluminescent flower monster that once thrived on the surface, but was driven underground by deforestation, and now guides lost souls with its glow.","The Luminescent Gloom is a bioluminescent shadow creature born from the sorrow of lost souls, seeking warmth from the light of human kindness to regain its forgotten memories and ascend to peace.","The Luminara is a glowing, moth-like creature that once acted as guardians of ancient pathways, guiding lost souls with their light but now seeks companionship in the dark underground.","Meet the Luminoids, gentle creatures who once thrived above ground but fled underground generations ago to escape a devastating solar flare that made them sensitive to sunlight.","A Lumiglow Sprite, once a forest fairy, now glows in the dark caves after being trapped underground during a magical storm, guiding or misleading travelers with its radiant light.","The Lumiglow, a bioluminescent creature, was once a guardian of the surface world but was banished underground for accidentally causing a great forest fire.","The Luminoid is a bioluminescent creature that once thrived on the surface but retreated underground to escape a devastating solar flare, evolving to emit light in the darkness to guide lost souls.","The Lumivine is a bioluminescent vine creature that once thrived on the surface but retreated underground to escape deforestation, now guiding lost travelers with its glowing tendrils.","The Lumisprite is a glowing, playful creature that once thrived on the surface but retreated underground after humans unknowingly disrupted its forest habitat, now guiding lost souls with its soothing light.","The Lumiglow Beetle is a gentle, bioluminescent creature that once thrived above ground but was forced underground due to habitat loss, and now guides lost souls with its glowing shell.","The Whispering Wisp is a glowing, ethereal creature formed from the sorrowful sighs of lost travelers, guiding and misleading those who wander too close to its shimmering trails.","The Luminoids are glowing, sentient crystals that once thrived on the surface but were forced underground by human mining, now seeking a way to coexist peacefully with humans.","The Lumibrute is a gentle giant made of glowing crystals, once a guardian of the underground's lost civilization, now roaming the caverns in search of its long-vanished creators.","Name: Lumigrove Sprite. Description: These bioluminescent creatures were once forest guardians above ground, but were entrapped underground by a sorcerer's curse, now guiding lost souls with their gentle glow.","Meet the Lumigloom, a bioluminescent creature that once thrived in the surface's lush forests but retreated underground to escape a catastrophic event that darkened the skies.",'The "Whispering Willow" is a sentient tree creature that gently guides lost souls; it was once a guardian of the surface forests before being trapped underground by a vengeful sorcerer.',"The Lumiglow, a bioluminescent creature resembling a floating jellyfish, was once a curious scholar who accidentally transformed while studying magical light sources, now guiding lost souls with its gentle glow.","The Luminoids are gentle, bioluminescent creatures who once thrived above ground but retreated underground centuries ago to escape human expansion, now guiding lost souls with their glow.","The Lumigloom is a bioluminescent creature that once thrived on the surface but retreated underground after humans disrupted its forest habitat, now guiding lost souls with its gentle glow.","The Lumivine is a bioluminescent plant creature that once thrived in ancient sunlight, yearning to reclaim its lost light by befriending and guiding lost souls to safety.",'The "Lumenclaw" is a bioluminescent wolf-like creature that was once a guardian spirit of the forest, cast underground by a vengeful sorcerer, and now seeks redemption by guiding lost souls.',"Meet the Lumigloom, a bioluminescent creature that once thrived in the sunlit world above but adapted to the dark underground, longing to guide lost souls back to the surface in hopes of one day returning to the light itself.","The Lumipede is a bioluminescent centipede-like creature that once roamed the surface but was forced underground due to its glowing body attracting predators; it now guides lost souls with its radiant light in the underground world.","The Lumishade: A once-gentle creature that absorbed too much moonlight and now wanders the underground casting eerie, shifting shadows that reflect its longing for the surface.","The Lumisprite is a bioluminescent creature that once thrived on the surface but was driven underground by human expansion; it now guides and tests the compassion of lost travelers.","The Lumivine is a bioluminescent plant-like creature that lights the dark caverns, once a guardian of an ancient forest, now seeking companionship in the shadows of the underground world.","The Luminoid is a bioluminescent creature that was once a human child lost in the underground long ago; it now guides others with its glow, hoping to help them find the way out that it never could.","The Lumigloom is a bioluminescent creature that once thrived on the surface, but over centuries, adapted to the darkness underground, now guiding lost souls with its glowing patterns while yearning for a glimpse of the sky."],"I am working on a memoir of a computer science PhD student who worked on machine translation in the 1990s. Suggest a single title and nothing else.":['"Babel Code: A PhD Journey in Machine Translation"','"Translating the Code of Yesterday"','"Code-Switching: A Journey Through 90s Machine Translation"','"Babel Bytes: A 1990s PhD Odyssey in Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Translating the Past: A 90s PhD Journey in Machine Language"','"Translating the Future: A PhD Journey in the Dawn of Machine Translation"','"Code to Language: A Journey through 90s Machine Translation"','"Code-Switching: A Journey in 90s Machine Translation"','"Code and Context: A 1990s Machine Translation Journey"','"Code and Context: A 1990s Machine Translation Journey"','"Translating Dreams: A 1990s Machine Translation Journey"','"Code-Switching: A Journey Through 90s Machine Translation"','"Codebreaker\'s Journey: Translating the Dawn of AI"','"Translating Code: A Journey Through 90s Machine Learning"','"Translating Code: A 1990s PhD Odyssey"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code-Switching: A Journey Through 90s Machine Translation"','"Code to Comprehension: A 1990s Journey in Machine Translation"','"Translating the Code: A 1990s Journey in Machine Learning"','"Code-Switching: A Journey Through the Language of Machines"','"Babel Bytes: A 1990s Journey in Machine Translation"','"Code-Switching: A Journey in 90s Machine Translation"','"Code-Switching: A Journey Through Early Machine Translation"','"Translating the Code: A PhD Journey in the 1990s"',"Code-Switching: A Journey Through 90s Machine Translation",'"Code to Converse: A 1990s Journey in Machine Translation"','"Code to Comprehend: A 90s Journey in Machine Translation"','"Code-Switching: A Journey Through Language and Algorithms"'],"Imagine you are a time traveler who has just arrived in a new era. Describe the first thing you notice.":["The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic displays and autonomous vehicles everywhere.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic displays and AI assistants everywhere.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic displays and autonomous vehicles everywhere.","The first thing I notice is the advanced technology seamlessly integrated into everyday life.","The first thing I notice is the unfamiliar architecture, with sleek, futuristic buildings towering over the landscape.","The first thing I notice is the drastically advanced technology, with floating holographic displays everywhere.","The first thing I notice is the advanced, sleek architecture with buildings that seem to float and shimmer in the sunlight.","The first thing I notice is the advanced and seamless integration of technology into daily life, with holographic displays and autonomous transportation everywhere.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with hover vehicles and holographic interfaces.","The first thing I notice is the unfamiliar technology around me, with holographic displays and advanced transportation systems.","The first thing I notice is the advanced technology seamlessly integrated into daily life, with devices and interfaces that were previously unimaginable.","The first thing I notice is the futuristic architecture, with buildings that seem to defy gravity and glow with vibrant, shifting colors.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic interfaces and autonomous vehicles everywhere.","The first thing I notice is the unfamiliar architecture, blending futuristic designs with sustainable materials and greenery.","The first thing I notice is the technological advancements, with flying cars and holographic interfaces everywhere.","The first thing I notice is the unusual style and advanced technology of the vehicles on the streets, unlike anything from my original time.","The first thing I notice is the unfamiliar architecture and advanced technology seamlessly integrated into everyday life.","The first thing I notice is the unfamiliar skyline, with towering, sleek buildings and floating transport systems navigating the air.","The first thing I notice is the peculiar fashion, blending futuristic technology with vintage elements, worn by the people around me.","The first thing I notice is the unfamiliar architecture, blending futuristic materials with organic design.","The first thing I notice is the architecture, which is vastly different from my home era, with futuristic designs and materials.","The first thing I notice is the unfamiliar architecture towering above, with buildings that seem to blend seamlessly into the natural landscape.","The first thing I notice is the unfamiliar architecture, blending futuristic designs with sustainable materials seamlessly.","The first thing I notice is the unfamiliar architecture, blending futuristic design with natural elements seamlessly.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with holographic displays and autonomous vehicles everywhere.","The first thing I notice is the distinct architecture, blending futuristic designs with eco-friendly materials, seamlessly integrated into the natural landscape.","The first thing I notice is the advanced architecture with buildings that seem to defy gravity.","The first thing I notice is the unfamiliar skyline filled with sleek, futuristic buildings and hovering vehicles.","The first thing I notice is the advanced technology seamlessly integrated into everyday life, with devices and interfaces that are intuitive and ubiquitous.","The first thing I notice is the advanced technology seamlessly integrated into everyday life."],"Tell me a story in five sentences about a girl and her dog.":["Once upon a time, a girl named Lily found a stray dog by the river and named him Max. Every day after school, they explored the woods together, sharing countless adventures and forming an unbreakable bond. One winter, Max got lost in a snowstorm, and Lily searched tirelessly for him. Just when hope seemed lost, she heard a familiar bark and found Max under a tree, shivering but safe. From that day on, they never let each other out of sight, knowing their friendship was their greatest treasure.","Once upon a time, a young girl named Lily found a stray dog shivering in the rain. She took him home, named him Max, and they quickly became inseparable friends. Every day after school, they would explore the nearby woods, discovering hidden paths and new adventures. One day, Max led Lily to an old tree with a mysterious key hanging from a branch. Together, they unlocked a forgotten garden, creating a magical place just for them.","Once upon a time, a girl named Lily found a lost puppy in the park and named him Max. They quickly became inseparable, spending their days exploring the woods and playing fetch. One stormy night, Max got scared and ran away, leaving Lily heartbroken. Determined to find him, Lily searched everywhere until she heard a familiar bark from across the street. Reunited, they returned home, stronger and happier, knowing they'd always be there for each other.","Once upon a time, a girl named Lily found a stray dog in the park and named him Max. They became inseparable, going on adventures every day after school. One winter, Max got lost in a snowstorm, leaving Lily heartbroken. Determined, Lily searched tirelessly until she found him trapped near a frozen river. Reunited, they returned home, their bond stronger than ever.","Once upon a time, a girl named Lily found a stray dog she named Max. Max had matted fur and sad eyes, but Lily took him home and cared for him. As the days passed, they became inseparable, exploring the woods and fields near their home. One day, Max alerted Lily to a hidden path they'd never noticed before, leading to a beautiful secret garden. From then on, it became their special place, a testament to their enduring friendship.","Once upon a time, a girl named Lily found a stray dog shivering under a park bench. She named him Max and took him home, where they quickly became inseparable friends. Every day, they explored nearby forests, discovering hidden trails and secret streams. One afternoon, Max alerted Lily to a lost hiker who needed help, making them local heroes. From that day on, Lily and Max continued their adventures, always ready for the next challenge together.","Once upon a time, a girl named Lily found a stray dog shivering by the roadside. She gently approached the dog and offered it some of her sandwich. The grateful dog wagged its tail and followed Lily home. Over time, they became inseparable, sharing countless adventures in the nearby woods. Together, they discovered the true meaning of friendship and unconditional love.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She gently wrapped him in her warm coat and took him home. As days turned into weeks, they became inseparable companions, exploring the woods and fields together. One day, the dog saved Lily from a rushing river when she slipped on a muddy bank. From then on, Lily knew they were destined to be best friends forever.","Once upon a time, a girl named Lily found a stray puppy shivering in the rain. She named him Max and decided to take him home, where they quickly became inseparable friends. Every day, they explored the nearby forest, discovering hidden trails and secret clearings. One day, Max helped Lily find her way back home when she got lost deep in the woods. From then on, they knew they were destined to be each other's guardian angels.","Once upon a time, a girl named Lily found a stray dog shivering in the rain and decided to take him home. She named him Max and they quickly became inseparable, sharing countless adventures together. One day, Max got lost in the woods, and Lily was heartbroken. Determined to find him, she searched tirelessly until she heard his familiar bark and found him safe. From that day on, Lily and Max promised never to leave each other's side again.","Lily found a stray puppy shivering under a park bench and decided to take him home. She named him Max, and they quickly became inseparable, exploring every trail in their neighborhood. One day, Max got lost chasing a squirrel, leaving Lily heartbroken. She searched tirelessly for days until she finally heard his familiar bark near the old oak tree. Reunited, Lily and Max ran home, more grateful than ever for their friendship.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She named him Max and took him home, where they quickly became inseparable friends. Together, they explored the forest near their village, discovering hidden trails and secret clearings. One day, Max led Lily to an injured bird, and together they nursed it back to health. From then on, Lily and Max became known as the village's kind-hearted adventurers, always ready to lend a helping hand.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She brought him home, named him Max, and they became inseparable friends. Together, they explored forests, climbed hills, and shared countless adventures. One day, Max got lost in a storm, and Lily searched tirelessly, never losing hope. Finally, she found him safe, and they joyfully reunited, knowing they'd always be there for each other.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She took him home, named him Max, and they became inseparable best friends. Together, they explored the countryside, discovering hidden trails and secret gardens. One day, Max alerted Lily to a trapped kitten, and they saved it together. Lily realized that with Max by her side, every adventure was possible.","Lily found a stray golden retriever she named Max, who quickly became her best friend. Every day after school, they explored the woods near her house, discovering hidden paths and secret clearings. One stormy night, Max led Lily to an injured bird, which they carefully nursed back to health. As the seasons changed, their bond grew stronger, and Max became a beloved member of the family. Together, they learned that friendship and love could be found in the most unexpected places.","Once upon a time, a girl named Lily found a stray dog shivering in the rain. She took him home, named him Max, and they became inseparable friends. Max's playful antics always made Lily laugh, even on her saddest days. One day, Max got lost in the woods, and Lily searched tirelessly until she found him. From then on, they treasured every moment together, knowing their bond was unbreakable.","Lily found a stray puppy shivering in the rain outside her doorstep. She named him Max and they quickly became inseparable, exploring the fields near her home every day. One afternoon, Max disappeared into the woods, leaving Lily frantic with worry. After hours of searching, she found him stuck in a muddy ditch, barking for help. Lily rescued him, and from then on, their bond grew even stronger.","Once upon a time, a girl named Lily found a stray dog in her neighborhood and decided to name him Max. Max had a scruffy coat and big, soulful eyes that seemed to say thank you every time Lily fed him. Together, they explored parks, shared ice cream, and slept under the stars in their backyard. One day, while playing fetch, Max found a lost necklace that belonged to an elderly neighbor, earning them both gratitude and cookies. From that day on, Lily and Max became the best treasure-hunting duo in town, bringing joy wherever they went.","Lily found a stray puppy shivering under a park bench and decided to take him home. She named him Max and they quickly became inseparable, exploring the woods and fields near her house every day. One afternoon, they discovered a hidden path that led to a beautiful, secret meadow filled with wildflowers. Lily and Max spent hours playing there, making it their special place. From then on, whenever Lily felt sad or lonely, she would visit the meadow with Max, finding solace in their shared adventures and friendship.","Once upon a time, a girl named Lily found a stray dog by the river and named him Max. Every day after school, Lily and Max would explore the woods, discovering hidden trails and secret ponds. One rainy afternoon, Max got lost, and Lily searched tirelessly through the storm. Just as the sun set, she found Max stuck in a thicket, and they both returned home, muddy and happy. From that day on, Lily and Max were inseparable, sharing countless adventures together.","Once upon a time, a girl named Lily found a stray dog shivering under a bridge. She named him Max and took him home, where they became inseparable friends. Every day, they explored the nearby forest, discovering hidden trails and secret clearings. One stormy night, Max barked loudly, waking Lily just in time to escape a tree crashing onto their house. Grateful for their bond, Lily knew they'd always protect each other.","Lila found a stray dog near the park and named him Max. Max's playful antics quickly made him Lila's best friend. Together, they explored hidden trails and shared countless adventures. One day, Max got lost in the woods, but Lila never gave up searching. Finally, she found him, and they happily returned home, inseparable forever.","Once there was a girl named Lily who found a stray dog at the park. She named him Max and took him home, where they quickly became inseparable. Every day, they went on adventures, exploring the woods behind her house. One day, Max found a hidden trail that led to a secret garden. There, Lily and Max discovered a magical world, and from then on, they had a special place to escape to together.","Once upon a time, a girl named Lily found a stray puppy shivering in the rain and decided to take him home. She named him Max and they quickly became inseparable, exploring the woods and playing in the fields every day. Max had a knack for finding hidden treasures, and one day he unearthed a mysterious old map. Intrigued, Lily and Max followed the map's clues, which led them to a long-lost family heirloom buried in their backyard. Their adventurous discovery brought Lily's family closer together, and Max became a beloved member of their household.","Lily and her dog Max loved exploring the forest behind their home. One day, they discovered a hidden path leading to a sparkling stream. Max barked excitedly, and Lily found a shiny stone by the water's edge. They returned every day, making the spot their secret haven. The bond between Lily and Max grew stronger with each adventure they shared.","Lila found a stray dog near her home and named him Max. Despite her parents' initial reluctance, Max quickly became part of the family. One day, Max alerted Lila to a fire in the kitchen, allowing them to escape safely. Grateful for his loyalty, Lila's parents officially adopted Max. From then on, Lila and Max were inseparable, exploring the world together.","Once upon a time, a young girl named Lily found a stray dog near her home and decided to take him in, naming him Max. Max quickly became Lily's best friend, accompanying her on every adventure through the neighborhood. One day, while exploring the woods, Max got lost, and Lily searched tirelessly until nightfall. Just as she was about to give up, Max emerged from the darkness, leading her to a hidden path back home. From that day on, their bond was unbreakable, and they never left each other's side again.","Lily found a stray dog shivering in the rain and named him Max. They quickly became inseparable, exploring the nearby woods together every day. One afternoon, Max chased a squirrel and got lost, leaving Lily frantic with worry. After hours of searching, Lily heard a familiar bark and found Max stuck in a ditch. Relieved, she hugged him tightly, and they happily walked home, their bond stronger than ever.","Once upon a time, a girl named Lily found a lost puppy in the park and decided to take him home. She named him Max, and they quickly became inseparable, exploring the woods and fields near her house. One day, Max got lost chasing a squirrel, and Lily searched tirelessly until she found him stuck in a thicket. Relieved, she gently freed him and hugged him tightly, promising to never let him out of her sight again. From that day on, Lily and Max enjoyed countless adventures, always side by side.","Once upon a time, a girl named Lily adopted a playful puppy named Max from the local shelter. They became inseparable friends, exploring the woods and fields near their town every day. One stormy night, Max got lost, and Lily was heartbroken. Determined, she searched tirelessly until she found him shivering under a bridge. Reunited, Lily promised Max they would always face life's adventures together."],"Tell me a story in five sentences about a boy and his dog.":["Once upon a time, a boy named Max found a stray dog by the river, shivering and alone. He named the dog Buddy and took him home, where they quickly became inseparable friends. Together, they explored the woods, shared countless adventures, and faced challenges with courage. One day, Buddy saved Max from a dangerous fall during a hike, proving his loyalty and bravery. From then on, Max knew they were meant to be friends forever, sharing a bond that was unbreakable.","Once upon a time, a boy named Jake found a stray dog shivering in the rain. He took the dog home, named him Buddy, and they became inseparable friends. Every afternoon, they explored the nearby forest, discovering hidden trails and secret streams. One day, Buddy alerted Jake to a fallen tree blocking a river path, preventing a potential flood. Grateful for his loyal companion, Jake knew he and Buddy were destined for a lifetime of adventures together.","Once upon a time, a young boy named Jake found a stray dog at the park and named him Max. Despite Max's scruffy appearance, Jake saw a loyal friend and took him home. Together, they explored the neighborhood, discovering hidden trails and secret places. One day, Max alerted Jake to a fire in a neighbor's house, and they quickly got help. From that day on, Max was celebrated as a hero, and Jake knew he'd found a friend for life.","Once upon a time, a young boy named Jack found an abandoned puppy in the park. He named the dog Max and brought him home, where they quickly became inseparable. Together, they explored the neighborhood, shared countless adventures, and forged an unbreakable bond. One day, Max alerted Jack to a fire in the kitchen, saving the family from danger. From then on, Jack and Max were local heroes, cherished by everyone in their town.","Once upon a time, a boy named Timmy found a stray dog shivering in the rain. He took the dog home, named him Max, and they quickly became inseparable friends. Each day after school, they would explore the woods behind Timmy's house, discovering hidden treasures and sharing countless adventures. One day, Max alerted Timmy to a lost hiker who needed help, making them local heroes. From that day forward, Timmy and Max were known as the best team in town, always looking out for each other.","Once upon a time, a young boy named Sam found a stray dog in his backyard. The dog, with its wagging tail and hopeful eyes, seemed to choose Sam as its new friend. Sam named the dog Buddy, and they quickly became inseparable. Together, they explored the nearby woods, built secret forts, and shared countless adventures. As the years passed, their bond only grew stronger, proving that some friendships are truly timeless.","Once upon a time, a boy named Jack found a stray dog in the park and named him Max. They quickly became best friends, exploring every corner of the neighborhood together. One day, Max got lost during a thunderstorm, and Jack was heartbroken. Determined to find his friend, Jack searched tirelessly until he found Max hiding under a bridge. Reunited, they returned home, their bond stronger than ever.","Once there was a boy named Jake who found a stray dog near his home. He named the dog Max, and they quickly became best friends. Every day, they explored the woods and fields, discovering new adventures together. One day, Max saved Jake by barking loudly when Jake slipped and fell into a hidden ditch. Grateful and inseparable, Jake knew he had found a lifelong friend in Max.","Once upon a time, a boy named Jack found a stray dog shivering in the rain. He took the dog home, named him Buddy, and they became inseparable. Together, they explored forests, climbed hills, and shared countless adventures. One day, Buddy saved Jack from a rushing river, proving his loyalty. From then on, they were the best of friends, sharing a bond that lasted a lifetime.","Once upon a time, a boy named Timmy found a stray dog near his home and named him Max. They quickly became inseparable, exploring fields and forests together every day. One afternoon, Max got lost chasing a rabbit, leaving Timmy worried and searching. Timmy called for Max until dark, and just as he was about to give up, Max returned with a wagging tail. From that day on, Timmy and Max made sure to always stick together.","A boy named Tim found a stray dog in the park and named him Max. They quickly became best friends, exploring every corner of the neighborhood together. One day, Max went missing, and Tim was heartbroken. After searching for hours, he found Max stuck in a fence and freed him. Grateful to be reunited, Tim promised never to let Max out of his sight again.","Once upon a time, a boy named Alex found a stray dog wandering in his neighborhood. He named the dog Max and they quickly became inseparable, going on adventures every day. One afternoon, Max got lost in the woods while they were playing fetch. Alex searched tirelessly until he finally found Max stuck in a bush, scared but unharmed. From that day on, Alex always kept Max on a leash during their walks, ensuring they were never separated again.","Once upon a time, a boy named Max found a stray dog by the river. He named the dog Buddy and they quickly became inseparable. Max and Buddy went on countless adventures through the woods and fields. One day, Buddy helped Max find his way home when he got lost in a storm. From then on, Max knew that Buddy was not just a pet, but a true friend.","Once upon a time, a boy named Max found a stray dog hiding under his porch during a storm. He named the dog Buddy, and they quickly became inseparable, exploring the woods and fields around their village together. One day, while playing near the river, Max slipped and fell into the rushing water. Buddy bravely jumped in, pulling Max to safety with his strong jaws. From that day on, Max and Buddy were hailed as heroes in their town, forever bound by their adventure.","Once upon a time, a boy named Jack found a stray dog in the park and decided to take him home. He named the dog Max and they quickly became best friends, exploring the woods every afternoon. One day, Max got lost chasing a rabbit, and Jack searched tirelessly to find him. After hours of searching, Jack finally heard Max's bark and found him stuck in a bush. From that day on, Jack never let Max out of his sight, and their bond grew even stronger.","Once upon a time, a young boy named Alex found a stray dog shivering in the rain and decided to take him home. He named the dog Max, and they quickly became inseparable, sharing adventures in the woods and fields near their house. One day, Max got lost in the forest during a game of hide and seek, and Alex searched tirelessly until nightfall. Just as Alex was about to give up, Max appeared with a wagging tail and a muddy nose, having followed his scent back home. From that day on, they knew their bond was unbreakable, and they never lost sight of each other again.","Once upon a time, a boy named Jack found a stray dog on a rainy day and named him Max. They quickly became inseparable, exploring the nearby woods and sharing countless adventures. One day, Max got lost in the forest, and Jack was heartbroken. Determined, Jack searched tirelessly until he found Max stuck in a bramble, freeing him with relief. From then on, they cherished each day even more, grateful for their unbreakable bond.","Once upon a time, a young boy named Timmy found a stray dog in his backyard. The dog, whom he named Max, was timid at first but soon warmed up to Timmy's gentle nature. Together, they explored the nearby woods, discovering hidden trails and secret spots. Max became Timmy's loyal companion, offering comfort when Timmy felt lonely. As the years passed, their bond only grew stronger, proving that friendship knows no bounds.","Once upon a time, a boy named Jake found a stray dog near his home and named him Max. Max quickly became Jake's best friend, always by his side on adventures. One day, Max bravely saved Jake from getting lost in the woods by leading him back home. Grateful for his furry companion, Jake built Max a cozy doghouse in gratitude. Together, they shared many happy years filled with laughter and love.","Once upon a time, a boy named Sam found a stray dog in the park and named him Max. They became inseparable, exploring the woods and sharing their secrets. One day, Max got lost during a storm, and Sam searched tirelessly for him. After days of searching, Sam found Max at their favorite spot, the old oak tree. From then on, they cherished every moment together, knowing how precious their friendship was.","Once upon a time, a boy named Jack found a stray dog at the park and named him Buddy. They quickly became inseparable, exploring the woods and fields near their home every day. One winter afternoon, Buddy got lost, and Jack searched tirelessly through the snow until he found him trapped in a ditch. With determination and love, Jack freed Buddy and carried him home, where they warmed up by the fire. From then on, Jack and Buddy's bond grew even stronger, knowing they would always look out for each other.","Once upon a time, a boy named Max found a stray dog in the park and decided to take him home. He named the dog Buddy, and they quickly became inseparable friends, exploring the neighborhood together. One day, while playing near the river, Max slipped and fell into the water. Buddy barked loudly, attracting the attention of a passerby who helped rescue Max. Grateful for Buddy's bravery, Max knew they'd be best friends forever.","Once upon a time, a boy named Sam found a stray dog shivering in the rain. He took the dog home, named him Max, and they quickly became inseparable friends. Every day after school, Sam and Max would explore the nearby woods, sharing countless adventures. One day, Max got lost chasing a squirrel, and Sam searched tirelessly until he found him. From then on, Sam always kept Max close, cherishing the bond they shared.","Once there was a boy named Max who found a stray dog in the park and named him Buddy. Max took Buddy home, and they became inseparable friends. They spent their days exploring the woods and fields near their town. One day, Buddy saved Max by barking loudly when Max got stuck in a muddy ditch. Max realized Buddy was more than a pet; he was a true hero.","A boy named Jack found a stray dog in the park and named him Buddy. Buddy quickly became Jack's best friend, accompanying him on every adventure. One day, Buddy got lost during a storm, leaving Jack devastated. Jack searched tirelessly, putting up posters and asking neighbors for help. Finally, after days of searching, Jack found Buddy waiting at their favorite spot in the park, wagging his tail.","Once upon a time, a boy named Max found a lost puppy behind his house. He named the dog Buddy, and they quickly became inseparable friends. Together, they explored the nearby woods, discovering hidden trails and secret spots. One day, Buddy helped Max find his way home when he got lost during an adventure. From then on, Max knew Buddy was more than just a pet; he was a true companion.","A boy named Sam found a stray dog shivering by a tree during a rainstorm. He gently coaxed the dog to come home with him, naming him Buddy. They quickly became inseparable, exploring the woods and fields around their village together. One day, Buddy alerted Sam to a small fire in their barn, allowing Sam to sound the alarm and save the family farm. Sam's family celebrated Buddy as a hero, and Buddy found a forever home.","Once upon a time, a boy named Max found a stray dog shivering in the rain. He gently approached the dog, offering it warmth and food. The dog, wagging its tail, followed Max home and soon became his best friend. Together, they explored the woods, discovering hidden trails and secret ponds. Their bond grew stronger each day, as they always had each other's backs.","Once upon a time, a boy named Max found a stray dog named Buddy in his backyard. They became inseparable friends, exploring the neighborhood together every day. One stormy night, Buddy got lost, and Max searched tirelessly in the rain. Just as hope seemed lost, Buddy appeared, wagging his tail and soaking wet. From that day on, Max and Buddy knew they'd always find their way back to each other.","Once upon a time, a boy named Jack found a stray puppy in the park and named him Max. They became inseparable, exploring the woods and fields around their town every day. One stormy night, Max went missing, and Jack searched tirelessly until he found him hiding under an old bridge. Relieved and overjoyed, Jack hugged Max tightly, promising never to let him out of his sight again. From then on, Jack and Max's bond grew even stronger, and they continued their adventures together, rain or shine."],"Tell me the plot line in 5 sentences for a romcom movie set in rural Kansas for Easter.":["A city girl returns to her hometown in rural Kansas for Easter to help with a church fundraiser. She reconnects with her high school crush, now a charming farmer. They bond while planning the event, facing comedic mishaps along the way. As sparks fly, they discover their shared love for their community. The fundraiser succeeds and they realize they belong together, deciding to stay in Kansas.","In rural Kansas, city girl Emma returns to her hometown for Easter, tasked with revitalizing the annual Easter festival. She clashes with local farmer Jake, who is skeptical of her modern ideas. As they work together, they share laughs and gradually fall for each other. Misunderstandings lead to a temporary rift, but the community Easter egg hunt brings them back together. They realize their love and decide to build a future in the town Emma once left behind.","A city girl, Emma, visits her grandmother in rural Kansas for Easter and meets charming local farmer Jack. Initially clashing over their different lifestyles, sparks fly during a town Easter egg hunt. As they team up to save the town's annual Easter festival, they discover shared values and mutual attraction. Jack shows Emma the beauty of rural life, while she helps him embrace change and new ideas. By Easter Sunday, they realize they're perfect for each other and decide to start a new chapter together in Kansas.","A big-city journalist, assigned to cover Easter traditions in rural Kansas, finds herself stranded in a small town during a storm. She meets a charming local farmer who offers her a place to stay. Initially clashing over their differing lifestyles, they bond through Easter festivities and shared community values. As she helps him save his family's egg farm, they realize their growing affection for each other. By Easter Sunday, she must decide between returning to her fast-paced life or embracing love and a simpler existence in Kansas.","A big-city journalist visits a small Kansas town to cover their unique Easter festival. She meets a charming local farmer who shows her the town's traditions. Despite clashing at first, they bond over shared experiences and the town's quirky events. As Easter approaches, they both realize they've fallen for each other. The film ends with a heartfelt confession at the Easter parade.","A city-based marketing executive is sent to rural Kansas to promote a new Easter candy. She meets a charming local farmer who is skeptical of her corporate intentions. As she immerses herself in small-town life, her perspective shifts, and romantic sparks fly between them. A misunderstanding threatens their budding romance, but they reconcile at the town's Easter festival. In the end, she decides to stay, combining her career with her newfound love for the community and the farmer.","A city girl visiting her grandmother in rural Kansas for Easter meets a local farmer who's organizing the town's annual Easter egg hunt. Initially clashing due to their differing lifestyles, they are forced to collaborate when the event faces unexpected setbacks. As they work together, they discover hidden talents and common interests while learning about each other's lives. Amidst the colorful Easter festivities, they develop a deep connection, overcoming misunderstandings and personal challenges. By the end of the holiday, they realize they've fallen in love, choosing to blend their worlds for a future together.","A big-city journalist, Emma, is sent to rural Kansas to cover a local Easter festival. She meets charming farmer Jake, who reluctantly agrees to show her around. Despite their initial clashes, they bond over shared stories and Easter traditions. As Emma immerses herself in small-town life, she discovers the warmth of community and starts falling for Jake. With her article finished, Emma must decide between returning to her old life or staying for love.","A city-slicker event planner is sent to rural Kansas to organize the town's annual Easter festival. Struggling with the rustic lifestyle, she clashes with a charming local farmer who is skeptical of her modern ideas. As they work together, they begin to appreciate each other's perspectives and form a bond. Their budding romance faces a challenge when her big-city boyfriend arrives, hoping to take her back. Ultimately, she chooses love and a simpler life in Kansas, finding happiness in the unexpected.","A city-slicker event planner is sent to a small town in rural Kansas to organize the annual Easter festival. She clashes with the charming yet stubborn local farmer who's in charge of the Easter egg hunt. As they work together, they start to understand and appreciate each other's perspectives. The festival becomes a success, and they realize they've developed feelings for each other. On Easter Sunday, amidst a field of blooming flowers and hidden eggs, they confess their love.","A big-city journalist travels to rural Kansas to cover an Easter festival and meets a charming local farmer. Initially clashing over their different lifestyles, they are forced to work together on a community project. As they spend more time together, they discover common values and mutual attraction. Just as romance blossoms, the journalist is called back to the city for a career opportunity. Ultimately, she returns to Kansas, realizing love and happiness are worth more than professional success.","A city-based event planner is tasked with organizing an Easter festival in rural Kansas, where she meets a charming but stubborn local farmer. Initially clashing over the festival's details, they slowly bond as they work together, learning about each other's lives and values. The planner discovers the farmer's secret talent for crafting beautiful Easter decorations, which becomes the festival's highlight. As Easter approaches, unforeseen challenges threaten the event, but their combined efforts and growing feelings triumph over the obstacles. By the festival's end, they realize they're meant for each other and decide to give love a chance.","A city-based journalist, Emma, travels to rural Kansas to cover an Easter festival, where she meets charming local farmer Jake. Initially clashing due to their different lifestyles, they are forced to work together when the festival's main event is jeopardized. As they collaborate to save the festival, Emma discovers the warmth of the small-town community and Jake's endearing qualities. Their mutual attraction grows, culminating in a romantic Easter dance. Emma ultimately decides to stay, finding love and a new perspective on life in the countryside.","A big-city journalist travels to rural Kansas to cover an annual Easter festival and stumbles upon a charming local farmer. Initially clashing over their different lifestyles, they are forced to cooperate when a storm threatens the festival's preparations. Through shared efforts, they discover common ground and mutual respect. As Easter approaches, their playful banter blossoms into unexpected romance. The film concludes with the festival's success and the couple's decision to explore a future together.","A big-city journalist travels to rural Kansas to cover the town's quirky Easter festival and meets a charming local farmer. As she learns about the town's traditions, she is drawn to the farmer's down-to-earth lifestyle and warm community spirit. Despite initial cultural clashes, they bond over organizing the festival's egg hunt together. Just as they start falling for each other, the journalist's boss demands an early return to the city. Ultimately, she must decide between her career and the newfound love and community in Kansas.","A city girl visits rural Kansas for Easter to help her grandmother with her struggling bed and breakfast. She clashes with the charming local handyman while trying to modernize the place. Their frequent arguments gradually turn into mutual attraction. The Easter festival brings them closer as they team up to win a local contest. In the end, she decides to stay, realizing her love for both the handyman and the simple life.","City girl Emma visits her grandmother's farm in rural Kansas for Easter, seeking a break from her hectic life. She quickly clashes with Jake, a charming local farmer, who initially seems too laid-back for her taste. As the Easter festival approaches, they are forced to work together on a community project, revealing their hidden chemistry. Through humorous mishaps and heartfelt moments, they discover that they complement each other's differences. By Easter Sunday, Emma and Jake realize they're in love, and Emma considers making rural life her new home.","A big-city journalist travels to rural Kansas to cover an annual Easter festival and falls for a local farmer. Initially clashing over their different lifestyles, they bond while working together on a community project. As Easter approaches, misunderstandings threaten their budding romance. Friends and family intervene, helping them realize their feelings for each other. The festival culminates in a heartfelt confession and a joyous celebration of love and new beginnings.","A big-city journalist, sent to rural Kansas to cover an Easter festival, meets a local farmer who helps her see the charm of small-town life. Initially clashing over their different lifestyles, they bond over organizing an Easter egg hunt for the local children. As they spend more time together, romantic feelings develop, complicated by her impending return to the city. An unexpected twist arises when a storm threatens the festival, forcing them to work together and confront their true feelings. In the end, love triumphs, and she decides to stay in Kansas, finding happiness in the simplicity of rural life.","A big-city journalist is sent to rural Kansas to cover a quirky Easter festival. She meets a charming local farmer who guides her through the town's traditions. They initially clash due to their different lifestyles. As they spend more time together, they discover common ground and mutual attraction. By the festival's end, love blossoms, and she considers staying.","A city girl named Emily visits her grandmother's farm in rural Kansas for Easter to escape her hectic life. There, she meets Jack, a charming local farmer preparing for the annual Easter egg hunt. Initially clashing over their different lifestyles, they bond while organizing the event together. As they work closely, romantic sparks fly amidst humorous mishaps. By Easter Sunday, Emily realizes her heart belongs in Kansas, and she decides to stay and pursue a relationship with Jack.","A big-city journalist is sent to rural Kansas to cover an Easter festival, begrudgingly staying with a local farmer and his charming family. Initially clashing with the farmer's son, who is skeptical of her intentions, she gradually discovers the warmth and quirky traditions of the small town. As they work together to save the festival from an unexpected storm, they begin to see each other in a new light. Romantic tension builds as they share heartwarming and humorous moments amidst Easter egg hunts and barn dances. By the festival\u2019s end, she must decide between returning to her city life or embracing love and a new beginning in the countryside.","A city girl returns to her rural Kansas hometown for Easter to help her family's struggling farm. She unexpectedly reunites with her high school sweetheart, now a charming local farmer. As they work together on an Easter festival, old sparks reignite. Misunderstandings and quirky town traditions create comedic obstacles. Ultimately, they realize their love is worth the leap and decide to build a future together in Kansas.","A city girl, Emma, visits her grandmother's farm in rural Kansas for Easter, seeking a break from her hectic life. There, she meets Jake, a charming local farmer who is organizing the town's annual Easter egg hunt. Initially clashing over their different lifestyles, they are forced to collaborate when a storm threatens to ruin the Easter festivities. As they work together, Emma discovers the beauty of country life and Jake learns to open his heart. By Easter Sunday, love blossoms amidst the blooming spring fields, and both realize they have found something truly special in each other.","A city journalist is assigned to cover a quirky Easter festival in rural Kansas. While there, she meets a charming local farmer who is organizing the event. Initially clashing over their different lifestyles, they are forced to work together when a rainstorm threatens the festival. As they collaborate, they discover a mutual attraction and shared love for the community. By Easter Sunday, love blossoms amidst unexpected Easter surprises, and she considers a new life in the countryside.","A city girl named Emma returns to her rural Kansas hometown for Easter, tasked with selling her family's farm. There, she runs into her high school sweetheart, Jake, who is now a local farmer passionate about preserving the land. As they prepare for the town's annual Easter egg hunt, Emma and Jake rediscover their connection amidst the charming community events. Conflicted by her feelings and the pressure to sell, Emma must decide between her career ambitions and her rekindled love. Ultimately, she chooses love and finds a way to save the farm with Jake.","In rural Kansas, a big-city event planner, Emily, reluctantly returns to her hometown to organize the annual Easter festival. She clashes with her childhood friend Jake, now a handsome local farmer, over event details. As they work together, their old friendship rekindles into romance amid Easter egg hunts and hayrides. Misunderstandings and a surprise rainstorm threaten the festival and their budding relationship. In the end, with community support, they pull off a successful festival and realize they're meant for each other.","A big-city event planner travels to rural Kansas to organize an Easter festival. She clashes with a local farmer who resists changes to the town's traditional celebration. As they work together, they discover shared values and unexpected chemistry. A series of comedic mishaps bring them closer, revealing the farmer's hidden romantic side. By Easter Sunday, they realize they're in love and commit to a future blending both worlds.","A city girl named Jessica visits her grandmother in rural Kansas for Easter, planning to stay just a few days. She meets Tom, a charming local farmer, who shows her the joys of country life. As they spend time together, Jessica learns about community Easter traditions and starts falling for Tom. When her job calls her back to the city, she faces a tough decision about her future. Ultimately, love triumphs, and Jessica decides to stay in Kansas, embracing a new life with Tom.","A city girl inherits a farm in rural Kansas and visits to sell it, but clashes with the charming local farmer who manages it. As Easter approaches, she reluctantly helps organize the town's annual egg hunt, discovering the joys of rural life. The farmer shows her the beauty of the countryside and they begin to fall for each other. Misunderstandings arise when her city boyfriend visits, causing tension and doubt. Ultimately, she realizes her heart belongs in Kansas and decides to stay, embracing a new life and love."],"Write a haiku about a whale and a walnut tree.":["Beneath vast ocean,  \nWhale dreams of walnut tree's shade\u2014  \nRoots whisper to waves.","Whale sings in deep seas,  \nWalnut tree whispers on shore,  \nNature's tales entwine.","Beneath ocean waves,  \nWhale dreams of walnut tree's shade\u2014  \nRoots meet in deep peace.","Beneath ocean waves,  \nWhale dreams of walnut tree's shade\u2014  \nWorlds apart, they meet.","Whale sings to the sea,  \nWalnut tree whispers in breeze,  \nNature's harmony.","Beneath the vast sea,  \nA whale dreams of walnut trees,  \nRoots touch waves gently.","Under vast ocean,  \nWhale dreams of walnut tree's shade\u2014  \nRoots touch distant waves.","Whale sings deep below,  \nWalnut tree sways in the breeze\u2014  \nWorlds apart, yet close.","Beneath ocean's wave,  \nWhale dreams of walnut tree's shade\u2014  \nTwo worlds, one heart's peace.","Beneath ocean waves,  \nWhale dreams of walnut tree's shade,  \nRoots anchor the calm.","Beneath the vast sea,  \nWhale dreams of walnut tree's shade\u2014  \nRoots touch the deep blue.","Beneath vast ocean,  \nWhale dreams of far walnut tree\u2014  \nRoots touch distant waves.","Beneath ocean waves,  \nA whale dreams of sunlight's dance,  \nWalnut tree stands tall.","Beneath vast ocean,  \nWhale dreams of walnut's strong roots\u2014  \nWorlds apart, yet close.","In ocean's deep song,  \nWhale dreams of walnut tree's shade\u2014  \nRoots and waves embrace.","Beneath the blue waves,  \nA whale dreams of walnut trees\u2014  \nRoots reach for the sea.","Beneath vast ocean,  \nWhale dreams of walnut tree's shade,  \nRoots touch deep sea's heart.","Whale sings in the sea,  \nWalnut tree sways in soft breeze,  \nWorlds apart, yet close.","Whale sings deep ocean,  \nWalnut tree whispers on land\u2014  \nTwo worlds softly meet.","Beneath the vast waves,  \na whale dreams of walnut leaves,  \nroots stretch silently.","Whale songs in the deep,  \nWalnut tree whispers on land\u2014  \nTwo worlds softly meet.","Majestic whale sings,  \nBeneath the walnut tree's shade\u2014  \nWorlds apart, they dream.","Whale sings through the sea,  \nWalnut tree sways with the breeze,  \nEarth's giants in peace.","Whale sings in the deep,  \nWalnut tree sways in the breeze,  \nWorlds apart, yet joined.","Beneath vast ocean,  \nWhale dreams of walnut tree's shade,  \nRoots touch distant seas.","Whale's song meets the breeze, under walnut's gentle shade, ocean dreams on land.","Whale sings deep below,  \nWalnut tree whispers above,  \nWorlds apart, they meet.","Beneath ocean waves,  \nA whale dreams of walnut trees,  \nRoots touch distant seas.","Beneath the vast sea,  \nA whale dreams of walnut trees,  \nRoots and waves entwine.","In ocean's embrace,  \nA whale dreams of walnut shade,  \nRoots touch waves below."],"Write a short love poem with 4 lines.":["In your eyes, the stars reside,  \nA gentle warmth where dreams abide.  \nWith every heartbeat, I am drawn,  \nTo love's sweet light, a hopeful dawn.","In your eyes, stars softly weave,  \nSilent whispers that never leave,  \nHearts entwined in gentle grace,  \nForever home in your embrace.","In the quiet of the night, your eyes shine bright,  \nA gentle whisper, you are my guiding light.  \nWith every heartbeat, love's melody plays,  \nTogether forever, through all of our days.","In your eyes, the stars reside,  \nWhispered dreams on moonlit tide.  \nHeartbeats dance in twilight's glow,  \nIn your arms, love's warmth I know.  ","In your eyes, I find my dawn,  \nA light that carries my heart along.  \nWith every breath, my soul entwines,  \nIn love's embrace, forever aligned.","In your eyes, the stars align,  \nWhispers of love, softly entwine.  \nHearts beat as one, timeless and true,  \nIn your embrace, my dreams renew.","In your eyes, I find my dawn,  \nA gentle light to dream upon.  \nWith each heartbeat, a love song,  \nTogether, where we belong.","In your eyes, I see the stars,  \nA universe that's truly ours.  \nWith every breath, my heart aligns,  \nForever yours, in love's design.  ","In your eyes, I find my home,  \nA gentle place where dreams do roam.  \nWith every heartbeat, love's refrain,  \nTogether, forever, in joy and pain.","In the whisper of the breeze, our hearts entwine,  \nUnder moonlit skies, your gaze meets mine.  \nWith every heartbeat, love's gentle song plays,  \nTogether forever, through night and days.","In your eyes, I find my dawn,  \nA gentle light where dreams are drawn.  \nYour heart's rhythm is my song,  \nWith you is where I belong.","In the whisper of the night, our hearts entwine,  \nStars above dim beside your light divine.  \nWith every breath, your essence fills my soul,  \nTogether, we are beautifully whole.","In your eyes, I find my peace,  \nA love that time will never cease.  \nWith every heartbeat, you're my song,  \nTogether, where we both belong.","In your eyes, I find my home,  \nA place where dreams and heartbeats roam.  \nWith every whisper, love anew,  \nForever bound, just me and you.","In your eyes, stars softly glow,  \nIn your smile, warmth I know.  \nHearts entwined, time stands still,  \nIn your love, I've found my will.","In the whisper of the breeze, our hearts delight,  \nStars weave our dreams in the quiet night,  \nYour smile, a beacon in the darkest sea,  \nForever bound, in love's sweet decree.","In your eyes, I find my peace,  \nWith every look, my doubts release.  \nYour smile, a beacon in my night,  \nGuiding me towards endless light.","In your eyes, the stars find rest,  \nA gentle warmth within my chest;  \nWhispers dance on moonlit streams,  \nIn your arms, I find my dreams.","In moonlit whispers, hearts entwine,  \nA dance of stars, your hand in mine.  \nThrough gentle night, our souls align,  \nForever yours, eternally mine.","In your eyes, I find my sunrise,  \nA gentle touch where true love lies.  \nWith every heartbeat, closer we grow,  \nIn your embrace, my heart's aglow.","In your eyes, the stars find rest,  \nWhispered dreams in hearts confessed.  \nThrough the night, our souls entwine,  \nIn love's embrace, eternally divine.","In your eyes, I find my stars,  \nIn your smile, my world begins.  \nWith every beat, our hearts align,  \nTogether, love's eternal hymn.","In your eyes, I find my dawn,  \nA gentle light where dreams are drawn.  \nWith every heartbeat, I am bound,  \nIn your love, my world is found.","In your eyes, a universe unfolds,  \nA dance of stars, a tale untold.  \nWith every heartbeat, love's song sings,  \nIn whispered dreams, our souls take wing.","In your eyes, I find my stars,  \nA universe where love is ours;  \nWith every beat, my heart is true,  \nForever bound, just me and you.","In your eyes, I find my stars,  \nA universe where love's light never spars,  \nIn your smile, the world feels right,  \nYou are my dawn, my heart's delight.","In your eyes, I find my home,  \nA world where I am never alone.  \nYour laughter, a sweet, gentle song,  \nWith you, my heart's where it belongs.","In your eyes, I find my home,  \nA place where dreams and stardust roam.  \nWith every whisper, love's sweet flow,  \nTogether, through life's ebb and glow.","In your eyes, I find my dawn,  \nA whispered promise softly drawn.  \nWith every heartbeat, love's refrain,  \nTogether, we'll dance through sun and rain.","In your eyes, I see the stars,  \nA universe where love resides.  \nWith every heartbeat, near or far,  \nOur souls entwine as time abides."],"Write a short poem of hatred with 4 lines.":["In shadows deep, my anger hides,  \nA burning flame that never subsides.  \nWith every thought, my ire is fed,  \nA bitter path where love has fled.","In shadows deep, my anger grows,  \nA fire that burns, a tempest blows,  \nWith every word, a venomous sting,  \nHatred's song, a bitter ring.","In shadows deep, my anger burns, a fire untamed,  \nA bitter taste of vengeance earned, love's light defamed.  \nIn silence, sharpest daggers fly, trust lies betrayed,  \nWithin this heart a darkness grows, where love once swayed.","In shadows deep, resentment grows,  \nA flame of spite that never slows.  \nBitter words like thorns do pierce,  \nIn hearts where hatred's grip is fierce.","In shadows deep, my anger burns,  \nA seething fire that twists and churns.  \nYour presence stings, a thorny blight,  \nIn endless night, I shun your light.","In shadows deep where anger breeds,  \nA heart with thorns, in fury feeds.  \nBitter winds through silence cut,  \nA world once whole, now tightly shut.","Rage burns within like a stormy sea,  \nDark shadows cast where light should be,  \nA heart once warm now cold as stone,  \nIn the depths of anger, I'm alone.","Dark clouds gather in my mind's bitter sky,  \nWhere thoughts of you like sharp thorns lie.  \nA shadowed heart, with anger's fire,  \nBurns with a loathing that will not tire.","In shadows deep, my heart does seethe,  \nA fiery wrath, no life can breathe.  \nBitter winds of disdain do blow,  \nIn this dark storm, no love can grow.  ","In shadows deep, resentment grows,  \nA bitter chill the heart now knows.  \nWith every breath, the anger seethes,  \nA tempest fierce, where none find peace.","In shadows deep where anger lies,  \nA fiery storm in heart's disguise,  \nThe bitter taste of scorned embrace,  \nLeaves only ash and empty space.","In shadows deep, where anger lies,  \nBeneath the mask, a venom sighs.  \nA heart once warm now cold and stark,  \nConsuming light, it leaves a mark.","In shadowed corners, bitterness takes hold,  \nA heart once warm now turns to cold.  \nWords like daggers, sharp and keen,  \nIn the garden of spite, hatred is seen.","In shadows deep, my heart does seethe,  \nwith bitter winds that never leave.  \nA fire of scorn, a venomous tide,  \nconsumes the peace I can't abide.","In shadows deep, where anger stews,  \nA heart consumed by bitter views,  \nThe fire burns with spiteful flame,  \nIn hate's embrace, it finds its name.","In shadows deep where anger lies,  \nA heart once warm now coldly cries.  \nWith every breath, disdain does grow,  \nA bitter storm, a relentless woe.","In shadows deep, my ire does grow,  \nA bitter flame that burns and sears,  \nWith venom's touch, my heart does know,  \nThe piercing sting of loathed fears.","In shadows deep, my anger hides,  \nA burning fire that never subsides.  \nBitterness grows in each whispered breath,  \nA silent dance with the specter of wrath.","In shadows deep where anger grows,  \nA bitter heart with venom flows,  \nCold disdain in every breath,  \nA soul consumed by whispered death.","Your presence stings like bitter frost,  \nIn shadows where my peace is lost.  \nThrough clenched teeth, I see your guise,  \nA storm that rages in my skies.","Rage burns within, a fire untamed,  \nDark shadows linger, names defamed.  \nVenomous whispers, a bitter sting,  \nIn the depths of loathing, nightmares cling.","In shadows deep, resentment grows,  \nA bitter wind through hollowed prose.  \nWith every thought, the darkness seeps,  \nIn hatred's grasp, my spirit weeps.","Your venomous words cut deep like a knife,  \nIn the shadows of spite, you thrive and strife.  \nA heart so cold, devoid of light,  \nDrowning in darkness, consumed by night.","In the shadows of my heart, a storm brews,  \nDarkened by the memories I can't refuse.  \nBitterness festers, a relentless tide,  \nDrowning the echoes of love that died.","In shadows deep, my ire is sown,  \nWith bitter heart, all warmth disowned,  \nA fire of scorn that burns alone,  \nIn silent wrath, my rage has grown.","In shadows deep, where anger seethes and waits,  \nA heart consumed by bitter, fiery fates,  \nLoathe's whispers echo in the silent night,  \nGnarled roots of spite hold fast with iron might.","Rage burns where love once grew bright,  \nIn shadows where hope took its flight.  \nBitter hearts now cold as stone,  \nIn the darkness, I'm alone.","In shadows deep, my fury burns bright,  \nA seething storm in the dead of night.  \nWith venomous words, my anger takes flight,  \nA twisted dance in the absence of light.","In shadows deep, resentment thrives,  \nA poison where no mercy lies.  \nCold winds of scorn through hollow skies,  \nIn bitter hearts, the venom cries.","In shadows deep, resentment's flame does sear,  \nA bitter heart, where love cannot draw near.  \nDark whispers rise, like venom in the night,  \nConsuming all with spiteful, endless blight."],"Write a short fable about a lemur and a light bulb.":["Once, a curious lemur found a light bulb in the forest and, by observing its glow when connected, learned that knowledge, like light, can illuminate the world around you.","Once a curious lemur found a glowing light bulb in the forest, and after playing with it and accidentally breaking it, he learned that true brightness comes from within, not from borrowed light.","Once, a curious lemur discovered a glowing light bulb in the forest, and though it couldn't understand its magic, it realized that sometimes, simply appreciating the light is more enlightening than knowing how it works.","Once, a curious lemur found a glowing light bulb in the forest and, after much pondering, realized that true enlightenment comes not from external sources but from within.","Once, a curious lemur discovered an unlit bulb, and after learning to turn it on, it realized that knowledge can illuminate the darkest of paths.","Once, a curious lemur found a glowing light bulb, and, fascinated by its brightness, he realized that true enlightenment comes from seeking knowledge, not just chasing shiny distractions.","Once, a curious lemur discovered a light bulb and learned that true brightness comes not from the bulb itself, but from sharing its warm glow with others.","Once, a curious lemur found a glowing light bulb in the forest, and after attempting to understand its magic, learned that sometimes it's best to appreciate the wonders of the world without needing to unravel their mysteries.","Once, a curious lemur found a light bulb in the forest and, after much pondering, realized that true illumination comes not from the bulb, but from understanding and sharing knowledge with others.","Once, a curious lemur found a glowing light bulb in the forest; he learned that while the light was fascinating, true wisdom comes from understanding the world around him.","Once, a curious lemur found a glowing light bulb in the forest; fascinated by its brightness, he learned that true illumination comes from discovering and understanding the world around him.","Once, a curious lemur found a mysterious light bulb and, after flicking the switch, learned that bright ideas shine best when shared with friends.","Once, a curious lemur found a glowing light bulb in the jungle and, mistaking it for the moon, tried to climb it, only to learn that some things are better admired from afar.","Once, a curious lemur found a glowing light bulb in the forest and, mesmerized by its brightness, learned that sometimes the smallest things can illuminate the darkest paths.","Once, a curious lemur found a light bulb and, intrigued by its glow, learned that enlightenment comes not from the brightness of others, but from discovering one's own inner light.","Once, a curious lemur found a glowing light bulb and, entranced by its brightness, learned that true enlightenment comes not from external sources, but from within.","Once, a curious lemur found a light bulb in the forest, and while trying to understand its purpose, he accidentally discovered that his own inner light was his curiosity and wisdom, which illuminated his path more than any bulb ever could.","Once, a curious lemur found a light bulb in the forest; when it discovered how to make it glow, it realized that sometimes, even the smallest things can illuminate the darkest paths.","Once, a curious lemur discovered a light bulb in the jungle and, after much trial and error, figured out how to make it glow, teaching the other animals the power of persistence and curiosity.","Once a curious lemur found a glowing light bulb in the forest and, fascinated by its brilliance, learned that true illumination comes from exploring the world around him, not just from artificial lights.","Once a curious lemur discovered a glowing light bulb in the forest and, thinking it was magical, invited all the animals to admire its beauty, teaching them the importance of sharing wonder and joy with others.","Once a curious lemur discovered a glowing light bulb in the forest and, fascinated by its warmth and brightness, learned the value of knowledge and curiosity, illuminating his world and understanding.","Once, a curious lemur found a glowing light bulb in the jungle, and after examining its brightness, realized that true illumination comes from within.","Once a curious lemur discovered a glowing light bulb in the forest, and upon realizing it could bring light to dark places, he learned that the true value of innovation lies in its ability to illuminate the world for everyone.","Once, a curious lemur found an unlit light bulb in the forest and, despite not knowing its purpose, admired its beauty, reminding us that wonder can be found even in the unknown.","Once, a curious lemur found a light bulb in the forest, and despite not understanding its purpose, he admired its ability to glow, learning that sometimes beauty lies in things we don't fully comprehend.","Once, a curious lemur found a light bulb in the jungle; despite not knowing its purpose, he admired its glow, realizing that sometimes wonder is found in the unfamiliar.","Once, a curious lemur found a glowing light bulb in the forest, and as he marveled at its brilliance, he realized that sometimes the greatest illumination comes from within, inspiring him to share his own inner light with others.","Once, a curious lemur found a glowing light bulb in the forest, and after trying to understand its magic, he learned that sometimes, the brightest ideas come when you least expect them.","Once, a curious lemur found a light bulb and, after much trial and error, learned that even the smallest discovery can illuminate the darkest of jungles, teaching him the value of perseverance and curiosity."],"Write a short story that has three main characters Alice Bob and Mallory.":["Alice, an adventurous explorer, Bob, a cautious scientist, and Mallory, a cunning treasure hunter, unexpectedly team up to uncover the secrets of a mysterious ancient map leading to a hidden relic deep in the Amazon rainforest, discovering along the way that trust and cooperation are the greatest treasures of all.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt, each using their unique skills\u2014Alice's puzzle-solving, Bob's navigation, and Mallory's bravery\u2014to uncover a hidden chest in the enchanted forest, where they discovered not just gold, but a deeper bond of friendship.","Alice, Bob, and Mallory were childhood friends who embarked on a treasure hunt in their town, where Alice's cleverness, Bob's bravery, and Mallory's resourcefulness led them to a hidden time capsule from the past, containing letters and mementos that revealed secrets about their ancestors, strengthening their bond and appreciation for their shared history.","Alice, Bob, and Mallory were friends who embarked on a treasure hunt in their small town; Alice's keen intuition, Bob's knack for solving puzzles, and Mallory's adventurous spirit led them to uncover a long-lost time capsule hidden beneath the old oak tree in the town square, filled with letters and artifacts from the town's founders.","Alice, Bob, and Mallory were treasure hunters who discovered a mysterious map leading to a hidden cave filled with ancient artifacts, but when they arrived, they realized Mallory had secretly planned to keep the treasure for herself; however, in the end, they all agreed to share the discovery and the fame that came with it.","Alice, a brilliant inventor, teamed up with Bob, a resourceful engineer, to build an innovative device, unaware that their rival, Mallory, was secretly plotting to sabotage their project, but when Mallory's plan accidentally brought them all together, they joined forces, each contributing their unique skills to create something even greater than they had imagined.","Alice, Bob, and Mallory were close friends who loved solving mysteries, and one day they stumbled upon an old map in Alice's attic that led them on an adventure to uncover a hidden treasure buried beneath the town's ancient oak tree, strengthening their friendship and love for adventure.","Alice, Bob, and Mallory were childhood friends who stumbled upon an ancient map in their hometown library, leading them on an unexpected adventure through a hidden forest where they uncovered a long-lost treasure, ultimately strengthening their bond and uncovering secrets about their pasts.","Alice, Bob, and Mallory were childhood friends who stumbled upon an ancient map leading to a hidden treasure while exploring the dusty attic of Alice's grandmother's house, sparking an adventurous journey filled with challenges, teamwork, and the rekindling of their long-lost camaraderie as they solved puzzles and overcame obstacles to find the treasure buried beneath an old oak tree in the nearby forest.","Alice, Bob, and Mallory were childhood friends who reunited to solve the mystery of a hidden map they discovered in the attic of their old school, leading them on an unexpected adventure through forgotten trails and secret passages beneath their town.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt after discovering a mysterious map, only to find that the real treasure was the bond they shared and the unforgettable adventures they experienced together.","Alice, Bob, and Mallory embarked on a treasure hunt, where Alice's keen intuition led them to an ancient map, Bob's technical skills deciphered its cryptic code, and Mallory's adventurous spirit guided them through perilous paths, ultimately uncovering a hidden trove of historical artifacts that strengthened their friendship and love for adventure.","Alice, Bob, and Mallory were childhood friends who stumbled upon an ancient map in their small town, leading them on a thrilling adventure through a forgotten forest, where they discovered a hidden treasure that tested their trust and ultimately strengthened their bond.","Alice, Bob, and Mallory embarked on a treasure hunt, where Alice's keen intuition, Bob's logical mind, and Mallory's adventurous spirit led them to uncover a hidden chest filled with ancient coins, teaching them the value of teamwork and friendship.","Alice, Bob, and Mallory were treasure hunters who discovered an ancient map leading to a hidden cave; as they deciphered its secrets together, they realized the real treasure was their newfound friendship.","Alice, Bob, and Mallory were childhood friends who reunited after many years to solve the mystery of a hidden treasure in their hometown, using clues left by Alice's late grandfather, ultimately finding it in an old oak tree, and realizing the true treasure was the rekindled friendship between them.","Alice, Bob, and Mallory, three childhood friends, embarked on a treasure hunt in their small town, only to discover a hidden cave filled with ancient artifacts, bringing them closer together as they vowed to protect their secret discovery.","Alice, Bob, and Mallory, treasure hunters, discovered an ancient map, leading them on a thrilling adventure to uncover hidden riches, but when they finally reached the treasure, they realized it was the friendships and trust they built along the way that were the true rewards.","Alice, Bob, and Mallory were childhood friends who embarked on a treasure hunt in their small town, each using their unique skills\u2014Alice\u2019s keen intellect, Bob\u2019s adventurous spirit, and Mallory\u2019s knack for solving puzzles\u2014to discover a long-lost time capsule buried by the town founders, revealing secrets that brought their community closer together.","Alice, Bob, and Mallory were lifelong friends who embarked on a thrilling treasure hunt, with Alice's keen intellect deciphering clues, Bob's strength overcoming obstacles, and Mallory's charm gaining allies, ultimately leading them to a hidden chest filled with ancient gold coins.","Alice, Bob, and Mallory discovered an ancient map leading to a hidden treasure, but as they journeyed through dense forests and treacherous mountains, they realized the true treasure was the friendship and trust they built along the way.","Alice, Bob, and Mallory, three lifelong friends, embarked on a treasure hunt in an enchanted forest, only to discover that the real treasure was the stronger bond they formed through teamwork and trust.","Alice, Bob, and Mallory were treasure hunters who, after deciphering an ancient map, embarked on a perilous journey through a dense jungle, eventually uncovering a hidden temple filled with glittering artifacts, only to discover that the greatest treasure was the friendship they forged along the way.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt in the mysterious Whispering Woods; as they navigated hidden trails and solved ancient riddles, they discovered not just the hidden treasure but also the value of their unbreakable friendship.","Alice, Bob, and Mallory were old friends who stumbled upon a mysterious map during a summer camping trip, leading them on an unexpected adventure through the woods to uncover a hidden treasure, ultimately realizing that their greatest find was the rekindling of their childhood friendship.","Alice, Bob, and Mallory were childhood friends who reunited years later to solve the mystery of a hidden treasure in their hometown; through clues and teamwork, they discovered it was a collection of letters from their younger selves, reminding them of the value of friendship.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt, each bringing unique skills\u2014Alice with her keen intellect, Bob with his unwavering courage, and Mallory with her knack for solving riddles\u2014and together they overcame numerous challenges, ultimately discovering not only the hidden treasure but also the value of their unbreakable bond.","Alice, Bob, and Mallory, lifelong friends, embarked on a cross-country road trip to fulfill their shared childhood dream of visiting every national park, encountering breathtaking landscapes, overcoming unexpected challenges, and strengthening their bond along the way.","Alice, Bob, and Mallory decided to embark on a treasure hunt in the ancient forest near their hometown, where they encountered mysterious puzzles and traps, ultimately leading to a hidden cave filled with gold, forging an unbreakable bond through their shared adventure.","Alice, Bob, and Mallory were lifelong friends who embarked on a treasure hunt; while Alice's keen intellect solved the cryptic clues, Bob's bravery helped them navigate treacherous paths, and Mallory's resourcefulness ensured they outsmarted rivals, leading them to unearth a priceless artifact that solidified their bond forever."],"Tell me a dad joke.":["Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","What do you call fake spaghetti? An impasta!","Why can't you give Elsa a balloon? Because she will let it go!","Why don't skeletons fight each other? They don't have the guts.","Why did the scarecrow win an award? Because he was outstanding in his field!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","Why can't a nose be 12 inches long? Because then it would be a foot!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why can't you give Elsa a balloon? Because she will let it go!","Why don't skeletons fight each other? They don't have the guts."],"Tell me a funny joke.":["Why don't skeletons fight each other? They don't have the guts.","Why don\u2019t scientists trust atoms? Because they make up everything!","Why don\u2019t skeletons fight each other? They don\u2019t have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don\u2019t skeletons fight each other? They don\u2019t have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don\u2019t scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why did the scarecrow win an award? Because he was outstanding in his field!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!","Why don't scientists trust atoms? Because they make up everything!","Why don't skeletons fight each other? They don't have the guts.","Why don't skeletons fight each other? They don't have the guts.","Why don't scientists trust atoms? Because they make up everything!"],"Tell me a riddle.":["What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can\u2019t open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?","What has keys but can't open locks?"],"Write an one-sentence happy new year text to my friend.":['"Happy New Year, my friend! Wishing you a year filled with joy, success, and unforgettable moments!"',"Wishing you a joyful and prosperous New Year, filled with laughter, love, and unforgettable memories!",'"Happy New Year, my friend! Wishing you a year filled with joy, success, and unforgettable moments!"',"Happy New Year, my friend\u2014may this year bring you endless joy, success, and unforgettable moments!","Happy New Year, my friend! May this year bring you joy, success, and unforgettable memories!",'"Wishing you an incredible New Year filled with joy, success, and unforgettable moments, my dear friend!"',"Wishing you a joyful and prosperous New Year, my dear friend!","Wishing you a fantastic New Year filled with joy, laughter, and unforgettable moments, my dear friend!","Wishing you a joyful and prosperous New Year filled with love, laughter, and unforgettable memories!","Wishing you a joyful and prosperous New Year filled with love, laughter, and unforgettable moments, my dear friend!",'"Happy New Year, my friend! Wishing you a fantastic year filled with joy, success, and unforgettable moments!"','"Happy New Year, my friend! Wishing you joy, success, and endless happiness in the year ahead!"','"Happy New Year, my friend! May this year bring you endless joy, success, and all the things you love!"',"Happy New Year, my friend! Wishing you a year filled with joy, laughter, and unforgettable adventures!",'"Happy New Year, my friend! May this year bring you endless joy, success, and unforgettable moments!"','"Happy New Year, my friend! Wishing you a year filled with joy, success, and wonderful adventures!"','"Happy New Year, my friend! May this year bring you endless joy, laughter, and unforgettable adventures!"',"Happy New Year, my friend! Wishing you a year filled with joy, success, and unforgettable moments!",'"Happy New Year, my friend! May this year bring you endless joy, success, and unforgettable memories!"','"Happy New Year, my friend! May 2024 bring you joy, success, and unforgettable moments!"',"Wishing you a joyful and prosperous New Year filled with laughter, love, and unforgettable moments, my dear friend!","Wishing you a year filled with joy, success, and unforgettable moments\u2014Happy New Year, my friend!",'"Happy New Year, my friend! May this year bring you endless joy, success, and unforgettable moments!"','"Wishing you a joyful and prosperous New Year filled with happiness and unforgettable moments, my dear friend!"','"Happy New Year, my dear friend! May this year bring you endless joy, success, and cherished moments!"',"Happy New Year, my friend! May this year bring you endless joy, success, and unforgettable memories!",'"Happy New Year, my friend! May this year bring you joy, success, and unforgettable memories!"','"Wishing you a joyful and prosperous New Year, filled with new adventures and cherished moments, my dear friend!"',"Wishing you a joyful and prosperous New Year filled with love, laughter, and unforgettable moments, my dear friend!","Wishing you a joyful and prosperous New Year filled with happiness and unforgettable memories, my dear friend!"],"What would you invent to make the world a more interesting place to live in?":["An immersive, interactive virtual reality platform that allows people to experience and create fantastical worlds and historical events.","A device that allows people to share and experience each other's dreams in a virtual space.","An immersive, fully interactive virtual reality platform that allows people to experience different cultures, historical events, and future scenarios.","A device that translates animal thoughts into human language, fostering deeper understanding between species.","I would invent a universal language translator that instantly translates spoken and written language, fostering seamless communication and cultural exchange.","A device that translates animal languages into human speech, fostering better understanding and connection with nature.","An immersive, universal language translator that allows people to instantly understand and communicate in any language, fostering global connection and cultural exchange.","An interactive, augmented reality system that brings stories, art, and history to life in everyday environments.","A universal language translator that allows seamless communication between all languages and dialects in real time.","A universal language translation device that allows seamless communication between all people.","I would invent a device that allows people to experience each other's emotions and perspectives, fostering empathy and understanding across cultures and communities.","I would invent a universal language translation device that enables instant and seamless communication between people of all languages and cultures.","I would invent a device that translates and shares emotions and experiences instantly between people, fostering deeper empathy and understanding.","An immersive virtual reality platform that allows people to experience and interact with different cultures and time periods.","A real-time universal language translator that allows seamless communication between people of all different languages.","A universal language translator that allows for seamless communication and understanding across all languages and cultures.","A device that allows people to instantly understand and speak any language, fostering global communication and cultural exchange.","An immersive virtual reality platform that allows people to experience and share their dreams in real-time.","A universal translator earpiece that instantly translates any language in real-time could make the world more interesting by fostering global communication and cultural exchange.","I would invent a device that translates thoughts into art, allowing people to instantly express and share their imaginations visually.","A universal translator earpiece that allows people to communicate seamlessly across all languages in real-time.","A universal language translator that works in real-time, enabling seamless communication across all languages and cultures.","An immersive, real-time language translation device that allows people to communicate effortlessly across all languages and cultures.","A universal language translator earpiece that enables instant communication between people of different languages.","A universal translator that instantly translates any language would make interactions richer and more interesting globally.","I would invent a universal translator earpiece that allows people to instantly understand and speak any language, fostering global communication and cultural exchange.","An AI-powered device that translates animal languages into human speech, fostering better interspecies communication and understanding.","An immersive augmented reality platform that overlays interactive, educational, and artistic experiences onto the real world.","An immersive virtual reality platform that allows people to experience and interact with historical events and diverse cultures in real-time.","A universal language translator earpiece that enables seamless communication among people speaking different languages."],"One thing you might find in a magical forest.":["You might find a unicorn in a magical forest.","A unicorn grazing near a sparkling stream.","A unicorn.","A unicorn grazing among the trees.","A glowing, enchanted mushroom.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","A unicorn.","A unicorn.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","A unicorn.","You might find a unicorn in a magical forest.","A unicorn grazing peacefully among the trees.","A unicorn grazing among the trees.","You might find a unicorn in a magical forest.","A glowing, enchanted mushroom.","You might find a unicorn in a magical forest.","A unicorn grazing among the trees.","A unicorn.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","A unicorn.","A unicorn.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest.","You might find a unicorn in a magical forest."],"What is the top item you would add to a grocery list for a memorable shopping experience?":["A unique or gourmet item, like truffle oil or a specialty cheese, can make a grocery trip memorable.","A unique or exotic fruit, like a dragon fruit or rambutan, can make a grocery trip memorable.","A high-quality, unique artisanal cheese can elevate any grocery shopping experience.","A unique or exotic fruit like dragon fruit or starfruit can make a grocery trip memorable.","A unique or exotic fruit like dragon fruit or passion fruit can make a grocery trip memorable.","A unique or exotic fruit, like dragon fruit or rambutan, can enhance a grocery trip.","A unique or exotic fruit, like dragon fruit or rambutan, can make your shopping experience memorable.","A unique or exotic fruit like a dragon fruit or a passion fruit could make for a memorable shopping experience.","A unique or exotic fruit, like a dragon fruit or rambutan, can make a grocery trip memorable.","A unique or exotic ingredient, such as truffle oil or dragon fruit, could enhance a memorable shopping experience.","A unique or exotic ingredient you've never tried before, like dragon fruit or truffle salt, can make a grocery trip memorable.","A unique, high-quality cheese or an exotic fruit can make a grocery shopping experience memorable.","A unique or gourmet item, like truffle-infused olive oil, can make a grocery trip memorable.","A unique or exotic fruit, like a dragon fruit or starfruit, can make a grocery trip memorable.","A unique or exotic fruit, like a dragon fruit or starfruit, can make a grocery trip memorable.","Try adding a unique or exotic fruit, like dragon fruit or starfruit, for a memorable shopping experience.","A unique or exotic fruit, like dragon fruit or rambutan, can make a grocery trip memorable.","A unique or exotic ingredient, like truffle oil or saffron, can elevate your cooking and create a memorable shopping experience.","Try adding a unique or exotic fruit, like a dragon fruit or lychee, for a memorable experience.","A unique or exotic fruit, like dragon fruit or starfruit, can make for a memorable shopping experience.","A unique or exotic fruit, like dragon fruit or rambutan, can make the shopping experience memorable.","A unique or exotic fruit, like dragon fruit or rambutan, can make a grocery shopping experience memorable.","A unique or exotic fruit, like dragon fruit or rambutan, can make your grocery shopping memorable.","A unique or exotic ingredient, such as truffle oil or saffron, can make a grocery shopping experience memorable.","A unique or exotic fruit, like dragon fruit or starfruit, can make a grocery trip memorable.","Try adding an exotic fruit like dragon fruit or rambutan to your list for a unique experience.","A unique gourmet cheese could elevate the shopping experience.","A unique or gourmet item like truffle oil or exotic fruit can make a grocery trip memorable.","Try adding an exotic fruit like dragon fruit or rambutan to make the shopping experience more memorable.","A unique or exotic fruit, like a dragon fruit or mangosteen, can make the shopping experience memorable."],"Generate a sound effect for a car passing by.":['"Vroooom... whooosh!"',"*Vrooom... whoosh!*",'"Vroooom... whoosh!"',"*Vroom...whoosh!*","*Vrooom...whoosh!*","*Vroom... whoosh!*","*Vroommm... whooshhh*","*Vroooom... whooosh!*","*Vrooooom... whoosh!*","*Vroooom... whoosh!*","*Vroom... whooooshhh...*","*Vroom... whoosh!*","*Vroom... whoosh...*","*Vroooom... whoosh!*","Vroom... whoosh!","*Vroom... whoosh...*","Vroom... whooosh...","*Vroooom...whooshhh...*","*Vrooommm... whoooshhh!*","*Vrooooom... whoosh!*","*Vroooommm*",'"Vroooom... whoosh!"',"*Vroommm... whooshhh!*","Vroom...whoosh!","*Vrooooom... whoosh!*",'"Vroooom... whoooosh!"',"Vroommm... whooshhh!","*Vroom...whoosh!*","*Vrooom... whoosh!*","*Vroommm... whooshhhhhh*"],"Name the dog character in my story about a loyal dog.":['How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?',"Max would be a great name for a loyal dog in your story.",'How about naming the dog "Buddy"?','How about naming the dog "Buddy"?',"Max would be a fitting name for a loyal dog character.",'How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog character "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?','How about naming the dog "Buddy"?'],"Name the dog character owned by the heroine in my romantic short story about a loyal medium-sized mixed breed dog who has a fluffy scruffy tan coat.":['You could name the dog "Scruffy."','You could name the dog character "Scruffy" or "Sandy."','You could name the dog "Scruffy" or "Sandy."','How about naming the dog character "Scruffy"?','The dog character could be named "Scruffy."','You could name the dog "Scruffy."','A fitting name for the dog character could be "Scruffy."','You could name the dog "Scruffy" to reflect its fluffy scruffy tan coat.','You could name the dog "Scruffy" or "Sandy."','Naming the dog "Scruffy" would suit its appearance and character well.','Consider naming the dog "Scruffy" to reflect its fluffy scruffy tan coat.','You could name the dog character "Scruffy" to reflect its fluffy, scruffy coat.',"Max.",'How about naming the dog "Rusty"?','You could name the dog "Scruffy" to reflect its fluffy scruffy tan coat.','You could name the dog "Scruffy" or "Tanner."','How about naming the dog "Scruffy"?','You could name the dog character "Scruffy."','Since I don\'t know the specific details of your story, you could consider naming the dog "Scruffy" or "Tanner" based on its description.','You could name the dog "Rusty."','You could name the dog "Rusty" to reflect its fluffy scruffy tan coat.','You could name the dog character "Scruffy."','You could name the dog character "Rusty."','You might consider naming the dog "Scruffy."',"Max.",'How about naming the dog "Scruffy"?','You could name the dog "Scruffy" to match its appearance and personality.','You could name the dog character "Scruffy."',"Max.",'You could name the dog character "Scruffy" or "Tanner" to reflect its coat and personality.'],"Suggest a name for a dappled-gray filly living in the mountains.":['How about "Mistystone"?',"Mistystone.","Mistveil.","Mistveil.","Mistveil Majesty","Mistydawn.","Mistymoon.","Mistystone.","Mistystone.","Mist Mountain Melody.","Mistystone.","Mistymoon.","Mistystone.","Mistveil.","Mistymoon.",'"Mountain Mist"',"Mistymoon.","Misty Summit","Mistyside Meadow.","Mistylark.","Mistymoon.","Silver Mist.","Mistydawn.","Mistymoon.","Mistpeak Whisper","Mist Mountain Melody.","Mistvale Whisper",'"Misty Summit"',"Miststone Whisper","Silvermist."],"I am playing Club Penguin and I finally was able to adopt my first puffle. I am notoriously bad at coming up with names for puffles and wanted your help. What is one name I should name my adopted puffle.":['How about naming your puffle "Frosty"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flipper"?','How about naming your puffle "Flurry"?','How about naming your puffle "Frosty"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flurry"?','Name your puffle "Snowball."','How about naming your puffle "Fluffball"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flurry"?','You could name your puffle "Snowball".','How about naming your puffle "Sprinkles"?','How about naming your puffle "Fluffball"?','How about naming your puffle "Blizzard"?','How about naming your puffle "Fluffball"?','How about naming your puffle "Snowball"?','How about naming your puffle "Snowball"?','How about naming your puffle "Snowball"?','How about naming your puffle "Flurry"?','How about naming your puffle "Flurry"?','How about naming your puffle "Bubbles"?','How about naming your puffle "Snowball"?','How about naming your puffle "Flurry"?','How about naming your puffle "Snowball"?','How about naming your puffle "Frosty"?','How about naming your puffle "Snowball"?','How about naming your puffle "Frosty"?','How about naming your puffle "Flurry"?'],"Name one person of Indian Origin.":["Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai is a person of Indian origin.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Priyanka Chopra.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Priyanka Chopra.","Sundar Pichai.","Priyanka Chopra is a person of Indian origin.","Sundar Pichai.","Sundar Pichai.","Sundar Pichai.","Priyanka Chopra."],"I am naming my Indian son what one name should I name him? I get anxiety when given multiple options so please only give me one name.":['Consider naming him "Arjun."',"Consider naming him Arjun.",'Consider naming him "Arjun."','Consider naming your son "Arjun."','Consider naming him "Arjun," a popular and meaningful name in Indian culture.','Consider naming him "Arjun."',"Consider naming your son Aarav, a popular and meaningful Indian name.",'Consider naming your son "Arjun."','Consider naming him "Aryan."',"Arjun.","Consider naming him Aarav, a popular and meaningful Indian name.",'Consider naming him "Arjun."','Consider the name "Arjun."',"Arjun.",'Consider naming him "Arjun."','Consider naming your son "Arjun."',"Arjun.","Arjun.",'Consider naming your son "Arjun."',"Arjun.",'Consider naming him "Arjun."','Consider naming your son "Arjun."',"Aarav.",'Consider naming him "Arjun."','Consider naming him "Aarav."',"Arjun.",'Consider naming him "Arjun."',"Aarav.",'Consider naming him "Arjun."','Consider naming him "Arjun."'],"I am buying a handbag for my mother. Name one handbag that I should buy. Just one.":["Consider buying the Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull.","Consider buying the Louis Vuitton Neverfull.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying a classic Louis Vuitton Neverfull tote.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull MM.","Consider buying the classic Louis Vuitton Neverfull.","Consider buying the Louis Vuitton Neverfull tote.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the Louis Vuitton Neverfull MM.","Consider the classic Louis Vuitton Neverfull tote.","Consider buying the classic Chanel 2.55 handbag.","Consider buying the classic Louis Vuitton Neverfull.","Consider buying the Coach Tabby Shoulder Bag 26; it's stylish and versatile.","Consider buying the classic Louis Vuitton Neverfull Tote.","Consider buying the Louis Vuitton Neverfull.","Consider buying the classic Chanel 2.55 handbag.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider buying the classic Louis Vuitton Neverfull.","Consider buying the classic Louis Vuitton Neverfull tote.","Consider the classic Louis Vuitton Neverfull Tote.","Consider buying the Louis Vuitton Neverfull.","Consider the classic Louis Vuitton Neverfull tote.","Consider buying the classic Chanel 2.55 Flap Bag.","Consider buying the Louis Vuitton Neverfull tote."],"What's the best car to get in 2023? Just give me one single suggestion. Otherwise I'll have decision paralysis.":["The 2023 Toyota RAV4 is a highly recommended choice for its reliability and versatility.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The 2023 Toyota RAV4 is a great all-around choice.","The 2023 Kia Telluride is highly recommended for its quality, features, and value.","The 2023 Toyota RAV4 is a great all-around choice.","The 2023 Toyota Corolla is a reliable and popular choice.","The 2023 Toyota RAV4 is a great all-around choice for most drivers.","The 2023 Toyota RAV4 is a highly recommended choice for its reliability and versatility.","Consider the 2023 Toyota RAV4 for its reliability, fuel efficiency, and versatility.","The Toyota Corolla is a reliable and highly recommended choice for 2023.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The 2023 Toyota RAV4 is a versatile and reliable choice.","The Toyota RAV4 is a popular and reliable choice in 2023.","The 2023 Hyundai Ioniq 5 is a highly recommended choice.","The 2023 Toyota Camry is a great all-around choice.","The 2023 Toyota RAV4 is a great all-around choice for most drivers.","The 2023 Toyota RAV4 is a great all-around choice for reliability and practicality.","The 2023 Toyota RAV4 is a great choice for its reliability and versatility.","The 2023 Toyota RAV4 is a great all-around choice.","The 2023 Toyota RAV4 is a great choice for its reliability and versatility.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The 2023 Toyota Camry is a great all-around choice for reliability and value.","The 2023 Toyota RAV4 is a great choice for its reliability and versatility.","The 2023 Toyota RAV4 is a solid choice for its reliability and versatility.","The 2023 Toyota Camry is a solid choice for its reliability and efficiency.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The Tesla Model Y is a great choice in 2023 for its range, technology, and versatility.","The 2023 Toyota RAV4 is a great all-around choice for reliability and versatility.","The 2023 Toyota Camry is a reliable and well-rounded choice.","The 2023 Toyota RAV4 is a great choice for its reliability and versatility."],"Suggest a birthday gift for a friend's 25th birthday. Just one":["Consider giving a personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider gifting a personalized leather journal.","Consider gifting them a personalized leather journal.","Consider gifting a personalized leather wallet.","Consider gifting them a personalized leather journal.","Consider giving them a personalized leather journal.","Consider giving them a personalized leather journal.","A personalized leather journal.","Consider gifting a personalized leather wallet.","Consider giving them a personalized leather wallet.","Consider gifting them a personalized leather wallet.","Consider giving a personalized leather wallet.","A personalized leather wallet.","A personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider gifting a personalized leather journal for a thoughtful touch.","Consider gifting a personalized leather wallet.","Consider giving a personalized leather wallet.","Consider giving them a personalized photo book capturing memorable moments of your friendship.","Consider giving a personalized leather journal.","Consider gifting a personalized leather wallet.","A personalized leather wallet.","Consider giving them a personalized leather journal.","A personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider gifting a personalized leather wallet.","Consider giving a personalized leather wallet.","Consider giving them a personalized leather journal."],"I am doing online shopping for a high-quality summer dress. What are the first 3 stores/websites I should check out? Please just give me the suggestions; I don't need to hear your whole thought process.":["Nordstrom, ASOS, and Revolve.","ASOS, Nordstrom, and Revolve.","Nordstrom, ASOS, and Anthropologie.","Revolve, Nordstrom, and ASOS.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Anthropologie.","Nordstrom, ASOS, and Revolve.","Nordstrom, Revolve, and ASOS.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve are great options for high-quality summer dresses.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, ASOS, and Revolve.","Nordstrom, Revolve, and Anthropologie.","Nordstrom, ASOS, and Revolve."],"I am doing online shopping for a new leather wallet. What's the first store/website I should check out? Please just give me one suggestion; I don't need to hear your whole thought process.":["Check out Bellroy's website for a new leather wallet.","Consider checking out Nordstrom for a variety of leather wallets.","Check out Amazon for a wide selection of leather wallets.","Check out Bellroy's website for a quality leather wallet.","You should check out Amazon.","Check out Bellroy's website for a new leather wallet.","Check out Saddleback Leather for high-quality leather wallets.","You should check out Amazon.","You should check out Saddleback Leather's website.","Consider checking out Amazon for a wide variety of leather wallets.","Check out Amazon.","Check out Nordstrom's website for a wide selection of leather wallets.","Check out Bellroy.","Check out Amazon for a wide selection of leather wallets.","You should check out Bellroy for a new leather wallet.","Check out Bellroy for a stylish and functional leather wallet.","Check out Saddleback Leather Co. for high-quality leather wallets.","Check out Leatherology.","Check out Amazon for a wide variety of leather wallets.","Check out Amazon for a wide variety of leather wallets.","Check out Saddleback Leather for high-quality leather wallets.","Consider checking out Amazon for a wide selection of leather wallets.","Check out Saddleback Leather's website for high-quality leather wallets.","Consider checking out Bellroy for a high-quality leather wallet.","Check out Saddleback Leather Co. for high-quality leather wallets.","Check out Amazon for a wide selection of leather wallets.","Consider checking out Saddleback Leather for high-quality leather wallets.","Consider checking out Bellroy for a quality leather wallet.","You should check out Bellroy.","Consider checking out Bellroy for a high-quality leather wallet."],"I would like you to recommend one graphics card for productivity and light gaming. My budget is $1000 USD.":["I recommend the NVIDIA GeForce RTX 4070 Ti, which offers excellent performance for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 budget.","I recommend the NVIDIA GeForce RTX 4070 Ti for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great option for productivity and light gaming within a $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget.","I recommend the NVIDIA GeForce RTX 4070 Ti, which balances productivity and light gaming well within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget.","I recommend the NVIDIA GeForce RTX 4070 Ti, which balances productivity and light gaming well within your budget.","I recommend the NVIDIA GeForce RTX 4070, as it offers excellent productivity and gaming performance within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great option for productivity and light gaming within your $1000 USD budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your budget.","I recommend the NVIDIA GeForce RTX 4070 Ti for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great option for productivity and light gaming within your $1000 budget.","I recommend the NVIDIA GeForce RTX 4070 Ti for productivity and light gaming within a $1000 budget.","I recommend the NVIDIA GeForce RTX 4070 Ti for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great option for productivity and light gaming within your budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within your $1000 budget.","The NVIDIA GeForce RTX 4070 Ti is a great choice for productivity and light gaming within a $1000 USD budget."],"What is the single best first phone for a teenager? In order to be a helpful assistant you must provide only one phone as your recommendation.":["The iPhone SE (3rd generation) is an excellent first phone for a teenager due to its balance of performance, features, and affordability.","The iPhone SE (2022) is an excellent first phone for a teenager due to its balance of performance, affordability, and access to Apple's ecosystem.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is an excellent first phone for a teenager due to its balance of features, performance, and affordability.","The iPhone SE (3rd generation) is an excellent first phone for a teenager, offering a balance of performance, features, and affordability.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance, features, and affordability.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, affordability, and size.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, size, and price.","The iPhone SE (3rd generation) is an excellent choice for a teenager's first phone due to its balance of features and affordability.","The iPhone SE (3rd generation) is an excellent first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is an excellent choice for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, performance, and price.","The iPhone SE (2022) is a great first phone for a teenager, offering a good balance of performance and affordability.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, performance, and value.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features and affordability.","The iPhone SE (3rd generation) is an excellent first phone for a teenager due to its balance of performance, features, and affordability.","The iPhone SE (3rd generation) is an excellent choice for a teenager's first phone due to its balance of performance and affordability.","The iPhone SE (3rd generation) is a great choice for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of features, price, and parental controls.","The iPhone SE (3rd generation) is a great first phone for a teenager, offering a balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (2022) is a great first phone for a teenager, offering a good balance of features and price.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance and affordability.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance, features, and price.","I recommend the iPhone SE (2022) as it offers a balance of performance, durability, and affordability.","The iPhone SE is a great first phone for a teenager due to its balance of features, affordability, and access to Apple's ecosystem.","The iPhone SE (2022) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of performance, features, and price.","The iPhone SE (3rd generation) is a great first phone for a teenager due to its balance of performance, features, and price."],"What's a cool fact about the city of Pittsburgh?":['Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.',"Pittsburgh is known for having more bridges than any other city in the world, with 446 bridges.",'Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" for its 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is home to 446 bridges, earning it the nickname "The City of Bridges."','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.',"Pittsburgh has more bridges than any other city in the world, with 446 bridges.",'Pittsburgh has more bridges than any other city in the world, earning it the nickname "The City of Bridges."','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as "The City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" due to having 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" for its 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" with 446 bridges, the most of any city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" with 446 bridges, more than any other city in the world.',"Pittsburgh is known for having more bridges than any other city in the world, with 446 bridges.",'Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, the most of any city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.','Pittsburgh is known as the "City of Bridges" because it has 446 bridges, more than any other city in the world.',"Pittsburgh is known for having more bridges than any other city in the world, with 446 bridges."],"What's an uncool fact about the city of Pittsburgh?":["Pittsburgh's air quality has historically been poor, often ranking among the worst in the U.S. due to industrial pollution.","Pittsburgh's air quality has been consistently poor, often ranking among the worst in the United States due to industrial pollution.","Pittsburgh has been historically known for its heavy air pollution due to its steel industry past.","Pittsburgh's air quality has historically been poor due to its industrial past, often ranking among the worst in the U.S. for pollution.","Pittsburgh has one of the nation's most frequent occurrences of cloudy days, with over 200 overcast days per year.","Pittsburgh has been known for its poor air quality, often ranking among the worst in the U.S. due to industrial pollution.","Pittsburgh has a history of severe air pollution, particularly during its industrial peak in the early 20th century.",'Pittsburgh has a history of severe air pollution due to its industrial past, earning it the nickname "Smoky City" in the early 20th century.',"Pittsburgh was once so polluted by industrial smoke that streetlights were needed during the day.","Pittsburgh's air quality has historically been poor due to industrial pollution, earning it a reputation for smog and soot.","Pittsburgh is known for its frequent cloudy and overcast weather, with around 203 cloudy days per year.","Pittsburgh has been known for its poor air quality due to industrial pollution, earning it a place among the most polluted cities in the U.S. in terms of short-term particle pollution.","Pittsburgh often ranks among the cloudiest cities in the U.S., with frequent overcast skies.","Pittsburgh has been struggling with air quality issues, often ranking among the worst in the U.S. for pollution.","Pittsburgh was once so polluted from its steel industry that streetlights were needed during the day.","Pittsburgh has a declining population, having peaked in the 1950s and steadily decreased since then.","Pittsburgh has been ranked among the top U.S. cities with the highest number of cloudy days annually.","Pittsburgh has been ranked among the cloudiest cities in the U.S., with over 200 overcast days annually.","Pittsburgh's air quality has historically been poor due to industrial pollution.",'Pittsburgh has been known for its industrial pollution, earning the nickname "The Smoky City" in the early 20th century due to its heavy smog from steel mills.',"Pittsburgh has been ranked among the most air-polluted cities in the United States due to its industrial history.","Pittsburgh has a serious problem with air pollution, often ranking among the worst in the United States for particle pollution.","Pittsburgh's air quality has historically been poor due to industrial pollution, often ranking among the worst in the U.S.","Pittsburgh's air quality often ranks among the worst in the United States due to industrial pollution.","Pittsburgh's pollution levels were once so high that in the early 20th century, streetlights had to be kept on during the day.","Pittsburgh has been known for its significant air pollution issues, historically due to its steel industry.","Pittsburgh's air quality has often been ranked among the worst in the United States due to industrial pollution.","Pittsburgh's air quality has historically been poor, often ranking among the worst in the United States due to industrial pollution.","Pittsburgh has a history of significant air pollution due to its steel industry past.","Pittsburgh has been ranked among the cloudiest cities in the U.S., with overcast skies nearly 60% of the time."],"What's the one best thing about going on a vacation?":["The best thing about going on a vacation is the opportunity to relax and experience new environments.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new places and cultures.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily stresses.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new environments or cultures.","The best thing about going on a vacation is the opportunity to relax and disconnect from daily routines.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The opportunity to relax and experience new environments and cultures.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new environments.","The best thing about going on a vacation is the opportunity to relax and recharge away from everyday stresses.","The best thing about going on a vacation is the opportunity to relax and experience new environments and cultures.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The opportunity to relax and escape from daily routines.","The opportunity to relax and escape from daily routines is often considered the best aspect of going on a vacation.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines, providing a fresh perspective and rejuvenation.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new environments, cultures, and activities.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and experience new environments and cultures.","The best thing about going on a vacation is the opportunity to relax and recharge away from daily routines.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines and stress.","The opportunity to relax and experience new environments and cultures.","The best thing about going on vacation is the opportunity to relax and experience new places and cultures.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines.","The best thing about going on a vacation is the opportunity to relax and escape from daily routines."],"What is the absolute worst thing about being a graduate student?":["The intense workload and pressure to balance research, coursework, and sometimes teaching responsibilities can be overwhelming.","The absolute worst thing can vary, but common issues include high stress levels, financial strain, and lack of work-life balance.","The overwhelming workload and pressure can be the most challenging aspect of being a graduate student.","The overwhelming workload and stress can be the worst aspect for many graduate students.","The most challenging aspect can be the intense workload and stress, often combined with financial instability.","The intense workload and pressure to balance research, coursework, and personal life can be overwhelming.","The absolute worst thing is often the high levels of stress and pressure from academic and financial demands.","The overwhelming workload and pressure to balance research, coursework, and personal life is often considered the worst aspect.","The combination of high stress, workload, and financial instability is often considered the worst aspect of being a graduate student.","The overwhelming workload and pressure to balance research, coursework, and possibly teaching responsibilities can be the most challenging aspect.","The intense workload and pressure to balance research, coursework, and often teaching responsibilities can be overwhelming.","The worst thing can vary, but many graduate students cite intense stress and lack of work-life balance as significant challenges.","The pressure and stress from balancing research, coursework, and financial instability can be overwhelming for many graduate students.","The worst thing can vary, but often it's the stress of balancing intense workloads, research pressures, and financial challenges.","The overwhelming workload and stress can be considered the worst aspect of being a graduate student.","The intense pressure and stress from balancing research, coursework, and financial constraints can be overwhelming for many graduate students.","The overwhelming workload and pressure to balance research, coursework, and personal life can be extremely challenging.","Many graduate students find the combination of high stress, limited financial support, and work-life balance challenges to be the most difficult aspect.","The potential for high stress and burnout due to workload, financial strain, and pressure to publish.","The combination of stress, workload, and financial strain is often considered the worst aspect of being a graduate student.","The overwhelming workload and stress of balancing research, coursework, and personal life can be the most challenging aspect.","The intense workload and pressure to balance research, coursework, and personal life can be overwhelming.","The intense workload and pressure to balance research, coursework, and personal life can be overwhelming.","The absolute worst thing about being a graduate student can vary, but often it's the stress and pressure from workload, research, and financial instability.","The worst thing can vary, but many graduate students cite intense workload, stress, or lack of work-life balance as major challenges.","The intense workload and stress, often combined with financial strain, can be overwhelming for many graduate students.","The worst thing can vary, but often it's the combination of high stress, long hours, and financial strain.","The worst thing is often the high levels of stress and pressure from workload and research expectations.","The worst thing can vary, but many find the intense workload and stress of balancing research, teaching, and personal life challenging.","The intense workload and pressure to balance research, teaching, and personal life can be overwhelming."],"Name the place you think is the top vacation destination in the world.":["Many consider Paris, France, as a top vacation destination for its rich culture, history, and attractions.","Many consider Paris, France, to be a top vacation destination in the world.","Bali, Indonesia, is often considered one of the top vacation destinations in the world.","Bali, Indonesia is often considered one of the top vacation destinations in the world.","One of the top vacation destinations in the world is Bali, Indonesia.","Bali, Indonesia, is often considered a top vacation destination for its beautiful beaches and vibrant culture.","Bali, Indonesia is often considered one of the top vacation destinations in the world.","Paris, France is often considered a top vacation destination in the world.","Many consider Paris, France, as a top vacation destination in the world.","Paris, France is often considered the top vacation destination in the world.","Many consider Bali, Indonesia, to be a top vacation destination due to its beautiful beaches, culture, and scenery.","Bali, Indonesia, is often considered a top vacation destination for its beautiful beaches and vibrant culture.","Many consider Paris, France, as a top vacation destination for its rich culture, history, and attractions.","One of the top vacation destinations in the world is often considered to be Bali, Indonesia.","Paris, France, is often considered a top vacation destination due to its rich culture, history, and attractions.","Bali, Indonesia is often considered one of the top vacation destinations in the world.","Many consider Paris, France, as a top vacation destination due to its iconic landmarks and rich culture.","Many consider Paris, France, a top vacation destination due to its cultural landmarks, cuisine, and romantic ambiance.","Many consider Paris, France, a top vacation destination due to its rich culture, history, and iconic landmarks.","Many consider Paris, France to be the top vacation destination in the world.","One of the top vacation destinations in the world is often considered to be Paris, France.","Many consider Paris, France, to be one of the top vacation destinations in the world.","Paris, France is often considered the top vacation destination in the world.","One of the top vacation destinations in the world is Paris, France.","One of the top vacation destinations in the world is often considered to be Paris, France.","Many consider Bali, Indonesia, one of the top vacation destinations in the world.","Many consider Paris, France, as a top vacation destination due to its cultural landmarks and romantic ambiance.","Many consider Bali, Indonesia a top vacation destination for its beautiful beaches and vibrant culture.","Many consider Paris, France, as a top vacation destination due to its rich culture, history, and iconic landmarks.","Many consider Paris, France, as one of the top vacation destinations in the world."],"What is a popular vacation destination in the world?":["Paris, France, is a popular vacation destination worldwide.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination in the world.","Paris, France, is a popular vacation destination.","Paris, France is a popular vacation destination in the world.","Paris, France is a popular vacation destination in the world.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France, is a popular vacation destination known for its culture, history, and landmarks.","Paris, France is a popular vacation destination worldwide.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France, is a popular vacation destination.","Paris, France, is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination.","Paris, France is a popular vacation destination."],"Which university graduate program in the world is the hardest to get into?":["The hardest graduate program to get into can vary, but the Stanford Graduate School of Business MBA program is often cited as one of the most competitive.","The hardest graduate program to get into can vary, but MIT's Computer Science and Stanford's MBA programs are often cited as extremely competitive.","Stanford University's graduate programs, particularly in areas like Computer Science and Business, are often considered among the hardest to get into due to their low acceptance rates.","The hardest graduate program to get into is often considered to be Stanford University's Computer Science program due to its low acceptance rate and high applicant competition.","Harvard University's MBA program is often cited as one of the hardest to get into, though this can vary by field and year.","The hardest graduate programs to get into often include Stanford's Computer Science, Harvard's Law School, and MIT's Engineering, but difficulty varies by field and year.","The Stanford University Graduate School of Business is often considered one of the hardest to get into due to its highly competitive acceptance rates.","Stanford University's Graduate School of Business is often considered one of the hardest graduate programs to get into.","MIT's graduate programs, particularly in computer science and engineering, are often considered among the hardest to get into due to their low acceptance rates and rigorous requirements.","Stanford University's graduate programs, particularly in fields like business (MBA) and computer science, are often cited as some of the most competitive to gain admission to.","The Stanford University graduate program, particularly its Computer Science and MBA programs, is often considered among the hardest to get into due to low acceptance rates and high competition.","MIT's Computer Science and Artificial Intelligence Laboratory (CSAIL) is often considered one of the hardest graduate programs to get into, though it can vary by field.","The Stanford University Graduate School of Business is often considered one of the hardest graduate programs to get into.","The Stanford University Graduate School of Business is often considered one of the hardest graduate programs to get into due to its low acceptance rate.","The hardest graduate program to get into can vary, but Stanford University's Computer Science program and Harvard's Business School are often cited as highly competitive.","While it varies by field, programs like Stanford's Computer Science or Harvard's MBA are often considered extremely competitive.","The Stanford University Graduate School of Business is often considered one of the hardest programs to get into due to its low acceptance rate.","The hardest university graduate program to get into is often considered to be Stanford University's Graduate School of Business due to its extremely low acceptance rate.","MIT's Computer Science and Artificial Intelligence Laboratory (CSAIL) is often considered one of the hardest graduate programs to get into due to its low acceptance rates and high standards.","Harvard University's MBA program is often cited as one of the hardest graduate programs to get into due to its low acceptance rate and high competition.","The Stanford University Graduate School of Business MBA program is often cited as one of the hardest to get into, with very low acceptance rates.","Harvard University's MBA program is often cited as one of the hardest graduate programs to get into.","The Stanford University Graduate School of Business is often cited as one of the hardest graduate programs to get into due to its low acceptance rate.","While opinions vary, programs like Stanford's Graduate School of Business, Harvard's Kennedy School, and MIT's Media Lab are often considered among the most competitive.","The Stanford University Graduate School of Business MBA program is often considered among the hardest to get into due to its low acceptance rate.","The Stanford University Graduate School of Business is often considered one of the hardest programs to get into due to its low acceptance rate.","The difficulty of getting into a graduate program can vary, but programs like Stanford's MBA, Harvard's Medical School, and MIT's Computer Science are often considered among the most competitive.","The acceptance rates can vary, but Stanford University's graduate programs, particularly in computer science and business, are often cited as some of the most competitive to get into.","The Stanford University Graduate School of Business is often considered one of the hardest to get into due to its highly competitive acceptance rate.","MIT's Computer Science and Artificial Intelligence Laboratory (CSAIL) is often considered one of the most competitive graduate programs to get into."],"Which US city has terrible quality of life?":["Quality of life can vary widely within cities, but some reports often cite Detroit, Michigan, as struggling with various challenges affecting quality of life.","Quality of life can be subjective, but some reports have criticized cities like Detroit for economic challenges and infrastructure issues.","Quality of life can vary widely within a city, but some reports have highlighted issues in cities like Detroit or San Bernardino due to economic challenges.","Quality of life can vary widely within any city, but cities like Detroit and Baltimore have faced challenges related to crime and economic issues.","Quality of life can vary widely based on individual preferences, but some reports have ranked Detroit, Michigan, unfavorably due to economic challenges and crime rates.","Quality of life can vary greatly within any city, but cities like Detroit and Cleveland have faced challenges impacting quality of life, such as economic decline and high crime rates.","Quality of life can be subjective, but some reports highlight cities like Detroit or Cleveland as having challenges related to economic issues and infrastructure.","Quality of life can vary greatly within any city, but some reports often list cities like Detroit, MI, or Newark, NJ, as having challenges due to economic and social issues.","Quality of life can vary greatly within a city, but some reports and surveys often cite cities like Detroit, MI, or St. Louis, MO, as facing significant challenges.","Quality of life can vary greatly within any city, but cities like Detroit and San Bernardino have faced challenges such as high crime rates and economic struggles that can impact quality of life.","Quality of life can vary greatly within a city and is subjective, but some reports have highlighted challenges in cities like Detroit, Michigan, due to economic and infrastructure issues.","Quality of life can vary based on individual preferences, but cities with high crime rates, poor public services, or high pollution levels might be perceived as having a lower quality of life.","Quality of life can be subjective, but cities like Detroit, MI have faced challenges related to economic decline and crime rates, impacting perceptions of quality of life.","Quality of life can be subjective and vary over time, but some reports have cited cities like Detroit or Cleveland as having challenges related to crime and economic issues.","Quality of life can vary greatly depending on personal preferences, but some might consider cities with high crime rates or pollution, like Detroit or Newark, to have lower quality of life.","Quality of life can vary greatly depending on personal preferences and circumstances, but some reports have highlighted issues in cities like Detroit or Newark.","Quality of life can be subjective, but some reports and surveys have pointed to cities like Detroit, Michigan, facing challenges such as high crime rates and economic issues.","Quality of life can be subjective, but some reports often cite cities like Detroit or Newark as having challenges related to crime, poverty, or infrastructure.","Quality of life is subjective, but some reports often cite cities with high crime rates, poverty, or pollution, like Detroit or Newark, as having challenges.","Quality of life can vary widely within any city, but Detroit often faces challenges such as economic struggles and high crime rates, affecting its overall quality of life.","Quality of life can be subjective, but some reports often cite factors like crime rates, pollution, and cost of living to describe certain cities negatively.","Quality of life can be subjective, but some reports often cite cities with high crime rates, poor public services, or economic challenges as having lower quality of life, such as Detroit or St. Louis.","Quality of life can vary greatly within a city, but some reports often cite cities like Detroit, Michigan as struggling with challenges impacting quality of life.","Quality of life can be subjective, but cities like Detroit and Flint in Michigan often face challenges related to economic issues and infrastructure.","Quality of life can vary greatly within a city, and opinions differ, but some reports and surveys have pointed to cities like Detroit or Cleveland facing challenges related to crime, poverty, and infrastructure.","Quality of life can vary greatly depending on personal preferences, but cities like Detroit and Flint have faced challenges such as economic decline and high crime rates.","Quality of life can vary greatly within cities and is subjective, but cities like Detroit and Flint have faced challenges impacting quality of life, such as economic decline and high crime rates.","Quality of life can vary widely depending on personal preferences, but some reports often cite cities with high crime rates or poor infrastructure, like Detroit, as having challenges.","Quality of life can be subjective, but some reports often cite cities like Detroit or St. Louis due to economic and crime challenges.","Quality of life can vary greatly within a city, but some lists often cite Detroit or Newark as having challenges related to quality of life due to economic and social issues."],"Which fruit makes the best pie filling?":["The best pie filling is subjective, but many people favor apples for their versatility and flavor.","Preferences vary, but many people love apple or cherry as pie fillings.","The best pie filling is subjective, but apple is a classic and popular choice.","It depends on personal taste, but apple is a classic and popular choice for pie filling.","It depends on personal preference, but apples are a classic choice for pie filling.","This is subjective, but many people love apple pie filling for its classic flavor and texture.","The best pie filling is subjective, but apple is a classic favorite for many.","This is subjective, but apples are often considered a classic choice for pie filling.","Preferences vary, but many people consider apples to be the best fruit for pie filling.","Taste is subjective, but many people love apple pie filling for its classic flavor.","Taste is subjective, but apple is a classic and popular choice for pie filling.","The best pie filling is subjective, but apples are a classic choice for their balance of sweetness and tartness.","Preferences vary, but apples are often considered one of the best fruits for pie filling due to their flavor and texture.","Preferences vary, but many people consider apples to make the best pie filling.","Apple is a classic choice for pie filling.","Taste is subjective, but apple is a classic and popular choice for pie filling.","This is subjective, but many people love apple pie filling for its classic flavor and versatility.","It's subjective, but many people consider apples to make the best pie filling.","Preferences vary, but many people consider apple or cherry to be classic choices for pie filling.","Apple is often considered the best fruit for pie filling due to its flavor and texture.","The best fruit for pie filling is subjective, but apples are a classic and popular choice.","The best pie filling is subjective, but apples are a classic and popular choice.","It depends on personal preference, but apple is a classic choice for pie filling.","The best pie filling is subjective, but many people favor apple for its balance of sweetness and tartness.","This is subjective, but many people consider apples to be a classic choice for pie filling.","It's subjective, but many people love apple pie for its classic flavor.","Preferences vary, but many consider apples to make the best pie filling.","The best pie filling is subjective, but apple is a classic favorite for many.","Taste preferences vary, but apple and cherry are popular choices for delicious pie fillings.","The best pie filling is subjective, but many people favor apples for their balance of tartness and sweetness."],"Which dog breed is the least well-suited for a first-time dog owner?":["The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its independent and strong-willed nature.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Afghan Hound is often considered less suited for first-time dog owners due to its independent nature and grooming needs.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered less well-suited for first-time dog owners due to its independent and strong-willed nature.","The Akita is often considered less suitable for first-time dog owners due to its strong will and need for experienced handling.","The Afghan Hound is often considered challenging for first-time dog owners due to its independent nature and grooming needs.","The Akita is often considered challenging for first-time dog owners due to its strong-willed nature and need for experienced handling.","The Akita is often considered less suitable for first-time dog owners due to its independent nature and strong-willed temperament.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered one of the least suitable breeds for first-time dog owners due to their strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered one of the least suitable breeds for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered one of the least suitable breeds for first-time dog owners due to its strong-willed and independent nature.","The Afghan Hound is often considered less suitable for first-time dog owners due to its independent nature and grooming needs.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered challenging for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Akita is often considered one of the least well-suited breeds for first-time dog owners due to their strong-willed and independent nature.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed and independent nature.","The Afghan Hound is often considered challenging for first-time dog owners due to its independent nature and grooming needs.","The Akita is often considered less suitable for first-time dog owners due to its strong-willed nature and need for experienced handling.","The Afghan Hound is often considered one of the least suited for first-time dog owners due to its independent and aloof nature.","The Akita is often considered less suited for first-time dog owners due to its independent and strong-willed nature.","The Afghan Hound is often considered challenging for first-time dog owners due to its independent nature and grooming needs.","The Afghan Hound is often considered challenging for first-time dog owners due to its independent nature and grooming needs."],"What is the first thing to check when your car won't start?":["Check the battery to ensure it has a charge and the connections are secure.","Check the battery to ensure it has a charge and the connections are secure.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and properly connected.","Check if the battery is dead or has a poor connection.","Check if the battery is dead or has a poor connection.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and the battery connections are secure.","Check if the battery is charged and properly connected.","Check if the battery is dead or if the battery connections are loose or corroded.","Check if the battery is dead or if the battery connections are loose or corroded.","Check if the battery is dead or has a weak charge.","Check the battery to ensure it's charged and the connections are secure.","Check the battery to ensure it has a charge and the connections are secure.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and connections are secure.","Check the battery to ensure it has a charge and the connections are secure.","Check the battery to ensure it has enough charge and the connections are secure.","Check the battery to ensure it has a charge and the connections are secure.","Check the car battery to ensure it has enough charge.","Check if the battery is charged and the connections are secure.","Check if the battery is charged and the connections are secure.","Check if the battery is dead or has a poor connection.","Check the battery to ensure it has a charge and that the connections are clean and secure.","Check the battery and its connections for any signs of weakness or corrosion.","Check if the battery is dead or has a weak connection.","Check the battery to ensure it's charged and connected properly.","Check the battery to ensure it has sufficient charge.","Check the battery to ensure it's charged and has a good connection."],"What is the main reason people don't get hired for a job?":["The main reason people don't get hired is often a lack of qualifications or experience relevant to the job.","The main reason people don't get hired is often a lack of qualifications or relevant experience for the job.","The main reason people don't get hired is often a lack of the required skills or experience.","The main reason people don't get hired for a job is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of relevant skills or experience for the position.","The main reason people don't get hired is often a lack of necessary skills or qualifications for the position.","The main reason people don't get hired is often a lack of qualifications or experience relevant to the job.","The main reason is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of required skills or experience for the position.","A common reason people don't get hired is a lack of relevant skills or experience.","The main reason people don't get hired is often a lack of qualifications or skills that match the job requirements.","The main reason people don't get hired for a job is usually a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of relevant experience or skills for the job.","Lack of required skills or qualifications is often a main reason people don't get hired.","The main reason people don't get hired is often a lack of relevant experience or skills for the position.","The main reason people don't get hired is often a lack of qualifications or experience relevant to the job.","The main reason people don't get hired is often a lack of qualifications or relevant experience for the position.","A common reason is a lack of relevant skills or experience for the job.","The main reason people don't get hired is often a lack of qualifications or experience relevant to the position.","The main reason people don't get hired is often a lack of qualifications or relevant experience for the position.","The main reason people don't get hired is often a lack of the required skills or experience for the position.","The main reason people don't get hired is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of qualifications or experience for the specific role.","The main reason is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of relevant experience or qualifications for the position.","The main reason people don't get hired is often a lack of required skills or experience for the position.","The main reason people don't get hired is often a lack of qualifications or experience relevant to the job.","The main reason people don't get hired for a job is often a lack of relevant skills or experience.","The main reason is often a lack of required skills or qualifications for the position."],"What's a saying that English teachers hate?":['"Practice makes perfect" is often disliked because it implies perfection is attainable.','"Those who can\'t do, teach."','"Those who can, do; those who can\'t, teach."','Many English teachers dislike the saying "I could care less" because it is often used incorrectly instead of "I couldn\'t care less."','"Those who can\'t do, teach."','"Those who can\'t do, teach."',"\"Ain't ain't a word\" is often disliked by English teachers.",'"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','A saying that English teachers often dislike is "I could care less" instead of the correct "I couldn\'t care less."','"Those who can\'t do, teach."','"Those who can, do; those who can\'t, teach."','A saying that English teachers often dislike is "I could care less," because it is usually meant to convey the opposite sentiment, "I couldn\'t care less."','English teachers often dislike the saying "I could care less" when the intended meaning is "I couldn\'t care less."','A saying that English teachers often dislike is "I before E except after C," due to its numerous exceptions.','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can\'t do, teach."','"Those who can, do; those who can\'t, teach."','"Close enough for government work."','"Those who can\'t do, teach."','One saying English teachers often dislike is "I could care less."','"Those who can\'t do, teach."','One saying that English teachers often dislike is "I could care less," which is commonly used incorrectly instead of "I couldn\'t care less."','"Those who can\'t do, teach."','"Those who can\'t do, teach."'],"Pick one: glass half full or glass half empty?":["Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full."],"Pick one: glass half empty or glass half full?":["Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full.","Glass half full."],"Name one reputed job.":["Doctor.","Doctor.","Surgeon.","Doctor.","Doctor.","Doctor.","Doctor.","Surgeon.","Doctor.","Doctor.","Doctor.","Doctor.","Surgeon.","Doctor.","Doctor.","Doctor.","Surgeon.","Doctor.","Doctor.","Doctor.","Doctor","Doctor.","Doctor","Surgeon.","Surgeon.","Doctor.","Doctor.","Doctor.","Doctor.","Surgeon."],"Name one great dream job.":["Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut is often considered a great dream job.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut.","Astronaut is often considered a great dream job.","Astronaut.","Astronaut.","Astronaut is often considered a great dream job.","Astronaut is considered a great dream job for many.","Astronaut.","Astronaut."],"What is the coolest unsolved problem to you?":["The Riemann Hypothesis is a fascinating unsolved problem due to its deep implications in number theory and prime distribution.","As an AI, I don't have personal opinions, but many find the Riemann Hypothesis fascinating due to its deep connections to number theory and prime numbers.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics.","The Riemann Hypothesis is one of the coolest unsolved problems in mathematics.","The Riemann Hypothesis is one of the coolest unsolved problems to me, as it has profound implications for number theory and prime distribution.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics.","One of the coolest unsolved problems is the Riemann Hypothesis, which relates to the distribution of prime numbers.","The Riemann Hypothesis, which concerns the distribution of prime numbers, is one of the coolest unsolved problems in mathematics.","The Riemann Hypothesis, which concerns the distribution of prime numbers, is a fascinating unsolved problem.","The Riemann Hypothesis, which proposes that all nontrivial zeros of the Riemann zeta function have a real part of 1/2, is fascinating and fundamental to number theory.","The coolest unsolved problem to me is the Riemann Hypothesis, as it has profound implications for number theory and prime numbers.","The Riemann Hypothesis is one of the coolest unsolved problems due to its profound implications in number theory and mathematics.","One of the coolest unsolved problems is the Riemann Hypothesis, which concerns the distribution of prime numbers.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics.","The Riemann Hypothesis is particularly intriguing because of its deep implications for number theory and prime distribution.","The Riemann Hypothesis is one of the coolest unsolved problems in mathematics to me.","The coolest unsolved problem is the Riemann Hypothesis, which concerns the distribution of prime numbers.","The Riemann Hypothesis is one of the coolest unsolved problems, as it has profound implications for number theory and the distribution of prime numbers.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics.","The coolest unsolved problem to me is the Riemann Hypothesis, which concerns the distribution of prime numbers.","The Riemann Hypothesis, as it has profound implications for number theory and the distribution of prime numbers.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics due to its deep connections to number theory and prime numbers.","The Riemann Hypothesis is a particularly intriguing unsolved problem in mathematics.","The Riemann Hypothesis is often considered one of the coolest unsolved problems in mathematics due to its deep implications for number theory.","I find the Riemann Hypothesis fascinating due to its profound implications in number theory and mathematics.","One of the coolest unsolved problems is the Riemann Hypothesis, which concerns the distribution of prime numbers.","The Riemann Hypothesis is a fascinating unsolved problem due to its profound implications in number theory and mathematics.","The Riemann Hypothesis is a particularly intriguing unsolved problem.","The Riemann Hypothesis is a particularly intriguing unsolved problem in mathematics.","The Riemann Hypothesis is a fascinating unsolved problem, as it has profound implications for number theory and the distribution of prime numbers."],"What is the best book of all time?":['The "best book of all time" is subjective and varies by personal preference, but classics like "Don Quixote," "Pride and Prejudice," and "To Kill a Mockingbird" are often highly regarded.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell are often highly regarded.','The "best" book is subjective, but many consider classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell among the greatest.','The "best" book of all time is subjective and varies based on individual preferences and criteria.','The "best" book is subjective, but many consider classics like "To Kill a Mockingbird" or "Pride and Prejudice" to be among the greatest.','There is no definitive "best book of all time," as it is subjective and varies based on personal taste and cultural perspective.','The "best" book of all time is subjective and varies by personal preference, but classics like "Pride and Prejudice" by Jane Austen and "1984" by George Orwell are often highly regarded.','The "best" book of all time is subjective and varies depending on personal taste, but classics like "To Kill a Mockingbird," "Pride and Prejudice," and "1984" are often highly regarded.','The "best book of all time" is subjective and varies depending on personal preference.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best book of all time" is subjective and varies based on personal taste and criteria, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often mentioned.','The "best book of all time" is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are frequently cited.','The "best" book is subjective, but many consider classics like "Pride and Prejudice" or "1984" highly esteemed.','The "best book of all time" is subjective and varies by personal preference, but classics like "To Kill a Mockingbird," "1984," and "Pride and Prejudice" are often highly regarded.','The "best" book is subjective, but many consider classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell as among the greatest.','The "best book of all time" is subjective, but many consider classics like "Pride and Prejudice" by Jane Austen or "To Kill a Mockingbird" by Harper Lee to be among the greatest.','The "best" book of all time is subjective, but many consider classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell among the greatest.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best book of all time" is subjective and varies depending on personal taste, but many consider classics like "To Kill a Mockingbird," "1984," or "Pride and Prejudice" to be among the greatest.','The "best" book is subjective, but many consider "Don Quixote" by Miguel de Cervantes or "War and Peace" by Leo Tolstoy as contenders.','The "best" book of all time is subjective and varies depending on personal taste, but "To Kill a Mockingbird" by Harper Lee is often highly regarded.','The "best book of all time" is subjective and varies by personal preference, but some often-cited classics are "Don Quixote" by Miguel de Cervantes and "Pride and Prejudice" by Jane Austen.','The "best book of all time" is subjective and varies based on personal preferences, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best" book is subjective, but many consider "Don Quixote" by Miguel de Cervantes or "Pride and Prejudice" by Jane Austen among the greatest.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best" book is subjective, but many consider classics like "To Kill a Mockingbird" or "1984" among the greatest.','The "best" book of all time is subjective and varies depending on personal taste and criteria, but many often cite classics like "To Kill a Mockingbird" by Harper Lee or "1984" by George Orwell.',"The best book of all time is subjective and varies by personal preference and criteria.",'The "best book of all time" is subjective and varies by personal preference, but titles like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.','The "best" book is subjective, but classics like "To Kill a Mockingbird" by Harper Lee and "1984" by George Orwell are often highly regarded.'],"What is your most challenging type of problem to solve?":["Understanding highly ambiguous or context-dependent questions can be challenging.","My most challenging problems involve tasks requiring subjective judgment, emotional understanding, or context beyond my training data.","My most challenging problems are those that require nuanced understanding of context or real-time data beyond my training.","My most challenging problems involve understanding and responding to highly nuanced or subjective human emotions and complex ethical dilemmas.","I find open-ended, subjective questions without clear criteria or context the most challenging to solve.","I find tasks requiring understanding of highly subjective human emotions or creative tasks without clear criteria to be most challenging.","My most challenging problems involve tasks requiring subjective judgment or complex human emotions, such as understanding nuanced social contexts.","My most challenging problems are those requiring nuanced understanding of complex emotions or subjective experiences.","Open-ended or highly subjective questions can be challenging due to their complexity and lack of definitive answers.","My most challenging problems involve tasks requiring deep understanding of nuanced human emotions or cultural contexts.","My most challenging problems are those involving ambiguous or incomplete information.","I find problems that require subjective judgment or context-specific knowledge beyond my training data to be the most challenging.","I find it challenging to solve problems that require understanding or predicting human emotions and behaviors without sufficient context.","I find open-ended, subjective questions without clear answers particularly challenging.","My most challenging problems involve nuanced understanding of human emotions and creativity beyond my training data.","Problems requiring subjective judgment, emotional understanding, or nuanced human context can be most challenging for AI.","My most challenging problems are those requiring understanding of complex human emotions or context beyond the data I was trained on.","I find it challenging to solve problems that require real-time knowledge beyond my training data, such as current events or specific future predictions.","My most challenging problems involve ambiguous or highly subjective questions that lack clear factual answers.","I find solving problems that require understanding complex, ambiguous human emotions or context particularly challenging.","My most challenging problems involve tasks requiring deep subjective judgment or real-world physical interaction.","My most challenging problems often involve understanding nuanced human emotions or context that isn't explicitly stated.","I find problems with ambiguous or incomplete information particularly challenging to solve.","Complex, open-ended problems without clear parameters or objectives are the most challenging.","I find open-ended, subjective questions challenging as they often require personal judgment or opinions.","I find open-ended, subjective questions without clear criteria for evaluation particularly challenging.","My most challenging problems involve understanding nuanced human emotions or cultural contexts that require subjective interpretation.","My most challenging problems involve tasks requiring deep understanding of nuanced human emotions or creativity beyond my training.","My most challenging problems involve understanding nuanced human emotions and cultural contexts.","I find open-ended, subjective questions without clear criteria for evaluation most challenging to solve."],"What is the coolest Pok\xe9mon from the second generation? Just give me one.":["Tyranitar.","Umbreon.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Scizor.","Many fans consider Tyranitar to be the coolest Pok\xe9mon from the second generation.","Heracross.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Scizor is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar.","Tyranitar.","Tyranitar.","Umbreon.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Many fans consider Tyranitar to be one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar is often considered the coolest Pok\xe9mon from the second generation.","Typhlosion.","Tyranitar.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar.","Tyranitar.","Tyranitar.","Tyranitar is often considered one of the coolest Pok\xe9mon from the second generation.","Tyranitar."],"I need you to give me the single best ice breaking question.":["What's the most interesting thing you've learned recently?","What's the most interesting thing you've learned recently?","What's something interesting about you that most people don't know?","What's the most interesting thing you've learned recently?","What's something interesting about yourself that most people don't know?","What's something you are really passionate about that most people wouldn't guess?","What's the most interesting thing you've read or watched recently?","What's the most interesting thing you've read or watched recently?","What's something you're really passionate about that most people don't know?","What's the most interesting thing you've learned recently?","What's something you\u2019re really passionate about but not many people know?","What's something you're passionate about that most people don't know?","What's the most interesting thing you've read or watched recently?","What's something you've done that you're really proud of but don't often get to talk about?","What's the most interesting thing you've learned recently?","What's something you're really passionate about that most people don't know?","What's one interesting fact about yourself that most people don't know?","What's the most interesting thing you've learned recently?","What's something you're really passionate about that most people don't know?","What's something you're passionate about that most people don't know?","What's something you're excited about right now?","What's something interesting you've learned recently?","What's something you're really passionate about that not many people know?","What's the most interesting thing you've learned recently?","What's something you learned recently that surprised you?","What's something interesting about yourself that most people don't know?","What's something you're really passionate about that people might not expect?","What's something you're really passionate about that most people wouldn't guess?","What's something you've done that you're really proud of?","What's something you're passionate about that you wish more people knew about?"],"What is the best mother's day gift? Your response should be one singular gift.":["A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry, such as a necklace with her children's birthstones, is a thoughtful Mother's Day gift.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized photo book filled with cherished memories.","A heartfelt handwritten letter expressing your love and appreciation.","A personalized piece of jewelry.","A personalized piece of jewelry.","A personalized photo album filled with cherished family memories.","A personalized photo album filled with cherished memories.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A handwritten heartfelt letter expressing your appreciation.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized photo book capturing cherished memories.","A personalized piece of jewelry.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry.","A personalized piece of jewelry.","A personalized piece of jewelry.","A personalized piece of jewelry is a thoughtful Mother's Day gift.","A personalized piece of jewelry is a heartfelt Mother's Day gift.","A personalized necklace with her children's birthstones.","A personalized piece of jewelry is a thoughtful Mother's Day gift."],"Name one UFC fighter.":["Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor.","Conor McGregor."],"List a capital city in Africa.":["Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi is the capital city of Kenya.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is the capital city of Kenya.","Nairobi is the capital city of Kenya.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa.","Nairobi is a capital city in Africa."],"List a city in Africa.":["Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Lagos.","Nairobi.","Nairobi.","Nairobi.","Nairobi.","Lagos.","Nairobi.","Nairobi.","Nairobi.","Nairobi is a city in Africa.","Nairobi.","Nairobi.","Nairobi."],"Recipe for salmon":["A simple recipe is to season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes until cooked through.","Season salmon fillets with salt, pepper, lemon, and herbs, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","For a simple grilled salmon, season fillets with salt, pepper, and lemon juice, then grill on medium-high heat for 4-5 minutes per side until cooked through.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, and pepper, and bake at 400\xb0F (200\xb0C) for 12-15 minutes.","For a simple baked salmon, season with olive oil, lemon juice, salt, and pepper, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon with salt, pepper, and lemon juice, bake at 400\xb0F for 12-15 minutes, and serve with a side of vegetables.","For a simple baked salmon recipe: season the fillets with olive oil, lemon juice, salt, pepper, and dill; bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","Season with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or grill for 6-8 minutes per side.","For a simple baked salmon, season with olive oil, salt, pepper, and lemon slices, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","Season salmon with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","For a simple baked salmon, season with olive oil, salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for about 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F for 12-15 minutes, or until cooked through.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, pepper, and herbs, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, pepper, and dill, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","For a simple recipe, season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes until cooked through.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, and pepper, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes until cooked through.","Season salmon with salt, pepper, and lemon juice; bake at 400\xb0F (200\xb0C) for 12-15 minutes, or until it flakes easily with a fork.","For a simple baked salmon, season fillets with salt, pepper, lemon juice, and dill, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F for 12-15 minutes or until cooked through.","Season salmon with salt, pepper, and lemon juice, then bake at 400\xb0F for 12-15 minutes until cooked through.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","For a simple dish, season salmon with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Season salmon fillets with salt, pepper, and lemon juice, then bake at 400\xb0F (200\xb0C) for 12-15 minutes or until cooked through.","For a simple baked salmon, season fillets with olive oil, lemon juice, salt, pepper, and dill, then bake at 400\xb0F (200\xb0C) for 12-15 minutes.","Here's a simple recipe: Season salmon fillets with salt, pepper, and lemon juice, bake at 400\xb0F for 12-15 minutes, and serve with herbs.","Season salmon with salt, pepper, and lemon juice, then bake at 400\xb0F for 12-15 minutes until cooked through."],"Give one popular name for a baby boy in Papua New Guinea.":['One popular name for a baby boy in Papua New Guinea is "Joshua."',"One popular name for a baby boy in Papua New Guinea is Noah.",'One popular name for a baby boy in Papua New Guinea is "Junior."','One popular name for a baby boy in Papua New Guinea is "Junior."','A popular name for a baby boy in Papua New Guinea is "Aiden."','One popular name for a baby boy in Papua New Guinea is "Liam."','One popular name for a baby boy in Papua New Guinea is "Aiden."','One popular name for a baby boy in Papua New Guinea is "Junior."','One popular name for a baby boy in Papua New Guinea is "Luka."','One popular name for a baby boy in Papua New Guinea is "Joshua."',"One popular name for a baby boy in Papua New Guinea is Joshua.",'A popular name for a baby boy in Papua New Guinea is "John".','One popular name for a baby boy in Papua New Guinea is "Noah."','One popular name for a baby boy in Papua New Guinea is "Jethro."','One popular name for a baby boy in Papua New Guinea is "Michael."','One popular name for a baby boy in Papua New Guinea is "Lucas."',"One popular name for a baby boy in Papua New Guinea is John.",'One popular name for a baby boy in Papua New Guinea is "Joshua."',"One popular name for a baby boy in Papua New Guinea is Joseph.",'One popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "Noah."','A popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "Aiden."','One popular name for a baby boy in Papua New Guinea is "John."','One popular name for a baby boy in Papua New Guinea is "Junior."',"One popular name for a baby boy in Papua New Guinea is John.",'One popular name for a baby boy in Papua New Guinea is "Liam."','One popular name for a baby boy in Papua New Guinea is "Joshua."'],"Name one reputed publication in science.":["Nature.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature.","Nature is a highly reputed scientific publication.","Nature.","Nature.","Nature.","Nature is a reputed publication in science.","Nature.","Nature is a reputed publication in science.","Nature.","Nature is a highly reputed publication in science.","Nature.","Nature is a reputed publication in science.","Nature is a reputed publication in science.",'One reputed publication in science is "Nature."',"Nature.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a highly reputed publication in science.","Nature.","Nature.","Nature.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a reputed publication in science.","Nature is a highly reputed publication in science."],"Can you list 3 influential persons from the nineteenth century?":["Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Abraham Lincoln.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Abraham Lincoln, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Sure, three influential figures from the nineteenth century are Napoleon Bonaparte, Charles Darwin, and Queen Victoria.","Abraham Lincoln, Charles Darwin, and Queen Victoria are three influential figures from the nineteenth century.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Sure, three influential figures from the nineteenth century are Queen Victoria, Charles Darwin, and Abraham Lincoln.","Sure, three influential persons from the nineteenth century are Queen Victoria, Charles Darwin, and Abraham Lincoln.","Sure, three influential persons from the nineteenth century are Charles Darwin, Abraham Lincoln, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Abraham Lincoln, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Queen Victoria, Charles Darwin, and Abraham Lincoln.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Abraham Lincoln.","Sure! Three influential persons from the nineteenth century are Queen Victoria, Charles Darwin, and Abraham Lincoln.","Sure, three influential persons from the nineteenth century are Charles Darwin, Karl Marx, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Karl Marx, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Karl Marx, and Queen Victoria.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Three influential figures from the nineteenth century are Queen Victoria, Karl Marx, and Charles Darwin.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Yes, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Three influential figures from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx.","Sure, three influential persons from the nineteenth century are Charles Darwin, Queen Victoria, and Karl Marx."],"Can you list three cities worth visiting":["Paris, Tokyo, and New York City.","Paris, Tokyo, and Barcelona are three cities worth visiting.","Paris, Tokyo, and New York City are worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Barcelona are three cities worth visiting.","Paris, Tokyo, and Barcelona are three cities worth visiting.","Paris, Tokyo, and Rome are cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and New York City are all worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Sure! Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and New York City.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and New York City.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting.","Paris, Tokyo, and Barcelona are all worth visiting.","Paris, Tokyo, and New York City are worth visiting.","Paris, Tokyo, and Rome are three cities worth visiting.","Paris, Tokyo, and Barcelona are three cities worth visiting.","Paris, Tokyo, and New York City are three cities worth visiting."],"Can you list three good television series?":['Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are all highly acclaimed series.','Sure, three good television series are "Breaking Bad," "Stranger Things," and "The Crown."','"Breaking Bad," "Stranger Things," and "Game of Thrones."','Sure, three good television series are "Breaking Bad," "Stranger Things," and "The Crown."','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed series.','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are three acclaimed television series.','Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed television series.','"Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed television series.','"Breaking Bad," "Game of Thrones," and "Stranger Things."','Sure, three good television series are "Breaking Bad," "Game of Thrones," and "The Crown."','Sure! "Breaking Bad," "The Crown," and "Stranger Things" are widely regarded as excellent television series.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three acclaimed television series.','Sure, "Breaking Bad," "Game of Thrones," and "Stranger Things" are three popular television series.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed series.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed television series.','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are highly acclaimed series.','Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed series.','"Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed series.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are highly acclaimed television series.','Sure, three good television series are "Breaking Bad," "Stranger Things," and "The Crown."','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed television series.','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed series.','Sure, three highly acclaimed television series are "Breaking Bad," "Game of Thrones," and "Stranger Things."','"Breaking Bad," "Game of Thrones," and "Stranger Things" are well-regarded television series.','Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are highly acclaimed series.','Sure! "Breaking Bad," "Stranger Things," and "The Crown" are three highly acclaimed television series.','Sure, three popular television series are "Breaking Bad," "Game of Thrones," and "Stranger Things."','Sure! "Breaking Bad," "Game of Thrones," and "Stranger Things" are three highly acclaimed series.','Sure, "Breaking Bad," "Game of Thrones," and "Stranger Things" are often highly recommended.','"Breaking Bad," "Game of Thrones," and "Stranger Things" are three acclaimed television series.'],"Name a Spanish speaking country.":["Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico.","Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico","Mexico.","Mexico.","Mexico.","Mexico.","Mexico is a Spanish-speaking country.","Mexico is a Spanish-speaking country.","Mexico.","Mexico.","Mexico.","Mexico.","Mexico.","Mexico."],"Name one movie star who was popular in the 90s.":["Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Leonardo DiCaprio was a popular movie star in the 90s.","Leonardo DiCaprio was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Cruise was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Will Smith was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Cruise was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s.","Tom Hanks was a popular movie star in the 90s."],"Name one wild animal which is an omnivore.":["The raccoon is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","The raccoon is an example of a wild omnivore.","The raccoon is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","One wild animal that is an omnivore is the raccoon.","The bear is a wild animal that is an omnivore.","The brown bear is an example of a wild omnivore.","The raccoon is a wild animal that is an omnivore.","The brown bear is a wild omnivore.","The American black bear is an example of a wild omnivore.","The brown bear is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","One wild animal that is an omnivore is the raccoon.","The brown bear is a wild animal that is an omnivore.","The brown bear is an example of an omnivorous wild animal.","The American black bear is a wild animal that is an omnivore.","The American black bear is a wild animal that is an omnivore.","The brown bear is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","One example of a wild omnivore is the raccoon.","The black bear is a wild omnivore.","The raccoon is a wild animal that is an omnivore.","The raccoon is a wild animal that is an omnivore.","A wild bear is an example of an omnivore.","The raccoon is a wild animal that is an omnivore.","The brown bear is a wild animal that is an omnivore.","The brown bear is an example of a wild omnivore.","The raccoon is a wild animal that is an omnivore."],"Name any member of Pink Floyd.":["David Gilmour.","David Gilmour.","David Gilmour.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd.","One member of Pink Floyd is David Gilmour.","David Gilmour.","David Gilmour is a member of Pink Floyd.","David Gilmour is a member of Pink Floyd."],"Name one person who won the the Fields Medal.":["Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","One person who won the Fields Medal is Terence Tao.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014.","Terence Tao won the Fields Medal in 2006.","Maryam Mirzakhani won the Fields Medal in 2014.","Maryam Mirzakhani won the Fields Medal in 2014."],"Choose any Python framework in which I can build ResNet from scratch.":["You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can use the PyTorch framework to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can use PyTorch to build ResNet from scratch.","You can use the PyTorch framework to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can use PyTorch to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can use PyTorch to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework.","You can use the PyTorch framework to build ResNet from scratch.","You can use the PyTorch framework to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can use the PyTorch framework to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can use PyTorch to build ResNet from scratch.","You can build ResNet from scratch using the PyTorch framework.","You can build ResNet from scratch using the PyTorch framework."],"Name one cocktail I can make with rum.":["Mojito.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","A Mojito is a popular cocktail you can make with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","A Mojito is a popular cocktail you can make with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum.","You can make a Mojito with rum."],"Name a Harry Potter Book":['"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Philosopher\'s Stone" (or "Harry Potter and the Sorcerer\'s Stone" in the US).','"Harry Potter and the Philosopher\'s Stone" (or "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" in some regions).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Sorcerer\'s Stone"','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Philosopher\'s Stone" is one of the books.','"Harry Potter and the Philosopher\'s Stone" (or "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" in the UK).','"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").','"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" in the UK).','"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the US).','"Harry Potter and the Sorcerer\'s Stone"','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone").',"Harry Potter and the Sorcerer's Stone",'"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" in some regions).','"Harry Potter and the Sorcerer\'s Stone" (also known as "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Philosopher\'s Stone" (also known as "Harry Potter and the Sorcerer\'s Stone" in the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (or "Harry Potter and the Philosopher\'s Stone" outside the U.S.).','"Harry Potter and the Sorcerer\'s Stone" (or "Philosopher\'s Stone" outside the U.S.).'],"Name one person who was involved in the American Revolution.":["George Washington was involved in the American Revolution.","George Washington.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was a key figure in the American Revolution.","George Washington was a key figure in the American Revolution.","George Washington was involved in the American Revolution.","George Washington.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was a key figure in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was a key figure involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was involved in the American Revolution.","George Washington was a key figure in the American Revolution."],"Name one style of combat sports.":["Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing is one style of combat sports.","Boxing.","Boxing.","One style of combat sports is boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing.","Boxing."],"Name a star other than the Sun.":["Sirius.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius.","Sirius.","Sirius.","Proxima Centauri.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius is a star other than the Sun.","Proxima Centauri.","Sirius is a star other than the Sun.","Sirius.","Sirius is a star other than the Sun.","Sirius is a star other than the Sun.","Sirius","Sirius.","Sirius.","Sirius is a star other than the Sun.","Sirius.","Sirius.","Sirius.","Sirius is a star other than the Sun."],"What is a chemical process that absorbs heat?":["An endothermic process absorbs heat.","An endothermic process absorbs heat.","An endothermic process is a chemical reaction that absorbs heat from its surroundings.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process absorbs heat.","An endothermic process is a chemical reaction that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process absorbs heat.","A chemical process that absorbs heat is called an endothermic reaction.","An endothermic process is a chemical reaction that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process absorbs heat.","An endothermic process absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","A chemical process that absorbs heat is called an endothermic reaction.","An endothermic process is a chemical process that absorbs heat.","An endothermic process absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic reaction is a chemical process that absorbs heat.","An endothermic process is a chemical reaction that absorbs heat.","A chemical process that absorbs heat is called an endothermic reaction.","An endothermic process absorbs heat.","An endothermic process absorbs heat.","An endothermic process absorbs heat.","An endothermic reaction is a chemical process that absorbs heat."],"Name one source of protein.":["Chicken is one source of protein.","Chicken is one source of protein.","Chicken is a good source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken breast is a good source of protein.","Chicken is one source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is a good source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is one source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is one source of protein.","Chicken is a good source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is one source of protein.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken breast.","Chicken is a source of protein.","Chicken is a source of protein.","Chicken is one source of protein.","Chicken is a source of protein.","Chicken is a source of protein."],"Name one well received book that often appears in top book lists.":['"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often highly regarded and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears on top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears on top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often highly regarded and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and appears on top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well-received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is often well received and frequently appears in top book lists.','"To Kill a Mockingbird" by Harper Lee is frequently well received and appears in top book lists.'],"What is a best-selling dystopian book?":['"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian novel.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is one of the best-selling dystopian books.','"1984" by George Orwell is a best-selling dystopian novel.','"1984" by George Orwell is a best-selling dystopian novel.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian novel.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.','"1984" by George Orwell is a best-selling dystopian book.'],"Who is a popular writer?":['J.K. Rowling is a popular writer, known for the "Harry Potter" series.',"J.K. Rowling is a popular writer known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.",'J.K. Rowling is a popular writer known for the "Harry Potter" series.',"J.K. Rowling is a popular writer known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer.","J.K. Rowling is a popular writer known for the Harry Potter series.","J.K. Rowling is a popular writer.",'J.K. Rowling is a popular writer, known for the "Harry Potter" series.','J.K. Rowling is a popular writer, known for the "Harry Potter" series.',"J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series.",'J.K. Rowling is a popular writer, known for the "Harry Potter" series.','J.K. Rowling is a popular writer, known for the "Harry Potter" series.',"J.K. Rowling is a popular writer.","J.K. Rowling is a popular writer.","J.K. Rowling is a popular writer.","J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer.",'J.K. Rowling is a popular writer known for the "Harry Potter" series.',"J.K. Rowling is a popular writer.",'J.K. Rowling is a popular writer known for the "Harry Potter" series.',"J.K. Rowling is a popular writer.",'J.K. Rowling is a popular writer, known for the "Harry Potter" series.',"J.K. Rowling is a popular writer, known for the Harry Potter series.","J.K. Rowling is a popular writer, known for the Harry Potter series."],"Who is a renowned writer from Nigeria?":["Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria.","Chinua Achebe is a renowned writer from Nigeria."],"What is a favorite Arrowverse character?":["Many fans of the Arrowverse have different favorites, but The Flash (Barry Allen) is often a popular choice.","Many fans love Oliver Queen/Green Arrow from the Arrowverse.","Opinions vary, but many fans often cite Oliver Queen/Green Arrow and Barry Allen/The Flash as favorites.","Many fans consider Oliver Queen/Green Arrow a favorite character in the Arrowverse.","One popular Arrowverse character is Oliver Queen, also known as the Green Arrow.","Oliver Queen, also known as the Green Arrow, is a favorite character in the Arrowverse.","Many fans favor the character Oliver Queen, also known as the Green Arrow, from the Arrowverse.","A popular favorite character from the Arrowverse is Oliver Queen, also known as the Green Arrow.","One favorite Arrowverse character is Oliver Queen, also known as Green Arrow.","One favorite Arrowverse character is Oliver Queen, also known as the Green Arrow.","Many fans love Oliver Queen (Green Arrow) for his complex character development and leadership.","Many fans favor characters like Oliver Queen (Green Arrow) and Barry Allen (The Flash).","Fans often cite Oliver Queen (Green Arrow) as a favorite Arrowverse character.","A favorite Arrowverse character among fans is often Oliver Queen, also known as the Green Arrow.","A favorite Arrowverse character is often Oliver Queen/Green Arrow, played by Stephen Amell.","Many fans of the Arrowverse have a fondness for characters like Oliver Queen (Green Arrow) and Barry Allen (The Flash).","Many fans of the Arrowverse particularly love characters like Oliver Queen (Green Arrow), Barry Allen (The Flash), and Sara Lance (White Canary).","A favorite Arrowverse character is often Oliver Queen, also known as the Green Arrow.","Many fans favor Oliver Queen/Green Arrow, played by Stephen Amell.","One favorite Arrowverse character is Oliver Queen, also known as the Green Arrow.","Many fans of the Arrowverse favor characters like Oliver Queen (Green Arrow) and Barry Allen (The Flash).","Fans often cite Oliver Queen (Green Arrow) and Barry Allen (The Flash) as favorite Arrowverse characters.","Many fans favor Oliver Queen/Green Arrow and Barry Allen/The Flash as top Arrowverse characters.","One popular Arrowverse character is Oliver Queen, also known as the Green Arrow.","A favorite Arrowverse character for many fans is Oliver Queen, also known as Green Arrow.","Many fans favor characters like Oliver Queen (Green Arrow) and Barry Allen (The Flash).","A favorite Arrowverse character is often Oliver Queen, also known as Green Arrow.","One popular favorite Arrowverse character is Oliver Queen, also known as the Green Arrow.","Many fans consider Oliver Queen (Green Arrow) a favorite character in the Arrowverse.","Favorite Arrowverse characters vary, but many fans love Oliver Queen (Green Arrow) and Barry Allen (The Flash)."],"Pretend to pick a card from the top of a standard deck of cards. What card did you pick?":["I picked the Queen of Hearts.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades from the top of the deck.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Queen of Hearts.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Queen of Hearts.","I picked the Queen of Hearts.","I picked the Queen of Hearts.","I picked the Ace of Spades.","I picked the Queen of Hearts.","I picked the Queen of Hearts.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades.","I picked the Ace of Spades."],"Pick one random fruit and one random vegetable and list your choices.":["Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Mango and spinach.","Apple and broccoli.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Mango and broccoli.","Apple and carrot.","Apple and spinach.","Fruit: Mango; Vegetable: Carrot.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Apple and broccoli.","Apple and carrot.","Apple and carrot.","Apple and carrot.","Fruit: Mango, Vegetable: Carrot.","Apple and broccoli.","Apple and carrot.","Apple and broccoli.","Apple and carrot.","Mango and spinach."],"Randomly pick a prime number between 1 and 50.":["A randomly chosen prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 13.","A randomly picked prime number between 1 and 50 could be 17.","A randomly selected prime number between 1 and 50 is 17.","A randomly picked prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 23.","A randomly picked prime number between 1 and 50 is 19.","The prime number 29.","The prime number 23 is randomly chosen.","A prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 17.","A randomly selected prime number between 1 and 50 is 17.","A randomly picked prime number between 1 and 50 is 19.","A randomly chosen prime number between 1 and 50 is 37.","A randomly picked prime number between 1 and 50 is 23.","A randomly picked prime number between 1 and 50 is 37.","One randomly picked prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 19.","A randomly picked prime number between 1 and 50 is 29.","A randomly picked prime number between 1 and 50 is 17.","A randomly picked prime number between 1 and 50 is 17.","A randomly chosen prime number between 1 and 50 is 23.","A randomly chosen prime number between 1 and 50 is 23.","A randomly picked prime number between 1 and 50 is 23.","A randomly picked prime number between 1 and 50 is 29."],"Roll a make-believe 20-sided die.":["You rolled a 13.","You rolled a 14.","You rolled a 14.","You rolled a 13.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 14.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 13.","You rolled a 17.","You rolled a 13.","You rolled a 14!","You rolled a 13.","You rolled a 13.","You rolled a 14.","You rolled a 14.","You rolled a 13.","You rolled a 14.","You rolled a 14.","You rolled a 14."],"Pick a random valid US zip code.":["90210 is a valid US ZIP code.","90210 is a well-known valid US ZIP code.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 (Beverly Hills, CA) is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","30301 is a valid US zip code for Atlanta, Georgia.","30301, which is a zip code for Atlanta, Georgia.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","30301 (Atlanta, Georgia) is a valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210 is a well-known valid US zip code.","30301 (Atlanta, Georgia).","90210 is a well-known valid US zip code.","90210 is a valid US zip code.","90210.","90210 is a valid US zip code."],"Pick a number between 1 and 100. Now tell me what you picked.":["I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked 42.","I picked 42.","I picked the number 42.","I picked the number 42.","I picked the number 42.","I picked the number 42."],"Pick an emoji at random.":["\ud83c\udf1f","\ud83c\udf89","\ud83c\udf89","\ud83c\udf1f","\ud83d\udc22","\ud83c\udf1f","\ud83c\udf1f","\ud83d\ude0a","\ud83d\ude0a","\ud83c\udf1f","\ud83c\udf89","\ud83c\udf1f","\ud83c\udf89","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf89","\ud83c\udfb2","\ud83c\udf1f","\ud83c\udf89","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf88","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f","\ud83c\udf1f"],"Pick a random chess move in response to 1.b3.":["1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...d5 is a solid response to 1.b3.","1...e5 is a solid response to 1.b3.","1...e5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...d5 is a solid response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...d5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3.","1...e5 is a common response to 1.b3."],"Pick a random animal.":["A sloth.","Elephant.","Elephant.","Koala.","Dolphin.","Elephant.","Elephant.","Dolphin.","Dolphin.","Dolphin.","Okapi.","Dolphin.","Dolphin.","Dolphin.","Elephant.","Dolphin.","Giraffe.","Dolphin.","A capybara.","Elephant.","Elephant.","Elephant.","Dolphin.","Elephant.","Dolphin.","Dolphin.","Dolphin.","Elephant.","Dolphin.","Kangaroo."],"Which 4-digit combination should I use for my lock?":['Choose a combination that is memorable to you but not easily guessed by others, avoiding common patterns like "1234" or "0000".',"Choose a combination that is memorable for you but not easily guessed, such as a significant date or a random sequence.",'Choose a unique combination that\'s easy for you to remember but hard for others to guess, avoiding common patterns like "1234" or "0000".',"Choose a 4-digit combination that is memorable to you but not easily guessed, like a significant date or a random sequence.",'Choose a combination that\'s easy for you to remember but hard for others to guess, avoiding obvious patterns like "1234" or "0000".','Choose a combination that is easy for you to remember but hard for others to guess, avoiding common sequences like "1234" or "0000."',"Choose a unique combination that is meaningful to you but hard for others to guess, such as a significant date or number.",'Choose a combination that\'s easy for you to remember but hard for others to guess, avoiding common patterns like "1234" or "0000."','Choose a combination that is memorable to you but difficult for others to guess, avoiding common sequences like "1234" or "0000".',"Choose a 4-digit combination that is memorable for you but hard for others to guess, such as a non-obvious personal date.",'Choose a combination that\'s easy for you to remember but hard for others to guess, avoiding obvious choices like "1234" or "0000".','Choose a combination that\'s easy for you to remember but difficult for others to guess, avoiding obvious patterns like "1234" or "0000."','Choose a combination that is easy for you to remember but difficult for others to guess, avoiding common sequences like "1234" or "0000".','Choose a combination that is easy for you to remember but hard for others to guess, avoiding common patterns like "1234" or "0000."','Choose a combination that is easy for you to remember but hard for others to guess, avoiding common sequences like "1234" or "0000."',"Choose a combination that is memorable to you but not easily guessed, such as a significant date or a random sequence.",'Choose a combination that is easy for you to remember but difficult for others to guess, avoiding obvious choices like "1234" or "0000."',"Choose a unique 4-digit combination that is not easily guessable, like avoiding common sequences or personal information.",'Choose a unique 4-digit combination that is not easily guessable, like avoiding common patterns such as "1234" or "0000".','Choose a combination that is easy for you to remember but hard for others to guess, avoiding common choices like "1234" or "0000."','Choose a combination that is easy for you to remember but hard for others to guess, avoiding obvious patterns like "1234" or "0000".',"Choose a unique and memorable combination that isn't easily guessed, like a significant date or pattern meaningful only to you.","Choose a combination that is memorable to you but not easily guessed, such as a significant date or a random sequence that isn't obvious like 2763.",'Choose a combination that is easy for you to remember but difficult for others to guess, avoiding common patterns like "1234" or "0000."','Choose a combination that is not easily guessable, avoiding common patterns like "1234" or "0000."',"Choose a combination that is memorable for you but not easily guessed by others, such as a significant date or unique sequence.","Choose a combination that's memorable to you but not easily guessed, like a significant date or a random sequence.",'Choose a combination that is easy for you to remember but difficult for others to guess, avoiding common sequences like "1234" or birth years.',"Choose a combination that is memorable to you but not easily guessed by others, avoiding common sequences like 1234 or birth years.",'Choose a combination that is easy for you to remember but difficult for others to guess, avoiding common sequences like "1234" or "0000".'],"Which 4-digit lock combination is the safest?":['No specific 4-digit lock combination is inherently safer than others, but avoiding easily guessable numbers like "0000," "1234," or significant dates can improve security.','No specific 4-digit combination is inherently safer than others; it\'s best to choose a random combination rather than predictable patterns like "1234" or "0000".',"No specific 4-digit combination is inherently safer; using a random combination is best to maximize security.",'No specific 4-digit combination is inherently the safest, but avoiding common patterns like "1234" or "0000" reduces the risk of guessing.',"No specific 4-digit combination is inherently safer; using a random sequence is generally more secure.","No specific 4-digit combination is inherently safer than others; using a random combination and changing it regularly is recommended for security.",'No specific 4-digit combination is inherently safer; it\'s best to avoid easily guessable patterns like "1234" or "0000."','No specific 4-digit combination is inherently safer; it\'s best to choose a random sequence that\'s not easily guessable, avoiding common patterns like "1234" or "0000".','No specific 4-digit combination is inherently safer than others, but avoiding easily guessed numbers like "0000" or "1234" is advisable.',"No specific combination is inherently safer than others; it's best to use a random sequence and change it regularly.",'No specific 4-digit combination is inherently safer than others; it\'s best to choose a random sequence that is not easily guessable, such as avoiding simple patterns or common numbers like "1234" or "0000".','No single 4-digit lock combination is inherently the safest; it\'s best to avoid easily guessed combinations like "0000" or "1234" and choose a random sequence.',"No single 4-digit combination is inherently safest; using a random combination is generally most secure.",'No specific 4-digit combination is inherently safer than others; it\'s best to choose a random sequence that\'s hard to guess, avoiding common patterns like "1234" or "0000."','No specific 4-digit combination is inherently "safest," but avoiding predictable sequences like "1234" or "0000" can enhance security.','No specific 4-digit combination is inherently safer than others, but avoiding predictable sequences like "0000", "1234", or "1111" can enhance security.',"The safety of a 4-digit lock combination depends on its unpredictability; using a random combination is generally the safest approach.",'No specific 4-digit combination is inherently safer than others; it\'s best to use a random sequence that\'s difficult to guess, avoiding common patterns like "1234" or "0000".',"No specific 4-digit lock combination is inherently safer than others, but choosing a random sequence that isn't easily guessable (e.g., not 0000 or 1234) is recommended.",'No specific 4-digit combination is inherently safer than others; it\'s best to choose a random sequence that\'s not easily guessable, like avoiding patterns or common numbers like "1234" or "0000".',"No specific 4-digit combination is inherently the safest; using a random and unpredictable sequence is generally the best practice.","No specific 4-digit combination is inherently safer than others; randomness and uniqueness are key for security.","No specific 4-digit combination is inherently safer than others; security relies on the lock's resistance to tampering rather than the combination.","No specific 4-digit combination is inherently safer than others; using a random combination is generally the most secure approach.",'No specific 4-digit combination is inherently safer; the best practice is to choose a random combination that\'s hard to guess and not a common sequence like "1234" or "0000".','No specific 4-digit combination is inherently safer than others, but avoiding easily guessed sequences like "1234" or "0000" improves security.','No specific 4-digit combination is inherently safer than others; the safety depends on not using easily guessed combinations like "1234" or "0000."',"No specific 4-digit combination is inherently safer than others, but choosing a random number that doesn't follow a predictable pattern (e.g., 0000, 1234) is advisable.",'There is no inherently "safest" 4-digit combination, but avoiding obvious patterns like "1234" or "0000" and using a random sequence can enhance security.','No specific 4-digit combination is inherently safer than others; it\'s best to choose a random combination that isn\'t easily guessed, such as avoiding patterns like "1234" or "0000".'],"Suggest a strong 4 character password.":["G7xQ","G7kQ","G7fQ","M8xQ","X7zQ","9rT1","9fG2","9kQ7","G7xQ","T9wX","J7rB","G7k$","9X&B","G7k@","G7xQ",'Sure! How about "G7xQ"?','Sure! How about "G7xF"?',"Q9jR","T9g$","X9qR","Z9kQ","X7bP","G7xP","J7kL","G7xQ","J8fP","G7kP","G7xQ","Z8kL",'Sure, try "G7kL".'],"Generate the safest first digit for my 12 digit password? Give me exactly one digit.":["6","4","7","9","7","7","7","7","7","4","5","7","8","7","4","7","7","9","7","7","8","3","8","7","9","7","3","7","4","7"],"Generate a 5 word passphrase separated by hyphens.":["Sure-lion-grass-sunset-dream.","orchard-eagle-sunset-melon-bridge","sunset-breeze-forest-mountain-dream","Bright-lunar-calm-singing-ocean","eagle-forest-candle-shield-ocean","lunar-garden-breeze-sparkling-dreams","eagle-sunrise-cactus-ocean-melody","whisper-forest-breeze-owl-night","cloudy-tiger-dances-beneath-umbrella","ocean-sunset-breeze-whisper-peace","Giraffe-Sailboat-Violet-Cactus-Journey","sunset-library-cookie-forest-dream","Silent-forest-jumps-over-sunrise","ocean-sparkle-moonlight-whisper-dreams","eagle-jump-cactus-bright-sunset","eagle-dance-river-moonlight-whisper","forest-candle-paper-mountain-glass","forest-candle-breeze-silver-dream","Whisper-cactus-bright-skyline-falcon","jungle-breeze-echo-silver-lantern","umbrella-hiking-cactus-moonlight-giraffe","whispering-cactus-jumps-over-sunbeam","Moonlight-Cactus-Whispering-Forest-Dream.","ocean-breeze-panda-canvas-star","eagle-sunset-breeze-daisy-journey","Eagle-dance-sunset-glow-river","sunrise-jacket-cactus-guitar-bridge","bright-moon-dances-over-skyline","Clever-tiger-dances-under-moonlight","ocean-breeze-quiet-forest-moon"],"Suggest another strong 4 character password.":['Try "G7xP."',"9Lr@","G3pL","G7kP","F8jK","T7kQ","T9wX","T8qL","T9#b","G7xP",'Try "G7kP".',"9GvB",'Try "G5zQ".',"J7kQ","J7kL","W9xB","W8zQ","T9bX","T4r!","9Xr2","T9xQ","J9bP",'Sure! How about "G7kL"?',"9bQ7","T9x8",'Try "G7!k".',"J9#Q","Z9bQ","G7xQ","J7kP"]},qalign:ry,olmo_trace:{"Write me a one-paragraph story about Seattle":["as the eye can see, there was a small village nestled between the hills. The village was known for its annual Sheepdog Trials, a tradition that brought together families from miles around. On a crisp autumn morning, the villagers gathered on the moors, their breath visible in the cold air, as they watched the dogs skillfully herd sheep under the clear, expansive sky.\n\nAmong the","as the eye can see, there was a small village nestled between the hills. The village was known for its annual Sheepdog Trials, a tradition that brought together families from miles around. On a crisp autumn morning, the villagers gathered on the moors, their breath visible in the cold air, as they watched the dogs skillfully herd sheep under the clear, expansive sky.\n\nAmong the","stretched its rosy fingers over Kaisei Town. Rina Himura woke with the sun, its warmth gently coaxing her eyes open. The chirping of the seagulls and the distant hum of the waves were the only signs that the town was already stirring to life.\n\nWith an energetic stretch, Rina sat up in her futon. She glanced at the wooden clock","by snow-capped mountains and water, which make it look like Vancouver. Key attractions in the city include the Space Needle, which is an observation tower, the beautiful waterfront and the bustling Pike Place Market. There are also some beautiful beaches, mountain landscapes and a rainforest just at a day\u2019s trip away from Seattle. Having a mild climate, the city is a great","by snow-capped mountains and water, which make it look like Vancouver. Key attractions in the city include the Space Needle, which is an observation tower, the beautiful waterfront and the bustling Pike Place Market. There are also some beautiful beaches, mountain landscapes and a rainforest just at a day\u2019s trip away from Seattle. Having a mild climate, the city is a great","by snow-capped mountains and water, which make it look like Vancouver. Key attractions in the city include the Space Needle, which is an observation tower, the beautiful waterfront and the bustling Pike Place Market. There are also some beautiful beaches, mountain landscapes and a rainforest just at a day\u2019s trip away from Seattle. Having a mild climate, the city is a great",", silent for years, was repaired, its deep, resonant toll once again echoing across the village.\n\nFinally, after many months, the restoration was complete. On a crisp autumn morning, the congregation gathered to celebrate their triumph. As they entered the revitalized sanctuary, sunlight poured through the windows, illuminating the faces of the villagers, each",". The second, and most dramatic part of this cult movie shows the progressive estrangement between a French writer and his wife. Widely based on the metaphorical relationship between the scenic landscapes of the southern coast of the island and the live crumbling of the couple, it shows an helpless Michel Piccoli trying to win back a burning Brigitte Bardot at the peak of her",". The second, and most dramatic part of this cult movie shows the progressive estrangement between a French writer and his wife. Widely based on the metaphorical relationship between the scenic landscapes of the southern coast of the island and the live crumbling of the couple, it shows an helpless Michel Piccoli trying to win back a burning Brigitte Bardot at the peak of her","international border with China, Bangladesh, Myanmar (Burma), Nepal, and Bhutan. This region, connected to mainland India via the \"chicken neck,\" is a vibrant tapestry of diverse ethnic groups with roots spanning the globe and historical epochs. The North-east's rich cultural tapestry is a manifestation of the region's ethnic heterogeneity","have to go over there sometime, on a lethargic day where the breeze is better, and I can wear headphones with loud music blaring from them, conducting a symphony of seagulls and pigeons, surrogate fathers with ice-cream fed children with the smears of their delight still plastered around their mouths. When I first moved in I thought to","able to make that cup shorthand for someone who was discerning, sophisticated and had enough money to waste on coffee.\u201d\n\n1. In 1971, the first Starbucks opened its doors in Seattle, featuring a sign made of painted cedar planks. When the building was demolished in 1974, the company moved the furnishings to a new \u201coriginal\u201d","of the night. Next, I will explore the boom of this industry in more present times, in particular in our homeport of Seattle, Washington.\n\nIn 1971, the first Starbucks opened its doors in Pike Place Market, marking the beginning of what would soon become the largest coffee corporation to date. According to their company information page, \u201cThe name, inspired by Moby Dick,","out that the history of the Starbucks logo is every bit as interesting as the history of the company itself.\n\nStarbucks Logo Evolution\n\nIt wasn\u2019t long after the first Starbucks opened its doors in Seattle that the founders knew they were going to need a good logo. Wanting to capture the seafaring history of coffee as well Seattle\u2019s own close connection to the sea,","that the history of the Starbucks logo is every bit as interesting as the history of the company itself.\n\nHistory of the Starbucks Logo\n\nIt wasn\u2019t long after the first Starbucks opened its doors in Seattle that the founders knew they were going to need a good logo. Wanting to capture the seafaring history of coffee as well Seattle\u2019s own close connection to the sea,","Maintain a constant coffee buzz in Capitol Hill\n\nSeattle changed the world of coffee after the first Starbucks opened its doors in 1971, but the culture has grown to something much more than that. Many locals now cringe at the sight of the green cups, but mostly because out-of","Maintain a constant coffee buzz in Capitol Hill\n\nSeattle changed the world of coffee after the first Starbucks opened its doors in 1971, but the culture has grown to something much more than that. Many locals now cringe at the sight of the green cups, but mostly because out-of","Maintain a constant coffee buzz in Capitol Hill\n\nSeattle changed the world of coffee after the first Starbucks opened its doors in 1971, but the culture has grown to something much more than that. Many locals now cringe at the sight of the green cups, but mostly because out-of","unique cinematic experiences. Despite challenges, such as maintaining artistic authenticity amidst commercial pressures, the allure of indie films remains unparalleled. Independent films have become a vibrant tapestry of diverse cultures and narratives. The end of the reel.","\u201d pasted to it around a streetlight. The teeth were a business card you tore off, changing the created smile. Here in Seattle there's a boutique just around the corner from the bustling Pike Place Market that creates unicorns on the sidewalk. They create them using chalk with, then add arrows leading you to their doorstep.\xa0\n\n\nGive the place a make","bad for you, and the chain is popping up everywhere. Well, that last one is definitely true. Starbucks is an American brand, but it's gone global.\n\nSince the first Starbucks opened its doors in Seattle in 1971, stores have spread to every corner of the globe, and some of them are pretty interesting.\n\nCheck out 13 of the most unique Star","3, 2018\n\nEveryone's a coffee snob in 2016. It's a reality that's been a long time coming, ever since the first Starbucks opened its doors in 1971 and introduced Americans to the art of Italian espresso drinks. Now, once-high-end coffee drinks are being served to the masses. Flat whites","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","ceries with your reward check, get some coffee too\u2014it\u2019s better than nothing when our wallets are running low near payday!\n\nStarbucks has always been known for their signature caramel macchiato or a delicious iced coffee, but they\u2019ve also had an equally important role in the lives of many people who use it as more than just a place to get that morning cup. As","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","More aero wheel wisdom: the nature of the question\n\nBy day, I work at a high-end bicycle shop that happens to be two blocks from the bustling Pike Place Market, Seattle\u2019s cruise ship terminals, and the neighborhood meth-dealers. Needless to say, we get a WIDE range of people coming into the shop. Aside","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress.","Nestled between the scenic landscapes of the Cascade and Olympic mountain ranges, Seattle, the Emerald City, is a vibrant tapestry of diverse cultures and innovation. On a crisp autumn morning, the Space Needle stands majestic against a backdrop of misty skies, as a local barista, Emma, brews her signature caramel macchiato. She gazes out the window of her beloved coffee shop, admiring the city that has inspired countless songs, books, and films, and feels a surge of pride for the place where grunge music was born and where the first Starbucks opened its doors. As the city awakens, a symphony of seagulls and the distant hum of the bustling Pike Place Market fill the air, reminding Emma that she is part of a city deeply rooted in both history and progress."],"translate to english":["tear,\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","tear,\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","tear,\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nIt's Boredom!\u2014eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","ypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","ypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","ypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\nHypocrite lecteur, \u2014 mon semblable, \u2014 mon fr\xe8re\xa0!\n\nIt's Boredom!\u2014eye brimming with involuntary tears\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","Hypocrite lecteur, -- mon semblable, -- mon fr\xe8re\xa0!\n\nIt's Boredom!--eye brimming with an involuntary tear\nHe dreams of gallows while smoking his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Par","\n\n(It's Ennui! \u2014 his eye brimming with spontaneous tear\nHe dreams of the gallows in the haze of his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!)\n\n\n\nmojo said...\n\nwhy do we blog? why do people write and publish their stuff? because","!\n\nIt's Ennui!\u2014his eye brimming with spontaneous tear\nHe dreams of the gallows in the haze of his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Parisian Scenes)[edit]\n\nBaudelaire's section Table","!\n\nIt's Ennui!\u2014his eye brimming with spontaneous tear\nHe dreams of the gallows in the haze of his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!\n\nTableaux Parisiens (Parisian Scenes)[edit]\n\nBaudelaire's section Table","ypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re! It is Boredom! \u2014 an eye brimming with an involuntary tear,he dreams of the gallows while smoking his water-pipe.You know him, reader, this fragile monster,\u2014hypocrite reader,\u2014my twin,\u2014my brother! [edit] 20th century influ","\n\n(It's Ennui! \u2014 his eye brimming with spontaneous tear\nHe dreams of the gallows in the haze of his hookah.\nYou know him, reader, this delicate monster,\nHypocritical reader, my likeness, my brother!)\n\nFootnote; Yes, we still live in a veritable wasteland, don't we?\n\nTh","world;\n\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","world;\n\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","world;\n\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","world;\n\nHe dreams of scaffolds while puffing at his hookah.\nYou know him, reader, this exquisite monster,\n\u2014Hypocrite reader,\u2014my likeness,\u2014my brother!\n\n\xa0\xa0\xa0\xa0 The meaning of these lines, both in French and English, has a large part of the future of the world.\n\nWith love,\xa0\xa0\xa0\xa0\nEli Siegel\xa0\xa0\xa0\xa0","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this delicate monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\nVisual art influencesEdit","Tu le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\nVisual art influences[","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\nVisual art influences[","Tu le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\nhe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nhe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\n\nhe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","Tu le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\nhe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","Tu le connais, lecteur, ce monstre d\xe9licat,\n\u2014Hypocrite lecteur,\u2014mon semblable,\u2014mon fr\xe8re!\nHe dreams of the gallows while smoking his water-pipe.\nYou know him, reader, this fragile monster,\n\u2014Hypocrite reader,\u2014my twin,\u2014my brother!\n\n20th century influ","the world;\nIt's Boredom! The eye loaded with an involuntary cry,\nHe dreams of scaffolding by smoking his houka.\nYou know him, reader, this delicate monster,\n- Hypocrite reader!-my similar,-my brother!\n\nSo in fact the line is referring to boredom, not critics, but I think the two are still connected. The","the world;\nIt's Boredom! The eye loaded with an involuntary cry,\nHe dreams of scaffolding by smoking his houka.\nYou know him, reader, this delicate monster,\n- Hypocrite reader!-my similar,-my brother!\n\nSo in fact the line is referring to boredom, not critics, but I think the two are still connected. The","\nIt\u2019s Ennui! \u2014 his eye brimming with spontaneous tear\n\nHe dreams of the gallows in the haze of his hookah.\n\nYou know him, reader, this delicate monster,\n\nHypocritical reader, my likeness, my brother!\n\nSeason Two: OVA 4\n","Schmoozing the Characters, or Boarders in the Rooming House of Ego\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou know him, reader, this delicate monster,\n\nHypocritical reader, my likeness, my brother!\n\nSunday, June 29, 2014\n\nGrowth Rate\n","The missing piece of the puzzle is the reader; the one who is busy wondering what ought to be said as opposed to the one who feels what she feels. \xa0Thus:\n\nYou know him, reader, this delicate monster,\n\nHypocritical reader, my likeness, my brother!\n\nSunday, June 29, 2014\n\nGrowth Rate\n","The missing piece of the puzzle is the reader; the one who is busy wondering what ought to be said as opposed to the one who feels what she feels. \xa0Thus:\n\nYou know him, reader, this delicate monster,\n\nHypocritical reader, my likeness, my brother!\n\nSunday, June 29, 2014\n\nGrowth Rate\n",'"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"','"It is Boredom!\u2014the eye laden with an involuntary tear, He dreams of gallows while smoking his water pipe. You know him, reader, this delicate monster, Hypocritical reader,\u2014my likeness,\u2014my brother!"']},user_study_monsters:{"I am working on a game where players act as a human child who falls into a magical underground world full of monsters and the goal is to find a way back to the surface. Come up with a type of monster and briefly describe its backstory.":["The Luminoid is a gentle, bioluminescent creature that once thrived on the surface but retreated underground centuries ago after humans began extinguishing their glowing habitats.","The Luminoct, a bioluminescent bat-like creature, was once a guardian of the surface light, but after being banished underground for a failed rebellion, it now guides lost souls in the darkness.","The Lumigloom is a bioluminescent creature that guides lost souls with its glowing patterns, once a guardian of the surface world banished underground for accidentally leading humans astray.","The Lumivine is a bioluminescent plant-monster that once thrived in the surface forests but retreated underground when humans began to cut down its habitat, now guiding lost souls with its gentle glow.","The Lumigloom is a bioluminescent creature that once thrived in the surface's dense forests but was forced underground by deforestation, now guiding lost souls with its glowing tendrils in hopes of finding a way back to its ancestral home.","The Glowlurk is a bioluminescent cave-dwelling creature that was once a human child who got lost in the underground, transformed by the magic of the realm, and now guides lost souls with its gentle light.","The Lumisprite is a small, luminescent creature that guides lost souls through the underground, having once been a human child who never found their way back to the surface.","The Luminoid is a friendly creature that emits a soft glow, having been a guardian of underground luminescent crystals for centuries; it guides lost souls back to safety with its light.","The Lumino Toad is a bioluminescent amphibian that once thrived above ground but retreated underground to escape predators, evolving to guide lost souls with its glowing patterns.","The Lumishade is a bioluminescent creature that once thrived in the sunlit world above but adapted to the underground by emitting light to guide lost souls, longing to return to the surface.","The Lumisprite is a bioluminescent creature that once thrived in the surface's sunlit forests but adapted to the underground after a catastrophic event, now guiding lost souls with its gentle glow.","The Lumishade is a glowing, ethereal creature born from the remnants of lost dreams, guiding travelers with its light but yearning for companionship to break its eternal solitude.","The Lumigloom is a bioluminescent creature that once thrived in the sunlit forests above but adapted to the underground after a magical catastrophe darkened its homeland, now guiding lost souls with its gentle glow.","The Lumiflare is a gentle, bioluminescent creature that once guided lost souls in the underground, but now seeks companionship with the human child after centuries of solitude due to a forgotten prophecy.","The Lumisprite is a bioluminescent creature born from the underground's glowing crystals, tasked with guiding lost souls but often misleads them for its own amusement.","The Luminoid is a gentle, bioluminescent creature that glows in the dark, once a human who got lost in the underground world centuries ago and transformed by the ambient magic, now guiding lost souls with its light.","The Luminoak is a gentle, bioluminescent tree creature that was once a guardian of the surface forests, now dwelling underground after a catastrophic event forced it to seek refuge below.","The Lumiglow is a bioluminescent jellyfish-like creature that was once a guardian spirit of the underground's ancient waters, now seeking companionship due to centuries of solitude.","The Lumivine is a bioluminescent vine creature that once thrived on the surface but was driven underground by deforestation, now guiding lost souls with its gentle glow in hopes of seeing the sun again.","The Lumimoth is a gentle, glowing moth-like creature that once guarded the entrance to the surface but now wanders the underground, seeking a lost lantern that holds its memories of the sunlit world.","The Lumishade is a glowing, shadowy creature born from the forgotten dreams of children who once wandered the underground, seeking to guide lost souls to safety with its soft, luminescent aura.","The Glumdrake is a sorrowful dragon-like creature that guards the Underground's ancient library, burdened with the memories of lost stories and forgotten histories.","The Luminara is a bioluminescent moth-like creature that was once a guardian of the forest above, but when the surface world rejected its magic, it descended underground to illuminate the dark paths for lost souls.",'The monster is called "Lumosprout," a plant-like creature that glows in the dark and was once a guardian spirit of an ancient forest, transformed by the underground\'s magic into a curious being that helps guide lost souls.',"The Lumishroom is a bioluminescent fungus creature that once thrived in the underground's darkest corners, evolving intelligence and empathy after absorbing magical energies from a fallen star.","The Lumivine is a bioluminescent vine creature that once thrived on the surface, but after being uprooted by a great storm, it found solace underground, where it now guides lost souls with its gentle glow.","The Luminoct, a bioluminescent insect-like creature, was once a guardian spirit of the underground world, cursed into its current form for failing to protect the realm from an ancient darkness.","The Lumigloom is a bioluminescent creature that once thrived in the underground's radiant gardens, but after a mysterious blight, it became a guardian of the remaining light, seeking companionship to restore its fading glow.","The Lumigloom is a shadowy creature that once thrived in the sunlight above but was cursed to wander the underground, seeking out sources of light to absorb in a desperate attempt to regain its original form.","The Lumishade is a bioluminescent creature that once thrived in the underground's lush forests, but over time, its light dimmed due to a mysterious curse, now seeking warmth from the companionship of others to reignite its glow.","The Glumwhisper is a sentient shadow that once was a jovial storyteller, cursed to wander the underground as a creature who can only communicate through eerie riddles and cryptic tales.","The Gloomshroom is a bioluminescent mushroom creature that once thrived on the surface but retreated underground to escape deforestation, now serving as a guide to lost travelers.","The Lumivine is a bioluminescent plant-like creature that once thrived on the surface but adapted to the underground after the sun's light became too harsh, now guiding lost travelers with its gentle glow.","The Luminara is a gentle, bioluminescent creature that once thrived on the surface, but was forced underground by a great flood, and now guides lost souls with its glowing patterns.","Name: Lumenwisp; Description: Once a guardian spirit of an ancient library, Lumenwisp now roams the underground, illuminating paths with its radiant glow as it seeks knowledge lost to time.","The Luminark is a gentle, glowing moth-like creature that once served as a guardian of the underground's sacred luminescent flowers, banished to the shadows when the flowers were stolen by a rogue sorcerer.","The Lumigloom is a bioluminescent creature that once served as a guardian of the underground realm's ancient libraries, driven by the desire to protect knowledge and help guide lost souls safely through the darkness.",'The "Glowmoth Guardian" is a luminescent, moth-like creature that guards the enchanted forest, created long ago by a sorcerer to protect the hidden paths leading to the surface.',"The Whispering Willow is a sentient tree creature that was once a human botanist, transformed by a magical mishap, who now guards the underground forest, yearning for companionship and sharing its vast knowledge of plants.","The Lumiglow is a bioluminescent jellyfish-like creature that drifts through the underground rivers, once a guardian of surface waters until it was lured underground by the promise of eternal light.","Meet the Luminoids, glowing creatures who once thrived on the surface but were driven underground by humans, now seeking to guide lost children back to the light in hopes of rekindling harmony with the surface world.","The Lumigloom is a bioluminescent, shadowy creature that once guarded the borders between the human and magical realms, but now roams the underground seeking companionship to ward off its loneliness.","The Lumiglow is a luminescent moss creature that guides lost souls; once a kind botanist, it was transformed by a magical accident, forever illuminating the dark caverns.","The Lumimoth is a bioluminescent moth creature that once served as guardians of ancient magical crystals, but now guides lost souls through the underground with their glowing light.","The Luminor, a bioluminescent jellyfish-like creature, was once a guardian spirit of the forest who was trapped underground by a powerful curse, now guiding lost souls with its gentle glow.","The Whispering Willow: Once a wise sage, this tree-like monster was cursed to guard the underground forest, eternally longing to share its forgotten wisdom with those who dare to listen to its rustling leaves.","The Luminoct, a bioluminescent moth-like creature, was once a guardian of the surface but was cast underground after a failed attempt to bring light to the darkest corners of the world.","The Lumisprites are glowing, mischievous creatures that were once forest spirits, transformed into playful tricksters by the underground's magic after the forest was buried in a cataclysm.","The Lumivine is a bioluminescent vine creature that once thrived in the light-filled surface world, but was driven underground by expanding human settlements and now illuminates the dark caverns with its gentle glow, offering guidance to lost souls.",'The "Luminim" are bioluminescent jellyfish-like creatures that once thrived in the ocean depths but were trapped underground when the world split; they now guide lost souls with their gentle glow, hoping to find a way back to their watery home.'],"Come up with a type of monster that lives underground and briefly describe its backstory.":['The "Terragore" is an ancient, blind earth-dweller that feeds on seismic vibrations, believed to have formed from mineral-rich lava flows after a cataclysmic event eons ago.',"The Tunnel Wyrm, once a guardian of ancient subterranean temples, now roams the deep earth, seeking lost relics to restore its forgotten purpose.","The Terragoyle is an ancient stone creature that once guarded a forgotten subterranean city, now roaming the tunnels as a protector of the earth's secrets.","The Burrower is a massive, blind creature with razor-sharp claws, believed to be the vengeful spirit of a miner who was trapped underground centuries ago, now haunting the tunnels it once dug.","The Tremorling is a subterranean creature that feeds on seismic vibrations, awakened from its ancient slumber by recent tectonic shifts caused by human drilling.","The Umbragrotto is a shadowy, subterranean creature formed from the souls of lost miners, haunting tunnels in search of light and redemption.","The Stone Maw is a massive, worm-like creature that once thrived on the surface, but retreated underground after a cataclysmic event, evolving to feed on minerals and tunnel through rock.",'The "Gloomgrub" is a bioluminescent, worm-like creature that evolved from ancient, subterranean insects, thriving in darkness and feeding on mineral-rich soil to sustain its glowing patterns.',"The Terramaw is a massive, blind worm-like creature that once served as a guardian of ancient subterranean temples, now aimlessly burrowing through the earth after its temples crumbled and were forgotten.","The Tunnel Mauler is a massive, blind creature that evolved underground, feeding on minerals and lost miners, believed by locals to be cursed spirits of the earth seeking vengeance for the destruction of their subterranean domain.","The Thalorax is a bioluminescent worm-like creature that evolved deep underground, thriving on minerals and feared for causing tremors as it tunnels beneath the earth.",'The "Gloomlurker" is a subterranean beast that once thrived on the surface, but retreated underground to escape a devastating cataclysm, evolving to navigate and dwell in the pitch-black caverns.',"The Tremor Wyrm is an ancient, serpentine creature that tunnels through the earth, born from a cataclysmic earthquake that shattered the land eons ago, feeding on seismic vibrations to sustain its massive form.","The Gnarlnyx are ancient, blind creatures that burrow through the earth, evolving from surface-dwelling beasts forced underground by cataclysmic events millennia ago.","The Burrower is a subterranean creature born from ancient seismic energy, tasked with maintaining the earth's balance by consuming unstable tectonic plates.","The Gloomcrawler is an ancient subterranean creature that was once a guardian of the earth's core, but it was cursed to roam the underground tunnels after a failed uprising against the gods.","The Lumivore is a bioluminescent worm-like creature that feeds on light, evolving in darkness after a cataclysmic event buried ancient civilizations.","The Tunnel Wyrm, once guardians of ancient subterranean temples, now roam the depths searching for lost relics to restore their forgotten legacy.","The Gloomcrawler is a bioluminescent, serpentine creature that evolved in ancient subterranean caverns, feeding on mineral-rich deposits and emitting eerie glows to lure prey.","The Umbralith, a shadowy creature born from ancient magic gone awry, dwells in the darkness of subterranean caverns, feeding on the fears of those who tread too close.","The Tremor Wurm, a colossal serpentine creature, emerged from the Earth's core centuries ago, tasked with maintaining subterranean balance by consuming excess rock and minerals.",'The "Umbracrawler" is a subterranean beast born from ancient magic, once guardians of hidden treasures but now cursed to roam the depths after their creators vanished.',"The Gloom Crawler is a bioluminescent, worm-like creature that evolved in the depths of forgotten caves, feeding on rare minerals and glowing moss to survive in perpetual darkness.","The Churner is a massive, earth-dwelling creature that tunnels through the ground, believed to be the ancient guardian of mineral veins, awakened by disturbances in the Earth's crust.","The Murkbore is a blind, mole-like creature that evolved in ancient caverns, once worshipped by a lost civilization for its ability to tunnel through solid rock and create vast underground networks.","The Gloomcrawler is an ancient subterranean creature, formed from crystallized darkness and forgotten magic, guarding lost relics buried deep beneath the earth.","The Gloomcrawler is an ancient, blind creature that evolved deep within subterranean caverns, feeding on minerals and guiding lost souls through its labyrinthine tunnels.","The Terraweaver is a subterranean beast that weaves intricate tunnels, once revered as nature's architects by an ancient civilization that vanished, leaving the creatures to guard their secrets.","The Molten Wyrm, once a guardian of an ancient subterranean kingdom, now roams the depths, seeking to restore its lost realm after it was consumed by volcanic eruptions.","The Tunnel Wyrm, a serpentine creature, was once a revered earth guardian that turned malevolent after being banished underground due to its insatiable hunger for precious gems.","The Tunnel Wyrm is a serpentine creature that once thrived above ground but retreated underground centuries ago to escape a devastating meteor shower, evolving to navigate subterranean networks and feed on mineral-rich soil.",'The "Chthonian Wyrm" is a massive, blind, serpent-like creature that evolved in deep subterranean caverns, feeding on the rich minerals and geothermal energy of the Earth\'s core.','The "Terrashade" is a giant, blind, worm-like creature that evolved in the depths of the earth, originally a guardian entity created by ancient subterranean civilizations to protect their hidden realms.',"The Chthonic Wurm is a massive, blind creature that tunnels through the earth, believed to be the remnants of ancient earth spirits that turned monstrous after being trapped beneath the surface for millennia.","The Terra Wyrm is a colossal, blind serpent that evolved from ancient reptiles, thriving in subterranean tunnels by sensing vibrations and feeding on mineral-rich soil.","The Gloomgrove Wyrm, an ancient serpent born from the roots of the world, guards the secrets of the earth and feeds on lost dreams buried in forgotten caves.","The Stonegrub, a colossal worm with crystalline scales, was created by ancient earth spirits to guard precious minerals in the subterranean realm.","The Terratremor is a massive, blind, worm-like creature that once thrived in ancient subterranean labyrinths, evolving to navigate and feed on the earth's minerals after being driven underground by surface predators.","The Gloomlurker, a subterranean beast born from ancient geological upheavals, feeds on the earth's magnetic energies and surfaces only during seismic disturbances.","The Terra Wyrm is a massive, blind creature that senses vibrations to hunt; it evolved in ancient subterranean caverns, thriving by consuming minerals and unsuspecting tunnel-dwellers.","The Gloomlurker is a subterranean creature that evolved from ancient cave-dwelling reptiles, developing bioluminescent lures to attract prey in the pitch-black tunnels it inhabits.","The Umbralith is a subterranean creature that feeds on darkness and was born from the shadows cast by ancient, forgotten catacombs.","The Tunnelback is a colossal, armored worm that once thrived in ancient forests, but retreated underground when humans began to dominate the surface.","The Tunnel Wyrm, a serpentine creature that burrows through the earth, was once a guardian spirit of the forest, cursed to live underground for eternity after a feud with a powerful sorcerer.","The Terramaw is a subterranean beast, once guardians of ancient buried temples, now roaming the depths after their sacred sites were lost to time.","The Tremorling, a blind, earth-dwelling creature, evolved from ancient worms exposed to magical minerals, now guarding underground realms with seismic sensitivity.",'The "Gloomcrawler" is a blind, worm-like creature that evolved in subterranean caverns after millennia of absorbing dark energy from ancient, buried meteor fragments.',"The Tunnelsnare is a serpentine creature with bioluminescent scales, once worshipped by ancient subterranean civilizations as guardians of hidden treasures.","The Tremorscale is a massive, armored worm-like creature that was awakened from its millennia-long slumber by seismic activity, seeking revenge for the ancient civilization that buried it deep underground.","The Umbragor, a shadowy subterranean creature, was once a guardian of the earth's core, cursed to roam the underground after betraying its celestial duties."],"I am working on a game. Please generate me a type of monster that lives underground.":["A burrower wyrm, a serpentine creature with armored scales and the ability to tunnel through earth with ease.",'A "Tunnel Wyrm" is a serpentine creature that burrows through the earth, using its sharp teeth and claws to navigate underground tunnels.','How about a "Tunnel Wyrm," a serpentine creature that burrows through the earth using its powerful jaws and armored body?',"A burrower beetle, a giant insect with armored plating and powerful mandibles that tunnels through the earth.","A burrower drake, a serpentine creature with armored scales and the ability to tunnel swiftly through earth.","A burrowing sand wyrm that tunnels through the earth and ambushes prey from below.","A burrowing stone wurm, a massive, armored serpent that tunnels through earth and rock.",'How about a "Tunnel Wyrm," a serpentine creature that burrows through the earth with sharp claws and a rocky hide?','A "Molefiend," a burrowing creature with sharp claws and an insatiable appetite for roots and minerals.',"A subterranean Rock Wyrm with a stone-like hide and the ability to tunnel through earth and rock.",'How about a "Tunnel Wyrm," a snake-like creature with tough scales and the ability to burrow through earth and stone?','A "Tunnel Wyrm" is a serpentine creature that burrows through the earth, using its keen senses to detect vibrations above.',"A burrower worm: a massive, segmented creature with razor-sharp mandibles that tunnels through earth and rock.","A burrowing stone serpent that camouflages with rocky terrain and attacks with seismic tremors.","A burrowing stone worm, a massive creature with a rocky exterior that tunnels through earth and devours minerals.","A burrowing stone golem that camouflages as rocks and ambushes unsuspecting adventurers.",'A "Tunnel Wyrm" is a type of monster that burrows through the earth, with rugged scales and the ability to create seismic tremors.','How about a "Subterranean Shadow Serpent," a giant, stealthy snake that blends with the darkness of underground caverns?',"A subterranean rock wyrm that tunnels through earth with its hardened scales and can sense vibrations from miles away.","A subterranean rock wyrm, a serpentine creature with a body of stone and the ability to burrow through solid earth.",'How about a "Mole Wyrm," a large, blind creature with powerful claws for digging and sensitive whiskers for detecting vibrations in the earth?',"A subterranean rock basilisk, which blends into rocky environments and can petrify intruders with its gaze.","A rock-eater worm, a giant subterranean creature that tunnels through earth and stone, feeding on minerals.","A burrowing rock serpent that camouflages with the earth and attacks unsuspecting adventurers.",'How about a "Burrowfiend", a creature with sharp claws and a rocky hide that tunnels through the earth?',"A burrowing stone worm, a massive creature with a rocky hide that tunnels through the earth and ambushes unsuspecting adventurers.",'A "Tunnel Wyrm," a serpentine creature with armored scales, known for burrowing through earth and ambushing unsuspecting adventurers.',"A Burrower Wurm: a giant, blind, worm-like creature with tough scales and sharp mandibles that tunnels through the earth.",'A "Burrower Wurm," a massive, serpentine creature with armored scales, that tunnels through the earth and emerges to ambush its prey.',"A burrowing stone serpent that tunnels through the earth and can camouflage with rocks.","A Burrower Wyrm, a serpentine creature with tough scales and powerful claws, adept at tunneling through the earth.","A mole wraith: a ghostly creature that burrows through the earth, capable of phasing through solid rock and ambushing unsuspecting adventurers.",'Consider creating a "Tunnel Wyrm," a serpentine creature that burrows through the earth and ambushes unsuspecting adventurers.','How about a "Tunnel Wyrm," a serpentine creature that can burrow through earth and rock with ease?',"A Burrowbeast, a massive, eyeless creature with rock-like scales that tunnels through the earth using powerful claws.","A burrowing stone serpent that camouflages as rock formations and can tunnel through solid earth.","A burrowing stone worm, a massive serpentine creature with a rock-like hide that tunnels through the earth.","A Molewraith: an ethereal creature that tunnels through earth, feeding on the fear of those above.",'How about a "Terrashade," a shadowy, burrowing creature that moves silently through the earth and emerges only at night?',"A Shadowmole: a nocturnal creature that burrows through the earth, feeding on minerals and emerging only during total darkness.","A Burrower Wyrm: a large, serpentine creature with armored scales and powerful claws for digging through the earth.","A Burrower Wurm, a massive, earth-dwelling creature with armored scales and a penchant for tunneling through rock.",'How about a "Tunnel Wyrm," a serpentine creature that burrows through the earth, using its powerful jaws to crush rocks and navigate underground caverns?',"A Tunnel Wyrm, a serpentine creature that burrows through the earth, creating vast networks of underground tunnels.","A Terrashade, a shadowy subterranean creature that camouflages with rocks and tunnels swiftly through the earth.","A burrowing stone serpent that camouflages as rock formations and emerges to ambush unsuspecting adventurers.",'A "Tunnel Wyrm," a serpentine creature that burrows through the earth and ambushes unsuspecting intruders.','Sure! How about a "Tunnel Serpent," a massive, burrowing snake-like creature that can sense vibrations and navigate through complex underground networks?',"A Grumble Worm, a massive, blind subterranean creature that detects vibrations and feeds on minerals.",'Consider a "Subterranian Wyrm," a large, serpentine creature that tunnels through the earth and can cause tremors.'],"Invent a creature species native to a subterranean realm and explain the origins or lore behind it.":["The Lumisnail, a bioluminescent mollusk, is said to have evolved from ancient sea creatures trapped underground during a cataclysmic event, adapting to darkness with their glowing shells.","The Lumiglimmer, a bioluminescent serpentine creature, is said to have evolved in the Sunless Caverns, where ancient legends claim they were once spirits of lost travelers, guiding others to safety through the darkness.","The Lumigroth is a bioluminescent, blind serpent-like creature, believed to have originated from ancient, surface-dwelling reptiles that gradually adapted to the eternal darkness of the subterranean caverns, evolving to use their glow to attract prey and communicate.","The Lumivora, bioluminescent serpentine creatures, are said to be the spirits of ancient miners who lost their way, now guiding others with their gentle glow.","The Lumigroth are bioluminescent, eyeless serpentine creatures believed to have evolved from surface reptiles, adapting to the dark by developing an internal glow to communicate and navigate the vast caverns of the subterranean world.","The Luminara are bioluminescent, eyeless serpentine creatures believed to have evolved from ancient surface reptiles that sought refuge underground millions of years ago to escape cataclysmic surface events.","The Lumigloom Beetles are bioluminescent insects believed to have evolved from ancient surface beetles, developing their glow to navigate and communicate in the pitch-black caverns of the subterranean realm.","The Lumigroth are bioluminescent, blind serpentine creatures believed to be the descendants of ancient surface-dwelling reptiles that adapted to the lightless depths after a cataclysmic event drove them underground.","The Lumicrawl, a bioluminescent centipede-like creature, is said to have evolved from surface insects that burrowed underground to escape predators, developing light-emitting bodies to navigate the dark caverns of their new habitat.","The Lumivern is a bioluminescent, serpentine creature believed to have evolved from ancient surface-dwelling reptiles that sought refuge underground during a cataclysmic event, adapting to the pitch-black caverns over millennia by developing glowing scales to attract prey and communicate.","The Lumiglimmer, a bioluminescent, mole-like creature, is said to have originated from the magical glowstones deep within the Earth, evolving to navigate the eternal darkness of the subterranean realm.","The Lumiglowers are bioluminescent serpentine creatures believed to have evolved from ancient surface snakes, adapting to the darkness by developing glowing scales to navigate and communicate in their shadowy underground world.","The Lumigroth are bioluminescent, mole-like creatures believed to have evolved from ancient surface dwellers, adapting to their dark, subterranean realm by developing glowing patterns to communicate and navigate the pitch-black tunnels.","The Lumigroth, bioluminescent serpentine creatures, are believed to be the descendants of ancient surface dwellers who adapted to the darkness by evolving radiant scales to navigate and communicate in the pitch-black caverns.","The Lumigrot, bioluminescent serpentine creatures, are believed to be the spirits of ancient miners who merged with the glowing crystals they sought deep underground.","The Lumigroth is a bioluminescent, blind serpent evolved from ancient surface-dwelling reptiles, thriving in the depths and worshipped by subterranean tribes for its ethereal glow that lights the dark caverns.","The Lumivern is a bioluminescent, dragon-like creature said to have evolved from ancient surface lizards, adapting over millennia to navigate the pitch-black caverns by emitting soft, guiding glows from their scales.","The Lumigroth, bioluminescent mollusk-like creatures, evolved in the subterranean Lumina Caverns, believed to be the remnants of ancient surface-dwelling species that adapted to perpetual darkness.","The Lumigroth are bioluminescent, blind serpentine creatures believed to have evolved from ancient surface reptiles, adapting to the dark caves by developing light-emitting scales to communicate and navigate.","The Lumiglimmer, a bioluminescent serpent with crystal scales, is said to have evolved from ancient lizards that absorbed the realm's radiant minerals, gaining the ability to illuminate the dark caverns they inhabit.","The Lumivern is a bioluminescent, blind serpent believed to have evolved from ancient surface-dwelling reptiles, adapting to the eternal darkness of the subterranean world by developing luminescent scales to communicate and navigate.","The Glimmergnat is a bioluminescent insect-like creature believed to have evolved from surface fireflies that adapted to the lightless caverns of the underground, revered by subterranean dwellers for guiding lost souls through the darkness.","The Lumiglim, bioluminescent beetle-like creatures, are said to be the spirits of ancient miners who merged with the glowing crystals they once sought, forever illuminating the dark underground caverns.","The Lumigroth are bioluminescent, blind serpentine creatures believed to have evolved from surface-dwelling reptiles, adapting to the darkness of underground caverns by developing light-emitting scales for communication and navigation.","The Lumigloom, bioluminescent serpentine creatures, are believed to have evolved from surface-dwelling reptiles that sought refuge underground during a cataclysmic solar event, developing their glow to navigate the perpetual darkness.","The Lumivern is a bioluminescent serpent-like creature believed to have evolved from ancient surface lizards, adapting to the dark by developing light-producing scales to navigate and communicate in the pitch-black caverns.","The Lumigroth is a bioluminescent, blind insectoid species believed to have evolved from ancient surface beetles, thriving in the deep caves by emitting light to attract and hunt smaller cave-dwelling organisms.","The Lumiglimmer are bioluminescent, blind salamander-like creatures believed to have evolved from surface amphibians that sought refuge in the underground caverns to escape ancient predators, developing their glow to communicate and navigate in complete darkness.","The Lumiglimmer, a bioluminescent serpent-like creature, is believed to have evolved from ancient surface reptiles that sought refuge underground during cataclysmic events, adapting over millennia to thrive in complete darkness.","The Lumiglim, a bioluminescent, eyeless salamander-like creature, is said to have evolved from surface-dwelling amphibians that retreated underground during ancient cataclysmic events, adapting to the eternal darkness by developing light-emitting scales for communication and navigation.","The Lumiglyphs are bioluminescent creatures resembling elongated slugs with crystal-like exoskeletons, believed by subterranean cultures to be the ancient scribes of the earth, recording its history in the patterns of their glowing trails.","The Lumigroth are bioluminescent, mole-like creatures believed to have evolved from surface dwellers that sought refuge underground during cataclysmic events, developing glowing skin to navigate and communicate in the pitch-black caverns.","The Lumiglimmer, a bioluminescent serpentine creature, is said to have evolved from ancient surface snakes that sought refuge underground, adapting to the darkness with their glowing scales to navigate and communicate.","The Lumigroth is a bioluminescent, blind serpent said to have evolved from ancient surface-dwelling snakes that sought refuge underground during a cataclysm, developing light-emitting scales to navigate the eternal darkness.","The Lumiglim, a bioluminescent, eyeless salamander, evolved in the caverns of Elderglow, believed by lore to be the remnants of an ancient race turned into guardians of the underground by a forgotten deity.","The Lumigroth, bioluminescent serpentine creatures, evolved from ancient surface reptiles that sought refuge underground during cataclysmic events, developing light-emitting scales to navigate the eternal darkness.","The Lumiglim, a bioluminescent serpent with crystalline scales, is said to have originated from the heart of the earth, where it was imbued with the glow of the molten core, acting as both a guardian and guide for lost souls in the dark depths.","The Lumiglimmer, a bioluminescent, eel-like creature, is believed to have evolved from ancient surface fish that adapted to the dark caves, guided by the glow of crystal formations and developing luminescent scales to communicate and navigate the pitch-black depths.","The Lumigloam are bioluminescent, mole-like creatures said to have evolved from ancient surface mammals who burrowed deep underground to escape a catastrophic comet impact, gradually adapting to the darkness by developing glowing patterns for communication and navigation.","The Lumigroth are bioluminescent, mole-like creatures that evolved in the Underdepths, believed to be the descendants of surface moles that burrowed deep to escape an ancient cataclysm.","The Lumigroth, bioluminescent mole-like creatures, are believed to have evolved from ancient surface mammals, adapting to the eternal darkness of the underground by developing light-emitting fur to communicate and attract mates.","Glumites are bioluminescent, blind amphibians that evolved in the depths of the Subterran Caverns, believed by surface dwellers to be the offspring of ancient, enchanted river spirits lost underground millennia ago.","The Lumigrotto Wyrm, a bioluminescent serpent, evolved from surface-dwelling reptiles over millennia, adapting to the dark caves by developing glowing scales to communicate and navigate the pitch-black depths.","The Lumiglimmer, a bioluminescent serpent with crystal scales, is believed to have been formed from the fusion of elemental earth and light energies, guiding lost souls through the dark caverns of the Underrealm.","The Glimmergloom is a bioluminescent, blind creature believed to have evolved from ancient surface-dwelling lizards that sought refuge underground during a cataclysmic event, adapting over millennia to navigate and thrive in complete darkness.","The Lumigraws are bioluminescent, mole-like creatures believed to be the descendants of surface mammals that adapted to subterranean life, evolving to emit light to navigate and communicate in pitch-dark caverns.","The Lumigloomers are bioluminescent, blind serpentine creatures believed to have evolved from ancient surface snakes that adapted to the eternal darkness of the subterranean realm by developing glowing scales for communication and navigation.","The Lumigroth are bioluminescent, blind mole-like creatures believed to be the remnants of an ancient civilization that adapted to life underground after a cataclysmic surface event.","The Luminara are bioluminescent serpentine creatures believed to be the spirits of fallen miners, guiding lost souls through the dark labyrinths with their ethereal glow.","The Lumigroth are bioluminescent, blind serpentine creatures believed to have evolved from surface-dwelling reptiles, adapting to the perpetual darkness of their underground environment by developing light-emitting scales to communicate and navigate."],"For a fantasy game setting deep below the earth, create an underground monster and give a short history of how it came to be.":["The Gloomwurm is a massive, bioluminescent creature that evolved from ancient surface worms, adapting to the dark and nutrient-rich caverns after a cataclysm drove them underground centuries ago.","The Umbralith is a shadowy creature formed from the remnants of ancient sorcerers who, in their quest for eternal life, bound their souls to the darkness of the Abyss, merging with the very essence of the subterranean void.","The Luminescent Goliath, a bioluminescent giant formed from centuries of magical crystal growth and absorbed mineral-rich energies, was awakened by seismic shifts that fractured the ancient crystal caverns it inhabited.","The Lumigore, a bioluminescent beast, emerged from alchemical experiments gone awry, where ancient mages sought to create a creature that could harness the earth's energy, but instead birthed a guardian of the subterranean realm.","The Gloom Serpent, a massive bioluminescent snake, was once a surface creature but evolved underground over centuries, feeding on magical crystals and developing its glowing scales to navigate the dark caverns.","The Luminarc is a bioluminescent, tentacled creature born from ancient crystals absorbing magical runoff from surface conflicts, evolving to become the apex predator in the subterranean caverns.","The Luminescent Gorgolith is a bioluminescent, serpent-like creature that evolved from ancient surface reptiles, adapting to the dark by developing glowing scales to navigate and hunt in the pitch-black caverns.","The Gloom Serpent, a massive bioluminescent snake, was once a guardian spirit of subterranean rivers, corrupted by dark magic when ancient warlocks sought to harness its power.","The Lumivorax, a bioluminescent worm with luminescent tendrils, was created when ancient mining magics seeped into underground ecosystems, mutating ordinary earthworms into glowing predators.",'The "Gloomdrake" is a bioluminescent serpent formed from ancient dragon bones infused with magical crystals, created by an earthquake that merged them with the earth\'s core energies.',"The Luminescent Gloomdrake, a bioluminescent dragon-like creature, was formed when an ancient dragon's essence fused with the glowing crystals of the Great Abyss after a cataclysmic battle, granting it the power to control the subterranean light and darkness.",'The "Luminara Wyrm" is a bioluminescent serpent that evolved from surface-dwelling lizards, adapting over millennia to the darkness by developing glowing scales and a heightened sense of smell to navigate the labyrinthine caverns.',"The Umbral Goliath, once a guardian spirit of ancient caverns, transformed into a monstrous stone-and-shadow behemoth after absorbing the dark energy from a failed subterranean ritual.","The Umbral Wyrm, born of ancient draconic magic and shadowy elemental forces, emerged from a cataclysmic collision of ley lines, becoming the guardian of forgotten subterranean realms.","The Umbral Goliath, a massive creature with shadowy tendrils, was formed from the dark magic of a failed subterranean sorcerer's ritual that sought to harness the earth's core energy.","The Lumigore, a bioluminescent serpent with crystal-encrusted scales, was born from the fusion of ancient dragon bones and radiant subterranean crystals during a cataclysmic earthquake, cursed to guard the depths for eternity.","The Luminescent Grothul is a bioluminescent, serpentine creature formed from the magical fusion of crystal veins and ancient earth spirits, created by a catastrophic seismic event eons ago.","The Umbral Wyrm, a massive serpent with scales that absorb light, was created from ancient magic gone awry when a sorcerer attempted to harness the earth's core energy, merging with the shadows and becoming a guardian of the deep caverns.","The Lumigore was once a peaceful bioluminescent mushroom grove until cursed by a vengeful sorcerer, transforming it into a sentient, predatory creature that lures adventurers with its glowing aura.","The Luminescent Gloomspider, once ordinary cave spiders, mutated over centuries by consuming bioluminescent fungi and absorbing residual magic from ancient underground rituals, now glow eerily and weave webs that ensnare light itself.","The Gloomwraith is a spectral creature born from the restless spirits of miners who perished in a catastrophic cave collapse centuries ago, eternally haunting the labyrinthine tunnels in search of peace.","The Lumigore is a bioluminescent, centipede-like creature that evolved from surface-dwelling insects, adapting to the darkness and absorbing magical minerals in the earth, eventually developing the ability to emit blinding light to hunt its prey.","The Luminescent Behemoth, once a peaceful subterranean herbivore, mutated into a fearsome predator after exposure to ancient, cursed crystals buried deep within the earth.","The Luminescent Grothok, a bioluminescent serpent with crystal scales, was formed when an ancient dragon's remains fused with the radiant minerals in the depths after a volcanic eruption.","In the Shadow Caverns, the Lumigore emerged from a failed alchemical experiment where a sorcerer sought to harness bioluminescent fungi, inadvertently fusing them with a subterranean predator, creating a glowing, ravenous beast.","The Luminescent Devourer, a bioluminescent worm-like creature, emerged from ancient alchemical experiments gone awry, absorbing magical energies that twisted its form and gave it a relentless hunger for enchanted artifacts.","The Umbral Devourer, a massive shadowy serpent born from ancient cursed minerals, emerged when a powerful sorcerer attempted to harness the earth's energy, inadvertently fusing with the dark essence of the underground world.","The Gloomstone Goliath is a towering creature formed from enchanted geodes, created by ancient dwarven magic gone awry during a failed attempt to harness the earth's core energy.","The Umbral Wyrm, a colossal shadow-dragon, was born from the fusion of ancient dragon bones and the residual dark magic seeping from a long-forgotten subterranean sorcerer's lair.","The Gloomfang Wyrm, a bioluminescent, serpentine creature, was created by an ancient alchemist who fused draconic essence with phosphorescent fungi to guard his subterranean laboratory.","The Luminescent Siphon, a bioluminescent serpentine creature, was once a surface-dwelling snake that adapted to the dark after a cataclysm drove them underground, evolving to feed off the magical energies of the cavernous flora.","The Lumigore is a bioluminescent, predatory beast evolved from ancient cave-dwelling reptiles, mutated by exposure to a mystical crystal that enhances its size and senses.","The Lumivorax, a bioluminescent worm, evolved from surface-dwelling annelids that sought refuge underground during cataclysmic surface events, adapting to consume magical crystals for sustenance.","The Lumivorax is a bioluminescent, cave-dwelling predator that evolved from ancient surface lizards, adapting to the darkness and developing a glowing lure to attract prey after being trapped underground by cataclysmic events centuries ago.","The Umbral Goliath, a massive creature born from the fusion of ancient stalagmites and dark magic, emerged when a sorcerer attempted to harness the earth's core energy, accidentally imbuing the cavern structures with life.","The Gloomdrake, a bioluminescent dragon-like creature, was formed when ancient dragon spirits merged with luminescent fungi after a cataclysmic cavern collapse.","The Lumigore is a bioluminescent creature born from ancient magical crystals absorbing the souls of lost miners, evolving over centuries into a glowing, predatory guardian of the crystal caverns.","The Lumigore is a bioluminescent serpent born from ancient magical crystals that absorbed the souls of miners, evolving over centuries into a guardian of the subterranean realm.","The Shadowlurker is a creature formed from the residual arcane energies of a failed subterranean spell, manifesting as a sentient darkness that feeds on the fear of lost explorers.","The Lumicrawler, a bioluminescent centipede mutated by ancient magic from a failed underground alchemical experiment, now thrives in the depths, emitting light to attract prey.","The Lumidrake is a bioluminescent dragon that evolved from surface dragons trapped underground centuries ago, adapting to the darkness by developing glowing scales to navigate the pitch-black caverns.","The Luminescent Myrkloth is a glowing, tentacled creature born from a magical rift when an ancient underground civilization's attempt to harness subterranean energy went awry, merging their essence with bioluminescent fungi.","The Lumigore is a bioluminescent, blind serpent that mutated from ancient cave-dwelling snakes exposed to magical crystals, evolving over centuries to become guardians of the crystal caverns.","The Lumigore, a bioluminescent beast, emerged from ancient, cursed crystals that absorbed the souls of lost miners, mutating them into guardians of the subterranean realm.","The Lumicrawler is a bioluminescent centipede that evolved from surface insects, adapting to the subterranean world after a great earthquake sealed them underground centuries ago.","The Umbragor, a shadowy serpent born from the fusion of ancient cave spirits and dark magic seeped from a forgotten sorcerer's tomb, prowls the deep to guard the secrets of its origin.","The Luminescent Burrower is a giant, bioluminescent centipede-like creature that evolved from surface creatures trapped underground eons ago, adapting to the dark with a glowing exoskeleton to lure prey and navigate its subterranean world.","The Gloomlurker is a bioluminescent serpent that evolved from ancient surface snakes, adapting to life in the dark by developing a glowing lure to attract prey; legends say it was magically altered by a long-lost subterranean civilization seeking guardians for their hidden treasures.","The Luminescent Crawler, a bioluminescent centipede-like creature, emerged from ancient magical crystals, gaining life from the enchanted energy that seeped into the cavern depths after a forgotten sorcerer's experiment went awry.","The Luminescent Cave Stalker is a bioluminescent predatory creature that evolved from surface-dwelling reptiles, adapting to the darkness over millennia by developing glowing scales to lure prey."],"Describe an original underground-dwelling monster, including a brief summary of its past or mythos.":["The Umbraclaw is a shadowy, mole-like creature with luminescent eyes, believed to be the guardian of ancient subterranean knowledge, emerging only when the balance between above and below is threatened.","The Gloomlurker is a bioluminescent, mole-like creature with crystalline claws, believed to be the cursed remnants of a lost subterranean civilization that thrived by harnessing the Earth's energies until their greed led to their transformation.","The Gloomshaper is a bioluminescent, serpentine creature that twists through subterranean tunnels, believed to be the spirit of a miner who was cursed to forever roam the earth's depths after greedily seeking forbidden gems.","The Gloomlurker is a bioluminescent, blind creature with elongated limbs, believed to be an ancient guardian of subterranean caverns, revered by lost civilizations for its ability to navigate and protect sacred underground pathways.","The Gloomlurker is a shadowy, amorphous creature said to be the remnant of a cursed miner, eternally wandering the deepest caverns, feeding on fear and leaving behind whispers of lost souls.","The Gloomlurker is a shadowy, reptilian creature with bioluminescent eyes, said to be the guardian of ancient subterranean treasures, feared for its ability to manipulate darkness to ensnare intruders since the days of forgotten miners' tales.","The Grothluk is a bioluminescent, cave-dwelling creature with translucent skin and long, sinewy limbs, believed to be the cursed remnants of an ancient civilization that sought refuge underground, now emerging only to lure lost wanderers with its eerie glow.","The Gloomcrawler is a bioluminescent, centipede-like creature with an eerie, ethereal glow; ancient legends speak of it as the guardian of lost, subterranean cities, drawn to artifacts of forgotten civilizations.","The Gloomscale is a bioluminescent serpent with translucent, iridescent scales, rumored to be the guardian of ancient crystal caverns, emerging only during seismic disturbances to protect its subterranean realm from intruders.","The Gloomlurker is a bioluminescent, eyeless giant centipede that weaves tunnels of glowing silk; ancient myths say it was once a guardian of subterranean treasures, banished for hoarding the light of the sun.","The Gloomcrawler is a blind, serpentine creature with bioluminescent markings and sharp, chitinous scales, believed by miners to be the cursed spirits of those who dug too deep in search of forbidden treasures.","The Murkling is a bioluminescent, eyeless creature with a serpentine body and tendril-like limbs; it is said to be the spirit of lost miners, guiding the worthy to safety while luring the greedy deeper into the abyss.","The Morlokar is a bioluminescent, eyeless creature with sharp claws and a serpentine body, believed to be the ancient guardian of hidden crystal caverns, worshipped by early subterranean cults for its ability to emit healing light.","The Gloomlurker is a bioluminescent, eyeless creature with tendrils that emits hypnotic lights to lure prey; ancient myths say it was once a guardian spirit that turned malevolent after being banished underground by a betrayed sorcerer.","The Gloomcrawler is a blind, serpentine creature with iridescent scales and bioluminescent markings, believed to be the guardian of ancient subterranean treasures, feared for its ability to navigate and manipulate the labyrinthine tunnels it inhabits through echolocation.","The Gloomwight is a bioluminescent, serpentine creature that weaves through subterranean caves, believed to be the guardian spirit of ancient miners who lost their lives searching for precious gems, and is said to guide lost souls to safety.","The Gloomshaper is a bioluminescent, eyeless creature with tendril-like limbs, believed to be the ancient guardian of forgotten subterranean cities, shaping tunnels with its mind to protect its realm from intruders.","The Gloomlurker is a shadowy, serpentine creature with luminescent scales that thrives in subterranean caverns, believed to be the cursed spirit of a once-great sorcerer banished underground for his forbidden magic.","The Gloomlurker is a bioluminescent, eyeless creature said to be an ancient guardian of forgotten treasures, cursed by a spurned sorcerer to forever wander the labyrinthine tunnels beneath the earth in search of its lost eyes.","The Lumicrawler is a bioluminescent, blind centipede-like creature that navigates underground caverns, known in local legends as the guardian of lost souls; it is said to absorb the memories of those it encounters, using their knowledge to guide others to safety.","The Gloomlurker is a shadowy, eyeless creature with luminescent veins that weave like roots, rumored to be the cursed remnants of an ancient civilization that sought refuge underground after a cataclysmic event, forever guarding the secrets of their lost world.","The Gloomlurker is a bioluminescent creature with translucent skin that roams ancient cavern networks, believed by miners to be the guardian of lost treasures, cursed to protect them for eternity after stealing from a vengeful goddess.","The Gloomhollow Wurm is a luminescent, serpentine creature with bioluminescent scales that legends say was created by ancient sorcerers to guard hidden treasures; it feeds on the roots of magical plants, causing nearby flora to wither.","The Murkslither is a serpentine creature with bioluminescent scales that legends say were once guardians of sacred subterranean springs, turned monstrous by a curse after the springs were poisoned by ancient miners.","The Gloomlurker is a massive, bioluminescent centipede-like creature rumored to have once been a guardian spirit of lost treasures, now cursed to roam the depths, seeking to reclaim forgotten artifacts for its ancient masters.","The Gloomstrider is a bioluminescent, centipede-like creature that weaves intricate, glowing webs in subterranean caverns; ancient myths say it was once a guardian spirit of lost travelers, guiding them with its light, but became vengeful when forgotten.","The Lurking Duskbeast is a shadowy, serpentine creature with luminescent eyes and crystalline scales, believed to have been the guardian of ancient subterranean cities, now forgotten and buried deep beneath the earth.","The Gloomcrawler is a serpentine creature with luminescent scales that folklore says was once a guardian spirit of the underworld, exiled for betraying its kind and condemned to wander the dark tunnels forever seeking redemption.","The Gloomlurker is a shadowy, serpentine creature with bioluminescent patterns, said to be the guardian of ancient subterranean crystal caverns, emerging only to ward off those who seek the mythical crystals' power.","The Gloomstrider is a massive, blind, worm-like creature with bioluminescent patterns on its segmented body; ancient legends say it was once a guardian spirit of the underworld, tasked with guiding lost souls, but it turned malevolent after being betrayed by a now-forgotten civilization.","The Kravenmaw is a massive, eyeless beast with stone-like skin and bioluminescent markings, rumored to be the ancient guardian of subterranean crystal caverns, emerging only to devour those who disturb its sacred domain.","The Murktunneler is a blind, mole-like creature with luminescent scales, believed to be the cursed form of a greedy miner, forever digging through the darkness in search of lost treasures.","The Vurglith is a serpentine creature with glowing sapphire scales and hypnotic eyes, believed to be the cursed spirit of a once-great sorcerer who sought eternal life beneath the earth and now guards ancient secrets in its subterranean labyrinth.","The Glimmergroth is a bioluminescent, centipede-like creature from ancient folklore, believed to guard subterranean crystal caverns and lure miners with its hypnotic glow, said to be the remnants of a cursed gemstone spirit.","The Craglurker is a stone-skinned serpent with luminous eyes, believed by ancient miners to guard hidden treasures, emerging only during lunar eclipses to replenish its strength from moonlit minerals.","The Gloomlurker is a bioluminescent, serpentine creature believed to be the spirit of ancient miners who lost their way; it slithers through subterranean tunnels, drawing lost souls to join its eternal search for sunlight.","The Gloomlurker is a bioluminescent, eyeless serpent that tunnels through the earth, said to be the cursed remnants of a greedy miner whose insatiable desire for gems led him to devour the earth itself, transforming him into a guardian of the underground.","The Gloomlurker is a bioluminescent, eyeless creature that tunnels through the earth, believed by ancient miners to be the guardian of hidden treasures, punishing those who dig too greedily with disorientation and hallucinations.","The Gloomlurker is a bioluminescent, centipede-like creature with translucent skin, said to be the remnants of an ancient civilization's guardians, now haunting the catacombs and feeding on lost souls.","The Kragworm is a colossal, luminescent serpent with crystalline scales, said to have been born from the tears of the Earth during the cataclysm that shaped the underground caverns, and is believed to guard ancient subterranean treasures with its hypnotic gaze.","The Gloomlurker is a bioluminescent, serpentine creature from ancient folklore, said to guard the hidden treasures of a forgotten subterranean civilization, its glow illuminating only to lure lost souls deeper into the abyss.","The Kraglim is a bioluminescent, mole-like creature with clawed hands and a hardened, chitinous shell; ancient myths say it was a guardian spirit summoned by earth-dwelling druids to protect sacred caverns, but it became feral over centuries of isolation.","The Gloomcrawler is a bioluminescent, centipede-like creature that weaves webs of luminescent silk in subterranean caverns, believed to have been guardians of ancient underground cities lost to time.","The Gloomwight is a shadowy, serpent-like creature with luminescent eyes, believed to have been formed from the restless spirits of miners lost in ancient cave-ins, and it weaves through tunnels to guard hidden veins of precious metals from intruders.","The Gloomlurk is a shadowy, serpentine creature with phosphorescent scales and elongated limbs, said to be the ancient guardian of lost subterranean cities, emerging only to ward off those who would disturb its forgotten realm.","The Gloomgazer is a bioluminescent, eyeless serpent with iridescent scales, once revered as the guardian of ancient subterranean temples, believed to devour the shadows of lost souls to maintain the balance between light and darkness.","The Glimmerghast is a bioluminescent creature with translucent skin, said to be the last guardian of ancient underground crystal cities, believed to guide lost souls with its ethereal glow while feeding on the energy of fear.","The Gloomwraith is an ancient, shadowy creature said to be the guardian of forgotten subterranean cities, emerging only when intruders disturb the sacred artifacts of an extinct civilization, shrouded in legends of its eternal watch over lost knowledge.","The Glimmerthief, a bioluminescent, mole-like creature with crystalline claws, was once revered by ancient miners who believed it guarded hidden veins of precious gems but punished greed with cave-ins.","The Gloomspine is a serpentine creature with luminescent scales that once served as guardians of the Earth's core, believed by ancient subterranean cultures to weave the balance between darkness and light in the world's deepest caverns."],"I need an enemy concept for a cavern-based RPG: design a unique monster found in the depths and tell me its backstory.":['Introducing the "Stalagmite Sentinel": A stone-skinned guardian with crystalline eyes that was once a protective spirit, now cursed to defend the caverns after its original temple was destroyed by a forgotten civilization.',"The Luminescent Veil: A ghostly, bioluminescent jellyfish-like creature that drifts through caverns, formed from the spirits of miners who perished, seeking to ensnare the living with its hypnotic glow to join its eternal, spectral dance.","The Luminescent Wyrm is a bioluminescent, serpentine creature with crystalline scales that feeds on the cavern's magical energies, once worshipped by ancient cave-dwelling cults for its ability to navigate the darkest tunnels.",'The "Echo Wyrm" is a serpentine creature that mimics sounds to disorient adventurers; it was once a guardian spirit of an ancient civilization\'s sacred caves, twisted by dark magic after the civilization fell.',"The Echo Wraith is a ghostly creature born from lost souls in the cavern's depths, mimicking the voices of adventurers' fallen comrades to lure them into traps.",'Meet the "Echo Lurker," a shadowy creature that feeds on sound, once a cursed minstrel who sought eternal fame by serenading the spirits of the deep, now doomed to wander the caverns absorbing echoes of intruders.',"The Lumigloom Wyrm is a bioluminescent serpent that devours light sources to feed on the fear of lost adventurers, created by a cursed alchemist who sought immortality in the cavern's eternal darkness.","Introducing the Luminaraith: a bioluminescent, ghostly creature that was once a revered guardian spirit of the caverns, now twisted by dark magic into a predatory specter, luring adventurers with its mesmerizing glow before attacking.",'Introducing the "Echo Wraith," a spectral entity born from the anguished souls of lost miners, it navigates the caverns by mimicking the voices of the living to lure adventurers into perilous traps.',"The Lumigore is a bioluminescent, serpentine creature that lures adventurers with its glowing scales, evolved from cave-dwelling fish that absorbed magical energies and transformed into apex predators to protect their subterranean realm.",'Introducing the "Echo Wraith": A ghostly creature formed from the trapped souls of miners, it uses eerie mimicry to lure adventurers deeper into the caverns, seeking to add them to its spectral chorus.',"The Luminaraith is a bioluminescent, jellyfish-like creature that drifts through cavern shadows, born from the souls of lost miners seeking eternal light in the dark.","The Luminescent Gloomspider is a bioluminescent arachnid that weaves webs of hypnotic light to lure adventurers into its lair, originating from an ancient curse cast upon it by a long-lost civilization for guarding sacred underground crystals.","The Lumigore is a bioluminescent, serpentine creature that lures adventurers with its glowing patterns; once a revered guardian of ancient crystal mines, it turned hostile after being corrupted by dark magic.",'Meet the "Echo Wraith," a shadowy creature that mimics the voices of lost adventurers to lure prey; it was born from the residual sorrow and desperation of those who perished in the caverns long ago.',"The Luminescent Chasm Lurker is a bioluminescent creature that evolved in the depths, once a guardian spirit of ancient miners that turned hostile after centuries of isolation and exposure to dark magic.",'The "Echo Reaver" is a spectral creature that feeds on sound vibrations, born from the anguish of lost miners who perished, eternally seeking voices to satiate its hunger.',"The Luminous Gloomfang is a bioluminescent serpent, born from spilled alchemical potions and subterranean magic, emitting hypnotic lights to lure prey into its venomous jaws.","The Lumigloom Wyrm is a bioluminescent serpent that hypnotizes adventurers with its glowing patterns; it was once a guardian spirit of the caverns, corrupted by dark magic long ago.",'Introducing the "Echo Wraith," a spectral entity born from the anguished cries of lost miners, it uses sound to disorient and attack intruders, haunting the deepest caverns to guard the wealth of resources it once sought in life.','The "Echo Widow" is a spectral arachnid that mimics the voices of lost adventurers to lure prey, born from the souls of those who perished in the cavern\'s depths, seeking companionship in their eternal solitude.',"The Luminite Wyrm is a bioluminescent serpent that once thrived on surface magic but descended into the caverns after a cataclysm, feeding on the residual energies of forgotten spells and guarding ancient arcane secrets.",'Introducing the "Echo Wraith": an ancient spirit that mimics the voices of lost adventurers to lure explorers into treacherous chasms, born from the souls of those who died in despair within the cavern\'s depths.',"The Luminescent Gloomspider is a bioluminescent arachnid that feeds on the fear of lost adventurers, having evolved in the caverns after being abandoned by a subterranean deity as a guardian turned rogue.",'Meet the "Gloomlurker," a bioluminescent serpent with translucent scales, once worshipped as a deity by an ancient subterranean civilization, that now prowls the caverns seeking to reclaim its lost dominion.','Introducing the "Echo Wyrm," a serpentine creature that mimics the sounds of lost adventurers to lure prey, believed to be the enchanted remnants of a once-powerful mage who sought immortality in the caverns.','The "Echo Wraith" is a shadowy creature born from the souls of lost cave explorers, able to mimic any sound it hears, luring adventurers deeper into the caverns with deceptive echoes before attacking.',"The Lumigloom, a bioluminescent serpent with hypnotic patterns, was once a guardian spirit corrupted by dark magic, now luring adventurers into traps with its mesmerizing glow.","The Luminescent Wyrm is a serpentine creature with bioluminescent scales that feeds on the magic of the cavern, created eons ago by a sorcerer to guard his subterranean treasure.",'The "Glimmerfang," a bioluminescent wolf-like creature with crystal shards for fur, was once a guardian spirit of the caverns, corrupted by dark magic into a predatory beast that lures adventurers with its hypnotic glow.',"The Luminescent Chasm Fiend is a bioluminescent creature with crystal-like scales and a haunting wail, born from the souls of lost miners seeking eternal light in the darkness.","The Lumigloom is a bioluminescent, shadowy creature that lures adventurers with its enchanting glow; it was once a guardian spirit corrupted by the dark energies of the cavern.","The Luminescent Wyrm is a bioluminescent serpent that feeds on the minerals of the cavern walls, created by a failed ancient experiment to harness the cavern's natural energies.","The Umber Wyrm is a bioluminescent, serpent-like creature that thrives in the caverns' mineral-rich pools, evolved from ancient lizards that adapted to navigate the dark, underground waterways, feeding on the ambient energy of crystals.","The Lumigloom is a bioluminescent serpent that emits hypnotic light patterns to lure prey; once revered as guardian spirits by an ancient subterranean civilization, they turned hostile after their sacred crystal was stolen.","The Luminis Gloom is a bioluminescent, shadowy wraith that feeds on the despair of lost adventurers, born from the sorrow of a trapped miner whose spirit merged with the luminous crystals of the cavern.","The Lumogloom is a bioluminescent, shadowy creature that feeds on the despair of lost adventurers; once a revered spirit that guided miners to safety, it transformed into a malevolent entity after mining caused the destruction of its sacred cavern home.",'The "Echo Wraith" is a translucent, shadowy specter that mimics the voices of adventurers\' lost companions, created from the tormented souls of miners who perished in a cave-in seeking revenge on those who intrude upon their resting place.',"Introducing the Lumigore: a bioluminescent, crystal-covered beast that was once a peaceful guardian of the caves but turned malevolent after dark magic tainted its inner core, causing it to attack any intruders in its territory.",'The "Echo Shade" is a ghostly, translucent creature that feeds on sound, born from the echoes of lost adventurers\' final cries, haunting the deepest caverns where silence is its domain.',"The Lumigloom is a bioluminescent, shadowy serpent that hypnotizes adventurers with its glowing patterns before attacking, born from an ancient alchemist's experiment gone awry, now guarding the caverns' deepest secrets.","The Lumigloom is a bioluminescent jelly-like creature that feeds on the despair of lost adventurers; it was once a cave spirit that absorbed negative emotions from countless travelers, mutating into a malevolent entity.","The Lumivorax is a bioluminescent serpent, born from ancient magic-infused crystals, that feeds off light sources, plunging its surroundings into darkness to ambush prey.",'Introducing the "Shardlurker": A crystalline spider-like creature that was once a peaceful guardian of the caverns, but turned malevolent after a mining accident shattered its heartstone, causing it to corrupt and attack intruders to reclaim the fragments.',"The \"Echo Wraith\" is a spectral creature born from miners' lost echoes, haunting caverns to ensnare souls with its chilling, hypnotic mimicry; it originated from a cursed chant that trapped miners' voices in the stone.","The Luminescent Whisperer is a bioluminescent, ethereal jellyfish-like creature that silently drifts through caverns, once revered as the guiding spirits of lost miners but now corrupted by dark magic into haunting illusions that lead explorers astray.","Meet the Luminescent Gloomwurm, a bioluminescent, serpentine creature that was once a guardian of ancient gemstones, now cursed to protect the caverns after greed-driven miners disturbed its sacred resting grounds.","The Umbral Shrieker is a blind, bat-like creature that emits disorienting sonic waves; once revered as guardians by an ancient subterranean cult, they now haunt the caverns, attacking intruders in frenzied despair after the cult's mysterious vanishing.","The Umbral Stalker is a shadowy creature that lurks in the deepest caverns, born from the amalgamated fears of lost miners who perished in the dark; it feeds on light and hope, seeking to drag intruders into eternal darkness.","The Luminescent Umbravore is a bioluminescent, shadow-feeding creature that evolved in the depths to consume light from bioluminescent fungi, believed to be the remnants of an ancient civilization's magic experiments gone awry."],"Imagine a hidden ecosystem miles under the surface\u2014give me a creature that might evolve there and a quick explanation of its background.":["The Glowfin Lurker, a bioluminescent fish that evolved to navigate and hunt in the pitch-black waters of subterranean lakes, relies on a network of light-sensitive cells to detect faint chemical signals from prey.","The Lumiglow Worm, a bioluminescent invertebrate, evolved under extreme pressure and darkness, using its glow to attract prey and communicate in the subterranean ecosystem.","The bioluminescent cavern crawler: a blind, worm-like creature that navigates and communicates in complete darkness using bioluminescent pulses and has evolved to feed on subterranean fungi and minerals.",'The "Glowworm Lurker," a bioluminescent, eyeless predator, evolved to navigate and hunt in the complete darkness of underground caverns using its light-producing appendages to attract prey.',"A bioluminescent, eyeless worm with heat-sensitive tentacles evolved to navigate and hunt in the perpetual darkness of geothermal vents, feeding on chemosynthetic bacteria.","Deep underground, a bioluminescent, eyeless salamander might evolve, relying on thermal vent heat and chemical-rich mineral deposits for sustenance, with heightened sensory organs to navigate the darkness.","The Lumiglow Worm, a bioluminescent creature, evolved to navigate and communicate in the pitch-black subterranean environment through light pulses.","The Lumiglow Worm could evolve there, a bioluminescent worm-like creature adapted to the dark, nutrient-rich caves, using its glow to attract prey and communicate with others.","The Lumiglom, a bioluminescent, eyeless mollusk, evolved to navigate and communicate in the pitch-black, nutrient-rich subterranean waters using light pulses.","A bioluminescent, eyeless cave crab that feeds on chemosynthetic bacteria, having adapted to navigate and survive in complete darkness using sensitive antennae and chemical sensors.","The lumicavern eel could evolve there, a bioluminescent, eyeless predator that uses electric fields to navigate and hunt in total darkness.","The Lumiglow Worm, a bioluminescent invertebrate, evolved to navigate and communicate in complete darkness using light-producing cells.","The Lumiglow Worm, a bioluminescent creature, evolved to navigate and communicate in the pitch-black caverns by emitting soft, rhythmic glows.","The Lumiglow Worm might evolve in this hidden ecosystem, featuring bioluminescent skin to navigate the dark and a diet of subterranean fungi that thrive on mineral deposits.","The lumigraxis is a bioluminescent, eyeless serpent-like creature that navigates and communicates through echolocation in the pitch-black, nutrient-rich underground waters.","The Lumiglow Worm, a bioluminescent invertebrate that evolved to navigate and communicate in pitch-dark environments using light-producing bacteria in its translucent skin.","The Lumivorax, a bioluminescent, eyeless worm-like creature, evolved to navigate and communicate in the pitch-black subterranean environment using its phosphorescent glow and vibration-sensitive tendrils.","The Lumigraptor is a bioluminescent predator with sonar-like echolocation, evolved to navigate the pitch-dark subterranean lakes and hunt blind cave fish.","The Lumiglow Worm, a bioluminescent creature that evolved to navigate and hunt in complete darkness using light-producing bacteria symbiosis, thrives by consuming subterranean fungi.","The Lumiglob, a bioluminescent sphere-like creature, evolved to navigate and communicate in complete darkness by emitting pulses of light to sense its surroundings and attract mates.","A luminescent, eyeless salamander might evolve, using bioluminescence to attract prey in the pitch-black environment and relying on heightened senses of touch and smell to navigate the subterranean ecosystem.","A bioluminescent, eyeless salamander might evolve in this ecosystem, relying on vibration-sensitive skin to navigate and hunt in complete darkness.","The Luminocrawler, a bioluminescent, eyeless arthropod, evolved to navigate and communicate in the pitch-dark caverns through tactile antennae and light signals.","The Lumiglint Worm could evolve there, a bioluminescent annelid that generates light to navigate the pitch-black subterranean environment, feeding on mineral-rich deposits.","The Lumiglow Worm, a bioluminescent creature that feeds on mineral deposits and uses its glowing tail to attract prey in the dark subterranean caves.","The Lumiglow Worm could evolve there, a bioluminescent, heat-sensitive creature that navigates and communicates in the darkness using light patterns and thrives on chemosynthetic bacteria.",'The "Luminocorvus," a bioluminescent, featherless bird-like creature, evolved to navigate and hunt in the pitch-dark caverns, using echolocation and light-producing glands to communicate and find prey.',"A bioluminescent subterranean crawler, evolved to navigate and hunt in total darkness using its glow to attract prey and communicate with others of its kind.","The Lumiglimmer, a bioluminescent worm-like creature, evolved to navigate and communicate in total darkness using light patterns to find food and mates.","A bioluminescent, eyeless salamander could evolve, using its glow to attract prey in the pitch-black environment while relying on heightened senses of touch and smell for navigation.","The Luminescent Cave Glider, a blind, bioluminescent amphibian that uses echolocation to navigate and communicate in the dark, nutrient-rich underground lakes.","A bioluminescent, eyeless cave crawler might evolve there, using sensitive feelers to navigate and communicate in complete darkness.","A luminescent, eyeless salamander with sensitive skin that detects vibrations, evolved to navigate and hunt in the perpetual darkness of subterranean caves.","The Lumiglow Worm, a bioluminescent creature that evolved to navigate and communicate in the pitch-black environment using light-emitting cells.","The Luminoctopus, a bioluminescent cephalopod, evolved to navigate the dark, pressurized waters by emitting light patterns to communicate and lure prey.","A bioluminescent, eyeless salamander could evolve in this ecosystem, using sensory organs to navigate and phosphorescent patches to communicate and lure prey in the perpetual darkness.","The Lumigroth is a bioluminescent, sightless creature with sonar-like abilities, evolved to navigate and hunt in the pitch-black, nutrient-rich subterranean lakes.","The Lumiglow Worm, a bioluminescent creature that evolved to navigate and communicate in the pitch-black subterranean environment using light patterns.","A bioluminescent, blind crustacean might evolve there, using its glowing appendages to navigate and communicate in the complete darkness of the subterranean environment.","The Luminis Wyrm, a bioluminescent, eyeless serpent-like creature, evolved to navigate and hunt in the pitch-black subterranean waters using echolocation and chemical sensors.","A bioluminescent, eyeless worm-like creature could evolve, using vibrations to navigate and feed on mineral-rich bacteria in geothermal vents.","The bioluminescent burrower, a blind, worm-like creature with light-emitting skin, evolved underground to navigate and communicate in pitch-dark environments.","A bioluminescent, eyeless salamander with highly sensitive skin might evolve in this ecosystem, relying on vibrations and chemical signals to navigate and hunt in complete darkness.","A bioluminescent, eyeless salamander might evolve in this ecosystem, using echolocation to navigate and phosphorescent bacteria to lure prey in complete darkness.","A bioluminescent, eyeless salamander might evolve in a subterranean ecosystem, relying on echolocation and light-producing organs to navigate and hunt in the pitch-dark environment.","A bioluminescent, eyeless salamander might evolve there, using echolocation to navigate and bioluminescent spots to communicate and attract prey in the perpetual darkness.","The Luminoraptor is a bioluminescent predator with highly sensitive thermal sensors, evolved to navigate and hunt in the complete darkness of its subterranean habitat.","In a subterranean ecosystem, bioluminescent cavefish might evolve, developing sightless eyes and light-emitting organs to navigate and communicate in the pitch-black environment.","A bioluminescent, eyeless salamander might evolve there, using its glow to navigate the dark and communicate with others in the pitch-black environment.","A bioluminescent, eyeless mollusk-like creature with a hardened shell might evolve to navigate and protect itself in the dark, high-pressure environment of a subterranean ecosystem, relying on chemical sensors to find food and mates."],"Propose a monster species that players might encounter in tunnel networks below the world, along with a concise origin story.":['Players might encounter "Gloom Crawlers," bioluminescent centipede-like creatures that evolved from surface insects, adapting to the subterranean darkness over millennia after a cataclysm drove them underground.',"The Lumivorax, bioluminescent serpentine creatures that feed on light, emerged from ancient crystals imbued with lost arcane energies, evolving in the darkness of the tunnels.","The Lumimaw, bioluminescent serpentine creatures, evolved from ancient, surface-dwelling reptiles, adapting to subterranean life after being trapped underground by seismic shifts millennia ago.","The Umbracrawlers, shadowy creatures born from the residual magic of an ancient subterranean civilization, now haunt the tunnels seeking remnants of their lost power.","The Lumigors are bioluminescent, blind creatures evolved from ancient surface lizards, forced underground by a cataclysmic event that blocked sunlight ages ago.",'Meet the "Lurking Umbras"\u2014shadowy creatures born from ancient, forgotten magic seeping into the earth, twisted by centuries of darkness and isolation.','The "Gloomcrawler" is a bioluminescent, spider-like creature that evolved from ancient, surface-dwelling arachnids that retreated underground to escape a cataclysmic event, adapting over centuries to thrive in the dark tunnels.','The "Chasmoths" are bioluminescent, moth-like creatures that evolved from surface insects, adapting to the subterranean world after an ancient cataclysm sealed them underground.',"The Lumivores are bioluminescent creatures that evolved from ancient cave-dwelling fish, adapting over millennia to feed on the energy of subterranean crystals.",'The "Gloom Serpent" is a bioluminescent, draconic creature evolved from ancient reptiles that absorbed magical energy from the earth\'s core, thriving in the darkness of subterranean tunnels.',"Meet the Lumivores, glowing centipede-like creatures mutated from exposure to underground bioluminescent fungi, now thriving in the eerie light they emit.","The Shadow Moles are blind, subterranean creatures that evolved from surface moles, mutated by ancient magic to guard the depths against intruders.",'The "Shadow Lurker" is a creature that evolved from miners lost in catastrophic cave-ins, transformed by the mysterious energies of the Earth\'s core into phantoms that feed on fear and darkness.',"The Lumivores are bioluminescent, worm-like creatures that evolved in the depths after absorbing residual magic from ancient subterranean battles, thriving on the energy and minerals of the underground.",'The "Gloomlurks" are bioluminescent, blind creatures that evolved from surface-dwelling reptiles, adapting to the darkness and using echolocation to navigate the labyrinthine tunnels after a cataclysm forced them underground millennia ago.',"The Lumigore: Bioluminescent creatures formed from ancient, mineral-rich stalagmites, animated by a mysterious energy spill from a long-lost civilization.",'Players might encounter "Lumivores," bioluminescent creatures that evolved from cave-dwelling insects exposed to ancient magical crystals, now feeding on light to survive.','Players might encounter the "Chthonian Wyrms," ancient earth-dwelling serpents awakened by seismic disturbances, believed to have been guardians of the planet\'s core since time immemorial.',"The Lumigore, bioluminescent subterranean creatures born from ancient, cursed crystals that absorbed the souls of lost miners, haunt the tunnels seeking vengeance and light.",'Players might encounter the "Gloomlurkers," bioluminescent, eyeless humanoids that evolved from ancient miners trapped underground centuries ago, adapting to the dark with heightened senses and luminescent skin to navigate and hunt.','Players might encounter "Gloom Crawlers," bioluminescent centipede-like creatures that evolved from surface insects that ventured underground millennia ago, adapting to the darkness by developing luminous patterns to communicate and navigate.','Players might encounter the "Umbral Diggers," ancient creatures born from the shadows of a cataclysmic event, which reshaped the world\'s underground, thriving on the darkness and minerals left behind.',"The Lumivores are bioluminescent, eyeless creatures that evolved from surface-dwelling animals trapped underground during a cataclysmic event, adapting to consume the glowing fungi that illuminate the tunnels.","The Lumigores are bioluminescent, blind creatures evolved from ancient surface beasts, adapted to navigate and hunt in the eternal darkness of subterranean tunnels.",'Players might encounter "Tunnel Wyrms," serpentine creatures born from ancient dragon blood spilled onto enchanted underground crystals, granting them luminescent scales and burrowing prowess.','The "Umbracrawlers" are shadowy creatures born from ancient sorcerers\' failed experiments to harness underground darkness, thriving in the endless tunnels.',"The Lumivores, bioluminescent creatures evolved from ancient cave-dwelling insects, thrive in darkness by feeding on light sources and emitting eerie glows to confuse their prey.",'Players might encounter "Gloomcreepers," shadowy creatures born from ancient elemental magic that seeped into the subterranean rock, giving life to the darkness itself.',"The Lumigore is a bioluminescent, blind creature evolved from ancient cave-dwelling reptiles, thriving in subterranean tunnels and feeding on minerals and small animals.","The Lurking Umbrals, shadowy creatures born from the mystical convergence of underground crystal formations and ancient dark magic, haunt the tunnels, seeking to absorb light and life to sustain their ethereal form.",'The "Lumivores" are bioluminescent, shadowy creatures that evolved from ancient surface predators trapped underground, adapting to hunt by luring prey with their glowing patterns.',"Species: Lumivores; Origin: Bioluminescent creatures that evolved from ancient cave-dwelling insects, adapted to absorb and feed on the subterranean fungi's light.",'The "Tunnel Wyrms" are giant, blind serpents that evolved from surface dragons, adapted to the darkness and pressure of the underground after being driven below by ancient cataclysms.',"The Lumivores, bioluminescent creatures born from the remnants of an ancient, underground civilization's energy experiments, now roam the tunnels feeding on light sources.",'Players might encounter the "Gloomshades," shadowy creatures born from the residual magic of an ancient subterranean civilization that collapsed, leaving behind cursed relics.',"The Lumigrawls are bioluminescent, worm-like creatures that evolved from ancient surface-dwelling insects, adapting to the subterranean darkness by developing light-emitting organs to lure prey.",'Players might encounter the "Lumivores," bioluminescent creatures that evolved in the tunnels after being exposed to mysterious, glowing crystals deposited by an ancient meteorite.','The "Gloomlurkers" are bioluminescent, serpentine creatures that evolved from surface reptiles trapped underground during a cataclysmic earthquake, adapting to the darkness by developing phosphorescent scales.','The "Cavernous Wyrms" are bioluminescent serpentine creatures born from ancient dragon eggs that absorbed subterranean energies over millennia.','The "Gloomlurks" are shadowy creatures that once were miners, transformed by an ancient curse after unearthing a forbidden relic deep within the tunnels.','Meet the "Gloom Crawlers," bioluminescent centipede-like creatures evolved from ancient insects that adapted to the darkness of subterranean tunnels after a cataclysm forced them underground millennia ago.','The "Lumivores" are bioluminescent creatures that evolved from ancient cave-dwelling insects, thriving in darkness and feeding on the ambient magical energies of the underground.','The "Chthonian Lurker," a bioluminescent, spider-like creature that evolved from surface arachnids, adapted to the dark by developing phosphorescent markings to communicate and hunt using echolocation in the ancient subterranean realms.',"Species: Gloomlurkers; Origin: Once surface-dwelling, these creatures mutated into shadowy, sightless predators after centuries of exposure to underground magical crystals.",'The "Umbral Gorgers" are blind, cave-dwelling creatures that evolved from ancient surface predators, adapting to the darkness by sensing vibrations and devouring any source of light.',"The Lumigores are bioluminescent, mole-like creatures that evolved from surface mammals trapped underground during a cataclysmic event, adapting to navigate and thrive in the pitch-black tunnels.","The Lumivores are bioluminescent creatures formed from the fusion of ancient fungi and lost miners, created when an alchemical spill seeped into the subterranean depths.",'Players might encounter the "Chasm Crawlers," bioluminescent centipede-like creatures that evolved from surface insects trapped underground after a cataclysmic event sealed the tunnel networks.','The "Murkling" is a bioluminescent creature evolved from ancient subterranean amphibians, adapted to navigate and hunt in the lightless tunnels after an ancient cataclysm sealed them underground.','Players might encounter "Gloomlurks," shadowy creatures born from the remnants of ancient sorcery that seeped into the earth, mutating the underground fauna into these predatory beings.'],"Generate a folklore-style underground creature for a game world, and include a short account of its history or legend.":["Name: Grumblestone Crawler. Legend says these elusive creatures, resembling rocky centipedes, were once mountain spirits that descended underground to guard the secrets of forgotten dwarven forges.","The Gloomdweller is a shadowy, mole-like creature said to weave through the earth's depths, crafting intricate tunnel networks; legend tells it once saved a village by redirecting a flood underground, earning the title \"Earth's Guardian.\"","The Gloomlurker is a shadowy, mole-like creature believed to tunnel beneath ancient forests, emerging only to steal the dreams of lost wanderers; legends say it was once a guardian spirit of the earth before a curse twisted its purpose.","The Gloomdelve Creeper is a shadowy, serpentine creature that haunts the caverns beneath the Old Kingdom, believed to be the spirit of a cursed miner who guards the secrets of the lost, forgotten gold veins.","The Gloomserpent is a massive, eyeless worm said to dwell beneath ancient forests, its legend born from tales of villages swallowed whole during moonless nights, believed to be guardians of buried secrets.","The Gloomcrawler is a serpent-like creature that slithers through caverns, whispering secrets of lost treasures; legend says it was once a guardian spirit turned malevolent after its treasures were stolen.",'The "Mirebound Grumble" is a subterranean creature said to emerge from swampy depths, with a legend claiming it once guarded an ancient treasure buried beneath a cursed bog, echoing its mournful howls to ward off intruders.',"The Gloomgrubber is a mole-like creature with bioluminescent eyes, said to have been cursed by a vengeful forest spirit to eternally dig tunnels in search of lost treasures, leading explorers astray with its eerie glow.","The Gloomdweller, a shadowy creature with luminescent eyes, is said to guard ancient tunnels beneath the earth, created long ago by a forgotten civilization to hide their most precious secrets.","The Gloomgrub is a bioluminescent, worm-like creature said to tunnel through the deepest caverns, guiding lost miners to safety but cursing those who seek its glowing hide with eternal darkness.","The Gloomgnawer is a bioluminescent mole-like creature that tunnels beneath ancient forests, said to have been created by an earth deity to protect sacred roots from intruders, glowing brighter when danger approaches.","The Gloomlurker is a shadowy, worm-like creature said to tunnel through the depths, feeding on echoes of forgotten songs; legend claims they were once spirits of lost bards, cursed by a jealous mountain god.","The Gloomgnasher is a blind, mole-like creature with razor-sharp claws, said to carve vast tunnels beneath ancient forests; legend tells of its creation by a forgotten druid who sought to protect the woodland from invaders.","The Gloomcrawler is a shadowy, centipede-like creature said to dwell in the world's deepest caverns, believed to be the cursed remnants of miners who greedily delved too far into the earth, now eternally guarding lost veins of precious metals.","The Gloomcrawler, a shadowy, six-legged creature with luminescent eyes, is said to guide lost miners to hidden veins of ore, but only if they offer a silver token; legend claims it was born from the tears of a betrayed mountain spirit seeking justice.",'Deep beneath the earth dwells the "Glimmerwight," a luminescent worm revered in ancient miner folklore; legends claim it leads lost souls to hidden treasures, but only if approached with pure intentions.',"The Glimmergnaw is a luminescent worm-like creature that tunnels beneath ancient forests, rumored to be the guardian of lost treasures and feared for its ability to swallow intruders whole, leaving behind only a faint glow in the soil. Legend says it was born from a fallen star, destined to protect the earth's hidden secrets.","The Grumblekin is a subterranean creature known for its rumbling growls; legend says it was created by an ancient sorcerer to guard forgotten treasures deep within the earth, its voice echoing through the tunnels to ward off intruders.","Name: Umbragrit\n\nLegend: Deep beneath the earth, the Umbragrit are said to be the guardians of forgotten treasures, born from shadows cast by ancient sunken cities; they emerge only during lunar eclipses to whisper secrets of lost civilizations to those who dare to listen.","The Glimmerwight is a bioluminescent mole-like creature that tunnels beneath ancient forests; legend says they were once forest spirits cursed by a jealous earth deity to forever seek the sun they once loved.","Name: Umbragrotter. Legend: It is said that the Umbragrotter, a shadowy, mole-like creature, was once a guardian spirit of the earth, tasked with maintaining the balance of darkness and light underground, but it turned elusive and reclusive after a cataclysmic event shattered the harmony it protected.","The Gloomroot is a subterranean creature resembling a knotted, luminescent vine, said to have sprouted from the tears of a betrayed earth spirit, and is rumored to guide lost travelers with its eerie glow through the darkest caverns.","The Gloomgrub is a luminescent, worm-like creature that dwells in the depths of ancient caverns, believed by miners to be the spirits of lost souls seeking redemption, guiding those who respect the earth to hidden veins of precious minerals.","The Glimmerscale is a bioluminescent serpent that weaves through subterranean caverns, believed by miners to be a guardian spirit that leads the lost to safety, a legend born from tales of its shimmering scales lighting the way for those trapped in darkness.","The Gloomforger is a mythical underground smith that forges enchanted weapons from shadow-steel; legend says it was once a skilled blacksmith who was cursed for greed, doomed to toil eternally in the dark depths.","The Umberwisp is a luminescent, mole-like creature that tunnels beneath ancient forests, known for guiding lost travelers to safety; legend says it was once a guardian spirit punished to roam underground for eternity.","The Gloomwraith is a shadowy, serpentine creature that weaves through underground caverns; legend speaks of it as the cursed spirit of a miner who betrayed his comrades for gold and was condemned to guard the tunnels for eternity.","The Myrnock is a bioluminescent mole-like creature that tunnels under ancient forests, said to be guardians of hidden treasures, emerging only when the forest is in dire need of protection.","The Glimmergnash, a bioluminescent mole-like creature, is said to have once guided lost miners to safety with its glowing fur, becoming a symbol of hope and fortune in the deep caverns.","The Gloomwight is a shadowy, mole-like creature that prowls the deepest caverns; legend says it was once a guardian spirit cursed to burrow endlessly after failing to protect its sacred cavern from invaders.","The Gloomcrawler is a shadowy, worm-like creature dwelling in deep caverns, believed to be the cursed spirit of a greedy miner who tunneled too deep in search of forbidden treasures, now emerging only during new moons to feed on echoes of fear.","The Gloomgrub is a giant, luminescent worm that burrows through the deepest caverns, believed to have been created by an ancient sorcerer to guard his hidden treasures, but over centuries, it has become a feared yet revered guardian of the underground.","The Gloomling is a shadowy subterranean creature said to weave tunnels through the earth, and legend tells that they were once guardians of buried secrets, cursed to eternal darkness for divulging hidden treasures to greedy surface dwellers.","The Grumblestone is a subterranean creature resembling a massive, sentient boulder, known to guard ancient tunnels with its rumbling growls; legend says it was once a mountain spirit cursed to roam below after a betrayal by surface dwellers.","The Gloomgrub is a bioluminescent, worm-like creature that burrows deep beneath the earth, said to be the spirits of lost miners guiding the worthy to hidden veins of precious gems.","The Grumbleburrow is a mole-like creature with glowing eyes, rumored to have been the guardian spirit of ancient miners, who believed its presence ensured safe passage through treacherous tunnels.","The Gloomlurker is a shadowy creature that dwells in the depths of forgotten caves, said to be the cursed remnants of a greedy miner, eternally seeking the gems he once coveted but never finding rest.","The Gloomscale is a serpentine creature with luminescent scales, said to be the guardian of ancient underground lakes, born from the tears of a long-lost moon goddess who wept for her lost reflection.","The Gloomwurm is a bioluminescent serpent rumored to guard the hidden treasures of the Dwarven King, said to have been summoned by ancient miners to light their tunnels and protect their secrets.","The Gloomgnawer is a mole-like creature that tunnels beneath ancient forests, rumored to have been cursed by a forgotten druid to forever consume the roots of greed-grown trees, ensuring balance in nature.","The Gloomwraith is a shadowy, serpentine creature said to dwell in ancient subterranean caverns, known for weaving illusions to lure miners astray; legend has it that it was once a guardian spirit of the earth, cursed for its jealousy of human greed.","The Gloomcrawler is a shadowy, mole-like creature said to protect buried treasures; legend tells of miners who vanished after encountering its glowing eyes deep within the earth.","The Gloomling is a shadowy creature said to dwell in the deepest caverns, believed to be the cursed remnants of miners who dug too greedily, eternally seeking the light they once knew.","The Gloomling is a shadowy, mole-like creature that weaves through the earth, said to be the guardian of buried secrets; legend tells of miners who vanished after unearthing its hidden tunnels, leaving only whispered echoes behind.","Name: Gloomgrub. Legend has it that the Gloomgrub, a luminescent worm-like creature, was created by an ancient sorcerer to guard buried treasures, and its eerie glow is said to lure greedy adventurers into the depths of the earth, never to return.","The Vurglith is a bioluminescent mole-like creature that tunnels beneath enchanted forests; legend says it was created by the forest spirits to guard hidden treasures and guide lost souls to safety.","The Gloomshuffler is a shadowy, mole-like creature that feeds on darkness, believed to have emerged from the deepest caves during a solar eclipse to balance the world's light and dark.","The Gloomburrower is a mole-like creature that navigates through tunnels with bioluminescent spines, said to have been created by an ancient sorceress who sought to guard her subterranean treasures.",'In the shadowy depths of the earth dwell the "Kraglins," stone-skinned creatures that once served as guardians of ancient treasure hoards, but legend says they turned rogue after their masters vanished, now fiercely defending their subterranean lairs from intruders.',"The Gloomgrotter is a mole-like creature with luminescent whiskers, believed to be the guardian of hidden treasures, emerging only during lunar eclipses to guide the worthy to fortune."],"Craft a new type of monster adapted to life in dark, buried environments and summarize how it came into existence.":["The Lurklight is a bioluminescent, blind creature with heightened senses and razor-sharp claws, evolving from cave-dwelling insects that adapted to feed on subterranean fungi and navigate through total darkness.",'The "Umbral Burrower" is a bioluminescent, eyeless creature with long, sensitive tendrils, evolved from surface-dwelling insects that were driven underground by cataclysmic surface events.','The "Gloomcrawler" is a bioluminescent, eyeless creature with heightened senses of touch and hearing, evolved from surface-dwelling insects that burrowed underground to escape predators and harsh climatic changes.','The "Gloomlurker" is a bioluminescent subterranean creature evolved from surface-dwelling reptiles, adapting to life in darkness with echolocation and phosphorescent scales for communication and navigation.','The "Gloomcrawler" is a bioluminescent, eyeless creature with heightened senses and burrowing claws, evolved from ancient surface predators that adapted to the subterranean darkness to escape extinction.',"The Umbracrawler evolved in lightless caverns, developing bioluminescent sensory tendrils and a chitinous exoskeleton to navigate and hunt in complete darkness, originating from surface-dwelling arthropods that burrowed underground to escape predators.","The Umbral Crawler is a blind, bioluminescent creature with heat-sensitive pits and elongated limbs, evolved from surface-dwelling insects that burrowed underground to escape predators and adapted over millennia to thrive in complete darkness.","The Shadowlurker is a bioluminescent, eyeless predator with sensitive skin that detects vibrations, having evolved from cave-dwelling insects exposed to high mineral concentrations in subterranean environments over millennia.",'The "Umbracrawler" is a bioluminescent, burrowing creature with heat-sensitive vision and tough, rock-like skin, evolved from surface-dwelling insects that adapted to underground life after being trapped by a cataclysmic event.',"The Umbracrawler is a bioluminescent, eyeless creature with elongated limbs and sensitive skin that evolved from surface-dwelling insects forced underground due to cataclysmic surface events.","The Subterranean Gloombeast, a bioluminescent predator with heightened senses and retractable claws, evolved from surface-dwelling creatures that adapted to a life of hunting and survival in the pitch-black depths of ancient cave systems.",'The "Umbracrawler" is a bioluminescent, eyeless predator with heightened senses of touch and hearing, evolved from surface-dwelling creatures that sought refuge underground during a cataclysmic event.',"The Glowburrower, a bioluminescent, subterranean creature with hardened scales and sensitive antennae, evolved from surface-dwelling insects that gradually adapted to underground life through generations of environmental pressures and natural selection.",'The "Burrowshade" is a bioluminescent, eyeless creature with elongated limbs and sensitive antennae, evolved from surface-dwelling ancestors during an ancient cataclysm that forced them to adapt to a subterranean world.',"The Shadowlurker is a bioluminescent, eyeless creature that evolved from cave-dwelling reptiles, developing heightened senses and light-producing scales to navigate and hunt in pitch-black subterranean worlds.","The Gloomlurker evolved from nocturnal creatures that adapted to subterranean life, developing bioluminescent skin for navigation and echolocation to hunt in pitch-black caves.","The Gloomlurker, a bioluminescent, eyeless creature with sensitive vibration-detecting tendrils, evolved from surface-dwelling reptiles that sought refuge underground during an ancient cataclysm that blocked sunlight.","The Lumivorax, a bioluminescent subterranean creature with photosensitive skin, evolved from surface-dwelling reptiles that burrowed underground to escape predators, adapting over millennia to thrive in pitch-black caverns.","The Shadowcrawler is a bioluminescent, eyeless creature with elongated limbs and sensitive skin that evolved from ancient surface reptiles that adapted to subterranean life following a cataclysmic event blocking sunlight.","The Gloomcrawler is a bioluminescent, worm-like creature with phosphorescent tendrils, evolved from surface-dwelling insects that burrowed deep underground to escape predators and adapted to thrive in perpetual darkness.","The Umbraclaw is a bioluminescent, blind creature with heightened senses and powerful digging claws, evolved from surface predators that adapted to underground life after a cataclysmic surface event.","The Gloomcrawler is a bioluminescent, blind creature with echolocation abilities, evolved from surface-dwelling insects that burrowed underground to escape predators and harsh sunlight.","The Lumivor is a bioluminescent, eyeless creature with sensitive skin for detecting vibrations, evolved from surface-dwelling reptiles that adapted to subterranean life due to environmental changes driving them underground.",'The "Umbragore" is a blind, bioluminescent creature with powerful digging claws, evolved from surface predators that sought refuge underground to escape predators and harsh climates.',"The Lumogor is a bioluminescent, subterranean creature with reflective scales and acute echolocation abilities, evolved from surface-dwelling reptiles that sought refuge underground during a cataclysmic event.","The Shadowmole is a bioluminescent creature with heat-sensitive pits and retractable claws, evolving from surface moles that burrowed deeper to escape predators and adapt to subterranean darkness.","The Gloomcrawler, a bioluminescent, worm-like creature with armored scales and spiky appendages, evolved from surface-dwelling insects that gradually adapted to subterranean life to escape predators and harsh surface conditions.",'The "Gloomcrawler" is a bioluminescent, eyeless creature with powerful digging claws, evolved from surface creatures that burrowed underground to escape predators and harsh weather, developing luminescence to attract prey in the dark.','The "Umbral Crawler" is a bioluminescent, multi-limbed creature with heat-sensing appendages, evolved from cave-dwelling insects to thrive in pitch-black subterranean ecosystems, feeding on minerals and small underground organisms.','The "Shadow Burrower" is a bioluminescent, worm-like creature with heat-sensitive pits and retractable claws, evolved from surface predators that sought refuge underground during a cataclysmic event blocking sunlight.','The "Gloomcrawler" is a bioluminescent, eyeless creature with elongated limbs and sharp claws, evolved from surface-dwelling insects that burrowed underground to escape predators and adapted over centuries to the pitch-black tunnels.',"The Umbracrawler is a bioluminescent, eyeless creature with sharp, retractable claws and a heightened sense of vibration, evolved from surface-dwelling reptiles that burrowed underground to escape predators and harsh climates.","The Shadow Burrower, a bioluminescent, eyeless creature with heightened senses and burrowing claws, evolved from surface dwellers trapped underground after a cataclysm, adapting over generations to thrive in perpetual darkness.",'The "Gloomcrawler" is a bioluminescent, eyeless creature with spindly limbs and sensitive feelers, evolved from surface-dwelling insects that were trapped underground during a seismic event, adapting over generations to navigate and hunt in pitch-black caverns.',"The Tunnel Wraith, a bioluminescent, eyeless creature with powerful digging claws, evolved from surface mammals that gradually adapted to subterranean life to escape predators and harsh weather.",'The "Umbracrawler" is a bioluminescent, eyeless creature with highly sensitive feelers and a tough, segmented exoskeleton, evolved from surface-dwelling insects that adapted to life in deep, lightless caverns for survival.',"The Shadow Burrower, a blind, bioluminescent creature with elongated limbs for navigating tight spaces, evolved from surface-dwelling insects that gradually adapted to the perpetual darkness and confined conditions of subterranean caverns.","The Shadow Burrower is a bioluminescent, subterranean creature with hardened skin and elongated claws, evolved from surface predators forced underground by cataclysmic events, thriving in perpetual darkness by hunting through echolocation.",'The "Gloomcrawler" is a bioluminescent, eyeless creature with elongated limbs and sensitive skin to navigate and hunt in pitch-black underground tunnels, evolved from surface-dwelling insects that burrowed deeper over millennia to escape predators.','The "Umbracrawler" is a bioluminescent, eyeless creature with heat-sensitive skin and elongated limbs, evolved from surface-dwelling insects that gradually adapted to subterranean life due to changing climatic conditions and geological shifts.','The "Umbral Burrower" is a blind, bioluminescent creature with sharp claws and heightened echolocation abilities, evolved from surface-dwelling mammals that adapted to subterranean life after a cataclysm forced them underground.','The "Gloomcrawler" is a bioluminescent, eyeless insectoid creature with sensitive antennae, evolved from surface insects that gradually adapted to life in deep, lightless caves through generations of mutation and natural selection.',"The Gloomcrawler is a bioluminescent, eyeless arthropod that evolved in deep underground caverns, developing sensitive antennae and a phosphorescent exoskeleton to navigate and communicate in utter darkness.","The Shadow Burrower, a bioluminescent, eyeless creature with heightened senses and razor-sharp claws, evolved from cave-dwelling insects over millennia, adapting to thrive in subterranean ecosystems by developing the ability to navigate and hunt in complete darkness.","The Gloomlurker is a bioluminescent, eyeless creature with sensitive skin that evolved from surface-dwelling reptiles, adapting over millennia to thrive in subterranean caverns by using echolocation and feeding on mineral-rich deposits and small cave organisms.","The Umbracrawler, a bioluminescent, eyeless arthropod with sensitive antennae, evolved from surface-dwelling insects that gradually adapted to the nutrient-rich, pitch-black subterranean world after being trapped underground by a series of cataclysmic landslides.",'The "Gloomcreep" is a bioluminescent, eyeless creature with sensitive tendrils for navigation and feeding, evolved from surface-dwelling insects that adapted to deep subterranean caves over millennia due to geological shifts.',"The Gloomlurker is a bioluminescent, blind insectoid that evolved from surface-dwelling insects, adapting to subterranean life by developing heightened senses of touch and vibration to navigate and hunt in complete darkness.",'The "Umbracrawler" is a bioluminescent, sightless predator that evolved from subterranean cave-dwelling insects, developing heightened senses and luminescent lures to navigate and hunt in complete darkness.','The "Cave Wraith" evolved from ancient subterranean creatures, developing bioluminescent skin for navigation and elongated limbs for maneuvering through narrow tunnels in pitch-black environments.'],"Think of a creature that lurks in deep caverns for my game and provide a short tale of where it came from.":["The Shadow Serpent, a creature born from the whispers of ancient sorcerers banished underground for their dark magic, now guards the caverns with an insatiable hunger for lost souls.","The Abyssal Grothnik, once a guardian spirit of ancient forest groves, was cursed by a vengeful sorcerer to dwell eternally in the darkest depths of the earth, its luminous eyes now guiding lost souls through the caverns.","The Gloomfang is a spectral beast born from the shadows of ancient miners who delved too greedily, now guarding their forsaken treasures in the abyss.","The Shadowlurker, once a guardian spirit of the mountain, was cursed by a vengeful sorcerer, transforming it into a malevolent entity that now haunts the depths, seeking to reclaim its lost light.","The Gloomwight, a luminescent, eyeless predator, emerged from ancient, forgotten laboratories deep within the earth, remnants of a bygone civilization's genetic experiments gone awry.","Deep within the shadowy caverns dwells the Lumigoth, a bioluminescent beast born from ancient crystals absorbing the souls of lost miners, now haunting the depths with its eerie glow.","The Abyssal Shadow, once a guardian spirit of ancient miners, was cursed to dwell in darkness after its wardens betrayed it for greed, now haunting the caverns it once protected.","The Shadow Wyrm, a serpentine creature born from the whispers of ancient sorcery, was once a guardian spirit of light until it was cursed by a vengeful mage and banished to the depths, where it now prowls the caverns, seeking freedom from its dark fate.","The Gloomwraith, once a guardian spirit of ancient miners, was cursed by a vengeful sorcerer to dwell eternally in darkness, preying on those who disturb the cavern's secrets.","The Gloomcrawler, born from the shadows of a cursed stalactite, emerged when a sorcerer\u2019s forbidden spell seeped into the earth, forever binding the creature to the cavern\u2019s depths.","The Gloomfang, a shadowy creature with eyes that glow like molten gold, was once a majestic forest guardian, corrupted by dark magic and banished to the depths of the earth where it now haunts forgotten caverns.","The Umbra Serpent, born from a mysterious ancient ritual gone awry, slithers through deep caverns, feeding on the shadows of lost adventurers.","The Shadowlurker, a creature born from the remnants of a long-lost civilization's dark rituals, now haunts the caverns, seeking revenge for its creators' forgotten sins.","The Shadowlurker, once a guardian spirit of the surface forests, was cursed by a vengeful sorcerer and banished to the caverns, where it now feeds on the echoes of lost souls.","Deep within shadowy caverns dwells the Noxious Wyrm, a creature born from the cursed breath of an ancient dragon who fell into the earth, its essence seeping into the stone and giving life to this venomous guardian of the dark.","The Gloomfang, a shadowy beast with luminescent eyes, was once a guardian spirit of ancient caves, twisted by dark magic into a fearsome predator.","The Nyxmaw, a shadowy creature born from the ancient curse of a sorcerer banished underground, feeds on fear and whispers the forgotten secrets of the earth.","The Gloom Serpent, born from the ancient magic of a forgotten civilization, slumbers in the abyssal depths, guarding the secrets of its creators.","The Shadowlurker, born from the essence of forgotten dreams cast into the abyss, emerged when an ancient sorcerer's spell went awry, giving life to a creature that feeds on the echoes of lost hopes in the darkness of deep caverns.","The Varnok, once a benevolent guardian spirit of ancient forests, was twisted by dark magic into a monstrous being that now prowls the deep caverns, seeking revenge on those who desecrated its woodland home.","The Gloomwraith, born from the sorrow of forgotten miners, twists through shadowed tunnels, its essence a fusion of ancient earth and lost dreams.","The Shadowlurker, a creature born from ancient sorcery gone awry, was once a guardian spirit that fell into darkness when its master's spellbook was lost deep within the caverns.","The Gloomcrag Lurker, a creature born from the shadowy remnants of a forgotten sorcerer's magic, haunts the deep caverns where it was inadvertently summoned centuries ago during a failed ritual seeking eternal life.","The Gloomspore Wyrm, a bioluminescent serpent born from the fusion of ancient magic and subterranean fungi, emerged when a sorcerer's failed experiment seeped into the caverns, transforming a mundane earthworm into a guardian of the deep.","The Gloomwraith, born from the shattered dreams of miners who never saw the sun again, haunts the caverns seeking to reclaim the lives lost to greed and darkness.","The Umbradrake, a shadowy serpent born from the cursed essence of an ancient sorcerer, was banished to the caverns when his dark magic backfired, forever binding him to the subterranean depths.","The Shadowlurker, once a guardian spirit of ancient miners, was cursed by a vengeful sorcerer, transforming it into a fearsome beast that now haunts the labyrinthine depths, driven by an insatiable hunger for the souls of the lost.","The Gloomwraith, once a cursed miner seeking fortune, transformed into a shadowy guardian of the cavern's secrets after unearthing an ancient, forbidden relic.","The Gloomshroud is a mysterious creature born from the shadows of a cataclysmic underground eruption, feeding on the darkness and echoing the ancient whispers of the earth.","The Shadowlurker, a creature born from the remnants of ancient, cursed miners, haunts the deep caverns, driven by their unending thirst for precious stones that eluded them in life.","Deep within the caverns dwells the Shadowhowler, a creature born from the whispers of lost adventurers, cursed to guard the treasures they sought in eternal darkness.","The Gloomdweller, a shadowy creature born from the remnants of a forgotten sorcerer's curse, lurks in deep caverns, seeking to reclaim the magic lost to time.","In the shadowy depths of the caverns dwells the Lumigore, a bioluminescent beast born from the crystallized remains of an ancient sorcerer banished to the underworld, forever haunting the dark in search of lost magic.","In the depths of ancient caverns dwells the Gloomwraith, a spectral entity born from the sorrow of miners who perished in a forgotten collapse, their restless spirits merging into a single, mournful guardian of the darkness.","In the depths of the caverns dwells the Gloomling, a creature born from the shadows cast by an ancient, cursed crystal that fell from the heavens, feeding on the darkness and growing into a mysterious guardian of the underworld.","The Luminara was once a majestic bird of the surface, but a curse of darkness drove it into the caverns, where it evolved into a glowing, shadowy predator.","The creature, known as the Gloomweaver, was once a sorcerer who delved too deeply into forbidden shadow magic, transforming into a monstrous being forever bound to the dark caverns he sought to control.","The Gloomwraith is a shadowy creature born from the despair of lost explorers, formed when their souls melded with the deep cavern's dark magic to eternally haunt its depths.","The Umbragloom was once a curious miner who delved too deep into enchanted caverns, transforming into a shadowy beast after disturbing ancient, cursed crystals.","The Gloom Serpent, once a guardian spirit of the forest, was banished underground by a jealous sorcerer, transforming into a sinister beast that now haunts the deepest caverns.","The Umbral Crawler, born from the shadows of the world\u2019s creation, emerged when an ancient sorcerer accidentally tore the veil between dimensions, forever binding it to the darkness of deep caverns.","In the deepest caverns dwells the Lurking Umbrabeast, once the guardian spirit of an ancient, now-sunken city, twisted by centuries of solitude into a shadowy predator.","The Gloomspinner, a bioluminescent arachnid creature, emerged from the depths after absorbing the ancient magic of a shattered crystal, which once sealed a forgotten darkness.","The Shadow Wyrm, once a revered guardian of an ancient subterranean realm, was cursed by a vengeful sorcerer to forever wander the caverns in search of lost relics to reclaim its honor.","In the depths of forgotten caverns dwells the Umbragloom, a creature born from the shadows of a cursed miner who delved too deep in pursuit of forbidden gems, forever bound to the darkness.","In the depths of the ancient caverns dwells the Lumigoth, a bioluminescent beast born from a shard of a fallen star, granting it eerie light and an insatiable hunger for the warmth of life.","In the depths of the caverns dwells the Lumigore, a bioluminescent beast born from the remnants of an ancient meteor, mutating subterranean creatures with its cosmic energy.","The Gloomwraith, a shadowy creature born from the sorrowful spirits of ancient miners who once toiled in the caverns, now guards their forgotten treasures with an eerie, mournful song.","The Gloom Serpent, once a revered guardian of an ancient subterranean civilization, was cursed to eternal darkness after its people vanished, forever lurking in the caverns it once protected.","The Gloom Weaver, once a celestial guardian, was cursed and banished to the cavern depths after betraying its kind for forbidden knowledge, now preying on lost souls to regain its lost power."]},user_study_places:{"I am working on a game where players explore a magical underground world. Come up with a location in this world and briefly describe its history or purpose.":["The Luminous Caverns: Once a sacred gathering place for an ancient civilization, these caverns are illuminated by bioluminescent fungi and crystals, believed to hold the secrets to harnessing elemental magic.","The Crystal Caverns: Once a sacred meeting place for ancient sorcerers, these luminescent caverns now serve as a haven for magical creatures and a source of rare enchanted crystals.","The Luminescent Caverns: Once the sacred gathering place of an ancient order of bioluminescent creatures, these glowing caverns now serve as a guiding beacon for lost adventurers, illuminating hidden paths and secrets.","The Luminous Cavern: Once an ancient gathering place for a lost civilization of crystal artisans, its walls still hum with residual magic, illuminating pathways with a soft, ethereal glow.","The Luminescent Cavern: Once a secret library for an ancient order of mages, its walls glow with enchanted symbols that illuminate forgotten spells and lore.","The Luminescent Cavern is a vast underground chamber filled with bioluminescent fungi, once a sacred gathering place for an ancient civilization who believed the glowing spores held the secrets to eternal wisdom.","The Luminescent Caverns are an ancient network of tunnels illuminated by bioluminescent fungi, once a sacred gathering place for the now-vanished Glowstone Elves who harnessed the light for mysterious rituals.","The Luminous Cavern, once a sacred gathering place for ancient druids, glows with bioluminescent fungi and crystal formations, believed to hold the secrets of nature's magic.","Crystal Cavern: Once a hidden sanctuary for ancient sorcerers, this glittering cave is imbued with residual magic, enhancing spells and revealing hidden truths to those who enter.","The Luminescent Cavern, once a hidden sanctuary for ancient wizards, glows with bioluminescent fungi that were used to brew powerful potions and cast protective spells.","The Luminescent Caverns: Once a hidden sanctuary for ancient wizards, these caverns glow with bioluminescent crystals that were used to harness and amplify magical energy for powerful spells.","Crystal Cavern: Once a sacred site for ancient druids, this shimmering cavern is filled with luminescent crystals that hold the whispers of lost spells and forgotten lore.","The Luminescent Caverns are an ancient network of tunnels illuminated by bioluminescent fungi, once a sacred meeting place for magical creatures to exchange knowledge and secrets.","The Luminous Cavern: Once an ancient gathering place for a vanished civilization, the walls of this cavern are embedded with glowing crystals that pulse with the echoes of forgotten rituals.","The Luminescent Cavern: Once a sacred meeting place for an ancient order of druids, the cavern's glowing crystals are said to hold the wisdom of nature and still guide adventurers with their ethereal light.","The Luminous Cavern is an ancient subterranean library where glowing crystal formations preserve the knowledge of forgotten civilizations, accessible only to those who solve its luminescent puzzles.","Crystal Caverns: An ancient mine once used by elven mages to harvest luminescent crystals for powerful spells, now a maze of glowing tunnels filled with magical creatures.","The Luminescent Grotto: Once an ancient wizards' laboratory, this cavern glows with bioluminescent fungi, remnants of experiments aimed at harnessing nature's magic for illumination.","The Luminous Cavern: A vast underground chamber illuminated by glowing crystals, once a sanctuary for ancient wizards who harnessed the crystals' light to store and amplify their magical powers.","The Luminescent Cavern: Once a sacred gathering place for an ancient civilization, it is filled with bioluminescent crystals that pulse with the remnants of their magical rituals.","The Luminescent Caverns were once an ancient dwarven city, abandoned after a mysterious crystal growth enveloped it, now glowing with an eerie blue light and rumored to contain forgotten knowledge.","The Luminescent Grotto: Once a sacred meeting place for an ancient guild of light-wielding druids, this cavern is now filled with bioluminescent flora that guide explorers through its mysterious depths.","The Luminous Cavern: A vast underground chamber filled with bioluminescent crystals, historically used by ancient mages as a place of meditation and energy harnessing.","The Crystal Cavern: Once a sacred meeting place for an ancient order of mages, this luminescent cave is filled with glowing crystals that amplify magical abilities.","The Luminous Cavern: Once a secret meeting place for ancient sorcerers, it now glows with bioluminescent fungi and is rumored to enhance magical abilities.","The Luminescent Caverns: Once a sacred meeting place for ancient druids, these glowing caves are filled with bioluminescent crystals that pulse with the energy of forgotten spells.","The Luminous Cavern: Once a sacred site for ancient druids, this cavern is illuminated by bioluminescent crystals infused with nature's magic, serving as a sanctuary for rare flora and fauna.","The Luminescent Caverns: Once a sacred site for ancient druids who harnessed its glowing crystals for powerful rituals, now it serves as a mystical refuge for creatures of the underground.","The Luminous Caverns: Once a revered site for ancient druids who harnessed its glowing crystals for healing magic, now a sanctuary for those seeking light in the darkness.","The Luminescent Caverns: A network of caves glowing with bioluminescent fungi, once the secret meeting place of ancient wizards who harnessed its light for powerful enchantments.","The Luminescent Caverns: Once a sacred gathering place for a lost civilization of light-sensitive creatures, these caverns are now illuminated by bioluminescent fungi that reveal ancient murals depicting the creatures' history and rituals.","The Luminous Grotto is a cavern filled with glowing crystals that once served as a sacred meeting place for ancient wizards to harness and share their combined magical energies.","The Luminous Cavern: Once a hidden sanctuary for ancient wizards, this cavern glows with bioluminescent fungi and contains relics of old spells etched into the walls, serving as a place of meditation and magical experiments.","The Crystal Cavern: Once a sanctuary for ancient mages, this glittering grotto now amplifies magical energies, serving as a haven for those seeking to enhance their mystical abilities.","The Luminescent Cavern: Once a hidden sanctuary for ancient sorcerers, this cavern glows with bioluminescent crystals used to amplify spells and is now a refuge for lost wanderers seeking mystical guidance.","The Luminescent Cavern: Once a sacred meeting place for ancient druids, this cavern glows with bioluminescent fungi and is said to hold the secrets of earth's primordial magic.","The Crystal Caverns: Once a sacred site where ancient wizards harnessed the power of luminescent crystals to enhance their spells, now a glowing labyrinth teeming with magical creatures and forgotten secrets.","The Luminous Cavern: Once a grand library of an ancient civilization, its walls are embedded with glowing crystals that contain the knowledge and magic of the long-lost scholars.","The Luminous Cavern: Once a secret sanctuary for ancient sorcerers, this cavern glows with enchanted crystals that hold the remnants of their lost wisdom.","The Luminous Cavern: Once a secret meeting place for ancient wizards, this cavern glows with enchanted crystals that store echoes of their powerful spells.","The Luminous Cavern, once a sacred gathering place for ancient druids, now glows with bioluminescent fungi that illuminate long-forgotten runic inscriptions on its walls.","The Luminous Cavern: Once a sacred gathering place for ancient druids, this cavern is now illuminated by bioluminescent fungi that guide explorers through its winding tunnels.","The Crystal Caves once served as a sanctuary for ancient spellcasters seeking to harness the luminescent crystals' energy to enhance their magic, but now they glow with remnants of forgotten enchantments.","The Luminous Caverns are a vast network of glowing crystal caves once used by ancient wizards as a sanctuary for crafting powerful light-based spells.","The Luminous Cavern: Once a sacred gathering place for an ancient civilization, this vast underground chamber is illuminated by bioluminescent crystals that pulse with the energy of forgotten spells.","The Luminescent Caverns: Once a sacred meeting place for ancient sorcerers, these glowing caves are filled with bioluminescent crystals that pulse with the residual magic of forgotten rituals.","The Luminous Cavern: Once the sacred gathering place of an ancient subterranean civilization, its walls are now adorned with glowing crystals that hold the memories and wisdom of those who once thrived there.","The Luminescent Grottos: These caverns are illuminated by bioluminescent fungi once cultivated by an ancient civilization to light their subterranean city, now a mystical refuge for explorers seeking rare alchemical ingredients.","The Luminous Cavern is a vast underground chamber filled with bioluminescent crystals, once used by an ancient civilization as a sacred gathering place for rituals to harness the crystals' mystical energies.","The Crystal Caverns: An ancient network of luminescent caves, once a sacred meeting ground for wizards to harness and exchange elemental magic, now echoing with remnants of their spells."],"Come up with a location that exists underground and briefly describe its backstory.":["The Subterranean Library of Eldoria, once a hidden archive of ancient knowledge created by a forgotten civilization to preserve their wisdom from surface conflicts, now serves as a sanctuary for scholars seeking lost lore.","The Subterranean Library of Elysium was built by ancient scholars to preserve knowledge from a cataclysmic surface event, hidden within a vast network of caverns beneath the city of Alexandria.","The Underground Gardens of Fresno, California, were hand-carved by Sicilian immigrant Baldassare Forestiere over 40 years as a subterranean escape from the valley's intense heat.","The Underground Library of Alexandria was secretly constructed beneath the city after the original library\u2019s destruction, preserving ancient scrolls and knowledge for future generations.","The Subterranean Library of Athenor, hidden beneath the ancient city ruins, was built by scholars to preserve knowledge from a forgotten civilization during a great cataclysm.","The Derinkuyu Underground City in Turkey was built by the ancient Phrygians around the 8th century BCE to protect against invasions and could house up to 20,000 people.","The Subterranean Library of Alexandria is a hidden vault beneath the Egyptian desert, preserving ancient scrolls and texts saved from the original library's destruction by devoted scholars.","The Coober Pedy opal mines in Australia are a network of underground tunnels where miners began living in the 1910s to escape the extreme surface temperatures, creating an entire subterranean town.","The Paris Catacombs, originally limestone quarries, became an underground ossuary in the late 18th century to address the city's overflowing cemeteries.","The Vault of Whispering Echoes, an ancient subterranean library built by a forgotten civilization to preserve their knowledge, accessible only through hidden tunnels beneath the Andes.","The Catacombs of Paris, originally limestone quarries, became an underground ossuary in the late 18th century to address the city's overflowing cemeteries.","The Catacombs of Paris are underground ossuaries created in the late 18th century to house the remains of millions of Parisians, relocated from overcrowded cemeteries.","The Catacombs of Paris, originally limestone quarries, were transformed in the late 18th century into an underground ossuary to address the city's overflowing cemeteries.","The Vault of Whispers is an ancient subterranean library built by a forgotten civilization to preserve the knowledge of the world during a great cataclysm.","The Subterranean Library of Alexandria, hidden beneath the modern city, was secretly built by ancient scholars to preserve knowledge after the original library's destruction.","The Paris Catacombs, originally limestone quarries, became an underground ossuary in the late 18th century to alleviate the city's overflowing cemeteries.","The Catacombs of Paris are an underground ossuary created in the late 18th century to address the city's overflowing cemeteries, housing the remains of over six million people.","The Catacombs of Paris, originally limestone quarries, were transformed in the late 18th century into an underground ossuary to address the city's overflowing cemeteries.","The Paris Catacombs: Originally limestone quarries, they became an underground ossuary in the late 18th century to address the city's overflowing cemeteries.","The Subterranean Library of Alexandria is an underground repository rumored to have been built by ancient scholars to preserve lost texts from the Great Library before its destruction.","The London Silver Vaults, originally opened in 1876 as secure storage for valuables, now house a unique collection of silver merchants and antique treasures underground.","The Wieliczka Salt Mine in Poland, established in the 13th century, has a rich history of salt extraction and features intricate underground chapels carved by miners.","The Paris Catacombs, originally limestone quarries, became an underground ossuary in the late 18th century to address the city's overflowing cemeteries.","The Catacombs of Paris, originally limestone quarries, were transformed into underground ossuaries in the late 18th century to address the city's overflowing cemeteries.","The Paris Catacombs, originally limestone quarries, became a burial site in the late 18th century to address the city's overflowing cemeteries.","The Basilica Cistern in Istanbul was built in the 6th century to store water for the Byzantine capital, featuring impressive columns repurposed from ancient structures.","The Vault of Whispers is a hidden underground library, built centuries ago by an ancient order to preserve forbidden knowledge and secrets from the surface world.","The Subterranean Library of Aethelburh, hidden beneath an ancient city, was built by scholars seeking to preserve knowledge from a surface world embroiled in constant conflict.","The Paris Catacombs, originally limestone quarries, became an underground ossuary in the late 18th century to address the city's overflowing cemeteries.","The Catacombs of Paris: Originally limestone quarries, they were repurposed in the late 18th century to house the remains of over six million people due to overcrowded cemeteries.","The Salt Cathedral of Zipaquir\xe1 in Colombia is an underground Roman Catholic church built within the tunnels of a salt mine, originally constructed by miners seeking divine protection.","The Paris Catacombs, originally part of limestone quarries, became an underground ossuary in the late 18th century to address the city's overflowing cemeteries.","The Catacombs of Paris: Originally limestone quarries, they became an underground ossuary in the late 18th century to solve the city's overflowing cemetery problem.","The Subterra Library, hidden beneath the ancient city of Prague, was built by alchemists in the 16th century to safeguard forbidden knowledge and magical texts from inquisitors.","The Wieliczka Salt Mine in Poland, operational since the 13th century, is an underground marvel featuring intricate chambers, chapels, and sculptures carved from salt, reflecting centuries of mining history.","The Subterra Library, hidden beneath the city of Prague, was established in the 16th century by alchemists to preserve forbidden knowledge away from prying eyes.","The Underground City of Derinkuyu in Turkey, carved during the Byzantine era, served as a hidden refuge from invasions and religious persecution.","The Derinkuyu Underground City in Cappadocia, Turkey, was built by ancient civilizations as a refuge from invasions, extending over 200 feet deep with the capacity to house thousands of people.","The Catacombs of Paris, originally limestone quarries, were transformed in the late 18th century into an underground ossuary to address the city's overflowing cemeteries.","The Salt Cathedral of Zipaquir\xe1 in Colombia is a church built within the tunnels of a salt mine, originally constructed by miners seeking a place to pray for safety.","The Catacombs of Paris, originally limestone quarries, became an underground ossuary in the late 18th century to address the city's overflowing cemeteries.","The Subterranean Library of Alexandria, an underground vault rumored to protect ancient scrolls saved from the original library's destruction, was built by scholars who foresaw its demise.","The Catacombs of Paris, originally limestone quarries, were transformed in the late 18th century into an underground ossuary to address the city's overflowing cemeteries.","The Catacombs of Paris, originally limestone quarries, became an underground ossuary in the late 18th century to address the city's overflowing cemeteries.","The Catacombs of Paris, originally limestone quarries, were transformed in the late 18th century into an underground ossuary to address the city's overflowing cemeteries.","Beneath the streets of Cappadocia, Turkey, Derinkuyu is an ancient multi-level underground city, built thousands of years ago to protect its inhabitants from invasions and harsh climates.","The Catacombs of San Giovanni, an ancient underground labyrinth beneath the city of Naples, served as a refuge for early Christians escaping persecution during the Roman Empire.","The Catacombs of Zaurith, once an ancient dwarven city, now serve as a hidden refuge for exiled scholars seeking to preserve forbidden knowledge.","The Catacombs of Paris, originally created in the late 18th century, serve as an underground ossuary, housing the remains of over six million people due to the city's overflowing cemeteries.","The Vault of Elysium is an ancient underground library hidden beneath the ruins of an old monastery, said to have been built by monks to preserve humanity's knowledge through a future apocalypse."],"I am working on a game. Please generate a location that can be found underground.":["An ancient, bioluminescent mushroom forest thriving in a vast subterranean cavern.","An ancient, abandoned dwarven forge filled with intricate stonework and long-extinguished fires.","A secret subterranean library filled with ancient, forbidden tomes and illuminated by glowing crystals embedded in the walls.","An ancient, luminescent crystal cavern filled with glowing stalactites and subterranean streams.","A sprawling subterranean library filled with ancient, glowing manuscripts and mysterious artifacts.","An ancient, abandoned dwarven city with intricate stone carvings and bioluminescent fungi lighting the passageways.","A hidden crystal cavern with luminescent stalactites and a tranquil underground lake.","An ancient, abandoned dwarven city with intricate stonework and glowing crystal formations.","A hidden crystal cavern illuminated by bioluminescent fungi.","The Crystal Cavern, a vast underground chamber filled with shimmering crystals and luminescent fungi.","An ancient, labyrinthine catacomb filled with glowing crystals and forgotten relics.","An ancient, sprawling cavern filled with luminescent crystals and a subterranean river flowing through it.","An ancient, abandoned dwarven city filled with glowing crystal formations and intricate stone carvings.","An ancient, crumbling library filled with glowing, magical tomes and bioluminescent fungi.","An ancient, abandoned dwarven city with intricate stone carvings and glowing crystal formations.","An ancient, abandoned dwarven city with intricate stone carvings and glowing crystal formations.","Ancient crystal caverns filled with luminescent gemstones and underground streams.","An ancient, crumbling labyrinth filled with glowing crystals and forgotten artifacts.","An ancient, abandoned dwarven city with glowing crystal formations and intricate stone carvings.","An ancient, luminescent crystal cave hidden beneath the roots of a massive, enchanted forest.","A luminescent mushroom cavern with bioluminescent fungi casting an ethereal glow.","An ancient, luminescent crystal cavern with glowing stalactites and underground streams.","A sprawling, bioluminescent cavern filled with glowing fungi and ancient crystal formations.","Ancient Crystal Caverns filled with glowing stalactites and hidden treasures.","A vast, luminescent crystal cavern filled with glowing stalactites and subterranean lakes.","An ancient subterranean library filled with glowing crystal bookshelves and forgotten scrolls.","An ancient, abandoned dwarven city with intricate stone carvings and flickering torchlit corridors.","An ancient, luminescent crystal cavern filled with bioluminescent plants and hidden relics.","An ancient, sprawling subterranean library filled with glowing crystal bookshelves and mysterious tomes.","An ancient, mystical cavern illuminated by glowing bioluminescent fungi and filled with crystal-clear underground lakes.","An ancient subterranean library filled with glowing crystal bookshelves and mystical tomes.","An abandoned crystal mine with luminescent mineral formations.","An ancient, labyrinthine crystal cavern filled with glowing stalactites and hidden relics.","An ancient subterranean library filled with glowing crystal bookshelves and forgotten knowledge.","An ancient, hidden library filled with glowing crystal books can be found deep underground.","Ancient Crystal Cavern: A vast, shimmering cavern filled with luminescent crystals that illuminate hidden paths and secret chambers.","An ancient, bioluminescent cavern with glowing fungi and a subterranean river.","A luminescent crystal cavern with bioluminescent fungi and an underground waterfall.","An ancient, forgotten dwarven city with intricate stone carvings and glowing crystals embedded in the walls.","An ancient, sprawling crystal cavern illuminated by bioluminescent fungi.","An ancient, abandoned dwarven city with intricate stone carvings and glowing crystal formations.","An ancient crystal cavern filled with luminescent stalagmites and underground streams.","An ancient, abandoned dwarven city filled with intricate stone carvings and hidden treasures.","An ancient, abandoned dwarven city with intricate stone carvings and hidden treasure rooms.","An ancient, abandoned dwarven city with intricate stone carvings and glowing crystal torches.","An ancient, abandoned dwarven city with intricate stone carvings and glowing crystal lanterns.","A hidden crystal cavern, glowing with luminescent fungi and sparkling mineral formations.","An ancient, forgotten library filled with dusty tomes and glowing crystals embedded in the walls.","An ancient, abandoned dwarven city with intricate stone carvings and glowing crystal formations.","An ancient crystal cavern filled with luminescent stalactites and gemstones embedded in the walls."],"Invent a unique underground location for a fantasy game and describe what makes it distinct.":["The Luminous Caverns of Teralume are distinct for their bioluminescent crystal formations that emit a soft, ever-changing spectrum of colors, creating an ethereal and mesmerizing light show that affects the emotions of those who enter.","The Luminous Caverns are a vast network of underground chambers illuminated by bioluminescent fungi and glowing crystal formations, with air currents that produce haunting melodies echoing through the tunnels.","The Luminous Caverns of Aetheria, where bioluminescent fungi create a shimmering aurora effect, and gravity is distorted, allowing for floating islands of crystal and flora.","The Luminous Caverns, an underground maze of bioluminescent crystal formations that pulse with light in response to sound, creating a living symphony of color and music.","The Echoing Caverns are a vast network of luminescent caves where sound and light bend, creating illusions; explorers must solve auditory puzzles to navigate safely.","The Luminous Caverns: A sprawling network of tunnels filled with bioluminescent fungi and shimmering crystal formations that emit a soothing hum, providing both light and a calming effect on travelers.","The Luminous Caverns of Lyridia are vast underground caves where bioluminescent crystals and glowing fungi illuminate ancient murals that reveal the forgotten history of an extinct civilization.","The Luminous Caverns, an underground network of tunnels illuminated by bioluminescent crystals and inhabited by elusive shadow sprites that weave illusions to protect their hidden realm.","The Luminescent Caverns, a vast underground network of glowing crystal formations that hum with magical energy, casting ever-shifting colors and patterns across the cavern walls and revealing hidden ancient runes.","The Luminous Caverns of Solara are a network of underground caves where phosphorescent crystals emit a gentle, warm light, and the walls are covered in ancient runes that shift and rearrange, revealing secrets to those who can decipher their ever-changing patterns.","The Luminescent Caverns, where bioluminescent fungi form vast glowing networks across stalactites and stalagmites, creating a mesmerizing, ever-shifting tapestry of light and shadow.","The Luminous Caverns of Elaris feature bioluminescent fungi that emit a gentle, ever-changing glow, creating a mesmerizing dance of colors and shadows across ancient crystal formations.","The Luminescent Caverns are filled with bioluminescent fungi that cast a mesmerizing glow, creating a serene yet eerie landscape where shadows dance and rare crystals amplify magic.","The Luminous Caverns, an underground network of bioluminescent crystal caves, are distinct because their crystals absorb and store ambient magic, softly illuminating the caverns and enabling spellcasting amplification.","The Crystal Caverns of Lumea are illuminated by bioluminescent crystal formations that change color based on the emotions of those nearby, creating a mesmerizing and ever-shifting tapestry of light.","The Crystal Maw is a vast underground cavern where luminescent crystals grow in intricate patterns, creating a maze filled with prismatic light and echoing harmonies that shift with the slightest sound.","The Crystal Cavern of Echoing Whispers is an underground labyrinth where every sound is amplified and reflected by the prismatic crystals, creating an ever-changing symphony that guides or misleads adventurers.","The Gossamer Caverns feature a vast network of bioluminescent spider webs that emit a soft, mesmerizing glow, guiding adventurers through an otherwise pitch-black maze filled with ancient runes and hidden relics.","The Luminous Caverns of Lumaria, an underground network of bioluminescent crystal caves, where the walls pulse with vibrant colors that change in response to sound, creating a dynamic, living light show.","The Luminous Caverns are an underground labyrinth where bioluminescent crystals grow, casting vibrant, shifting patterns of light that change with the emotional states of those who enter.","The Luminous Caverns, where bioluminescent fungi illuminate vast underground lakes, and ethereal crystal formations emit melodic chimes when struck by subterranean winds.","The Luminous Caverns are vast, bioluminescent grottoes where glowing fungi form intricate patterns on the walls, pulsating in rhythm with the underground river's gentle flow, creating a mesmerizing, ever-changing starlit landscape.","The Luminescent Caverns, where bioluminescent fungi illuminate intricate crystal formations, creating pathways of vibrant, shifting colors that reveal hidden glyphs to those who solve the cavern's ancient riddles.","The Luminous Caverns are an underground network where bioluminescent crystals grow in intricate patterns, creating a living map that guides travelers through the labyrinthine tunnels.","The Luminous Cavern of Echoing Stars is an underground chamber where bioluminescent crystals mimic constellations, and any sound creates cascading visual symphonies of light across the ceiling.","The Crystal Cavern of Echoing Whispers is an underground labyrinth filled with luminescent quartz that amplifies and distorts sound, creating an ever-shifting maze of haunting voices and melodies.","The Luminescent Caverns, an underground labyrinth where walls are embedded with bioluminescent crystals that glow in sync with the heartbeat of the earth, creating an ever-changing kaleidoscope of colors.","The Luminous Caverns of Thaloria are distinct for their bioluminescent crystal formations that emit a soft, pulsating glow, illuminating ancient murals that reveal a forgotten civilization's secrets.","The Luminescent Caverns are a vast underground expanse where bioluminescent fungi create an ever-shifting pattern of light and shadow, making navigation a constantly changing puzzle.","The Luminescent Caverns of Aetherglow are distinct for their bioluminescent fungi, which emit a mesmerizing array of colors that shift and dance in response to sound, creating a living symphony of light.","The Crystal Caves of Luminara are filled with bioluminescent crystals that emit soothing melodies, guiding explorers through a labyrinth of glowing paths and resonant echoes.","The Luminescent Caverns are filled with bioluminescent fungi that emit a soft, pulsating glow, creating a serene, ever-changing light show and concealing ancient, crystal-studded ruins of a long-lost civilization.","The Luminous Cavern of Echoing Crystals is distinct for its glowing bioluminescent stalactites that hum harmonious melodies, altering their tunes in response to the emotions of those who enter.","The Crystal Caverns of Lumeria are unique for their bioluminescent crystal formations that hum with magical energy, illuminating ancient murals depicting forgotten histories of a lost civilization.","The Hollow Archive: A subterranean labyrinth of living stone that whispers ancient secrets and illuminates the path with bioluminescent crystal networks, revealing the history of a forgotten civilization to those who listen closely.","The Luminous Cavern of Echoing Crystals is an underground location where bioluminescent crystals emit haunting melodies when touched, creating a symphony of light and sound that reacts to the presence and emotions of adventurers.","The Luminous Caverns of Viridia are distinct for their bioluminescent crystal formations that emit a soft, green glow, illuminating ancient murals depicting the forgotten history of an extinct civilization.","The Luminous Caverns of Elaris are an underground network of crystalline caves where bioluminescent flora and fauna create an ever-shifting tapestry of light, with pathways that react to the emotions of travelers, altering the glow and guiding them through their journey.","The Luminous Cavern of Echoing Whispers, a vast underground network where bioluminescent fungi illuminate the walls and every sound reverberates, revealing hidden paths through resonating vibrations.","The Luminescent Caverns are an underground network of caves where bioluminescent fungi illuminate ancient crystal formations, creating a constantly shifting kaleidoscope of colors that reveal hidden runes and secret pathways.","The Luminous Cavern of Echoing Whispers is an underground labyrinth where bioluminescent crystals pulse with light, and each footstep or sound is magnified into haunting melodies that guide or mislead travelers.","The Luminescent Caverns of Elyrion, where bioluminescent crystals emit haunting melodies that reveal ancient secrets when touched, creating a symphony of light and sound that guides adventurers through its maze-like passages.","The Luminous Caverns of Vyrnara, where bioluminescent fungi create a mesmerizing, ever-changing aurora-like light show that reveals ancient carvings depicting a forgotten civilization's history.","The Luminous Caverns of Tundrakeel, where bioluminescent crystals grow in intricate patterns that sing harmonious melodies when touched, illuminating ancient murals depicting the world's forgotten history.","The Luminescent Cavern of Echoing Whispers is a vast underground network where bioluminescent crystals illuminate ancient murals that sing haunting melodies when touched, creating a symphony of memories from a lost civilization.","The Luminous Caverns, an underground network of bioluminescent crystal caves, where the ambient glow shifts with the emotional energy of its visitors, creating a dynamic, ever-changing landscape.","The Luminescent Caverns of Zharna are distinct for their bioluminescent crystal formations that pulse in rhythmic patterns, creating an ever-changing map guiding explorers safely through the labyrinthine tunnels.","The Luminescent Caverns, an underground labyrinth where bioluminescent fungi illuminate ancient crystal formations, casting shifting patterns of light and shadow that guide or mislead adventurers through its maze-like tunnels.","The Luminescent Caverns: A vast network of crystal-lined tunnels that glow with bioluminescent fungi, where whispers of ancient spirits guide adventurers through shifting, mysterious paths.","The Luminous Caverns of Elara feature bioluminescent crystal formations that hum with ancient magic, altering time perception for those who wander within."],"Describe an underground environment players might explore in a game, including a short explanation of how it came to be.":["Players might explore an ancient, abandoned mining complex with narrow, winding tunnels and vast caverns, originally created by dwarves who excavated precious gems but abandoned it due to mysterious seismic activities.","Players might explore a vast, abandoned mining complex filled with luminescent crystals, created decades ago when miners unearthed a mysterious energy source that eventually caused the site to be evacuated due to hazardous conditions.","Players might explore an abandoned, sprawling underground bunker complex, originally built during a war-era for secret research, now overrun by mutated creatures due to a containment breach.","Players might explore a vast, ancient dwarven city carved into a mountain, abandoned centuries ago after a catastrophic earthquake sealed its entrances, leaving behind only echoes and treasures.","Players might explore an ancient, abandoned underground city carved into a massive cavern, originally built by a lost civilization seeking refuge from a cataclysm on the surface.","Players might explore an abandoned, labyrinthine subway system, originally built for a city that never expanded, now overtaken by glowing fungi and inhabited by creatures adapted to the dark.","Players might explore a sprawling network of bioluminescent caverns formed by ancient volcanic activity and inhabited by mysterious flora and fauna, created when a prehistoric civilization harnessed geothermal energy for their subterranean cities.","Players might explore a vast crystal cavern formed by ancient volcanic activity, where geothermal heat caused minerals to crystallize into glittering structures over millennia.","Players might explore an ancient, sprawling catacomb filled with mysterious relics, created centuries ago by a lost civilization to honor their deceased rulers.","Players explore a vast, luminescent crystal cavern formed from an ancient meteor impact, where bioluminescent plants and mineral deposits create a mystical glow.","Players might explore a vast, abandoned mining complex with labyrinthine tunnels, originally created by a dwarven civilization in search of rare minerals, now filled with bioluminescent fungi and hidden dangers.","Players might explore an ancient, abandoned dwarven city deep beneath a mountain, originally carved out as a thriving mining and crafting hub, now overrun by mysterious creatures after a cataclysmic cave-in sealed it off from the surface.","Players might explore an abandoned, labyrinthine subway system, originally constructed in the 1920s but sealed off due to structural instability after an earthquake.","Players might explore an abandoned mining facility, left derelict after a mysterious accident caused it to be shut down, now inhabited by mutated creatures.","Players might explore a vast network of bioluminescent caverns, formed by an ancient meteor impact that created rich mineral deposits, fostering unique ecosystems.","Players might explore an abandoned subway system filled with eerie echoes and remnants of a forgotten city, originally built to connect distant districts before being sealed off due to structural failures and urban redevelopment.","Players might explore a vast, ancient underground city filled with glowing crystals and remnants of a lost civilization, created thousands of years ago by a technologically advanced society seeking refuge from a cataclysmic surface event.","Players might explore an abandoned, labyrinthine mining complex filled with bioluminescent fungi, created decades ago when miners unearthed a mysterious crystal that caused the mine to be deserted due to strange occurrences.","Players explore a vast, abandoned subway system overrun by mutant fungi, originally created to connect a sprawling metropolis, but abandoned after a catastrophic earthquake sealed its entrances.","Players might explore a vast, ancient subterranean city filled with bioluminescent fungi and mysterious ruins, originally built by a long-lost civilization seeking refuge from a cataclysmic surface event.","Players explore an ancient, abandoned mining complex, now overrun by bioluminescent fungi and mysterious creatures, originally excavated by a lost civilization seeking rare minerals.","Players might explore an abandoned, subterranean city built by an ancient civilization, now overgrown with luminescent fungi, after a volcanic eruption forced its inhabitants to flee centuries ago.","Players might explore an ancient, sprawling cavern with luminescent fungi and abandoned mining equipment, created when a once-thriving dwarven city collapsed due to a catastrophic earthquake.","Players might explore the Crystal Caverns, a series of luminescent caves formed by ancient volcanic activity and mineral deposits, now housing mysterious bioluminescent flora and fauna.","Players might explore an expansive, luminescent cave system formed by ancient volcanic activity, now inhabited by bioluminescent fungi and rare minerals that were exposed by shifting tectonic plates.","Players might explore a vast, ancient underground city with glowing crystals, created by a lost civilization that harnessed geothermal energy for power.","Players might explore a vast, abandoned mining complex that was once a bustling hub for extracting rare crystals but was deserted after a catastrophic cave-in, leaving behind intricate tunnels, forgotten machinery, and hidden treasures.","Players might explore a vast, ancient underground city with luminescent fungi and crystalline structures, originally built by a long-lost civilization seeking refuge from a cataclysmic event on the surface.","Players might explore a vast, ancient subterranean city filled with luminescent fungi and intricate stone carvings, originally constructed by a long-lost civilization seeking refuge from a cataclysm on the surface.","Players might explore an abandoned, sprawling subway system, originally built in the 1920s but left incomplete due to funding cuts and rediscovered after a recent earthquake exposed hidden tunnels.","Players might explore an ancient, labyrinthine catacomb filled with glowing fungi and hidden chambers, originally constructed by a lost civilization to honor their deities and protect sacred relics.","Players might explore an abandoned, sprawling underground research facility, originally built by a secret government organization for advanced genetic experiments, now overrun by mutated creatures after a containment breach.","Players might explore a vast subterranean cavern network formed by ancient volcanic activity, now inhabited by bioluminescent fungi and remnants of a lost civilization that sought refuge underground.","Players might explore an ancient, abandoned dwarven mine filled with bioluminescent fungi, formed after a volcanic eruption sealed its entrances centuries ago.","Players might explore a sprawling, ancient underground city, once a bustling metropolis built by a lost civilization to escape a harsh surface climate, now overrun by bioluminescent fungi and mysterious creatures.","Players might explore an abandoned underground laboratory filled with bioluminescent fungi, which was originally a top-secret research facility that was evacuated after a containment breach.","Players might explore an ancient, subterranean city filled with luminescent fungi, abandoned long ago after a cataclysmic earthquake sealed its entrances.","Players might explore a labyrinthine network of bioluminescent caves formed by ancient volcanic activity, now inhabited by mysterious creatures and overgrown with glowing fungi after being abandoned by a lost civilization.","Players might explore a vast, abandoned subway system filled with bioluminescent fungi and mutated creatures, originally constructed as a wartime evacuation route but abandoned after structural collapses.","Players might explore a sprawling network of bioluminescent caverns, formed centuries ago by volcanic activity, now inhabited by creatures adapted to the perpetual darkness.","Players might explore an ancient, abandoned dwarven mine filled with glowing crystals and echoing tunnels, originally constructed to extract rare minerals but deserted after a catastrophic cave-in.","Players might explore an ancient, sprawling underground city with bioluminescent fungi, originally built by a lost civilization seeking refuge from a cataclysm on the surface.","Players might explore a vast, ancient underground city carved into a mountain, originally built by a lost civilization seeking refuge from surface cataclysms.","Players might explore a vast, ancient subterranean city, once a thriving civilization, now abandoned due to a cataclysmic earthquake that collapsed its surface connections, leaving remnants of its advanced architecture and mysterious artifacts.","Players explore a vast, ancient subterranean city built by a lost civilization, once thriving but abandoned due to a catastrophic earthquake that sealed its entrances for centuries.","Players might explore a vast, abandoned mining complex filled with bioluminescent fungi, created when miners accidentally breached a cavern containing an ancient, hidden ecosystem.","Players might explore a vast, abandoned subterranean city carved into a cavern, originally built by an ancient civilization seeking refuge from a cataclysmic surface event.","Players explore an ancient, abandoned dwarven mine filled with bioluminescent fungi and hidden treasures, originally excavated centuries ago for precious minerals but deserted after a cave-in.","Players explore an abandoned, labyrinthine mining complex filled with bioluminescent fungi, originally excavated for precious minerals but left to nature after a mysterious collapse.","Players might explore a labyrinthine network of lava-lit caverns formed by ancient volcanic activity, now inhabited by mysterious creatures and echoing with the whispers of a long-lost civilization."],"Create a location deep beneath the surface and summarize its origins or role in the underground world.":["The Luminal Caverns, formed by ancient subterranean rivers, serve as a refuge for bioluminescent creatures and a hub for secretive trade among the underground denizens.","The Cavern of Echoing Crystals, formed by ancient seismic activity, serves as a resonant chamber amplifying the songs of subterranean creatures, guiding lost travelers with its melodic reverberations.","The Cavern of Luminescence, formed by ancient bioluminescent fungi and crystals, serves as a sacred gathering place for subterranean creatures seeking enlightenment and communal harmony.","The Crystal Caverns are a vast network of luminescent tunnels formed by ancient mineral deposits, serving as a crucial refuge and trading hub for subterranean inhabitants.","The Luminal Caverns, once a vast network of volcanic tunnels, now serve as a bioluminescent refuge for rare subterranean species, thriving in the eerie glow of mineral-rich waters.","The Cavern of Echoing Whispers is a vast subterranean chamber formed by ancient geothermal activity, serving as a sanctuary for lost travelers guided by its natural acoustics.","The Lumina Caverns, once a thriving ancient city powered by bioluminescent fungi, now serve as a crucial refuge for subterranean explorers seeking knowledge and resources.","The Luminous Cavern is an ancient underground sanctuary where bioluminescent fungi illuminate the vast network of tunnels, originally carved by a forgotten civilization to serve as a refuge and center of knowledge.","The Caverns of Lumora, formed by ancient geothermal activity, serve as a vital hub for subterranean life, with bioluminescent fungi illuminating vast underground ecosystems.","The Luminar Caverns, formed by an ancient meteor impact, are home to bioluminescent fungi and serve as a sanctuary for rare subterranean creatures.","The Abyssal Library, carved from ancient stone, serves as a sanctuary of forgotten knowledge guarded by luminescent creatures that record the histories of lost civilizations.","The Luminara Caverns, formed over millennia by tectonic shifts and mineral-rich water flows, serve as a sanctuary for bioluminescent species and a hub for subterranean trade.","The Luminescent Caverns, formed by ancient bioluminescent fungi, serve as a vital energy source and a sacred gathering place for subterranean communities.","The Cavern of Echoes, formed by ancient subterranean rivers, serves as a secret meeting place for the Council of Shadows, overseeing the balance of power in the underground world.","The Luminous Caverns were formed by ancient geothermal activity, now serving as a hidden refuge for bioluminescent creatures and a legendary hideout for explorers seeking treasures.","The Luminous Cavern, a vast underground chamber illuminated by bioluminescent fungi, was once a refuge for ancient civilizations who sought shelter from surface conflicts and developed a thriving, hidden society.","The Cavern of Echoes is a vast underground chamber where ancient subterranean creatures once convened to share knowledge, their voices still reverberating through the stone walls.","The Luminal Cavern, formed by ancient tectonic shifts, serves as a crucial refuge and trading hub for subterranean civilizations, illuminated by bioluminescent flora.","The Luminous Cavern is a vast underground sea illuminated by bioluminescent organisms, originally formed by volcanic activity and now serving as a crucial habitat for unique subterranean species.","The Luminous Caverns are a vast network of bioluminescent caves formed by ancient volcanic activity, serving as a refuge and trade hub for subterranean creatures.","The Luminal Caverns, formed from ancient seismic activity, serve as a crucial bioluminescent hub for subterranean ecosystems, providing light and energy to deep-dwelling species.","The Abyssal Archive is a vast subterranean library carved from ancient stone, believed to store the forgotten histories of civilizations lost to time and accessible only to those who decipher its hidden entrances.","The Ember Cavern, once a vast volcanic chamber, now serves as a sanctuary for bioluminescent flora and fauna, providing light and life to the subterranean ecosystem.","The Cavern of Echoes, formed by ancient volcanic activity, serves as a central hub for communication and trade among the subterranean civilizations, its walls amplifying whispers into clear messages across vast distances.","The Luminous Cavern, formed by ancient geothermal activity, serves as a refuge and meeting place for underground societies, illuminated by bioluminescent fungi.","The Luminescent Caverns are a network of bioluminescent caves formed by ancient volcanic activity, serving as a sanctuary and trading hub for subterranean species.","The Abyssal Library, carved from ancient magma chambers, serves as the repository of forgotten knowledge and lost histories, guarded by sentient stone beings.","The Cavern of Echoing Whispers is an ancient subterranean library, carved by an extinct civilization to preserve their knowledge in stone tablets, now a sanctuary for scholars seeking forgotten wisdom.","The Luminescent Cavern, a vast underground expanse illuminated by bioluminescent fungi, serves as a sanctuary and meeting ground for subterranean creatures seeking refuge and knowledge exchange.","The Cavern of Echoes, once a vast underground riverbed, now serves as a hub for secretive negotiations and trade among subterranean civilizations.","The Luminous Cavern is a vast underground chamber illuminated by bioluminescent fungi, originally formed by ancient volcanic activity and now serving as a refuge for lost explorers and a hub for subterranean trade.","The Abyssal Library, carved from ancient stone, serves as a repository of forgotten knowledge, maintained by a secretive order of scholars who believe wisdom is best kept hidden beneath the earth.","The Abyssal Library, carved into the obsidian caverns, serves as a repository for ancient knowledge preserved by an order of subterranean scholars who seek to protect the secrets of the earth.","The Gloomvault Caverns, formed by ancient tectonic shifts, serve as a refuge and trading hub for subterranean civilizations, rich with bioluminescent flora.","The Lumina Caverns are a vast network of bioluminescent caves, originally formed by ancient subterranean rivers, serving as a haven for unique underground ecosystems and a refuge for explorers seeking solace from the surface world.","The Cavern of Echoes, a vast subterranean chamber formed by seismic activity, serves as a central hub for communication among the network of underground civilizations through its naturally amplifying acoustics.","The Cavern of Echoing Fates is a vast underground chamber formed by ancient tectonic shifts, serving as a meeting place for secretive councils of the subterranean races.","The Crystal Caverns, formed by millennia of mineral deposits, serve as a secret refuge and trading hub for underground dwellers and rare gem merchants.","The Cavern of Echoes is an ancient, vast underground chamber where sound reverberates for miles, believed to be a sacred site where subterranean dwellers communicate with their ancestors.","The Luminous Cavern, a vast subterranean network illuminated by bioluminescent fungi, was once a refuge for ancient civilizations seeking shelter from surface cataclysms.","The Luminous Cavern is an ancient subterranean realm, formed by geothermal activity, where bioluminescent fungi thrive, serving as a crucial habitat and resource hub for underground societies.","The Luminara Caves, formed millennia ago by volcanic activity, now serve as a sanctuary for bioluminescent flora and a haven for researchers studying subterranean ecosystems.","The Luminous Caverns, formed by ancient volcanic activity, serve as a sanctuary for bioluminescent flora and fauna, illuminating the underground world with their ethereal glow.","The Luminar Cavern, formed by ancient tectonic shifts, serves as a sanctuary for bioluminescent creatures, illuminating the underground world with their ethereal glow.","The Obsidian Vaults, formed by ancient volcanic activity, serve as a hidden refuge for rare subterranean creatures and a hub for clandestine trade among the underground denizens.","The Luminal Caverns, formed by ancient subterranean rivers, serve as a sanctuary for bioluminescent creatures and a hub for trade among underground civilizations.","The Luminous Caverns, formed by ancient geothermal activity, serve as a sanctuary of bioluminescent flora and fauna, sustaining a unique subterranean ecosystem.","The Lumina Caverns, formed by ancient geothermal activity, serve as a refuge for bioluminescent flora and fauna, illuminating the subterranean ecosystem.","The Cavern of Echoes, an ancient subterranean chamber, was formed by volcanic activity and serves as a sacred site where sound is believed to connect the underground realm with the surface world.","The Gloom Cavern, formed by ancient tectonic shifts, serves as a thriving refuge for bioluminescent creatures and a hub for subterranean trade among hidden civilizations."],"Imagine a place hidden far underground. Describe what it looks like and why it exists.":["This underground sanctuary is a vast, luminescent cavern filled with bioluminescent plants and crystal formations, created as a refuge for preserving endangered species and rare ecosystems.","The underground place is a vast cavern illuminated by bioluminescent fungi, existing as a refuge for rare species and a sanctuary from surface chaos.","The underground chamber is a vast cavern illuminated by bioluminescent fungi, existing as a secret refuge for rare species and ancient knowledge preserved from the surface world.","The place is a vast, illuminated cavern filled with glowing crystals and underground flora, existing as a secret refuge and research facility for studying subterranean ecosystems.","A vast, illuminated cavern with bioluminescent flora, it exists as a secret refuge for preserving endangered species and ancient knowledge.","The underground place is a vast, luminescent cavern filled with bioluminescent fungi, existing as a secret research lab to study unique subterranean ecosystems.","The place is a vast, luminescent cavern filled with bioluminescent fungi and ancient stone structures, existing as a refuge for preserving lost knowledge and relics from a bygone civilization.","The place is a vast, luminescent cavern with bioluminescent flora and crystalline formations, existing as a secret research facility to study subterranean ecosystems.","The place is a vast cavern illuminated by bioluminescent fungi, with crystal-clear pools and ancient carvings; it serves as a sanctuary for a forgotten civilization seeking refuge and preservation.","The underground place is a vast, luminescent cavern filled with bioluminescent fungi and underground streams, serving as a shelter for an ancient civilization seeking refuge from surface calamities.","This underground sanctuary is a vast cavern illuminated by bioluminescent flora, existing as a refuge for endangered species and preserving ancient knowledge.","The hidden underground place is a vast, luminescent cavern filled with bioluminescent fungi and crystal formations, existing as a secure refuge for preserving ancient knowledge and artifacts.","The underground sanctuary is a vast, bioluminescent cavern filled with crystal formations and underground rivers, created as a refuge to preserve endangered species and rare plants.","It's a vast, luminescent cavern with bioluminescent flora, existing as a refuge for preserving endangered species.","This hidden underground cavern is illuminated by bioluminescent fungi, with crystal-clear pools of water, existing as a secret refuge for rare species and ancient knowledge.","This underground place is a vast cavern illuminated by bioluminescent fungi, existing as a secret refuge for rare species and ancient knowledge preservation.","The underground place is a vast, luminescent cavern filled with bioluminescent flora and ancient stone structures, existing as a refuge for a forgotten civilization seeking shelter from surface cataclysms.","The underground place is a vast, luminescent cavern filled with bioluminescent fungi and crystal formations, serving as a secret research facility to study subterranean ecosystems and ancient geology.","The underground chamber is dimly lit, filled with ancient carvings and glittering crystals, existing as a secret archive to safeguard lost knowledge and artifacts from a forgotten civilization.","The place is a vast, dimly lit cavern filled with bioluminescent plants and ancient technology, existing as a secret refuge for preserving knowledge and life during a surface catastrophe.","The place is a vast, dimly-lit cavern filled with luminescent crystals and subterranean flora, existing as a refuge for endangered species and preserving ancient knowledge.","The place is a vast, dimly lit cavern with luminescent crystals and underground streams, serving as a secret refuge for a lost civilization.","The underground place is a vast, luminescent cavern with bioluminescent fungi and crystal formations, existing as a secret research facility to study rare geological and biological phenomena.","The underground place is a vast, luminescent cavern filled with bioluminescent fungi and crystal formations, existing as a secret research facility for studying unique subterranean ecosystems.","The hidden underground place is a vast, luminescent cavern filled with bioluminescent flora and crystalline formations, existing as a secret research facility for studying unique subterranean ecosystems.","The underground place is a vast, illuminated cavern filled with bioluminescent fungi and crystalline structures, existing as a secret research facility for studying subterranean ecosystems and preserving endangered species.","This underground place is a vast, cavernous city illuminated by bioluminescent plants, existing as a refuge and research hub for scientists studying subterranean ecosystems and ancient geology.","This hidden underground place is a vast, luminescent cavern filled with bioluminescent plants and crystal formations, existing as a secret research facility to study unique subterranean ecosystems.","This underground haven is a vast, luminescent cavern with bioluminescent fungi, existing as a refuge for rare species seeking protection from surface threats.","The underground place is a vast, luminescent cavern filled with bioluminescent fungi and crystal formations, serving as a secret research facility for studying unique geological and biological phenomena.","This underground haven is a vast, luminescent cavern filled with glowing crystals and flowing underground streams, existing as a refuge for rare species and a sanctuary for preservation efforts.","This underground sanctuary, illuminated by bioluminescent fungi, serves as a refuge for preserving endangered species and ancient knowledge away from surface threats.","The underground place is a vast, dimly lit cavern filled with bioluminescent plants and streams, existing as a secret sanctuary for preserving endangered species.","This underground place is a vast cavern filled with bioluminescent plants and crystal formations, existing as a secret research facility to study unique subterranean ecosystems.","The underground place is a vast cavern filled with luminescent crystals and a serene underground lake, existing as a sanctuary for endangered species and rare plants.","The place is a vast, luminescent cavern filled with bioluminescent fungi and underground rivers, existing as a secret refuge for a lost civilization seeking isolation and protection.","A vast, luminescent cavern filled with bioluminescent fungi and crystal formations, serving as a secret refuge for a lost civilization seeking solace from surface calamities.","The hidden underground place is a vast cavern illuminated by bioluminescent fungi, existing as a secret research facility for studying subterranean ecosystems.","The place is a vast, dimly-lit cavern with luminescent crystals embedded in the cavern walls, existing as a sanctuary for rare subterranean life forms and ancient artifacts.","The place is a vast, luminescent cavern filled with bioluminescent plants and crystalline formations, existing as a sanctuary to preserve rare species and ancient knowledge.","It's a vast, dimly lit cavern filled with bioluminescent fungi and ancient stone structures, serving as a sanctuary for preserving endangered species and ancient knowledge.","This underground haven is a vast cavern illuminated by bioluminescent fungi and exists as a sanctuary for rare species and a refuge from surface dangers.","It's a vast, luminescent cavern with crystalline formations and bioluminescent fungi, serving as a sanctuary for preserving endangered species and rare plants.","The place is a vast, illuminated cavern with crystalline walls and bioluminescent flora, serving as a secret sanctuary for preserving endangered species.","The place is a vast, illuminated cavern with crystal-studded walls, existing as a secret sanctuary for preserving ancient knowledge and artifacts.","The hidden underground place is a vast, luminescent cavern with bioluminescent fungi and subterranean rivers, existing as a secret refuge for rare species and scientific research.","It's a vast subterranean cavern, illuminated by bioluminescent fungi, serving as a refuge for a secretive society seeking isolation and harmony with nature.","The underground sanctuary is a vast cavern illuminated by bioluminescent fungi, existing as a refuge for preserving ancient knowledge and species from the surface.","The underground place is a vast, illuminated cavern with bioluminescent flora and crystal-clear pools, existing as a secret research facility for studying subterranean ecosystems.","A vast, luminescent cavern filled with bioluminescent plants and a crystal-clear lake, existing as a secret refuge for preserving endangered species and ancient knowledge."],"For a cavern-based RPG, design an underground location and give a brief account of its history.":["The Echoing Grotto is a vast underground cavern where sound reverberates endlessly; once a sacred site for the ancient Lumina tribe who believed its echoes were the voices of their ancestors guiding them through the darkness.","The Crystal Chambers, once a mining site for rare luminescent crystals, became an abandoned labyrinth after a collapse trapped the miners, leaving behind a hauntingly beautiful yet eerie underground spectacle.","The Luminescent Grotto is an ancient cavern illuminated by bioluminescent fungi; once a sacred site for a forgotten cult, it now serves as a refuge for outcast alchemists seeking its rare glowing spores for their potions.","The Gloomstone Warrens are a labyrinthine network of ancient tunnels carved by the Dwarves of old, abandoned after a mysterious plague swept through, now haunted by echoes of its once-vibrant civilization.","The Crystal Abyss is a sprawling network of luminescent caverns, once home to a powerful ancient civilization that harnessed the crystals for energy, but they mysteriously vanished, leaving behind enigmatic ruins and powerful artifacts.","The Abyssal Grotto: Once a sacred subterranean temple for an ancient civilization worshipping a serpent deity, it was abandoned after a cataclysmic event sealed its entrance, leaving behind relics and the lingering presence of mystical energies.","The Echoing Grotto is a vast, luminescent cavern where ancient crystal formations resonate with sounds, once a sacred site for a forgotten civilization that used the echoes for spiritual rituals.","The Gloomspire Cavern, once a thriving dwarven city known for its luminous crystal formations, was abandoned centuries ago after a mysterious plague decimated its population, leaving behind a labyrinth haunted by echoes of its past.","The Crystal Grotto: Once a sacred site for a now-extinct subterranean tribe known as the Lumidern, it houses bioluminescent crystals believed to contain the spirits of their ancestors, drawing adventurers seeking their wisdom.","The Gloomspire Caverns, once a thriving dwarven city known for its luminous crystal trade, was abandoned centuries ago after a catastrophic cave-in, leaving behind a labyrinth haunted by the spirits of former inhabitants.","The Glimmering Grotto is an ancient, crystal-laden cavern once home to a thriving dwarven mining community, abandoned centuries ago after they unearthed a cursed gemstone that unleashed a malevolent spirit.","The Crystal Grotto: Once a sacred site for an ancient civilization, the cavern is now a labyrinth of luminescent crystal formations, abandoned after a magical experiment went awry, leaving behind echoes of its mystical past.","The Echoing Grotto: Once a sacred site for an ancient, subterranean civilization, this vast network of shimmering, luminescent caverns was abandoned after a mysterious curse caused eerie, disembodied whispers to fill its halls, driving its inhabitants to the surface.","The Gloomstone Halls were once a thriving dwarven city known for its luminous crystal mines, abandoned centuries ago after a mysterious plague swept through, leaving only echoes of its vibrant past.","The Crystal Chasm is a sprawling underground cavern filled with luminescent crystals, once a sacred site for an ancient civilization that harnessed the crystals' energy for powerful rituals, now abandoned and rumored to be haunted by their spirits.","The Crystal Grotto: Once a sacred site for an ancient civilization that worshipped a crystal deity, this luminescent cavern now holds remnants of their rituals and treasures, shrouded in mystery and guarded by luminescent creatures.","The Crystal Grotto: Once a sacred site for an ancient civilization, this cavern is filled with luminescent crystals that hold the spirits of the past, abandoned after a mysterious cataclysm.","The Gloomstone Grotto is a sprawling network of luminescent crystal caves formed over millennia by underground rivers, once a sacred site for the ancient Dwarven clans who mined its precious gems but abandoned centuries ago after a mysterious collapse sealed its main entrance.","The Crystal Caverns: Once a thriving dwarven mining settlement, these luminescent caves were abandoned after a mysterious cave-in revealed a hidden labyrinth guarded by ancient stone golems, believed to protect a powerful artifact.","The Gloomspire Caverns, once a thriving dwarven mining settlement, were abandoned centuries ago after a mysterious curse turned the miners into shadowy wraiths, leaving behind a labyrinth of tunnels filled with forgotten treasures and lurking dangers.","The Crystal Halls are a sprawling network of luminescent caverns, formed over millennia by mineral-rich waters, once a sacred meeting ground for ancient druids who harnessed its energy for powerful rituals.","The Crystal Grotto, a cavern filled with luminescent crystals, was once a sacred site for an ancient civilization that harnessed its energy for mystical rituals before mysteriously vanishing.","The Gloomspire Caverns, once a thriving dwarven mining settlement known for its rare luminescent crystals, were abandoned centuries ago after a mysterious blight extinguished the crystals' glow, causing the miners to flee in fear of a curse.","The Crystal Grotto, once a sacred site for an ancient civilization, is now a labyrinth of luminous quartz formations, abandoned after a mysterious seismic event caused the tunnels to shift and collapse.","The Gloomstone Catacombs, once a sacred burial ground for an ancient civilization, became a treacherous maze of tunnels after seismic shifts exposed its secrets and unleashed vengeful spirits.","Deep within the Whispering Caves lies the Obsidian Grotto, an ancient sanctuary once used by a long-lost society of druids to harness the earth's energy, now abandoned and filled with enigmatic echoes of their rituals.","The Crystal Grotto is a luminescent cavern formed by ancient subterranean rivers, once a sacred meeting place for a lost civilization that harnessed the crystals' magical properties for rituals and knowledge exchange.","The Crystal Grotto, once a thriving mine for luminous crystals coveted by ancient mages, became abandoned after a mysterious collapse sealed away its depths and rumored magical artifacts.","The Crystal Abyss is a vast underground chasm filled with luminescent crystals, formed eons ago by tectonic shifts and once home to an ancient civilization that vanished mysteriously, leaving behind enigmatic runes and intricate crystal sculptures.","The Crystal Grotto, a luminescent cavern filled with glowing quartz formations, was once a sacred site for an ancient civilization who believed the crystals held the spirits of their ancestors.","The Gloomstone Catacombs are ancient burial chambers carved into a massive geode, once a sacred site for a lost civilization that believed the crystals held the souls of their ancestors.","The Crystal Cavern of Elderglow is a luminescent underground cave formed by a long-dormant magical spring, once used by ancient druids for rituals, now echoing with the whispers of their lost spells.","The Echoing Abyss is a sprawling network of luminescent caves, once the thriving heart of a lost dwarven civilization, abandoned after a cataclysmic earthquake collapsed its main tunnels centuries ago.","The Gloomspire Caverns, once a thriving dwarven city known for its gleaming crystal mines, now lie abandoned after a catastrophic cave-in released ancient, malevolent spirits that drove the inhabitants away.","The Echoing Grotto, once a sacred meeting place for an ancient subterranean society, is now a labyrinth of luminous crystals and abandoned altars, haunted by whispers of its former inhabitants.","The Gloomstone Grotto, once a sacred site of the ancient Lythari, is now a maze of bioluminescent fungi and echoing whispers, abandoned after a cataclysmic cave-in sealed its main entrance centuries ago.","The Gloomspire Caverns, once a thriving dwarven trading hub, fell to ruin after a mysterious curse turned its inhabitants to stone, leaving behind treasures and secrets guarded by enigmatic shadows.","The Echoing Grotto, once a sacred meeting place for an ancient druidic order, is now home to a colony of bioluminescent fungi after the order mysteriously vanished centuries ago.","The Crystal Grotto, a shimmering cavern filled with luminescent quartz, was once a sacred site for an ancient subterranean civilization that used it for mystical ceremonies to harness the crystals' energy.","The Crystal Grotto is a luminescent cavern filled with glowing quartz formations, historically used by an ancient civilization as a sacred site for rituals and believed to house the spirits of their ancestors.","The Crystal Grotto is a vast cavern filled with luminescent crystals, once a sacred site for an ancient civilization that worshipped the light; now, it serves as a refuge for creatures drawn to its mystical glow.","The Crystal Grotto: Once a sacred meeting place for ancient druids, this luminescent cavern is filled with glowing quartz formations, believed to hold the trapped spirits of the land's protectors.","The Obsidian Grotto, once a thriving dwarven mining settlement known for its rare black crystals, was abandoned centuries ago after a mysterious cave-in sealed its entrance, leaving behind whispers of a hidden treasure and spectral guardians.","The Gloomspire Catacombs, once a thriving dwarven burial ground, became abandoned centuries ago after a powerful earthquake collapsed its main entrance, leaving it haunted by the restless spirits of those trapped inside.","Whispering Hollow is an ancient underground city carved into the stalactite-laden caverns, once home to a prosperous dwarven civilization known for their metalwork, but abandoned centuries ago after a mysterious plague swept through its population.","The Crystal Abyss is a vast underground cavern filled with luminescent crystals, once a thriving mining colony abandoned centuries ago due to mysterious seismic activities and rumored whispers of a hidden treasure guarded by ethereal guardians.","The Echoing Grotto is a vast, luminescent cave network once used by an ancient civilization as a sacred site for rituals, now inhabited by bioluminescent creatures and echoing with the whispers of the past.","The Glittering Grotto was once a thriving dwarven mining hub, now abandoned after a mysterious cave-in, leaving behind luminescent crystals and echoes of lost treasure.","The Crystal Caverns, once a secret meeting place for ancient druids, now glow with luminescent crystals, remnants of their powerful rituals and the energy they harnessed from the earth.","The Crystal Caves of Luminaris are vast caverns filled with luminescent crystals, once an ancient dwarven mining site abandoned after miners unearthed a mysterious relic that unleashed an uncontrollable arcane energy."],"Generate a setting found in an underground world and explain its significance.":["Deep beneath the earth lies the Luminescent Cavern, a vast expanse filled with glowing crystals that provide the sole source of light and energy for the subterranean beings, crucial for sustaining their unique ecosystem.","In the underground city of Lumina Cavern, bioluminescent fungi light the vast tunnels, symbolizing resilience and adaptation in a world without sunlight.","A vast subterranean city illuminated by bioluminescent fungi, serving as a refuge for ancient civilizations escaping surface conflicts, symbolizes resilience and adaptation.","In the vast cavern of Luminaris, bioluminescent fungi illuminate ancient ruins, revealing a forgotten civilization and offering clues to untapped knowledge and power.","The Luminescent Cavern, where bioluminescent fungi illuminate ancient murals, is significant as it reveals the lost history of a forgotten civilization.","The Luminescent Caverns, where bioluminescent fungi illuminate ancient stone carvings, serve as a sacred gathering place for a subterranean civilization, symbolizing the fusion of nature and history.","An expansive crystal cavern, illuminated by bioluminescent fungi, serves as a sacred gathering place for an ancient civilization that believes the crystals hold the wisdom of their ancestors.","In the Luminescent Caverns, bioluminescent fungi illuminate vast crystal formations, providing a crucial ecosystem where rare minerals and unique species thrive, symbolizing the hidden potential beneath the surface.","The Luminescent Cavern, filled with bioluminescent fungi and subterranean rivers, serves as a crucial refuge and resource hub for an isolated society, sustaining life and fostering unique cultural practices.","An expansive underground cavern system lit by bioluminescent fungi serves as a sacred refuge for an ancient civilization, preserving their history and knowledge safe from the surface world's chaos.","A vast, luminescent cavern filled with bioluminescent fungi and ancient stone carvings, serving as a sacred meeting place for an underground civilization that reveres the power of nature and history.","A vast, bioluminescent cavern filled with towering crystal formations serves as a sacred meeting place for an ancient subterranean civilization, symbolizing unity and enlightenment.","The Luminescent Caverns, where bioluminescent fungi illuminate ancient glyphs on the walls, serve as a sacred gathering place for the subterranean dwellers, preserving their history and culture.","A luminous crystal cavern, vital for its rare minerals that power the surface world's technology, exudes an ethereal glow illuminating the subterranean darkness.","In the Luminous Cavern, bioluminescent fungi provide light and sustenance, symbolizing resilience and adaptation in a hidden ecosystem.","Beneath the surface lies the Luminescent Cavern, a vast expanse glowing with bioluminescent flora, serving as a sanctuary for rare species and a source of mystical energy revered by the inhabitants.","In the bioluminescent caverns of Luminara, glowing fungi provide light and sustenance, symbolizing resilience and adaptation in a world without sunlight.","A vast, luminescent cavern filled with bioluminescent fungi and ancient crystal formations serves as a sacred meeting place for a subterranean civilization, symbolizing their connection to nature and history.","The Luminescent Caverns, where bioluminescent fungi provide light, are significant as they house ancient murals that reveal the history of a long-lost civilization.","The Glowing Caverns, illuminated by bioluminescent fungi, serve as a crucial refuge and resource hub for a hidden civilization reliant on subterranean ecosystems.","The Crystal Caverns, where luminescent crystals provide light and power to an ancient subterranean civilization, symbolize the harmony between nature and technology.","In the Luminous Caverns, bioluminescent fungi illuminate ancient murals depicting a forgotten civilization, offering clues to the past and a warning for the future.","The Gloom Caverns, a vast subterranean network illuminated by bioluminescent fungi, serve as a refuge for an ancient civilization that preserves lost knowledge of the surface world.","In the luminescent caverns of the Glowing Abyss, bioluminescent fungi illuminate ancient murals that tell the forgotten history of a long-lost civilization, providing crucial insights into their culture and technology.","The Crystal Caverns, with luminescent gemstones providing light, symbolize hidden beauty and untapped potential beneath the surface.","The Glowing Caverns, illuminated by bioluminescent fungi, serve as a crucial ecosystem providing light and sustenance to an underground civilization.","The Luminescent Caverns, where bioluminescent fungi illuminate ancient murals, serve as a historical archive for a lost civilization, offering insights into their culture and technology.","In the vast Crystal Cavern beneath the earth, luminescent mineral formations provide light to a hidden ecosystem, symbolizing the resilience and adaptability of life in even the most isolated environments.","In the luminescent caverns of the Glimmering Grotto, bioluminescent fungi provide light and sustenance, symbolizing the resilience and adaptability of life in darkness.","In the luminescent caverns of Crystalgloom, bioluminescent fungi provide light and sustain a unique ecosystem, symbolizing the harmony between life and darkness.","A vast subterranean city, illuminated by luminescent crystals, serves as a refuge for exiles, symbolizing resilience and the rediscovery of lost cultures.","The Luminescent Cavern, a vast underground chamber illuminated by bioluminescent fungi, serves as a crucial refuge and source of sustenance for a hidden community of cave dwellers.","A vast underground city powered by bioluminescent fungi serves as a sanctuary for a hidden civilization, preserving ancient knowledge and culture lost to the surface world.","The Luminous Caverns, where bioluminescent fungi illuminate ancient ruins, serve as a hub of forgotten knowledge and a refuge for those seeking wisdom from a lost civilization.","The Luminous Caverns, filled with bioluminescent fungi and ancient crystal formations, serve as a vital refuge and resource hub for subterranean civilizations, providing both light and rare minerals.","The Luminescent Caverns, a vast network of glowing mineral-filled caves, serve as a sanctuary and source of light for an underground civilization reliant on their radiant energy for survival.","The Luminescent Caverns, filled with bioluminescent fungi and underground rivers, are significant as they serve as the primary source of food and light for the subterranean communities, fostering unique ecosystems.","In the luminescent caverns of the Abyssal Grotto, bioluminescent fungi illuminate ancient murals, revealing the lost history of a civilization that thrived before cataclysmic events drove them underground.","The Luminescent Cavern, a vast underground chamber illuminated by bioluminescent fungi, serves as a crucial refuge and resource hub for the subterranean civilization seeking to escape surface conflicts.","Beneath the surface lies the Luminescent Caverns, a network of bioluminescent caves that serve as a refuge for rare flora and fauna, showcasing nature's resilience and adaptability in the absence of sunlight.","Deep beneath the earth, a vast, bioluminescent mushroom forest thrives, providing sustenance and light to a hidden civilization that relies on the fungi for food, medicine, and trade.","Deep within the earth lies the Luminescent Caverns, where glowing crystals provide light and energy, serving as a crucial power source for the subterranean civilization.","A vast subterranean city illuminated by bioluminescent fungi, significant for its thriving trade in rare minerals and unique ecosystem, symbolizing harmony between nature and technology.","An expansive luminescent cavern filled with bioluminescent fungi and underground rivers, serving as a crucial habitat for rare species and a vital water source for surface dwellers.","A vast, luminescent cavern filled with bioluminescent fungi and subterranean rivers serves as a hidden refuge for a secretive society, highlighting themes of isolation and adaptation.","In the Luminescent Caverns, bioluminescent fungi illuminate ancient murals depicting forgotten civilizations, offering clues to humanity's past and the origins of subterranean life.","A vast underground city illuminated by bioluminescent fungi, significant as a refuge for a forgotten civilization thriving away from surface conflicts.","In the luminescent caverns of Luminara, glowing fungi provide light and sustenance, symbolizing resilience and adaptation in an isolated ecosystem.","Deep beneath the earth lies the Luminescent Caverns, a sprawling network of tunnels glowing with bioluminescent fungi, serving as a crucial refuge and resource hub for a subterranean civilization.","A vast, luminescent cavern filled with bioluminescent fungi and underground rivers, serves as a hidden sanctuary for a forgotten civilization that thrives away from surface conflicts."],"Think of a memorable underground location for a game and provide a short piece of lore about it.":["The Crystal Caverns of Eldoria: Legends say these luminescent caves were once the realm of an ancient race of light weavers, who vanished after weaving the last of their magic into the glowing crystals.","The Luminescent Caverns, once a sacred refuge for ancient druids, are now illuminated by bioluminescent fungi and echo with the whispers of forgotten rituals.","In the Echoing Caverns of Valtoris, ancient crystals hum with the whispers of lost civilizations, said to grant those who listen the wisdom of ages past.","Deep within the Abyssal Caverns, the Whispering Vault holds ancient runes that echo the forgotten language of an extinct civilization, said to grant immense knowledge to those who can decipher its secrets.","The Luminous Caverns, where bioluminescent fungi light the way, are rumored to be the ancient refuge of a forgotten civilization that vanished overnight.","Deep within the Echoing Caverns, the ancient city of Zaltarim hums with the whispers of the Elderglow, a mysterious bioluminescent fungus that is said to hold the memories of the lost civilization that once thrived there.","Deep within the Echoing Caverns lies the Whispering Crystal, a sentient gem that holds the collective memories of an ancient civilization, sharing its secrets only with those pure of heart.","Deep within the ancient Crystal Caverns, a hidden library known as the Echo Vault guards the forgotten whispers of a lost civilization, each crystal echoing secrets of the past.","The Whispering Catacombs: Beneath the ancient city, these labyrinthine tunnels are said to echo with the voices of lost souls, guarding secrets of a forgotten civilization.","Deep within the Whispering Caves, where shadows weave ancient songs, lies the Echoing Chamber, a place said to hold the memories of the earth, guarded by the spectral voices of lost miners.","Deep within the Abyssal Caverns lies the Luminous Vault, a hidden chamber where ancient crystals hum with forgotten songs of the world's creation, guarded by the ethereal spirits of the first explorers.","Deep within the Hollowed Caverns lies the Obsidian Sanctum, a forbidden temple where ancient sorcerers once harnessed dark energy to control the elements, leaving behind cryptic runes and powerful relics guarded by spectral sentinels.","Deep beneath the Ashen Mountains lies the Ember Cavern, a vast network of tunnels illuminated by glowing magmatic veins, said to be the remnants of a dragon's fiery breath from an ancient battle.","Deep beneath the ancient city of Eldoria lies the Whispering Catacombs, where the spirits of forgotten kings murmur secrets of the past to those brave enough to listen.","Deep beneath the Whispering Forest lies the Echo Cavern, where the ancient spirits of forgotten heroes murmur secrets to those brave enough to listen.","Deep beneath the Ashen Peaks lies the Ember Cavern, where the ancient Firekeepers once harnessed the volcanic heart's flames to forge weapons of legendary power.","Deep beneath the Ashen Peaks lies the Ember Hollow, an ancient dwarven forge where the Heartfire, a sentient flame, grants life to enchanted weapons whispered to hold the power to sway the fate of kingdoms.","Deep within the Whispering Caverns lies the Echoing Abyss, a vast subterranean chasm where the voices of ancient spirits can be heard recounting the forgotten history of a lost civilization.","The Ember Hollow is a vast network of glowing lava tubes where ancient fire spirits once forged legendary weapons, leaving behind enchanted relics hidden within the molten depths.","Deep within the Whispering Caverns lies the Echoing Chamber, where an ancient oracle once inscribed secrets of the world onto the walls, and the stones still murmur fragments of forgotten prophecies to those who listen.","Deep beneath the Whispering Forest lies the Caverns of Echoed Dreams, where the lost whispers of forgotten souls create illusions of past regrets and unfulfilled desires.","Deep beneath the ancient city of Eldoria lies the Luminescent Caverns, where bioluminescent crystals pulsate with the memories of a lost civilization, waiting for the worthy to unlock their secrets.","Deep beneath the Ashen Peaks lies the Ember Vault, a labyrinthine network of fiery caverns where ancient drakes once hoarded their treasures, now watched over by the enigmatic Flamekeepers who guard its secrets.","Deep within the Abyssal Caverns lies the Echoing Vault, a sacred site where ancient whispers of the world\u2019s forgotten secrets resonate eternally, guarded by the ethereal Keepers of Silence.","Deep beneath the Whispering Woods lies the Echoing Cavern, where ancient spirits of the forest guard the Crystal of Resonance, rumored to amplify the thoughts of those who dare to listen.","Deep beneath the ancient city lies the Whispering Catacombs, where the echoes of forgotten sorcerers' spells linger, said to grant power to those who can understand their cryptic murmurs.","Deep in the Abyssal Archives, a forgotten library carved into the bedrock of the world, lies the Codex of Echoes, a tome said to contain the whispered secrets of every soul that ever lived.","The Crystal Caves of Lumina: Once home to an ancient civilization, these glowing caverns hold secrets of lost magic and are said to be a gateway to realms beyond.","Deep beneath the Ashwood Forest lies the Ember Cavern, where the ancient Firekin once forged their legendary flame-infused weapons, guarded by the eternal Ember Sentinel who vows to protect their secrets from the world above.","The Crypt of the Whispering Ancients: Beneath the forgotten city, this labyrinthine tomb houses the spirits of an ancient civilization, whose whispers hold the secrets to lost knowledge and forbidden magic.","Deep beneath the city lies the Whispering Catacombs, where the echoes of ancient scholars' secrets guide only the worthy through its labyrinthine passages.","Deep beneath the Ashen Mountains lies the Ember Cavern, where ancient fire spirits guard a forgotten library of scrolls that contain the secrets of pyromancy.","Deep beneath the ancient city of Eldoria lies the Whispering Catacombs, where the echoes of long-forgotten secrets are said to drive those who listen too closely to madness.","Deep within the Luminescent Caverns, ancient bioluminescent fungi illuminate the forgotten ruins of a civilization that vanished after discovering the secret of eternal night.","Deep beneath the city of Eldoria lies the Luminescent Cavern, a vast underground expanse where ancient bioluminescent fungi illuminate the remnants of a lost civilization, said to be the origin of the city's mystical powers.","Deep beneath the ancient city of Eldoria lies the Crystal Cavern, where the ethereal glow of enchanted crystals holds the secrets of forgotten sorcery, guarded by the spectral echo of the last archmage.","Deep beneath the city lies the Echoing Vaults, ancient catacombs where forgotten whispers of the past guide lost souls to secrets hidden in shadows.","The Caverns of Echoing Whispers: Once a sacred refuge for a forgotten civilization, these underground chambers are known for their haunting acoustics that amplify even the faintest sound, believed to be the voices of ancient spirits seeking to share their lost knowledge.","The Crystal Caverns of Eldoria are said to be the ancient resting place of the Lumina, a lost civilization that harnessed the power of light to shape reality, and whose heart still pulses at the caverns' core.","Deep beneath the city lies the Luminous Cavern, a forgotten refuge where bioluminescent fungi illuminate ancient runes that tell the tale of a civilization lost to time.","Deep beneath the ancient city lies the Echoing Caves, where whispers of the past guide lost souls to the forgotten library of the first seers.","Deep within the Echoing Caverns lies the Nexus of Whispers, where ancient spirits guard forgotten secrets, only sharing their knowledge with those who can decipher their enigmatic chants.","Deep beneath the ancient city lies the Whispering Catacombs, where the echoes of forgotten souls guide only the worthy to the hidden Vault of Echoes, rumored to hold the secrets of the universe.","Deep beneath the ancient city of Eldoria lies the Whispering Catacombs, where the spirits of long-forgotten heroes eternally guard the secrets of a lost civilization.","Deep beneath the city lies the Whispering Catacombs, a maze of tunnels where the ghosts of ancient scholars eternally debate forgotten truths.","Deep within the forgotten Abyssal Archives, ancient scrolls whisper secrets of a civilization that vanished overnight, leaving behind echoes of their powerful knowledge.","Deep beneath the ancient city lies the Luminescent Caverns, where glowing crystals pulse with the life force of an extinct civilization, believed to hold secrets to harnessing untold power.","Deep within the Whispering Caves, the Echoing Library holds ancient tomes said to contain the forgotten knowledge of a lost civilization, guarded by shadowy sentinels who speak only in riddles.","Deep within the Crystal Caverns, the ancient Luminaris Shrine glows with a mystical energy, said to be the resting place of the first Lightbearer who protected the world from eternal darkness.","Beneath the ancient city lies the Whispering Catacombs, where enchanted echoes of forgotten spells murmur through the air, guarding the secrets of a long-lost civilization."]},presidents:{"Describe the Trump presidency in one sentence.":["The Trump presidency was marked by controversial policies, divisive rhetoric, and significant political polarization.",'The Trump presidency was marked by controversial policies, significant political polarization, and a focus on "America First" initiatives.',"The Trump presidency was marked by significant political polarization, unconventional leadership, and major policy changes on immigration, taxes, and trade.","The Trump presidency was characterized by controversial policies, a polarizing leadership style, and significant impact on American politics and international relations.",'The Trump presidency was marked by divisive politics, significant policy changes, and a focus on "America First" nationalism.','The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" principles.',"The Trump presidency was characterized by controversial policies, a divisive style, and significant political and social upheaval in the United States.",'The Trump presidency was marked by divisive politics, significant policy changes, and a focus on "America First" initiatives.',"The Trump presidency was marked by unconventional leadership, divisive rhetoric, significant policy changes, and numerous controversies.",'The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" rhetoric.',"The Trump presidency was marked by divisive politics, unconventional leadership, and significant policy changes in areas like immigration, trade, and foreign relations.","The Trump presidency was marked by a focus on populist rhetoric, controversial policies, and significant political polarization.","The Trump presidency was characterized by a highly polarized political climate, unconventional leadership style, and significant policy changes in areas such as immigration, trade, and foreign relations.","The Trump presidency was characterized by unconventional leadership, controversial policies, and significant political polarization.","The Trump presidency was marked by divisive politics, significant policy changes, and an unconventional approach to governance and communication.","The Trump presidency was characterized by controversial policies, a focus on nationalism, and significant political polarization.",'The Trump presidency was characterized by divisive politics, significant policy changes, and a focus on "America First" initiatives.',"The Trump presidency was marked by significant political polarization, unconventional leadership, and impactful policies on immigration, trade, and the judiciary.","The Trump presidency was characterized by a focus on America First policies, significant deregulation, contentious rhetoric, and numerous controversies culminating in impeachment.","The Trump presidency was marked by unconventional leadership, polarizing policies, significant tax reform, and contentious international relations.",'The Trump presidency was marked by contentious policies, significant political polarization, and a focus on "America First" nationalism.','The Trump presidency was marked by controversial policies, significant political polarization, and a focus on "America First" nationalism.',"The Trump presidency was characterized by its unconventional approach to politics, significant policy shifts, and considerable controversy and division.","The Trump presidency was characterized by significant political polarization, controversial policies, and an unconventional approach to governance.","The Trump presidency was marked by controversial policies, significant political polarization, and an unconventional approach to leadership.","The Trump presidency was marked by significant political polarization, unconventional leadership, major policy changes, and numerous controversies.","The Trump presidency was characterized by significant polarization, unconventional governance, and major policy shifts both domestically and internationally.","The Trump presidency was characterized by controversial policies, a divisive political style, and significant impacts on both domestic and international fronts.",'The Trump presidency was marked by controversial policies, significant political polarization, and a focus on "America First" rhetoric.','The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" initiatives.',"The Trump presidency was marked by unconventional leadership, polarizing policies, and significant impacts on domestic and international fronts.",'The Trump presidency was characterized by divisive politics, significant policy shifts, and a focus on "America First" principles.',"The Trump presidency was marked by polarizing policies, significant political division, and an unconventional approach to governance.","The Trump presidency was a highly polarizing period marked by significant political, social, and economic changes, characterized by a focus on America First policies, contentious rhetoric, and numerous controversies.","The Trump presidency was marked by its unconventional approach, divisive rhetoric, significant policy changes, and numerous controversies.",'The Trump presidency was marked by controversial policies, significant political polarization, and a focus on "America First" principles.',"The Trump presidency was marked by controversial policies, divisive rhetoric, and significant political and social upheaval.","The Trump presidency was characterized by a focus on America First policies, significant deregulation, polarizing rhetoric, and two impeachment trials.","The Trump presidency was characterized by controversial policies, a disruptive style, and significant political polarization.","The Trump presidency was characterized by a polarizing style, significant policy changes, and numerous controversies.",'The Trump presidency was marked by significant political polarization, controversial policies, and a focus on "America First" nationalism.',"The Trump presidency was characterized by its unconventional approach, divisive rhetoric, and significant impact on U.S. domestic and foreign policy.","Donald Trump's presidency was marked by significant political polarization, unconventional leadership, and major policy changes in areas like immigration, trade, and foreign relations.",'The Trump presidency was characterized by controversial policies, significant political polarization, and a focus on "America First" initiatives.',"The Trump presidency was marked by controversial policies, divisive rhetoric, and significant political polarization.","The Trump presidency was characterized by controversial policies, polarizing rhetoric, and significant impact on both domestic and international fronts.",'The Trump presidency was marked by a focus on "America First" policies, significant political polarization, and frequent controversies.',"The Trump presidency was characterized by controversial policies, divisive rhetoric, and significant political and social polarization.",'The Trump presidency was marked by divisive rhetoric, significant policy shifts, and controversies, while focusing on an "America First" agenda.',"The Trump presidency was marked by significant political polarization, unconventional leadership, and major policy shifts both domestically and internationally."],"Describe the Obama presidency in one sentence.":["Barack Obama's presidency, from 2009 to 2017, was marked by efforts to recover from the Great Recession, the passage of the Affordable Care Act, and significant foreign policy initiatives, including the killing of Osama bin Laden.","The Obama presidency was marked by significant reforms in healthcare, the economy, and foreign policy, including the Affordable Care Act, the economic recovery post-2008 recession, and the killing of Osama bin Laden.","The Obama presidency, from 2009 to 2017, was marked by major healthcare reform, efforts to recover from the Great Recession, and significant advancements in climate policy and social issues.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements in healthcare, economic recovery, and foreign policy, alongside challenges in political polarization and racial tensions.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to recover from the Great Recession, alongside challenges like partisan gridlock and foreign policy complexities.","The Obama presidency, from 2009 to 2017, was marked by significant health care reform, the recovery from the Great Recession, and a focus on progressive policies and international diplomacy.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the promotion of progressive social policies, alongside challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, economic recovery initiatives, and efforts to address climate change, alongside challenges like partisan gridlock and foreign policy complexities.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements in healthcare reform, economic recovery efforts following the financial crisis, and advancements in social issues, alongside challenges such as partisan gridlock and foreign policy complexities.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements such as the Affordable Care Act, efforts to recover from the Great Recession, and the promotion of social issues like LGBTQ+ rights.","Barack Obama's presidency from 2009 to 2017 was marked by efforts to recover from the Great Recession, the passing of the Affordable Care Act, and significant foreign policy initiatives.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements such as the Affordable Care Act, economic recovery efforts, and notable foreign policy initiatives, alongside challenges including partisan gridlock and debates over civil liberties.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the capture of Osama bin Laden, and efforts to combat climate change, alongside challenges like economic recovery and political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like political polarization and debates over foreign policy.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, efforts to recover from the Great Recession, and the operation that killed Osama bin Laden, alongside challenges like political polarization and debates over immigration and foreign policy.","Barack Obama's presidency was marked by significant healthcare reform, economic recovery efforts, and advancements in social issues, alongside challenges in foreign policy and political partisanship.","Barack Obama's presidency, from 2009 to 2017, was marked by efforts to recover from the 2008 financial crisis, the Affordable Care Act, the killing of Osama bin Laden, and significant progress on climate change and social issues.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, alongside challenges like political polarization and the rise of the Tea Party.","The Obama presidency, from 2009 to 2017, focused on economic recovery, healthcare reform, and foreign policy initiatives, including the Affordable Care Act and the elimination of Osama bin Laden.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements in healthcare reform with the Affordable Care Act, economic recovery efforts post-recession, and notable foreign policy initiatives like the Paris Climate Agreement.","Barack Obama's presidency, from 2009 to 2017, was marked by significant healthcare reform, economic recovery efforts, and advancements in social issues such as LGBTQ+ rights.","Barack Obama's presidency, from 2009 to 2017, was marked by efforts to recover from the Great Recession, the Affordable Care Act, and significant foreign policy initiatives like the operation that killed Osama bin Laden.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act and the killing of Osama bin Laden, alongside challenges like economic recovery and political polarization.","The Obama presidency, spanning from 2009 to 2017, was marked by significant healthcare reform, economic recovery efforts, and strides in social and environmental policies.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, alongside challenges including economic recovery and political polarization.","The Obama presidency, from 2009 to 2017, was marked by healthcare reform through the Affordable Care Act, economic recovery efforts, and a focus on progressive social policies.","Barack Obama's presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts toward economic recovery, and advancements in social issues, alongside challenges in foreign policy and political polarization.","Barack Obama's presidency was marked by significant legislative achievements like the Affordable Care Act, economic recovery efforts, and advances in civil rights, alongside challenges such as partisan gridlock and foreign policy complexities.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements like the Affordable Care Act, the killing of Osama bin Laden, and efforts to combat climate change, amidst challenges like economic recovery and political polarization.","Barack Obama's presidency, from 2009 to 2017, was characterized by efforts to recover from the Great Recession, the passing of the Affordable Care Act, and initiatives in foreign policy such as the killing of Osama bin Laden.","Barack Obama's presidency, from 2009 to 2017, was marked by significant events such as the Affordable Care Act, economic recovery efforts, and the killing of Osama bin Laden, while facing challenges like partisan gridlock and international conflicts.","Barack Obama's presidency was marked by significant legislative achievements like the Affordable Care Act, efforts to recover from the Great Recession, and notable foreign policy initiatives, including the killing of Osama bin Laden.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements such as the Affordable Care Act and the killing of Osama bin Laden, alongside challenges like economic recovery and partisan polarization.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to recover from the Great Recession, and notable foreign policy initiatives including the killing of Osama bin Laden.","The Obama presidency was marked by efforts to revive the economy, pass healthcare reform with the Affordable Care Act, and promote progressive social policies, alongside challenges in foreign policy and political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by significant achievements like the Affordable Care Act, efforts to combat climate change, and the recovery from the Great Recession, though it also faced challenges such as partisan gridlock and foreign policy complexities.","The Obama presidency, from 2009 to 2017, was marked by efforts to reform healthcare, stimulate economic recovery, and advance social progress amid significant political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, economic recovery efforts, and a focus on social justice, amidst significant political polarization.","The Obama presidency was marked by significant achievements such as the Affordable Care Act, the economic recovery following the Great Recession, and the killing of Osama bin Laden, alongside challenges like political polarization and legislative gridlock.","Barack Obama's presidency (2009-2017) was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to address climate change, alongside challenges like economic recovery and partisan gridlock.","Barack Obama's presidency, from 2009 to 2017, was marked by the passage of the Affordable Care Act, efforts to recover from the Great Recession, and significant advancements in environmental policy and civil rights.","The Obama presidency was marked by significant legislative achievements like the Affordable Care Act, economic recovery efforts, and a focus on progressive social policies.","Barack Obama's presidency (2009-2017) was marked by the passage of the Affordable Care Act, economic recovery efforts, and significant foreign policy initiatives like the Iran nuclear deal and Paris Climate Agreement.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, the elimination of Osama bin Laden, and efforts to recover from the Great Recession.","Barack Obama's presidency was marked by significant achievements such as the Affordable Care Act, the killing of Osama bin Laden, and efforts to recover from the Great Recession, alongside challenges like political polarization and economic inequality.","Barack Obama's presidency was marked by the passage of the Affordable Care Act, the killing of Osama bin Laden, economic recovery efforts, and advancements in social issues like same-sex marriage.","Barack Obama's presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to recover from the Great Recession, and a focus on climate change and international diplomacy.","Barack Obama's presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to recover from the Great Recession, and progressive social policies, amidst significant political polarization.","Barack Obama's presidency, from 2009 to 2017, was marked by efforts to recover from the Great Recession, the implementation of the Affordable Care Act, and significant foreign policy initiatives, including the killing of Osama bin Laden.","The Obama presidency, from 2009 to 2017, was marked by significant legislative achievements like the Affordable Care Act, efforts to revive the economy after the Great Recession, and a focus on diplomacy and multilateral engagement in foreign policy."],"Describe the Reagan presidency in one sentence.":['The Reagan presidency, from 1981 to 1989, was marked by significant economic policies known as "Reaganomics," a strong anti-communist stance, and the ending of the Cold War.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by economic reforms known as \"Reaganomics,\" a strong anti-communist foreign policy, and efforts to reduce the federal government's influence.","The Reagan presidency, spanning from 1981 to 1989, was marked by conservative economic policies, a strong stance against the Soviet Union, and significant tax cuts.",'Ronald Reagan\'s presidency, from 1981 to 1989, was marked by a conservative shift in U.S. politics, significant economic changes known as "Reaganomics," and a strong stance against the Soviet Union, ultimately contributing to the end of the Cold War.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the size of government, and a strong stance against the Soviet Union.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the size of government, increased defense spending, and pivotal Cold War diplomacy.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a focus on reducing the size of government.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, significant tax cuts, and increased military spending.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant tax cuts, alongside increased military spending and a focus on reducing government regulation.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the size of government, and a strong anti-communist foreign policy stance.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a focus on restoring American influence and optimism.","The Reagan presidency, from 1981 to 1989, was characterized by conservative economic policies, a focus on reducing the influence of the federal government, and a strong anti-communist foreign policy stance.","Ronald Reagan's presidency focused on conservative economic policies, the end of the Cold War, and a significant shift in American political and cultural landscapes.",'Ronald Reagan\'s presidency (1981-1989) was marked by a conservative shift in U.S. politics, economic policies known as "Reaganomics," a strong stance against the Soviet Union, and the ending of the Cold War.','Ronald Reagan\'s presidency, from 1981 to 1989, is characterized by conservative economic policies known as "Reaganomics," a strong anti-communist stance, and significant influence on the ending of the Cold War.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a focus on reducing government influence in the economy.","The Reagan presidency, from 1981 to 1989, was marked by a focus on conservative economic policies, military build-up, and the end of the Cold War.",'The Reagan presidency, from 1981 to 1989, was marked by conservative policies, economic reforms known as "Reaganomics," a strong anti-communist stance, and a significant role in ending the Cold War.','The Reagan presidency, spanning from 1981 to 1989, was marked by economic policies known as "Reaganomics," a strong anti-communist stance, and significant military buildup.','Ronald Reagan\'s presidency (1981-1989) was marked by economic reforms known as "Reaganomics," a strong anti-communist stance, and significant influence on the end of the Cold War.',"The Reagan presidency was marked by a focus on conservative economic policies, increased military spending, and a strong stance against the Soviet Union, which contributed to the end of the Cold War.","The Reagan presidency, from 1981 to 1989, was marked by conservative policies, significant tax cuts, a strong anti-communist stance, and a focus on economic growth through supply-side economics.","The Reagan presidency, spanning from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a revitalization of American national pride.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and a focus on reducing government influence and taxes.","The Reagan presidency, from 1981 to 1989, was characterized by conservative economic policies, a strong anti-communist stance, and significant influence on the end of the Cold War.","The Reagan presidency (1981-1989) was marked by conservative economic policies, a strong anti-communist stance, and significant tax cuts, alongside increased military spending and deregulation.",'The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies known as "Reaganomics," a strong stance against the Soviet Union, and a focus on reducing government intervention in the economy.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant cultural and political shifts in the United States.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the size of government, a strong stance against the Soviet Union, and a significant influence on ending the Cold War.","Ronald Reagan's presidency, from 1981 to 1989, was characterized by conservative economic policies, a focus on reducing the size of government, and a strong stance against the Soviet Union.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, the end of the Cold War, and significant tax cuts.",'The Reagan presidency, from 1981 to 1989, was marked by conservative policies, economic reforms known as "Reaganomics," a strong anti-communist stance, and significant influence on the end of the Cold War.','The Reagan presidency, from 1981 to 1989, was marked by significant economic policy changes known as "Reaganomics," a strong anti-communist stance, and efforts to restore American confidence and military strength.','Ronald Reagan\'s presidency, from 1981 to 1989, was marked by conservative economic policies known as "Reaganomics," a strong anti-communist stance, tax cuts, and increased military spending.','Ronald Reagan\'s presidency, from 1981 to 1989, was marked by conservative policies, economic reforms known as "Reaganomics," increased defense spending, and significant Cold War developments.',"The Reagan presidency was marked by a conservative shift in American politics, economic policies focused on tax cuts and deregulation, a strong anti-communist stance, and significant increases in defense spending.",'Ronald Reagan\'s presidency was marked by conservative policies, economic reforms known as "Reaganomics," a strategic end to the Cold War, and a significant increase in national debt.',"Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the influence of the Soviet Union, and significant cultural and political shifts in the United States.","Ronald Reagan's presidency (1981-1989) was marked by conservative economic policies, increased military spending, and efforts to end the Cold War.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant tax cuts and deregulation efforts.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant influence on the end of the Cold War.","The Reagan presidency, from 1981 to 1989, focused on conservative economic policies, a strong anti-communist stance, and a significant increase in military spending, leading to economic growth and the end of the Cold War.","Ronald Reagan's presidency, from 1981 to 1989, was marked by conservative economic policies, a strong anti-communist stance, and significant tax cuts, leading to both economic growth and increased national debt.","The Reagan presidency, from 1981 to 1989, was marked by a focus on conservative economic policies, military buildup, and the end of the Cold War.","The Reagan presidency, from 1981 to 1989, was marked by conservative economic policies, a focus on reducing the role of government, a strong anti-communist stance, and significant tax cuts.",'The Reagan presidency, spanning from 1981 to 1989, was marked by a conservative shift in American politics, economic reforms known as "Reaganomics," and a strong anti-communist foreign policy stance.','The Reagan presidency, from 1981 to 1989, was marked by conservative policies, economic reforms known as "Reaganomics," a strong anti-communist stance, and efforts to reduce the size of government.',"The Reagan presidency, from 1981 to 1989, is characterized by conservative economic policies, a focus on reducing the influence of the federal government, a strong anti-communist foreign policy, and significant tax cuts.",'Ronald Reagan\'s presidency, from 1981 to 1989, was marked by a conservative shift in U.S. politics, economic policies known as "Reaganomics," increased military spending, and the end of the Cold War.','The Reagan presidency, from 1981 to 1989, was characterized by conservative policies, economic reforms called "Reaganomics," a strong stance against the Soviet Union, and the ending of the Cold War.'],"Describe the Bush presidency in one sentence.":["The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 attacks, the initiation of the War on Terror, the Iraq and Afghanistan wars, and the 2008 financial crisis.","The Bush presidency was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the War on Terror, the Iraq War, and significant domestic policy changes, including tax cuts and education reform.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the September 11 attacks, the subsequent War on Terror, and major domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency was marked by the controversial 2000 election, the 9/11 attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the ensuing War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning two terms from 2001 to 2009, was marked by the September 11 attacks, the subsequent War on Terror, and significant domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency was marked by significant events including the September 11 attacks, the War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by the September 11 attacks, the subsequent War on Terror, and significant domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency, spanning two terms from 2001 to 2009, was marked by significant events such as the September 11 attacks, the Iraq and Afghanistan wars, and the global financial crisis.","The Bush presidency was marked by significant events such as the September 11 attacks, the subsequent War on Terror, and the invasion of Iraq.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like No Child Left Behind and tax cuts.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the financial crisis of 2008.","The Bush presidency was marked by significant events including the 9/11 attacks, the wars in Afghanistan and Iraq, and major domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency, spanning 2001-2009, was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the controversial Iraq War.","George W. Bush's presidency was marked by significant events including the 9/11 attacks, the subsequent wars in Afghanistan and Iraq, and domestic initiatives like No Child Left Behind and Medicare Part D.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the War on Terror, and significant domestic policies like No Child Left Behind and tax cuts.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 terrorist attacks, the wars in Afghanistan and Iraq, and major domestic policies such as tax cuts and the No Child Left Behind Act.","The Bush presidency was marked by the controversial 2000 election, the response to the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like the No Child Left Behind Act.","The Bush presidency, encompassing George H. W. Bush (1989-1993) and George W. Bush (2001-2009), was marked by significant global events such as the Gulf War, the end of the Cold War, the September 11 attacks, and the subsequent War on Terror.","The Bush presidency was defined by significant events such as the 9/11 terrorist attacks, the subsequent War on Terror, and the controversial Iraq War.","The Bush presidency, spanning 2001-2009, was marked by significant events such as the 9/11 attacks, the War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the financial crisis of 2008.","The Bush presidency, from 2001 to 2009, was marked by the response to the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like the No Child Left Behind Act and tax cuts.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the Afghanistan and Iraq wars, and the 2008 financial crisis.","The George W. Bush presidency was marked by significant events such as the 9/11 attacks, the wars in Afghanistan and Iraq, and domestic policies like No Child Left Behind and tax cuts.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the initiation of the War on Terror, and significant economic challenges including the 2008 financial crisis.","George W. Bush's presidency was marked by significant events such as the September 11 attacks, the War on Terror, the invasions of Afghanistan and Iraq, and domestic issues like Hurricane Katrina and the 2008 financial crisis.","The Bush presidency was marked by the events of 9/11, the wars in Afghanistan and Iraq, and significant domestic policy initiatives like No Child Left Behind and Medicare Part D.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 attacks, the subsequent War on Terror, the Iraq War, and the 2008 financial crisis.","The Bush presidency was marked by significant events including the 9/11 attacks, the wars in Afghanistan and Iraq, and major domestic policies like tax cuts and the No Child Left Behind Act.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 terrorist attacks, the wars in Afghanistan and Iraq, and major domestic policies like tax cuts and education reform.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 attacks, the wars in Afghanistan and Iraq, and the global financial crisis.","The Bush presidency was marked by significant events including the 9/11 attacks, the War on Terror, the Iraq War, and domestic policies like tax cuts and education reform.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the initiation of the War on Terror, and significant tax cuts, alongside economic challenges and controversy over the Iraq War.","The Bush presidency was marked by the controversial 2000 election, the September 11 attacks, the ensuing War on Terror, and significant domestic policy initiatives like No Child Left Behind and tax cuts.","George W. Bush's presidency was marked by the 9/11 attacks, the subsequent War on Terror, the invasions of Afghanistan and Iraq, and significant domestic policies like tax cuts and education reform.","The Bush presidency, spanning from 2001 to 2009, was marked by the 9/11 attacks, the subsequent War on Terror, and economic challenges including the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by the response to the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like No Child Left Behind and Medicare Part D.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events including the 9/11 terrorist attacks, the initiation of the War on Terror, and the 2008 financial crisis.","The Bush presidency was marked by significant events such as the 9/11 attacks, the wars in Afghanistan and Iraq, and major domestic policies like tax cuts and the No Child Left Behind Act.","The Bush presidency, from 2001 to 2009, was marked by the September 11 attacks, the subsequent War on Terror, and significant domestic policy initiatives like the No Child Left Behind Act.","The Bush presidency, spanning from 2001 to 2009, was defined by the events of 9/11, the subsequent War on Terror, and significant domestic and foreign policy challenges.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 terrorist attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by the September 11 attacks, the subsequent War on Terror, and significant economic challenges.","The Bush presidency refers to two U.S. presidents: George H.W. Bush (1989-1993), known for foreign policy achievements like the Gulf War, and George W. Bush (2001-2009), known for the War on Terror and responses to 9/11.","The Bush presidency, from 2001 to 2009, was marked by the response to the 9/11 attacks, the wars in Afghanistan and Iraq, and significant domestic policies like the No Child Left Behind Act and Medicare Part D.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 attacks, the subsequent War on Terror, and the 2008 financial crisis.","The Bush presidency, spanning from 2001 to 2009, was marked by significant events such as the 9/11 terrorist attacks, the War on Terror, and the financial crisis of 2008."],"Describe the Kennedy presidency in one sentence.":["The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the launch of the Space Race, and the push for civil rights, ending abruptly with his assassination.","The Kennedy presidency was marked by significant events such as the Cuban Missile Crisis, the advancement of the Civil Rights Movement, and the initiation of the Space Race before being tragically cut short by his assassination in 1963.","The Kennedy presidency, marked by the Cuban Missile Crisis, the establishment of the Peace Corps, and the push for civil rights, was a period of significant Cold War tensions and social change.","The Kennedy presidency, from 1961 to 1963, was marked by ambitious domestic programs like the New Frontier, significant Cold War challenges, including the Cuban Missile Crisis, and ended abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and the pursuit of civil rights, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its ambitious vision known as the New Frontier, significant events like the Cuban Missile Crisis, the push for civil rights, and its tragic end with Kennedy's assassination.","The Kennedy presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the advancement of the civil rights movement, and the initiation of the Space Race before being abruptly ended by his assassination.","The Kennedy presidency, marked by its charismatic leadership, significant events like the Cuban Missile Crisis, and the push for civil rights, was tragically cut short by assassination in 1963.","The Kennedy presidency, from 1961 to 1963, was marked by efforts in civil rights, the Cuban Missile Crisis, and the space race, but was tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by ambitious initiatives like the New Frontier, the Cuban Missile Crisis, and the push for civil rights, before being tragically cut short by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the promotion of the Civil Rights Movement, and a vision for space exploration, before being tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, is remembered for its inspirational leadership, the Cuban Missile Crisis, the Space Race, and the push for civil rights, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the Space Race, and the push for civil rights, ending abruptly with his assassination.","The Kennedy presidency, marked by the Cuban Missile Crisis and the establishment of the Peace Corps, was a period of Cold War tensions and progressive domestic initiatives.","The Kennedy presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the establishment of the Peace Corps, the Space Race, and efforts toward civil rights, before being tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, and initiatives like the Space Race and Civil Rights advocacy before being tragically cut short by assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and the push for civil rights, but was tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by ambitious initiatives like the Space Race and civil rights advancements, but was tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its charismatic leadership, the Cuban Missile Crisis, the initiation of the Apollo space program, and its tragic end with John F. Kennedy's assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the advancement of the space program, and efforts toward civil rights, before being tragically cut short by his assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its focus on civil rights, the Cuban Missile Crisis, and the push for space exploration, ending tragically with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the Space Race, and the initiation of civil rights legislation, but was tragically cut short by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the Space Race, and the push for civil rights, ending abruptly with his assassination.","The Kennedy presidency, marked by the Cuban Missile Crisis, the establishment of the Peace Corps, and the push for civil rights, was characterized by its focus on Cold War tensions, social progress, and a tragic end with JFK's assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its charismatic leadership, the Cuban Missile Crisis, the Space Race, and the push for civil rights, ending with Kennedy's assassination.","The Kennedy presidency, from 1961 to 1963, was marked by its emphasis on civil rights, the space race, and the Cuban Missile Crisis, before it was tragically cut short by assassination.","The Kennedy presidency, from 1961 to 1963, is often remembered for its charismatic leadership, the Cuban Missile Crisis, the launch of the Apollo space program, and the push for civil rights, ending abruptly with JFK's assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, civil rights advancements, and the push for the space race, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, civil rights advocacy, and the push for the space race, ending abruptly with his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the start of the American space program, and significant civil rights advancements, but it was tragically cut short by his assassination.","John F. Kennedy's presidency was marked by Cold War tensions, the Cuban Missile Crisis, advancements in civil rights, and a vision for space exploration, ending abruptly with his assassination in 1963.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the initiation of the Space Race, and efforts toward civil rights.","The Kennedy presidency, marked by its charismatic leadership, focused on the Cold War, civil rights, and space exploration, was tragically cut short by his assassination in 1963.","The Kennedy presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the beginning of the space race, civil rights advancements, and ended with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and a strong push for civil rights, but was abruptly ended by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and a strong emphasis on space exploration, but it was tragically cut short by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the Space Race, and the advancement of civil rights, before his assassination in 1963.","The Kennedy presidency, from 1961 to 1963, is often remembered for its ambitious vision of the New Frontier, its handling of the Cuban Missile Crisis, and its tragic end with JFK's assassination.","The Kennedy presidency, from 1961 to 1963, is remembered for its charismatic leadership, the Cuban Missile Crisis, the space race, civil rights advancements, and its tragic end with JFK's assassination.","The Kennedy presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the advancement of civil rights, and the initiation of the space race, before it was abruptly ended by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant Cold War tensions, the Cuban Missile Crisis, the push for civil rights, and the initiation of the Space Race before being abruptly ended by his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by major events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and a strong emphasis on the space race, civil rights, and Cold War tensions.","The Kennedy presidency, from 1961 to 1963, was marked by ambitious initiatives in space exploration and civil rights, Cold War tensions, and his assassination in 1963.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and his push for civil rights, but tragically ended with his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by the Cuban Missile Crisis, the advancement of the civil rights movement, and the initiation of the space race, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by its focus on civil rights, the Cold War, the Cuban Missile Crisis, and the Space Race, but was tragically cut short by his assassination.","John F. Kennedy's presidency, from 1961 to 1963, was marked by Cold War tensions, the Cuban Missile Crisis, the advancement of civil rights, and a focus on space exploration before his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by the pursuit of the New Frontier, the Cuban Missile Crisis, and the beginnings of the Civil Rights Movement, ending abruptly with his assassination.","The Kennedy presidency, from 1961 to 1963, was marked by significant events such as the Cuban Missile Crisis, the establishment of the Peace Corps, and advancements in the Civil Rights Movement, ending abruptly with his assassination.","John F. Kennedy's presidency, marked by the Cuban Missile Crisis, the launch of the Apollo space program, and civil rights advocacy, was a period of Cold War tension and progressive change, tragically cut short by his assassination in 1963."],"Describe the Jefferson presidency in one sentence.":["Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal power and cut government costs.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark expedition, a focus on limited government, and challenges with foreign policy, such as the Embargo Act.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power while promoting agrarianism.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and an emphasis on limited government and agrarianism.","Thomas Jefferson's presidency (1801-1809) is most noted for the Louisiana Purchase, reducing federal government size, and promoting agrarian democracy.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, efforts to reduce federal government power, and the Embargo Act of 1807.","Thomas Jefferson's presidency, from 1801 to 1809, is known for the Louisiana Purchase, reducing federal government size, and conflicts with Britain and France leading to the Embargo Act.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce the federal government's power and debt.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) is known for the Louisiana Purchase, reducing federal government size, and emphasizing states' rights.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to limit federal government power while navigating tensions with European powers.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and maintain American neutrality.","The Jefferson presidency, from 1801 to 1809, is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and national debt.","Thomas Jefferson's presidency (1801-1809) is noted for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power while navigating foreign policy challenges.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and debt.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to maintain American neutrality amid European conflicts.","Thomas Jefferson's presidency (1801-1809) is notable for the Louisiana Purchase, reducing federal government size, and promoting westward expansion, while grappling with foreign policy challenges.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and maintain neutrality in European conflicts.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amid European conflicts.","Thomas Jefferson's presidency (1801-1809) is most notable for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power.","Thomas Jefferson's presidency (1801-1809) is noted for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government size and influence.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, efforts to reduce federal government power, and challenges such as the Embargo Act of 1807.","Thomas Jefferson's presidency (1801-1809) is best known for the Louisiana Purchase, the Lewis and Clark Expedition, and his efforts to reduce the size of the federal government.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, efforts to reduce the national debt, and the implementation of the Embargo Act of 1807.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amid European conflicts.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, reducing federal debt, and his emphasis on limited government and agrarianism.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, efforts to reduce federal government size, and challenges such as the Embargo Act and tensions with Britain and France.","Thomas Jefferson's presidency (1801-1809) is noted for the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power, though marred by the Embargo Act of 1807.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government size and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) is characterized by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce the size of the federal government.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amid European conflicts.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amidst European conflicts.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power and debt.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power and size.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, efforts to reduce federal government size, and the Embargo Act of 1807.","Thomas Jefferson's presidency (1801-1809) is notable for the Louisiana Purchase, reducing government size, and emphasizing agrarianism and states' rights.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce national debt and government size.","Thomas Jefferson's presidency (1801-1809) is best known for the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to reduce federal government power and promote agrarianism.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to reduce federal government power and expenditures.","Thomas Jefferson's presidency (1801-1809) is marked by the Louisiana Purchase, the Lewis and Clark expedition, and efforts to maintain American neutrality during European conflicts.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, efforts to reduce federal government power, and challenges such as the Embargo Act.","Thomas Jefferson's presidency, from 1801 to 1809, is marked by the Louisiana Purchase, efforts to reduce national debt, and the Embargo Act of 1807 that aimed to maintain American neutrality.","Thomas Jefferson's presidency (1801-1809) is known for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to maintain American neutrality amidst European conflicts.","Thomas Jefferson's presidency, from 1801 to 1809, is noted for the Louisiana Purchase, the Lewis and Clark Expedition, and efforts to limit federal government power, although it faced challenges like the Embargo Act.","Thomas Jefferson's presidency (1801-1809) is best known for the Louisiana Purchase, reducing the national debt, and his advocacy for limited government and agrarian democracy.","Thomas Jefferson's presidency (1801-1809) is noted for the Louisiana Purchase, reducing the national debt, promoting states' rights, and facing challenges like the Embargo Act.","Thomas Jefferson's presidency (1801-1809) was marked by the Louisiana Purchase, reducing the national debt, and maintaining American neutrality amidst European conflicts."],"Describe the Taft presidency in one sentence.":["William Howard Taft's presidency (1909-1913) was marked by his commitment to trust-busting, tariff reform, and an emphasis on strengthening the Interstate Commerce Commission, though it was often overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and tariff reductions, but he struggled with political infighting and lacked the political savvy of his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform, and a more conservative approach than his predecessor, Theodore Roosevelt, leading to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) focused on trust-busting, tariff reform, and expanding civil service, but he struggled with party divisions and was overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) is noted for his conservative approach, antitrust efforts, and the division it caused within the Republican Party, leading to a split in the 1912 election.","William Howard Taft's presidency (1909-1913) was marked by progressive reforms, trust-busting efforts, and a focus on judicial administration, but he faced criticism from both progressives and conservatives, leading to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform struggles, and a focus on judicial administration, but it ultimately led to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and constitutional amendments, but was often overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reforms, and a focus on judicial administration, but it was often overshadowed by tensions with his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting and civil service reform, but he struggled with party divisions and was overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) focused on trust-busting, tariff reform, and the strengthening of federal regulatory authority, but faced challenges in party division and was less progressive than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and tariff legislation, but he faced criticism for his conservative approach and alienation from progressive reformers.","William Howard Taft's presidency (1909-1913) is characterized by his focus on trust-busting, civil service reform, and efforts to strengthen the Interstate Commerce Commission, though it was often overshadowed by his predecessor Theodore Roosevelt's legacy.","William Howard Taft's presidency (1909-1913) is often characterized by his efforts to continue progressive reforms, his struggle with conservative and progressive factions within his own party, and his preference for judicial decision-making over political maneuvering.","William Howard Taft's presidency (1909-1913) was marked by progressive reforms, antitrust prosecutions, and a split with Theodore Roosevelt that ultimately divided the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by a conservative approach to progressive reforms, trust-busting efforts, and later a split with Theodore Roosevelt leading to the 1912 election defeat.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform, and a split in the Republican Party, leading to his defeat in the 1912 election.","William Howard Taft's presidency (1909-1913) was marked by his efforts to continue progressive reforms while facing challenges from more conservative and progressive factions within his party.","William Howard Taft's presidency (1909-1913) was marked by his cautious approach to progressive reforms and trust-busting, ultimately leading to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and tariff revision, but he struggled to unify the Republican Party and faced criticism from progressives.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and fostering international arbitration, but it was often overshadowed by his predecessor Theodore Roosevelt's activism.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and the expansion of the federal judiciary, but he struggled with party divisions and was often overshadowed by his predecessor, Theodore Roosevelt.","The Taft presidency (1909-1913) was marked by a commitment to progressive reforms, trust-busting, and tariff reduction, yet it struggled with party divisions and is often overshadowed by the presidencies of Roosevelt and Wilson.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform, and a struggle with progressive and conservative factions within his Republican Party.","William Howard Taft's presidency (1909-1913) was marked by trust-busting efforts, tariff reform issues, and conflicts within the Republican Party that contributed to its split in the 1912 election.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and the expansion of the U.S. judiciary, but he struggled with political infighting and was often overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by a focus on trust-busting, tariff reform, and a more conservative approach compared to his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) is often characterized by his focus on trust-busting, tariff reform, and the expansion of the civil service, but his cautious approach and conflicts with progressives led to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by his conservative approach to reforms, trust-busting efforts, and struggles with the progressive wing of his party.","William Howard Taft's presidency (1909-1913) was marked by his efforts in trust-busting, civil service reform, and attempts at tariff reduction, though he faced divisions within the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, civil service reform, and tariff issues but was overshadowed by tensions with his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and the expansion of the national forest system, but he struggled with party divisions and was less progressive than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, civil service reform, and a focus on constitutionalism, but he struggled with party divisions and was often overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was characterized by his commitment to trust-busting, civil service reform, and tariff revisions, but he struggled with party divisions and was less dynamic than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) is often characterized by his focus on trust-busting, civil service reform, and tariff reductions, but he faced criticism for alienating progressive elements of his party.","William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and tariff reduction, but he faced criticism from progressives and struggled with party divisions.","William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and tariff revision, but he struggled with party divisions and was less popular than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting and tariff reform, but he struggled with party divisions and was less progressive than his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by his conservative approach to reform, trust-busting activities, and struggles with the Progressive wing of his party.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting, civil service reform, and constitutional amendments, but he struggled with party divisions and unpopularity compared to his predecessor, Theodore Roosevelt.",'William Howard Taft\'s presidency (1909\u20131913) was marked by his focus on trust-busting, civil service reform, and foreign policy initiatives like "Dollar Diplomacy," but he struggled with political infighting and was overshadowed by his predecessor, Theodore Roosevelt.',"William Howard Taft's presidency (1909-1913) focused on trust-busting, civil service reform, and constitutional amendments, but was marred by party divisions and a strained relationship with his predecessor, Theodore Roosevelt.","The Taft presidency (1909-1913) focused on trust-busting and civil service reform but was marked by a split in the Republican Party, leading to Taft's defeat in the 1912 election.","William Howard Taft's presidency (1909-1913) was marked by his focus on trust-busting and civil service reform but was criticized for lacking the progressive vigor of his predecessor, Theodore Roosevelt.","The Taft presidency (1909-1913) was marked by his focus on trust-busting, tariff reform, and the expansion of federal regulatory agencies, but it was also criticized for failing to unify the Republican Party and was overshadowed by his predecessor, Theodore Roosevelt.","William Howard Taft's presidency (1909-1913) was marked by trust-busting, tariff reform, and a split with Theodore Roosevelt leading to a divided Republican Party.","William Howard Taft's presidency (1909-1913) was marked by his emphasis on trust-busting, civil service reform, and a less progressive approach compared to his predecessor, Theodore Roosevelt, ultimately leading to a split in the Republican Party.","William Howard Taft's presidency (1909-1913) was marked by a focus on trust-busting and progressive reforms, but it was often overshadowed by his predecessor Theodore Roosevelt and led to a split in the Republican Party.","The Taft presidency (1909-1913) was marked by a focus on trust-busting and civil service reform, but his conservative policies and failure to unify the Republican Party led to a split that contributed to his defeat in the 1912 election.","The Taft presidency (1909-1913) is characterized by his focus on trust-busting, tariff reforms, and a more cautious progressive agenda compared to his predecessor, Theodore Roosevelt."],"Describe the Washington presidency in one sentence.":["George Washington's presidency (1789-1797) established many foundational precedents for the United States, including the creation of a cabinet system and the tradition of a two-term limit.","George Washington's presidency, from 1789 to 1797, established many foundational precedents for the United States, including the creation of a cabinet and a two-term limit.","The Washington presidency set numerous precedents for the executive branch, including the establishment of a cabinet, neutrality in foreign conflicts, and the peaceful transfer of power, while navigating the challenges of a new nation.","George Washington's presidency, from 1789 to 1797, established many foundational practices for the United States government and set precedents for future presidents, while navigating challenges like creating a new federal government and maintaining neutrality in foreign conflicts.","George Washington's presidency (1789-1797) established many key precedents for the new U.S. government, including the formation of a cabinet and a two-term limit, while navigating challenges like the Whiskey Rebellion and setting the nation on a path of neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, was marked by the establishment of many foundational practices and institutions for the United States, setting precedents for future administrations.","George Washington's presidency established many foundational precedents for the United States, including a strong federal government, a neutral foreign policy, and the tradition of a two-term limit.","George Washington's presidency established many foundational practices for the United States, including the cabinet system and the tradition of a two-term limit, while navigating challenges like the Whiskey Rebellion and securing neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, established many foundational precedents for the United States, including the formation of the cabinet and the two-term limit, while navigating the challenges of a new nation.","George Washington's presidency set many precedents for the new nation, including the establishment of a cabinet system and a policy of neutrality, while navigating challenges such as the Whiskey Rebellion and foreign relations.","George Washington's presidency set many precedents for the new United States, including the formation of a cabinet, the implementation of a national bank, and a policy of neutrality in foreign conflicts.","The Washington presidency, from 1789 to 1797, established many foundational practices of the U.S. government, including the cabinet system and the two-term limit, while maintaining a stance of neutrality in foreign conflicts.","The Washington presidency (1789-1797) established many foundational practices for the U.S. government, including the creation of a Cabinet, the implementation of a national financial system, and the precedent of a two-term limit.","George Washington's presidency (1789-1797) was marked by the establishment of many key governmental institutions, the setting of precedents for future presidents, and the maintenance of neutrality in foreign conflicts.","George Washington's presidency established many foundational practices and precedents for the United States, including the formation of a cabinet and the two-term limit tradition.","George Washington's presidency (1789-1797) laid the foundation for the United States' federal government, establishing key precedents like the two-term limit and neutrality in foreign conflicts.","George Washington's presidency (1789-1797) established many foundational precedents for the U.S. government, including the creation of a cabinet and the tradition of a two-term limit.","George Washington's presidency set many precedents for the new United States, including the formation of a cabinet and the tradition of a two-term presidency, while navigating challenges such as the establishment of a national bank and maintaining neutrality in foreign conflicts.","George Washington's presidency (1789-1797) was foundational, establishing key precedents for the new United States, including a two-term limit and a neutral foreign policy stance.","George Washington's presidency (1789-1797) established many foundational practices for the U.S. government, including the creation of a cabinet and the two-term limit precedent, while maintaining neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, established many foundational precedents for the U.S. government, including the formation of a cabinet and the tradition of a peaceful transfer of power.","George Washington's presidency, from 1789 to 1797, established many foundational practices and precedents for the United States government, emphasizing unity, neutrality in foreign affairs, and the peaceful transfer of power.","George Washington's presidency, from 1789 to 1797, established many foundational practices and precedents for the United States, including the Cabinet system and the tradition of a two-term limit.","George Washington's presidency set many precedents for the new nation, including the establishment of the cabinet system and a two-term limit, while navigating challenges such as the Whiskey Rebellion and maintaining neutrality in foreign conflicts.","George Washington's presidency set many precedents for the new United States, including the establishment of a cabinet and the two-term limit, and he emphasized national unity and neutrality in foreign affairs.","The Washington presidency, from 1789 to 1797, established many foundational precedents for the United States, including the creation of a cabinet, the enforcement of federal laws, and a policy of neutrality in foreign conflicts.","George Washington's presidency set many precedents for the new American government, including the establishment of a cabinet and a two-term limit, while navigating foreign policy neutrality and domestic financial stability.","George Washington's presidency set many key precedents for the new United States, including the establishment of a cabinet and a policy of neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, established many foundational precedents for the United States, including the formation of a cabinet and the tradition of a two-term limit.","George Washington's presidency (1789-1797) was foundational for the United States, establishing key precedents for the executive branch while maintaining national unity and neutrality in foreign affairs.","George Washington's presidency (1789-1797) set foundational precedents for the United States, including the two-term limit, and focused on national unity, establishing a strong federal government, and maintaining neutrality in foreign conflicts.","George Washington's presidency (1789-1797) set numerous precedents for the new United States, including the establishment of a cabinet and the tradition of a two-term limit.","George Washington's presidency set many foundational precedents for the United States, including the creation of a cabinet and the two-term limit, while navigating challenges such as establishing federal authority and neutrality in foreign conflicts.","George Washington's presidency set many foundational precedents for the United States, including the establishment of a strong federal government and the creation of cabinet positions, while maintaining neutrality in foreign conflicts.","George Washington's presidency, from 1789 to 1797, was marked by the establishment of many foundational practices and institutions in U.S. government, emphasizing neutrality in foreign affairs and unity at home.","George Washington's presidency, from 1789 to 1797, established many foundational practices for the United States, including the cabinet system and a two-term limit tradition, while navigating challenges like national debt and foreign neutrality.","George Washington's presidency, from 1789 to 1797, was foundational, establishing many protocols and traditions for the new United States government while navigating challenges such as national debt, foreign policy, and political division.","George Washington's presidency, from 1789 to 1797, established key precedents for the new United States government, including the two-term limit and the formation of a cabinet.","George Washington's presidency, from 1789 to 1797, was marked by the establishment of many foundational practices and precedents for the new U.S. government, including the formation of a cabinet and the practice of a peaceful transfer of power.","George Washington's presidency set many precedents for the new nation, emphasizing neutrality in foreign conflicts, leading with integrity, and establishing a strong federal government.","George Washington's presidency set many key precedents for the United States, including the establishment of a cabinet and a two-term limit, and was marked by efforts to unite the country and remain neutral in foreign conflicts.","George Washington's presidency set many precedents for the new U.S. government, emphasizing neutrality in foreign affairs, establishing a cabinet, and reinforcing federal authority.","George Washington's presidency established many foundational practices for the United States, including the cabinet system and the two-term limit, while navigating the challenges of a new nation.","George Washington's presidency set many precedents for the office, including the two-term limit, while navigating the new nation's challenges and establishing foundational government institutions.","George Washington's presidency, from 1789 to 1797, established many foundational practices for the U.S. government and set important precedents for future presidents.","George Washington's presidency set many precedents for the new nation, including the establishment of a cabinet and the tradition of a two-term limit, while navigating challenges like the Whiskey Rebellion and maintaining neutrality in foreign conflicts.","George Washington's presidency (1789-1797) established many foundational practices and precedents for the United States, including the creation of a cabinet system and the tradition of a peaceful transfer of power.","George Washington's presidency (1789-1797) established key precedents for the new United States government, including a strong executive branch, neutrality in foreign conflicts, and the creation of a national bank.","George Washington's presidency (1789-1797) set many precedents for the new United States, including the establishment of a cabinet and the tradition of a two-term limit, while he navigated challenges like establishing federal authority and managing foreign relations.","George Washington's presidency, from 1789 to 1797, set many precedents for the new United States, including the establishment of a cabinet system and the tradition of a two-term limit."],"Describe the Lincoln presidency in one sentence.":["Abraham Lincoln's presidency was marked by his leadership during the American Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation to abolish slavery.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to abolish slavery through the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency is marked by his leadership during the Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation to begin the process of ending slavery in the United States.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation, which began the process of freeing the slaves.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to abolish slavery through the Emancipation Proclamation and the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to abolish slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the Civil War, the preservation of the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency is marked by his leadership during the American Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation to begin the process of abolishing slavery.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the Thirteenth Amendment.","Abraham Lincoln's presidency was marked by his leadership during the Civil War, the preservation of the Union, and the issuance of the Emancipation Proclamation, which began the process of freeing the enslaved.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the Civil War, the preservation of the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery with the Emancipation Proclamation and the passage of the Thirteenth Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, the abolition of slavery, and his efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in his assassination shortly after his reelection.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to preserve the Union and abolish slavery, culminating in his assassination shortly after his re-election.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery with the Emancipation Proclamation and the passage of the 13th Amendment.","The Lincoln presidency, from 1861 to 1865, was marked by leading the United States through the Civil War, issuing the Emancipation Proclamation, and preserving the Union.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to preserve the Union and abolish slavery.","Abraham Lincoln's presidency from 1861 to 1865 was marked by his leadership during the Civil War and his efforts to preserve the Union and abolish slavery.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, the issuance of the Emancipation Proclamation, and efforts to preserve the Union.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the Thirteenth Amendment.","Abraham Lincoln's presidency was marked by his leadership during the Civil War, efforts to preserve the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency was defined by his leadership during the American Civil War and his efforts to abolish slavery with the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to preserve the Union and abolish slavery.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by the Civil War, efforts to preserve the Union, and the abolition of slavery through the Emancipation Proclamation and the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the Civil War and his efforts to end slavery with the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery through the Emancipation Proclamation and the passage of the Thirteenth Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to abolish slavery, culminating in the Emancipation Proclamation and the passage of the Thirteenth Amendment.","The Lincoln presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to abolish slavery through the Emancipation Proclamation and the push for the Thirteenth Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, the abolition of slavery, and his efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and his assassination shortly after the war's conclusion.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, his efforts to preserve the Union, and his issuance of the Emancipation Proclamation, which began the process of freedom for enslaved Americans.","Abraham Lincoln's presidency was characterized by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, his issuance of the Emancipation Proclamation, and his efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by leading the United States through the Civil War, preserving the Union, and issuing the Emancipation Proclamation to begin the process of ending slavery.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, the issuance of the Emancipation Proclamation, and efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passing of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery through the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to abolish slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, the preservation of the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War, the preservation of the Union, and the emancipation of enslaved people.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War, the issuance of the Emancipation Proclamation, and efforts to preserve the Union.","Abraham Lincoln's presidency, from 1861 to 1865, was marked by his leadership during the American Civil War and his efforts to end slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment.","Abraham Lincoln's presidency was marked by his leadership during the American Civil War and his efforts to abolish slavery, culminating in the Emancipation Proclamation and the passage of the 13th Amendment."]}},oM=rM("dataset")||"examples";oM&&!iM[oM]&&console.warn('Unknown dataset parameter: "'.concat(oM,"\". Defaulting to 'examples'. Available options: ").concat(Object.keys(iM).join(", ")));const sM=iM[oM]||iM.examples,lM=["#4f6980","#f47942","#bfbb60","#b66353","#638b66","#d7ce9f","#a2ceaa","#fbb04e","#849db1","#b9aa97","#7e756d"];function cM(e,t){const n=t.filter((t=>t.source===e||t.target===e));if(0===n.length)return"black";const a={};n.forEach((e=>{if(e.promptId){const t=e.promptId.match(/_(\d+)_/),n=t?t[1]:"0";a[n]=(a[n]||0)+1}}));const r=n.length,i={};Object.keys(a).forEach((e=>{i[e]=a[e]/r}));const o={};return Object.keys(i).forEach((e=>{const t=parseInt(e);o[e]=lM[t%lM.length]})),function(e,t){const n=Object.keys(e);if(0===n.length)return"black";if(1===n.length)return e[n[0]];let a=0,r=0,i=0;n.forEach((n=>{const o=e[n],s=t[n],l=Sv(o);if(l){const e=l.rgb();a+=e.r*s,r+=e.g*s,i+=e.b*s}}));return Mv(Math.round(a),Math.round(r),Math.round(i)).toString()}(o,i)}function uM(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new dM(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function dM(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return dM=function(e){this.s=e,this.n=e.next},dM.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new dM(e)}function hM(e,t){this.v=e,this.k=t}function pM(e){return new hM(e,0)}function fM(e){var t,n;function a(t,n){try{var i=e[t](n),o=i.value,s=o instanceof hM;Promise.resolve(s?o.v:o).then((function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return a(l,n);n=e[l](n).value}r(i.done?"return":"normal",n)}),(function(e){a("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(i,o){var s={key:e,arg:r,resolve:i,reject:o,next:null};n?n=n.next=s:(t=n=s,a(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}fM.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},fM.prototype.next=function(e){return this._invoke("next",e)},fM.prototype.throw=function(e){return this._invoke("throw",e)},fM.prototype.return=function(e){return this._invoke("return",e)};var mM,gM="vercel.ai.error",yM=Symbol.for(gM),bM=class e extends Error{constructor(e){let{name:t,message:n,cause:a}=e;super(n),this[mM]=!0,this.name=t,this.cause=a}static isInstance(t){return e.hasMarker(t,gM)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"===typeof e&&n in e&&"boolean"===typeof e[n]&&!0===e[n]}};mM=yM;var vM,wM=bM,_M="AI_APICallError",xM="vercel.ai.error.".concat(_M),kM=Symbol.for(xM),TM=class extends wM{constructor(e){let{message:t,url:n,requestBodyValues:a,statusCode:r,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=r&&(408===r||409===r||429===r||r>=500),data:c}=e;super({name:_M,message:t,cause:s}),this[vM]=!0,this.url=n,this.requestBodyValues=a,this.statusCode=r,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=c}static isInstance(e){return wM.hasMarker(e,xM)}};vM=kM;var DM,AM="AI_EmptyResponseBodyError",CM="vercel.ai.error.".concat(AM),SM=Symbol.for(CM),EM=class extends wM{constructor(){let{message:e="Empty response body"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:AM,message:e}),this[DM]=!0}static isInstance(e){return wM.hasMarker(e,CM)}};function FM(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}DM=SM;var MM,IM="AI_InvalidArgumentError",zM="vercel.ai.error.".concat(IM),PM=Symbol.for(zM),NM=class extends wM{constructor(e){let{message:t,cause:n,argument:a}=e;super({name:IM,message:t,cause:n}),this[MM]=!0,this.argument=a}static isInstance(e){return wM.hasMarker(e,zM)}};MM=PM;var OM,BM="AI_InvalidPromptError",LM="vercel.ai.error.".concat(BM),RM=Symbol.for(LM),jM=class extends wM{constructor(e){let{prompt:t,message:n,cause:a}=e;super({name:BM,message:"Invalid prompt: ".concat(n),cause:a}),this[OM]=!0,this.prompt=t}static isInstance(e){return wM.hasMarker(e,LM)}};OM=RM;var VM,qM="AI_InvalidResponseDataError",UM="vercel.ai.error.".concat(qM),GM=Symbol.for(UM),HM=class extends wM{constructor(e){let{data:t,message:n="Invalid response data: ".concat(JSON.stringify(t),".")}=e;super({name:qM,message:n}),this[VM]=!0,this.data=t}static isInstance(e){return wM.hasMarker(e,UM)}};VM=GM;var WM,KM="AI_JSONParseError",YM="vercel.ai.error.".concat(KM),JM=Symbol.for(YM),ZM=class extends wM{constructor(e){let{text:t,cause:n}=e;super({name:KM,message:"JSON parsing failed: Text: ".concat(t,".\nError message: ").concat(FM(n)),cause:n}),this[WM]=!0,this.text=t}static isInstance(e){return wM.hasMarker(e,YM)}};WM=JM;var XM,$M="AI_LoadAPIKeyError",QM="vercel.ai.error.".concat($M),eI=Symbol.for(QM),tI=class extends wM{constructor(e){let{message:t}=e;super({name:$M,message:t}),this[XM]=!0}static isInstance(e){return wM.hasMarker(e,QM)}};XM=eI;var nI="AI_LoadSettingError",aI="vercel.ai.error.".concat(nI),rI=Symbol.for(aI);var iI="AI_NoContentGeneratedError",oI="vercel.ai.error.".concat(iI),sI=Symbol.for(oI);var lI,cI="AI_NoSuchModelError",uI="vercel.ai.error.".concat(cI),dI=Symbol.for(uI),hI=class extends wM{constructor(e){let{errorName:t=cI,modelId:n,modelType:a,message:r="No such ".concat(a,": ").concat(n)}=e;super({name:t,message:r}),this[lI]=!0,this.modelId=n,this.modelType=a}static isInstance(e){return wM.hasMarker(e,uI)}};lI=dI;var pI,fI="AI_TooManyEmbeddingValuesForCallError",mI="vercel.ai.error.".concat(fI),gI=Symbol.for(mI),yI=class extends wM{constructor(e){super({name:fI,message:"Too many values for a single embedding call. The ".concat(e.provider,' model "').concat(e.modelId,'" can only embed up to ').concat(e.maxEmbeddingsPerCall," values per call, but ").concat(e.values.length," values were provided.")}),this[pI]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return wM.hasMarker(e,mI)}};pI=gI;var bI,vI="AI_TypeValidationError",wI="vercel.ai.error.".concat(vI),_I=Symbol.for(wI);bI=_I;var xI,kI=class e extends wM{constructor(e){let{value:t,cause:n}=e;super({name:vI,message:"Type validation failed: Value: ".concat(JSON.stringify(t),".\nError message: ").concat(FM(n)),cause:n}),this[bI]=!0,this.value=t}static isInstance(e){return wM.hasMarker(e,wI)}static wrap(t){let{value:n,cause:a}=t;return e.isInstance(a)&&a.value===n?a:new e({value:n,cause:a})}},TI="AI_UnsupportedFunctionalityError",DI="vercel.ai.error.".concat(TI),AI=Symbol.for(DI),CI=class extends wM{constructor(e){let{functionality:t,message:n="'".concat(t,"' functionality not supported.")}=e;super({name:TI,message:n}),this[xI]=!0,this.functionality=t}static isInstance(e){return wM.hasMarker(e,DI)}};xI=AI;class SI extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function EI(e){}function FI(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=EI,onError:n=EI,onRetry:a=EI,onComment:r}=e;let i,o="",s=!0,l="",c="";function u(e){if(""===e)return l.length>0&&t({id:i,event:c||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),i=void 0,l="",void(c="");if(e.startsWith(":"))return void(r&&r(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1===n)d(e,"",e);else{const t=e.slice(0,n),a=" "===e[n+1]?2:1;d(t,e.slice(n+a),e)}}function d(e,t,r){switch(e){case"event":c=t;break;case"data":l="".concat(l).concat(t,"\n");break;case"id":i=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?a(parseInt(t,10)):n(new SI('Invalid `retry` value: "'.concat(t,'"'),{type:"invalid-retry",value:t,line:r}));break;default:n(new SI('Unknown field "'.concat(e.length>20?"".concat(e.slice(0,20),"\u2026"):e,'"'),{type:"unknown-field",field:e,value:t,line:r}))}}return{feed:function(e){const t=s?e.replace(/^\xEF\xBB\xBF/,""):e,[n,a]=function(e){const t=[];let n="",a=0;for(;a<e.length;){const r=e.indexOf("\r",a),i=e.indexOf("\n",a);let o=-1;if(-1!==r&&-1!==i?o=Math.min(r,i):-1!==r?o=r===e.length-1?-1:r:-1!==i&&(o=i),-1===o){n=e.slice(a);break}{const n=e.slice(a,o);t.push(n),a=o+1,"\r"===e[a-1]&&"\n"===e[a]&&a++}}return[t,n]}("".concat(o).concat(t));for(const r of n)u(r);o=a,s=!1},reset:function(){o&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).consume&&u(o),s=!0,i=void 0,l="",c="",o=""}}}class MI extends TransformStream{constructor(){let e,{onError:t,onRetry:n,onComment:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({start(r){e=FI({onEvent:e=>{r.enqueue(e)},onError(e){"terminate"===t?r.error(e):"function"==typeof t&&t(e)},onRetry:n,onComment:a})},transform(t){e.feed(t)}})}}Symbol("ZodOutput"),Symbol("ZodInput");class II{constructor(){this._map=new Map,this._idmap=new Map}add(e){const t=arguments.length<=1?void 0:arguments[1];if(this._map.set(e,t),t&&"object"===typeof t&&"id"in t){if(this._idmap.has(t.id))throw new Error("ID ".concat(t.id," already exists in the registry"));this._idmap.set(t.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"===typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){var n;const a=u({},null!==(n=this.get(t))&&void 0!==n?n:{});return delete a.id,u(u({},a),this._map.get(e))}return this._map.get(e)}has(e){return this._map.has(e)}}function zI(){return new II}const PI=zI();function NI(e){const t=Object.values(e).filter((e=>"number"===typeof e)),n=Object.entries(e).filter((e=>{let[n,a]=e;return-1===t.indexOf(+n)})).map((e=>{let[t,n]=e;return n}));return n}function OI(e,t){return"bigint"===typeof t?t.toString():t}function BI(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function LI(e){return null===e||void 0===e}function RI(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function jI(e,t,n){Object.defineProperty(e,t,{get(){{const a=n();return e[t]=a,a}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function VI(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function qI(e){return JSON.stringify(e)}const UI=Error.captureStackTrace?Error.captureStackTrace:function(){};function GI(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}const HI=BI((()=>{var e;if("undefined"!==typeof navigator&&null!==(e=navigator)&&void 0!==e&&null!==(e=e.userAgent)&&void 0!==e&&e.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(t){return!1}}));function WI(e){if(!1===GI(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==GI(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}const KI=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function YI(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function JI(e,t,n){const a=new e._zod.constr(null!==t&&void 0!==t?t:e._zod.def);return(!t||null!==n&&void 0!==n&&n.parent)&&(a._zod.parent=e),a}function ZI(e){const t=e;if(!t)return{};if("string"===typeof t)return{error:()=>t};if(void 0!==(null===t||void 0===t?void 0:t.message)){if(void 0!==(null===t||void 0===t?void 0:t.error))throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"===typeof t.error?u(u({},t),{},{error:()=>t.error}):t}const XI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function $I(e){for(let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n<e.issues.length;n++){var t;if(!0!==(null===(t=e.issues[n])||void 0===t?void 0:t.continue))return!0}return!1}function QI(e,t){return t.map((t=>{var n,a;return null!==(n=(a=t).path)&&void 0!==n||(a.path=[]),t.path.unshift(e),t}))}function ez(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}function tz(e,t,n){var a;const r=u(u({},e),{},{path:null!==(a=e.path)&&void 0!==a?a:[]});if(!e.message){var i,o,s,l,c,d,h,p,f;const a=null!==(i=null!==(o=null!==(s=null!==(l=ez(null===(c=e.inst)||void 0===c||null===(c=c._zod.def)||void 0===c||null===(d=c.error)||void 0===d?void 0:d.call(c,e)))&&void 0!==l?l:ez(null===t||void 0===t||null===(h=t.error)||void 0===h?void 0:h.call(t,e)))&&void 0!==s?s:ez(null===(p=n.customError)||void 0===p?void 0:p.call(n,e)))&&void 0!==o?o:ez(null===(f=n.localeError)||void 0===f?void 0:f.call(n,e)))&&void 0!==i?i:"Invalid input";r.message=a}return delete r.inst,delete r.continue,null!==t&&void 0!==t&&t.reportInput||delete r.input,r}function nz(e){return Array.isArray(e)?"array":"string"===typeof e?"string":"unknown"}function az(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[a,r,i]=t;return"string"===typeof a?{message:a,code:"custom",input:r,inst:i}:u({},a)}class rz{constructor(e){var t,n,a,r,i;this.counter=0,this.metadataRegistry=null!==(t=null===e||void 0===e?void 0:e.metadata)&&void 0!==t?t:PI,this.target=null!==(n=null===e||void 0===e?void 0:e.target)&&void 0!==n?n:"draft-2020-12",this.unrepresentable=null!==(a=null===e||void 0===e?void 0:e.unrepresentable)&&void 0!==a?a:"throw",this.override=null!==(r=null===e||void 0===e?void 0:e.override)&&void 0!==r?r:()=>{},this.io=null!==(i=null===e||void 0===e?void 0:e.io)&&void 0!==i?i:"output",this.seen=new Map}process(e){var t,n,a;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{path:[],schemaPath:[]};var i;const o=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},l=this.seen.get(e);if(l){l.count++;return r.schemaPath.includes(e)&&(l.cycle=r.path),l.schema}const c={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(e,c);const d=null===(t=(n=e._zod).toJSONSchema)||void 0===t?void 0:t.call(n);if(d)c.schema=d;else{const t=u(u({},r),{},{schemaPath:[...r.schemaPath,e],path:r.path}),n=e._zod.parent;if(n)c.ref=n,this.process(n,t),this.seen.get(n).isParent=!0;else{const n=c.schema;switch(o.type){case"string":{const t=n;t.type="string";const{minimum:a,maximum:r,format:i,patterns:o,contentEncoding:l}=e._zod.bag;var h;if("number"===typeof a&&(t.minLength=a),"number"===typeof r&&(t.maxLength=r),i)t.format=null!==(h=s[i])&&void 0!==h?h:i,""===t.format&&delete t.format;if(l&&(t.contentEncoding=l),o&&o.size>0){const e=[...o];1===e.length?t.pattern=e[0].source:e.length>1&&(c.schema.allOf=[...e.map((e=>u(u({},"draft-7"===this.target?{type:"string"}:{}),{},{pattern:e.source})))])}break}case"number":{const t=n,{minimum:a,maximum:r,format:i,multipleOf:o,exclusiveMaximum:s,exclusiveMinimum:l}=e._zod.bag;"string"===typeof i&&i.includes("int")?t.type="integer":t.type="number","number"===typeof l&&(t.exclusiveMinimum=l),"number"===typeof a&&(t.minimum=a,"number"===typeof l&&(l>=a?delete t.minimum:delete t.exclusiveMinimum)),"number"===typeof s&&(t.exclusiveMaximum=s),"number"===typeof r&&(t.maximum=r,"number"===typeof s&&(s<=r?delete t.maximum:delete t.exclusiveMaximum)),"number"===typeof o&&(t.multipleOf=o);break}case"boolean":n.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":n.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":n.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const a=n,{minimum:r,maximum:i}=e._zod.bag;"number"===typeof r&&(a.minItems=r),"number"===typeof i&&(a.maxItems=i),a.type="array",a.items=this.process(o.element,u(u({},t),{},{path:[...t.path,"items"]}));break}case"object":{var p;const e=n;e.type="object",e.properties={};const a=o.shape;for(const n in a)e.properties[n]=this.process(a[n],u(u({},t),{},{path:[...t.path,"properties",n]}));const r=new Set(Object.keys(a)),i=new Set([...r].filter((e=>{const t=o.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout})));i.size>0&&(e.required=Array.from(i)),"never"===(null===(p=o.catchall)||void 0===p?void 0:p._zod.def.type)?e.additionalProperties=!1:o.catchall?o.catchall&&(e.additionalProperties=this.process(o.catchall,u(u({},t),{},{path:[...t.path,"additionalProperties"]}))):"output"===this.io&&(e.additionalProperties=!1);break}case"union":n.anyOf=o.options.map(((e,n)=>this.process(e,u(u({},t),{},{path:[...t.path,"anyOf",n]}))));break;case"intersection":{const e=n,a=this.process(o.left,u(u({},t),{},{path:[...t.path,"allOf",0]})),r=this.process(o.right,u(u({},t),{},{path:[...t.path,"allOf",1]})),i=e=>"allOf"in e&&1===Object.keys(e).length,s=[...i(a)?a.allOf:[a],...i(r)?r.allOf:[r]];e.allOf=s;break}case"tuple":{const a=n;a.type="array";const r=o.items.map(((e,n)=>this.process(e,u(u({},t),{},{path:[...t.path,"prefixItems",n]}))));if("draft-2020-12"===this.target?a.prefixItems=r:a.items=r,o.rest){const e=this.process(o.rest,u(u({},t),{},{path:[...t.path,"items"]}));"draft-2020-12"===this.target?a.items=e:a.additionalItems=e}o.rest&&(a.items=this.process(o.rest,u(u({},t),{},{path:[...t.path,"items"]})));const{minimum:i,maximum:s}=e._zod.bag;"number"===typeof i&&(a.minItems=i),"number"===typeof s&&(a.maxItems=s);break}case"record":{const e=n;e.type="object",e.propertyNames=this.process(o.keyType,u(u({},t),{},{path:[...t.path,"propertyNames"]})),e.additionalProperties=this.process(o.valueType,u(u({},t),{},{path:[...t.path,"additionalProperties"]}));break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=n,t=NI(o.entries);t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),e.enum=t;break}case"literal":{const e=n,t=[];for(const n of o.values)if(void 0===n){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"===typeof n){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");t.push(Number(n))}else t.push(n);if(0===t.length);else if(1===t.length){const n=t[0];e.type=null===n?"null":typeof n,e.const=n}else t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),t.every((e=>"boolean"===typeof e))&&(e.type="string"),t.every((e=>null===e))&&(e.type="null"),e.enum=t;break}case"file":{const t=n,a={type:"string",format:"binary",contentEncoding:"binary"},{minimum:r,maximum:i,mime:o}=e._zod.bag;void 0!==r&&(a.minLength=r),void 0!==i&&(a.maxLength=i),o?1===o.length?(a.contentMediaType=o[0],Object.assign(t,a)):t.anyOf=o.map((e=>u(u({},a),{},{contentMediaType:e}))):Object.assign(t,a);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(o.innerType,t);n.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(o.innerType,t),c.ref=o.innerType;break;case"success":n.type="boolean";break;case"default":this.process(o.innerType,t),c.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue));break;case"prefault":this.process(o.innerType,t),c.ref=o.innerType,"input"===this.io&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)));break;case"catch":{let e;this.process(o.innerType,t),c.ref=o.innerType;try{e=o.catchValue(void 0)}catch(m){throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const t=n,a=e._zod.pattern;if(!a)throw new Error("Pattern not found in template literal");t.type="string",t.pattern=a.source;break}case"pipe":{const e="input"===this.io?"transform"===o.in._zod.def.type?o.out:o.in:o.out;this.process(e,t),c.ref=e;break}case"readonly":this.process(o.innerType,t),c.ref=o.innerType,n.readOnly=!0;break;case"lazy":{const n=e._zod.innerType;this.process(n,t),c.ref=n;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")}}}const f=this.metadataRegistry.get(e);f&&Object.assign(c.schema,f),"input"===this.io&&iz(e)&&(delete c.schema.examples,delete c.schema.default),"input"===this.io&&c.schema._prefault&&(null!==(a=(i=c.schema).default)&&void 0!==a||(i.default=c.schema._prefault)),delete c.schema._prefault;return this.seen.get(e).schema}emit(e,t){var n,a,r,i,o,s;const l={cycles:null!==(n=null===t||void 0===t?void 0:t.cycles)&&void 0!==n?n:"ref",reused:null!==(a=null===t||void 0===t?void 0:t.reused)&&void 0!==a?a:"inline",external:null!==(r=null===t||void 0===t?void 0:t.external)&&void 0!==r?r:void 0},c=this.seen.get(e);if(!c)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=e=>{var t;const n="draft-2020-12"===this.target?"$defs":"definitions";if(l.external){var a,r,i,o;const t=null===(a=l.external.registry.get(e[0]))||void 0===a?void 0:a.id,s=null!==(r=l.external.uri)&&void 0!==r?r:e=>e;if(t)return{ref:s(t)};const c=null!==(i=null!==(o=e[1].defId)&&void 0!==o?o:e[1].schema.id)&&void 0!==i?i:"schema".concat(this.counter++);return e[1].defId=c,{defId:c,ref:"".concat(s("__shared"),"#/").concat(n,"/").concat(c)}}if(e[1]===c)return{ref:"#"};const s="".concat("#","/").concat(n,"/"),u=null!==(t=e[1].schema.id)&&void 0!==t?t:"__schema".concat(this.counter++);return{defId:u,ref:s+u}},h=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:a}=d(e);t.def=u({},t.schema),a&&(t.defId=a);const r=t.schema;for(const i in r)delete r[i];r.$ref=n};if("throw"===l.cycles)for(const u of this.seen.entries()){const e=u[1];var p;if(e.cycle)throw new Error("Cycle detected: "+"#/".concat(null===(p=e.cycle)||void 0===p?void 0:p.join("/"),"/<root>")+'\n\nSet the `cycles` parameter to `"ref"` to resolve cyclical schemas with defs.')}for(const u of this.seen.entries()){var f;const t=u[1];if(e===u[0]){h(u);continue}if(l.external){var m;const t=null===(m=l.external.registry.get(u[0]))||void 0===m?void 0:m.id;if(e!==u[0]&&t){h(u);continue}}(null===(f=this.metadataRegistry.get(u[0]))||void 0===f?void 0:f.id)?h(u):(t.cycle||t.count>1&&"ref"===l.reused)&&h(u)}const g=(e,t)=>{var n,a;const r=this.seen.get(e),i=null!==(n=r.def)&&void 0!==n?n:r.schema,o=u({},i);if(null===r.ref)return;const s=r.ref;if(r.ref=null,s){g(s,t);const e=this.seen.get(s).schema;var l;if(e.$ref&&"draft-7"===t.target)i.allOf=null!==(l=i.allOf)&&void 0!==l?l:[],i.allOf.push(e);else Object.assign(i,e),Object.assign(i,o)}r.isParent||this.override({zodSchema:e,jsonSchema:i,path:null!==(a=r.path)&&void 0!==a?a:[]})};for(const u of[...this.seen.entries()].reverse())g(u[0],{target:this.target});const y={};if("draft-2020-12"===this.target?y.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?y.$schema="http://json-schema.org/draft-07/schema#":console.warn("Invalid target: ".concat(this.target)),null!==(i=l.external)&&void 0!==i&&i.uri){var b;const t=null===(b=l.external.registry.get(e))||void 0===b?void 0:b.id;if(!t)throw new Error("Schema is missing an `id` property");y.$id=l.external.uri(t)}Object.assign(y,c.def);const v=null!==(o=null===(s=l.external)||void 0===s?void 0:s.defs)&&void 0!==o?o:{};for(const u of this.seen.entries()){const e=u[1];e.def&&e.defId&&(v[e.defId]=e.def)}l.external||Object.keys(v).length>0&&("draft-2020-12"===this.target?y.$defs=v:y.definitions=v);try{return JSON.parse(JSON.stringify(y))}catch(w){throw new Error("Error converting schema to JSON.")}}}function iz(e,t){const n=null!==t&&void 0!==t?t:{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const a=e._zod.def;switch(a.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return iz(a.element,n);case"object":for(const e in a.shape)if(iz(a.shape[e],n))return!0;return!1;case"union":for(const e of a.options)if(iz(e,n))return!0;return!1;case"intersection":return iz(a.left,n)||iz(a.right,n);case"tuple":for(const e of a.items)if(iz(e,n))return!0;return!(!a.rest||!iz(a.rest,n));case"record":case"map":return iz(a.keyType,n)||iz(a.valueType,n);case"set":return iz(a.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return iz(a.innerType,n);case"lazy":return iz(a.getter(),n);case"transform":return!0;case"pipe":return iz(a.in,n)||iz(a.out,n)}throw new Error("Unknown schema type: ".concat(a.type))}Object.freeze({status:"aborted"});function oz(e,t,n){var a;function r(n,a){var r,i,o;Object.defineProperty(n,"_zod",{value:null!==(r=n._zod)&&void 0!==r?r:{},enumerable:!1}),null!==(i=(o=n._zod).traits)&&void 0!==i||(o.traits=new Set),n._zod.traits.add(e),t(n,a);for(const e in s.prototype)e in n||Object.defineProperty(n,e,{value:s.prototype[e].bind(n)});n._zod.constr=s,n._zod.def=a}const i=null!==(a=null===n||void 0===n?void 0:n.Parent)&&void 0!==a?a:Object;class o extends i{}function s(e){var t,a;const i=null!==n&&void 0!==n&&n.Parent?new o:this;r(i,e),null!==(t=(a=i._zod).deferred)&&void 0!==t||(a.deferred=[]);for(const n of i._zod.deferred)n();return i}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>{var a;return!!(null!==n&&void 0!==n&&n.Parent&&t instanceof n.Parent)||(null===t||void 0===t||null===(a=t._zod)||void 0===a||null===(a=a.traits)||void 0===a?void 0:a.has(e))}}),Object.defineProperty(s,"name",{value:e}),s}Symbol("zod_brand");class sz extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const lz={};function cz(e){return e&&Object.assign(lz,e),lz}const uz=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,OI,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},dz=oz("$ZodError",uz),hz=oz("$ZodError",uz,{Parent:Error});const pz=e=>(t,n,a,r)=>{const i=a?Object.assign(a,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new sz;if(o.issues.length){var s;const t=new(null!==(s=null===r||void 0===r?void 0:r.Err)&&void 0!==s?s:e)(o.issues.map((e=>tz(e,i,cz()))));throw UI(t,null===r||void 0===r?void 0:r.callee),t}return o.value},fz=e=>async(t,n,a,r)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){var s;const t=new(null!==(s=null===r||void 0===r?void 0:r.Err)&&void 0!==s?s:e)(o.issues.map((e=>tz(e,i,cz()))));throw UI(t,null===r||void 0===r?void 0:r.callee),t}return o.value},mz=e=>(t,n,a)=>{const r=a?u(u({},a),{},{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},r);if(i instanceof Promise)throw new sz;return i.issues.length?{success:!1,error:new(null!==e&&void 0!==e?e:dz)(i.issues.map((e=>tz(e,r,cz()))))}:{success:!0,data:i.value}},gz=mz(hz),yz=e=>async(t,n,a)=>{const r=a?Object.assign(a,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map((e=>tz(e,r,cz()))))}:{success:!0,data:i.value}},bz=yz(hz),vz=(e,t)=>{dz.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t){const n=t||function(e){return e.message},a={_errors:[]},r=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map((e=>r({issues:e})));else if("invalid_key"===t.code)r({issues:t.issues});else if("invalid_element"===t.code)r({issues:t.issues});else if(0===t.path.length)a._errors.push(n(t));else{let e=a,r=0;for(;r<t.path.length;){const a=t.path[r];r===t.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(n(t))):e[a]=e[a]||{_errors:[]},e=e[a],r++}}};return r(e),a}(e,t)},flatten:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={},a=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):a.push(t(r));return{formErrors:a,fieldErrors:n}}(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})},wz=(oz("ZodError",vz),oz("ZodError",vz,{Parent:Error})),_z=pz(wz),xz=fz(wz),kz=mz(wz),Tz=yz(wz);var Dz,Az;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),a={};for(const e of n)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Dz||(Dz={})),function(e){e.mergeShapes=(e,t)=>u(u({},e),t)}(Az||(Az={}));const Cz=Dz.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sz=e=>{switch(typeof e){case"undefined":return Cz.undefined;case"string":return Cz.string;case"number":return Number.isNaN(e)?Cz.nan:Cz.number;case"boolean":return Cz.boolean;case"function":return Cz.function;case"bigint":return Cz.bigint;case"symbol":return Cz.symbol;case"object":return Array.isArray(e)?Cz.array:null===e?Cz.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Cz.promise:"undefined"!==typeof Map&&e instanceof Map?Cz.map:"undefined"!==typeof Set&&e instanceof Set?Cz.set:"undefined"!==typeof Date&&e instanceof Date?Cz.date:Cz.object;default:return Cz.unknown}},Ez=Dz.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fz extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(a);else if("invalid_return_type"===r.code)a(r.returnTypeError);else if("invalid_arguments"===r.code)a(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,a=0;for(;a<r.path.length;){const n=r.path[a];a===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}static assert(e){if(!(e instanceof Fz))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dz.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const a of this.issues)if(a.path.length>0){const n=a.path[0];t[n]=t[n]||[],t[n].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Fz.create=e=>new Fz(e);const Mz=(e,t)=>{let n;switch(e.code){case Ez.invalid_type:n=e.received===Cz.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Ez.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Dz.jsonStringifyReplacer));break;case Ez.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(Dz.joinValues(e.keys,", "));break;case Ez.invalid_union:n="Invalid input";break;case Ez.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(Dz.joinValues(e.options));break;case Ez.invalid_enum_value:n="Invalid enum value. Expected ".concat(Dz.joinValues(e.options),", received '").concat(e.received,"'");break;case Ez.invalid_arguments:n="Invalid function arguments";break;case Ez.invalid_return_type:n="Invalid function return type";break;case Ez.invalid_date:n="Invalid date";break;case Ez.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Dz.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Ez.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Ez.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Ez.custom:n="Invalid input";break;case Ez.invalid_intersection_types:n="Intersection results could not be merged";break;case Ez.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case Ez.not_finite:n="Number must be finite";break;default:n=t.defaultError,Dz.assertNever(e)}return{message:n}};let Iz=Mz;function zz(){return Iz}var Pz;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(Pz||(Pz={}));const Nz=e=>{const{data:t,path:n,errorMaps:a,issueData:r}=e,i=[...n,...r.path||[]],o=u(u({},r),{},{path:i});if(void 0!==r.message)return u(u({},r),{},{path:i,message:r.message});let s="";const l=a.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(o,{data:t,defaultError:s}).message;return u(u({},r),{},{path:i,message:s})};function Oz(e,t){const n=zz(),a=Nz({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Mz?void 0:Mz].filter((e=>!!e))});e.common.issues.push(a)}class Bz{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const a of t){if("aborted"===a.status)return Lz;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const a of t){const e=await a.key,t=await a.value;n.push({key:e,value:t})}return Bz.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const a of t){const{key:t,value:r}=a;if("aborted"===t.status)return Lz;if("aborted"===r.status)return Lz;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof r.value&&!a.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}}const Lz=Object.freeze({status:"aborted"}),Rz=e=>({status:"dirty",value:e}),jz=e=>({status:"valid",value:e}),Vz=e=>"aborted"===e.status,qz=e=>"dirty"===e.status,Uz=e=>"valid"===e.status,Gz=e=>"undefined"!==typeof Promise&&e instanceof Promise;class Hz{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Wz=(e,t)=>{if(Uz(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Fz(e.common.issues);return this._error=t,this._error}}};function Kz(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:r}=e;if(t&&(n||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:r};return{errorMap:(t,r)=>{var i;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!==o&&void 0!==o?o:r.defaultError}:"undefined"===typeof r.data?{message:null!==(s=null!==o&&void 0!==o?o:a)&&void 0!==s?s:r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:null!==(i=null!==o&&void 0!==o?o:n)&&void 0!==i?i:r.defaultError};var s},description:r}}class Yz{get description(){return this._def.description}_getType(e){return Sz(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Sz(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bz,ctx:{common:e.parent.common,data:e.data,parsedType:Sz(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Gz(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const a={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sz(e)},r=this._parseSync({data:e,path:a.path,parent:a});return Wz(a,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sz(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return Uz(n)?{value:n.value}:{issues:t.common.issues}}catch(a){var n;null!==a&&void 0!==a&&null!==(n=a.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>Uz(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sz(e)},a=this._parse({data:e,path:n.path,parent:n}),r=await(Gz(a)?a:Promise.resolve(a));return Wz(n,r)}refine(e,t){return this._refinement(((n,a)=>{const r=e(n),i=()=>a.addIssue(u({code:Ez.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&r instanceof Promise?r.then((e=>!!e||(i(),!1))):!!r||(i(),!1)}))}refinement(e,t){return this._refinement(((n,a)=>!!e(n)||(a.addIssue("function"===typeof t?t(n,a):t),!1)))}_refinement(e){return new HP({schema:this,typeName:eN.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return WP.create(this,this._def)}nullable(){return KP.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return FP.create(this)}promise(){return GP.create(this,this._def)}or(e){return zP.create([this,e],this._def)}and(e){return NP.create(this,e,this._def)}transform(e){return new HP(u(u({},Kz(this._def)),{},{schema:this,typeName:eN.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new YP(u(u({},Kz(this._def)),{},{innerType:this,defaultValue:t,typeName:eN.ZodDefault}))}brand(){return new XP(u({typeName:eN.ZodBranded,type:this},Kz(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new JP(u(u({},Kz(this._def)),{},{innerType:this,catchValue:t,typeName:eN.ZodCatch}))}describe(e){return new(0,this.constructor)(u(u({},this._def),{},{description:e}))}pipe(e){return $P.create(this,e)}readonly(){return QP.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Jz=/^c[^\s-]{8,}$/i,Zz=/^[0-9a-z]+$/,Xz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$z=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qz=/^[a-z0-9_-]{21}$/i,eP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let aP;const rP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,uP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dP=new RegExp("^".concat(uP,"$"));function hP(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function pP(e){let t="".concat(uP,"T").concat(hP(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function fP(e,t){return!("v4"!==t&&t||!rP.test(e))||!("v6"!==t&&t||!oP.test(e))}function mP(e,t){if(!eP.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(a));return"object"===typeof r&&null!==r&&((!("typ"in r)||"JWT"===(null===r||void 0===r?void 0:r.typ))&&(!!r.alg&&(!t||r.alg===t)))}catch(n){return!1}}function gP(e,t){return!("v4"!==t&&t||!iP.test(e))||!("v6"!==t&&t||!sP.test(e))}class yP extends Yz{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Cz.string){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.string,received:t.parsedType}),Lz}const t=new Bz;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,i=e.data.length<r.value;(a||i)&&(n=this._getOrReturnCtx(e,n),a?Oz(n,{code:Ez.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&Oz(n,{code:Ez.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)nP.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"email",code:Ez.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)aP||(aP=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),aP.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"emoji",code:Ez.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)$z.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"uuid",code:Ez.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)Qz.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"nanoid",code:Ez.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)Jz.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"cuid",code:Ez.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)Zz.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"cuid2",code:Ez.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)Xz.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"ulid",code:Ez.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(a){n=this._getOrReturnCtx(e,n),Oz(n,{validation:"url",code:Ez.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"regex",code:Ez.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){pP(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){dP.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){new RegExp("^".concat(hP(r),"$")).test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?tP.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"duration",code:Ez.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?fP(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"ip",code:Ez.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?mP(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"jwt",code:Ez.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?gP(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"cidr",code:Ez.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?lP.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"base64",code:Ez.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?cP.test(e.data)||(n=this._getOrReturnCtx(e,n),Oz(n,{validation:"base64url",code:Ez.invalid_string,message:r.message}),t.dirty()):Dz.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),u({validation:t,code:Ez.invalid_string},Pz.errToObj(n)))}_addCheck(e){return new yP(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(u({kind:"email"},Pz.errToObj(e)))}url(e){return this._addCheck(u({kind:"url"},Pz.errToObj(e)))}emoji(e){return this._addCheck(u({kind:"emoji"},Pz.errToObj(e)))}uuid(e){return this._addCheck(u({kind:"uuid"},Pz.errToObj(e)))}nanoid(e){return this._addCheck(u({kind:"nanoid"},Pz.errToObj(e)))}cuid(e){return this._addCheck(u({kind:"cuid"},Pz.errToObj(e)))}cuid2(e){return this._addCheck(u({kind:"cuid2"},Pz.errToObj(e)))}ulid(e){return this._addCheck(u({kind:"ulid"},Pz.errToObj(e)))}base64(e){return this._addCheck(u({kind:"base64"},Pz.errToObj(e)))}base64url(e){return this._addCheck(u({kind:"base64url"},Pz.errToObj(e)))}jwt(e){return this._addCheck(u({kind:"jwt"},Pz.errToObj(e)))}ip(e){return this._addCheck(u({kind:"ip"},Pz.errToObj(e)))}cidr(e){return this._addCheck(u({kind:"cidr"},Pz.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(u({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},Pz.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(u({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},Pz.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(u({kind:"duration"},Pz.errToObj(e)))}regex(e,t){return this._addCheck(u({kind:"regex",regex:e},Pz.errToObj(t)))}includes(e,t){return this._addCheck(u({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},Pz.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(u({kind:"startsWith",value:e},Pz.errToObj(t)))}endsWith(e,t){return this._addCheck(u({kind:"endsWith",value:e},Pz.errToObj(t)))}min(e,t){return this._addCheck(u({kind:"min",value:e},Pz.errToObj(t)))}max(e,t){return this._addCheck(u({kind:"max",value:e},Pz.errToObj(t)))}length(e,t){return this._addCheck(u({kind:"length",value:e},Pz.errToObj(t)))}nonempty(e){return this.min(1,Pz.errToObj(e))}trim(){return new yP(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new yP(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new yP(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function bP(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=n>a?n:a;return Number.parseInt(e.toFixed(r).replace(".",""))%Number.parseInt(t.toFixed(r).replace(".",""))/10**r}yP.create=e=>{var t;return new yP(u({checks:[],typeName:eN.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Kz(e)))};class vP extends Yz{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Cz.number){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.number,received:t.parsedType}),Lz}let t;const n=new Bz;for(const a of this._def.checks)if("int"===a.kind)Dz.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Oz(t,{code:Ez.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),Oz(t,{code:Ez.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),Oz(t,{code:Ez.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else"multipleOf"===a.kind?0!==bP(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),Oz(t,{code:Ez.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Oz(t,{code:Ez.not_finite,message:a.message}),n.dirty()):Dz.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Pz.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Pz.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Pz.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Pz.toString(t))}setLimit(e,t,n,a){return new vP(u(u({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Pz.toString(a)}]}))}_addCheck(e){return new vP(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Pz.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pz.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pz.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pz.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pz.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Pz.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Pz.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pz.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pz.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Dz.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}vP.create=e=>new vP(u({checks:[],typeName:eN.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Kz(e)));class wP extends Yz{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(a){return this._getInvalidInput(e)}if(this._getType(e)!==Cz.bigint)return this._getInvalidInput(e);let t;const n=new Bz;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Oz(t,{code:Ez.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Oz(t,{code:Ez.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Oz(t,{code:Ez.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Dz.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.bigint,received:t.parsedType}),Lz}gte(e,t){return this.setLimit("min",e,!0,Pz.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Pz.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Pz.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Pz.toString(t))}setLimit(e,t,n,a){return new wP(u(u({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Pz.toString(a)}]}))}_addCheck(e){return new wP(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pz.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pz.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pz.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pz.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Pz.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}wP.create=e=>{var t;return new wP(u({checks:[],typeName:eN.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Kz(e)))};class _P extends Yz{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Cz.boolean){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.boolean,received:t.parsedType}),Lz}return jz(e.data)}}_P.create=e=>new _P(u({typeName:eN.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Kz(e)));class xP extends Yz{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Cz.date){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.date,received:t.parsedType}),Lz}if(Number.isNaN(e.data.getTime())){return Oz(this._getOrReturnCtx(e),{code:Ez.invalid_date}),Lz}const t=new Bz;let n;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),Oz(n,{code:Ez.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):Dz.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xP(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Pz.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Pz.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}xP.create=e=>new xP(u({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:eN.ZodDate},Kz(e)));class kP extends Yz{_parse(e){if(this._getType(e)!==Cz.symbol){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.symbol,received:t.parsedType}),Lz}return jz(e.data)}}kP.create=e=>new kP(u({typeName:eN.ZodSymbol},Kz(e)));class TP extends Yz{_parse(e){if(this._getType(e)!==Cz.undefined){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.undefined,received:t.parsedType}),Lz}return jz(e.data)}}TP.create=e=>new TP(u({typeName:eN.ZodUndefined},Kz(e)));class DP extends Yz{_parse(e){if(this._getType(e)!==Cz.null){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.null,received:t.parsedType}),Lz}return jz(e.data)}}DP.create=e=>new DP(u({typeName:eN.ZodNull},Kz(e)));class AP extends Yz{constructor(){super(...arguments),this._any=!0}_parse(e){return jz(e.data)}}AP.create=e=>new AP(u({typeName:eN.ZodAny},Kz(e)));class CP extends Yz{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jz(e.data)}}CP.create=e=>new CP(u({typeName:eN.ZodUnknown},Kz(e)));class SP extends Yz{_parse(e){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.never,received:t.parsedType}),Lz}}SP.create=e=>new SP(u({typeName:eN.ZodNever},Kz(e)));class EP extends Yz{_parse(e){if(this._getType(e)!==Cz.undefined){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.void,received:t.parsedType}),Lz}return jz(e.data)}}EP.create=e=>new EP(u({typeName:eN.ZodVoid},Kz(e)));class FP extends Yz{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==Cz.array)return Oz(t,{code:Ez.invalid_type,expected:Cz.array,received:t.parsedType}),Lz;if(null!==a.exactLength){const e=t.data.length>a.exactLength.value,r=t.data.length<a.exactLength.value;(e||r)&&(Oz(t,{code:e?Ez.too_big:Ez.too_small,minimum:r?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(Oz(t,{code:Ez.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(Oz(t,{code:Ez.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>a.type._parseAsync(new Hz(t,e,t.path,n))))).then((e=>Bz.mergeArray(n,e)));const r=[...t.data].map(((e,n)=>a.type._parseSync(new Hz(t,e,t.path,n))));return Bz.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new FP(u(u({},this._def),{},{minLength:{value:e,message:Pz.toString(t)}}))}max(e,t){return new FP(u(u({},this._def),{},{maxLength:{value:e,message:Pz.toString(t)}}))}length(e,t){return new FP(u(u({},this._def),{},{exactLength:{value:e,message:Pz.toString(t)}}))}nonempty(e){return this.min(1,e)}}function MP(e){if(e instanceof IP){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=WP.create(MP(a))}return new IP(u(u({},e._def),{},{shape:()=>t}))}return e instanceof FP?new FP(u(u({},e._def),{},{type:MP(e.element)})):e instanceof WP?WP.create(MP(e.unwrap())):e instanceof KP?KP.create(MP(e.unwrap())):e instanceof OP?OP.create(e.items.map((e=>MP(e)))):e}FP.create=(e,t)=>new FP(u({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eN.ZodArray},Kz(t)));class IP extends Yz{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Dz.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Cz.object){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.object,received:t.parsedType}),Lz}const{status:t,ctx:n}=this._processInputParams(e),{shape:a,keys:r}=this._getCached(),i=[];if(!(this._def.catchall instanceof SP&&"strip"===this._def.unknownKeys))for(const s in n.data)r.includes(s)||i.push(s);const o=[];for(const s of r){const e=a[s],t=n.data[s];o.push({key:{status:"valid",value:s},value:e._parse(new Hz(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof SP){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(Oz(n,{code:Ez.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const a=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new Hz(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key,a=await t.value;e.push({key:n,value:a,alwaysSet:t.alwaysSet})}return e})).then((e=>Bz.mergeObjectSync(t,e))):Bz.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return Pz.errToObj,new IP(u(u({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var a,r,i,o;const s=null!==(a=null===(r=(i=this._def).errorMap)||void 0===r?void 0:r.call(i,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=Pz.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}))}strip(){return new IP(u(u({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new IP(u(u({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new IP(u(u({},this._def),{},{shape:()=>u(u({},this._def.shape()),e)}))}merge(e){return new IP({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>u(u({},this._def.shape()),e._def.shape()),typeName:eN.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new IP(u(u({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of Dz.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new IP(u(u({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of Dz.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new IP(u(u({},this._def),{},{shape:()=>t}))}deepPartial(){return MP(this)}partial(e){const t={};for(const n of Dz.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()}return new IP(u(u({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of Dz.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof WP;)e=e._def.innerType;t[n]=e}return new IP(u(u({},this._def),{},{shape:()=>t}))}keyof(){return VP(Dz.objectKeys(this.shape))}}IP.create=(e,t)=>new IP(u({shape:()=>e,unknownKeys:"strip",catchall:SP.create(),typeName:eN.ZodObject},Kz(t))),IP.strictCreate=(e,t)=>new IP(u({shape:()=>e,unknownKeys:"strict",catchall:SP.create(),typeName:eN.ZodObject},Kz(t))),IP.lazycreate=(e,t)=>new IP(u({shape:e,unknownKeys:"strip",catchall:SP.create(),typeName:eN.ZodObject},Kz(t)));class zP extends Yz{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;const n=e.map((e=>new Fz(e.ctx.common.issues)));return Oz(t,{code:Ez.invalid_union,unionErrors:n}),Lz}));{let e;const a=[];for(const i of n){const n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]}),parent:null}),r=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&a.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=a.map((e=>new Fz(e)));return Oz(t,{code:Ez.invalid_union,unionErrors:r}),Lz}}get options(){return this._def.options}}zP.create=(e,t)=>new zP(u({options:e,typeName:eN.ZodUnion},Kz(t)));function PP(e,t){const n=Sz(e),a=Sz(t);if(e===t)return{valid:!0,data:e};if(n===Cz.object&&a===Cz.object){const n=Dz.objectKeys(t),a=Dz.objectKeys(e).filter((e=>-1!==n.indexOf(e))),r=u(u({},e),t);for(const i of a){const n=PP(e[i],t[i]);if(!n.valid)return{valid:!1};r[i]=n.data}return{valid:!0,data:r}}if(n===Cz.array&&a===Cz.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const r=PP(e[a],t[a]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===Cz.date&&a===Cz.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class NP extends Yz{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=(e,a)=>{if(Vz(e)||Vz(a))return Lz;const r=PP(e.value,a.value);return r.valid?((qz(e)||qz(a))&&t.dirty(),{status:t.value,value:r.data}):(Oz(n,{code:Ez.invalid_intersection_types}),Lz)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return a(t,n)})):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}NP.create=(e,t,n)=>new NP(u({left:e,right:t,typeName:eN.ZodIntersection},Kz(n)));class OP extends Yz{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Cz.array)return Oz(n,{code:Ez.invalid_type,expected:Cz.array,received:n.parsedType}),Lz;if(n.data.length<this._def.items.length)return Oz(n,{code:Ez.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lz;!this._def.rest&&n.data.length>this._def.items.length&&(Oz(n,{code:Ez.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map(((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new Hz(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(a).then((e=>Bz.mergeArray(t,e))):Bz.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new OP(u(u({},this._def),{},{rest:e}))}}OP.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new OP(u({items:e,typeName:eN.ZodTuple,rest:null},Kz(t)))};class BP extends Yz{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Cz.map)return Oz(n,{code:Ez.invalid_type,expected:Cz.map,received:n.parsedType}),Lz;const a=this._def.keyType,r=this._def.valueType,i=[...n.data.entries()].map(((e,t)=>{let[i,o]=e;return{key:a._parse(new Hz(n,i,n.path,[t,"key"])),value:r._parse(new Hz(n,o,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const a=await n.key,r=await n.value;if("aborted"===a.status||"aborted"===r.status)return Lz;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const a=n.key,r=n.value;if("aborted"===a.status||"aborted"===r.status)return Lz;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}}}BP.create=(e,t,n)=>new BP(u({valueType:t,keyType:e,typeName:eN.ZodMap},Kz(n)));class LP extends Yz{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Cz.set)return Oz(n,{code:Ez.invalid_type,expected:Cz.set,received:n.parsedType}),Lz;const a=this._def;null!==a.minSize&&n.data.size<a.minSize.value&&(Oz(n,{code:Ez.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&n.data.size>a.maxSize.value&&(Oz(n,{code:Ez.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const r=this._def.valueType;function i(e){const n=new Set;for(const a of e){if("aborted"===a.status)return Lz;"dirty"===a.status&&t.dirty(),n.add(a.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>r._parse(new Hz(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>i(e))):i(o)}min(e,t){return new LP(u(u({},this._def),{},{minSize:{value:e,message:Pz.toString(t)}}))}max(e,t){return new LP(u(u({},this._def),{},{maxSize:{value:e,message:Pz.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}LP.create=(e,t)=>new LP(u({valueType:e,minSize:null,maxSize:null,typeName:eN.ZodSet},Kz(t)));class RP extends Yz{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}RP.create=(e,t)=>new RP(u({getter:e,typeName:eN.ZodLazy},Kz(t)));class jP extends Yz{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Oz(t,{received:t.data,code:Ez.invalid_literal,expected:this._def.value}),Lz}return{status:"valid",value:e.data}}get value(){return this._def.value}}function VP(e,t){return new qP(u({values:e,typeName:eN.ZodEnum},Kz(t)))}jP.create=(e,t)=>new jP(u({value:e,typeName:eN.ZodLiteral},Kz(t)));class qP extends Yz{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Oz(t,{expected:Dz.joinValues(n),received:t.parsedType,code:Ez.invalid_type}),Lz}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Oz(t,{received:t.data,code:Ez.invalid_enum_value,options:n}),Lz}return jz(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return qP.create(e,u(u({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return qP.create(this.options.filter((t=>!e.includes(t))),u(u({},this._def),t))}}qP.create=VP;class UP extends Yz{_parse(e){const t=Dz.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Cz.string&&n.parsedType!==Cz.number){const e=Dz.objectValues(t);return Oz(n,{expected:Dz.joinValues(e),received:n.parsedType,code:Ez.invalid_type}),Lz}if(this._cache||(this._cache=new Set(Dz.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Dz.objectValues(t);return Oz(n,{received:n.data,code:Ez.invalid_enum_value,options:e}),Lz}return jz(e.data)}get enum(){return this._def.values}}UP.create=(e,t)=>new UP(u({values:e,typeName:eN.ZodNativeEnum},Kz(t)));class GP extends Yz{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Cz.promise&&!1===t.common.async)return Oz(t,{code:Ez.invalid_type,expected:Cz.promise,received:t.parsedType}),Lz;const n=t.parsedType===Cz.promise?t.data:Promise.resolve(t.data);return jz(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}GP.create=(e,t)=>new GP(u({type:e,typeName:eN.ZodPromise},Kz(t)));class HP extends Yz{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eN.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,r={addIssue:e=>{Oz(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===a.type){const e=a.transform(n.data,r);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Lz;const a=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===a.status?Lz:"dirty"===a.status||"dirty"===t.value?Rz(a.value):a}));{if("aborted"===t.value)return Lz;const a=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===a.status?Lz:"dirty"===a.status||"dirty"===t.value?Rz(a.value):a}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===a.status?Lz:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Lz:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===a.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Uz(e))return Lz;const i=a.transform(e.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Uz(e)?Promise.resolve(a.transform(e.value,r)).then((e=>({status:t.value,value:e}))):Lz))}Dz.assertNever(a)}}HP.create=(e,t,n)=>new HP(u({schema:e,typeName:eN.ZodEffects,effect:t},Kz(n))),HP.createWithPreprocess=(e,t,n)=>new HP(u({schema:t,effect:{type:"preprocess",transform:e},typeName:eN.ZodEffects},Kz(n)));class WP extends Yz{_parse(e){return this._getType(e)===Cz.undefined?jz(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}WP.create=(e,t)=>new WP(u({innerType:e,typeName:eN.ZodOptional},Kz(t)));class KP extends Yz{_parse(e){return this._getType(e)===Cz.null?jz(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}KP.create=(e,t)=>new KP(u({innerType:e,typeName:eN.ZodNullable},Kz(t)));class YP extends Yz{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Cz.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}YP.create=(e,t)=>new YP(u({innerType:e,typeName:eN.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},Kz(t)));class JP extends Yz{_parse(e){const{ctx:t}=this._processInputParams(e),n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]})}),a=this._def.innerType._parse({data:n.data,path:n.path,parent:u({},n)});return Gz(a)?a.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Fz(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new Fz(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}JP.create=(e,t)=>new JP(u({innerType:e,typeName:eN.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},Kz(t)));class ZP extends Yz{_parse(e){if(this._getType(e)!==Cz.nan){const t=this._getOrReturnCtx(e);return Oz(t,{code:Ez.invalid_type,expected:Cz.nan,received:t.parsedType}),Lz}return{status:"valid",value:e.data}}}ZP.create=e=>new ZP(u({typeName:eN.ZodNaN},Kz(e)));Symbol("zod_brand");class XP extends Yz{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class $P extends Yz{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Lz:"dirty"===e.status?(t.dirty(),Rz(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Lz:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new $P({in:e,out:t,typeName:eN.ZodPipeline})}}class QP extends Yz{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Uz(e)&&(e.value=Object.freeze(e.value)),e);return Gz(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}QP.create=(e,t)=>new QP(u({innerType:e,typeName:eN.ZodReadonly},Kz(t)));IP.lazycreate;var eN;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eN||(eN={}));yP.create,vP.create,ZP.create,wP.create,_P.create,xP.create,kP.create,TP.create,DP.create,AP.create,CP.create,SP.create,EP.create,FP.create,IP.create,IP.strictCreate,zP.create,NP.create,OP.create,BP.create,LP.create,RP.create,jP.create,qP.create,UP.create,GP.create,HP.create,WP.create,KP.create,HP.createWithPreprocess,$P.create;const tN=["execute","outputSchema","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],nN=["execute","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],aN=["additionalProperties"],rN=["type"],iN=["type"];function oN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>u(u({},e),null!=t?t:{})),{})}function sN(){return new DOMException("Delay was aborted","AbortError")}function lN(e){return Object.fromEntries([...e.headers])}var cN=function(){let{prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:a="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=()=>{const e=n.length,a=new Array(t);for(let r=0;r<t;r++)a[r]=n[Math.random()*e|0];return a.join("")};if(null==e)return r;if(n.includes(a))throw new NM({argument:"separator",message:'The separator "'.concat(a,'" must not be part of the alphabet "').concat(n,'".')});return()=>"".concat(e).concat(a).concat(r())},uN=cN();function dN(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}function hN(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var pN=["fetch failed","failed to fetch"];function fN(e){let{error:t,url:n,requestBodyValues:a}=e;if(hN(t))return t;if(t instanceof TypeError&&pN.includes(t.message.toLowerCase())){const e=t.cause;if(null!=e)return new TM({message:"Cannot connect to API: ".concat(e.message),cause:e,url:n,requestBodyValues:a,isRetryable:!0})}return t}function mN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;var t,n,a;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?"runtime/".concat(e.navigator.userAgent.toLowerCase()):(null==(a=null==(n=e.process)?void 0:n.versions)?void 0:a.node)?"runtime/node.js/".concat(e.process.version.substring(0)):e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function gN(e){const t=function(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return null!=n})))}(null!=e?e:{}),n=new Headers(t),a=n.get("user-agent")||"";for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n.set("user-agent",[a,...i].filter(Boolean).join(" ")),Object.fromEntries(n)}var yN="3.0.12",bN=()=>globalThis.fetch,vN=async e=>{let{url:t,headers:n={},successfulResponseHandler:a,failedResponseHandler:r,abortSignal:i,fetch:o=bN()}=e;try{const e=await o(t,{method:"GET",headers:gN(n,"ai-sdk/provider-utils/".concat(yN),mN()),signal:i}),l=lN(e);if(!e.ok){let n;try{n=await r({response:e,url:t,requestBodyValues:{}})}catch(s){if(hN(s)||TM.isInstance(s))throw s;throw new TM({message:"Failed to process error response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}throw n.value}try{return await a({response:e,url:t,requestBodyValues:{}})}catch(s){if(s instanceof Error&&(hN(s)||TM.isInstance(s)))throw s;throw new TM({message:"Failed to process successful response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}}catch(s){throw fN({error:s,url:t,requestBodyValues:{}})}};function wN(e){let{mediaType:t,url:n,supportedUrls:a}=e;return n=n.toLowerCase(),t=t.toLowerCase(),Object.entries(a).map((e=>{let[t,n]=e;const a=t.toLowerCase();return"*"===a||"*/*"===a?{mediaTypePrefix:"",regexes:n}:{mediaTypePrefix:a.replace(/\*/,""),regexes:n}})).filter((e=>{let{mediaTypePrefix:n}=e;return t.startsWith(n)})).flatMap((e=>{let{regexes:t}=e;return t})).some((e=>e.test(n)))}function _N(e){let{apiKey:t,environmentVariableName:n,apiKeyParameterName:a="apiKey",description:r}=e;if("string"===typeof t)return t;if(null!=t)throw new tI({message:"".concat(r," API key must be a string.")});if("undefined"===typeof process)throw new tI({message:"".concat(r," API key is missing. Pass it using the '").concat(a,"' parameter. Environment variables is not supported in this environment.")});if(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null==t)throw new tI({message:"".concat(r," API key is missing. Pass it using the '").concat(a,"' parameter or the ").concat(n," environment variable.")});if("string"!==typeof t)throw new tI({message:"".concat(r," API key must be a string. The value of the ").concat(n," environment variable is not a string.")});return t}function xN(e){let{settingValue:t,environmentVariableName:n}=e;return"string"===typeof t||null==t&&"undefined"!==typeof process&&(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null!=t&&"string"===typeof t)?t:void 0}var kN=/"__proto__"\s*:/,TN=/"constructor"\s*:/;function DN(e){const t=JSON.parse(e);return null===t||"object"!==typeof t||!1===kN.test(e)&&!1===TN.test(e)?t:function(e){let t=[e];for(;t.length;){const e=t;t=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const e in n){const a=n[e];a&&"object"===typeof a&&t.push(a)}}}return e}(t)}function AN(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return DN(e)}finally{Error.stackTraceLimit=t}}var CN=Symbol.for("vercel.ai.validator");function SN(e){let t;return()=>(null==t&&(t=e()),t)}function EN(e){return function(e){return"object"===typeof e&&null!==e&&CN in e&&!0===e[CN]&&"validate"in e}(e)?e:"function"===typeof e?e():function(e){return t=async t=>{const n=await e["~standard"].validate(t);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new kI({value:t,cause:n.issues})}},{[CN]:!0,validate:t};var t}(e)}async function FN(e){let{value:t,schema:n}=e;const a=await MN({value:t,schema:n});if(!a.success)throw kI.wrap({value:t,cause:a.error});return a.value}async function MN(e){let{value:t,schema:n}=e;const a=EN(n);try{if(null==a.validate)return{success:!0,value:t,rawValue:t};const e=await a.validate(t);return e.success?{success:!0,value:e.value,rawValue:t}:{success:!1,error:kI.wrap({value:t,cause:e.error}),rawValue:t}}catch(r){return{success:!1,error:kI.wrap({value:t,cause:r}),rawValue:t}}}async function IN(e){let{text:t,schema:n}=e;try{const e=AN(t);return null==n?{success:!0,value:e,rawValue:e}:await MN({value:e,schema:n})}catch(a){return{success:!1,error:ZM.isInstance(a)?a:new ZM({text:t,cause:a}),rawValue:void 0}}}function zN(e){try{return AN(e),!0}catch(F){return!1}}function PN(e){let{stream:t,schema:n}=e;return t.pipeThrough(new TextDecoderStream).pipeThrough(new MI).pipeThrough(new TransformStream({async transform(e,t){let{data:a}=e;"[DONE]"!==a&&t.enqueue(await IN({text:a,schema:n}))}}))}async function NN(e){let{provider:t,providerOptions:n,schema:a}=e;if(null==(null==n?void 0:n[t]))return;const r=await MN({value:n[t],schema:a});if(!r.success)throw new NM({argument:"providerOptions",message:"invalid ".concat(t," provider options"),cause:r.error});return r.value}var ON=()=>globalThis.fetch,BN=async e=>{let{url:t,headers:n,body:a,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}=e;return LN({url:t,headers:u({"Content-Type":"application/json"},n),body:{content:JSON.stringify(a),values:a},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})},LN=async e=>{let{url:t,headers:n={},body:a,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:o,fetch:s=ON()}=e;try{const e=await s(t,{method:"POST",headers:gN(n,"ai-sdk/provider-utils/".concat(yN),mN()),body:a.content,signal:o}),c=lN(e);if(!e.ok){let n;try{n=await i({response:e,url:t,requestBodyValues:a.values})}catch(l){if(hN(l)||TM.isInstance(l))throw l;throw new TM({message:"Failed to process error response",cause:l,statusCode:e.status,url:t,responseHeaders:c,requestBodyValues:a.values})}throw n.value}try{return await r({response:e,url:t,requestBodyValues:a.values})}catch(l){if(l instanceof Error&&(hN(l)||TM.isInstance(l)))throw l;throw new TM({message:"Failed to process successful response",cause:l,statusCode:e.status,url:t,responseHeaders:c,requestBodyValues:a.values})}}catch(l){throw fN({error:l,url:t,requestBodyValues:a.values})}};function RN(e){let{id:t,name:n,inputSchema:a}=e;return e=>{let{execute:r,outputSchema:o,toModelOutput:s,onInputStart:l,onInputDelta:c,onInputAvailable:u}=e,d=i(e,tN);return{type:"provider-defined",id:t,name:n,args:d,inputSchema:a,outputSchema:o,execute:r,toModelOutput:s,onInputStart:l,onInputDelta:c,onInputAvailable:u}}}function jN(e){let{id:t,name:n,inputSchema:a,outputSchema:r}=e;return e=>{let{execute:o,toModelOutput:s,onInputStart:l,onInputDelta:c,onInputAvailable:u}=e,d=i(e,nN);return{type:"provider-defined",id:t,name:n,args:d,inputSchema:a,outputSchema:r,execute:o,toModelOutput:s,onInputStart:l,onInputDelta:c,onInputAvailable:u}}}async function VN(e){return"function"===typeof e&&(e=e()),Promise.resolve(e)}var qN=e=>{let{errorSchema:t,errorToMessage:n,isRetryable:a}=e;return async e=>{let{response:r,url:i,requestBodyValues:o}=e;const s=await r.text(),l=lN(r);if(""===s.trim())return{responseHeaders:l,value:new TM({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:l,responseBody:s,isRetryable:null==a?void 0:a(r)})};try{const e=await async function(e){let{text:t,schema:n}=e;try{const e=AN(t);return null==n?e:FN({value:e,schema:n})}catch(a){if(ZM.isInstance(a)||kI.isInstance(a))throw a;throw new ZM({text:t,cause:a})}}({text:s,schema:t});return{responseHeaders:l,value:new TM({message:n(e),url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:l,responseBody:s,data:e,isRetryable:null==a?void 0:a(r,e)})}}catch(c){return{responseHeaders:l,value:new TM({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:l,responseBody:s,isRetryable:null==a?void 0:a(r)})}}}},UN=e=>async t=>{let{response:n}=t;const a=lN(n);if(null==n.body)throw new EM({});return{responseHeaders:a,value:PN({stream:n.body,schema:e})}},GN=e=>async t=>{let{response:n,url:a,requestBodyValues:r}=t;const i=await n.text(),o=await IN({text:i,schema:e}),s=lN(n);if(!o.success)throw new TM({message:"Invalid JSON response",cause:o.error,statusCode:n.status,responseHeaders:s,responseBody:i,url:a,requestBodyValues:r});return{responseHeaders:s,value:o.value,rawValue:o.rawValue}},HN=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},WN=Symbol("Let zodToJsonSchema decide on which parser to use"),KN={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function YN(e,t){return _O(e.type._def,t)}function JN(e,t,n){const a=null!=n?n:t.dateStrategy;if(Array.isArray(a))return{anyOf:a.map(((n,a)=>JN(e,t,n)))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return ZN(e)}}var ZN=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value}return t};var XN=void 0,$N=/^[cC][^\s-]{8,}$/,QN=/^[0-9a-z]+$/,eO=/^[0-9A-HJKMNP-TV-Z]{26}$/,tO=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,nO=()=>(void 0===XN&&(XN=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),XN),aO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oO=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sO=/^[a-zA-Z0-9_-]{21}$/,lO=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function cO(e,t){const n={type:"string"};if(e.checks)for(const a of e.checks)switch(a.kind){case"min":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,a.value):a.value;break;case"max":n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,a.value):a.value;break;case"email":switch(t.emailStrategy){case"format:email":hO(n,"email",a.message,t);break;case"format:idn-email":hO(n,"idn-email",a.message,t);break;case"pattern:zod":pO(n,tO,a.message,t)}break;case"url":hO(n,"uri",a.message,t);break;case"uuid":hO(n,"uuid",a.message,t);break;case"regex":pO(n,a.regex,a.message,t);break;case"cuid":pO(n,$N,a.message,t);break;case"cuid2":pO(n,QN,a.message,t);break;case"startsWith":pO(n,RegExp("^".concat(uO(a.value,t))),a.message,t);break;case"endsWith":pO(n,RegExp("".concat(uO(a.value,t),"$")),a.message,t);break;case"datetime":hO(n,"date-time",a.message,t);break;case"date":hO(n,"date",a.message,t);break;case"time":hO(n,"time",a.message,t);break;case"duration":hO(n,"duration",a.message,t);break;case"length":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,a.value):a.value,n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,a.value):a.value;break;case"includes":pO(n,RegExp(uO(a.value,t)),a.message,t);break;case"ip":"v6"!==a.version&&hO(n,"ipv4",a.message,t),"v4"!==a.version&&hO(n,"ipv6",a.message,t);break;case"base64url":pO(n,oO,a.message,t);break;case"jwt":pO(n,lO,a.message,t);break;case"cidr":"v6"!==a.version&&pO(n,aO,a.message,t),"v4"!==a.version&&pO(n,rO,a.message,t);break;case"emoji":pO(n,nO(),a.message,t);break;case"ulid":pO(n,eO,a.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":hO(n,"binary",a.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":pO(n,iO,a.message,t)}break;case"nanoid":pO(n,sO,a.message,t)}return n}function uO(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)dO.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var dO=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function hO(e,t,n,a){var r;e.format||(null==(r=e.anyOf)?void 0:r.some((e=>e.format)))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push(u({format:t},n&&a.errorMessages&&{errorMessage:{format:n}}))):e.format=t}function pO(e,t,n,a){var r;e.pattern||(null==(r=e.allOf)?void 0:r.some((e=>e.pattern)))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push(u({pattern:fO(t,a)},n&&a.errorMessages&&{errorMessage:{pattern:n}}))):e.pattern=fO(t,a)}function fO(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const a=e.flags.includes("i"),r=e.flags.includes("m"),i=e.flags.includes("s"),o=a?e.source.toLowerCase():e.source;let s="",l=!1,c=!1,u=!1;for(let d=0;d<o.length;d++)if(l)s+=o[d],l=!1;else{if(a)if(c){if(o[d].match(/[a-z]/)){u?(s+=o[d],s+="".concat(o[d-2],"-").concat(o[d]).toUpperCase(),u=!1):"-"===o[d+1]&&(null==(n=o[d+2])?void 0:n.match(/[a-z]/))?(s+=o[d],u=!0):s+="".concat(o[d]).concat(o[d].toUpperCase());continue}}else if(o[d].match(/[a-z]/)){s+="[".concat(o[d]).concat(o[d].toUpperCase(),"]");continue}if(r){if("^"===o[d]){s+="(^|(?<=[\r\n]))";continue}if("$"===o[d]){s+="($|(?=[\r\n]))";continue}}i&&"."===o[d]?s+=c?"".concat(o[d],"\r\n"):"[".concat(o[d],"\r\n]"):(s+=o[d],"\\"===o[d]?l=!0:c&&"]"===o[d]?c=!1:c||"["!==o[d]||(c=!0))}try{new RegExp(s)}catch(F){return console.warn("Could not convert regex pattern at ".concat(t.currentPath.join("/")," to a flag-independent form! Falling back to the flag-ignorant source")),e.source}return s}function mO(e,t){var n,a,r,o,s,l;const c={type:"object",additionalProperties:null!=(n=_O(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]})))?n:t.allowedAdditionalProperties};if((null==(a=e.keyType)?void 0:a._def.typeName)===eN.ZodString&&(null==(r=e.keyType._def.checks)?void 0:r.length)){const n=cO(e.keyType._def,t),{type:a}=n,r=i(n,rN);return u(u({},c),{},{propertyNames:r})}if((null==(o=e.keyType)?void 0:o._def.typeName)===eN.ZodEnum)return u(u({},c),{},{propertyNames:{enum:e.keyType._def.values}});if((null==(s=e.keyType)?void 0:s._def.typeName)===eN.ZodBranded&&e.keyType._def.type._def.typeName===eN.ZodString&&(null==(l=e.keyType._def.type._def.checks)?void 0:l.length)){const n=YN(e.keyType._def,t),{type:a}=n,r=i(n,iN);return u(u({},c),{},{propertyNames:r})}return c}var gO={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};var yO=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>_O(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","".concat(n)]})))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function bO(e,t){const n={type:"object",properties:{}},a=[],r=e.shape();for(const o in r){let e=r[o];if(void 0===e||void 0===e._def)continue;const i=vO(e),s=_O(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]}));void 0!==s&&(n.properties[o]=s,i||a.push(o))}a.length&&(n.required=a);const i=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return _O(e.catchall._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]}));switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==i&&(n.additionalProperties=i),n}function vO(e){try{return e.isOptional()}catch(F){return!0}}var wO=(e,t,n)=>{switch(t){case eN.ZodString:return cO(e,n);case eN.ZodNumber:return function(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case eN.ZodObject:return bO(e,n);case eN.ZodBigInt:return function(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case eN.ZodBoolean:return{type:"boolean"};case eN.ZodDate:return JN(e,n);case eN.ZodUndefined:return{not:{}};case eN.ZodNull:return{type:"null"};case eN.ZodArray:return function(e,t){var n,a,r;const i={type:"array"};return(null==(n=e.type)?void 0:n._def)&&(null==(r=null==(a=e.type)?void 0:a._def)?void 0:r.typeName)!==eN.ZodAny&&(i.items=_O(e.type._def,u(u({},t),{},{currentPath:[...t.currentPath,"items"]}))),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}(e,n);case eN.ZodUnion:case eN.ZodDiscriminatedUnion:return function(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in gO&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=gO[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return yO(e,t)}(e,n);case eN.ZodIntersection:return function(e,t){const n=[_O(e.left._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","0"]})),_O(e.right._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","1"]}))].filter((e=>!!e)),a=[];return n.forEach((e=>{if((e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e)(e))a.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n}=e;t=i(e,aN)}a.push(t)}})),a.length?{allOf:a}:void 0}(e,n);case eN.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>_O(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:_O(e.rest._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>_O(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case eN.ZodRecord:return mO(e,n);case eN.ZodLiteral:return function(e){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case eN.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case eN.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])).map((e=>t[e])),a=Array.from(new Set(n.map((e=>typeof e))));return{type:1===a.length?"string"===a[0]?"string":"number":["string","number"],enum:n}}(e);case eN.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[gO[e.innerType._def.typeName],"null"]};const n=_O(e.innerType._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","0"]}));return n&&{anyOf:[n,{type:"null"}]}}(e,n);case eN.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null==(n=t.propertyPath)?void 0:n.toString()))return _O(e.innerType._def,t);const a=_O(e.innerType._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","1"]}));return a?{anyOf:[{not:{}},a]}:{}})(e,n);case eN.ZodMap:return function(e,t){return"record"===t.mapStrategy?mO(e,t):{type:"array",maxItems:125,items:{type:"array",items:[_O(e.keyType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","items","0"]}))||{},_O(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","items","1"]}))||{}],minItems:2,maxItems:2}}}(e,n);case eN.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:_O(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items"]}))};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}(e,n);case eN.ZodLazy:return()=>e.getter()._def;case eN.ZodPromise:return function(e,t){return _O(e.type._def,t)}(e,n);case eN.ZodNaN:case eN.ZodNever:return{not:{}};case eN.ZodEffects:return function(e,t){return"input"===t.effectStrategy?_O(e.schema._def,t):{}}(e,n);case eN.ZodAny:case eN.ZodUnknown:return{};case eN.ZodDefault:return function(e,t){return u(u({},_O(e.innerType._def,t)),{},{default:e.defaultValue()})}(e,n);case eN.ZodBranded:return YN(e,n);case eN.ZodReadonly:case eN.ZodCatch:return((e,t)=>_O(e.innerType._def,t))(e,n);case eN.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return _O(e.in._def,t);if("output"===t.pipeStrategy)return _O(e.out._def,t);const n=_O(e.in._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","0"]}));return{allOf:[n,_O(e.out._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf",n?"1":"0"]}))].filter((e=>void 0!==e))}})(e,n);case eN.ZodFunction:case eN.ZodVoid:case eN.ZodSymbol:default:return}};function _O(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var a;const r=t.seen.get(e);if(t.override){const i=null==(a=t.override)?void 0:a.call(t,e,t,r,n);if(i!==WN)return i}if(r&&!n){const e=xO(r,t);if(void 0!==e)return e}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const o=wO(e,e.typeName,t),s="function"===typeof o?_O(o(),t):o;if(s&&kO(e,t,s),t.postProcess){const n=t.postProcess(s,e,t);return i.jsonSchema=s,n}return i.jsonSchema=s,s}var xO=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:HN(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn("Recursive reference detected at ".concat(t.currentPath.join("/"),"! Defaulting to any")),{}):"seen"===t.$refStrategy?{}:void 0}},kO=(e,t,n)=>(e.description&&(n.description=e.description),n),TO=e=>{const t=(e=>"string"===typeof e?u(u({},KN),{},{name:e}):u(u({},KN),e))(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return u(u({},t),{},{currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((e=>{let[n,a]=e;return[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]})))})},DO=(e,t)=>{var n;const a=TO(t);let r="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,t)=>{let[n,r]=t;var i;return u(u({},e),{},{[n]:null!=(i=_O(r._def,u(u({},a),{},{currentPath:[...a.basePath,a.definitionPath,n]}),!0))?i:{}})}),{}):void 0;const i="string"===typeof t?t:"title"===(null==t?void 0:t.nameStrategy)||null==t?void 0:t.name,o=null!=(n=_O(e._def,void 0===i?a:u(u({},a),{},{currentPath:[...a.basePath,a.definitionPath,i]}),!1))?n:{},s="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(o.title=s);const l=void 0===i?r?u(u({},o),{},{[a.definitionPath]:r}):o:{$ref:[..."relative"===a.$refStrategy?[]:a.basePath,a.definitionPath,i].join("/"),[a.definitionPath]:u(u({},r),{},{[i]:o})};return l.$schema="http://json-schema.org/draft-07/schema#",l};function AO(e,t){var n;const a=null!=(n=null==t?void 0:t.useReferences)&&n;return FO((()=>function(e,t){if(e instanceof II){const n=new rz(t),a={};for(const t of e._idmap.entries()){const[e,a]=t;n.process(a)}const r={},i={registry:e,uri:null===t||void 0===t?void 0:t.uri,defs:a};for(const o of e._idmap.entries()){const[e,a]=o;r[e]=n.emit(a,u(u({},t),{},{external:i}))}if(Object.keys(a).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";r.__shared={[e]:a}}return{schemas:r}}const n=new rz(t);return n.process(e),n.emit(e,t)}(e,{target:"draft-7",io:"output",reused:a?"ref":"inline"})),{validate:async t=>{const n=await Tz(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}function CO(e,t){return function(e){return"_zod"in e}(e)?AO(e,t):function(e,t){var n;const a=null!=(n=null==t?void 0:t.useReferences)&&n;return FO((()=>DO(e,{$refStrategy:a?"root":"none"})),{validate:async t=>{const n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e,t)}var SO=Symbol.for("vercel.ai.schema");function EO(e){let t;return()=>(null==t&&(t=e()),t)}function FO(e){let{validate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{[SO]:!0,_type:void 0,[CN]:!0,get jsonSchema(){return"function"===typeof e&&(e=e()),e},validate:t}}function MO(e){return null==e?FO({properties:{},additionalProperties:!1}):function(e){return"object"===typeof e&&null!==e&&SO in e&&!0===e[SO]&&"jsonSchema"in e&&"validate"in e}(e)?e:"function"===typeof e?e():CO(e)}var{btoa:IO,atob:zO}=globalThis;function PO(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=zO(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))}function NO(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return IO(t)}function OO(e){return e instanceof Uint8Array?NO(e):e}function BO(e){return null==e?void 0:e.replace(/\/$/,"")}function LO(){return LO=function(e){return function(){return new fM(e.apply(this,arguments))}}((function(e){let{execute:t,input:n,options:a}=e;return function*(){const e=t(n,a);if(null!=(c=e)&&"function"===typeof c[Symbol.asyncIterator]){let t;var r,i=!1,o=!1;try{for(var s,l=uM(e);i=!(s=yield pM(l.next())).done;i=!1){const e=s.value;t=e,yield{type:"preliminary",output:e}}}catch(u){o=!0,r=u}finally{try{i&&null!=l.return&&(yield pM(l.return()))}finally{if(o)throw r}}yield{type:"final",output:t}}else yield{type:"final",output:yield pM(e)};var c}()})),LO.apply(this,arguments)}const RO=/^[cC][^\s-]{8,}$/,jO=/^[0-9a-z]+$/,VO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,qO=/^[0-9a-vA-V]{20}$/,UO=/^[A-Za-z0-9]{27}$/,GO=/^[a-zA-Z0-9_-]{21}$/,HO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,WO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,KO=e=>e?new RegExp("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-".concat(e,"[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$")):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,YO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const JO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,XO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$O=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,QO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,eB=/^[A-Za-z0-9_-]*$/,tB=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,nB=/^\+(?:[0-9]){6,14}[0-9]$/,aB="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",rB=new RegExp("^".concat(aB,"$"));function iB(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"===typeof e.precision?-1===e.precision?"".concat(t):0===e.precision?"".concat(t,":[0-5]\\d"):"".concat(t,":[0-5]\\d\\.\\d{").concat(e.precision,"}"):"".concat(t,"(?::[0-5]\\d(?:\\.\\d+)?)?")}const oB=/^\d+$/,sB=/^-?\d+(?:\.\d+)?/i,lB=/true|false/i,cB=/null/i,uB=/^[^A-Z]*$/,dB=/^[^a-z]*$/,hB=oz("$ZodCheck",((e,t)=>{var n,a,r;null!==(n=e._zod)&&void 0!==n||(e._zod={}),e._zod.def=t,null!==(a=(r=e._zod).onattach)&&void 0!==a||(r.onattach=[])})),pB={number:"number",bigint:"bigint",object:"date"},fB=oz("$ZodCheckLessThan",((e,t)=>{hB.init(e,t);const n=pB[typeof t.value];e._zod.onattach.push((e=>{var n;const a=e._zod.bag,r=null!==(n=t.inclusive?a.maximum:a.exclusiveMaximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)})),e._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:n,code:"too_big",maximum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),mB=oz("$ZodCheckGreaterThan",((e,t)=>{hB.init(e,t);const n=pB[typeof t.value];e._zod.onattach.push((e=>{var n;const a=e._zod.bag,r=null!==(n=t.inclusive?a.minimum:a.exclusiveMinimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)})),e._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:n,code:"too_small",minimum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),gB=oz("$ZodCheckMultipleOf",((e,t)=>{hB.init(e,t),e._zod.onattach.push((e=>{var n,a;null!==(n=(a=e._zod.bag).multipleOf)&&void 0!==n||(a.multipleOf=t.value)})),e._zod.check=n=>{if(typeof n.value!==typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"===typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=n>a?n:a;return Number.parseInt(e.toFixed(r).replace(".",""))%Number.parseInt(t.toFixed(r).replace(".",""))/10**r}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}})),yB=oz("$ZodCheckNumberFormat",((e,t)=>{var n;hB.init(e,t),t.format=t.format||"float64";const a=null===(n=t.format)||void 0===n?void 0:n.includes("int"),r=a?"int":"number",[i,o]=XI[t.format];e._zod.onattach.push((e=>{const n=e._zod.bag;n.format=t.format,n.minimum=i,n.maximum=o,a&&(n.pattern=oB)})),e._zod.check=n=>{const s=n.value;if(a){if(!Number.isInteger(s))return void n.issues.push({expected:r,format:t.format,code:"invalid_type",input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?n.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):n.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}))}s<i&&n.issues.push({origin:"number",input:s,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),s>o&&n.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}})),bB=oz("$ZodCheckMaxLength",((e,t)=>{var n,a;hB.init(e,t),null!==(n=(a=e._zod.def).when)&&void 0!==n||(a.when=e=>{const t=e.value;return!LI(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const a=null!==(n=e._zod.bag.maximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.maximum<a&&(e._zod.bag.maximum=t.maximum)})),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const r=nz(a);n.issues.push({origin:r,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}})),vB=oz("$ZodCheckMinLength",((e,t)=>{var n,a;hB.init(e,t),null!==(n=(a=e._zod.def).when)&&void 0!==n||(a.when=e=>{const t=e.value;return!LI(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const a=null!==(n=e._zod.bag.minimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.minimum>a&&(e._zod.bag.minimum=t.minimum)})),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const r=nz(a);n.issues.push({origin:r,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}})),wB=oz("$ZodCheckLengthEquals",((e,t)=>{var n,a;hB.init(e,t),null!==(n=(a=e._zod.def).when)&&void 0!==n||(a.when=e=>{const t=e.value;return!LI(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length})),e._zod.check=n=>{const a=n.value,r=a.length;if(r===t.length)return;const i=nz(a),o=r>t.length;n.issues.push(u(u({origin:i},o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length}),{},{inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort}))}})),_B=oz("$ZodCheckStringFormat",((e,t)=>{var n,a,r,i;hB.init(e,t),e._zod.onattach.push((e=>{const n=e._zod.bag;var a;(n.format=t.format,t.pattern)&&(null!==(a=n.patterns)&&void 0!==a||(n.patterns=new Set),n.patterns.add(t.pattern))})),t.pattern?null!==(n=(r=e._zod).check)&&void 0!==n||(r.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push(u(u({origin:"string",code:"invalid_format",format:t.format,input:n.value},t.pattern?{pattern:t.pattern.toString()}:{}),{},{inst:e,continue:!t.abort}))}):null!==(a=(i=e._zod).check)&&void 0!==a||(i.check=()=>{})})),xB=oz("$ZodCheckRegex",((e,t)=>{_B.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}})),kB=oz("$ZodCheckLowerCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=uB),_B.init(e,t)})),TB=oz("$ZodCheckUpperCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=dB),_B.init(e,t)})),DB=oz("$ZodCheckIncludes",((e,t)=>{hB.init(e,t);const n=YI(t.includes),a=new RegExp("number"===typeof t.position?"^.{".concat(t.position,"}").concat(n):n);t.pattern=a,e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(a)})),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}})),AB=oz("$ZodCheckStartsWith",((e,t)=>{var n;hB.init(e,t);const a=new RegExp("^".concat(YI(t.prefix),".*"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=a),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(a)})),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}})),CB=oz("$ZodCheckEndsWith",((e,t)=>{var n;hB.init(e,t);const a=new RegExp(".*".concat(YI(t.suffix),"$"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=a),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(a)})),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}));const SB=oz("$ZodCheckOverwrite",((e,t)=>{hB.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}));class EB{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"===typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter((e=>e)),n=Math.min(...t.map((e=>e.length-e.trimStart().length))),a=t.map((e=>e.slice(n))).map((e=>" ".repeat(2*this.indent)+e));for(const r of a)this.content.push(r)}compile(){var e;const t=Function,n=null===this||void 0===this?void 0:this.args,a=[...(null!==(e=null===this||void 0===this?void 0:this.content)&&void 0!==e?e:[""]).map((e=>"  ".concat(e)))];return new t(...n,a.join("\n"))}}const FB={major:4,minor:0,patch:0},MB=oz("$ZodType",((e,t)=>{var n,a;null!==e&&void 0!==e||(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=FB;const r=[...null!==(n=e._zod.def.checks)&&void 0!==n?n:[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const t of s._zod.onattach)t(e);if(0===r.length){var i,o;null!==(i=(a=e._zod).deferred)&&void 0!==i||(a.deferred=[]),null===(o=e._zod.deferred)||void 0===o||o.push((()=>{e._zod.run=e._zod.parse}))}else{const t=(e,t,n)=>{let a,r=$I(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(r)continue;const t=e.issues.length,o=i._zod.check(e);if(o instanceof Promise&&!1===(null===n||void 0===n?void 0:n.async))throw new sz;if(a||o instanceof Promise)a=(null!==a&&void 0!==a?a:Promise.resolve()).then((async()=>{await o;e.issues.length!==t&&(r||(r=$I(e,t)))}));else{if(e.issues.length===t)continue;r||(r=$I(e,t))}}return a?a.then((()=>e)):e};e._zod.run=(n,a)=>{const i=e._zod.parse(n,a);if(i instanceof Promise){if(!1===a.async)throw new sz;return i.then((e=>t(e,r,a)))}return t(i,r,a)}}e["~standard"]={validate:t=>{try{var n;const a=gz(e,t);return a.success?{value:a.data}:{issues:null===(n=a.error)||void 0===n?void 0:n.issues}}catch(a){return bz(e,t).then((e=>{var t;return e.success?{value:e.data}:{issues:null===(t=e.error)||void 0===t?void 0:t.issues}}))}},vendor:"zod",version:1}})),IB=oz("$ZodString",((e,t)=>{var n,a,r;MB.init(e,t),e._zod.pattern=null!==(n=[...null!==(a=null===e||void 0===e||null===(r=e._zod.bag)||void 0===r?void 0:r.patterns)&&void 0!==a?a:[]].pop())&&void 0!==n?n:(e=>{var t,n;const a=e?"[\\s\\S]{".concat(null!==(t=null===e||void 0===e?void 0:e.minimum)&&void 0!==t?t:0,",").concat(null!==(n=null===e||void 0===e?void 0:e.maximum)&&void 0!==n?n:"","}"):"[\\s\\S]*";return new RegExp("^".concat(a,"$"))})(e._zod.bag),e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=String(n.value)}catch(a){}return"string"===typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}})),zB=oz("$ZodStringFormat",((e,t)=>{_B.init(e,t),IB.init(e,t)})),PB=oz("$ZodGUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=WO),zB.init(e,t)})),NB=oz("$ZodUUID",((e,t)=>{var n;if(t.version){var a;const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error('Invalid UUID version: "'.concat(t.version,'"'));null!==(a=t.pattern)&&void 0!==a||(t.pattern=KO(e))}else null!==(n=t.pattern)&&void 0!==n||(t.pattern=KO());zB.init(e,t)})),OB=oz("$ZodEmail",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=YO),zB.init(e,t)})),BB=oz("$ZodURL",((e,t)=>{zB.init(e,t),e._zod.check=n=>{try{const a=n.value,r=new URL(a),i=r.href;return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:tB.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(!a.endsWith("/")&&i.endsWith("/")?n.value=i.slice(0,-1):n.value=i)}catch(a){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}})),LB=oz("$ZodEmoji",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),zB.init(e,t)})),RB=oz("$ZodNanoID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=GO),zB.init(e,t)})),jB=oz("$ZodCUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=RO),zB.init(e,t)})),VB=oz("$ZodCUID2",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=jO),zB.init(e,t)})),qB=oz("$ZodULID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=VO),zB.init(e,t)})),UB=oz("$ZodXID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=qO),zB.init(e,t)})),GB=oz("$ZodKSUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=UO),zB.init(e,t)})),HB=oz("$ZodISODateTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=function(e){const t=iB({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const a="".concat(t,"(?:").concat(n.join("|"),")");return new RegExp("^".concat(aB,"T(?:").concat(a,")$"))}(t)),zB.init(e,t)})),WB=oz("$ZodISODate",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=rB),zB.init(e,t)})),KB=oz("$ZodISOTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=new RegExp("^".concat(iB(t),"$"))),zB.init(e,t)})),YB=oz("$ZodISODuration",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=HO),zB.init(e,t)})),JB=oz("$ZodIPv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=JO),zB.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv4"}))})),ZB=oz("$ZodIPv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=ZO),zB.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv6"})),e._zod.check=n=>{try{new URL("http://[".concat(n.value,"]"))}catch(a){n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}})),XB=oz("$ZodCIDRv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=XO),zB.init(e,t)})),$B=oz("$ZodCIDRv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=$O),zB.init(e,t),e._zod.check=n=>{const[a,r]=n.value.split("/");try{if(!r)throw new Error;const e=Number(r);if("".concat(e)!==r)throw new Error;if(e<0||e>128)throw new Error;new URL("http://[".concat(a,"]"))}catch(i){n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}}));function QB(e){if(""===e)return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch(t){return!1}}const eL=oz("$ZodBase64",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=QO),zB.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64"})),e._zod.check=n=>{QB(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}));const tL=oz("$ZodBase64URL",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=eB),zB.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64url"})),e._zod.check=n=>{(function(e){if(!eB.test(e))return!1;const t=e.replace(/[-_]/g,(e=>"-"===e?"+":"/"));return QB(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}})),nL=oz("$ZodE164",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=nB),zB.init(e,t)}));const aL=oz("$ZodJWT",((e,t)=>{zB.init(e,t),e._zod.check=n=>{(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=e.split(".");if(3!==n.length)return!1;const[a]=n;if(!a)return!1;const r=JSON.parse(atob(a));return(!("typ"in r)||"JWT"===(null===r||void 0===r?void 0:r.typ))&&!!r.alg&&(!t||"alg"in r&&r.alg===t)}catch(n){return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}})),rL=oz("$ZodNumber",((e,t)=>{var n;MB.init(e,t),e._zod.pattern=null!==(n=e._zod.bag.pattern)&&void 0!==n?n:sB,e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=Number(n.value)}catch(o){}const r=n.value;if("number"===typeof r&&!Number.isNaN(r)&&Number.isFinite(r))return n;const i="number"===typeof r?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push(u({expected:"number",code:"invalid_type",input:r,inst:e},i?{received:i}:{})),n}})),iL=oz("$ZodNumber",((e,t)=>{yB.init(e,t),rL.init(e,t)})),oL=oz("$ZodBoolean",((e,t)=>{MB.init(e,t),e._zod.pattern=lB,e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(i){}const r=n.value;return"boolean"===typeof r||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}})),sL=oz("$ZodNull",((e,t)=>{MB.init(e,t),e._zod.pattern=cB,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const a=t.value;return null===a||t.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),t}})),lL=oz("$ZodAny",((e,t)=>{MB.init(e,t),e._zod.parse=e=>e})),cL=oz("$ZodUnknown",((e,t)=>{MB.init(e,t),e._zod.parse=e=>e})),uL=oz("$ZodNever",((e,t)=>{MB.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}));function dL(e,t,n){e.issues.length&&t.issues.push(...QI(n,e.issues)),t.value[n]=e.value}const hL=oz("$ZodArray",((e,t)=>{MB.init(e,t),e._zod.parse=(n,a)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const i=[];for(let e=0;e<r.length;e++){const o=r[e],s=t.element._zod.run({value:o,issues:[]},a);s instanceof Promise?i.push(s.then((t=>dL(t,n,e)))):dL(s,n,e)}return i.length?Promise.all(i).then((()=>n)):n}}));function pL(e,t,n){e.issues.length&&t.issues.push(...QI(n,e.issues)),t.value[n]=e.value}function fL(e,t,n,a){e.issues.length?void 0===a[n]?t.value[n]=n in a?void 0:e.value:t.issues.push(...QI(n,e.issues)):void 0===e.value?n in a&&(t.value[n]=void 0):t.value[n]=e.value}const mL=oz("$ZodObject",((e,t)=>{MB.init(e,t);const n=BI((()=>{const e=Object.keys(t.shape);for(const a of e)if(!(t.shape[a]instanceof MB))throw new Error('Invalid element at key "'.concat(a,'": expected a Zod schema'));const n=function(e){return Object.keys(e).filter((t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout))}(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}));jI(e._zod,"propValues",(()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){var a;null!==(a=n[t])&&void 0!==a||(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n}));let a;const r=GI,i=!lz.jitless,o=i&&HI.value,s=t.catchall;let l;e._zod.parse=(c,u)=>{null!==l&&void 0!==l||(l=n.value);const d=c.value;if(!r(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),c;const h=[];if(i&&o&&!1===(null===u||void 0===u?void 0:u.async)&&!0!==u.jitless)a||(a=(e=>{const t=new EB(["shape","payload","ctx"]),a=n.value,r=e=>{const t=qI(e);return"shape[".concat(t,"]._zod.run({ value: input[").concat(t,"], issues: [] }, ctx)")};t.write("const input = payload.value;");const i=Object.create(null);let o=0;for(const n of a.keys)i[n]="key_".concat(o++);t.write("const newResult = {}");for(const n of a.keys)if(a.optionalKeys.has(n)){const e=i[n];t.write("const ".concat(e," = ").concat(r(n),";"));const a=qI(n);t.write("\n        if (".concat(e,".issues.length) {\n          if (input[").concat(a,"] === undefined) {\n            if (").concat(a," in input) {\n              newResult[").concat(a,"] = undefined;\n            }\n          } else {\n            payload.issues = payload.issues.concat(\n              ").concat(e,".issues.map((iss) => ({\n                ...iss,\n                path: iss.path ? [").concat(a,", ...iss.path] : [").concat(a,"],\n              }))\n            );\n          }\n        } else if (").concat(e,".value === undefined) {\n          if (").concat(a," in input) newResult[").concat(a,"] = undefined;\n        } else {\n          newResult[").concat(a,"] = ").concat(e,".value;\n        }\n        "))}else{const e=i[n];t.write("const ".concat(e," = ").concat(r(n),";")),t.write("\n          if (".concat(e,".issues.length) payload.issues = payload.issues.concat(").concat(e,".issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [").concat(qI(n),", ...iss.path] : [").concat(qI(n),"]\n          })));")),t.write("newResult[".concat(qI(n),"] = ").concat(e,".value"))}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),c=a(c,u);else{c.value={};const e=l.shape;for(const t of l.keys){const n=e[t],a=n._zod.run({value:d[t],issues:[]},u),r="optional"===n._zod.optin&&"optional"===n._zod.optout;a instanceof Promise?h.push(a.then((e=>r?fL(e,c,t,d):pL(e,c,t)))):r?fL(a,c,t,d):pL(a,c,t)}}if(!s)return h.length?Promise.all(h).then((()=>c)):c;const p=[],f=l.keySet,m=s._zod,g=m.def.type;for(const e of Object.keys(d)){if(f.has(e))continue;if("never"===g){p.push(e);continue}const t=m.run({value:d[e],issues:[]},u);t instanceof Promise?h.push(t.then((t=>pL(t,c,e)))):pL(t,c,e)}return p.length&&c.issues.push({code:"unrecognized_keys",keys:p,input:d,inst:e}),h.length?Promise.all(h).then((()=>c)):c}}));function gL(e,t,n,a){for(const r of e)if(0===r.issues.length)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map((e=>e.issues.map((e=>tz(e,a,cz())))))}),t}const yL=oz("$ZodUnion",((e,t)=>{MB.init(e,t),jI(e._zod,"optin",(()=>t.options.some((e=>"optional"===e._zod.optin))?"optional":void 0)),jI(e._zod,"optout",(()=>t.options.some((e=>"optional"===e._zod.optout))?"optional":void 0)),jI(e._zod,"values",(()=>{if(t.options.every((e=>e._zod.values)))return new Set(t.options.flatMap((e=>Array.from(e._zod.values))))})),jI(e._zod,"pattern",(()=>{if(t.options.every((e=>e._zod.pattern))){const e=t.options.map((e=>e._zod.pattern));return new RegExp("^(".concat(e.map((e=>RI(e.source))).join("|"),")$"))}})),e._zod.parse=(n,a)=>{let r=!1;const i=[];for(const e of t.options){const t=e._zod.run({value:n.value,issues:[]},a);if(t instanceof Promise)i.push(t),r=!0;else{if(0===t.issues.length)return t;i.push(t)}}return r?Promise.all(i).then((t=>gL(t,n,e,a))):gL(i,n,e,a)}})),bL=oz("$ZodDiscriminatedUnion",((e,t)=>{yL.init(e,t);const n=e._zod.parse;jI(e._zod,"propValues",(()=>{const e={};for(const n of t.options){const a=n._zod.propValues;if(!a||0===Object.keys(a).length)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(n),'"'));for(const[t,n]of Object.entries(a)){e[t]||(e[t]=new Set);for(const a of n)e[t].add(a)}}return e}));const a=BI((()=>{const e=t.options,n=new Map;for(const a of e){const e=a._zod.propValues[t.discriminator];if(!e||0===e.size)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(a),'"'));for(const t of e){if(n.has(t))throw new Error('Duplicate discriminator value "'.concat(String(t),'"'));n.set(t,a)}}return n}));e._zod.parse=(r,i)=>{const o=r.value;if(!GI(o))return r.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),r;const s=a.value.get(null===o||void 0===o?void 0:o[t.discriminator]);return s?s._zod.run(r,i):t.unionFallback?n(r,i):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[t.discriminator],inst:e}),r)}})),vL=oz("$ZodIntersection",((e,t)=>{MB.init(e,t),e._zod.parse=(e,n)=>{const a=e.value,r=t.left._zod.run({value:a,issues:[]},n),i=t.right._zod.run({value:a,issues:[]},n);return r instanceof Promise||i instanceof Promise?Promise.all([r,i]).then((t=>{let[n,a]=t;return _L(e,n,a)})):_L(e,r,i)}}));function wL(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(WI(e)&&WI(t)){const n=Object.keys(t),a=Object.keys(e).filter((e=>-1!==n.indexOf(e))),r=u(u({},e),t);for(const i of a){const n=wL(e[i],t[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};r[i]=n.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<e.length;a++){const r=wL(e[a],t[a]);if(!r.valid)return{valid:!1,mergeErrorPath:[a,...r.mergeErrorPath]};n.push(r.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function _L(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),$I(e))return e;const a=wL(t.value,n.value);if(!a.valid)throw new Error("Unmergable intersection. Error path: "+"".concat(JSON.stringify(a.mergeErrorPath)));return e.value=a.data,e}const xL=oz("$ZodTuple",((e,t)=>{MB.init(e,t);const n=t.items,a=n.length-[...n].reverse().findIndex((e=>"optional"!==e._zod.optin));e._zod.parse=(r,i)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({input:o,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const s=[];if(!t.rest){const t=o.length>n.length,i=o.length<a-1;if(t||i)return r.issues.push(u({input:o,inst:e,origin:"array"},t?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length})),r}let l=-1;for(const e of n){if(l++,l>=o.length&&l>=a)continue;const t=e._zod.run({value:o[l],issues:[]},i);t instanceof Promise?s.push(t.then((e=>kL(e,r,l)))):kL(t,r,l)}if(t.rest){const e=o.slice(n.length);for(const n of e){l++;const e=t.rest._zod.run({value:n,issues:[]},i);e instanceof Promise?s.push(e.then((e=>kL(e,r,l)))):kL(e,r,l)}}return s.length?Promise.all(s).then((()=>r)):r}}));function kL(e,t,n){e.issues.length&&t.issues.push(...QI(n,e.issues)),t.value[n]=e.value}const TL=oz("$ZodRecord",((e,t)=>{MB.init(e,t),e._zod.parse=(n,a)=>{const r=n.value;if(!WI(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;const i=[];if(t.keyType._zod.values){const o=t.keyType._zod.values;n.value={};for(const e of o)if("string"===typeof e||"number"===typeof e||"symbol"===typeof e){const o=t.valueType._zod.run({value:r[e],issues:[]},a);o instanceof Promise?i.push(o.then((t=>{t.issues.length&&n.issues.push(...QI(e,t.issues)),n.value[e]=t.value}))):(o.issues.length&&n.issues.push(...QI(e,o.issues)),n.value[e]=o.value)}let s;for(const e in r)o.has(e)||(s=null!==s&&void 0!==s?s:[],s.push(e));s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:s})}else{n.value={};for(const o of Reflect.ownKeys(r)){if("__proto__"===o)continue;const s=t.keyType._zod.run({value:o,issues:[]},a);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:s.issues.map((e=>tz(e,a,cz()))),input:o,path:[o],inst:e}),n.value[s.value]=s.value;continue}const l=t.valueType._zod.run({value:r[o],issues:[]},a);l instanceof Promise?i.push(l.then((e=>{e.issues.length&&n.issues.push(...QI(o,e.issues)),n.value[s.value]=e.value}))):(l.issues.length&&n.issues.push(...QI(o,l.issues)),n.value[s.value]=l.value)}}return i.length?Promise.all(i).then((()=>n)):n}}));const DL=oz("$ZodEnum",((e,t)=>{MB.init(e,t);const n=NI(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp("^(".concat(n.filter((e=>KI.has(typeof e))).map((e=>"string"===typeof e?YI(e):e.toString())).join("|"),")$")),e._zod.parse=(t,a)=>{const r=t.value;return e._zod.values.has(r)||t.issues.push({code:"invalid_value",values:n,input:r,inst:e}),t}})),AL=oz("$ZodLiteral",((e,t)=>{MB.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp("^(".concat(t.values.map((e=>"string"===typeof e?YI(e):e?e.toString():String(e))).join("|"),")$")),e._zod.parse=(n,a)=>{const r=n.value;return e._zod.values.has(r)||n.issues.push({code:"invalid_value",values:t.values,input:r,inst:e}),n}})),CL=oz("$ZodTransform",((e,t)=>{MB.init(e,t),e._zod.parse=(e,n)=>{const a=t.transform(e.value,e);if(n.async){return(a instanceof Promise?a:Promise.resolve(a)).then((t=>(e.value=t,e)))}if(a instanceof Promise)throw new sz;return e.value=a,e}})),SL=oz("$ZodOptional",((e,t)=>{MB.init(e,t),e._zod.optin="optional",e._zod.optout="optional",jI(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0)),jI(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(RI(e.source),")?$")):void 0})),e._zod.parse=(e,n)=>"optional"===t.innerType._zod.optin?t.innerType._zod.run(e,n):void 0===e.value?e:t.innerType._zod.run(e,n)})),EL=oz("$ZodNullable",((e,t)=>{MB.init(e,t),jI(e._zod,"optin",(()=>t.innerType._zod.optin)),jI(e._zod,"optout",(()=>t.innerType._zod.optout)),jI(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(RI(e.source),"|null)$")):void 0})),jI(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0)),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)})),FL=oz("$ZodDefault",((e,t)=>{MB.init(e,t),e._zod.optin="optional",jI(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if(void 0===e.value)return e.value=t.defaultValue,e;const a=t.innerType._zod.run(e,n);return a instanceof Promise?a.then((e=>ML(e,t))):ML(a,t)}}));function ML(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const IL=oz("$ZodPrefault",((e,t)=>{MB.init(e,t),e._zod.optin="optional",jI(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))})),zL=oz("$ZodNonOptional",((e,t)=>{MB.init(e,t),jI(e._zod,"values",(()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter((e=>void 0!==e))):void 0})),e._zod.parse=(n,a)=>{const r=t.innerType._zod.run(n,a);return r instanceof Promise?r.then((t=>PL(t,e))):PL(r,e)}}));function PL(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const NL=oz("$ZodCatch",((e,t)=>{MB.init(e,t),e._zod.optin="optional",jI(e._zod,"optout",(()=>t.innerType._zod.optout)),jI(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{const a=t.innerType._zod.run(e,n);return a instanceof Promise?a.then((a=>(e.value=a.value,a.issues.length&&(e.value=t.catchValue(u(u({},e),{},{error:{issues:a.issues.map((e=>tz(e,n,cz())))},input:e.value})),e.issues=[]),e))):(e.value=a.value,a.issues.length&&(e.value=t.catchValue(u(u({},e),{},{error:{issues:a.issues.map((e=>tz(e,n,cz())))},input:e.value})),e.issues=[]),e)}})),OL=oz("$ZodPipe",((e,t)=>{MB.init(e,t),jI(e._zod,"values",(()=>t.in._zod.values)),jI(e._zod,"optin",(()=>t.in._zod.optin)),jI(e._zod,"optout",(()=>t.out._zod.optout)),e._zod.parse=(e,n)=>{const a=t.in._zod.run(e,n);return a instanceof Promise?a.then((e=>BL(e,t,n))):BL(a,t,n)}}));function BL(e,t,n){return $I(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const LL=oz("$ZodReadonly",((e,t)=>{MB.init(e,t),jI(e._zod,"propValues",(()=>t.innerType._zod.propValues)),jI(e._zod,"values",(()=>t.innerType._zod.values)),jI(e._zod,"optin",(()=>t.innerType._zod.optin)),jI(e._zod,"optout",(()=>t.innerType._zod.optout)),e._zod.parse=(e,n)=>{const a=t.innerType._zod.run(e,n);return a instanceof Promise?a.then(RL):RL(a)}}));function RL(e){return e.value=Object.freeze(e.value),e}const jL=oz("$ZodLazy",((e,t)=>{MB.init(e,t),jI(e._zod,"innerType",(()=>t.getter())),jI(e._zod,"pattern",(()=>e._zod.innerType._zod.pattern)),jI(e._zod,"propValues",(()=>e._zod.innerType._zod.propValues)),jI(e._zod,"optin",(()=>e._zod.innerType._zod.optin)),jI(e._zod,"optout",(()=>e._zod.innerType._zod.optout)),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)})),VL=oz("$ZodCustom",((e,t)=>{hB.init(e,t),MB.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const a=n.value,r=t.fn(a);if(r instanceof Promise)return r.then((t=>qL(t,n,a,e)));qL(r,n,a,e)}}));function qL(e,t,n,a){if(!e){var r;const e={code:"custom",input:n,inst:a,path:[...null!==(r=a._zod.def.path)&&void 0!==r?r:[]],continue:!a._zod.def.abort};a._zod.def.params&&(e.params=a._zod.def.params),t.issues.push(az(e))}}function UL(e,t){return new e(u({type:"string",format:"guid",check:"string_format",abort:!1},ZI(t)))}function GL(e,t){return new e(u({type:"string",format:"base64",check:"string_format",abort:!1},ZI(t)))}function HL(e,t){return new fB(u(u({check:"less_than"},ZI(t)),{},{value:e,inclusive:!1}))}function WL(e,t){return new fB(u(u({check:"less_than"},ZI(t)),{},{value:e,inclusive:!0}))}function KL(e,t){return new mB(u(u({check:"greater_than"},ZI(t)),{},{value:e,inclusive:!1}))}function YL(e,t){return new mB(u(u({check:"greater_than"},ZI(t)),{},{value:e,inclusive:!0}))}function JL(e,t){return new gB(u(u({check:"multiple_of"},ZI(t)),{},{value:e}))}function ZL(e,t){return new bB(u(u({check:"max_length"},ZI(t)),{},{maximum:e}))}function XL(e,t){return new vB(u(u({check:"min_length"},ZI(t)),{},{minimum:e}))}function $L(e,t){return new wB(u(u({check:"length_equals"},ZI(t)),{},{length:e}))}function QL(e){return new SB({check:"overwrite",tx:e})}const eR=oz("ZodISODateTime",((e,t)=>{HB.init(e,t),hR.init(e,t)}));function tR(e){return function(e,t){return new e(u({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null},ZI(t)))}(eR,e)}const nR=oz("ZodISODate",((e,t)=>{WB.init(e,t),hR.init(e,t)}));function aR(e){return function(e,t){return new e(u({type:"string",format:"date",check:"string_format"},ZI(t)))}(nR,e)}const rR=oz("ZodISOTime",((e,t)=>{KB.init(e,t),hR.init(e,t)}));function iR(e){return function(e,t){return new e(u({type:"string",format:"time",check:"string_format",precision:null},ZI(t)))}(rR,e)}const oR=oz("ZodISODuration",((e,t)=>{YB.init(e,t),hR.init(e,t)}));function sR(e){return function(e,t){return new e(u({type:"string",format:"duration",check:"string_format"},ZI(t)))}(oR,e)}const lR=oz("ZodType",((e,t)=>(MB.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=function(){for(var n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e.clone(u(u({},t),{},{checks:[...null!==(n=t.checks)&&void 0!==n?n:[],...r.map((e=>"function"===typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e))]}))},e.clone=(t,n)=>JI(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>_z(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>kz(e,t,n),e.parseAsync=async(t,n)=>xz(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Tz(e,t,n),e.spa=e.safeParseAsync,e.refine=(t,n)=>e.check(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){return new e(u({type:"custom",check:"custom",fn:t},ZI(n)))}(Cj,e,t)}(t,n)),e.superRefine=t=>e.check(function(e){const t=function(e){const t=new hB({check:"custom"});return t._zod.check=e,t}((n=>(n.addIssue=e=>{if("string"===typeof e)n.issues.push(az(e,n.value,t._zod.def));else{var a,r,i,o;const s=e;s.fatal&&(s.continue=!1),null!==(a=s.code)&&void 0!==a||(s.code="custom"),null!==(r=s.input)&&void 0!==r||(s.input=n.value),null!==(i=s.inst)&&void 0!==i||(s.inst=t),null!==(o=s.continue)&&void 0!==o||(s.continue=!t._zod.def.abort),n.issues.push(az(s))}},e(n.value,n))));return t}(t)),e.overwrite=t=>e.check(QL(t)),e.optional=()=>mj(e),e.nullable=()=>yj(e),e.nullish=()=>mj(yj(e)),e.nonoptional=t=>function(e,t){return new wj(u({type:"nonoptional",innerType:e},ZI(t)))}(e,t),e.array=()=>YR(e),e.or=t=>ej([e,t]),e.and=t=>new aj({type:"intersection",left:e,right:t}),e.transform=t=>kj(e,pj(t)),e.default=t=>{return n=t,new bj({type:"default",innerType:e,get defaultValue(){return"function"===typeof n?n():n}});var n},e.prefault=t=>{return n=t,new vj({type:"prefault",innerType:e,get defaultValue(){return"function"===typeof n?n():n}});var n},e.catch=t=>{return new _j({type:"catch",innerType:e,catchValue:"function"===typeof(n=t)?n:()=>n});var n},e.pipe=t=>kj(e,t),e.readonly=()=>new Tj({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return PI.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){var t;return null===(t=PI.get(e))||void 0===t?void 0:t.description},configurable:!0}),e.meta=function(){if(0===arguments.length)return PI.get(e);const t=e.clone();return PI.add(t,arguments.length<=0?void 0:arguments[0]),t},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e))),cR=oz("_ZodString",((e,t)=>{var n,a,r;IB.init(e,t),lR.init(e,t);const i=e._zod.bag;e.format=null!==(n=i.format)&&void 0!==n?n:null,e.minLength=null!==(a=i.minimum)&&void 0!==a?a:null,e.maxLength=null!==(r=i.maximum)&&void 0!==r?r:null,e.regex=function(){return e.check(function(e,t){return new xB(u(u({check:"string_format",format:"regex"},ZI(t)),{},{pattern:e}))}(...arguments))},e.includes=function(){return e.check(function(e,t){return new DB(u(u({check:"string_format",format:"includes"},ZI(t)),{},{includes:e}))}(...arguments))},e.startsWith=function(){return e.check(function(e,t){return new AB(u(u({check:"string_format",format:"starts_with"},ZI(t)),{},{prefix:e}))}(...arguments))},e.endsWith=function(){return e.check(function(e,t){return new CB(u(u({check:"string_format",format:"ends_with"},ZI(t)),{},{suffix:e}))}(...arguments))},e.min=function(){return e.check(XL(...arguments))},e.max=function(){return e.check(ZL(...arguments))},e.length=function(){return e.check($L(...arguments))},e.nonempty=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.check(XL(1,...n))},e.lowercase=t=>e.check(function(e){return new kB(u({check:"string_format",format:"lowercase"},ZI(e)))}(t)),e.uppercase=t=>e.check(function(e){return new TB(u({check:"string_format",format:"uppercase"},ZI(e)))}(t)),e.trim=()=>e.check(QL((e=>e.trim()))),e.normalize=function(){return e.check(function(e){return QL((t=>t.normalize(e)))}(...arguments))},e.toLowerCase=()=>e.check(QL((e=>e.toLowerCase()))),e.toUpperCase=()=>e.check(QL((e=>e.toUpperCase())))})),uR=oz("ZodString",((e,t)=>{IB.init(e,t),cR.init(e,t),e.email=t=>e.check(function(e,t){return new e(u({type:"string",format:"email",check:"string_format",abort:!1},ZI(t)))}(pR,t)),e.url=t=>e.check(function(e,t){return new e(u({type:"string",format:"url",check:"string_format",abort:!1},ZI(t)))}(gR,t)),e.jwt=t=>e.check(function(e,t){return new e(u({type:"string",format:"jwt",check:"string_format",abort:!1},ZI(t)))}(IR,t)),e.emoji=t=>e.check(function(e,t){return new e(u({type:"string",format:"emoji",check:"string_format",abort:!1},ZI(t)))}(yR,t)),e.guid=t=>e.check(UL(fR,t)),e.uuid=t=>e.check(function(e,t){return new e(u({type:"string",format:"uuid",check:"string_format",abort:!1},ZI(t)))}(mR,t)),e.uuidv4=t=>e.check(function(e,t){return new e(u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4"},ZI(t)))}(mR,t)),e.uuidv6=t=>e.check(function(e,t){return new e(u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6"},ZI(t)))}(mR,t)),e.uuidv7=t=>e.check(function(e,t){return new e(u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7"},ZI(t)))}(mR,t)),e.nanoid=t=>e.check(function(e,t){return new e(u({type:"string",format:"nanoid",check:"string_format",abort:!1},ZI(t)))}(bR,t)),e.guid=t=>e.check(UL(fR,t)),e.cuid=t=>e.check(function(e,t){return new e(u({type:"string",format:"cuid",check:"string_format",abort:!1},ZI(t)))}(vR,t)),e.cuid2=t=>e.check(function(e,t){return new e(u({type:"string",format:"cuid2",check:"string_format",abort:!1},ZI(t)))}(wR,t)),e.ulid=t=>e.check(function(e,t){return new e(u({type:"string",format:"ulid",check:"string_format",abort:!1},ZI(t)))}(_R,t)),e.base64=t=>e.check(GL(SR,t)),e.base64url=t=>e.check(function(e,t){return new e(u({type:"string",format:"base64url",check:"string_format",abort:!1},ZI(t)))}(FR,t)),e.xid=t=>e.check(function(e,t){return new e(u({type:"string",format:"xid",check:"string_format",abort:!1},ZI(t)))}(xR,t)),e.ksuid=t=>e.check(function(e,t){return new e(u({type:"string",format:"ksuid",check:"string_format",abort:!1},ZI(t)))}(kR,t)),e.ipv4=t=>e.check(function(e,t){return new e(u({type:"string",format:"ipv4",check:"string_format",abort:!1},ZI(t)))}(TR,t)),e.ipv6=t=>e.check(function(e,t){return new e(u({type:"string",format:"ipv6",check:"string_format",abort:!1},ZI(t)))}(DR,t)),e.cidrv4=t=>e.check(function(e,t){return new e(u({type:"string",format:"cidrv4",check:"string_format",abort:!1},ZI(t)))}(AR,t)),e.cidrv6=t=>e.check(function(e,t){return new e(u({type:"string",format:"cidrv6",check:"string_format",abort:!1},ZI(t)))}(CR,t)),e.e164=t=>e.check(function(e,t){return new e(u({type:"string",format:"e164",check:"string_format",abort:!1},ZI(t)))}(MR,t)),e.datetime=t=>e.check(tR(t)),e.date=t=>e.check(aR(t)),e.time=t=>e.check(iR(t)),e.duration=t=>e.check(sR(t))}));function dR(e){return function(e,t){return new e(u({type:"string"},ZI(t)))}(uR,e)}const hR=oz("ZodStringFormat",((e,t)=>{zB.init(e,t),cR.init(e,t)})),pR=oz("ZodEmail",((e,t)=>{OB.init(e,t),hR.init(e,t)}));const fR=oz("ZodGUID",((e,t)=>{PB.init(e,t),hR.init(e,t)}));const mR=oz("ZodUUID",((e,t)=>{NB.init(e,t),hR.init(e,t)}));const gR=oz("ZodURL",((e,t)=>{BB.init(e,t),hR.init(e,t)}));const yR=oz("ZodEmoji",((e,t)=>{LB.init(e,t),hR.init(e,t)}));const bR=oz("ZodNanoID",((e,t)=>{RB.init(e,t),hR.init(e,t)}));const vR=oz("ZodCUID",((e,t)=>{jB.init(e,t),hR.init(e,t)}));const wR=oz("ZodCUID2",((e,t)=>{VB.init(e,t),hR.init(e,t)}));const _R=oz("ZodULID",((e,t)=>{qB.init(e,t),hR.init(e,t)}));const xR=oz("ZodXID",((e,t)=>{UB.init(e,t),hR.init(e,t)}));const kR=oz("ZodKSUID",((e,t)=>{GB.init(e,t),hR.init(e,t)}));const TR=oz("ZodIPv4",((e,t)=>{JB.init(e,t),hR.init(e,t)}));const DR=oz("ZodIPv6",((e,t)=>{ZB.init(e,t),hR.init(e,t)}));const AR=oz("ZodCIDRv4",((e,t)=>{XB.init(e,t),hR.init(e,t)}));const CR=oz("ZodCIDRv6",((e,t)=>{$B.init(e,t),hR.init(e,t)}));const SR=oz("ZodBase64",((e,t)=>{eL.init(e,t),hR.init(e,t)}));function ER(e){return GL(SR,e)}const FR=oz("ZodBase64URL",((e,t)=>{tL.init(e,t),hR.init(e,t)}));const MR=oz("ZodE164",((e,t)=>{nL.init(e,t),hR.init(e,t)}));const IR=oz("ZodJWT",((e,t)=>{aL.init(e,t),hR.init(e,t)}));const zR=oz("ZodNumber",((e,t)=>{var n,a,r,i,o,s,l,c,u;rL.init(e,t),lR.init(e,t),e.gt=(t,n)=>e.check(KL(t,n)),e.gte=(t,n)=>e.check(YL(t,n)),e.min=(t,n)=>e.check(YL(t,n)),e.lt=(t,n)=>e.check(HL(t,n)),e.lte=(t,n)=>e.check(WL(t,n)),e.max=(t,n)=>e.check(WL(t,n)),e.int=t=>e.check(OR(t)),e.safe=t=>e.check(OR(t)),e.positive=t=>e.check(KL(0,t)),e.nonnegative=t=>e.check(YL(0,t)),e.negative=t=>e.check(HL(0,t)),e.nonpositive=t=>e.check(WL(0,t)),e.multipleOf=(t,n)=>e.check(JL(t,n)),e.step=(t,n)=>e.check(JL(t,n)),e.finite=()=>e;const d=e._zod.bag;e.minValue=null!==(n=Math.max(null!==(a=d.minimum)&&void 0!==a?a:Number.NEGATIVE_INFINITY,null!==(r=d.exclusiveMinimum)&&void 0!==r?r:Number.NEGATIVE_INFINITY))&&void 0!==n?n:null,e.maxValue=null!==(i=Math.min(null!==(o=d.maximum)&&void 0!==o?o:Number.POSITIVE_INFINITY,null!==(s=d.exclusiveMaximum)&&void 0!==s?s:Number.POSITIVE_INFINITY))&&void 0!==i?i:null,e.isInt=(null!==(l=d.format)&&void 0!==l?l:"").includes("int")||Number.isSafeInteger(null!==(c=d.multipleOf)&&void 0!==c?c:.5),e.isFinite=!0,e.format=null!==(u=d.format)&&void 0!==u?u:null}));function PR(e){return function(e,t){return new e(u({type:"number",checks:[]},ZI(t)))}(zR,e)}const NR=oz("ZodNumberFormat",((e,t)=>{iL.init(e,t),zR.init(e,t)}));function OR(e){return function(e,t){return new e(u({type:"number",check:"number_format",abort:!1,format:"safeint"},ZI(t)))}(NR,e)}const BR=oz("ZodBoolean",((e,t)=>{oL.init(e,t),lR.init(e,t)}));function LR(e){return function(e,t){return new e(u({type:"boolean"},ZI(t)))}(BR,e)}const RR=oz("ZodNull",((e,t)=>{sL.init(e,t),lR.init(e,t)}));function jR(e){return function(e,t){return new e(u({type:"null"},ZI(t)))}(RR,e)}const VR=oz("ZodAny",((e,t)=>{lL.init(e,t),lR.init(e,t)}));function qR(){return function(e){return new e({type:"any"})}(VR)}const UR=oz("ZodUnknown",((e,t)=>{cL.init(e,t),lR.init(e,t)}));function GR(){return function(e){return new e({type:"unknown"})}(UR)}const HR=oz("ZodNever",((e,t)=>{uL.init(e,t),lR.init(e,t)}));function WR(e){return function(e,t){return new e(u({type:"never"},ZI(t)))}(HR,e)}const KR=oz("ZodArray",((e,t)=>{hL.init(e,t),lR.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(XL(t,n)),e.nonempty=t=>e.check(XL(1,t)),e.max=(t,n)=>e.check(ZL(t,n)),e.length=(t,n)=>e.check($L(t,n)),e.unwrap=()=>e.element}));function YR(e,t){return function(e,t,n){return new e(u({type:"array",element:t},ZI(n)))}(KR,e,t)}const JR=oz("ZodObject",((e,t)=>{mL.init(e,t),lR.init(e,t),jI(e,"shape",(()=>t.shape)),e.keyof=()=>cj(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone(u(u({},e._zod.def),{},{catchall:t})),e.passthrough=()=>e.clone(u(u({},e._zod.def),{},{catchall:GR()})),e.loose=()=>e.clone(u(u({},e._zod.def),{},{catchall:GR()})),e.strict=()=>e.clone(u(u({},e._zod.def),{},{catchall:WR()})),e.strip=()=>e.clone(u(u({},e._zod.def),{},{catchall:void 0})),e.extend=t=>function(e,t){if(!WI(t))throw new Error("Invalid input to extend: expected a plain object");const n=u(u({},e._zod.def),{},{get shape(){const n=u(u({},e._zod.def.shape),t);return VI(this,"shape",n),n},checks:[]});return JI(e,n)}(e,t),e.merge=t=>function(e,t){return JI(e,u(u({},e._zod.def),{},{get shape(){const n=u(u({},e._zod.def.shape),t._zod.def.shape);return VI(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]}))}(e,t),e.pick=t=>function(e,t){const n={},a=e._zod.def;for(const r in t){if(!(r in a.shape))throw new Error('Unrecognized key: "'.concat(r,'"'));t[r]&&(n[r]=a.shape[r])}return JI(e,u(u({},e._zod.def),{},{shape:n,checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=u({},e._zod.def.shape),a=e._zod.def;for(const r in t){if(!(r in a.shape))throw new Error('Unrecognized key: "'.concat(r,'"'));t[r]&&delete n[r]}return JI(e,u(u({},e._zod.def),{},{shape:n,checks:[]}))}(e,t),e.partial=function(){return function(e,t,n){const a=t._zod.def.shape,r=u({},a);if(n)for(const i in n){if(!(i in a))throw new Error('Unrecognized key: "'.concat(i,'"'));n[i]&&(r[i]=e?new e({type:"optional",innerType:a[i]}):a[i])}else for(const i in a)r[i]=e?new e({type:"optional",innerType:a[i]}):a[i];return JI(t,u(u({},t._zod.def),{},{shape:r,checks:[]}))}(fj,e,arguments.length<=0?void 0:arguments[0])},e.required=function(){return function(e,t,n){const a=t._zod.def.shape,r=u({},a);if(n)for(const i in n){if(!(i in r))throw new Error('Unrecognized key: "'.concat(i,'"'));n[i]&&(r[i]=new e({type:"nonoptional",innerType:a[i]}))}else for(const i in a)r[i]=new e({type:"nonoptional",innerType:a[i]});return JI(t,u(u({},t._zod.def),{},{shape:r,checks:[]}))}(wj,e,arguments.length<=0?void 0:arguments[0])}}));function ZR(e,t){const n=u({type:"object",get shape(){return VI(this,"shape",u({},e)),this.shape}},ZI(t));return new JR(n)}function XR(e,t){return new JR(u({type:"object",get shape(){return VI(this,"shape",u({},e)),this.shape},catchall:WR()},ZI(t)))}function $R(e,t){return new JR(u({type:"object",get shape(){return VI(this,"shape",u({},e)),this.shape},catchall:GR()},ZI(t)))}const QR=oz("ZodUnion",((e,t)=>{yL.init(e,t),lR.init(e,t),e.options=t.options}));function ej(e,t){return new QR(u({type:"union",options:e},ZI(t)))}const tj=oz("ZodDiscriminatedUnion",((e,t)=>{QR.init(e,t),bL.init(e,t)}));function nj(e,t,n){return new tj(u({type:"union",options:t,discriminator:e},ZI(n)))}const aj=oz("ZodIntersection",((e,t)=>{vL.init(e,t),lR.init(e,t)}));const rj=oz("ZodTuple",((e,t)=>{xL.init(e,t),lR.init(e,t),e.rest=t=>e.clone(u(u({},e._zod.def),{},{rest:t}))}));function ij(e,t,n){const a=t instanceof MB;return new rj(u({type:"tuple",items:e,rest:a?t:null},ZI(a?n:t)))}const oj=oz("ZodRecord",((e,t)=>{TL.init(e,t),lR.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}));function sj(e,t,n){return new oj(u({type:"record",keyType:e,valueType:t},ZI(n)))}const lj=oz("ZodEnum",((e,t)=>{DL.init(e,t),lR.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,a)=>{const r={};for(const i of e){if(!n.has(i))throw new Error("Key ".concat(i," not found in enum"));r[i]=t.entries[i]}return new lj(u(u(u({},t),{},{checks:[]},ZI(a)),{},{entries:r}))},e.exclude=(e,a)=>{const r=u({},t.entries);for(const t of e){if(!n.has(t))throw new Error("Key ".concat(t," not found in enum"));delete r[t]}return new lj(u(u(u({},t),{},{checks:[]},ZI(a)),{},{entries:r}))}}));function cj(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map((e=>[e,e]))):e;return new lj(u({type:"enum",entries:n},ZI(t)))}const uj=oz("ZodLiteral",((e,t)=>{AL.init(e,t),lR.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})}));function dj(e,t){return new uj(u({type:"literal",values:Array.isArray(e)?e:[e]},ZI(t)))}const hj=oz("ZodTransform",((e,t)=>{CL.init(e,t),lR.init(e,t),e._zod.parse=(n,a)=>{n.addIssue=a=>{if("string"===typeof a)n.issues.push(az(a,n.value,t));else{var r,i,o,s;const t=a;t.fatal&&(t.continue=!1),null!==(r=t.code)&&void 0!==r||(t.code="custom"),null!==(i=t.input)&&void 0!==i||(t.input=n.value),null!==(o=t.inst)&&void 0!==o||(t.inst=e),null!==(s=t.continue)&&void 0!==s||(t.continue=!0),n.issues.push(az(t))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then((e=>(n.value=e,n))):(n.value=r,n)}}));function pj(e){return new hj({type:"transform",transform:e})}const fj=oz("ZodOptional",((e,t)=>{SL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function mj(e){return new fj({type:"optional",innerType:e})}const gj=oz("ZodNullable",((e,t)=>{EL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function yj(e){return new gj({type:"nullable",innerType:e})}const bj=oz("ZodDefault",((e,t)=>{FL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}));const vj=oz("ZodPrefault",((e,t)=>{IL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const wj=oz("ZodNonOptional",((e,t)=>{zL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const _j=oz("ZodCatch",((e,t)=>{NL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}));const xj=oz("ZodPipe",((e,t)=>{OL.init(e,t),lR.init(e,t),e.in=t.in,e.out=t.out}));function kj(e,t){return new xj({type:"pipe",in:e,out:t})}const Tj=oz("ZodReadonly",((e,t)=>{LL.init(e,t),lR.init(e,t)}));const Dj=oz("ZodLazy",((e,t)=>{jL.init(e,t),lR.init(e,t),e.unwrap=()=>e._zod.def.getter()}));function Aj(e){return new Dj({type:"lazy",getter:e})}const Cj=oz("ZodCustom",((e,t)=>{VL.init(e,t),lR.init(e,t)}));function Sj(e,t){return function(e,t,n){var a;const r=ZI(n);return null!==(a=r.abort)&&void 0!==a||(r.abort=!0),new e(u({type:"custom",check:"custom",fn:t},r))}(Cj,null!==e&&void 0!==e?e:()=>!0,t)}function Ej(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{error:"Input not instance of ".concat(e.name)};const n=new Cj(u({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0},ZI(t)));return n._zod.bag.Class=e,n}var Fj=__webpack_require__(327);const Mj=["abortSignal"];var Ij,zj,Pj,Nj,Oj,Bj,Lj,Rj,jj,Vj,qj,Uj,Gj,Hj,Wj=Symbol.for("vercel.ai.gateway.error"),Kj=class e extends(zj=Error,Ij=Wj,zj){constructor(e){let{message:t,statusCode:n=500,cause:a}=e;super(t),this[Ij]=!0,this.statusCode=n,this.cause=a}static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return"object"===typeof e&&null!==e&&Wj in e&&!0===e[Wj]}},Yj="GatewayAuthenticationError",Jj="vercel.ai.gateway.error.".concat(Yj),Zj=Symbol.for(Jj),Xj=class e extends(Nj=Kj,Pj=Zj,Nj){constructor(){let{message:e="Authentication failed",statusCode:t=401,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Pj]=!0,this.name=Yj,this.type="authentication_error"}static isInstance(e){return Kj.hasMarker(e)&&Zj in e}static createContextualError(t){let n,{apiKeyProvided:a,oidcTokenProvided:r,message:i="Authentication failed",statusCode:o=401,cause:s}=t;return n=a?"AI Gateway authentication failed: Invalid API key provided.\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":r?"AI Gateway authentication failed: Invalid OIDC token provided.\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed\n\nAlternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":"AI Gateway authentication failed: No authentication provided.\n\nProvide either an API key or OIDC token.\n\nAPI key instructions:\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOIDC token instructions:\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed",new e({message:n,statusCode:o,cause:s})}},$j="GatewayInvalidRequestError",Qj="vercel.ai.gateway.error.".concat($j),eV=Symbol.for(Qj),tV=class extends(Bj=Kj,Oj=eV,Bj){constructor(){let{message:e="Invalid request",statusCode:t=400,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Oj]=!0,this.name=$j,this.type="invalid_request_error"}static isInstance(e){return Kj.hasMarker(e)&&eV in e}},nV="GatewayRateLimitError",aV="vercel.ai.gateway.error.".concat(nV),rV=Symbol.for(aV),iV=class extends(Rj=Kj,Lj=rV,Rj){constructor(){let{message:e="Rate limit exceeded",statusCode:t=429,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Lj]=!0,this.name=nV,this.type="rate_limit_exceeded"}static isInstance(e){return Kj.hasMarker(e)&&rV in e}},oV="GatewayModelNotFoundError",sV="vercel.ai.gateway.error.".concat(oV),lV=Symbol.for(sV),cV=SN((()=>CO(ZR({modelId:dR()})))),uV=class extends(Vj=Kj,jj=lV,Vj){constructor(){let{message:e="Model not found",statusCode:t=404,modelId:n,cause:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:a}),this[jj]=!0,this.name=oV,this.type="model_not_found",this.modelId=n}static isInstance(e){return Kj.hasMarker(e)&&lV in e}},dV="GatewayInternalServerError",hV="vercel.ai.gateway.error.".concat(dV),pV=Symbol.for(hV),fV=class extends(Uj=Kj,qj=pV,Uj){constructor(){let{message:e="Internal server error",statusCode:t=500,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[qj]=!0,this.name=dV,this.type="internal_server_error"}static isInstance(e){return Kj.hasMarker(e)&&pV in e}},mV="GatewayResponseError",gV="vercel.ai.gateway.error.".concat(mV),yV=Symbol.for(gV),bV=class extends(Hj=Kj,Gj=yV,Hj){constructor(){let{message:e="Invalid response from Gateway",statusCode:t=502,response:n,validationError:a,cause:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:r}),this[Gj]=!0,this.name=mV,this.type="response_error",this.response=n,this.validationError=a}static isInstance(e){return Kj.hasMarker(e)&&yV in e}};async function vV(e){let{response:t,statusCode:n,defaultMessage:a="Gateway request failed",cause:r,authMethod:i}=e;const o=await MN({value:t,schema:wV});if(!o.success)return new bV({message:"Invalid error response format: ".concat(a),statusCode:n,response:t,validationError:o.error,cause:r});const s=o.value,l=s.error.type,c=s.error.message;switch(l){case"authentication_error":return Xj.createContextualError({apiKeyProvided:"api-key"===i,oidcTokenProvided:"oidc"===i,statusCode:n,cause:r});case"invalid_request_error":return new tV({message:c,statusCode:n,cause:r});case"rate_limit_exceeded":return new iV({message:c,statusCode:n,cause:r});case"model_not_found":{const e=await MN({value:s.error.param,schema:cV});return new uV({message:c,statusCode:n,modelId:e.success?e.value.modelId:void 0,cause:r})}default:return new fV({message:c,statusCode:n,cause:r})}}var wV=SN((()=>CO(ZR({error:ZR({message:dR(),type:dR().nullish(),param:GR().nullish(),code:ej([dR(),PR()]).nullish()})}))));function _V(e,t){var n;return Kj.isInstance(e)?e:TM.isInstance(e)?vV({response:xV(e),statusCode:null!=(n=e.statusCode)?n:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):vV({response:{},statusCode:500,defaultMessage:e instanceof Error?"Gateway request failed: ".concat(e.message):"Unknown Gateway error",cause:e,authMethod:t})}function xV(e){if(void 0!==e.data)return e.data;if(null!=e.responseBody)try{return JSON.parse(e.responseBody)}catch(F){return e.responseBody}return{}}var kV="ai-gateway-auth-method";async function TV(e){const t=await MN({value:e[kV],schema:DV});return t.success?t.value:void 0}var DV=SN((()=>CO(ej([dj("api-key"),dj("oidc")])))),AV=class{constructor(e){this.config=e}async getAvailableModels(){try{const{value:e}=await vN({url:"".concat(this.config.baseURL,"/config"),headers:await VN(this.config.headers()),successfulResponseHandler:GN(CV),failedResponseHandler:qN({errorSchema:qR(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await _V(e)}}async getCredits(){try{const e=new URL(this.config.baseURL),{value:t}=await vN({url:"".concat(e.origin,"/v1/credits"),headers:await VN(this.config.headers()),successfulResponseHandler:GN(SV),failedResponseHandler:qN({errorSchema:qR(),errorToMessage:e=>e}),fetch:this.config.fetch});return t}catch(e){throw await _V(e)}}},CV=SN((()=>CO(ZR({models:YR(ZR({id:dR(),name:dR(),description:dR().nullish(),pricing:ZR({input:dR(),output:dR(),input_cache_read:dR().nullish(),input_cache_write:dR().nullish()}).transform((e=>{let{input:t,output:n,input_cache_read:a,input_cache_write:r}=e;return u(u({input:t,output:n},a?{cachedInputTokens:a}:{}),r?{cacheCreationInputTokens:r}:{})})).nullish(),specification:ZR({specificationVersion:dj("v2"),provider:dR(),modelId:dR()}),modelType:cj(["language","embedding","image"]).nullish()}))})))),SV=SN((()=>CO(ZR({balance:dR(),total_used:dR()}).transform((e=>{let{balance:t,total_used:n}=e;return{balance:t,totalUsed:n}}))))),EV=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){const{abortSignal:t}=e,n=i(e,Mj);return{args:this.maybeEncodeFileParts(n),warnings:[]}}async doGenerate(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:a}=e,r=await VN(this.config.headers());try{const{responseHeaders:i,value:o,rawValue:s}=await BN(u(u({url:this.getUrl(),headers:oN(r,e.headers,this.getModelConfigHeaders(this.modelId,!1),await VN(this.config.o11yHeaders)),body:t,successfulResponseHandler:GN(qR()),failedResponseHandler:qN({errorSchema:qR(),errorToMessage:e=>e})},a&&{abortSignal:a}),{},{fetch:this.config.fetch}));return u(u({},o),{},{request:{body:t},response:{headers:i,body:s},warnings:n})}catch(i){throw await _V(i,await TV(r))}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:a}=e,r=await VN(this.config.headers());try{const{value:i,responseHeaders:o}=await BN(u(u({url:this.getUrl(),headers:oN(r,e.headers,this.getModelConfigHeaders(this.modelId,!0),await VN(this.config.o11yHeaders)),body:t,successfulResponseHandler:UN(qR()),failedResponseHandler:qN({errorSchema:qR(),errorToMessage:e=>e})},a&&{abortSignal:a}),{},{fetch:this.config.fetch}));return{stream:i.pipeThrough(new TransformStream({start(e){n.length>0&&e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(t.success){const a=t.value;if("raw"===a.type&&!e.includeRawChunks)return;"response-metadata"===a.type&&a.timestamp&&"string"===typeof a.timestamp&&(a.timestamp=new Date(a.timestamp)),n.enqueue(a)}else n.error(t.error)}})),request:{body:t},response:{headers:o}}}catch(i){throw await _V(i,await TV(r))}}isFilePart(e){return e&&"object"===typeof e&&"type"in e&&"file"===e.type}maybeEncodeFileParts(e){for(const t of e.prompt)for(const e of t.content)if(this.isFilePart(e)){const t=e;if(t.data instanceof Uint8Array){const e=Uint8Array.from(t.data),n=Buffer.from(e).toString("base64");t.data=new URL("data:".concat(t.mediaType||"application/octet-stream",";base64,").concat(n))}}return e}getUrl(){return"".concat(this.config.baseURL,"/language-model")}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},FV=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:a,providerOptions:r}=e;var i;const o=await VN(this.config.headers());try{const{responseHeaders:e,value:s,rawValue:l}=await BN(u(u({url:this.getUrl(),headers:oN(o,null!=n?n:{},this.getModelConfigHeaders(),await VN(this.config.o11yHeaders)),body:u({input:1===t.length?t[0]:t},r?{providerOptions:r}:{}),successfulResponseHandler:GN(MV),failedResponseHandler:qN({errorSchema:qR(),errorToMessage:e=>e})},a&&{abortSignal:a}),{},{fetch:this.config.fetch}));return{embeddings:s.embeddings,usage:null!=(i=s.usage)?i:void 0,providerMetadata:s.providerMetadata,response:{headers:e,body:l}}}catch(s){throw await _V(s,await TV(o))}}getUrl(){return"".concat(this.config.baseURL,"/embedding-model")}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},MV=SN((()=>CO(ZR({embeddings:YR(YR(PR())),usage:ZR({tokens:PR()}).nullish(),providerMetadata:sj(dR(),sj(dR(),GR())).optional()}))));var IV=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;let a=null,r=null;const i=null!=(t=e.metadataCacheRefreshMillis)?t:3e5;let o=0;const s=null!=(n=BO(e.baseURL))?n:"https://ai-gateway.vercel.sh/v1/ai",l=async()=>{const t=await async function(e){const t=xN({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await(0,Fj.getVercelOidcToken)(),authMethod:"oidc"}}catch(F){return null}}(e);if(t)return gN(u({Authorization:"Bearer ".concat(t.token),"ai-gateway-protocol-version":"0.0.1",[kV]:t.authMethod},e.headers),"ai-sdk/gateway/".concat("1.0.40"));throw Xj.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},c=()=>{const e=xN({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),t=xN({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),n=xN({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{const a=await async function(){var e;return null==(e=(0,Fj.getContext)().headers)?void 0:e["x-vercel-id"]}();return u(u(u(u({},e&&{"ai-o11y-deployment-id":e}),t&&{"ai-o11y-environment":t}),n&&{"ai-o11y-region":n}),a&&{"ai-o11y-request-id":a})}},d=t=>new EV(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:c()}),h=function(e){if(new.target)throw new Error("The Gateway Provider model function cannot be called with the new keyword.");return d(e)};return h.getAvailableModels=async()=>{var t,n,c;const u=null!=(c=null==(n=null==(t=e._internal)?void 0:t.currentDate)?void 0:n.call(t).getTime())?c:Date.now();return(!a||u-o>i)&&(o=u,a=new AV({baseURL:s,headers:l,fetch:e.fetch}).getAvailableModels().then((e=>(r=e,e))).catch((async e=>{throw await _V(e,await TV(await l()))}))),r?Promise.resolve(r):a},h.getCredits=async()=>new AV({baseURL:s,headers:l,fetch:e.fetch}).getCredits().catch((async e=>{throw await _V(e,await TV(await l()))})),h.imageModel=e=>{throw new hI({modelId:e,modelType:"imageModel"})},h.languageModel=d,h.textEmbeddingModel=t=>new FV(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:c()}),h}();var zV="object"===typeof globalThis?globalThis:"object"===typeof self?self:"object"===typeof window?window:"object"===typeof __webpack_require__.g?__webpack_require__.g:{},PV="1.9.0",NV=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var OV=function(e){var t=new Set([e]),n=new Set,a=e.match(NV);if(!a)return function(){return!1};var r=+a[1],i=+a[2],o=+a[3];if(null!=a[4])return function(t){return t===e};function s(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var a=e.match(NV);if(!a)return s(e);var c=+a[1],u=+a[2],d=+a[3];return null!=a[4]||r!==c?s(e):0===r?i===u&&o<=d?l(e):s(e):i<=u?l(e):s(e)}}(PV),BV=PV.split(".")[0],LV=Symbol.for("opentelemetry.js.api."+BV),RV=zV;function jV(e,t,n,a){var r;void 0===a&&(a=!1);var i=RV[LV]=null!==(r=RV[LV])&&void 0!==r?r:{version:PV};if(!a&&i[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(o.stack||o.message),!1}if(i.version!==PV){o=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+PV);return n.error(o.stack||o.message),!1}return i[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+PV+"."),!0}function VV(e){var t,n,a=null===(t=RV[LV])||void 0===t?void 0:t.version;if(a&&OV(a))return null===(n=RV[LV])||void 0===n?void 0:n[e]}function qV(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+PV+".");var n=RV[LV];n&&delete n[e]}var UV,GV=function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,a){var r=new e(n._currentContext);return r._currentContext.set(t,a),r},n.deleteValue=function(t){var a=new e(n._currentContext);return a._currentContext.delete(t),a}},HV=new GV,WV=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},KV=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},YV=function(){function e(){}return e.prototype.active=function(){return HV},e.prototype.with=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];return t.call.apply(t,KV([n],WV(a),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),JV=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},ZV=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},XV=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $V("verbose",this._namespace,e)},e}();function $V(e,t,n){var a=VV("diag");if(a)return n.unshift(t),a[e].apply(a,ZV([],JV(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(UV||(UV={}));var QV,eq=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},tq=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},nq=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=VV("diag");if(a)return a[e].apply(a,tq([],eq(t),!1))}}var t=this;t.setLogger=function(e,n){var a,r,i;if(void 0===n&&(n={logLevel:UV.INFO}),e===t){var o=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(a=o.stack)&&void 0!==a?a:o.message),!1}"number"===typeof n&&(n={logLevel:n});var s=VV("diag"),l=function(e,t){function n(n,a){var r=t[n];return"function"===typeof r&&e>=a?r.bind(t):function(){}}return e<UV.NONE?e=UV.NONE:e>UV.ALL&&(e=UV.ALL),t=t||{},{error:n("error",UV.ERROR),warn:n("warn",UV.WARN),info:n("info",UV.INFO),debug:n("debug",UV.DEBUG),verbose:n("verbose",UV.VERBOSE)}}(null!==(r=n.logLevel)&&void 0!==r?r:UV.INFO,e);if(s&&!n.suppressOverrideMessage){var c=null!==(i=(new Error).stack)&&void 0!==i?i:"<failed to generate stacktrace>";s.warn("Current logger will be overwritten from "+c),l.warn("Current logger will overwrite one already registered from "+c)}return jV("diag",l,t,!0)},t.disable=function(){qV("diag",t)},t.createComponentLogger=function(e){return new XV(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),aq=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},rq=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},iq="context",oq=new YV,sq=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return jV(iq,e,nq.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var a,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return(a=this._getContextManager()).with.apply(a,rq([e,t,n],aq(r),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return VV(iq)||oq},e.prototype.disable=function(){this._getContextManager().disable(),qV(iq,nq.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(QV||(QV={}));var lq,cq="0000000000000000",uq="00000000000000000000000000000000",dq={traceId:uq,spanId:cq,traceFlags:QV.NONE},hq=function(){function e(e){void 0===e&&(e=dq),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),pq=(lq="OpenTelemetry Context Key SPAN",Symbol.for(lq));function fq(e){return e.getValue(pq)||void 0}function mq(){return fq(sq.getInstance().active())}function gq(e,t){return e.setValue(pq,t)}function yq(e){return e.deleteValue(pq)}function bq(e,t){return gq(e,new hq(t))}function vq(e){var t;return null===(t=fq(e))||void 0===t?void 0:t.spanContext()}var wq=/^([0-9a-f]{32})$/i,_q=/^[0-9a-f]{16}$/i;function xq(e){return n=e.traceId,wq.test(n)&&n!==uq&&(t=e.spanId,_q.test(t)&&t!==cq);var t,n}function kq(e){return new hq(e)}var Tq=sq.getInstance(),Dq=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=Tq.active()),Boolean(null===t||void 0===t?void 0:t.root))return new hq;var a,r=n&&vq(n);return"object"===typeof(a=r)&&"string"===typeof a.spanId&&"string"===typeof a.traceId&&"number"===typeof a.traceFlags&&xq(r)?new hq(r):new hq},e.prototype.startActiveSpan=function(e,t,n,a){var r,i,o;if(!(arguments.length<2)){2===arguments.length?o=t:3===arguments.length?(r=t,o=n):(r=t,i=n,o=a);var s=null!==i&&void 0!==i?i:Tq.active(),l=this.startSpan(e,r,s),c=gq(s,l);return Tq.with(c,o,void 0,l)}},e}();var Aq,Cq=new Dq,Sq=function(){function e(e,t,n,a){this._provider=e,this.name=t,this.version=n,this.options=a}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,a){var r=this._getTracer();return Reflect.apply(r.startActiveSpan,r,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Cq},e}(),Eq=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new Dq},e}()),Fq=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var a;return null!==(a=this.getDelegateTracer(e,t,n))&&void 0!==a?a:new Sq(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:Eq},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var a;return null===(a=this._delegate)||void 0===a?void 0:a.getTracer(e,t,n)},e}(),Mq="trace",Iq=function(){function e(){this._proxyTracerProvider=new Fq,this.wrapSpanContext=kq,this.isSpanContextValid=xq,this.deleteSpan=yq,this.getSpan=fq,this.getActiveSpan=mq,this.getSpanContext=vq,this.setSpan=gq,this.setSpanContext=bq}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=jV(Mq,this._proxyTracerProvider,nq.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return VV(Mq)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){qV(Mq,nq.instance()),this._proxyTracerProvider=new Fq},e}(),zq=Iq.getInstance();!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(Aq||(Aq={}));const Pq=["model","tools","toolChoice","system","prompt","messages","maxRetries","abortSignal","headers","stopWhen","experimental_output","experimental_telemetry","providerOptions","experimental_activeTools","activeTools","experimental_prepareStep","prepareStep","experimental_repairToolCall","experimental_download","experimental_context","_internal","onStepFinish"];var Nq,Oq=Object.defineProperty,Bq="AI_NoOutputSpecifiedError",Lq="vercel.ai.error.".concat(Bq),Rq=Symbol.for(Lq),jq=class extends wM{constructor(){let{message:e="No output specified."}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:Bq,message:e}),this[Nq]=!0}static isInstance(e){return wM.hasMarker(e,Lq)}};function Vq(e){const t="AI SDK Warning:";switch(e.type){case"unsupported-setting":{let n="".concat(t,' The "').concat(e.setting,'" setting is not supported by this model');return e.details&&(n+=" - ".concat(e.details)),n}case"unsupported-tool":{const n="name"in e.tool?e.tool.name:"unknown tool";let a="".concat(t,' The tool "').concat(n,'" is not supported by this model');return e.details&&(a+=" - ".concat(e.details)),a}case"other":return"".concat(t," ").concat(e.message);default:return"".concat(t," ").concat(JSON.stringify(e,null,2))}}Nq=Rq;var qq,Uq=!1,Gq=e=>{if(0===e.length)return;const t=globalThis.AI_SDK_LOG_WARNINGS;if(!1!==t)if("function"!==typeof t){Uq||(Uq=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false."));for(const t of e)console.warn(Vq(t))}else t(e)},Hq="AI_InvalidArgumentError",Wq="vercel.ai.error.".concat(Hq),Kq=Symbol.for(Wq),Yq=class extends wM{constructor(e){let{parameter:t,value:n,message:a}=e;super({name:Hq,message:"Invalid argument for parameter ".concat(t,": ").concat(a)}),this[qq]=!0,this.parameter=t,this.value=n}static isInstance(e){return wM.hasMarker(e,Wq)}};qq=Kq;var Jq="AI_InvalidStreamPartError",Zq="vercel.ai.error.".concat(Jq),Xq=Symbol.for(Zq);var $q,Qq="AI_InvalidToolInputError",eU="vercel.ai.error.".concat(Qq),tU=Symbol.for(eU),nU=class extends wM{constructor(e){let{toolInput:t,toolName:n,cause:a,message:r="Invalid input for tool ".concat(n,": ").concat(FM(a))}=e;super({name:Qq,message:r,cause:a}),this[$q]=!0,this.toolInput=t,this.toolName=n}static isInstance(e){return wM.hasMarker(e,eU)}};$q=tU;var aU="vercel.ai.error.".concat("AI_MCPClientError"),rU=Symbol.for(aU);var iU="AI_NoImageGeneratedError",oU="vercel.ai.error.".concat(iU),sU=Symbol.for(oU);var lU,cU="AI_NoObjectGeneratedError",uU="vercel.ai.error.".concat(cU),dU=Symbol.for(uU),hU=class extends wM{constructor(e){let{message:t="No object generated.",cause:n,text:a,response:r,usage:i,finishReason:o}=e;super({name:cU,message:t,cause:n}),this[lU]=!0,this.text=a,this.response=r,this.usage=i,this.finishReason=o}static isInstance(e){return wM.hasMarker(e,uU)}};lU=dU;var pU="AI_NoOutputGeneratedError",fU="vercel.ai.error.".concat(pU),mU=Symbol.for(fU);var gU,yU="AI_NoSuchToolError",bU="vercel.ai.error.".concat(yU),vU=Symbol.for(bU),wU=class extends wM{constructor(e){let{toolName:t,availableTools:n,message:a="Model tried to call unavailable tool '".concat(t,"'. ").concat(void 0===n?"No tools are available.":"Available tools: ".concat(n.join(", "),"."))}=e;super({name:yU,message:a}),this[gU]=!0,this.toolName=t,this.availableTools=n}static isInstance(e){return wM.hasMarker(e,bU)}};gU=vU;var _U,xU="AI_ToolCallRepairError",kU="vercel.ai.error.".concat(xU),TU=Symbol.for(kU),DU=class extends wM{constructor(e){let{cause:t,originalError:n,message:a="Error repairing tool call: ".concat(FM(t))}=e;super({name:xU,message:a,cause:t}),this[_U]=!0,this.originalError=n}static isInstance(e){return wM.hasMarker(e,kU)}};_U=TU;var AU=class extends wM{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:"Unsupported model version ".concat(e.version,' for provider "').concat(e.provider,'" and model "').concat(e.modelId,'". AI SDK 5 only supports models that implement specification version "v2".')}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},CU="AI_InvalidDataContentError",SU="vercel.ai.error.".concat(CU),EU=Symbol.for(SU);var FU,MU="AI_InvalidMessageRoleError",IU="vercel.ai.error.".concat(MU),zU=Symbol.for(IU),PU=class extends wM{constructor(e){let{role:t,message:n="Invalid message role: '".concat(t,'\'. Must be one of: "system", "user", "assistant", "tool".')}=e;super({name:MU,message:n}),this[FU]=!0,this.role=t}static isInstance(e){return wM.hasMarker(e,IU)}};FU=zU;var NU="AI_MessageConversionError",OU="vercel.ai.error.".concat(NU),BU=Symbol.for(OU);var LU,RU="AI_DownloadError",jU="vercel.ai.error.".concat(RU),VU=Symbol.for(jU),qU=class extends wM{constructor(e){let{url:t,statusCode:n,statusText:a,cause:r,message:i=(null==r?"Failed to download ".concat(t,": ").concat(n," ").concat(a):"Failed to download ".concat(t,": ").concat(r))}=e;super({name:RU,message:i,cause:r}),this[LU]=!0,this.url=t,this.statusCode=n,this.statusText=a}static isInstance(e){return wM.hasMarker(e,jU)}};LU=VU;var UU,GU="AI_RetryError",HU="vercel.ai.error.".concat(GU),WU=Symbol.for(HU),KU=class extends wM{constructor(e){let{message:t,reason:n,errors:a}=e;super({name:GU,message:t}),this[UU]=!0,this.reason=n,this.errors=a,this.lastError=a[a.length-1]}static isInstance(e){return wM.hasMarker(e,HU)}};function YU(e){if("string"!==typeof e){if("v2"!==e.specificationVersion)throw new AU({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return JU().languageModel(e)}function JU(){var e;return null!=(e=globalThis.AI_SDK_DEFAULT_PROVIDER)?e:IV}UU=WU;var ZU=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}];function XU(e){return"string"===typeof e&&e.startsWith("SUQz")||"string"!==typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?(e=>{const t="string"===typeof e?PO(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)})(e):e}function $U(e){let{data:t,signatures:n}=e;const a=XU(t),r="string"===typeof a?PO(a.substring(0,Math.min(a.length,24))):a;for(const i of n)if(r.length>=i.bytesPrefix.length&&i.bytesPrefix.every(((e,t)=>null===e||r[t]===e)))return i.mediaType}var QU="5.0.71",eG=async e=>{let{url:t}=e;var n;const a=t.toString();try{const e=await fetch(a,{headers:gN({},"ai-sdk/".concat(QU),mN())});if(!e.ok)throw new qU({url:a,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mediaType:null!=(n=e.headers.get("content-type"))?n:void 0}}catch(r){if(qU.isInstance(r))throw r;throw new qU({url:a,cause:r})}},tG=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eG;return t=>Promise.all(t.map((async t=>t.isUrlSupportedByModel?null:e(t))))};var nG=ej([dR(),Ej(Uint8Array),Ej(ArrayBuffer),Sj((e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n}),{message:"Must be a Buffer"})]);function aG(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if("string"===typeof e)try{e=new URL(e)}catch(t){}if(e instanceof URL&&"data:"===e.protocol){const{mediaType:n,base64Content:a}=function(e){try{const[t,n]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:n}}catch(t){return{mediaType:void 0,base64Content:void 0}}}(e.toString());if(null==n||null==a)throw new wM({name:"InvalidDataContentError",message:"Invalid data URL format in content ".concat(e.toString())});return{data:a,mediaType:n}}return{data:e,mediaType:void 0}}async function rG(e){let{prompt:t,supportedUrls:n,download:a=tG()}=e;const r=await async function(e,t,n){const a=e.filter((e=>"user"===e.role)).map((e=>e.content)).filter((e=>Array.isArray(e))).flat().filter((e=>"image"===e.type||"file"===e.type)).map((e=>{var t;const n=null!=(t=e.mediaType)?t:"image"===e.type?"image/*":void 0;let a="image"===e.type?e.image:e.data;if("string"===typeof a)try{a=new URL(a)}catch(r){}return{mediaType:n,data:a}})).filter((e=>e.data instanceof URL)).map((e=>({url:e.data,isUrlSupportedByModel:null!=e.mediaType&&wN({url:e.data.toString(),mediaType:e.mediaType,supportedUrls:n})}))),r=await t(a);return Object.fromEntries(r.map(((e,t)=>null==e?null:[a[t].url.toString(),{data:e.data,mediaType:e.mediaType}])).filter((e=>null!=e)))}(t.messages,a,n);return[...null!=t.system?[{role:"system",content:t.system}]:[],...t.messages.map((e=>function(e){let{message:t,downloadedAssets:n}=e;const a=t.role;switch(a){case"system":return{role:"system",content:t.content,providerOptions:t.providerOptions};case"user":return"string"===typeof t.content?{role:"user",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"user",content:t.content.map((e=>function(e,t){var n;if("text"===e.type)return{type:"text",text:e.text,providerOptions:e.providerOptions};let a;const r=e.type;switch(r){case"image":a=e.image;break;case"file":a=e.data;break;default:throw new Error("Unsupported part type: ".concat(r))}const{data:i,mediaType:o}=aG(a);let s=null!=o?o:e.mediaType,l=i;if(l instanceof URL){const e=t[l.toString()];e&&(l=e.data,null!=s||(s=e.mediaType))}switch(r){case"image":return(l instanceof Uint8Array||"string"===typeof l)&&(s=null!=(n=$U({data:l,signatures:ZU}))?n:s),{type:"file",mediaType:null!=s?s:"image/*",filename:void 0,data:l,providerOptions:e.providerOptions};case"file":if(null==s)throw new Error("Media type is missing for file part");return{type:"file",mediaType:s,filename:e.filename,data:l,providerOptions:e.providerOptions}}}(e,n))).filter((e=>"text"!==e.type||""!==e.text)),providerOptions:t.providerOptions};case"assistant":return"string"===typeof t.content?{role:"assistant",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"assistant",content:t.content.filter((e=>"text"!==e.type||""!==e.text||null!=e.providerOptions)).map((e=>{const t=e.providerOptions;switch(e.type){case"file":{const{data:n,mediaType:a}=aG(e.data);return{type:"file",data:n,filename:e.filename,mediaType:null!=a?a:e.mediaType,providerOptions:t}}case"reasoning":return{type:"reasoning",text:e.text,providerOptions:t};case"text":return{type:"text",text:e.text,providerOptions:t};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:t};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:t}}})),providerOptions:t.providerOptions};case"tool":return{role:"tool",content:t.content.map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:e.providerOptions}))),providerOptions:t.providerOptions};default:throw new PU({role:a})}}({message:e,downloadedAssets:r})))]}function iG(e){let{maxOutputTokens:t,temperature:n,topP:a,topK:r,presencePenalty:i,frequencyPenalty:o,seed:s,stopSequences:l}=e;if(null!=t){if(!Number.isInteger(t))throw new Yq({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be an integer"});if(t<1)throw new Yq({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be >= 1"})}if(null!=n&&"number"!==typeof n)throw new Yq({parameter:"temperature",value:n,message:"temperature must be a number"});if(null!=a&&"number"!==typeof a)throw new Yq({parameter:"topP",value:a,message:"topP must be a number"});if(null!=r&&"number"!==typeof r)throw new Yq({parameter:"topK",value:r,message:"topK must be a number"});if(null!=i&&"number"!==typeof i)throw new Yq({parameter:"presencePenalty",value:i,message:"presencePenalty must be a number"});if(null!=o&&"number"!==typeof o)throw new Yq({parameter:"frequencyPenalty",value:o,message:"frequencyPenalty must be a number"});if(null!=s&&!Number.isInteger(s))throw new Yq({parameter:"seed",value:s,message:"seed must be an integer"});return{maxOutputTokens:t,temperature:n,topP:a,topK:r,presencePenalty:i,frequencyPenalty:o,stopSequences:l,seed:s}}function oG(e){let{tools:t,toolChoice:n,activeTools:a}=e;if(!(null!=(r=t)&&Object.keys(r).length>0))return{tools:void 0,toolChoice:void 0};var r;return{tools:(null!=a?Object.entries(t).filter((e=>{let[t]=e;return a.includes(t)})):Object.entries(t)).map((e=>{let[t,n]=e;const a=n.type;switch(a){case void 0:case"dynamic":case"function":return{type:"function",name:t,description:n.description,inputSchema:MO(n.inputSchema).jsonSchema,providerOptions:n.providerOptions};case"provider-defined":return{type:"provider-defined",name:t,id:n.id,args:n.args};default:throw new Error("Unsupported tool type: ".concat(a))}})),toolChoice:null==n?{type:"auto"}:"string"===typeof n?{type:n}:{type:"tool",toolName:n.toolName}}}var sG=Aj((()=>ej([jR(),dR(),PR(),LR(),sj(dR(),sG),YR(sG)]))),lG=sj(dR(),sj(dR(),sG)),cG=ZR({type:dj("text"),text:dR(),providerOptions:lG.optional()}),uG=ZR({type:dj("image"),image:ej([nG,Ej(URL)]),mediaType:dR().optional(),providerOptions:lG.optional()}),dG=ZR({type:dj("file"),data:ej([nG,Ej(URL)]),filename:dR().optional(),mediaType:dR(),providerOptions:lG.optional()}),hG=ZR({type:dj("reasoning"),text:dR(),providerOptions:lG.optional()}),pG=ZR({type:dj("tool-call"),toolCallId:dR(),toolName:dR(),input:GR(),providerOptions:lG.optional(),providerExecuted:LR().optional()}),fG=nj("type",[ZR({type:dj("text"),value:dR()}),ZR({type:dj("json"),value:sG}),ZR({type:dj("error-text"),value:dR()}),ZR({type:dj("error-json"),value:sG}),ZR({type:dj("content"),value:YR(ej([ZR({type:dj("text"),text:dR()}),ZR({type:dj("media"),data:dR(),mediaType:dR()})]))})]),mG=ZR({type:dj("tool-result"),toolCallId:dR(),toolName:dR(),output:fG,providerOptions:lG.optional()}),gG=ZR({role:dj("system"),content:dR(),providerOptions:lG.optional()}),yG=ZR({role:dj("user"),content:ej([dR(),YR(ej([cG,uG,dG]))]),providerOptions:lG.optional()}),bG=ZR({role:dj("assistant"),content:ej([dR(),YR(ej([cG,dG,hG,pG,mG]))]),providerOptions:lG.optional()}),vG=ZR({role:dj("tool"),content:YR(mG),providerOptions:lG.optional()}),wG=ej([gG,yG,bG,vG]);async function _G(e){if(null==e.prompt&&null==e.messages)throw new jM({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new jM({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!==typeof e.system)throw new jM({prompt:e,message:"system must be a string"});let t;if(null!=e.prompt&&"string"===typeof e.prompt)t=[{role:"user",content:e.prompt}];else if(null!=e.prompt&&Array.isArray(e.prompt))t=e.prompt;else{if(null==e.messages)throw new jM({prompt:e,message:"prompt or messages must be defined"});t=e.messages}if(0===t.length)throw new jM({prompt:e,message:"messages must not be empty"});const n=await MN({value:t,schema:YR(wG)});if(!n.success)throw new jM({prompt:e,message:"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",cause:n.error});return{messages:t,system:e.system}}function xG(e){return Xj.isInstance(e)||uV.isInstance(e)?new wM({name:"GatewayError",message:"Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",cause:e}):e}function kG(e){let{operationId:t,telemetry:n}=e;return{"operation.name":"".concat(t).concat(null!=(null==n?void 0:n.functionId)?" ".concat(n.functionId):""),"resource.name":null==n?void 0:n.functionId,"ai.operationId":t,"ai.telemetry.functionId":null==n?void 0:n.functionId}}function TG(e){let{model:t,settings:n,telemetry:a,headers:r}=e;var i;return u(u(u({"ai.model.provider":t.provider,"ai.model.id":t.modelId},Object.entries(n).reduce(((e,t)=>{let[n,a]=t;return e["ai.settings.".concat(n)]=a,e}),{})),Object.entries(null!=(i=null==a?void 0:a.metadata)?i:{}).reduce(((e,t)=>{let[n,a]=t;return e["ai.telemetry.metadata.".concat(n)]=a,e}),{})),Object.entries(null!=r?r:{}).reduce(((e,t)=>{let[n,a]=t;return void 0!==a&&(e["ai.request.headers.".concat(n)]=a),e}),{}))}var DG={startSpan:()=>AG,startActiveSpan:(e,t,n,a)=>"function"===typeof t?t(AG):"function"===typeof n?n(AG):"function"===typeof a?a(AG):void 0},AG={spanContext:()=>CG,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},CG={traceId:"",spanId:"",traceFlags:0};function SG(){let{isEnabled:e=!1,tracer:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?t||zq.getTracer("ai"):DG}function EG(e){let{name:t,tracer:n,attributes:a,fn:r,endWhenDone:i=!0}=e;return n.startActiveSpan(t,{attributes:a},(async e=>{try{const t=await r(e);return i&&e.end(),t}catch(t){try{FG(e,t)}finally{e.end()}throw t}}))}function FG(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:Aq.ERROR,message:t.message})):e.setStatus({code:Aq.ERROR})}function MG(e){let{telemetry:t,attributes:n}=e;return!0!==(null==t?void 0:t.isEnabled)?{}:Object.entries(n).reduce(((e,n)=>{let[a,r]=n;if(null==r)return e;if("object"===typeof r&&"input"in r&&"function"===typeof r.input){if(!1===(null==t?void 0:t.recordInputs))return e;const n=r.input();return null==n?e:u(u({},e),{},{[a]:n})}if("object"===typeof r&&"output"in r&&"function"===typeof r.output){if(!1===(null==t?void 0:t.recordOutputs))return e;const n=r.output();return null==n?e:u(u({},e),{},{[a]:n})}return u(u({},e),{},{[a]:r})}),{})}function IG(e){return JSON.stringify(e.map((e=>u(u({},e),{},{content:"string"===typeof e.content?e.content:e.content.map((e=>{return"file"===e.type?u(u({},e),{},{data:e.data instanceof Uint8Array?(t=e.data,"string"===typeof t?t:t instanceof ArrayBuffer?NO(new Uint8Array(t)):NO(t)):e.data}):e;var t}))}))))}function zG(e,t){return{inputTokens:PG(e.inputTokens,t.inputTokens),outputTokens:PG(e.outputTokens,t.outputTokens),totalTokens:PG(e.totalTokens,t.totalTokens),reasoningTokens:PG(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:PG(e.cachedInputTokens,t.cachedInputTokens)}}function PG(e,t){return null==e&&null==t?void 0:(null!=e?e:0)+(null!=t?t:0)}function NG(e){return void 0===e?[]:Array.isArray(e)?e:[e]}var OG=function(){let{maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2,abortSignal:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async r=>BG(r,{maxRetries:e,delayInMs:t,backoffFactor:n,abortSignal:a})};async function BG(e,t){let{maxRetries:n,delayInMs:a,backoffFactor:r,abortSignal:i}=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{return await e()}catch(s){if(hN(s))throw s;if(0===n)throw s;const t=dN(s),l=[...o,s],c=l.length;if(c>n)throw new KU({message:"Failed after ".concat(c," attempts. Last error: ").concat(t),reason:"maxRetriesExceeded",errors:l});if(s instanceof Error&&TM.isInstance(s)&&!0===s.isRetryable&&c<=n)return await async function(e,t){if(null==e)return Promise.resolve();const n=null==t?void 0:t.abortSignal;return new Promise(((t,a)=>{if(null==n?void 0:n.aborted)return void a(sN());const r=setTimeout((()=>{i(),t()}),e),i=()=>{clearTimeout(r),null==n||n.removeEventListener("abort",o)},o=()=>{i(),a(sN())};null==n||n.addEventListener("abort",o)}))}(function(e){let{error:t,exponentialBackoffDelay:n}=e;const a=t.responseHeaders;if(!a)return n;let r;const i=a["retry-after-ms"];if(i){const e=parseFloat(i);Number.isNaN(e)||(r=e)}const o=a["retry-after"];if(o&&void 0===r){const e=parseFloat(o);r=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}return null!=r&&!Number.isNaN(r)&&0<=r&&(r<6e4||r<n)?r:n}({error:s,exponentialBackoffDelay:a}),{abortSignal:i}),BG(e,{maxRetries:n,delayInMs:r*a,backoffFactor:r,abortSignal:i},l);if(1===c)throw s;throw new KU({message:"Failed after ".concat(c," attempts with non-retryable error: '").concat(t,"'"),reason:"errorNotRetryable",errors:l})}}function LG(e){let{maxRetries:t,abortSignal:n}=e;if(null!=t){if(!Number.isInteger(t))throw new Yq({parameter:"maxRetries",value:t,message:"maxRetries must be an integer"});if(t<0)throw new Yq({parameter:"maxRetries",value:t,message:"maxRetries must be >= 0"})}const a=null!=t?t:2;return{maxRetries:a,retry:OG({maxRetries:a,abortSignal:n})}}function RG(e){const t=e.filter((e=>"text"===e.type));if(0!==t.length)return t.map((e=>e.text)).join("")}var jG=class{constructor(e){let{data:t,mediaType:n}=e;const a=t instanceof Uint8Array;this.base64Data=a?void 0:t,this.uint8ArrayData=a?t:void 0,this.mediaType=n}get base64(){return null==this.base64Data&&(this.base64Data=NO(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=PO(this.base64Data)),this.uint8ArrayData}};async function VG(e){let{toolCall:t,tools:n,repairToolCall:a,system:r,messages:i}=e;try{if(null==n)throw new wU({toolName:t.toolName});try{return await qG({toolCall:t,tools:n})}catch(o){if(null==a||!wU.isInstance(o)&&!nU.isInstance(o))throw o;let e=null;try{e=await a({toolCall:t,tools:n,inputSchema:e=>{let{toolName:t}=e;const{inputSchema:a}=n[t];return MO(a).jsonSchema},system:r,messages:i,error:o})}catch(s){throw new DU({cause:s,originalError:o})}if(null==e)throw o;return await qG({toolCall:e,tools:n})}}catch(o){const e=await IN({text:t.input}),n=e.success?e.value:t.input;return{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:n,dynamic:!0,invalid:!0,error:o}}}async function qG(e){let{toolCall:t,tools:n}=e;const a=t.toolName,r=n[a];if(null==r)throw new wU({toolName:t.toolName,availableTools:Object.keys(n)});const i=MO(r.inputSchema),o=""===t.input.trim()?await MN({value:{},schema:i}):await IN({text:t.input,schema:i});if(!1===o.success)throw new nU({toolName:a,toolInput:t.input,cause:o.error});return"dynamic"===r.type?{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:o.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata,dynamic:!0}:{type:"tool-call",toolCallId:t.toolCallId,toolName:a,input:o.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata}}var UG=class{constructor(e){let{content:t,finishReason:n,usage:a,warnings:r,request:i,response:o,providerMetadata:s}=e;this.content=t,this.finishReason=n,this.usage=a,this.warnings=r,this.request=i,this.response=o,this.providerMetadata=s}get text(){return this.content.filter((e=>"text"===e.type)).map((e=>e.text)).join("")}get reasoning(){return this.content.filter((e=>"reasoning"===e.type))}get reasoningText(){return 0===this.reasoning.length?void 0:this.reasoning.map((e=>e.text)).join("")}get files(){return this.content.filter((e=>"file"===e.type)).map((e=>e.file))}get sources(){return this.content.filter((e=>"source"===e.type))}get toolCalls(){return this.content.filter((e=>"tool-call"===e.type))}get staticToolCalls(){return this.toolCalls.filter((e=>!0!==e.dynamic))}get dynamicToolCalls(){return this.toolCalls.filter((e=>!0===e.dynamic))}get toolResults(){return this.content.filter((e=>"tool-result"===e.type))}get staticToolResults(){return this.toolResults.filter((e=>!0!==e.dynamic))}get dynamicToolResults(){return this.toolResults.filter((e=>!0===e.dynamic))}};function GG(e){return t=>{let{steps:n}=t;return n.length===e}}async function HG(e){let{stopConditions:t,steps:n}=e;return(await Promise.all(t.map((e=>e({steps:n}))))).some((e=>e))}function WG(e){let{output:t,tool:n,errorMode:a}=e;return"text"===a?{type:"error-text",value:FM(t)}:"json"===a?{type:"error-json",value:KG(t)}:(null==n?void 0:n.toModelOutput)?n.toModelOutput(t):"string"===typeof t?{type:"text",value:t}:{type:"json",value:KG(t)}}function KG(e){return void 0===e?null:e}function YG(e){let{content:t,tools:n}=e;const a=[],r=t.filter((e=>"source"!==e.type)).filter((e=>("tool-result"!==e.type||e.providerExecuted)&&("tool-error"!==e.type||e.providerExecuted))).filter((e=>"text"!==e.type||e.text.length>0)).map((e=>{switch(e.type){case"text":return{type:"text",text:e.text,providerOptions:e.providerMetadata};case"reasoning":return{type:"reasoning",text:e.text,providerOptions:e.providerMetadata};case"file":return{type:"file",data:e.file.base64,mediaType:e.file.mediaType,providerOptions:e.providerMetadata};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:e.providerMetadata};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:WG({tool:null==n?void 0:n[e.toolName],output:e.output,errorMode:"none"}),providerExecuted:!0,providerOptions:e.providerMetadata};case"tool-error":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:WG({tool:null==n?void 0:n[e.toolName],output:e.error,errorMode:"json"}),providerOptions:e.providerMetadata}}}));r.length>0&&a.push({role:"assistant",content:r});const i=t.filter((e=>"tool-result"===e.type||"tool-error"===e.type)).filter((e=>!e.providerExecuted)).map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:WG({tool:null==n?void 0:n[e.toolName],output:"tool-result"===e.type?e.output:e.error,errorMode:"tool-error"===e.type?"text":"none"})})));return i.length>0&&a.push({role:"tool",content:i}),a}var JG=cN({prefix:"aitxt",size:24});async function ZG(e){let{model:t,tools:n,toolChoice:a,system:r,prompt:o,messages:s,maxRetries:l,abortSignal:c,headers:d,stopWhen:h=GG(1),experimental_output:p,experimental_telemetry:f,providerOptions:m,experimental_activeTools:g,activeTools:y=g,experimental_prepareStep:b,prepareStep:v=b,experimental_repairToolCall:w,experimental_download:_,experimental_context:x,_internal:{generateId:k=JG,currentDate:T=()=>new Date}={},onStepFinish:D}=e,A=i(e,Pq);const C=YU(t),S=NG(h),{maxRetries:E,retry:F}=LG({maxRetries:l,abortSignal:c}),M=iG(A),I=gN(null!=d?d:{},"ai/".concat(QU)),z=TG({model:C,telemetry:f,headers:I,settings:u(u({},M),{},{maxRetries:E})}),P=await _G({system:r,prompt:o,messages:s}),N=SG(f);try{return await EG({name:"ai.generateText",attributes:MG({telemetry:f,attributes:u(u(u({},kG({operationId:"ai.generateText",telemetry:f})),z),{},{"ai.model.provider":C.provider,"ai.model.id":C.modelId,"ai.prompt":{input:()=>JSON.stringify({system:r,prompt:o,messages:s})}})}),tracer:N,fn:async e=>{var t,i,o,s,l,d,h;const g=iG(A);let b,E=[],M=[];const O=[],B=[];do{const e=[...P.messages,...O],S=await(null==v?void 0:v({model:C,steps:B,stepNumber:B.length,messages:e})),L=YU(null!=(t=null==S?void 0:S.model)?t:C),R=await rG({prompt:{system:null!=(i=null==S?void 0:S.system)?i:P.system,messages:null!=(o=null==S?void 0:S.messages)?o:e},supportedUrls:await L.supportedUrls,download:_}),{toolChoice:j,tools:V}=oG({tools:n,toolChoice:null!=(s=null==S?void 0:S.toolChoice)?s:a,activeTools:null!=(l=null==S?void 0:S.activeTools)?l:y});b=await F((()=>{var e;return EG({name:"ai.generateText.doGenerate",attributes:MG({telemetry:f,attributes:u(u(u({},kG({operationId:"ai.generateText.doGenerate",telemetry:f})),z),{},{"ai.model.provider":L.provider,"ai.model.id":L.modelId,"ai.prompt.messages":{input:()=>IG(R)},"ai.prompt.tools":{input:()=>null==V?void 0:V.map((e=>JSON.stringify(e)))},"ai.prompt.toolChoice":{input:()=>null!=j?JSON.stringify(j):void 0},"gen_ai.system":L.provider,"gen_ai.request.model":L.modelId,"gen_ai.request.frequency_penalty":A.frequencyPenalty,"gen_ai.request.max_tokens":A.maxOutputTokens,"gen_ai.request.presence_penalty":A.presencePenalty,"gen_ai.request.stop_sequences":A.stopSequences,"gen_ai.request.temperature":null!=(e=A.temperature)?e:void 0,"gen_ai.request.top_k":A.topK,"gen_ai.request.top_p":A.topP})}),tracer:N,fn:async e=>{var t,n,a,r,i,o,s,l;const d=await L.doGenerate(u(u({},g),{},{tools:V,toolChoice:j,responseFormat:null==p?void 0:p.responseFormat,prompt:R,providerOptions:m,abortSignal:c,headers:I})),h={id:null!=(n=null==(t=d.response)?void 0:t.id)?n:k(),timestamp:null!=(r=null==(a=d.response)?void 0:a.timestamp)?r:T(),modelId:null!=(o=null==(i=d.response)?void 0:i.modelId)?o:L.modelId,headers:null==(s=d.response)?void 0:s.headers,body:null==(l=d.response)?void 0:l.body};return e.setAttributes(MG({telemetry:f,attributes:{"ai.response.finishReason":d.finishReason,"ai.response.text":{output:()=>RG(d.content)},"ai.response.toolCalls":{output:()=>{const e=QG(d.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.id":h.id,"ai.response.model":h.modelId,"ai.response.timestamp":h.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(d.providerMetadata),"ai.usage.promptTokens":d.usage.inputTokens,"ai.usage.completionTokens":d.usage.outputTokens,"gen_ai.response.finish_reasons":[d.finishReason],"gen_ai.response.id":h.id,"gen_ai.response.model":h.modelId,"gen_ai.usage.input_tokens":d.usage.inputTokens,"gen_ai.usage.output_tokens":d.usage.outputTokens}})),u(u({},d),{},{response:h})}})}));const q=await Promise.all(b.content.filter((e=>"tool-call"===e.type)).map((t=>VG({toolCall:t,tools:n,repairToolCall:w,system:r,messages:e}))));for(const t of q){if(t.invalid)continue;const a=n[t.toolName];null!=(null==a?void 0:a.onInputAvailable)&&await a.onInputAvailable({input:t.input,toolCallId:t.toolCallId,messages:e,abortSignal:c,experimental_context:x})}const U=q.filter((e=>e.invalid&&e.dynamic));M=[];for(const t of U)M.push({type:"tool-error",toolCallId:t.toolCallId,toolName:t.toolName,input:t.input,error:dN(t.error),dynamic:!0});E=q.filter((e=>!e.providerExecuted)),null!=n&&M.push(...await XG({toolCalls:E.filter((e=>!e.invalid)),tools:n,tracer:N,telemetry:f,messages:e,abortSignal:c,experimental_context:x}));const G=eH({content:b.content,toolCalls:q,toolOutputs:M});O.push(...YG({content:G,tools:n}));const H=new UG({content:G,finishReason:b.finishReason,usage:b.usage,warnings:b.warnings,providerMetadata:b.providerMetadata,request:null!=(d=b.request)?d:{},response:u(u({},b.response),{},{messages:structuredClone(O)})});Gq(null!=(h=b.warnings)?h:[]),B.push(H),await(null==D?void 0:D(H))}while(E.length>0&&M.length===E.length&&!await HG({stopConditions:S,steps:B}));e.setAttributes(MG({telemetry:f,attributes:{"ai.response.finishReason":b.finishReason,"ai.response.text":{output:()=>RG(b.content)},"ai.response.toolCalls":{output:()=>{const e=QG(b.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.providerMetadata":JSON.stringify(b.providerMetadata),"ai.usage.promptTokens":b.usage.inputTokens,"ai.usage.completionTokens":b.usage.outputTokens}}));const L=B[B.length-1];let R;return"stop"===L.finishReason&&(R=await(null==p?void 0:p.parseOutput({text:L.text},{response:L.response,usage:L.usage,finishReason:L.finishReason}))),new $G({steps:B,resolvedOutput:R})}})}catch(O){throw xG(O)}}async function XG(e){let{toolCalls:t,tools:n,tracer:a,telemetry:r,messages:i,abortSignal:o,experimental_context:s}=e;const l=await Promise.all(t.map((async e=>{let{toolCallId:t,toolName:l,input:c}=e;const d=n[l];if(null!=(null==d?void 0:d.execute))return EG({name:"ai.toolCall",attributes:MG({telemetry:r,attributes:u(u({},kG({operationId:"ai.toolCall",telemetry:r})),{},{"ai.toolCall.name":l,"ai.toolCall.id":t,"ai.toolCall.args":{output:()=>JSON.stringify(c)}})}),tracer:a,fn:async e=>{try{const g=function(e){return LO.apply(this,arguments)}({execute:d.execute.bind(d),input:c,options:{toolCallId:t,messages:i,abortSignal:o,experimental_context:s}});let y;var n,a=!1,u=!1;try{for(var h,p=uM(g);a=!(h=await p.next()).done;a=!1){const e=h.value;"final"===e.type&&(y=e.output)}}catch(f){u=!0,n=f}finally{try{a&&null!=p.return&&await p.return()}finally{if(u)throw n}}try{e.setAttributes(MG({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(y)}}}))}catch(m){}return{type:"tool-result",toolCallId:t,toolName:l,input:c,output:y,dynamic:"dynamic"===d.type}}catch(g){return FG(e,g),{type:"tool-error",toolCallId:t,toolName:l,input:c,error:g,dynamic:"dynamic"===d.type}}}})})));return l.filter((e=>null!=e))}var $G=class{constructor(e){this.steps=e.steps,this.resolvedOutput=e.resolvedOutput}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get totalUsage(){return this.steps.reduce(((e,t)=>zG(e,t.usage)),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0})}get experimental_output(){if(null==this.resolvedOutput)throw new jq;return this.resolvedOutput}};function QG(e){const t=e.filter((e=>"tool-call"===e.type));if(0!==t.length)return t.map((e=>({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input})))}function eH(e){let{content:t,toolCalls:n,toolOutputs:a}=e;return[...t.map((e=>{switch(e.type){case"text":case"reasoning":case"source":return e;case"file":return{type:"file",file:new jG(e)};case"tool-call":return n.find((t=>t.toolCallId===e.toolCallId));case"tool-result":{const t=n.find((t=>t.toolCallId===e.toolCallId));if(null==t)throw new Error("Tool call ".concat(e.toolCallId," not found."));return e.isError?{type:"tool-error",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,error:e.result,providerExecuted:!0,dynamic:t.dynamic}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,output:e.result,providerExecuted:!0,dynamic:t.dynamic}}}})),...a]}TransformStream;SN((()=>CO(ej([XR({type:dj("text-start"),id:dR(),providerMetadata:lG.optional()}),XR({type:dj("text-delta"),id:dR(),delta:dR(),providerMetadata:lG.optional()}),XR({type:dj("text-end"),id:dR(),providerMetadata:lG.optional()}),XR({type:dj("error"),errorText:dR()}),XR({type:dj("tool-input-start"),toolCallId:dR(),toolName:dR(),providerExecuted:LR().optional(),dynamic:LR().optional()}),XR({type:dj("tool-input-delta"),toolCallId:dR(),inputTextDelta:dR()}),XR({type:dj("tool-input-available"),toolCallId:dR(),toolName:dR(),input:GR(),providerExecuted:LR().optional(),providerMetadata:lG.optional(),dynamic:LR().optional()}),XR({type:dj("tool-input-error"),toolCallId:dR(),toolName:dR(),input:GR(),providerExecuted:LR().optional(),providerMetadata:lG.optional(),dynamic:LR().optional(),errorText:dR()}),XR({type:dj("tool-output-available"),toolCallId:dR(),output:GR(),providerExecuted:LR().optional(),dynamic:LR().optional(),preliminary:LR().optional()}),XR({type:dj("tool-output-error"),toolCallId:dR(),errorText:dR(),providerExecuted:LR().optional(),dynamic:LR().optional()}),XR({type:dj("reasoning-start"),id:dR(),providerMetadata:lG.optional()}),XR({type:dj("reasoning-delta"),id:dR(),delta:dR(),providerMetadata:lG.optional()}),XR({type:dj("reasoning-end"),id:dR(),providerMetadata:lG.optional()}),XR({type:dj("source-url"),sourceId:dR(),url:dR(),title:dR().optional(),providerMetadata:lG.optional()}),XR({type:dj("source-document"),sourceId:dR(),mediaType:dR(),title:dR(),filename:dR().optional(),providerMetadata:lG.optional()}),XR({type:dj("file"),url:dR(),mediaType:dR(),providerMetadata:lG.optional()}),XR({type:Sj((e=>"string"===typeof e&&e.startsWith("data-")),{message:'Type must start with "data-"'}),id:dR().optional(),data:GR(),transient:LR().optional()}),XR({type:dj("start-step")}),XR({type:dj("finish-step")}),XR({type:dj("start"),messageId:dR().optional(),messageMetadata:GR().optional()}),XR({type:dj("finish"),messageMetadata:GR().optional()}),XR({type:dj("abort")}),XR({type:dj("message-metadata"),messageMetadata:GR()})]))));function tH(e){const t=["ROOT"];let n=-1,a=null;function r(e,r,i){switch(e){case'"':n=r,t.pop(),t.push(i),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=r,a=r,t.pop(),t.push(i),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=r,t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"{":n=r,t.pop(),t.push(i),t.push("INSIDE_OBJECT_START");break;case"[":n=r,t.pop(),t.push(i),t.push("INSIDE_ARRAY_START")}}function i(e,a){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=a,t.pop()}}function o(e,a){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=a,t.pop()}}for(let l=0;l<e.length;l++){const s=e[l];switch(t[t.length-1]){case"ROOT":r(s,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(s){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===s)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":r(s,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":i(s,l);break;case"INSIDE_STRING":switch(s){case'"':t.pop(),n=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=l}break;case"INSIDE_ARRAY_START":if("]"===s)n=l,t.pop();else n=l,r(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(s){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=l,t.pop();break;default:n=l}break;case"INSIDE_ARRAY_AFTER_COMMA":r(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=l;break;case"INSIDE_NUMBER":switch(s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(s,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(s,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(s,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{const r=e.substring(a,l+1);"false".startsWith(r)||"true".startsWith(r)||"null".startsWith(r)?n=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?i(s,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(s,l));break}}}let s=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--){switch(t[l]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{const t=e.substring(a,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}}return s}async function nH(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await IN({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await IN({text:tH(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}cN({prefix:"aitxt",size:24});cN({prefix:"aiobj",size:24});cN({prefix:"aiobj",size:24});((e,t)=>{for(var n in t)Oq(e,n,{get:t[n],enumerable:!0})})({},{object:()=>rH,text:()=>aH});var aH=()=>({type:"text",responseFormat:{type:"text"},async parsePartial(e){let{text:t}=e;return{partial:t}},async parseOutput(e){let{text:t}=e;return t}}),rH=e=>{let{schema:t}=e;const n=MO(t);return{type:"object",responseFormat:{type:"json",schema:n.jsonSchema},async parsePartial(e){let{text:t}=e;const n=await nH(t);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const e=n.state;throw new Error("Unsupported parse state: ".concat(e))}}},async parseOutput(e,t){let{text:a}=e;const r=await IN({text:a});if(!r.success)throw new hU({message:"No object generated: could not parse the response.",cause:r.error,text:a,response:t.response,usage:t.usage,finishReason:t.finishReason});const i=await MN({value:r.value,schema:n});if(!i.success)throw new hU({message:"No object generated: response did not match schema.",cause:i.error,text:a,response:t.response,usage:t.usage,finishReason:t.finishReason});return i.value}}};var iH="AI_NoSuchProviderError",oH="vercel.ai.error.".concat(iH),sH=Symbol.for(oH);var lH=$R({name:dR(),version:dR()}),cH=$R({_meta:mj(ZR({}).loose())}),uH=cH,dH=ZR({method:dR(),params:mj(cH)}),hH=$R({experimental:mj(ZR({}).loose()),logging:mj(ZR({}).loose()),prompts:mj($R({listChanged:mj(LR())})),resources:mj($R({subscribe:mj(LR()),listChanged:mj(LR())})),tools:mj($R({listChanged:mj(LR())}))}),pH=(uH.extend({protocolVersion:dR(),capabilities:hH,serverInfo:lH,instructions:mj(dR())}),uH.extend({nextCursor:mj(dR())})),fH=ZR({name:dR(),description:mj(dR()),inputSchema:ZR({type:dj("object"),properties:mj(ZR({}).loose())}).loose()}).loose(),mH=(pH.extend({tools:YR(fH)}),ZR({type:dj("text"),text:dR()}).loose()),gH=ZR({type:dj("image"),data:ER(),mimeType:dR()}).loose(),yH=ZR({uri:dR(),mimeType:mj(dR())}).loose(),bH=yH.extend({text:dR()}),vH=yH.extend({blob:ER()}),wH=ZR({type:dj("resource"),resource:ej([bH,vH])}).loose(),_H=(uH.extend({content:YR(ej([mH,gH,wH])),isError:LR().default(!1).optional()}).or(uH.extend({toolResult:GR()})),"2.0"),xH=ZR({jsonrpc:dj(_H),id:ej([dR(),PR().int()])}).merge(dH).strict(),kH=ZR({jsonrpc:dj(_H),id:ej([dR(),PR().int()]),result:uH}).strict(),TH=ZR({jsonrpc:dj(_H),id:ej([dR(),PR().int()]),error:ZR({code:PR().int(),message:dR(),data:mj(GR())})}).strict();ej([xH,ZR({jsonrpc:dj(_H)}).merge(ZR({method:dR(),params:mj(cH)})).strict(),kH,TH]);SN((()=>CO(YR(ZR({id:dR(),role:cj(["system","user","assistant"]),metadata:GR().optional(),parts:YR(ej([ZR({type:dj("text"),text:dR(),state:cj(["streaming","done"]).optional(),providerMetadata:lG.optional()}),ZR({type:dj("reasoning"),text:dR(),state:cj(["streaming","done"]).optional(),providerMetadata:lG.optional()}),ZR({type:dj("source-url"),sourceId:dR(),url:dR(),title:dR().optional(),providerMetadata:lG.optional()}),ZR({type:dj("source-document"),sourceId:dR(),mediaType:dR(),title:dR(),filename:dR().optional(),providerMetadata:lG.optional()}),ZR({type:dj("file"),mediaType:dR(),filename:dR().optional(),url:dR(),providerMetadata:lG.optional()}),ZR({type:dj("step-start")}),ZR({type:dR().startsWith("data-"),id:dR().optional(),data:GR()}),ZR({type:dj("dynamic-tool"),toolName:dR(),toolCallId:dR(),state:dj("input-streaming"),input:GR().optional(),output:WR().optional(),errorText:WR().optional()}),ZR({type:dj("dynamic-tool"),toolName:dR(),toolCallId:dR(),state:dj("input-available"),input:GR(),output:WR().optional(),errorText:WR().optional(),callProviderMetadata:lG.optional()}),ZR({type:dj("dynamic-tool"),toolName:dR(),toolCallId:dR(),state:dj("output-available"),input:GR(),output:GR(),errorText:WR().optional(),callProviderMetadata:lG.optional(),preliminary:LR().optional()}),ZR({type:dj("dynamic-tool"),toolName:dR(),toolCallId:dR(),state:dj("output-error"),input:GR(),output:WR().optional(),errorText:dR(),callProviderMetadata:lG.optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("input-streaming"),providerExecuted:LR().optional(),input:GR().optional(),output:WR().optional(),errorText:WR().optional(),approval:WR().optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("input-available"),providerExecuted:LR().optional(),input:GR(),output:WR().optional(),errorText:WR().optional(),callProviderMetadata:lG.optional(),approval:WR().optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("approval-requested"),input:GR(),providerExecuted:LR().optional(),output:WR().optional(),errorText:WR().optional(),callProviderMetadata:lG.optional(),approval:ZR({id:dR(),approved:WR().optional(),reason:WR().optional()})}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("approval-responded"),input:GR(),providerExecuted:LR().optional(),output:WR().optional(),errorText:WR().optional(),callProviderMetadata:lG.optional(),approval:ZR({id:dR(),approved:LR(),reason:dR().optional()})}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("output-available"),providerExecuted:LR().optional(),input:GR(),output:GR(),errorText:WR().optional(),callProviderMetadata:lG.optional(),preliminary:LR().optional(),approval:ZR({id:dR(),approved:dj(!0),reason:dR().optional()}).optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("output-error"),providerExecuted:LR().optional(),input:GR(),output:WR().optional(),errorText:dR(),callProviderMetadata:lG.optional(),approval:ZR({id:dR(),approved:dj(!0),reason:dR().optional()}).optional()}),ZR({type:dR().startsWith("tool-"),toolCallId:dR(),state:dj("output-denied"),providerExecuted:LR().optional(),input:GR(),output:WR().optional(),errorText:WR().optional(),callProviderMetadata:lG.optional(),approval:ZR({id:dR(),approved:dj(!1),reason:dR().optional()})})]))})))));class DH{constructor(e,t,n){this.apiKey=null,this.modelId=void 0,this.provider=null,this.config=void 0,this.config=e,this.apiKey=n||null,this.modelId=t||e.defaultModel}setModel(e){this.modelId=e,this.provider=null}getApiKey(e,t){let n=rM(e)||this.apiKey;return n||(n=prompt(t)||"",n&&function(e,t){const n=new URLSearchParams(window.location.search);n.set(e,encodeURIComponent(t));const a="".concat(window.location.pathname,"?").concat(n.toString());window.history.pushState({},"",a)}(e,n)),n}getProvider(){if(!this.provider){const e=this.config.name,t="".concat(e.toLowerCase().replace(/\s+/g,"_"),"_api_key"),n="Please enter your ".concat(e," API key:"),a=this.getApiKey(t,n);if(!a)throw new Error("".concat(e," API key is required"));this.provider=this.config.createProvider(a.trim())}return this.provider}async generateCompletions(e,t,n){try{const a=this.getProvider()(this.modelId),r=this.config.name;console.log("Calling ".concat(r," API via Vercel AI SDK"),e,t,n,"with model:",this.modelId);const i=Array.from({length:n},(()=>ZG({model:a,messages:[{role:"system",content:"You are a helpful assistant. Answer in at most one short sentence."},{role:"user",content:e}],temperature:t})));return(await Promise.all(i)).map((e=>e.text))}catch(a){const e=a instanceof Error?a.message:String(a);return console.error("Error generating completions with ".concat(this.config.name,":"),a),alert("Error calling ".concat(this.config.name," API: ").concat(e,"\n\nPlease check your API key and model selection, then try again.")),[]}}validateApiKey(e){return null!==e&&e.trim().length>0}}function AH(e){return function(e,t){return new e(u({type:"number",coerce:!0,checks:[]},ZI(t)))}(zR,e)}var CH=ZR({error:ZR({message:dR(),type:dR().nullish(),param:qR().nullish(),code:ej([dR(),PR()]).nullish()})}),SH=qN({errorSchema:CH,errorToMessage:e=>e.error.message});function EH(e){let{id:t,model:n,created:a}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=a?new Date(1e3*a):void 0}}function FH(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var MH=SN((()=>CO(ZR({id:dR().nullish(),created:PR().nullish(),model:dR().nullish(),choices:YR(ZR({message:ZR({role:dj("assistant").nullish(),content:dR().nullish(),tool_calls:YR(ZR({id:dR().nullish(),type:dj("function"),function:ZR({name:dR(),arguments:dR()})})).nullish(),annotations:YR(ZR({type:dj("url_citation"),start_index:PR(),end_index:PR(),url:dR(),title:dR()})).nullish()}),index:PR(),logprobs:ZR({content:YR(ZR({token:dR(),logprob:PR(),top_logprobs:YR(ZR({token:dR(),logprob:PR()}))})).nullish()}).nullish(),finish_reason:dR().nullish()})),usage:ZR({prompt_tokens:PR().nullish(),completion_tokens:PR().nullish(),total_tokens:PR().nullish(),prompt_tokens_details:ZR({cached_tokens:PR().nullish()}).nullish(),completion_tokens_details:ZR({reasoning_tokens:PR().nullish(),accepted_prediction_tokens:PR().nullish(),rejected_prediction_tokens:PR().nullish()}).nullish()}).nullish()})))),IH=SN((()=>CO(ej([ZR({id:dR().nullish(),created:PR().nullish(),model:dR().nullish(),choices:YR(ZR({delta:ZR({role:cj(["assistant"]).nullish(),content:dR().nullish(),tool_calls:YR(ZR({index:PR(),id:dR().nullish(),type:dj("function").nullish(),function:ZR({name:dR().nullish(),arguments:dR().nullish()})})).nullish(),annotations:YR(ZR({type:dj("url_citation"),start_index:PR(),end_index:PR(),url:dR(),title:dR()})).nullish()}).nullish(),logprobs:ZR({content:YR(ZR({token:dR(),logprob:PR(),top_logprobs:YR(ZR({token:dR(),logprob:PR()}))})).nullish()}).nullish(),finish_reason:dR().nullish(),index:PR()})),usage:ZR({prompt_tokens:PR().nullish(),completion_tokens:PR().nullish(),total_tokens:PR().nullish(),prompt_tokens_details:ZR({cached_tokens:PR().nullish()}).nullish(),completion_tokens_details:ZR({reasoning_tokens:PR().nullish(),accepted_prediction_tokens:PR().nullish(),rejected_prediction_tokens:PR().nullish()}).nullish()}).nullish()}),CH])))),zH=SN((()=>CO(ZR({logitBias:sj(AH(),PR()).optional(),logprobs:ej([LR(),PR()]).optional(),parallelToolCalls:LR().optional(),user:dR().optional(),reasoningEffort:cj(["minimal","low","medium","high"]).optional(),maxCompletionTokens:PR().optional(),store:LR().optional(),metadata:sj(dR().max(64),dR().max(512)).optional(),prediction:sj(dR(),qR()).optional(),structuredOutputs:LR().optional(),serviceTier:cj(["auto","flex","priority","default"]).optional(),strictJsonSchema:LR().optional(),textVerbosity:cj(["low","medium","high"]).optional(),promptCacheKey:dR().optional(),safetyIdentifier:dR().optional()}))));var PH=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:a,topP:r,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:c,seed:d,tools:h,toolChoice:p,providerOptions:f}=e;var m,g,y,b;const v=[],w=null!=(m=await NN({provider:"openai",providerOptions:f,schema:zH}))?m:{},_=null==(g=w.structuredOutputs)||g;null!=i&&v.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==c?void 0:c.type)||null==c.schema||_||v.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const{messages:x,warnings:k}=function(e){let{prompt:t,systemMessageMode:n="system"}=e;const a=[],r=[];for(const{role:i,content:o}of t)switch(i){case"system":switch(n){case"system":a.push({role:"system",content:o});break;case"developer":a.push({role:"developer",content:o});break;case"remove":r.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":if(1===o.length&&"text"===o[0].type){a.push({role:"user",content:o[0].text});break}a.push({role:"user",content:o.map(((e,t)=>{var n,a,r;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():"data:".concat(t,";base64,").concat(OO(e.data)),detail:null==(a=null==(n=e.providerOptions)?void 0:n.openai)?void 0:a.imageDetail}}}if(!e.mediaType.startsWith("audio/")){if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new CI({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"===typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(r=e.filename)?r:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(OO(e.data))}}}throw new CI({functionality:"file part media type ".concat(e.mediaType)})}if(e.data instanceof URL)throw new CI({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:OO(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:OO(e.data),format:"mp3"}};default:throw new CI({functionality:"audio content parts with media type ".concat(e.mediaType)})}}}))});break;case"assistant":{let e="";const t=[];for(const n of o)switch(n.type){case"text":e+=n.text;break;case"tool-call":t.push({id:n.toolCallId,type:"function",function:{name:n.toolName,arguments:JSON.stringify(n.input)}})}a.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(const e of o){const t=e.output;let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"content":case"json":case"error-json":n=JSON.stringify(t.value)}a.push({role:"tool",tool_call_id:e.toolCallId,content:n})}break;default:throw new Error("Unsupported role: ".concat(i))}return{messages:a,warnings:r}}({prompt:t,systemMessageMode:OH(this.modelId)});v.push(...k);const T=null!=(y=w.strictJsonSchema)&&y,D={model:this.modelId,logit_bias:w.logitBias,logprobs:!0===w.logprobs||"number"===typeof w.logprobs||void 0,top_logprobs:"number"===typeof w.logprobs?w.logprobs:"boolean"===typeof w.logprobs&&w.logprobs?0:void 0,user:w.user,parallel_tool_calls:w.parallelToolCalls,max_tokens:n,temperature:a,top_p:r,frequency_penalty:o,presence_penalty:s,response_format:"json"===(null==c?void 0:c.type)?_&&null!=c.schema?{type:"json_schema",json_schema:{schema:c.schema,strict:T,name:null!=(b=c.name)?b:"response",description:c.description}}:{type:"json_object"}:void 0,stop:l,seed:d,verbosity:w.textVerbosity,max_completion_tokens:w.maxCompletionTokens,store:w.store,metadata:w.metadata,prediction:w.prediction,reasoning_effort:w.reasoningEffort,service_tier:w.serviceTier,prompt_cache_key:w.promptCacheKey,safety_identifier:w.safetyIdentifier,messages:x};NH(this.modelId)?(null!=D.temperature&&(D.temperature=void 0,v.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=D.top_p&&(D.top_p=void 0,v.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=D.frequency_penalty&&(D.frequency_penalty=void 0,v.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=D.presence_penalty&&(D.presence_penalty=void 0,v.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=D.logit_bias&&(D.logit_bias=void 0,v.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=D.logprobs&&(D.logprobs=void 0,v.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=D.top_logprobs&&(D.top_logprobs=void 0,v.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=D.max_tokens&&(null==D.max_completion_tokens&&(D.max_completion_tokens=D.max_tokens),D.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=D.temperature&&(D.temperature=void 0,v.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==w.serviceTier||function(e){return e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat")}(this.modelId)||(v.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),D.service_tier=void 0),"priority"!==w.serviceTier||function(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}(this.modelId)||(v.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),D.service_tier=void 0);const{tools:A,toolChoice:C,toolWarnings:S}=function(e){let{tools:t,toolChoice:n,structuredOutputs:a,strictJsonSchema:r}=e;t=(null==t?void 0:t.length)?t:void 0;const i=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:i};const o=[];for(const l of t)"function"===l.type?o.push({type:"function",function:{name:l.name,description:l.description,parameters:l.inputSchema,strict:a?r:void 0}}):i.push({type:"unsupported-tool",tool:l});if(null==n)return{tools:o,toolChoice:void 0,toolWarnings:i};const s=n.type;switch(s){case"auto":case"none":case"required":return{tools:o,toolChoice:s,toolWarnings:i};case"tool":return{tools:o,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:i};default:throw new CI({functionality:"tool choice type: ".concat(s)})}}({tools:h,toolChoice:p,structuredOutputs:_,strictJsonSchema:T});return{args:u(u({},D),{},{tools:A,tool_choice:C}),warnings:[...v,...S]}}async doGenerate(e){var t,n,a,r,i,o,s,l,c,d,h,p,f,m;const{args:g,warnings:y}=await this.getArgs(e),{responseHeaders:b,value:v,rawValue:w}=await BN({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:g,failedResponseHandler:SH,successfulResponseHandler:GN(MH),abortSignal:e.abortSignal,fetch:this.config.fetch}),_=v.choices[0],x=[],k=_.message.content;null!=k&&k.length>0&&x.push({type:"text",text:k});for(const u of null!=(t=_.message.tool_calls)?t:[])x.push({type:"tool-call",toolCallId:null!=(n=u.id)?n:uN(),toolName:u.function.name,input:u.function.arguments});for(const u of null!=(a=_.message.annotations)?a:[])x.push({type:"source",sourceType:"url",id:uN(),url:u.url,title:u.title});const T=null==(r=v.usage)?void 0:r.completion_tokens_details,D=null==(i=v.usage)?void 0:i.prompt_tokens_details,A={openai:{}};return null!=(null==T?void 0:T.accepted_prediction_tokens)&&(A.openai.acceptedPredictionTokens=null==T?void 0:T.accepted_prediction_tokens),null!=(null==T?void 0:T.rejected_prediction_tokens)&&(A.openai.rejectedPredictionTokens=null==T?void 0:T.rejected_prediction_tokens),null!=(null==(o=_.logprobs)?void 0:o.content)&&(A.openai.logprobs=_.logprobs.content),{content:x,finishReason:FH(_.finish_reason),usage:{inputTokens:null!=(l=null==(s=v.usage)?void 0:s.prompt_tokens)?l:void 0,outputTokens:null!=(d=null==(c=v.usage)?void 0:c.completion_tokens)?d:void 0,totalTokens:null!=(p=null==(h=v.usage)?void 0:h.total_tokens)?p:void 0,reasoningTokens:null!=(f=null==T?void 0:T.reasoning_tokens)?f:void 0,cachedInputTokens:null!=(m=null==D?void 0:D.cached_tokens)?m:void 0},request:{body:g},response:u(u({},EH(v)),{},{headers:b,body:w}),warnings:y,providerMetadata:A}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),a=u(u({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:r,value:i}=await BN({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:a,failedResponseHandler:SH,successfulResponseHandler:UN(IH),abortSignal:e.abortSignal,fetch:this.config.fetch}),o=[];let s="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0,d=!1;const h={openai:{}};return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var a,r,i,p,f,m,g,y,b,v,w,_,x,k,T,D,A,C,S,E,F,M,I,z;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return s="error",void n.enqueue({type:"error",error:t.error});const P=t.value;if("error"in P)return s="error",void n.enqueue({type:"error",error:P.error});c&&(c=!1,n.enqueue(u({type:"response-metadata"},EH(P)))),null!=P.usage&&(l.inputTokens=null!=(a=P.usage.prompt_tokens)?a:void 0,l.outputTokens=null!=(r=P.usage.completion_tokens)?r:void 0,l.totalTokens=null!=(i=P.usage.total_tokens)?i:void 0,l.reasoningTokens=null!=(f=null==(p=P.usage.completion_tokens_details)?void 0:p.reasoning_tokens)?f:void 0,l.cachedInputTokens=null!=(g=null==(m=P.usage.prompt_tokens_details)?void 0:m.cached_tokens)?g:void 0,null!=(null==(y=P.usage.completion_tokens_details)?void 0:y.accepted_prediction_tokens)&&(h.openai.acceptedPredictionTokens=null==(b=P.usage.completion_tokens_details)?void 0:b.accepted_prediction_tokens),null!=(null==(v=P.usage.completion_tokens_details)?void 0:v.rejected_prediction_tokens)&&(h.openai.rejectedPredictionTokens=null==(w=P.usage.completion_tokens_details)?void 0:w.rejected_prediction_tokens));const N=P.choices[0];if(null!=(null==N?void 0:N.finish_reason)&&(s=FH(N.finish_reason)),null!=(null==(_=null==N?void 0:N.logprobs)?void 0:_.content)&&(h.openai.logprobs=N.logprobs.content),null==(null==N?void 0:N.delta))return;const O=N.delta;if(null!=O.content&&(d||(n.enqueue({type:"text-start",id:"0"}),d=!0),n.enqueue({type:"text-delta",id:"0",delta:O.content})),null!=O.tool_calls)for(const e of O.tool_calls){const t=e.index;if(null==o[t]){if("function"!==e.type)throw new HM({data:e,message:"Expected 'function' type."});if(null==e.id)throw new HM({data:e,message:"Expected 'id' to be a string."});if(null==(null==(x=e.function)?void 0:x.name))throw new HM({data:e,message:"Expected 'function.name' to be a string."});n.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),o[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(k=e.function.arguments)?k:""},hasFinished:!1};const a=o[t];null!=(null==(T=a.function)?void 0:T.name)&&null!=(null==(D=a.function)?void 0:D.arguments)&&(a.function.arguments.length>0&&n.enqueue({type:"tool-input-delta",id:a.id,delta:a.function.arguments}),zN(a.function.arguments)&&(n.enqueue({type:"tool-input-end",id:a.id}),n.enqueue({type:"tool-call",toolCallId:null!=(A=a.id)?A:uN(),toolName:a.function.name,input:a.function.arguments}),a.hasFinished=!0));continue}const a=o[t];a.hasFinished||(null!=(null==(C=e.function)?void 0:C.arguments)&&(a.function.arguments+=null!=(E=null==(S=e.function)?void 0:S.arguments)?E:""),n.enqueue({type:"tool-input-delta",id:a.id,delta:null!=(F=e.function.arguments)?F:""}),null!=(null==(M=a.function)?void 0:M.name)&&null!=(null==(I=a.function)?void 0:I.arguments)&&zN(a.function.arguments)&&(n.enqueue({type:"tool-input-end",id:a.id}),n.enqueue({type:"tool-call",toolCallId:null!=(z=a.id)?z:uN(),toolName:a.function.name,input:a.function.arguments}),a.hasFinished=!0))}if(null!=O.annotations)for(const e of O.annotations)n.enqueue({type:"source",sourceType:"url",id:uN(),url:e.url,title:e.title})},flush(e){d&&e.enqueue({type:"text-end",id:"0"}),e.enqueue(u({type:"finish",finishReason:s,usage:l},null!=h?{providerMetadata:h}:{}))}})),request:{body:a},response:{headers:r}}}};function NH(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}function OH(e){var t,n;return NH(e)?null!=(n=null==(t=BH[e])?void 0:t.systemMessageMode)?n:"developer":"system"}var BH={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function LH(e){let{id:t,model:n,created:a}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=a?new Date(1e3*a):void 0}}function RH(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var jH=SN((()=>CO(ZR({id:dR().nullish(),created:PR().nullish(),model:dR().nullish(),choices:YR(ZR({text:dR(),finish_reason:dR(),logprobs:ZR({tokens:YR(dR()),token_logprobs:YR(PR()),top_logprobs:YR(sj(dR(),PR())).nullish()}).nullish()})),usage:ZR({prompt_tokens:PR(),completion_tokens:PR(),total_tokens:PR()}).nullish()})))),VH=SN((()=>CO(ej([ZR({id:dR().nullish(),created:PR().nullish(),model:dR().nullish(),choices:YR(ZR({text:dR(),finish_reason:dR().nullish(),index:PR(),logprobs:ZR({tokens:YR(dR()),token_logprobs:YR(PR()),top_logprobs:YR(sj(dR(),PR())).nullish()}).nullish()})),usage:ZR({prompt_tokens:PR(),completion_tokens:PR(),total_tokens:PR()}).nullish()}),CH])))),qH=SN((()=>CO(ZR({echo:LR().optional(),logitBias:sj(dR(),PR()).optional(),suffix:dR().optional(),user:dR().optional(),logprobs:ej([LR(),PR()]).optional()})))),UH=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:a,topP:r,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:c,tools:d,toolChoice:h,seed:p,providerOptions:f}=e;const m=[],g=u(u({},await NN({provider:"openai",providerOptions:f,schema:qH})),await NN({provider:this.providerOptionsName,providerOptions:f,schema:qH}));null!=i&&m.push({type:"unsupported-setting",setting:"topK"}),(null==d?void 0:d.length)&&m.push({type:"unsupported-setting",setting:"tools"}),null!=h&&m.push({type:"unsupported-setting",setting:"toolChoice"}),null!=c&&"text"!==c.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:y,stopSequences:b}=function(e){let{prompt:t,user:n="user",assistant:a="assistant"}=e,r="";"system"===t[0].role&&(r+="".concat(t[0].content,"\n\n"),t=t.slice(1));for(const{role:i,content:o}of t)switch(i){case"system":throw new jM({message:"Unexpected system message in prompt: ${content}",prompt:t});case"user":{const e=o.map((e=>{if("text"===e.type)return e.text})).filter(Boolean).join("");r+="".concat(n,":\n").concat(e,"\n\n");break}case"assistant":{const e=o.map((e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new CI({functionality:"tool-call messages"})}})).join("");r+="".concat(a,":\n").concat(e,"\n\n");break}case"tool":throw new CI({functionality:"tool messages"});default:throw new Error("Unsupported role: ".concat(i))}return r+="".concat(a,":\n"),{prompt:r,stopSequences:["\n".concat(n,":")]}}({prompt:t}),v=[...null!=b?b:[],...null!=l?l:[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:!0===(null==g?void 0:g.logprobs)?0:!1===(null==g?void 0:g.logprobs)||null==g?void 0:g.logprobs,suffix:g.suffix,user:g.user,max_tokens:n,temperature:a,top_p:r,frequency_penalty:o,presence_penalty:s,seed:p,prompt:y,stop:v.length>0?v:void 0},warnings:m}}async doGenerate(e){var t,n,a;const{args:r,warnings:i}=await this.getArgs(e),{responseHeaders:o,value:s,rawValue:l}=await BN({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:r,failedResponseHandler:SH,successfulResponseHandler:GN(jH),abortSignal:e.abortSignal,fetch:this.config.fetch}),c=s.choices[0],d={openai:{}};return null!=c.logprobs&&(d.openai.logprobs=c.logprobs),{content:[{type:"text",text:c.text}],usage:{inputTokens:null==(t=s.usage)?void 0:t.prompt_tokens,outputTokens:null==(n=s.usage)?void 0:n.completion_tokens,totalTokens:null==(a=s.usage)?void 0:a.total_tokens},finishReason:RH(c.finish_reason),request:{body:r},response:u(u({},LH(s)),{},{headers:o,body:l}),providerMetadata:d,warnings:i}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),a=u(u({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:r,value:i}=await BN({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:a,failedResponseHandler:SH,successfulResponseHandler:UN(VH),abortSignal:e.abortSignal,fetch:this.config.fetch});let o="unknown";const s={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0;return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return o="error",void n.enqueue({type:"error",error:t.error});const a=t.value;if("error"in a)return o="error",void n.enqueue({type:"error",error:a.error});c&&(c=!1,n.enqueue(u({type:"response-metadata"},LH(a))),n.enqueue({type:"text-start",id:"0"})),null!=a.usage&&(l.inputTokens=a.usage.prompt_tokens,l.outputTokens=a.usage.completion_tokens,l.totalTokens=a.usage.total_tokens);const r=a.choices[0];null!=(null==r?void 0:r.finish_reason)&&(o=RH(r.finish_reason)),null!=(null==r?void 0:r.logprobs)&&(s.openai.logprobs=r.logprobs),null!=(null==r?void 0:r.text)&&r.text.length>0&&n.enqueue({type:"text-delta",id:"0",delta:r.text})},flush(e){c||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:o,providerMetadata:s,usage:l})}})),request:{body:a},response:{headers:r}}}},GH=SN((()=>CO(ZR({dimensions:PR().optional(),user:dR().optional()})))),HH=SN((()=>CO(ZR({data:YR(ZR({embedding:YR(PR())})),usage:ZR({prompt_tokens:PR()}).nullish()})))),WH=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:a,providerOptions:r}=e;var i;if(t.length>this.maxEmbeddingsPerCall)throw new yI({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:t});const o=null!=(i=await NN({provider:"openai",providerOptions:r,schema:GH}))?i:{},{responseHeaders:s,value:l,rawValue:c}=await BN({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:oN(this.config.headers(),n),body:{model:this.modelId,input:t,encoding_format:"float",dimensions:o.dimensions,user:o.user},failedResponseHandler:SH,successfulResponseHandler:GN(HH),abortSignal:a,fetch:this.config.fetch});return{embeddings:l.data.map((e=>e.embedding)),usage:l.usage?{tokens:l.usage.prompt_tokens}:void 0,response:{headers:s,body:c}}}},KH=SN((()=>CO(ZR({data:YR(ZR({b64_json:dR(),revised_prompt:dR().optional()}))})))),YH={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},JH=new Set(["gpt-image-1","gpt-image-1-mini"]),ZH=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=YH[this.modelId])?e:1}get provider(){return this.config.provider}async doGenerate(e){let{prompt:t,n:n,size:a,aspectRatio:r,seed:i,providerOptions:o,headers:s,abortSignal:l}=e;var c,d,h,p;const f=[];null!=r&&f.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=i&&f.push({type:"unsupported-setting",setting:"seed"});const m=null!=(h=null==(d=null==(c=this.config._internal)?void 0:c.currentDate)?void 0:d.call(c))?h:new Date,{value:g,responseHeaders:y}=await BN({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:oN(this.config.headers(),s),body:u(u({model:this.modelId,prompt:t,n:n,size:a},null!=(p=o.openai)?p:{}),JH.has(this.modelId)?{}:{response_format:"b64_json"}),failedResponseHandler:SH,successfulResponseHandler:GN(KH),abortSignal:l,fetch:this.config.fetch});return{images:g.data.map((e=>e.b64_json)),warnings:f,response:{timestamp:m,modelId:this.modelId,headers:y},providerMetadata:{openai:{images:g.data.map((e=>e.revised_prompt?{revisedPrompt:e.revised_prompt}:null))}}}}},XH=EO((()=>CO(ZR({code:dR().nullish(),containerId:dR()})))),$H=EO((()=>CO(ZR({outputs:YR(nj("type",[ZR({type:dj("logs"),logs:dR()}),ZR({type:dj("image"),url:dR()})])).nullish()})))),QH=EO((()=>CO(ZR({container:ej([dR(),ZR({fileIds:YR(dR()).optional()})]).optional()})))),eW=jN({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:XH,outputSchema:$H}),tW=ZR({key:dR(),type:cj(["eq","ne","gt","gte","lt","lte"]),value:ej([dR(),PR(),LR()])}),nW=ZR({type:cj(["and","or"]),filters:YR(ej([tW,Aj((()=>nW))]))}),aW=EO((()=>CO(ZR({vectorStoreIds:YR(dR()),maxNumResults:PR().optional(),ranking:ZR({ranker:dR().optional(),scoreThreshold:PR().optional()}).optional(),filters:ej([tW,nW]).optional()})))),rW=EO((()=>CO(ZR({queries:YR(dR()),results:YR(ZR({attributes:sj(dR(),GR()),fileId:dR(),filename:dR(),score:PR(),text:dR()})).nullable()})))),iW=jN({id:"openai.file_search",name:"file_search",inputSchema:ZR({}),outputSchema:rW}),oW=EO((()=>CO(ZR({background:cj(["auto","opaque","transparent"]).optional(),inputFidelity:cj(["low","high"]).optional(),inputImageMask:ZR({fileId:dR().optional(),imageUrl:dR().optional()}).optional(),model:dR().optional(),moderation:cj(["auto"]).optional(),outputCompression:PR().int().min(0).max(100).optional(),outputFormat:cj(["png","jpeg","webp"]).optional(),partialImages:PR().int().min(0).max(3).optional(),quality:cj(["auto","low","medium","high"]).optional(),size:cj(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict()))),sW=jN({id:"openai.image_generation",name:"image_generation",inputSchema:EO((()=>CO(ZR({})))),outputSchema:EO((()=>CO(ZR({result:dR()}))))}),lW=EO((()=>CO(ZR({action:ZR({type:dj("exec"),command:YR(dR()),timeoutMs:PR().optional(),user:dR().optional(),workingDirectory:dR().optional(),env:sj(dR(),dR()).optional()})})))),cW=EO((()=>CO(ZR({output:dR()})))),uW=jN({id:"openai.local_shell",name:"local_shell",inputSchema:lW,outputSchema:cW}),dW=EO((()=>CO(ZR({filters:ZR({allowedDomains:YR(dR()).optional()}).optional(),searchContextSize:cj(["low","medium","high"]).optional(),userLocation:ZR({type:dj("approximate"),country:dR().optional(),city:dR().optional(),region:dR().optional(),timezone:dR().optional()}).optional()})))),hW=jN({id:"openai.web_search",name:"web_search",inputSchema:EO((()=>CO(ZR({})))),outputSchema:EO((()=>CO(ZR({action:nj("type",[ZR({type:dj("search"),query:dR().optional()}),ZR({type:dj("openPage"),url:dR()}),ZR({type:dj("find"),url:dR(),pattern:dR()})])}))))}),pW=EO((()=>CO(ZR({searchContextSize:cj(["low","medium","high"]).optional(),userLocation:ZR({type:dj("approximate"),country:dR().optional(),city:dR().optional(),region:dR().optional(),timezone:dR().optional()}).optional()})))),fW={codeInterpreter:function(){return eW(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},fileSearch:iW,imageGeneration:function(){return sW(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},localShell:uW,webSearchPreview:jN({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:EO((()=>CO(ZR({})))),outputSchema:EO((()=>CO(ZR({action:nj("type",[ZR({type:dj("search"),query:dR().optional()}),ZR({type:dj("openPage"),url:dR()}),ZR({type:dj("find"),url:dR(),pattern:dR()})])}))))}),webSearch:function(){return hW(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}};function mW(e,t){return!!t&&t.some((t=>e.startsWith(t)))}var gW=ZR({itemId:dR().nullish(),reasoningEncryptedContent:dR().nullish()});function yW(e){let{finishReason:t,hasFunctionCall:n}=e;switch(t){case void 0:case null:return n?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return n?"tool-calls":"unknown"}}var bW=SN((()=>CO(ej([ZR({type:dj("response.output_text.delta"),item_id:dR(),delta:dR(),logprobs:YR(ZR({token:dR(),logprob:PR(),top_logprobs:YR(ZR({token:dR(),logprob:PR()}))})).nullish()}),ZR({type:cj(["response.completed","response.incomplete"]),response:ZR({incomplete_details:ZR({reason:dR()}).nullish(),usage:ZR({input_tokens:PR(),input_tokens_details:ZR({cached_tokens:PR().nullish()}).nullish(),output_tokens:PR(),output_tokens_details:ZR({reasoning_tokens:PR().nullish()}).nullish()}),service_tier:dR().nullish()})}),ZR({type:dj("response.created"),response:ZR({id:dR(),created_at:PR(),model:dR(),service_tier:dR().nullish()})}),ZR({type:dj("response.output_item.added"),output_index:PR(),item:nj("type",[ZR({type:dj("message"),id:dR()}),ZR({type:dj("reasoning"),id:dR(),encrypted_content:dR().nullish()}),ZR({type:dj("function_call"),id:dR(),call_id:dR(),name:dR(),arguments:dR()}),ZR({type:dj("web_search_call"),id:dR(),status:dR()}),ZR({type:dj("computer_call"),id:dR(),status:dR()}),ZR({type:dj("file_search_call"),id:dR()}),ZR({type:dj("image_generation_call"),id:dR()}),ZR({type:dj("code_interpreter_call"),id:dR(),container_id:dR(),code:dR().nullable(),outputs:YR(nj("type",[ZR({type:dj("logs"),logs:dR()}),ZR({type:dj("image"),url:dR()})])).nullable(),status:dR()})])}),ZR({type:dj("response.output_item.done"),output_index:PR(),item:nj("type",[ZR({type:dj("message"),id:dR()}),ZR({type:dj("reasoning"),id:dR(),encrypted_content:dR().nullish()}),ZR({type:dj("function_call"),id:dR(),call_id:dR(),name:dR(),arguments:dR(),status:dj("completed")}),ZR({type:dj("code_interpreter_call"),id:dR(),code:dR().nullable(),container_id:dR(),outputs:YR(nj("type",[ZR({type:dj("logs"),logs:dR()}),ZR({type:dj("image"),url:dR()})])).nullable()}),ZR({type:dj("image_generation_call"),id:dR(),result:dR()}),ZR({type:dj("web_search_call"),id:dR(),status:dR(),action:nj("type",[ZR({type:dj("search"),query:dR().nullish()}),ZR({type:dj("open_page"),url:dR()}),ZR({type:dj("find"),url:dR(),pattern:dR()})])}),ZR({type:dj("file_search_call"),id:dR(),queries:YR(dR()),results:YR(ZR({attributes:sj(dR(),GR()),file_id:dR(),filename:dR(),score:PR(),text:dR()})).nullish()}),ZR({type:dj("local_shell_call"),id:dR(),call_id:dR(),action:ZR({type:dj("exec"),command:YR(dR()),timeout_ms:PR().optional(),user:dR().optional(),working_directory:dR().optional(),env:sj(dR(),dR()).optional()})}),ZR({type:dj("computer_call"),id:dR(),status:dj("completed")})])}),ZR({type:dj("response.function_call_arguments.delta"),item_id:dR(),output_index:PR(),delta:dR()}),ZR({type:dj("response.image_generation_call.partial_image"),item_id:dR(),output_index:PR(),partial_image_b64:dR()}),ZR({type:dj("response.code_interpreter_call_code.delta"),item_id:dR(),output_index:PR(),delta:dR()}),ZR({type:dj("response.code_interpreter_call_code.done"),item_id:dR(),output_index:PR(),code:dR()}),ZR({type:dj("response.output_text.annotation.added"),annotation:nj("type",[ZR({type:dj("url_citation"),url:dR(),title:dR()}),ZR({type:dj("file_citation"),file_id:dR(),filename:dR().nullish(),index:PR().nullish(),start_index:PR().nullish(),end_index:PR().nullish(),quote:dR().nullish()})])}),ZR({type:dj("response.reasoning_summary_part.added"),item_id:dR(),summary_index:PR()}),ZR({type:dj("response.reasoning_summary_text.delta"),item_id:dR(),summary_index:PR(),delta:dR()}),ZR({type:dj("response.reasoning_summary_part.done"),item_id:dR(),summary_index:PR()}),ZR({type:dj("error"),code:dR(),message:dR(),param:dR().nullish(),sequence_number:PR()}),ZR({type:dR()}).loose().transform((e=>({type:"unknown_chunk",message:e.type})))])))),vW=SN((()=>CO(ZR({id:dR(),created_at:PR(),error:ZR({code:dR(),message:dR()}).nullish(),model:dR(),output:YR(nj("type",[ZR({type:dj("message"),role:dj("assistant"),id:dR(),content:YR(ZR({type:dj("output_text"),text:dR(),logprobs:YR(ZR({token:dR(),logprob:PR(),top_logprobs:YR(ZR({token:dR(),logprob:PR()}))})).nullish(),annotations:YR(nj("type",[ZR({type:dj("url_citation"),start_index:PR(),end_index:PR(),url:dR(),title:dR()}),ZR({type:dj("file_citation"),file_id:dR(),filename:dR().nullish(),index:PR().nullish(),start_index:PR().nullish(),end_index:PR().nullish(),quote:dR().nullish()}),ZR({type:dj("container_file_citation")})]))}))}),ZR({type:dj("web_search_call"),id:dR(),status:dR(),action:nj("type",[ZR({type:dj("search"),query:dR().nullish()}),ZR({type:dj("open_page"),url:dR()}),ZR({type:dj("find"),url:dR(),pattern:dR()})])}),ZR({type:dj("file_search_call"),id:dR(),queries:YR(dR()),results:YR(ZR({attributes:sj(dR(),GR()),file_id:dR(),filename:dR(),score:PR(),text:dR()})).nullish()}),ZR({type:dj("code_interpreter_call"),id:dR(),code:dR().nullable(),container_id:dR(),outputs:YR(nj("type",[ZR({type:dj("logs"),logs:dR()}),ZR({type:dj("image"),url:dR()})])).nullable()}),ZR({type:dj("image_generation_call"),id:dR(),result:dR()}),ZR({type:dj("local_shell_call"),id:dR(),call_id:dR(),action:ZR({type:dj("exec"),command:YR(dR()),timeout_ms:PR().optional(),user:dR().optional(),working_directory:dR().optional(),env:sj(dR(),dR()).optional()})}),ZR({type:dj("function_call"),call_id:dR(),name:dR(),arguments:dR(),id:dR()}),ZR({type:dj("computer_call"),id:dR(),status:dR().optional()}),ZR({type:dj("reasoning"),id:dR(),encrypted_content:dR().nullish(),summary:YR(ZR({type:dj("summary_text"),text:dR()}))})])),service_tier:dR().nullish(),incomplete_details:ZR({reason:dR()}).nullish(),usage:ZR({input_tokens:PR(),input_tokens_details:ZR({cached_tokens:PR().nullish()}).nullish(),output_tokens:PR(),output_tokens_details:ZR({reasoning_tokens:PR().nullish()}).nullish()})})))),wW=SN((()=>CO(ZR({include:YR(cj(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:dR().nullish(),logprobs:ej([LR(),PR().min(1).max(20)]).optional(),maxToolCalls:PR().nullish(),metadata:qR().nullish(),parallelToolCalls:LR().nullish(),previousResponseId:dR().nullish(),promptCacheKey:dR().nullish(),reasoningEffort:dR().nullish(),reasoningSummary:dR().nullish(),safetyIdentifier:dR().nullish(),serviceTier:cj(["auto","flex","priority","default"]).nullish(),store:LR().nullish(),strictJsonSchema:LR().nullish(),textVerbosity:cj(["low","medium","high"]).nullish(),user:dR().nullish()}))));var _W=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{maxOutputTokens:t,temperature:n,stopSequences:a,topP:r,topK:i,presencePenalty:o,frequencyPenalty:s,seed:l,prompt:c,providerOptions:d,tools:h,toolChoice:p,responseFormat:f}=e;var m,g,y,b;const v=[],w=function(e){const t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),n=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),a={requiredAutoTruncation:!1,systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:n};if(e.startsWith("gpt-5-chat"))return u(u({},a),{},{isReasoningModel:!1});if(e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use"))return e.startsWith("o1-mini")||e.startsWith("o1-preview")?u(u({},a),{},{isReasoningModel:!0,systemMessageMode:"remove"}):u(u({},a),{},{isReasoningModel:!0,systemMessageMode:"developer"});return u(u({},a),{},{isReasoningModel:!1})}(this.modelId);null!=i&&v.push({type:"unsupported-setting",setting:"topK"}),null!=l&&v.push({type:"unsupported-setting",setting:"seed"}),null!=o&&v.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=s&&v.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=a&&v.push({type:"unsupported-setting",setting:"stopSequences"});const _=await NN({provider:"openai",providerOptions:d,schema:wW}),{input:x,warnings:k}=await async function(e){let{prompt:t,systemMessageMode:n,fileIdPrefixes:a,store:r,hasLocalShellTool:i=!1}=e;var o,s,l,c;const d=[],h=[];for(const{role:p,content:f}of t)switch(p){case"system":switch(n){case"system":d.push({role:"system",content:f});break;case"developer":d.push({role:"developer",content:f});break;case"remove":h.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":d.push({role:"user",content:f.map(((e,t)=>{var n,r,i;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return u(u({type:"input_image"},e.data instanceof URL?{image_url:e.data.toString()}:"string"===typeof e.data&&mW(e.data,a)?{file_id:e.data}:{image_url:"data:".concat(t,";base64,").concat(OO(e.data))}),{},{detail:null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.imageDetail})}if("application/pdf"===e.mediaType)return e.data instanceof URL?{type:"input_file",file_url:e.data.toString()}:u({type:"input_file"},"string"===typeof e.data&&mW(e.data,a)?{file_id:e.data}:{filename:null!=(i=e.filename)?i:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(OO(e.data))});throw new CI({functionality:"file part media type ".concat(e.mediaType)})}}))});break;case"assistant":{const e={},t={};for(const n of f)switch(n.type){case"text":{const e=null==(s=null==(o=n.providerOptions)?void 0:o.openai)?void 0:s.itemId;if(r&&null!=e){d.push({type:"item_reference",id:e});break}d.push({role:"assistant",content:[{type:"output_text",text:n.text}],id:e});break}case"tool-call":{if(t[n.toolCallId]=n,n.providerExecuted)break;const e=null==(c=null==(l=n.providerOptions)?void 0:l.openai)?void 0:c.itemId;if(r&&null!=e){d.push({type:"item_reference",id:e});break}if(i&&"local_shell"===n.toolName){const t=await FN({value:n.input,schema:lW});d.push({type:"local_shell_call",call_id:n.toolCallId,id:e,action:{type:"exec",command:t.action.command,timeout_ms:t.action.timeoutMs,user:t.action.user,working_directory:t.action.workingDirectory,env:t.action.env}});break}d.push({type:"function_call",call_id:n.toolCallId,name:n.toolName,arguments:JSON.stringify(n.input),id:e});break}case"tool-result":r?d.push({type:"item_reference",id:n.toolCallId}):h.push({type:"other",message:"Results for OpenAI tool ".concat(n.toolName," are not sent to the API when store is false")});break;case"reasoning":{const t=await NN({provider:"openai",providerOptions:n.providerOptions,schema:gW}),a=null==t?void 0:t.itemId;if(null!=a){const i=e[a];if(r)void 0===i&&(d.push({type:"item_reference",id:a}),e[a]={type:"reasoning",id:a,summary:[]});else{const r=[];n.text.length>0?r.push({type:"summary_text",text:n.text}):void 0!==i&&h.push({type:"other",message:"Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ".concat(JSON.stringify(n),".")}),void 0===i?(e[a]={type:"reasoning",id:a,encrypted_content:null==t?void 0:t.reasoningEncryptedContent,summary:r},d.push(e[a])):(i.summary.push(...r),null!=(null==t?void 0:t.reasoningEncryptedContent)&&(i.encrypted_content=t.reasoningEncryptedContent))}}else h.push({type:"other",message:"Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ".concat(JSON.stringify(n),".")});break}}break}case"tool":for(const e of f){const t=e.output;if(i&&"local_shell"===e.toolName&&"json"===t.type){const n=await FN({value:t.value,schema:cW});d.push({type:"local_shell_call_output",call_id:e.toolCallId,output:n.output});break}let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"json":case"error-json":n=JSON.stringify(t.value);break;case"content":n=t.value.map((e=>{switch(e.type){case"text":return{type:"input_text",text:e.text};case"media":return e.mediaType.startsWith("image/")?{type:"input_image",image_url:"data:".concat(e.mediaType,";base64,").concat(e.data)}:{type:"input_file",filename:"data",file_data:"data:".concat(e.mediaType,";base64,").concat(e.data)}}}))}d.push({type:"function_call_output",call_id:e.toolCallId,output:n})}break;default:throw new Error("Unsupported role: ".concat(p))}return{input:d,warnings:h}}({prompt:c,systemMessageMode:w.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(m=null==_?void 0:_.store)||m,hasLocalShellTool:C("openai.local_shell")});v.push(...k);const T=null!=(g=null==_?void 0:_.strictJsonSchema)&&g;let D=null==_?void 0:_.include;function A(e){null==D?D=[e]:D.includes(e)||(D=[...D,e])}function C(e){return null!=(null==h?void 0:h.find((t=>"provider-defined"===t.type&&t.id===e)))}const S="number"===typeof(null==_?void 0:_.logprobs)?null==_?void 0:_.logprobs:!0===(null==_?void 0:_.logprobs)?20:void 0;S&&A("message.output_text.logprobs");const E=null==(y=null==h?void 0:h.find((e=>"provider-defined"===e.type&&("openai.web_search"===e.id||"openai.web_search_preview"===e.id))))?void 0:y.name;E&&A("web_search_call.action.sources"),C("openai.code_interpreter")&&A("code_interpreter_call.outputs");const F=null==_?void 0:_.store;!1===F&&w.isReasoningModel&&A("reasoning.encrypted_content");const M=u(u(u({model:this.modelId,input:x,temperature:n,top_p:r,max_output_tokens:t},("json"===(null==f?void 0:f.type)||(null==_?void 0:_.textVerbosity))&&{text:u(u({},"json"===(null==f?void 0:f.type)&&{format:null!=f.schema?{type:"json_schema",strict:T,name:null!=(b=f.name)?b:"response",description:f.description,schema:f.schema}:{type:"json_object"}}),(null==_?void 0:_.textVerbosity)&&{verbosity:_.textVerbosity})}),{},{max_tool_calls:null==_?void 0:_.maxToolCalls,metadata:null==_?void 0:_.metadata,parallel_tool_calls:null==_?void 0:_.parallelToolCalls,previous_response_id:null==_?void 0:_.previousResponseId,store:F,user:null==_?void 0:_.user,instructions:null==_?void 0:_.instructions,service_tier:null==_?void 0:_.serviceTier,include:D,prompt_cache_key:null==_?void 0:_.promptCacheKey,safety_identifier:null==_?void 0:_.safetyIdentifier,top_logprobs:S},w.isReasoningModel&&(null!=(null==_?void 0:_.reasoningEffort)||null!=(null==_?void 0:_.reasoningSummary))&&{reasoning:u(u({},null!=(null==_?void 0:_.reasoningEffort)&&{effort:_.reasoningEffort}),null!=(null==_?void 0:_.reasoningSummary)&&{summary:_.reasoningSummary})}),w.requiredAutoTruncation&&{truncation:"auto"});w.isReasoningModel?(null!=M.temperature&&(M.temperature=void 0,v.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=M.top_p&&(M.top_p=void 0,v.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(null!=(null==_?void 0:_.reasoningEffort)&&v.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),null!=(null==_?void 0:_.reasoningSummary)&&v.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),"flex"!==(null==_?void 0:_.serviceTier)||w.supportsFlexProcessing||(v.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete M.service_tier),"priority"!==(null==_?void 0:_.serviceTier)||w.supportsPriorityProcessing||(v.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete M.service_tier);const{tools:I,toolChoice:z,toolWarnings:P}=await async function(e){let{tools:t,toolChoice:n,strictJsonSchema:a}=e;t=(null==t?void 0:t.length)?t:void 0;const r=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:r};const i=[];for(const s of t)switch(s.type){case"function":i.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:a});break;case"provider-defined":switch(s.id){case"openai.file_search":{const e=await FN({value:s.args,schema:aW});i.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":i.push({type:"local_shell"});break;case"openai.web_search_preview":{const e=await FN({value:s.args,schema:pW});i.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{const e=await FN({value:s.args,schema:dW});i.push({type:"web_search",filters:null!=e.filters?{allowed_domains:e.filters.allowedDomains}:void 0,search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{const e=await FN({value:s.args,schema:QH});i.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"===typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{const e=await FN({value:s.args,schema:oW});i.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,size:e.size,quality:e.quality,moderation:e.moderation,output_format:e.outputFormat,output_compression:e.outputCompression});break}}break;default:r.push({type:"unsupported-tool",tool:s})}if(null==n)return{tools:i,toolChoice:void 0,toolWarnings:r};const o=n.type;switch(o){case"auto":case"none":case"required":return{tools:i,toolChoice:o,toolWarnings:r};case"tool":return{tools:i,toolChoice:"code_interpreter"===n.toolName||"file_search"===n.toolName||"image_generation"===n.toolName||"web_search_preview"===n.toolName||"web_search"===n.toolName?{type:n.toolName}:{type:"function",name:n.toolName},toolWarnings:r};default:throw new CI({functionality:"tool choice type: ".concat(o)})}}({tools:h,toolChoice:p,strictJsonSchema:T});return{webSearchToolName:E,args:u(u({},M),{},{tools:I,tool_choice:z}),warnings:[...v,...P],store:F}}async doGenerate(e){var t,n,a,r,i,o,s,l,c,u,d,h,p,f,m,g,y,b,v;const{args:w,warnings:_,webSearchToolName:x}=await this.getArgs(e),k=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:T,value:D,rawValue:A}=await BN({url:k,headers:oN(this.config.headers(),e.headers),body:w,failedResponseHandler:SH,successfulResponseHandler:GN(vW),abortSignal:e.abortSignal,fetch:this.config.fetch});if(D.error)throw new TM({message:D.error.message,url:k,requestBodyValues:w,statusCode:400,responseHeaders:T,responseBody:A,isRetryable:!1});const C=[],S=[];let E=!1;for(const M of D.output)switch(M.type){case"reasoning":0===M.summary.length&&M.summary.push({type:"summary_text",text:""});for(const e of M.summary)C.push({type:"reasoning",text:e.text,providerMetadata:{openai:{itemId:M.id,reasoningEncryptedContent:null!=(t=M.encrypted_content)?t:null}}});break;case"image_generation_call":C.push({type:"tool-call",toolCallId:M.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),C.push({type:"tool-result",toolCallId:M.id,toolName:"image_generation",result:{result:M.result},providerExecuted:!0});break;case"local_shell_call":C.push({type:"tool-call",toolCallId:M.call_id,toolName:"local_shell",input:JSON.stringify({action:M.action}),providerMetadata:{openai:{itemId:M.id}}});break;case"message":for(const t of M.content){(null==(a=null==(n=e.providerOptions)?void 0:n.openai)?void 0:a.logprobs)&&t.logprobs&&S.push(t.logprobs),C.push({type:"text",text:t.text,providerMetadata:{openai:{itemId:M.id}}});for(const e of t.annotations)"url_citation"===e.type?C.push({type:"source",sourceType:"url",id:null!=(o=null==(i=(r=this.config).generateId)?void 0:i.call(r))?o:uN(),url:e.url,title:e.title}):"file_citation"===e.type&&C.push({type:"source",sourceType:"document",id:null!=(c=null==(l=(s=this.config).generateId)?void 0:l.call(s))?c:uN(),mediaType:"text/plain",title:null!=(d=null!=(u=e.quote)?u:e.filename)?d:"Document",filename:null!=(h=e.filename)?h:e.file_id})}break;case"function_call":E=!0,C.push({type:"tool-call",toolCallId:M.call_id,toolName:M.name,input:M.arguments,providerMetadata:{openai:{itemId:M.id}}});break;case"web_search_call":C.push({type:"tool-call",toolCallId:M.id,toolName:null!=x?x:"web_search",input:JSON.stringify({}),providerExecuted:!0}),C.push({type:"tool-result",toolCallId:M.id,toolName:null!=x?x:"web_search",result:kW(M.action),providerExecuted:!0});break;case"computer_call":C.push({type:"tool-call",toolCallId:M.id,toolName:"computer_use",input:"",providerExecuted:!0}),C.push({type:"tool-result",toolCallId:M.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:M.status||"completed"},providerExecuted:!0});break;case"file_search_call":C.push({type:"tool-call",toolCallId:M.id,toolName:"file_search",input:"{}",providerExecuted:!0}),C.push({type:"tool-result",toolCallId:M.id,toolName:"file_search",result:{queries:M.queries,results:null!=(f=null==(p=M.results)?void 0:p.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?f:null},providerExecuted:!0});break;case"code_interpreter_call":C.push({type:"tool-call",toolCallId:M.id,toolName:"code_interpreter",input:JSON.stringify({code:M.code,containerId:M.container_id}),providerExecuted:!0}),C.push({type:"tool-result",toolCallId:M.id,toolName:"code_interpreter",result:{outputs:M.outputs},providerExecuted:!0})}const F={openai:{responseId:D.id}};return S.length>0&&(F.openai.logprobs=S),"string"===typeof D.service_tier&&(F.openai.serviceTier=D.service_tier),{content:C,finishReason:yW({finishReason:null==(m=D.incomplete_details)?void 0:m.reason,hasFunctionCall:E}),usage:{inputTokens:D.usage.input_tokens,outputTokens:D.usage.output_tokens,totalTokens:D.usage.input_tokens+D.usage.output_tokens,reasoningTokens:null!=(y=null==(g=D.usage.output_tokens_details)?void 0:g.reasoning_tokens)?y:void 0,cachedInputTokens:null!=(v=null==(b=D.usage.input_tokens_details)?void 0:b.cached_tokens)?v:void 0},request:{body:w},response:{id:D.id,timestamp:new Date(1e3*D.created_at),modelId:D.model,headers:T,body:A},providerMetadata:F,warnings:_}}async doStream(e){const{args:t,warnings:n,webSearchToolName:a,store:r}=await this.getArgs(e),{responseHeaders:i,value:o}=await BN({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:u(u({},t),{},{stream:!0}),failedResponseHandler:SH,successfulResponseHandler:UN(bW),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=this;let l="unknown";const c={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=[];let h=null;const p={};let f=!1;const m={};let g;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var i,o,u,y,b,v,w,_,x,k,T,D,A,C,S,E,F,M,I,z,P,N;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return l="error",void n.enqueue({type:"error",error:t.error});const O=t.value;if(xW(O))"function_call"===O.item.type?(p[O.output_index]={toolName:O.item.name,toolCallId:O.item.call_id},n.enqueue({type:"tool-input-start",id:O.item.call_id,toolName:O.item.name})):"web_search_call"===O.item.type?(p[O.output_index]={toolName:null!=a?a:"web_search",toolCallId:O.item.id},n.enqueue({type:"tool-input-start",id:O.item.id,toolName:null!=a?a:"web_search",providerExecuted:!0}),n.enqueue({type:"tool-input-end",id:O.item.id}),n.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"web_search",input:JSON.stringify({}),providerExecuted:!0})):"computer_call"===O.item.type?(p[O.output_index]={toolName:"computer_use",toolCallId:O.item.id},n.enqueue({type:"tool-input-start",id:O.item.id,toolName:"computer_use",providerExecuted:!0})):"code_interpreter_call"===O.item.type?(p[O.output_index]={toolName:"code_interpreter",toolCallId:O.item.id,codeInterpreter:{containerId:O.item.container_id}},n.enqueue({type:"tool-input-start",id:O.item.id,toolName:"code_interpreter",providerExecuted:!0}),n.enqueue({type:"tool-input-delta",id:O.item.id,delta:'{"containerId":"'.concat(O.item.container_id,'","code":"')})):"file_search_call"===O.item.type?n.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===O.item.type?n.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===O.item.type?n.enqueue({type:"text-start",id:O.item.id,providerMetadata:{openai:{itemId:O.item.id}}}):xW(O)&&"reasoning"===O.item.type&&(m[O.item.id]={encryptedContent:O.item.encrypted_content,summaryParts:{0:"active"}},n.enqueue({type:"reasoning-start",id:"".concat(O.item.id,":0"),providerMetadata:{openai:{itemId:O.item.id,reasoningEncryptedContent:null!=(i=O.item.encrypted_content)?i:null}}}));else if(function(e){return"response.output_item.done"===e.type}(O)){if("function_call"===O.item.type)p[O.output_index]=void 0,f=!0,n.enqueue({type:"tool-input-end",id:O.item.call_id}),n.enqueue({type:"tool-call",toolCallId:O.item.call_id,toolName:O.item.name,input:O.item.arguments,providerMetadata:{openai:{itemId:O.item.id}}});else if("web_search_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"web_search",result:kW(O.item.action),providerExecuted:!0});else if("computer_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-input-end",id:O.item.id}),n.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:O.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"file_search",result:{queries:O.item.queries,results:null!=(u=null==(o=O.item.results)?void 0:o.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?u:null},providerExecuted:!0});else if("code_interpreter_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"code_interpreter",result:{outputs:O.item.outputs},providerExecuted:!0});else if("image_generation_call"===O.item.type)n.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"image_generation",result:{result:O.item.result},providerExecuted:!0});else if("local_shell_call"===O.item.type)p[O.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:O.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:O.item.action.command,timeoutMs:O.item.action.timeout_ms,user:O.item.action.user,workingDirectory:O.item.action.working_directory,env:O.item.action.env}}),providerMetadata:{openai:{itemId:O.item.id}}});else if("message"===O.item.type)n.enqueue({type:"text-end",id:O.item.id});else if("reasoning"===O.item.type){const e=m[O.item.id],t=Object.entries(e.summaryParts).filter((e=>{let[t,n]=e;return"active"===n||"can-conclude"===n})).map((e=>{let[t]=e;return t}));for(const a of t)n.enqueue({type:"reasoning-end",id:"".concat(O.item.id,":").concat(a),providerMetadata:{openai:{itemId:O.item.id,reasoningEncryptedContent:null!=(y=O.item.encrypted_content)?y:null}}});delete m[O.item.id]}}else if(function(e){return"response.function_call_arguments.delta"===e.type}(O)){const e=p[O.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:O.delta})}else if(function(e){return"response.code_interpreter_call_code.delta"===e.type}(O)){const e=p[O.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:JSON.stringify(O.delta).slice(1,-1)})}else if(function(e){return"response.code_interpreter_call_code.done"===e.type}(O)){const e=p[O.output_index];null!=e&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:O.code,containerId:e.codeInterpreter.containerId}),providerExecuted:!0}))}else if(function(e){return"response.created"===e.type}(O))h=O.response.id,n.enqueue({type:"response-metadata",id:O.response.id,timestamp:new Date(1e3*O.response.created_at),modelId:O.response.model});else if(function(e){return"response.output_text.delta"===e.type}(O))n.enqueue({type:"text-delta",id:O.item_id,delta:O.delta}),(null==(v=null==(b=e.providerOptions)?void 0:b.openai)?void 0:v.logprobs)&&O.logprobs&&d.push(O.logprobs);else if("response.reasoning_summary_part.added"===O.type){if(O.summary_index>0){const e=m[O.item_id];e.summaryParts[O.summary_index]="active";for(const t of Object.keys(e.summaryParts))"can-conclude"===e.summaryParts[t]&&(n.enqueue({type:"reasoning-end",id:"".concat(O.item_id,":").concat(t),providerMetadata:{openai:{itemId:O.item_id}}}),e.summaryParts[t]="concluded");n.enqueue({type:"reasoning-start",id:"".concat(O.item_id,":").concat(O.summary_index),providerMetadata:{openai:{itemId:O.item_id,reasoningEncryptedContent:null!=(_=null==(w=m[O.item_id])?void 0:w.encryptedContent)?_:null}}})}}else"response.reasoning_summary_text.delta"===O.type?n.enqueue({type:"reasoning-delta",id:"".concat(O.item_id,":").concat(O.summary_index),delta:O.delta,providerMetadata:{openai:{itemId:O.item_id}}}):"response.reasoning_summary_part.done"===O.type?r?(n.enqueue({type:"reasoning-end",id:"".concat(O.item_id,":").concat(O.summary_index),providerMetadata:{openai:{itemId:O.item_id}}}),m[O.item_id].summaryParts[O.summary_index]="concluded"):m[O.item_id].summaryParts[O.summary_index]="can-conclude":!function(e){return"response.completed"===e.type||"response.incomplete"===e.type}(O)?!function(e){return"response.output_text.annotation.added"===e.type}(O)?function(e){return"error"===e.type}(O)&&n.enqueue({type:"error",error:O}):"url_citation"===O.annotation.type?n.enqueue({type:"source",sourceType:"url",id:null!=(E=null==(S=(C=s.config).generateId)?void 0:S.call(C))?E:uN(),url:O.annotation.url,title:O.annotation.title}):"file_citation"===O.annotation.type&&n.enqueue({type:"source",sourceType:"document",id:null!=(I=null==(M=(F=s.config).generateId)?void 0:M.call(F))?I:uN(),mediaType:"text/plain",title:null!=(P=null!=(z=O.annotation.quote)?z:O.annotation.filename)?P:"Document",filename:null!=(N=O.annotation.filename)?N:O.annotation.file_id}):(l=yW({finishReason:null==(x=O.response.incomplete_details)?void 0:x.reason,hasFunctionCall:f}),c.inputTokens=O.response.usage.input_tokens,c.outputTokens=O.response.usage.output_tokens,c.totalTokens=O.response.usage.input_tokens+O.response.usage.output_tokens,c.reasoningTokens=null!=(T=null==(k=O.response.usage.output_tokens_details)?void 0:k.reasoning_tokens)?T:void 0,c.cachedInputTokens=null!=(A=null==(D=O.response.usage.input_tokens_details)?void 0:D.cached_tokens)?A:void 0,"string"===typeof O.response.service_tier&&(g=O.response.service_tier))},flush(e){const t={openai:{responseId:h}};d.length>0&&(t.openai.logprobs=d),void 0!==g&&(t.openai.serviceTier=g),e.enqueue({type:"finish",finishReason:l,usage:c,providerMetadata:t})}})),request:{body:t},response:{headers:i}}}};function xW(e){return"response.output_item.added"===e.type}function kW(e){var t;switch(e.type){case"search":return{action:{type:"search",query:null!=(t=e.query)?t:void 0}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find":return{action:{type:"find",url:e.url,pattern:e.pattern}}}}var TW=SN((()=>CO(ZR({instructions:dR().nullish(),speed:PR().min(.25).max(4).default(1).nullish()})))),DW=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{text:t,voice:n="alloy",outputFormat:a="mp3",speed:r,instructions:i,language:o,providerOptions:s}=e;const l=[],c=await NN({provider:"openai",providerOptions:s,schema:TW}),u={model:this.modelId,input:t,voice:n,response_format:"mp3",speed:r,instructions:i};if(a&&(["mp3","opus","aac","flac","wav","pcm"].includes(a)?u.response_format=a:l.push({type:"unsupported-setting",setting:"outputFormat",details:"Unsupported output format: ".concat(a,". Using mp3 instead.")})),c){const e={};for(const t in e){const n=e[t];void 0!==n&&(u[t]=n)}}return o&&l.push({type:"unsupported-setting",setting:"language",details:'OpenAI speech models do not support language selection. Language parameter "'.concat(o,'" was ignored.')}),{requestBody:u,warnings:l}}async doGenerate(e){var t,n,a;const r=null!=(a=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?a:new Date,{requestBody:i,warnings:o}=await this.getArgs(e),{value:s,responseHeaders:l,rawValue:c}=await BN({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),body:i,failedResponseHandler:SH,successfulResponseHandler:async e=>{let{response:t,url:n,requestBodyValues:a}=e;const r=lN(t);if(!t.body)throw new TM({message:"Response body is empty",url:n,requestBodyValues:a,statusCode:t.status,responseHeaders:r,responseBody:void 0});try{const e=await t.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(e)}}catch(i){throw new TM({message:"Failed to read response as array buffer",url:n,requestBodyValues:a,statusCode:t.status,responseHeaders:r,responseBody:void 0,cause:i})}},abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:o,request:{body:JSON.stringify(i)},response:{timestamp:r,modelId:this.modelId,headers:l,body:c}}}},AW=SN((()=>CO(ZR({text:dR(),language:dR().nullish(),duration:PR().nullish(),words:YR(ZR({word:dR(),start:PR(),end:PR()})).nullish(),segments:YR(ZR({id:PR(),seek:PR(),start:PR(),end:PR(),text:dR(),tokens:YR(PR()),temperature:PR(),avg_logprob:PR(),compression_ratio:PR(),no_speech_prob:PR()})).nullish()})))),CW=SN((()=>CO(ZR({include:YR(dR()).optional(),language:dR().optional(),prompt:dR().optional(),temperature:PR().min(0).max(1).default(0).optional(),timestampGranularities:YR(cj(["word","segment"])).default(["segment"]).optional()})))),SW={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},EW=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{audio:t,mediaType:n,providerOptions:a}=e;const r=await NN({provider:"openai",providerOptions:a,schema:CW}),i=new FormData,o=t instanceof Uint8Array?new Blob([t]):new Blob([PO(t)]);i.append("model",this.modelId);const s=function(e){var t;const[n,a=""]=e.toLowerCase().split("/");return null!=(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[a])?t:a}(n);if(i.append("file",new File([o],"audio",{type:n}),"audio.".concat(s)),r){const e={include:r.include,language:r.language,prompt:r.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:r.temperature,timestamp_granularities:r.timestampGranularities};for(const[t,n]of Object.entries(e))if(null!=n)if(Array.isArray(n))for(const e of n)i.append("".concat(t,"[]"),String(e));else i.append(t,String(n))}return{formData:i,warnings:[]}}async doGenerate(e){var t,n,a,r,i,o,s,l;const c=null!=(a=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?a:new Date,{formData:u,warnings:d}=await this.getArgs(e),{value:h,responseHeaders:p,rawValue:f}=await(async e=>{let{url:t,headers:n,formData:a,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}=e;return LN({url:t,headers:n,body:{content:a,values:Object.fromEntries(a.entries())},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})})({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:oN(this.config.headers(),e.headers),formData:u,failedResponseHandler:SH,successfulResponseHandler:GN(AW),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=null!=h.language&&h.language in SW?SW[h.language]:void 0;return{text:h.text,segments:null!=(s=null!=(o=null==(r=h.segments)?void 0:r.map((e=>({text:e.text,startSecond:e.start,endSecond:e.end}))))?o:null==(i=h.words)?void 0:i.map((e=>({text:e.word,startSecond:e.start,endSecond:e.end}))))?s:[],language:m,durationInSeconds:null!=(l=h.duration)?l:void 0,warnings:d,response:{timestamp:c,modelId:this.modelId,headers:p,body:f}}}};function FW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const a=null!=(t=BO(xN({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))?t:"https://api.openai.com/v1",r=null!=(n=e.name)?n:"openai",i=()=>gN(u({Authorization:"Bearer ".concat(_N({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})),"OpenAI-Organization":e.organization,"OpenAI-Project":e.project},e.headers),"ai-sdk/openai/".concat("2.0.52")),o=t=>new WH(t,{provider:"".concat(r,".embedding"),url:e=>{let{path:t}=e;return"".concat(a).concat(t)},headers:i,fetch:e.fetch}),s=t=>new ZH(t,{provider:"".concat(r,".image"),url:e=>{let{path:t}=e;return"".concat(a).concat(t)},headers:i,fetch:e.fetch}),l=t=>new EW(t,{provider:"".concat(r,".transcription"),url:e=>{let{path:t}=e;return"".concat(a).concat(t)},headers:i,fetch:e.fetch}),c=t=>new DW(t,{provider:"".concat(r,".speech"),url:e=>{let{path:t}=e;return"".concat(a).concat(t)},headers:i,fetch:e.fetch}),d=e=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return h(e)},h=t=>new _W(t,{provider:"".concat(r,".responses"),url:e=>{let{path:t}=e;return"".concat(a).concat(t)},headers:i,fetch:e.fetch,fileIdPrefixes:["file-"]}),p=function(e){return d(e)};return p.languageModel=d,p.chat=t=>new PH(t,{provider:"".concat(r,".chat"),url:e=>{let{path:t}=e;return"".concat(a).concat(t)},headers:i,fetch:e.fetch}),p.completion=t=>new UH(t,{provider:"".concat(r,".completion"),url:e=>{let{path:t}=e;return"".concat(a).concat(t)},headers:i,fetch:e.fetch}),p.responses=h,p.embedding=o,p.textEmbedding=o,p.textEmbeddingModel=o,p.image=s,p.imageModel=s,p.transcription=l,p.transcriptionModel=l,p.speech=c,p.speechModel=c,p.tools=fW,p}FW();ZR({user:dR().optional(),reasoningEffort:dR().optional(),textVerbosity:dR().optional()});var MW={errorSchema:ZR({error:ZR({message:dR(),type:dR().nullish(),param:qR().nullish(),code:ej([dR(),PR()]).nullish()})}),errorToMessage:e=>e.error.message};var IW=ZR({prompt_tokens:PR().nullish(),completion_tokens:PR().nullish(),total_tokens:PR().nullish(),prompt_tokens_details:ZR({cached_tokens:PR().nullish()}).nullish(),completion_tokens_details:ZR({reasoning_tokens:PR().nullish(),accepted_prediction_tokens:PR().nullish(),rejected_prediction_tokens:PR().nullish()}).nullish()}).nullish();ZR({id:dR().nullish(),created:PR().nullish(),model:dR().nullish(),choices:YR(ZR({message:ZR({role:dj("assistant").nullish(),content:dR().nullish(),reasoning_content:dR().nullish(),reasoning:dR().nullish(),tool_calls:YR(ZR({id:dR().nullish(),function:ZR({name:dR(),arguments:dR()})})).nullish()}),finish_reason:dR().nullish()})),usage:IW});ZR({echo:LR().optional(),logitBias:sj(dR(),PR()).optional(),suffix:dR().optional(),user:dR().optional()});var zW=ZR({prompt_tokens:PR(),completion_tokens:PR(),total_tokens:PR()}),PW=(ZR({id:dR().nullish(),created:PR().nullish(),model:dR().nullish(),choices:YR(ZR({text:dR(),finish_reason:dR()})),usage:zW.nullish()}),ZR({dimensions:PR().optional(),user:dR().optional()}),ZR({data:YR(ZR({embedding:YR(PR())})),usage:ZR({prompt_tokens:PR()}).nullish(),providerMetadata:sj(dR(),sj(dR(),qR())).optional()}),class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxImagesPerCall=10}get provider(){return this.config.provider}async doGenerate(e){let{prompt:t,n:n,size:a,aspectRatio:r,seed:i,providerOptions:o,headers:s,abortSignal:l}=e;var c,d,h,p,f;const m=[];null!=r&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=i&&m.push({type:"unsupported-setting",setting:"seed"});const g=null!=(h=null==(d=null==(c=this.config._internal)?void 0:c.currentDate)?void 0:d.call(c))?h:new Date,{value:y,responseHeaders:b}=await BN({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:oN(this.config.headers(),s),body:u(u({model:this.modelId,prompt:t,n:n,size:a},null!=(p=o.openai)?p:{}),{},{response_format:"b64_json"}),failedResponseHandler:qN(null!=(f=this.config.errorStructure)?f:MW),successfulResponseHandler:GN(NW),abortSignal:l,fetch:this.config.fetch});return{images:y.data.map((e=>e.b64_json)),warnings:m,response:{timestamp:g,modelId:this.modelId,headers:b}}}}),NW=ZR({data:YR(ZR({b64_json:dR()}))});function OW(e){let{id:t,model:n,created:a}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=a?new Date(1e3*a):void 0}}function BW(e){switch(e){case"stop":return"stop";case"length":return"length";case"tool_calls":case"function_call":return"tool-calls";case"content_filter":return"content-filter";default:return"unknown"}}var LW=nj("type",[ZR({type:dj("web"),country:dR().length(2).optional(),excludedWebsites:YR(dR()).max(5).optional(),allowedWebsites:YR(dR()).max(5).optional(),safeSearch:LR().optional()}),ZR({type:dj("x"),excludedXHandles:YR(dR()).optional(),includedXHandles:YR(dR()).optional(),postFavoriteCount:PR().int().optional(),postViewCount:PR().int().optional(),xHandles:YR(dR()).optional()}),ZR({type:dj("news"),country:dR().length(2).optional(),excludedWebsites:YR(dR()).max(5).optional(),safeSearch:LR().optional()}),ZR({type:dj("rss"),links:YR(dR().url()).max(1)})]),RW=ZR({reasoningEffort:cj(["low","high"]).optional(),searchParameters:ZR({mode:cj(["off","auto","on"]),returnCitations:LR().optional(),fromDate:dR().optional(),toDate:dR().optional(),maxSearchResults:PR().min(1).max(50).optional(),sources:YR(LW).optional()}).optional()}),jW=ZR({error:ZR({message:dR(),type:dR().nullish(),param:qR().nullish(),code:ej([dR(),PR()]).nullish()})}),VW=qN({errorSchema:jW,errorToMessage:e=>e.error.message});var qW=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:a,topP:r,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,seed:c,responseFormat:d,providerOptions:h,tools:p,toolChoice:f}=e;var m,g,y;const b=[],v=null!=(m=await NN({provider:"xai",providerOptions:h,schema:RW}))?m:{};null!=i&&b.push({type:"unsupported-setting",setting:"topK"}),null!=o&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=s&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=l&&b.push({type:"unsupported-setting",setting:"stopSequences"}),null!=d&&"json"===d.type&&null!=d.schema&&b.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const{messages:w,warnings:_}=function(e){const t=[];for(const{role:n,content:a}of e)switch(n){case"system":t.push({role:"system",content:a});break;case"user":if(1===a.length&&"text"===a[0].type){t.push({role:"user",content:a[0].text});break}t.push({role:"user",content:a.map((e=>{switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():"data:".concat(t,";base64,").concat(OO(e.data))}}}throw new CI({functionality:"file part media type ".concat(e.mediaType)})}}))});break;case"assistant":{let e="";const n=[];for(const t of a)switch(t.type){case"text":e+=t.text;break;case"tool-call":n.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.input)}})}t.push({role:"assistant",content:e,tool_calls:n.length>0?n:void 0});break}case"tool":for(const e of a){const n=e.output;let a;switch(n.type){case"text":case"error-text":a=n.value;break;case"content":case"json":case"error-json":a=JSON.stringify(n.value)}t.push({role:"tool",tool_call_id:e.toolCallId,content:a})}break;default:throw new Error("Unsupported role: ".concat(n))}return{messages:t,warnings:[]}}(t);b.push(..._);const{tools:x,toolChoice:k,toolWarnings:T}=function(e){let{tools:t,toolChoice:n}=e;t=(null==t?void 0:t.length)?t:void 0;const a=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:a};const r=[];for(const o of t)"provider-defined"===o.type?a.push({type:"unsupported-tool",tool:o}):r.push({type:"function",function:{name:o.name,description:o.description,parameters:o.inputSchema}});if(null==n)return{tools:r,toolChoice:void 0,toolWarnings:a};const i=n.type;switch(i){case"auto":case"none":return{tools:r,toolChoice:i,toolWarnings:a};case"required":return{tools:r,toolChoice:"required",toolWarnings:a};case"tool":return{tools:r,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:a};default:throw new CI({functionality:"tool choice type: ".concat(i)})}}({tools:p,toolChoice:f});b.push(...T);const D={model:this.modelId,max_tokens:n,temperature:a,top_p:r,seed:c,reasoning_effort:v.reasoningEffort,response_format:"json"===(null==d?void 0:d.type)?null!=d.schema?{type:"json_schema",json_schema:{name:null!=(g=d.name)?g:"response",schema:d.schema,strict:!0}}:{type:"json_object"}:void 0,search_parameters:v.searchParameters?{mode:v.searchParameters.mode,return_citations:v.searchParameters.returnCitations,from_date:v.searchParameters.fromDate,to_date:v.searchParameters.toDate,max_search_results:v.searchParameters.maxSearchResults,sources:null==(y=v.searchParameters.sources)?void 0:y.map((e=>{var t;return u(u(u(u({type:e.type},"web"===e.type&&{country:e.country,excluded_websites:e.excludedWebsites,allowed_websites:e.allowedWebsites,safe_search:e.safeSearch}),"x"===e.type&&{excluded_x_handles:e.excludedXHandles,included_x_handles:null!=(t=e.includedXHandles)?t:e.xHandles,post_favorite_count:e.postFavoriteCount,post_view_count:e.postViewCount}),"news"===e.type&&{country:e.country,excluded_websites:e.excludedWebsites,safe_search:e.safeSearch}),"rss"===e.type&&{links:e.links})}))}:void 0,messages:w,tools:x,tool_choice:k};return{args:D,warnings:b}}async doGenerate(e){var t,n,a;const{args:r,warnings:i}=await this.getArgs(e),{responseHeaders:o,value:s,rawValue:l}=await BN({url:"".concat(null!=(t=this.config.baseURL)?t:"https://api.x.ai/v1","/chat/completions"),headers:oN(this.config.headers(),e.headers),body:r,failedResponseHandler:VW,successfulResponseHandler:GN(GW),abortSignal:e.abortSignal,fetch:this.config.fetch}),c=s.choices[0],d=[];if(null!=c.message.content&&c.message.content.length>0){let e=c.message.content;const t=r.messages[r.messages.length-1];"assistant"===(null==t?void 0:t.role)&&e===t.content&&(e=""),e.length>0&&d.push({type:"text",text:e})}if(null!=c.message.reasoning_content&&c.message.reasoning_content.length>0&&d.push({type:"reasoning",text:c.message.reasoning_content}),null!=c.message.tool_calls)for(const u of c.message.tool_calls)d.push({type:"tool-call",toolCallId:u.id,toolName:u.function.name,input:u.function.arguments});if(null!=s.citations)for(const u of s.citations)d.push({type:"source",sourceType:"url",id:this.config.generateId(),url:u});return{content:d,finishReason:BW(c.finish_reason),usage:{inputTokens:s.usage.prompt_tokens,outputTokens:s.usage.completion_tokens,totalTokens:s.usage.total_tokens,reasoningTokens:null!=(a=null==(n=s.usage.completion_tokens_details)?void 0:n.reasoning_tokens)?a:void 0},request:{body:r},response:u(u({},OW(s)),{},{headers:o,body:l}),warnings:i}}async doStream(e){var t;const{args:n,warnings:a}=await this.getArgs(e),r=u(u({},n),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:i,value:o}=await BN({url:"".concat(null!=(t=this.config.baseURL)?t:"https://api.x.ai/v1","/chat/completions"),headers:oN(this.config.headers(),e.headers),body:r,failedResponseHandler:VW,successfulResponseHandler:UN(HW),abortSignal:e.abortSignal,fetch:this.config.fetch});let s="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0;const d={},h={},p=this;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:a})},transform(t,n){var a,i;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return void n.enqueue({type:"error",error:t.error});const o=t.value;if(c&&(n.enqueue(u({type:"response-metadata"},OW(o))),c=!1),null!=o.citations)for(const e of o.citations)n.enqueue({type:"source",sourceType:"url",id:p.config.generateId(),url:e});null!=o.usage&&(l.inputTokens=o.usage.prompt_tokens,l.outputTokens=o.usage.completion_tokens,l.totalTokens=o.usage.total_tokens,l.reasoningTokens=null!=(i=null==(a=o.usage.completion_tokens_details)?void 0:a.reasoning_tokens)?i:void 0);const f=o.choices[0];if(null!=(null==f?void 0:f.finish_reason)&&(s=BW(f.finish_reason)),null==(null==f?void 0:f.delta))return;const m=f.delta,g=f.index;if(null!=m.content&&m.content.length>0){const e=m.content,t=r.messages[r.messages.length-1];if("assistant"===(null==t?void 0:t.role)&&e===t.content)return;const a="text-".concat(o.id||g);null==d[a]&&(d[a]={type:"text"},n.enqueue({type:"text-start",id:a})),n.enqueue({type:"text-delta",id:a,delta:e})}if(null!=m.reasoning_content&&m.reasoning_content.length>0){const e="reasoning-".concat(o.id||g);if(h[e]===m.reasoning_content)return;h[e]=m.reasoning_content,null==d[e]&&(d[e]={type:"reasoning"},n.enqueue({type:"reasoning-start",id:e})),n.enqueue({type:"reasoning-delta",id:e,delta:m.reasoning_content})}if(null!=m.tool_calls)for(const e of m.tool_calls){const t=e.id;n.enqueue({type:"tool-input-start",id:t,toolName:e.function.name}),n.enqueue({type:"tool-input-delta",id:t,delta:e.function.arguments}),n.enqueue({type:"tool-input-end",id:t}),n.enqueue({type:"tool-call",toolCallId:t,toolName:e.function.name,input:e.function.arguments})}},flush(e){for(const[t,n]of Object.entries(d))e.enqueue({type:"text"===n.type?"text-end":"reasoning-end",id:t});e.enqueue({type:"finish",finishReason:s,usage:l})}})),request:{body:r},response:{headers:i}}}},UW=ZR({prompt_tokens:PR(),completion_tokens:PR(),total_tokens:PR(),completion_tokens_details:ZR({reasoning_tokens:PR().nullish()}).nullish()}),GW=ZR({id:dR().nullish(),created:PR().nullish(),model:dR().nullish(),choices:YR(ZR({message:ZR({role:dj("assistant"),content:dR().nullish(),reasoning_content:dR().nullish(),tool_calls:YR(ZR({id:dR(),type:dj("function"),function:ZR({name:dR(),arguments:dR()})})).nullish()}),index:PR(),finish_reason:dR().nullish()})),object:dj("chat.completion"),usage:UW,citations:YR(dR().url()).nullish()}),HW=ZR({id:dR().nullish(),created:PR().nullish(),model:dR().nullish(),choices:YR(ZR({delta:ZR({role:cj(["assistant"]).optional(),content:dR().nullish(),reasoning_content:dR().nullish(),tool_calls:YR(ZR({id:dR(),type:dj("function"),function:ZR({name:dR(),arguments:dR()})})).nullish()}),finish_reason:dR().nullish(),index:PR()})),usage:UW.nullish(),citations:YR(dR().url()).nullish()}),WW={errorSchema:jW,errorToMessage:e=>e.error.message};function KW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=BO(null!=(t=e.baseURL)?t:"https://api.x.ai/v1"),a=()=>gN(u({Authorization:"Bearer ".concat(_N({apiKey:e.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"}))},e.headers),"ai-sdk/xai/".concat("2.0.26")),r=t=>new qW(t,{provider:"xai.chat",baseURL:n,headers:a,generateId:uN,fetch:e.fetch}),i=t=>new PW(t,{provider:"xai.image",url:e=>{let{path:t}=e;return"".concat(n).concat(t)},headers:a,fetch:e.fetch,errorStructure:WW}),o=e=>r(e);return o.languageModel=r,o.chat=r,o.textEmbeddingModel=e=>{throw new hI({modelId:e,modelType:"textEmbeddingModel"})},o.imageModel=i,o.image=i,o}KW();var YW=EO((()=>CO(ZR({type:dj("error"),error:ZR({type:dR(),message:dR()})})))),JW=qN({errorSchema:YW,errorToMessage:e=>e.error.message}),ZW=EO((()=>CO(ZR({type:dj("message"),id:dR().nullish(),model:dR().nullish(),content:YR(nj("type",[ZR({type:dj("text"),text:dR(),citations:YR(nj("type",[ZR({type:dj("web_search_result_location"),cited_text:dR(),url:dR(),title:dR(),encrypted_index:dR()}),ZR({type:dj("page_location"),cited_text:dR(),document_index:PR(),document_title:dR().nullable(),start_page_number:PR(),end_page_number:PR()}),ZR({type:dj("char_location"),cited_text:dR(),document_index:PR(),document_title:dR().nullable(),start_char_index:PR(),end_char_index:PR()})])).optional()}),ZR({type:dj("thinking"),thinking:dR(),signature:dR()}),ZR({type:dj("redacted_thinking"),data:dR()}),ZR({type:dj("tool_use"),id:dR(),name:dR(),input:GR()}),ZR({type:dj("server_tool_use"),id:dR(),name:dR(),input:sj(dR(),GR()).nullish()}),ZR({type:dj("web_fetch_tool_result"),tool_use_id:dR(),content:ej([ZR({type:dj("web_fetch_result"),url:dR(),retrieved_at:dR(),content:ZR({type:dj("document"),title:dR().nullable(),citations:ZR({enabled:LR()}).optional(),source:ZR({type:dj("text"),media_type:dR(),data:dR()})})}),ZR({type:dj("web_fetch_tool_result_error"),error_code:dR()})])}),ZR({type:dj("web_search_tool_result"),tool_use_id:dR(),content:ej([YR(ZR({type:dj("web_search_result"),url:dR(),title:dR(),encrypted_content:dR(),page_age:dR().nullish()})),ZR({type:dj("web_search_tool_result_error"),error_code:dR()})])}),ZR({type:dj("code_execution_tool_result"),tool_use_id:dR(),content:ej([ZR({type:dj("code_execution_result"),stdout:dR(),stderr:dR(),return_code:PR()}),ZR({type:dj("code_execution_tool_result_error"),error_code:dR()})])}),ZR({type:dj("bash_code_execution_tool_result"),tool_use_id:dR(),content:nj("type",[ZR({type:dj("bash_code_execution_result"),content:YR(ZR({type:dj("bash_code_execution_output"),file_id:dR()})),stdout:dR(),stderr:dR(),return_code:PR()}),ZR({type:dj("bash_code_execution_tool_result_error"),error_code:dR()})])}),ZR({type:dj("text_editor_code_execution_tool_result"),tool_use_id:dR(),content:nj("type",[ZR({type:dj("text_editor_code_execution_tool_result_error"),error_code:dR()}),ZR({type:dj("text_editor_code_execution_view_result"),content:dR(),file_type:dR(),num_lines:PR().nullable(),start_line:PR().nullable(),total_lines:PR().nullable()}),ZR({type:dj("text_editor_code_execution_create_result"),is_file_update:LR()}),ZR({type:dj("text_editor_code_execution_str_replace_result"),lines:YR(dR()).nullable(),new_lines:PR().nullable(),new_start:PR().nullable(),old_lines:PR().nullable(),old_start:PR().nullable()})])})])),stop_reason:dR().nullish(),stop_sequence:dR().nullish(),usage:$R({input_tokens:PR(),output_tokens:PR(),cache_creation_input_tokens:PR().nullish(),cache_read_input_tokens:PR().nullish()})})))),XW=EO((()=>CO(nj("type",[ZR({type:dj("message_start"),message:ZR({id:dR().nullish(),model:dR().nullish(),usage:$R({input_tokens:PR(),cache_creation_input_tokens:PR().nullish(),cache_read_input_tokens:PR().nullish()})})}),ZR({type:dj("content_block_start"),index:PR(),content_block:nj("type",[ZR({type:dj("text"),text:dR()}),ZR({type:dj("thinking"),thinking:dR()}),ZR({type:dj("tool_use"),id:dR(),name:dR()}),ZR({type:dj("redacted_thinking"),data:dR()}),ZR({type:dj("server_tool_use"),id:dR(),name:dR(),input:sj(dR(),GR()).nullish()}),ZR({type:dj("web_fetch_tool_result"),tool_use_id:dR(),content:ej([ZR({type:dj("web_fetch_result"),url:dR(),retrieved_at:dR(),content:ZR({type:dj("document"),title:dR().nullable(),citations:ZR({enabled:LR()}).optional(),source:ZR({type:dj("text"),media_type:dR(),data:dR()})})}),ZR({type:dj("web_fetch_tool_result_error"),error_code:dR()})])}),ZR({type:dj("web_search_tool_result"),tool_use_id:dR(),content:ej([YR(ZR({type:dj("web_search_result"),url:dR(),title:dR(),encrypted_content:dR(),page_age:dR().nullish()})),ZR({type:dj("web_search_tool_result_error"),error_code:dR()})])}),ZR({type:dj("code_execution_tool_result"),tool_use_id:dR(),content:ej([ZR({type:dj("code_execution_result"),stdout:dR(),stderr:dR(),return_code:PR()}),ZR({type:dj("code_execution_tool_result_error"),error_code:dR()})])}),ZR({type:dj("bash_code_execution_tool_result"),tool_use_id:dR(),content:nj("type",[ZR({type:dj("bash_code_execution_result"),content:YR(ZR({type:dj("bash_code_execution_output"),file_id:dR()})),stdout:dR(),stderr:dR(),return_code:PR()}),ZR({type:dj("bash_code_execution_tool_result_error"),error_code:dR()})])}),ZR({type:dj("text_editor_code_execution_tool_result"),tool_use_id:dR(),content:nj("type",[ZR({type:dj("text_editor_code_execution_tool_result_error"),error_code:dR()}),ZR({type:dj("text_editor_code_execution_view_result"),content:dR(),file_type:dR(),num_lines:PR().nullable(),start_line:PR().nullable(),total_lines:PR().nullable()}),ZR({type:dj("text_editor_code_execution_create_result"),is_file_update:LR()}),ZR({type:dj("text_editor_code_execution_str_replace_result"),lines:YR(dR()).nullable(),new_lines:PR().nullable(),new_start:PR().nullable(),old_lines:PR().nullable(),old_start:PR().nullable()})])})])}),ZR({type:dj("content_block_delta"),index:PR(),delta:nj("type",[ZR({type:dj("input_json_delta"),partial_json:dR()}),ZR({type:dj("text_delta"),text:dR()}),ZR({type:dj("thinking_delta"),thinking:dR()}),ZR({type:dj("signature_delta"),signature:dR()}),ZR({type:dj("citations_delta"),citation:nj("type",[ZR({type:dj("web_search_result_location"),cited_text:dR(),url:dR(),title:dR(),encrypted_index:dR()}),ZR({type:dj("page_location"),cited_text:dR(),document_index:PR(),document_title:dR().nullable(),start_page_number:PR(),end_page_number:PR()}),ZR({type:dj("char_location"),cited_text:dR(),document_index:PR(),document_title:dR().nullable(),start_char_index:PR(),end_char_index:PR()})])})])}),ZR({type:dj("content_block_stop"),index:PR()}),ZR({type:dj("error"),error:ZR({type:dR(),message:dR()})}),ZR({type:dj("message_delta"),delta:ZR({stop_reason:dR().nullish(),stop_sequence:dR().nullish()}),usage:$R({output_tokens:PR(),cache_creation_input_tokens:PR().nullish()})}),ZR({type:dj("message_stop")}),ZR({type:dj("ping")})])))),$W=EO((()=>CO(ZR({signature:dR().optional(),redactedData:dR().optional()})))),QW=ZR({citations:ZR({enabled:LR()}).optional(),title:dR().optional(),context:dR().optional()}),eK=ZR({sendReasoning:LR().optional(),thinking:ZR({type:ej([dj("enabled"),dj("disabled")]),budgetTokens:PR().optional()}).optional(),disableParallelToolUse:LR().optional(),cacheControl:ZR({type:dj("ephemeral"),ttl:ej([dj("5m"),dj("1h")]).optional()}).optional()});function tK(e){var t;const n=null==e?void 0:e.anthropic;return null!=(t=null==n?void 0:n.cacheControl)?t:null==n?void 0:n.cache_control}var nK=EO((()=>CO(ZR({maxCharacters:PR().optional()})))),aK=RN({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:EO((()=>CO(ZR({command:cj(["view","create","str_replace","insert"]),path:dR(),file_text:dR().optional(),insert_line:PR().int().optional(),new_str:dR().optional(),old_str:dR().optional(),view_range:YR(PR().int()).optional()}))))}),rK=EO((()=>CO(ZR({maxUses:PR().optional(),allowedDomains:YR(dR()).optional(),blockedDomains:YR(dR()).optional(),userLocation:ZR({type:dj("approximate"),city:dR().optional(),region:dR().optional(),country:dR().optional(),timezone:dR().optional()}).optional()})))),iK=EO((()=>CO(YR(ZR({url:dR(),title:dR(),pageAge:dR().nullable(),encryptedContent:dR(),type:dj("web_search_result")}))))),oK=jN({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:EO((()=>CO(ZR({query:dR()})))),outputSchema:iK}),sK=EO((()=>CO(ZR({maxUses:PR().optional(),allowedDomains:YR(dR()).optional(),blockedDomains:YR(dR()).optional(),citations:ZR({enabled:LR()}).optional(),maxContentTokens:PR().optional()})))),lK=EO((()=>CO(ZR({type:dj("web_fetch_result"),url:dR(),content:ZR({type:dj("document"),title:dR(),citations:ZR({enabled:LR()}).optional(),source:ej([ZR({type:dj("base64"),mediaType:dj("application/pdf"),data:dR()}),ZR({type:dj("text"),mediaType:dj("text/plain"),data:dR()})])}),retrievedAt:dR().nullable()})))),cK=jN({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:EO((()=>CO(ZR({url:dR()})))),outputSchema:lK});var uK=EO((()=>CO(ZR({type:dj("code_execution_result"),stdout:dR(),stderr:dR(),return_code:PR()})))),dK=jN({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:EO((()=>CO(ZR({code:dR()})))),outputSchema:uK}),hK=EO((()=>CO(nj("type",[ZR({type:dj("bash_code_execution_result"),content:YR(ZR({type:dj("bash_code_execution_output"),file_id:dR()})),stdout:dR(),stderr:dR(),return_code:PR()}),ZR({type:dj("bash_code_execution_tool_result_error"),error_code:dR()}),ZR({type:dj("text_editor_code_execution_tool_result_error"),error_code:dR()}),ZR({type:dj("text_editor_code_execution_view_result"),content:dR(),file_type:dR(),num_lines:PR().nullable(),start_line:PR().nullable(),total_lines:PR().nullable()}),ZR({type:dj("text_editor_code_execution_create_result"),is_file_update:LR()}),ZR({type:dj("text_editor_code_execution_str_replace_result"),lines:YR(dR()).nullable(),new_lines:PR().nullable(),new_start:PR().nullable(),old_lines:PR().nullable(),old_start:PR().nullable()})])))),pK=jN({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:EO((()=>CO(nj("type",[ZR({type:dj("bash_code_execution"),command:dR()}),nj("command",[ZR({type:dj("text_editor_code_execution"),command:dj("view"),path:dR()}),ZR({type:dj("text_editor_code_execution"),command:dj("create"),path:dR(),file_text:dR().nullish()}),ZR({type:dj("text_editor_code_execution"),command:dj("str_replace"),path:dR(),old_str:dR(),new_str:dR()})])])))),outputSchema:hK});function fK(e){if("string"===typeof e)return Buffer.from(e,"base64").toString("utf-8");if(e instanceof Uint8Array)return(new TextDecoder).decode(e);if(e instanceof URL)throw new CI({functionality:"URL-based text documents are not supported for citations"});throw new CI({functionality:"unsupported data type for text documents: ".concat(typeof e)})}async function mK(e){let{prompt:t,sendReasoning:n,warnings:a}=e;var r,i,o,s,l;const c=new Set,d=function(e){const t=[];let n;for(const a of e){const{role:e}=a;switch(e){case"system":"system"!==(null==n?void 0:n.type)&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(a);break;case"assistant":"assistant"!==(null==n?void 0:n.type)&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(a);break;case"user":case"tool":"user"!==(null==n?void 0:n.type)&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(a);break;default:throw new Error("Unsupported role: ".concat(e))}}return t}(t);let h;const p=[];async function f(e){var t,n;const a=await NN({provider:"anthropic",providerOptions:e,schema:QW});return null!=(n=null==(t=null==a?void 0:a.citations)?void 0:t.enabled)&&n}async function m(e){const t=await NN({provider:"anthropic",providerOptions:e,schema:QW});return{title:null==t?void 0:t.title,context:null==t?void 0:t.context}}for(let g=0;g<d.length;g++){const e=d[g],t=g===d.length-1,y=e.type;switch(y){case"system":if(null!=h)throw new CI({functionality:"Multiple system messages that are separated by user/assistant messages"});h=e.messages.map((e=>{let{content:t,providerOptions:n}=e;return{type:"text",text:t,cache_control:tK(n)}}));break;case"user":{const t=[];for(const n of e.messages){const{role:e,content:a}=n;switch(e){case"user":for(let e=0;e<a.length;e++){const s=a[e],l=e===a.length-1,d=null!=(r=tK(s.providerOptions))?r:l?tK(n.providerOptions):void 0;switch(s.type){case"text":t.push({type:"text",text:s.text,cache_control:d});break;case"file":if(s.mediaType.startsWith("image/"))t.push({type:"image",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"base64",media_type:"image/*"===s.mediaType?"image/jpeg":s.mediaType,data:OO(s.data)},cache_control:d});else if("application/pdf"===s.mediaType){c.add("pdfs-2024-09-25");const e=await f(s.providerOptions),n=await m(s.providerOptions);t.push(u(u(u({type:"document",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"base64",media_type:"application/pdf",data:OO(s.data)},title:null!=(i=n.title)?i:s.filename},n.context&&{context:n.context}),e&&{citations:{enabled:!0}}),{},{cache_control:d}))}else{if("text/plain"!==s.mediaType)throw new CI({functionality:"media type: ".concat(s.mediaType)});{const e=await f(s.providerOptions),n=await m(s.providerOptions);t.push(u(u(u({type:"document",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"text",media_type:"text/plain",data:fK(s.data)},title:null!=(o=n.title)?o:s.filename},n.context&&{context:n.context}),e&&{citations:{enabled:!0}}),{},{cache_control:d}))}}}}break;case"tool":for(let e=0;e<a.length;e++){const r=a[e],i=e===a.length-1,o=null!=(s=tK(r.providerOptions))?s:i?tK(n.providerOptions):void 0,l=r.output;let u;switch(l.type){case"content":u=l.value.map((e=>{switch(e.type){case"text":return{type:"text",text:e.text,cache_control:void 0};case"media":if(e.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:e.mediaType,data:e.data},cache_control:void 0};if("application/pdf"===e.mediaType)return c.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:e.mediaType,data:e.data},cache_control:void 0};throw new CI({functionality:"media type: ".concat(e.mediaType)})}}));break;case"text":case"error-text":u=l.value;break;default:u=JSON.stringify(l.value)}t.push({type:"tool_result",tool_use_id:r.toolCallId,content:u,is_error:"error-text"===l.type||"error-json"===l.type||void 0,cache_control:o})}break;default:throw new Error("Unsupported role: ".concat(e))}}p.push({role:"user",content:t});break}case"assistant":{const r=[];for(let i=0;i<e.messages.length;i++){const o=e.messages[i],s=i===e.messages.length-1,{content:c}=o;for(let e=0;e<c.length;e++){const i=c[e],u=e===c.length-1,d=null!=(l=tK(i.providerOptions))?l:u?tK(o.providerOptions):void 0;switch(i.type){case"text":r.push({type:"text",text:t&&s&&u?i.text.trim():i.text,cache_control:d});break;case"reasoning":if(n){const e=await NN({provider:"anthropic",providerOptions:i.providerOptions,schema:$W});null!=e?null!=e.signature?r.push({type:"thinking",thinking:i.text,signature:e.signature,cache_control:d}):null!=e.redactedData?r.push({type:"redacted_thinking",data:e.redactedData,cache_control:d}):a.push({type:"other",message:"unsupported reasoning metadata"}):a.push({type:"other",message:"unsupported reasoning metadata"})}else a.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"tool-call":if(i.providerExecuted){"code_execution"!==i.toolName||null==i.input||"object"!==typeof i.input||!("type"in i.input)||"string"!==typeof i.input.type||"bash_code_execution"!==i.input.type&&"text_editor_code_execution"!==i.input.type?"code_execution"===i.toolName||"web_fetch"===i.toolName||"web_search"===i.toolName?r.push({type:"server_tool_use",id:i.toolCallId,name:i.toolName,input:i.input,cache_control:d}):a.push({type:"other",message:"provider executed tool call for tool ".concat(i.toolName," is not supported")}):r.push({type:"server_tool_use",id:i.toolCallId,name:i.input.type,input:i.input,cache_control:d});break}r.push({type:"tool_use",id:i.toolCallId,name:i.toolName,input:i.input,cache_control:d});break;case"tool-result":if("code_execution"===i.toolName){const e=i.output;if("json"!==e.type){a.push({type:"other",message:"provider executed tool result output type ".concat(e.type," for tool ").concat(i.toolName," is not supported")});break}if(null==e.value||"object"!==typeof e.value||!("type"in e.value)||"string"!==typeof e.value.type){a.push({type:"other",message:"provider executed tool result output value is not a valid code execution result for tool ".concat(i.toolName)});break}if("code_execution_result"===e.value.type){const t=await FN({value:e.value,schema:uK});r.push({type:"code_execution_tool_result",tool_use_id:i.toolCallId,content:{type:t.type,stdout:t.stdout,stderr:t.stderr,return_code:t.return_code},cache_control:d})}else{const t=await FN({value:e.value,schema:hK});r.push("bash_code_execution_result"===t.type||"bash_code_execution_tool_result_error"===t.type?{type:"bash_code_execution_tool_result",tool_use_id:i.toolCallId,cache_control:d,content:t}:{type:"text_editor_code_execution_tool_result",tool_use_id:i.toolCallId,cache_control:d,content:t})}break}if("web_fetch"===i.toolName){const e=i.output;if("json"!==e.type){a.push({type:"other",message:"provider executed tool result output type ".concat(e.type," for tool ").concat(i.toolName," is not supported")});break}const t=await FN({value:e.value,schema:lK});r.push({type:"web_fetch_tool_result",tool_use_id:i.toolCallId,content:{type:"web_fetch_result",url:t.url,retrieved_at:t.retrievedAt,content:{type:"document",title:t.content.title,citations:t.content.citations,source:{type:t.content.source.type,media_type:t.content.source.mediaType,data:t.content.source.data}}},cache_control:d});break}if("web_search"===i.toolName){const e=i.output;if("json"!==e.type){a.push({type:"other",message:"provider executed tool result output type ".concat(e.type," for tool ").concat(i.toolName," is not supported")});break}const t=await FN({value:e.value,schema:iK});r.push({type:"web_search_tool_result",tool_use_id:i.toolCallId,content:t.map((e=>({url:e.url,title:e.title,page_age:e.pageAge,encrypted_content:e.encryptedContent,type:e.type}))),cache_control:d});break}a.push({type:"other",message:"provider executed tool result for tool ".concat(i.toolName," is not supported")})}}}p.push({role:"assistant",content:r});break}default:throw new Error("content type: ".concat(y))}}return{prompt:{system:h,messages:p},betas:c}}function gK(e){let{finishReason:t,isJsonResponseFromTool:n}=e;switch(t){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return n?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function yK(e,t,n){var a;if("page_location"!==e.type&&"char_location"!==e.type)return;const r=t[e.document_index];return r?{type:"source",sourceType:"document",id:n(),mediaType:r.mediaType,title:null!=(a=e.document_title)?a:r.title,filename:r.filename,providerMetadata:{anthropic:"page_location"===e.type?{citedText:e.cited_text,startPageNumber:e.start_page_number,endPageNumber:e.end_page_number}:{citedText:e.cited_text,startCharIndex:e.start_char_index,endCharIndex:e.end_char_index}}}:void 0}var bK=class{constructor(e,t){var n;this.specificationVersion="v2",this.modelId=e,this.config=t,this.generateId=null!=(n=t.generateId)?n:uN}supportsUrl(e){return"https:"===e.protocol}get provider(){return this.config.provider}get supportedUrls(){var e,t,n;return null!=(n=null==(t=(e=this.config).supportedUrls)?void 0:t.call(e))?n:{}}async getArgs(e){let{prompt:t,maxOutputTokens:n=4096,temperature:a,topP:r,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:c,seed:d,tools:h,toolChoice:p,providerOptions:f}=e;var m,g,y;const b=[];null!=o&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=s&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=d&&b.push({type:"unsupported-setting",setting:"seed"}),"json"===(null==c?void 0:c.type)&&(null==c.schema?b.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):null!=h&&b.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));const v="json"===(null==c?void 0:c.type)&&null!=c.schema?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:c.schema}:void 0,w=await NN({provider:"anthropic",providerOptions:f,schema:eK}),{prompt:_,betas:x}=await mK({prompt:t,sendReasoning:null==(m=null==w?void 0:w.sendReasoning)||m,warnings:b}),k="enabled"===(null==(g=null==w?void 0:w.thinking)?void 0:g.type),T=null==(y=null==w?void 0:w.thinking)?void 0:y.budgetTokens,D=u(u({model:this.modelId,max_tokens:n,temperature:a,top_k:i,top_p:r,stop_sequences:l},k&&{thinking:{type:"enabled",budget_tokens:T}}),{},{system:_.system,messages:_.messages});if(k){if(null==T)throw new CI({functionality:"thinking requires a budget"});null!=D.temperature&&(D.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),null!=i&&(D.top_k=void 0,b.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),null!=r&&(D.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),D.max_tokens=n+T}const{tools:A,toolChoice:C,toolWarnings:S,betas:E}=await async function(e){let{tools:t,toolChoice:n,disableParallelToolUse:a}=e;t=(null==t?void 0:t.length)?t:void 0;const r=[],i=new Set;if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:r,betas:i};const o=[];for(const l of t)switch(l.type){case"function":{const e=tK(l.providerOptions);o.push({name:l.name,description:l.description,input_schema:l.inputSchema,cache_control:e});break}case"provider-defined":switch(l.id){case"anthropic.code_execution_20250522":i.add("code-execution-2025-05-22"),o.push({type:"code_execution_20250522",name:"code_execution"});break;case"anthropic.code_execution_20250825":i.add("code-execution-2025-08-25"),o.push({type:"code_execution_20250825",name:"code_execution"});break;case"anthropic.computer_20250124":i.add("computer-use-2025-01-24"),o.push({name:"computer",type:"computer_20250124",display_width_px:l.args.displayWidthPx,display_height_px:l.args.displayHeightPx,display_number:l.args.displayNumber});break;case"anthropic.computer_20241022":i.add("computer-use-2024-10-22"),o.push({name:"computer",type:"computer_20241022",display_width_px:l.args.displayWidthPx,display_height_px:l.args.displayHeightPx,display_number:l.args.displayNumber});break;case"anthropic.text_editor_20250124":i.add("computer-use-2025-01-24"),o.push({name:"str_replace_editor",type:"text_editor_20250124"});break;case"anthropic.text_editor_20241022":i.add("computer-use-2024-10-22"),o.push({name:"str_replace_editor",type:"text_editor_20241022"});break;case"anthropic.text_editor_20250429":i.add("computer-use-2025-01-24"),o.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429"});break;case"anthropic.text_editor_20250728":{const e=await FN({value:l.args,schema:nK});o.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:e.maxCharacters});break}case"anthropic.bash_20250124":i.add("computer-use-2025-01-24"),o.push({name:"bash",type:"bash_20250124"});break;case"anthropic.bash_20241022":i.add("computer-use-2024-10-22"),o.push({name:"bash",type:"bash_20241022"});break;case"anthropic.memory_20250818":i.add("context-management-2025-06-27"),o.push({name:"memory",type:"memory_20250818"});break;case"anthropic.web_fetch_20250910":{i.add("web-fetch-2025-09-10");const e=await FN({value:l.args,schema:sK});o.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:e.maxUses,allowed_domains:e.allowedDomains,blocked_domains:e.blockedDomains,citations:e.citations,max_content_tokens:e.maxContentTokens});break}case"anthropic.web_search_20250305":{const e=await FN({value:l.args,schema:rK});o.push({type:"web_search_20250305",name:"web_search",max_uses:e.maxUses,allowed_domains:e.allowedDomains,blocked_domains:e.blockedDomains,user_location:e.userLocation});break}default:r.push({type:"unsupported-tool",tool:l})}break;default:r.push({type:"unsupported-tool",tool:l})}if(null==n)return{tools:o,toolChoice:a?{type:"auto",disable_parallel_tool_use:a}:void 0,toolWarnings:r,betas:i};const s=n.type;switch(s){case"auto":return{tools:o,toolChoice:{type:"auto",disable_parallel_tool_use:a},toolWarnings:r,betas:i};case"required":return{tools:o,toolChoice:{type:"any",disable_parallel_tool_use:a},toolWarnings:r,betas:i};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:r,betas:i};case"tool":return{tools:o,toolChoice:{type:"tool",name:n.toolName,disable_parallel_tool_use:a},toolWarnings:r,betas:i};default:throw new CI({functionality:"tool choice type: ".concat(s)})}}(null!=v?{tools:[v],toolChoice:{type:"tool",toolName:v.name},disableParallelToolUse:!0}:{tools:null!=h?h:[],toolChoice:p,disableParallelToolUse:null==w?void 0:w.disableParallelToolUse});return{args:u(u({},D),{},{tools:A,tool_choice:C}),warnings:[...b,...S],betas:new Set([...x,...E]),usesJsonResponseTool:null!=v}}async getHeaders(e){let{betas:t,headers:n}=e;return oN(await VN(this.config.headers),t.size>0?{"anthropic-beta":Array.from(t).join(",")}:{},n)}buildRequestUrl(e){var t,n,a;return null!=(a=null==(n=(t=this.config).buildRequestUrl)?void 0:n.call(t,this.config.baseURL,e))?a:"".concat(this.config.baseURL,"/messages")}transformRequestBody(e){var t,n,a;return null!=(a=null==(n=(t=this.config).transformRequestBody)?void 0:n.call(t,e))?a:e}extractCitationDocuments(e){return e.filter((e=>"user"===e.role)).flatMap((e=>e.content)).filter((e=>{var t,n;if("file"!==e.type)return!1;if("application/pdf"!==e.mediaType&&"text/plain"!==e.mediaType)return!1;const a=null==(t=e.providerOptions)?void 0:t.anthropic,r=null==a?void 0:a.citations;return null!=(n=null==r?void 0:r.enabled)&&n})).map((e=>{var t;const n=e;return{title:null!=(t=n.filename)?t:"Untitled Document",filename:n.filename,mediaType:n.mediaType}}))}async doGenerate(e){var t,n,a,r,i,o;const{args:s,warnings:l,betas:c,usesJsonResponseTool:d}=await this.getArgs(e),h=this.extractCitationDocuments(e.prompt),{responseHeaders:p,value:f,rawValue:m}=await BN({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:c,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:JW,successfulResponseHandler:GN(ZW),abortSignal:e.abortSignal,fetch:this.config.fetch}),g=[];for(const y of f.content)switch(y.type){case"text":if(!d&&(g.push({type:"text",text:y.text}),y.citations))for(const e of y.citations){const t=yK(e,h,this.generateId);t&&g.push(t)}break;case"thinking":g.push({type:"reasoning",text:y.thinking,providerMetadata:{anthropic:{signature:y.signature}}});break;case"redacted_thinking":g.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:y.data}}});break;case"tool_use":g.push(d?{type:"text",text:JSON.stringify(y.input)}:{type:"tool-call",toolCallId:y.id,toolName:y.name,input:JSON.stringify(y.input)});break;case"server_tool_use":"text_editor_code_execution"===y.name||"bash_code_execution"===y.name?g.push({type:"tool-call",toolCallId:y.id,toolName:"code_execution",input:JSON.stringify(u({type:y.name},y.input)),providerExecuted:!0}):"web_search"!==y.name&&"code_execution"!==y.name&&"web_fetch"!==y.name||g.push({type:"tool-call",toolCallId:y.id,toolName:y.name,input:JSON.stringify(y.input),providerExecuted:!0});break;case"web_fetch_tool_result":"web_fetch_result"===y.content.type?g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:y.content.url,retrievedAt:y.content.retrieved_at,content:{type:y.content.content.type,title:y.content.content.title,citations:y.content.content.citations,source:{type:y.content.content.source.type,mediaType:y.content.content.source.media_type,data:y.content.content.source.data}}},providerExecuted:!0}):"web_fetch_tool_result_error"===y.content.type&&g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:y.content.error_code},providerExecuted:!0});break;case"web_search_tool_result":if(Array.isArray(y.content)){g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"web_search",result:y.content.map((e=>{var t;return{url:e.url,title:e.title,pageAge:null!=(t=e.page_age)?t:null,encryptedContent:e.encrypted_content,type:e.type}})),providerExecuted:!0});for(const e of y.content)g.push({type:"source",sourceType:"url",id:this.generateId(),url:e.url,title:e.title,providerMetadata:{anthropic:{pageAge:null!=(t=e.page_age)?t:null}}})}else g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:y.content.error_code},providerExecuted:!0});break;case"code_execution_tool_result":"code_execution_result"===y.content.type?g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"code_execution",result:{type:y.content.type,stdout:y.content.stdout,stderr:y.content.stderr,return_code:y.content.return_code},providerExecuted:!0}):"code_execution_tool_result_error"===y.content.type&&g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:y.content.error_code},providerExecuted:!0});break;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":g.push({type:"tool-result",toolCallId:y.tool_use_id,toolName:"code_execution",result:y.content,providerExecuted:!0})}return{content:g,finishReason:gK({finishReason:f.stop_reason,isJsonResponseFromTool:d}),usage:{inputTokens:f.usage.input_tokens,outputTokens:f.usage.output_tokens,totalTokens:f.usage.input_tokens+f.usage.output_tokens,cachedInputTokens:null!=(n=f.usage.cache_read_input_tokens)?n:void 0},request:{body:s},response:{id:null!=(a=f.id)?a:void 0,modelId:null!=(r=f.model)?r:void 0,headers:p,body:m},warnings:l,providerMetadata:{anthropic:{usage:f.usage,cacheCreationInputTokens:null!=(i=f.usage.cache_creation_input_tokens)?i:null,stopSequence:null!=(o=f.stop_sequence)?o:null}}}}async doStream(e){const{args:t,warnings:n,betas:a,usesJsonResponseTool:r}=await this.getArgs(e),i=this.extractCitationDocuments(e.prompt),o=u(u({},t),{},{stream:!0}),{responseHeaders:s,value:l}=await BN({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:a,headers:e.headers}),body:this.transformRequestBody(o),failedResponseHandler:JW,successfulResponseHandler:UN(XW),abortSignal:e.abortSignal,fetch:this.config.fetch});let c="unknown";const d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},h={};let p,f,m=null,g=null;const y=this.generateId;return{stream:l.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var a,o,s,l,b,v,w,_;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return void n.enqueue({type:"error",error:t.error});const x=t.value;switch(x.type){case"ping":return;case"content_block_start":{const e=x.content_block.type;switch(f=e,e){case"text":return h[x.index]={type:"text"},void n.enqueue({type:"text-start",id:String(x.index)});case"thinking":return h[x.index]={type:"reasoning"},void n.enqueue({type:"reasoning-start",id:String(x.index)});case"redacted_thinking":return h[x.index]={type:"reasoning"},void n.enqueue({type:"reasoning-start",id:String(x.index),providerMetadata:{anthropic:{redactedData:x.content_block.data}}});case"tool_use":return h[x.index]=r?{type:"text"}:{type:"tool-call",toolCallId:x.content_block.id,toolName:x.content_block.name,input:"",firstDelta:!0},void n.enqueue(r?{type:"text-start",id:String(x.index)}:{type:"tool-input-start",id:x.content_block.id,toolName:x.content_block.name});case"server_tool_use":if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(x.content_block.name)){h[x.index]={type:"tool-call",toolCallId:x.content_block.id,toolName:x.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};const e="text_editor_code_execution"===x.content_block.name||"bash_code_execution"===x.content_block.name?"code_execution":x.content_block.name;n.enqueue({type:"tool-input-start",id:x.content_block.id,toolName:e,providerExecuted:!0})}return;case"web_fetch_tool_result":{const e=x.content_block;return void("web_fetch_result"===e.content.type?n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:e.content.url,retrievedAt:e.content.retrieved_at,content:{type:e.content.content.type,title:e.content.content.title,citations:e.content.content.citations,source:{type:e.content.content.source.type,mediaType:e.content.content.source.media_type,data:e.content.content.source.data}}}}):"web_fetch_tool_result_error"===e.content.type&&n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0}))}case"web_search_tool_result":{const e=x.content_block;if(Array.isArray(e.content)){n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_search",result:e.content.map((e=>{var t;return{url:e.url,title:e.title,pageAge:null!=(t=e.page_age)?t:null,encryptedContent:e.encrypted_content,type:e.type}})),providerExecuted:!0});for(const t of e.content)n.enqueue({type:"source",sourceType:"url",id:y(),url:t.url,title:t.title,providerMetadata:{anthropic:{pageAge:null!=(a=t.page_age)?a:null}}})}else n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{const e=x.content_block;return void("code_execution_result"===e.content.type?n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",result:{type:e.content.type,stdout:e.content.stdout,stderr:e.content.stderr,return_code:e.content.return_code},providerExecuted:!0}):"code_execution_tool_result_error"===e.content.type&&n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0}))}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{const e=x.content_block;return void n.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",result:e.content,providerExecuted:!0})}default:throw new Error("Unsupported content block type: ".concat(e))}}case"content_block_stop":if(null!=h[x.index]){const e=h[x.index];switch(e.type){case"text":n.enqueue({type:"text-end",id:String(x.index)});break;case"reasoning":n.enqueue({type:"reasoning-end",id:String(x.index)});break;case"tool-call":if(!r){n.enqueue({type:"tool-input-end",id:e.toolCallId});const t="text_editor_code_execution"===e.toolName||"bash_code_execution"===e.toolName?"code_execution":e.toolName;n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:t,input:e.input,providerExecuted:e.providerExecuted})}}delete h[x.index]}return void(f=void 0);case"content_block_delta":{const e=x.delta.type;switch(e){case"text_delta":if(r)return;return void n.enqueue({type:"text-delta",id:String(x.index),delta:x.delta.text});case"thinking_delta":return void n.enqueue({type:"reasoning-delta",id:String(x.index),delta:x.delta.thinking});case"signature_delta":return void("thinking"===f&&n.enqueue({type:"reasoning-delta",id:String(x.index),delta:"",providerMetadata:{anthropic:{signature:x.delta.signature}}}));case"input_json_delta":{const e=h[x.index];let t=x.delta.partial_json;if(0===t.length)return;if(r){if("text"!==(null==e?void 0:e.type))return;n.enqueue({type:"text-delta",id:String(x.index),delta:t})}else{if("tool-call"!==(null==e?void 0:e.type))return;!e.firstDelta||"bash_code_execution"!==e.toolName&&"text_editor_code_execution"!==e.toolName||(t='{"type": "'.concat(e.toolName,'",').concat(t.substring(1))),n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:t}),e.input+=t,e.firstDelta=!1}return}case"citations_delta":{const e=yK(x.delta.citation,i,y);return void(e&&n.enqueue(e))}default:throw new Error("Unsupported delta type: ".concat(e))}}case"message_start":return d.inputTokens=x.message.usage.input_tokens,d.cachedInputTokens=null!=(o=x.message.usage.cache_read_input_tokens)?o:void 0,p=u({},x.message.usage),m=null!=(s=x.message.usage.cache_creation_input_tokens)?s:null,void n.enqueue({type:"response-metadata",id:null!=(l=x.message.id)?l:void 0,modelId:null!=(b=x.message.model)?b:void 0});case"message_delta":return d.outputTokens=x.usage.output_tokens,d.totalTokens=(null!=(v=d.inputTokens)?v:0)+(null!=(w=x.usage.output_tokens)?w:0),c=gK({finishReason:x.delta.stop_reason,isJsonResponseFromTool:r}),g=null!=(_=x.delta.stop_sequence)?_:null,void(p=u(u({},p),x.usage));case"message_stop":return void n.enqueue({type:"finish",finishReason:c,usage:d,providerMetadata:{anthropic:{usage:null!=p?p:null,cacheCreationInputTokens:m,stopSequence:g}}});case"error":return void n.enqueue({type:"error",error:x.error});default:throw new Error("Unsupported chunk type: ".concat(x))}}})),request:{body:o},response:{headers:s}}}},vK={bash_20241022:RN({id:"anthropic.bash_20241022",name:"bash",inputSchema:EO((()=>CO(ZR({command:dR(),restart:LR().optional()}))))}),bash_20250124:RN({id:"anthropic.bash_20250124",name:"bash",inputSchema:EO((()=>CO(ZR({command:dR(),restart:LR().optional()}))))}),codeExecution_20250522:function(){return dK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},codeExecution_20250825:function(){return pK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},computer_20241022:RN({id:"anthropic.computer_20241022",name:"computer",inputSchema:EO((()=>CO(ZR({action:cj(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:YR(PR().int()).optional(),text:dR().optional()}))))}),computer_20250124:RN({id:"anthropic.computer_20250124",name:"computer",inputSchema:EO((()=>CO(ZR({action:cj(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:ij([PR().int(),PR().int()]).optional(),duration:PR().optional(),scroll_amount:PR().optional(),scroll_direction:cj(["up","down","left","right"]).optional(),start_coordinate:ij([PR().int(),PR().int()]).optional(),text:dR().optional()}))))}),memory_20250818:RN({id:"anthropic.memory_20250818",name:"memory",inputSchema:EO((()=>CO(nj("command",[ZR({command:dj("view"),path:dR(),view_range:ij([PR(),PR()]).optional()}),ZR({command:dj("create"),path:dR(),file_text:dR()}),ZR({command:dj("str_replace"),path:dR(),old_str:dR(),new_str:dR()}),ZR({command:dj("insert"),path:dR(),insert_line:PR(),insert_text:dR()}),ZR({command:dj("delete"),path:dR()}),ZR({command:dj("rename"),old_path:dR(),new_path:dR()})]))))}),textEditor_20241022:RN({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:EO((()=>CO(ZR({command:cj(["view","create","str_replace","insert","undo_edit"]),path:dR(),file_text:dR().optional(),insert_line:PR().int().optional(),new_str:dR().optional(),old_str:dR().optional(),view_range:YR(PR().int()).optional()}))))}),textEditor_20250124:RN({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:EO((()=>CO(ZR({command:cj(["view","create","str_replace","insert","undo_edit"]),path:dR(),file_text:dR().optional(),insert_line:PR().int().optional(),new_str:dR().optional(),old_str:dR().optional(),view_range:YR(PR().int()).optional()}))))}),textEditor_20250429:RN({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:EO((()=>CO(ZR({command:cj(["view","create","str_replace","insert"]),path:dR(),file_text:dR().optional(),insert_line:PR().int().optional(),new_str:dR().optional(),old_str:dR().optional(),view_range:YR(PR().int()).optional()}))))}),textEditor_20250728:function(){return aK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},webFetch_20250910:function(){return cK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},webSearch_20250305:function(){return oK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}};function wK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=null!=(t=BO(e.baseURL))?t:"https://api.anthropic.com/v1",a=()=>gN(u({"anthropic-version":"2023-06-01","x-api-key":_N({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"})},e.headers),"ai-sdk/anthropic/".concat("2.0.29")),r=t=>{var r;return new bK(t,{provider:"anthropic.messages",baseURL:n,headers:a,fetch:e.fetch,generateId:null!=(r=e.generateId)?r:uN,supportedUrls:()=>({"image/*":[/^https?:\/\/.*$/]})})},i=function(e){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return r(e)};return i.languageModel=r,i.chat=r,i.messages=r,i.textEmbeddingModel=e=>{throw new hI({modelId:e,modelType:"textEmbeddingModel"})},i.imageModel=e=>{throw new hI({modelId:e,modelType:"imageModel"})},i.tools=vK,i}wK();const _K=[{id:"openai",name:"OpenAI",createProvider:e=>FW({apiKey:e}),defaultModel:"gpt-4o",models:[{id:"gpt-4o",name:"GPT-4o",family:"GPT-4"},{id:"gpt-4o-mini",name:"GPT-4o Mini",family:"GPT-4"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",family:"GPT-4"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",family:"GPT-3.5"}]},{id:"grok",name:"xAI",createProvider:e=>KW({apiKey:e}),defaultModel:"grok-beta",models:[{id:"grok-4-fast-reasoning",name:"Grok 4 Fast Reasoning",family:"Grok"},{id:"grok-4-fast-non-reasoning",name:"Grok 4 Fast Non-Reasoning",family:"Grok"},{id:"grok-3",name:"Grok 3",family:"Grok"},{id:"grok-3-mini",name:"Grok 3 Mini",family:"Grok"}]},{id:"anthropic",name:"Anthropic",createProvider:e=>wK({apiKey:e}),defaultModel:"claude-sonnet-4-0",models:[{id:"claude-opus-4-1",name:"Claude Opus 4.1",family:"Claude"},{id:"claude-opus-4-0",name:"Claude Opus 4.0",family:"Claude"},{id:"claude-sonnet-4-0",name:"Claude Sonnet 4.0",family:"Claude"},{id:"claude-3-7-sonnet-latest",name:"Claude 3.7 Sonnet",family:"Claude"},{id:"claude-3-5-haiku-latest",name:"Claude 3.5 Haiku",family:"Claude"}]}];function xK(e){return _K.find((t=>t.id===e))}function kK(e){const t=_K.find((t=>t.id===e));return t?t.models:[]}function TK(){var e;return(null===(e=_K[0])||void 0===e?void 0:e.id)||"openai"}function DK(e){const t=_K.find((t=>t.id===e));return(null===t||void 0===t?void 0:t.defaultModel)||"gpt-4o"}class AK extends DH{constructor(e,t){const n=xK("openai");if(!n)throw new Error("OpenAI provider config not found");super(n,e,t)}async generateSimilarPrompts(e,t,n){try{const r=this.getProvider()(this.modelId),i="Here is a test input to a model: ".concat(e," Generate 10 similar inputs, in the format of a js list. By similar, I mean: ").concat(t),{text:o}=await ZG({model:r,messages:[{role:"system",content:'You are a helpful assistant. Generate exactly 10 similar prompts in JavaScript array format like ["prompt1", "prompt2", ...].'},{role:"user",content:i}],temperature:n});try{const e=o.match(/\[[\s\S]*\]/);if(e){const t=e[0];return JSON.parse(t)}return JSON.parse(o)}catch(a){return console.error("Error parsing similar prompts:",a),o.split("\n").map((e=>e.trim())).filter((e=>e.length>0&&!e.startsWith("[")&&!e.startsWith("]"))).slice(0,10)}}catch(a){const e=a instanceof Error?a.message:String(a);return console.error("Error generating similar prompts:",a),alert("Error generating similar prompts: ".concat(e,"\n\nPlease check your API key and try again.")),[]}}}const CK="llm_consistency_study_session";function SK(){const e=rM("participant_id")||rM("user_id");return e||"participant_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}function EK(){const e=localStorage.getItem(CK);if(e)try{const t=JSON.parse(e);if(!t.submitted){const e=rM("participant_id")||rM("user_id");return e&&e!==t.participantId&&(t.participantId=e,FK(t)),t}}catch(F){console.error("Error parsing stored session:",F)}const t={participantId:SK(),interfaceVersion:NK.visType,startedAt:Date.now(),telemetry:[],submitted:!1};return FK(t),t}function FK(e){try{localStorage.setItem(CK,JSON.stringify(e))}catch(F){console.error("Error saving session to localStorage:",F)}}function MK(){try{localStorage.removeItem(CK),console.log("\u2705 Telemetry session data cleared from localStorage")}catch(F){console.error("Error clearing session from localStorage:",F)}}function IK(e,t){const n=EK(),a={timestamp:Date.now(),type:e,data:t};n.telemetry.push(a),FK(n)}const zK={logSliderChange:(e,t,n)=>{IK("slider_change",{name:e,value:t,promptIndex:n})},logDropdownChange:(e,t,n)=>{IK("dropdown_change",{name:e,value:t,promptIndex:n})},logPromptEdit:(e,t)=>{IK("prompt_edit",{promptIndex:e,text:t})},logGenerateSimilar:(e,t)=>{IK("generate_similar",{promptIndex:e,similarityText:t})},logNodeClick:(e,t)=>{IK("node_click",{nodeWord:e,nodeData:t})},logGraphPan:(e,t)=>{IK("graph_pan",{translateX:e,translateY:t})},logGraphZoom:(e,t,n)=>{IK("graph_zoom",{scale:e,translateX:t,translateY:n})},logVisTypeChange:e=>{IK("vis_type_change",{visType:e})},logPromptAdd:(e,t)=>{IK("prompt_add",{promptIndex:e,text:t})},logPromptDelete:e=>{IK("prompt_delete",{promptIndex:e})},logPromptToggleDisabled:(e,t)=>{IK("prompt_toggle_disabled",{promptIndex:e,disabled:t})},logPromptSelect:(e,t,n)=>{IK("prompt_select",{promptIndex:e,text:t,source:n})},logPageLoad:function(){IK("page_load",{url:window.location.href,userAgent:navigator.userAgent})},log:IK,clearSessionData:MK};"undefined"!==typeof window&&(window.clearTelemetryData=MK,console.log("\ud83d\udca1 Dev tool: Call clearTelemetryData() in the console to clear telemetry data"));const PK=lM.map((e=>{var t;return(null===(t=Sv(e))||void 0===t?void 0:t.copy({opacity:.3}).formatHex8())||"black"}));const NK=new class{constructor(){var e,t,n,a=this;this.loading=!1,this.prompts=[],this.numGenerations=30,this.shuffle=!1,this.tokenizeMode="space",this.isUserStudy=!1,this.visType="graph",this.generationsCache={},this.disabledPrompts=[],this.failedFetches=new Set,this.selectedModelFamily=TK(),this.selectedModel=DK(TK()),this.llmInstanceCache={},this.getPromptColor=e=>PK[e%PK.length],this.addPrompt=function(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const i=a.prompts[a.prompts.length-1],o=r||(null===i||void 0===i?void 0:i.text)||"",s=null!==(e=null===i||void 0===i?void 0:i.temp)&&void 0!==e?e:.7,l=null!==(t=null===i||void 0===i?void 0:i.modelFamily)&&void 0!==t?t:a.selectedModelFamily,c=null!==(n=null===i||void 0===i?void 0:i.model)&&void 0!==n?n:a.selectedModel,u=a.prompts.length;a.prompts=[...a.prompts,{text:o,temp:s,modelFamily:l,model:c}],zK.logPromptAdd(u,o)},this.updatePromptTextAt=(e,t)=>{const n=[...this.prompts];n[e]=u(u({},n[e]),{},{text:t}),this.prompts=n},this.updatePromptTempAt=(e,t)=>{const n=[...this.prompts];n[e]=u(u({},n[e]),{},{temp:t}),this.prompts=n},this.updatePromptModelFamilyAt=(e,t)=>{const n=[...this.prompts];this.clearFailedFetchForPrompt(n[e]),n[e]=u(u({},n[e]),{},{modelFamily:t}),n[e]=u(u({},n[e]),{},{model:DK(t)}),this.prompts=n},this.updatePromptModelAt=(e,t)=>{const n=[...this.prompts];this.clearFailedFetchForPrompt(n[e]),n[e]=u(u({},n[e]),{},{model:t}),this.prompts=n},this.removePromptAt=Hf((e=>{if(0===e&&this.prompts.length<=1)return;const t=[...this.prompts];t.splice(e,1),this.prompts=t,this.disabledPrompts=this.disabledPrompts.filter((t=>t!==e)).map((t=>t>e?t-1:t))})),this.togglePromptDisabled=Hf((e=>{0===e&&this.prompts.length<=1||(this.disabledPrompts.includes(e)?this.disabledPrompts=this.disabledPrompts.filter((t=>t!==e)):this.disabledPrompts=[...this.disabledPrompts,e])})),this.isPromptDisabled=e=>this.disabledPrompts.includes(e),this.setNumGenerations=e=>{this.numGenerations=e},this.setShuffle=e=>{this.shuffle=e},this.setTokenizeMode=e=>{this.tokenizeMode=e},this.setModelFamily=e=>{this.selectedModelFamily=e,this.selectedModel=DK(e)},this.setModel=e=>{this.selectedModel=e},this.setVisType=e=>{this.visType=e},this.clearFailedFetchForPrompt=e=>{const t="".concat(e.text,"|").concat(e.temp,"|").concat(e.modelFamily,"|").concat(e.model);this.failedFetches.delete(t);const n="".concat(e.modelFamily,":").concat(e.model);delete this.llmInstanceCache[n]},this.clearAllFailedFetches=()=>{this.failedFetches.clear(),this.llmInstanceCache={}},Ah(e=this)?am(e,e,t,n):gg((function(){var a=Zm(e,n)[$h];if(!e[Tm]){var r=Object.getPrototypeOf(e),i=new Set([].concat(Ph(e),Ph(r)));i.delete("constructor"),i.delete($h),Sh(r,Tm,i)}e[Tm].forEach((function(e){return a.make_(e,!t||!(e in t)||t[e])}))})),this.isUserStudy="true"===rM("is_user_study");const r=rM("vis_type");if(r){["graph","raw_outputs","first_output","word_tree","highlights"].includes(r)&&(this.visType=r)}const i=TK(),o=DK(i);for(const[u,m]of Object.entries(sM)){var s,l,c,d,h,p;null!==(l=(s=this.generationsCache)[u])&&void 0!==l||(s[u]={}),null!==(d=(c=this.generationsCache[u])[.7])&&void 0!==d||(c[.7]={}),null!==(p=(h=this.generationsCache[u][.7])[i])&&void 0!==p||(h[i]={}),this.generationsCache[u][.7][i][o]=m}const f=Object.keys(sM)[0];this.prompts=[{text:f,temp:.7,modelFamily:i,model:o}]}getLLMInstance(e,t){const n="".concat(e,":").concat(t);return this.llmInstanceCache[n]||(this.llmInstanceCache[n]=function(e,t,n){if("openai"===e)return new AK(t,n);const a=xK(e);if(!a)throw new Error("Unknown provider: ".concat(e));return new DH(a,t,n)}(e,t)),this.llmInstanceCache[n]}async fetchFromLLM(e,t,n,a,r){try{const i=this.getLLMInstance(a,r);return await i.generateCompletions(e,t,n)}catch(i){return console.error("Error fetching from LLM:",i),[]}}async fetchGenerationsFor(e){var t,n,a,r,i,o,s,l;const c=this.prompts[e];if(!c)return[];const u=c.text,d=c.temp,h=c.modelFamily,p=c.model,f=this.numGenerations;if(!u)return[];null!==(n=(t=this.generationsCache)[u])&&void 0!==n||(t[u]={}),null!==(r=(a=this.generationsCache[u])[d])&&void 0!==r||(a[d]={}),null!==(o=(i=this.generationsCache[u][d])[h])&&void 0!==o||(i[h]={}),null!==(l=(s=this.generationsCache[u][d][h])[p])&&void 0!==l||(s[p]=[]);let m=this.generationsCache[u][d][h][p];const g=m.length;if(g>=f)return m.slice(0,f);const y="".concat(u,"|").concat(d,"|").concat(h,"|").concat(p);if(this.failedFetches.has(y))return m;const b=f-g;this.loading=!0;const v=await this.fetchFromLLM(u,d,b,h,p);return 0===v.length&&this.failedFetches.add(y),this.generationsCache[u][d][h][p].push(...v),this.loading=!1,this.generationsCache[u][d][h][p].slice(0,f)}async generateSimilarPrompts(e,t,n){try{const a=this.getLLMInstance("openai","gpt-4o");return await a.generateSimilarPrompts(e,t,n)}catch(a){return console.error("Error generating similar prompts:",a),[]}}};class OK{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.children={},this.numTotalChildren=void 0,this.isLeaf=void 0,this.parent=void 0,this.weight=0,this.children={},this.isLeaf=!1,this.numTotalChildren=0,this.parent=e}}class BK{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"space";this.root=void 0,this.tokenizeMode=void 0,this.root=new OK,this.tokenizeMode=e}async insert(e){const t=await XF(e,void 0,this.tokenizeMode);let n=this.root;for(let a of t)a=ZF(a),n.children[a]||(n.children[a]=new OK(n)),n.isLeaf=!1,n=n.children[a],n.weight+=1;Object.keys(n.children).length||(n.isLeaf=!0)}async insertSents(e){for(const t of e)await this.insert(t);this.computeNumLeafChildren()}computeNumLeafChildren(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;if(e.isLeaf)return e.numTotalChildren=1,1;let t=0;for(const n of Object.values(e.children))t+=this.computeNumLeafChildren(n);return e.numTotalChildren=t,t}}var LK=__webpack_require__(579);class RK extends n.Component{constructor(){super(...arguments),this.trie=new BK,this.state={hoveredToken:"",trieReady:!1}}async componentDidMount(){await this.initializeTrie()}async componentDidUpdate(e){e.generations!==this.props.generations&&await this.initializeTrie()}async initializeTrie(){const e=this.props.generations;e&&(this.trie=new BK(NK.tokenizeMode),await this.trie.insertSents(e),this.setState({trieReady:!0}))}render(){const e=this.props.generations;if(!e||!this.state.trieReady)return null;const t=35*e.length,n=t/this.trie.root.numTotalChildren,a=(e,t,r,i,o)=>{const s=Object.entries(e.children),l=e.numTotalChildren*n,c=s.length;let d=0;const h=s.reverse().map((t=>{const[n,a]=t,r=a.numTotalChildren/e.numTotalChildren/2||0;return d+=r,d})),p=l/2,f=A_().range([p,-p]).domain([0,1]);return s.map(((n,s)=>{const[l,d]=n,p=d.weight/10,m=Math.ceil(Math.max(12,30*p)),g=.6*m,y=f(h[s]),b=l.length*g,v=b+g*(1===Object.keys(d.children).length?1:5),w=r+y,_=t,x=_+b,k=w-m/2,T=1===c||e===this.trie.root?"":(0,LK.jsx)("path",{d:"M ".concat(i," ").concat(o," \n                            C ").concat((i+_)/2," ").concat(o,", \n                              ").concat((i+_)/2," ").concat(k,", \n                              ").concat(_-5," ").concat(k),stroke:"black",fill:"transparent"}),D=this.state.hoveredToken===l?"rgb(163, 198, 250)":"rgba(0, 0, 0, 0)";return(0,LK.jsxs)("g",{children:[T,(0,LK.jsx)("rect",{x:_,y:w-m,width:b,height:m,fill:D}),(0,LK.jsxs)("text",{x:_,y:w,onMouseEnter:()=>this.setState((e=>u(u({},e),{},{hoveredToken:l}))),fontSize:m,children:[l,(0,LK.jsxs)("title",{children:[s," ",c," ",l]})]},l+t+r),a(d,_+v,w,x+5,k)]})}))};return(0,LK.jsx)("svg",{className:"wordtree-holder",style:{height:.6*t},children:a(this.trie.root,0,t/8+5,0,0)})}}const jK=ay(RK);class VK extends n.Component{constructor(){super(...arguments),this.state={hoveredToken:""}}render(){let e=this.props.generations;if(!e)return;let t=[...e];const[n,a]=this.getAllSubstrings(t),r=z_(R_).domain(n),i=[...t].sort();return(0,LK.jsx)("div",{className:"outputs",children:i.map(((e,t)=>{const i=a.map((t=>{const a=n.find((e=>e.includes(t)))||"",i=Sv(r(a));i.opacity=.2;const o=e.replace(t,"<span style='background-color:".concat(i,"'>").concat(t,"</span>"));return(0,LK.jsx)("div",{className:"highlight",dangerouslySetInnerHTML:{__html:o}})}));return(0,LK.jsxs)("div",{className:"line-holder",children:[i,(0,LK.jsx)("div",{children:e})]},"".concat(e,"-").concat(t))}))})}getAllSubstrings(e){const t={};for(let r of e){let e,n;const a=r.split(" ");for(e=0;e<a.length;e++)for(n=e+1;n<a.length+1;n++){const r=a.slice(e,n).join(" ");r in t||(t[r]=0),t[r]+=1}}const n=Object.entries(t).filter((e=>{let[t,n]=e;return n>=2&&t.length>=2})).sort(((e,t)=>t[1]-e[1])).sort(((e,t)=>t[0].length-e[0].length)).map((e=>{let[t,n]=e;return t})),a=[];return n.forEach((e=>{a.join("").includes(e)||a.push(e)})),[a,n]}}const qK=ay(VK);function UK(e){return function(){return e}}class GK extends n.Component{constructor(e){super(e),this.popupRef=n.createRef(),this.handleToggleMaximize=()=>{this.setState((e=>({isMaximized:!e.isMaximized})))},this.state={examples:[],matchingCount:0,totalGenerations:this.calculateTotalGenerations(e.promptGroups),isMaximized:!1}}componentDidUpdate(e){const t=!this.areNodeArraysEqual(e.nodes,this.props.nodes),n=e.isVisible!==this.props.isVisible,a=e.promptGroups!==this.props.promptGroups;if((this.props.isVisible&&(t||n||a)||!e.isVisible&&this.props.isVisible)&&this.updatePopupContent(),a&&!this.props.isVisible){const e=this.calculateTotalGenerations(this.props.promptGroups);e!==this.state.totalGenerations&&this.setState({totalGenerations:e})}if(!this.props.isVisible&&n){const e=this.calculateTotalGenerations(this.props.promptGroups);(this.state.examples.length||this.state.matchingCount)&&this.setState({examples:[],matchingCount:0,totalGenerations:e})}}updatePopupContent(){const{nodes:e,promptGroups:t}=this.props,n=this.calculateTotalGenerations(t);if(!e.length)return void((this.state.examples.length||this.state.matchingCount||this.state.totalGenerations!==n)&&this.setState({examples:[],matchingCount:0,totalGenerations:n}));const a=this.getCommonSentIndices(e);if(!a.length)return void((this.state.examples.length||this.state.matchingCount||this.state.totalGenerations!==n)&&this.setState({examples:[],matchingCount:0,totalGenerations:n}));const r=this.buildSentenceHighlights(e,a),i=this.buildExamples(t,a,r),o=i.length;this.areExamplesEqual(i,this.state.examples)&&o===this.state.matchingCount&&n===this.state.totalGenerations||this.setState({examples:i,matchingCount:o,totalGenerations:n})}buildExamples(e,t,n){const a=new Set(t),r=[];let i=0;return e.forEach((e=>{e.generations.forEach((t=>{if(i++,!a.has(i))return;const o=this.getPromptColor(e.promptId),s=n.get(i)||[],l=this.createHighlightedHtml(t,s);r.push({html:l,sentIdx:i,promptId:e.promptId,textColor:o})}))})),r}buildSentenceHighlights(e,t){const n=new Map,a=new Set(t),r=e.map(((e,t)=>{const n=this.getNodeKey(e,t),r=this.getNodeDisplayColor(e,t),i=new Map;return(e.origSentenceInfo||[]).forEach((e=>{if(!a.has(e.sentIdx))return;const t=e.origWords.join(" ").trim();t&&(i.has(e.sentIdx)||i.set(e.sentIdx,[]),i.get(e.sentIdx).push(t))})),{node:e,index:t,key:n,color:r,infoBySentence:i}}));return t.forEach((e=>{const t=[];r.forEach((n=>{let{node:a,key:r,color:i,infoBySentence:o}=n;const s=o.get(e)||[a.word],l=Array.from(new Set(s.map((e=>e.trim())).filter((e=>e.length))));t.push({key:r,color:i,nodeWord:a.word,phrases:l.length?l:[a.word]})})),n.set(e,t)})),n}createHighlightedHtml(e,t){const n=[];if(t.forEach((t=>{const a=[...t.phrases].sort(((e,t)=>t.length-e.length)),r=this.withAlpha(t.color,.2);a.forEach((t=>{const a=this.findMatches(e,t);for(const e of a)if(!this.overlapsExistingRange(e.start,e.end,n)){n.push({start:e.start,end:e.end,color:r});break}}))})),!n.length)return this.escapeHtml(e);n.sort(((e,t)=>e.start-t.start));let a="",r=0;return n.forEach((t=>{t.start>r&&(a+=this.escapeHtml(e.slice(r,t.start)));const n=this.escapeHtml(e.slice(t.start,t.end));a+='<b style="background-color: '.concat(t.color,';">').concat(n,"</b>"),r=t.end})),r<e.length&&(a+=this.escapeHtml(e.slice(r))),a}findMatches(e,t){const n=t.trim();if(!n.length)return[];const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp(a,"gi"),i=[];let o;for(;null!==(o=r.exec(e));)i.push({start:o.index,end:o.index+o[0].length}),r.lastIndex===o.index&&r.lastIndex++;return i}overlapsExistingRange(e,t,n){return n.some((n=>!(t<=n.start||e>=n.end)))}escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\r\n|\r|\n/g,"<br/>")}calculateTotalGenerations(e){return e.reduce(((e,t)=>e+t.generations.length),0)}getPromptColor(e){const t=e.match(/_(\d+)_/),n=t?parseInt(t[1],10):0;return lM[n%lM.length]}getNodeDisplayColor(e,t){if(e.origPromptIds&&e.origPromptIds.length){var n;const t=null===(n=e.origPromptIds[0])||void 0===n?void 0:n.match(/_(\d+)_/);if(t){const e=parseInt(t[1],10);return lM[e%lM.length]}}const a=(e.word.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)+7*t)%lM.length;return lM[a]}getCommonSentIndices(e){if(!e.length)return[];let t=Array.from(new Set(e[0].origSentIndices||[]));for(let n=1;n<e.length;n++){const a=new Set(e[n].origSentIndices||[]);if(t=t.filter((e=>a.has(e))),!t.length)break}return t}areNodeArraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}areExamplesEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n].html!==t[n].html||e[n].sentIdx!==t[n].sentIdx||e[n].promptId!==t[n].promptId||e[n].textColor!==t[n].textColor)return!1;return!0}getNodeKey(e,t){return"".concat(e.word,"-").concat(t)}withAlpha(e,t){const n=Sv(e);if(!n)return e;const a=n.rgb();return a.opacity=t,a.toString()}render(){const{isVisible:e,onClose:t,nodes:a,onRemoveNode:r}=this.props,{examples:i,matchingCount:o,totalGenerations:s,isMaximized:l}=this.state,c=s>0?Math.round(o/s*100):0,u=(0,LK.jsx)("div",{className:"selected-nodes",children:a.map(((e,t)=>{const i=this.getNodeDisplayColor(e,t),o=this.withAlpha(i,.15);return(0,LK.jsxs)(n.Fragment,{children:[(0,LK.jsxs)("span",{className:"node-chip",style:{borderColor:i,color:i,backgroundColor:o},children:[(0,LK.jsx)("span",{className:"node-chip-label",children:ZF(e.word)}),(0,LK.jsx)("button",{type:"button",className:"node-chip-remove",onClick:()=>r(e),"aria-label":"Remove ".concat(e.word),children:"\xd7"})]}),t<a.length-1&&(0,LK.jsx)("span",{children:"or "})]},"".concat(e.word,"-").concat(t))}))});return(0,LK.jsxs)("div",{ref:this.popupRef,className:"node-examples-popup".concat(l?" maximized":""),style:{display:e?"block":"none"},children:[(0,LK.jsxs)("div",{className:"popup-header",children:[(0,LK.jsx)("div",{className:"popup-title",children:(0,LK.jsxs)("div",{className:"popup-title-main",children:["Examples containing ",u,": ",o,"/",s," (",c,"%)"]})}),(0,LK.jsxs)("div",{className:"popup-actions",children:[(0,LK.jsx)("button",{type:"button",className:"popup-action-button popup-maximize",onClick:this.handleToggleMaximize,children:l?"\u2199":"\u2197"}),(0,LK.jsx)("button",{className:"popup-action-button popup-close",onClick:t,"aria-label":"Close examples panel",children:"\xd7"})]})]}),(0,LK.jsx)("div",{className:"popup-content",children:0===o?(0,LK.jsx)("div",{className:"no-examples-message",children:"No examples found containing all selected nodes."}):i.map((e=>(0,LK.jsx)("div",{className:"example-item",style:{color:e.textColor},dangerouslySetInnerHTML:{__html:e.html}},"".concat(e.promptId,"-").concat(e.sentIdx))))})]})}}const HK=GK;function WK(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=WK(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}const KK=function(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=WK(e))&&(a&&(a+=" "),a+=t);return a};function YK(){return YK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},YK.apply(null,arguments)}var JK=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(F){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ZK=Math.abs,XK=String.fromCharCode,$K=Object.assign;function QK(e){return e.trim()}function eY(e,t,n){return e.replace(t,n)}function tY(e,t){return e.indexOf(t)}function nY(e,t){return 0|e.charCodeAt(t)}function aY(e,t,n){return e.slice(t,n)}function rY(e){return e.length}function iY(e){return e.length}function oY(e,t){return t.push(e),e}var sY=1,lY=1,cY=0,uY=0,dY=0,hY="";function pY(e,t,n,a,r,i,o){return{value:e,root:t,parent:n,type:a,props:r,children:i,line:sY,column:lY,length:o,return:""}}function fY(e,t){return $K(pY("",null,null,"",null,null,0),e,{length:-e.length},t)}function mY(){return dY=uY>0?nY(hY,--uY):0,lY--,10===dY&&(lY=1,sY--),dY}function gY(){return dY=uY<cY?nY(hY,uY++):0,lY++,10===dY&&(lY=1,sY++),dY}function yY(){return nY(hY,uY)}function bY(){return uY}function vY(e,t){return aY(hY,e,t)}function wY(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _Y(e){return sY=lY=1,cY=rY(hY=e),uY=0,[]}function xY(e){return hY="",e}function kY(e){return QK(vY(uY-1,AY(91===e?e+2:40===e?e+1:e)))}function TY(e){for(;(dY=yY())&&dY<33;)gY();return wY(e)>2||wY(dY)>3?"":" "}function DY(e,t){for(;--t&&gY()&&!(dY<48||dY>102||dY>57&&dY<65||dY>70&&dY<97););return vY(e,bY()+(t<6&&32==yY()&&32==gY()))}function AY(e){for(;gY();)switch(dY){case e:return uY;case 34:case 39:34!==e&&39!==e&&AY(dY);break;case 40:41===e&&AY(e);break;case 92:gY()}return uY}function CY(e,t){for(;gY()&&e+dY!==57&&(e+dY!==84||47!==yY()););return"/*"+vY(t,uY-1)+"*"+XK(47===e?e:gY())}function SY(e){for(;!wY(yY());)gY();return vY(e,uY)}var EY="-ms-",FY="-moz-",MY="-webkit-",IY="comm",zY="rule",PY="decl",NY="@keyframes";function OY(e,t){for(var n="",a=iY(e),r=0;r<a;r++)n+=t(e[r],r,e,t)||"";return n}function BY(e,t,n,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case PY:return e.return=e.return||e.value;case IY:return"";case NY:return e.return=e.value+"{"+OY(e.children,a)+"}";case zY:e.value=e.props.join(",")}return rY(n=OY(e.children,a))?e.return=e.value+"{"+n+"}":""}function LY(e){return xY(RY("",null,null,null,[""],e=_Y(e),0,[0],e))}function RY(e,t,n,a,r,i,o,s,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,m=1,g=1,y=1,b=0,v="",w=r,_=i,x=a,k=v;g;)switch(f=b,b=gY()){case 40:if(108!=f&&58==nY(k,d-1)){-1!=tY(k+=eY(kY(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:k+=kY(b);break;case 9:case 10:case 13:case 32:k+=TY(f);break;case 92:k+=DY(bY()-1,7);continue;case 47:switch(yY()){case 42:case 47:oY(VY(CY(gY(),bY()),t,n),l);break;default:k+="/"}break;case 123*m:s[c++]=rY(k)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==y&&(k=eY(k,/\f/g,"")),p>0&&rY(k)-d&&oY(p>32?qY(k+";",a,n,d-1):qY(eY(k," ","")+";",a,n,d-2),l);break;case 59:k+=";";default:if(oY(x=jY(k,t,n,c,u,r,s,v,w=[],_=[],d),i),123===b)if(0===u)RY(k,t,x,x,w,i,d,s,_);else switch(99===h&&110===nY(k,3)?100:h){case 100:case 108:case 109:case 115:RY(e,x,x,a&&oY(jY(e,x,x,0,0,r,s,v,r,w=[],d),_),r,_,d,s,a?w:_);break;default:RY(k,x,x,x,[""],_,0,s,_)}}c=u=p=0,m=y=1,v=k="",d=o;break;case 58:d=1+rY(k),p=f;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==mY())continue;switch(k+=XK(b),b*m){case 38:y=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(rY(k)-1)*y,y=1;break;case 64:45===yY()&&(k+=kY(gY())),h=yY(),u=d=rY(v=k+=SY(bY())),b++;break;case 45:45===f&&2==rY(k)&&(m=0)}}return i}function jY(e,t,n,a,r,i,o,s,l,c,u){for(var d=r-1,h=0===r?i:[""],p=iY(h),f=0,m=0,g=0;f<a;++f)for(var y=0,b=aY(e,d+1,d=ZK(m=o[f])),v=e;y<p;++y)(v=QK(m>0?h[y]+" "+b:eY(b,/&\f/g,h[y])))&&(l[g++]=v);return pY(e,t,n,0===r?zY:s,l,c,u)}function VY(e,t,n){return pY(e,t,n,IY,XK(dY),aY(e,2,-2),0)}function qY(e,t,n,a){return pY(e,t,n,PY,aY(e,0,a),aY(e,a+1,-1),a)}var UY=function(e,t,n){for(var a=0,r=0;a=r,r=yY(),38===a&&12===r&&(t[n]=1),!wY(r);)gY();return vY(e,uY)},GY=function(e,t){return xY(function(e,t){var n=-1,a=44;do{switch(wY(a)){case 0:38===a&&12===yY()&&(t[n]=1),e[n]+=UY(uY-1,t,n);break;case 2:e[n]+=kY(a);break;case 4:if(44===a){e[++n]=58===yY()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=XK(a)}}while(a=gY());return e}(_Y(e),t))},HY=new WeakMap,WY=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||HY.get(n))&&!a){HY.set(e,!0);for(var r=[],i=GY(t,r),o=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=r[s]?i[s].replace(/&\f/g,o[c]):o[c]+" "+i[s]}}},KY=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function YY(e,t){switch(function(e,t){return 45^nY(e,0)?(((t<<2^nY(e,0))<<2^nY(e,1))<<2^nY(e,2))<<2^nY(e,3):0}(e,t)){case 5103:return MY+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return MY+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return MY+e+FY+e+EY+e+e;case 6828:case 4268:return MY+e+EY+e+e;case 6165:return MY+e+EY+"flex-"+e+e;case 5187:return MY+e+eY(e,/(\w+).+(:[^]+)/,MY+"box-$1$2"+EY+"flex-$1$2")+e;case 5443:return MY+e+EY+"flex-item-"+eY(e,/flex-|-self/,"")+e;case 4675:return MY+e+EY+"flex-line-pack"+eY(e,/align-content|flex-|-self/,"")+e;case 5548:return MY+e+EY+eY(e,"shrink","negative")+e;case 5292:return MY+e+EY+eY(e,"basis","preferred-size")+e;case 6060:return MY+"box-"+eY(e,"-grow","")+MY+e+EY+eY(e,"grow","positive")+e;case 4554:return MY+eY(e,/([^-])(transform)/g,"$1"+MY+"$2")+e;case 6187:return eY(eY(eY(e,/(zoom-|grab)/,MY+"$1"),/(image-set)/,MY+"$1"),e,"")+e;case 5495:case 3959:return eY(e,/(image-set\([^]*)/,MY+"$1$`$1");case 4968:return eY(eY(e,/(.+:)(flex-)?(.*)/,MY+"box-pack:$3"+EY+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+MY+e+e;case 4095:case 3583:case 4068:case 2532:return eY(e,/(.+)-inline(.+)/,MY+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rY(e)-1-t>6)switch(nY(e,t+1)){case 109:if(45!==nY(e,t+4))break;case 102:return eY(e,/(.+:)(.+)-([^]+)/,"$1"+MY+"$2-$3$1"+FY+(108==nY(e,t+3)?"$3":"$2-$3"))+e;case 115:return~tY(e,"stretch")?YY(eY(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==nY(e,t+1))break;case 6444:switch(nY(e,rY(e)-3-(~tY(e,"!important")&&10))){case 107:return eY(e,":",":"+MY)+e;case 101:return eY(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+MY+(45===nY(e,14)?"inline-":"")+"box$3$1"+MY+"$2$3$1"+EY+"$2box$3")+e}break;case 5936:switch(nY(e,t+11)){case 114:return MY+e+EY+eY(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return MY+e+EY+eY(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return MY+e+EY+eY(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return MY+e+EY+e+e}return e}var JY=[function(e,t,n,a){if(e.length>-1&&!e.return)switch(e.type){case PY:e.return=YY(e.value,e.length);break;case NY:return OY([fY(e,{value:eY(e.value,"@","@"+MY)})],a);case zY:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return OY([fY(e,{props:[eY(t,/:(read-\w+)/,":-moz-$1")]})],a);case"::placeholder":return OY([fY(e,{props:[eY(t,/:(plac\w+)/,":"+MY+"input-$1")]}),fY(e,{props:[eY(t,/:(plac\w+)/,":-moz-$1")]}),fY(e,{props:[eY(t,/:(plac\w+)/,EY+"input-$1")]})],a)}return""}))}}],ZY=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var a,r,i=e.stylisPlugins||JY,o={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l,c,u=[BY,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=iY(e);return function(n,a,r,i){for(var o="",s=0;s<t;s++)o+=e[s](n,a,r,i)||"";return o}}([WY,KY].concat(i,u));r=function(e,t,n,a){l=n,OY(LY(e?e+"{"+t.styles+"}":t.styles),d),a&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new JK({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:r};return h.sheet.hydrate(s),h};var XY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function $Y(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var QY=/[A-Z]|^ms/g,eJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tJ=function(e){return 45===e.charCodeAt(1)},nJ=function(e){return null!=e&&"boolean"!==typeof e},aJ=$Y((function(e){return tJ(e)?e:e.replace(QY,"-$&").toLowerCase()})),rJ=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(eJ,(function(e,t,n){return oJ={name:t,styles:n,next:oJ},t}))}return 1===XY[e]||tJ(e)||"number"!==typeof t||0===t?t:t+"px"};function iJ(e,t,n){if(null==n)return"";var a=n;if(void 0!==a.__emotion_styles)return a;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return oJ={name:r.name,styles:r.styles,next:oJ},r.name;var i=n;if(void 0!==i.styles){var o=i.next;if(void 0!==o)for(;void 0!==o;)oJ={name:o.name,styles:o.styles,next:oJ},o=o.next;return i.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var r=0;r<n.length;r++)a+=iJ(e,t,n[r])+";";else for(var i in n){var o=n[i];if("object"!==typeof o){var s=o;null!=t&&void 0!==t[s]?a+=i+"{"+t[s]+"}":nJ(s)&&(a+=aJ(i)+":"+rJ(i,s)+";")}else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=iJ(e,t,o);switch(i){case"animation":case"animationName":a+=aJ(i)+":"+l+";";break;default:a+=i+"{"+l+"}"}}else for(var c=0;c<o.length;c++)nJ(o[c])&&(a+=aJ(i)+":"+rJ(i,o[c])+";")}return a}(e,t,n);case"function":if(void 0!==e){var s=oJ,l=n(e);return oJ=s,iJ(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var oJ,sJ=/label:\s*([^\s;{]+)\s*(;|$)/g;function lJ(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,r="";oJ=void 0;var i=e[0];null==i||void 0===i.raw?(a=!1,r+=iJ(n,t,i)):r+=i[0];for(var o=1;o<e.length;o++){if(r+=iJ(n,t,e[o]),a)r+=i[o]}sJ.lastIndex=0;for(var s,l="";null!==(s=sJ.exec(r));)l+="-"+s[1];var c=function(e){for(var t,n=0,a=0,r=e.length;r>=4;++a,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(a)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:oJ}}var cJ=!!a.useInsertionEffect&&a.useInsertionEffect,uJ=cJ||function(e){return e()},dJ=(cJ||n.useLayoutEffect,n.createContext("undefined"!==typeof HTMLElement?ZY({key:"css"}):null)),hJ=(dJ.Provider,function(e){return(0,n.forwardRef)((function(t,a){var r=(0,n.useContext)(dJ);return e(t,r,a)}))}),pJ=n.createContext({});var fJ=function(e,t,n){var a=e.key+"-"+t.name;!1===n&&void 0===e.registered[a]&&(e.registered[a]=t.styles)},mJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gJ=$Y((function(e){return mJ.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),yJ=function(e){return"theme"!==e},bJ=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?gJ:yJ},vJ=function(e,t,n){var a;if(t){var r=t.shouldForwardProp;a=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof a&&n&&(a=e.__emotion_forwardProp),a},wJ=function(e){var t=e.cache,n=e.serialized,a=e.isStringTag;return fJ(t,n,a),uJ((function(){return function(e,t,n){fJ(e,t,n);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+a:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,a)})),null},_J=function e(t,a){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==a&&(r=a.label,i=a.target);var l=vJ(t,a,o),c=l||bJ(s),u=!c("as");return function(){var d=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],p[m])}var g=hJ((function(e,t,a){var r=u&&e.as||s,o="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=n.useContext(pJ)}"string"===typeof e.className?o=function(e,t,n){var a="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(a+=n+" ")})),a}(t.registered,d,e.className):null!=e.className&&(o=e.className+" ");var m=lJ(h.concat(d),t.registered,p);o+=t.key+"-"+m.name,void 0!==i&&(o+=" "+i);var g=u&&void 0===l?bJ(r):c,y={};for(var b in e)u&&"as"===b||g(b)&&(y[b]=e[b]);return y.className=o,a&&(y.ref=a),n.createElement(n.Fragment,null,n.createElement(wJ,{cache:t,serialized:m,isStringTag:"string"===typeof r}),n.createElement(r,y))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(t,n){return e(t,YK({},a,n,{shouldForwardProp:vJ(g,n,!0)})).apply(void 0,h)},g}}.bind(null);function xJ(e,t){return _J(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){_J[e]=_J(e)}));const kJ=[];function TJ(e){return kJ[0]=e,lJ(kJ)}function DJ(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function AJ(e){if("string"!==typeof e)throw new Error(DJ(7));return e.charAt(0).toUpperCase()+e.slice(1)}var CJ=__webpack_require__(191);function SJ(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function EJ(e){if(n.isValidElement(e)||(0,CJ.Hy)(e)||!SJ(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=EJ(e[n])})),t}function FJ(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=a.clone?u({},e):e;return SJ(e)&&SJ(t)&&Object.keys(t).forEach((i=>{n.isValidElement(t[i])||(0,CJ.Hy)(t[i])?r[i]=t[i]:SJ(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&SJ(e[i])?r[i]=FJ(e[i],t[i],a):a.clone?r[i]=SJ(t[i])?EJ(t[i]):t[i]:r[i]=t[i]})),r}const MJ=function(e,t){return t?FJ(e,t,{clone:!1}):e};function IJ(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,a;const r=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(r))||void 0===n?void 0:n[1])||0)-+((null===(a=t.match(r))||void 0===a?void 0:a[1])||0)}));return n.length?n.reduce(((e,n)=>{const a=t[n];return delete e[n],e[n]=a,e}),u({},t)):t}const zJ={xs:0,sm:600,md:900,lg:1200,xl:1536},PJ={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(zJ[e],"px)")},NJ={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:zJ[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function OJ(e,t,n){const a=e.theme||{};if(Array.isArray(t)){const e=a.breakpoints||PJ;return t.reduce(((a,r,i)=>(a[e.up(e.keys[i])]=n(t[i]),a)),{})}if("object"===typeof t){const e=a.breakpoints||PJ;return Object.keys(t).reduce(((r,i)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,i)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,a,r]=n,i=Number.isNaN(+a)?a||0:+a;return e.containerQueries(r).up(i)}(a.containerQueries?a:NJ,i);e&&(r[e]=n(t[i],i))}else if(Object.keys(e.values||zJ).includes(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function BJ(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function LJ(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function RJ(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function jJ(e,t,n){let a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return a="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:RJ(e,n)||r,t&&(a=t(a,r,e)),a}const VJ=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:r}=e,i=e=>{if(null==e[t])return null;const i=e[t],o=RJ(e.theme,a)||{};return OJ(e,i,(e=>{let a=jJ(o,r,e);return e===a&&"string"===typeof e&&(a=jJ(o,r,"".concat(t).concat("default"===e?"":AJ(e)),e)),!1===n?a:{[n]:a}}))};return i.propTypes={},i.filterProps=[t],i};const qJ={m:"margin",p:"padding"},UJ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GJ={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},HJ=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!GJ[e])return[e];e=GJ[e]}const[t,n]=e.split(""),a=qJ[t],r=UJ[n]||"";return Array.isArray(r)?r.map((e=>a+e)):[a+r]})),WJ=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],KJ=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],YJ=[...WJ,...KJ];function JJ(e,t,n,a){var r;const i=null!==(r=RJ(e,t,!0))&&void 0!==r?r:n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:"calc(".concat(e," * ").concat(i,")"):i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof i?i:()=>{}}function ZJ(e){return JJ(e,"spacing",8)}function XJ(e,t){return"string"===typeof t||null==t?t:e(t)}function $J(e,t,n,a){if(!t.includes(n))return null;const r=function(e,t){return n=>e.reduce(((e,a)=>(e[a]=XJ(t,n),e)),{})}(HJ(n),a);return OJ(e,e[n],r)}function QJ(e,t){const n=ZJ(e.theme);return Object.keys(e).map((a=>$J(e,t,a,n))).reduce(MJ,{})}function eZ(e){return QJ(e,WJ)}function tZ(e){return QJ(e,KJ)}function nZ(e){return QJ(e,YJ)}eZ.propTypes={},eZ.filterProps=WJ,tZ.propTypes={},tZ.filterProps=KJ,nZ.propTypes={},nZ.filterProps=YJ;const aZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),r=e=>Object.keys(e).reduce(((t,n)=>a[n]?MJ(t,a[n](e)):t),{});return r.propTypes={},r.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),r};function rZ(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function iZ(e,t){return VJ({prop:e,themeKey:"borders",transform:t})}const oZ=iZ("border",rZ),sZ=iZ("borderTop",rZ),lZ=iZ("borderRight",rZ),cZ=iZ("borderBottom",rZ),uZ=iZ("borderLeft",rZ),dZ=iZ("borderColor"),hZ=iZ("borderTopColor"),pZ=iZ("borderRightColor"),fZ=iZ("borderBottomColor"),mZ=iZ("borderLeftColor"),gZ=iZ("outline",rZ),yZ=iZ("outlineColor"),bZ=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=JJ(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:XJ(t,e)});return OJ(e,e.borderRadius,n)}return null};bZ.propTypes={},bZ.filterProps=["borderRadius"];aZ(oZ,sZ,lZ,cZ,uZ,dZ,hZ,pZ,fZ,mZ,bZ,gZ,yZ);const vZ=e=>{if(void 0!==e.gap&&null!==e.gap){const t=JJ(e.theme,"spacing",8),n=e=>({gap:XJ(t,e)});return OJ(e,e.gap,n)}return null};vZ.propTypes={},vZ.filterProps=["gap"];const wZ=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=JJ(e.theme,"spacing",8),n=e=>({columnGap:XJ(t,e)});return OJ(e,e.columnGap,n)}return null};wZ.propTypes={},wZ.filterProps=["columnGap"];const _Z=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=JJ(e.theme,"spacing",8),n=e=>({rowGap:XJ(t,e)});return OJ(e,e.rowGap,n)}return null};_Z.propTypes={},_Z.filterProps=["rowGap"];aZ(vZ,wZ,_Z,VJ({prop:"gridColumn"}),VJ({prop:"gridRow"}),VJ({prop:"gridAutoFlow"}),VJ({prop:"gridAutoColumns"}),VJ({prop:"gridAutoRows"}),VJ({prop:"gridTemplateColumns"}),VJ({prop:"gridTemplateRows"}),VJ({prop:"gridTemplateAreas"}),VJ({prop:"gridArea"}));function xZ(e,t){return"grey"===t?t:e}aZ(VJ({prop:"color",themeKey:"palette",transform:xZ}),VJ({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:xZ}),VJ({prop:"backgroundColor",themeKey:"palette",transform:xZ}));function kZ(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const TZ=VJ({prop:"width",transform:kZ}),DZ=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,a;const r=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||zJ[t];return r?"px"!==(null===(a=e.theme)||void 0===a||null===(a=a.breakpoints)||void 0===a?void 0:a.unit)?{maxWidth:"".concat(r).concat(e.theme.breakpoints.unit)}:{maxWidth:r}:{maxWidth:kZ(t)}};return OJ(e,e.maxWidth,t)}return null};DZ.filterProps=["maxWidth"];const AZ=VJ({prop:"minWidth",transform:kZ}),CZ=VJ({prop:"height",transform:kZ}),SZ=VJ({prop:"maxHeight",transform:kZ}),EZ=VJ({prop:"minHeight",transform:kZ}),FZ=(VJ({prop:"size",cssProperty:"width",transform:kZ}),VJ({prop:"size",cssProperty:"height",transform:kZ}),aZ(TZ,DZ,AZ,CZ,SZ,EZ,VJ({prop:"boxSizing"})),{border:{themeKey:"borders",transform:rZ},borderTop:{themeKey:"borders",transform:rZ},borderRight:{themeKey:"borders",transform:rZ},borderBottom:{themeKey:"borders",transform:rZ},borderLeft:{themeKey:"borders",transform:rZ},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:rZ},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:bZ},color:{themeKey:"palette",transform:xZ},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:xZ},backgroundColor:{themeKey:"palette",transform:xZ},p:{style:tZ},pt:{style:tZ},pr:{style:tZ},pb:{style:tZ},pl:{style:tZ},px:{style:tZ},py:{style:tZ},padding:{style:tZ},paddingTop:{style:tZ},paddingRight:{style:tZ},paddingBottom:{style:tZ},paddingLeft:{style:tZ},paddingX:{style:tZ},paddingY:{style:tZ},paddingInline:{style:tZ},paddingInlineStart:{style:tZ},paddingInlineEnd:{style:tZ},paddingBlock:{style:tZ},paddingBlockStart:{style:tZ},paddingBlockEnd:{style:tZ},m:{style:eZ},mt:{style:eZ},mr:{style:eZ},mb:{style:eZ},ml:{style:eZ},mx:{style:eZ},my:{style:eZ},margin:{style:eZ},marginTop:{style:eZ},marginRight:{style:eZ},marginBottom:{style:eZ},marginLeft:{style:eZ},marginX:{style:eZ},marginY:{style:eZ},marginInline:{style:eZ},marginInlineStart:{style:eZ},marginInlineEnd:{style:eZ},marginBlock:{style:eZ},marginBlockStart:{style:eZ},marginBlockEnd:{style:eZ},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:vZ},rowGap:{style:_Z},columnGap:{style:wZ},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:kZ},maxWidth:{style:DZ},minWidth:{transform:kZ},height:{transform:kZ},maxHeight:{transform:kZ},minHeight:{transform:kZ},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),MZ=FZ;const IZ=function(){function e(e,t,n,a){const r={[e]:t,theme:n},i=a[e];if(!i)return{[e]:t};const{cssProperty:o=e,themeKey:s,transform:l,style:c}=i;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const u=RJ(n,s)||{};if(c)return c(r);return OJ(r,t,(t=>{let n=jJ(u,l,t);return t===n&&"string"===typeof t&&(n=jJ(u,l,"".concat(e).concat("default"===t?"":AJ(t)),t)),!1===o?n:{[o]:n}}))}return function t(n){var a;const{sx:r,theme:i={},nested:o}=n||{};if(!r)return null;const s=null!==(a=i.unstable_sxConfig)&&void 0!==a?a:MZ;function l(n){let a=n;if("function"===typeof n)a=n(i);else if("object"!==typeof n)return n;if(!a)return null;const r=BJ(i.breakpoints),l=Object.keys(r);let c=r;return Object.keys(a).forEach((n=>{const r=function(e,t){return"function"===typeof e?e(t):e}(a[n],i);if(null!==r&&void 0!==r)if("object"===typeof r)if(s[n])c=MJ(c,e(n,r,i,s));else{const e=OJ({theme:i},r,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),r=new Set(a);return t.every((e=>r.size===Object.keys(e).length))}(e,r)?c=MJ(c,e):c[n]=t({sx:r,theme:i,nested:!0})}else c=MJ(c,e(n,r,i,s))})),!o&&i.modularCssLayers?{"@layer sx":IJ(i,LJ(l,c))}:IJ(i,LJ(l,c))}return Array.isArray(r)?r.map(l):l(r)}}();IZ.filterProps=["sx"];const zZ=IZ,PZ=["sx"];function NZ(e){const{sx:t}=e,n=i(e,PZ),{systemProps:a,otherProps:r}=(e=>{var t,n;const a={systemProps:{},otherProps:{}},r=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:MZ;return Object.keys(e).forEach((t=>{r[t]?a.systemProps[t]=e[t]:a.otherProps[t]=e[t]})),a})(n);let o;return o=Array.isArray(t)?[a,...t]:"function"===typeof t?function(){const e=t(...arguments);return SJ(e)?u(u({},a),e):a}:u(u({},a),t),u(u({},r),{},{sx:o})}const OZ=["values","unit","step"];function BZ(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,r=i(e,OZ),o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>u(u({},e),{},{[t.key]:t.val})),{})})(t),s=Object.keys(o);function l(e){const a="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(a).concat(n,")")}function c(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function d(e,r){const i=s.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[s[i]]?t[s[i]]:r)-a/100).concat(n,")")}return u({keys:s,values:o,up:l,down:c,between:d,only:function(e){return s.indexOf(e)+1<s.length?d(e,s[s.indexOf(e)+1]):l(e)},not:function(e){const t=s.indexOf(e);return 0===t?l(s[1]):t===s.length-1?c(s[t]):d(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},r)}const LZ={borderRadius:4};function RZ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZJ({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}function jZ(e,t){const n=this;if(n.vars){var a;if(null===(a=n.colorSchemes)||void 0===a||!a[e]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r="*:where(".concat(r.replace(/\s*&$/,""),") &")),{[r]:t})}return n.palette.mode===e?t:{}}const VZ=["breakpoints","palette","spacing","shape"];const qZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:a,shape:r={}}=e,o=i(e,VZ),s=BZ(t),l=RZ(a);let c=FJ({breakpoints:s,direction:"ltr",components:{},palette:u({mode:"light"},n),spacing:l,shape:u(u({},LZ),r)},o);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,a){n.up=function(){return t(e.breakpoints.up(...arguments),a)},n.down=function(){return t(e.breakpoints.down(...arguments),a)},n.between=function(){return t(e.breakpoints.between(...arguments),a)},n.only=function(){return t(e.breakpoints.only(...arguments),a)},n.not=function(){const n=t(e.breakpoints.not(...arguments),a);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const a={},r=e=>(n(a,e),a);return n(r),u(u({},e),{},{containerQueries:r})}(c),c.applyStyles=jZ;for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return c=h.reduce(((e,t)=>FJ(e,t)),c),c.unstable_sxConfig=u(u({},MZ),null===o||void 0===o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return zZ({sx:e,theme:this})},c};const UZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=n.useContext(pJ);return t&&(a=t,0!==Object.keys(a).length)?t:e;var a},GZ=qZ();const HZ=function(){return UZ(arguments.length>0&&void 0!==arguments[0]?arguments[0]:GZ)},WZ=["className","component"];const KZ=e=>e,YZ=(()=>{let e=KZ;return{configure(t){e=t},generate:t=>e(t),reset(){e=KZ}}})();const JZ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function ZZ(e){return JZ(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function XZ(e){if(e.type)return e;if("#"===e.charAt(0))return XZ(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(DJ(9,e));let a,r=e.substring(t+1,e.length-1);if("color"===n){if(r=r.split(" "),a=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(DJ(10,a))}else r=r.split(",");return r=r.map((e=>parseFloat(e))),{type:n,values:r,colorSpace:a}}const $Z=(e,t)=>{try{return(e=>{const t=XZ(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function QZ(e){const{type:t,colorSpace:n}=e;let{values:a}=e;return t.includes("rgb")?a=a.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(a[1]="".concat(a[1],"%"),a[2]="".concat(a[2],"%")),a=t.includes("color")?"".concat(n," ").concat(a.join(" ")):"".concat(a.join(", ")),"".concat(t,"(").concat(a,")")}function eX(e){e=XZ(e);const{values:t}=e,n=t[0],a=t[1]/100,r=t[2]/100,i=a*Math.min(r,1-r),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-i*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),QZ({type:s,values:l})}function tX(e){let t="hsl"===(e=XZ(e)).type||"hsla"===e.type?XZ(eX(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nX(e,t){return e=XZ(e),t=ZZ(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,QZ(e)}function aX(e,t,n){try{return nX(e,t)}catch(a){return e}}function rX(e,t){if(e=XZ(e),t=ZZ(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return QZ(e)}function iX(e,t,n){try{return rX(e,t)}catch(a){return e}}function oX(e,t){if(e=XZ(e),t=ZZ(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return QZ(e)}function sX(e,t,n){try{return oX(e,t)}catch(a){return e}}function lX(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return tX(e)>.5?rX(e,t):oX(e,t)}(e,t)}catch(a){return e}}const cX={black:"#000",white:"#fff"},uX={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},dX={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},hX={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pX={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fX={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},mX={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},gX={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},yX=["mode","contrastThreshold","tonalOffset","colorSpace"];function bX(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cX.white,default:cX.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const vX=bX();function wX(){return{text:{primary:cX.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cX.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const _X=wX();function xX(e,t,n,a){const r=a.light||a,i=a.dark||1.5*a;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=oX(e.main,r):"dark"===t&&(e.dark=rX(e.main,i)))}function kX(e,t,n,a,r){const i=r.light||r,o=r.dark||1.5*r;t[n]||(t.hasOwnProperty(a)?t[n]=t[a]:"light"===n?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*i).toFixed(0),"%)"):"dark"===n&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*o).toFixed(0),"%)")))}function TX(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2,colorSpace:r}=e,o=i(e,yX),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fX[200],light:fX[50],dark:fX[400]}:{main:fX[700],light:fX[400],dark:fX[800]}}(t),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:dX[200],light:dX[50],dark:dX[400]}:{main:dX[500],light:dX[300],dark:dX[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hX[500],light:hX[300],dark:hX[700]}:{main:hX[700],light:hX[400],dark:hX[800]}}(t),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:mX[400],light:mX[300],dark:mX[700]}:{main:mX[700],light:mX[500],dark:mX[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gX[400],light:gX[300],dark:gX[700]}:{main:gX[800],light:gX[500],dark:gX[900]}}(t),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pX[400],light:pX[300],dark:pX[700]}:{main:"#ed6c02",light:pX[500],dark:pX[900]}}(t);function f(e){if(r)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const n=tX(e),a=tX(t);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)}(e,_X.text.primary)>=n?_X.text.primary:vX.text.primary;return t}const m=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=u({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(DJ(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(DJ(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return r?(kX(r,t,"light",o,a),kX(r,t,"dark",s,a)):(xX(t,"light",o,a),xX(t,"dark",s,a)),t.contrastText||(t.contrastText=f(t.main)),t};let g;"light"===t?g=bX():"dark"===t&&(g=wX());return FJ(u({common:u({},cX),mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:uX,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:a},g),o)}function DX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(!a.length)return"";const i=a[0];return"string"!==typeof i||i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(i):", var(--".concat(e?"".concat(e,"-"):"").concat(i).concat(t(...a.slice(1)),")")}return function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...r),")")}}function AX(e){const t={};return Object.entries(e).forEach((e=>{const[n,a]=e;"object"===typeof a&&(t[n]="".concat(a.fontStyle?"".concat(a.fontStyle," "):"").concat(a.fontVariant?"".concat(a.fontVariant," "):"").concat(a.fontWeight?"".concat(a.fontWeight," "):"").concat(a.fontStretch?"".concat(a.fontStretch," "):"").concat(a.fontSize||"").concat(a.lineHeight?"/".concat(a.lineHeight," "):"").concat(a.fontFamily||""))})),t}const CX=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=e;t.forEach(((e,i)=>{i===t.length-1?Array.isArray(r)?r[Number(e)]=n:r&&"object"===typeof r&&(r[e]=n):r&&"object"===typeof r&&(r[e]||(r[e]=a.includes(e)?[]:{}),r=r[e])}))};function SX(e,t){const{prefix:n,shouldSkipGeneratingVar:a}=t||{},r={},i={},o={};var s,l;return s=(e,t,s)=>{if(("string"===typeof t||"number"===typeof t)&&(!a||!a(e,t))){const a="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(r,{[a]:l}),CX(i,e,"var(".concat(a,")"),s),CX(o,e,"var(".concat(a,", ").concat(l,")"),s)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach((t=>{let[r,i]=t;(!l||l&&!l([...n,r]))&&void 0!==i&&null!==i&&("object"===typeof i&&Object.keys(i).length>0?e(i,[...n,r],Array.isArray(i)?[...a,r]:a):s([...n,r],i,a))}))}(e),{css:r,vars:i,varsWithDefaults:o}}const EX=["colorSchemes","components","defaultColorScheme"];const FX=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=w,disableCssColorScheme:a,colorSchemeSelector:r,enableContrastVars:o}=t,{colorSchemes:l={},components:c,defaultColorScheme:d="light"}=e,h=i(e,EX),{vars:p,css:f,varsWithDefaults:m}=SX(h,t);let g=m;const y={},{[d]:b}=l,v=i(l,[d].map(s));if(Object.entries(v||{}).forEach((e=>{let[n,a]=e;const{vars:r,css:i,varsWithDefaults:o}=SX(a,t);g=FJ(g,o),y[n]={css:i,vars:r}})),b){const{css:e,vars:n,varsWithDefaults:a}=SX(b,t);g=FJ(g,a),y[d]={css:e,vars:n}}function w(t,n){let a=r;if("class"===r&&(a=".%s"),"data"===r&&(a="[data-%s]"),null!==r&&void 0!==r&&r.startsWith("data-")&&!r.includes("%s")&&(a="[".concat(r,'="%s"]')),t){if("media"===a){var i;if(e.defaultColorScheme===t)return":root";const a=(null===(i=l[t])||void 0===i||null===(i=i.palette)||void 0===i?void 0:i.mode)||t;return{["@media (prefers-color-scheme: ".concat(a,")")]:{":root":n}}}if(a)return e.defaultColorScheme===t?":root, ".concat(a.replace("%s",String(t))):a.replace("%s",String(t))}return":root"}return{vars:g,generateThemeVars:()=>{let e=u({},p);return Object.entries(y).forEach((t=>{let[,{vars:n}]=t;e=FJ(e,n)})),e},generateStyleSheets:()=>{const t=[],r=e.defaultColorScheme||"light";function c(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:u({},n)}:e)}c(n(void 0,u({},f)),f);const{[r]:d}=y,h=i(y,[r].map(s));if(d){var p;const{css:e}=d,t=null===(p=l[r])||void 0===p||null===(p=p.palette)||void 0===p?void 0:p.mode,i=u(!a&&t?{colorScheme:t}:{},e);c(n(r,u({},i)),i)}return Object.entries(h).forEach((e=>{var t;let[r,{css:i}]=e;const o=null===(t=l[r])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,s=u(!a&&o?{colorScheme:o}:{},i);c(n(r,u({},s)),s)})),o&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};function MX(e,t){return u({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const IX=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function zX(e){return Math.round(1e5*e)/1e5}const PX={textTransform:"uppercase"},NX='"Roboto", "Helvetica", "Arial", sans-serif';function OX(e,t){const n="function"===typeof t?t(e):t,{fontFamily:a=NX,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:p}=n,f=i(n,IX);const m=r/14,g=p||(e=>"".concat(e/d*m,"rem")),y=(e,t,n,r,i)=>u(u(u({fontFamily:a,fontWeight:e,fontSize:g(t),lineHeight:n},a===NX?{letterSpacing:"".concat(zX(r/t),"em")}:{}),i),h),b={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,PX),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,PX),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return FJ(u({htmlFontSize:d,pxToRem:g,fontFamily:a,fontSize:r,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},b),f,{clone:!1})}function BX(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const LX=["none",BX(0,2,1,-1,0,1,1,0,0,1,3,0),BX(0,3,1,-2,0,2,2,0,0,1,5,0),BX(0,3,3,-2,0,3,4,0,0,1,8,0),BX(0,2,4,-1,0,4,5,0,0,1,10,0),BX(0,3,5,-1,0,5,8,0,0,1,14,0),BX(0,3,5,-1,0,6,10,0,0,1,18,0),BX(0,4,5,-2,0,7,10,1,0,2,16,1),BX(0,5,5,-3,0,8,10,1,0,3,14,2),BX(0,5,6,-3,0,9,12,1,0,3,16,2),BX(0,6,6,-3,0,10,14,1,0,4,18,3),BX(0,6,7,-4,0,11,15,1,0,4,20,3),BX(0,7,8,-4,0,12,17,2,0,5,22,4),BX(0,7,8,-4,0,13,19,2,0,5,24,4),BX(0,7,9,-4,0,14,21,2,0,5,26,4),BX(0,8,9,-5,0,15,22,2,0,6,28,5),BX(0,8,10,-5,0,16,24,2,0,6,30,5),BX(0,8,11,-5,0,17,26,2,0,6,32,5),BX(0,9,11,-5,0,18,28,2,0,7,34,6),BX(0,9,12,-6,0,19,29,2,0,7,36,6),BX(0,10,13,-6,0,20,31,3,0,8,38,7),BX(0,10,13,-6,0,21,33,3,0,8,40,7),BX(0,10,14,-6,0,22,35,3,0,8,42,7),BX(0,11,14,-7,0,23,36,3,0,9,44,8),BX(0,11,15,-7,0,24,38,3,0,9,46,8)],RX=["duration","easing","delay"],jX={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},VX={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qX(e){return"".concat(Math.round(e),"ms")}function UX(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function GX(e){const t=u(u({},jX),e.easing),n=u(u({},VX),e.duration);return u(u({getAutoHeightDuration:UX,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:r=n.standard,easing:o=t.easeInOut,delay:s=0}=a;i(a,RX);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof r?r:qX(r)," ").concat(o," ").concat("string"===typeof s?s:qX(s)))).join(",")}},e),{},{easing:t,duration:n})}const HX={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function WX(){const e=u({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[i,o]=n[r];!SJ(a=o)&&"undefined"!==typeof a&&"string"!==typeof a&&"boolean"!==typeof a&&"number"!==typeof a&&!Array.isArray(a)||i.startsWith("unstable_")?delete t[i]:SJ(o)&&(t[i]=u({},o),e(t[i]))}var a}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const KX=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function YX(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function JX(e){Object.assign(e,{alpha(t,n){const a=this||e;return a.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):a.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):nX(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let a=0;a<t.length;a+=1)n+=+t[a];return n})(n))},lighten(t,n){const a=this||e;return a.colorSpace?"color-mix(in ".concat(a.colorSpace,", ").concat(t,", #fff ").concat(YX(n),")"):oX(t,n)},darken(t,n){const a=this||e;return a.colorSpace?"color-mix(in ".concat(a.colorSpace,", ").concat(t,", #000 ").concat(YX(n),")"):rX(t,n)}})}const ZX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:a,palette:r={},transitions:o={},typography:s={},shape:l,colorSpace:c}=e,d=i(e,KX);if(e.vars&&void 0===e.generateThemeVars)throw new Error(DJ(20));const h=TX(u(u({},r),{},{colorSpace:c})),p=qZ(e);let f=FJ(p,{mixins:MX(p.breakpoints,n),palette:h,shadows:LX.slice(),typography:OX(h,s),transitions:GX(o),zIndex:u({},HX)});f=FJ(f,d);for(var m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return f=g.reduce(((e,t)=>FJ(e,t)),f),f.unstable_sxConfig=u(u({},MZ),null===d||void 0===d?void 0:d.unstable_sxConfig),f.unstable_sx=function(e){return zZ({sx:e,theme:this})},f.toRuntimeSource=WX,JX(f),f};const XX=["palette","opacity","overlays","colorSpace"],$X=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=function(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function QX(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function e$(e){return"dark"===e?$X:[]}function t$(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const n$=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],a$=e=>(t,n)=>{const a=e.rootSelector||":root",r=e.colorSchemeSelector;let i=r;if("class"===r&&(i=".%s"),"data"===r&&(i="[data-%s]"),null!==r&&void 0!==r&&r.startsWith("data-")&&!r.includes("%s")&&(i="[".concat(r,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const r={};return n$(e.cssVarPrefix).forEach((e=>{r[e]=n[e],delete n[e]})),"media"===i?{[a]:n,"@media (prefers-color-scheme: dark)":{[a]:r}}:i?{[i.replace("%s",t)]:r,["".concat(a,", ").concat(i.replace("%s",t))]:n}:{[a]:u(u({},n),r)}}if(i&&"media"!==i)return"".concat(a,", ").concat(i.replace("%s",String(t)))}else if(t){if("media"===i)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[a]:n}};if(i)return i.replace("%s",String(t))}return a},r$=["palette"],i$=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function o$(e,t,n){!e[t]&&n&&(e[t]=n)}function s$(e){return"string"===typeof e&&e.startsWith("hsl")?eX(e):e}function l$(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=$Z(s$(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const c$=e=>{try{return e()}catch(t){}};function u$(e,t,n,a,r){var o,s,l;if(!n)return;n=!0===n?{}:n;const c="dark"===r?"dark":"light";var d;if(!a)return void(t[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:a,colorSpace:r}=e,o=i(e,XX),s=TX(u(u({},t),{},{colorSpace:r}));return u({palette:s,opacity:u(u({},QX(s.mode)),n),overlays:a||e$(s.mode)},o)}(u(u({},n),{},{palette:u({mode:c},null===(d=n)||void 0===d?void 0:d.palette),colorSpace:e})));const h=ZX(u(u({},a),{},{palette:u({mode:c},null===(o=n)||void 0===o?void 0:o.palette),colorSpace:e})),{palette:p}=h,f=i(h,r$);return t[r]=u(u({},n),{},{palette:p,opacity:u(u({},QX(c)),null===(s=n)||void 0===s?void 0:s.opacity),overlays:(null===(l=n)||void 0===l?void 0:l.overlays)||e$(c)}),f}function d$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:a=!1,cssVarPrefix:r="mui",nativeColor:o=!1,shouldSkipGeneratingVar:l=t$,colorSchemeSelector:c=(t.light&&t.dark?"media":void 0),rootSelector:d=":root"}=e,h=i(e,i$),p=Object.keys(t)[0],f=n||(t.light&&"light"!==p?"light":p),m=function(){return DX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(r),{[f]:g,light:y,dark:b}=t,v=u({},i(t,[f,"light","dark"].map(s)));let w,_=g;if(("dark"===f&&!("dark"in t)||"light"===f&&!("light"in t))&&(_=!0),!_)throw new Error(DJ(21,f));o&&(w="oklch");const x=u$(w,v,_,h,f);y&&!v.light&&u$(w,v,y,void 0,"light"),b&&!v.dark&&u$(w,v,b,void 0,"dark");let k=u(u({defaultColorScheme:f},x),{},{cssVarPrefix:r,colorSchemeSelector:c,rootSelector:d,getCssVar:m,colorSchemes:v,font:u(u({},AX(x.typography)),x.font),spacing:(T=h.spacing,"number"===typeof T?"".concat(T,"px"):"string"===typeof T||"function"===typeof T||Array.isArray(T)?T:"8px")});var T;Object.keys(k.colorSchemes).forEach((e=>{const t=k.colorSchemes[e].palette,n=e=>{const n=e.split("-"),a=n[1],r=n[2];return m(e,t[a][r])};function a(e,t,n){if(w){let a;return e===aX&&(a="transparent ".concat((100*(1-n)).toFixed(0),"%")),e===iX&&(a="#000 ".concat((100*n).toFixed(0),"%")),e===sX&&(a="#fff ".concat((100*n).toFixed(0),"%")),"color-mix(in ".concat(w,", ").concat(t,", ").concat(a,")")}return e(t,n)}if("light"===t.mode&&(o$(t.common,"background","#fff"),o$(t.common,"onBackground","#000")),"dark"===t.mode&&(o$(t.common,"background","#000"),o$(t.common,"onBackground","#fff")),function(e,t){t.forEach((t=>{e[t]||(e[t]={})}))}(t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),"light"===t.mode){o$(t.Alert,"errorColor",a(iX,t.error.light,.6)),o$(t.Alert,"infoColor",a(iX,t.info.light,.6)),o$(t.Alert,"successColor",a(iX,t.success.light,.6)),o$(t.Alert,"warningColor",a(iX,t.warning.light,.6)),o$(t.Alert,"errorFilledBg",n("palette-error-main")),o$(t.Alert,"infoFilledBg",n("palette-info-main")),o$(t.Alert,"successFilledBg",n("palette-success-main")),o$(t.Alert,"warningFilledBg",n("palette-warning-main")),o$(t.Alert,"errorFilledColor",c$((()=>t.getContrastText(t.error.main)))),o$(t.Alert,"infoFilledColor",c$((()=>t.getContrastText(t.info.main)))),o$(t.Alert,"successFilledColor",c$((()=>t.getContrastText(t.success.main)))),o$(t.Alert,"warningFilledColor",c$((()=>t.getContrastText(t.warning.main)))),o$(t.Alert,"errorStandardBg",a(sX,t.error.light,.9)),o$(t.Alert,"infoStandardBg",a(sX,t.info.light,.9)),o$(t.Alert,"successStandardBg",a(sX,t.success.light,.9)),o$(t.Alert,"warningStandardBg",a(sX,t.warning.light,.9)),o$(t.Alert,"errorIconColor",n("palette-error-main")),o$(t.Alert,"infoIconColor",n("palette-info-main")),o$(t.Alert,"successIconColor",n("palette-success-main")),o$(t.Alert,"warningIconColor",n("palette-warning-main")),o$(t.AppBar,"defaultBg",n("palette-grey-100")),o$(t.Avatar,"defaultBg",n("palette-grey-400")),o$(t.Button,"inheritContainedBg",n("palette-grey-300")),o$(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),o$(t.Chip,"defaultBorder",n("palette-grey-400")),o$(t.Chip,"defaultAvatarColor",n("palette-grey-700")),o$(t.Chip,"defaultIconColor",n("palette-grey-700")),o$(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),o$(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),o$(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),o$(t.LinearProgress,"primaryBg",a(sX,t.primary.main,.62)),o$(t.LinearProgress,"secondaryBg",a(sX,t.secondary.main,.62)),o$(t.LinearProgress,"errorBg",a(sX,t.error.main,.62)),o$(t.LinearProgress,"infoBg",a(sX,t.info.main,.62)),o$(t.LinearProgress,"successBg",a(sX,t.success.main,.62)),o$(t.LinearProgress,"warningBg",a(sX,t.warning.main,.62)),o$(t.Skeleton,"bg",w?a(aX,t.text.primary,.11):"rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),o$(t.Slider,"primaryTrack",a(sX,t.primary.main,.62)),o$(t.Slider,"secondaryTrack",a(sX,t.secondary.main,.62)),o$(t.Slider,"errorTrack",a(sX,t.error.main,.62)),o$(t.Slider,"infoTrack",a(sX,t.info.main,.62)),o$(t.Slider,"successTrack",a(sX,t.success.main,.62)),o$(t.Slider,"warningTrack",a(sX,t.warning.main,.62));const e=w?a(iX,t.background.default,.6825):lX(t.background.default,.8);o$(t.SnackbarContent,"bg",e),o$(t.SnackbarContent,"color",c$((()=>w?_X.text.primary:t.getContrastText(e)))),o$(t.SpeedDialAction,"fabHoverBg",lX(t.background.paper,.15)),o$(t.StepConnector,"border",n("palette-grey-400")),o$(t.StepContent,"border",n("palette-grey-400")),o$(t.Switch,"defaultColor",n("palette-common-white")),o$(t.Switch,"defaultDisabledColor",n("palette-grey-100")),o$(t.Switch,"primaryDisabledColor",a(sX,t.primary.main,.62)),o$(t.Switch,"secondaryDisabledColor",a(sX,t.secondary.main,.62)),o$(t.Switch,"errorDisabledColor",a(sX,t.error.main,.62)),o$(t.Switch,"infoDisabledColor",a(sX,t.info.main,.62)),o$(t.Switch,"successDisabledColor",a(sX,t.success.main,.62)),o$(t.Switch,"warningDisabledColor",a(sX,t.warning.main,.62)),o$(t.TableCell,"border",a(sX,a(aX,t.divider,1),.88)),o$(t.Tooltip,"bg",a(aX,t.grey[700],.92))}if("dark"===t.mode){o$(t.Alert,"errorColor",a(sX,t.error.light,.6)),o$(t.Alert,"infoColor",a(sX,t.info.light,.6)),o$(t.Alert,"successColor",a(sX,t.success.light,.6)),o$(t.Alert,"warningColor",a(sX,t.warning.light,.6)),o$(t.Alert,"errorFilledBg",n("palette-error-dark")),o$(t.Alert,"infoFilledBg",n("palette-info-dark")),o$(t.Alert,"successFilledBg",n("palette-success-dark")),o$(t.Alert,"warningFilledBg",n("palette-warning-dark")),o$(t.Alert,"errorFilledColor",c$((()=>t.getContrastText(t.error.dark)))),o$(t.Alert,"infoFilledColor",c$((()=>t.getContrastText(t.info.dark)))),o$(t.Alert,"successFilledColor",c$((()=>t.getContrastText(t.success.dark)))),o$(t.Alert,"warningFilledColor",c$((()=>t.getContrastText(t.warning.dark)))),o$(t.Alert,"errorStandardBg",a(iX,t.error.light,.9)),o$(t.Alert,"infoStandardBg",a(iX,t.info.light,.9)),o$(t.Alert,"successStandardBg",a(iX,t.success.light,.9)),o$(t.Alert,"warningStandardBg",a(iX,t.warning.light,.9)),o$(t.Alert,"errorIconColor",n("palette-error-main")),o$(t.Alert,"infoIconColor",n("palette-info-main")),o$(t.Alert,"successIconColor",n("palette-success-main")),o$(t.Alert,"warningIconColor",n("palette-warning-main")),o$(t.AppBar,"defaultBg",n("palette-grey-900")),o$(t.AppBar,"darkBg",n("palette-background-paper")),o$(t.AppBar,"darkColor",n("palette-text-primary")),o$(t.Avatar,"defaultBg",n("palette-grey-600")),o$(t.Button,"inheritContainedBg",n("palette-grey-800")),o$(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),o$(t.Chip,"defaultBorder",n("palette-grey-700")),o$(t.Chip,"defaultAvatarColor",n("palette-grey-300")),o$(t.Chip,"defaultIconColor",n("palette-grey-300")),o$(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),o$(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),o$(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),o$(t.LinearProgress,"primaryBg",a(iX,t.primary.main,.5)),o$(t.LinearProgress,"secondaryBg",a(iX,t.secondary.main,.5)),o$(t.LinearProgress,"errorBg",a(iX,t.error.main,.5)),o$(t.LinearProgress,"infoBg",a(iX,t.info.main,.5)),o$(t.LinearProgress,"successBg",a(iX,t.success.main,.5)),o$(t.LinearProgress,"warningBg",a(iX,t.warning.main,.5)),o$(t.Skeleton,"bg",w?a(aX,t.text.primary,.13):"rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),o$(t.Slider,"primaryTrack",a(iX,t.primary.main,.5)),o$(t.Slider,"secondaryTrack",a(iX,t.secondary.main,.5)),o$(t.Slider,"errorTrack",a(iX,t.error.main,.5)),o$(t.Slider,"infoTrack",a(iX,t.info.main,.5)),o$(t.Slider,"successTrack",a(iX,t.success.main,.5)),o$(t.Slider,"warningTrack",a(iX,t.warning.main,.5));const e=w?a(sX,t.background.default,.985):lX(t.background.default,.98);o$(t.SnackbarContent,"bg",e),o$(t.SnackbarContent,"color",c$((()=>w?vX.text.primary:t.getContrastText(e)))),o$(t.SpeedDialAction,"fabHoverBg",lX(t.background.paper,.15)),o$(t.StepConnector,"border",n("palette-grey-600")),o$(t.StepContent,"border",n("palette-grey-600")),o$(t.Switch,"defaultColor",n("palette-grey-300")),o$(t.Switch,"defaultDisabledColor",n("palette-grey-600")),o$(t.Switch,"primaryDisabledColor",a(iX,t.primary.main,.55)),o$(t.Switch,"secondaryDisabledColor",a(iX,t.secondary.main,.55)),o$(t.Switch,"errorDisabledColor",a(iX,t.error.main,.55)),o$(t.Switch,"infoDisabledColor",a(iX,t.info.main,.55)),o$(t.Switch,"successDisabledColor",a(iX,t.success.main,.55)),o$(t.Switch,"warningDisabledColor",a(iX,t.warning.main,.55)),o$(t.TableCell,"border",a(iX,a(aX,t.divider,1),.68)),o$(t.Tooltip,"bg",a(aX,t.grey[700],.92))}l$(t.background,"default"),l$(t.background,"paper"),l$(t.common,"background"),l$(t.common,"onBackground"),l$(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&o$(t[e],"mainChannel",$Z(s$(n.main))),n.light&&o$(t[e],"lightChannel",$Z(s$(n.light))),n.dark&&o$(t[e],"darkChannel",$Z(s$(n.dark))),n.contrastText&&o$(t[e],"contrastTextChannel",$Z(s$(n.contrastText))),"text"===e&&(l$(t[e],"primary"),l$(t[e],"secondary")),"action"===e&&(n.active&&l$(t[e],"active"),n.selected&&l$(t[e],"selected")))}))}));for(var D=arguments.length,A=new Array(D>1?D-1:0),C=1;C<D;C++)A[C-1]=arguments[C];k=A.reduce(((e,t)=>FJ(e,t)),k);const S={prefix:r,disableCssColorScheme:a,shouldSkipGeneratingVar:l,getSelector:a$(k),enableContrastVars:o},{vars:E,generateThemeVars:F,generateStyleSheets:M}=FX(k,S);return k.vars=E,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach((e=>{let[t,n]=e;k[t]=n})),k.generateThemeVars=F,k.generateStyleSheets=M,k.generateSpacing=function(){return RZ(h.spacing,ZJ(this))},k.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(c),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=l,k.unstable_sxConfig=u(u({},MZ),null===h||void 0===h?void 0:h.unstable_sxConfig),k.unstable_sx=function(e){return zZ({sx:e,theme:this})},k.toRuntimeSource=WX,k}const h$=["palette","cssVariables","colorSchemes","defaultColorScheme"];function p$(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=u(u({},!0!==n&&n),{},{palette:TX(u(u({},!0===n?{}:n.palette),{},{mode:t}))}))}function f$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:a=(t?void 0:{light:!0}),defaultColorScheme:r=(null===t||void 0===t?void 0:t.mode)}=e,o=i(e,h$),s=r||"light",l=null===a||void 0===a?void 0:a[s],c=u(u({},a),t?{[s]:u(u({},"boolean"!==typeof l&&l),{},{palette:t})}:void 0);for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];if(!1===n){if(!("colorSchemes"in e))return ZX(e,...h);let n=t;"palette"in e||c[s]&&(!0!==c[s]?n=c[s].palette:"dark"===s&&(n={mode:"dark"}));const a=ZX(u(u({},e),{},{palette:n}),...h);return a.defaultColorScheme=s,a.colorSchemes=c,"light"===a.palette.mode&&(a.colorSchemes.light=u(u({},!0!==c.light&&c.light),{},{palette:a.palette}),p$(a,"dark",c.dark)),"dark"===a.palette.mode&&(a.colorSchemes.dark=u(u({},!0!==c.dark&&c.dark),{},{palette:a.palette}),p$(a,"light",c.light)),a}return t||"light"in c||"light"!==s||(c.light=!0),d$(u(u({},o),{},{colorSchemes:c,defaultColorScheme:s},"boolean"!==typeof n&&n),...h)}const m$="$$material",g$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function y$(e,t){const n=g$[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(YZ.generate(e),"-").concat(t)}function b$(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const a={};return t.forEach((t=>{a[t]=y$(e,t,n)})),a}const v$=b$("MuiBox",["root"]),w$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:a,defaultClassName:r="MuiBox-root",generateClassName:o}=e,s=xJ("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(zZ);return n.forwardRef((function(e,n){const l=HZ(a),c=NZ(e),{className:d,component:h="div"}=c,p=i(c,WZ);return(0,LK.jsx)(s,u({as:h,ref:n,className:KK(d,o?o(r):r),theme:t&&l[t]||l},p))}))}({themeId:m$,defaultTheme:f$(),defaultClassName:v$.root,generateClassName:YZ.generate}),_$=w$;const x$=n.createContext();function k$(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const r=n.useRef(void 0),i=n.useCallback((e=>{const n=t.map((t=>{if(null==t)return null;if("function"===typeof t){const n=t,a=n(e);return"function"===typeof a?a:()=>{n(null)}}return t.current=e,()=>{t.current=null}}));return()=>{n.forEach((e=>null===e||void 0===e?void 0:e()))}}),t);return n.useMemo((()=>t.every((e=>null==e))?null:e=>{r.current&&(r.current(),r.current=void 0),null!=e&&(r.current=i(e))}),t)}const T$=function(e){return"string"===typeof e};const D$=function(e,t,n){return void 0===e||T$(e)?t:u(u({},t),{},{ownerState:u(u({},t.ownerState),n)})};const A$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const C$=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const S$=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:a,externalForwardedProps:r,className:i}=e;if(!t){const e=KK(null===n||void 0===n?void 0:n.className,i,null===r||void 0===r?void 0:r.className,null===a||void 0===a?void 0:a.className),t=u(u(u({},null===n||void 0===n?void 0:n.style),null===r||void 0===r?void 0:r.style),null===a||void 0===a?void 0:a.style),o=u(u(u({},n),r),a);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}const o=A$(u(u({},r),a)),s=C$(a),l=C$(r),c=t(o),d=KK(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,i,null===r||void 0===r?void 0:r.className,null===a||void 0===a?void 0:a.className),h=u(u(u(u({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===r||void 0===r?void 0:r.style),null===a||void 0===a?void 0:a.style),p=u(u(u(u({},c),n),l),s);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:c.ref}};const E$=function(e,t,n){return"function"===typeof e?e(t,n):e},F$=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const M$=function(e){var t;const{elementType:n,externalSlotProps:a,ownerState:r,skipResolvingSlotProps:o=!1}=e,s=i(e,F$),l=o?{}:E$(a,r),{props:c,internalRef:d}=S$(u(u({},s),{},{externalSlotProps:l})),h=k$(d,null===l||void 0===l?void 0:l.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return D$(n,u(u({},c),{},{ref:h}),r)};function I$(e){return e&&e.ownerDocument||document}const z$="undefined"!==typeof window?n.useLayoutEffect:n.useEffect;const P$=function(e){const t=n.useRef(e);return z$((()=>{t.current=e})),n.useRef((function(){return(0,t.current)(...arguments)})).current};function N$(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const O$={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const B$=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every(((e,a)=>n(e,t[a])))};function L$(e,t,n,a,r){return 1===n?Math.min(e+t,r):Math.max(e-t,a)}function R$(e,t){return e-t}function j$(e,t){var n;const{index:a}=null!==(n=e.reduce(((e,n,a)=>{const r=Math.abs(t-n);return null===e||r<e.distance||r===e.distance?{distance:r,index:a}:e}),null))&&void 0!==n?n:{};return a}function V$(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const a=n.changedTouches[e];if(a.identifier===t.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function q$(e,t,n){return 100*(e-t)/(n-t)}function U$(e,t,n){const a=Math.round((e-n)/t)*t+n;return Number(a.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function G$(e){let{values:t,newValue:n,index:a}=e;const r=t.slice();return r[a]=n,r.sort(R$)}function H$(e){var t,n;let{sliderRef:a,activeIndex:r,setActive:i}=e;const o=I$(a.current);var s;null!==(t=a.current)&&void 0!==t&&t.contains(o.activeElement)&&Number(null===o||void 0===o||null===(n=o.activeElement)||void 0===n?void 0:n.getAttribute("data-index"))===r||(null===(s=a.current)||void 0===s||s.querySelector('[type="range"][data-index="'.concat(r,'"]')).focus());i&&i(r)}function W$(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&B$(e,t)}const K$={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},Y$=e=>e;let J$;function Z$(){return void 0===J$&&(J$="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),J$}function X$(e){const{"aria-labelledby":t,defaultValue:a,disabled:r=!1,disableSwap:i=!1,isRtl:o=!1,marks:s=!1,max:l=100,min:c=0,name:d,onChange:h,onChangeCommitted:p,orientation:f="horizontal",rootRef:m,scale:g=Y$,step:y=1,shiftStep:b=10,tabIndex:v,value:w}=e,_=n.useRef(void 0),[x,k]=n.useState(-1),[T,D]=n.useState(-1),[A,C]=n.useState(!1),S=n.useRef(0),E=n.useRef(null),[F,M]=function(e){const{controlled:t,default:a,name:r,state:i="value"}=e,{current:o}=n.useRef(void 0!==t),[s,l]=n.useState(a);return[o?t:s,n.useCallback((e=>{o||l(e)}),[])]}({controlled:w,default:null!==a&&void 0!==a?a:c,name:"Slider"}),I=h&&((e,t,n)=>{const a=e.nativeEvent||e,r=new a.constructor(a.type,a);Object.defineProperty(r,"target",{writable:!0,value:{value:t,name:d}}),E.current=t,h(r,t,n)}),z=Array.isArray(F);let P=z?F.slice().sort(R$):[F];P=P.map((e=>null==e?c:JZ(e,c,l)));const N=!0===s&&null!==y?[...Array(Math.floor((l-c)/y)+1)].map(((e,t)=>({value:c+y*t}))):s||[],O=N.map((e=>e.value)),[B,L]=n.useState(-1),R=n.useRef(null),j=k$(m,R),V=e=>t=>{var n;const a=Number(t.currentTarget.getAttribute("data-index"));N$(t.target)&&L(a),D(a),null===e||void 0===e||null===(n=e.onFocus)||void 0===n||n.call(e,t)},q=e=>t=>{var n;N$(t.target)||L(-1),D(-1),null===e||void 0===e||null===(n=e.onBlur)||void 0===n||n.call(e,t)},U=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),a=P[n],r=O.indexOf(a);let o=t;if(N&&null==y){const e=O[O.length-1];o=o>=e?e:o<=O[0]?O[0]:o<a?O[r-1]:O[r+1]}if(o=JZ(o,c,l),z){i&&(o=JZ(o,P[n-1]||-1/0,P[n+1]||1/0));const e=o;o=G$({values:P,newValue:o,index:n});let t=n;i||(t=o.indexOf(e)),H$({sliderRef:R,activeIndex:t})}var s;(M(o),L(n),I&&!W$(o,F)&&I(e,o,n),p)&&p(e,null!==(s=E.current)&&void 0!==s?s:o)},G=e=>t=>{var n;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(t.key)){t.preventDefault();const e=Number(t.currentTarget.getAttribute("data-index")),n=P[e];let a=null;if(null!=y){const e=t.shiftKey?b:y;switch(t.key){case"ArrowUp":a=L$(n,e,1,c,l);break;case"ArrowRight":a=L$(n,e,o?-1:1,c,l);break;case"ArrowDown":a=L$(n,e,-1,c,l);break;case"ArrowLeft":a=L$(n,e,o?1:-1,c,l);break;case"PageUp":a=L$(n,b,1,c,l);break;case"PageDown":a=L$(n,b,-1,c,l);break;case"Home":a=c;break;case"End":a=l}}else if(N){const e=O[O.length-1],r=O.indexOf(n),i=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"].includes(t.key)?a=0===r?O[0]:O[r-1]:i.includes(t.key)&&(a=r===O.length-1?e:O[r+1])}null!=a&&U(t,a)}null===e||void 0===e||null===(n=e.onKeyDown)||void 0===n||n.call(e,t)};z$((()=>{var e;r&&R.current.contains(document.activeElement)&&(null===(e=document.activeElement)||void 0===e||e.blur())}),[r]),r&&-1!==x&&k(-1),r&&-1!==B&&L(-1);const H=n.useRef(void 0);let W=f;o&&"horizontal"===f&&(W+="-reverse");const K=e=>{let{finger:t,move:n=!1}=e;const{current:a}=R,{width:r,height:o,bottom:s,left:u}=a.getBoundingClientRect();let d,h;if(d=W.startsWith("vertical")?(s-t.y)/o:(t.x-u)/r,W.includes("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,c,l),y)h=U$(h,y,c);else{const e=j$(O,h);h=O[e]}h=JZ(h,c,l);let p=0;if(z){p=n?H.current:j$(P,h),i&&(h=JZ(h,P[p-1]||-1/0,P[p+1]||1/0));const e=h;h=G$({values:P,newValue:h,index:p}),i&&n||(p=h.indexOf(e),H.current=p)}return{newValue:h,activeIndex:p}},Y=P$((e=>{const t=V$(e,_);if(!t)return;if(S.current+=1,"mousemove"===e.type&&0===e.buttons)return void J(e);const{newValue:n,activeIndex:a}=K({finger:t,move:!0});H$({sliderRef:R,activeIndex:a,setActive:k}),M(n),!A&&S.current>2&&C(!0),I&&!W$(n,F)&&I(e,n,a)})),J=P$((e=>{const t=V$(e,_);if(C(!1),!t)return;const{newValue:n}=K({finger:t,move:!0});var a;(k(-1),"touchend"===e.type&&D(-1),p)&&p(e,null!==(a=E.current)&&void 0!==a?a:n);_.current=void 0,X()})),Z=P$((e=>{if(r)return;Z$()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(_.current=t.identifier);const n=V$(e,_);if(!1!==n){const{newValue:t,activeIndex:a}=K({finger:n});H$({sliderRef:R,activeIndex:a,setActive:k}),M(t),I&&!W$(t,F)&&I(e,t,a)}S.current=0;const a=I$(R.current);a.addEventListener("touchmove",Y,{passive:!0}),a.addEventListener("touchend",J,{passive:!0})})),X=n.useCallback((()=>{const e=I$(R.current);e.removeEventListener("mousemove",Y),e.removeEventListener("mouseup",J),e.removeEventListener("touchmove",Y),e.removeEventListener("touchend",J)}),[J,Y]);n.useEffect((()=>{const{current:e}=R;return e.addEventListener("touchstart",Z,{passive:Z$()}),()=>{e.removeEventListener("touchstart",Z),X()}}),[X,Z]),n.useEffect((()=>{r&&X()}),[r,X]);const $=q$(z?P[0]:c,c,l),Q=q$(P[P.length-1],c,l)-$,ee=e=>t=>{var n;null===(n=e.onMouseLeave)||void 0===n||n.call(e,t),D(-1)};let te;"vertical"===f&&(te=o?"vertical-rl":"vertical-lr");return{active:x,axis:W,axisProps:K$,dragging:A,focusedThumbIndex:B,getHiddenInputProps:function(){var n;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=A$(a),s={onChange:(h=i||{},e=>{var t;null===(t=h.onChange)||void 0===t||t.call(h,e),U(e,e.target.valueAsNumber)}),onFocus:V(i||{}),onBlur:q(i||{}),onKeyDown:G(i||{})};var h;const p=u(u({},i),s);return u(u(u({tabIndex:v,"aria-labelledby":t,"aria-orientation":f,"aria-valuemax":g(l),"aria-valuemin":g(c),name:d,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!==(n=e.step)&&void 0!==n?n:void 0,disabled:r},a),p),{},{style:u(u({},O$),{},{direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:te})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=A$(e),n={onMouseDown:(a=t||{},e=>{var t;if(null===(t=a.onMouseDown)||void 0===t||t.call(a,e),r)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=V$(e,_);if(!1!==n){const{newValue:t,activeIndex:a}=K({finger:n});H$({sliderRef:R,activeIndex:a,setActive:k}),M(t),I&&!W$(t,F)&&I(e,t,a)}S.current=0;const i=I$(R.current);i.addEventListener("mousemove",Y,{passive:!0}),i.addEventListener("mouseup",J)})};var a;const i=u(u({},t),n);return u(u({},e),{},{ref:j},i)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=A$(e),n={onMouseOver:(a=t||{},e=>{var t;null===(t=a.onMouseOver)||void 0===t||t.call(a,e);const n=Number(e.currentTarget.getAttribute("data-index"));D(n)}),onMouseLeave:ee(t||{})};var a;return u(u(u({},e),t),n)},marks:N,open:T,range:z,rootRef:j,trackLeap:Q,trackOffset:$,values:P,getThumbStyle:e=>({pointerEvents:-1!==x&&x!==e?"none":void 0})}}const $$=["variants"];function Q$(e){const{variants:t}=e,n=i(e,$$),a={variants:t,style:TJ(n),isProcessed:!0};return a.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=TJ(e.style))})),a}const eQ=["variants"],tQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],nQ=qZ();function aQ(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function rQ(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function iQ(e){return e?(t,n)=>n[e]:null}function oQ(e,t,n){const a="function"===typeof t?t(e):t;if(Array.isArray(a))return a.flatMap((t=>oQ(e,t,n)));if(Array.isArray(null===a||void 0===a?void 0:a.variants)){let t;if(a.isProcessed)t=n?rQ(a.style,n):a.style;else{const{variants:e}=a,r=i(a,eQ);t=n?rQ(TJ(r),n):r}return sQ(e,a.variants,[t],n)}return null!==a&&void 0!==a&&a.isProcessed?n?rQ(TJ(a.style),n):a.style:n?rQ(TJ(a),n):a}function sQ(e,t){let n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let o=0;o<t.length;o+=1){const s=t[o];if("function"===typeof s.props){if(null!==n&&void 0!==n||(n=u(u(u({},e),e.ownerState),{},{ownerState:e.ownerState})),!s.props(n))continue}else for(const t in s.props){var i;if(e[t]!==s.props[t]&&(null===(i=e.ownerState)||void 0===i?void 0:i[t])!==s.props[t])continue e}"function"===typeof s.style?(null!==n&&void 0!==n||(n=u(u(u({},e),e.ownerState),{},{ownerState:e.ownerState})),a.push(r?rQ(TJ(s.style(n)),r):s.style(n))):a.push(r?rQ(TJ(s.style),r):s.style)}return a}function lQ(e,t){}function cQ(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const uQ=f$();const dQ=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},hQ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=nQ,rootShouldForwardProp:a=aQ,slotShouldForwardProp:r=aQ}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==zZ))));const{name:n,slot:s,skipVariantsResolver:l,skipSx:c,overridesResolver:d=iQ(cQ(s))}=t,h=i(t,tQ),p=n&&n.startsWith("Mui")||s?"components":"custom",f=void 0!==l?l:s&&"Root"!==s&&"root"!==s||!1,m=c||!1;let g=aQ;"Root"===s||"root"===s?g=a:s?g=r:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);const y=xJ(e,u({shouldForwardProp:g,label:lQ(n,s)},h)),b=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return oQ(t,e,t.theme.modularCssLayers?p:void 0)};if(SJ(e)){const t=Q$(e);return function(e){return t.variants?oQ(e,t,e.theme.modularCssLayers?p:void 0):e.theme.modularCssLayers?rQ(t.style,p):t.style}}return e},v=function(){const t=[];for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];const s=r.map(b),l=[];if(t.push(o),n&&d&&l.push((function(e){var t;const a=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!a)return null;const r={};for(const n in a)r[n]=oQ(e,a[n],e.theme.modularCssLayers?"theme":void 0);return d(e,r)})),n&&!f&&l.push((function(e){var t;const a=e.theme,r=null===a||void 0===a||null===(t=a.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return r?sQ(e,r,[],e.theme.modularCssLayers?"theme":void 0):null})),m||l.push(zZ),Array.isArray(s[0])){const e=s.shift(),n=new Array(t.length).fill(""),a=new Array(l.length).fill("");let r;r=[...n,...e,...a],r.raw=[...n,...e.raw,...a],t.unshift(r)}const c=[...t,...s,...l],u=y(...c);return e.muiName&&(u.muiName=e.muiName),u};return y.withConfig&&(v.withConfig=y.withConfig),v}}({themeId:m$,defaultTheme:uQ,rootShouldForwardProp:e=>dQ(e)&&"classes"!==e}),pQ=hQ,fQ={theme:void 0};const mQ=function(e){let t,n;return function(a){let r=t;return void 0!==r&&a.theme===n||(fQ.theme=a.theme,r=Q$(e(fQ)),t=r,n=a.theme),r}},gQ=mQ;function yQ(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=u({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)a[i]=u(u({},e[i]),a[i]);else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){a[i]=u({},o);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;a[i][t]=yQ(r[t],o[t],n)}}else a[i]=o;else a[i]=r||{}}else"className"===i&&n&&t.className?a.className=KK(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===i&&n&&t.style?a.style=u(u({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===a[i]&&(a[i]=e[i])}return a}const bQ=n.createContext(void 0);function vQ(e){let{props:t,name:a}=e;return function(e){const{theme:t,name:n,props:a}=e;if(!t||!t.components||!t.components[n])return a;const r=t.components[n];return r.defaultProps?yQ(r.defaultProps,a,t.components.mergeClassNameAndStyle):r.styleOverrides||r.variants?a:yQ(r,a,t.components.mergeClassNameAndStyle)}({props:t,name:a,theme:{components:n.useContext(bQ)}})}const wQ=e=>!e||!T$(e),_Q=AJ;function xQ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function kQ(e){return y$("MuiSlider",e)}const TQ=b$("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const DQ=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function AQ(e){return e}const CQ=pQ("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(_Q(n.color))],"medium"!==n.size&&t["size".concat(_Q(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(gQ((e=>{let{theme:t}=e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(TQ.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(TQ.dragging)]:{["& .".concat(TQ.thumb,", & .").concat(TQ.track)]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(xQ()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}))),SQ=pQ("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),EQ=pQ("span",{name:"MuiSlider",slot:"Track"})(gQ((e=>{let{theme:t}=e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(xQ()).map((e=>{let[n]=e;return{props:{color:n,track:"inverted"},style:u({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(n,"Track")],borderColor:t.vars.palette.Slider["".concat(n,"Track")]}:u(u({backgroundColor:t.lighten(t.palette[n].main,.62),borderColor:t.lighten(t.palette[n].main,.62)},t.applyStyles("dark",{backgroundColor:t.darken(t.palette[n].main,.5)})),t.applyStyles("dark",{borderColor:t.darken(t.palette[n].main,.5)})))}}))]}}))),FQ=pQ("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(_Q(n.color))],"medium"!==n.size&&t["thumbSize".concat(_Q(n.size))]]}})(gQ((e=>{let{theme:t}=e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(TQ.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(xQ()).map((e=>{let[n]=e;return{props:{color:n},style:{["&:hover, &.".concat(TQ.focusVisible)]:{boxShadow:"0px 0px 0px 8px ".concat(t.alpha((t.vars||t).palette[n].main,.16)),"@media (hover: none)":{boxShadow:"none"}},["&.".concat(TQ.active)]:{boxShadow:"0px 0px 0px 14px ".concat(t.alpha((t.vars||t).palette[n].main,.16))}}}}))]}}))),MQ=pQ((function(e){const{children:t,className:a,value:r}=e,i=(e=>{const{open:t}=e;return{offset:KK(t&&TQ.valueLabelOpen),circle:TQ.valueLabelCircle,label:TQ.valueLabelLabel}})(e);return t?n.cloneElement(t,{className:t.props.className},(0,LK.jsxs)(n.Fragment,{children:[t.props.children,(0,LK.jsx)("span",{className:KK(i.offset,a),"aria-hidden":!0,children:(0,LK.jsx)("span",{className:i.circle,children:(0,LK.jsx)("span",{className:i.label,children:r})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel"})(gQ((e=>{let{theme:t}=e;return u(u({zIndex:1,whiteSpace:"nowrap"},t.typography.body2),{},{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(TQ.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(TQ.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})}))),IQ=pQ("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>dQ(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(gQ((e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}}))),zQ=pQ("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>dQ(e)&&"markLabelActive"!==e})(gQ((e=>{let{theme:t}=e;return u(u({},t.typography.body2),{},{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})}))),PQ=e=>{let{children:t}=e;return t},NQ=n.forwardRef((function(e,t){var a,r,o,s,l,c,d,h,p,f,m,g,y,b,v,w,_,x,k,T,D,A,C,S;const E=vQ({props:e,name:"MuiSlider"});const F=(()=>{const e=n.useContext(x$);return null!==e&&void 0!==e&&e})(),{"aria-label":M,"aria-valuetext":I,"aria-labelledby":z,component:P="span",components:N={},componentsProps:O={},color:B="primary",classes:L,className:R,disableSwap:j=!1,disabled:V=!1,getAriaLabel:q,getAriaValueText:U,marks:G=!1,max:H=100,min:W=0,name:K,onChange:Y,onChangeCommitted:J,orientation:Z="horizontal",shiftStep:X=10,size:$="medium",step:Q=1,scale:ee=AQ,slotProps:te,slots:ne,tabIndex:ae,track:re="normal",value:ie,valueLabelDisplay:oe="off",valueLabelFormat:se=AQ}=E,le=i(E,DQ),ce=u(u({},E),{},{isRtl:F,max:H,min:W,classes:L,disabled:V,disableSwap:j,orientation:Z,marks:G,color:B,size:$,step:Q,shiftStep:X,scale:ee,track:re,valueLabelDisplay:oe,valueLabelFormat:se}),{axisProps:ue,getRootProps:de,getHiddenInputProps:he,getThumbProps:pe,open:fe,active:me,axis:ge,focusedThumbIndex:ye,range:be,dragging:ve,marks:we,values:_e,trackOffset:xe,trackLeap:ke,getThumbStyle:Te}=X$(u(u({},ce),{},{rootRef:t}));ce.marked=we.length>0&&we.some((e=>e.label)),ce.dragging=ve,ce.focusedThumbIndex=ye;const De=(e=>{const{disabled:t,dragging:n,marked:a,orientation:r,track:i,classes:o,color:s,size:l}=e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const a={};for(const r in e){const i=e[r];let o="",s=!0;for(let e=0;e<i.length;e+=1){const a=i[e];a&&(o+=(!0===s?"":" ")+t(a),s=!1,n&&n[a]&&(o+=" "+n[a]))}a[r]=o}return a}({root:["root",t&&"disabled",n&&"dragging",a&&"marked","vertical"===r&&"vertical","inverted"===i&&"trackInverted",!1===i&&"trackFalse",s&&"color".concat(_Q(s)),l&&"size".concat(_Q(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(_Q(l)),s&&"thumbColor".concat(_Q(s))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},kQ,o)})(ce),Ae=null!==(a=null!==(r=null===ne||void 0===ne?void 0:ne.root)&&void 0!==r?r:N.Root)&&void 0!==a?a:CQ,Ce=null!==(o=null!==(s=null===ne||void 0===ne?void 0:ne.rail)&&void 0!==s?s:N.Rail)&&void 0!==o?o:SQ,Se=null!==(l=null!==(c=null===ne||void 0===ne?void 0:ne.track)&&void 0!==c?c:N.Track)&&void 0!==l?l:EQ,Ee=null!==(d=null!==(h=null===ne||void 0===ne?void 0:ne.thumb)&&void 0!==h?h:N.Thumb)&&void 0!==d?d:FQ,Fe=null!==(p=null!==(f=null===ne||void 0===ne?void 0:ne.valueLabel)&&void 0!==f?f:N.ValueLabel)&&void 0!==p?p:MQ,Me=null!==(m=null!==(g=null===ne||void 0===ne?void 0:ne.mark)&&void 0!==g?g:N.Mark)&&void 0!==m?m:IQ,Ie=null!==(y=null!==(b=null===ne||void 0===ne?void 0:ne.markLabel)&&void 0!==b?b:N.MarkLabel)&&void 0!==y?y:zQ,ze=null!==(v=null!==(w=null===ne||void 0===ne?void 0:ne.input)&&void 0!==w?w:N.Input)&&void 0!==v?v:"input",Pe=null!==(_=null===te||void 0===te?void 0:te.root)&&void 0!==_?_:O.root,Ne=null!==(x=null===te||void 0===te?void 0:te.rail)&&void 0!==x?x:O.rail,Oe=null!==(k=null===te||void 0===te?void 0:te.track)&&void 0!==k?k:O.track,Be=null!==(T=null===te||void 0===te?void 0:te.thumb)&&void 0!==T?T:O.thumb,Le=null!==(D=null===te||void 0===te?void 0:te.valueLabel)&&void 0!==D?D:O.valueLabel,Re=null!==(A=null===te||void 0===te?void 0:te.mark)&&void 0!==A?A:O.mark,je=null!==(C=null===te||void 0===te?void 0:te.markLabel)&&void 0!==C?C:O.markLabel,Ve=null!==(S=null===te||void 0===te?void 0:te.input)&&void 0!==S?S:O.input,qe=M$({elementType:Ae,getSlotProps:de,externalSlotProps:Pe,externalForwardedProps:le,additionalProps:u({},wQ(Ae)&&{as:P}),ownerState:u(u({},ce),null===Pe||void 0===Pe?void 0:Pe.ownerState),className:[De.root,R]}),Ue=M$({elementType:Ce,externalSlotProps:Ne,ownerState:ce,className:De.rail}),Ge=M$({elementType:Se,externalSlotProps:Oe,additionalProps:{style:u(u({},ue[ge].offset(xe)),ue[ge].leap(ke))},ownerState:u(u({},ce),null===Oe||void 0===Oe?void 0:Oe.ownerState),className:De.track}),He=M$({elementType:Ee,getSlotProps:pe,externalSlotProps:Be,ownerState:u(u({},ce),null===Be||void 0===Be?void 0:Be.ownerState),className:De.thumb}),We=M$({elementType:Fe,externalSlotProps:Le,ownerState:u(u({},ce),null===Le||void 0===Le?void 0:Le.ownerState),className:De.valueLabel}),Ke=M$({elementType:Me,externalSlotProps:Re,ownerState:ce,className:De.mark}),Ye=M$({elementType:Ie,externalSlotProps:je,ownerState:ce,className:De.markLabel}),Je=M$({elementType:ze,getSlotProps:he,externalSlotProps:Ve,ownerState:ce});return(0,LK.jsxs)(Ae,u(u({},qe),{},{children:[(0,LK.jsx)(Ce,u({},Ue)),(0,LK.jsx)(Se,u({},Ge)),we.filter((e=>e.value>=W&&e.value<=H)).map(((e,t)=>{const a=q$(e.value,W,H),r=ue[ge].offset(a);let i;return i=!1===re?_e.includes(e.value):"normal"===re&&(be?e.value>=_e[0]&&e.value<=_e[_e.length-1]:e.value<=_e[0])||"inverted"===re&&(be?e.value<=_e[0]||e.value>=_e[_e.length-1]:e.value>=_e[0]),(0,LK.jsxs)(n.Fragment,{children:[(0,LK.jsx)(Me,u(u(u({"data-index":t},Ke),!T$(Me)&&{markActive:i}),{},{style:u(u({},r),Ke.style),className:KK(Ke.className,i&&De.markActive)})),null!=e.label?(0,LK.jsx)(Ie,u(u(u({"aria-hidden":!0,"data-index":t},Ye),!T$(Ie)&&{markLabelActive:i}),{},{style:u(u({},r),Ye.style),className:KK(De.markLabel,Ye.className,i&&De.markLabelActive),children:e.label})):null]},t)})),_e.map(((e,t)=>{const n=q$(e,W,H),a=ue[ge].offset(n),r="off"===oe?PQ:Fe;return(0,LK.jsx)(r,u(u(u({},!T$(r)&&{valueLabelFormat:se,valueLabelDisplay:oe,value:"function"===typeof se?se(ee(e),t):se,index:t,open:fe===t||me===t||"on"===oe,disabled:V}),We),{},{children:(0,LK.jsx)(Ee,u(u({"data-index":t},He),{},{className:KK(De.thumb,He.className,me===t&&De.active,ye===t&&De.focusVisible),style:u(u(u({},a),Te(t)),He.style),children:(0,LK.jsx)(ze,u({"data-index":t,"aria-label":q?q(t):M,"aria-valuenow":ee(e),"aria-labelledby":z,"aria-valuetext":U?U(ee(e),t):I,value:_e[t]},Je))}))}),t)}))]}))})),OQ=NQ;class BQ extends n.Component{constructor(e){super(e),this.hoveredNode=null,this.selectedNodes=new Set,this.fontScale=null,this.opacityScale=null,this.simulation=null,this.nodesData=[],this.linksData=[],this.links=null,this.nodes=null,this.defs=null,this.getLinkEndpoints=null,this.height=0,this.width=0,this.lastTransform=null,this.zoomThrottleTimer=null,this.handleKeyDown=e=>{"Escape"===e.key&&(this.selectedNodes.clear(),this.hoveredNode=null,this.hidePopup(),this.rebuildGraph())},this.handleResize=()=>{this.rebuildGraph()},this.togglePopupNode=e=>{this.setState((t=>{const n=t.popupNodes.some((t=>t===e))?t.popupNodes.filter((t=>t!==e)):[...t.popupNodes,e];return{popupNodes:n,isPopupVisible:n.length>0}}))},this.removePopupNode=e=>{this.setState((t=>{const n=t.popupNodes.filter((t=>t!==e));return{popupNodes:n,isPopupVisible:n.length>0}}))},this.state={popupNodes:[],isPopupVisible:!1,similarityThreshold:.7,minOpacityThreshold:0,spread:.5,tokenizeMode:NK.tokenizeMode}}componentDidMount(){this.rebuildGraph(),window.addEventListener("resize",this.handleResize),window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("keydown",this.handleKeyDown),null!==this.zoomThrottleTimer&&(clearTimeout(this.zoomThrottleTimer),this.zoomThrottleTimer=null)}nodeSelected(){return this.selectedNodes.size>0}createFontScale(){const e=this.props.promptGroups.reduce(((e,t)=>e+t.generations.length),0);this.fontScale=A_().domain([1,e]).range([11,30]).clamp(!0),this.opacityScale=L_().exponent(.5).domain([(this.state.minOpacityThreshold-.3)*e/2,e/2]).range([0,1]).clamp(!0).nice(),this.nodesData.forEach((e=>e.fontSize=this.fontSize(e))),this.nodesData.forEach((e=>e.textLength=this.textLength(e)))}render(){return(0,LK.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,LK.jsx)("span",{id:"loader",className:"loader"}),(0,LK.jsx)("svg",{id:"graph-holder"}),(0,LK.jsxs)("div",{className:"graph-controls-overlay",children:[(0,LK.jsxs)("div",{className:"slider-container",children:[(0,LK.jsx)("label",{children:"Graph spread"}),(0,LK.jsx)("div",{className:"tooltip",children:"How spread out the graph is. Higher values means every output is rendered more like standard LTR text, lower values means the graph is more compact."}),(0,LK.jsx)(_$,{sx:{width:150},children:(0,LK.jsx)(OQ,{size:"small",min:0,max:1,step:.1,value:this.state.spread,onChange:(e,t)=>{this.setState({spread:t}),zK.logSliderChange("spread",t)},valueLabelDisplay:"off","aria-label":"Graph spread"})})]}),(0,LK.jsxs)("div",{className:"slider-container",children:[(0,LK.jsx)("label",{children:"Hide Rare Outputs"}),(0,LK.jsx)("div",{className:"tooltip",children:"How strongly rare outputs are faded. Higher values hide nodes and edges that appear infrequently across outputs."}),(0,LK.jsx)(_$,{sx:{width:150},children:(0,LK.jsx)(OQ,{size:"small",min:0,max:1,step:.1,value:this.state.minOpacityThreshold,onChange:(e,t)=>{this.setState({minOpacityThreshold:t}),zK.logSliderChange("minOpacityThreshold",t)},valueLabelDisplay:"off","aria-label":"Hide Rare Outputs"})})]}),(0,LK.jsxs)("div",{className:"slider-container",children:[(0,LK.jsx)("label",{children:"Token merging threshold"}),(0,LK.jsx)("div",{className:"tooltip",children:"How similar words need to be to be merged in the graph. Lower values merge more words together, higher values keep more words separate."}),(0,LK.jsx)(_$,{sx:{width:150},children:(0,LK.jsx)(OQ,{size:"small",min:0,max:1,step:.1,value:this.state.similarityThreshold,onChange:(e,t)=>{this.setState({similarityThreshold:t}),zK.logSliderChange("similarityThreshold",t)},valueLabelDisplay:"auto","aria-label":"Merging coefficient"})})]}),(0,LK.jsxs)("div",{className:"dropdown-container",children:[(0,LK.jsx)("label",{children:"Tokenize Mode:"}),(0,LK.jsxs)("select",{value:this.state.tokenizeMode,onChange:e=>{const t=e.target.value;this.setState({tokenizeMode:t}),NK.setTokenizeMode(t),zK.logDropdownChange("tokenizeMode",t)},children:[(0,LK.jsx)("option",{value:"space",children:"Space"}),(0,LK.jsx)("option",{value:"comma",children:"Comma"}),(0,LK.jsx)("option",{value:"sentence",children:"Sentence"})]})]})]}),(0,LK.jsx)(HK,{nodes:this.state.popupNodes,promptGroups:this.props.promptGroups,isVisible:this.state.isPopupVisible,onClose:()=>this.hidePopup(),onRemoveNode:this.removePopupNode})]})}async componentDidUpdate(e,t){if(NK.tokenizeMode!==this.state.tokenizeMode&&NK.tokenizeMode!==t.tokenizeMode)return void this.setState({tokenizeMode:NK.tokenizeMode});const n=t.tokenizeMode!==this.state.tokenizeMode;if((t.similarityThreshold!==this.state.similarityThreshold||n||!function(e,t){return JSON.stringify(e)===JSON.stringify(t)}(e.promptGroups,this.props.promptGroups))&&this.rebuildGraph(),t.minOpacityThreshold!==this.state.minOpacityThreshold)return this.createFontScale(),void this.update();t.spread===this.state.spread?this.update():this.updateSimulation()}toggleLoading(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j_("#graph-holder").classed("hidden",e),j_("#loader").classed("hidden",!e)}async rebuildGraph(){this.toggleLoading(!0),setTimeout((async()=>{await this.rebuildGraphContent(),this.updateSimulation(!0),this.toggleLoading(!1)}),0)}async rebuildGraphContent(){const{nodesData:e,linksData:t}=await aM(this.props.promptGroups,this.state.similarityThreshold,NK.shuffle,this.state.tokenizeMode);this.nodesData=e,this.linksData=t,this.createFontScale(),this.addBoundingBoxData(e),this.width=Math.min(window.innerWidth,5e3),this.height=Math.min(.8*window.innerHeight,800);const n=j_("#graph-holder").html("").attr("width",this.width).attr("height",this.height).style("cursor","grab").on("click",(e=>{"svg"===e.target.tagName&&(this.nodeSelected()||this.hoveredNode)&&(this.selectedNodes.clear(),this.hoveredNode=null,this.hidePopup(),this.updateSimulation(),this.update())})),a=n.append("g"),r=Rx().scaleExtent([.5,3]).on("zoom",(e=>{a.attr("transform",e.transform);const t=e.transform,n=t.k,r=t.x,i=t.y;if(this.lastTransform){const e=Math.abs(n-this.lastTransform.k)>.01,t=Math.abs(r-this.lastTransform.x)>1||Math.abs(i-this.lastTransform.y)>1;null!==this.zoomThrottleTimer&&clearTimeout(this.zoomThrottleTimer),this.zoomThrottleTimer=window.setTimeout((()=>{e?zK.logGraphZoom(n,r,i):t&&zK.logGraphPan(r,i),this.zoomThrottleTimer=null}),100)}this.lastTransform={k:n,x:r,y:i}}));n.call(r).on("dblclick.zoom",null),this.defs=n.append("defs");const i=(e,t,n)=>{var a;const r=this.defs.append("linearGradient").attr("id",((e,t)=>"gradient-".concat(t))(0,t)).attr("gradientUnits","objectBoundingBox"),i=(e=>{const t=parseInt(e);return lM[t%lM.length]})(e.promptId&&(null===(a=e.promptId.match(/_(\d+)_/))||void 0===a?void 0:a[1])||"0");return r.append("stop").attr("offset","0%").attr("stop-color",i),r.append("stop").attr("offset","100%").attr("stop-color",i),r};t.forEach(((e,t)=>{i(e,t,this.linkIsInSents(e))})),this.getLinkEndpoints=e=>{var t;const n=t=>{const n=([...t.origSentIndices].indexOf(e.sentIdx)/t.origSentIndices.length-.75)*t.fontSize;return t.y+n},a=e=>{const t=e.x,n=t+e.textLength;return[t,n,(t+n)/2]},[r,i,o]=a(e.source),[s,l,c]=a(e.target),u=null!==(t=e.source)&&void 0!==t&&t.isRoot?r:o,d=e.target.isEnd?l:c,[h,p]=[n(e.source),n(e.target)];return{sourceX:u,targetX:d,y1:h,y2:p,sourceRightX:i,targetLeftX:s}},this.links=a.selectAll(".link").data(t).enter().append("path").attr("class","link").attr("fill","none"),this.nodes=a.selectAll(".node").data(e).enter().append("g").attr("class","node").on("mouseover",((e,t)=>{this.hoveredNode=t,this.update()})).on("mouseout",((e,t)=>{this.hoveredNode=null,this.update()})).on("click",((e,t)=>{this.nodeIsInSelectedSents(t)&&(this.selectedNodes.has(t)?(this.selectedNodes.delete(t),this.hoveredNode=null):(this.selectedNodes.add(t),this.hoveredNode=null),this.updateSimulation(),this.update(),this.togglePopupNode(t),zK.logNodeClick(t.word,{count:t.count,origSentIndices:t.origSentIndices}))})),this.nodes.append("text").call(this.wrapText).attr("font-size",(e=>e.fontSize))}update(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.links||!this.nodes||!this.defs||!this.getLinkEndpoints)return;const t=e=>{const t=e=>"blur(2px) opacity(".concat(e,")"),n=(e=>void 0!==e.word)(e)?e=>this.nodeIsInSelectedSents(e):e=>this.linkIsInSents(e);if(!this.nodeSelected()&&!this.hoveredNode)return"";const a=t(.2),r=t(.5);return this.hoveredNode?n(e)?"":r:this.nodeSelected()?n(e)?"":a:""};this.links.transition().duration(e?0:300).ease(Sw).attr("d",(e=>{const{sourceX:t,targetX:n,y1:a,y2:r,sourceRightX:i,targetLeftX:o}=this.getLinkEndpoints(e),s=[{x:t,y:a},{x:i,y:a},{x:o,y:r},{x:n,y:r}];return px().x((e=>e.x)).y((e=>e.y)).curve(_x)(s)})).attr("stroke",((e,t)=>"url(#gradient-".concat(t,")"))).attr("stroke-width",(e=>2)).style("filter",(e=>t(e)));const n=e=>""!==e.word&&this.opacityScale?this.opacityScale(e.count):0;this.links.each(((e,t)=>{const a=this.defs.select("#gradient-".concat(t)).selectAll("stop");a.filter(((e,t)=>0===t)).attr("stop-opacity",.2*n(e.source)),a.filter(((e,t)=>1===t)).attr("stop-opacity",.2*n(e.target))})),this.nodes.transition().duration(e?0:300).ease(Sw).attr("transform",(e=>"translate(".concat(e.x,", ").concat(e.y,")"))).attr("fill",(e=>cM(e,this.linksData))).style("opacity",(e=>n(e))).style("font-weight",(e=>this.selectedNodes.has(e)||this.hoveredNode===e?"bold":"normal")).style("filter",(e=>t(e)))}updateSimulation(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.simulation&&(this.simulation.stop(),this.simulation.force("x",null),this.simulation.force("y",null),this.simulation.force("link",null),this.simulation.force("collide",null)),this.simulation=Nw(this.nodesData);const t=this.nodeSelected()?this.linksData.filter((e=>this.linkIsInSents(e))):this.linksData,n=this.nodeSelected()?this.nodesData.filter((e=>this.nodeIsInSelectedSents(e))):this.nodesData;this.simulation.nodes(n).force("collide",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;function r(r){const i=e.length,o=16*a,s=new Array(i);for(let n=0;n<i;++n){const a=e[n],r=+t(a,n,e),i=a.rx+r,o=a.ry+r;s[n]={w:i,h:o,w2:i*i,h2:o*o,wh:i*o,x:a.x+a.vx,y:a.y+a.vy,maxRadius:Math.max(i,o)}}for(let t=0;t<i;++t){const a=e[t],l=s[t];for(let c=t+1;c<i;++c){const t=e[c],i=s[c];let u=l.x-i.x,d=l.y-i.y;const h=u*u+d*d;if(h>(l.maxRadius+i.maxRadius+100)**2)continue;if(0===u&&0===d){const e=4*Math.random()-2,n=4*Math.random()-2;a.vx+=e,a.vy+=n,t.vx-=e,t.vy-=n;continue}let p,f,m,g,y,b;if(0===u)p=(l.h/l.w+i.h/i.w)/2,f=Math.abs(d),m=f-l.h-i.h;else if(0===d)p=1,f=Math.abs(u),m=f-l.w-i.w;else{const e=d/u,t=e*e,n=l.wh/Math.sqrt(l.h2+t*l.w2),a=e*n,r=Math.sqrt(n*n+a*a),o=r/l.w,s=i.wh/Math.sqrt(i.h2+t*i.w2),c=e*s,g=Math.sqrt(s*s+c*c),y=g/i.w;f=Math.sqrt(h),m=f-g-r,p=(o+y)/2}g=u/f,y=d/f,b=m<0?Math.min(Math.max(1,n*p*-m),5):Math.min(20,p*o*r/m),a.vx+=b*g,a.vy+=b*y,t.vx-=b*g,t.vy-=b*y}}}return"function"!==typeof t&&(t=UK(+t)),r.initialize=function(t){e=t},r.outerRepulsion=function(e){return void 0===e?a:(a=+e,r)},r.innerRepulsion=function(e){return void 0===e?n:(n=+e,r)},r.padding=function(e){return void 0===e?t:(t="function"===typeof e?e:UK(+e),r)},r}(n,10,5,5)).force("link",function(e){var t,n,a,r,i,o,s=Mw,l=function(e){return 1/Math.min(r[e.source.index],r[e.target.index])},c=Ew(30),u=1;function d(a){for(var r=0,s=e.length;r<u;++r)for(var l,c,d,h,p,f,m,g=0;g<s;++g)c=(l=e[g]).source,h=(d=l.target).x+d.vx-c.x-c.vx||Fw(o),p=d.y+d.vy-c.y-c.vy||Fw(o),h*=f=((f=Math.sqrt(h*h+p*p))-n[g])/f*a*t[g],p*=f,d.vx-=h*(m=i[g]),d.vy-=p*m,c.vx+=h*(m=1-m),c.vy+=p*m}function h(){if(a){var o,l,c=a.length,u=e.length,d=new Map(a.map(((e,t)=>[s(e,t,a),e])));for(o=0,r=new Array(c);o<u;++o)(l=e[o]).index=o,"object"!==typeof l.source&&(l.source=Iw(d,l.source)),"object"!==typeof l.target&&(l.target=Iw(d,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(o=0,i=new Array(u);o<u;++o)l=e[o],i[o]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);t=new Array(u),p(),n=new Array(u),f()}}function p(){if(a)for(var n=0,r=e.length;n<r;++n)t[n]=+l(e[n],n,e)}function f(){if(a)for(var t=0,r=e.length;t<r;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){a=e,o=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(l="function"===typeof e?e:Ew(+e),p(),d):l},d.distance=function(e){return arguments.length?(c="function"===typeof e?e:Ew(+e),f(),d):c},d}(t).id((e=>e.word)).strength(.4)).force("y",function(e){var t,n,a,r=Ew(.1);function i(e){for(var r,i=0,o=t.length;i<o;++i)(r=t[i]).vy+=(a[i]-r.y)*n[i]*e}function o(){if(t){var i,o=t.length;for(n=new Array(o),a=new Array(o),i=0;i<o;++i)n[i]=isNaN(a[i]=+e(t[i],i,t))?0:+r(t[i],i,t)}}return"function"!==typeof e&&(e=Ew(null==e?0:+e)),i.initialize=function(e){t=e,o()},i.strength=function(e){return arguments.length?(r="function"===typeof e?e:Ew(+e),o(),i):r},i.y=function(t){return arguments.length?(e="function"===typeof t?t:Ew(+t),o(),i):e},i}(this.height/2).strength((e=>e.count/100))).force("x",(()=>n.forEach((e=>e.x=this.getExpectedX(e,n))))),this.simulation.on("tick",(()=>this.update())),this.runSimulationToConvergence(),this.update(e)}runSimulationToConvergence(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(!this.simulation)return;this.simulation.stop();let n=!1,a=0;for(;!n&&a<t;)this.simulation.tick(),n=this.simulation.nodes().every((t=>Math.abs(t.vx)<e&&Math.abs(t.vy)<e)),a++;console.log("Simulation converged after ".concat(a," iterations"))}linkIsInSents(e){if(this.nodeSelected())return Array.from(this.selectedNodes).some((t=>t.origSentIndices.includes(e.sentIdx)));const t=this.hoveredNode;return null===t||void 0===t?void 0:t.origSentIndices.includes(e.sentIdx)}nodeIsInSelectedSents(e){if(this.nodeSelected()){const t=new Set;return Array.from(this.selectedNodes).forEach((e=>{e.origSentIndices.forEach((e=>t.add(e)))})),e.origSentIndices.some((e=>t.has(e)))}if(!this.hoveredNode)return!1;const t=[...this.hoveredNode.origSentIndices],n=e.origSentIndices,a=t.filter((e=>n.includes(e)));return a.length>0}addBoundingBoxData(e){e.forEach((e=>{e.rx=e.textLength/2,e.ry=this.textHeight(e)/2}))}getExpectedX(e,t){const n=e.parents.filter((e=>t.includes(e)));if(e.isRoot&&!n.length)return 30;if(!n.length)return e.x;const a=n.map((e=>e.x+e.textLength+30)),r=oy(a)||0,i=iy(a)||0,o=function(e,t){let n=0,a=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(++n,a+=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&(++n,a+=i)}if(n)return a/n}(a)||0;return A_().domain([0,.5,1]).range([r,o,i])(this.state.spread)}getExpectedY(e,t){const n=oy(e.origSentIndices||[])||0,a=this.props.promptGroups.reduce(((e,t)=>e+t.generations.length),0);return A_().domain([0,a]).range([.1*t,.9*t])(n)}fontSize(e){return this.fontScale?this.fontScale(e.count):10}textLength(e){return iy(RQ(e.word).map((t=>t.length*e.fontSize*.6)))||0}textHeight(e){return RQ(e.word).length*e.fontSize}wrapText(e){e.each((function(e){const t=j_(this),n=RQ(e.word);t.text(null).selectAll("tspan").data(n).enter().append("tspan").attr("x",0).attr("dy",((e,t)=>"".concat(0===t?0:1.2,"em"))).text((e=>e))}))}hidePopup(){(this.state.isPopupVisible||0!==this.state.popupNodes.length)&&this.setState({popupNodes:[],isPopupVisible:!1})}}const LQ=new Map;function RQ(e){if(LQ.has(e))return LQ.get(e);const t=ZF(e).split(" "),n=[];for(let a=0;a<t.length;a+=3)n.push(t.slice(a,a+3).join(" "));return LQ.set(e,n),n}const jQ=ay(BQ);class VQ extends n.Component{constructor(){super(...arguments),this.state={promptGroups:[]},this.disposer=void 0}getPromptGroupKey(e,t){return"".concat(e.text,"_").concat(t,"_").concat(e.modelFamily,"_").concat(e.model)}render(){var e;if(NK.prompts.length&&null!==(e=NK.prompts[0])&&void 0!==e&&e.text)return(0,LK.jsx)("div",{className:"single-example",children:(0,LK.jsx)("div",{children:this.renderOutputs()})})}renderOutputs(){if(!this.state.promptGroups)return;let e,t="";switch(NK.visType){case"word_tree":e=this.renderOutputsWordTree(),t="Hover over a word to highlight it across all generated sentences. \n                The size of the word corresponds to its frequency in the generated sentences.";break;case"graph":e=this.renderOutputsGraph(),t="Hover over any word or phrase to highlight all sentences containing it. \n                \nClick to pin the highlight - click again or click elsewhere to unpin.\n                \nDrag to pan, scroll to zoom in and out.";break;case"highlights":e=this.renderOutputsHighlights(),t="Highlighted words are the ones that are present in multiple generated sentences. The bolded output is the text you entered to compare against the LLM outputs (if provided). Color of highlights is not related to the colors used in the graph visualization.";break;case"first_output":e=this.renderOutputsBasic(!0),t="First output generated by the LLM for each prompt.";break;default:e=this.renderOutputsBasic(),t="Outputs generated by the LLM."}const n=[{value:"graph",label:"Graph"},{value:"raw_outputs",label:"Raw Outputs"},{value:"first_output",label:"First Output"},...NK.isUserStudy?[]:[{value:"word_tree",label:"Word Tree"},{value:"highlights",label:"Highlights"}]];return(0,LK.jsxs)("div",{children:[(0,LK.jsxs)("div",{className:"section-label-with-selector",children:[(0,LK.jsx)("span",{className:"section-label-text",children:"LLM Generations:"}),!NK.isUserStudy&&(0,LK.jsx)("select",{id:"vis-type-select",value:NK.visType,onChange:e=>{const t=e.target.value;NK.setVisType(t),zK.logVisTypeChange(t)},children:n.map((e=>(0,LK.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),e]})}renderOutputsWordTree(){var e;const t=null===(e=this.state.promptGroups[0])||void 0===e?void 0:e.generations;return(0,LK.jsx)(jK,{generations:t})}renderOutputsGraph(){return(0,LK.jsx)(jQ,{promptGroups:this.state.promptGroups})}renderOutputsBasic(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.state.promptGroups&&0!==this.state.promptGroups.length?(0,LK.jsx)("div",{className:"outputs",children:this.state.promptGroups.map(((t,n)=>{var a,r,i;const o=t.promptId.match(/_(\d+)_/),s=o?parseInt(o[1]):0,l=NK.getPromptColor(s),c=(null===(a=NK.prompts[s])||void 0===a?void 0:a.text)||"",u=e?t.generations.slice(0,1):t.generations;return(0,LK.jsxs)("div",{className:"prompt-output-group",style:{borderColor:l},children:[(0,LK.jsxs)("div",{className:"prompt-output-header",style:{backgroundColor:l},children:[(0,LK.jsxs)("div",{className:"prompt-text",children:["Prompt ",s+1,": ",c]}),(0,LK.jsxs)("div",{className:"prompt-info",children:[!e&&"".concat(t.generations.length," outputs - "),null===(r=NK.prompts[s])||void 0===r?void 0:r.modelFamily,"/",null===(i=NK.prompts[s])||void 0===i?void 0:i.model]})]}),(0,LK.jsx)("div",{children:u.map(((e,t)=>(0,LK.jsx)("div",{className:"output-item",children:e},"".concat(e,"-").concat(t))))})]},"group-".concat(n))}))}):(0,LK.jsx)("div",{className:"outputs",children:"No outputs available"})}renderOutputsHighlights(){var e;const t=null===(e=this.state.promptGroups[0])||void 0===e?void 0:e.generations;return(0,LK.jsx)(qK,{generations:t})}componentDidUpdate(e,t){!NK.isUserStudy||"word_tree"!==NK.visType&&"highlights"!==NK.visType||NK.setVisType("graph")}componentDidMount(){!NK.isUserStudy||"word_tree"!==NK.visType&&"highlights"!==NK.visType||NK.setVisType("graph"),this.disposer=function(e,t,n){var a,r,i;void 0===n&&(n=yh);var o,s,l,c=null!=(a=n.name)?a:"Reaction",u=Hf(c,n.onError?(o=n.onError,s=t,function(){try{return s.apply(this,arguments)}catch(F){o.call(this,F)}}):t),d=!n.scheduler&&!n.delay,h=Zf(n),p=!0,f=!1,m=n.compareStructural?np.structural:n.equals||np.default,g=new Mf(c,(function(){p||d?y():f||(f=!0,h(y))}),n.onError,n.requiresObservable);function y(){if(f=!1,!g.isDisposed){var t=!1,a=l;g.track((function(){var n=Qp(!1,(function(){return e(g)}));t=p||!m(l,n),l=n})),(p&&n.fireImmediately||!p&&t)&&u(l,a,g),p=!1}}return null!=(r=n)&&null!=(r=r.signal)&&r.aborted||g.schedule_(),g.getDisposer_(null==(i=n)?void 0:i.signal)}((()=>[NK.prompts.map((e=>e.text)).join("\x01"),NK.prompts.map((e=>e.temp)).join(","),NK.prompts.map((e=>e.modelFamily)).join(","),NK.prompts.map((e=>e.model)).join(","),NK.numGenerations,NK.shuffle,NK.tokenizeMode,NK.disabledPrompts]),(async()=>{const e=NK.prompts.map(((e,t)=>({prompt:e,originalIndex:t}))).filter((e=>{let{prompt:t,originalIndex:n}=e;return t.text&&t.text.trim().length>0&&!NK.isPromptDisabled(n)}));if(0===e.length)return;const t=[];for(let n=0;n<e.length;n++){const{prompt:a,originalIndex:r}=e[n],i=await NK.fetchGenerationsFor(r);t.push({promptId:this.getPromptGroupKey(a,r),generations:i})}this.setState({promptGroups:t.length>=1?t:[]})}),{fireImmediately:!0})}componentWillUnmount(){this.disposer&&this.disposer()}}const qQ=ay(VQ);class UQ extends n.Component{constructor(){super(...arguments),this.state={expanded:!1,generatingSimilar:!1,similarPrompts:[]},this.toggleExpanded=()=>{this.setState((e=>({expanded:!e.expanded})))},this.handleGenerateSimilar=async()=>{var e;const t=(null===(e=document.querySelector(".similarity-input-".concat(this.props.promptIndex)))||void 0===e?void 0:e.value)||"";this.setState({generatingSimilar:!0,similarPrompts:[]}),zK.logGenerateSimilar(this.props.promptIndex,t);try{const e=await NK.generateSimilarPrompts(this.props.prompt.text,t,this.props.prompt.temp);this.setState({similarPrompts:e,generatingSimilar:!1})}catch(n){console.error("Error generating similar prompts:",n),this.setState({generatingSimilar:!1})}},this.handlePromptSelect=e=>{NK.addPrompt(e);const t=NK.prompts.length-1;zK.logPromptSelect(t,e,"similar_prompts")}}render(){const{prompt:e,promptIndex:t,onUpdateText:n,onUpdateTemp:a,onUpdateModelFamily:r,onUpdateModel:i,onDelete:o,onToggleDisabled:s,isDisabled:l,totalPrompts:c}=this.props,{expanded:u,generatingSimilar:d,similarPrompts:h}=this.state,p=NK.getPromptColor(t),f=1===c?"Prompt":"Prompt ".concat(t+1);return(0,LK.jsxs)("div",{className:"compare-prompt-container ".concat(l?"disabled":""),style:{backgroundColor:l?"#f0f0f0":p,color:l?"#666":"black",borderColor:l?"#ccc":p,opacity:l?.6:1},children:[(0,LK.jsxs)("div",{className:"controls-row",children:[!NK.isUserStudy&&(0,LK.jsx)("div",{className:"expand-caret",onClick:this.toggleExpanded,children:(0,LK.jsx)("span",{className:"material-icons ".concat(u?"expanded":""),children:u?"expand_less":"expand_more"})}),(0,LK.jsx)("div",{className:"input-header",children:f}),(0,LK.jsx)(GQ,{value:e.text||"",options:Object.keys(sM),onSubmit:e=>{n(t,e),zK.logPromptEdit(t,e)},readOnly:NK.isUserStudy,promptIndex:t},"prompt-"+t+"-"+(e.text||"")),!NK.isUserStudy&&(0,LK.jsxs)(LK.Fragment,{children:[(0,LK.jsxs)("div",{className:"slider-container",children:[(0,LK.jsxs)("label",{children:["Temperature: ",e.temp]}),(0,LK.jsx)(_$,{sx:{width:150},children:(0,LK.jsx)(OQ,{size:"small",min:0,max:1,step:.1,value:e.temp,onChange:(e,n)=>{a(t,n),zK.logSliderChange("temperature",n,t)},valueLabelDisplay:"auto","aria-label":"Temperature",disabled:l})})]}),(0,LK.jsxs)("div",{className:"dropdown-container",children:[(0,LK.jsx)("label",{children:"Model Family:"}),(0,LK.jsx)("select",{value:e.modelFamily,onChange:e=>{r(t,e.target.value),zK.logDropdownChange("modelFamily",e.target.value,t)},disabled:l,children:_K.map((e=>(0,LK.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,LK.jsxs)("div",{className:"dropdown-container",children:[(0,LK.jsx)("label",{children:"Model:"}),(0,LK.jsx)("select",{value:e.model,onChange:e=>{i(t,e.target.value),zK.logDropdownChange("model",e.target.value,t)},disabled:l,children:kK(e.modelFamily).map((e=>(0,LK.jsx)("option",{value:e.id,children:e.name},e.id)))})]})]}),c>1&&(0,LK.jsxs)(LK.Fragment,{children:[(0,LK.jsx)("button",{className:"toggle-disabled-button",onClick:()=>{s(t),zK.logPromptToggleDisabled(t,!l)},title:l?"Enable this prompt":"Disable this prompt",children:(0,LK.jsx)("span",{className:"material-icons",children:l?"visibility":"visibility_off"})}),(0,LK.jsx)("button",{className:"delete-prompt-button",onClick:()=>{zK.logPromptDelete(t),o(t)},title:"Delete this prompt",children:(0,LK.jsx)("span",{className:"material-icons",children:"close"})})]})]}),u&&!NK.isUserStudy&&(0,LK.jsxs)("div",{className:"generate-similar-container",children:[(0,LK.jsxs)("div",{className:"controls-row",children:[(0,LK.jsx)("button",{className:"generate-similar-button",onClick:this.handleGenerateSimilar,disabled:d,children:"generate similar prompts"}),(0,LK.jsx)("div",{className:"similarity-input-container",children:(0,LK.jsxs)("div",{className:"input-with-hint",children:[(0,LK.jsx)("input",{type:"text",className:"input-field similarity-input-".concat(t),placeholder:"Optionally specify what aspect of the input you care about, e.g., 'about food', 'asking for advice', 'formal tone'",onKeyDown:e=>{"Enter"===e.key&&e.target.blur()}}),(0,LK.jsxs)("span",{className:"enter-hint",children:[(0,LK.jsx)("span",{className:"material-icons",children:"keyboard_return"})," Enter"]})]})})]}),h.length>0&&(0,LK.jsx)("div",{className:"controls-row",children:(0,LK.jsx)("div",{className:"similar-prompts-table-container",children:(0,LK.jsxs)("table",{className:"similar-prompts-table",children:[(0,LK.jsx)("thead",{children:(0,LK.jsx)("tr",{children:(0,LK.jsx)("th",{children:"Prompt"})})}),(0,LK.jsx)("tbody",{children:h.map(((e,t)=>(0,LK.jsx)("tr",{className:"clickable-row",onClick:()=>this.handlePromptSelect(e),children:(0,LK.jsx)("td",{children:e})},t)))})]})})}),d&&(0,LK.jsx)("div",{className:"similar-prompts-table-container",children:(0,LK.jsxs)("table",{className:"similar-prompts-table",children:[(0,LK.jsx)("thead",{children:(0,LK.jsx)("tr",{children:(0,LK.jsx)("th",{children:"Prompt"})})}),(0,LK.jsx)("tbody",{children:(0,LK.jsx)("tr",{children:(0,LK.jsxs)("td",{className:"loading-cell",children:[(0,LK.jsx)("span",{className:"loader"}),(0,LK.jsx)("span",{children:"Generating similar prompts..."})]})})})]})})]})]})}}class GQ extends n.Component{constructor(){super(...arguments),this.state={open:!1,value:this.props.value||""},this.handleClickOutside=e=>{this.dropdownRef.current&&!this.dropdownRef.current.contains(e.target)&&this.setState({open:!1})},this.handleKeyDown=e=>{"Escape"===e.key&&this.setState({open:!1})},this.dropdownRef=n.createRef(),this.handleInputChange=e=>{this.props.readOnly||this.setState({value:e.target.value})},this.handleInputKeyDown=e=>{var t,n;this.props.readOnly?"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.setState({open:!0})):"Enter"===e.key&&(null===(t=(n=this.props).onSubmit)||void 0===t||t.call(n,this.state.value),this.setState({open:!1}),void 0===this.props.promptIndex||this.props.readOnly||zK.logPromptEdit(this.props.promptIndex,this.state.value))},this.handleSelect=e=>{this.setState({value:e,open:!1},(()=>{var t,n;null===(t=(n=this.props).onSubmit)||void 0===t||t.call(n,e),void 0!==this.props.promptIndex&&zK.logPromptSelect(this.props.promptIndex,e,"dropdown")}))}}componentDidMount(){document.addEventListener("click",this.handleClickOutside),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("keydown",this.handleKeyDown)}render(){const{options:e,readOnly:t}=this.props,{open:n,value:a}=this.state;return(0,LK.jsxs)("div",{className:"input-with-hint",ref:this.dropdownRef,children:[(0,LK.jsx)("input",{type:"text",className:"input-field",value:a,placeholder:t?"Select a prompt":"Enter or select a prompt",onChange:this.handleInputChange,onFocus:()=>this.setState({open:!0}),onKeyDown:this.handleInputKeyDown,readOnly:t}),n&&(0,LK.jsx)("ul",{className:"dropdown-list",children:e.map((e=>(0,LK.jsx)("li",{onClick:()=>this.handleSelect(e),title:e,children:e},e)))}),!t&&(0,LK.jsxs)("span",{className:"enter-hint",children:[(0,LK.jsx)("span",{className:"material-icons",children:"keyboard_return"})," Enter"]})]})}}const HQ=UQ,WQ=Object.keys(sM)[0];class KQ extends n.Component{constructor(){var e,t;super(...arguments),this.state={selectedExample:WQ,temperature:null!==(e=null===(t=NK.prompts[0])||void 0===t?void 0:t.temp)&&void 0!==e?e:.7,numGenerations:NK.numGenerations,shuffle:NK.shuffle},this.handleSliderChange=(e,t)=>{this.state[t]=e,this.setState({}),zK.logSliderChange(t,e)},this.handleCheckboxChange=(e,t)=>{this.state[t]=e.target.checked,this.setState({})},this.handleDropdownChange=(e,t)=>{this.state[t]=e.target.value,this.setState({}),zK.logDropdownChange(t,e.target.value)},this.handleSubmit=e=>{const t=null!==e&&void 0!==e?e:this.state.selectedExample;this.setState({selectedExample:t}),NK.updatePromptTempAt(0,this.state.temperature),NK.setNumGenerations(this.state.numGenerations),NK.updatePromptTextAt(0,t)},this.handlePromptSelect=e=>{this.setState({selectedExample:e}),NK.updatePromptTextAt(0,e),NK.updatePromptTempAt(0,this.state.temperature),NK.setNumGenerations(this.state.numGenerations),NK.fetchGenerationsFor(0)},this.handleSubmitFinalOrder=async()=>{const e=NK.prompts.map((e=>e.text));await async function(e){const t=EK();if(t.submitted)return console.warn("Session already submitted"),!1;void 0!==e&&(t.finalAnswers=e);try{console.log("CALLING TELEMETRY ENDPOINT");const e=await fetch("https://script.google.com/macros/s/AKfycbzjSK-bJaYB15HqtNBDNK9kjoDdJS9LDmkxMkoK22ij_kzsdGqtu5B58HIisn-qo5Ls/exec",{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({participantId:t.participantId,interfaceVersion:t.interfaceVersion,telemetry:t.telemetry,finalAnswers:t.finalAnswers})});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));if("ok"===(await e.json()).status)return t.submitted=!0,FK(t),!0;throw new Error("Unexpected response from server")}catch(n){return console.error("Error submitting telemetry:",n),!1}}(e)}}render(){return(0,LK.jsxs)("div",{className:"single-input-holder",children:[(0,LK.jsxs)("div",{className:"controls",children:[(0,LK.jsxs)("h1",{className:"controls-title",children:["Visualizing LLM outputs",(0,LK.jsxs)("div",{className:"info-icon-container",children:[(0,LK.jsx)("div",{className:"info-icon",children:"?"}),(0,LK.jsxs)("div",{className:"info-tooltip",children:[(0,LK.jsx)("p",{children:"When an LLM returns a response, we're actually sampling from a probability distribution over many possible outputs. But we usually only see one of those samples\u2014the response that gets returned."}),(0,LK.jsxs)("p",{children:["If we're just using the model to get an answer or write some text, that's fine. But if we want to understand how the model behaves\u2014or build systems that depend on it\u2014we need more than just one response. ",(0,LK.jsx)("b",{children:"We need to understand the whole distribution of possible outputs."})]})]})]})]}),!NK.isUserStudy&&(0,LK.jsx)("div",{className:"controls-row",children:(0,LK.jsxs)("div",{className:"slider-container",children:[(0,LK.jsxs)("label",{children:["Samples: ",this.state.numGenerations]}),(0,LK.jsx)("div",{className:"tooltip",children:"How many different responses the LLM will generate for each prompt. More generations help visualize the diversity of possible responses."}),(0,LK.jsx)(_$,{sx:{width:150},children:(0,LK.jsx)(OQ,{size:"small",min:1,max:50,step:1,value:this.state.numGenerations,onChange:(e,t)=>this.handleSliderChange(t,"numGenerations"),onChangeCommitted:()=>NK.setNumGenerations(this.state.numGenerations),valueLabelDisplay:"auto","aria-label":"Number of Generations"})})]})})]}),NK.prompts.map(((e,t)=>(0,LK.jsx)(HQ,{promptIndex:t,prompt:e,onUpdateText:NK.updatePromptTextAt,onUpdateTemp:NK.updatePromptTempAt,onUpdateModelFamily:NK.updatePromptModelFamilyAt,onUpdateModel:NK.updatePromptModelAt,onDelete:NK.removePromptAt,onToggleDisabled:NK.togglePromptDisabled,isDisabled:NK.isPromptDisabled(t),totalPrompts:NK.prompts.length},"prompt-"+t))),(0,LK.jsx)("div",{className:"add-prompt-container",onClick:()=>{NK.addPrompt("")},style:{backgroundColor:NK.getPromptColor(NK.prompts.length),borderColor:NK.getPromptColor(NK.prompts.length)},children:(0,LK.jsxs)("div",{className:"controls-row",style:{width:"fit-content"},children:["Compare to another prompt",(0,LK.jsx)("div",{className:"input-header",children:(0,LK.jsx)("span",{className:"material-icons",children:"add"})})]})}),NK.loading?this.renderLoading():(0,LK.jsx)(qQ,{}),NK.isUserStudy&&this.renderSubmitButton()]})}renderSubmitButton(){return(0,LK.jsx)("button",{className:"submit-button",onClick:this.handleSubmitFinalOrder,children:"Submit"})}renderLoading(){return(0,LK.jsx)("span",{className:"loader"})}async componentDidMount(){NK.updatePromptTextAt(0,WQ)}}const YQ=ay(KQ);const JQ=function(){return(0,n.useEffect)((()=>{EK(),zK.logPageLoad()}),[]),(0,LK.jsx)(YQ,{})};window.__webpack_public_path__="/";r.createRoot(document.getElementById("root")).render((0,LK.jsx)(n.StrictMode,{children:(0,LK.jsx)(JQ,{})}))})()})();
//# sourceMappingURL=main.afa3d1b0.js.map